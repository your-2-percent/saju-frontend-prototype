function PS(t,i){for(var o=0;o<i.length;o++){const l=i[o];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Is(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rm={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function zS(){if(ly)return Kl;ly=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(l,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:l,key:m,ref:u!==void 0?u:null,props:d}}return Kl.Fragment=i,Kl.jsx=o,Kl.jsxs=o,Kl}var cy;function HS(){return cy||(cy=1,rm.exports=zS()),rm.exports}var g=HS();const $_="harim.theme",Qm="harim.settings.v1";function U_(){try{const t=localStorage.getItem($_);if(t==="dark"||t==="light")return t;const i=localStorage.getItem(Qm);if(i){const l=JSON.parse(i)?.theme;if(l==="dark"||l==="light")return l}return null}catch{return null}}function Jm(t){try{localStorage.setItem($_,t);const i=localStorage.getItem(Qm),o=i?JSON.parse(i):{};localStorage.setItem(Qm,JSON.stringify({...o,theme:t}))}catch{}}function G_(t){const i=document.documentElement;i.classList.toggle("dark",t==="dark"),i.style.setProperty("color-scheme",t)}(function(){try{const t=U_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");G_(t)}catch{}})();var im={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function IS(){if(uy)return Wt;uy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function P(M,H,W){this.props=M,this.context=H,this.refs=A,this.updater=W||T}P.prototype.isReactComponent={},P.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function I(){}I.prototype=P.prototype;function z(M,H,W){this.props=M,this.context=H,this.refs=A,this.updater=W||T}var D=z.prototype=new I;D.constructor=z,k(D,P.prototype),D.isPureReactComponent=!0;var O=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function J(M,H,W,et,ct,V){return W=V.ref,{$$typeof:t,type:M,key:H,ref:W!==void 0?W:null,props:V}}function Q(M,H){return J(M.type,H,void 0,void 0,void 0,M.props)}function rt(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function nt(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return H[W]})}var X=/\/+/g;function $(M,H){return typeof M=="object"&&M!==null&&M.key!=null?nt(""+M.key):H.toString(36)}function K(){}function mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(K,K):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function vt(M,H,W,et,ct){var V=typeof M;(V==="undefined"||V==="boolean")&&(M=null);var st=!1;if(M===null)st=!0;else switch(V){case"bigint":case"string":case"number":st=!0;break;case"object":switch(M.$$typeof){case t:case i:st=!0;break;case w:return st=M._init,vt(st(M._payload),H,W,et,ct)}}if(st)return ct=ct(M),st=et===""?"."+$(M,0):et,O(ct)?(W="",st!=null&&(W=st.replace(X,"$&/")+"/"),vt(ct,H,W,"",function(At){return At})):ct!=null&&(rt(ct)&&(ct=Q(ct,W+(ct.key==null||M&&M.key===ct.key?"":(""+ct.key).replace(X,"$&/")+"/")+st)),H.push(ct)),1;st=0;var Tt=et===""?".":et+":";if(O(M))for(var wt=0;wt<M.length;wt++)et=M[wt],V=Tt+$(et,wt),st+=vt(et,H,W,V,ct);else if(wt=S(M),typeof wt=="function")for(M=wt.call(M),wt=0;!(et=M.next()).done;)et=et.value,V=Tt+$(et,wt++),st+=vt(et,H,W,V,ct);else if(V==="object"){if(typeof M.then=="function")return vt(mt(M),H,W,et,ct);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return st}function q(M,H,W){if(M==null)return M;var et=[],ct=0;return vt(M,et,"","",function(V){return H.call(W,V,ct++)}),et}function F(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var at=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function U(){}return Wt.Children={map:q,forEach:function(M,H,W){q(M,function(){H.apply(this,arguments)},W)},count:function(M){var H=0;return q(M,function(){H++}),H},toArray:function(M){return q(M,function(H){return H})||[]},only:function(M){if(!rt(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Wt.Component=P,Wt.Fragment=o,Wt.Profiler=u,Wt.PureComponent=z,Wt.StrictMode=l,Wt.Suspense=y,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return B.H.useMemoCache(M)}},Wt.cache=function(M){return function(){return M.apply(null,arguments)}},Wt.cloneElement=function(M,H,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var et=k({},M.props),ct=M.key,V=void 0;if(H!=null)for(st in H.ref!==void 0&&(V=void 0),H.key!==void 0&&(ct=""+H.key),H)!Y.call(H,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&H.ref===void 0||(et[st]=H[st]);var st=arguments.length-2;if(st===1)et.children=W;else if(1<st){for(var Tt=Array(st),wt=0;wt<st;wt++)Tt[wt]=arguments[wt+2];et.children=Tt}return J(M.type,ct,void 0,void 0,V,et)},Wt.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},Wt.createElement=function(M,H,W){var et,ct={},V=null;if(H!=null)for(et in H.key!==void 0&&(V=""+H.key),H)Y.call(H,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ct[et]=H[et]);var st=arguments.length-2;if(st===1)ct.children=W;else if(1<st){for(var Tt=Array(st),wt=0;wt<st;wt++)Tt[wt]=arguments[wt+2];ct.children=Tt}if(M&&M.defaultProps)for(et in st=M.defaultProps,st)ct[et]===void 0&&(ct[et]=st[et]);return J(M,V,void 0,void 0,null,ct)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(M){return{$$typeof:p,render:M}},Wt.isValidElement=rt,Wt.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:F}},Wt.memo=function(M,H){return{$$typeof:v,type:M,compare:H===void 0?null:H}},Wt.startTransition=function(M){var H=B.T,W={};B.T=W;try{var et=M(),ct=B.S;ct!==null&&ct(W,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(U,at)}catch(V){at(V)}finally{B.T=H}},Wt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Wt.use=function(M){return B.H.use(M)},Wt.useActionState=function(M,H,W){return B.H.useActionState(M,H,W)},Wt.useCallback=function(M,H){return B.H.useCallback(M,H)},Wt.useContext=function(M){return B.H.useContext(M)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(M,H){return B.H.useDeferredValue(M,H)},Wt.useEffect=function(M,H,W){var et=B.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(M,H)},Wt.useId=function(){return B.H.useId()},Wt.useImperativeHandle=function(M,H,W){return B.H.useImperativeHandle(M,H,W)},Wt.useInsertionEffect=function(M,H){return B.H.useInsertionEffect(M,H)},Wt.useLayoutEffect=function(M,H){return B.H.useLayoutEffect(M,H)},Wt.useMemo=function(M,H){return B.H.useMemo(M,H)},Wt.useOptimistic=function(M,H){return B.H.useOptimistic(M,H)},Wt.useReducer=function(M,H,W){return B.H.useReducer(M,H,W)},Wt.useRef=function(M){return B.H.useRef(M)},Wt.useState=function(M){return B.H.useState(M)},Wt.useSyncExternalStore=function(M,H,W){return B.H.useSyncExternalStore(M,H,W)},Wt.useTransition=function(){return B.H.useTransition()},Wt.version="19.1.1",Wt}var dy;function Vd(){return dy||(dy=1,im.exports=IS()),im.exports}var R=Vd();const De=Is(R);var am={exports:{}},Fl={},om={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function $S(){return fy||(fy=1,(function(t){function i(q,F){var at=q.length;q.push(F);t:for(;0<at;){var U=at-1>>>1,M=q[U];if(0<u(M,F))q[U]=F,q[at]=M,at=U;else break t}}function o(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var F=q[0],at=q.pop();if(at!==F){q[0]=at;t:for(var U=0,M=q.length,H=M>>>1;U<H;){var W=2*(U+1)-1,et=q[W],ct=W+1,V=q[ct];if(0>u(et,at))ct<M&&0>u(V,et)?(q[U]=V,q[ct]=at,U=ct):(q[U]=et,q[W]=at,U=W);else if(ct<M&&0>u(V,at))q[U]=V,q[ct]=at,U=ct;else break t}}return F}function u(q,F){var at=q.sortIndex-F.sortIndex;return at!==0?at:q.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();t.unstable_now=function(){return m.now()-p}}var y=[],v=[],w=1,x=null,S=3,T=!1,k=!1,A=!1,P=!1,I=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var F=o(v);F!==null;){if(F.callback===null)l(v);else if(F.startTime<=q)l(v),F.sortIndex=F.expirationTime,i(y,F);else break;F=o(v)}}function B(q){if(A=!1,O(q),!k)if(o(y)!==null)k=!0,Y||(Y=!0,$());else{var F=o(v);F!==null&&vt(B,F.startTime-q)}}var Y=!1,J=-1,Q=5,rt=-1;function nt(){return P?!0:!(t.unstable_now()-rt<Q)}function X(){if(P=!1,Y){var q=t.unstable_now();rt=q;var F=!0;try{t:{k=!1,A&&(A=!1,z(J),J=-1),T=!0;var at=S;try{e:{for(O(q),x=o(y);x!==null&&!(x.expirationTime>q&&nt());){var U=x.callback;if(typeof U=="function"){x.callback=null,S=x.priorityLevel;var M=U(x.expirationTime<=q);if(q=t.unstable_now(),typeof M=="function"){x.callback=M,O(q),F=!0;break e}x===o(y)&&l(y),O(q)}else l(y);x=o(y)}if(x!==null)F=!0;else{var H=o(v);H!==null&&vt(B,H.startTime-q),F=!1}}break t}finally{x=null,S=at,T=!1}F=void 0}}finally{F?$():Y=!1}}}var $;if(typeof D=="function")$=function(){D(X)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,mt=K.port2;K.port1.onmessage=X,$=function(){mt.postMessage(null)}}else $=function(){I(X,0)};function vt(q,F){J=I(function(){q(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(q){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var at=S;S=F;try{return q()}finally{S=at}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(q,F){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var at=S;S=q;try{return F()}finally{S=at}},t.unstable_scheduleCallback=function(q,F,at){var U=t.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?U+at:U):at=U,q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=at+M,q={id:w++,callback:F,priorityLevel:q,startTime:at,expirationTime:M,sortIndex:-1},at>U?(q.sortIndex=at,i(v,q),o(y)===null&&q===o(v)&&(A?(z(J),J=-1):A=!0,vt(B,at-U))):(q.sortIndex=M,i(y,q),k||T||(k=!0,Y||(Y=!0,$()))),q},t.unstable_shouldYield=nt,t.unstable_wrapCallback=function(q){var F=S;return function(){var at=S;S=F;try{return q.apply(this,arguments)}finally{S=at}}}})(sm)),sm}var hy;function US(){return hy||(hy=1,om.exports=$S()),om.exports}var lm={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function GS(){if(my)return Nn;my=1;var t=Vd();function i(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,v,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:v,implementation:w}}var m=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Nn.createPortal=function(y,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return d(y,v,null,w)},Nn.flushSync=function(y){var v=m.T,w=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=v,l.p=w,l.d.f()}},Nn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},Nn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Nn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var w=v.as,x=p(w,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:T}):w==="script"&&l.d.X(y,{crossOrigin:x,integrity:S,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Nn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=p(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},Nn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,x=p(w,v.crossOrigin);l.d.L(y,w,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Nn.preloadModule=function(y,v){if(typeof y=="string")if(v){var w=p(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},Nn.requestFormReset=function(y){l.d.r(y)},Nn.unstable_batchedUpdates=function(y,v){return y(v)},Nn.useFormState=function(y,v,w){return m.H.useFormState(y,v,w)},Nn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Nn.version="19.1.1",Nn}var py;function Z_(){if(py)return lm.exports;py=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),lm.exports=GS(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function ZS(){if(gy)return Fl;gy=1;var t=US(),i=Vd(),o=Z_();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(l(188))}function y(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,c=n;;){var h=a.return;if(h===null)break;var b=h.alternate;if(b===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===b.child){for(b=h.child;b;){if(b===a)return p(h),e;if(b===c)return p(h),n;b=b.sibling}throw Error(l(188))}if(a.return!==c.return)a=h,c=b;else{for(var N=!1,C=h.child;C;){if(C===a){N=!0,a=h,c=b;break}if(C===c){N=!0,c=h,a=b;break}C=C.sibling}if(!N){for(C=b.child;C;){if(C===a){N=!0,a=b,c=h;break}if(C===c){N=!0,c=b,a=h;break}C=C.sibling}if(!N)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case Y:return"SuspenseList";case rt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case D:return(e.displayName||"Context")+".Provider";case z:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:mt(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return mt(e(n))}catch{}}return null}var vt=Array.isArray,q=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},U=[],M=-1;function H(e){return{current:e}}function W(e){0>M||(e.current=U[M],U[M]=null,M--)}function et(e,n){M++,U[M]=e.current,e.current=n}var ct=H(null),V=H(null),st=H(null),Tt=H(null);function wt(e,n){switch(et(st,n),et(V,e),et(ct,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Rb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Rb(n),e=Pb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ct),et(ct,e)}function At(){W(ct),W(V),W(st)}function jt(e){e.memoizedState!==null&&et(Tt,e);var n=ct.current,a=Pb(n,e.type);n!==a&&(et(V,e),et(ct,a))}function Ht(e){V.current===e&&(W(ct),W(V)),Tt.current===e&&(W(Tt),Gl._currentValue=at)}var zt=Object.prototype.hasOwnProperty,Qt=t.unstable_scheduleCallback,de=t.unstable_cancelCallback,qt=t.unstable_shouldYield,ue=t.unstable_requestPaint,ae=t.unstable_now,Mt=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,pt=t.unstable_UserBlockingPriority,St=t.unstable_NormalPriority,gt=t.unstable_LowPriority,$t=t.unstable_IdlePriority,Kt=t.log,Xt=t.unstable_setDisableYieldValue,Ct=null,oe=null;function $e(e){if(typeof Kt=="function"&&Xt(e),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(Ct,e)}catch{}}var Ae=Math.clz32?Math.clz32:si,Yn=Math.log,oi=Math.LN2;function si(e){return e>>>=0,e===0?32:31-(Yn(e)/oi|0)|0}var cr=256,ur=4194304;function vn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qn(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var h=0,b=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~b,c!==0?h=vn(c):(N&=C,N!==0?h=vn(N):a||(a=C&~e,a!==0&&(h=vn(a))))):(C=c&~b,C!==0?h=vn(C):N!==0?h=vn(N):a||(a=c&~e,a!==0&&(h=vn(a)))),h===0?0:n!==0&&n!==h&&(n&b)===0&&(b=h&-h,a=n&-n,b>=a||b===32&&(a&4194048)!==0)?n:h}function _n(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var e=cr;return cr<<=1,(cr&4194048)===0&&(cr=256),e}function Zi(){var e=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),e}function dr(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function xn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ac(e,n,a,c,h,b){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var C=e.entanglements,Z=e.expirationTimes,ut=e.hiddenUpdates;for(a=N&~a;0<a;){var bt=31-Ae(a),_t=1<<bt;C[bt]=0,Z[bt]=-1;var dt=ut[bt];if(dt!==null)for(ut[bt]=null,bt=0;bt<dt.length;bt++){var ft=dt[bt];ft!==null&&(ft.lane&=-536870913)}a&=~_t}c!==0&&Po(e,c,0),b!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=b&~(N&~n))}function Po(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Ae(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function Za(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-Ae(a),h=1<<c;h&n|e[c]&n&&(e[c]|=n),a&=~h}}function Ks(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jc(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:ny(e.type))}function Xs(e,n){var a=F.p;try{return F.p=e,n()}finally{F.p=a}}var Ur=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ur,Sn="__reactProps$"+Ur,Yi="__reactContainer$"+Ur,zn="__reactEvents$"+Ur,Bt="__reactListeners$"+Ur,kc="__reactHandles$"+Ur,Ws="__reactResources$"+Ur,qi="__reactMarker$"+Ur;function zo(e){delete e[tn],delete e[Sn],delete e[zn],delete e[Bt],delete e[kc]}function Gr(e){var n=e[tn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Yi]||a[tn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=$b(e);e!==null;){if(a=e[tn])return a;e=$b(e)}return n}e=a,a=e.parentNode}return null}function li(e){if(e=e[tn]||e[Yi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function fr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ci(e){var n=e[Ws];return n||(n=e[Ws]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ye(e){e[qi]=!0}var Oc=new Set,Cc={};function ui(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(Cc[e]=n,e=0;e<n.length;e++)Oc.add(n[e])}var hf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ya={},Lc={};function mf(e){return zt.call(Lc,e)?!0:zt.call(Ya,e)?!1:hf.test(e)?Lc[e]=!0:(Ya[e]=!0,!1)}function Ho(e,n,a){if(mf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Io(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function jr(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var qa,Vi;function fi(e){if(qa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qa=n&&n[1]||"",Vi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+e+Vi}var $o=!1;function hi(e,n){if(!e||$o)return"";$o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(ft){var dt=ft}Reflect.construct(e,[],_t)}else{try{_t.call()}catch(ft){dt=ft}e.call(_t.prototype)}}else{try{throw Error()}catch(ft){dt=ft}(_t=e())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(ft){if(ft&&dt&&typeof ft.stack=="string")return[ft.stack,dt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),N=b[0],C=b[1];if(N&&C){var Z=N.split(`
`),ut=C.split(`
`);for(h=c=0;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;for(;h<ut.length&&!ut[h].includes("DetermineComponentFrameRoot");)h++;if(c===Z.length||h===ut.length)for(c=Z.length-1,h=ut.length-1;1<=c&&0<=h&&Z[c]!==ut[h];)h--;for(;1<=c&&0<=h;c--,h--)if(Z[c]!==ut[h]){if(c!==1||h!==1)do if(c--,h--,0>h||Z[c]!==ut[h]){var bt=`
`+Z[c].replace(" at new "," at ");return e.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",e.displayName)),bt}while(1<=c&&0<=h);break}}}finally{$o=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?fi(a):""}function se(e){switch(e.tag){case 26:case 27:case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return hi(e.type,!1);case 11:return hi(e.type.render,!1);case 1:return hi(e.type,!0);case 31:return fi("Activity");default:return""}}function Se(e){try{var n="";do n+=se(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ki(e){var n=mi(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,b=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(N){c=""+N,b.call(this,N)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fi(e){e._valueTracker||(e._valueTracker=Ki(e))}function Ft(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=mi(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function we(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qs=/[\n"\\]/g;function un(e){return e.replace(Qs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wn(e,n,a,c,h,b,N,C){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+cn(n)):e.value!==""+cn(n)&&(e.value=""+cn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?Xi(e,N,cn(n)):a!=null?Xi(e,N,cn(a)):c!=null&&e.removeAttribute("value"),h==null&&b!=null&&(e.defaultChecked=!!b),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+cn(C):e.removeAttribute("name")}function Bc(e,n,a,c,h,b,N,C){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.type=b),n!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||n!=null))return;a=a!=null?""+cn(a):"",n=n!=null?""+cn(n):a,C||n===e.value||(e.value=n),e.defaultValue=n}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function Xi(e,n,a){n==="number"&&we(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Hn(e,n,a,c){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&c&&(e[a].defaultSelected=!0)}else{for(a=""+cn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Oe(e,n,a){if(n!=null&&(n=""+cn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+cn(a):""}function Zr(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(l(92));if(vt(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=cn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function hr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||Va.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Wi(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var h in n)c=n[h],n.hasOwnProperty(h)&&a[h]!==c&&Uo(e,h,c)}else for(var b in n)n.hasOwnProperty(b)&&Uo(e,b,n[b])}function Ka(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Js=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Go=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(e){return Go.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fa=null;function Ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,Yr=null;function Rc(e){var n=li(e);if(n&&(e=n.stateNode)){var a=e[Sn]||null;t:switch(e=n.stateNode,n.type){case"input":if(wn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var h=c[Sn]||null;if(!h)throw Error(l(90));wn(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&Ft(c)}break t;case"textarea":Oe(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Hn(e,!!a.multiple,n,!1)}}}var Yt=!1;function Vn(e,n,a){if(Yt)return e(n,a);Yt=!0;try{var c=e(n);return c}finally{if(Yt=!1,(pi!==null||Yr!==null)&&(ju(),pi&&(n=pi,e=Yr,Yr=pi=null,Rc(n),e)))for(n=0;n<e.length;n++)Rc(e[n])}}function fe(e,n){var a=e.stateNode;if(a===null)return null;var c=a[Sn]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(mr)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Xa=!1}var pr=null,kr=null,ta=null;function ea(){if(ta)return ta;var e,n=kr,a=n.length,c,h="value"in pr?pr.value:pr.textContent,b=h.length;for(e=0;e<a&&n[e]===h[e];e++);var N=a-e;for(c=1;c<=N&&n[a-c]===h[b-c];c++);return ta=h.slice(e,1<c?1-c:void 0)}function ze(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function tl(){return!1}function dn(e){function n(a,c,h,b,N){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(a=e[C],this[C]=a?a(b):b[C]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?gr:tl,this.isPropagationStopped=tl,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=dn(bi),yi=w({},bi,{view:0,detail:0}),pf=dn(yi),Zo,te,Qa,Tn=w({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(Zo=e.screenX-Qa.screenX,te=e.screenY-Qa.screenY):te=Zo=0,Qa=e),Zo)},movementY:function(e){return"movementY"in e?e.movementY:te}}),na=dn(Tn),Pc=w({},Tn,{dataTransfer:0}),gf=dn(Pc),el=w({},yi,{relatedTarget:0}),nl=dn(el),zc=w({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),bf=dn(zc),yf=w({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rl=dn(yf),vf=w({},bi,{data:0}),Kn=dn(vf),_f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ic(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qr[e])?!!n[e]:!1}function Yo(){return Ic}var il=w({},yi,{key:function(e){if(e.key){var n=_f[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ze(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(e){return e.type==="keypress"?ze(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ze(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xf=dn(il),$c=w({},Tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=dn($c),Sf=w({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),wf=dn(Sf),ol=w({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=dn(ol),Uc=w({},Tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gc=dn(Uc),qo=w({},bi,{newState:0,oldState:0}),vi=dn(qo),Ef=[9,13,27,32],_i=mr&&"CompositionEvent"in window,en=null;mr&&"documentMode"in document&&(en=document.documentMode);var Zc=mr&&"TextEvent"in window&&!en,sl=mr&&(!_i||en&&8<en&&11>=en),Yc=" ",Vo=!1;function Ko(e,n){switch(e){case"keyup":return Ef.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function Vc(e,n){switch(e){case"compositionend":return qc(n);case"keypress":return n.which!==32?null:(Vo=!0,Yc);case"textInput":return e=n.data,e===Yc&&Vo?null:e;default:return null}}function Nf(e,n){if(ra)return e==="compositionend"||!_i&&Ko(e,n)?(e=ea(),ta=kr=pr=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sl&&n.locale!=="ko"?null:n.data;default:return null}}var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fn[e.type]:n==="textarea"}function Kc(e,n,a,c){pi?Yr?Yr.push(c):Yr=[c]:pi=c,n=Ru(n,"onChange"),0<n.length&&(a=new Wa("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var Dn=null,Ja=null;function ia(e){kb(e,0)}function Fo(e){var n=fr(e);if(Ft(n))return e}function aa(e,n){if(e==="change")return n}var ll=!1;if(mr){var oa;if(mr){var cl="oninput"in document;if(!cl){var Or=document.createElement("div");Or.setAttribute("oninput","return;"),cl=typeof Or.oninput=="function"}oa=cl}else oa=!1;ll=oa&&(!document.documentMode||9<document.documentMode)}function to(){Dn&&(Dn.detachEvent("onpropertychange",Fc),Ja=Dn=null)}function Fc(e){if(e.propertyName==="value"&&Fo(Ja)){var n=[];Kc(n,Ja,e,Ji(e)),Vn(ia,n)}}function ul(e,n,a){e==="focusin"?(to(),Dn=n,Ja=a,Dn.attachEvent("onpropertychange",Fc)):e==="focusout"&&to()}function Mf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fo(Ja)}function Cr(e,n){if(e==="click")return Fo(n)}function Df(e,n){if(e==="input"||e==="change")return Fo(n)}function sa(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:sa;function jn(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!zt.call(n,h)||!An(e[h],n[h]))return!1}return!0}function eo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dl(e,n){var a=eo(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=eo(a)}}function Xo(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xo(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function no(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=we(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=we(e.document)}return n}function ro(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Wo=mr&&"documentMode"in document&&11>=document.documentMode,Xn=null,la=null,Si=null,Qo=!1;function Xc(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qo||Xn==null||Xn!==we(c)||(c=Xn,"selectionStart"in c&&ro(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Si&&jn(Si,c)||(Si=c,c=Ru(la,"onSelect"),0<c.length&&(n=new Wa("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=Xn)))}function br(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ca={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Jo={},Wc={};mr&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Vr(e){if(Jo[e])return Jo[e];if(!ca[e])return e;var n=ca[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wc)return Jo[e]=n[a];return e}var Qc=Vr("animationend"),Wn=Vr("animationiteration"),io=Vr("animationstart"),Af=Vr("transitionrun"),ts=Vr("transitionstart"),jf=Vr("transitioncancel"),fl=Vr("transitionend"),Jc=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wi.push("scrollEnd");function Qn(e,n){Jc.set(e,n),ui(n,[e])}var Ti=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var a=Ti.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Se(n)},Ti.set(e,n),n)}return{value:e,source:n,stack:Se(n)}}var On=[],ua=0,Jn=0;function ao(){for(var e=ua,n=Jn=ua=0;n<e;){var a=On[n];On[n++]=null;var c=On[n];On[n++]=null;var h=On[n];On[n++]=null;var b=On[n];if(On[n++]=null,c!==null&&h!==null){var N=c.pending;N===null?h.next=h:(h.next=N.next,N.next=h),c.pending=h}b!==0&&so(a,h,b)}}function oo(e,n,a,c){On[ua++]=e,On[ua++]=n,On[ua++]=a,On[ua++]=c,Jn|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Ei(e,n,a,c){return oo(e,n,a,c),Kr(e)}function da(e,n){return oo(e,null,null,n),Kr(e)}function so(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var h=!1,b=e.return;b!==null;)b.childLanes|=a,c=b.alternate,c!==null&&(c.childLanes|=a),b.tag===22&&(e=b.stateNode,e===null||e._visibility&1||(h=!0)),e=b,b=b.return;return e.tag===3?(b=e.stateNode,h&&n!==null&&(h=31-Ae(a),e=b.hiddenUpdates,c=e[h],c===null?e[h]=[n]:c.push(n),n.lane=a|536870912),b):null}function Kr(e){if(50<Bl)throw Bl=0,Mh=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ni={};function tu(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,a,c){return new tu(e,n,a,c)}function es(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yr(e,n){var a=e.alternate;return a===null?(a=Cn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hl(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function lo(e,n,a,c,h,b){var N=0;if(c=e,typeof e=="function")es(e)&&(N=1);else if(typeof e=="string")N=TS(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case rt:return e=Cn(31,a,n,h),e.elementType=rt,e.lanes=b,e;case k:return Fr(a.children,h,b,n);case A:N=8,h|=24;break;case P:return e=Cn(12,a,n,h|2),e.elementType=P,e.lanes=b,e;case B:return e=Cn(13,a,n,h),e.elementType=B,e.lanes=b,e;case Y:return e=Cn(19,a,n,h),e.elementType=Y,e.lanes=b,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case D:N=10;break t;case z:N=9;break t;case O:N=11;break t;case J:N=14;break t;case Q:N=16,c=null;break t}N=29,a=Error(l(130,e===null?"null":typeof e,"")),c=null}return n=Cn(N,a,n,h),n.elementType=e,n.type=c,n.lanes=b,n}function Fr(e,n,a,c){return e=Cn(7,e,c,n),e.lanes=a,e}function ml(e,n,a){return e=Cn(6,e,null,n),e.lanes=a,e}function ns(e,n,a){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mi=[],fa=0,r=null,s=0,f=[],_=0,E=null,j=1,G="";function ot(e,n){Mi[fa++]=s,Mi[fa++]=r,r=e,s=n}function ht(e,n,a){f[_++]=j,f[_++]=G,f[_++]=E,E=e;var c=j;e=G;var h=32-Ae(c)-1;c&=~(1<<h),a+=1;var b=32-Ae(n)+h;if(30<b){var N=h-h%5;b=(c&(1<<N)-1).toString(32),c>>=N,h-=N,j=1<<32-Ae(n)+h|a<<h|c,G=b+e}else j=1<<b|a<<h|c,G=e}function xt(e){e.return!==null&&(ot(e,1),ht(e,1,0))}function Dt(e){for(;e===r;)r=Mi[--fa],Mi[fa]=null,s=Mi[--fa],Mi[fa]=null;for(;e===E;)E=f[--_],f[_]=null,G=f[--_],f[_]=null,j=f[--_],f[_]=null}var kt=null,Lt=null,Zt=!1,Te=null,Ce=!1,nn=Error(l(519));function In(e){var n=Error(l(418,""));throw ma(kn(n,e)),nn}function eu(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[tn]=e,n[Sn]=c,a){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(a=0;a<Pl.length;a++)re(Pl[a],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),Bc(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Fi(n);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),Zr(n,c.value,c.defaultValue,c.children),Fi(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||Bb(n.textContent,a)?(c.popover!=null&&(re("beforetoggle",n),re("toggle",n)),c.onScroll!=null&&re("scroll",n),c.onScrollEnd!=null&&re("scrollend",n),c.onClick!=null&&(n.onclick=Pu),n=!0):n=!1,n||In(e)}function nu(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 13:Ce=!1;return;case 27:case 3:Ce=!0;return;default:kt=kt.return}}function co(e){if(e!==kt)return!1;if(!Zt)return nu(e),Zt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gh(e.type,e.memoizedProps)),a=!a),a&&Lt&&In(e),nu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Lt=Pr(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Lt=null}}else n===27?(n=Lt,Aa(e.type)?(e=Vh,Vh=null,Lt=e):Lt=n):Lt=kt?Pr(e.stateNode.nextSibling):null;return!0}function ha(){Lt=kt=null,Zt=!1}function ru(){var e=Te;return e!==null&&(Gn===null?Gn=e:Gn.push.apply(Gn,e),Te=null),e}function ma(e){Te===null?Te=[e]:Te.push(e)}var je=H(null),vr=null,Lr=null;function Xr(e,n,a){et(je,n._currentValue),n._currentValue=a}function Br(e){e._currentValue=je.current,W(je)}function uo(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function rs(e,n,a,c){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var b=h.dependencies;if(b!==null){var N=h.child;b=b.firstContext;t:for(;b!==null;){var C=b;b=h;for(var Z=0;Z<n.length;Z++)if(C.context===n[Z]){b.lanes|=a,C=b.alternate,C!==null&&(C.lanes|=a),uo(b.return,a,e),c||(N=null);break t}b=C.next}}else if(h.tag===18){if(N=h.return,N===null)throw Error(l(341));N.lanes|=a,b=N.alternate,b!==null&&(b.lanes|=a),uo(N,a,e),N=null}else N=h.child;if(N!==null)N.return=h;else for(N=h;N!==null;){if(N===e){N=null;break}if(h=N.sibling,h!==null){h.return=N.return,N=h;break}N=N.return}h=N}}function fo(e,n,a,c){e=null;for(var h=n,b=!1;h!==null;){if(!b){if((h.flags&524288)!==0)b=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var N=h.alternate;if(N===null)throw Error(l(387));if(N=N.memoizedProps,N!==null){var C=h.type;An(h.pendingProps.value,N.value)||(e!==null?e.push(C):e=[C])}}else if(h===Tt.current){if(N=h.alternate,N===null)throw Error(l(387));N.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}h=h.return}e!==null&&rs(n,e,a,c),n.flags|=262144}function iu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ho(e){vr=e,Lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function En(e){return x0(vr,e)}function au(e,n){return vr===null&&ho(e),x0(e,n)}function x0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Lr===null){if(e===null)throw Error(l(308));Lr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Lr=Lr.next=n;return a}var w2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},T2=t.unstable_scheduleCallback,E2=t.unstable_NormalPriority,Fe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new w2,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&T2(E2,function(){e.controller.abort()})}var gl=null,Of=0,is=0,as=null;function N2(e,n){if(gl===null){var a=gl=[];Of=0,is=Lh(),as={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Of++,n.then(S0,S0),n}function S0(){if(--Of===0&&gl!==null){as!==null&&(as.status="fulfilled");var e=gl;gl=null,is=0,as=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function M2(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(c.status="rejected",c.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),c}var w0=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&N2(e,n),w0!==null&&w0(e,n)};var mo=H(null);function Cf(){var e=mo.current;return e!==null?e:Ee.pooledCache}function ou(e,n){n===null?et(mo,mo.current):et(mo,n.pool)}function T0(){var e=Cf();return e===null?null:{parent:Fe._currentValue,pool:e}}var bl=Error(l(460)),E0=Error(l(474)),su=Error(l(542)),Lf={then:function(){}};function N0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lu(){}function M0(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(lu,lu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,A0(e),e;default:if(typeof n.status=="string")n.then(lu,lu);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=c}},function(c){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,A0(e),e}throw yl=n,bl}}var yl=null;function D0(){if(yl===null)throw Error(l(459));var e=yl;return yl=null,e}function A0(e){if(e===bl||e===su)throw Error(l(483))}var pa=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,n=Kr(e),so(e,null,a),n}return oo(e,c,n,a),Kr(e)}function vl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Za(e,a)}}function Pf(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?h=b=N:b=b.next=N,a=a.next}while(a!==null);b===null?h=b=n:b=b.next=n}else h=b=n;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var zf=!1;function _l(){if(zf){var e=as;if(e!==null)throw e}}function xl(e,n,a,c){zf=!1;var h=e.updateQueue;pa=!1;var b=h.firstBaseUpdate,N=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var Z=C,ut=Z.next;Z.next=null,N===null?b=ut:N.next=ut,N=Z;var bt=e.alternate;bt!==null&&(bt=bt.updateQueue,C=bt.lastBaseUpdate,C!==N&&(C===null?bt.firstBaseUpdate=ut:C.next=ut,bt.lastBaseUpdate=Z))}if(b!==null){var _t=h.baseState;N=0,bt=ut=Z=null,C=b;do{var dt=C.lane&-536870913,ft=dt!==C.lane;if(ft?(le&dt)===dt:(c&dt)===dt){dt!==0&&dt===is&&(zf=!0),bt!==null&&(bt=bt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Gt=e,It=C;dt=n;var _e=a;switch(It.tag){case 1:if(Gt=It.payload,typeof Gt=="function"){_t=Gt.call(_e,_t,dt);break t}_t=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=It.payload,dt=typeof Gt=="function"?Gt.call(_e,_t,dt):Gt,dt==null)break t;_t=w({},_t,dt);break t;case 2:pa=!0}}dt=C.callback,dt!==null&&(e.flags|=64,ft&&(e.flags|=8192),ft=h.callbacks,ft===null?h.callbacks=[dt]:ft.push(dt))}else ft={lane:dt,tag:C.tag,payload:C.payload,callback:C.callback,next:null},bt===null?(ut=bt=ft,Z=_t):bt=bt.next=ft,N|=dt;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ft=C,C=ft.next,ft.next=null,h.lastBaseUpdate=ft,h.shared.pending=null}}while(!0);bt===null&&(Z=_t),h.baseState=Z,h.firstBaseUpdate=ut,h.lastBaseUpdate=bt,b===null&&(h.shared.lanes=0),Ea|=N,e.lanes=N,e.memoizedState=_t}}function j0(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function k0(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)j0(a[e],n)}var os=H(null),cu=H(0);function O0(e,n){e=Li,et(cu,e),et(os,n),Li=e|n.baseLanes}function Hf(){et(cu,Li),et(os,os.current)}function If(){Li=cu.current,W(os),W(cu)}var ya=0,Jt=null,ye=null,qe=null,uu=!1,ss=!1,po=!1,du=0,Sl=0,ls=null,D2=0;function Ue(){throw Error(l(321))}function $f(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!An(e[a],n[a]))return!1;return!0}function Uf(e,n,a,c,h,b){return ya=b,Jt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?pg:gg,po=!1,b=a(c,h),po=!1,ss&&(b=L0(n,a,c,h)),C0(e),b}function C0(e){q.H=bu;var n=ye!==null&&ye.next!==null;if(ya=0,qe=ye=Jt=null,uu=!1,Sl=0,ls=null,n)throw Error(l(300));e===null||rn||(e=e.dependencies,e!==null&&iu(e)&&(rn=!0))}function L0(e,n,a,c){Jt=e;var h=0;do{if(ss&&(ls=null),Sl=0,ss=!1,25<=h)throw Error(l(301));if(h+=1,qe=ye=null,e.updateQueue!=null){var b=e.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=B2,b=n(a,c)}while(ss);return b}function A2(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?wl(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Jt.flags|=1024),n}function Gf(){var e=du!==0;return du=0,e}function Zf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Yf(e){if(uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}uu=!1}ya=0,qe=ye=Jt=null,ss=!1,Sl=du=0,ls=null}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Jt.memoizedState=qe=e:qe=qe.next=e,qe}function Ve(){if(ye===null){var e=Jt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=qe===null?Jt.memoizedState:qe.next;if(n!==null)qe=n,ye=e;else{if(e===null)throw Jt.alternate===null?Error(l(467)):Error(l(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},qe===null?Jt.memoizedState=qe=e:qe=qe.next=e}return qe}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var n=Sl;return Sl+=1,ls===null&&(ls=[]),e=M0(ls,e,n),n=Jt,(qe===null?n.memoizedState:qe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?pg:gg),e}function fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===D)return En(e)}throw Error(l(438,String(e)))}function Vf(e){var n=null,a=Jt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Jt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qf(),Jt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=nt;return n.index++,a}function Di(e,n){return typeof n=="function"?n(e):n}function hu(e){var n=Ve();return Kf(n,ye,e)}function Kf(e,n,a){var c=e.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var h=e.baseQueue,b=c.pending;if(b!==null){if(h!==null){var N=h.next;h.next=b.next,b.next=N}n.baseQueue=h=b,c.pending=null}if(b=e.baseState,h===null)e.memoizedState=b;else{n=h.next;var C=N=null,Z=null,ut=n,bt=!1;do{var _t=ut.lane&-536870913;if(_t!==ut.lane?(le&_t)===_t:(ya&_t)===_t){var dt=ut.revertLane;if(dt===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),_t===is&&(bt=!0);else if((ya&dt)===dt){ut=ut.next,dt===is&&(bt=!0);continue}else _t={lane:0,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},Z===null?(C=Z=_t,N=b):Z=Z.next=_t,Jt.lanes|=dt,Ea|=dt;_t=ut.action,po&&a(b,_t),b=ut.hasEagerState?ut.eagerState:a(b,_t)}else dt={lane:_t,revertLane:ut.revertLane,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},Z===null?(C=Z=dt,N=b):Z=Z.next=dt,Jt.lanes|=_t,Ea|=_t;ut=ut.next}while(ut!==null&&ut!==n);if(Z===null?N=b:Z.next=C,!An(b,e.memoizedState)&&(rn=!0,bt&&(a=as,a!==null)))throw a;e.memoizedState=b,e.baseState=N,e.baseQueue=Z,c.lastRenderedState=b}return h===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Ff(e){var n=Ve(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var c=a.dispatch,h=a.pending,b=n.memoizedState;if(h!==null){a.pending=null;var N=h=h.next;do b=e(b,N.action),N=N.next;while(N!==h);An(b,n.memoizedState)||(rn=!0),n.memoizedState=b,n.baseQueue===null&&(n.baseState=b),a.lastRenderedState=b}return[b,c]}function B0(e,n,a){var c=Jt,h=Ve(),b=Zt;if(b){if(a===void 0)throw Error(l(407));a=a()}else a=n();var N=!An((ye||h).memoizedState,a);N&&(h.memoizedState=a,rn=!0),h=h.queue;var C=z0.bind(null,c,h,e);if(Tl(2048,8,C,[e]),h.getSnapshot!==n||N||qe!==null&&qe.memoizedState.tag&1){if(c.flags|=2048,cs(9,mu(),P0.bind(null,c,h,a,n),null),Ee===null)throw Error(l(349));b||(ya&124)!==0||R0(c,n,a)}return a}function R0(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Jt.updateQueue,n===null?(n=qf(),Jt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function P0(e,n,a,c){n.value=a,n.getSnapshot=c,H0(n)&&I0(e)}function z0(e,n,a){return a(function(){H0(n)&&I0(e)})}function H0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!An(e,a)}catch{return!0}}function I0(e){var n=da(e,2);n!==null&&ir(n,e,2)}function Xf(e){var n=$n();if(typeof e=="function"){var a=e;if(e=a(),po){$e(!0);try{a()}finally{$e(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},n}function $0(e,n,a,c){return e.baseState=a,Kf(e,ye,typeof c=="function"?c:Di)}function j2(e,n,a,c,h){if(gu(e))throw Error(l(485));if(e=n.action,e!==null){var b={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};q.T!==null?a(!0):b.isTransition=!1,c(b),a=n.pending,a===null?(b.next=n.pending=b,U0(n,b)):(b.next=a.next,n.pending=a.next=b)}}function U0(e,n){var a=n.action,c=n.payload,h=e.state;if(n.isTransition){var b=q.T,N={};q.T=N;try{var C=a(h,c),Z=q.S;Z!==null&&Z(N,C),G0(e,n,C)}catch(ut){Wf(e,n,ut)}finally{q.T=b}}else try{b=a(h,c),G0(e,n,b)}catch(ut){Wf(e,n,ut)}}function G0(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Z0(e,n,c)},function(c){return Wf(e,n,c)}):Z0(e,n,a)}function Z0(e,n,a){n.status="fulfilled",n.value=a,Y0(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,U0(e,a)))}function Wf(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,Y0(n),n=n.next;while(n!==c)}e.action=null}function Y0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function q0(e,n){return n}function V0(e,n){if(Zt){var a=Ee.formState;if(a!==null){t:{var c=Jt;if(Zt){if(Lt){e:{for(var h=Lt,b=Ce;h.nodeType!==8;){if(!b){h=null;break e}if(h=Pr(h.nextSibling),h===null){h=null;break e}}b=h.data,h=b==="F!"||b==="F"?h:null}if(h){Lt=Pr(h.nextSibling),c=h.data==="F!";break t}}In(c)}c=!1}c&&(n=a[0])}}return a=$n(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:n},a.queue=c,a=fg.bind(null,Jt,c),c.dispatch=a,c=Xf(!1),b=nh.bind(null,Jt,!1,c.queue),c=$n(),h={state:n,dispatch:null,action:e,pending:null},c.queue=h,a=j2.bind(null,Jt,h,b,a),h.dispatch=a,c.memoizedState=e,[n,a,!1]}function K0(e){var n=Ve();return F0(n,ye,e)}function F0(e,n,a){if(n=Kf(e,n,q0)[0],e=hu(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=wl(n)}catch(N){throw N===bl?su:N}else c=n;n=Ve();var h=n.queue,b=h.dispatch;return a!==n.memoizedState&&(Jt.flags|=2048,cs(9,mu(),k2.bind(null,h,a),null)),[c,b,e]}function k2(e,n){e.action=n}function X0(e){var n=Ve(),a=ye;if(a!==null)return F0(n,a,e);Ve(),n=n.memoizedState,a=Ve();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function cs(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Jt.updateQueue,n===null&&(n=qf(),Jt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function mu(){return{destroy:void 0,resource:void 0}}function W0(){return Ve().memoizedState}function pu(e,n,a,c){var h=$n();c=c===void 0?null:c,Jt.flags|=e,h.memoizedState=cs(1|n,mu(),a,c)}function Tl(e,n,a,c){var h=Ve();c=c===void 0?null:c;var b=h.memoizedState.inst;ye!==null&&c!==null&&$f(c,ye.memoizedState.deps)?h.memoizedState=cs(n,b,a,c):(Jt.flags|=e,h.memoizedState=cs(1|n,b,a,c))}function Q0(e,n){pu(8390656,8,e,n)}function J0(e,n){Tl(2048,8,e,n)}function tg(e,n){return Tl(4,2,e,n)}function eg(e,n){return Tl(4,4,e,n)}function ng(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rg(e,n,a){a=a!=null?a.concat([e]):null,Tl(4,4,ng.bind(null,n,e),a)}function Qf(){}function ig(e,n){var a=Ve();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&$f(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function ag(e,n){var a=Ve();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&$f(n,c[1]))return c[0];if(c=e(),po){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[c,n],c}function Jf(e,n,a){return a===void 0||(ya&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=lb(),Jt.lanes|=e,Ea|=e,a)}function og(e,n,a,c){return An(a,n)?a:os.current!==null?(e=Jf(e,a,c),An(e,n)||(rn=!0),e):(ya&42)===0?(rn=!0,e.memoizedState=a):(e=lb(),Jt.lanes|=e,Ea|=e,n)}function sg(e,n,a,c,h){var b=F.p;F.p=b!==0&&8>b?b:8;var N=q.T,C={};q.T=C,nh(e,!1,n,a);try{var Z=h(),ut=q.S;if(ut!==null&&ut(C,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var bt=M2(Z,c);El(e,n,bt,rr(e))}else El(e,n,c,rr(e))}catch(_t){El(e,n,{then:function(){},status:"rejected",reason:_t},rr())}finally{F.p=b,q.T=N}}function O2(){}function th(e,n,a,c){if(e.tag!==5)throw Error(l(476));var h=lg(e).queue;sg(e,h,n,at,a===null?O2:function(){return cg(e),a(c)})}function lg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:at},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cg(e){var n=lg(e).next.queue;El(e,n,{},rr())}function eh(){return En(Gl)}function ug(){return Ve().memoizedState}function dg(){return Ve().memoizedState}function C2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=rr();e=ga(a);var c=ba(n,e,a);c!==null&&(ir(c,n,a),vl(c,n,a)),n={cache:kf()},e.payload=n;return}n=n.return}}function L2(e,n,a){var c=rr();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gu(e)?hg(n,a):(a=Ei(e,n,a,c),a!==null&&(ir(a,e,c),mg(a,n,c)))}function fg(e,n,a){var c=rr();El(e,n,a,c)}function El(e,n,a,c){var h={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gu(e))hg(n,h);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=n.lastRenderedReducer,b!==null))try{var N=n.lastRenderedState,C=b(N,a);if(h.hasEagerState=!0,h.eagerState=C,An(C,N))return oo(e,n,h,0),Ee===null&&ao(),!1}catch{}finally{}if(a=Ei(e,n,h,c),a!==null)return ir(a,e,c),mg(a,n,c),!0}return!1}function nh(e,n,a,c){if(c={lane:2,revertLane:Lh(),action:c,hasEagerState:!1,eagerState:null,next:null},gu(e)){if(n)throw Error(l(479))}else n=Ei(e,a,c,2),n!==null&&ir(n,e,2)}function gu(e){var n=e.alternate;return e===Jt||n!==null&&n===Jt}function hg(e,n){ss=uu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function mg(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Za(e,a)}}var bu={readContext:En,use:fu,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue},pg={readContext:En,use:fu,useCallback:function(e,n){return $n().memoizedState=[e,n===void 0?null:n],e},useContext:En,useEffect:Q0,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,pu(4194308,4,ng.bind(null,n,e),a)},useLayoutEffect:function(e,n){return pu(4194308,4,e,n)},useInsertionEffect:function(e,n){pu(4,2,e,n)},useMemo:function(e,n){var a=$n();n=n===void 0?null:n;var c=e();if(po){$e(!0);try{e()}finally{$e(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=$n();if(a!==void 0){var h=a(n);if(po){$e(!0);try{a(n)}finally{$e(!1)}}}else h=n;return c.memoizedState=c.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},c.queue=e,e=e.dispatch=L2.bind(null,Jt,e),[c.memoizedState,e]},useRef:function(e){var n=$n();return e={current:e},n.memoizedState=e},useState:function(e){e=Xf(e);var n=e.queue,a=fg.bind(null,Jt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(e,n){var a=$n();return Jf(a,e,n)},useTransition:function(){var e=Xf(!1);return e=sg.bind(null,Jt,e.queue,!0,!1),$n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Jt,h=$n();if(Zt){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),Ee===null)throw Error(l(349));(le&124)!==0||R0(c,n,a)}h.memoizedState=a;var b={value:a,getSnapshot:n};return h.queue=b,Q0(z0.bind(null,c,b,e),[e]),c.flags|=2048,cs(9,mu(),P0.bind(null,c,b,a,n),null),a},useId:function(){var e=$n(),n=Ee.identifierPrefix;if(Zt){var a=G,c=j;a=(c&~(1<<32-Ae(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=du++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=D2++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:eh,useFormState:V0,useActionState:V0,useOptimistic:function(e){var n=$n();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=nh.bind(null,Jt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Vf,useCacheRefresh:function(){return $n().memoizedState=C2.bind(null,Jt)}},gg={readContext:En,use:fu,useCallback:ig,useContext:En,useEffect:J0,useImperativeHandle:rg,useInsertionEffect:tg,useLayoutEffect:eg,useMemo:ag,useReducer:hu,useRef:W0,useState:function(){return hu(Di)},useDebugValue:Qf,useDeferredValue:function(e,n){var a=Ve();return og(a,ye.memoizedState,e,n)},useTransition:function(){var e=hu(Di)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:B0,useId:ug,useHostTransitionStatus:eh,useFormState:K0,useActionState:K0,useOptimistic:function(e,n){var a=Ve();return $0(a,ye,e,n)},useMemoCache:Vf,useCacheRefresh:dg},B2={readContext:En,use:fu,useCallback:ig,useContext:En,useEffect:J0,useImperativeHandle:rg,useInsertionEffect:tg,useLayoutEffect:eg,useMemo:ag,useReducer:Ff,useRef:W0,useState:function(){return Ff(Di)},useDebugValue:Qf,useDeferredValue:function(e,n){var a=Ve();return ye===null?Jf(a,e,n):og(a,ye.memoizedState,e,n)},useTransition:function(){var e=Ff(Di)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:B0,useId:ug,useHostTransitionStatus:eh,useFormState:X0,useActionState:X0,useOptimistic:function(e,n){var a=Ve();return ye!==null?$0(a,ye,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:dg},us=null,Nl=0;function yu(e){var n=Nl;return Nl+=1,us===null&&(us=[]),M0(us,e,n)}function Ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vu(e,n){throw n.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function bg(e){var n=e._init;return n(e._payload)}function yg(e){function n(it,tt){if(e){var lt=it.deletions;lt===null?(it.deletions=[tt],it.flags|=16):lt.push(tt)}}function a(it,tt){if(!e)return null;for(;tt!==null;)n(it,tt),tt=tt.sibling;return null}function c(it){for(var tt=new Map;it!==null;)it.key!==null?tt.set(it.key,it):tt.set(it.index,it),it=it.sibling;return tt}function h(it,tt){return it=yr(it,tt),it.index=0,it.sibling=null,it}function b(it,tt,lt){return it.index=lt,e?(lt=it.alternate,lt!==null?(lt=lt.index,lt<tt?(it.flags|=67108866,tt):lt):(it.flags|=67108866,tt)):(it.flags|=1048576,tt)}function N(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function C(it,tt,lt,yt){return tt===null||tt.tag!==6?(tt=ml(lt,it.mode,yt),tt.return=it,tt):(tt=h(tt,lt),tt.return=it,tt)}function Z(it,tt,lt,yt){var Ot=lt.type;return Ot===k?bt(it,tt,lt.props.children,yt,lt.key):tt!==null&&(tt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Q&&bg(Ot)===tt.type)?(tt=h(tt,lt.props),Ml(tt,lt),tt.return=it,tt):(tt=lo(lt.type,lt.key,lt.props,null,it.mode,yt),Ml(tt,lt),tt.return=it,tt)}function ut(it,tt,lt,yt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==lt.containerInfo||tt.stateNode.implementation!==lt.implementation?(tt=ns(lt,it.mode,yt),tt.return=it,tt):(tt=h(tt,lt.children||[]),tt.return=it,tt)}function bt(it,tt,lt,yt,Ot){return tt===null||tt.tag!==7?(tt=Fr(lt,it.mode,yt,Ot),tt.return=it,tt):(tt=h(tt,lt),tt.return=it,tt)}function _t(it,tt,lt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=ml(""+tt,it.mode,lt),tt.return=it,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case S:return lt=lo(tt.type,tt.key,tt.props,null,it.mode,lt),Ml(lt,tt),lt.return=it,lt;case T:return tt=ns(tt,it.mode,lt),tt.return=it,tt;case Q:var yt=tt._init;return tt=yt(tt._payload),_t(it,tt,lt)}if(vt(tt)||$(tt))return tt=Fr(tt,it.mode,lt,null),tt.return=it,tt;if(typeof tt.then=="function")return _t(it,yu(tt),lt);if(tt.$$typeof===D)return _t(it,au(it,tt),lt);vu(it,tt)}return null}function dt(it,tt,lt,yt){var Ot=tt!==null?tt.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ot!==null?null:C(it,tt,""+lt,yt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case S:return lt.key===Ot?Z(it,tt,lt,yt):null;case T:return lt.key===Ot?ut(it,tt,lt,yt):null;case Q:return Ot=lt._init,lt=Ot(lt._payload),dt(it,tt,lt,yt)}if(vt(lt)||$(lt))return Ot!==null?null:bt(it,tt,lt,yt,null);if(typeof lt.then=="function")return dt(it,tt,yu(lt),yt);if(lt.$$typeof===D)return dt(it,tt,au(it,lt),yt);vu(it,lt)}return null}function ft(it,tt,lt,yt,Ot){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return it=it.get(lt)||null,C(tt,it,""+yt,Ot);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case S:return it=it.get(yt.key===null?lt:yt.key)||null,Z(tt,it,yt,Ot);case T:return it=it.get(yt.key===null?lt:yt.key)||null,ut(tt,it,yt,Ot);case Q:var ee=yt._init;return yt=ee(yt._payload),ft(it,tt,lt,yt,Ot)}if(vt(yt)||$(yt))return it=it.get(lt)||null,bt(tt,it,yt,Ot,null);if(typeof yt.then=="function")return ft(it,tt,lt,yu(yt),Ot);if(yt.$$typeof===D)return ft(it,tt,lt,au(tt,yt),Ot);vu(tt,yt)}return null}function Gt(it,tt,lt,yt){for(var Ot=null,ee=null,Rt=tt,Ut=tt=0,on=null;Rt!==null&&Ut<lt.length;Ut++){Rt.index>Ut?(on=Rt,Rt=null):on=Rt.sibling;var he=dt(it,Rt,lt[Ut],yt);if(he===null){Rt===null&&(Rt=on);break}e&&Rt&&he.alternate===null&&n(it,Rt),tt=b(he,tt,Ut),ee===null?Ot=he:ee.sibling=he,ee=he,Rt=on}if(Ut===lt.length)return a(it,Rt),Zt&&ot(it,Ut),Ot;if(Rt===null){for(;Ut<lt.length;Ut++)Rt=_t(it,lt[Ut],yt),Rt!==null&&(tt=b(Rt,tt,Ut),ee===null?Ot=Rt:ee.sibling=Rt,ee=Rt);return Zt&&ot(it,Ut),Ot}for(Rt=c(Rt);Ut<lt.length;Ut++)on=ft(Rt,it,Ut,lt[Ut],yt),on!==null&&(e&&on.alternate!==null&&Rt.delete(on.key===null?Ut:on.key),tt=b(on,tt,Ut),ee===null?Ot=on:ee.sibling=on,ee=on);return e&&Rt.forEach(function(La){return n(it,La)}),Zt&&ot(it,Ut),Ot}function It(it,tt,lt,yt){if(lt==null)throw Error(l(151));for(var Ot=null,ee=null,Rt=tt,Ut=tt=0,on=null,he=lt.next();Rt!==null&&!he.done;Ut++,he=lt.next()){Rt.index>Ut?(on=Rt,Rt=null):on=Rt.sibling;var La=dt(it,Rt,he.value,yt);if(La===null){Rt===null&&(Rt=on);break}e&&Rt&&La.alternate===null&&n(it,Rt),tt=b(La,tt,Ut),ee===null?Ot=La:ee.sibling=La,ee=La,Rt=on}if(he.done)return a(it,Rt),Zt&&ot(it,Ut),Ot;if(Rt===null){for(;!he.done;Ut++,he=lt.next())he=_t(it,he.value,yt),he!==null&&(tt=b(he,tt,Ut),ee===null?Ot=he:ee.sibling=he,ee=he);return Zt&&ot(it,Ut),Ot}for(Rt=c(Rt);!he.done;Ut++,he=lt.next())he=ft(Rt,it,Ut,he.value,yt),he!==null&&(e&&he.alternate!==null&&Rt.delete(he.key===null?Ut:he.key),tt=b(he,tt,Ut),ee===null?Ot=he:ee.sibling=he,ee=he);return e&&Rt.forEach(function(RS){return n(it,RS)}),Zt&&ot(it,Ut),Ot}function _e(it,tt,lt,yt){if(typeof lt=="object"&&lt!==null&&lt.type===k&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case S:t:{for(var Ot=lt.key;tt!==null;){if(tt.key===Ot){if(Ot=lt.type,Ot===k){if(tt.tag===7){a(it,tt.sibling),yt=h(tt,lt.props.children),yt.return=it,it=yt;break t}}else if(tt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Q&&bg(Ot)===tt.type){a(it,tt.sibling),yt=h(tt,lt.props),Ml(yt,lt),yt.return=it,it=yt;break t}a(it,tt);break}else n(it,tt);tt=tt.sibling}lt.type===k?(yt=Fr(lt.props.children,it.mode,yt,lt.key),yt.return=it,it=yt):(yt=lo(lt.type,lt.key,lt.props,null,it.mode,yt),Ml(yt,lt),yt.return=it,it=yt)}return N(it);case T:t:{for(Ot=lt.key;tt!==null;){if(tt.key===Ot)if(tt.tag===4&&tt.stateNode.containerInfo===lt.containerInfo&&tt.stateNode.implementation===lt.implementation){a(it,tt.sibling),yt=h(tt,lt.children||[]),yt.return=it,it=yt;break t}else{a(it,tt);break}else n(it,tt);tt=tt.sibling}yt=ns(lt,it.mode,yt),yt.return=it,it=yt}return N(it);case Q:return Ot=lt._init,lt=Ot(lt._payload),_e(it,tt,lt,yt)}if(vt(lt))return Gt(it,tt,lt,yt);if($(lt)){if(Ot=$(lt),typeof Ot!="function")throw Error(l(150));return lt=Ot.call(lt),It(it,tt,lt,yt)}if(typeof lt.then=="function")return _e(it,tt,yu(lt),yt);if(lt.$$typeof===D)return _e(it,tt,au(it,lt),yt);vu(it,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,tt!==null&&tt.tag===6?(a(it,tt.sibling),yt=h(tt,lt),yt.return=it,it=yt):(a(it,tt),yt=ml(lt,it.mode,yt),yt.return=it,it=yt),N(it)):a(it,tt)}return function(it,tt,lt,yt){try{Nl=0;var Ot=_e(it,tt,lt,yt);return us=null,Ot}catch(Rt){if(Rt===bl||Rt===su)throw Rt;var ee=Cn(29,Rt,null,it.mode);return ee.lanes=yt,ee.return=it,ee}finally{}}}var ds=yg(!0),vg=yg(!1),_r=H(null),Wr=null;function va(e){var n=e.alternate;et(Xe,Xe.current&1),et(_r,e),Wr===null&&(n===null||os.current!==null||n.memoizedState!==null)&&(Wr=e)}function _g(e){if(e.tag===22){if(et(Xe,Xe.current),et(_r,e),Wr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Wr=e)}}else _a()}function _a(){et(Xe,Xe.current),et(_r,_r.current)}function Ai(e){W(_r),Wr===e&&(Wr=null),W(Xe)}var Xe=H(0);function _u(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rh(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ih={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=rr(),h=ga(c);h.payload=n,a!=null&&(h.callback=a),n=ba(e,h,c),n!==null&&(ir(n,e,c),vl(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=rr(),h=ga(c);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ba(e,h,c),n!==null&&(ir(n,e,c),vl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=rr(),c=ga(a);c.tag=2,n!=null&&(c.callback=n),n=ba(e,c,a),n!==null&&(ir(n,e,a),vl(n,e,a))}};function xg(e,n,a,c,h,b,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,b,N):n.prototype&&n.prototype.isPureReactComponent?!jn(a,c)||!jn(h,b):!0}function Sg(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&ih.enqueueReplaceState(n,n.state,null)}function go(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wg(e){xu(e)}function Tg(e){console.error(e)}function Eg(e){xu(e)}function Su(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Ng(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ah(e,n,a){return a=ga(a),a.tag=3,a.payload={element:null},a.callback=function(){Su(e,n)},a}function Mg(e){return e=ga(e),e.tag=3,e}function Dg(e,n,a,c){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var b=c.value;e.payload=function(){return h(b)},e.callback=function(){Ng(n,a,c)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Ng(n,a,c),typeof h!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function R2(e,n,a,c,h){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&fo(n,a,h,!0),a=_r.current,a!==null){switch(a.tag){case 13:return Wr===null?Ah():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=h,c===Lf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),kh(e,c,h)),!1;case 22:return a.flags|=65536,c===Lf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),kh(e,c,h)),!1}throw Error(l(435,a.tag))}return kh(e,c,h),Ah(),!1}if(Zt)return n=_r.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,c!==nn&&(e=Error(l(422),{cause:c}),ma(kn(e,a)))):(c!==nn&&(n=Error(l(423),{cause:c}),ma(kn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,c=kn(c,a),h=ah(e.stateNode,c,h),Pf(e,h),He!==4&&(He=2)),!1;var b=Error(l(520),{cause:c});if(b=kn(b,a),Ll===null?Ll=[b]:Ll.push(b),He!==4&&(He=2),n===null)return!0;c=kn(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ah(a.stateNode,c,e),Pf(a,e),!1;case 1:if(n=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Na===null||!Na.has(b))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Mg(h),Dg(h,e,a,c),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var Ag=Error(l(461)),rn=!1;function fn(e,n,a,c){n.child=e===null?vg(n,null,a,c):ds(n,e.child,a,c)}function jg(e,n,a,c,h){a=a.render;var b=n.ref;if("ref"in c){var N={};for(var C in c)C!=="ref"&&(N[C]=c[C])}else N=c;return ho(n),c=Uf(e,n,a,N,b,h),C=Gf(),e!==null&&!rn?(Zf(e,n,h),ji(e,n,h)):(Zt&&C&&xt(n),n.flags|=1,fn(e,n,c,h),n.child)}function kg(e,n,a,c,h){if(e===null){var b=a.type;return typeof b=="function"&&!es(b)&&b.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=b,Og(e,n,b,c,h)):(e=lo(a.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(b=e.child,!hh(e,h)){var N=b.memoizedProps;if(a=a.compare,a=a!==null?a:jn,a(N,c)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=yr(b,c),e.ref=n.ref,e.return=n,n.child=e}function Og(e,n,a,c,h){if(e!==null){var b=e.memoizedProps;if(jn(b,c)&&e.ref===n.ref)if(rn=!1,n.pendingProps=c=b,hh(e,h))(e.flags&131072)!==0&&(rn=!0);else return n.lanes=e.lanes,ji(e,n,h)}return oh(e,n,a,c,h)}function Cg(e,n,a){var c=n.pendingProps,h=c.children,b=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=b!==null?b.baseLanes|a:a,e!==null){for(h=n.child=e.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;n.childLanes=b&~c}else n.childLanes=0,n.child=null;return Lg(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(n,b!==null?b.cachePool:null),b!==null?O0(n,b):Hf(),_g(n);else return n.lanes=n.childLanes=536870912,Lg(e,n,b!==null?b.baseLanes|a:a,a)}else b!==null?(ou(n,b.cachePool),O0(n,b),_a(),n.memoizedState=null):(e!==null&&ou(n,null),Hf(),_a());return fn(e,n,h,a),n.child}function Lg(e,n,a,c){var h=Cf();return h=h===null?null:{parent:Fe._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&ou(n,null),Hf(),_g(n),e!==null&&fo(e,n,c,!0),null}function wu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function oh(e,n,a,c,h){return ho(n),a=Uf(e,n,a,c,void 0,h),c=Gf(),e!==null&&!rn?(Zf(e,n,h),ji(e,n,h)):(Zt&&c&&xt(n),n.flags|=1,fn(e,n,a,h),n.child)}function Bg(e,n,a,c,h,b){return ho(n),n.updateQueue=null,a=L0(n,c,a,h),C0(e),c=Gf(),e!==null&&!rn?(Zf(e,n,b),ji(e,n,b)):(Zt&&c&&xt(n),n.flags|=1,fn(e,n,a,b),n.child)}function Rg(e,n,a,c,h){if(ho(n),n.stateNode===null){var b=Ni,N=a.contextType;typeof N=="object"&&N!==null&&(b=En(N)),b=new a(c,b),n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ih,n.stateNode=b,b._reactInternals=n,b=n.stateNode,b.props=c,b.state=n.memoizedState,b.refs={},Bf(n),N=a.contextType,b.context=typeof N=="object"&&N!==null?En(N):Ni,b.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(rh(n,a,N,c),b.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&ih.enqueueReplaceState(b,b.state,null),xl(n,c,b,h),_l(),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){b=n.stateNode;var C=n.memoizedProps,Z=go(a,C);b.props=Z;var ut=b.context,bt=a.contextType;N=Ni,typeof bt=="object"&&bt!==null&&(N=En(bt));var _t=a.getDerivedStateFromProps;bt=typeof _t=="function"||typeof b.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,bt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C||ut!==N)&&Sg(n,b,c,N),pa=!1;var dt=n.memoizedState;b.state=dt,xl(n,c,b,h),_l(),ut=n.memoizedState,C||dt!==ut||pa?(typeof _t=="function"&&(rh(n,a,_t,c),ut=n.memoizedState),(Z=pa||xg(n,a,Z,c,dt,ut,N))?(bt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ut),b.props=c,b.state=ut,b.context=N,c=Z):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{b=n.stateNode,Rf(e,n),N=n.memoizedProps,bt=go(a,N),b.props=bt,_t=n.pendingProps,dt=b.context,ut=a.contextType,Z=Ni,typeof ut=="object"&&ut!==null&&(Z=En(ut)),C=a.getDerivedStateFromProps,(ut=typeof C=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==_t||dt!==Z)&&Sg(n,b,c,Z),pa=!1,dt=n.memoizedState,b.state=dt,xl(n,c,b,h),_l();var ft=n.memoizedState;N!==_t||dt!==ft||pa||e!==null&&e.dependencies!==null&&iu(e.dependencies)?(typeof C=="function"&&(rh(n,a,C,c),ft=n.memoizedState),(bt=pa||xg(n,a,bt,c,dt,ft,Z)||e!==null&&e.dependencies!==null&&iu(e.dependencies))?(ut||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ft,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ft,Z)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ft),b.props=c,b.state=ft,b.context=Z,c=bt):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=1024),c=!1)}return b=c,wu(e,n),c=(n.flags&128)!==0,b||c?(b=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:b.render(),n.flags|=1,e!==null&&c?(n.child=ds(n,e.child,null,h),n.child=ds(n,null,a,h)):fn(e,n,a,h),n.memoizedState=b.state,e=n.child):e=ji(e,n,h),e}function Pg(e,n,a,c){return ha(),n.flags|=256,fn(e,n,a,c),n.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lh(e){return{baseLanes:e,cachePool:T0()}}function ch(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=xr),e}function zg(e,n,a){var c=n.pendingProps,h=!1,b=(n.flags&128)!==0,N;if((N=b)||(N=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),N&&(h=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Zt){if(h?va(n):_a(),Zt){var C=Lt,Z;if(Z=C){t:{for(Z=C,C=Ce;Z.nodeType!==8;){if(!C){C=null;break t}if(Z=Pr(Z.nextSibling),Z===null){C=null;break t}}C=Z}C!==null?(n.memoizedState={dehydrated:C,treeContext:E!==null?{id:j,overflow:G}:null,retryLane:536870912,hydrationErrors:null},Z=Cn(18,null,null,0),Z.stateNode=C,Z.return=n,n.child=Z,kt=n,Lt=null,Z=!0):Z=!1}Z||In(n)}if(C=n.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return qh(C)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return C=c.children,c=c.fallback,h?(_a(),h=n.mode,C=Tu({mode:"hidden",children:C},h),c=Fr(c,h,a,null),C.return=n,c.return=n,C.sibling=c,n.child=C,h=n.child,h.memoizedState=lh(a),h.childLanes=ch(e,N,a),n.memoizedState=sh,c):(va(n),uh(n,C))}if(Z=e.memoizedState,Z!==null&&(C=Z.dehydrated,C!==null)){if(b)n.flags&256?(va(n),n.flags&=-257,n=dh(e,n,a)):n.memoizedState!==null?(_a(),n.child=e.child,n.flags|=128,n=null):(_a(),h=c.fallback,C=n.mode,c=Tu({mode:"visible",children:c.children},C),h=Fr(h,C,a,null),h.flags|=2,c.return=n,h.return=n,c.sibling=h,n.child=c,ds(n,e.child,null,a),c=n.child,c.memoizedState=lh(a),c.childLanes=ch(e,N,a),n.memoizedState=sh,n=h);else if(va(n),qh(C)){if(N=C.nextSibling&&C.nextSibling.dataset,N)var ut=N.dgst;N=ut,c=Error(l(419)),c.stack="",c.digest=N,ma({value:c,source:null,stack:null}),n=dh(e,n,a)}else if(rn||fo(e,n,a,!1),N=(a&e.childLanes)!==0,rn||N){if(N=Ee,N!==null&&(c=a&-a,c=(c&42)!==0?1:Ks(c),c=(c&(N.suspendedLanes|a))!==0?0:c,c!==0&&c!==Z.retryLane))throw Z.retryLane=c,da(e,c),ir(N,e,c),Ag;C.data==="$?"||Ah(),n=dh(e,n,a)}else C.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=Z.treeContext,Lt=Pr(C.nextSibling),kt=n,Zt=!0,Te=null,Ce=!1,e!==null&&(f[_++]=j,f[_++]=G,f[_++]=E,j=e.id,G=e.overflow,E=n),n=uh(n,c.children),n.flags|=4096);return n}return h?(_a(),h=c.fallback,C=n.mode,Z=e.child,ut=Z.sibling,c=yr(Z,{mode:"hidden",children:c.children}),c.subtreeFlags=Z.subtreeFlags&65011712,ut!==null?h=yr(ut,h):(h=Fr(h,C,a,null),h.flags|=2),h.return=n,c.return=n,c.sibling=h,n.child=c,c=h,h=n.child,C=e.child.memoizedState,C===null?C=lh(a):(Z=C.cachePool,Z!==null?(ut=Fe._currentValue,Z=Z.parent!==ut?{parent:ut,pool:ut}:Z):Z=T0(),C={baseLanes:C.baseLanes|a,cachePool:Z}),h.memoizedState=C,h.childLanes=ch(e,N,a),n.memoizedState=sh,c):(va(n),a=e.child,e=a.sibling,a=yr(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=a,n.memoizedState=null,a)}function uh(e,n){return n=Tu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Tu(e,n){return e=Cn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function dh(e,n,a){return ds(n,e.child,null,a),e=uh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hg(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),uo(e.return,n,a)}function fh(e,n,a,c,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=h)}function Ig(e,n,a){var c=n.pendingProps,h=c.revealOrder,b=c.tail;if(fn(e,n,c.children,a),c=Xe.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hg(e,a,n);else if(e.tag===19)Hg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(et(Xe,c),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&_u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),fh(n,!1,h,a,b);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&_u(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}fh(n,!0,a,null,b);break;case"together":fh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ji(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ea|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(fo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=yr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=yr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function hh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&iu(e)))}function P2(e,n,a){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),Xr(n,Fe,e.memoizedState.cache),ha();break;case 27:case 5:jt(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:Xr(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(va(n),n.flags|=128,null):(a&n.child.childLanes)!==0?zg(e,n,a):(va(n),e=ji(e,n,a),e!==null?e.sibling:null);va(n);break;case 19:var h=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(fo(e,n,a,!1),c=(a&n.childLanes)!==0),h){if(c)return Ig(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Xe,Xe.current),c)break;return null;case 22:case 23:return n.lanes=0,Cg(e,n,a);case 24:Xr(n,Fe,e.memoizedState.cache)}return ji(e,n,a)}function $g(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)rn=!0;else{if(!hh(e,a)&&(n.flags&128)===0)return rn=!1,P2(e,n,a);rn=(e.flags&131072)!==0}else rn=!1,Zt&&(n.flags&1048576)!==0&&ht(n,s,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,h=c._init;if(c=h(c._payload),n.type=c,typeof c=="function")es(c)?(e=go(c,e),n.tag=1,n=Rg(null,n,c,e,a)):(n.tag=0,n=oh(null,n,c,e,a));else{if(c!=null){if(h=c.$$typeof,h===O){n.tag=11,n=jg(null,n,c,e,a);break t}else if(h===J){n.tag=14,n=kg(null,n,c,e,a);break t}}throw n=mt(c)||c,Error(l(306,n,""))}}return n;case 0:return oh(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,h=go(c,n.pendingProps),Rg(e,n,c,h,a);case 3:t:{if(wt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));c=n.pendingProps;var b=n.memoizedState;h=b.element,Rf(e,n),xl(n,c,null,a);var N=n.memoizedState;if(c=N.cache,Xr(n,Fe,c),c!==b.cache&&rs(n,[Fe],a,!0),_l(),c=N.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=b,n.memoizedState=b,n.flags&256){n=Pg(e,n,c,a);break t}else if(c!==h){h=kn(Error(l(424)),n),ma(h),n=Pg(e,n,c,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Lt=Pr(e.firstChild),kt=n,Zt=!0,Te=null,Ce=!0,a=vg(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ha(),c===h){n=ji(e,n,a);break t}fn(e,n,c,a)}n=n.child}return n;case 26:return wu(e,n),e===null?(a=Yb(n.type,null,n.pendingProps,null))?n.memoizedState=a:Zt||(a=n.type,e=n.pendingProps,c=zu(st.current).createElement(a),c[tn]=n,c[Sn]=e,mn(c,a,e),Ye(c),n.stateNode=c):n.memoizedState=Yb(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return jt(n),e===null&&Zt&&(c=n.stateNode=Ub(n.type,n.pendingProps,st.current),kt=n,Ce=!0,h=Lt,Aa(n.type)?(Vh=h,Lt=Pr(c.firstChild)):Lt=h),fn(e,n,n.pendingProps.children,a),wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Zt&&((h=c=Lt)&&(c=dS(c,n.type,n.pendingProps,Ce),c!==null?(n.stateNode=c,kt=n,Lt=Pr(c.firstChild),Ce=!1,h=!0):h=!1),h||In(n)),jt(n),h=n.type,b=n.pendingProps,N=e!==null?e.memoizedProps:null,c=b.children,Gh(h,b)?c=null:N!==null&&Gh(h,N)&&(n.flags|=32),n.memoizedState!==null&&(h=Uf(e,n,A2,null,null,a),Gl._currentValue=h),wu(e,n),fn(e,n,c,a),n.child;case 6:return e===null&&Zt&&((e=a=Lt)&&(a=fS(a,n.pendingProps,Ce),a!==null?(n.stateNode=a,kt=n,Lt=null,e=!0):e=!1),e||In(n)),null;case 13:return zg(e,n,a);case 4:return wt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=ds(n,null,c,a):fn(e,n,c,a),n.child;case 11:return jg(e,n,n.type,n.pendingProps,a);case 7:return fn(e,n,n.pendingProps,a),n.child;case 8:return fn(e,n,n.pendingProps.children,a),n.child;case 12:return fn(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,Xr(n,n.type,c.value),fn(e,n,c.children,a),n.child;case 9:return h=n.type._context,c=n.pendingProps.children,ho(n),h=En(h),c=c(h),n.flags|=1,fn(e,n,c,a),n.child;case 14:return kg(e,n,n.type,n.pendingProps,a);case 15:return Og(e,n,n.type,n.pendingProps,a);case 19:return Ig(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=Tu(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=yr(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Cg(e,n,a);case 24:return ho(n),c=En(Fe),e===null?(h=Cf(),h===null&&(h=Ee,b=kf(),h.pooledCache=b,b.refCount++,b!==null&&(h.pooledCacheLanes|=a),h=b),n.memoizedState={parent:c,cache:h},Bf(n),Xr(n,Fe,h)):((e.lanes&a)!==0&&(Rf(e,n),xl(n,null,null,a),_l()),h=e.memoizedState,b=n.memoizedState,h.parent!==c?(h={parent:c,cache:c},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xr(n,Fe,c)):(c=b.cache,Xr(n,Fe,c),c!==h.cache&&rs(n,[Fe],a,!0))),fn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ki(e){e.flags|=4}function Ug(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xb(n)){if(n=_r.current,n!==null&&((le&4194048)===le?Wr!==null:(le&62914560)!==le&&(le&536870912)===0||n!==Wr))throw yl=Lf,E0;e.flags|=8192}}function Eu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zi():536870912,e.lanes|=n,ps|=n)}function Dl(e,n){if(!Zt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Le(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function z2(e,n,a){var c=n.pendingProps;switch(Dt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(n),null;case 1:return Le(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Br(Fe),At(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(co(n)?ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ru())),Le(n),null;case 26:return a=n.memoizedState,e===null?(ki(n),a!==null?(Le(n),Ug(n,a)):(Le(n),n.flags&=-16777217)):a?a!==e.memoizedState?(ki(n),Le(n),Ug(n,a)):(Le(n),n.flags&=-16777217):(e.memoizedProps!==c&&ki(n),Le(n),n.flags&=-16777217),null;case 27:Ht(n),a=st.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&ki(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return Le(n),null}e=ct.current,co(n)?eu(n):(e=Ub(h,c,a),n.stateNode=e,ki(n))}return Le(n),null;case 5:if(Ht(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&ki(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return Le(n),null}if(e=ct.current,co(n))eu(n);else{switch(h=zu(st.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?h.createElement(a,{is:c.is}):h.createElement(a)}}e[tn]=n,e[Sn]=c;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(mn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(n)}}return Le(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&ki(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(l(166));if(e=st.current,co(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,h=kt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}e[tn]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Bb(e.nodeValue,a)),e||In(n)}else e=zu(e).createTextNode(c),e[tn]=n,n.stateNode=e}return Le(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=co(n),c!==null&&c.dehydrated!==null){if(e===null){if(!h)throw Error(l(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[tn]=n}else ha(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Le(n),h=!1}else h=ru(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==h&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Eu(n,n.updateQueue),Le(n),null;case 4:return At(),e===null&&zh(n.stateNode.containerInfo),Le(n),null;case 10:return Br(n.type),Le(n),null;case 19:if(W(Xe),h=n.memoizedState,h===null)return Le(n),null;if(c=(n.flags&128)!==0,b=h.rendering,b===null)if(c)Dl(h,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=_u(e),b!==null){for(n.flags|=128,Dl(h,!1),e=b.updateQueue,n.updateQueue=e,Eu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)hl(a,e),a=a.sibling;return et(Xe,Xe.current&1|2),n.child}e=e.sibling}h.tail!==null&&ae()>Du&&(n.flags|=128,c=!0,Dl(h,!1),n.lanes=4194304)}else{if(!c)if(e=_u(b),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Eu(n,e),Dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Zt)return Le(n),null}else 2*ae()-h.renderingStartTime>Du&&a!==536870912&&(n.flags|=128,c=!0,Dl(h,!1),n.lanes=4194304);h.isBackwards?(b.sibling=n.child,n.child=b):(e=h.last,e!==null?e.sibling=b:n.child=b,h.last=b)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=ae(),n.sibling=null,e=Xe.current,et(Xe,c?e&1|2:e&1),n):(Le(n),null);case 22:case 23:return Ai(n),If(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(Le(n),n.subtreeFlags&6&&(n.flags|=8192)):Le(n),a=n.updateQueue,a!==null&&Eu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&W(mo),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Br(Fe),Le(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function H2(e,n){switch(Dt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Br(Fe),At(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ht(n),null;case 13:if(Ai(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ha()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(Xe),null;case 4:return At(),null;case 10:return Br(n.type),null;case 22:case 23:return Ai(n),If(),e!==null&&W(mo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Br(Fe),null;case 25:return null;default:return null}}function Gg(e,n){switch(Dt(n),n.tag){case 3:Br(Fe),At();break;case 26:case 27:case 5:Ht(n);break;case 4:At();break;case 13:Ai(n);break;case 19:W(Xe);break;case 10:Br(n.type);break;case 22:case 23:Ai(n),If(),e!==null&&W(mo);break;case 24:Br(Fe)}}function Al(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var h=c.next;a=h;do{if((a.tag&e)===e){c=void 0;var b=a.create,N=a.inst;c=b(),N.destroy=c}a=a.next}while(a!==h)}}catch(C){xe(n,n.return,C)}}function xa(e,n,a){try{var c=n.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var b=h.next;c=b;do{if((c.tag&e)===e){var N=c.inst,C=N.destroy;if(C!==void 0){N.destroy=void 0,h=n;var Z=a,ut=C;try{ut()}catch(bt){xe(h,Z,bt)}}}c=c.next}while(c!==b)}}catch(bt){xe(n,n.return,bt)}}function Zg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{k0(n,a)}catch(c){xe(e,e.return,c)}}}function Yg(e,n,a){a.props=go(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){xe(e,n,c)}}function jl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(h){xe(e,n,h)}}function Qr(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(h){xe(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){xe(e,n,h)}else a.current=null}function qg(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(h){xe(e,e.return,h)}}function mh(e,n,a){try{var c=e.stateNode;oS(c,e.type,a,n),c[Sn]=n}catch(h){xe(e,e.return,h)}}function Vg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Aa(e.type)||e.tag===4}function ph(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gh(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Pu));else if(c!==4&&(c===27&&Aa(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(gh(e,n,a),e=e.sibling;e!==null;)gh(e,n,a),e=e.sibling}function Nu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&Aa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Nu(e,n,a),e=e.sibling;e!==null;)Nu(e,n,a),e=e.sibling}function Kg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);mn(n,c,a),n[tn]=e,n[Sn]=a}catch(b){xe(e,e.return,b)}}var Oi=!1,Ge=!1,bh=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,an=null;function I2(e,n){if(e=e.containerInfo,$h=Zu,e=no(e),ro(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break t}var N=0,C=-1,Z=-1,ut=0,bt=0,_t=e,dt=null;e:for(;;){for(var ft;_t!==a||h!==0&&_t.nodeType!==3||(C=N+h),_t!==b||c!==0&&_t.nodeType!==3||(Z=N+c),_t.nodeType===3&&(N+=_t.nodeValue.length),(ft=_t.firstChild)!==null;)dt=_t,_t=ft;for(;;){if(_t===e)break e;if(dt===a&&++ut===h&&(C=N),dt===b&&++bt===c&&(Z=N),(ft=_t.nextSibling)!==null)break;_t=dt,dt=_t.parentNode}_t=ft}a=C===-1||Z===-1?null:{start:C,end:Z}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uh={focusedElem:e,selectionRange:a},Zu=!1,an=n;an!==null;)if(n=an,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,an=e;else for(;an!==null;){switch(n=an,b=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&b!==null){e=void 0,a=n,h=b.memoizedProps,b=b.memoizedState,c=a.stateNode;try{var Gt=go(a.type,h,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Gt,b),c.__reactInternalSnapshotBeforeUpdate=e}catch(It){xe(a,a.return,It)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Yh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,an=e;break}an=n.return}}function Xg(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Sa(e,a),c&4&&Al(5,a);break;case 1:if(Sa(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(N){xe(a,a.return,N)}else{var h=go(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){xe(a,a.return,N)}}c&64&&Zg(a),c&512&&jl(a,a.return);break;case 3:if(Sa(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{k0(e,n)}catch(N){xe(a,a.return,N)}}break;case 27:n===null&&c&4&&Kg(a);case 26:case 5:Sa(e,a),n===null&&c&4&&qg(a),c&512&&jl(a,a.return);break;case 12:Sa(e,a);break;case 13:Sa(e,a),c&4&&Jg(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=F2.bind(null,a),hS(e,a))));break;case 22:if(c=a.memoizedState!==null||Oi,!c){n=n!==null&&n.memoizedState!==null||Ge,h=Oi;var b=Ge;Oi=c,(Ge=n)&&!b?wa(e,a,(a.subtreeFlags&8772)!==0):Sa(e,a),Oi=h,Ge=b}break;case 30:break;default:Sa(e,a)}}function Wg(e){var n=e.alternate;n!==null&&(e.alternate=null,Wg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&zo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Un=!1;function Ci(e,n,a){for(a=a.child;a!==null;)Qg(e,n,a),a=a.sibling}function Qg(e,n,a){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(Ct,a)}catch{}switch(a.tag){case 26:Ge||Qr(a,n),Ci(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Qr(a,n);var c=ke,h=Un;Aa(a.type)&&(ke=a.stateNode,Un=!1),Ci(e,n,a),Hl(a.stateNode),ke=c,Un=h;break;case 5:Ge||Qr(a,n);case 6:if(c=ke,h=Un,ke=null,Ci(e,n,a),ke=c,Un=h,ke!==null)if(Un)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(a.stateNode)}catch(b){xe(a,n,b)}else try{ke.removeChild(a.stateNode)}catch(b){xe(a,n,b)}break;case 18:ke!==null&&(Un?(e=ke,Ib(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Vl(e)):Ib(ke,a.stateNode));break;case 4:c=ke,h=Un,ke=a.stateNode.containerInfo,Un=!0,Ci(e,n,a),ke=c,Un=h;break;case 0:case 11:case 14:case 15:Ge||xa(2,a,n),Ge||xa(4,a,n),Ci(e,n,a);break;case 1:Ge||(Qr(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Yg(a,n,c)),Ci(e,n,a);break;case 21:Ci(e,n,a);break;case 22:Ge=(c=Ge)||a.memoizedState!==null,Ci(e,n,a),Ge=c;break;default:Ci(e,n,a)}}function Jg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vl(e)}catch(a){xe(n,n.return,a)}}function $2(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fg),n;default:throw Error(l(435,e.tag))}}function yh(e,n){var a=$2(e);n.forEach(function(c){var h=X2.bind(null,e,c);a.has(c)||(a.add(c),c.then(h,h))})}function tr(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c],b=e,N=n,C=N;t:for(;C!==null;){switch(C.tag){case 27:if(Aa(C.type)){ke=C.stateNode,Un=!1;break t}break;case 5:ke=C.stateNode,Un=!1;break t;case 3:case 4:ke=C.stateNode.containerInfo,Un=!0;break t}C=C.return}if(ke===null)throw Error(l(160));Qg(b,N,h),ke=null,Un=!1,b=h.alternate,b!==null&&(b.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)tb(n,e),n=n.sibling}var Rr=null;function tb(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tr(n,e),er(e),c&4&&(xa(3,e,e.return),Al(3,e),xa(5,e,e.return));break;case 1:tr(n,e),er(e),c&512&&(Ge||a===null||Qr(a,a.return)),c&64&&Oi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var h=Rr;if(tr(n,e),er(e),c&512&&(Ge||a===null||Qr(a,a.return)),c&4){var b=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(c){case"title":b=h.getElementsByTagName("title")[0],(!b||b[qi]||b[tn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=h.createElement(c),h.head.insertBefore(b,h.querySelector("head > title"))),mn(b,c,a),b[tn]=e,Ye(b),c=b;break t;case"link":var N=Kb("link","href",h).get(c+(a.href||""));if(N){for(var C=0;C<N.length;C++)if(b=N[C],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(C,1);break e}}b=h.createElement(c),mn(b,c,a),h.head.appendChild(b);break;case"meta":if(N=Kb("meta","content",h).get(c+(a.content||""))){for(C=0;C<N.length;C++)if(b=N[C],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(C,1);break e}}b=h.createElement(c),mn(b,c,a),h.head.appendChild(b);break;default:throw Error(l(468,c))}b[tn]=e,Ye(b),c=b}e.stateNode=c}else Fb(h,e.type,e.stateNode);else e.stateNode=Vb(h,c,e.memoizedProps);else b!==c?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,c===null?Fb(h,e.type,e.stateNode):Vb(h,c,e.memoizedProps)):c===null&&e.stateNode!==null&&mh(e,e.memoizedProps,a.memoizedProps)}break;case 27:tr(n,e),er(e),c&512&&(Ge||a===null||Qr(a,a.return)),a!==null&&c&4&&mh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(tr(n,e),er(e),c&512&&(Ge||a===null||Qr(a,a.return)),e.flags&32){h=e.stateNode;try{hr(h,"")}catch(ft){xe(e,e.return,ft)}}c&4&&e.stateNode!=null&&(h=e.memoizedProps,mh(e,h,a!==null?a.memoizedProps:h)),c&1024&&(bh=!0);break;case 6:if(tr(n,e),er(e),c&4){if(e.stateNode===null)throw Error(l(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ft){xe(e,e.return,ft)}}break;case 3:if($u=null,h=Rr,Rr=Hu(n.containerInfo),tr(n,e),Rr=h,er(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(ft){xe(e,e.return,ft)}bh&&(bh=!1,eb(e));break;case 4:c=Rr,Rr=Hu(e.stateNode.containerInfo),tr(n,e),er(e),Rr=c;break;case 12:tr(n,e),er(e);break;case 13:tr(n,e),er(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Th=ae()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 22:h=e.memoizedState!==null;var Z=a!==null&&a.memoizedState!==null,ut=Oi,bt=Ge;if(Oi=ut||h,Ge=bt||Z,tr(n,e),Ge=bt,Oi=ut,er(e),c&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Z||Oi||Ge||bo(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){Z=a=n;try{if(b=Z.stateNode,h)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{C=Z.stateNode;var _t=Z.memoizedProps.style,dt=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;C.style.display=dt==null||typeof dt=="boolean"?"":(""+dt).trim()}}catch(ft){xe(Z,Z.return,ft)}}}else if(n.tag===6){if(a===null){Z=n;try{Z.stateNode.nodeValue=h?"":Z.memoizedProps}catch(ft){xe(Z,Z.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,yh(e,a))));break;case 19:tr(n,e),er(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,yh(e,c)));break;case 30:break;case 21:break;default:tr(n,e),er(e)}}function er(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(Vg(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var h=a.stateNode,b=ph(e);Nu(e,b,h);break;case 5:var N=a.stateNode;a.flags&32&&(hr(N,""),a.flags&=-33);var C=ph(e);Nu(e,C,N);break;case 3:case 4:var Z=a.stateNode.containerInfo,ut=ph(e);gh(e,ut,Z);break;default:throw Error(l(161))}}catch(bt){xe(e,e.return,bt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function eb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;eb(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Sa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(e,n.alternate,n),n=n.sibling}function bo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xa(4,n,n.return),bo(n);break;case 1:Qr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Yg(n,n.return,a),bo(n);break;case 27:Hl(n.stateNode);case 26:case 5:Qr(n,n.return),bo(n);break;case 22:n.memoizedState===null&&bo(n);break;case 30:bo(n);break;default:bo(n)}e=e.sibling}}function wa(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,h=e,b=n,N=b.flags;switch(b.tag){case 0:case 11:case 15:wa(h,b,a),Al(4,b);break;case 1:if(wa(h,b,a),c=b,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ut){xe(c,c.return,ut)}if(c=b,h=c.updateQueue,h!==null){var C=c.stateNode;try{var Z=h.shared.hiddenCallbacks;if(Z!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Z.length;h++)j0(Z[h],C)}catch(ut){xe(c,c.return,ut)}}a&&N&64&&Zg(b),jl(b,b.return);break;case 27:Kg(b);case 26:case 5:wa(h,b,a),a&&c===null&&N&4&&qg(b),jl(b,b.return);break;case 12:wa(h,b,a);break;case 13:wa(h,b,a),a&&N&4&&Jg(h,b);break;case 22:b.memoizedState===null&&wa(h,b,a),jl(b,b.return);break;case 30:break;default:wa(h,b,a)}n=n.sibling}}function vh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&pl(a))}function _h(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e))}function Jr(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nb(e,n,a,c),n=n.sibling}function nb(e,n,a,c){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jr(e,n,a,c),h&2048&&Al(9,n);break;case 1:Jr(e,n,a,c);break;case 3:Jr(e,n,a,c),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e)));break;case 12:if(h&2048){Jr(e,n,a,c),e=n.stateNode;try{var b=n.memoizedProps,N=b.id,C=b.onPostCommit;typeof C=="function"&&C(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){xe(n,n.return,Z)}}else Jr(e,n,a,c);break;case 13:Jr(e,n,a,c);break;case 23:break;case 22:b=n.stateNode,N=n.alternate,n.memoizedState!==null?b._visibility&2?Jr(e,n,a,c):kl(e,n):b._visibility&2?Jr(e,n,a,c):(b._visibility|=2,fs(e,n,a,c,(n.subtreeFlags&10256)!==0)),h&2048&&vh(N,n);break;case 24:Jr(e,n,a,c),h&2048&&_h(n.alternate,n);break;default:Jr(e,n,a,c)}}function fs(e,n,a,c,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var b=e,N=n,C=a,Z=c,ut=N.flags;switch(N.tag){case 0:case 11:case 15:fs(b,N,C,Z,h),Al(8,N);break;case 23:break;case 22:var bt=N.stateNode;N.memoizedState!==null?bt._visibility&2?fs(b,N,C,Z,h):kl(b,N):(bt._visibility|=2,fs(b,N,C,Z,h)),h&&ut&2048&&vh(N.alternate,N);break;case 24:fs(b,N,C,Z,h),h&&ut&2048&&_h(N.alternate,N);break;default:fs(b,N,C,Z,h)}n=n.sibling}}function kl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,h=c.flags;switch(c.tag){case 22:kl(a,c),h&2048&&vh(c.alternate,c);break;case 24:kl(a,c),h&2048&&_h(c.alternate,c);break;default:kl(a,c)}n=n.sibling}}var Ol=8192;function hs(e){if(e.subtreeFlags&Ol)for(e=e.child;e!==null;)rb(e),e=e.sibling}function rb(e){switch(e.tag){case 26:hs(e),e.flags&Ol&&e.memoizedState!==null&&NS(Rr,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var n=Rr;Rr=Hu(e.stateNode.containerInfo),hs(e),Rr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ol,Ol=16777216,hs(e),Ol=n):hs(e));break;default:hs(e)}}function ib(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];an=c,ob(c,e)}ib(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ab(e),e=e.sibling}function ab(e){switch(e.tag){case 0:case 11:case 15:Cl(e),e.flags&2048&&xa(9,e,e.return);break;case 3:Cl(e);break;case 12:Cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Mu(e)):Cl(e);break;default:Cl(e)}}function Mu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];an=c,ob(c,e)}ib(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xa(8,n,n.return),Mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(n));break;default:Mu(n)}e=e.sibling}}function ob(e,n){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:xa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,an=c;else t:for(a=e;an!==null;){c=an;var h=c.sibling,b=c.return;if(Wg(c),c===a){an=null;break t}if(h!==null){h.return=b,an=h;break t}an=b}}}var U2={getCacheForType:function(e){var n=En(Fe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},G2=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ee=null,ne=null,le=0,be=0,nr=null,Ta=!1,ms=!1,xh=!1,Li=0,He=0,Ea=0,yo=0,Sh=0,xr=0,ps=0,Ll=null,Gn=null,wh=!1,Th=0,Du=1/0,Au=null,Na=null,hn=0,Ma=null,gs=null,bs=0,Eh=0,Nh=null,sb=null,Bl=0,Mh=null;function rr(){if((ge&2)!==0&&le!==0)return le&-le;if(q.T!==null){var e=is;return e!==0?e:Lh()}return jc()}function lb(){xr===0&&(xr=(le&536870912)===0||Zt?Ro():536870912);var e=_r.current;return e!==null&&(e.flags|=32),xr}function ir(e,n,a){(e===Ee&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(ys(e,0),Da(e,le,xr,!1)),xn(e,a),((ge&2)===0||e!==Ee)&&(e===Ee&&((ge&2)===0&&(yo|=a),He===4&&Da(e,le,xr,!1)),ti(e))}function cb(e,n,a){if((ge&6)!==0)throw Error(l(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||_n(e,n),h=c?q2(e,n):jh(e,n,!0),b=c;do{if(h===0){ms&&!c&&Da(e,n,0,!1);break}else{if(a=e.current.alternate,b&&!Z2(a)){h=jh(e,n,!1),b=!1;continue}if(h===2){if(b=n,e.errorRecoveryDisabledLanes&b)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var C=e;h=Ll;var Z=C.current.memoizedState.isDehydrated;if(Z&&(ys(C,N).flags|=256),N=jh(C,N,!1),N!==2){if(xh&&!Z){C.errorRecoveryDisabledLanes|=b,yo|=b,h=4;break t}b=Gn,Gn=h,b!==null&&(Gn===null?Gn=b:Gn.push.apply(Gn,b))}h=N}if(b=!1,h!==2)continue}}if(h===1){ys(e,0),Da(e,n,0,!0);break}t:{switch(c=e,b=h,b){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Da(c,n,xr,!Ta);break t;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(h=Th+300-ae(),10<h)){if(Da(c,n,xr,!Ta),qn(c,0,!0)!==0)break t;c.timeoutHandle=zb(ub.bind(null,c,a,Gn,Au,wh,n,xr,yo,ps,Ta,b,2,-0,0),h);break t}ub(c,a,Gn,Au,wh,n,xr,yo,ps,Ta,b,0,-0,0)}}break}while(!0);ti(e)}function ub(e,n,a,c,h,b,N,C,Z,ut,bt,_t,dt,ft){if(e.timeoutHandle=-1,_t=n.subtreeFlags,(_t&8192||(_t&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:ES},rb(n),_t=MS(),_t!==null)){e.cancelPendingCommit=_t(bb.bind(null,e,n,b,a,c,h,N,C,Z,bt,1,dt,ft)),Da(e,b,N,!ut);return}bb(e,n,b,a,c,h,N,C,Z)}function Z2(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var h=a[c],b=h.getSnapshot;h=h.value;try{if(!An(b(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Da(e,n,a,c){n&=~Sh,n&=~yo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var h=n;0<h;){var b=31-Ae(h),N=1<<b;c[b]=-1,h&=~N}a!==0&&Po(e,a,n)}function ju(){return(ge&6)===0?(Rl(0),!1):!0}function Dh(){if(ne!==null){if(be===0)var e=ne.return;else e=ne,Lr=vr=null,Yf(e),us=null,Nl=0,e=ne;for(;e!==null;)Gg(e.alternate,e),e=e.return;ne=null}}function ys(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dh(),Ee=e,ne=a=yr(e.current,null),le=n,be=0,nr=null,Ta=!1,ms=_n(e,n),xh=!1,ps=xr=Sh=yo=Ea=He=0,Gn=Ll=null,wh=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var h=31-Ae(c),b=1<<h;n|=e[h],c&=~b}return Li=n,ao(),a}function db(e,n){Jt=null,q.H=bu,n===bl||n===su?(n=D0(),be=3):n===E0?(n=D0(),be=4):be=n===Ag?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,nr=n,ne===null&&(He=1,Su(e,kn(n,e.current)))}function fb(){var e=q.H;return q.H=bu,e===null?bu:e}function hb(){var e=q.A;return q.A=U2,e}function Ah(){He=4,Ta||(le&4194048)!==le&&_r.current!==null||(ms=!0),(Ea&134217727)===0&&(yo&134217727)===0||Ee===null||Da(Ee,le,xr,!1)}function jh(e,n,a){var c=ge;ge|=2;var h=fb(),b=hb();(Ee!==e||le!==n)&&(Au=null,ys(e,n)),n=!1;var N=He;t:do try{if(be!==0&&ne!==null){var C=ne,Z=nr;switch(be){case 8:Dh(),N=6;break t;case 3:case 2:case 9:case 6:_r.current===null&&(n=!0);var ut=be;if(be=0,nr=null,vs(e,C,Z,ut),a&&ms){N=0;break t}break;default:ut=be,be=0,nr=null,vs(e,C,Z,ut)}}Y2(),N=He;break}catch(bt){db(e,bt)}while(!0);return n&&e.shellSuspendCounter++,Lr=vr=null,ge=c,q.H=h,q.A=b,ne===null&&(Ee=null,le=0,ao()),N}function Y2(){for(;ne!==null;)mb(ne)}function q2(e,n){var a=ge;ge|=2;var c=fb(),h=hb();Ee!==e||le!==n?(Au=null,Du=ae()+500,ys(e,n)):ms=_n(e,n);t:do try{if(be!==0&&ne!==null){n=ne;var b=nr;e:switch(be){case 1:be=0,nr=null,vs(e,n,b,1);break;case 2:case 9:if(N0(b)){be=0,nr=null,pb(n);break}n=function(){be!==2&&be!==9||Ee!==e||(be=7),ti(e)},b.then(n,n);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:N0(b)?(be=0,nr=null,pb(n)):(be=0,nr=null,vs(e,n,b,7));break;case 5:var N=null;switch(ne.tag){case 26:N=ne.memoizedState;case 5:case 27:var C=ne;if(!N||Xb(N)){be=0,nr=null;var Z=C.sibling;if(Z!==null)ne=Z;else{var ut=C.return;ut!==null?(ne=ut,ku(ut)):ne=null}break e}}be=0,nr=null,vs(e,n,b,5);break;case 6:be=0,nr=null,vs(e,n,b,6);break;case 8:Dh(),He=6;break t;default:throw Error(l(462))}}V2();break}catch(bt){db(e,bt)}while(!0);return Lr=vr=null,q.H=c,q.A=h,ge=a,ne!==null?0:(Ee=null,le=0,ao(),He)}function V2(){for(;ne!==null&&!qt();)mb(ne)}function mb(e){var n=$g(e.alternate,e,Li);e.memoizedProps=e.pendingProps,n===null?ku(e):ne=n}function pb(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Bg(a,n,n.pendingProps,n.type,void 0,le);break;case 11:n=Bg(a,n,n.pendingProps,n.type.render,n.ref,le);break;case 5:Yf(n);default:Gg(a,n),n=ne=hl(n,Li),n=$g(a,n,Li)}e.memoizedProps=e.pendingProps,n===null?ku(e):ne=n}function vs(e,n,a,c){Lr=vr=null,Yf(n),us=null,Nl=0;var h=n.return;try{if(R2(e,h,n,a,le)){He=1,Su(e,kn(a,e.current)),ne=null;return}}catch(b){if(h!==null)throw ne=h,b;He=1,Su(e,kn(a,e.current)),ne=null;return}n.flags&32768?(Zt||c===1?e=!0:ms||(le&536870912)!==0?e=!1:(Ta=e=!0,(c===2||c===9||c===3||c===6)&&(c=_r.current,c!==null&&c.tag===13&&(c.flags|=16384))),gb(n,e)):ku(n)}function ku(e){var n=e;do{if((n.flags&32768)!==0){gb(n,Ta);return}e=n.return;var a=z2(n.alternate,n,Li);if(a!==null){ne=a;return}if(n=n.sibling,n!==null){ne=n;return}ne=n=e}while(n!==null);He===0&&(He=5)}function gb(e,n){do{var a=H2(e.alternate,e);if(a!==null){a.flags&=32767,ne=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ne=e;return}ne=e=a}while(e!==null);He=6,ne=null}function bb(e,n,a,c,h,b,N,C,Z){e.cancelPendingCommit=null;do Ou();while(hn!==0);if((ge&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(b=n.lanes|n.childLanes,b|=Jn,Ac(e,a,b,N,C,Z),e===Ee&&(ne=Ee=null,le=0),gs=n,Ma=e,bs=a,Eh=b,Nh=h,sb=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,W2(St,function(){return Sb(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,h=F.p,F.p=2,N=ge,ge|=4;try{I2(e,n,a)}finally{ge=N,F.p=h,q.T=c}}hn=1,yb(),vb(),_b()}}function yb(){if(hn===1){hn=0;var e=Ma,n=gs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var c=F.p;F.p=2;var h=ge;ge|=4;try{tb(n,e);var b=Uh,N=no(e.containerInfo),C=b.focusedElem,Z=b.selectionRange;if(N!==C&&C&&C.ownerDocument&&Xo(C.ownerDocument.documentElement,C)){if(Z!==null&&ro(C)){var ut=Z.start,bt=Z.end;if(bt===void 0&&(bt=ut),"selectionStart"in C)C.selectionStart=ut,C.selectionEnd=Math.min(bt,C.value.length);else{var _t=C.ownerDocument||document,dt=_t&&_t.defaultView||window;if(dt.getSelection){var ft=dt.getSelection(),Gt=C.textContent.length,It=Math.min(Z.start,Gt),_e=Z.end===void 0?It:Math.min(Z.end,Gt);!ft.extend&&It>_e&&(N=_e,_e=It,It=N);var it=dl(C,It),tt=dl(C,_e);if(it&&tt&&(ft.rangeCount!==1||ft.anchorNode!==it.node||ft.anchorOffset!==it.offset||ft.focusNode!==tt.node||ft.focusOffset!==tt.offset)){var lt=_t.createRange();lt.setStart(it.node,it.offset),ft.removeAllRanges(),It>_e?(ft.addRange(lt),ft.extend(tt.node,tt.offset)):(lt.setEnd(tt.node,tt.offset),ft.addRange(lt))}}}}for(_t=[],ft=C;ft=ft.parentNode;)ft.nodeType===1&&_t.push({element:ft,left:ft.scrollLeft,top:ft.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<_t.length;C++){var yt=_t[C];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}Zu=!!$h,Uh=$h=null}finally{ge=h,F.p=c,q.T=a}}e.current=n,hn=2}}function vb(){if(hn===2){hn=0;var e=Ma,n=gs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var c=F.p;F.p=2;var h=ge;ge|=4;try{Xg(e,n.alternate,n)}finally{ge=h,F.p=c,q.T=a}}hn=3}}function _b(){if(hn===4||hn===3){hn=0,ue();var e=Ma,n=gs,a=bs,c=sb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?hn=5:(hn=0,gs=Ma=null,xb(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Na=null),Fs(a),n=n.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(Ct,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=q.T,h=F.p,F.p=2,q.T=null;try{for(var b=e.onRecoverableError,N=0;N<c.length;N++){var C=c[N];b(C.value,{componentStack:C.stack})}}finally{q.T=n,F.p=h}}(bs&3)!==0&&Ou(),ti(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Mh?Bl++:(Bl=0,Mh=e):Bl=0,Rl(0)}}function xb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,pl(n)))}function Ou(e){return yb(),vb(),_b(),Sb()}function Sb(){if(hn!==5)return!1;var e=Ma,n=Eh;Eh=0;var a=Fs(bs),c=q.T,h=F.p;try{F.p=32>a?32:a,q.T=null,a=Nh,Nh=null;var b=Ma,N=bs;if(hn=0,gs=Ma=null,bs=0,(ge&6)!==0)throw Error(l(331));var C=ge;if(ge|=4,ab(b.current),nb(b,b.current,N,a),ge=C,Rl(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(Ct,b)}catch{}return!0}finally{F.p=h,q.T=c,xb(e,n)}}function wb(e,n,a){n=kn(a,n),n=ah(e.stateNode,n,2),e=ba(e,n,2),e!==null&&(xn(e,2),ti(e))}function xe(e,n,a){if(e.tag===3)wb(e,e,a);else for(;n!==null;){if(n.tag===3){wb(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Na===null||!Na.has(c))){e=kn(a,e),a=Mg(2),c=ba(n,a,2),c!==null&&(Dg(a,c,n,e),xn(c,2),ti(c));break}}n=n.return}}function kh(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new G2;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(a)||(xh=!0,h.add(a),e=K2.bind(null,e,n,a),n.then(e,e))}function K2(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ee===e&&(le&a)===a&&(He===4||He===3&&(le&62914560)===le&&300>ae()-Th?(ge&2)===0&&ys(e,0):Sh|=a,ps===le&&(ps=0)),ti(e)}function Tb(e,n){n===0&&(n=Zi()),e=da(e,n),e!==null&&(xn(e,n),ti(e))}function F2(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Tb(e,a)}function X2(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(n),Tb(e,a)}function W2(e,n){return Qt(e,n)}var Cu=null,_s=null,Oh=!1,Lu=!1,Ch=!1,vo=0;function ti(e){e!==_s&&e.next===null&&(_s===null?Cu=_s=e:_s=_s.next=e),Lu=!0,Oh||(Oh=!0,J2())}function Rl(e,n){if(!Ch&&Lu){Ch=!0;do for(var a=!1,c=Cu;c!==null;){if(e!==0){var h=c.pendingLanes;if(h===0)var b=0;else{var N=c.suspendedLanes,C=c.pingedLanes;b=(1<<31-Ae(42|e)+1)-1,b&=h&~(N&~C),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,Db(c,b))}else b=le,b=qn(c,c===Ee?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||_n(c,b)||(a=!0,Db(c,b));c=c.next}while(a);Ch=!1}}function Q2(){Eb()}function Eb(){Lu=Oh=!1;var e=0;vo!==0&&(sS()&&(e=vo),vo=0);for(var n=ae(),a=null,c=Cu;c!==null;){var h=c.next,b=Nb(c,n);b===0?(c.next=null,a===null?Cu=h:a.next=h,h===null&&(_s=a)):(a=c,(e!==0||(b&3)!==0)&&(Lu=!0)),c=h}Rl(e)}function Nb(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,b=e.pendingLanes&-62914561;0<b;){var N=31-Ae(b),C=1<<N,Z=h[N];Z===-1?((C&a)===0||(C&c)!==0)&&(h[N]=Bo(C,n)):Z<=n&&(e.expiredLanes|=C),b&=~C}if(n=Ee,a=le,a=qn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&de(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||_n(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&de(c),Fs(a)){case 2:case 8:a=pt;break;case 32:a=St;break;case 268435456:a=$t;break;default:a=St}return c=Mb.bind(null,e),a=Qt(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&de(c),e.callbackPriority=2,e.callbackNode=null,2}function Mb(e,n){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ou()&&e.callbackNode!==a)return null;var c=le;return c=qn(e,e===Ee?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(cb(e,c,n),Nb(e,ae()),e.callbackNode!=null&&e.callbackNode===a?Mb.bind(null,e):null)}function Db(e,n){if(Ou())return null;cb(e,n,!0)}function J2(){cS(function(){(ge&6)!==0?Qt(Vt,Q2):Eb()})}function Lh(){return vo===0&&(vo=Ro()),vo}function Ab(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qi(""+e)}function jb(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function tS(e,n,a,c,h){if(n==="submit"&&a&&a.stateNode===h){var b=Ab((h[Sn]||null).action),N=c.submitter;N&&(n=(n=N[Sn]||null)?Ab(n.formAction):N.getAttribute("formAction"),n!==null&&(b=n,N=null));var C=new Wa("action","action",null,c,h);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vo!==0){var Z=N?jb(h,N):new FormData(h);th(a,{pending:!0,data:Z,method:h.method,action:b},null,Z)}}else typeof b=="function"&&(C.preventDefault(),Z=N?jb(h,N):new FormData(h),th(a,{pending:!0,data:Z,method:h.method,action:b},b,Z))},currentTarget:h}]})}}for(var Bh=0;Bh<wi.length;Bh++){var Rh=wi[Bh],eS=Rh.toLowerCase(),nS=Rh[0].toUpperCase()+Rh.slice(1);Qn(eS,"on"+nS)}Qn(Qc,"onAnimationEnd"),Qn(Wn,"onAnimationIteration"),Qn(io,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Af,"onTransitionRun"),Qn(ts,"onTransitionStart"),Qn(jf,"onTransitionCancel"),Qn(fl,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function kb(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],h=c.event;c=c.listeners;t:{var b=void 0;if(n)for(var N=c.length-1;0<=N;N--){var C=c[N],Z=C.instance,ut=C.currentTarget;if(C=C.listener,Z!==b&&h.isPropagationStopped())break t;b=C,h.currentTarget=ut;try{b(h)}catch(bt){xu(bt)}h.currentTarget=null,b=Z}else for(N=0;N<c.length;N++){if(C=c[N],Z=C.instance,ut=C.currentTarget,C=C.listener,Z!==b&&h.isPropagationStopped())break t;b=C,h.currentTarget=ut;try{b(h)}catch(bt){xu(bt)}h.currentTarget=null,b=Z}}}}function re(e,n){var a=n[zn];a===void 0&&(a=n[zn]=new Set);var c=e+"__bubble";a.has(c)||(Ob(n,e,2,!1),a.add(c))}function Ph(e,n,a){var c=0;n&&(c|=4),Ob(a,e,c,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function zh(e){if(!e[Bu]){e[Bu]=!0,Oc.forEach(function(a){a!=="selectionchange"&&(rS.has(a)||Ph(a,!1,e),Ph(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,Ph("selectionchange",!1,n))}}function Ob(e,n,a,c){switch(ny(n)){case 2:var h=jS;break;case 8:h=kS;break;default:h=Qh}a=h.bind(null,n,a,e),h=void 0,!Xa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Hh(e,n,a,c,h){var b=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var C=c.stateNode.containerInfo;if(C===h)break;if(N===4)for(N=c.return;N!==null;){var Z=N.tag;if((Z===3||Z===4)&&N.stateNode.containerInfo===h)return;N=N.return}for(;C!==null;){if(N=Gr(C),N===null)return;if(Z=N.tag,Z===5||Z===6||Z===26||Z===27){c=b=N;continue t}C=C.parentNode}}c=c.return}Vn(function(){var ut=b,bt=Ji(a),_t=[];t:{var dt=Jc.get(e);if(dt!==void 0){var ft=Wa,Gt=e;switch(e){case"keypress":if(ze(a)===0)break t;case"keydown":case"keyup":ft=xf;break;case"focusin":Gt="focus",ft=nl;break;case"focusout":Gt="blur",ft=nl;break;case"beforeblur":case"afterblur":ft=nl;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=wf;break;case Qc:case Wn:case io:ft=bf;break;case fl:ft=Tf;break;case"scroll":case"scrollend":ft=pf;break;case"wheel":ft=Gc;break;case"copy":case"cut":case"paste":ft=rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=al;break;case"toggle":case"beforetoggle":ft=vi}var It=(n&4)!==0,_e=!It&&(e==="scroll"||e==="scrollend"),it=It?dt!==null?dt+"Capture":null:dt;It=[];for(var tt=ut,lt;tt!==null;){var yt=tt;if(lt=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||lt===null||it===null||(yt=fe(tt,it),yt!=null&&It.push(zl(tt,yt,lt))),_e)break;tt=tt.return}0<It.length&&(dt=new ft(dt,Gt,null,a,bt),_t.push({event:dt,listeners:It}))}}if((n&7)===0){t:{if(dt=e==="mouseover"||e==="pointerover",ft=e==="mouseout"||e==="pointerout",dt&&a!==Fa&&(Gt=a.relatedTarget||a.fromElement)&&(Gr(Gt)||Gt[Yi]))break t;if((ft||dt)&&(dt=bt.window===bt?bt:(dt=bt.ownerDocument)?dt.defaultView||dt.parentWindow:window,ft?(Gt=a.relatedTarget||a.toElement,ft=ut,Gt=Gt?Gr(Gt):null,Gt!==null&&(_e=d(Gt),It=Gt.tag,Gt!==_e||It!==5&&It!==27&&It!==6)&&(Gt=null)):(ft=null,Gt=ut),ft!==Gt)){if(It=na,yt="onMouseLeave",it="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(It=al,yt="onPointerLeave",it="onPointerEnter",tt="pointer"),_e=ft==null?dt:fr(ft),lt=Gt==null?dt:fr(Gt),dt=new It(yt,tt+"leave",ft,a,bt),dt.target=_e,dt.relatedTarget=lt,yt=null,Gr(bt)===ut&&(It=new It(it,tt+"enter",Gt,a,bt),It.target=lt,It.relatedTarget=_e,yt=It),_e=yt,ft&&Gt)e:{for(It=ft,it=Gt,tt=0,lt=It;lt;lt=xs(lt))tt++;for(lt=0,yt=it;yt;yt=xs(yt))lt++;for(;0<tt-lt;)It=xs(It),tt--;for(;0<lt-tt;)it=xs(it),lt--;for(;tt--;){if(It===it||it!==null&&It===it.alternate)break e;It=xs(It),it=xs(it)}It=null}else It=null;ft!==null&&Cb(_t,dt,ft,It,!1),Gt!==null&&_e!==null&&Cb(_t,_e,Gt,It,!0)}}t:{if(dt=ut?fr(ut):window,ft=dt.nodeName&&dt.nodeName.toLowerCase(),ft==="select"||ft==="input"&&dt.type==="file")var Ot=aa;else if(xi(dt))if(ll)Ot=Df;else{Ot=Mf;var ee=ul}else ft=dt.nodeName,!ft||ft.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?ut&&Ka(ut.elementType)&&(Ot=aa):Ot=Cr;if(Ot&&(Ot=Ot(e,ut))){Kc(_t,Ot,a,bt);break t}ee&&ee(e,dt,ut),e==="focusout"&&ut&&dt.type==="number"&&ut.memoizedProps.value!=null&&Xi(dt,"number",dt.value)}switch(ee=ut?fr(ut):window,e){case"focusin":(xi(ee)||ee.contentEditable==="true")&&(Xn=ee,la=ut,Si=null);break;case"focusout":Si=la=Xn=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,Xc(_t,a,bt);break;case"selectionchange":if(Wo)break;case"keydown":case"keyup":Xc(_t,a,bt)}var Rt;if(_i)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ra?Ko(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(sl&&a.locale!=="ko"&&(ra||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ra&&(Rt=ea()):(pr=bt,kr="value"in pr?pr.value:pr.textContent,ra=!0)),ee=Ru(ut,Ut),0<ee.length&&(Ut=new Kn(Ut,e,null,a,bt),_t.push({event:Ut,listeners:ee}),Rt?Ut.data=Rt:(Rt=qc(a),Rt!==null&&(Ut.data=Rt)))),(Rt=Zc?Vc(e,a):Nf(e,a))&&(Ut=Ru(ut,"onBeforeInput"),0<Ut.length&&(ee=new Kn("onBeforeInput","beforeinput",null,a,bt),_t.push({event:ee,listeners:Ut}),ee.data=Rt)),tS(_t,e,ut,a,bt)}kb(_t,n)})}function zl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ru(e,n){for(var a=n+"Capture",c=[];e!==null;){var h=e,b=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||b===null||(h=fe(e,a),h!=null&&c.unshift(zl(e,h,b)),h=fe(e,n),h!=null&&c.push(zl(e,h,b))),e.tag===3)return c;e=e.return}return[]}function xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cb(e,n,a,c,h){for(var b=n._reactName,N=[];a!==null&&a!==c;){var C=a,Z=C.alternate,ut=C.stateNode;if(C=C.tag,Z!==null&&Z===c)break;C!==5&&C!==26&&C!==27||ut===null||(Z=ut,h?(ut=fe(a,b),ut!=null&&N.unshift(zl(a,ut,Z))):h||(ut=fe(a,b),ut!=null&&N.push(zl(a,ut,Z)))),a=a.return}N.length!==0&&e.push({event:n,listeners:N})}var iS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function Lb(e){return(typeof e=="string"?e:""+e).replace(iS,`
`).replace(aS,"")}function Bb(e,n){return n=Lb(n),Lb(e)===n}function Pu(){}function ve(e,n,a,c,h,b){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||hr(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&hr(e,""+c);break;case"className":Io(e,"class",c);break;case"tabIndex":Io(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Io(e,a,c);break;case"style":Wi(e,c,b);break;case"data":if(n!=="object"){Io(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Qi(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(n!=="input"&&ve(e,n,"name",h.name,h,null),ve(e,n,"formEncType",h.formEncType,h,null),ve(e,n,"formMethod",h.formMethod,h,null),ve(e,n,"formTarget",h.formTarget,h,null)):(ve(e,n,"encType",h.encType,h,null),ve(e,n,"method",h.method,h,null),ve(e,n,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Qi(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=Pu);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=Qi(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":re("beforetoggle",e),re("toggle",e),Ho(e,"popover",c);break;case"xlinkActuate":jr(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":jr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":jr(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":jr(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":jr(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":jr(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":jr(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":jr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":jr(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ho(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Js.get(a)||a,Ho(e,a,c))}}function Ih(e,n,a,c,h,b){switch(a){case"style":Wi(e,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof c=="string"?hr(e,c):(typeof c=="number"||typeof c=="bigint")&&hr(e,""+c);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cc.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),b=e[Sn]||null,b=b!=null?b[a]:null,typeof b=="function"&&e.removeEventListener(n,b,h),typeof c=="function")){typeof b!="function"&&b!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,h);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Ho(e,a,c)}}}function mn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var c=!1,h=!1,b;for(b in a)if(a.hasOwnProperty(b)){var N=a[b];if(N!=null)switch(b){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ve(e,n,b,N,a,null)}}h&&ve(e,n,"srcSet",a.srcSet,a,null),c&&ve(e,n,"src",a.src,a,null);return;case"input":re("invalid",e);var C=b=N=h=null,Z=null,ut=null;for(c in a)if(a.hasOwnProperty(c)){var bt=a[c];if(bt!=null)switch(c){case"name":h=bt;break;case"type":N=bt;break;case"checked":Z=bt;break;case"defaultChecked":ut=bt;break;case"value":b=bt;break;case"defaultValue":C=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(l(137,n));break;default:ve(e,n,c,bt,a,null)}}Bc(e,b,C,Z,ut,N,h,!1),Fi(e);return;case"select":re("invalid",e),c=N=b=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":b=C;break;case"defaultValue":N=C;break;case"multiple":c=C;default:ve(e,n,h,C,a,null)}n=b,a=N,e.multiple=!!c,n!=null?Hn(e,!!c,n,!1):a!=null&&Hn(e,!!c,a,!0);return;case"textarea":re("invalid",e),b=h=c=null;for(N in a)if(a.hasOwnProperty(N)&&(C=a[N],C!=null))switch(N){case"value":c=C;break;case"defaultValue":h=C;break;case"children":b=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:ve(e,n,N,C,a,null)}Zr(e,c,h,b),Fi(e);return;case"option":for(Z in a)if(a.hasOwnProperty(Z)&&(c=a[Z],c!=null))switch(Z){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ve(e,n,Z,c,a,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(c=0;c<Pl.length;c++)re(Pl[c],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ut in a)if(a.hasOwnProperty(ut)&&(c=a[ut],c!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ve(e,n,ut,c,a,null)}return;default:if(Ka(n)){for(bt in a)a.hasOwnProperty(bt)&&(c=a[bt],c!==void 0&&Ih(e,n,bt,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&ve(e,n,C,c,a,null))}function oS(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,b=null,N=null,C=null,Z=null,ut=null,bt=null;for(ft in a){var _t=a[ft];if(a.hasOwnProperty(ft)&&_t!=null)switch(ft){case"checked":break;case"value":break;case"defaultValue":Z=_t;default:c.hasOwnProperty(ft)||ve(e,n,ft,null,c,_t)}}for(var dt in c){var ft=c[dt];if(_t=a[dt],c.hasOwnProperty(dt)&&(ft!=null||_t!=null))switch(dt){case"type":b=ft;break;case"name":h=ft;break;case"checked":ut=ft;break;case"defaultChecked":bt=ft;break;case"value":N=ft;break;case"defaultValue":C=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(l(137,n));break;default:ft!==_t&&ve(e,n,dt,ft,c,_t)}}wn(e,N,C,Z,ut,bt,b,h);return;case"select":ft=N=C=dt=null;for(b in a)if(Z=a[b],a.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":ft=Z;default:c.hasOwnProperty(b)||ve(e,n,b,null,c,Z)}for(h in c)if(b=c[h],Z=a[h],c.hasOwnProperty(h)&&(b!=null||Z!=null))switch(h){case"value":dt=b;break;case"defaultValue":C=b;break;case"multiple":N=b;default:b!==Z&&ve(e,n,h,b,c,Z)}n=C,a=N,c=ft,dt!=null?Hn(e,!!a,dt,!1):!!c!=!!a&&(n!=null?Hn(e,!!a,n,!0):Hn(e,!!a,a?[]:"",!1));return;case"textarea":ft=dt=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ve(e,n,C,null,c,h)}for(N in c)if(h=c[N],b=a[N],c.hasOwnProperty(N)&&(h!=null||b!=null))switch(N){case"value":dt=h;break;case"defaultValue":ft=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==b&&ve(e,n,N,h,c,b)}Oe(e,dt,ft);return;case"option":for(var Gt in a)if(dt=a[Gt],a.hasOwnProperty(Gt)&&dt!=null&&!c.hasOwnProperty(Gt))switch(Gt){case"selected":e.selected=!1;break;default:ve(e,n,Gt,null,c,dt)}for(Z in c)if(dt=c[Z],ft=a[Z],c.hasOwnProperty(Z)&&dt!==ft&&(dt!=null||ft!=null))switch(Z){case"selected":e.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:ve(e,n,Z,dt,c,ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)dt=a[It],a.hasOwnProperty(It)&&dt!=null&&!c.hasOwnProperty(It)&&ve(e,n,It,null,c,dt);for(ut in c)if(dt=c[ut],ft=a[ut],c.hasOwnProperty(ut)&&dt!==ft&&(dt!=null||ft!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(l(137,n));break;default:ve(e,n,ut,dt,c,ft)}return;default:if(Ka(n)){for(var _e in a)dt=a[_e],a.hasOwnProperty(_e)&&dt!==void 0&&!c.hasOwnProperty(_e)&&Ih(e,n,_e,void 0,c,dt);for(bt in c)dt=c[bt],ft=a[bt],!c.hasOwnProperty(bt)||dt===ft||dt===void 0&&ft===void 0||Ih(e,n,bt,dt,c,ft);return}}for(var it in a)dt=a[it],a.hasOwnProperty(it)&&dt!=null&&!c.hasOwnProperty(it)&&ve(e,n,it,null,c,dt);for(_t in c)dt=c[_t],ft=a[_t],!c.hasOwnProperty(_t)||dt===ft||dt==null&&ft==null||ve(e,n,_t,dt,c,ft)}var $h=null,Uh=null;function zu(e){return e.nodeType===9?e:e.ownerDocument}function Rb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zh=null;function sS(){var e=window.event;return e&&e.type==="popstate"?e===Zh?!1:(Zh=e,!0):(Zh=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,cS=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(e){return Hb.resolve(null).then(e).catch(uS)}:zb;function uS(e){setTimeout(function(){throw e})}function Aa(e){return e==="head"}function Ib(e,n){var a=n,c=0,h=0;do{var b=a.nextSibling;if(e.removeChild(a),b&&b.nodeType===8)if(a=b.data,a==="/$"){if(0<c&&8>c){a=c;var N=e.ownerDocument;if(a&1&&Hl(N.documentElement),a&2&&Hl(N.body),a&4)for(a=N.head,Hl(a),N=a.firstChild;N;){var C=N.nextSibling,Z=N.nodeName;N[qi]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=C}}if(h===0){e.removeChild(b),Vl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:c=a.charCodeAt(0)-48;else c=0;a=b}while(a);Vl(n)}function Yh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yh(a),zo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dS(e,n,a,c){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[qi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(b=e.getAttribute("rel"),b==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(b!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(b=e.getAttribute("src"),(b!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&b&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var b=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===b)return e}else return e;if(e=Pr(e.nextSibling),e===null)break}return null}function fS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pr(e.nextSibling),e===null))return null;return e}function qh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Pr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Vh=null;function $b(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ub(e,n,a){switch(n=zu(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);zo(e)}var Sr=new Map,Gb=new Set;function Hu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bi=F.d;F.d={f:mS,r:pS,D:gS,C:bS,L:yS,m:vS,X:xS,S:_S,M:SS};function mS(){var e=Bi.f(),n=ju();return e||n}function pS(e){var n=li(e);n!==null&&n.tag===5&&n.type==="form"?cg(n):Bi.r(e)}var Ss=typeof document>"u"?null:document;function Zb(e,n,a){var c=Ss;if(c&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Gb.has(h)||(Gb.add(h),e={rel:e,crossOrigin:a,href:n},c.querySelector(h)===null&&(n=c.createElement("link"),mn(n,"link",e),Ye(n),c.head.appendChild(n)))}}function gS(e){Bi.D(e),Zb("dns-prefetch",e,null)}function bS(e,n){Bi.C(e,n),Zb("preconnect",e,n)}function yS(e,n,a){Bi.L(e,n,a);var c=Ss;if(c&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var b=h;switch(n){case"style":b=ws(e);break;case"script":b=Ts(e)}Sr.has(b)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Sr.set(b,e),c.querySelector(h)!==null||n==="style"&&c.querySelector(Il(b))||n==="script"&&c.querySelector($l(b))||(n=c.createElement("link"),mn(n,"link",e),Ye(n),c.head.appendChild(n)))}}function vS(e,n){Bi.m(e,n);var a=Ss;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(c)+'"][href="'+un(e)+'"]',b=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ts(e)}if(!Sr.has(b)&&(e=w({rel:"modulepreload",href:e},n),Sr.set(b,e),a.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(b)))return}c=a.createElement("link"),mn(c,"link",e),Ye(c),a.head.appendChild(c)}}}function _S(e,n,a){Bi.S(e,n,a);var c=Ss;if(c&&e){var h=ci(c).hoistableStyles,b=ws(e);n=n||"default";var N=h.get(b);if(!N){var C={loading:0,preload:null};if(N=c.querySelector(Il(b)))C.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Sr.get(b))&&Kh(e,a);var Z=N=c.createElement("link");Ye(Z),mn(Z,"link",e),Z._p=new Promise(function(ut,bt){Z.onload=ut,Z.onerror=bt}),Z.addEventListener("load",function(){C.loading|=1}),Z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Iu(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:C},h.set(b,N)}}}function xS(e,n){Bi.X(e,n);var a=Ss;if(a&&e){var c=ci(a).hoistableScripts,h=Ts(e),b=c.get(h);b||(b=a.querySelector($l(h)),b||(e=w({src:e,async:!0},n),(n=Sr.get(h))&&Fh(e,n),b=a.createElement("script"),Ye(b),mn(b,"link",e),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(h,b))}}function SS(e,n){Bi.M(e,n);var a=Ss;if(a&&e){var c=ci(a).hoistableScripts,h=Ts(e),b=c.get(h);b||(b=a.querySelector($l(h)),b||(e=w({src:e,async:!0,type:"module"},n),(n=Sr.get(h))&&Fh(e,n),b=a.createElement("script"),Ye(b),mn(b,"link",e),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(h,b))}}function Yb(e,n,a,c){var h=(h=st.current)?Hu(h):null;if(!h)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ws(a.href),a=ci(h).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ws(a.href);var b=ci(h).hoistableStyles,N=b.get(e);if(N||(h=h.ownerDocument||h,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(e,N),(b=h.querySelector(Il(e)))&&!b._p&&(N.instance=b,N.state.loading=5),Sr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sr.set(e,a),b||wS(h,e,a,N.state))),n&&c===null)throw Error(l(528,""));return N}if(n&&c!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ts(a),a=ci(h).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ws(e){return'href="'+un(e)+'"'}function Il(e){return'link[rel="stylesheet"]['+e+"]"}function qb(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function wS(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),mn(n,"link",a),Ye(n),e.head.appendChild(n))}function Ts(e){return'[src="'+un(e)+'"]'}function $l(e){return"script[async]"+e}function Vb(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+un(a.href)+'"]');if(c)return n.instance=c,Ye(c),c;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ye(c),mn(c,"style",h),Iu(c,a.precedence,e),n.instance=c;case"stylesheet":h=ws(a.href);var b=e.querySelector(Il(h));if(b)return n.state.loading|=4,n.instance=b,Ye(b),b;c=qb(a),(h=Sr.get(h))&&Kh(c,h),b=(e.ownerDocument||e).createElement("link"),Ye(b);var N=b;return N._p=new Promise(function(C,Z){N.onload=C,N.onerror=Z}),mn(b,"link",c),n.state.loading|=4,Iu(b,a.precedence,e),n.instance=b;case"script":return b=Ts(a.src),(h=e.querySelector($l(b)))?(n.instance=h,Ye(h),h):(c=a,(h=Sr.get(b))&&(c=w({},a),Fh(c,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ye(h),mn(h,"link",c),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,Iu(c,a.precedence,e));return n.instance}function Iu(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,b=h,N=0;N<c.length;N++){var C=c[N];if(C.dataset.precedence===n)b=C;else if(b!==h)break}b?b.parentNode.insertBefore(e,b.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Kh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $u=null;function Kb(e,n,a){if($u===null){var c=new Map,h=$u=new Map;h.set(a,c)}else h=$u,c=h.get(a),c||(c=new Map,h.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var b=a[h];if(!(b[qi]||b[tn]||e==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(n)||"";N=e+N;var C=c.get(N);C?C.push(b):c.set(N,[b])}}return c}function Fb(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function TS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xb(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ul=null;function ES(){}function NS(e,n,a){if(Ul===null)throw Error(l(475));var c=Ul;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ws(a.href),b=e.querySelector(Il(h));if(b){e=b._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Uu.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=b,Ye(b);return}b=e.ownerDocument||e,a=qb(a),(h=Sr.get(h))&&Kh(a,h),b=b.createElement("link"),Ye(b);var N=b;N._p=new Promise(function(C,Z){N.onload=C,N.onerror=Z}),mn(b,"link",a),n.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=Uu.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function MS(){if(Ul===null)throw Error(l(475));var e=Ul;return e.stylesheets&&e.count===0&&Xh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Xh(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gu=null;function Xh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gu=new Map,n.forEach(DS,e),Gu=null,Uu.call(e))}function DS(e,n){if(!(n.state.loading&4)){var a=Gu.get(e);if(a)var c=a.get(null);else{a=new Map,Gu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<h.length;b++){var N=h[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),c=N)}c&&a.set(null,c)}h=n.instance,N=h.getAttribute("data-precedence"),b=a.get(N)||c,b===c&&a.set(null,h),a.set(N,h),this.count++,c=Uu.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),b?b.parentNode.insertBefore(h,b.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Gl={$$typeof:D,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function AS(e,n,a,c,h,b,N,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Wb(e,n,a,c,h,b,N,C,Z,ut,bt,_t){return e=new AS(e,n,a,N,C,Z,ut,_t),n=1,b===!0&&(n|=24),b=Cn(3,null,null,n),e.current=b,b.stateNode=e,n=kf(),n.refCount++,e.pooledCache=n,n.refCount++,b.memoizedState={element:c,isDehydrated:a,cache:n},Bf(b),e}function Qb(e){return e?(e=Ni,e):Ni}function Jb(e,n,a,c,h,b){h=Qb(h),c.context===null?c.context=h:c.pendingContext=h,c=ga(n),c.payload={element:a},b=b===void 0?null:b,b!==null&&(c.callback=b),a=ba(e,c,n),a!==null&&(ir(a,e,n),vl(a,e,n))}function ty(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Wh(e,n){ty(e,n),(e=e.alternate)&&ty(e,n)}function ey(e){if(e.tag===13){var n=da(e,67108864);n!==null&&ir(n,e,67108864),Wh(e,67108864)}}var Zu=!0;function jS(e,n,a,c){var h=q.T;q.T=null;var b=F.p;try{F.p=2,Qh(e,n,a,c)}finally{F.p=b,q.T=h}}function kS(e,n,a,c){var h=q.T;q.T=null;var b=F.p;try{F.p=8,Qh(e,n,a,c)}finally{F.p=b,q.T=h}}function Qh(e,n,a,c){if(Zu){var h=Jh(c);if(h===null)Hh(e,n,c,Yu,a),ry(e,c);else if(CS(h,e,n,a,c))c.stopPropagation();else if(ry(e,c),n&4&&-1<OS.indexOf(e)){for(;h!==null;){var b=li(h);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=vn(b.pendingLanes);if(N!==0){var C=b;for(C.pendingLanes|=2,C.entangledLanes|=2;N;){var Z=1<<31-Ae(N);C.entanglements[1]|=Z,N&=~Z}ti(b),(ge&6)===0&&(Du=ae()+500,Rl(0))}}break;case 13:C=da(b,2),C!==null&&ir(C,b,2),ju(),Wh(b,2)}if(b=Jh(c),b===null&&Hh(e,n,c,Yu,a),b===h)break;h=b}h!==null&&c.stopPropagation()}else Hh(e,n,c,null,a)}}function Jh(e){return e=Ji(e),tm(e)}var Yu=null;function tm(e){if(Yu=null,e=Gr(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Yu=e,null}function ny(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Vt:return 2;case pt:return 8;case St:case gt:return 32;case $t:return 268435456;default:return 32}default:return 32}}var em=!1,ja=null,ka=null,Oa=null,Zl=new Map,Yl=new Map,Ca=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(e,n){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function ql(e,n,a,c,h,b){return e===null||e.nativeEvent!==b?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:b,targetContainers:[h]},n!==null&&(n=li(n),n!==null&&ey(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function CS(e,n,a,c,h){switch(n){case"focusin":return ja=ql(ja,e,n,a,c,h),!0;case"dragenter":return ka=ql(ka,e,n,a,c,h),!0;case"mouseover":return Oa=ql(Oa,e,n,a,c,h),!0;case"pointerover":var b=h.pointerId;return Zl.set(b,ql(Zl.get(b)||null,e,n,a,c,h)),!0;case"gotpointercapture":return b=h.pointerId,Yl.set(b,ql(Yl.get(b)||null,e,n,a,c,h)),!0}return!1}function iy(e){var n=Gr(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,Xs(e.priority,function(){if(a.tag===13){var c=rr();c=Ks(c);var h=da(a,c);h!==null&&ir(h,a,c),Wh(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Jh(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);Fa=c,a.target.dispatchEvent(c),Fa=null}else return n=li(a),n!==null&&ey(n),e.blockedOn=a,!1;n.shift()}return!0}function ay(e,n,a){qu(e)&&a.delete(n)}function LS(){em=!1,ja!==null&&qu(ja)&&(ja=null),ka!==null&&qu(ka)&&(ka=null),Oa!==null&&qu(Oa)&&(Oa=null),Zl.forEach(ay),Yl.forEach(ay)}function Vu(e,n){e.blockedOn===n&&(e.blockedOn=null,em||(em=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LS)))}var Ku=null;function oy(e){Ku!==e&&(Ku=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ku===e&&(Ku=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],h=e[n+2];if(typeof c!="function"){if(tm(c||a)===null)continue;break}var b=li(a);b!==null&&(e.splice(n,3),n-=3,th(b,{pending:!0,data:h,method:a.method,action:c},c,h))}}))}function Vl(e){function n(Z){return Vu(Z,e)}ja!==null&&Vu(ja,e),ka!==null&&Vu(ka,e),Oa!==null&&Vu(Oa,e),Zl.forEach(n),Yl.forEach(n);for(var a=0;a<Ca.length;a++){var c=Ca[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ca.length&&(a=Ca[0],a.blockedOn===null);)iy(a),a.blockedOn===null&&Ca.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var h=a[c],b=a[c+1],N=h[Sn]||null;if(typeof b=="function")N||oy(a);else if(N){var C=null;if(b&&b.hasAttribute("formAction")){if(h=b,N=b[Sn]||null)C=N.formAction;else if(tm(h)!==null)continue}else C=N.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),oy(a)}}}function nm(e){this._internalRoot=e}Fu.prototype.render=nm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,c=rr();Jb(a,c,e,n,null,null)},Fu.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jb(e.current,2,null,e,null,null),ju(),n[Yi]=null}};function Fu(e){this._internalRoot=e}Fu.prototype.unstable_scheduleHydration=function(e){if(e){var n=jc();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ca.length&&n!==0&&n<Ca[a].priority;a++);Ca.splice(a,0,e),a===0&&iy(e)}};var sy=i.version;if(sy!=="19.1.1")throw Error(l(527,sy,"19.1.1"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var BS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Ct=Xu.inject(BS),oe=Xu}catch{}}return Fl.createRoot=function(e,n){if(!u(e))throw Error(l(299));var a=!1,c="",h=wg,b=Tg,N=Eg,C=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks)),n=Wb(e,1,!1,null,null,a,c,h,b,N,C,null),e[Yi]=n.current,zh(e),new nm(n)},Fl.hydrateRoot=function(e,n,a){if(!u(e))throw Error(l(299));var c=!1,h="",b=wg,N=Tg,C=Eg,Z=null,ut=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Z=a.unstable_transitionCallbacks),a.formState!==void 0&&(ut=a.formState)),n=Wb(e,1,!0,n,a??null,c,h,b,N,C,Z,ut),n.context=Qb(null),a=n.current,c=rr(),c=Ks(c),h=ga(c),h.callback=null,ba(a,h,c),a=c,n.current.lanes=a,xn(n,a),ti(n),e[Yi]=n.current,zh(e),new Fu(n)},Fl.version="19.1.1",Fl}var by;function YS(){if(by)return am.exports;by=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),am.exports=ZS(),am.exports}var qS=YS();let VS={data:""},KS=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||VS,FS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XS=/\/\*[^]*?\*\/|  +/g,yy=/\n+/g,za=(t,i)=>{let o="",l="",u="";for(let d in t){let m=t[d];d[0]=="@"?d[1]=="i"?o=d+" "+m+";":l+=d[1]=="f"?za(m,d):d+"{"+za(m,d[1]=="k"?"":i)+"}":typeof m=="object"?l+=za(m,i?i.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,y=>/&/.test(y)?y.replace(/&/g,p):p?p+" "+y:y)):d):m!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=za.p?za.p(d,m):d+":"+m+";")}return o+(i&&u?i+"{"+u+"}":u)+l},Ri={},Y_=t=>{if(typeof t=="object"){let i="";for(let o in t)i+=o+Y_(t[o]);return i}return t},WS=(t,i,o,l,u)=>{let d=Y_(t),m=Ri[d]||(Ri[d]=(y=>{let v=0,w=11;for(;v<y.length;)w=101*w+y.charCodeAt(v++)>>>0;return"go"+w})(d));if(!Ri[m]){let y=d!==t?t:(v=>{let w,x,S=[{}];for(;w=FS.exec(v.replace(XS,""));)w[4]?S.shift():w[3]?(x=w[3].replace(yy," ").trim(),S.unshift(S[0][x]=S[0][x]||{})):S[0][w[1]]=w[2].replace(yy," ").trim();return S[0]})(t);Ri[m]=za(u?{["@keyframes "+m]:y}:y,o?"":"."+m)}let p=o&&Ri.g?Ri.g:null;return o&&(Ri.g=Ri[m]),((y,v,w,x)=>{x?v.data=v.data.replace(x,y):v.data.indexOf(y)===-1&&(v.data=w?y+v.data:v.data+y)})(Ri[m],i,l,p),m},QS=(t,i,o)=>t.reduce((l,u,d)=>{let m=i[d];if(m&&m.call){let p=m(o),y=p&&p.props&&p.props.className||/^go/.test(p)&&p;m=y?"."+y:p&&typeof p=="object"?p.props?"":za(p,""):p===!1?"":p}return l+u+(m??"")},"");function Kd(t){let i=this||{},o=t.call?t(i.p):t;return WS(o.unshift?o.raw?QS(o,[].slice.call(arguments,1),i.p):o.reduce((l,u)=>Object.assign(l,u&&u.call?u(i.p):u),{}):o,KS(i.target),i.g,i.o,i.k)}let q_,tp,ep;Kd.bind({g:1});let Gi=Kd.bind({k:1});function JS(t,i,o,l){za.p=i,q_=t,tp=o,ep=l}function Ua(t,i){let o=this||{};return function(){let l=arguments;function u(d,m){let p=Object.assign({},d),y=p.className||u.className;o.p=Object.assign({theme:tp&&tp()},p),o.o=/ *go\d+/.test(y),p.className=Kd.apply(o,l)+(y?" "+y:"");let v=t;return t[0]&&(v=p.as||t,delete p.as),ep&&v[0]&&ep(p),q_(v,p)}return u}}var tw=t=>typeof t=="function",Dd=(t,i)=>tw(t)?t(i):t,ew=(()=>{let t=0;return()=>(++t).toString()})(),V_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),nw=20,Lp="default",K_=(t,i)=>{let{toastLimit:o}=t.settings;switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,o)};case 1:return{...t,toasts:t.toasts.map(m=>m.id===i.toast.id?{...m,...i.toast}:m)};case 2:let{toast:l}=i;return K_(t,{type:t.toasts.find(m=>m.id===l.id)?1:0,toast:l});case 3:let{toastId:u}=i;return{...t,toasts:t.toasts.map(m=>m.id===u||u===void 0?{...m,dismissed:!0,visible:!1}:m)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(m=>m.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let d=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(m=>({...m,pauseDuration:m.pauseDuration+d}))}}},Sd=[],F_={toasts:[],pausedAt:void 0,settings:{toastLimit:nw}},ei={},X_=(t,i=Lp)=>{ei[i]=K_(ei[i]||F_,t),Sd.forEach(([o,l])=>{o===i&&l(ei[i])})},W_=t=>Object.keys(ei).forEach(i=>X_(t,i)),rw=t=>Object.keys(ei).find(i=>ei[i].toasts.some(o=>o.id===t)),Fd=(t=Lp)=>i=>{X_(i,t)},iw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aw=(t={},i=Lp)=>{let[o,l]=R.useState(ei[i]||F_),u=R.useRef(ei[i]);R.useEffect(()=>(u.current!==ei[i]&&l(ei[i]),Sd.push([i,l]),()=>{let m=Sd.findIndex(([p])=>p===i);m>-1&&Sd.splice(m,1)}),[i]);let d=o.toasts.map(m=>{var p,y,v;return{...t,...t[m.type],...m,removeDelay:m.removeDelay||((p=t[m.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:m.duration||((y=t[m.type])==null?void 0:y.duration)||t?.duration||iw[m.type],style:{...t.style,...(v=t[m.type])==null?void 0:v.style,...m.style}}});return{...o,toasts:d}},ow=(t,i="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...o,id:o?.id||ew()}),Tc=t=>(i,o)=>{let l=ow(i,t,o);return Fd(l.toasterId||rw(l.id))({type:2,toast:l}),l.id},Je=(t,i)=>Tc("blank")(t,i);Je.error=Tc("error");Je.success=Tc("success");Je.loading=Tc("loading");Je.custom=Tc("custom");Je.dismiss=(t,i)=>{let o={type:3,toastId:t};i?Fd(i)(o):W_(o)};Je.dismissAll=t=>Je.dismiss(void 0,t);Je.remove=(t,i)=>{let o={type:4,toastId:t};i?Fd(i)(o):W_(o)};Je.removeAll=t=>Je.remove(void 0,t);Je.promise=(t,i,o)=>{let l=Je.loading(i.loading,{...o,...o?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=i.success?Dd(i.success,u):void 0;return d?Je.success(d,{id:l,...o,...o?.success}):Je.dismiss(l),u}).catch(u=>{let d=i.error?Dd(i.error,u):void 0;d?Je.error(d,{id:l,...o,...o?.error}):Je.dismiss(l)}),t};var sw=1e3,lw=(t,i="default")=>{let{toasts:o,pausedAt:l}=aw(t,i),u=R.useRef(new Map).current,d=R.useCallback((x,S=sw)=>{if(u.has(x))return;let T=setTimeout(()=>{u.delete(x),m({type:4,toastId:x})},S);u.set(x,T)},[]);R.useEffect(()=>{if(l)return;let x=Date.now(),S=o.map(T=>{if(T.duration===1/0)return;let k=(T.duration||0)+T.pauseDuration-(x-T.createdAt);if(k<0){T.visible&&Je.dismiss(T.id);return}return setTimeout(()=>Je.dismiss(T.id,i),k)});return()=>{S.forEach(T=>T&&clearTimeout(T))}},[o,l,i]);let m=R.useCallback(Fd(i),[i]),p=R.useCallback(()=>{m({type:5,time:Date.now()})},[m]),y=R.useCallback((x,S)=>{m({type:1,toast:{id:x,height:S}})},[m]),v=R.useCallback(()=>{l&&m({type:6,time:Date.now()})},[l,m]),w=R.useCallback((x,S)=>{let{reverseOrder:T=!1,gutter:k=8,defaultPosition:A}=S||{},P=o.filter(D=>(D.position||A)===(x.position||A)&&D.height),I=P.findIndex(D=>D.id===x.id),z=P.filter((D,O)=>O<I&&D.visible).length;return P.filter(D=>D.visible).slice(...T?[z+1]:[0,z]).reduce((D,O)=>D+(O.height||0)+k,0)},[o]);return R.useEffect(()=>{o.forEach(x=>{if(x.dismissed)d(x.id,x.removeDelay);else{let S=u.get(x.id);S&&(clearTimeout(S),u.delete(x.id))}})},[o,d]),{toasts:o,handlers:{updateHeight:y,startPause:p,endPause:v,calculateOffset:w}}},cw=Gi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uw=Gi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dw=Gi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fw=Ua("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hw=Gi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mw=Ua("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${hw} 1s linear infinite;
`,pw=Gi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gw=Gi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bw=Ua("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yw=Ua("div")`
  position: absolute;
`,vw=Ua("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_w=Gi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xw=Ua("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_w} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Sw=({toast:t})=>{let{icon:i,type:o,iconTheme:l}=t;return i!==void 0?typeof i=="string"?R.createElement(xw,null,i):i:o==="blank"?null:R.createElement(vw,null,R.createElement(mw,{...l}),o!=="loading"&&R.createElement(yw,null,o==="error"?R.createElement(fw,{...l}):R.createElement(bw,{...l})))},ww=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Tw=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Ew="0%{opacity:0;} 100%{opacity:1;}",Nw="0%{opacity:1;} 100%{opacity:0;}",Mw=Ua("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Dw=Ua("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Aw=(t,i)=>{let o=t.includes("top")?1:-1,[l,u]=V_()?[Ew,Nw]:[ww(o),Tw(o)];return{animation:i?`${Gi(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gi(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jw=R.memo(({toast:t,position:i,style:o,children:l})=>{let u=t.height?Aw(t.position||i||"top-center",t.visible):{opacity:0},d=R.createElement(Sw,{toast:t}),m=R.createElement(Dw,{...t.ariaProps},Dd(t.message,t));return R.createElement(Mw,{className:t.className,style:{...u,...o,...t.style}},typeof l=="function"?l({icon:d,message:m}):R.createElement(R.Fragment,null,d,m))});JS(R.createElement);var kw=({id:t,className:i,style:o,onHeightUpdate:l,children:u})=>{let d=R.useCallback(m=>{if(m){let p=()=>{let y=m.getBoundingClientRect().height;l(t,y)};p(),new MutationObserver(p).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[t,l]);return R.createElement("div",{ref:d,className:i,style:o},u)},Ow=(t,i)=>{let o=t.includes("top"),l=o?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:V_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(o?1:-1)}px)`,...l,...u}},Cw=Kd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Wu=16,Lw=({reverseOrder:t,position:i="top-center",toastOptions:o,gutter:l,children:u,toasterId:d,containerStyle:m,containerClassName:p})=>{let{toasts:y,handlers:v}=lw(o,d);return R.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:Wu,left:Wu,right:Wu,bottom:Wu,pointerEvents:"none",...m},className:p,onMouseEnter:v.startPause,onMouseLeave:v.endPause},y.map(w=>{let x=w.position||i,S=v.calculateOffset(w,{reverseOrder:t,gutter:l,defaultPosition:i}),T=Ow(x,S);return R.createElement(kw,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?Cw:"",style:T},w.type==="custom"?Dd(w.message,w):u?u(w):R.createElement(jw,{toast:w,position:x}))}))},cm=Je;function Bw(t,i,o,l=0,u=0){i<=2&&(t-=1,i+=12);const d=Math.floor(t/100),m=2-d+Math.floor(d/4),p=o+(l+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+p+m-1524.5}const Rw=864e5;function Pw(t){const i=(t-24405875e-1)*Rw;return new Date(i)}function zw(t,i=7){const o=t+(i-.5)/12;if(o>=1986&&o<2005){const u=o-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(o>=2005&&o<2050){const u=o-2e3;return 62.92+.32217*u+.005589*u*u}if(o>=2050&&o<=2150){const u=(o-1820)/100;return-20+32*u*u-.5628*(2150-o)}if(o>=1900&&o<1986)return-2.79+1.494119*(o-1900)-.0598939*(o-1900)**2+.0061966*(o-1900)**3-197e-6*(o-1900)**4;if(o>=1800&&o<1900){const u=(o-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const l=(o-1820)/100;return-20+32*l*l}function Hw(t){const i=Math.floor(t+.5),o=t+.5-i;let l=i;if(i>=2299161){const x=Math.floor((i-186721625e-2)/36524.25);l=i+1+x-Math.floor(x/4)}const u=l+1524,d=Math.floor((u-122.1)/365.25),m=Math.floor(365.25*d),p=Math.floor((u-m)/30.6001),y=u-m-Math.floor(30.6001*p)+o;let v=p-1;v>12&&(v-=12);let w=d-4715;return v>2&&(w-=1),[w,v,y]}const uc=Math.PI,No=uc/180,Iw=180/uc,$w=86400;function Uw(t){return t%=360,t<0?t+360:t}function Gw(t,i){return(t-i+540)%360-180}function vy(t,i){for(;t-i>180;)t-=360;for(;t-i<-180;)t+=360;return t}function Zw(t){const[i,o]=Hw(t);return t+zw(i,Math.round(o))/$w}function _y(t,i){let o=0,l=1;for(let u=0;u<t.length;u++){let d=0;for(const[m,p,y]of t[u])d+=m*Math.cos(p+y*i);o+=d*l,l*=i}return o*1e-8}function Yw(t){const i=(t-2451545)/36525,o=(297.85036+445267.11148*i-.0019142*i*i+i*i*i/189474)*No,l=(357.52772+35999.05034*i-1603e-7*i*i-i*i*i/3e5)*No,u=(134.96298+477198.867398*i+.0086972*i*i+i*i*i/56250)*No,d=(93.27191+483202.017538*i-.0036825*i*i+i*i*i/327270)*No,m=(125.04452-1934.136261*i+.0020708*i*i+i*i*i/45e4)*No,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let y=0,v=0;for(const[w,x,S,T,k,A,P,I,z]of p){const D=w*o+x*l+S*u+T*d+k*m;y+=(A+P*i)*Math.sin(D),v+=(I+z*i)*Math.cos(D)}return y*=1e-4,v*=1e-4,{dpsi:y,deps:v}}function Qu(t){const i=Zw(t),o=(i-2451545)/365250,l=_y(xy.L,o),u=_y(xy.R,o);let d=l+uc;d>2*uc&&(d-=2*uc);const{dpsi:m}=Yw(i),p=m/3600*No,y=20.4898/(3600*u),v=d+p-y*No;return Uw(v*Iw)}function Qe(t,i,o){const l=(i%360+360)%360,u=Bw(t,1,1),d=Qu(u);let m=l-d;m<0&&(m+=360);let p=u+m/.98564736;const y=1e-6,v=5e-6;for(let x=0;x<25;x++){const S=Qu(p),T=Gw(l,S);if(Math.abs(T)<y)break;const k=Qu(p+v),A=Qu(p-v),P=vy(k,S),I=vy(A,S),z=(P-I)/(2*v);p+=T/z}const w=Pw(p);if(Number.isFinite(o)){const x=o/15-9;if(Math.abs(x)>1e-12)return new Date(w.getTime()+x*36e5)}return w}const xy={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},ni=["갑","을","병","정","무","기","경","신","임","계"],Ii=["자","축","인","묘","진","사","오","미","신","유","술","해"],np={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},Q_={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},qw=["목","목","화","화","토","토","금","금","수","수"],Vw=["수","토","목","목","토","화","화","토","금","금","토","수"],J_=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],tx={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},Kw={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},Sy=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],Fw={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},Xw={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function Ww(t,i=127.5){return(Be(t,i)||"").charAt(0)}const wy=new Map;function ex(t,i=127.5){const o=`${t}@${i}`,l=wy.get(o);if(l)return l;const u=Qe(t,315,i);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${i}`);return wy.set(o,u),u}const Qw=(t,i)=>(t%i+i)%i,nx=t=>t instanceof Date&&!Number.isNaN(t.getTime());function rx(t,i=127.5){if(!nx(t))throw new Error("resolveYearIndex: invalid date");const o=t.getFullYear(),l=ex(o,i),u=t<l?o-1:o,d=Qw(u-4,60);return{useYear:u,index60Num:d}}function Be(t,i=127.5){const{index60Num:o}=rx(t,i);return J_[o]}const Jw=[2,4,6,8,0,2,4,6,8,0];function tT(t,i=127.5){const o=new Array(12);return o[0]=ex(t,i),o[1]=Qe(t,345,i),o[2]=Qe(t,15,i),o[3]=Qe(t,45,i),o[4]=Qe(t,75,i),o[5]=Qe(t,105,i),o[6]=Qe(t,135,i),o[7]=Qe(t,165,i),o[8]=Qe(t,195,i),o[9]=Qe(t,225,i),o[10]=Qe(t,255,i),o[11]=Qe(t+1,285,i),o}function eT(t,i=127.5){const{useYear:o}=rx(t,i),l=tT(o,i);let u=0;for(let m=0;m<12;m++)t>=l[m]&&(u=m);return{monthIndex:u+1,useYear:o,boundaries:l}}function nT(t,i=127.5){const o=Ww(t,i),l=np.천간.indexOf(o);if(l<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${o}"`);return Jw[l]}function rT(t,i,o=127.5){return(nT(t,o)+(i-1))%10}function yn(t,i=127.5){if(!nx(t))return"";const{monthIndex:o}=eT(t,i),l=(2+(o-1))%12,u=np.지지[l],d=rT(t,o,i);return np.천간[d]+u}const iT=(t,i)=>(t%i+i)%i;function aT(t,i,o,l=0,u=0,d=0){i<=2&&(t-=1,i+=12);const m=Math.floor(t/100),p=2-m+Math.floor(m/4),y=(l+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+o+y+p-1524.5}function oT(t,i){const o=t.getHours(),l=t.getMinutes(),u=o*60+l,d=ix(t);return i==="야자시"&&d==="자"?u>=1380?1:0:i==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const Ty={JDN:2445731,idx:0};function Ze(t,i){const o=oT(t,i),l=new Date(t.getTime());l.setDate(l.getDate()+o);const u=aT(l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),l.getMinutes()),d=Math.floor(u+.5),m=iT(d-Ty.JDN+Ty.idx,60),p=J_[m];if(!p)throw new Error(`getDayGanZhi: idx=${m} out of range (jdn=${d}, jd=${u})`);return p}function ix(t){t instanceof Date||(t=new Date(t));const i=t.getHours()*60+t.getMinutes();for(let o=0;o<Sy.length;o++){const{branch:l,start:u,end:d}=Sy[o];if(u<d){if(i>=u&&i<d)return l}else if(i>=u||i<d)return l}return"자"}function sT(t,i,o,l){const u=ni.indexOf(i);if(u<0)return"";let d=(u%5*2+o)%10;const m=t.getHours();return(l==="인시"||l==="조자시"&&m>=3)&&(o===0||o===1)&&(d=(d+2)%10),ni[d]}function ri(t,i,o){t instanceof Date||(t=new Date(t));const l=ix(t),u=Ii.indexOf(l),m=(o??Ze(t,i)).charAt(0);return sT(t,m,u,i)+l}const Ey=t=>{let i;const o=new Set,l=(v,w)=>{const x=typeof v=="function"?v(i):v;if(!Object.is(x,i)){const S=i;i=w??(typeof x!="object"||x===null)?x:Object.assign({},i,x),o.forEach(T=>T(i,S))}},u=()=>i,p={setState:l,getState:u,getInitialState:()=>y,subscribe:v=>(o.add(v),()=>o.delete(v))},y=i=t(l,u,p);return p},lT=(t=>t?Ey(t):Ey),cT=t=>t;function uT(t,i=cT){const o=De.useSyncExternalStore(t.subscribe,De.useCallback(()=>i(t.getState()),[t,i]),De.useCallback(()=>i(t.getInitialState()),[t,i]));return De.useDebugValue(o),o}const dT=t=>{const i=lT(t),o=l=>uT(i,l);return Object.assign(o,i),o},Bp=(t=>dT);function fT(t,i){let o;try{o=t()}catch{return}return{getItem:u=>{var d;const m=y=>y===null?null:JSON.parse(y,void 0),p=(d=o.getItem(u))!=null?d:null;return p instanceof Promise?p.then(m):m(p)},setItem:(u,d)=>o.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>o.removeItem(u)}}const rp=t=>i=>{try{const o=t(i);return o instanceof Promise?o:{then(l){return rp(l)(o)},catch(l){return this}}}catch(o){return{then(l){return this},catch(l){return rp(l)(o)}}}},hT=(t,i)=>(o,l,u)=>{let d={storage:fT(()=>localStorage),partialize:A=>A,version:0,merge:(A,P)=>({...P,...A}),...i},m=!1;const p=new Set,y=new Set;let v=d.storage;if(!v)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),o(...A)},l,u);const w=()=>{const A=d.partialize({...l()});return v.setItem(d.name,{state:A,version:d.version})},x=u.setState;u.setState=(A,P)=>(x(A,P),w());const S=t((...A)=>(o(...A),w()),l,u);u.getInitialState=()=>S;let T;const k=()=>{var A,P;if(!v)return;m=!1,p.forEach(z=>{var D;return z((D=l())!=null?D:S)});const I=((P=d.onRehydrateStorage)==null?void 0:P.call(d,(A=l())!=null?A:S))||void 0;return rp(v.getItem.bind(v))(d.name).then(z=>{if(z)if(typeof z.version=="number"&&z.version!==d.version){if(d.migrate){const D=d.migrate(z.state,z.version);return D instanceof Promise?D.then(O=>[!0,O]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,z.state];return[!1,void 0]}).then(z=>{var D;const[O,B]=z;if(T=d.merge(B,(D=l())!=null?D:S),o(T,!0),O)return w()}).then(()=>{I?.(T,void 0),T=l(),m=!0,y.forEach(z=>z(T))}).catch(z=>{I?.(void 0,z)})};return u.persist={setOptions:A=>{d={...d,...A},A.storage&&(v=A.storage)},clearStorage:()=>{v?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>k(),hasHydrated:()=>m,onHydrate:A=>(p.add(A),()=>{p.delete(A)}),onFinishHydration:A=>(y.add(A),()=>{y.delete(A)})},d.skipHydration||k(),T||S},Rp=hT,Ny={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},ii=Bp()(Rp((t,i)=>({settings:Ny,setSettings:o=>t({settings:o}),setKey:(o,l)=>t({settings:{...i().settings,[o]:l}}),reset:()=>t({settings:Ny})}),{name:"settings_v1"}));function ip(t){const i=ni.indexOf(t);if(i!==-1)return ni[i];const o=Q_.천간.indexOf(t);return o!==-1?ni[o]:t}function ax(t){const i=Ii.indexOf(t);if(i!==-1)return Ii[i];const o=Q_.지지.indexOf(t);return o!==-1?Ii[o]:t}function My(t){switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function $r(t,i){if(i==="stem"){const o=ip(t),l=ni.indexOf(o),u=l>=0?qw[l]:void 0;return My(u)}else{const o=ax(t),l=Ii.indexOf(o),u=l>=0?Vw[l]:void 0;return My(u)}}function Pn(t,i){const o=ip(t);if(!o)throw new Error(`getSipSin: invalid dayStem ${t}`);if(i.stem){const l=ip(i.stem);if(!l)throw new Error(`getSipSin: invalid stem ${i.stem}`);return Fw[o][l]}if(i.branch){const l=ax(i.branch);if(!l)throw new Error(`getSipSin: invalid branch ${i.branch}`);return Xw[o][l]}throw new Error("getSipSin: stem or branch required")}const mT={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},pT={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function sc({branch:t,dayStem:i,mode:o="all",mapping:l="classic",variant:u="auto"}){const d=(l==="hgc"?pT:mT)[t]??[],m=o==="main"?[d[2]]:d,p=u==="white",y=p?"text-white":"text-neutral-800 dark:text-white",v=p?"border-white":"border-neutral-800 dark: border-neutral-200",w=p?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"flex flex-col gap-1 mt-1",children:m.map((x,S)=>x==="(-)"?g.jsx("div",{className:`flex-1 text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${v} ${y} rounded text-center text-nowrap`,children:"(-) (없음)"},S):g.jsxs("div",{className:`flex-1 text-[10px] desk:text-xs py-0.5 desk:px-1 border ${v} ${y} rounded text-center text-nowrap 
            ${o==="main"||S===2?`jeonggi bg-neutral-500/50 ${w} font-bold`:""}`,children:[x," (",Pn(i,{stem:x}),")"]},S))})}const Pp={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},ox=Object.fromEntries(Object.entries(Pp).map(([t,i])=>[i,t])),zp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},sx=Object.fromEntries(Object.entries(zp).map(([t,i])=>[i,t])),gT=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],bT=["갑","을","병","정","무","기","경","신","임","계"],yT=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],vT=["자","축","인","묘","진","사","오","미","신","유","술","해"];function Dy(t){return bT.includes(t)}function Ay(t){return vT.includes(t)}function _T(t){return gT.includes(t)}function xT(t){return yT.includes(t)}function jy(t,i,o){return o==="한글"?i==="stem"?Pp[t]??t:zp[t]??t:i==="stem"?ox[t]??t:sx[t]??t}function ky(t){const i=ox[t]??t;return _T(i)?i:"갑"}function ST(t){const i=sx[t]??t;return xT(i)?i:"자"}function wT(t){if(Dy(t))return t;const i=Pp[t]??t;return Dy(i)?i:"갑"}function TT(t){if(Ay(t))return t;const i=zp[t]??t;return Ay(i)?i:"자"}const ET=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),NT=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),MT=t=>ET.has(t),DT=t=>NT.has(t);function Ao({label:t,gz:i,dayStem:o,settings:l,unseongText:u,shinsalText:d,hideBranchSipSin:m=!0,hideHiddenStems:p=!1,size:y="sm",variant:v="auto"}){const w=i.charAt(0),x=i.charAt(1),S=jy(w,"stem",l.charType),T=jy(x,"branch",l.charType),k=ky(w),A=ST(x),P=ky(o),I=TT(x),z=wT(o),D=l.showSipSin?Pn(P,{stem:k}):null,O=!m&&l.showSipSin?Pn(P,{branch:A}):null,B=l.thinEum&&MT(w)?"font-thin":"font-bold",Y=l.thinEum&&DT(x)?"font-thin":"font-bold",J={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},Q=!p&&!!l.hiddenStem,rt=l.hiddenStem==="regular"?"main":"all",nt=l.hiddenStemMode==="hgc"?"hgc":"classic",X=v==="white",$=X?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",K=X?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",mt=X?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",vt=X?"text-neutral-500":"text-neutral-400",q=X?"text-neutral-500":"text-neutral-400",F=X?`bg-white ${mt}`:`${$r(k,"stem")} ${mt}`,at=X?"text-neutral-900":"text-white",U=X?`bg-white ${mt}`:`${$r(A,"branch")} ${mt}`,M=X?"text-neutral-900":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${$}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${K} text-nowrap`,children:t}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[D&&g.jsx("div",{className:`text-[10px] desk:text-xs ${vt} text-nowrap`,children:D}),g.jsx("div",{className:`${J[y]} rounded-sm desk:rounded-lg flex items-center justify-center border ${F}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${at} ${B}`,children:S})}),g.jsx("div",{className:`${J[y]} rounded-sm desk:rounded-lg flex items-center justify-center border ${U}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${M} ${Y}`,children:T})}),Q&&g.jsx(sc,{branch:I,dayStem:z,mode:rt,mapping:nt}),O&&g.jsx("div",{className:`text-[10px] desk:text-xs ${q}`,children:O}),l.showSibiUnseong&&!!u&&g.jsx("div",{className:`text-[10px] desk:text-xs ${q} text-nowrap`,children:u}),l.showSibiSinsal&&!!d&&g.jsx("div",{className:`text-[10px] desk:text-xs ${q} text-nowrap`,children:d})]})]})}const AT={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},jT=["갑","을","병","정","무","기","경","신","임","계"],kT=new Set(jT),OT=new Set(["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"]);function CT(t){return kT.has(t)?t:OT.has(t)?AT[t]:"갑"}function LT({label:t,size:i="sm",settings:o,hideBranchSipSin:l=!0}){const u={sm:"w-8 h-8 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},d=o.showSipSin,m=!!o.hiddenStem,y=(o.hiddenStem==="regular"?"main":"all")==="main"?1:3,v=o.showSipSin&&!l;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[d&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:`${u[i]} rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white`,children:g.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:`${u[i]} rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white`,children:g.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),m&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:y}).map((w,x)=>g.jsx("div",{className:"w-full max-w-[54px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},x))}),v&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function BT(){const t=ii(k=>k.settings),[i,o]=R.useState(new Date),[l,u]=R.useState(!0),[d,m]=R.useState("조자시"),[p,y]=R.useState(!1);R.useEffect(()=>{if(!l)return;const k=setInterval(()=>o(new Date),1e3);return()=>clearInterval(k)},[l]);const v=Be(i),w=yn(i),x=Ze(i,d),S=ri(i,"조자시"),T=CT(x.charAt(0));return g.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",l?"실시간":"수동선택",") ",zT(i)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:d,onChange:k=>m(k.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"야자시",children:"야자시 (전날 23시)"}),g.jsx("option",{value:"조자시",children:"조자시 (자정)"}),g.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),g.jsx("button",{onClick:()=>u(!l),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:l?"피커 사용":"타이머 사용"})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?g.jsx(LT,{label:"시주",size:"sm",settings:t,hideBranchSipSin:!0}):g.jsx(Ao,{label:"시주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Ao,{label:"일주",gz:x,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Ao,{label:"월주",gz:w,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Ao,{label:"연주",gz:v,dayStem:T,settings:t,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:RT(i),disabled:l,onChange:k=>{const A=PT(k.target.value);A&&o(A)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>y(k=>!k),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function RT(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function PT(t){if(!t)return null;const[i,o]=t.split("T");if(!i||!o)return null;const[l,u,d]=i.split("-").map(Number),[m,p]=o.split(":").map(Number),y=new Date(l,u-1,d,m,p);return Number.isNaN(y.getTime())?null:y}function zT(t){const i=o=>o.toString().padStart(2,"0");return`${i(t.getHours())}:${i(t.getMinutes())}:${i(t.getSeconds())}`}const pn=[];for(let t=0;t<256;++t)pn.push((t+256).toString(16).slice(1));function HT(t,i=0){return(pn[t[i+0]]+pn[t[i+1]]+pn[t[i+2]]+pn[t[i+3]]+"-"+pn[t[i+4]]+pn[t[i+5]]+"-"+pn[t[i+6]]+pn[t[i+7]]+"-"+pn[t[i+8]]+pn[t[i+9]]+"-"+pn[t[i+10]]+pn[t[i+11]]+pn[t[i+12]]+pn[t[i+13]]+pn[t[i+14]]+pn[t[i+15]]).toLowerCase()}let um;const IT=new Uint8Array(16);function $T(){if(!um){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");um=crypto.getRandomValues.bind(crypto)}return um(IT)}const UT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oy={randomUUID:UT};function lx(t,i,o){if(Oy.randomUUID&&!t)return Oy.randomUUID();t=t||{};const l=t.random??t.rng?.()??$T();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,HT(l)}var lc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var GT=lc.exports,Cy;function ZT(){return Cy||(Cy=1,(function(t,i){(function(o,l){l(i)})(GT,(function(o){var l="1.9.4";function u(r){var s,f,_,E;for(f=1,_=arguments.length;f<_;f++){E=arguments[f];for(s in E)r[s]=E[s]}return r}var d=Object.create||(function(){function r(){}return function(s){return r.prototype=s,new r}})();function m(r,s){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var _=f.call(arguments,2);return function(){return r.apply(s,_.length?_.concat(f.call(arguments)):arguments)}}var p=0;function y(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function v(r,s,f){var _,E,j,G;return G=function(){_=!1,E&&(j.apply(f,E),E=!1)},j=function(){_?E=arguments:(r.apply(f,arguments),setTimeout(G,s),_=!0)},j}function w(r,s,f){var _=s[1],E=s[0],j=_-E;return r===_&&f?r:((r-E)%j+j)%j+E}function x(){return!1}function S(r,s){if(s===!1)return r;var f=Math.pow(10,s===void 0?6:s);return Math.round(r*f)/f}function T(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function k(r){return T(r).split(/\s+/)}function A(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in s)r.options[f]=s[f];return r.options}function P(r,s,f){var _=[];for(var E in r)_.push(encodeURIComponent(f?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!s||s.indexOf("?")===-1?"?":"&")+_.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function z(r,s){return r.replace(I,function(f,_){var E=s[_];if(E===void 0)throw new Error("No value provided for variable "+f);return typeof E=="function"&&(E=E(s)),E})}var D=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function O(r,s){for(var f=0;f<r.length;f++)if(r[f]===s)return f;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var J=0;function Q(r){var s=+new Date,f=Math.max(0,16-(s-J));return J=s+f,window.setTimeout(r,f)}var rt=window.requestAnimationFrame||Y("RequestAnimationFrame")||Q,nt=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function X(r,s,f){if(f&&rt===Q)r.call(s);else return rt.call(window,m(r,s))}function $(r){r&&nt.call(window,r)}var K={__proto__:null,extend:u,create:d,bind:m,get lastId(){return p},stamp:y,throttle:v,wrapNum:w,falseFn:x,formatNum:S,trim:T,splitWords:k,setOptions:A,getParamString:P,template:z,isArray:D,indexOf:O,emptyImageUrl:B,requestFn:rt,cancelFn:nt,requestAnimFrame:X,cancelAnimFrame:$};function mt(){}mt.extend=function(r){var s=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,_=d(f);_.constructor=s,s.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(s[E]=this[E]);return r.statics&&u(s,r.statics),r.includes&&(vt(r.includes),u.apply(null,[_].concat(r.includes))),u(_,r),delete _.statics,delete _.includes,_.options&&(_.options=f.options?d(f.options):{},u(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,G=_._initHooks.length;j<G;j++)_._initHooks[j].call(this)}},s},mt.include=function(r){var s=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},mt.mergeOptions=function(r){return u(this.prototype.options,r),this},mt.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function vt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=D(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(r,s,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],s);else{r=k(r);for(var E=0,j=r.length;E<j;E++)this._on(r[E],s,f)}return this},off:function(r,s,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],s);else{r=k(r);for(var E=arguments.length===1,j=0,G=r.length;j<G;j++)E?this._off(r[j]):this._off(r[j],s,f)}return this},_on:function(r,s,f,_){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,f)===!1){f===this&&(f=void 0);var E={fn:s,ctx:f};_&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,s,f){var _,E,j;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,j=_.length;E<j;E++)_[E].fn=x;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var G=this._listens(r,s,f);if(G!==!1){var ot=_[G];this._firingCount&&(ot.fn=x,this._events[r]=_=_.slice()),_.splice(G,1)}}},fire:function(r,s,f){if(!this.listens(r,f))return this;var _=u({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var j=0,G=E.length;j<G;j++){var ot=E[j],ht=ot.fn;ot.once&&this.off(r,ht,ot.ctx),ht.call(ot.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(r,s,f,_){typeof r!="string"&&console.warn('"string" type argument expected');var E=s;typeof s!="function"&&(_=!!s,E=void 0,f=void 0);var j=this._events&&this._events[r];if(j&&j.length&&this._listens(r,E,f)!==!1)return!0;if(_){for(var G in this._eventParents)if(this._eventParents[G].listens(r,s,f,_))return!0}return!1},_listens:function(r,s,f){if(!this._events)return!1;var _=this._events[r]||[];if(!s)return!!_.length;f===this&&(f=void 0);for(var E=0,j=_.length;E<j;E++)if(_[E].fn===s&&_[E].ctx===f)return E;return!1},once:function(r,s,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],s,!0);else{r=k(r);for(var E=0,j=r.length;E<j;E++)this._on(r[E],s,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[y(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[y(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var F=mt.extend(q);function at(r,s,f){this.x=f?Math.round(r):r,this.y=f?Math.round(s):s}var U=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};at.prototype={clone:function(){return new at(this.x,this.y)},add:function(r){return this.clone()._add(M(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(M(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new at(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new at(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(r){r=M(r);var s=r.x-this.x,f=r.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(r){return r=M(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=M(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function M(r,s,f){return r instanceof at?r:D(r)?new at(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new at(r.x,r.y):new at(r,s,f)}function H(r,s){if(r)for(var f=s?[r,s]:r,_=0,E=f.length;_<E;_++)this.extend(f[_])}H.prototype={extend:function(r){var s,f;if(!r)return this;if(r instanceof at||typeof r[0]=="number"||"x"in r)s=f=M(r);else if(r=W(r),s=r.min,f=r.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,f;return typeof r[0]=="number"||r instanceof at?r=M(r):r=W(r),r instanceof H?(s=r.min,f=r.max):s=f=r,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=W(r);var s=this.min,f=this.max,_=r.min,E=r.max,j=E.x>=s.x&&_.x<=f.x,G=E.y>=s.y&&_.y<=f.y;return j&&G},overlaps:function(r){r=W(r);var s=this.min,f=this.max,_=r.min,E=r.max,j=E.x>s.x&&_.x<f.x,G=E.y>s.y&&_.y<f.y;return j&&G},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,f=this.max,_=Math.abs(s.x-f.x)*r,E=Math.abs(s.y-f.y)*r;return W(M(s.x-_,s.y-E),M(f.x+_,f.y+E))},equals:function(r){return r?(r=W(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function W(r,s){return!r||r instanceof H?r:new H(r,s)}function et(r,s){if(r)for(var f=s?[r,s]:r,_=0,E=f.length;_<E;_++)this.extend(f[_])}et.prototype={extend:function(r){var s=this._southWest,f=this._northEast,_,E;if(r instanceof V)_=r,E=r;else if(r instanceof et){if(_=r._southWest,E=r._northEast,!_||!E)return this}else return r?this.extend(st(r)||ct(r)):this;return!s&&!f?(this._southWest=new V(_.lat,_.lng),this._northEast=new V(E.lat,E.lng)):(s.lat=Math.min(_.lat,s.lat),s.lng=Math.min(_.lng,s.lng),f.lat=Math.max(E.lat,f.lat),f.lng=Math.max(E.lng,f.lng)),this},pad:function(r){var s=this._southWest,f=this._northEast,_=Math.abs(s.lat-f.lat)*r,E=Math.abs(s.lng-f.lng)*r;return new et(new V(s.lat-_,s.lng-E),new V(f.lat+_,f.lng+E))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof V||"lat"in r?r=st(r):r=ct(r);var s=this._southWest,f=this._northEast,_,E;return r instanceof et?(_=r.getSouthWest(),E=r.getNorthEast()):_=E=r,_.lat>=s.lat&&E.lat<=f.lat&&_.lng>=s.lng&&E.lng<=f.lng},intersects:function(r){r=ct(r);var s=this._southWest,f=this._northEast,_=r.getSouthWest(),E=r.getNorthEast(),j=E.lat>=s.lat&&_.lat<=f.lat,G=E.lng>=s.lng&&_.lng<=f.lng;return j&&G},overlaps:function(r){r=ct(r);var s=this._southWest,f=this._northEast,_=r.getSouthWest(),E=r.getNorthEast(),j=E.lat>s.lat&&_.lat<f.lat,G=E.lng>s.lng&&_.lng<f.lng;return j&&G},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=ct(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ct(r,s){return r instanceof et?r:new et(r,s)}function V(r,s,f){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,f!==void 0&&(this.alt=+f)}V.prototype={equals:function(r,s){if(!r)return!1;r=st(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+S(this.lat,r)+", "+S(this.lng,r)+")"},distanceTo:function(r){return wt.distance(this,st(r))},wrap:function(){return wt.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,f=s/Math.cos(Math.PI/180*this.lat);return ct([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function st(r,s,f){return r instanceof V?r:D(r)&&typeof r[0]!="object"?r.length===3?new V(r[0],r[1],r[2]):r.length===2?new V(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new V(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new V(r,s,f)}var Tt={latLngToPoint:function(r,s){var f=this.projection.project(r),_=this.scale(s);return this.transformation._transform(f,_)},pointToLatLng:function(r,s){var f=this.scale(s),_=this.transformation.untransform(r,f);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(r),_=this.transformation.transform(s.min,f),E=this.transformation.transform(s.max,f);return new H(_,E)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?w(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?w(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new V(f,s,_)},wrapLatLngBounds:function(r){var s=r.getCenter(),f=this.wrapLatLng(s),_=s.lat-f.lat,E=s.lng-f.lng;if(_===0&&E===0)return r;var j=r.getSouthWest(),G=r.getNorthEast(),ot=new V(j.lat-_,j.lng-E),ht=new V(G.lat-_,G.lng-E);return new et(ot,ht)}},wt=u({},Tt,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var f=Math.PI/180,_=r.lat*f,E=s.lat*f,j=Math.sin((s.lat-r.lat)*f/2),G=Math.sin((s.lng-r.lng)*f/2),ot=j*j+Math.cos(_)*Math.cos(E)*G*G,ht=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*ht}}),At=6378137,jt={R:At,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,r.lat),-f),E=Math.sin(_*s);return new at(this.R*r.lng*s,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var s=180/Math.PI;return new V((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:(function(){var r=At*Math.PI;return new H([-r,-r],[r,r])})()};function Ht(r,s,f,_){if(D(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=f,this._d=_}Ht.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new at((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function zt(r,s,f,_){return new Ht(r,s,f,_)}var Qt=u({},wt,{code:"EPSG:3857",projection:jt,transformation:(function(){var r=.5/(Math.PI*jt.R);return zt(r,.5,-r,.5)})()}),de=u({},Qt,{code:"EPSG:900913"});function qt(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ue(r,s){var f="",_,E,j,G,ot,ht;for(_=0,j=r.length;_<j;_++){for(ot=r[_],E=0,G=ot.length;E<G;E++)ht=ot[E],f+=(E?"L":"M")+ht.x+" "+ht.y;f+=s?Bt.svg?"z":"x":""}return f||"M0 0"}var ae=document.documentElement.style,Mt="ActiveXObject"in window,Vt=Mt&&!document.addEventListener,pt="msLaunchUri"in navigator&&!("documentMode"in document),St=zn("webkit"),gt=zn("android"),$t=zn("android 2")||zn("android 3"),Kt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xt=gt&&zn("Google")&&Kt<537&&!("AudioNode"in window),Ct=!!window.opera,oe=!pt&&zn("chrome"),$e=zn("gecko")&&!St&&!Ct&&!Mt,Ae=!oe&&zn("safari"),Yn=zn("phantom"),oi="OTransition"in ae,si=navigator.platform.indexOf("Win")===0,cr=Mt&&"transition"in ae,ur="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$t,vn="MozPerspective"in ae,qn=!window.L_DISABLE_3D&&(cr||ur||vn)&&!oi&&!Yn,_n=typeof orientation<"u"||zn("mobile"),Bo=_n&&St,Ro=_n&&ur,Zi=!window.PointerEvent&&window.MSPointerEvent,dr=!!(window.PointerEvent||Zi),xn="ontouchstart"in window||!!window.TouchEvent,Ac=!window.L_NO_TOUCH&&(xn||dr),Po=_n&&Ct,Za=_n&&$e,Ks=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fs=(function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",x,s),window.removeEventListener("testPassiveEventSupport",x,s)}catch{}return r})(),jc=(function(){return!!document.createElement("canvas").getContext})(),Xs=!!(document.createElementNS&&qt("svg").createSVGRect),Ur=!!Xs&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),tn=!Xs&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),Sn=navigator.platform.indexOf("Mac")===0,Yi=navigator.platform.indexOf("Linux")===0;function zn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Bt={ie:Mt,ielt9:Vt,edge:pt,webkit:St,android:gt,android23:$t,androidStock:Xt,opera:Ct,chrome:oe,gecko:$e,safari:Ae,phantom:Yn,opera12:oi,win:si,ie3d:cr,webkit3d:ur,gecko3d:vn,any3d:qn,mobile:_n,mobileWebkit:Bo,mobileWebkit3d:Ro,msPointer:Zi,pointer:dr,touch:Ac,touchNative:xn,mobileOpera:Po,mobileGecko:Za,retina:Ks,passiveEvents:Fs,canvas:jc,svg:Xs,vml:tn,inlineSvg:Ur,mac:Sn,linux:Yi},kc=Bt.msPointer?"MSPointerDown":"pointerdown",Ws=Bt.msPointer?"MSPointerMove":"pointermove",qi=Bt.msPointer?"MSPointerUp":"pointerup",zo=Bt.msPointer?"MSPointerCancel":"pointercancel",Gr={touchstart:kc,touchmove:Ws,touchend:qi,touchcancel:zo},li={touchstart:Lc,touchmove:Ya,touchend:Ya,touchcancel:Ya},fr={},ci=!1;function Ye(r,s,f){return s==="touchstart"&&hf(),li[s]?(f=li[s].bind(this,f),r.addEventListener(Gr[s],f,!1),f):(console.warn("wrong event specified:",s),x)}function Oc(r,s,f){if(!Gr[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(Gr[s],f,!1)}function Cc(r){fr[r.pointerId]=r}function ui(r){fr[r.pointerId]&&(fr[r.pointerId]=r)}function di(r){delete fr[r.pointerId]}function hf(){ci||(document.addEventListener(kc,Cc,!0),document.addEventListener(Ws,ui,!0),document.addEventListener(qi,di,!0),document.addEventListener(zo,di,!0),ci=!0)}function Ya(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in fr)s.touches.push(fr[f]);s.changedTouches=[s],r(s)}}function Lc(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ze(s),Ya(r,s)}function mf(r){var s={},f,_;for(_ in r)f=r[_],s[_]=f&&f.bind?f.bind(r):f;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Ho=200;function Io(r,s){r.addEventListener("dblclick",s);var f=0,_;function E(j){if(j.detail!==1){_=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var G=tl(j);if(!(G.some(function(ht){return ht instanceof HTMLLabelElement&&ht.attributes.for})&&!G.some(function(ht){return ht instanceof HTMLInputElement||ht instanceof HTMLSelectElement}))){var ot=Date.now();ot-f<=Ho?(_++,_===2&&s(mf(j))):_=1,f=ot}}}return r.addEventListener("click",E),{dblclick:s,simDblclick:E}}function jr(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var qa=Xi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vi=Xi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fi=Vi==="webkitTransition"||Vi==="OTransition"?Vi+"End":"transitionend";function $o(r){return typeof r=="string"?document.getElementById(r):r}function hi(r,s){var f=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);f=_?_[s]:null}return f==="auto"?null:f}function se(r,s,f){var _=document.createElement(r);return _.className=s||"",f&&f.appendChild(_),_}function Se(r){var s=r.parentNode;s&&s.removeChild(r)}function cn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function mi(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Ki(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function Fi(r,s){if(r.classList!==void 0)return r.classList.contains(s);var f=un(r);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function Ft(r,s){if(r.classList!==void 0)for(var f=k(s),_=0,E=f.length;_<E;_++)r.classList.add(f[_]);else if(!Fi(r,s)){var j=un(r);Qs(r,(j?j+" ":"")+s)}}function we(r,s){r.classList!==void 0?r.classList.remove(s):Qs(r,T((" "+un(r)+" ").replace(" "+s+" "," ")))}function Qs(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function un(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function wn(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&Bc(r,s)}function Bc(r,s){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(_)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):r.style.filter+=" progid:"+_+"(opacity="+s+")"}function Xi(r){for(var s=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in s)return r[f];return!1}function Hn(r,s,f){var _=s||new at(0,0);r.style[qa]=(Bt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function Oe(r,s){r._leaflet_pos=s,Bt.any3d?Hn(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function Zr(r){return r._leaflet_pos||new at(0,0)}var hr,Va,Uo;if("onselectstart"in document)hr=function(){Yt(window,"selectstart",ze)},Va=function(){fe(window,"selectstart",ze)};else{var Wi=Xi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hr=function(){if(Wi){var r=document.documentElement.style;Uo=r[Wi],r[Wi]="none"}},Va=function(){Wi&&(document.documentElement.style[Wi]=Uo,Uo=void 0)}}function Ka(){Yt(window,"dragstart",ze)}function Js(){fe(window,"dragstart",ze)}var Go,Qi;function Fa(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ji(),Go=r,Qi=r.style.outlineStyle,r.style.outlineStyle="none",Yt(window,"keydown",Ji))}function Ji(){Go&&(Go.style.outlineStyle=Qi,Go=void 0,Qi=void 0,fe(window,"keydown",Ji))}function pi(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Yr(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Rc={__proto__:null,TRANSFORM:qa,TRANSITION:Vi,TRANSITION_END:fi,get:$o,getStyle:hi,create:se,remove:Se,empty:cn,toFront:mi,toBack:Ki,hasClass:Fi,addClass:Ft,removeClass:we,setClass:Qs,getClass:un,setOpacity:wn,testProp:Xi,setTransform:Hn,setPosition:Oe,getPosition:Zr,get disableTextSelection(){return hr},get enableTextSelection(){return Va},disableImageDrag:Ka,enableImageDrag:Js,preventOutline:Fa,restoreOutline:Ji,getSizedParentNode:pi,getScale:Yr};function Yt(r,s,f,_){if(s&&typeof s=="object")for(var E in s)gi(r,E,s[E],f);else{s=k(s);for(var j=0,G=s.length;j<G;j++)gi(r,s[j],f,_)}return this}var Vn="_leaflet_events";function fe(r,s,f,_){if(arguments.length===1)mr(r),delete r[Vn];else if(s&&typeof s=="object")for(var E in s)pr(r,E,s[E],f);else if(s=k(s),arguments.length===2)mr(r,function(ot){return O(s,ot)!==-1});else for(var j=0,G=s.length;j<G;j++)pr(r,s[j],f,_);return this}function mr(r,s){for(var f in r[Vn]){var _=f.split(/\d/)[0];(!s||s(_))&&pr(r,_,null,null,f)}}var Xa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function gi(r,s,f,_){var E=s+y(f)+(_?"_"+y(_):"");if(r[Vn]&&r[Vn][E])return this;var j=function(ot){return f.call(_||r,ot||window.event)},G=j;!Bt.touchNative&&Bt.pointer&&s.indexOf("touch")===0?j=Ye(r,s,j):Bt.touch&&s==="dblclick"?j=Io(r,j):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Xa[s]||s,j,Bt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(j=function(ot){ot=ot||window.event,yi(r,ot)&&G(ot)},r.addEventListener(Xa[s],j,!1)):r.addEventListener(s,G,!1):r.attachEvent("on"+s,j),r[Vn]=r[Vn]||{},r[Vn][E]=j}function pr(r,s,f,_,E){E=E||s+y(f)+(_?"_"+y(_):"");var j=r[Vn]&&r[Vn][E];if(!j)return this;!Bt.touchNative&&Bt.pointer&&s.indexOf("touch")===0?Oc(r,s,j):Bt.touch&&s==="dblclick"?jr(r,j):"removeEventListener"in r?r.removeEventListener(Xa[s]||s,j,!1):r.detachEvent("on"+s,j),r[Vn][E]=null}function kr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ta(r){return gi(r,"wheel",kr),this}function ea(r){return Yt(r,"mousedown touchstart dblclick contextmenu",kr),r._leaflet_disable_click=!0,this}function ze(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function gr(r){return ze(r),kr(r),this}function tl(r){if(r.composedPath)return r.composedPath();for(var s=[],f=r.target;f;)s.push(f),f=f.parentNode;return s}function dn(r,s){if(!s)return new at(r.clientX,r.clientY);var f=Yr(s),_=f.boundingClientRect;return new at((r.clientX-_.left)/f.x-s.clientLeft,(r.clientY-_.top)/f.y-s.clientTop)}var bi=Bt.linux&&Bt.chrome?window.devicePixelRatio:Bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Wa(r){return Bt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/bi:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function yi(r,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var pf={__proto__:null,on:Yt,off:fe,stopPropagation:kr,disableScrollPropagation:ta,disableClickPropagation:ea,preventDefault:ze,stop:gr,getPropagationPath:tl,getMousePosition:dn,getWheelDelta:Wa,isExternalTarget:yi,addListener:Yt,removeListener:fe},Zo=F.extend({run:function(r,s,f,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Zr(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var f=this._startPos.add(this._offset.multiplyBy(r));s&&f._round(),Oe(this._el,f),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),te=F.extend({options:{crs:Qt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=A(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(st(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vi&&Bt.any3d&&!Bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Yt(this._proxy,fi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(st(r),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=u({animate:f.animate},f.zoom),f.pan=u({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,f.zoom):this._tryAnimatedPan(r,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,f){var _=this.getZoomScale(s),E=this.getSize().divideBy(2),j=r instanceof at?r:this.latLngToContainerPoint(r),G=j.subtract(E).multiplyBy(1-1/_),ot=this.containerPointToLatLng(E.add(G));return this.setView(ot,s,{zoom:f})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():ct(r);var f=M(s.paddingTopLeft||s.padding||[0,0]),_=M(s.paddingBottomRight||s.padding||[0,0]),E=this.getBoundsZoom(r,!1,f.add(_));if(E=typeof s.maxZoom=="number"?Math.min(s.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var j=_.subtract(f).divideBy(2),G=this.project(r.getSouthWest(),E),ot=this.project(r.getNorthEast(),E),ht=this.unproject(G.add(ot).divideBy(2).add(j),E);return{center:ht,zoom:E}},fitBounds:function(r,s){if(r=ct(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=M(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Zo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Ft(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,f){if(f=f||{},f.animate===!1||!Bt.any3d)return this.setView(r,s,f);this._stop();var _=this.project(this.getCenter()),E=this.project(r),j=this.getSize(),G=this._zoom;r=st(r),s=s===void 0?G:s;var ot=Math.max(j.x,j.y),ht=ot*this.getZoomScale(G,s),xt=E.distanceTo(_)||1,Dt=1.42,kt=Dt*Dt;function Lt(je){var vr=je?-1:1,Lr=je?ht:ot,Xr=ht*ht-ot*ot+vr*kt*kt*xt*xt,Br=2*Lr*kt*xt,uo=Xr/Br,rs=Math.sqrt(uo*uo+1)-uo,fo=rs<1e-9?-18:Math.log(rs);return fo}function Zt(je){return(Math.exp(je)-Math.exp(-je))/2}function Te(je){return(Math.exp(je)+Math.exp(-je))/2}function Ce(je){return Zt(je)/Te(je)}var nn=Lt(0);function In(je){return ot*(Te(nn)/Te(nn+Dt*je))}function eu(je){return ot*(Te(nn)*Ce(nn+Dt*je)-Zt(nn))/kt}function nu(je){return 1-Math.pow(1-je,1.5)}var co=Date.now(),ha=(Lt(1)-nn)/Dt,ru=f.duration?1e3*f.duration:1e3*ha*.8;function ma(){var je=(Date.now()-co)/ru,vr=nu(je)*ha;je<=1?(this._flyToFrame=X(ma,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(eu(vr)/xt)),G),this.getScaleZoom(ot/In(vr),G),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),ma.call(this),this},flyToBounds:function(r,s){var f=this._getBoundsCenterZoom(r,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(r){return r=ct(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,ct(r));return f.equals(_)||this.panTo(_,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var f=M(s.paddingTopLeft||s.padding||[0,0]),_=M(s.paddingBottomRight||s.padding||[0,0]),E=this.project(this.getCenter()),j=this.project(r),G=this.getPixelBounds(),ot=W([G.min.add(f),G.max.subtract(_)]),ht=ot.getSize();if(!ot.contains(j)){this._enforcingBounds=!0;var xt=j.subtract(ot.getCenter()),Dt=ot.extend(j).getSize().subtract(ht);E.x+=xt.x<0?-Dt.x:Dt.x,E.y+=xt.y<0?-Dt.y:Dt.y,this.panTo(this.unproject(E),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=s.divideBy(2).round(),E=f.divideBy(2).round(),j=_.subtract(E);return!j.x&&!j.y?this:(r.animate&&r.pan?this.panBy(j):(r.pan&&this._rawPanBy(j),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=m(this._handleGeolocationResponse,this),f=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,r):navigator.geolocation.getCurrentPosition(s,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,f=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,f=r.coords.longitude,_=new V(s,f),E=_.toBounds(r.coords.accuracy*2),j=this._locateOptions;if(j.setView){var G=this.getBoundsZoom(E);this.setView(_,j.maxZoom?Math.min(G,j.maxZoom):G)}var ot={latlng:_,bounds:E,timestamp:r.timestamp};for(var ht in r.coords)typeof r.coords[ht]=="number"&&(ot[ht]=r.coords[ht]);this.fire("locationfound",ot)}},addHandler:function(r,s){if(!s)return this;var f=this[r]=new s(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Se(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=se("div",f,s||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new et(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,f){r=ct(r),f=M(f||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),j=this.getMaxZoom(),G=r.getNorthWest(),ot=r.getSouthEast(),ht=this.getSize().subtract(f),xt=W(this.project(ot,_),this.project(G,_)).getSize(),Dt=Bt.any3d?this.options.zoomSnap:1,kt=ht.x/xt.x,Lt=ht.y/xt.y,Zt=s?Math.max(kt,Lt):Math.min(kt,Lt);return _=this.getScaleZoom(Zt,_),Dt&&(_=Math.round(_/(Dt/100))*(Dt/100),_=s?Math.ceil(_/Dt)*Dt:Math.floor(_/Dt)*Dt),Math.max(E,Math.min(j,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new at(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var f=this._getTopLeftPoint(r,s);return new H(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(r)/f.scale(s)},getScaleZoom:function(r,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var _=f.zoom(r*f.scale(s));return isNaN(_)?1/0:_},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(st(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(M(r),s)},layerPointToLatLng:function(r){var s=M(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(st(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(st(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ct(r))},distance:function(r,s){return this.options.crs.distance(st(r),st(s))},containerPointToLayerPoint:function(r){return M(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return M(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(M(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(st(r)))},mouseEventToContainerPoint:function(r){return dn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=$o(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Yt(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Bt.any3d,Ft(r,"leaflet-container"+(Bt.touch?" leaflet-touch":"")+(Bt.retina?" leaflet-retina":"")+(Bt.ielt9?" leaflet-oldie":"")+(Bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=hi(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Oe(this._mapPane,new at(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ft(r.markerPane,"leaflet-zoom-hide"),Ft(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,f){Oe(this._mapPane,new at(0,0));var _=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var E=this._zoom!==s;this._moveStart(E,f)._move(r,s)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,f,_){s===void 0&&(s=this._zoom);var E=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?f&&f.pinch&&this.fire("zoom",f):((E||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Oe(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[y(this._container)]=this;var s=r?fe:Yt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Bt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var f=[],_,E=s==="mouseout"||s==="mouseover",j=r.target||r.srcElement,G=!1;j;){if(_=this._targets[y(j)],_&&(s==="click"||s==="preclick")&&this._draggableMoved(_)){G=!0;break}if(_&&_.listens(s,!0)&&(E&&!yi(j,r)||(f.push(_),E))||j===this._container)break;j=j.parentNode}return!f.length&&!G&&!E&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var f=r.type;f==="mousedown"&&Fa(s),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,f){if(r.type==="click"){var _=u({},r);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var E=this._findEventTargets(r,s);if(f){for(var j=[],G=0;G<f.length;G++)f[G].listens(s,!0)&&j.push(f[G]);E=j.concat(E)}if(E.length){s==="contextmenu"&&ze(r);var ot=E[0],ht={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var xt=ot.getLatLng&&(!ot._radius||ot._radius<=10);ht.containerPoint=xt?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(r),ht.layerPoint=this.containerPointToLayerPoint(ht.containerPoint),ht.latlng=xt?ot.getLatLng():this.layerPointToLatLng(ht.layerPoint)}for(G=0;G<E.length;G++)if(E[G].fire(s,ht,!0),ht.originalEvent._stopped||E[G].options.bubblingMouseEvents===!1&&O(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return Zr(this._mapPane)||new at(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var f=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var f=this.getSize()._divideBy(2);return this.project(r,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,f){var _=this._getNewPixelOrigin(f,s);return this.project(r,s)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,s,f){var _=this._getNewPixelOrigin(f,s);return W([this.project(r.getSouthWest(),s)._subtract(_),this.project(r.getNorthWest(),s)._subtract(_),this.project(r.getSouthEast(),s)._subtract(_),this.project(r.getNorthEast(),s)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,f){if(!f)return r;var _=this.project(r,s),E=this.getSize().divideBy(2),j=new H(_.subtract(E),_.add(E)),G=this._getBoundsOffset(j,f,s);return Math.abs(G.x)<=1&&Math.abs(G.y)<=1?r:this.unproject(_.add(G),s)},_limitOffset:function(r,s){if(!s)return r;var f=this.getPixelBounds(),_=new H(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(_,s))},_getBoundsOffset:function(r,s,f){var _=W(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),E=_.min.subtract(r.min),j=_.max.subtract(r.max),G=this._rebound(E.x,-j.x),ot=this._rebound(E.y,-j.y);return new at(G,ot)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),f=this.getMaxZoom(),_=Bt.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(s,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){we(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var f=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var r=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var f=qa,_=this._proxy.style[f];Hn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();Hn(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(s),E=this._getCenterOffset(r)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(E)?!1:(X(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,Ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&we(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qa(r,s){return new te(r,s)}var Tn=mt.extend({options:{position:"topright"},initialize:function(r){A(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),f=this.getPosition(),_=r._controlCorners[f];return Ft(s,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(s,_.firstChild):_.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),na=function(r){return new Tn(r)};te.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",f=this._controlContainer=se("div",s+"control-container",this._container);function _(E,j){var G=s+E+" "+s+j;r[E+j]=se("div",G,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Se(this._controlCorners[r]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pc=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,f,_){return f<_?-1:_<f?1:0}},initialize:function(r,s,f){A(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in s)this._addLayer(s[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Tn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):we(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return we(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=se("div",r),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ea(s),ta(s);var _=this._section=se("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Yt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=se("a",r+"-toggle",s);E.href="#",E.title="Layers",E.setAttribute("role","button"),Yt(E,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){ze(j),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=se("div",r+"-base",_),this._separator=se("div",r+"-separator",_),this._overlaysList=se("div",r+"-overlays",_),s.appendChild(_)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(m(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cn(this._baseLayersList),cn(this._overlaysList),this._layerControlInputs=[];var r,s,f,_,E=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),s=s||_.overlay,r=r||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(y(r.target)),f=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(r,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(r){var s=document.createElement("label"),f=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+y(this),f),this._layerControlInputs.push(_),_.layerId=y(r.layer),Yt(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var j=document.createElement("span");s.appendChild(j),j.appendChild(_),j.appendChild(E);var G=r.overlay?this._overlaysList:this._baseLayersList;return G.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,f,_=[],E=[];this._handlingClick=!0;for(var j=r.length-1;j>=0;j--)s=r[j],f=this._getLayer(s.layerId).layer,s.checked?_.push(f):s.checked||E.push(f);for(j=0;j<E.length;j++)this._map.hasLayer(E[j])&&this._map.removeLayer(E[j]);for(j=0;j<_.length;j++)this._map.hasLayer(_[j])||this._map.addLayer(_[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,f,_=this._map.getZoom(),E=r.length-1;E>=0;E--)s=r[E],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Yt(r,"click",ze),this.expand();var s=this;setTimeout(function(){fe(r,"click",ze),s._preventClick=!1})}}),gf=function(r,s,f){return new Pc(r,s,f)},el=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",f=se("div",s+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,f,_,E){var j=se("a",f,_);return j.innerHTML=r,j.href="#",j.title=s,j.setAttribute("role","button"),j.setAttribute("aria-label",s),ea(j),Yt(j,"click",gr),Yt(j,"click",E,this),Yt(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";we(this._zoomInButton,s),we(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ft(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ft(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});te.mergeOptions({zoomControl:!0}),te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new el,this.addControl(this.zoomControl))});var nl=function(r){return new el(r)},zc=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",f=se("div",s),_=this.options;return this._addScales(_,s+"-line",f),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,f){r.metric&&(this._mScale=se("div",s,f)),r.imperial&&(this._iScale=se("div",s,f))},_update:function(){var r=this._map,s=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/r)},_updateImperial:function(r){var s=r*3.2808399,f,_,E;s>5280?(f=s/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(E=this._getRoundNum(s),this._updateScale(this._iScale,E+" ft",E/s))},_updateScale:function(r,s,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),f=r/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),bf=function(r){return new zc(r)},yf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rl=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Bt.inlineSvg?yf+" ":"")+"Leaflet</a>"},initialize:function(r){A(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=se("div","leaflet-control-attribution"),ea(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});te.mergeOptions({attributionControl:!0}),te.addInitHook(function(){this.options.attributionControl&&new rl().addTo(this)});var vf=function(r){return new rl(r)};Tn.Layers=Pc,Tn.Zoom=el,Tn.Scale=zc,Tn.Attribution=rl,na.layers=gf,na.zoom=nl,na.scale=bf,na.attribution=vf;var Kn=mt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kn.addTo=function(r,s){return r.addHandler(s,this),this};var _f={Events:q},Hc=Bt.touch?"touchstart mousedown":"mousedown",qr=F.extend({options:{clickTolerance:3},initialize:function(r,s,f,_){A(this,_),this._element=r,this._dragStartTarget=s||r,this._preventOutline=f},enable:function(){this._enabled||(Yt(this._dragStartTarget,Hc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qr._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,Hc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Fi(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){qr._dragging===this&&this.finishDrag();return}if(!(qr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(qr._dragging=this,this._preventOutline&&Fa(this._element),Ka(),hr(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,f=pi(this._element);this._startPoint=new at(s.clientX,s.clientY),this._startPos=Zr(this._element),this._parentScale=Yr(f);var _=r.type==="mousedown";Yt(document,_?"mousemove":"touchmove",this._onMove,this),Yt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,f=new at(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,ze(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ft(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Oe(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){we(document.body,"leaflet-dragging"),this._lastTarget&&(we(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),Js(),Va();var s=this._moved&&this._moving;this._moving=!1,qr._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Ic(r,s,f){var _,E=[1,4,2,8],j,G,ot,ht,xt,Dt,kt,Lt;for(j=0,Dt=r.length;j<Dt;j++)r[j]._code=vi(r[j],s);for(ot=0;ot<4;ot++){for(kt=E[ot],_=[],j=0,Dt=r.length,G=Dt-1;j<Dt;G=j++)ht=r[j],xt=r[G],ht._code&kt?xt._code&kt||(Lt=qo(xt,ht,kt,s,f),Lt._code=vi(Lt,s),_.push(Lt)):(xt._code&kt&&(Lt=qo(xt,ht,kt,s,f),Lt._code=vi(Lt,s),_.push(Lt)),_.push(ht));r=_}return r}function Yo(r,s){var f,_,E,j,G,ot,ht,xt,Dt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var kt=st([0,0]),Lt=ct(r),Zt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Zt<1700&&(kt=il(r));var Te=r.length,Ce=[];for(f=0;f<Te;f++){var nn=st(r[f]);Ce.push(s.project(st([nn.lat-kt.lat,nn.lng-kt.lng])))}for(ot=ht=xt=0,f=0,_=Te-1;f<Te;_=f++)E=Ce[f],j=Ce[_],G=E.y*j.x-j.y*E.x,ht+=(E.x+j.x)*G,xt+=(E.y+j.y)*G,ot+=G*3;ot===0?Dt=Ce[0]:Dt=[ht/ot,xt/ot];var In=s.unproject(M(Dt));return st([In.lat+kt.lat,In.lng+kt.lng])}function il(r){for(var s=0,f=0,_=0,E=0;E<r.length;E++){var j=st(r[E]);s+=j.lat,f+=j.lng,_++}return st([s/_,f/_])}var xf={__proto__:null,clipPolygon:Ic,polygonCenter:Yo,centroid:il};function $c(r,s){if(!s||!r.length)return r.slice();var f=s*s;return r=Tf(r,f),r=wf(r,f),r}function al(r,s,f){return Math.sqrt(_i(r,s,f,!0))}function Sf(r,s,f){return _i(r,s,f)}function wf(r,s){var f=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,E=new _(f);E[0]=E[f-1]=1,ol(r,E,s,0,f-1);var j,G=[];for(j=0;j<f;j++)E[j]&&G.push(r[j]);return G}function ol(r,s,f,_,E){var j=0,G,ot,ht;for(ot=_+1;ot<=E-1;ot++)ht=_i(r[ot],r[_],r[E],!0),ht>j&&(G=ot,j=ht);j>f&&(s[G]=1,ol(r,s,f,_,G),ol(r,s,f,G,E))}function Tf(r,s){for(var f=[r[0]],_=1,E=0,j=r.length;_<j;_++)Ef(r[_],r[E])>s&&(f.push(r[_]),E=_);return E<j-1&&f.push(r[j-1]),f}var Uc;function Gc(r,s,f,_,E){var j=_?Uc:vi(r,f),G=vi(s,f),ot,ht,xt;for(Uc=G;;){if(!(j|G))return[r,s];if(j&G)return!1;ot=j||G,ht=qo(r,s,ot,f,E),xt=vi(ht,f),ot===j?(r=ht,j=xt):(s=ht,G=xt)}}function qo(r,s,f,_,E){var j=s.x-r.x,G=s.y-r.y,ot=_.min,ht=_.max,xt,Dt;return f&8?(xt=r.x+j*(ht.y-r.y)/G,Dt=ht.y):f&4?(xt=r.x+j*(ot.y-r.y)/G,Dt=ot.y):f&2?(xt=ht.x,Dt=r.y+G*(ht.x-r.x)/j):f&1&&(xt=ot.x,Dt=r.y+G*(ot.x-r.x)/j),new at(xt,Dt,E)}function vi(r,s){var f=0;return r.x<s.min.x?f|=1:r.x>s.max.x&&(f|=2),r.y<s.min.y?f|=4:r.y>s.max.y&&(f|=8),f}function Ef(r,s){var f=s.x-r.x,_=s.y-r.y;return f*f+_*_}function _i(r,s,f,_){var E=s.x,j=s.y,G=f.x-E,ot=f.y-j,ht=G*G+ot*ot,xt;return ht>0&&(xt=((r.x-E)*G+(r.y-j)*ot)/ht,xt>1?(E=f.x,j=f.y):xt>0&&(E+=G*xt,j+=ot*xt)),G=r.x-E,ot=r.y-j,_?G*G+ot*ot:new at(E,j)}function en(r){return!D(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Zc(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(r)}function sl(r,s){var f,_,E,j,G,ot,ht,xt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Dt=st([0,0]),kt=ct(r),Lt=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Lt<1700&&(Dt=il(r));var Zt=r.length,Te=[];for(f=0;f<Zt;f++){var Ce=st(r[f]);Te.push(s.project(st([Ce.lat-Dt.lat,Ce.lng-Dt.lng])))}for(f=0,_=0;f<Zt-1;f++)_+=Te[f].distanceTo(Te[f+1])/2;if(_===0)xt=Te[0];else for(f=0,j=0;f<Zt-1;f++)if(G=Te[f],ot=Te[f+1],E=G.distanceTo(ot),j+=E,j>_){ht=(j-_)/E,xt=[ot.x-ht*(ot.x-G.x),ot.y-ht*(ot.y-G.y)];break}var nn=s.unproject(M(xt));return st([nn.lat+Dt.lat,nn.lng+Dt.lng])}var Yc={__proto__:null,simplify:$c,pointToSegmentDistance:al,closestPointOnSegment:Sf,clipSegment:Gc,_getEdgeIntersection:qo,_getBitCode:vi,_sqClosestPointOnSegment:_i,isFlat:en,_flat:Zc,polylineCenter:sl},Vo={project:function(r){return new at(r.lng,r.lat)},unproject:function(r){return new V(r.y,r.x)},bounds:new H([-180,-90],[180,90])},Ko={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,f=this.R,_=r.lat*s,E=this.R_MINOR/f,j=Math.sqrt(1-E*E),G=j*Math.sin(_),ot=Math.tan(Math.PI/4-_/2)/Math.pow((1-G)/(1+G),j/2);return _=-f*Math.log(Math.max(ot,1e-10)),new at(r.lng*s*f,_)},unproject:function(r){for(var s=180/Math.PI,f=this.R,_=this.R_MINOR/f,E=Math.sqrt(1-_*_),j=Math.exp(-r.y/f),G=Math.PI/2-2*Math.atan(j),ot=0,ht=.1,xt;ot<15&&Math.abs(ht)>1e-7;ot++)xt=E*Math.sin(G),xt=Math.pow((1-xt)/(1+xt),E/2),ht=Math.PI/2-2*Math.atan(j*xt)-G,G+=ht;return new V(G*s,r.x*s/f)}},qc={__proto__:null,LonLat:Vo,Mercator:Ko,SphericalMercator:jt},ra=u({},wt,{code:"EPSG:3395",projection:Ko,transformation:(function(){var r=.5/(Math.PI*Ko.R);return zt(r,.5,-r,.5)})()}),Vc=u({},wt,{code:"EPSG:4326",projection:Vo,transformation:zt(1/180,1,-1/180,.5)}),Nf=u({},Tt,{projection:Vo,transformation:zt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var f=s.lng-r.lng,_=s.lat-r.lat;return Math.sqrt(f*f+_*_)},infinite:!0});Tt.Earth=wt,Tt.EPSG3395=ra,Tt.EPSG3857=Qt,Tt.EPSG900913=de,Tt.EPSG4326=Vc,Tt.Simple=Nf;var Fn=F.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[y(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[y(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});te.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=y(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return y(r)in this._layers},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},_addLayers:function(r){r=r?D(r)?r:[r]:[];for(var s=0,f=r.length;s<f;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[y(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=y(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),s=E.maxZoom===void 0?s:Math.max(s,E.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xi=Fn.extend({initialize:function(r,s){A(this,s),this._layers={};var f,_;if(r)for(f=0,_=r.length;f<_;f++)this.addLayer(r[f])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[r]&&_[r].apply(_,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return y(r)}}),Kc=function(r,s){return new xi(r,s)},Dn=xi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),xi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),xi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new et;for(var s in this._layers){var f=this._layers[s];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),Ja=function(r,s){return new Dn(r,s)},ia=mt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){A(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,s){var f=this.options,_=f[s+"Size"];typeof _=="number"&&(_=[_,_]);var E=M(_),j=M(s==="shadow"&&f.shadowAnchor||f.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(f.className||""),j&&(r.style.marginLeft=-j.x+"px",r.style.marginTop=-j.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return Bt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Fo(r){return new ia(r)}var aa=ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof aa.imagePath!="string"&&(aa.imagePath=this._detectIconPath()),(this.options.imagePath||aa.imagePath)+ia.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(f,_,E){var j=_.exec(f);return j&&j[E]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=se("div","leaflet-default-icon-path",document.body),s=hi(r,"background-image")||hi(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),ll=Kn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new qr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ft(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&we(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,f=s._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,j=Zr(s._icon),G=f.getPixelBounds(),ot=f.getPixelOrigin(),ht=W(G.min._subtract(ot).add(E),G.max._subtract(ot).subtract(E));if(!ht.contains(j)){var xt=M((Math.max(ht.max.x,j.x)-ht.max.x)/(G.max.x-ht.max.x)-(Math.min(ht.min.x,j.x)-ht.min.x)/(G.min.x-ht.min.x),(Math.max(ht.max.y,j.y)-ht.max.y)/(G.max.y-ht.max.y)-(Math.min(ht.min.y,j.y)-ht.min.y)/(G.min.y-ht.min.y)).multiplyBy(_);f.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),Oe(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=X(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,f=s._shadow,_=Zr(s._icon),E=s._map.layerPointToLatLng(_);f&&Oe(f,_),s._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),oa=Fn.extend({options:{icon:new aa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){A(this,s),this._latlng=st(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=st(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Ft(f,s),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(f,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),j=!1;E!==this._shadow&&(this._removeShadow(),j=!0),E&&(Ft(E,s),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&j&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Oe(this._icon,r),this._shadow&&Oe(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ll)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ll(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&wn(this._icon,r),this._shadow&&wn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,f=s.iconSize?M(s.iconSize):M(0,0),_=s.iconAnchor?M(s.iconAnchor):M(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cl(r,s){return new oa(r,s)}var Or=Fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return A(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),to=Or.extend({options:{fill:!0,radius:10},initialize:function(r,s){A(this,s),this._latlng=st(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=st(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Or.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,f=this._clickTolerance(),_=[r+f,s+f];this._pxBounds=new H(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fc(r,s){return new to(r,s)}var ul=to.extend({initialize:function(r,s,f){if(typeof s=="number"&&(s=u({},f,{radius:s})),A(this,s),this._latlng=st(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new et(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Or.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===wt.distance){var E=Math.PI/180,j=this._mRadius/wt.R/E,G=f.project([s+j,r]),ot=f.project([s-j,r]),ht=G.add(ot).divideBy(2),xt=f.unproject(ht).lat,Dt=Math.acos((Math.cos(j*E)-Math.sin(s*E)*Math.sin(xt*E))/(Math.cos(s*E)*Math.cos(xt*E)))/E;(isNaN(Dt)||Dt===0)&&(Dt=j/Math.cos(Math.PI/180*s)),this._point=ht.subtract(f.getPixelOrigin()),this._radius=isNaN(Dt)?0:ht.x-f.project([xt,r-Dt]).x,this._radiusY=ht.y-G.y}else{var kt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(kt).x}this._updateBounds()}});function Mf(r,s,f){return new ul(r,s,f)}var Cr=Or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){A(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,f=null,_=_i,E,j,G=0,ot=this._parts.length;G<ot;G++)for(var ht=this._parts[G],xt=1,Dt=ht.length;xt<Dt;xt++){E=ht[xt-1],j=ht[xt];var kt=_(r,E,j,!0);kt<s&&(s=kt,f=_(r,E,j))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=st(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new et,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],f=en(r),_=0,E=r.length;_<E;_++)f?(s[_]=st(r[_]),this._bounds.extend(s[_])):s[_]=this._convertLatLngs(r[_]);return s},_project:function(){var r=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new at(r,r);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,f){var _=r[0]instanceof V,E=r.length,j,G;if(_){for(G=[],j=0;j<E;j++)G[j]=this._map.latLngToLayerPoint(r[j]),f.extend(G[j]);s.push(G)}else for(j=0;j<E;j++)this._projectLatlngs(r[j],s,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,_,E,j,G,ot,ht;for(f=0,E=0,j=this._rings.length;f<j;f++)for(ht=this._rings[f],_=0,G=ht.length;_<G-1;_++)ot=Gc(ht[_],ht[_+1],r,_,!0),ot&&(s[E]=s[E]||[],s[E].push(ot[0]),(ot[1]!==ht[_+1]||_===G-2)&&(s[E].push(ot[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,f=0,_=r.length;f<_;f++)r[f]=$c(r[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var f,_,E,j,G,ot,ht=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,j=this._parts.length;f<j;f++)for(ot=this._parts[f],_=0,G=ot.length,E=G-1;_<G;E=_++)if(!(!s&&_===0)&&al(r,ot[E],ot[_])<=ht)return!0;return!1}});function Df(r,s){return new Cr(r,s)}Cr._flat=Zc;var sa=Cr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Cr.prototype._convertLatLngs.call(this,r),f=s.length;return f>=2&&s[0]instanceof V&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(r){Cr.prototype._setLatLngs.call(this,r),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,f=new at(s,s);if(r=new H(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,j;_<E;_++)j=Ic(this._rings[_],r,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,f,_,E,j,G,ot,ht,xt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(j=0,ht=this._parts.length;j<ht;j++)for(f=this._parts[j],G=0,xt=f.length,ot=xt-1;G<xt;ot=G++)_=f[G],E=f[ot],_.y>r.y!=E.y>r.y&&r.x<(E.x-_.x)*(r.y-_.y)/(E.y-_.y)+_.x&&(s=!s);return s||Cr.prototype._containsPoint.call(this,r,!0)}});function An(r,s){return new sa(r,s)}var jn=Dn.extend({initialize:function(r,s){A(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=D(r)?r:r.features,f,_,E;if(s){for(f=0,_=s.length;f<_;f++)E=s[f],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var j=this.options;if(j.filter&&!j.filter(r))return this;var G=eo(r,j);return G?(G.feature=la(r),G.defaultOptions=G.options,this.resetStyle(G),j.onEachFeature&&j.onEachFeature(r,G),this.addLayer(G)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function eo(r,s){var f=r.type==="Feature"?r.geometry:r,_=f?f.coordinates:null,E=[],j=s&&s.pointToLayer,G=s&&s.coordsToLatLng||Xo,ot,ht,xt,Dt;if(!_&&!f)return null;switch(f.type){case"Point":return ot=G(_),dl(j,r,ot,s);case"MultiPoint":for(xt=0,Dt=_.length;xt<Dt;xt++)ot=G(_[xt]),E.push(dl(j,r,ot,s));return new Dn(E);case"LineString":case"MultiLineString":return ht=no(_,f.type==="LineString"?0:1,G),new Cr(ht,s);case"Polygon":case"MultiPolygon":return ht=no(_,f.type==="Polygon"?1:2,G),new sa(ht,s);case"GeometryCollection":for(xt=0,Dt=f.geometries.length;xt<Dt;xt++){var kt=eo({geometry:f.geometries[xt],type:"Feature",properties:r.properties},s);kt&&E.push(kt)}return new Dn(E);case"FeatureCollection":for(xt=0,Dt=f.features.length;xt<Dt;xt++){var Lt=eo(f.features[xt],s);Lt&&E.push(Lt)}return new Dn(E);default:throw new Error("Invalid GeoJSON object.")}}function dl(r,s,f,_){return r?r(s,f):new oa(f,_&&_.markersInheritOptions&&_)}function Xo(r){return new V(r[1],r[0],r[2])}function no(r,s,f){for(var _=[],E=0,j=r.length,G;E<j;E++)G=s?no(r[E],s-1,f):(f||Xo)(r[E]),_.push(G);return _}function ro(r,s){return r=st(r),r.alt!==void 0?[S(r.lng,s),S(r.lat,s),S(r.alt,s)]:[S(r.lng,s),S(r.lat,s)]}function Wo(r,s,f,_){for(var E=[],j=0,G=r.length;j<G;j++)E.push(s?Wo(r[j],en(r[j])?0:s-1,f,_):ro(r[j],_));return!s&&f&&E.length>0&&E.push(E[0].slice()),E}function Xn(r,s){return r.feature?u({},r.feature,{geometry:s}):la(s)}function la(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Si={toGeoJSON:function(r){return Xn(this,{type:"Point",coordinates:ro(this.getLatLng(),r)})}};oa.include(Si),ul.include(Si),to.include(Si),Cr.include({toGeoJSON:function(r){var s=!en(this._latlngs),f=Wo(this._latlngs,s?1:0,!1,r);return Xn(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),sa.include({toGeoJSON:function(r){var s=!en(this._latlngs),f=s&&!en(this._latlngs[0]),_=Wo(this._latlngs,f?2:s?1:0,!0,r);return s||(_=[_]),Xn(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),xi.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(r).geometry.coordinates)}),Xn(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var f=s==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var j=E.toGeoJSON(r);if(f)_.push(j.geometry);else{var G=la(j);G.type==="FeatureCollection"?_.push.apply(_,G.features):_.push(G)}}}),f?Xn(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Qo(r,s){return new jn(r,s)}var Xc=Qo,br=Fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,f){this._url=r,this._bounds=ct(s),A(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&mi(this._image),this},bringToBack:function(){return this._map&&Ki(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ct(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:se("img");if(Ft(s,"leaflet-image-layer"),this._zoomAnimated&&Ft(s,"leaflet-zoom-animated"),this.options.className&&Ft(s,this.options.className),s.onselectstart=x,s.onmousemove=x,s.onload=m(this.fire,this,"load"),s.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Hn(this._image,f,s)},_reset:function(){var r=this._image,s=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();Oe(r,s.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ca=function(r,s,f){return new br(r,s,f)},Jo=br.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:se("video");if(Ft(s,"leaflet-image-layer"),this._zoomAnimated&&Ft(s,"leaflet-zoom-animated"),this.options.className&&Ft(s,this.options.className),s.onselectstart=x,s.onmousemove=x,s.onloadeddata=m(this.fire,this,"load"),r){for(var f=s.getElementsByTagName("source"),_=[],E=0;E<f.length;E++)_.push(f[E].src);this._url=f.length>0?_:[s.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var G=se("source");G.src=this._url[j],s.appendChild(G)}}});function Wc(r,s,f){return new Jo(r,s,f)}var Vr=br.extend({_initImage:function(){var r=this._image=this._url;Ft(r,"leaflet-image-layer"),this._zoomAnimated&&Ft(r,"leaflet-zoom-animated"),this.options.className&&Ft(r,this.options.className),r.onselectstart=x,r.onmousemove=x}});function Qc(r,s,f){return new Vr(r,s,f)}var Wn=Fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof V||D(r))?(this._latlng=st(r),A(this,s)):(A(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&wn(this._container,1),this.bringToFront(),this.options.interactive&&(Ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(wn(this._container,0),this._removeTimeout=setTimeout(m(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=st(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mi(this._container),this},bringToBack:function(){return this._map&&Ki(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof Dn){s=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){s=f[_];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=M(this.options.offset),f=this._getAnchor();this._zoomAnimated?Oe(this._container,r.add(f)):s=s.add(r).add(f);var _=this._containerBottom=-s.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});te.include({_initOverlay:function(r,s,f,_){var E=s;return E instanceof r||(E=new r(_).setContent(s)),f&&E.setLatLng(f),E}}),Fn.include({_initOverlay:function(r,s,f,_){var E=f;return E instanceof r?(A(E,_),E._source=this):(E=s&&!_?s:new r(_,this),E.setContent(f)),E}});var io=Wn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Wn.prototype.openOn.call(this,r)},onAdd:function(r){Wn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Or||this._source.on("preclick",kr))},onRemove:function(r){Wn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Or||this._source.off("preclick",kr))},getEvents:function(){var r=Wn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=se("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=se("div",r+"-content-wrapper",s);if(this._contentNode=se("div",r+"-content",f),ea(s),ta(this._contentNode),Yt(s,"contextmenu",kr),this._tipContainer=se("div",r+"-tip-container",s),this._tip=se("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=se("a",r+"-close-button",s);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Yt(_,"click",function(E){ze(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var _=r.offsetHeight,E=this.options.maxHeight,j="leaflet-popup-scrolled";E&&_>E?(s.height=E+"px",Ft(r,j)):we(r,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Oe(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(hi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,_=this._containerWidth,E=new at(this._containerLeft,-f-this._containerBottom);E._add(Zr(this._container));var j=r.layerPointToContainerPoint(E),G=M(this.options.autoPanPadding),ot=M(this.options.autoPanPaddingTopLeft||G),ht=M(this.options.autoPanPaddingBottomRight||G),xt=r.getSize(),Dt=0,kt=0;j.x+_+ht.x>xt.x&&(Dt=j.x+_-xt.x+ht.x),j.x-Dt-ot.x<0&&(Dt=j.x-ot.x),j.y+f+ht.y>xt.y&&(kt=j.y+f-xt.y+ht.y),j.y-kt-ot.y<0&&(kt=j.y-ot.y),(Dt||kt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Dt,kt]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Af=function(r,s){return new io(r,s)};te.mergeOptions({closePopupOnClick:!0}),te.include({openPopup:function(r,s,f){return this._initOverlay(io,r,s,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Fn.include({bindPopup:function(r,s){return this._popup=this._initOverlay(io,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Dn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){gr(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ts=Wn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Wn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Wn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Wn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,f,_=this._map,E=this._container,j=_.latLngToContainerPoint(_.getCenter()),G=_.layerPointToContainerPoint(r),ot=this.options.direction,ht=E.offsetWidth,xt=E.offsetHeight,Dt=M(this.options.offset),kt=this._getAnchor();ot==="top"?(s=ht/2,f=xt):ot==="bottom"?(s=ht/2,f=0):ot==="center"?(s=ht/2,f=xt/2):ot==="right"?(s=0,f=xt/2):ot==="left"?(s=ht,f=xt/2):G.x<j.x?(ot="right",s=0,f=xt/2):(ot="left",s=ht+(Dt.x+kt.x)*2,f=xt/2),r=r.subtract(M(s,f,!0)).add(Dt).add(kt),we(E,"leaflet-tooltip-right"),we(E,"leaflet-tooltip-left"),we(E,"leaflet-tooltip-top"),we(E,"leaflet-tooltip-bottom"),Ft(E,"leaflet-tooltip-"+ot),Oe(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&wn(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jf=function(r,s){return new ts(r,s)};te.include({openTooltip:function(r,s,f){return this._initOverlay(ts,r,s,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Fn.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ts,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Dn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(Yt(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Yt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,f,_;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(s)}});var fl=ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(cn(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=M(f.bgPos);s.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Jc(r){return new fl(r)}ia.Default=aa;var wi=Fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){A(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Se(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof at?r:new at(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,f=-r(-1/0,1/0),_=0,E=s.length,j;_<E;_++)j=s[_].style.zIndex,s[_]!==this._container&&j&&(f=r(f,+j));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Bt.ielt9){wn(this._container,this.options.opacity);var r=+new Date,s=!1,f=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var j=Math.min(1,(r-E.loaded)/200);wn(E.el,j),j<1?s=!0:(E.active?f=!0:this._onOpaqueTile(E),E.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&($(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=s-Math.abs(r-f),this._onUpdateLevel(f)):(Se(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[r],E=this._map;return _||(_=this._levels[r]={},_.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=s,_.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,E.getCenter(),E.getZoom()),x(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var r,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var _=s.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Se(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,f,_){var E=Math.floor(r/2),j=Math.floor(s/2),G=f-1,ot=new at(+E,+j);ot.z=+G;var ht=this._tileCoordsToKey(ot),xt=this._tiles[ht];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),G>_?this._retainParent(E,j,G,_):!1)},_retainChildren:function(r,s,f,_){for(var E=2*r;E<2*r+2;E++)for(var j=2*s;j<2*s+2;j++){var G=new at(E,j);G.z=f+1;var ot=this._tileCoordsToKey(G),ht=this._tiles[ot];if(ht&&ht.active){ht.retain=!0;continue}else ht&&ht.loaded&&(ht.retain=!0);f+1<_&&this._retainChildren(E,j,f+1,_)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,f,_){var E=Math.round(s);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var j=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||j)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,s)},_setZoomTransform:function(r,s,f){var _=this._map.getZoomScale(f,r.zoom),E=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(s,f)).round();Bt.any3d?Hn(r.el,E,_):Oe(r.el,E)},_resetGrid:function(){var r=this._map,s=r.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],_).x/f.x),Math.ceil(r.project([0,s.wrapLng[1]],_).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],_).y/f.x),Math.ceil(r.project([s.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),_=s.getZoomScale(f,this._tileZoom),E=s.project(r,this._tileZoom).floor(),j=s.getSize().divideBy(_*2);return new H(E.subtract(j),E.add(j))},_update:function(r){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(_),j=E.getCenter(),G=[],ot=this.options.keepBuffer,ht=new H(E.getBottomLeft().subtract([ot,-ot]),E.getTopRight().add([ot,-ot]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var Dt=this._tiles[xt].coords;(Dt.z!==this._tileZoom||!ht.contains(new at(Dt.x,Dt.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var kt=E.min.y;kt<=E.max.y;kt++)for(var Lt=E.min.x;Lt<=E.max.x;Lt++){var Zt=new at(Lt,kt);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var Te=this._tiles[this._tileCoordsToKey(Zt)];Te?Te.current=!0:G.push(Zt)}}if(G.sort(function(nn,In){return nn.distanceTo(j)-In.distanceTo(j)}),G.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ce=document.createDocumentFragment();for(Lt=0;Lt<G.length;Lt++)this._addTile(G[Lt],Ce);this._level.el.appendChild(Ce)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!s.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return ct(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,f=this.getTileSize(),_=r.scaleBy(f),E=_.add(f),j=s.unproject(_,r.z),G=s.unproject(E,r.z);return[j,G]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),f=new et(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),f=new at(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(r){var s=this._tiles[r];s&&(Se(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ft(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=x,r.onmousemove=x,Bt.ielt9&&this.options.opacity<1&&wn(r,this.options.opacity)},_addTile:function(r,s){var f=this._getTilePos(r),_=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&X(m(this._tileReady,this,r,null,E)),Oe(E,f),this._tiles[_]={el:E,coords:r,current:!0},s.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:r});var _=this._tileCoordsToKey(r);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(wn(f.el,0),$(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(Ft(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Bt.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new at(this._wrapX?w(r.x,this._wrapX):r.x,this._wrapY?w(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new H(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Qn(r){return new wi(r)}var Ti=wi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=A(this,s),s.detectRetina&&Bt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var f=document.createElement("img");return Yt(f,"load",m(this._tileOnLoad,this,s,f)),Yt(f,"error",m(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var s={r:Bt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=f),s["-y"]=f}return z(this._url,u(s,this.options))},_tileOnLoad:function(r,s){Bt.ielt9?setTimeout(m(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,f){var _=this.options.errorTileUrl;_&&s.getAttribute("src")!==_&&(s.src=_),r(f,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(r=s-r),r+_},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=x,s.onerror=x,!s.complete)){s.src=B;var f=this._tiles[r].coords;Se(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",B),wi.prototype._removeTile.call(this,r)},_tileReady:function(r,s,f){if(!(!this._map||f&&f.getAttribute("src")===B))return wi.prototype._tileReady.call(this,r,s,f)}});function kn(r,s){return new Ti(r,s)}var On=Ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var f=u({},this.defaultWmsParams);for(var _ in s)_ in this.options||(f[_]=s[_]);s=A(this,s);var E=s.detectRetina&&Bt.retina?2:1,j=this.getTileSize();f.width=j.x*E,f.height=j.y*E,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ti.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),f=this._crs,_=W(f.project(s[0]),f.project(s[1])),E=_.min,j=_.max,G=(this._wmsVersion>=1.3&&this._crs===Vc?[E.y,E.x,j.y,j.x]:[E.x,E.y,j.x,j.y]).join(","),ot=Ti.prototype.getTileUrl.call(this,r);return ot+P(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+G},setParams:function(r,s){return u(this.wmsParams,r),s||this.redraw(),this}});function ua(r,s){return new On(r,s)}Ti.WMS=On,kn.wms=ua;var Jn=Fn.extend({options:{padding:.1},initialize:function(r){A(this,r),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var f=this._map.getZoomScale(s,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,s),j=_.multiplyBy(-f).add(E).subtract(this._map._getNewPixelOrigin(r,s));Bt.any3d?Hn(this._container,j,f):Oe(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new H(f,f.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ao=Jn.extend({options:{tolerance:0},getEvents:function(){var r=Jn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Yt(r,"mousemove",this._onMouseMove,this),Yt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Yt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Se(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var r=this._bounds,s=this._container,f=r.getSize(),_=Bt.retina?2:1;Oe(s,r.min),s.width=_*f.x,s.height=_*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",Bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[y(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,f=s.next,_=s.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete r._order,delete this._layers[y(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),f=[],_,E;for(E=0;E<s.length;E++){if(_=Number(s[E]),isNaN(_))return;f.push(_)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var f,_,E,j,G=r._parts,ot=G.length,ht=this._ctx;if(ot){for(ht.beginPath(),f=0;f<ot;f++){for(_=0,E=G[f].length;_<E;_++)j=G[f][_],ht[_?"lineTo":"moveTo"](j.x,j.y);s&&ht.closePath()}this._fillStroke(ht,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,f=this._ctx,_=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||_)/_;E!==1&&(f.save(),f.scale(1,E)),f.beginPath(),f.arc(s.x,s.y/E,_,0,Math.PI*2,!1),E!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,s){var f=s.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),f,_,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(we(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var f,_,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(s)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(Ft(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,f){this._map._fireDOMEvent(s,f||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var f=s.next,_=s.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var f=s.next,_=s.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function oo(r){return Bt.canvas?new ao(r):null}var Ei=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),da={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Ei("shape");Ft(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Ei("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Se(s),r.removeInteractiveTarget(s),delete this._layers[y(r)]},_updateStyle:function(r){var s=r._stroke,f=r._fill,_=r.options,E=r._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(s||(s=r._stroke=Ei("stroke")),E.appendChild(s),s.weight=_.weight+"px",s.color=_.color,s.opacity=_.opacity,_.dashArray?s.dashStyle=D(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=_.lineCap.replace("butt","flat"),s.joinstyle=_.lineJoin):s&&(E.removeChild(s),r._stroke=null),_.fill?(f||(f=r._fill=Ei("fill")),E.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(E.removeChild(f),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),f=Math.round(r._radius),_=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){mi(r._container)},_bringToBack:function(r){Ki(r._container)}},so=Bt.vml?Ei:qt,Kr=Jn.extend({_initContainer:function(){this._container=so("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=so("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var r=this._bounds,s=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),Oe(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=so("path");r.options.className&&Ft(s,r.options.className),r.options.interactive&&Ft(s,"leaflet-interactive"),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Se(r._path),r.removeInteractiveTarget(r._path),delete this._layers[y(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,f=r.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,ue(r._parts,s))},_updateCircle:function(r){var s=r._point,f=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||f,E="a"+f+","+_+" 0 1,0 ",j=r._empty()?"M0 0":"M"+(s.x-f)+","+s.y+E+f*2+",0 "+E+-f*2+",0 ";this._setPath(r,j)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){mi(r._path)},_bringToBack:function(r){Ki(r._path)}});Bt.vml&&Kr.include(da);function Ni(r){return Bt.svg||Bt.vml?new Kr(r):null}te.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&oo(r)||Ni(r)}});var tu=sa.extend({initialize:function(r,s){sa.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ct(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Cn(r,s){return new tu(r,s)}Kr.create=so,Kr.pointsToPath=ue,jn.geometryToLayer=eo,jn.coordsToLatLng=Xo,jn.coordsToLatLngs=no,jn.latLngToCoords=ro,jn.latLngsToCoords=Wo,jn.getFeature=Xn,jn.asFeature=la,te.mergeOptions({boxZoom:!0});var es=Kn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hr(),Ka(),this._startPoint=this._map.mouseEventToContainerPoint(r),Yt(document,{contextmenu:gr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),Ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new H(this._point,this._startPoint),f=s.getSize();Oe(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Se(this._box),we(this._container,"leaflet-crosshair")),Va(),Js(),fe(document,{contextmenu:gr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var s=new et(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});te.addInitHook("addHandler","boxZoom",es),te.mergeOptions({doubleClickZoom:!0});var yr=Kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,f=s.getZoom(),_=s.options.zoomDelta,E=r.originalEvent.shiftKey?f-_:f+_;s.options.doubleClickZoom==="center"?s.setZoom(E):s.setZoomAround(r.containerPoint,E)}});te.addInitHook("addHandler","doubleClickZoom",yr),te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hl=Kn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new qr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){we(this._map._container,"leaflet-grab"),we(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ct(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-s+f)%r+s-f,j=(_+s+f)%r-s-f,G=Math.abs(E+f)<Math.abs(j+f)?E:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=G},_onDragEnd:function(r){var s=this._map,f=s.options,_=!f.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),_)s.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,G=f.easeLinearity,ot=E.multiplyBy(G/j),ht=ot.distanceTo([0,0]),xt=Math.min(f.inertiaMaxSpeed,ht),Dt=ot.multiplyBy(xt/ht),kt=xt/(f.inertiaDeceleration*G),Lt=Dt.multiplyBy(-kt/2).round();!Lt.x&&!Lt.y?s.fire("moveend"):(Lt=s._limitOffset(Lt,s.options.maxBounds),X(function(){s.panBy(Lt,{duration:kt,easeLinearity:G,noMoveStart:!0,animate:!0})}))}}});te.addInitHook("addHandler","dragging",hl),te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lo=Kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Yt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,f=r.scrollTop||s.scrollTop,_=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},f=this.keyCodes,_,E;for(_=0,E=f.left.length;_<E;_++)s[f.left[_]]=[-1*r,0];for(_=0,E=f.right.length;_<E;_++)s[f.right[_]]=[r,0];for(_=0,E=f.down.length;_<E;_++)s[f.down[_]]=[0,r];for(_=0,E=f.up.length;_<E;_++)s[f.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},f=this.keyCodes,_,E;for(_=0,E=f.zoomIn.length;_<E;_++)s[f.zoomIn[_]]=r;for(_=0,E=f.zoomOut.length;_<E;_++)s[f.zoomOut[_]]=-r},_addHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,f=this._map,_;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[s],r.shiftKey&&(_=M(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(M(_),f.options.maxBounds)),f.options.worldCopyJump){var E=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(E)}else f.panBy(_)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;gr(r)}}});te.addInitHook("addHandler","keyboard",lo),te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fr=Kn.extend({addHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Wa(r),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),gr(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,j=f?Math.ceil(E/f)*f:E,G=r._limitZoom(s+(this._delta>0?j:-j))-s;this._delta=0,this._startTime=null,G&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+G):r.setZoomAround(this._lastMousePos,s+G))}});te.addInitHook("addHandler","scrollWheelZoom",Fr);var ml=600;te.mergeOptions({tapHold:Bt.touchNative&&Bt.safari&&Bt.mobile,tapTolerance:15});var ns=Kn.extend({addHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new at(s.clientX,s.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Yt(document,"touchend",ze),Yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),ml),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){fe(document,"touchend",ze),fe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new at(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});te.addInitHook("addHandler","tapHold",ns),te.mergeOptions({touchZoom:Bt.touch,bounceAtZoomLimits:!0});var Mi=Kn.extend({addHooks:function(){Ft(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){we(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(r.touches[0]),_=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),ze(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(r.touches[0]),_=s.mouseEventToContainerPoint(r.touches[1]),E=f.distanceTo(_)/this._startDist;if(this._zoom=s.getScaleZoom(E,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&E<1||this._zoom>s.getMaxZoom()&&E>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var j=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&j.x===0&&j.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var G=m(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(G,this,!0),ze(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});te.addInitHook("addHandler","touchZoom",Mi),te.BoxZoom=es,te.DoubleClickZoom=yr,te.Drag=hl,te.Keyboard=lo,te.ScrollWheelZoom=Fr,te.TapHold=ns,te.TouchZoom=Mi,o.Bounds=H,o.Browser=Bt,o.CRS=Tt,o.Canvas=ao,o.Circle=ul,o.CircleMarker=to,o.Class=mt,o.Control=Tn,o.DivIcon=fl,o.DivOverlay=Wn,o.DomEvent=pf,o.DomUtil=Rc,o.Draggable=qr,o.Evented=F,o.FeatureGroup=Dn,o.GeoJSON=jn,o.GridLayer=wi,o.Handler=Kn,o.Icon=ia,o.ImageOverlay=br,o.LatLng=V,o.LatLngBounds=et,o.Layer=Fn,o.LayerGroup=xi,o.LineUtil=Yc,o.Map=te,o.Marker=oa,o.Mixin=_f,o.Path=Or,o.Point=at,o.PolyUtil=xf,o.Polygon=sa,o.Polyline=Cr,o.Popup=io,o.PosAnimation=Zo,o.Projection=qc,o.Rectangle=tu,o.Renderer=Jn,o.SVG=Kr,o.SVGOverlay=Vr,o.TileLayer=Ti,o.Tooltip=ts,o.Transformation=Ht,o.Util=K,o.VideoOverlay=Jo,o.bind=m,o.bounds=W,o.canvas=oo,o.circle=Mf,o.circleMarker=Fc,o.control=na,o.divIcon=Jc,o.extend=u,o.featureGroup=Ja,o.geoJSON=Qo,o.geoJson=Xc,o.gridLayer=Qn,o.icon=Fo,o.imageOverlay=ca,o.latLng=st,o.latLngBounds=ct,o.layerGroup=Kc,o.map=Qa,o.marker=cl,o.point=M,o.polygon=An,o.polyline=Df,o.popup=Af,o.rectangle=Cn,o.setOptions=A,o.stamp=y,o.svg=Ni,o.svgOverlay=Qc,o.tileLayer=kn,o.tooltip=jf,o.transformation=zt,o.version=l,o.videoOverlay=Wc;var fa=window.L;o.noConflict=function(){return window.L=fa,this},window.L=o}))})(lc,lc.exports)),lc.exports}var YT=ZT();const dm=Is(YT),Ju=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function _o(t){const i=document.getElementById(t);if(!i)throw new Error(`#${t} not found`);return i}function qT(t){const{buttonId:i,buttonInputId:o,modalId:l,closeMapId:u,mapCloseBtnId:d,searchBoxId:m,suggestionsId:p,mapId:y}=t.ids,v=t.initialCenter??{lat:37.5665,lon:126.978},w=_o(o),x=_o(i),S=_o(l),T=_o(d),k=_o(m),A=_o(p),P=u?_o(u):null;let I=null,z=null,D=null;const O=$=>$.code==="Space"||$.key===" "||$.key==="Spacebar"||$.key==="Space",B=$=>{O($)&&document.activeElement!==k&&($.preventDefault(),$.stopPropagation(),k.focus())},Y=()=>{S.style.display="flex",I?setTimeout(()=>I?.invalidateSize(),200):setTimeout(()=>{I=dm.map(y,{keyboard:!1}).setView([v.lat,v.lon],11),dm.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo(I),I.invalidateSize()},0),S.addEventListener("keydown",B,!0),S.addEventListener("keyup",B,!0),k.focus()},J=()=>{S.style.display="none",k.value="",A.innerHTML="",D&&(window.clearTimeout(D),D=null),S.removeEventListener("keydown",B,!0),S.removeEventListener("keyup",B,!0)},Q=$=>{const K=$.dataset.name??"",mt=Number($.dataset.lat??""),vt=Number($.dataset.lon??"");!Number.isFinite(mt)||!Number.isFinite(vt)||!I||(z?z.setLatLng([mt,vt]):z=dm.marker([mt,vt]).addTo(I),I.flyTo([mt,vt],14,{duration:.5}),w.value=K,w.dataset.lat=String(mt),w.dataset.lon=String(vt),t.onSelected?.({name:K,lat:mt,lon:vt}),A.innerHTML="",J())},rt=()=>{D&&window.clearTimeout(D);const $=k.value.trim();if(!$){A.innerHTML="";return}D=window.setTimeout(async()=>{try{const K="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent($),mt=await fetch(K,{headers:{Accept:"application/json"}});if(!mt.ok)throw new Error(`HTTP ${mt.status}`);const vt=await mt.json();if(!Array.isArray(vt)||vt.length===0){A.innerHTML='<li style="padding:8px">결과 없음</li>';return}const q=vt.slice(0,12).map((F,at)=>{const U=F.display_name.split(",").slice(0,3).map(W=>W.trim()).join(" · "),M="padding:8px;cursor:pointer;outline:none;",H=at===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Ju(U)}"
                    data-lat="${Ju(F.lat)}"
                    data-lon="${Ju(F.lon)}"
                    data-active="${at===0?"1":"0"}"
                    style="${M}${H}"
                  >${Ju(U)}</li>`}).join("");A.innerHTML=q}catch(K){console.error(K),A.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},nt=$=>{const K=$.target;K.tagName==="LI"&&Q(K)},X=$=>{if($.key==="Enter"){const K=A.querySelector('li[data-active="1"]')??A.querySelector("li");K&&Q(K)}};return x.addEventListener("click",Y),T.addEventListener("click",J),P&&P.addEventListener("click",J),k.addEventListener("input",rt),k.addEventListener("keydown",X),A.addEventListener("click",nt),()=>{x.removeEventListener("click",Y),T.removeEventListener("click",J),P&&P.removeEventListener("click",J),k.removeEventListener("input",rt),k.removeEventListener("keydown",X),A.removeEventListener("click",nt),S.removeEventListener("keydown",B,!0),S.removeEventListener("keyup",B,!0),D&&(window.clearTimeout(D),D=null),I&&(I.remove(),I=null)}}function Es(){return document.getElementById("suggestions")}function wd(t){const i=Array.from(t.querySelectorAll('li, [role="option"]'));return i.forEach((o,l)=>{o.getAttribute("role")||o.setAttribute("role","option"),o.setAttribute("aria-selected",o===document.activeElement?"true":"false"),o.tabIndex=-1,o.id||(o.id=`suggestion-item-${l}`)}),i}function Xl(t,i){const o=wd(t);if(o.length===0)return;const l=o.length;let u=i;u<0&&(u=l-1),u>=l&&(u=0),o.forEach(m=>{m.tabIndex=-1,m.setAttribute("aria-selected","false")});const d=o[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function cx({onSelect:t,placeholderText:i="출생지선택",buttonStyle:o,value:l}){const[u,d]=R.useState(i),[m,p]=R.useState(!1),[y,v]=R.useState(l??""),w=R.useRef(null),x=R.useRef(null),S=R.useRef(null),T=R.useRef(null);return R.useEffect(()=>{l!==void 0&&v(l)},[l]),R.useEffect(()=>{if(!m)return;const k=qT({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:rt=>{d("선택완료"),v(rt.name),w.current&&(w.current.value=rt.name),x.current&&(x.current.value=String(rt.lat)),S.current&&(S.current.value=String(rt.lon)),t?.(rt),p(!1)}}),A=document.getElementById("inputBirthPlaceBtn");A&&A.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const P=document.getElementById("mapModal"),I=document.getElementById("searchBox"),z=Es();setTimeout(()=>I?.focus(),0);const D='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',O=rt=>{if(rt.key==="Escape"){rt.preventDefault(),p(!1);return}if(rt.key!=="Tab")return;const nt=Es();if(nt&&nt.contains(document.activeElement))return;const X=Array.from(P.querySelectorAll(D)).filter(vt=>!vt.hasAttribute("disabled")&&vt.tabIndex!==-1);if(X.length===0)return;const $=X[0],K=X[X.length-1],mt=document.activeElement;rt.shiftKey?(mt===$||!P.contains(mt))&&(rt.preventDefault(),K.focus()):(mt===K||!P.contains(mt))&&(rt.preventDefault(),$.focus())};P.addEventListener("keydown",O);const B=rt=>{if(rt.key!=="ArrowDown")return;const nt=Es();!nt||wd(nt).length===0||(rt.preventDefault(),Xl(nt,0))};I?.addEventListener("keydown",B);const Y=rt=>{if(rt.target.value.trim()===""){const X=Es();X&&(X.innerHTML="")}};I?.addEventListener("input",Y);const J=rt=>{const nt=Es();if(!nt)return;const X=wd(nt);if(X.length===0)return;const $=document.activeElement,K=$?X.indexOf($):-1;if(K===-1)return;const mt=vt=>{rt.preventDefault(),Xl(nt,K+vt)};switch(rt.key){case"Tab":rt.preventDefault(),mt(rt.shiftKey?-1:1);break;case"ArrowDown":rt.preventDefault(),mt(1);break;case"ArrowUp":rt.preventDefault(),mt(-1);break;case"Home":rt.preventDefault(),Xl(nt,0);break;case"End":rt.preventDefault(),Xl(nt,X.length-1);break;case"Enter":case" ":rt.preventDefault(),$.click();break;case"Backspace":rt.preventDefault(),nt.innerHTML="",I?.focus();break}rt.stopPropagation()};let Q=null;return z&&(z.addEventListener("keydown",J),Q=new MutationObserver(()=>{const rt=Es();!rt||wd(rt).length===0||Xl(rt,0)}),Q.observe(z,{childList:!0,subtree:!1})),()=>{P.removeEventListener("keydown",O),I?.removeEventListener("keydown",B),I?.removeEventListener("input",Y),z&&z.removeEventListener("keydown",J),Q?.disconnect(),k?.()}},[m,t]),R.useEffect(()=>{m||setTimeout(()=>T.current?.focus(),0)},[m]),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:y&&y.trim()!==""?y:i}),g.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:o,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":m,"aria-controls":"mapModal",children:u}),g.jsx("input",{ref:w,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:x,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lon",defaultValue:""}),m&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),g.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var $s=Z_();const VT=Is($s);function Bn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var KT=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ly=KT,By=()=>Math.random().toString(36).substring(7).split("").join("."),FT={INIT:`@@redux/INIT${By()}`,REPLACE:`@@redux/REPLACE${By()}`},Ry=FT;function XT(t){if(typeof t!="object"||t===null)return!1;let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i||Object.getPrototypeOf(t)===null}function ux(t,i,o){if(typeof t!="function")throw new Error(Bn(2));if(typeof i=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Bn(0));if(typeof i=="function"&&typeof o>"u"&&(o=i,i=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Bn(1));return o(ux)(t,i)}let l=t,u=i,d=new Map,m=d,p=0,y=!1;function v(){m===d&&(m=new Map,d.forEach((P,I)=>{m.set(I,P)}))}function w(){if(y)throw new Error(Bn(3));return u}function x(P){if(typeof P!="function")throw new Error(Bn(4));if(y)throw new Error(Bn(5));let I=!0;v();const z=p++;return m.set(z,P),function(){if(I){if(y)throw new Error(Bn(6));I=!1,v(),m.delete(z),d=null}}}function S(P){if(!XT(P))throw new Error(Bn(7));if(typeof P.type>"u")throw new Error(Bn(8));if(typeof P.type!="string")throw new Error(Bn(17));if(y)throw new Error(Bn(9));try{y=!0,u=l(u,P)}finally{y=!1}return(d=m).forEach(z=>{z()}),P}function T(P){if(typeof P!="function")throw new Error(Bn(10));l=P,S({type:Ry.REPLACE})}function k(){const P=x;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Bn(11));function z(){const O=I;O.next&&O.next(w())}return z(),{unsubscribe:P(z)}},[Ly](){return this}}}return S({type:Ry.INIT}),{dispatch:S,subscribe:x,getState:w,replaceReducer:T,[Ly]:k}}function Py(t,i){return function(...o){return i(t.apply(this,o))}}function zy(t,i){if(typeof t=="function")return Py(t,i);if(typeof t!="object"||t===null)throw new Error(Bn(16));const o={};for(const l in t){const u=t[l];typeof u=="function"&&(o[l]=Py(u,i))}return o}function dx(...t){return t.length===0?i=>i:t.length===1?t[0]:t.reduce((i,o)=>(...l)=>i(o(...l)))}function WT(...t){return i=>(o,l)=>{const u=i(o,l);let d=()=>{throw new Error(Bn(15))};const m={getState:u.getState,dispatch:(y,...v)=>d(y,...v)},p=t.map(y=>y(m));return d=dx(...p)(u.dispatch),{...u,dispatch:d}}}var fm={exports:{}},hm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function QT(){if(Hy)return hm;Hy=1;var t=Vd();function i(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var o=typeof Object.is=="function"?Object.is:i,l=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,m=t.useMemo,p=t.useDebugValue;return hm.useSyncExternalStoreWithSelector=function(y,v,w,x,S){var T=u(null);if(T.current===null){var k={hasValue:!1,value:null};T.current=k}else k=T.current;T=m(function(){function P(B){if(!I){if(I=!0,z=B,B=x(B),S!==void 0&&k.hasValue){var Y=k.value;if(S(Y,B))return D=Y}return D=B}if(Y=D,o(z,B))return Y;var J=x(B);return S!==void 0&&S(Y,J)?(z=B,Y):(z=B,D=J)}var I=!1,z,D,O=w===void 0?null:w;return[function(){return P(v())},O===null?void 0:function(){return P(O())}]},[v,w,x,S]);var A=l(y,T[0],T[1]);return d(function(){k.hasValue=!0,k.value=A},[A]),p(A),A},hm}var Iy;function JT(){return Iy||(Iy=1,fm.exports=QT()),fm.exports}JT();var tE=R.version.startsWith("19"),eE=Symbol.for(tE?"react.transitional.element":"react.element"),nE=Symbol.for("react.portal"),rE=Symbol.for("react.fragment"),iE=Symbol.for("react.strict_mode"),aE=Symbol.for("react.profiler"),oE=Symbol.for("react.consumer"),sE=Symbol.for("react.context"),fx=Symbol.for("react.forward_ref"),lE=Symbol.for("react.suspense"),cE=Symbol.for("react.suspense_list"),Hp=Symbol.for("react.memo"),uE=Symbol.for("react.lazy"),dE=fx,fE=Hp;function hE(t){if(typeof t=="object"&&t!==null){const{$$typeof:i}=t;switch(i){case eE:switch(t=t.type,t){case rE:case aE:case iE:case lE:case cE:return t;default:switch(t=t&&t.$$typeof,t){case sE:case fx:case uE:case Hp:return t;case oE:return t;default:return i}}case nE:return i}}}function mE(t){return hE(t)===Hp}function pE(t,i,o,l,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:m}){let p=!1,y,v,w,x,S;function T(z,D){return y=z,v=D,w=t(y,v),x=i(l,v),S=o(w,x,v),p=!0,S}function k(){return w=t(y,v),i.dependsOnOwnProps&&(x=i(l,v)),S=o(w,x,v),S}function A(){return t.dependsOnOwnProps&&(w=t(y,v)),i.dependsOnOwnProps&&(x=i(l,v)),S=o(w,x,v),S}function P(){const z=t(y,v),D=!m(z,w);return w=z,D&&(S=o(w,x,v)),S}function I(z,D){const O=!d(D,v),B=!u(z,y,D,v);return y=z,v=D,O&&B?k():O?A():B?P():S}return function(D,O){return p?I(D,O):T(D,O)}}function gE(t,{initMapStateToProps:i,initMapDispatchToProps:o,initMergeProps:l,...u}){const d=i(t,u),m=o(t,u),p=l(t,u);return pE(d,m,p,t,u)}function bE(t,i){const o={};for(const l in t){const u=t[l];typeof u=="function"&&(o[l]=(...d)=>i(u(...d)))}return o}function ap(t){return function(o){const l=t(o);function u(){return l}return u.dependsOnOwnProps=!1,u}}function $y(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function hx(t,i){return function(l,{displayName:u}){const d=function(p,y){return d.dependsOnOwnProps?d.mapToProps(p,y):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,y){d.mapToProps=t,d.dependsOnOwnProps=$y(t);let v=d(p,y);return typeof v=="function"&&(d.mapToProps=v,d.dependsOnOwnProps=$y(v),v=d(p,y)),v},d}}function Ip(t,i){return(o,l)=>{throw new Error(`Invalid value of type ${typeof t} for ${i} argument when connecting component ${l.wrappedComponentName}.`)}}function yE(t){return t&&typeof t=="object"?ap(i=>bE(t,i)):t?typeof t=="function"?hx(t):Ip(t,"mapDispatchToProps"):ap(i=>({dispatch:i}))}function vE(t){return t?typeof t=="function"?hx(t):Ip(t,"mapStateToProps"):ap(()=>({}))}function _E(t,i,o){return{...o,...t,...i}}function xE(t){return function(o,{displayName:l,areMergedPropsEqual:u}){let d=!1,m;return function(y,v,w){const x=t(y,v,w);return d?u(x,m)||(m=x):(d=!0,m=x),m}}}function SE(t){return t?typeof t=="function"?xE(t):Ip(t,"mergeProps"):()=>_E}function wE(t){t()}function TE(){let t=null,i=null;return{clear(){t=null,i=null},notify(){wE(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let l=t;for(;l;)o.push(l),l=l.next;return o},subscribe(o){let l=!0;const u=i={callback:o,next:null,prev:i};return u.prev?u.prev.next=u:t=u,function(){!l||t===null||(l=!1,u.next?u.next.prev=u.prev:i=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var Uy={notify(){},get:()=>[]};function mx(t,i){let o,l=Uy,u=0,d=!1;function m(A){w();const P=l.subscribe(A);let I=!1;return()=>{I||(I=!0,P(),x())}}function p(){l.notify()}function y(){k.onStateChange&&k.onStateChange()}function v(){return d}function w(){u++,o||(o=i?i.addNestedSub(y):t.subscribe(y),l=TE())}function x(){u--,o&&u===0&&(o(),o=void 0,l.clear(),l=Uy)}function S(){d||(d=!0,w())}function T(){d&&(d=!1,x())}const k={addNestedSub:m,notifyNestedSubs:p,handleChangeWrapper:y,isSubscribed:v,trySubscribe:S,tryUnsubscribe:T,getListeners:()=>l};return k}var EE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NE=EE(),ME=()=>typeof navigator<"u"&&navigator.product==="ReactNative",DE=ME(),AE=()=>NE||DE?R.useLayoutEffect:R.useEffect,Ad=AE();function Gy(t,i){return t===i?t!==0||i!==0||1/t===1/i:t!==t&&i!==i}function mm(t,i){if(Gy(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;const o=Object.keys(t),l=Object.keys(i);if(o.length!==l.length)return!1;for(let u=0;u<o.length;u++)if(!Object.prototype.hasOwnProperty.call(i,o[u])||!Gy(t[o[u]],i[o[u]]))return!1;return!0}var jE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},OE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},px={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},CE={[dE]:OE,[fE]:px};function Zy(t){return mE(t)?px:CE[t.$$typeof]||jE}var LE=Object.defineProperty,BE=Object.getOwnPropertyNames,Yy=Object.getOwnPropertySymbols,RE=Object.getOwnPropertyDescriptor,PE=Object.getPrototypeOf,qy=Object.prototype;function op(t,i){if(typeof i!="string"){if(qy){const d=PE(i);d&&d!==qy&&op(t,d)}let o=BE(i);Yy&&(o=o.concat(Yy(i)));const l=Zy(t),u=Zy(i);for(let d=0;d<o.length;++d){const m=o[d];if(!kE[m]&&!(u&&u[m])&&!(l&&l[m])){const p=RE(i,m);try{LE(t,m,p)}catch{}}}}return t}var zE=Symbol.for("react-redux-context"),HE=typeof globalThis<"u"?globalThis:{};function IE(){if(!R.createContext)return{};const t=HE[zE]??=new Map;let i=t.get(R.createContext);return i||(i=R.createContext(null),t.set(R.createContext,i)),i}var gx=IE(),$E=[null,null];function UE(t,i,o){Ad(()=>t(...i),o)}function GE(t,i,o,l,u,d){t.current=l,o.current=!1,u.current&&(u.current=null,d())}function ZE(t,i,o,l,u,d,m,p,y,v,w){if(!t)return()=>{};let x=!1,S=null;const T=()=>{if(x||!p.current)return;const A=i.getState();let P,I;try{P=l(A,u.current)}catch(z){I=z,S=z}I||(S=null),P===d.current?m.current||v():(d.current=P,y.current=P,m.current=!0,w())};return o.onStateChange=T,o.trySubscribe(),T(),()=>{if(x=!0,o.tryUnsubscribe(),o.onStateChange=null,S)throw S}}function YE(t,i){return t===i}function qE(t,i,o,{pure:l,areStatesEqual:u=YE,areOwnPropsEqual:d=mm,areStatePropsEqual:m=mm,areMergedPropsEqual:p=mm,forwardRef:y=!1,context:v=gx}={}){const w=v,x=vE(t),S=yE(i),T=SE(o),k=!!t;return P=>{const I=P.displayName||P.name||"Component",z=`Connect(${I})`,D={shouldHandleStateChanges:k,displayName:z,wrappedComponentName:I,WrappedComponent:P,initMapStateToProps:x,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:u,areStatePropsEqual:m,areOwnPropsEqual:d,areMergedPropsEqual:p};function O(J){const[Q,rt,nt]=R.useMemo(()=>{const{reactReduxForwardedRef:zt,...Qt}=J;return[J.context,zt,Qt]},[J]),X=R.useMemo(()=>{let zt=w;return Q?.Consumer,zt},[Q,w]),$=R.useContext(X),K=!!J.store&&!!J.store.getState&&!!J.store.dispatch,mt=!!$&&!!$.store,vt=K?J.store:$.store,q=mt?$.getServerState:vt.getState,F=R.useMemo(()=>gE(vt.dispatch,D),[vt]),[at,U]=R.useMemo(()=>{if(!k)return $E;const zt=mx(vt,K?void 0:$.subscription),Qt=zt.notifyNestedSubs.bind(zt);return[zt,Qt]},[vt,K,$]),M=R.useMemo(()=>K?$:{...$,subscription:at},[K,$,at]),H=R.useRef(void 0),W=R.useRef(nt),et=R.useRef(void 0),ct=R.useRef(!1),V=R.useRef(!1),st=R.useRef(void 0);Ad(()=>(V.current=!0,()=>{V.current=!1}),[]);const Tt=R.useMemo(()=>()=>et.current&&nt===W.current?et.current:F(vt.getState(),nt),[vt,nt]),wt=R.useMemo(()=>Qt=>at?ZE(k,vt,at,F,W,H,ct,V,et,U,Qt):()=>{},[at]);UE(GE,[W,H,ct,nt,et,U]);let At;try{At=R.useSyncExternalStore(wt,Tt,q?()=>F(q(),nt):Tt)}catch(zt){throw st.current&&(zt.message+=`
The error may be correlated with this previous error:
${st.current.stack}

`),zt}Ad(()=>{st.current=void 0,et.current=void 0,H.current=At});const jt=R.useMemo(()=>R.createElement(P,{...At,ref:rt}),[rt,P,At]);return R.useMemo(()=>k?R.createElement(X.Provider,{value:M},jt):jt,[X,jt,M])}const Y=R.memo(O);if(Y.WrappedComponent=P,Y.displayName=O.displayName=z,y){const Q=R.forwardRef(function(nt,X){return R.createElement(Y,{...nt,reactReduxForwardedRef:X})});return Q.displayName=z,Q.WrappedComponent=P,op(Q,P)}return op(Y,P)}}var bx=qE;function VE(t){const{children:i,context:o,serverState:l,store:u}=t,d=R.useMemo(()=>{const y=mx(u);return{store:u,subscription:y,getServerState:l?()=>l:void 0}},[u,l]),m=R.useMemo(()=>u.getState(),[u]);Ad(()=>{const{subscription:y}=d;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),m!==u.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[d,m]);const p=o||gx;return R.createElement(p.Provider,{value:d},i)}var KE=VE,FE="Invariant failed";function XE(t,i){throw new Error(FE)}var Ir=function(i){var o=i.top,l=i.right,u=i.bottom,d=i.left,m=l-d,p=u-o,y={top:o,right:l,bottom:u,left:d,width:m,height:p,x:d,y:o,center:{x:(l+d)/2,y:(u+o)/2}};return y},$p=function(i,o){return{top:i.top-o.top,left:i.left-o.left,bottom:i.bottom+o.bottom,right:i.right+o.right}},Vy=function(i,o){return{top:i.top+o.top,left:i.left+o.left,bottom:i.bottom-o.bottom,right:i.right-o.right}},WE=function(i,o){return{top:i.top+o.y,left:i.left+o.x,bottom:i.bottom+o.y,right:i.right+o.x}},pm={top:0,right:0,bottom:0,left:0},Up=function(i){var o=i.borderBox,l=i.margin,u=l===void 0?pm:l,d=i.border,m=d===void 0?pm:d,p=i.padding,y=p===void 0?pm:p,v=Ir($p(o,u)),w=Ir(Vy(o,m)),x=Ir(Vy(w,y));return{marginBox:v,borderBox:Ir(o),paddingBox:w,contentBox:x,margin:u,border:m,padding:y}},wr=function(i){var o=i.slice(0,-2),l=i.slice(-2);if(l!=="px")return 0;var u=Number(o);return isNaN(u)&&XE(),u},QE=function(){return{x:window.pageXOffset,y:window.pageYOffset}},jd=function(i,o){var l=i.borderBox,u=i.border,d=i.margin,m=i.padding,p=WE(l,o);return Up({borderBox:p,border:u,margin:d,padding:m})},kd=function(i,o){return o===void 0&&(o=QE()),jd(i,o)},yx=function(i,o){var l={top:wr(o.marginTop),right:wr(o.marginRight),bottom:wr(o.marginBottom),left:wr(o.marginLeft)},u={top:wr(o.paddingTop),right:wr(o.paddingRight),bottom:wr(o.paddingBottom),left:wr(o.paddingLeft)},d={top:wr(o.borderTopWidth),right:wr(o.borderRightWidth),bottom:wr(o.borderBottomWidth),left:wr(o.borderLeftWidth)};return Up({borderBox:i,margin:l,padding:u,border:d})},vx=function(i){var o=i.getBoundingClientRect(),l=window.getComputedStyle(i);return yx(o,l)},gc=function(i){var o=[],l=null,u=function(){for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];o=p,!l&&(l=requestAnimationFrame(function(){l=null,i.apply(void 0,o)}))};return u.cancel=function(){l&&(cancelAnimationFrame(l),l=null)},u};function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var l in o)({}).hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},Od.apply(null,arguments)}function _x(t,i){}_x.bind(null,"warn");_x.bind(null,"error");function Ha(){}function JE(t,i){return{...t,...i}}function Nr(t,i,o){const l=i.map(u=>{const d=JE(o,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){l.forEach(d=>{d()})}}const t3="Invariant failed";class Cd extends Error{}Cd.prototype.toString=function(){return this.message};function Et(t,i){throw new Cd(t3)}class e3 extends De.Component{constructor(...i){super(...i),this.callbacks=null,this.unbind=Ha,this.onWindowError=o=>{const l=this.getCallbacks();l.isDragging()&&l.tryAbort(),o.error instanceof Cd&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Nr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(i){if(i instanceof Cd){this.setState({});return}throw i}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const n3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ld=t=>t+1,r3=t=>`
  You have lifted an item in position ${Ld(t.source.index)}
`,xx=(t,i)=>{const o=t.droppableId===i.droppableId,l=Ld(t.index),u=Ld(i.index);return o?`
      You have moved the item from position ${l}
      to position ${u}
    `:`
    You have moved the item from position ${l}
    in list ${t.droppableId}
    to list ${i.droppableId}
    in position ${u}
  `},Sx=(t,i,o)=>i.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${i.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,i3=t=>{const i=t.destination;if(i)return xx(t.source,i);const o=t.combine;return o?Sx(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},Ky=t=>`
  The item has returned to its starting position
  of ${Ld(t.index)}
`,a3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${Ky(t.source)}
    `;const i=t.destination,o=t.combine;return i?`
      You have dropped the item.
      ${xx(t.source,i)}
    `:o?`
      You have dropped the item.
      ${Sx(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${Ky(t.source)}
  `},Td={dragHandleUsageInstructions:n3,onDragStart:r3,onDragUpdate:i3,onDragEnd:a3};function o3(t,i){return!!(t===i||Number.isNaN(t)&&Number.isNaN(i))}function wx(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(!o3(t[o],i[o]))return!1;return!0}function ce(t,i){const o=R.useState(()=>({inputs:i,result:t()}))[0],l=R.useRef(!0),u=R.useRef(o),m=l.current||!!(i&&u.current.inputs&&wx(i,u.current.inputs))?u.current:{inputs:i,result:t()};return R.useEffect(()=>{l.current=!1,u.current=m},[m]),m.result}function Pt(t,i){return ce(()=>t,i)}const ln={x:0,y:0},bn=(t,i)=>({x:t.x+i.x,y:t.y+i.y}),or=(t,i)=>({x:t.x-i.x,y:t.y-i.y}),Ia=(t,i)=>t.x===i.x&&t.y===i.y,Us=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),jo=(t,i,o=0)=>t==="x"?{x:i,y:o}:{x:o,y:i},bc=(t,i)=>Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2),Fy=(t,i)=>Math.min(...i.map(o=>bc(t,o))),Tx=t=>i=>({x:t(i.x),y:t(i.y)});var s3=(t,i)=>{const o=Ir({top:Math.max(i.top,t.top),right:Math.min(i.right,t.right),bottom:Math.min(i.bottom,t.bottom),left:Math.max(i.left,t.left)});return o.width<=0||o.height<=0?null:o};const Ec=(t,i)=>({top:t.top+i.y,left:t.left+i.x,bottom:t.bottom+i.y,right:t.right+i.x}),Xy=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],l3={top:0,right:0,bottom:0,left:0},c3=(t,i)=>i?Ec(t,i.scroll.diff.displacement):t,u3=(t,i,o)=>o&&o.increasedBy?{...t,[i.end]:t[i.end]+o.increasedBy[i.line]}:t,d3=(t,i)=>i&&i.shouldClipSubject?s3(i.pageMarginBox,t):Ir(t);var Bs=({page:t,withPlaceholder:i,axis:o,frame:l})=>{const u=c3(t.marginBox,l),d=u3(u,o,i),m=d3(d,l);return{page:t,withPlaceholder:i,active:m}},Gp=(t,i)=>{t.frame||Et();const o=t.frame,l=or(i,o.scroll.initial),u=Us(l),d={...o,scroll:{initial:o.scroll.initial,current:i,diff:{value:l,displacement:u},max:o.scroll.max}},m=Bs({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:m}};function sn(t,i=wx){let o=null;function l(...u){if(o&&o.lastThis===this&&i(u,o.lastArgs))return o.lastResult;const d=t.apply(this,u);return o={lastResult:d,lastArgs:u,lastThis:this},d}return l.clear=function(){o=null},l}const Ex=sn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Nx=sn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Xd=sn(t=>Object.values(t)),f3=sn(t=>Object.values(t));var Gs=sn((t,i)=>f3(i).filter(l=>t===l.descriptor.droppableId).sort((l,u)=>l.descriptor.index-u.descriptor.index));function Zp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Wd(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Qd=sn((t,i)=>i.filter(o=>o.descriptor.id!==t.descriptor.id)),h3=({isMovingForward:t,draggable:i,destination:o,insideDestination:l,previousImpact:u})=>{if(!o.isCombineEnabled||!Zp(u))return null;function m(T){const k={type:"COMBINE",combine:{draggableId:T,droppableId:o.descriptor.id}};return{...u,at:k}}const p=u.displaced.all,y=p.length?p[0]:null;if(t)return y?m(y):null;const v=Qd(i,l);if(!y){if(!v.length)return null;const T=v[v.length-1];return m(T.descriptor.id)}const w=v.findIndex(T=>T.descriptor.id===y);w===-1&&Et();const x=w-1;if(x<0)return null;const S=v[x];return m(S.descriptor.id)},Zs=(t,i)=>t.descriptor.droppableId===i.descriptor.id;const Mx={point:ln,value:0},yc={invisible:{},visible:{},all:[]},m3={displaced:yc,displacedBy:Mx,at:null};var Mr=(t,i)=>o=>t<=o&&o<=i,Dx=t=>{const i=Mr(t.top,t.bottom),o=Mr(t.left,t.right);return l=>{if(i(l.top)&&i(l.bottom)&&o(l.left)&&o(l.right))return!0;const d=i(l.top)||i(l.bottom),m=o(l.left)||o(l.right);if(d&&m)return!0;const y=l.top<t.top&&l.bottom>t.bottom,v=l.left<t.left&&l.right>t.right;return y&&v?!0:y&&m||v&&d}},p3=t=>{const i=Mr(t.top,t.bottom),o=Mr(t.left,t.right);return l=>i(l.top)&&i(l.bottom)&&o(l.left)&&o(l.right)};const Yp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ax={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var g3=t=>i=>{const o=Mr(i.top,i.bottom),l=Mr(i.left,i.right);return u=>t===Yp?o(u.top)&&o(u.bottom):l(u.left)&&l(u.right)};const b3=(t,i)=>{const o=i.frame?i.frame.scroll.diff.displacement:ln;return Ec(t,o)},y3=(t,i,o)=>i.subject.active?o(i.subject.active)(t):!1,v3=(t,i,o)=>o(i)(t),qp=({target:t,destination:i,viewport:o,withDroppableDisplacement:l,isVisibleThroughFrameFn:u})=>{const d=l?b3(t,i):t;return y3(d,i,u)&&v3(d,o,u)},_3=t=>qp({...t,isVisibleThroughFrameFn:Dx}),jx=t=>qp({...t,isVisibleThroughFrameFn:p3}),x3=t=>qp({...t,isVisibleThroughFrameFn:g3(t.destination.axis)}),S3=(t,i,o)=>{if(typeof o=="boolean")return o;if(!i)return!0;const{invisible:l,visible:u}=i;if(l[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function w3(t,i){const o=t.page.marginBox,l={top:i.point.y,right:0,bottom:0,left:i.point.x};return Ir($p(o,l))}function vc({afterDragging:t,destination:i,displacedBy:o,viewport:l,forceShouldAnimate:u,last:d}){return t.reduce(function(p,y){const v=w3(y,o),w=y.descriptor.id;if(p.all.push(w),!_3({target:v,destination:i,viewport:l,withDroppableDisplacement:!0}))return p.invisible[y.descriptor.id]=!0,p;const S=S3(w,d,u),T={draggableId:w,shouldAnimate:S};return p.visible[w]=T,p},{all:[],visible:{},invisible:{}})}function T3(t,i){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return i.inHomeList?o:o+1}function Wy({insideDestination:t,inHomeList:i,displacedBy:o,destination:l}){const u=T3(t,{inHomeList:i});return{displaced:yc,displacedBy:o,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:u}}}}function Bd({draggable:t,insideDestination:i,destination:o,viewport:l,displacedBy:u,last:d,index:m,forceShouldAnimate:p}){const y=Zs(t,o);if(m==null)return Wy({insideDestination:i,inHomeList:y,displacedBy:u,destination:o});const v=i.find(k=>k.descriptor.index===m);if(!v)return Wy({insideDestination:i,inHomeList:y,displacedBy:u,destination:o});const w=Qd(t,i),x=i.indexOf(v),S=w.slice(x);return{displaced:vc({afterDragging:S,destination:o,displacedBy:u,last:d,viewport:l.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:m}}}}function $a(t,i){return!!i.effected[t]}var E3=({isMovingForward:t,destination:i,draggables:o,combine:l,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const d=l.draggableId,p=o[d].descriptor.index;return $a(d,u)?t?p:p-1:t?p+1:p},N3=({isMovingForward:t,isInHomeList:i,insideDestination:o,location:l})=>{if(!o.length)return null;const u=l.index,d=t?u+1:u-1,m=o[0].descriptor.index,p=o[o.length-1].descriptor.index,y=i?p:p+1;return d<m||d>y?null:d},M3=({isMovingForward:t,isInHomeList:i,draggable:o,draggables:l,destination:u,insideDestination:d,previousImpact:m,viewport:p,afterCritical:y})=>{const v=m.at;if(v||Et(),v.type==="REORDER"){const x=N3({isMovingForward:t,isInHomeList:i,location:v.destination,insideDestination:d});return x==null?null:Bd({draggable:o,insideDestination:d,destination:u,viewport:p,last:m.displaced,displacedBy:m.displacedBy,index:x})}const w=E3({isMovingForward:t,destination:u,displaced:m.displaced,draggables:l,combine:v.combine,afterCritical:y});return w==null?null:Bd({draggable:o,insideDestination:d,destination:u,viewport:p,last:m.displaced,displacedBy:m.displacedBy,index:w})},D3=({displaced:t,afterCritical:i,combineWith:o,displacedBy:l})=>{const u=!!(t.visible[o]||t.invisible[o]);return $a(o,i)?u?ln:Us(l.point):u?l.point:ln},A3=({afterCritical:t,impact:i,draggables:o})=>{const l=Wd(i);l||Et();const u=l.draggableId,d=o[u].page.borderBox.center,m=D3({displaced:i.displaced,afterCritical:t,combineWith:u,displacedBy:i.displacedBy});return bn(d,m)};const kx=(t,i)=>i.margin[t.start]+i.borderBox[t.size]/2,j3=(t,i)=>i.margin[t.end]+i.borderBox[t.size]/2,Vp=(t,i,o)=>i[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,Qy=({axis:t,moveRelativeTo:i,isMoving:o})=>jo(t.line,i.marginBox[t.end]+kx(t,o),Vp(t,i.marginBox,o)),Jy=({axis:t,moveRelativeTo:i,isMoving:o})=>jo(t.line,i.marginBox[t.start]-j3(t,o),Vp(t,i.marginBox,o)),k3=({axis:t,moveInto:i,isMoving:o})=>jo(t.line,i.contentBox[t.start]+kx(t,o),Vp(t,i.contentBox,o));var O3=({impact:t,draggable:i,draggables:o,droppable:l,afterCritical:u})=>{const d=Gs(l.descriptor.id,o),m=i.page,p=l.axis;if(!d.length)return k3({axis:p,moveInto:l.page,isMoving:m});const{displaced:y,displacedBy:v}=t,w=y.all[0];if(w){const S=o[w];if($a(w,u))return Jy({axis:p,moveRelativeTo:S.page,isMoving:m});const T=jd(S.page,v.point);return Jy({axis:p,moveRelativeTo:T,isMoving:m})}const x=d[d.length-1];if(x.descriptor.id===i.descriptor.id)return m.borderBox.center;if($a(x.descriptor.id,u)){const S=jd(x.page,Us(u.displacedBy.point));return Qy({axis:p,moveRelativeTo:S,isMoving:m})}return Qy({axis:p,moveRelativeTo:x.page,isMoving:m})},sp=(t,i)=>{const o=t.frame;return o?bn(i,o.scroll.diff.displacement):i};const C3=({impact:t,draggable:i,droppable:o,draggables:l,afterCritical:u})=>{const d=i.page.borderBox.center,m=t.at;return!o||!m?d:m.type==="REORDER"?O3({impact:t,draggable:i,draggables:l,droppable:o,afterCritical:u}):A3({impact:t,draggables:l,afterCritical:u})};var Jd=t=>{const i=C3(t),o=t.droppable;return o?sp(o,i):i},Ox=(t,i)=>{const o=or(i,t.scroll.initial),l=Us(o);return{frame:Ir({top:i.y,bottom:i.y+t.frame.height,left:i.x,right:i.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:i,diff:{value:o,displacement:l}}}};function tv(t,i){return t.map(o=>i[o])}function L3(t,i){for(let o=0;o<i.length;o++){const l=i[o].visible[t];if(l)return l}return null}var B3=({impact:t,viewport:i,destination:o,draggables:l,maxScrollChange:u})=>{const d=Ox(i,bn(i.scroll.current,u)),m=o.frame?Gp(o,bn(o.frame.scroll.current,u)):o,p=t.displaced,y=vc({afterDragging:tv(p.all,l),destination:o,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),v=vc({afterDragging:tv(p.all,l),destination:m,displacedBy:t.displacedBy,viewport:i.frame,last:p,forceShouldAnimate:!1}),w={},x={},S=[p,y,v];return p.all.forEach(k=>{const A=L3(k,S);if(A){x[k]=A;return}w[k]=!0}),{...t,displaced:{all:p.all,invisible:w,visible:x}}},R3=(t,i)=>bn(t.scroll.diff.displacement,i),Kp=({pageBorderBoxCenter:t,draggable:i,viewport:o})=>{const l=R3(o,t),u=or(l,i.page.borderBox.center);return bn(i.client.borderBox.center,u)},Cx=({draggable:t,destination:i,newPageBorderBoxCenter:o,viewport:l,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const m=or(o,t.page.borderBox.center),y={target:Ec(t.page.borderBox,m),destination:i,withDroppableDisplacement:u,viewport:l};return d?x3(y):jx(y)},P3=({isMovingForward:t,draggable:i,destination:o,draggables:l,previousImpact:u,viewport:d,previousPageBorderBoxCenter:m,previousClientSelection:p,afterCritical:y})=>{if(!o.isEnabled)return null;const v=Gs(o.descriptor.id,l),w=Zs(i,o),x=h3({isMovingForward:t,draggable:i,destination:o,insideDestination:v,previousImpact:u})||M3({isMovingForward:t,isInHomeList:w,draggable:i,draggables:l,destination:o,insideDestination:v,previousImpact:u,viewport:d,afterCritical:y});if(!x)return null;const S=Jd({impact:x,draggable:i,droppable:o,draggables:l,afterCritical:y});if(Cx({draggable:i,destination:o,newPageBorderBoxCenter:S,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Kp({pageBorderBoxCenter:S,draggable:i,viewport:d}),impact:x,scrollJumpRequest:null};const k=or(S,m),A=B3({impact:x,viewport:d,destination:o,draggables:l,maxScrollChange:k});return{clientSelection:p,impact:A,scrollJumpRequest:k}};const Ln=t=>{const i=t.subject.active;return i||Et(),i};var z3=({isMovingForward:t,pageBorderBoxCenter:i,source:o,droppables:l,viewport:u})=>{const d=o.subject.active;if(!d)return null;const m=o.axis,p=Mr(d[m.start],d[m.end]),y=Xd(l).filter(w=>w!==o).filter(w=>w.isEnabled).filter(w=>!!w.subject.active).filter(w=>Dx(u.frame)(Ln(w))).filter(w=>{const x=Ln(w);return t?d[m.crossAxisEnd]<x[m.crossAxisEnd]:x[m.crossAxisStart]<d[m.crossAxisStart]}).filter(w=>{const x=Ln(w),S=Mr(x[m.start],x[m.end]);return p(x[m.start])||p(x[m.end])||S(d[m.start])||S(d[m.end])}).sort((w,x)=>{const S=Ln(w)[m.crossAxisStart],T=Ln(x)[m.crossAxisStart];return t?S-T:T-S}).filter((w,x,S)=>Ln(w)[m.crossAxisStart]===Ln(S[0])[m.crossAxisStart]);if(!y.length)return null;if(y.length===1)return y[0];const v=y.filter(w=>Mr(Ln(w)[m.start],Ln(w)[m.end])(i[m.line]));return v.length===1?v[0]:v.length>1?v.sort((w,x)=>Ln(w)[m.start]-Ln(x)[m.start])[0]:y.sort((w,x)=>{const S=Fy(i,Xy(Ln(w))),T=Fy(i,Xy(Ln(x)));return S!==T?S-T:Ln(w)[m.start]-Ln(x)[m.start]})[0]};const ev=(t,i)=>{const o=t.page.borderBox.center;return $a(t.descriptor.id,i)?or(o,i.displacedBy.point):o},H3=(t,i)=>{const o=t.page.borderBox;return $a(t.descriptor.id,i)?Ec(o,Us(i.displacedBy.point)):o};var I3=({pageBorderBoxCenter:t,viewport:i,destination:o,insideDestination:l,afterCritical:u})=>l.filter(m=>jx({target:H3(m,u),destination:o,viewport:i.frame,withDroppableDisplacement:!0})).sort((m,p)=>{const y=bc(t,sp(o,ev(m,u))),v=bc(t,sp(o,ev(p,u)));return y<v?-1:v<y?1:m.descriptor.index-p.descriptor.index})[0]||null,Nc=sn(function(i,o){const l=o[i.line];return{value:l,point:jo(i.line,l)}});const $3=(t,i,o)=>{const l=t.axis;if(t.descriptor.mode==="virtual")return jo(l.line,i[l.line]);const u=t.subject.page.contentBox[l.size],y=Gs(t.descriptor.id,o).reduce((v,w)=>v+w.client.marginBox[l.size],0)+i[l.line]-u;return y<=0?null:jo(l.line,y)},Lx=(t,i)=>({...t,scroll:{...t.scroll,max:i}}),Bx=(t,i,o)=>{const l=t.frame;Zs(i,t)&&Et(),t.subject.withPlaceholder&&Et();const u=Nc(t.axis,i.displaceBy).point,d=$3(t,u,o),m={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!l){const w=Bs({page:t.subject.page,withPlaceholder:m,axis:t.axis,frame:t.frame});return{...t,subject:w}}const p=d?bn(l.scroll.max,d):l.scroll.max,y=Lx(l,p),v=Bs({page:t.subject.page,withPlaceholder:m,axis:t.axis,frame:y});return{...t,subject:v,frame:y}},U3=t=>{const i=t.subject.withPlaceholder;i||Et();const o=t.frame;if(!o){const m=Bs({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:m}}const l=i.oldFrameMaxScroll;l||Et();const u=Lx(o,l),d=Bs({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var G3=({previousPageBorderBoxCenter:t,moveRelativeTo:i,insideDestination:o,draggable:l,draggables:u,destination:d,viewport:m,afterCritical:p})=>{if(!i){if(o.length)return null;const x={displaced:yc,displacedBy:Mx,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},S=Jd({impact:x,draggable:l,droppable:d,draggables:u,afterCritical:p}),T=Zs(l,d)?d:Bx(d,l,u);return Cx({draggable:l,destination:T,newPageBorderBoxCenter:S,viewport:m.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?x:null}const y=t[d.axis.line]<=i.page.borderBox.center[d.axis.line],v=(()=>{const x=i.descriptor.index;return i.descriptor.id===l.descriptor.id||y?x:x+1})(),w=Nc(d.axis,l.displaceBy);return Bd({draggable:l,insideDestination:o,destination:d,viewport:m,displacedBy:w,last:yc,index:v})},Z3=({isMovingForward:t,previousPageBorderBoxCenter:i,draggable:o,isOver:l,draggables:u,droppables:d,viewport:m,afterCritical:p})=>{const y=z3({isMovingForward:t,pageBorderBoxCenter:i,source:l,droppables:d,viewport:m});if(!y)return null;const v=Gs(y.descriptor.id,u),w=I3({pageBorderBoxCenter:i,viewport:m,destination:y,insideDestination:v,afterCritical:p}),x=G3({previousPageBorderBoxCenter:i,destination:y,draggable:o,draggables:u,moveRelativeTo:w,insideDestination:v,viewport:m,afterCritical:p});if(!x)return null;const S=Jd({impact:x,draggable:o,droppable:y,draggables:u,afterCritical:p});return{clientSelection:Kp({pageBorderBoxCenter:S,draggable:o,viewport:m}),impact:x,scrollJumpRequest:null}},sr=t=>{const i=t.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null};const Y3=(t,i)=>{const o=sr(t);return o?i[o]:null};var q3=({state:t,type:i})=>{const o=Y3(t.impact,t.dimensions.droppables),l=!!o,u=t.dimensions.droppables[t.critical.droppable.id],d=o||u,m=d.axis.direction,p=m==="vertical"&&(i==="MOVE_UP"||i==="MOVE_DOWN")||m==="horizontal"&&(i==="MOVE_LEFT"||i==="MOVE_RIGHT");if(p&&!l)return null;const y=i==="MOVE_DOWN"||i==="MOVE_RIGHT",v=t.dimensions.draggables[t.critical.draggable.id],w=t.current.page.borderBoxCenter,{draggables:x,droppables:S}=t.dimensions;return p?P3({isMovingForward:y,previousPageBorderBoxCenter:w,draggable:v,destination:d,draggables:x,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Z3({isMovingForward:y,previousPageBorderBoxCenter:w,draggable:v,isOver:d,draggables:x,droppables:S,viewport:t.viewport,afterCritical:t.afterCritical})};function Eo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Rx(t){const i=Mr(t.top,t.bottom),o=Mr(t.left,t.right);return function(u){return i(u.y)&&o(u.x)}}function V3(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top}function K3({pageBorderBox:t,draggable:i,candidates:o}){const l=i.page.borderBox.center,u=o.map(d=>{const m=d.axis,p=jo(d.axis.line,t.center[m.line],d.page.borderBox.center[m.crossAxisLine]);return{id:d.descriptor.id,distance:bc(l,p)}}).sort((d,m)=>m.distance-d.distance);return u[0]?u[0].id:null}function F3({pageBorderBox:t,draggable:i,droppables:o}){const l=Xd(o).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!V3(t,d))return!1;if(Rx(d)(t.center))return!0;const m=u.axis,p=d.center[m.crossAxisLine],y=t[m.crossAxisStart],v=t[m.crossAxisEnd],w=Mr(d[m.crossAxisStart],d[m.crossAxisEnd]),x=w(y),S=w(v);return!x&&!S?!0:x?y<p:v>p});return l.length?l.length===1?l[0].descriptor.id:K3({pageBorderBox:t,draggable:i,candidates:l}):null}const Px=(t,i)=>Ir(Ec(t,i));var X3=(t,i)=>{const o=t.frame;return o?Px(i,o.scroll.diff.value):i};function zx({displaced:t,id:i}){return!!(t.visible[i]||t.invisible[i])}function W3({draggable:t,closest:i,inHomeList:o}){return i?o&&i.descriptor.index>t.descriptor.index?i.descriptor.index-1:i.descriptor.index:null}var Q3=({pageBorderBoxWithDroppableScroll:t,draggable:i,destination:o,insideDestination:l,last:u,viewport:d,afterCritical:m})=>{const p=o.axis,y=Nc(o.axis,i.displaceBy),v=y.value,w=t[p.start],x=t[p.end],T=Qd(i,l).find(A=>{const P=A.descriptor.id,I=A.page.borderBox.center[p.line],z=$a(P,m),D=zx({displaced:u,id:P});return z?D?x<=I:w<I-v:D?x<=I+v:w<I})||null,k=W3({draggable:i,closest:T,inHomeList:Zs(i,o)});return Bd({draggable:i,insideDestination:l,destination:o,viewport:d,last:u,displacedBy:y,index:k})};const J3=4;var tN=({draggable:t,pageBorderBoxWithDroppableScroll:i,previousImpact:o,destination:l,insideDestination:u,afterCritical:d})=>{if(!l.isCombineEnabled)return null;const m=l.axis,p=Nc(l.axis,t.displaceBy),y=p.value,v=i[m.start],w=i[m.end],S=Qd(t,u).find(k=>{const A=k.descriptor.id,P=k.page.borderBox,z=P[m.size]/J3,D=$a(A,d),O=zx({displaced:o.displaced,id:A});return D?O?w>P[m.start]+z&&w<P[m.end]-z:v>P[m.start]-y+z&&v<P[m.end]-y-z:O?w>P[m.start]+y+z&&w<P[m.end]+y-z:v>P[m.start]+z&&v<P[m.end]-z});return S?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:S.descriptor.id,droppableId:l.descriptor.id}}}:null},Hx=({pageOffset:t,draggable:i,draggables:o,droppables:l,previousImpact:u,viewport:d,afterCritical:m})=>{const p=Px(i.page.borderBox,t),y=F3({pageBorderBox:p,draggable:i,droppables:l});if(!y)return m3;const v=l[y],w=Gs(v.descriptor.id,o),x=X3(v,p);return tN({pageBorderBoxWithDroppableScroll:x,draggable:i,previousImpact:u,destination:v,insideDestination:w,afterCritical:m})||Q3({pageBorderBoxWithDroppableScroll:x,draggable:i,destination:v,insideDestination:w,last:u.displaced,viewport:d,afterCritical:m})},Fp=(t,i)=>({...t,[i.descriptor.id]:i});const eN=({previousImpact:t,impact:i,droppables:o})=>{const l=sr(t),u=sr(i);if(!l||l===u)return o;const d=o[l];if(!d.subject.withPlaceholder)return o;const m=U3(d);return Fp(o,m)};var nN=({draggable:t,draggables:i,droppables:o,previousImpact:l,impact:u})=>{const d=eN({previousImpact:l,impact:u,droppables:o}),m=sr(u);if(!m)return d;const p=o[m];if(Zs(t,p)||p.subject.withPlaceholder)return d;const y=Bx(p,t,i);return Fp(d,y)},dc=({state:t,clientSelection:i,dimensions:o,viewport:l,impact:u,scrollJumpRequest:d})=>{const m=l||t.viewport,p=o||t.dimensions,y=i||t.current.client.selection,v=or(y,t.initial.client.selection),w={offset:v,selection:y,borderBoxCenter:bn(t.initial.client.borderBoxCenter,v)},x={selection:bn(w.selection,m.scroll.current),borderBoxCenter:bn(w.borderBoxCenter,m.scroll.current),offset:bn(w.offset,m.scroll.diff.value)},S={client:w,page:x};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:m,current:S};const T=p.draggables[t.critical.draggable.id],k=u||Hx({pageOffset:x.offset,draggable:T,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:m,afterCritical:t.afterCritical}),A=nN({draggable:T,impact:k,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:S,dimensions:{draggables:p.draggables,droppables:A},impact:k,viewport:m,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function rN(t,i){return t.map(o=>i[o])}var Ix=({impact:t,viewport:i,draggables:o,destination:l,forceShouldAnimate:u})=>{const d=t.displaced,m=rN(d.all,o),p=vc({afterDragging:m,destination:l,displacedBy:t.displacedBy,viewport:i.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},$x=({impact:t,draggable:i,droppable:o,draggables:l,viewport:u,afterCritical:d})=>{const m=Jd({impact:t,draggable:i,draggables:l,droppable:o,afterCritical:d});return Kp({pageBorderBoxCenter:m,draggable:i,viewport:u})},Ux=({state:t,dimensions:i,viewport:o})=>{t.movementMode!=="SNAP"&&Et();const l=t.impact,u=o||t.viewport,d=i||t.dimensions,{draggables:m,droppables:p}=d,y=m[t.critical.draggable.id],v=sr(l);v||Et();const w=p[v],x=Ix({impact:l,viewport:u,destination:w,draggables:m}),S=$x({impact:x,draggable:y,droppable:w,draggables:m,viewport:u,afterCritical:t.afterCritical});return dc({impact:x,clientSelection:S,state:t,dimensions:d,viewport:u})},iN=t=>({index:t.index,droppableId:t.droppableId}),Gx=({draggable:t,home:i,draggables:o,viewport:l})=>{const u=Nc(i.axis,t.displaceBy),d=Gs(i.descriptor.id,o),m=d.indexOf(t);m===-1&&Et();const p=d.slice(m+1),y=p.reduce((S,T)=>(S[T.descriptor.id]=!0,S),{}),v={inVirtualList:i.descriptor.mode==="virtual",displacedBy:u,effected:y};return{impact:{displaced:vc({afterDragging:p,destination:i,displacedBy:u,last:null,viewport:l.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:iN(t.descriptor)}},afterCritical:v}},aN=(t,i)=>({draggables:t.draggables,droppables:Fp(t.droppables,i)}),oN=({draggable:t,offset:i,initialWindowScroll:o})=>{const l=jd(t.client,i),u=kd(l,o);return{...t,placeholder:{...t.placeholder,client:l},client:l,page:u}},sN=t=>{const i=t.frame;return i||Et(),i},lN=({additions:t,updatedDroppables:i,viewport:o})=>{const l=o.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,m=i[d],y=sN(m).scroll.diff.value,v=bn(l,y);return oN({draggable:u,offset:v,initialWindowScroll:o.scroll.initial})})},cN=({state:t,published:i})=>{const o=i.modified.map(I=>{const z=t.dimensions.droppables[I.droppableId];return Gp(z,I.scroll)}),l={...t.dimensions.droppables,...Ex(o)},u=Nx(lN({additions:i.additions,updatedDroppables:l,viewport:t.viewport})),d={...t.dimensions.draggables,...u};i.removals.forEach(I=>{delete d[I]});const m={droppables:l,draggables:d},p=sr(t.impact),y=p?m.droppables[p]:null,v=m.draggables[t.critical.draggable.id],w=m.droppables[t.critical.droppable.id],{impact:x,afterCritical:S}=Gx({draggable:v,home:w,draggables:d,viewport:t.viewport}),T=y&&y.isCombineEnabled?t.impact:x,k=Hx({pageOffset:t.current.page.offset,draggable:m.draggables[t.critical.draggable.id],draggables:m.draggables,droppables:m.droppables,previousImpact:T,viewport:t.viewport,afterCritical:S}),A={...t,phase:"DRAGGING",impact:k,onLiftImpact:x,dimensions:m,afterCritical:S,forceShouldAnimate:!1};return t.phase==="COLLECTING"?A:{...A,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const lp=t=>t.movementMode==="SNAP",gm=(t,i,o)=>{const l=aN(t.dimensions,i);return!lp(t)||o?dc({state:t,dimensions:l}):Ux({state:t,dimensions:l})};function bm(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const nv={phase:"IDLE",completed:null,shouldFlush:!1};var uN=(t=nv,i)=>{if(i.type==="FLUSH")return{...nv,shouldFlush:!0};if(i.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Et();const{critical:o,clientSelection:l,viewport:u,dimensions:d,movementMode:m}=i.payload,p=d.draggables[o.draggable.id],y=d.droppables[o.droppable.id],v={selection:l,borderBoxCenter:p.client.borderBox.center,offset:ln},w={client:v,page:{selection:bn(v.selection,u.scroll.initial),borderBoxCenter:bn(v.selection,u.scroll.initial),offset:bn(v.selection,u.scroll.diff.value)}},x=Xd(d.droppables).every(A=>!A.isFixedOnPage),{impact:S,afterCritical:T}=Gx({draggable:p,home:y,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:m,dimensions:d,initial:w,current:w,isWindowScrollAllowed:x,impact:S,afterCritical:T,onLiftImpact:S,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(i.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Et(),{...t,phase:"COLLECTING"});if(i.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Et(),cN({state:t,published:i.payload});if(i.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Eo(t)||Et();const{client:o}=i.payload;return Ia(o,t.current.client.selection)?t:dc({state:t,clientSelection:o,impact:lp(t)?t.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return bm(t);Eo(t)||Et();const{id:o,newScroll:l}=i.payload,u=t.dimensions.droppables[o];if(!u)return t;const d=Gp(u,l);return gm(t,d,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Eo(t)||Et();const{id:o,isEnabled:l}=i.payload,u=t.dimensions.droppables[o];u||Et(),u.isEnabled===l&&Et();const d={...u,isEnabled:l};return gm(t,d,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Eo(t)||Et();const{id:o,isCombineEnabled:l}=i.payload,u=t.dimensions.droppables[o];u||Et(),u.isCombineEnabled===l&&Et();const d={...u,isCombineEnabled:l};return gm(t,d,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Eo(t)||Et(),t.isWindowScrollAllowed||Et();const o=i.payload.newScroll;if(Ia(t.viewport.scroll.current,o))return bm(t);const l=Ox(t.viewport,o);return lp(t)?Ux({state:t,viewport:l}):dc({state:t,viewport:l})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Eo(t))return t;const o=i.payload.maxScroll;if(Ia(o,t.viewport.scroll.max))return t;const l={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:l}}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Et();const o=q3({state:t,type:i.type});return o?dc({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(i.type==="DROP_PENDING"){const o=i.payload.reason;return t.phase!=="COLLECTING"&&Et(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(i.type==="DROP_ANIMATE"){const{completed:o,dropDuration:l,newHomeClientOffset:u}=i.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Et(),{phase:"DROP_ANIMATING",completed:o,dropDuration:l,newHomeClientOffset:u,dimensions:t.dimensions}}if(i.type==="DROP_COMPLETE"){const{completed:o}=i.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function pe(t,i){return t instanceof Object&&"type"in t&&t.type===i}const dN=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),fN=t=>({type:"LIFT",payload:t}),hN=t=>({type:"INITIAL_PUBLISH",payload:t}),mN=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),pN=()=>({type:"COLLECTION_STARTING",payload:null}),gN=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),bN=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),yN=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),Zx=t=>({type:"MOVE",payload:t}),vN=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),_N=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),xN=()=>({type:"MOVE_UP",payload:null}),SN=()=>({type:"MOVE_DOWN",payload:null}),wN=()=>({type:"MOVE_RIGHT",payload:null}),TN=()=>({type:"MOVE_LEFT",payload:null}),Xp=()=>({type:"FLUSH",payload:null}),EN=t=>({type:"DROP_ANIMATE",payload:t}),Wp=t=>({type:"DROP_COMPLETE",payload:t}),Yx=t=>({type:"DROP",payload:t}),NN=t=>({type:"DROP_PENDING",payload:t}),qx=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var MN=t=>({getState:i,dispatch:o})=>l=>u=>{if(!pe(u,"LIFT")){l(u);return}const{id:d,clientSelection:m,movementMode:p}=u.payload,y=i();y.phase==="DROP_ANIMATING"&&o(Wp({completed:y.completed})),i().phase!=="IDLE"&&Et(),o(Xp()),o(dN({draggableId:d,movementMode:p}));const w={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:x,dimensions:S,viewport:T}=t.startPublishing(w);o(hN({critical:x,dimensions:S,clientSelection:m,movementMode:p,viewport:T}))},DN=t=>()=>i=>o=>{pe(o,"INITIAL_PUBLISH")&&t.dragging(),pe(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(pe(o,"FLUSH")||pe(o,"DROP_COMPLETE"))&&t.resting(),i(o)};const Qp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},_c={opacity:{drop:0,combining:.7},scale:{drop:.75}},Vx={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},xo=`${Vx.outOfTheWay}s ${Qp.outOfTheWay}`,fc={fluid:`opacity ${xo}`,snap:`transform ${xo}, opacity ${xo}`,drop:t=>{const i=`${t}s ${Qp.drop}`;return`transform ${i}, opacity ${i}`},outOfTheWay:`transform ${xo}`,placeholder:`height ${xo}, width ${xo}, margin ${xo}`},rv=t=>Ia(t,ln)?void 0:`translate(${t.x}px, ${t.y}px)`,cp={moveTo:rv,drop:(t,i)=>{const o=rv(t);if(o)return i?`${o} scale(${_c.scale.drop})`:o}},{minDropTime:up,maxDropTime:Kx}=Vx,AN=Kx-up,iv=1500,jN=.6;var kN=({current:t,destination:i,reason:o})=>{const l=bc(t,i);if(l<=0)return up;if(l>=iv)return Kx;const u=l/iv,d=up+AN*u,m=o==="CANCEL"?d*jN:d;return Number(m.toFixed(2))},ON=({impact:t,draggable:i,dimensions:o,viewport:l,afterCritical:u})=>{const{draggables:d,droppables:m}=o,p=sr(t),y=p?m[p]:null,v=m[i.descriptor.droppableId],w=$x({impact:t,draggable:i,draggables:d,afterCritical:u,droppable:y||v,viewport:l});return or(w,i.client.borderBox.center)},CN=({draggables:t,reason:i,lastImpact:o,home:l,viewport:u,onLiftImpact:d})=>!o.at||i!=="DROP"?{impact:Ix({draggables:t,impact:d,destination:l,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:yc},didDropInsideDroppable:!0};const LN=({getState:t,dispatch:i})=>o=>l=>{if(!pe(l,"DROP")){o(l);return}const u=t(),d=l.payload.reason;if(u.phase==="COLLECTING"){i(NN({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&Et(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||Et();const p=u.critical,y=u.dimensions,v=y.draggables[u.critical.draggable.id],{impact:w,didDropInsideDroppable:x}=CN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),S=x?Zp(w):null,T=x?Wd(w):null,k={index:p.draggable.index,droppableId:p.droppable.id},A={draggableId:v.descriptor.id,type:v.descriptor.type,source:k,reason:d,mode:u.movementMode,destination:S,combine:T},P=ON({impact:w,draggable:v,dimensions:y,viewport:u.viewport,afterCritical:u.afterCritical}),I={critical:u.critical,afterCritical:u.afterCritical,result:A,impact:w};if(!(!Ia(u.current.client.offset,P)||!!A.combine)){i(Wp({completed:I}));return}const D=kN({current:u.current.client.offset,destination:P,reason:d});i(EN({newHomeClientOffset:P,dropDuration:D,completed:I}))};var Fx=()=>({x:window.pageXOffset,y:window.pageYOffset});function BN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:i=>{i.target!==window&&i.target!==window.document||t()}}}function RN({onWindowScroll:t}){function i(){t(Fx())}const o=gc(i),l=BN(o);let u=Ha;function d(){return u!==Ha}function m(){d()&&Et(),u=Nr(window,[l])}function p(){d()||Et(),o.cancel(),u(),u=Ha}return{start:m,stop:p,isActive:d}}const PN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH"),zN=t=>{const i=RN({onWindowScroll:o=>{t.dispatch(vN({newScroll:o}))}});return o=>l=>{!i.isActive()&&pe(l,"INITIAL_PUBLISH")&&i.start(),i.isActive()&&PN(l)&&i.stop(),o(l)}};var HN=t=>{let i=!1,o=!1;const l=setTimeout(()=>{o=!0}),u=d=>{i||o||(i=!0,t(d),clearTimeout(l))};return u.wasCalled=()=>i,u},IN=()=>{const t=[],i=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&Et();const[m]=t.splice(d,1);m.callback()};return{add:u=>{const d=setTimeout(()=>i(d)),m={timerId:d,callback:u};t.push(m)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const $N=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.droppableId===i.droppableId&&t.index===i.index,UN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.draggableId===i.draggableId&&t.droppableId===i.droppableId,GN=(t,i)=>{if(t===i)return!0;const o=t.draggable.id===i.draggable.id&&t.draggable.droppableId===i.draggable.droppableId&&t.draggable.type===i.draggable.type&&t.draggable.index===i.draggable.index,l=t.droppable.id===i.droppable.id&&t.droppable.type===i.droppable.type;return o&&l},Wl=(t,i)=>{i()},td=(t,i)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:i});function ym(t,i,o,l){if(!t){o(l(i));return}const u=HN(o);t(i,{announce:u}),u.wasCalled()||o(l(i))}var ZN=(t,i)=>{const o=IN();let l=null;const u=(x,S)=>{l&&Et(),Wl("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:x,mode:S})})},d=(x,S)=>{l&&Et(),Wl("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(td(x,S))})},m=(x,S)=>{l&&Et();const T=td(x,S);l={mode:S,lastCritical:x,lastLocation:T.source,lastCombine:null},o.add(()=>{Wl("onDragStart",()=>ym(t().onDragStart,T,i,Td.onDragStart))})},p=(x,S)=>{const T=Zp(S),k=Wd(S);l||Et();const A=!GN(x,l.lastCritical);A&&(l.lastCritical=x);const P=!$N(l.lastLocation,T);P&&(l.lastLocation=T);const I=!UN(l.lastCombine,k);if(I&&(l.lastCombine=k),!A&&!P&&!I)return;const z={...td(x,l.mode),combine:k,destination:T};o.add(()=>{Wl("onDragUpdate",()=>ym(t().onDragUpdate,z,i,Td.onDragUpdate))})},y=()=>{l||Et(),o.flush()},v=x=>{l||Et(),l=null,Wl("onDragEnd",()=>ym(t().onDragEnd,x,i,Td.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:m,update:p,flush:y,drop:v,abort:()=>{if(!l)return;const x={...td(l.lastCritical,l.mode),combine:null,destination:null,reason:"CANCEL"};v(x)}}},YN=(t,i)=>{const o=ZN(t,i);return l=>u=>d=>{if(pe(d,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(pe(d,"INITIAL_PUBLISH")){const p=d.payload.critical;o.beforeStart(p,d.payload.movementMode),u(d),o.start(p,d.payload.movementMode);return}if(pe(d,"DROP_COMPLETE")){const p=d.payload.completed.result;o.flush(),u(d),o.drop(p);return}if(u(d),pe(d,"FLUSH")){o.abort();return}const m=l.getState();m.phase==="DRAGGING"&&o.update(m.critical,m.impact)}};const qN=t=>i=>o=>{if(!pe(o,"DROP_ANIMATION_FINISHED")){i(o);return}const l=t.getState();l.phase!=="DROP_ANIMATING"&&Et(),t.dispatch(Wp({completed:l.completed}))},VN=t=>{let i=null,o=null;function l(){o&&(cancelAnimationFrame(o),o=null),i&&(i(),i=null)}return u=>d=>{if((pe(d,"FLUSH")||pe(d,"DROP_COMPLETE")||pe(d,"DROP_ANIMATION_FINISHED"))&&l(),u(d),!pe(d,"DROP_ANIMATE"))return;const m={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(qx())}};o=requestAnimationFrame(()=>{o=null,i=Nr(window,[m])})}};var KN=t=>()=>i=>o=>{(pe(o,"DROP_COMPLETE")||pe(o,"FLUSH")||pe(o,"DROP_ANIMATE"))&&t.stopPublishing(),i(o)},FN=t=>{let i=!1;return()=>o=>l=>{if(pe(l,"INITIAL_PUBLISH")){i=!0,t.tryRecordFocus(l.payload.critical.draggable.id),o(l),t.tryRestoreFocusRecorded();return}if(o(l),!!i){if(pe(l,"FLUSH")){i=!1,t.tryRestoreFocusRecorded();return}if(pe(l,"DROP_COMPLETE")){i=!1;const u=l.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const XN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH");var WN=t=>i=>o=>l=>{if(XN(l)){t.stop(),o(l);return}if(pe(l,"INITIAL_PUBLISH")){o(l);const u=i.getState();u.phase!=="DRAGGING"&&Et(),t.start(u);return}o(l),t.scroll(i.getState())};const QN=t=>i=>o=>{if(i(o),!pe(o,"PUBLISH_WHILE_DRAGGING"))return;const l=t.getState();l.phase==="DROP_PENDING"&&(l.isWaiting||t.dispatch(Yx({reason:l.reason})))},JN=dx;var tM=({dimensionMarshal:t,focusMarshal:i,styleMarshal:o,getResponders:l,announce:u,autoScroller:d})=>ux(uN,JN(WT(DN(o),KN(t),MN(t),LN,qN,VN,QN,WN(d),zN,FN(i),YN(l,u))));const vm=()=>({additions:{},removals:{},modified:{}});function eM({registry:t,callbacks:i}){let o=vm(),l=null;const u=()=>{l||(i.collectionStarting(),l=requestAnimationFrame(()=>{l=null;const{additions:y,removals:v,modified:w}=o,x=Object.keys(y).map(k=>t.draggable.getById(k).getDimension(ln)).sort((k,A)=>k.descriptor.index-A.descriptor.index),S=Object.keys(w).map(k=>{const P=t.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:P}}),T={additions:x,removals:Object.keys(v),modified:S};o=vm(),i.publish(T)}))};return{add:y=>{const v=y.descriptor.id;o.additions[v]=y,o.modified[y.descriptor.droppableId]=!0,o.removals[v]&&delete o.removals[v],u()},remove:y=>{const v=y.descriptor;o.removals[v.id]=!0,o.modified[v.droppableId]=!0,o.additions[v.id]&&delete o.additions[v.id],u()},stop:()=>{l&&(cancelAnimationFrame(l),l=null,o=vm())}}}var Xx=({scrollHeight:t,scrollWidth:i,height:o,width:l})=>{const u=or({x:i,y:t},{x:l,y:o});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},Wx=()=>{const t=document.documentElement;return t||Et(),t},Qx=()=>{const t=Wx();return Xx({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},nM=()=>{const t=Fx(),i=Qx(),o=t.y,l=t.x,u=Wx(),d=u.clientWidth,m=u.clientHeight,p=l+d,y=o+m;return{frame:Ir({top:o,left:l,right:p,bottom:y}),scroll:{initial:t,current:t,max:i,diff:{value:ln,displacement:ln}}}},rM=({critical:t,scrollOptions:i,registry:o})=>{const l=nM(),u=l.scroll.current,d=t.droppable,m=o.droppable.getAllByType(d.type).map(w=>w.callbacks.getDimensionAndWatchScroll(u,i)),p=o.draggable.getAllByType(t.draggable.type).map(w=>w.getDimension(u));return{dimensions:{draggables:Nx(p),droppables:Ex(m)},critical:t,viewport:l}};function av(t,i,o){return!(o.descriptor.id===i.id||o.descriptor.type!==i.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var iM=(t,i)=>{let o=null;const l=eM({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:t}),u=(S,T)=>{t.droppable.exists(S)||Et(),o&&i.updateDroppableIsEnabled({id:S,isEnabled:T})},d=(S,T)=>{o&&(t.droppable.exists(S)||Et(),i.updateDroppableIsCombineEnabled({id:S,isCombineEnabled:T}))},m=(S,T)=>{o&&(t.droppable.exists(S)||Et(),i.updateDroppableScroll({id:S,newScroll:T}))},p=(S,T)=>{o&&t.droppable.getById(S).callbacks.scroll(T)},y=()=>{if(!o)return;l.stop();const S=o.critical.droppable;t.droppable.getAllByType(S.type).forEach(T=>T.callbacks.dragStopped()),o.unsubscribe(),o=null},v=S=>{o||Et();const T=o.critical.draggable;S.type==="ADDITION"&&av(t,T,S.value)&&l.add(S.value),S.type==="REMOVAL"&&av(t,T,S.value)&&l.remove(S.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:m,startPublishing:S=>{o&&Et();const T=t.draggable.getById(S.draggableId),k=t.droppable.getById(T.descriptor.droppableId),A={draggable:T.descriptor,droppable:k.descriptor},P=t.subscribe(v);return o={critical:A,unsubscribe:P},rM({critical:A,registry:t,scrollOptions:S.scrollOptions})},stopPublishing:y}},Jx=(t,i)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===i?!1:t.completed.result.reason==="DROP",aM=t=>{window.scrollBy(t.x,t.y)};const oM=sn(t=>Xd(t).filter(i=>!(!i.isEnabled||!i.frame))),sM=(t,i)=>oM(i).find(l=>(l.frame||Et(),Rx(l.frame.pageMarginBox)(t)))||null;var lM=({center:t,destination:i,droppables:o})=>{if(i){const u=o[i];return u.frame?u:null}return sM(t,o)};const xc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var cM=(t,i,o=()=>xc)=>{const l=o(),u=t[i.size]*l.startFromPercentage,d=t[i.size]*l.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},t1=({startOfRange:t,endOfRange:i,current:o})=>{const l=i-t;return l===0?0:(o-t)/l},Jp=1,uM=(t,i,o=()=>xc)=>{const l=o();if(t>i.startScrollingFrom)return 0;if(t<=i.maxScrollValueAt)return l.maxPixelScroll;if(t===i.startScrollingFrom)return Jp;const d=1-t1({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:t}),m=l.maxPixelScroll*l.ease(d);return Math.ceil(m)},dM=(t,i,o)=>{const l=o(),u=l.durationDampening.accelerateAt,d=l.durationDampening.stopDampeningAt,m=i,p=d,v=Date.now()-m;if(v>=d)return t;if(v<u)return Jp;const w=t1({startOfRange:u,endOfRange:p,current:v}),x=t*l.ease(w);return Math.ceil(x)},ov=({distanceToEdge:t,thresholds:i,dragStartTime:o,shouldUseTimeDampening:l,getAutoScrollerOptions:u})=>{const d=uM(t,i,u);return d===0?0:l?Math.max(dM(d,o,u),Jp):d},sv=({container:t,distanceToEdges:i,dragStartTime:o,axis:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m=cM(t,l,d);return i[l.end]<i[l.start]?ov({distanceToEdge:i[l.end],thresholds:m,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*ov({distanceToEdge:i[l.start],thresholds:m,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},fM=({container:t,subject:i,proposedScroll:o})=>{const l=i.height>t.height,u=i.width>t.width;return!u&&!l?o:u&&l?null:{x:u?0:o.x,y:l?0:o.y}};const hM=Tx(t=>t===0?0:t);var e1=({dragStartTime:t,container:i,subject:o,center:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m={top:l.y-i.top,right:i.right-l.x,bottom:i.bottom-l.y,left:l.x-i.left},p=sv({container:i,distanceToEdges:m,dragStartTime:t,axis:Yp,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),y=sv({container:i,distanceToEdges:m,dragStartTime:t,axis:Ax,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),v=hM({x:y,y:p});if(Ia(v,ln))return null;const w=fM({container:i,subject:o,proposedScroll:v});return w?Ia(w,ln)?null:w:null};const mM=Tx(t=>t===0?0:t>0?1:-1),t0=(()=>{const t=(i,o)=>i<0?i:i>o?i-o:0;return({current:i,max:o,change:l})=>{const u=bn(i,l),d={x:t(u.x,o.x),y:t(u.y,o.y)};return Ia(d,ln)?null:d}})(),n1=({max:t,current:i,change:o})=>{const l={x:Math.max(i.x,t.x),y:Math.max(i.y,t.y)},u=mM(o),d=t0({max:l,current:i,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},e0=(t,i)=>n1({current:t.scroll.current,max:t.scroll.max,change:i}),pM=(t,i)=>{if(!e0(t,i))return null;const o=t.scroll.max,l=t.scroll.current;return t0({current:l,max:o,change:i})},n0=(t,i)=>{const o=t.frame;return o?n1({current:o.scroll.current,max:o.scroll.max,change:i}):!1},gM=(t,i)=>{const o=t.frame;return!o||!n0(t,i)?null:t0({current:o.scroll.current,max:o.scroll.max,change:i})};var bM=({viewport:t,subject:i,center:o,dragStartTime:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m=e1({dragStartTime:l,container:t.frame,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return m&&e0(t,m)?m:null},yM=({droppable:t,subject:i,center:o,dragStartTime:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const m=t.frame;if(!m)return null;const p=e1({dragStartTime:l,container:m.pageMarginBox,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&n0(t,p)?p:null},lv=({state:t,dragStartTime:i,shouldUseTimeDampening:o,scrollWindow:l,scrollDroppable:u,getAutoScrollerOptions:d})=>{const m=t.current.page.borderBoxCenter,y=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const x=t.viewport,S=bM({dragStartTime:i,viewport:x,subject:y,center:m,shouldUseTimeDampening:o,getAutoScrollerOptions:d});if(S){l(S);return}}const v=lM({center:m,destination:sr(t.impact),droppables:t.dimensions.droppables});if(!v)return;const w=yM({dragStartTime:i,droppable:v,subject:y,center:m,shouldUseTimeDampening:o,getAutoScrollerOptions:d});w&&u(v.descriptor.id,w)},vM=({scrollWindow:t,scrollDroppable:i,getAutoScrollerOptions:o=()=>xc})=>{const l=gc(t),u=gc(i);let d=null;const m=v=>{d||Et();const{shouldUseTimeDampening:w,dragStartTime:x}=d;lv({state:v,scrollWindow:l,scrollDroppable:u,dragStartTime:x,shouldUseTimeDampening:w,getAutoScrollerOptions:o})};return{start:v=>{d&&Et();const w=Date.now();let x=!1;const S=()=>{x=!0};lv({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:S,scrollDroppable:S,getAutoScrollerOptions:o}),d={dragStartTime:w,shouldUseTimeDampening:x},x&&m(v)},stop:()=>{d&&(l.cancel(),u.cancel(),d=null)},scroll:m}},_M=({move:t,scrollDroppable:i,scrollWindow:o})=>{const l=(p,y)=>{const v=bn(p.current.client.selection,y);t({client:v})},u=(p,y)=>{if(!n0(p,y))return y;const v=gM(p,y);if(!v)return i(p.descriptor.id,y),null;const w=or(y,v);return i(p.descriptor.id,w),or(y,w)},d=(p,y,v)=>{if(!p||!e0(y,v))return v;const w=pM(y,v);if(!w)return o(v),null;const x=or(v,w);return o(x),or(v,x)};return p=>{const y=p.scrollJumpRequest;if(!y)return;const v=sr(p.impact);v||Et();const w=u(p.dimensions.droppables[v],y);if(!w)return;const x=p.viewport,S=d(p.isWindowScrollAllowed,x,w);S&&l(p,S)}},xM=({scrollDroppable:t,scrollWindow:i,move:o,getAutoScrollerOptions:l})=>{const u=vM({scrollWindow:i,scrollDroppable:t,getAutoScrollerOptions:l}),d=_M({move:o,scrollWindow:i,scrollDroppable:t});return{scroll:y=>{if(!(l().disabled||y.phase!=="DRAGGING")){if(y.movementMode==="FLUID"){u.scroll(y);return}y.scrollJumpRequest&&d(y)}},start:u.start,stop:u.stop}};const Rs="data-rfd",Ps=(()=>{const t=`${Rs}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),dp=(()=>{const t=`${Rs}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),SM=(()=>{const t=`${Rs}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),cv={contextId:`${Rs}-scroll-container-context-id`},wM=t=>i=>`[${i}="${t}"]`,Ql=(t,i)=>t.map(o=>{const l=o.styles[i];return l?`${o.selector} { ${l} }`:""}).join(" "),TM="pointer-events: none;";var EM=t=>{const i=wM(t),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(Ps.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:TM,dropAnimating:p}}})(),l=(()=>{const p=`
      transition: ${fc.outOfTheWay};
    `;return{selector:i(dp.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:i(SM.contextId),styles:{always:"overflow-anchor: none;"}},m=[l,o,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ql(m,"always"),resting:Ql(m,"resting"),dragging:Ql(m,"dragging"),dropAnimating:Ql(m,"dropAnimating"),userCancel:Ql(m,"userCancel")}};const lr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,_m=()=>{const t=document.querySelector("head");return t||Et(),t},uv=t=>{const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.type="text/css",i};function NM(t,i){const o=ce(()=>EM(t),[t]),l=R.useRef(null),u=R.useRef(null),d=Pt(sn(x=>{const S=u.current;S||Et(),S.textContent=x}),[]),m=Pt(x=>{const S=l.current;S||Et(),S.textContent=x},[]);lr(()=>{!l.current&&!u.current||Et();const x=uv(i),S=uv(i);return l.current=x,u.current=S,x.setAttribute(`${Rs}-always`,t),S.setAttribute(`${Rs}-dynamic`,t),_m().appendChild(x),_m().appendChild(S),m(o.always),d(o.resting),()=>{const T=k=>{const A=k.current;A||Et(),_m().removeChild(A),k.current=null};T(l),T(u)}},[i,m,d,o.always,o.resting,t]);const p=Pt(()=>d(o.dragging),[d,o.dragging]),y=Pt(x=>{if(x==="DROP"){d(o.dropAnimating);return}d(o.userCancel)},[d,o.dropAnimating,o.userCancel]),v=Pt(()=>{u.current&&d(o.resting)},[d,o.resting]);return ce(()=>({dragging:p,dropping:y,resting:v}),[p,y,v])}function r1(t,i){return Array.from(t.querySelectorAll(i))}var i1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function tf(t){return t instanceof i1(t).HTMLElement}function MM(t,i){const o=`[${Ps.contextId}="${t}"]`,l=r1(document,o);if(!l.length)return null;const u=l.find(d=>d.getAttribute(Ps.draggableId)===i);return!u||!tf(u)?null:u}function DM(t){const i=R.useRef({}),o=R.useRef(null),l=R.useRef(null),u=R.useRef(!1),d=Pt(function(S,T){const k={id:S,focus:T};return i.current[S]=k,function(){const P=i.current;P[S]!==k&&delete P[S]}},[]),m=Pt(function(S){const T=MM(t,S);T&&T!==document.activeElement&&T.focus()},[t]),p=Pt(function(S,T){o.current===S&&(o.current=T)},[]),y=Pt(function(){l.current||u.current&&(l.current=requestAnimationFrame(()=>{l.current=null;const S=o.current;S&&m(S)}))},[m]),v=Pt(function(S){o.current=null;const T=document.activeElement;T&&T.getAttribute(Ps.draggableId)===S&&(o.current=S)},[]);return lr(()=>(u.current=!0,function(){u.current=!1;const S=l.current;S&&cancelAnimationFrame(S)}),[]),ce(()=>({register:d,tryRecordFocus:v,tryRestoreFocusRecorded:y,tryShiftRecord:p}),[d,v,y,p])}function AM(){const t={draggables:{},droppables:{}},i=[];function o(x){return i.push(x),function(){const T=i.indexOf(x);T!==-1&&i.splice(T,1)}}function l(x){i.length&&i.forEach(S=>S(x))}function u(x){return t.draggables[x]||null}function d(x){const S=u(x);return S||Et(),S}const m={register:x=>{t.draggables[x.descriptor.id]=x,l({type:"ADDITION",value:x})},update:(x,S)=>{const T=t.draggables[S.descriptor.id];T&&T.uniqueId===x.uniqueId&&(delete t.draggables[S.descriptor.id],t.draggables[x.descriptor.id]=x)},unregister:x=>{const S=x.descriptor.id,T=u(S);T&&x.uniqueId===T.uniqueId&&(delete t.draggables[S],t.droppables[x.descriptor.droppableId]&&l({type:"REMOVAL",value:x}))},getById:d,findById:u,exists:x=>!!u(x),getAllByType:x=>Object.values(t.draggables).filter(S=>S.descriptor.type===x)};function p(x){return t.droppables[x]||null}function y(x){const S=p(x);return S||Et(),S}const v={register:x=>{t.droppables[x.descriptor.id]=x},unregister:x=>{const S=p(x.descriptor.id);S&&x.uniqueId===S.uniqueId&&delete t.droppables[x.descriptor.id]},getById:y,findById:p,exists:x=>!!p(x),getAllByType:x=>Object.values(t.droppables).filter(S=>S.descriptor.type===x)};function w(){t.draggables={},t.droppables={},i.length=0}return{draggable:m,droppable:v,subscribe:o,clean:w}}function jM(){const t=ce(AM,[]);return R.useEffect(()=>function(){t.clean()},[t]),t}var r0=De.createContext(null),Rd=()=>{const t=document.body;return t||Et(),t};const kM={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},OM=t=>`rfd-announcement-${t}`;function CM(t){const i=ce(()=>OM(t),[t]),o=R.useRef(null);return R.useEffect(function(){const d=document.createElement("div");return o.current=d,d.id=i,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),Od(d.style,kM),Rd().appendChild(d),function(){setTimeout(function(){const y=Rd();y.contains(d)&&y.removeChild(d),d===o.current&&(o.current=null)})}},[i]),Pt(u=>{const d=o.current;if(d){d.textContent=u;return}},[])}const LM={separator:"::"};function i0(t,i=LM){const o=De.useId();return ce(()=>`${t}${i.separator}${o}`,[i.separator,t,o])}function BM({contextId:t,uniqueId:i}){return`rfd-hidden-text-${t}-${i}`}function RM({contextId:t,text:i}){const o=i0("hidden-text",{separator:"-"}),l=ce(()=>BM({contextId:t,uniqueId:o}),[o,t]);return R.useEffect(function(){const d=document.createElement("div");return d.id=l,d.textContent=i,d.style.display="none",Rd().appendChild(d),function(){const p=Rd();p.contains(d)&&p.removeChild(d)}},[l,i]),l}var ef=De.createContext(null);function a1(t){const i=R.useRef(t);return R.useEffect(()=>{i.current=t}),i}function PM(){let t=null;function i(){return!!t}function o(m){return m===t}function l(m){t&&Et();const p={abandon:m};return t=p,p}function u(){t||Et(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:i,isActive:o,claim:l,release:u,tryAbandon:d}}function Sc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const zM=9,HM=13,a0=27,o1=32,IM=33,$M=34,UM=35,GM=36,ZM=37,YM=38,qM=39,VM=40,KM={[HM]:!0,[zM]:!0};var s1=t=>{KM[t.keyCode]&&t.preventDefault()};const nf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(l=>`on${l}`in document)||t})(),l1=0,dv=5;function FM(t,i){return Math.abs(i.x-t.x)>=dv||Math.abs(i.y-t.y)>=dv}const fv={type:"IDLE"};function XM({cancel:t,completed:i,getPhase:o,setPhase:l}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:m,clientY:p}=u;if(d!==l1)return;const y={x:m,y:p},v=o();if(v.type==="DRAGGING"){u.preventDefault(),v.actions.move(y);return}v.type!=="PENDING"&&Et();const w=v.point;if(!FM(w,y))return;u.preventDefault();const x=v.actions.fluidLift(y);l({type:"DRAGGING",actions:x})}},{eventName:"mouseup",fn:u=>{const d=o();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"mousedown",fn:u=>{o().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(o().type==="PENDING"){t();return}if(u.keyCode===a0){u.preventDefault(),t();return}s1(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=o();if(d.type==="IDLE"&&Et(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:nf,fn:t}]}function WM(t){const i=R.useRef(fv),o=R.useRef(Ha),l=ce(()=>({eventName:"mousedown",fn:function(x){if(x.defaultPrevented||x.button!==l1||x.ctrlKey||x.metaKey||x.shiftKey||x.altKey)return;const S=t.findClosestDraggableId(x);if(!S)return;const T=t.tryGetLock(S,m,{sourceEvent:x});if(!T)return;x.preventDefault();const k={x:x.clientX,y:x.clientY};o.current(),v(T,k)}}),[t]),u=ce(()=>({eventName:"webkitmouseforcewillbegin",fn:w=>{if(w.defaultPrevented)return;const x=t.findClosestDraggableId(w);if(!x)return;const S=t.findOptionsForDraggable(x);S&&(S.shouldRespectForcePress||t.canGetLock(x)&&w.preventDefault())}}),[t]),d=Pt(function(){const x={passive:!1,capture:!0};o.current=Nr(window,[u,l],x)},[u,l]),m=Pt(()=>{i.current.type!=="IDLE"&&(i.current=fv,o.current(),d())},[d]),p=Pt(()=>{const w=i.current;m(),w.type==="DRAGGING"&&w.actions.cancel({shouldBlockNextClick:!0}),w.type==="PENDING"&&w.actions.abort()},[m]),y=Pt(function(){const x={capture:!0,passive:!1},S=XM({cancel:p,completed:m,getPhase:()=>i.current,setPhase:T=>{i.current=T}});o.current=Nr(window,S,x)},[p,m]),v=Pt(function(x,S){i.current.type!=="IDLE"&&Et(),i.current={type:"PENDING",point:S,actions:x},y()},[y]);lr(function(){return d(),function(){o.current()}},[d])}function QM(){}const JM={[$M]:!0,[IM]:!0,[GM]:!0,[UM]:!0};function tD(t,i){function o(){i(),t.cancel()}function l(){i(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===a0){u.preventDefault(),o();return}if(u.keyCode===o1){u.preventDefault(),l();return}if(u.keyCode===VM){u.preventDefault(),t.moveDown();return}if(u.keyCode===YM){u.preventDefault(),t.moveUp();return}if(u.keyCode===qM){u.preventDefault(),t.moveRight();return}if(u.keyCode===ZM){u.preventDefault(),t.moveLeft();return}if(JM[u.keyCode]){u.preventDefault();return}s1(u)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:nf,fn:o}]}function eD(t){const i=R.useRef(QM),o=ce(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==o1)return;const m=t.findClosestDraggableId(d);if(!m)return;const p=t.tryGetLock(m,w,{sourceEvent:d});if(!p)return;d.preventDefault();let y=!0;const v=p.snapLift();i.current();function w(){y||Et(),y=!1,i.current(),l()}i.current=Nr(window,tD(v,w),{capture:!0,passive:!1})}}),[t]),l=Pt(function(){const d={passive:!1,capture:!0};i.current=Nr(window,[o],d)},[o]);lr(function(){return l(),function(){i.current()}},[l])}const xm={type:"IDLE"},nD=120,rD=.15;function iD({cancel:t,getPhase:i}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(i().type!=="DRAGGING"){t();return}o.keyCode===a0&&o.preventDefault(),t()}},{eventName:nf,fn:t}]}function aD({cancel:t,completed:i,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:l=>{const u=o();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:m}=l.touches[0],p={x:d,y:m};l.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:l=>{const u=o();if(u.type!=="DRAGGING"){t();return}l.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"touchcancel",fn:l=>{if(o().type!=="DRAGGING"){t();return}l.preventDefault(),t()}},{eventName:"touchforcechange",fn:l=>{const u=o();u.type==="IDLE"&&Et();const d=l.touches[0];if(!d||!(d.force>=rD))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){l.preventDefault();return}t();return}l.preventDefault()}},{eventName:nf,fn:t}]}function oD(t){const i=R.useRef(xm),o=R.useRef(Ha),l=Pt(function(){return i.current},[]),u=Pt(function(T){i.current=T},[]),d=ce(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const k=t.findClosestDraggableId(T);if(!k)return;const A=t.tryGetLock(k,p,{sourceEvent:T});if(!A)return;const P=T.touches[0],{clientX:I,clientY:z}=P,D={x:I,y:z};o.current(),x(A,D)}}),[t]),m=Pt(function(){const T={capture:!0,passive:!1};o.current=Nr(window,[d],T)},[d]),p=Pt(()=>{const S=i.current;S.type!=="IDLE"&&(S.type==="PENDING"&&clearTimeout(S.longPressTimerId),u(xm),o.current(),m())},[m,u]),y=Pt(()=>{const S=i.current;p(),S.type==="DRAGGING"&&S.actions.cancel({shouldBlockNextClick:!0}),S.type==="PENDING"&&S.actions.abort()},[p]),v=Pt(function(){const T={capture:!0,passive:!1},k={cancel:y,completed:p,getPhase:l},A=Nr(window,aD(k),T),P=Nr(window,iD(k),T);o.current=function(){A(),P()}},[y,l,p]),w=Pt(function(){const T=l();T.type!=="PENDING"&&Et();const k=T.actions.fluidLift(T.point);u({type:"DRAGGING",actions:k,hasMoved:!1})},[l,u]),x=Pt(function(T,k){l().type!=="IDLE"&&Et();const A=setTimeout(w,nD);u({type:"PENDING",point:k,actions:T,longPressTimerId:A}),v()},[v,l,u,w]);lr(function(){return m(),function(){o.current();const k=l();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),u(xm))}},[l,m,u]),lr(function(){return Nr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const sD=["input","button","textarea","select","option","optgroup","video","audio"];function c1(t,i){if(i==null)return!1;if(sD.includes(i.tagName.toLowerCase()))return!0;const l=i.getAttribute("contenteditable");return l==="true"||l===""?!0:i===t?!1:c1(t,i.parentElement)}function lD(t,i){const o=i.target;return tf(o)?c1(t,o):!1}var cD=t=>Ir(t.getBoundingClientRect()).center;function uD(t){return t instanceof i1(t).Element}const dD=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(l=>l in Element.prototype)||t})();function u1(t,i){return t==null?null:t[dD](i)?t:u1(t.parentElement,i)}function fD(t,i){return t.closest?t.closest(i):u1(t,i)}function hD(t){return`[${Ps.contextId}="${t}"]`}function mD(t,i){const o=i.target;if(!uD(o))return null;const l=hD(t),u=fD(o,l);return!u||!tf(u)?null:u}function pD(t,i){const o=mD(t,i);return o?o.getAttribute(Ps.draggableId):null}function gD(t,i){const o=`[${dp.contextId}="${t}"]`,u=r1(document,o).find(d=>d.getAttribute(dp.id)===i);return!u||!tf(u)?null:u}function bD(t){t.preventDefault()}function ed({expected:t,phase:i,isLockActive:o,shouldWarn:l}){return!(!o()||t!==i)}function d1({lockAPI:t,store:i,registry:o,draggableId:l}){if(t.isClaimed())return!1;const u=o.draggable.findById(l);return!(!u||!u.options.isEnabled||!Jx(i.getState(),l))}function yD({lockAPI:t,contextId:i,store:o,registry:l,draggableId:u,forceSensorStop:d,sourceEvent:m}){if(!d1({lockAPI:t,store:o,registry:l,draggableId:u}))return null;const y=l.draggable.getById(u),v=gD(i,y.descriptor.id);if(!v||m&&!y.options.canDragInteractiveElements&&lD(v,m))return null;const w=t.claim(d||Ha);let x="PRE_DRAG";function S(){return y.options.shouldRespectForcePress}function T(){return t.isActive(w)}function k(B,Y){ed({expected:B,phase:x,isLockActive:T,shouldWarn:!0})&&o.dispatch(Y())}const A=k.bind(null,"DRAGGING");function P(B){function Y(){t.release(),x="COMPLETED"}x!=="PRE_DRAG"&&(Y(),Et()),o.dispatch(fN(B.liftActionArgs)),x="DRAGGING";function J(Q,rt={shouldBlockNextClick:!1}){if(B.cleanup(),rt.shouldBlockNextClick){const nt=Nr(window,[{eventName:"click",fn:bD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(nt)}Y(),o.dispatch(Yx({reason:Q}))}return{isActive:()=>ed({expected:"DRAGGING",phase:x,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,drop:Q=>J("DROP",Q),cancel:Q=>J("CANCEL",Q),...B.actions}}function I(B){const Y=gc(Q=>{A(()=>Zx({client:Q}))});return{...P({liftActionArgs:{id:u,clientSelection:B,movementMode:"FLUID"},cleanup:()=>Y.cancel(),actions:{move:Y}}),move:Y}}function z(){const B={moveUp:()=>A(xN),moveRight:()=>A(wN),moveDown:()=>A(SN),moveLeft:()=>A(TN)};return P({liftActionArgs:{id:u,clientSelection:cD(v),movementMode:"SNAP"},cleanup:Ha,actions:B})}function D(){ed({expected:"PRE_DRAG",phase:x,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>ed({expected:"PRE_DRAG",phase:x,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,fluidLift:I,snapLift:z,abort:D}}const vD=[WM,eD,oD];function _D({contextId:t,store:i,registry:o,customSensors:l,enableDefaultSensors:u}){const d=[...u?vD:[],...l||[]],m=R.useState(()=>PM())[0],p=Pt(function(P,I){Sc(P)&&!Sc(I)&&m.tryAbandon()},[m]);lr(function(){let P=i.getState();return i.subscribe(()=>{const z=i.getState();p(P,z),P=z})},[m,i,p]),lr(()=>m.tryAbandon,[m.tryAbandon]);const y=Pt(A=>d1({lockAPI:m,registry:o,store:i,draggableId:A}),[m,o,i]),v=Pt((A,P,I)=>yD({lockAPI:m,registry:o,contextId:t,store:i,draggableId:A,forceSensorStop:P||null,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null}),[t,m,o,i]),w=Pt(A=>pD(t,A),[t]),x=Pt(A=>{const P=o.draggable.findById(A);return P?P.options:null},[o.draggable]),S=Pt(function(){m.isClaimed()&&(m.tryAbandon(),i.getState().phase!=="IDLE"&&i.dispatch(Xp()))},[m,i]),T=Pt(()=>m.isClaimed(),[m]),k=ce(()=>({canGetLock:y,tryGetLock:v,findClosestDraggableId:w,findOptionsForDraggable:x,tryReleaseLock:S,isLockClaimed:T}),[y,v,w,x,S,T]);for(let A=0;A<d.length;A++)d[A](k)}const xD=t=>({onBeforeCapture:i=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(i)};$s.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),SD=t=>({...xc,...t.autoScrollerOptions,durationDampening:{...xc.durationDampening,...t.autoScrollerOptions}});function Jl(t){return t.current||Et(),t.current}function wD(t){const{contextId:i,setCallbacks:o,sensors:l,nonce:u,dragHandleUsageInstructions:d}=t,m=R.useRef(null),p=a1(t),y=Pt(()=>xD(p.current),[p]),v=Pt(()=>SD(p.current),[p]),w=CM(i),x=RM({contextId:i,text:d}),S=NM(i,u),T=Pt(nt=>{Jl(m).dispatch(nt)},[]),k=ce(()=>zy({publishWhileDragging:mN,updateDroppableScroll:gN,updateDroppableIsEnabled:bN,updateDroppableIsCombineEnabled:yN,collectionStarting:pN},T),[T]),A=jM(),P=ce(()=>iM(A,k),[A,k]),I=ce(()=>xM({scrollWindow:aM,scrollDroppable:P.scrollDroppable,getAutoScrollerOptions:v,...zy({move:Zx},T)}),[P.scrollDroppable,T,v]),z=DM(i),D=ce(()=>tM({announce:w,autoScroller:I,dimensionMarshal:P,focusMarshal:z,getResponders:y,styleMarshal:S}),[w,I,P,z,y,S]);m.current=D;const O=Pt(()=>{const nt=Jl(m);nt.getState().phase!=="IDLE"&&nt.dispatch(Xp())},[]),B=Pt(()=>{const nt=Jl(m).getState();return nt.phase==="DROP_ANIMATING"?!0:nt.phase==="IDLE"?!1:nt.isDragging},[]),Y=ce(()=>({isDragging:B,tryAbort:O}),[B,O]);o(Y);const J=Pt(nt=>Jx(Jl(m).getState(),nt),[]),Q=Pt(()=>Eo(Jl(m).getState()),[]),rt=ce(()=>({marshal:P,focus:z,contextId:i,canLift:J,isMovementAllowed:Q,dragHandleUsageInstructionsId:x,registry:A}),[i,P,x,z,J,Q,A]);return _D({contextId:i,store:D,registry:A,customSensors:l||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),R.useEffect(()=>O,[O]),De.createElement(ef.Provider,{value:rt},De.createElement(KE,{context:r0,store:D},t.children))}function TD(){return De.useId()}function o0(t){const i=TD(),o=t.dragHandleUsageInstructions||Td.dragHandleUsageInstructions;return De.createElement(e3,null,l=>De.createElement(wD,{nonce:t.nonce,contextId:i,setCallbacks:l,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const hv={dragging:5e3,dropAnimating:4500},ED=(t,i)=>i?fc.drop(i.duration):t?fc.snap:fc.fluid,ND=(t,i)=>{if(t)return i?_c.opacity.drop:_c.opacity.combining},MD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function DD(t){const o=t.dimension.client,{offset:l,combineWith:u,dropping:d}=t,m=!!u,p=MD(t),y=!!d,v=y?cp.drop(l,m):cp.moveTo(l);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:ED(p,d),transform:v,opacity:ND(m,y),zIndex:y?hv.dropAnimating:hv.dragging,pointerEvents:"none"}}function AD(t){return{transform:cp.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function jD(t){return t.type==="DRAGGING"?DD(t):AD(t)}function kD(t,i,o=ln){const l=window.getComputedStyle(i),u=i.getBoundingClientRect(),d=yx(u,l),m=kd(d,o),p={client:d,tagName:i.tagName.toLowerCase(),display:l.display},y={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:y,client:d,page:m}}function OD(t){const i=i0("draggable"),{descriptor:o,registry:l,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:m,isEnabled:p}=t,y=ce(()=>({canDragInteractiveElements:d,shouldRespectForcePress:m,isEnabled:p}),[d,p,m]),v=Pt(T=>{const k=u();return k||Et(),kD(o,k,T)},[o,u]),w=ce(()=>({uniqueId:i,descriptor:o,options:y,getDimension:v}),[o,v,y,i]),x=R.useRef(w),S=R.useRef(!0);lr(()=>(l.draggable.register(x.current),()=>l.draggable.unregister(x.current)),[l.draggable]),lr(()=>{if(S.current){S.current=!1;return}const T=x.current;x.current=w,l.draggable.update(w,T)},[w,l.draggable])}var s0=De.createContext(null);function Pd(t){const i=R.useContext(t);return i||Et(),i}function CD(t){t.preventDefault()}const LD=t=>{const i=R.useRef(null),o=Pt((Y=null)=>{i.current=Y},[]),l=Pt(()=>i.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:m}=Pd(ef),{type:p,droppableId:y}=Pd(s0),v=ce(()=>({id:t.draggableId,index:t.index,type:p,droppableId:y}),[t.draggableId,t.index,p,y]),{children:w,draggableId:x,isEnabled:S,shouldRespectForcePress:T,canDragInteractiveElements:k,isClone:A,mapped:P,dropAnimationFinished:I}=t;if(!A){const Y=ce(()=>({descriptor:v,registry:m,getDraggableRef:l,canDragInteractiveElements:k,shouldRespectForcePress:T,isEnabled:S}),[v,m,l,k,T,S]);OD(Y)}const z=ce(()=>S?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":x,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:CD}:null,[u,d,x,S]),D=Pt(Y=>{P.type==="DRAGGING"&&P.dropping&&Y.propertyName==="transform"&&$s.flushSync(I)},[I,P]),O=ce(()=>{const Y=jD(P),J=P.type==="DRAGGING"&&P.dropping?D:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":x,style:Y,onTransitionEnd:J},dragHandleProps:z}},[u,z,x,P,D,o]),B=ce(()=>({draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}),[v.droppableId,v.id,v.index,v.type]);return De.createElement(De.Fragment,null,w(O,P.snapshot,B))};var f1=(t,i)=>t===i,h1=t=>{const{combine:i,destination:o}=t;return o?o.droppableId:i?i.droppableId:null};const BD=t=>t.combine?t.combine.draggableId:null,RD=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function PD(){const t=sn((u,d)=>({x:u,y:d})),i=sn((u,d,m=null,p=null,y=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!y,dropAnimation:y,mode:u,draggingOver:m,combineWith:p,combineTargetFor:null})),o=sn((u,d,m,p,y=null,v=null,w=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:y,combineWith:v,mode:d,offset:u,dimension:m,forceShouldAnimate:w,snapshot:i(d,p,y,v,null)}}));return(u,d)=>{if(Sc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const m=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],y=sr(u.impact),v=RD(u.impact),w=u.forceShouldAnimate;return o(t(m.x,m.y),u.movementMode,p,d.isClone,y,v,w)}if(u.phase==="DROP_ANIMATING"){const m=u.completed;if(m.result.draggableId!==d.draggableId)return null;const p=d.isClone,y=u.dimensions.draggables[d.draggableId],v=m.result,w=v.mode,x=h1(v),S=BD(v),k={duration:u.dropDuration,curve:Qp.drop,moveTo:u.newHomeClientOffset,opacity:S?_c.opacity.drop:null,scale:S?_c.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:y,dropping:k,draggingOver:x,combineWith:S,mode:w,forceShouldAnimate:null,snapshot:i(w,p,x,S,k)}}}return null}}function m1(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const zD={mapped:{type:"SECONDARY",offset:ln,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:m1(null)}};function HD(){const t=sn((m,p)=>({x:m,y:p})),i=sn(m1),o=sn((m,p=null,y)=>({mapped:{type:"SECONDARY",offset:m,combineTargetFor:p,shouldAnimateDisplacement:y,snapshot:i(p)}})),l=m=>m?o(ln,m,!0):null,u=(m,p,y,v)=>{const w=y.displaced.visible[m],x=!!(v.inVirtualList&&v.effected[m]),S=Wd(y),T=S&&S.draggableId===m?p:null;if(!w){if(!x)return l(T);if(y.displaced.invisible[m])return null;const P=Us(v.displacedBy.point),I=t(P.x,P.y);return o(I,T,!0)}if(x)return l(T);const k=y.displacedBy.point,A=t(k.x,k.y);return o(A,T,w.shouldAnimate)};return(m,p)=>{if(Sc(m))return m.critical.draggable.id===p.draggableId?null:u(p.draggableId,m.critical.draggable.id,m.impact,m.afterCritical);if(m.phase==="DROP_ANIMATING"){const y=m.completed;return y.result.draggableId===p.draggableId?null:u(p.draggableId,y.result.draggableId,y.impact,y.afterCritical)}return null}}const ID=()=>{const t=PD(),i=HD();return(l,u)=>t(l,u)||i(l,u)||zD},$D={dropAnimationFinished:qx},UD=bx(ID,$D,null,{context:r0,areStatePropsEqual:f1})(LD);function p1(t){return Pd(s0).isUsingCloneFor===t.draggableId&&!t.isClone?null:De.createElement(UD,t)}function zd(t){const i=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,l=!!t.shouldRespectForcePress;return De.createElement(p1,Od({},t,{isClone:!1,isEnabled:i,canDragInteractiveElements:o,shouldRespectForcePress:l}))}const g1=t=>i=>t===i,GD=g1("scroll"),ZD=g1("auto"),mv=(t,i)=>i(t.overflowX)||i(t.overflowY),YD=t=>{const i=window.getComputedStyle(t),o={overflowX:i.overflowX,overflowY:i.overflowY};return mv(o,GD)||mv(o,ZD)},qD=()=>!1,b1=t=>t==null?null:t===document.body?qD()?t:null:t===document.documentElement?null:YD(t)?t:b1(t.parentElement);var fp=t=>({x:t.scrollLeft,y:t.scrollTop});const y1=t=>t?window.getComputedStyle(t).position==="fixed"?!0:y1(t.parentElement):!1;var VD=t=>{const i=b1(t),o=y1(t);return{closestScrollable:i,isFixedOnPage:o}},KD=({descriptor:t,isEnabled:i,isCombineEnabled:o,isFixedOnPage:l,direction:u,client:d,page:m,closest:p})=>{const y=(()=>{if(!p)return null;const{scrollSize:S,client:T}=p,k=Xx({scrollHeight:S.scrollHeight,scrollWidth:S.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:T,scrollSize:S,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:k,diff:{value:ln,displacement:ln}}}})(),v=u==="vertical"?Yp:Ax,w=Bs({page:m,withPlaceholder:null,axis:v,frame:y});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:l,axis:v,isEnabled:i,client:d,page:m,frame:y,subject:w}};const FD=(t,i)=>{const o=vx(t);if(!i||t!==i)return o;const l=o.paddingBox.top-i.scrollTop,u=o.paddingBox.left-i.scrollLeft,d=l+i.scrollHeight,m=u+i.scrollWidth,y=$p({top:l,right:m,bottom:d,left:u},o.border);return Up({borderBox:y,margin:o.margin,border:o.border,padding:o.padding})};var XD=({ref:t,descriptor:i,env:o,windowScroll:l,direction:u,isDropDisabled:d,isCombineEnabled:m,shouldClipSubject:p})=>{const y=o.closestScrollable,v=FD(t,y),w=kd(v,l),x=(()=>{if(!y)return null;const T=vx(y),k={scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth};return{client:T,page:kd(T,l),scroll:fp(y),scrollSize:k,shouldClipSubject:p}})();return KD({descriptor:i,isEnabled:!d,isCombineEnabled:m,isFixedOnPage:o.isFixedOnPage,direction:u,client:v,page:w,closest:x})};const WD={passive:!1},QD={passive:!0};var pv=t=>t.shouldPublishImmediately?WD:QD;const nd=t=>t&&t.env.closestScrollable||null;function JD(t){const i=R.useRef(null),o=Pd(ef),l=i0("droppable"),{registry:u,marshal:d}=o,m=a1(t),p=ce(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),y=R.useRef(p),v=ce(()=>sn((O,B)=>{i.current||Et();const Y={x:O,y:B};d.updateDroppableScroll(p.id,Y)}),[p.id,d]),w=Pt(()=>{const O=i.current;return!O||!O.env.closestScrollable?ln:fp(O.env.closestScrollable)},[]),x=Pt(()=>{const O=w();v(O.x,O.y)},[w,v]),S=ce(()=>gc(x),[x]),T=Pt(()=>{const O=i.current,B=nd(O);if(O&&B||Et(),O.scrollOptions.shouldPublishImmediately){x();return}S()},[S,x]),k=Pt((O,B)=>{i.current&&Et();const Y=m.current,J=Y.getDroppableRef();J||Et();const Q=VD(J),rt={ref:J,descriptor:p,env:Q,scrollOptions:B};i.current=rt;const nt=XD({ref:J,descriptor:p,env:Q,windowScroll:O,direction:Y.direction,isDropDisabled:Y.isDropDisabled,isCombineEnabled:Y.isCombineEnabled,shouldClipSubject:!Y.ignoreContainerClipping}),X=Q.closestScrollable;return X&&(X.setAttribute(cv.contextId,o.contextId),X.addEventListener("scroll",T,pv(rt.scrollOptions))),nt},[o.contextId,p,T,m]),A=Pt(()=>{const O=i.current,B=nd(O);return O&&B||Et(),fp(B)},[]),P=Pt(()=>{const O=i.current;O||Et();const B=nd(O);i.current=null,B&&(S.cancel(),B.removeAttribute(cv.contextId),B.removeEventListener("scroll",T,pv(O.scrollOptions)))},[T,S]),I=Pt(O=>{const B=i.current;B||Et();const Y=nd(B);Y||Et(),Y.scrollTop+=O.y,Y.scrollLeft+=O.x},[]),z=ce(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:A,dragStopped:P,scroll:I}),[P,k,A,I]),D=ce(()=>({uniqueId:l,descriptor:p,callbacks:z}),[z,p,l]);lr(()=>(y.current=D.descriptor,u.droppable.register(D),()=>{i.current&&P(),u.droppable.unregister(D)}),[z,p,P,D,d,u.droppable]),lr(()=>{i.current&&d.updateDroppableIsEnabled(y.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),lr(()=>{i.current&&d.updateDroppableIsCombineEnabled(y.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function Sm(){}const gv={width:0,height:0,margin:l3},tA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>t||o==="close"?gv:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin},eA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>{const l=tA({isAnimatingOpenOnMount:t,placeholder:i,animate:o});return{display:i.display,boxSizing:"border-box",width:l.width,height:l.height,marginTop:l.margin.top,marginRight:l.margin.right,marginBottom:l.margin.bottom,marginLeft:l.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?fc.placeholder:null}},nA=t=>{const i=R.useRef(null),o=Pt(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),{animate:l,onTransitionEnd:u,onClose:d,contextId:m}=t,[p,y]=R.useState(t.animate==="open");R.useEffect(()=>p?l!=="open"?(o(),y(!1),Sm):i.current?Sm:(i.current=setTimeout(()=>{i.current=null,y(!1)}),o):Sm,[l,p,o]);const v=Pt(x=>{x.propertyName==="height"&&(u(),l==="close"&&d())},[l,d,u]),w=eA({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return De.createElement(t.placeholder.tagName,{style:w,"data-rfd-placeholder-context-id":m,onTransitionEnd:v,ref:t.innerRef})};var rA=De.memo(nA);class iA extends De.PureComponent{constructor(...i){super(...i),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)}}const aA=t=>{const i=R.useContext(ef);i||Et();const{contextId:o,isMovementAllowed:l}=i,u=R.useRef(null),d=R.useRef(null),{children:m,droppableId:p,type:y,mode:v,direction:w,ignoreContainerClipping:x,isDropDisabled:S,isCombineEnabled:T,snapshot:k,useClone:A,updateViewportMaxScroll:P,getContainerForClone:I}=t,z=Pt(()=>u.current,[]),D=Pt((X=null)=>{u.current=X},[]);Pt(()=>d.current,[]);const O=Pt((X=null)=>{d.current=X},[]),B=Pt(()=>{l()&&P({maxScroll:Qx()})},[l,P]);JD({droppableId:p,type:y,mode:v,direction:w,isDropDisabled:S,isCombineEnabled:T,ignoreContainerClipping:x,getDroppableRef:z});const Y=ce(()=>De.createElement(iA,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:X,data:$,animate:K})=>De.createElement(rA,{placeholder:$,onClose:X,innerRef:O,animate:K,contextId:o,onTransitionEnd:B})),[o,B,t.placeholder,t.shouldAnimatePlaceholder,O]),J=ce(()=>({innerRef:D,placeholder:Y,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,Y,D]),Q=A?A.dragging.draggableId:null,rt=ce(()=>({droppableId:p,type:y,isUsingCloneFor:Q}),[p,Q,y]);function nt(){if(!A)return null;const{dragging:X,render:$}=A,K=De.createElement(p1,{draggableId:X.draggableId,index:X.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(mt,vt)=>$(mt,vt,X));return VT.createPortal(K,I())}return De.createElement(s0.Provider,{value:rt},m(J,k),nt())};function oA(){return document.body||Et(),document.body}const bv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:oA},v1=t=>{let i={...t},o;for(o in bv)t[o]===void 0&&(i={...i,[o]:bv[o]});return i},wm=(t,i)=>t===i.droppable.type,yv=(t,i)=>i.draggables[t.draggable.id],sA=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i={...t,shouldAnimatePlaceholder:!1},o=sn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),l=sn((d,m,p,y,v,w)=>{const x=v.descriptor.id;if(v.descriptor.droppableId===d){const k=w?{render:w,dragging:o(v.descriptor)}:null,A={isDraggingOver:p,draggingOverWith:p?x:null,draggingFromThisWith:x,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:A,useClone:k}}if(!m)return i;if(!y)return t;const T={isDraggingOver:p,draggingOverWith:x,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,m)=>{const p=v1(m),y=p.droppableId,v=p.type,w=!p.isDropDisabled,x=p.renderClone;if(Sc(d)){const S=d.critical;if(!wm(v,S))return i;const T=yv(S,d.dimensions),k=sr(d.impact)===y;return l(y,w,k,k,T,x)}if(d.phase==="DROP_ANIMATING"){const S=d.completed;if(!wm(v,S.critical))return i;const T=yv(S.critical,d.dimensions);return l(y,w,h1(S.result)===y,sr(S.impact)===y,T,x)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const S=d.completed;if(!wm(v,S.critical))return i;const T=sr(S.impact)===y,k=!!(S.impact.at&&S.impact.at.type==="COMBINE"),A=S.critical.droppable.id===y;return T?k?t:i:A?t:i}return i}},lA={updateViewportMaxScroll:_N},hc=bx(sA,lA,(t,i,o)=>({...v1(o),...t,...i}),{context:r0,areStatePropsEqual:f1})(aA),Hi=Bp()(Rp((t,i)=>({currentId:null,setCurrent:o=>t({currentId:o}),list:[],add:o=>t({list:[o,...i().list]}),remove:o=>t({list:i().list.filter(l=>l.id!==o)}),update:(o,l)=>t({list:i().list.map(u=>u.id===o?{...u,...l}:u)}),reorder:o=>t({list:o})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(i=>({...i,dir:i.dir??"forward"}))}),merge:(t,i)=>{const o=t,l=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...i,...o,list:Array.isArray(o.list)?o.list.map(l):[]}}})),cA=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],_1=({value:t,onChange:i})=>{const[o,l]=R.useState(cA),[u,d]=R.useState(""),[m,p]=R.useState(!1),[y,v]=R.useState(""),[w,x]=R.useState(!1),{list:S}=Hi(),k=S.some(D=>D.relationship==="본인")?o.filter(D=>D.value!=="본인"):o;R.useEffect(()=>{t!==void 0&&d(t)},[t]);const A=D=>{const O=D.target.value;d(O),i?.(O),O==="기타입력"?p(!0):(p(!1),v(""))};R.useEffect(()=>{const D=localStorage.getItem("relationshipOptions");D&&l(JSON.parse(D))},[]),R.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(o))},[o]);const P=()=>{if(!y.trim())return;const D={value:y,label:y};l([...o,D]),d(y),v(""),p(!1)},I=D=>{l(o.filter(O=>O.value!==D)),u===D&&d("")},z=D=>{if(!D.destination)return;const O=Array.from(o),[B]=O.splice(D.source.index,1);O.splice(D.destination.index,0,B),l(O)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:A,children:[g.jsx("option",{value:"",hidden:!0,children:"관계선택"}),k.map(D=>g.jsx("option",{value:D.value,children:D.label},D.value)),g.jsx("option",{value:"기타입력",children:"기타입력"})]}),g.jsx("button",{type:"button",onClick:()=>x(!0),className:"btn_style",children:"관계수정"})]}),m&&!w&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"관계 기타입력",value:y,onChange:D=>v(D.target.value)}),g.jsx("button",{type:"button",onClick:P,className:"btn_style",children:"관계추가"})]}),w&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),g.jsx(o0,{onDragEnd:z,children:g.jsx(hc,{droppableId:"relList",children:D=>g.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"space-y-1",children:[o.map((O,B)=>g.jsx(zd,{draggableId:O.value,index:B,children:Y=>g.jsxs("li",{ref:Y.innerRef,...Y.draggableProps,...Y.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:O.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>I(O.value),children:"삭제"})]})},O.value)),D.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>x(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},uA={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Hd(t,i,o){const l=uA[t];if(!l)return!1;const u=new Date(t,i-1,o,0,0,0,0);return u>=l.start&&u<l.end}function dA(t){if(!isFinite(t.getTime()))return 0;const i=t.getUTCFullYear(),o=Date.UTC(i,0,1),u=Math.floor((t.getTime()-o)/864e5)+1,d=t.getUTCHours(),m=t.getUTCMinutes(),p=t.getUTCSeconds(),y=(d-12)/24+m/1440+p/86400,v=2*Math.PI/365*(u-1+y);return 229.18*(75e-6+.001868*Math.cos(v)-.032077*Math.sin(v)-.014615*Math.cos(2*v)-.040849*Math.sin(2*v))}function fA(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Ys(t,i){const o=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(i==null||!isFinite(i))return o;let l=i;Math.abs(l)<=Math.PI+1e-6&&(l=l*180/Math.PI),l=(l+540)%360-180;const u=fA(l),d=4*(l-u),m=dA(o);return new Date(o.getTime()+(d+m)*60*1e3)}const gn="폴더 미지정",Id=["가족","친구","직장","지인","고객","기타"],$d="ms_folders",hA="ms_folder_order",mA="ms_folder_favs",x1="ms_disabled_presets";function pA(t){return!t||t==="미분류"?gn:t}function zs(t){if(!(!t||t===gn||t==="미분류"))return t}function vv(){try{const t=localStorage.getItem($d),i=localStorage.getItem(x1),o=t?JSON.parse(t):[],l=i?JSON.parse(i):[],u=Id.filter(d=>!l.includes(d));return[gn,...u,...o]}catch{return[gn,...Id]}}function gA(t){const i=t.trim();if(!(!i||i===gn))try{const o=localStorage.getItem($d),l=o?JSON.parse(o):[];if(!l.includes(i)){const u=[...l,i];localStorage.setItem($d,JSON.stringify(u))}}catch{}}function bA({value:t,onChange:i}){const[o,l]=R.useState([gn]),[u,d]=R.useState(!1),[m,p]=R.useState("");R.useEffect(()=>{const v=vv();l(Array.from(new Set(v)))},[]);const y=R.useMemo(()=>t||gn,[t]);return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":y,onChange:v=>{const w=v.target.value;if(w==="__custom__"){d(!0),i(void 0);return}d(!1),i(zs(w))},children:[o.map(v=>g.jsx("option",{value:v,children:v},v)),g.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),u&&g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"text",value:m,onChange:v=>p(v.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm",onClick:()=>{const v=m.trim();v&&(gA(v),l(vv()),i(v),d(!1),p(""))},children:"추가"})]})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',gn,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function S1({message:t,onClose:i,ms:o=2e3}){return R.useEffect(()=>{const l=setTimeout(i,o);return()=>clearTimeout(l)},[i,o]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var Ed={exports:{}},yA=Ed.exports,_v;function vA(){return _v||(_v=1,(function(t,i){(function(o,l){t.exports=l()})(yA,function(){return(function(o){function l(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,l),m.l=!0,m.exports}var u={};return l.m=o,l.c=u,l.d=function(d,m,p){l.o(d,m)||Object.defineProperty(d,m,{configurable:!1,enumerable:!0,get:p})},l.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(m,"a",m),m},l.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},l.p="",l(l.s=0)})([function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var d=u(1),m=(function(p){return p&&p.__esModule?p:{default:p}})(d);l.default=m.default,o.exports=l.default},function(o,l,u){function d(K){return K&&K.__esModule?K:{default:K}}Object.defineProperty(l,"__esModule",{value:!0});var m=u(2),p=d(m),y=u(3),v=d(y),w=u(4),x=d(w),S=u(5),T=d(S),k=u(6),A=d(k),P=u(7),I=d(P),z=u(8),D=d(z),O=u(9),B=d(O),Y=u(10),J=d(Y),Q=u(11),rt=d(Q),nt=u(12),X=d(nt),$={lunarInfo:p.default,solarMonth:v.default,gan:x.default,zhi:T.default,animals:A.default,lunarTerm:I.default,lTermInfo:D.default,nStr1:B.default,nStr2:J.default,nStr3:rt.default,nStr4:X.default,lYearDays:function(K){var mt,vt=348;for(mt=32768;mt>8;mt>>=1)vt+=$.lunarInfo[K-1900]&mt?1:0;return vt+$.leapDays(K)},leapMonth:function(K){return 15&$.lunarInfo[K-1900]},leapDays:function(K){return $.leapMonth(K)?65536&$.lunarInfo[K-1900]?30:29:0},monthDays:function(K,mt){return mt>12||mt<1?-1:$.lunarInfo[K-1900]&65536>>mt?30:29},solarDays:function(K,mt){if(mt>12||mt<1)return-1;var vt=mt-1;return vt==1?K%4==0&&K%100!=0||K%400==0?29:28:$.solarMonth[vt]},toGanZhi:function(K){return $.gan[K%10]+$.zhi[K%12]},getTerm:function(K,mt){if(K<1900||K>2100||mt<1||mt>24)return-1;var vt=$.lTermInfo[K-1900],q=[parseInt("0x"+vt.substr(0,5)).toString(),parseInt("0x"+vt.substr(5,5)).toString(),parseInt("0x"+vt.substr(10,5)).toString(),parseInt("0x"+vt.substr(15,5)).toString(),parseInt("0x"+vt.substr(20,5)).toString(),parseInt("0x"+vt.substr(25,5)).toString()],F=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(F[mt-1])},toChinaYear:function(K){var mt=parseInt(K/1e3),vt=parseInt(K%1e3/100),q=parseInt(K%100/10),F=K%10;return $.nStr4[mt]+$.nStr4[vt]+$.nStr4[q]+$.nStr4[F]+"年"},toChinaMonth:function(K){if(K>12||K<1)return-1;var mt=$.nStr3[K-1];return mt+="月"},toChinaDay:function(K){var mt;switch(K){case 10:mt="初十";break;case 20:mt="二十";break;case 30:mt="三十";break;default:mt=$.nStr2[Math.floor(K/10)],mt+=$.nStr1[K%10]}return mt},getAnimal:function(K){return $.animals[(K-4)%12]},solar2lunar:function(U,M,H){if(U<1900||U>2100||U==1900&&M==1&&H<31)return-1;if(U)var q=new Date(U,parseInt(M)-1,H);else var q=new Date;var F,wt=0,at=0,U=q.getFullYear(),M=q.getMonth()+1,H=q.getDate(),W=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(F=1900;F<2101&&W>0;F++)at=$.lYearDays(F),W-=at;W<0&&(W+=at,F--);var et=new Date,ct=!1;et.getFullYear()==U&&et.getMonth()+1==M&&et.getDate()==H&&(ct=!0);var V=q.getDay(),st=$.nStr1[V];V==0&&(V=7);var Tt=F,wt=$.leapMonth(F),At=!1;for(F=1;F<13&&W>0;F++)wt>0&&F==wt+1&&At==0?(--F,At=!0,at=$.leapDays(Tt)):at=$.monthDays(Tt,F),At==1&&F==wt+1&&(At=!1),W-=at;W==0&&wt>0&&F==wt+1&&(At?At=!1:(At=!0,--F)),W<0&&(W+=at,--F);var jt=F,Ht=W+1,zt=M-1,Qt=$.getTerm(U,3),de=$.toGanZhi(U-4),qt=new Date(U,1,Qt).getTime();new Date(U,zt,H).getTime()<qt&&(de=$.toGanZhi(U-5));var ue=$.getTerm(U,2*M-1),ae=$.getTerm(U,2*M),Mt=$.toGanZhi(12*(U-1900)+M+11);H>=ue&&(Mt=$.toGanZhi(12*(U-1900)+M+12));var Vt=!1,pt="";ue==H&&(Vt=!0,pt=$.lunarTerm[2*M-2]),ae==H&&(Vt=!0,pt=$.lunarTerm[2*M-1]);var St=Date.UTC(U,zt,1,0,0,0,0)/864e5+25567+10,gt=$.toGanZhi(St+H-1);return{lYear:Tt,lMonth:jt,lDay:Ht,animal:$.getAnimal(Tt),yearCn:$.toChinaYear(Tt),monthCn:(At&&wt===jt?"闰":"")+$.toChinaMonth(jt),dayCn:$.toChinaDay(Ht),cYear:U,cMonth:M,cDay:H,gzYear:de,gzMonth:Mt,gzDay:gt,isToday:ct,isLeap:At,nWeek:V,ncWeek:"星期"+st,isTerm:Vt,term:pt}},lunar2solar:function(K,mt,vt,q){var F=$.leapMonth(K);if($.leapDays(K),q&&F!=mt||K==2100&&mt==12&&vt>1||K==1900&&mt==1&&vt<31)return-1;var at=$.monthDays(K,mt);if(K<1900||K>2100||vt>at)return-1;for(var U=0,M=1900;M<K;M++)U+=$.lYearDays(M);for(var H=0,W=!1,M=1;M<mt;M++)H=$.leapMonth(K),W||H<=M&&H>0&&(U+=$.leapDays(K),W=!0),U+=$.monthDays(K,M);q&&(U+=at);var et=Date.UTC(1900,1,30,0,0,0),ct=new Date(864e5*(U+vt-31)+et),V=ct.getUTCFullYear(),st=ct.getUTCMonth()+1,Tt=ct.getUTCDate();return $.solar2lunar(V,st,Tt)}};l.default=$,o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=[31,28,31,30,31,30,31,31,30,31,30,31],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["日","一","二","三","四","五","六","七","八","九","十"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["初","十","廿","卅"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["零","一","二","三","四","五","六","七","八","九","十"],o.exports=l.default}])})})(Ed)),Ed.exports}var w1=vA();const _A=Is(w1),Oo=PS({__proto__:null,default:_A},[w1]);function l0(t){return typeof t=="object"&&t!==null}function xA(t){return l0(t)&&"default"in t}function SA(t){return l0(t)&&typeof t.lunar2solar=="function"}function wA(t){if(!l0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function TA(t){const i=xA(t)?t.default:t;if(!SA(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,m);return wA(p)}}}const EA=TA(Oo);function Tm(t,i,o){const l=EA.lunar2solar(t,i,o,!1);return{y:l.cYear,m:l.cMonth,d:l.cDay}}const tc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],ec=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],rd=["야자시","조자시","인시"],id=["남자","여자"];function Em(t,i,o){return o==="ArrowRight"||o==="ArrowDown"?(t+1)%i:o==="ArrowLeft"||o==="ArrowUp"?(t-1+i)%i:o==="Home"?0:o==="End"?i-1:t}function Nm(t){const i=document.getElementById(t);i instanceof HTMLElement&&i.focus()}function NA({onSave:t,onClose:i}){const{add:o}=Hi(),[l,u]=R.useState(0),[d,m]=R.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,y]=R.useState(null),[v,w]=R.useState(!1),[x,S]=R.useState(!1),T=tc[l],k=O=>y(O);R.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const B=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(B){B.focus();return}}if(T.key==="mingSikType"){const B=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(B){B.focus();return}}if(T.key==="gender"){const B=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(B){B.focus();return}}if(d.birthPlace||x){const B=()=>{const Y=document.querySelector(".current-step form button[type='submit']");Y&&Y.focus()};B(),setTimeout(B,0)}else{const B=document.getElementById("inputBirthPlaceBtn");B&&B.focus()}if(T.key==="relationship"){setTimeout(()=>{const B=document.querySelector(".current-step select");B&&B.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const B=document.querySelector(".current-step select");B&&B.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[x,l,T.key,d.birthPlace]);const A=R.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const O=Number(d.birthDay.slice(0,4)),B=Number(d.birthDay.slice(4,6)),Y=Number(d.birthDay.slice(6,8)),J=Tm(O,B,Y);return`→ 양력 ${J.y}-${String(J.m).padStart(2,"0")}-${String(J.d).padStart(2,"0")}`}catch(O){const B=O instanceof Error?O.message:void 0;return`→ 변환 실패${B?`: ${B}`:""}`}},[d.calendarType,d.birthDay]),P=()=>{const O=tc[l];if(O.key==="name"&&(d.name||(m({...d,name:"이름없음"}),k("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),O.key==="birthDay"){const B=/^\d{8}$/;if(!d.birthDay||!B.test(d.birthDay))return k("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const Y=Number(d.birthDay.substring(0,4)),J=Number(d.birthDay.substring(4,6)),Q=Number(d.birthDay.substring(6,8));if(Y<1900||Y>2100)return k("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(J<1||J>12)return k("출생 월은 01~12 사이여야 합니다."),!1;if(Q<1||Q>31)return k("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const rt=new Date(Y,J-1,Q);if(rt.getFullYear()!==Y||rt.getMonth()+1!==J||rt.getDate()!==Q)return k("존재하지 않는 날짜입니다."),!1}else try{Tm(Y,J,Q)}catch(rt){return k(rt instanceof Error?rt.message:"음력 날짜가 유효하지 않습니다."),!1}}if(O.key==="birthTime"){if(!d.birthTime&&!v)return k("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const B=Number(d.birthTime);if(Number.isNaN(B)||B<0||B>2359)return k("태어난 시간은 0000–2359 범위여야 합니다."),!1;const Y=Number(d.birthTime.slice(0,2)),J=Number(d.birthTime.slice(2,4));if(Y>23||J>59)return k("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return O.key==="birthPlace"&&!d.birthPlace&&!x?(k("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},I=()=>{if(!P())return;if(l<tc.length-1){u(l+1);return}const O=zs(d.folder),B=!d.birthTime||d.birthTime==="모름";let Y=Number(d.birthDay.slice(0,4)),J=Number(d.birthDay.slice(4,6)),Q=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const V=Tm(Y,J,Q);Y=V.y,J=V.m,Q=V.d}const rt=B?0:Number(d.birthTime.slice(0,2)||"0"),nt=B?0:Number(d.birthTime.slice(2,4)||"0"),X=new Date(Y,J-1,Q,rt,nt,0,0),$=x||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,K=Ys(X,$),mt=d.mingSikType??"야자시",vt=B?"":K.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),q=Be(K,$),F=yn(K,$),at=Ze(K,mt),U=B?null:ri(K,mt),M=[`원국 : ${q}년 ${F}월 ${at}일`,U?`${U}시`:null].filter(Boolean).join(" ");function H(V,st){const wt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(V),At=st==="남자";return wt?At?"forward":"backward":At?"backward":"forward"}const W=q.charAt(0),et=H(W,d.gender??"남자"),ct={id:lx(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:B?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:x?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:O,correctedLocal:vt,ganji:M,calendarType:d.calendarType??"solar",dir:et,corrected:K,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};o(ct),t(ct),y("저장 완료!"),m({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),w(!1),S(!1),u(0)},z=O=>{if(O.key!=="Enter")return;const B=O.target,Y=B.getAttribute("role");if(Y==="radio"||Y==="checkbox")return;const J=document.getElementById("mapModal");if(J&&J.contains(B))return;const Q=B.tagName.toLowerCase(),rt=B instanceof HTMLInputElement?B.type:"";if(Q==="textarea"){if(O.shiftKey)return;O.preventDefault(),I();return}if(rt==="radio"||rt==="checkbox"){O.preventDefault(),B instanceof HTMLInputElement&&B.click();return}Q==="button"&&B.type!=="submit"||(O.preventDefault(),I())},D=O=>{switch(O){case"birthPlace":return x?"모름":d.birthPlace?.name||"";case"birthTime":return v?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):gn;default:{const Y=d[O];return typeof Y=="string"?Y:Y!=null?String(Y):""}}};return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&g.jsx(S1,{message:p,onClose:()=>y(null)}),tc.slice(0,l).map((O,B)=>g.jsxs("button",{onClick:()=>u(B),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:O.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:D(O.key)})]},O.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:O=>{O.preventDefault(),I()},onKeyDown:z,children:[g.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:O=>m({...d,name:O.target.value})}),T.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:O=>{const B=O.target.value.replace(/\D/g,"");m({...d,birthDay:B.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:ec.map(({value:O,label:B,id:Y})=>{const J=d.calendarType===O;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:Y,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:Y,id:`${Y}_lbl`,role:"radio","aria-checked":J,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":J?"true":"false",onKeyDown:Q=>{if(Q.stopPropagation(),Q.key===" "||Q.key==="Enter"){Q.preventDefault(),m({...d,calendarType:O});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(Q.key))return;Q.preventDefault();const nt=ec.findIndex(K=>K.value===d.calendarType),X=Em(nt<0?0:nt,ec.length,Q.key),$=ec[X].value;m({...d,calendarType:$}),Nm(`${ec[X].id}_lbl`)},onClick:Q=>{Q.preventDefault(),m({...d,calendarType:O})},children:B})]},O)})})]}),d.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:A})}),d.birthDay&&d.birthDay.length===8&&(()=>{const O=Number(d.birthDay.slice(0,4)),B=Number(d.birthDay.slice(4,6)),Y=Number(d.birthDay.slice(6,8));return Hd(O,B,Y)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:v?"":d.birthTime||"",onChange:O=>{const B=O.target.value.replace(/\D/g,"");m({...d,birthTime:B.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:v}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":v,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":v?"true":"false",onKeyDown:O=>{O.stopPropagation(),(O.key===" "||O.key==="Enter")&&(O.preventDefault(),w(!v))},onClick:O=>{O.preventDefault(),w(!v)},children:"모름"})]})]}),T.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:rd.map(O=>{const B=`ming_${O}`,Y=(d.mingSikType??"야자시")===O;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:B,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:B,id:`${B}_lbl`,role:"radio","aria-checked":Y,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":Y?"true":"false",onKeyDown:J=>{if(J.stopPropagation(),J.key===" "||J.key==="Enter"){J.preventDefault(),m({...d,mingSikType:O});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(J.key))return;J.preventDefault();const rt=d.mingSikType??"야자시",nt=rd.indexOf(rt),X=Em(nt,rd.length,J.key),$=rd[X];m({...d,mingSikType:$}),Nm(`ming_${$}_lbl`)},onClick:J=>{J.preventDefault(),m({...d,mingSikType:O})},children:[O,"명식"]})]},O)})}),T.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:id.map(O=>{const B=`gender_${O}`,Y=(d.gender??"남자")===O;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:B,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:B,id:`${B}_lbl`,role:"radio","aria-checked":Y,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":Y?"true":"false",onKeyDown:J=>{if(J.stopPropagation(),J.key===" "||J.key==="Enter"){J.preventDefault(),m({...d,gender:O});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(J.key))return;J.preventDefault();const rt=d.gender??"남자",nt=id.indexOf(rt),X=Em(nt,id.length,J.key),$=id[X];m({...d,gender:$}),Nm(`gender_${$}_lbl`)},onClick:J=>{J.preventDefault(),m({...d,gender:O})},children:O})]},O)})}),T.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(cx,{onSelect:O=>m({...d,birthPlace:O})}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":x,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":x?"true":"false",onKeyDown:O=>{O.stopPropagation(),(O.key===" "||O.key==="Enter")&&(O.preventDefault(),S(!x))},onClick:O=>{O.preventDefault(),S(!x)},children:"모름"})]})]}),T.key==="relationship"&&g.jsx(_1,{value:d.relationship||"",onChange:O=>m({...d,relationship:O})}),T.key==="folder"&&g.jsx(bA,{value:zs(d.folder),onChange:O=>m({...d,folder:O})}),T.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:O=>m({...d,memo:O.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:i,children:"닫기"}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:l===tc.length-1?"저장하기":"확인"})]})]})})]})}var ad={},xv;function MA(){if(xv)return ad;xv=1,ad.match=d,ad.parse=m;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,i=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,o=/^(?:(min|max)-)?(.+)/,l=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(w,x){return m(w).some(function(S){var T=S.inverse,k=S.type==="all"||x.type===S.type;if(k&&T||!(k||T))return!1;var A=S.expressions.every(function(P){var I=P.feature,z=P.modifier,D=P.value,O=x[I];if(!O)return!1;switch(I){case"orientation":case"scan":return O.toLowerCase()===D.toLowerCase();case"width":case"height":case"device-width":case"device-height":D=v(D),O=v(O);break;case"resolution":D=y(D),O=y(O);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":D=p(D),O=p(O);break;case"grid":case"color":case"color-index":case"monochrome":D=parseInt(D,10)||1,O=parseInt(O,10)||0;break}switch(z){case"min":return O>=D;case"max":return O<=D;default:return O===D}});return A&&!T||!A&&T})}function m(w){return w.split(",").map(function(x){x=x.trim();var S=x.match(t),T=S[1],k=S[2],A=S[3]||"",P={};return P.inverse=!!T&&T.toLowerCase()==="not",P.type=k?k.toLowerCase():"all",A=A.match(/\([^\)]+\)/g)||[],P.expressions=A.map(function(I){var z=I.match(i),D=z[1].toLowerCase().match(o);return{modifier:D[1],feature:D[2],value:z[2]}}),P})}function p(w){var x=Number(w),S;return x||(S=w.match(/^(\d+)\s*\/\s*(\d+)$/),x=S[1]/S[2]),x}function y(w){var x=parseFloat(w),S=String(w).match(u)[1];switch(S){case"dpcm":return x/2.54;case"dppx":return x*96;default:return x}}function v(w){var x=parseFloat(w),S=String(w).match(l)[1];switch(S){case"em":return x*16;case"rem":return x*16;case"cm":return x*96/2.54;case"mm":return x*96/2.54/10;case"in":return x*96;case"pt":return x*72;case"pc":return x*72/12;default:return x}}return ad}var Mm,Sv;function DA(){if(Sv)return Mm;Sv=1;var t=MA().match,i=typeof window<"u"?window.matchMedia:null;function o(u,d,m){var p=this,y;i&&!m&&(y=i.call(window,u)),y?(this.matches=y.matches,this.media=y.media,y.addListener(x)):(this.matches=t(u,d),this.media=u),this.addListener=v,this.removeListener=w,this.dispose=S;function v(T){y&&y.addListener(T)}function w(T){y&&y.removeListener(T)}function x(T){p.matches=T.matches,p.media=T.media}function S(){y&&y.removeListener(x)}}function l(u,d,m){return new o(u,d,m)}return Mm=l,Mm}var AA=DA();const jA=Is(AA);var kA=/[A-Z]/g,OA=/^ms-/,Dm={};function CA(t){return"-"+t.toLowerCase()}function T1(t){if(Dm.hasOwnProperty(t))return Dm[t];var i=t.replace(kA,CA);return Dm[t]=OA.test(i)?"-"+i:i}function LA(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),l=Object.keys(i),u=o.length;if(l.length!==u)return!1;for(let d=0;d<u;d++){const m=o[d];if(t[m]!==i[m]||!Object.prototype.hasOwnProperty.call(i,m))return!1}return!0}var Am={exports:{}},jm,wv;function BA(){if(wv)return jm;wv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jm=t,jm}var km,Tv;function RA(){if(Tv)return km;Tv=1;var t=BA();function i(){}function o(){}return o.resetWarningCache=i,km=function(){function l(m,p,y,v,w,x){if(x!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}l.isRequired=l;function u(){return l}var d={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,elementType:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:o,resetWarningCache:i};return d.PropTypes=d,d},km}var Ev;function PA(){return Ev||(Ev=1,Am.exports=RA()()),Am.exports}var zA=PA();const me=Is(zA),Rn=me.oneOfType([me.string,me.number]),E1={all:me.bool,grid:me.bool,aural:me.bool,braille:me.bool,handheld:me.bool,print:me.bool,projection:me.bool,screen:me.bool,tty:me.bool,tv:me.bool,embossed:me.bool},HA={orientation:me.oneOf(["portrait","landscape"]),scan:me.oneOf(["progressive","interlace"]),aspectRatio:me.string,deviceAspectRatio:me.string,height:Rn,deviceHeight:Rn,width:Rn,deviceWidth:Rn,color:me.bool,colorIndex:me.bool,monochrome:me.bool,resolution:Rn,type:Object.keys(E1)},{type:IO,...IA}=HA,$A={minAspectRatio:me.string,maxAspectRatio:me.string,minDeviceAspectRatio:me.string,maxDeviceAspectRatio:me.string,minHeight:Rn,maxHeight:Rn,minDeviceHeight:Rn,maxDeviceHeight:Rn,minWidth:Rn,maxWidth:Rn,minDeviceWidth:Rn,maxDeviceWidth:Rn,minColor:me.number,maxColor:me.number,minColorIndex:me.number,maxColorIndex:me.number,minMonochrome:me.number,maxMonochrome:me.number,minResolution:Rn,maxResolution:Rn,...IA},UA={...E1,...$A};var GA={all:UA};const ZA=t=>`not ${t}`,YA=(t,i)=>{const o=T1(t);return typeof i=="number"&&(i=`${i}px`),i===!0?o:i===!1?ZA(o):`(${o}: ${i})`},qA=t=>t.join(" and "),VA=t=>{const i=[];return Object.keys(GA.all).forEach(o=>{const l=t[o];l!=null&&i.push(YA(o,l))}),qA(i)},KA=R.createContext(void 0),FA=t=>t.query||VA(t),Nv=t=>t?Object.keys(t).reduce((o,l)=>(o[T1(l)]=t[l],o),{}):void 0,N1=()=>{const t=R.useRef(!1);return R.useEffect(()=>{t.current=!0},[]),t.current},XA=t=>{const i=R.useContext(KA),o=()=>Nv(t)||Nv(i),[l,u]=R.useState(o);return R.useEffect(()=>{const d=o();LA(l,d)||u(d)},[t,i]),l},WA=t=>{const i=()=>FA(t),[o,l]=R.useState(i);return R.useEffect(()=>{const u=i();o!==u&&l(u)},[t]),o},QA=(t,i)=>{const o=()=>jA(t,i||{},!!i),[l,u]=R.useState(o),d=N1();return R.useEffect(()=>{if(d){const m=o();return u(m),()=>{m&&m.dispose()}}},[t,i]),l},JA=t=>{const[i,o]=R.useState(t.matches);return R.useEffect(()=>{const l=u=>{o(u.matches)};return t.addListener(l),o(t.matches),()=>{t.removeListener(l)}},[t]),i},t7=(t,i,o)=>{const l=XA(i),u=WA(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=QA(u,l),m=JA(d);return N1(),R.useEffect(()=>{},[m]),R.useEffect(()=>()=>{d&&d.dispose()},[]),m},M1=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${ni[i%10]}${Ii[i%12]}`);return t})();function e7(t){const i=M1.indexOf(t);if(i<0)throw new Error(`Unknown 간지: ${t}`);return i}function Ud(t,i,o=1){const l=e7(t),u=i==="forward"?o:-o;return M1[(l+u+60*1e3)%60]}const n7=60*1e3,r7=60*n7,i7=24*r7;function a7(t,i){const o=new Date(t.getTime()),l=o.getFullYear()+i,u=o.getMonth(),d=o.getDate();return new Date(Date.UTC(l,u,d,o.getUTCHours(),o.getUTCMinutes()))}function hp(t){const i=new Date(t);return i.setSeconds(0,0),i}function o7(t,i,o){const l=t.getHours(),u=o==="야자시"?(Math.floor((l+1)/2)*2-1+24)%24:(Math.floor(l/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const m=new Date(d);m.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),y=m.getTime()-t.getTime();return i==="backward"?p:y}function D1(t,i,o,l=120,u="야자시"){const d=hp(t),m=o7(d,o,u),p=hp(new Date(d.getTime()+m*120)),y=a7(t,l).getTime(),v=[];let w=Ud(i,o,1);for(let x=p.getTime();x<=y;x+=10*i7)v.push({at:new Date(x),gz:w}),w=Ud(w,o,1);return{firstChange:p,events:v}}function A1(t,i){const o=i==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return l=>l===o}function j1(t,i,o,l){const u=A1(l,o);let d=i;const m=[];for(const p of t.events){const y=p.gz.charAt(1);u(y)&&(d=Ud(d,o,1),m.push({at:p.at,gz:d}))}return{events:m}}function k1(t){const i=t.getFullYear(),o=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],l={deg:315,name:"다음입춘"},u=o.map(p=>({name:p.name,date:Qe(i,p.deg)})).concat([{name:l.name,date:Qe(i+1,l.deg)},{name:"소한",date:Qe(i+1,285)}]),d=Qe(i,315),m=Qe(i+1,315);return u.filter(p=>p.date>=d&&p.date<m).sort((p,y)=>p.date.getTime()-y.date.getTime())}const s7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},l7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},c7=t=>s7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),u7=t=>l7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function Mv(t){const i=c7(t[0]),o=u7(t[1]);if(!i||!o)throw new Error(`Invalid GZ: ${t}`);return`${i}${o}`}function rf(t,i,o,l=120,u){function d(D){return D instanceof Date||(D=new Date(D)),Math.floor((D.getHours()+1)%24/2)}function m(D){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(D)]}function p(D,O,B){const Y=D.charAt(0),J=D.charAt(1),Q=ni.indexOf(Y),rt=Ii.indexOf(J),nt=O==="forward"?B:-B,X=(Q+nt%10+10)%10,$=(rt+nt%12+12)%12;return ni[X]+Ii[$]}const y=k1(t).sort((D,O)=>D.date.getTime()-O.date.getTime());let v;if(o==="forward"){const D=y.findIndex(O=>O.date>=t);D>=0&&(v=y[D].date)}else{const D=y.filter(O=>O.date<=t);D.length&&(v=D[D.length-1].date)}function w(D,O){const B=m(D),Y={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},J=Y[B],Q=(J+2)%24,rt=new Date(D);if(rt.setSeconds(0,0),o==="backward"&&O){const X=m(O),$=Y[X],K=new Date(O);return K.setHours($,0,0,0),K}if(o==="forward"&&O){const X=m(O),$=Y[X],K=new Date(O);if(K.setHours($,0,0,0),K>rt)return K}const nt=new Date(rt);return o==="forward"?(nt.setHours(Q,0,0,0),nt<=rt&&nt.setDate(nt.getDate()+1)):(nt.setHours(J,0,0,0),nt>=rt&&nt.setDate(nt.getDate()-1)),nt}new Date(t).setSeconds(0,0);const S=Mv(yn(t,127.5)),T=w(t,v),k=Math.floor(o==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),A=Math.round(k/120*(14400*60*1e3));let P=new Date(t.getTime()+A);try{const D=Mv(yn(t,u));(o==="forward"&&S!==D||o==="backward"&&S!==D)&&(P=new Date(t.getTime()+6e4))}catch{}const I=l/10,z=[];for(let D=0;D<I;D++){const O=new Date(P);O.setFullYear(O.getFullYear()+D*10),O.setSeconds(0,0);const B=p(i,o,D+1);z.push({at:O,gz:B})}return{natalMonthPillar:i,firstChange:P,mPillars:[],events:z}}function d7(t,i){const l=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(l))}function O1(t,i,o,l,u){const d=A1(l,o);let m=i;const p=[];for(const y of t.events){const v=y.gz.charAt(1);d(v)&&(m=Ud(m,o,1),p.push({at:y.at,gz:m,age:d7(u,y.at)}))}return{events:p}}function f7(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),l=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(i,o-1,l,u,d,0,0)}function Co(t){const i=f7(t),o=Ys(i,t.birthPlace?.lon??null);return hp(o)}function af(t,i){const o=t.birthPlace?.lon??127.5,l=Co(t),u=Ze(l,i),d=ri(l,i,u.charAt(0));return{year:Be(l,o),month:yn(l,o),day:u,hour:d}}const h7=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${ni[i%10]}${Ii[i%12]}`);return t})(),m7=t=>h7.indexOf(t),Om=t=>{if(m7(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function c0(t){return typeof t=="object"&&t!==null}function p7(t){return c0(t)&&"default"in t}function g7(t){return c0(t)&&typeof t.lunar2solar=="function"}function b7(t){if(!c0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function y7(t){const i=p7(t)?t.default:t;if(!g7(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,!!m);return b7(p)}}}const v7=y7(Oo),Dv=t=>t<10?`0${t}`:`${t}`;function u0(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8||l!=="lunar")return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),m=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let y=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){y=w;break}if(typeof w=="number"){y=w===1;break}if(typeof w=="string"){y=w==="1"||w.toLowerCase()==="true";break}}try{const v=v7.lunar2solar(u,d,m,y),w=`${v.cYear}${Dv(v.cMonth)}${Dv(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}}function _7(t,i="야자시"){const o=R.useMemo(()=>u0(t),[t]),l=R.useMemo(()=>Co(o),[o]),u=R.useMemo(()=>af(o,i),[o,i]);return R.useMemo(()=>{const d=rf(l,u.month,o.dir,120,o?.birthPlace?.lon??127.5),m=new Date;function p(D,O){let B=null;const Y=O.getTime();for(const J of D)if(J.at.getTime()<=Y)B=J;else break;return B}const y=p(d.events,m)?.gz??u.month,v=Om(y),w=m.getFullYear(),x=Qe(w,315),T=x&&m>=x?w:w-1,k=Be(new Date(T,1,10,0,0,0),127.5),A=Om(k),P=yn(m,127.5),I=Om(P),z=[];return I&&z.push({key:"wolun",label:"월운",data:I}),A&&z.push({key:"seun",label:"세운",data:A}),v&&z.push({key:"daeun",label:"대운",data:v}),z},[l,o.dir,u.month,o.birthPlace?.lon])}function mc(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}년 ${i(t.getMonth()+1)}월 ${i(t.getDate())}일 ${i(t.getHours())}시 ${i(t.getMinutes())}분`}function Os(t){return t<10?`0${t}`:`${t}`}function x7(t){return`${Os(t.getHours())}:${Os(t.getMinutes())}`}function S7(t){return`${t.getFullYear()}-${Os(t.getMonth()+1)}-${Os(t.getDate())} ${Os(t.getHours())}:${Os(t.getMinutes())}`}const Lo={Classic:"고전",Modern:"현대"};function $i(t,i){const l={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return l?l[i]??"":""}function w7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function T7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},l={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=o[t];return u&&l[u]?l[u][i]??"":""}function E7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function N7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},l={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=o[t];return u&&l[u]?l[u][i]??"":""}function Ui(t){const{baseBranch:i,targetBranch:o,era:l,gaehwa:u}=t;return!i||!o?"":l==="고전"?u?w7(i,o):T7(i,o):u?E7(i,o):N7(i,o)}function Ns(t,i,o){const l=typeof o=="number"?o:void 0,u=Be(t,l),d=yn(t,l),m=Ze(t,i);return{yearGZ:u,monthGZ:d,dayGZ:m}}const ai=Bp()(Rp((t,i)=>{const o=new Date,l="야자시",u=127.5,d=Ns(o,l,u);return{date:o,scope:"원국만",rule:l,lon:u,...d,setDate:m=>{const{rule:p,lon:y}=i(),v=Ns(m,p,y);t({date:m,...v})},resetDate:()=>{const{rule:m,lon:p}=i(),y=new Date,v=Ns(y,m,p);t({date:y,...v})},setScope:m=>t({scope:m}),setRule:m=>{const{date:p,lon:y}=i(),v=Ns(p,m,y);t({rule:m,...v})},setLon:m=>{const{date:p,rule:y}=i(),v=Ns(p,y,m);t({lon:m,...v})},setFromEvent:(m,p)=>{const{rule:y,lon:v}=i(),w=Ns(m.at,y,v);t({date:m.at,scope:p,...w})}}},{name:"luck-picker-v1",merge:(t,i)=>{const o=t;return o.date&&typeof o.date=="string"&&(o.date=new Date(o.date)),{...i,...o}}}));function of(t,i="야자시",o=100){const l=R.useMemo(()=>u0(t),[t]),u=R.useMemo(()=>Co(l),[l]),d=R.useMemo(()=>af(l,i),[l,i]),m=(p,y)=>{const v=y.getFullYear()-p.getFullYear(),w=y.getMonth()-p.getMonth(),x=y.getDate()-p.getDate(),S=w<0||w===0&&x<0?v-1:v;return Math.max(0,S)};return R.useMemo(()=>rf(u,d.month,l.dir,o,l.birthPlace?.lon??127.5).events.map(y=>({...y,age:m(u,y.at)})),[u,d.month,l.dir,o,l.birthPlace?.lon])}function Cm(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function M7(t,i){if(!Array.isArray(t)||t.length===0||!Cm(i))return{gz:"",at:i,index:-1};const o=t;for(let d=0;d<o.length;d++){const m=o[d],p=o[d+1];if(!Cm(m.at))continue;if(i.getTime()>=m.at.getTime()&&(!p||Cm(p.at)&&i.getTime()<p.at.getTime()))return{gz:m.gz??"",at:m.at,index:d}}if(i.getTime()<o[0].at.getTime()){const d=o[0];return{gz:d.gz??"",at:d.at,index:0}}const l=o.length-1,u=o[l];return{gz:u.gz??"",at:u.at,index:l}}function d0(t,i){const{date:o,rule:l,lon:u}=ai(),d=of(t,t?.mingSikType),{gz:m}=M7(d,o);return R.useMemo(()=>{try{const p=u??t?.birthPlace?.lon??127.5,y=l??t?.mingSikType??i??"야자시";return{dae:{gz:m,at:o},se:{gz:Be(o,p),at:o},wol:{gz:yn(o,p),at:o},il:{gz:Ze(o,y),at:o}}}catch{return{dae:{gz:"",at:new Date},se:{gz:"",at:new Date},wol:{gz:"",at:new Date}}}},[o,d,l,u,t,i])}function sf(t){return typeof t=="object"&&t!==null}function D7(t){return sf(t)&&"default"in t}function A7(t){return sf(t)&&typeof t.lunar2solar=="function"}function j7(t){if(!sf(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");const u=t.isLeap;return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function k7(t){const i=D7(t)?t.default:t;if(!A7(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(o,l,u,d)=>{const m=i.lunar2solar(o,l,u,d);return j7(m)}}}const O7=k7(Oo);function Av(t,i,o){const l=O7.lunar2solar(t,i,o,!1);return{y:l.cYear,m:l.cMonth,d:l.cDay}}const C1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},L1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},C7=Object.fromEntries(Object.entries(C1).map(([t,i])=>[i,t])),L7=Object.fromEntries(Object.entries(L1).map(([t,i])=>[i,t])),B7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),R7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function P7(t,i,o){return o==="한글"?i==="stem"?C1[t]??t:L1[t]??t:i==="stem"?C7[t]??t:L7[t]??t}function z7(t,i){return i==="stem"?B7.has(t):R7.has(t)}function H7(t){return sf(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Lm(t){const i=Lo;return H7(i)?t==="classic"?i.Classic:i.Modern:t}const I7={대운:1,세운:2,월운:3};function $7(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}function U7({data:t,hourTable:i}){const o=t??null;o&&(o.dateObj instanceof Date||(o.dateObj=o.dateObj?new Date(o.dateObj):new Date),o.corrected instanceof Date||(o.corrected=o.corrected?new Date(o.corrected):new Date));const l=o?.dateObj instanceof Date&&!isNaN(o.dateObj.getTime())?o.dateObj:null;console.log("🟡 safeDate:",l,o?.dateObj);const{name:u,birthDay:d,birthTime:m,birthPlace:p,gender:y,calendarType:v,mingSikType:w}=t,x=ii(H=>H.settings),S=w??i??"야자시",T=!p||p.name==="모름"||!p.lon?127.5:p.lon,{solarY:k,solarM:A,solarD:P}=R.useMemo(()=>{let H=Number(d?.slice(0,4)??2e3),W=Number(d?.slice(4,6)??1),et=Number(d?.slice(6,8)??1);if(v==="lunar"){const ct=Av(H,W,et);H=ct.y,W=ct.m,et=ct.d}return{solarY:H,solarM:W,solarD:et}},[d,v]),[I,z]=R.useState(!1);R.useEffect(()=>{k&&A&&P&&z(Hd(k,A,P))},[k,A,P]);const D=R.useMemo(()=>{const H=!t.birthTime||t.birthTime==="모름",W=!t.birthPlace;let et=Number(t.birthDay.slice(0,4)),ct=Number(t.birthDay.slice(4,6)),V=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const ue=Av(et,ct,V);et=ue.y,ct=ue.m,V=ue.d}const st=H?0:Number(t.birthTime.slice(0,2)||"0"),Tt=H?0:Number(t.birthTime.slice(2,4)||"0"),wt=new Date(et,ct-1,V,st,Tt,0,0),At=W||!t.birthPlace||t.birthPlace.lon===0?127.5:t.birthPlace.lon;let jt=t.corrected??Ys(wt,At);I&&(jt=new Date(jt.getTime()-3600*1e3));const Ht=t.mingSikType??"야자시",zt=Be(jt,At),Qt=yn(jt,At),de=Ze(jt,Ht),qt=H?null:ri(jt,Ht);return{corrected:jt,year:{stem:zt.charAt(0),branch:zt.charAt(1)},month:{stem:Qt.charAt(0),branch:Qt.charAt(1)},day:{stem:de.charAt(0),branch:de.charAt(1)},hour:qt?{stem:qt.charAt(0),branch:qt.charAt(1)}:null}},[I,t.birthDay,t.birthPlace,t.birthTime,t.calendarType,t.mingSikType,t.corrected]),O=Hd(k,A,P),B=D.day.stem,Y=x.sinsalBase==="일지"?D.day.branch:D.year.branch,J=H=>x.showSibiUnseong?$i(B,H):null,Q=H=>x.showSibiSinsal?Ui({baseBranch:Y,targetBranch:H,era:Lm(x.sinsalMode),gaehwa:x.sinsalBloom}):null,rt=_7(t,S),nt=t7({query:"(min-width: 992px)"}),X=x.hiddenStem==="regular"?"main":"all",$=x.exposure,K=$==="원국"?0:I7[$],mt=K===0?[]:rt.filter(H=>$7(H.label)<=K),vt=()=>z(H=>!H),q=o?.dateObj instanceof Date?o.dateObj:new Date(o?.dateObj??"");(!q||isNaN(q.getTime()))&&console.error("⚠ Invalid dateObj in SajuChart:",o?.dateObj);const F=d0(o,i),at=F.dae.gz,U=F.se.gz,M=F.wol.gz;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[u?.trim()||"이름없음"," ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",y,")"]}),O&&g.jsxs("button",{onClick:vt,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${I?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",I?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[G7(d,m),p?.name?` · ${"출생지: "+p.name}`:""]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",S7(D.corrected)]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",T.toFixed(2),"° · ",S," 기준"]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${mt.length===0?"grid-cols-1":mt.length===1?"grid-cols-[2fr_8fr]":mt.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[mt.length>0&&(nt?g.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"운"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-2 p-3 ${mt.length===1?"grid-cols-1":mt.length===2?"grid-cols-2":"grid-cols-3"}`,children:mt.map(H=>{let W=H.data.stem,et=H.data.branch;H.label.includes("대운")&&at&&(W=at.charAt(0),et=at.charAt(1)),H.label.includes("세운")&&U&&(W=U.charAt(0),et=U.charAt(1)),H.label.includes("월운")&&M&&(W=M.charAt(0),et=M.charAt(1));const ct=J(et),V=Q(et);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H.label}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Pn(B,{stem:W})}),g.jsx(Ba,{value:W,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ba,{value:et,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(sc,{branch:et,dayStem:B,mode:X,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:ct}),x.showSibiSinsal&&g.jsx("div",{children:V})]})]})]},H.key)})})})]}):g.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-1 p-0 ${mt.length===1?"grid-cols-1":mt.length===2?"grid-cols-2":"grid-cols-3"}`,children:mt.map(H=>{const W=H.data.stem,et=H.data.branch,ct=J(et),V=Q(et);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H.label}),g.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Pn(B,{stem:W})}),g.jsx(Ba,{value:W,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ba,{value:et,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(sc,{branch:et,dayStem:B,mode:X,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:ct}),x.showSibiSinsal&&g.jsx("div",{children:V})]})]})]},H.key)})})})]})),nt?g.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"원국"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:D.hour},{key:"day",label:"일주",data:D.day},{key:"month",label:"월주",data:D.month},{key:"year",label:"연주",data:D.year}].map(H=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H.label}),g.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:H.data?g.jsxs(g.Fragment,{children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Pn(B,{stem:H.data.stem})}),g.jsx(Ba,{value:H.data.stem,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ba,{value:H.data.branch,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(sc,{branch:H.data.branch,dayStem:B,mode:X,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:$i(B,H.data.branch)}),x.showSibiSinsal&&g.jsx("div",{children:Ui({baseBranch:x.sinsalBase==="일지"?D.day.branch:D.year.branch,targetBranch:H.data.branch,era:Lm(x.sinsalMode),gaehwa:x.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},H.key))})})]}):g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),g.jsx("div",{className:"px-1 pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:D.hour},{key:"day",label:"일주",data:D.day},{key:"month",label:"월주",data:D.month},{key:"year",label:"연주",data:D.year}].map(H=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H.label}),g.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:H.data?g.jsxs(g.Fragment,{children:[x.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Pn(B,{stem:H.data.stem})}),g.jsx(Ba,{value:H.data.stem,kind:"stem",charType:x.charType,thinEum:x.thinEum}),g.jsx(Ba,{value:H.data.branch,kind:"branch",charType:x.charType,thinEum:x.thinEum}),g.jsx(sc,{branch:H.data.branch,dayStem:B,mode:X,mapping:x.hiddenStemMode}),(x.showSibiUnseong||x.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[x.showSibiUnseong&&g.jsx("div",{children:$i(B,H.data.branch)}),x.showSibiSinsal&&g.jsx("div",{children:Ui({baseBranch:x.sinsalBase==="일지"?D.day.branch:D.year.branch,targetBranch:H.data.branch,era:Lm(x.sinsalMode),gaehwa:x.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},H.key))})})]})]})]})}function Ba({value:t,kind:i,charType:o,thinEum:l}){const u=$r(t,i),d=P7(t,i,o),m=z7(t,i),p=l&&m?"font-thin":"font-bold";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${u} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${p} text-white`,children:d})})}function G7(t,i){if(!t||!/^\d{8}$/.test(t))return"";const o=t.slice(0,4),l=t.slice(4,6),u=t.slice(6,8),d=`${o}-${l}-${u}`;return!i||i==="모름"||!/^\d{4}$/.test(i)?d:`${d} ${i.slice(0,2)}:${i.slice(2,4)}`}const Z7={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계",갑:"갑",을:"을",병:"병",정:"정",무:"무",기:"기",경:"경",신:"신",임:"임",계:"계"};function Y7(t){if(!t)return null;const i=t.charAt(0);return Z7[i]??null}function Ga(t){const i=Number(t.birthDay?.slice(0,4)),o=Number(t.birthDay?.slice(4,6))-1,l=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),m=new Date(i,o,l,u,d,0,0);if(isNaN(m.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);return Ys(m,t.birthPlace?.lon??127.5)}function lf(t){const i=Ga(t),o=Ze(i,t.mingSikType??"야자시");if(!o)throw new Error(`getDayGanZhi returned undefined for ${i.toISOString()}`);const l=Y7(o);if(!l)throw new Error(`Invalid day stem from ${o}`);return l}function cf(t,i){if(t.length===0)return-1;for(let o=0;o<t.length;o+=1){const l=t[o].at,u=t[o+1]?.at;if(!u)return i>=l?o:o-1;if(i>=l&&i<u)return o}return-1}const B1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},R1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},q7=Object.fromEntries(Object.entries(B1).map(([t,i])=>[i,t])),V7=Object.fromEntries(Object.entries(R1).map(([t,i])=>[i,t]));function jv(t,i,o){return o==="한글"?i==="stem"?B1[t]??t:R1[t]??t:i==="stem"?q7[t]??t:V7[t]??t}const K7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),F7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function kv(t,i){return i==="stem"?K7.has(t):F7.has(t)}function X7(t){return typeof t=="object"&&t!==null}function W7(t){return X7(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Q7(t){const i=Lo;return W7(i)?t==="classic"?i.Classic:i.Modern:t}function J7({data:t}){console.log("🟡 DaewoonList data:",t);const i=of(t),o=lf(t),{date:l,setFromEvent:u}=ai(),d=R.useMemo(()=>cf(i,l),[i,l]),m=ii(B=>B.settings),{charType:p,thinEum:y,showSipSin:v,showSibiUnseong:w,showSibiSinsal:x,sinsalBase:S,sinsalMode:T,sinsalBloom:k}=m,A=Ga(t),P=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,I=t.mingSikType??"야자시",z=S==="일지"?Ze(A,I).charAt(1):Be(A,P).charAt(1),D=B=>w?$i(o,B):null,O=B=>x?Ui({baseBranch:z,targetBranch:B,era:Q7(T),gaehwa:!!k}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((B,Y)=>{const J=B.gz.charAt(0),Q=B.gz.charAt(1),rt=t9(A,B.at),nt=Y===d,X=jv(J,"stem",p),$=jv(Q,"branch",p),K=kv(J,"stem"),mt=kv(Q,"branch"),vt=y&&K?"font-thin":"font-bold",q=y&&mt?"font-thin":"font-bold",F=D(Q),at=O(Q);return g.jsxs("div",{onClick:()=>u(B,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${nt?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${B.gz} · ${B.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:rt}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[v&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Pn(o,{stem:J})}),g.jsx("div",{className:`w-8 h-8 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${$r(J,"stem")}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${vt}`,children:X})}),g.jsx("div",{className:`w-8 h-8 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${$r(Q,"branch")}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${q}`,children:$})}),v&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Pn(o,{branch:Q})}),(w||x)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[w&&g.jsx("div",{children:F}),x&&g.jsx("div",{children:at})]})]})]},B.gz)})})]})}function t9(t,i){const l=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(l))}const P1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},z1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},e9=Object.fromEntries(Object.entries(P1).map(([t,i])=>[i,t])),n9=Object.fromEntries(Object.entries(z1).map(([t,i])=>[i,t]));function Ov(t,i,o){return o==="한글"?i==="stem"?P1[t]??t:z1[t]??t:i==="stem"?e9[t]??t:n9[t]??t}const r9=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),i9=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Cv(t,i){return i==="stem"?r9.has(t):i9.has(t)}function a9(t){return typeof t=="object"&&t!==null}function o9(t){return a9(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function s9(t){const i=Lo;return o9(i)?t==="classic"?i.Classic:i.Modern:t}function l9({data:t,list:i,onSelect:o}){const l=ii(S=>S.settings),{date:u,setFromEvent:d}=ai(),m=cf(i,u),p=lf(t),y=Ga(t),v=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,w=t.mingSikType??"야자시",x=l.sinsalBase==="일지"?Ze(y,w).charAt(1):Be(y,v).charAt(1);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((S,T)=>{const k=S.at.getFullYear(),A=Be(new Date(k,6,1),v),P=A.charAt(0),I=A.charAt(1),z=T===m,D=Ov(P,"stem",l.charType),O=Ov(I,"branch",l.charType),B=Cv(P,"stem"),Y=Cv(I,"branch"),J=l.thinEum&&B?"font-thin":"font-bold",Q=l.thinEum&&Y?"font-thin":"font-bold",rt=l.showSibiUnseong?$i(p,I):null,nt=l.showSibiSinsal?Ui({baseBranch:x,targetBranch:I,era:s9(l.sinsalMode),gaehwa:!!l.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{o?.(k),d(S,"세운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${z?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A} · ${S.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:k}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Pn(p,{stem:P})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${$r(P,"stem")}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${J}`,children:D})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${$r(I,"branch")}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${Q}`,children:O})}),l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Pn(p,{branch:I})}),(l.showSibiUnseong||l.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[l.showSibiUnseong&&rt&&g.jsx("div",{children:rt}),l.showSibiSinsal&&nt&&g.jsx("div",{children:nt})]})]})]},`${k}-${S.gz||T}`)})})]})}const H1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},I1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},c9=Object.fromEntries(Object.entries(H1).map(([t,i])=>[i,t])),u9=Object.fromEntries(Object.entries(I1).map(([t,i])=>[i,t]));function Lv(t,i,o){return o==="한글"?i==="stem"?H1[t]??t:I1[t]??t:i==="stem"?c9[t]??t:u9[t]??t}const d9=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),f9=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Bv(t,i){return i==="stem"?d9.has(t):f9.has(t)}function h9(t){return typeof t=="object"&&t!==null}function m9(t){return h9(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function p9(t){const i=Lo;return m9(i)?t==="classic"?i.Classic:i.Modern:t}function g9({data:t,activeYear:i,onSelect:o}){const l=ii(k=>k.settings),[,u]=R.useState(null),d=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,m=lf(t),p=Ga(t),y=t.mingSikType??"야자시",v=l.sinsalBase==="일지"?Ze(p,y).charAt(1):Be(p,d).charAt(1),w=R.useMemo(()=>{if(!i)return[];const k=[];for(let A=2;A<=13;A++){const P=A===13?i+1:i,I=A===13?1:A,z=new Date(P,I-1,10),D=yn(z,d);k.push({at:z,gz:D})}return k},[i,d]);R.useEffect(()=>{if(!w.length)return;u(null);const k=new Date,A=w.findIndex((P,I)=>{const z=w[I+1]?.at;return k>=P.at&&(!z||k<z)});i===k.getFullYear()&&u(A!==-1?A:null)},[w,i]);const{date:x,setFromEvent:S}=ai(),T=cf(w,x);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((k,A)=>{const P=k.gz.charAt(0),I=k.gz.charAt(1),z=`${k.at.getMonth()+1}월`,D=A===T,O=Lv(P,"stem",l.charType),B=Lv(I,"branch",l.charType),Y=Bv(P,"stem"),J=Bv(I,"branch"),Q=l.thinEum&&Y?"font-thin":"font-bold",rt=l.thinEum&&J?"font-thin":"font-bold",nt=l.showSibiUnseong?$i(m,I):null,X=l.showSibiSinsal?Ui({baseBranch:v,targetBranch:I,era:p9(l.sinsalMode),gaehwa:!!l.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{u(A),o?.(k.at.getFullYear(),k.at.getMonth()+1),S(k,"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${D?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${k.gz} · ${k.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Pn(m,{stem:P})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${$r(P,"stem")}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${Q}`,children:O})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${$r(I,"branch")}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${rt}`,children:B})}),l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Pn(m,{branch:I})}),(l.showSibiUnseong||l.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[l.showSibiUnseong&&nt&&g.jsx("div",{children:nt}),l.showSibiSinsal&&X&&g.jsx("div",{children:X})]})]})]},k.gz)})})]})}const $1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},U1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},b9=Object.fromEntries(Object.entries($1).map(([t,i])=>[i,t])),y9=Object.fromEntries(Object.entries(U1).map(([t,i])=>[i,t]));function Rv(t,i,o){return o==="한글"?i==="stem"?$1[t]??t:U1[t]??t:i==="stem"?b9[t]??t:y9[t]??t}const v9=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),_9=new Set(["丑","卯","巳","未","癸","亥","축","묘","사","미","유","해"]);function Pv(t,i){return i==="stem"?v9.has(t):_9.has(t)}function x9(t){return typeof t=="object"&&t!==null}function S9(t){return x9(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function w9(t){const i=Lo;return S9(i)?t==="classic"?i.Classic:i.Modern:t}function T9(t,i){const o=new Date(t,i-1,1,12,0,0,0),l=new Date(i===12?t+1:t,i===12?0:i,1,12,0,0,0);return{start:o,end:l}}function E9(t,i){const o=i===1?t-1:t;return new Date(o,5,15,12,0,0,0)}function N9({data:t,year:i,month:o,hourTable:l}){const u=ii(z=>z.settings),d=l??t?.mingSikType??"야자시",m=t?lf(t):void 0,p=t?Ga(t):null,y=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,v=t&&p?u.sinsalBase==="일지"?Ze(p,d).charAt(1):Be(p,y).charAt(1):null,{start:w,end:x}=R.useMemo(()=>T9(i,o),[i,o]),S=R.useMemo(()=>{const z=E9(i,o);return(k1(z)??[]).slice().sort((O,B)=>O.date.getTime()-B.date.getTime()).filter(O=>O.date>=w&&O.date<x)},[i,o,w,x]),T=R.useMemo(()=>{const z=[],D=new Date(w);for(;D<x;)z.push(new Date(D)),D.setDate(D.getDate()+1);return z},[w,x]),k=R.useMemo(()=>{const z=[];let D=[];const O=new Date(i,o-1,1).getDay();for(let B=0;B<O;B++)D.push(null);for(const B of T)D.length===7&&(z.push(D),D=[]),D.push(B);for(;D.length<7;)D.push(null);return z.push(D),z},[T,i,o]),{date:A,setFromEvent:P}=ai(),I=R.useMemo(()=>{const z=T.map(D=>({at:D}));return cf(z,A)},[T,A]);return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[i,"년 ",o,"월",S.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",S.map((z,D)=>g.jsxs("span",{children:[z.name," ",M9(z.date),D<S.length-1?" · ":""]},z.name+D)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(z=>g.jsx("div",{className:"py-1",children:z},z))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:k.map((z,D)=>z.map((O,B)=>{if(!O)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${D}-${B}`);const Y=new Date(O.getFullYear(),O.getMonth(),O.getDate()),Q=T.findIndex(ct=>ct.getTime()===O.getTime())===I,rt=Ze(Y,d),nt=rt.charAt(0),X=rt.charAt(1),$=Rv(nt,"stem",u.charType),K=Rv(X,"branch",u.charType),mt=u.thinEum&&Pv(nt,"stem")?"font-thin":"font-bold",vt=u.thinEum&&Pv(X,"branch")?"font-thin":"font-bold",q=!!m&&u.showSipSin,F=!!m&&u.showSibiUnseong,at=!!m&&v!=null&&u.showSibiSinsal,U=q?Pn(m,{stem:nt}):"",M=q?Pn(m,{branch:X}):"",H=F?$i(m,X):"",W=at?Ui({baseBranch:v,targetBranch:X,era:w9(u.sinsalMode),gaehwa:!!u.sinsalBloom}):"",et=S.find(ct=>ct.date.getFullYear()===Y.getFullYear()&&ct.date.getMonth()===Y.getMonth()&&ct.date.getDate()===Y.getDate());return g.jsxs("div",{onClick:()=>P({at:O},"일운"),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border ${Q?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${rt} (${Y.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:Y.getDate()}),et&&g.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:et.name})]}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:U}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-white text-base ${$r(nt,"stem")}`,children:g.jsx("span",{className:mt,children:$})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-white text-base ${$r(X,"branch")}`,children:g.jsx("span",{className:vt,children:K})}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:M}),(F||at)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[F&&H&&g.jsx("div",{children:H}),at&&W&&g.jsx("div",{children:W})]})]},O.toISOString())}))})]})}function M9(t){if(!t)return null;const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let o="",l="",u="",d="";for(const m of i)m.type==="month"&&(o=m.value),m.type==="day"&&(l=m.value),m.type==="hour"&&(u=m.value),m.type==="minute"&&(d=m.value);return`${o}/${l} ${u}:${d}`}function zv(t,i){const o=t.at.getFullYear(),l=i?i.at.getFullYear():o+10,u=[];for(let d=o;d<l;d++){const m=Qe(d,315);let p=d;new Date<m&&(p=d-1);const v=Be(new Date(p,1,10));u.push({at:m,gz:v})}return u}function D9({data:t}){const i=of(t),[o,l]=R.useState(null),[u,d]=R.useState(null),[m,p]=R.useState("il");R.useEffect(()=>{if(!i.length)return;const S=new Date,T=i.findIndex((k,A)=>{const P=i[A+1]?.at;return S>=k.at&&(!P||S<P)});T!==-1&&l(T)},[i]),R.useEffect(()=>{if(o===null)return;const S=i[o],T=i[o+1];if(!S)return;const k=zv(S,T),A=new Date;k.findIndex((I,z)=>{const D=k[z+1]?.at;return A>=I.at&&(!D||A<D)})!==-1&&d({year:A.getFullYear(),month:A.getMonth()+1})},[o,i]);const y=d0(t),{date:v}=ai(),w=v.getMonth()+1===1?v.getFullYear()-1:v.getFullYear(),x=R.useMemo(()=>{if(!y?.dae?.gz)return[];const S=i.findIndex((A,P)=>{const I=i[P+1]?.at;return y.dae.at>=A.at&&(!I||y.dae.at<I)});if(S===-1)return[];const T=i[S],k=i[S+1];return zv(T,k)},[i,y?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(J7,{data:t,activeIndex:o,onSelect:S=>{l(S),p("se")}}),m==="se"||m==="wol"||m==="il"?g.jsx(l9,{data:t,list:x,onSelect:()=>{p("wol")}}):null,m==="wol"||m==="il"?g.jsx(g9,{data:t,activeYear:w,onSelect:(S,T)=>{d({year:S,month:T}),p("il")}}):null,m==="il"&&u&&g.jsx(N9,{data:t,year:v.getFullYear(),month:v.getMonth()+1,hourTable:t?.mingSikType})]})}const A9=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],j9=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],k9=new Set(A9),O9=new Set(j9);function Hv(t){return typeof t=="string"&&t.length>=2&&k9.has(t[0])&&O9.has(t[1])}function Tr(t,...i){if(Hv(t))return t;for(const o of i)if(Hv(o))return o;return"甲子"}const G1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},C9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},L9=["갑","을","병","정","무","기","경","신","임","계"];function Iv(t){return!!t&&L9.includes(t)}function B9(t){return G1[t]??t}function $v(t){return C9[t]??t}function R9(t){if(Iv(t))return t;const i=G1[t];return Iv(i)?i:"갑"}function P9(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function z9(t){const i=Lo;return P9(i)?t==="classic"?i.Classic??i.classic:i.Modern??i.modern:t}function od(t,i){let o=null;const l=i.getTime();for(const u of t)if(u.at.getTime()<=l)o=u;else break;return o}function H9({data:t}){const i=ii(J=>J.settings),{showSibiUnseong:o,showSibiSinsal:l,sinsalBase:u,sinsalMode:d,sinsalBloom:m}=i,{date:p}=ai(),y=R.useMemo(()=>u0(t),[t]),v=R.useMemo(()=>Co(y),[y]),w=R.useMemo(()=>af(y,"야자시"),[y]),x=R.useMemo(()=>R9(w.day?.charAt(0)??"갑"),[w.day]),S=R.useMemo(()=>D1(v,w.hour,t.dir??"forward",120,"야자시"),[v,w.hour,t.dir]),T=R.useMemo(()=>j1(S,w.day,t.dir??"forward","인시일수론"),[S,w.day,t.dir]),k=R.useMemo(()=>rf(v,w.month,t.dir??"forward",120,y.birthPlace?.lon??127.5),[v,w.month,t.dir,y.birthPlace?.lon]),A=R.useMemo(()=>O1(k,w.year,t.dir??"forward","인시일수론",v),[k,w.year,t.dir,v]),P=R.useMemo(()=>({si:Tr(od(S.events,p)?.gz,w.hour),il:Tr(od(T.events,p)?.gz,w.day),wl:Tr(od(k.events,p)?.gz,w.month),yn:Tr(od(A.events,p)?.gz,w.year)}),[p,S.events,T.events,k.events,A.events,w]),I=R.useMemo(()=>({si:Tr(ri(p,"야자시")),il:Tr(Ze(p,"야자시")),wl:Tr(yn(p)),yn:Tr(Be(p))}),[p]),z=R.useMemo(()=>{const J=S?.events?.[0];return J?{at:J.at,from:Tr(w.hour),to:Tr(J.gz)}:null},[S?.events,w.hour]),D=R.useMemo(()=>{const J=k?.events?.[0];return k?.firstChange?{at:k.firstChange,from:Tr(w.month),to:Tr(J?.gz??w.month)}:null},[k?.firstChange,k?.events,w.month]),O=R.useMemo(()=>u==="일지"?w.day.charAt(1):w.year.charAt(1),[u,w.day,w.year]),B=R.useMemo(()=>z9(d),[d]),Y=J=>{const Q=B9(x),rt=$v(J.charAt(1)),nt=$v(O);return{unseong:o&&$i(Q,rt)||"",shinsal:l&&Ui({baseBranch:nt,targetBranch:rt,era:B,gaehwa:!!m})||""}};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",mc(v),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),g.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",P.si],["일주",P.il],["월주",P.wl],["연주",P.yn]].map(([J,Q])=>{const{unseong:rt,shinsal:nt}=Y(Q);return g.jsx(Ao,{label:J,gz:Q,dayStem:x,settings:i,unseongText:rt,shinsalText:nt,hideBranchSipSin:!0,size:"sm"},`m-${J}`)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),g.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",I.si],["일주",I.il],["월주",I.wl],["연주",I.yn]].map(([J,Q])=>{const{unseong:rt,shinsal:nt}=Y(Q);return g.jsx(Ao,{label:J,gz:Q,dayStem:x,settings:i,unseongText:rt,shinsalText:nt,hideBranchSipSin:!0,size:"sm"},`l-${J}`)})})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),g.jsxs("div",{children:["시주:"," ",z?`${mc(z.at)} (${z.from} → ${z.to})`:"계산 불가"]}),g.jsxs("div",{children:["월주:"," ",D?`${mc(D.at)} (${D.from} → ${D.to})`:"계산 불가"]})]})]})}const Z1=["갑","을","병","정","무","기","경","신","임","계"],Y1=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],q1=["자","축","인","묘","진","사","오","미","신","유","술","해"],V1=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],I9=Object.fromEntries(Y1.map((t,i)=>[t,Z1[i]])),$9=Object.fromEntries(Z1.map((t,i)=>[t,Y1[i]])),U9=Object.fromEntries(V1.map((t,i)=>[t,q1[i]])),G9=Object.fromEntries(q1.map((t,i)=>[t,V1[i]])),Z9=t=>I9[t]??t,Y9=t=>U9[t]??t,q9=t=>$9[t]??t,V9=t=>G9[t]??t;function K9(t){const i={...t};for(const o of Object.keys(t)){const l=/[甲乙丙丁戊己庚辛壬癸]/.test(o)?Z9(o):q9(o);l&&i[l]===void 0&&(i[l]=t[o])}return i}function f0(t){const i={...t};for(const o of Object.keys(t)){const l=/[子丑寅卯辰巳午未申酉戌亥]/.test(o)?Y9(o):V9(o);l&&i[l]===void 0&&(i[l]=t[o])}return i}const F9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},X9={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},K1={자:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},W9={...K1,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Pa=K9(F9),Zn=f0(X9),Q9=f0(K1),J9=f0(W9),tj={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},ej={木:"목",火:"화",土:"토",金:"금",水:"수"};function F1(t,i){const o=tj[i]??i,u={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"}[o];if(!u)return"비겁";const d=["목","화","토","금","수"].includes(t)?t:ej[t]??"목";if(d===u)return"비겁";const m={목:"화",화:"토",토:"금",금:"수",수:"목"},p={목:"토",화:"금",토:"수",금:"목",수:"화"};return m[u]===d?"식상":m[d]===u?"인성":p[u]===d?"재성":p[d]===u?"관성":"비겁"}const nj={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},rj={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function mp(t){const i=rj[t]??"목";return nj[i]}const X1=["갑","을","병","정","무","기","경","신","임","계"],W1=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Q1=["자","축","인","묘","진","사","오","미","신","유","술","해"],J1=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],ij=Object.fromEntries(X1.map((t,i)=>[t,W1[i]])),aj=Object.fromEntries(W1.map((t,i)=>[t,X1[i]])),oj=Object.fromEntries(Q1.map((t,i)=>[t,J1[i]])),sj=Object.fromEntries(J1.map((t,i)=>[t,Q1[i]])),lj=t=>aj[t]??t,cj=t=>sj[t]??t,uj=t=>ij[t]??t,dj=t=>oj[t]??t;function t2(t){const i={...t};for(const o of Object.keys(t)){if(o.length<2)continue;const l=o.charAt(0),u=o.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(l)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${lj(l)}${cj(u)}`:`${uj(l)}${dj(u)}`;i[d]===void 0&&(i[d]=t[o])}return i}const e2={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},fj={...e2,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},hj=t2(e2),mj=t2(fj),Mo=["연","월","일","시"],sd={year:0,month:1,day:2,hour:3},Bm="매우약함",pj={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},gj={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Mn(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const l=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(l){const u=pj[l[1]]??l[1],d=gj[l[2]]??l[2];return`${u}${d}`}return""}const cc=t=>t&&t.length>=1?t[0]:"",Do=t=>t&&t.length>=2?t[1]:"",pp=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],gp=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],bp=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],yp=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],vp=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],_p=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],xp=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],Sp=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],bj=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],wp=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],Tp=[{pair:["자","묘"],label:"자묘형"}],Uv=new Set(["진","오","유","해"]),Ep=new Set(["정해","무자","신사","임오"]),h0=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],m0=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function Ie(t,i,o){for(const{pair:[l,u],label:d}of t)if(i===l&&o===u||i===u&&o===l)return d;return null}function ie(t,i){t.includes(i)||t.push(i)}const So=t=>[...t].sort((i,o)=>i-o).map(i=>Mo[i]).join("X"),Rm=(t,i)=>t===0&&i===3||t===3&&i===0;function Gv(t,i){const o=[];for(const l of t)for(const u of i){if(l===u)continue;const d=Math.min(l,u),m=Math.max(l,u);d===0&&m===3||o.push([d,m])}return o.sort((l,u)=>{const d=Math.abs(l[0]-l[1]),m=Math.abs(u[0]-u[1]);return d!==m?d-m:0})}function yj(t){const i=[],o=[...t].sort((l,u)=>l-u);for(let l=0;l<o.length;l++)for(let u=l+1;u<o.length;u++){const d=o[l],m=o[u];d===0&&m===3||i.push([d,m])}return i}const n2=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function vj(t){if(!t)return!1;const i=t.normalize("NFC").trim();return/^#\s*없음$/u.test(i)}const _j=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function r2(t){for(const i of _j){const l=(t[i]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!vj(u));t[i]=l}return t}function xj(t,i={}){const{emitGanjiAmhap:o=!0}=i,l=t.map(Mn),u=l.map(S=>cc(S)),d=l.map(S=>Do(S)),p={title:l.map((S,T)=>`${S}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},y=(S,T,k,A)=>{const P=u.flatMap((z,D)=>z===S?[D]:[]),I=u.flatMap((z,D)=>z===T?[D]:[]);for(const z of P)for(const D of I)z!==D&&Math.abs(z-D)===1&&ie(A,`#${So([z,D])}_${k}`)};pp.forEach(({pair:[S,T],label:k})=>y(S,T,k,p.cheonganHap)),gp.forEach(({pair:[S,T],label:k})=>y(S,T,k,p.cheonganChung));const v=S=>{const T=new Set,k=[];for(const A of S)for(let P=0;P<d.length;P++)if(d[P]===A&&!T.has(P)){T.add(P),k.push(P);break}return k};h0.forEach(({name:S,members:T,wang:k})=>{const A=T.filter(I=>d.includes(I)),P=new Set(A).size;if(P===3){const I=v(T);I.length===3&&ie(p.jijiSamhap,`#${So(I)}_${S}_삼합`)}else if(P===2){if(!A.includes(k))return;const[I,z]=A,D=d.flatMap((J,Q)=>J===I?[Q]:[]),O=d.flatMap((J,Q)=>J===z?[Q]:[]),B=Gv(D,O),Y=B.length>1;for(const[J,Q]of B){const rt=Rm(J,Q),nt=`#${So([J,Q])}_${I}${z}_반합${Y?"":rt?`_${Bm}`:""}`;ie(p.jijiSamhap,nt)}}}),m0.forEach(({name:S,members:T})=>{if(new Set(T.filter(P=>d.includes(P))).size!==3)return;const A=v(T);A.length===3&&ie(p.jijiBanghap,`#${So(A)}_${S}_방합`)});const w=(S,T,k,A)=>{const P=d.flatMap((O,B)=>O===S?[B]:[]),I=d.flatMap((O,B)=>O===T?[B]:[]),z=Gv(P,I),D=z.length>1;for(const[O,B]of z){const Y=Rm(O,B),J=`#${So([O,B])}_${k}${D?"":Y?`_${Bm}`:""}`;ie(A,J)}};if(bp.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiYukhap)),yp.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiChung)),vp.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiPa)),_p.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiHae)),xp.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiWonjin)),Sp.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(S=>{const T=S.flatMap(A=>d.flatMap((P,I)=>P===A?[I]:[])),k=Array.from(new Set(T)).sort((A,P)=>A-P);k.length===3&&ie(p.jijiHyeong,`#${So(k)}_${S.join("")}_삼형`)}),wp.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiHyeong)),Tp.forEach(({pair:[S,T],label:k})=>w(S,T,k,p.jijiHyeong)),["진","오","유","해"].forEach(S=>{const T=d.flatMap((P,I)=>P===S?[I]:[]),k=yj(T),A=k.length>1;for(const[P,I]of k){const z=Rm(P,I),D=`#${So([P,I])}_${S}${S}자형${A?"":z?`_${Bm}`:""}`;ie(p.jijiHyeong,D)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[S,T],label:k})=>w(S,T,k,p.amhap)),o)for(let S=0;S<4;S++){const T=l[S]??"";if(T.length<2)continue;const k=`${T[0]}${T[1]}`;Ep.has(k)&&ie(p.ganjiAmhap,`#${n2(Mo[S])}_${k}_암합`)}return r2(p)}function ld(t,i={}){const{emitNatalGanjiAmhap:o=!1}=i,l=[Mn(t.natal[0]??""),Mn(t.natal[1]??""),Mn(t.natal[2]??""),Mn(t.natal[3]??"")],d=[Mn(t.daewoon??""),Mn(t.sewoon??""),Mn(t.wolwoon??"")].some(v=>v.length>=2),m={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(o&&d)for(let v=0;v<4;v++){const w=l[v]??"";if(w.length<2)continue;const x=`${w[0]}${w[1]}`;Ep.has(x)&&ie(m.ganjiAmhap,`#${n2(Mo[v])}_${x}_암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon]];for(const[v,w]of p){if(!w)continue;const x=Mn(w);if(!x||x.length<2)continue;const S=cc(x),T=Do(x);{const A=`${S}${T}`;Ep.has(A)&&ie(m.ganjiAmhap,`#${v}_${A}_암합`)}for(let A=0;A<4;A++){const P=l[A]??"";if(P.length<2)continue;const I=Mo[A],z=cc(P),D=Do(P),O=Ie(pp,S,z);O&&ie(m.cheonganHap,`#${v}X${I}_${O}`);const B=Ie(gp,S,z);B&&ie(m.cheonganChung,`#${v}X${I}_${B}`);const Y=Ie(bp,T,D);Y&&ie(m.jijiYukhap,`#${v}X${I}_${Y}`);const J=Ie(yp,T,D);J&&ie(m.jijiChung,`#${v}X${I}_${J}`);const Q=Ie(vp,T,D);Q&&ie(m.jijiPa,`#${v}X${I}_${Q}`);const rt=Ie(_p,T,D);rt&&ie(m.jijiHae,`#${v}X${I}_${rt}`);const nt=Ie(xp,T,D);nt&&ie(m.jijiWonjin,`#${v}X${I}_${nt}`);const X=Ie(Sp,T,D);X&&ie(m.jijiGwimun,`#${v}X${I}_${X}`);const $=Ie(wp,T,D);if($)ie(m.jijiHyeong,`#${v}X${I}_${$}`);else{const vt=Ie(Tp,T,D);vt?ie(m.jijiHyeong,`#${v}X${I}_${vt}`):T===D&&Uv.has(T)&&ie(m.jijiHyeong,`#${v}X${I}_${T}${D}자형`)}const mt=Ie([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],T,D);mt&&ie(m.amhap,`#${v}X${I}_${mt}`)}const k=l.map(A=>Do(A??""));for(const A of h0){if(!A.members.includes(T))continue;const P=A.members.filter(z=>z!==T),I=k.map((z,D)=>({b:z,pos:Mo[D]})).filter(z=>P.includes(z.b));if(new Set(I.map(z=>z.b)).size===2){const[z,D]=I.map(O=>O.pos).sort((O,B)=>["시","일","월","연"].indexOf(O)-["시","일","월","연"].indexOf(B));ie(m.jijiSamhap,`#${v}X${z}X${D}_삼합(${A.name})`)}}for(const A of m0){if(!A.members.includes(T))continue;const P=A.members.filter(z=>z!==T),I=k.map((z,D)=>({b:z,pos:Mo[D]})).filter(z=>P.includes(z.b));if(I.length>=2){const[z,D]=I.map(O=>O.pos).sort((O,B)=>["시","일","월","연"].indexOf(O)-["시","일","월","연"].indexOf(B));ie(m.jijiBanghap,`#${v}X${z}X${D}_방합(${A.name})`)}}for(const A of bj){if(!A.members.includes(T))continue;const P=A.members.filter(z=>z!==T),I=k.map((z,D)=>({b:z,pos:Mo[D]})).filter(z=>P.includes(z.b));if(new Set(I.map(z=>z.b)).size===2){const[z,D]=I.map(O=>O.pos).sort((O,B)=>["시","일","월","연"].indexOf(O)-["시","일","월","연"].indexOf(B));ie(m.jijiHyeong,`#${v}X${z}X${D}_삼형(${A.name})`)}}}const y=[];t.daewoon&&t.sewoon&&y.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&y.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&y.push(["대운",t.daewoon,"월운",t.wolwoon]);for(const[v,w,x,S]of y){const T=Mn(w),k=Mn(S);if(T.length<2||k.length<2)continue;const A=cc(T),P=Do(T),I=cc(k),z=Do(k),D=Ie(pp,A,I);D&&ie(m.cheonganHap,`#${v}X${x}_${D}`);const O=Ie(gp,A,I);O&&ie(m.cheonganChung,`#${v}X${x}_${O}`);const B=Ie(bp,P,z);B&&ie(m.jijiYukhap,`#${v}X${x}_${B}`);const Y=Ie(yp,P,z);Y&&ie(m.jijiChung,`#${v}X${x}_${Y}`);const J=Ie(vp,P,z);J&&ie(m.jijiPa,`#${v}X${x}_${J}`);const Q=Ie(_p,P,z);Q&&ie(m.jijiHae,`#${v}X${x}_${Q}`);const rt=Ie(xp,P,z);rt&&ie(m.jijiWonjin,`#${v}X${x}_${rt}`);const nt=Ie(Sp,P,z);nt&&ie(m.jijiGwimun,`#${v}X${x}_${nt}`);const X=Ie(wp,P,z);if(X)ie(m.jijiHyeong,`#${v}X${x}_${X}`);else{const K=Ie(Tp,P,z);K?ie(m.jijiHyeong,`#${v}X${x}_${K}`):P===z&&Uv.has(P)&&ie(m.jijiHyeong,`#${v}X${x}_${P}${z}자형`)}const $=Ie([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],P,z);$&&ie(m.amhap,`#${v}X${x}_${$}`)}return r2(m)}function Sj(t,i){const l=t.map(Mn).map(y=>Do(y)),u=sd.month,d=l[u],m=y=>{const v=[];for(let w=0;w<4;w++){const x=l[w];x&&y.has(x)&&v.push(w)}return v},p=y=>{const v=[...y].sort((w,x)=>w-x);return v.length===3&&v[0]+1===v[1]&&v[1]+1===v[2]};for(const y of h0){const v=new Set(y.members),w=m(v);if(w.length===3){const x=w.includes(u),S=d===y.wang;x?p(w)?i[y.out]+=S?10:8:i[y.out]+=5:i[y.out]+=3}if(w.length===2&&w.includes(u)){const x=w[0]===u?w[1]:w[0],S=d===y.wang;x===sd.day&&S?i[y.out]+=8:x===sd.year&&S?i[y.out]+=6:x===sd.hour&&(i[y.out]+=S?4:2)}}for(const y of m0){const v=new Set(y.members),w=m(v);if(w.length===3){const x=w.includes(u),S=d===y.wang;x?p(w)?i[y.out]+=S?8:6:i[y.out]+=4:i[y.out]+=2}}}const wj={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},i2={목:"화",화:"토",토:"금",금:"수",수:"목"},a2={화:"목",토:"화",금:"토",수:"금",목:"수"},Np={목:"토",화:"금",토:"수",금:"목",수:"화"},Tj={목:"금",화:"수",토:"목",금:"화",수:"토"},Ej={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Nj={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Nd=t=>Ej[t]??t,Mj=t=>Nj[t]??t;function Dj(t){return!t||t.length<2?"":`${Nd(t[0])}${Mj(t[1])}`}const Aj=t=>t&&t.length>=1?t[0]:"",jj=t=>t&&t.length>=2?t[1]:"";function kj(t){return{비겁:t,식상:i2[t],인성:a2[t],재성:Np[t],관성:Tj[t]}}function Ms(t,i){return t===i?"비겁":i2[i]===t?"식상":a2[i]===t?"인성":Np[i]===t?"재성":Np[t]===i?"관성":"비겁"}function o2(t){if(typeof t=="string")return[Nd(t)];if(Array.isArray(t)){const i=[];for(const o of t)if(typeof o=="string")i.push(Nd(o));else if(o&&typeof o=="object"&&"stem"in o){const l=o.stem;typeof l=="string"&&i.push(Nd(l))}return i}if(t&&typeof t=="object"){const i=[];for(const o of Object.values(t))i.push(...o2(o));return i}return[]}function Zv(t){const i=Q9,o=J9,l=i&&i[t]!==void 0?i[t]:o?o[t]:void 0,u=o2(l),d=[];for(const m of u){const p=wj[m];p&&!d.includes(p)&&d.push(p)}return d}function Oj(t,i,o="classic"){const l=(t??[]).slice(0,4).map(Dj);if(l.length!==4||l.some(x=>x.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"토"};const u=Aj(l[2]),d=u==="갑"||u==="을"?"목":u==="병"||u==="정"?"화":u==="무"||u==="기"?"토":u==="경"||u==="신"?"금":"수",m=l.map(x=>jj(x)),p={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},y=kj(d),v=m[1];if(o==="classic"){const x=Zn[v];x&&(p[Ms(x,d)].령=!0)}else{const x=Zv(v);if(x.length===0){const S=Zn[v];S&&(p[Ms(S,d)].령=!0)}else for(const S of x)p[Ms(S,d)].령=!0}const w=[0,2,3];for(const x of w){const S=m[x];if(o==="classic"){const T=Zn[S];T&&(p[Ms(T,d)].지=!0)}else{const T=Zv(S);if(T.length===0){const k=Zn[S];k&&(p[Ms(k,d)].지=!0)}else for(const k of T)p[Ms(k,d)].지=!0}}return Object.entries(y).forEach(([x,S])=>{p[x].세=(i[S]??0)>25}),{flags:p,monthBranch:v,dayEl:d}}const Cj={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Lj={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Bj=t=>Cj[t]??t,Rj=t=>Lj[t]??t;function Pj(t){return!t||t.length<2?"":`${Bj(t[0])}${Rj(t[1])}`}const Pm=["year","month","day","hour"],zj={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Hj={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Ij=new Set(["을","정","기","신","계"]),$j=new Set(["자","인","진","오","신","술"]),Uj=new Set(["사","오","자","해"]),cd=t=>Ij.has(t)?"음":"양",zm=t=>{const i=$j.has(t)?"양":"음";return Uj.has(t)?i==="양"?"음":"양":i};function Gj(t){const i=t.reduce((p,y)=>p+y,0);if(i<=0)return t.map(()=>0);const o=t.map(p=>p*100/i),l=o.map(Math.round),d=100-l.reduce((p,y)=>p+y,0),m=o.map((p,y)=>({i:y,f:p-l[y]})).sort((p,y)=>y.f-p.f);for(let p=0;p<d;p++)l[m[p].i]+=1;return l}function Zj(t,i){return t===0?i?1:.8:t===1?i?.6:.5:i?.3:.2}const ud={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},Gd={목:"화",화:"토",토:"금",금:"수",수:"목"},Yj={화:"목",토:"화",금:"토",수:"금",목:"수"},pc={목:"토",화:"금",토:"수",금:"목",수:"화"},qj={토:"목",금:"화",수:"토",목:"금",화:"수"};function dd(t,i){return t===i?"왕":Gd[i]===t?"상":Gd[t]===i?"휴":pc[t]===i?"수":pc[i]===t?"사":"휴"}const Ra=t=>t&&t.length>=1?t[0]:"",wo=t=>t&&t.length>=2?t[1]:"";function Yv(t){const{pillars:i,dayStem:o,mode:l,debug:u,useHarmonyOverlay:d,criteriaMode:m,luck:p}=t,y=m==="modern"?zj:Hj,v={목:0,화:0,토:0,금:0,수:0},w=(i??[]).slice(0,4).map(Pj);if(w.length!==4||w.some(U=>U.length<2))return{totals:["비겁","식상","재성","관성","인성"].map(M=>({name:M,value:0,color:"#999"})),perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},elementScoreRaw:v,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{}};const x=Ra(w[2]),S=o??x,T=S==="갑"||S==="을"?"목":S==="병"||S==="정"?"화":S==="무"||S==="기"?"토":S==="경"||S==="신"?"금":"수",k=l==="classic"?mj:hj,A=[{val:0},{val:0},{val:0},{val:0}],P=[[],[],[],[]];for(let U=0;U<4;U++){const M=w[U],H=Pm[U],W=Ra(M),et=wo(M),ct=y[H],V=Pa[W];V&&(v[V]+=ct.stem,A[U]={stem:W,el:V,pol:cd(W),val:ct.stem});const st=Zn[et];st&&(v[st]+=ct.branch,P[U].push({el:st,pol:zm(et),val:ct.branch}))}for(let U=0;U<4;U++){const M=w[U],H=Pm[U],W=k[M]??0;if(W===0)continue;const et=Ra(M),ct=Pa[et];if(!ct)continue;const V=y[H].stem*W;v[ct]+=V,A[U].val+=V}for(let U=0;U<4;U++){const M=w[U],H=wo(M),W=Zn[H];if(!W)continue;const et=y[Pm[U]].branch,ct=zm(H);let V=0;const st=[U];U-1>=0&&st.push(U-1),U+1<=3&&st.push(U+1),U-2>=0&&st.push(U-2),U+2<=3&&st.push(U+2);const Tt=Array.from(new Set(st));for(const wt of Tt){const At=Ra(w[wt]),jt=Pa[At];if(!jt||jt!==W)continue;const Ht=cd(At)===ct,zt=Math.abs(wt-U),Qt=Zj(zt,Ht);V+=et*Qt}V!==0&&(v[W]+=V,P[U].push({el:W,pol:ct,val:V}))}for(let U=0;U<4;U++){const M=Ra(w[U]),H=Pa[M];if(!H)continue;let W=0;const et=wo(w[U]),ct=Zn[et];ct&&(W+=ud[dd(H,ct)]);const V=U===0?[1]:U===3?[2]:[U-1,U+1];for(const Tt of V){const wt=Ra(w[Tt]),At=Pa[wt];At&&(W+=ud[dd(H,At)])}const st=A[U].val;if(st!==0&&W!==0){const Tt=Math.round(st*(1+W)*10)/10,wt=Tt-st;v[H]+=wt,A[U].val=Tt}}for(let U=0;U<4;U++){const M=wo(w[U]),H=Zn[M];if(!H)continue;let W=0;const et=Ra(w[U]),ct=Pa[et];ct&&(W+=ud[dd(H,ct)]);const V=U===0?[1]:U===3?[2]:[U-1,U+1];for(const Tt of V){const wt=wo(w[Tt]),At=Zn[wt];At&&(W+=ud[dd(H,At)])}const st=P[U].reduce((Tt,wt)=>Tt+wt.val,0);if(st!==0&&W!==0){const wt=Math.round(st*(1+W)*10)/10-st;v[H]+=wt,P[U].length>0&&(P[U][0].val+=wt)}}d&&Sj(w,v);const I={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02}},z=[];function D(U,M){const H=U?Mn(U):"";if(!H||H.length<2)return;const W=Ra(H),et=wo(H),ct=Pa[W],V=Zn[et],st=Math.max(1,(v.목??0)+(v.화??0)+(v.토??0)+(v.금??0)+(v.수??0)),Tt=I[M];if(ct){const wt=Math.round(st*Tt.stem);v[ct]+=wt,z.push({stem:W,el:ct,pol:cd(W),val:wt})}if(V){const wt=Math.round(st*Tt.branch);v[V]+=wt,z.push({el:V,pol:zm(et),val:wt})}}p&&p.tab!=="원국"&&(D(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운")&&D(p.se,"se"),p.tab==="월운"&&D(p.wol,"wol"));const O={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(v).forEach(([U,M])=>{O[F1(U,S)]+=M});const B={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function Y(U,M){const H={화:"목",토:"화",금:"토",수:"금",목:"수"},W=U===T?"비겁":Gd[T]===U?"식상":H[T]===U?"인성":pc[T]===U?"재성":pc[U]===T?"관성":"비겁",et=cd(S),ct=(()=>{switch(W){case"비겁":return M===et?"비견":"겁재";case"식상":return M===et?"식신":"상관";case"재성":return M!==et?"정재":"편재";case"관성":return M!==et?"정관":"편관";case"인성":return M!==et?"정인":"편인";default:return M===et?"비견":"겁재"}})();return{major:W,sub:ct}}const J=(U,M,H)=>{const{sub:W}=Y(U,M);B[W]=(B[W]??0)+H};A.forEach(U=>{U.el&&U.pol&&U.val&&J(U.el,U.pol,U.val)}),P.forEach(U=>U.forEach(M=>J(M.el,M.pol,M.val))),z.forEach(U=>J(U.el,U.pol,U.val));const Q=["비겁","식상","재성","관성","인성"],rt=Gj(Q.map(U=>O[U])),nt=mp(S),X=Q.map((U,M)=>({name:U,value:Math.round(rt[M]),color:nt[U]})),$={};A.forEach(U=>{if(U.stem&&U.el&&U.val){const M=`${U.stem}${U.el}`;$[M]=($[M]??0)+U.val}}),z.forEach(U=>{if(U.stem&&U.el&&U.val){const M=`${U.stem}${U.el}`;$[M]=($[M]??0)+U.val}});const K={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임"};P.forEach((U,M)=>{const H=wo(w[M]),W=K[H],et=Zn[H];if(W&&et){const ct=`${W}${et}`,V=U.reduce((st,Tt)=>st+Tt.val,0);$[ct]=($[ct]??0)+V}}),z.forEach(U=>{if(!U.stem&&U.el&&U.val){const M=Object.keys(Zn).find(H=>Zn[H]===U.el);if(M){const H=K[M];if(H){const W=`${H}${U.el}`;$[W]=($[W]??0)+U.val}}}});function mt(U,M){switch(U){case"비겁":return M;case"식상":return Gd[M];case"재성":return pc[M];case"관성":return qj[M];case"인성":return Yj[M]}return M}const vt=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],q={};vt.forEach(U=>{q[U]=0}),Q.forEach(U=>{const M=X.find(ct=>ct.name===U)?.value??0,H=mt(U,T),W=Object.entries($).filter(([ct])=>ct.endsWith(H)),et=W.reduce((ct,[,V])=>ct+V,0);et>0?W.forEach(([ct,V])=>{q[ct]=Math.round(M*(V/et)*10)/10}):W.forEach(([ct])=>{q[ct]=0})});const F={비겁:{a:"비견",b:"겁재",aVal:B.비견||0,bVal:B.겁재||0},식상:{a:"식신",b:"상관",aVal:B.식신||0,bVal:B.상관||0},재성:{a:"정재",b:"편재",aVal:B.정재||0,bVal:B.편재||0},관성:{a:"정관",b:"편관",aVal:B.정관||0,bVal:B.편관||0},인성:{a:"정인",b:"편인",aVal:B.정인||0,bVal:B.편인||0}};for(const U of Q){const M=X.find(et=>et.name===U).value,H=F[U],W=(H.aVal||0)+(H.bVal||0);if(W>0){const et=Math.round(M*H.aVal/W),ct=M-et;H.aVal=et,H.bVal=ct}else H.aVal=Math.round(M/2),H.bVal=M-H.aVal}const{flags:at}=Oj(w,v);return u&&console.log("[PowerData]",{criteriaMode:m,hiddenMode:l,elementScore:v,totals:X,perTenGod:F,perStemRaw:$,perStemElementScaled:q,deukFlags:at,luck:p}),{totals:X,perTenGod:F,elementScoreRaw:v,deukFlags:at,perStemElement:$,perStemElementScaled:q}}const Vj={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Kj={목:"화",화:"토",토:"금",금:"수",수:"목"},Fj={화:"목",토:"화",금:"토",수:"금",목:"수"},Xj={목:"토",화:"금",토:"수",금:"목",수:"화"},Wj={토:"목",금:"화",수:"토",목:"금",화:"수"};function Qj(t){return t==="목"||t==="화"||t==="토"||t==="금"||t==="수"}function Jj(t){const i=t.slice(-1);return Qj(i)?i:null}function t5(t,i){switch(t){case"비겁":return i;case"식상":return Kj[i];case"재성":return Xj[i];case"관성":return Wj[i];case"인성":return Fj[i];default:return i}}function e5({data:t,perStemElement:i,dayStem:o,width:l=280,height:u=280,revKey:d,pillars:m,daewoonGz:p,sewoonGz:y,wolwoonGz:v,yearGZ:w,monthGZ:x}){const S=l,T=u,k=S/2,A=T/2,P=Math.min(S,T)*.37,I=R.useMemo(()=>{const Q=t.map(K=>`${K.name}:${K.value}`).join(","),rt=i?Object.entries(i).sort(([K],[mt])=>K.localeCompare(mt)).map(([K,mt])=>`${K}:${mt}`).join(","):"none",nt=Array.isArray(m)?m.join(""):"",X=[p??"",y??"",v??""].join("|"),$=[w??"",x??""].join("|");return[d??"",Q,rt,o??"",nt,X,$].join("||")},[d,t,i,o,m,p,y,v,w,x]),[z,D]=R.useState(0),O=R.useRef("");R.useEffect(()=>{I!==O.current&&(O.current=I,D(Q=>Q+1))},[I]);const B=Q=>Math.PI/2+2*-Math.PI*Q/5,Y=R.useMemo(()=>t.map((Q,rt)=>({...Q,x:k+P*Math.cos(B(rt)),y:A-P*Math.sin(B(rt))})),[t,k,A,P]),J=R.useMemo(()=>{const Q=(o??"").charAt(0);return Vj[Q]??null},[o]);return g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:S,height:T,className:"mx-auto pt-2",children:[Y.map((Q,rt)=>{const nt=Y[(rt+2)%5];return g.jsx("line",{x1:Q.x,y1:Q.y,x2:nt.x,y2:nt.y,stroke:"#94a3b8",strokeWidth:1},`line-${rt}`)}),Y.map((Q,rt)=>{const nt=Y[(rt+1)%5],X=(Q.x+nt.x)/2,$=(Q.y+nt.y)/2,K=X-k,mt=$-A,vt=1.5,q=k+K*vt,F=A+mt*vt;return g.jsx("path",{d:`M${Q.x},${Q.y} Q${q},${F} ${nt.x},${nt.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${rt}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),Y.map(Q=>{const rt=Q.name,nt=(()=>{if(!i||!J)return[];const X=t5(rt,J);return Object.entries(i).filter(([$])=>Jj($)===X).sort(([,$],[,K])=>K-$).slice(0,3)})();return g.jsxs("g",{transform:`translate(${Q.x},${Q.y})`,children:[g.jsx("circle",{r:33,fill:Q.color,opacity:Q.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:"14",className:"fill-white font-semibold",children:[Q.name," ",Math.round(Q.value)]}),nt.map(([X,$],K)=>g.jsxs("text",{textAnchor:"middle",dy:8+K*11,fontSize:"10",className:"fill-white",children:[X," ",Math.round($*10)/10]},X))]},`${Q.name}-${Q.value}`)})]},z)})}const n5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],r5=[10,20,35,45,55,65,80];function s2(t){return Math.max(0,Math.min(100,t))}function i5(t){const i=s2(t);return n5.find(l=>i>=l.min&&i<l.max)?.name??"중화"}function a5({value:t}){const i=R.useMemo(()=>s2(t),[t]),o=R.useMemo(()=>i5(i),[i]);return R.useEffect(()=>{},[i,o]),g.jsxs("div",{className:"w-full mx-auto p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:"신약"}),g.jsx("span",{children:"중화"}),g.jsx("span",{children:"신강"})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[r5.map(l=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${i}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${i}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:o}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[i.toFixed(1),"%"]})]})]})}function fd(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";default:return""}}function zr({label:t,natal:i,dae:o,se:l,wol:u}){const d=o.length+l.length+u.length>0,m=i.length>0?i:["#없음"],p=d?m.filter(w=>w!=="#없음"):m,v=p.some(w=>w!=="#없음")||o.length>0||l.length>0||u.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[g.jsx("div",{className:v,children:t}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.map((w,x)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+fd(w,"natal"),children:w},`natal-${x}`)),o.map((w,x)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+fd(w,"dae"),children:w},`dae-${x}`)),l.map((w,x)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+fd(w,"se"),children:w},`se-${x}`)),u.map((w,x)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+fd(w,"wol"),children:w},`wol-${x}`))]})]})}function Mp(t){return Array.isArray(t)?t:[]}function Hm(t,i){const o=new Set(Mp(t));return Mp(i).filter(u=>!o.has(u))}function o5({pillars:t,daewoon:i,sewoon:o,wolwoon:l,tab:u="전체"}){const d=xj(t),m=ld({natal:t}),p=i?ld({natal:t,daewoon:i}):m,y=o?ld({natal:t,daewoon:i,sewoon:o}):p,v=l?ld({natal:t,daewoon:i,sewoon:o,wolwoon:l}):y,w=T=>({natal:Mp(d[T]),dae:Hm(m[T],p[T]),se:Hm(p[T],y[T]),wol:Hm(y[T],v[T])}),x={cheonganHap:w("cheonganHap"),cheonganChung:w("cheonganChung"),jijiSamhap:w("jijiSamhap"),jijiBanghap:w("jijiBanghap"),jijiYukhap:w("jijiYukhap"),amhap:w("amhap"),ganjiAmhap:w("ganjiAmhap"),jijiChung:w("jijiChung"),jijiHyeong:w("jijiHyeong"),jijiPa:w("jijiPa"),jijiHae:w("jijiHae")},S=T=>u==="전체"?T:{natal:u==="원국"?T.natal:[],dae:u==="대운"?T.dae:[],se:u==="세운"?T.se:[],wol:u==="월운"?T.wol:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-3",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),g.jsx(zr,{label:"천간합",...S(x.cheonganHap)}),g.jsx(zr,{label:"천간충",...S(x.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(zr,{label:"지지삼합",...S(x.jijiSamhap)}),g.jsx(zr,{label:"지지방합",...S(x.jijiBanghap)}),g.jsx(zr,{label:"지지육합",...S(x.jijiYukhap)}),g.jsx(zr,{label:"암합",...S(x.amhap)}),g.jsx(zr,{label:"간지암합",...S(x.ganjiAmhap)}),g.jsx(zr,{label:"지지충",...S(x.jijiChung)}),g.jsx(zr,{label:"지지형",...S(x.jijiHyeong)}),g.jsx(zr,{label:"지지파",...S(x.jijiPa)}),g.jsx(zr,{label:"지지해",...S(x.jijiHae)})]})}const l2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},s5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Mc={목:"화",화:"토",토:"금",금:"수",수:"목"},wc={화:"목",토:"화",금:"토",수:"금",목:"수"},qs={목:"토",화:"금",토:"수",금:"목",수:"화"},l5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],c5={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function p0(t){return Math.max(0,Math.min(100,t))}function Hs(t,i,o){return Math.max(i,Math.min(o,t))}function u5(t){const i=p0(t);return l5.find(o=>i>=o.min&&i<o.max)?.name??"중화"}function d5(t){const i=t?.[2]?.charAt(0)??"";return l2[i]??null}function f5(t){return(t?.[1]?.charAt(1)??"")||null}function uf(t){const i=Object.entries(qs);for(const[o,l]of i)if(l===t)return o;return"토"}function h5(t){return t?{peer:t,resource:wc[t],leak:Mc[t],wealth:qs[t],officer:uf(t)}:null}function m5(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const l=o.charAt(0),u=o.charAt(1),d=l2[l],m=s5[u];d&&(i[d]+=10),m&&(i[m]+=6)}return i}function p5(t){const i=Object.values(t).reduce((l,u)=>l+u,0);if(i<=0)return{목:20,화:20,토:20,금:20,수:20};const o={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(l=>{o[l]=t[l]/i*100}),o}function g5(t){if(!t||t.length===0)return null;const i=t.reduce((l,u)=>l+(u?.value??0),0)||0;if(i<=0)return null;const o=l=>t.find(u=>u.name===l)?.value??0;return p0((o("비겁")+o("인성"))/i*100)}function b5(t,i){return!t||!i?null:i===t?"비겁":Mc[t]===i?"식상":qs[t]===i?"재성":uf(t)===i?"관성":wc[t]===i?"인성":null}const Im=24,y5=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function v5(t){for(const[i,o]of y5)if(t>=i)return o;return 1}const Zd=20,qv=(t,i)=>Hs((Zd-(i[t]??0))/Zd,0,1),Vv=(t,i)=>Hs(((i[t]??0)-Zd)/Zd,0,1);function _5(t,i,o,l){const u=b5(t,o);if(!t||!u)return 0;const d=Hs((50-i)/50,0,1),m=Hs((i-50)/50,0,1),p=qv(o,l),y=Vv(o,l),v=qv(t,l),w=Vv(t,l),x=6.5;let S=0;if(d>0)switch(u){case"인성":S=+(.3+.4*v+.15*p)*d;break;case"비겁":S=+(.18+.45*v)*d;break;case"관성":S=-(.08+.2*(1-p)+.1*w)*d;break;case"재성":S=-(.22+.25*(1-p)+.1*(1-v))*d;break;case"식상":S=-(.35+.25*(1-p)+.1*(1-v))*d;break}else if(m>0)switch(u){case"인성":S=-(.25+.25*(1-p)+.2*w)*m;break;case"비겁":S=-(.28+.2*w)*m;break;case"관성":S=+(.18+.2*p+.15*w)*m;break;case"재성":S=+(.22+.25*p+.1*w)*m;break;case"식상":S=+(.2+.2*p)*m;break}else switch(u){case"인성":S=.08*(v+p);break;case"비겁":S=.05*v-.03*w;break;case"관성":S=.02*p-.02*y;break;case"재성":S=.01*p-.06*y;break;case"식상":S=-.05*(1-p);break}return Math.round(x*S*10)/10}function x5(t,i,o,l){const u=["중화신강","태강","극태강"].includes(i),d=["극약","태약","신약","중화신약"].includes(i),m={목:0,화:0,토:0,금:0,수:0};if(u){const p=Mc[t],y=qs[t],v=uf(t);m[p]+=28,m[y]+=22,m[v]+=20,l.get(p)?.push("억부: 일간 강 → 설기(식상)"),l.get(y)?.push("억부: 일간 강 → 재성 누설"),l.get(v)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=wc[t],y=t;m[p]+=28,m[y]+=22,l.get(p)?.push("억부: 일간 약 → 인성 보강"),l.get(y)?.push("억부: 일간 약 → 비겁 보강")}return m}function Kv(t,i){if(!t)return{목:0,화:0,토:0,금:0,수:0};const o=c5[t]??{temp:"mild",wet:"normal"},l={목:0,화:0,토:0,금:0,수:0};return o.temp==="cold"?(l.화+=16,l.토+=6,i.get("화")?.push("조후: 한랭 → 화"),i.get("토")?.push("조후: 한랭습 보조")):o.temp==="hot"&&(l.수+=14,l.금+=6,i.get("수")?.push("조후: 염열 → 수"),i.get("금")?.push("조후: 제열 보조")),o.wet==="wet"?(l.토+=8,l.화+=4,i.get("토")?.push("조후: 습 → 토"),i.get("화")?.push("조후: 습냉 가온")):o.wet==="dry"&&(l.수+=8,l.목+=4,i.get("수")?.push("조후: 건조 → 수"),i.get("목")?.push("조후: 생발 보조")),l}function Fv(t,i){const o={목:0,화:0,토:0,금:0,수:0},l=["목","화","토","금","수"];for(const u of l){const d=qs[u],m=Math.max(0,(t[u]??0)-(t[d]??0));if(m<=0)continue;const p=Mc[u],y=Math.round(m*.35);y>0&&(o[p]+=y,i.get(p)?.push(`통관: ${u}극${d} 완화`))}return o}function Xv(t,i){const o={목:0,화:0,토:0,금:0,수:0},l=Object.entries(t),u=Math.min(...l.map(([,m])=>m)),d=l.filter(([,m])=>m<=Math.max(6,u));for(const[m]of d)o[m]+=12,i.get(m)?.push("병약: 결핍 보충");return o}function Wv(t,i){const o=d5(t),l=f5(t),u=m5(t),d=p5(u);let m=g5(i);if(m==null)if(!o)m=50;else{const X=o,$=wc[o],K=Object.values(u).reduce((mt,vt)=>mt+vt,0)||1;m=p0(((u[X]??0)+(u[$]??0))/K*100)}const p=u5(m),y={목:0,화:0,토:0,금:0,수:0},v=new Map(["목","화","토","금","수"].map(X=>[X,[]]));if(o){const X=x5(o,p,u,v);Object.keys(y).forEach($=>{y[$]+=X[$]??0})}const w=Kv(l,v);Object.keys(y).forEach(X=>{y[X]+=w[X]??0});const x=Fv(u,v);Object.keys(y).forEach(X=>{y[X]+=x[X]??0});const S=Xv(u,v);Object.keys(y).forEach(X=>{y[X]+=S[X]??0});const T=h5(o),k={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(i))for(const X of i)k[X.name]=X.value;if(m>=45&&m<=55&&T){const X=k.관성>=30||k.관성>=Math.max(k.비겁,k.식상,k.재성,k.인성)+5;m<=50?(y[T.resource]+=14,v.get(T.resource)?.push("밸런스: 중화-약측"),y[T.peer]+=10,v.get(T.peer)?.push("밸런스: 중화-약측"),y[T.leak]+=6,v.get(T.leak)?.push("밸런스: 중화-약측"),y[T.wealth]+=3,v.get(T.wealth)?.push("밸런스: 중화-약측"),X&&T.officer&&(y[T.officer]=Math.round(y[T.officer]*.8*10)/10,v.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(y[T.leak]+=14,v.get(T.leak)?.push("밸런스: 중화-강측"),y[T.wealth]+=10,v.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(y[T.officer]+=6,v.get(T.officer)?.push("밸런스: 중화-강측")),y[T.resource]+=3,v.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(X=>{const $=_5(o,m,X,d);y[X]=Hs(Math.round((y[X]+$)*10)/10,0,999)});const P=m<50;["목","화","토","금","수"].forEach(X=>{const $=d[X]??0,K=P&&o===X;if($>=Im&&!K){const mt=v5($);y[X]=Math.round(y[X]*mt*10)/10;const vt=Math.min(14,Math.max(0,Math.ceil(($-Im)*.5)));vt>0&&(y[X]=Hs(y[X]-vt,0,999)),v.get(X)?.push("강과 패널티(강화)")}});const I={목:[],화:[],토:[],금:[],수:[]};if(o){const X=Mc[o],$=qs[o],K=uf(o),mt=o,vt=wc[o];I[X].push("식상"),I[$].push("재성"),I[K].push("관성"),I[mt].push("비겁"),I[vt].push("인성")}const z={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},D=X=>{const $=d[X]??0;return $>=Im&&!(P&&o===X)?$>=55?4:$>=45?3:2:z[X]?0:1},O=Kv(l,new Map),B=Fv(u,new Map),Y=Xv(u,new Map),J=Object.keys(y).map(X=>({element:X,score:Math.round(y[X]*10)/10,via:S5(X,O,B,Y),reasons:(v.get(X)??[]).slice(),tenGodHints:I[X]})).sort((X,$)=>{const K=D(X.element),mt=D($.element);return K!==mt?K-mt:$.score!==X.score?$.score-X.score:X.element.localeCompare($.element)}),Q=w5(p,O,B,Y),rt={비겁:0,식상:0,재성:0,관성:0,인성:0},nt=i?i.reduce((X,$)=>(X[$.name]=$.value,X),{...rt}):void 0;return{chosenType:Q,ordered:J,debug:{band:p,overallPct:m,elementScore:u,tenGodTotals:nt,monthBranch:l??void 0}}}function S5(t,i,o,l){const u=[];return(i[t]??0)>0&&u.push("조후"),(o[t]??0)>0&&u.push("통관"),(l[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function w5(t,i,o,l){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=v=>Object.values(v).reduce((w,x)=>w+x,0),m=d(i),p=d(o),y=d(l);return m>Math.max(p,y)?"조후":p>=y?"통관":"병약"}const T5=Object.freeze(Object.defineProperty({__proto__:null,computeYongshin:Wv,default:Wv},Symbol.toStringTag,{value:"Module"}));function $m(t){const i={목:0,화:0,토:0,금:0,수:0};if(!t||t.length<2)return i;const o=t.charAt(0),l=t.charAt(1),u=Pa[o],d=Zn[l];return u&&(i[u]+=50),d&&(i[d]+=50),i}const nc=t=>Math.round(t*10)/10;function Ds(t){const i=t.목+t.화+t.토+t.금+t.수||1;return{목:nc(t.목/i*100),화:nc(t.화/i*100),토:nc(t.토/i*100),금:nc(t.금/i*100),수:nc(t.수/i*100)}}function Qv(t,i,o,l,u,d,m,p){const y=[{v:t,w:i},{v:o,w:l},{v:u,w:d},{v:m,w:p}].filter(x=>x.v&&x.w>0),v=y.reduce((x,S)=>x+S.w,0)||1;y.forEach(x=>{x.w=x.w/v});const w={목:0,화:0,토:0,금:0,수:0};for(const{v:x,w:S}of y)w.목+=x.목*S,w.화+=x.화*S,w.토+=x.토*S,w.금+=x.금*S,w.수+=x.수*S;return w}const E5=["전체","원국","대운","세운","월운"],Jv={전체:{natal:.4,dae:.3,se:.2,wol:.1},원국:{natal:1},대운:{natal:.6,dae:.4},세운:{natal:.5,dae:.3,se:.2},월운:{natal:.4,dae:.3,se:.2,wol:.1}};function N5(t){const{natalElementScore:i,daewoonGz:o,sewoonGz:l,wolwoonGz:u,tab:d}=t,m=Ds(i),p=o?Ds($m(o)):null,y=l?Ds($m(l)):null,v=u?Ds($m(u)):null;if(d==="전체"){const x=Jv.전체;return Ds(Qv(m,x.natal,p,x.dae,y,x.se,v,x.wol))}const w=Jv[d];return Ds(Qv(m,w.natal??0,p,w.dae??0,y,w.se??0,v,w.wol??0))}const Er={2:4,1:3,3:2,0:1},Cs={1:4,2:3,0:2,3:1},Ls=t=>t.slice(0,1),We=t=>t.slice(-1),Nt={year:0,month:1,day:2,hour:3};function Um(t,i){const o=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const l of o)if(We(i[l])===t)return{pos:l,weight:Er[l]??0};return null}function g0(t,i,o){return We(i[o])===t?{pos:o,weight:Er[o]}:null}function M5(t,i){const o=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const l of o)if(Ls(i[l])===t)return{pos:l,weight:Er[l]??0};return null}const D5=/^#(연지|월지|일지|시지)X\1_/,A5=t=>D5.test(t);function t_(t){const i=new Map;for(const o of t){if(A5(o.name))continue;const l=`${o.name}@${o.pos}`,u=i.get(l);(!u||o.weight>u.weight)&&i.set(l,o)}return Array.from(i.values()).sort((o,l)=>l.weight!==o.weight?l.weight-o.weight:o.name.localeCompare(l.name,"ko"))}function e_(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const ko=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",Vs=t=>t==="dae"?"대운":t==="se"?"세운":"월운",j5=(t,i)=>`#일간X${ko(i)}_${t}`,c2=(t,i)=>i===Nt.month?`#월지_${t}`:`#월지X${ko(i)}_${t}`,b0=(t,i,o)=>`#${ko(i)}X${ko(o)}_${t}`,k5=(t,i)=>`#${t==="day"?"일간":"연간"}X${ko(i)}_공망`,n_=t=>`#일주_${t}`,hd=(t,i)=>`#${ko(i)}_${t}`,As=(t,i)=>`#일간X${Vs(i)}_${t}`,rc=(t,i)=>`#월지X${Vs(i)}_${t}`,Gm=(t,i,o)=>`#${Vs(i)}X${ko(o)}_${t}`,O5=(t,i)=>`#${i==="day"?"일간":"연간"}X${Vs(t)}_공망`,C5=(t,i)=>`#${i==="day"?"일지":"연지"}X${Vs(t)}_삼재`,r_=(t,i)=>`#연지X${Vs(t)}_${i}`,L5=new Set(["갑","을","병","정","무","기","경","신","임","계"]),B5=new Set(["자","축","인","묘","진","사","오","미","신","유","술","해"]),R5=new Set(["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"]),P5=new Set(["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]);function z5(t){if(!t)return null;const i=Array.from(String(t));let o=null,l=null;for(const u of i)!o&&(L5.has(u)||R5.has(u))&&(o=u),(B5.has(u)||P5.has(u))&&(l=u);return o&&l?{stem:o,branch:l}:null}function H5(t){return t.map(We)}const Re=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,Array.isArray(o)?o:[o]])),I5=Re({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),u2=Re({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),$5=Re({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),U5=Re({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),G5=Re({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),d2=Re({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),Z5=Re({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),Y5=Re({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),q5=Re({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),V5=Re({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),K5=Re({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),f2=Re({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),F5=Re({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),X5=Re({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),W5=Re({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),Q5=Re({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),J5=Re({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),t4=Re({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),h2=Re({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),e4=f2,n4=u2,r4=h2,i4=Re({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),a4=d2,o4=Re({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),s4=Re({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),l4=Re({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),m2=t=>(Array.isArray(t)?t:String(t).split("·")).map(i=>i.trim()).filter(Boolean),Dr=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,Array.isArray(o)?o:[o]])),i_={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},a_={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},o_={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},s_={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},c4=Dr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),l_=Dr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),df=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,m2(o)])),u4=df({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),d4=df({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),f4=df({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),h4=df({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),m4=Dr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),p4=Dr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),g4=Dr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),b4=Dr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),y4=Dr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),c_=Dr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),v4=Dr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),_4=Dr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),x4=Dr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),S4=Dr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),Pe=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[i,m2(o)])),w4=Pe({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),u_=Pe({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),T4=Pe({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),E4=Pe({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),N4=Pe({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),M4=Pe({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),D4=Pe({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),d_=Pe({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),A4=Pe({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),j4=Pe({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),k4=Pe({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),O4=Pe({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),f_=Pe({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),C4=Pe({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),L4=Pe({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),h_=Pe({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),B4=Pe({갑:"인",정:"사",무:"신",신:"해"}),R4=Pe({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),m_=Pe({정:"축·미",신:"묘·유",계:"사·해"}),p_=Pe({병:"자·오",무:"인·신",임:"진·술"}),P4=Pe({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),g_=Pe({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),b_=Pe({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),y_=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],v_=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],z4=new Set(["인미","미인","묘신","신문"]),__=[["술","해"],["진","사"]],H4=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function ic(t,i,o){for(const[l,u]of t)if(l===i&&u===o||l===o&&u===i)return!0;return!1}function md(t){for(const i of H4)if(i.set.has(t))return i.voids;return null}function Zm(t){const i=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const o of i)if(o.group.has(t))return Array.from(o.years);return null}function Dc(t,i){t.push(i)}function Ym(t,i,o,l,u=0){const d=Cs[o]>=Cs[l]?o:l,m=b0(i,o,l);t.push({name:m,weight:Er[d]+u,pos:d})}function Ne(t,i,o,l,u){const d=We(t[Nt.year]),m=i[d];if(!m)return;const p=o==="MONTH"?[Nt.month]:o==="DAY"?[Nt.day]:o==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const y of m)for(const v of p){const w=g0(y,t,v);w&&Dc(u,{name:b0(l,Nt.year,v),weight:w.weight,pos:v})}}function pd(t,i,o,l){const u=We(t[Nt.month]),d=i[u];if(!d)return;const m=M5(d,t);m&&Dc(l,{name:c2(o,m.pos),weight:m.weight,pos:m.pos})}function ar(t,i,o,l,u="ALL"){const d=We(t[Nt.month]),m=i[d];if(!m)return;const p=u==="YEAR"?[Nt.year]:u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:u==="DAY_HOUR"?[Nt.day,Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const y of m)for(const v of p){const w=g0(y,t,v);if(!w)continue;const x=v===Nt.month?`#월지_${o}`:c2(o,v);Dc(l,{name:x,weight:w.weight,pos:v})}}function gd(t,i,o,l){const u=We(t[Nt.month]),d=i[u];if(!d)return;const m=t[Nt.day];d.includes(m)&&Dc(l,{name:b0(o,Nt.month,Nt.day),weight:Er[Nt.day],pos:Nt.day})}function Me(t,i,o,l,u){const d=Ls(t[Nt.day]),m=i[d];if(!m)return;const p=u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const y of m)for(const v of p){const w=g0(y,t,v);w&&Dc(l,{name:j5(o,v),weight:w.weight,pos:v})}}function I4({natal:t,daewoon:i,sewoon:o,wolwoon:l,basis:u}){const d=`원국 ${t.join(" · ")}`,m=Ls(t[Nt.day]),p=We(t[Nt.day]),y=We(t[Nt.month]),v=We(t[Nt.year]),w=H5(t),x=[],S=[],T=new Set(["경진","임진","경술","무술"]);if(Ne(t,I5,"MONTH","태백",S),Ne(t,u2,"DAY","오귀",S),Ne(t,U5,"MONTH","고신",S),Ne(t,G5,"MONTH","과숙",S),Ne(t,Z5,"ALL","수옥",S),Ne(t,Y5,"HOUR","단명",S),Ne(t,q5,"ALL","천모",S),Ne(t,V5,"ALL","지모",S),Ne(t,K5,"ALL","대모",S),Ne(t,f2,"ALL","소모",S),Ne(t,F5,"ALL","격각",S),Ne(t,X5,"ALL","파군",S),Ne(t,W5,"ALL","구신",S),Ne(t,Q5,"ALL","교신",S),Ne(t,J5,"ALL","반음",S),Ne(t,t4,"ALL","복음",S),Ne(t,h2,"ALL","병부",S),Ne(t,e4,"ALL","사부",S),Ne(t,n4,"ALL","관부",S),Ne(t,r4,"ALL","태음",S),Ne(t,i4,"ALL","세파",S),Ne(t,a4,"ALL","천구",S),Ne(t,o4,"ALL","비염",S),Ne(t,s4,"ALL","매아",S),Ne(t,l4,"ALL","탕화",S),pd(t,i_,"천덕귀인",x),pd(t,a_,"월덕귀인",x),pd(t,o_,"천덕합",x),pd(t,s_,"월덕합",x),ar(t,c4,"혈지",S,"ALL"),ar(t,l_,"금쇄",S,"YEAR"),ar(t,l_,"금쇄",S,"DAY"),gd(t,u4,"천사",x),gd(t,d4,"천전살",S),gd(t,f4,"지전살",S),gd(t,h4,"진신",S),ar(t,m4,"급각살",S,"ALL"),ar(t,p4,"단교관살",S,"ALL"),ar(t,g4,"부벽살",S,"ALL"),ar(t,b4,"욕분관살",S,"ALL"),ar(t,y4,"사주관살",S,"ALL"),ar(t,c_,"천의성",x,"ALL"),ar(t,v4,"천희신",x,"DAY_HOUR"),ar(t,_4,"황은대사",x,"DAY_HOUR"),ar(t,x4,"홍란성",x,"ALL"),ar(t,S4,"장수성",x,"ALL"),Me(t,w4,"태극귀인",x,"ALL"),Me(t,u_,"천을귀인",x,"ALL"),Me(t,T4,"천주귀인",x,"ALL"),Me(t,E4,"천관귀인",x,"ALL"),Me(t,N4,"천복귀인",x,"ALL"),Me(t,M4,"문창귀인",x,"ALL"),Me(t,D4,"암록",x,"ALL"),Me(t,d_,"금여록",x,"ALL"),Me(t,A4,"협록",x,"ALL"),Me(t,j4,"관귀학관",x,"ALL"),Me(t,k4,"문곡귀인",x,"ALL"),Me(t,O4,"학당귀인",x,"ALL"),Me(t,f_,"홍염",S,"ALL"),Me(t,C4,"유하",S,"ALL"),Me(t,L4,"낙정관살",S,"ALL"),Me(t,h_,"효신살",S,"DAY"),Me(t,h_,"효신살",S,"HOUR"),Me(t,m_,"음착살",S,"DAY"),Me(t,m_,"음착살",S,"HOUR"),Me(t,p_,"양착살",S,"DAY"),Me(t,p_,"양착살",S,"HOUR"),Me(t,B4,"고란살",S,"DAY"),Me(t,R4,"비인살",S,"ALL"),Me(t,P4,"재고귀인",x,"ALL"),Me(t,g_,"양인살",S,"ALL"),T.has(t[Nt.day])){S.push({name:n_("괴강살"),weight:Er[Nt.day],pos:Nt.day});for(const F of[Nt.year,Nt.month,Nt.hour])t[F]===t[Nt.day]&&S.push({name:hd("괴강살",F),weight:Er[F],pos:F})}const A=b_[m];if(A)for(const F of[Nt.year,Nt.month,Nt.day,Nt.hour]){const at=Ls(t[F]),U=We(t[F]);at===m&&A.includes(U)&&S.push({name:hd("백호대살",F),weight:Er[F],pos:F})}for(const[F,at]of __){const U=Um(F,t),M=Um(at,t);U&&M&&Ym(S,"천라지망",U.pos,M.pos)}{const F=new Set(["갑","신"]),at=new Set(["묘","오","미","신"]);for(let U=0;U<=3;U++){const M=Ls(t[U]),H=We(t[U]);(F.has(M)||at.has(H))&&S.push({name:hd("현침살",U),weight:Er[U],pos:U})}}new Set(["갑진","을사","임신","병신","정해","경진","무술","계해","신사","기축"]).has(t[Nt.day])&&S.push({name:n_("십악대패살"),weight:Er[Nt.day],pos:Nt.day});{const F=new Set(["을","기"]),at=new Set(["축","사"]);for(let U=0;U<=3;U++){const M=Ls(t[U]),H=We(t[U]);(F.has(M)||at.has(H))&&S.push({name:hd("곡각살",U),weight:Er[U],pos:U})}}{const F=[[Nt.year,Nt.month],[Nt.year,Nt.day],[Nt.month,Nt.day],[Nt.month,Nt.hour],[Nt.day,Nt.hour]];for(const[at,U]of F){const M=We(t[at]),H=We(t[U]);ic(y_,M,H)&&Ym(S,"원진",at,U)}}{const F=[[Nt.month,Nt.day,"월일"],[Nt.day,Nt.hour,"일시"]];for(const[at,U,M]of F){const H=We(t[at]),W=We(t[U]);if(ic(v_,H,W)){const et=(M==="월일"?1:0)+(z4.has(H+W)?1:0);Ym(S,"귀문",at,U,et)}}}function P(F){const at=F.lastIndexOf("_");return at>=0?F.slice(at+1):F}const I=new Set(["현침살","곡각살"]);function z(F){const at=new Map;for(const M of F){const H=P(M.name);at.has(H)||at.set(H,[]),at.get(H).push(M)}const U=[];for(const[M,H]of at)if(I.has(M))U.push(...H);else{const W=H.sort((et,ct)=>Cs[et.pos]!==Cs[ct.pos]?Cs[ct.pos]-Cs[et.pos]:ct.weight-et.weight)[0];U.push(W)}return U}const D=z(t_(x)),O=z(t_(S)),B={si:[],il:[],yeon:[],wol:[]},Y={si:[],il:[],yeon:[],wol:[]};for(const F of D)B[e_(F.pos)].push(F.name);for(const F of O)Y[e_(F.pos)].push(F.name);const J=[],Q=[],rt=[],nt=[],X=[],$=[];function K(F,at){F.includes(at)||F.push(at)}const mt=md(t[Nt.day]),vt=md(t[Nt.year]);{const F=(u?.voidBasis??"day")==="day"?mt:vt;if(F){const[at,U]=F,M=[Nt.year,Nt.month,Nt.day,Nt.hour];for(const H of M){const W=We(t[H]);(W===at||W===U)&&S.push({name:k5(u?.voidBasis??"day",H),weight:Er[H],pos:H})}}}function q(F,at){const U=z5(at);if(!U)return;const M=U.branch,H=U.stem,W=F==="dae"?J:F==="se"?Q:rt,et=F==="dae"?nt:F==="se"?X:$;i_[y]===H&&K(W,rc("천덕귀인",F)),a_[y]===H&&K(W,rc("월덕귀인",F)),o_[y]===H&&K(W,rc("천덕합",F)),s_[y]===H&&K(W,rc("월덕합",F)),c_[y]?.includes(M)&&K(W,rc("천의성",F)),u_[m]?.includes(M)&&K(W,As("천을귀인",F)),d_[m]?.includes(M)&&K(W,As("금여록",F)),f_[m]?.includes(M)&&K(et,As("홍염",F)),g_[m]?.includes(M)&&K(et,As("양인살",F)),b_[m]?.includes(M)&&K(et,As("백호대살",F)),F==="se"&&($5[v]?.includes(M)&&K(et,r_(F,"상문살")),d2[v]?.includes(M)&&K(et,r_(F,"조객살")));for(const V of w)if(ic(__,M,V)){const st=Um(V,t)?.pos;st!==void 0&&K(et,Gm("천라지망",F,st));break}new Set(["갑","신"]).has(m)&&new Set(["묘","오","미","신"]).has(M)&&K(et,As("현침살",F));const ct=(u?.voidBasis??"day")==="day"?mt:vt;ct&&(M===ct[0]||M===ct[1])&&K(et,O5(F,u?.voidBasis??"day"));for(let V=0;V<=3;V++){const st=We(t[V]);ic(y_,M,st)&&K(et,Gm("원진",F,V)),ic(v_,M,st)&&K(et,Gm("귀문",F,V))}if(F==="se"){const V=(u?.samjaeBasis??"day")==="day"?p:v,st=V?Zm(V):null;st&&st.includes(M)&&K(et,C5(F,u?.samjaeBasis??"day"))}}return q("dae",i??null),q("se",o??null),q("wol",l??null),{title:d,good:{...B,dae:J,se:Q,wolun:rt},bad:{...Y,dae:nt,se:X,wolun:$},meta:{voidPair:{day:md(t[Nt.day])??void 0,year:md(t[Nt.year])??void 0},samjaeYears:{day:Zm(p)??void 0,year:Zm(v)??void 0},currentBasis:{voidBasis:u?.voidBasis??"day",samjaeBasis:u?.samjaeBasis??"day"}}}}function $4(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";default:return""}}function U4({items:t,source:i}){const o=t.length>0?t:["#없음"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((l,u)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+$4(l,i),children:l},`${i}-${u}-${l}`))})}function x_({title:t,rows:i}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),i.map(o=>{const u=o.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[g.jsx("div",{className:u,children:o.label}),g.jsx(U4,{items:o.items.length>0?o.items:["#없음"],source:o.source})]},`${t}-${o.label}`)})]})}function G4({pillars:t,daewoon:i,sewoon:o,wolwoon:l,tab:u="전체"}){const[d,m]=R.useState("일공망"),[p,y]=R.useState("일삼재"),v=R.useMemo(()=>({voidBasis:d==="일공망"?"day":"year",samjaeBasis:p==="일삼재"?"day":"year"}),[d,p]),w=R.useMemo(()=>I4({natal:t,daewoon:i,sewoon:o,wolwoon:l,basis:v}),[t,i,o,l,v]),{good:x,bad:S,meta:T}=w,k=Q=>Q.map(rt=>rt==="#없음"?rt:`원국 ${rt}`),A=(Q,rt)=>{if(rt==="전체")return Q;const nt=rt==="원국"?"natal":rt==="대운"?"dae":rt==="세운"?"se":"wol";return Q.filter(X=>X.source===nt)},P=[{label:"시주",items:k(x.si),source:"natal"},{label:"일주",items:k(x.il),source:"natal"},{label:"월주",items:k(x.wol),source:"natal"},{label:"연주",items:k(x.yeon),source:"natal"},{label:"대운",items:x.dae,source:"dae"},{label:"세운",items:x.se,source:"se"},{label:"월운",items:x.wolun,source:"wol"}],I=[{label:"시주",items:k(S.si),source:"natal"},{label:"일주",items:k(S.il),source:"natal"},{label:"월주",items:k(S.wol),source:"natal"},{label:"연주",items:k(S.yeon),source:"natal"},{label:"대운",items:S.dae,source:"dae"},{label:"세운",items:S.se,source:"se"},{label:"월운",items:S.wolun,source:"wol"}],z=A(P,u),D=A(I,u),O=T.voidPair.day?`일공망(${T.voidPair.day.join("")})`:"일공망(—)",B=T.voidPair.year?`연공망(${T.voidPair.year.join("")})`:"연공망(—)",Y=T.samjaeYears.day?`일삼재(${T.samjaeYears.day.join("·")})`:"일삼재(—)",J=T.samjaeYears.year?`연삼재(${T.samjaeYears.year.join("·")})`:"연삼재(—)";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),g.jsxs("select",{value:d,onChange:Q=>m(Q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일공망",children:O}),g.jsx("option",{value:"연공망",children:B})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),g.jsxs("select",{value:p,onChange:Q=>y(Q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일삼재",children:Y}),g.jsx("option",{value:"연삼재",children:J})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(x_,{title:"신(神)",rows:z}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(x_,{title:"살(殺)",rows:D})]})]})}const Z4=Object.freeze([]),Y4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},q4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},p2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},g2={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function V4(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const l=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return l?`${Y4[l[1]]}${q4[l[2]]}`:""}function S_(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map(V4)}function w_(t){return t.length===4&&t.every(i=>i.length===2)}function K4(t,i){const o={목:!1,화:!1,토:!1,금:!1,수:!1};for(const l of t){if(!l)continue;const u=p2[l.charAt(0)];u&&(o[u]=!0);{const d=g2[l.charAt(1)];d&&(o[d]=!0)}}return o}function T_(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const l=p2[o.charAt(0)],u=g2[o.charAt(1)];l&&(i[l]+=10),u&&(i[u]+=6)}return i}function Dp(t){return typeof t=="object"&&t!==null}function F4(t){return Dp(t)?typeof t.computeYongshin=="function"?t.computeYongshin:Dp(t.default)&&typeof t.default.computeYongshin=="function"?t.default.computeYongshin:null:null}function Md(t,i=0){if(t==null)return i;if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){const o=Number(t.trim());return Number.isFinite(o)?o:i}if(typeof t=="object"){const o=t;for(const l of["value","val","score","amount"])if(l in o)return Md(o[l],i)}return i}function X4({data:t,pillars:i,lunarPillars:o,daewoonGz:l}){const u=ii(Mt=>Mt.settings),d=!0,[m]=R.useState("solar"),[p,y]=R.useState(!0),[v,w]=R.useState("modern"),[x,S]=R.useState("일간 · 오행 강약"),[T,k]=R.useState("원국"),{date:A,yearGZ:P,monthGZ:I}=ai(),z=R.useMemo(()=>Mn(P),[P]),D=R.useMemo(()=>Mn(I),[I]),O=of(t,t?.mingSikType),B=R.useMemo(()=>{if(!O?.length)return 0;const Mt=O.findIndex((Vt,pt)=>{const St=O[pt+1]?.at;return A>=Vt.at&&(!St||A<St)});return Mt!==-1?Mt:A<O[0].at?0:O.length-1},[O,A]),Y=R.useMemo(()=>{const Mt=l??O?.[B]?.gz??"";return Mn(Mt)||null},[l,O,B]),J=R.useMemo(()=>S_(i),[i]),Q=R.useMemo(()=>S_(o),[o]),rt=w_(J),nt=w_(Q),$=(m==="lunar"?nt?"lunar":"solar":rt?"solar":"lunar")==="lunar"?Q:J,K=u.hiddenStemMode==="classic"?"classic":"hgc",mt=u.hiddenStem==="regular"?"regular":"all",vt=R.useMemo(()=>({tab:T,dae:T!=="원국"&&Y||void 0,se:(T==="세운"||T==="월운")&&z||void 0,wol:T==="월운"&&D||void 0}),[T,Y,z,D]),q=R.useMemo(()=>!rt&&!nt?null:Yv({pillars:$,dayStem:$?.[2]?.charAt(0),mode:K,debug:d,useHarmonyOverlay:!1,criteriaMode:v}),[v,$,K,mt,d,rt,nt]),F=R.useMemo(()=>!rt&&!nt?null:Yv({pillars:$,dayStem:$?.[2]?.charAt(0),mode:K,debug:d,useHarmonyOverlay:!1,criteriaMode:v,luck:vt}),[v,$,K,mt,d,rt,nt,vt]),at=R.useMemo(()=>q?.totals??Z4,[q]),U=q?.elementScoreRaw??T_($),M=mp($[2]?.charAt(0)),H=at.map(Mt=>({...Mt,color:M[Mt.name]})),W=R.useMemo(()=>{const Mt={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const Vt of at)Mt[Vt.name]=Vt.value;return Mt},[at]),et=R.useMemo(()=>{const Mt=q?.deukFlags;if(!Mt)return{비겁:1,식상:1,재성:1,관성:1,인성:1};const Vt=.08,pt=.05,St=.07,gt={비겁:1,식상:1,재성:1,관성:1,인성:1};return Object.keys(Mt).forEach($t=>{const Kt=Mt[$t];gt[$t]+=(Kt.령?Vt:0)+(Kt.지?pt:0)+(Kt.세?St:0)}),gt},[q?.deukFlags]),ct=R.useMemo(()=>{const Mt=(W.비겁??0)*et.비겁+(W.인성??0)*et.인성,Vt=(W.비겁??0)*et.비겁+(W.식상??0)*et.식상+(W.재성??0)*et.재성+(W.관성??0)*et.관성+(W.인성??0)*et.인성;if(Vt<=0){const pt=(W.비겁??0)+(W.식상??0)+(W.재성??0)+(W.관성??0)+(W.인성??0)||1;return((W.비겁??0)+(W.인성??0))/pt*100}return Mt/Vt*100},[W,et]),V=R.useMemo(()=>K4($),[$]),st=R.useMemo(()=>["목","화","토","금","수"].some(Mt=>!V[Mt]),[V]),Tt=U??T_($),wt=T==="전체"?"월운":T,At=N5({natalElementScore:U,daewoonGz:wt!=="원국"?Y??void 0:void 0,sewoonGz:wt==="세운"||wt==="월운"?z??void 0:void 0,wolwoonGz:wt==="월운"?D??void 0:void 0,tab:T}),jt=R.useMemo(()=>{const Mt=mp($[2]?.charAt(0));return["비겁","식상","재성","관성","인성"].map(Vt=>{const pt=["목","화","토","금","수"].map(St=>F1(St,$[2][0])===Vt?At[St]:0).reduce((St,gt)=>St+gt,0);return{name:Vt,value:pt,color:Mt[Vt]}})},[At,$]),Ht=R.useMemo(()=>{if(!F?.perTenGod)return;const Mt=JSON.parse(JSON.stringify(F.perTenGod));return["비겁","식상","재성","관성","인성"].forEach(Vt=>{const pt=jt.find(Kt=>Kt.name===Vt)?.value??0,St=Mt[Vt],gt=Md(St?.aVal,0)+Md(St?.bVal,0),$t=Kt=>Math.round((Kt+Number.EPSILON)*10)/10;if(gt>0){const Kt=pt*Md(St.aVal,0)/gt,Xt=$t(Kt),Ct=$t(pt-Xt);St.aVal=Xt,St.bVal=Ct}else{const Kt=$t(pt/2),Xt=$t(pt-Kt);St.aVal=Kt,St.bVal=Xt}}),Mt},[F,jt]),zt=R.useMemo(()=>[T,Y??"",z??"",D??"",A?.toISOString?.()??"",JSON.stringify(F?.perStemElementScaled??{})].join("|"),[T,Y,z,D,A,F?.perStemElementScaled]),Qt=R.useMemo(()=>{const Mt=Ht?["비겁","식상","재성","관성","인성"].map(pt=>{const St=Ht[pt],gt=St?.aVal??St?.비견??St?.정재??0,$t=St?.bVal??St?.겁재??St?.편재??0;return`${pt}:${Number(gt)}|${Number($t)}`}).join(","):"none",Vt=jt.map(pt=>`${pt.name}:${pt.value}`).join(",");return`${zt}||${$.join("")}||${Vt}||${Mt}`},[zt,$,jt,Ht]),de=F4(T5),qt=de?de($,H,{elementScore:U}):null,ue=R.useMemo(()=>{const Vt=(Dp(qt)&&Array.isArray(qt.ordered)?qt.ordered:[]).map(St=>{const gt=St.element,$t=St.score,Kt=St.reasons,Xt=typeof gt=="string"?gt:"",Ct=/목|木|wood/i.test(Xt)?"목":/화|火|fire/i.test(Xt)?"화":/토|土|earth/i.test(Xt)?"토":/금|金|metal/i.test(Xt)?"금":/수|水|water/i.test(Xt)?"수":null,oe=typeof $t=="number"?$t:Ct?Tt[Ct]??0:0,$e=Array.isArray(Kt)?Kt:[];return{element:Xt,elNorm:Ct,score:oe,reasons:$e}}),pt=p?Vt.map(St=>St.elNorm&&!V[St.elNorm]?{...St,score:0,reasons:[...St.reasons,"부재후순위: 원국(천간) 부재 → 0점"]}:St):Vt;return pt.sort((St,gt)=>{if(p){const $t=St.elNorm&&V[St.elNorm]?1:0,Kt=gt.elNorm&&V[gt.elNorm]?1:0;if($t!==Kt)return Kt-$t}return(gt.score??0)!==(St.score??0)?(gt.score??0)-(St.score??0):(St.elNorm??St.element).localeCompare(gt.elNorm??gt.element)}),pt},[qt,V,p,Tt]),ae=R.useMemo(()=>Math.max(0,...ue.map(Mt=>Number.isFinite(Mt.score)?Mt.score:0)),[ue]);return!rt&&!nt?g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."}):g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:E5.map(Mt=>g.jsx("button",{onClick:()=>k(Mt),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(T===Mt?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Mt},Mt))}),g.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(Mt=>g.jsx("button",{onClick:()=>S(Mt),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(x===Mt?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Mt},Mt))}),x==="형충회합"&&g.jsx(o5,{pillars:$,daewoon:Y||void 0,sewoon:z||void 0,wolwoon:D||void 0,tab:T}),x==="일간 · 오행 강약"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"ml-auto flex justify-end items-center gap-1",children:[g.jsx("button",{type:"button","aria-pressed":v==="classic",onClick:()=>w("classic"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="classic"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"고전"}),g.jsx("button",{type:"button","aria-pressed":v==="modern",onClick:()=>w("modern"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="modern"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"현대"})]}),g.jsx(e5,{data:jt,revKey:Qt,pillars:$,daewoonGz:Y,sewoonGz:z,wolwoonGz:D,perStemElement:F?.perStemElementScaled,dayStem:$?.[2]?.charAt(0)??null}),g.jsx(a5,{value:ct}),g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),st&&g.jsxs("button",{type:"button",onClick:()=>y(Mt=>!Mt),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${p?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":p,children:["부재후순위: ",p?"ON":"OFF"]})]}),g.jsx("ul",{className:"space-y-2",children:ue.map((Mt,Vt)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Vt+1,"위"]}),g.jsx("span",{className:"text-sm font-semibold",children:Mt.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${ae>0?Math.max(2,Math.min(100,Math.round((Mt.score??0)/ae*100))):12}%`},title:`점수 ${Mt.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(Mt.reasons??[]).map((pt,St)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:pt},St))})]})]},Mt.elNorm??Mt.element))})]})]}),x==="신살"&&g.jsx(G4,{pillars:$,daewoon:Y||void 0,sewoon:z||void 0,wolwoon:D||void 0,tab:T})]})}function y0(t){return typeof t=="object"&&t!==null}function W4(t){return y0(t)&&"default"in t}function Q4(t){return y0(t)&&typeof t.lunar2solar=="function"}function J4(t){if(!y0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function tk(t){const i=W4(t)?t.default:t;if(!Q4(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,!!m);return J4(p)}}}const ek=tk(Oo),Ap=!1,nk=t=>typeof t=="string"&&t.length>=2,E_=t=>Array.isArray(t)&&t.length===4&&t.every(nk),N_=t=>t<10?`0${t}`:`${t}`;function rk(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),m=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let y=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){y=w;break}if(typeof w=="number"){y=w===1;break}if(typeof w=="string"){y=w==="1"||w.toLowerCase()==="true";break}}if(l==="lunar")try{const v=ek.lunar2solar(u,d,m,y),w=`${v.cYear}${N_(v.cMonth)}${N_(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}return t}function ik({data:t}){const[i,o]=R.useState("un"),l=R.useMemo(()=>{try{const d=rk(t);return Ga(d)}catch{return new Date}},[t]),u=R.useMemo(()=>{try{const d=Be(l,t.birthPlace?.lon),m=yn(l,t.birthPlace?.lon),p=Ze(l,t.mingSikType),y=ri(l,t.mingSikType),v=[d,m,p,y];return E_(v)?v:[]}catch{return[]}},[l,t?.mingSikType,t?.birthPlace?.lon]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>o("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),g.jsx("button",{onClick:()=>o("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),g.jsx("button",{onClick:()=>o("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),i==="un"&&g.jsx(D9,{data:t}),i==="myoun"&&g.jsx(H9,{data:t}),i==="report"&&g.jsx(X4,{data:t,pillars:E_(u)?u:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ok=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,o,l)=>l?l.toUpperCase():o.toLowerCase()),M_=t=>{const i=ok(t);return i.charAt(0).toUpperCase()+i.slice(1)},b2=(...t)=>t.filter((i,o,l)=>!!i&&i.trim()!==""&&l.indexOf(i)===o).join(" ").trim(),sk=t=>{for(const i in t)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=R.forwardRef(({color:t="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:m,...p},y)=>R.createElement("svg",{ref:y,...lk,width:i,height:i,stroke:t,strokeWidth:l?Number(o)*24/Number(i):o,className:b2("lucide",u),...!d&&!sk(p)&&{"aria-hidden":"true"},...p},[...m.map(([v,w])=>R.createElement(v,w)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=(t,i)=>{const o=R.forwardRef(({className:l,...u},d)=>R.createElement(ck,{ref:d,iconNode:i,className:b2(`lucide-${ak(M_(t))}`,`lucide-${t}`,l),...u}));return o.displayName=M_(t),o};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dk=Ar("chevron-down",uk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hk=Ar("chevron-up",fk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],jp=Ar("grip-vertical",mk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],gk=Ar("heart-handshake",pk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yk=Ar("house",bk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_k=Ar("menu",vk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sk=Ar("plus",xk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tk=Ar("settings",wk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],Nk=Ar("square-user",Ek);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],D_=Ar("star",Mk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ak=Ar("user-plus",Dk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],v0=Ar("x",jk);function kk({onOpenSidebar:t,onAddNew:i,onOpenCustom:o}){return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"max-w-[640px] w-full mx-auto h-12 sm:h-14 flex items-center",children:[g.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(_k,{size:22})}),g.jsx("h1",{className:"mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:i,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(Ak,{size:18})}),g.jsx("button",{type:"button",onClick:o,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(Nk,{size:18})})]})]})})}function Ok(t){R.useEffect(()=>{const i=t??U_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");G_(i),t&&Jm(t)},[t])}const y2="harim.settings.v1",v2=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"];function Ck(t){return typeof t=="string"&&v2.includes(t)}function A_(t){const i=Array.isArray(t)?t.filter(Ck):[],o=v2.filter(l=>!i.includes(l));return[...i,...o]}function _2(){if(typeof window>"u")return null;try{const t=localStorage.getItem(y2);return t?JSON.parse(t):null}catch{return null}}function Lk(t){if(!(typeof window>"u"))try{const o={..._2()??{},...t};localStorage.setItem(y2,JSON.stringify(o))}catch{}}function Bk({open:t,onClose:i}){const{settings:o,setSettings:l}=ii(),u=R.useMemo(()=>A_(o.sectionOrder),[o.sectionOrder]),[d,m]=R.useState(u),[p,y]=R.useState(o),[v,w]=R.useState(null);Ok(p.theme??"dark"),R.useEffect(()=>{if(!t)return;const D=_2();if(D){const O={...o,...D};y(O),m(A_(D.sectionOrder??O.sectionOrder))}else y(o),m([...u])},[t,o,u]);const x=(D,O)=>{y(B=>{const Y={...B,[D]:O};return D==="theme"&&Jm(O),Y})},S=()=>{l({...p,sectionOrder:d}),p.theme&&Jm(p.theme),w("설정이 적용되었습니다"),i()},T=R.useRef(null),k=(D,O)=>{const B=D.target;if(B.closest("[data-no-drag]")||["BUTTON","INPUT","SELECT","TEXTAREA","A","LABEL"].includes(B.tagName)){D.preventDefault();return}T.current=O,D.dataTransfer.setData("text/plain",O),D.dataTransfer.effectAllowed="move"},A=(D,O)=>k(D,O),P=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},I=(D,O)=>{const B=T.current;T.current=null,!(!B||B===O)&&m(Y=>{const J=Y.slice(),Q=J.indexOf(B),rt=J.indexOf(O);if(Q===-1||rt===-1)return Y;J.splice(rt,0,...J.splice(Q,1));const nt=J;return Lk({...p,sectionOrder:nt}),nt})},z=D=>{switch(D){case"theme":return g.jsx(Hr,{title:"테마",children:g.jsx(Rk,{value:p.theme??"dark",onChange:O=>x("theme",O)})});case"hiddenStem":return g.jsx(Hr,{title:"지장간 표시 타입",children:g.jsx(To,{value:p.hiddenStem,onChange:O=>x("hiddenStem",O),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Hr,{title:"지장간 유형",children:g.jsx(To,{value:p.hiddenStemMode,onChange:O=>x("hiddenStemMode",O),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return g.jsx(Hr,{title:"일운 달력 시간타입",children:g.jsx(To,{value:p.ilunRule,onChange:O=>x("ilunRule",O),options:[{label:"야자시",value:"야자시"},{label:"조자시",value:"조자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return g.jsx(Hr,{title:"십이신살타입",children:g.jsx(To,{value:p.sinsalMode,onChange:O=>x("sinsalMode",O),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return g.jsx(Hr,{title:"십이신살기준",children:g.jsx(To,{value:p.sinsalBase,onChange:O=>x("sinsalBase",O),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return g.jsx(Hr,{title:"개화론 적용여부",children:g.jsx(ac,{label:"개화론 적용",checked:p.sinsalBloom,onChange:O=>x("sinsalBloom",O)})});case"exposure":return g.jsx(Hr,{title:"상단 노출",children:g.jsx(To,{value:p.exposure,onChange:O=>x("exposure",O),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return g.jsx(Hr,{title:"글자 타입",children:g.jsx(To,{value:p.charType,onChange:O=>x("charType",O),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return g.jsx(Hr,{title:"음간 얇게",children:g.jsx(ac,{label:"음간 얇게",checked:p.thinEum,onChange:O=>x("thinEum",O)})});case"visibility":return g.jsx(Hr,{title:"표시 항목",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[g.jsx(ac,{label:"십신 표시",checked:p.showSipSin,onChange:O=>x("showSipSin",O)}),g.jsx(ac,{label:"운성 표시",checked:p.showSibiUnseong,onChange:O=>x("showSibiUnseong",O)}),g.jsx(ac,{label:"신살 표시",checked:p.showSibiSinsal,onChange:O=>x("showSibiSinsal",O)})]})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed bottom-0 left-1/2 translate-x-[-50%] w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transform transition-transform duration-300 z-99 ${t?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:"설정"}),g.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),g.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:g.jsx(v0,{size:22})})]}),g.jsx("div",{className:"p-4 overflow-y-auto h-[calc(100%-56px)] space-y-3",children:d.map(D=>g.jsxs("div",{draggable:!0,onDragStart:O=>k(O,D),onDragOver:P,onDrop:O=>I(O,D),className:"relative group cursor-grab active:cursor-grabbing",children:[g.jsx("div",{"data-drag-handle":!0,draggable:!0,onDragStart:O=>A(O,D),className:"absolute left-[14px] top-1/2 -translate-y-1/2 select-none text-neutral-400 group-hover:text-neutral-200 dark:group-hover:text-white cursor-grab active:cursor-grabbing",title:"드래그하여 순서 변경",role:"button",children:"☰"}),z(D)]},D))})]}),v&&g.jsx(S1,{message:v,onClose:()=>w(null),ms:1800})]})}function Rk({value:t,onChange:i}){const o=t==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>i(o?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":o,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:o?"다크":"라이트"})]})}function Hr({title:t,children:i}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),g.jsx("div",{className:"flex justify-center",children:i})]})}function To({value:t,onChange:i,options:o}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",children:o.map(l=>{const u=t===l.value;return g.jsx("button",{onClick:()=>i(l.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:l.label},l.value)})})}function ac({label:t,checked:i,onChange:o}){const l=`switch-${t}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:l,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[g.jsx("span",{children:t}),g.jsx("input",{id:l,type:"checkbox",checked:i,onChange:u=>o(u.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function Pk({onShowToday:t,onShowCouple:i}){const[o,l]=R.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(qm,{icon:g.jsx(yk,{size:22}),label:"오늘의 사주",onClick:t}),g.jsx(qm,{icon:g.jsx(gk,{size:22}),label:"궁합",onClick:i}),g.jsx(qm,{icon:g.jsx(Tk,{size:22}),label:"기타설정",onClick:()=>l(!0)})]})}),g.jsx(Bk,{open:o,onClose:()=>l(!1)})]})}function qm({icon:t,label:i,onClick:o}){return g.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,g.jsx("span",{className:"mt-1",children:i})]})}function zk(t,i={}){const{onConfirm:o,onCancel:l,duration:u=1/0,id:d="confirm-center",disableBackdropClose:m=!1,confirmText:p="확인",cancelText:y="취소"}=i;return cm.custom(v=>{if(typeof window>"u"||!document?.body)return null;const w=()=>{const x=R.useRef(!1),S=()=>{x.current||(x.current=!0,cm.dismiss(v.id),setTimeout(()=>{l?.()},0))},T=()=>{x.current||(x.current=!0,cm.dismiss(v.id),setTimeout(()=>{o?.()},0))};return R.useEffect(()=>{const k=A=>{x.current||((A.key==="Escape"||A.key==="Esc")&&(A.preventDefault(),A.stopPropagation(),S()),A.key==="Enter"&&(A.preventDefault(),A.stopPropagation(),T()))};return document.addEventListener("keydown",k,{capture:!0}),()=>document.removeEventListener("keydown",k,{capture:!0})},[]),g.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:m?void 0:S}),g.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[g.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:S,children:y}),g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:p})]})]})]})};return $s.createPortal(g.jsx(w,{}),document.body)},{id:d,duration:u})}function zi(t,i){const[o,l]=R.useState(i),[u,d]=R.useState(!1);return R.useEffect(()=>{try{if(typeof window>"u")return;const m=localStorage.getItem(t);m!=null&&l(JSON.parse(m))}catch{}finally{d(!0)}},[t]),R.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(o))}catch{}},[t,o,u]),[o,l,u]}function j_(t,i,o){const l=t.slice(),[u]=l.splice(i,1);return l.splice(o,0,u),l}const Hk="list:__unassigned__",k_="list:";function Ik(t,i){const[o,l]=zi($d,[]),[u,d]=zi(mA,{}),[m,p]=zi(hA,[]),[y,v]=zi(x1,[]),[w,x]=zi("ms_folder_open",{}),[S,T]=zi("ms_memo_open",{}),[k,A]=zi("ms_new_folder_tmp",""),P=R.useRef(0);function I(nt,X,$){const K=Date.now();K-P.current<450||(P.current=K,zk(nt,{onConfirm:X,onCancel:$,duration:Number.POSITIVE_INFINITY}))}const z=R.useMemo(()=>Id.filter(nt=>!y.includes(nt)),[y]),D=R.useMemo(()=>[...z,...o],[z,o]);R.useEffect(()=>{p(nt=>{const X=nt.filter($=>D.includes($));for(const $ of D)X.includes($)||X.push($);return X})},[D,p]);const O=R.useMemo(()=>{const nt=m.filter($=>!!u[$]),X=m.filter($=>!u[$]);return[...nt,...X]},[m,u]);R.useEffect(()=>{x(nt=>{const X={...nt};for(const $ of O)X[$]===void 0&&(X[$]=!0);return X})},[O,x]),R.useEffect(()=>{t.filter(K=>K.folder==="미분류").forEach(K=>i(K.id,{folder:void 0}));const X=new Set(D);t.filter(K=>K.folder&&!X.has(K.folder)).forEach(K=>i(K.id,{folder:void 0}))},[t,D,i]);const{grouped:B,unassignedItems:Y}=R.useMemo(()=>{const nt={};for(const K of O)nt[K]=[];const X=[];for(const K of t){const mt=K.folder;mt&&nt[mt]?nt[mt].push(K):X.push(K)}const $=(K,mt)=>+!!mt.favorite-+!!K.favorite;for(const K of Object.keys(nt))nt[K]=nt[K].slice().sort($);return X.sort($),{grouped:nt,unassignedItems:X}},[t,O]);function J(nt){const{destination:X,draggableId:$,type:K,source:mt}=nt;if(X){if(K==="FOLDER"){const vt=$.replace(/^folder-/,""),q=m.filter(U=>!!u[U]),F=m.filter(U=>!u[U]);if(!!u[vt]){const U=q.indexOf(vt),M=Math.min(q.length-1,X.index);p([...j_(q,U,M),...F])}else{const U=F.indexOf(vt),M=Math.min(F.length-1,X.index-q.length);p([...q,...j_(F,U,M)])}return}if(K==="ITEM"){const vt=$.replace(/^item:/,""),q=mt?.droppableId??"",F=X?.droppableId??"",at=W=>{if(!W.startsWith(k_))return;const et=W.slice(k_.length);return et==="__unassigned__"?void 0:et},U=at(q),M=at(F);if(U===M)return;const H=t.find(W=>W.id===vt);if(!H)return;i(H.id,{folder:M});return}}}function Q(nt){const X=nt.trim();if(!X)return;const $=new Set([...O,...o]);let K=X,mt=2;for(;$.has(K);)K=`${X} ${mt++}`;l(vt=>[...vt,K]),x(vt=>({...vt,[K]:!0})),A("")}function rt(nt){t.filter($=>$.folder===nt).forEach($=>i($.id,{folder:void 0})),Id.includes(nt)?v($=>Array.from(new Set([...$,nt]))):l($=>$.filter(K=>K!==nt)),x($=>{const K={...$};return delete K[nt],K}),d($=>{const K={...$};return delete K[nt],K}),p($=>$.filter(K=>K!==nt))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:w,setFolderOpenMap:x,memoOpenMap:S,setMemoOpenMap:T,newFolderName:k,setNewFolderName:A,orderedFolders:O,grouped:B,unassignedItems:Y,confirmThrottled:I,handleDragEnd:J,createFolder:Q,deleteFolder:rt,displayFolderLabel:pA,UNASSIGNED_LABEL:gn,DROPPABLE_UNASSIGNED:Hk}}function $k(t,i){if(!/^\d{8}$/.test(t))return t||"";const o=t.slice(0,4),l=t.slice(4,6),u=t.slice(6,8);return i&&/^\d{4}$/.test(i)?`${o}년 ${l}월 ${u}일생 ${i.slice(0,2)}:${i.slice(2,4)}분`:i==="모름"?`${o}년 ${l}월 ${u}일생 (시간 모름)`:`${o}년 ${l}월 ${u}일생`}function Uk(t){if(!t)return"";const i=t.split(/[\s,]+/).filter(Boolean);if(i.length===0)return"";const o=m=>i.find(p=>m.some(y=>p.endsWith(y))),l=o(["시","군","구"]),u=o(["동","읍","면","리"]);return i.length===1||!o(["시","군","구","동","읍","면","리"])&&!o(["도","광역시","특별시","자치시","자치도"])?t:l&&u?`${l} ${u}`:l||t}function Gk(t){if(!/^\d{8}$/.test(t))return"-";const i=Number(t.slice(0,4)),o=Number(t.slice(4,6)),l=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-i;return(u.getMonth()+1<o||u.getMonth()+1===o&&u.getDate()<l)&&d--,d}function Zk(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function kp(t){return typeof t=="object"&&t!==null}function Yk(t){if(!kp(t))throw new Error("Invalid lunar2solar result");const i=t,o=i.cYear,l=i.cMonth,u=i.cDay;if(typeof o!="number"||typeof l!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=i.isLeap;return{cYear:o,cMonth:l,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function qk(t){const i=kp(t)&&"default"in t?t.default:t;if(!kp(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return(l,u,d)=>Yk(o(l,u,d,!1))}const Vk=qk(Oo);function x2(t){const i=t.mingSikType??"야자시";let o=Number(t.birthDay.slice(0,4)),l=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const I=Vk(o,l,u);o=I.cYear,l=I.cMonth,u=I.cDay}const d=!t.birthTime||t.birthTime==="모름",m=d?0:Number(t.birthTime.slice(0,2)||"0"),p=d?0:Number(t.birthTime.slice(2,4)||"0"),y=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,v=new Date(o,l-1,u,m,p,0,0),w=Ys(v,y),x=d?"":w.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),S=Be(w,y),T=yn(w,y),k=Ze(w,i),A=d?null:ri(w,i),P=[`원국 : ${S}년 ${T}월 ${k}일`,A?`${A}시`:null].filter(Boolean).join(" ");return{correctedLocal:x,ganji:P}}const oc="list:__unassigned__",bd=t=>`list:${t}`,Vm=t=>{if(!t.startsWith("list:"))return;const i=t.slice(5);return i==="__unassigned__"?void 0:i};function Kk(){const t=R.useMemo(()=>{const i=document.createElement("div");return i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.zIndex="9999",i.style.pointerEvents="none",i},[]);return R.useEffect(()=>(document.body.appendChild(t),()=>{try{document.body.removeChild(t)}catch{}}),[t]),(i,o)=>o?$s.createPortal(i,t):i}function Fk({open:t,onClose:i,onView:o,onAddNew:l,onEdit:u}){const{list:d,remove:m,update:p}=Hi(),{folderFavMap:y,setFolderFavMap:v,folderOpenMap:w,setFolderOpenMap:x,memoOpenMap:S,setMemoOpenMap:T,newFolderName:k,setNewFolderName:A,orderedFolders:P,grouped:I,unassignedItems:z,handleDragEnd:D,createFolder:O,deleteFolder:B,UNASSIGNED_LABEL:Y,displayFolderLabel:J}=Ik(d,p),[Q,rt]=zi("ms_order_map",{}),[nt,X]=zi("folder_order",[]),[$,K]=R.useState(!1),mt=Kk(),vt=(V,st)=>{const Tt=new Map(st.map(jt=>[jt.id,jt])),wt=Q[V]??[],At=[];for(const jt of wt){const Ht=Tt.get(jt);Ht&&(At.push(Ht),Tt.delete(jt))}return Tt.forEach(jt=>At.push(jt)),At},q=[Y,...P];R.useEffect(()=>{rt(V=>{let st=!1;const Tt={...V},wt=oc;if(!Tt[wt])Tt[wt]=z.map(At=>At.id),st=!0;else{const At=z.map(jt=>jt.id).filter(jt=>!Tt[wt].includes(jt));At.length&&(Tt[wt]=[...Tt[wt],...At],st=!0)}for(const At of P){const jt=bd(At),Ht=I[At]||[];if(!Tt[jt])Tt[jt]=Ht.map(zt=>zt.id),st=!0;else{const zt=Ht.map(Qt=>Qt.id).filter(Qt=>!Tt[jt].includes(Qt));zt.length&&(Tt[jt]=[...Tt[jt],...zt],st=!0)}}return st?Tt:V})},[z,I,P,rt]);const F=V=>{const st=Vm(V),Tt=st?I[st]||[]:z;return vt(V,Tt).map(wt=>wt.id)},at=(V,st)=>V?st?{...V,transition:"transform 160ms cubic-bezier(0.2, 0, 0.2, 1)"}:V:{},U=(V,st)=>{const Tt=!!S[V.id],wt=Zk(V),At=Uk(V.birthPlace?.name),jt=`item:${V.id}`;let Ht=new Date(V.corrected);return Hd(Ht.getFullYear(),Ht.getMonth()+1,Ht.getDate())&&(Ht=new Date(Ht.getTime()-3600*1e3)),g.jsx(zd,{draggableId:jt,index:st,children:(Qt,de)=>mt(g.jsx("li",{ref:Qt.innerRef,...Qt.draggableProps,style:at(Qt.draggableProps.style,de.isDropAnimating),className:`list-none select-none rounded-xl border
                         bg-white dark:bg-neutral-900
                         border-neutral-200 dark:border-neutral-800
                         text-neutral-900 dark:text-neutral-100`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[V.name," (",Gk(V.birthDay),"세, ",V.gender,")"]}),g.jsx("span",{className:"opacity-40",children:"｜"}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:V.relationship?V.relationship:"관계 미지정"}),g.jsx("button",{"aria-label":"드래그",...Qt.dragHandleProps,className:"ml-auto py-1.5 rounded cursor-grab active:cursor-grabbing hover:bg-neutral-100 dark:hover:bg-neutral-800",style:{touchAction:"none"},children:g.jsx(jp,{size:16})})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[$k(V.birthDay,V.birthTime),", ",V.calendarType==="lunar"?"음력":"양력"]}),(At||Ht)&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[At,Ht&&g.jsxs("span",{className:"opacity-70",children:[" · 보정시 ",x7(Ht)]})]}),wt&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:wt}),V.memo&&V.memo.trim()!==""&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:qt=>{qt.stopPropagation(),T(ue=>({...ue,[V.id]:!ue[V.id]}))},children:Tt?"메모 닫기":"메모 열기"}),g.jsx("div",{className:Tt?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:V.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-neutral-900 dark:text-neutral-100
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:J(V.folder),onChange:qt=>{const ue=qt.target.value,ae=zs(ue),Mt=V.id,Vt=V.folder?bd(V.folder):oc,pt=ae?bd(ae):oc;ae&&!P.includes(ae)&&O(ae),rt(St=>{const gt={...St},$t=F(Vt),Kt=Vt===pt?$t.slice():F(pt).slice(),Xt=$t.indexOf(Mt);Xt>=0&&$t.splice(Xt,1);const Ct=Kt.indexOf(Mt);return Ct>=0&&Kt.splice(Ct,1),Kt.unshift(Mt),gt[Vt]=$t,gt[pt]=Kt,gt}),p(Mt,{folder:ae})},children:q.map(qt=>g.jsx("option",{value:qt,children:qt},qt))}),g.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-neutral-900 dark:text-neutral-100
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:V.mingSikType??"야자시",onChange:qt=>{const ue=qt.target.value,ae={...V,mingSikType:ue},Mt=x2(ae);p(V.id,{mingSikType:ue,...Mt}),o({...ae,...Mt}),i()},children:[g.jsx("option",{value:"야자시",children:"야자시명식"}),g.jsx("option",{value:"조자시",children:"조자시명식"}),g.jsx("option",{value:"인시",children:"인시명식"})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:qt=>{qt.stopPropagation(),o(V),i()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                               bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),g.jsx("button",{onClick:qt=>{qt.stopPropagation(),u?.(V)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                               bg-amber-600 hover:bg-amber-500`,children:"수정"}),g.jsx("button",{onClick:qt=>{qt.stopPropagation(),confirm(`'${V.name}' 명식을 삭제할까요?`)?m(V.id):console.log("취소됨")},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                              bg-red-600 hover:bg-red-500`,children:"삭제"}),g.jsx("button",{type:"button",onClick:qt=>{qt.stopPropagation(),p(V.id,{favorite:!V.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${V.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(D_,{size:16,fill:V.favorite?"currentColor":"none"})})]})]})}),de.isDragging)},jt)},M=V=>{const{source:st,destination:Tt,draggableId:wt,type:At}=V;if(Tt){if(At==="FOLDER"){D(V);const jt=Array.from(nt),[Ht]=jt.splice(st.index,1);jt.splice(Tt.index,0,Ht),X(jt);return}if(At==="ITEM"){const jt=wt.replace(/^item:/,""),Ht=st.droppableId,zt=Tt.droppableId;rt(qt=>{const ue={...qt},ae=F(Ht),Mt=Ht===zt?ae.slice():F(zt).slice();if(Ht===zt){const[St]=Mt.splice(st.index,1);return Mt.splice(Tt.index,0,St),ue[Ht]=Mt,ue}const Vt=ae.indexOf(jt);Vt>=0&&ae.splice(Vt,1);const pt=Mt.indexOf(jt);return pt>=0&&Mt.splice(pt,1),Mt.splice(Tt.index,0,jt),ue[Ht]=ae,ue[zt]=Mt,ue});const Qt=Vm(Ht),de=Vm(zt);Qt!==de&&p(jt,{folder:de})}}},H=[...nt.filter(V=>P.includes(V)),...P.filter(V=>!nt.includes(V))],W=Hi(V=>V.list),et=Hi(V=>V.currentId),ct=Hi(V=>V.setCurrent);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed top-0 left-0 h-[calc(100dvh_-_0px)] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99
                    ${$?"transform-none":"transform transition-transform duration-300"}
                    ${t?$?"":"translate-x-0":"-translate-x-full"}`,children:[g.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),g.jsxs("div",{className:"flex items-center gap-1 desk:gap-2",children:[g.jsxs("button",{type:"button",onClick:()=>{l(),i()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[g.jsx(Sk,{size:16})," 명식추가"]}),g.jsx("button",{onClick:i,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:g.jsx(v0,{size:22})})]})]}),g.jsxs(o0,{onDragStart:()=>K(!0),onDragEnd:V=>{K(!1),M(V)},children:[g.jsxs("div",{className:"p-4 overflow-y-auto h-[calc(100%-56px)] overscroll-contain",style:{touchAction:"pan-y",WebkitOverflowScrolling:"touch"},children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:k,onChange:V=>A(V.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`}),g.jsx("button",{type:"button",onClick:()=>O(k),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,children:"생성"})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),g.jsx(hc,{droppableId:oc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:V=>{const st=vt(oc,z);return g.jsx("div",{ref:V.innerRef,...V.droppableProps,className:"mb-6",children:g.jsxs("ul",{className:"space-y-3",children:[st.map((Tt,wt)=>U(Tt,wt)),V.placeholder]})})}}),g.jsx(hc,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:V=>g.jsxs("div",{ref:V.innerRef,...V.droppableProps,children:[H.map((st,Tt)=>{const wt=bd(st),At=vt(wt,I[st]||[]),jt=!!w[st],Ht=!!y[st];return g.jsx(zd,{draggableId:`folder-${st}`,index:Tt,children:(zt,Qt)=>mt(g.jsxs("div",{ref:zt.innerRef,...zt.draggableProps,style:at(zt.draggableProps.style,Qt.isDropAnimating),className:"mb-4",children:[g.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                           bg-neutral-50 dark:bg-neutral-900/70
                                           border border-neutral-200 dark:border-neutral-800
                                           text-neutral-800 dark:text-neutral-200`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:de=>{de.stopPropagation(),x(qt=>({...qt,[st]:!jt}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[jt?g.jsx(hk,{size:16}):g.jsx(dk,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:st})]}),g.jsx("button",{"aria-label":"폴더 드래그",...zt.dragHandleProps,className:"p-1 rounded cursor-grab active:cursor-grabbing hover:bg-neutral-100 dark:hover:bg-neutral-800",style:{touchAction:"none"},children:g.jsx(jp,{size:16})}),g.jsx("button",{type:"button",onClick:de=>{de.stopPropagation(),v(qt=>({...qt,[st]:!qt[st]}))},className:`p-1 rounded cursor-pointer ${Ht?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(D_,{size:16,fill:Ht?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[At.length,"개"]}),g.jsx("button",{type:"button",onClick:de=>{if(de.stopPropagation(),y[st]){alert(`'${st}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${st}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&B(st)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                              border border-red-300 dark:border-red-700
                                              text-red-700 dark:text-red-300
                                              hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),jt&&g.jsx(hc,{droppableId:wt,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:de=>g.jsx("div",{ref:de.innerRef,...de.droppableProps,className:"mt-2",children:g.jsxs("ul",{className:"space-y-3",children:[At.map((qt,ue)=>U(qt,ue)),de.placeholder]})})})]}),Qt.isDragging)},`folder-${st}`)}),V.placeholder]})})]}),W.map(V=>g.jsxs("li",{onClick:()=>ct(V.id),className:["cursor-pointer p-2 rounded",et===V.id?"bg-purple-100 dark:bg-purple-800":"hover:bg-neutral-100 dark:hover:bg-neutral-800"].join(" "),children:[V.name||"이름없음"," (",V.birthDay,")"]},V.id))]})]})]})}function Op(t){return typeof t=="object"&&t!==null}function Xk(t){if(!Op(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function Wk(t){const i=Op(t)&&"default"in t?t.default:t;if(!Op(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(u,d,m,p)=>{const y=o(u,d,m,p);return Xk(y)}}}const Qk=Wk(Oo);function Km(t,i,o){const l=Qk.lunar2solar(t,i,o,!1);return{y:l.cYear,m:l.cMonth,d:l.cDay}}const O_="ms_folders",Fm="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Jk="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",tO="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Pi="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",eO="text-xs text-neutral-500 dark:text-neutral-400",yd="accent-violet-600 dark:accent-violet-400",C_="accent-violet-600 dark:accent-violet-400",ff="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",nO=`${ff} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,rO=`${ff} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,L_=`${ff} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,iO=`${ff} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function aO({item:t,onClose:i}){const{list:o,update:l,remove:u}=Hi(),[d,m]=R.useState(!1),[p,y]=R.useState({...t,calendarType:t.calendarType??"solar"}),[v,w]=R.useState(!t.birthTime||t.birthTime==="모름"),[x,S]=R.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=R.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[k,A]=R.useState([]);R.useEffect(()=>{try{const B=JSON.parse(localStorage.getItem(O_)||"[]");Array.isArray(B)&&A(B)}catch{}},[]);const P=R.useMemo(()=>{const B=Array.from(new Set(o.map(Q=>Q.folder).filter(Boolean))),Y=new Set([...T,...k,...B]),J=Array.from(Y).sort((Q,rt)=>Q.localeCompare(rt));return[gn,...J]},[o,k,T]),I=()=>{y({...t,calendarType:t.calendarType??"solar"}),w(!t.birthTime||t.birthTime==="모름"),S(!t.birthPlace||t.birthPlace.name==="모름")},z=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const B=Number(p.birthDay.slice(0,4)),Y=Number(p.birthDay.slice(4,6)),J=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{Km(B,Y,J)}catch(Q){return Q instanceof Error?Q.message:"음력 날짜가 유효하지 않습니다."}else{const Q=new Date(B,Y-1,J);if(Q.getFullYear()!==B||Q.getMonth()+1!==Y||Q.getDate()!==J)return"존재하지 않는 양력 날짜입니다."}if(!v){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const Q=Number(p.birthTime.slice(0,2)),rt=Number(p.birthTime.slice(2,4));if(Q<0||Q>23||rt<0||rt>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!x&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},D=()=>{const B=z();if(B){alert(B);return}const Y=!t.birthTime||t.birthTime==="모름",J=!t.birthPlace;let Q=Number(t.birthDay.slice(0,4)),rt=Number(t.birthDay.slice(4,6)),nt=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const V=Km(Q,rt,nt);Q=V.y,rt=V.m,nt=V.d}const X=Y?0:Number(t.birthTime.slice(0,2)||"0"),$=Y?0:Number(t.birthTime.slice(2,4)||"0"),K=new Date(Q,rt-1,nt,X,$,0,0),mt=J||!t.birthPlace||t.birthPlace.lon===0?127.5:t.birthPlace.lon,vt=Ys(K,mt),q=Be(vt,mt),F=zs(p.folder===gn?void 0:p.folder);function at(V,st){const wt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(V),At=st==="남자";return wt?At?"forward":"backward":At?"backward":"forward"}const U=q.charAt(0),M=at(U,p.gender??"남자"),H={...t,name:p.name?.trim()||"이름없음",birthDay:p.birthDay,birthTime:v?"모름":p.birthTime,gender:p.gender??"남자",birthPlace:x?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",mingSikType:p.mingSikType??"야자시",DayChangeRule:p.mingSikType==="인시"?"인시일수론":"자시일수론",folder:F,calendarType:p.calendarType??"solar",id:t.id,correctedLocal:t.correctedLocal??"",ganji:t.ganji??"",dir:M,corrected:vt,dateObj:p.dateObj||new Date,dayStem:p.dayStem||"갑",ganjiText:p.ganjiText||"갑자년 갑자월 갑자일 갑자시"},{correctedLocal:W,ganji:et}=x2(H),ct={...H,correctedLocal:W,ganji:et};if(ct.folder&&!T.includes(ct.folder)&&!k.includes(ct.folder)){const V=[...k,ct.folder];A(V),localStorage.setItem(O_,JSON.stringify(V))}l(t.id,ct),m(!1),i&&i()},O=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"이름"}),g.jsx("input",{className:Fm,value:p.name||"",onChange:B=>y({...p,name:B.target.value}),placeholder:"이름"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"생년월일 (YYYYMMDD)"}),g.jsx("input",{className:Fm,value:p.birthDay||"",onChange:B=>y({...p,birthDay:B.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:yd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>y({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200",children:"양력"})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:yd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>y({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&g.jsx("span",{className:eO,children:(()=>{try{const B=Number(p.birthDay.slice(0,4)),Y=Number(p.birthDay.slice(4,6)),J=Number(p.birthDay.slice(6,8)),Q=Km(B,Y,J);return`→ 양력 ${Q.y}-${String(Q.m).padStart(2,"0")}-${String(Q.d).padStart(2,"0")}`}catch(B){const Y=B instanceof Error?B.message:void 0;return`→ 변환 실패${Y?`: ${Y}`:""}`}})()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"태어난 시간 (HHMM)"}),g.jsx("input",{className:`${Fm} disabled:opacity-50`,value:v?"":p.birthTime||"",onChange:B=>y({...p,birthTime:B.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:v}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:C_,checked:v,onChange:B=>w(B.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200",children:"모름"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"명식 기준"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["야자시","조자시","인시"].map(B=>{const Y=`editor_ming_${B}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:yd,name:"mingSikType",checked:(p.mingSikType??"조자시")===B,onChange:()=>y({...p,mingSikType:B}),id:Y}),g.jsx("label",{htmlFor:Y,className:"text-neutral-800 dark:text-neutral-200",children:B})]},B)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"성별"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(B=>{const Y=`editor_gender_${B}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:yd,name:"gender",checked:p.gender===B,onChange:()=>y({...p,gender:B}),id:Y}),g.jsx("label",{htmlFor:Y,className:"text-neutral-800 dark:text-neutral-200",children:B})]},B)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"태어난 지역"}),g.jsx(cx,{onSelect:B=>y({...p,birthPlace:B}),value:x?"출생지선택":p.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:C_,checked:x,onChange:B=>S(B.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200",children:"모름"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"관계"}),g.jsx(_1,{value:p.relationship||"",onChange:B=>y({...p,relationship:B})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"폴더"}),g.jsx("select",{className:Jk,value:p.folder??gn,onChange:B=>{const Y=B.target.value;y(Y===gn?{...p,folder:void 0}:{...p,folder:Y})},children:P.map(B=>g.jsx("option",{value:B===gn?gn:B,children:B},B))})]}),g.jsxs("div",{children:[g.jsx("label",{className:Pi,children:"메모"}),g.jsx("textarea",{className:tO,value:p.memo||"",onChange:B=>y({...p,memo:B.target.value}),placeholder:"메모를 입력하세요"})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:L_,onClick:()=>{I(),m(!1)},children:"취소"}),g.jsx("button",{className:iO,onClick:D,children:"저장"})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:nO,onClick:()=>m(!0),children:"수정"}),g.jsx("button",{className:rO,onClick:O,children:"삭제"}),i&&g.jsx("button",{className:L_,onClick:i,children:"닫기"})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:["성별: ",t.gender]}),g.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),g.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),g.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),g.jsxs("div",{children:["관계: ",t.relationship||"-"]}),g.jsxs("div",{children:["폴더: ",t.folder??gn]})]}),t.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}const oO=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],sO=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],lO=new Set(oO),cO=new Set(sO);function B_(t){return typeof t=="string"&&t.length>=2&&lO.has(t[0])&&cO.has(t[1])}function Ke(t,...i){if(B_(t))return t;for(const o of i)if(B_(o))return o;return"甲子"}function vd(t,i){let o=null;const l=i.getTime();for(const u of t)if(u.at.getTime()<=l)o=u;else break;return o}function uO(t){const i=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function R_(t){if(!t)return null;const i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!i)return null;const[,o,l,u,d,m]=i,p=new Date(+o,+l-1,+u,+d,+m);return Number.isNaN(p.getTime())?null:p}function Yd(t){const i=t;return typeof i.name=="string"&&i.name?i.name:typeof i.title=="string"&&i.title?i.title:typeof i.memo=="string"&&i.memo?i.memo:"이름 없음"}function dO(t){const i=Co(t);return`${Yd(t)}-${i.toISOString()}`}function _d(t){const i=t;return typeof i.id=="string"&&i.id?i.id:dO(t)}function fO(t){return typeof t=="object"&&t!==null}function hO(t){return fO(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function mO(t){const i=Lo;return hO(i)?t==="classic"?i.Classic:i.Modern:t}const Xm="people_picker_order_v1";function pO(t,i,o){const l=[...t],[u]=l.splice(i,1);return l.splice(o,0,u),l}function P_({open:t,list:i,onSelect:o,onClose:l}){const[u,d]=R.useState("");R.useEffect(()=>{t||d("")},[t]);const m=R.useMemo(()=>i.map(_d),[i]),p=R.useMemo(()=>new Set(m),[m]),[y,v]=R.useState([]);R.useEffect(()=>{const A=localStorage.getItem(Xm),P=A?JSON.parse(A):[],I=P.filter(D=>p.has(D)),z=[...I,...m.filter(D=>!I.includes(D))];v(z),JSON.stringify(z)!==JSON.stringify(P)&&localStorage.setItem(Xm,JSON.stringify(z))},[m,p]);const w=A=>{v(A),localStorage.setItem(Xm,JSON.stringify(A))},x=R.useMemo(()=>{const A=new Map(i.map(I=>[_d(I),I])),P=[];for(const I of y){const z=A.get(I);z&&P.push(z)}return A.forEach((I,z)=>{y.includes(z)||P.push(I)}),P},[i,y]),S=R.useMemo(()=>{const A=u.trim().toLowerCase();return A?x.filter(P=>Yd(P).toLowerCase().includes(A)):x},[x,u]),T=u.trim()==="",k=A=>{const{destination:P,source:I,type:z}=A;if(!P||z!=="ITEM"||!T)return;const D=x.map(_d),O=pO(D,I.index,P.index);w(O)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:l}),g.jsxs("div",{className:`fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[640px] max-height-[90dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),g.jsx("button",{onClick:l,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("input",{placeholder:"이름 검색",value:u,onChange:A=>d(A.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),g.jsx(o0,{onDragEnd:k,children:g.jsx(hc,{droppableId:"people:list",type:"ITEM",children:A=>g.jsxs("div",{ref:A.innerRef,...A.droppableProps,className:"max-h-[60vh] overflow-y-auto grid grid-cols-1 gap-2",children:[S.map((P,I)=>{const z=_d(P);return g.jsx(zd,{draggableId:z,index:I,children:D=>g.jsx("div",{ref:D.innerRef,...D.draggableProps,...T?D.dragHandleProps:{},className:`w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 ${T?"cursor-grab":"cursor-default"}`,children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(jp,{className:`shrink-0 ${T?"opacity-60":"opacity-30"} text-neutral-500 dark:text-neutral-400`,size:16}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Yd(P)}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:mc(Co(P))})]}),g.jsx("button",{onClick:()=>{o(P),l()},className:"ml-2 px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 hover:opacity-90 cursor-pointer",children:"명식 선택하기"})]})})},z)}),A.placeholder,S.length===0&&g.jsx("div",{className:"text-center text-neutral-500 dark:text-neutral-400 text-sm py-6",children:"검색 결과가 없어요"})]})})})]})]})}function Wm({label:t,gzHour:i,gzDay:o,gzMonth:l,gzYear:u,dayStem:d,cardSettings:m,sinsalBaseBranch:p,sinsalMode:y,sinsalBloom:v}){const w=A=>{const P=m.showSibiUnseong?$i(d,A):"",I=m.showSibiSinsal?Ui({baseBranch:p,targetBranch:A,era:mO(y),gaehwa:!!v}):"";return{unseongText:P||void 0,shinsalText:I||void 0}},x=Ke(i).charAt(1),S=Ke(o).charAt(1),T=Ke(l).charAt(1),k=Ke(u).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",Ke(i),x],["일주",Ke(o),S],["월주",Ke(l),T],["연주",Ke(u),k]].map(([A,P,I])=>{const{unseongText:z,shinsalText:D}=w(I);return g.jsx(Ao,{label:A,gz:P,dayStem:d,settings:m,unseongText:z,shinsalText:D,hideBranchSipSin:!0,size:"sm"},`${t}-${A}`)})})]})}function gO(t){try{return t?Co(t):null}catch{return null}}function bO(t){if(!t)return"";const i=t,o=p=>typeof i[p]=="string"?String(i[p]).trim().toLowerCase():null,l=p=>typeof i[p]=="boolean"?i[p]:null,u=[o("gender"),o("sex"),o("genderType"),o("성별"),o("sexType"),o("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=l("isMale"),m=l("isFemale");return d===!0?"남":m===!0?"여":""}function js({label:t,data:i,mode:o,effectiveDate:l,onPick:u}){const d=ii(Y=>Y.settings),m=R.useMemo(()=>gO(i),[i]),p=R.useMemo(()=>{if(!i)return null;try{return af(i,i?.mingSikType)}catch{return null}},[i]),y=Ke(p?.hour),v=Ke(p?.day),w=Ke(p?.month),x=Ke(p?.year),S=R.useMemo(()=>v.charAt(0)||"갑",[v]),T=R.useMemo(()=>{if(!i)return null;try{return Ga(i)}catch{return null}},[i]),k=R.useMemo(()=>!i?.birthPlace||i.birthPlace.name==="모름"||i.birthPlace.lon===0?127.5:i.birthPlace.lon,[i]),A=i?.mingSikType??"야자시",P=R.useMemo(()=>{const Y=T?Ze(T,A).charAt(1):v.charAt(1)||"子",J=T?Be(T,k).charAt(1):x.charAt(1)||"子";return d.sinsalBase==="일지"?Y:J},[d.sinsalBase,T,A,k,v,x]),I=R.useMemo(()=>{if(o!=="묘운"||!m||!i)return null;try{const Y=D1(m,y,i.dir,120,i.mingSikType),J=j1(Y,v,i.dir,i.DayChangeRule),Q=rf(m,w,i.dir,120,i?.birthPlace?.lon??127.5),rt=O1(Q,x,i.dir,i.DayChangeRule,m),nt=l;return{si:Ke(vd(Y.events,nt)?.gz,y),il:Ke(vd(J.events,nt)?.gz,v),wl:Ke(vd(Q.events,nt)?.gz,w),yn:Ke(vd(rt.events,nt)?.gz,x)}}catch{return null}},[o,m,y,v,w,x,l,i]),z=R.useMemo(()=>{if(o!=="실시간")return null;const Y=l;return{si:Ke(ri(Y,"야자시")),il:Ke(Ze(Y,"야자시")),wl:Ke(yn(Y)),yn:Ke(Be(Y))}},[o,l]),D=i?Yd(i):"",O=m?mc(m):"",B=i?bO(i):"";return i?g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300 max-w-[calc(100%_-_100px)]",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:D}),B&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",B]}),O&&g.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:O})]}),g.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"})]}),o==="원국"&&g.jsx(Wm,{label:"원국",gzHour:y,gzDay:v,gzMonth:w,gzYear:x,dayStem:S,cardSettings:d,sinsalBaseBranch:P,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="묘운"&&I&&g.jsx(Wm,{label:"묘운",gzHour:I.si,gzDay:I.il,gzMonth:I.wl,gzYear:I.yn,dayStem:S,cardSettings:d,sinsalBaseBranch:P,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="실시간"&&z&&g.jsx(Wm,{label:"실시간",gzHour:z.si,gzDay:z.il,gzMonth:z.wl,gzYear:z.yn,dayStem:S,cardSettings:d,sinsalBaseBranch:P,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function yO({people:t=[]}){const[i,o]=R.useState(),[l,u]=R.useState(),[d,m]=R.useState(!1),[p,y]=R.useState(!1),v=R.useRef(new Date),[w,x]=R.useState(()=>uO(v.current)),S=R.useRef(R_(w)??v.current),T=R.useMemo(()=>{const z=R_(w);return z&&(S.current=z),S.current},[w]),[k,A]=R.useState(!1),[P,I]=R.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex flex-wrap gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:z=>m(z.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),g.jsx("button",{onClick:()=>y(z=>!z),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(js,{label:"원국 A",data:i,mode:"원국",effectiveDate:T,onPick:()=>A(!0)}),g.jsx(js,{label:"원국 B",data:l,mode:"원국",effectiveDate:T,onPick:()=>I(!0)}),d&&i&&g.jsx(js,{label:"묘운 A",data:i,mode:"묘운",effectiveDate:T,onPick:()=>A(!0)}),d&&l&&g.jsx(js,{label:"묘운 B",data:l,mode:"묘운",effectiveDate:T,onPick:()=>I(!0)}),p&&i&&g.jsx(js,{label:"실시간 A",data:i,mode:"실시간",effectiveDate:T,onPick:()=>A(!0)}),p&&l&&g.jsx(js,{label:"실시간 B",data:l,mode:"실시간",effectiveDate:T,onPick:()=>I(!0)})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:w,onChange:z=>x(z.target.value),className:"bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-full text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(P_,{open:k,list:t||[],onSelect:z=>o(z),onClose:()=>A(!1)}),g.jsx(P_,{open:P,list:t||[],onSelect:z=>u(z),onClose:()=>I(!1)})]})}function vO(){return g.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:g.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function _O({pillars:t,ms:i}){const{date:o,setDate:l}=ai();R.useEffect(()=>{l(new Date)},[i]);const u=d0(i),d=R.useMemo(()=>{const y=o??new Date,v=y.getFullYear(),w=String(y.getMonth()+1).padStart(2,"0"),x=String(y.getDate()).padStart(2,"0");return`${v}-${w}-${x}`},[o]),m=y=>{const v=o??new Date,[w,x,S]=y.split("-").map(Number),T=v.getHours(),k=v.getMinutes();l(new Date(w,(x??1)-1,S??1,T,k,0))},p=R.useMemo(()=>{const y=Array.isArray(t)&&t.length>=4?`${t[0]}년 ${t[1]}월 ${t[2]}일 ${t[3]}시`:"",v=u?.dae?.gz?`${u.dae.gz}대운`:null,w=u?.se?.gz?`${u.se.gz}세운`:null,x=u?.wol?.gz?`${u.wol.gz}월운`:null,S=[v,w,x].filter(Boolean).join(" ");return[y,S].filter(Boolean).join(" + ")},[t,u]);return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[p&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:p}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),g.jsx("input",{type:"date",value:d,onChange:y=>m(y.target.value),className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const S2=["갑","을","병","정","무","기","경","신","임","계"],qd=["자","축","인","묘","진","사","오","미","신","유","술","해"],xO=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function SO(t){const i=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${i}-${o}-${l}`}function xd(t,i){return t&&i?`${t}${i}`:null}function z_(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const wO={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},TO=S2,EO=["인","묘","진","사","오","미","신","유","술","해","자","축"];function H_(t,i){let o;t==="갑"||t==="기"?o="병":t==="을"||t==="경"?o="무":t==="병"||t==="신"?o="경":t==="정"||t==="임"?o="임":o="갑";const l=wO[o],u=EO.indexOf(i),d=(l+(u>=0?u:0))%10;return TO[d]}const NO=qd.slice(),MO=["인","묘","진","사","오","미","신","유","술","해","자","축"];function ks(t,i){const l=(i==="자시"?Kw:tx)[t],u=i==="자시"?NO:MO,d=qd.reduce((m,p)=>(m[p]="",m),{});for(let m=0;m<12;m++)d[u[m]]=l[m];return d}const DO={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},AO={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function jO({open:t,onClose:i,onSave:o}){const[l,u]=R.useState(null),[d,m]=R.useState({}),[p,y]=R.useState(null),[v,w]=R.useState(!0),[x,S]=R.useState(!0),[T,k]=R.useState("자시"),[A,P]=R.useState("male"),[I,z]=R.useState(null),[D,O]=R.useState(!1),[B,Y]=R.useState(null),[J,Q]=R.useState(new Set),[rt,nt]=R.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[X,$]=R.useState(!1),[K,mt]=R.useState(null),vt=pt=>{mt(pt),setTimeout(()=>mt(null),1800)},[q,F]=R.useState(!1),[at,U]=R.useState(!1);R.useEffect(()=>{if(q){const pt=setTimeout(()=>F(!1),2e3);return()=>clearTimeout(pt)}},[q]),R.useEffect(()=>{if(at){const pt=setTimeout(()=>U(!1),2e3);return()=>clearTimeout(pt)}},[at]);const M=()=>{const pt=I?.filter((dr,xn)=>J.has(xn))??[];if(pt.length===0){alert("선택된 항목이 없습니다.");return}const St=T==="자시"?"야자시":"인시",gt=pt[0],[$t,Kt,Xt]=gt.date.split("-").map(Number),Ct={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let oe=0,$e=0;if(gt.hourSlots.length>0){const dr=gt.hourSlots[0].branch,xn=Ct[dr];xn&&(oe=xn.hh,$e=xn.mi)}const Ae=new Date($t,Kt-1,Xt,oe,$e);console.log("birthTime",Ae);const Yn=new Date(Ae.getTime()-30*6e4),oi=Yn.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),si=A==="male"?"남":"여";function cr(dr,xn){const Po=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(dr),Za=xn==="남";return Po?Za?"forward":"backward":Za?"backward":"forward"}const ur=cr(gt.year.charAt(0),si),vn=Be(Yn,127.5),qn=yn(Yn,127.5),_n=Ze(Yn,St),Bo=ri(Yn,St),Ro=[`원국 : ${vn}년 ${qn}월 ${_n}일`,Bo?`${Bo}시`:null].filter(Boolean).join(" "),Zi={id:lx(),name:"커스텀명식",birthDay:`${$t}${String(Kt).padStart(2,"0")}${String(Xt).padStart(2,"0")}`,birthTime:`${String(oe).padStart(2,"0")}${String($e).padStart(2,"0")}`,gender:si,birthPlace:X?{name:"커스텀명식",lat:0,lon:127.5}:rt.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:rt.relationship??"",memo:rt.memo??"",folder:zs(rt.folder),mingSikType:rt.mingSikType??"야자시",DayChangeRule:rt.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:rt.calendarType??"solar",yearGZ:gt.year,monthGZ:gt.month,dayGZ:gt.day,hourGZ:gt.hour,ganjiText:`원국 : ${gt.year}년 ${gt.month}월 ${gt.day}일 ${gt.hour}시`,ganji:Ro,dayStem:gt.day.charAt(0),dateObj:Ae,corrected:Yn,correctedLocal:oi,dir:ur};$s.flushSync(()=>{Hi.getState().add(Zi)}),o(Zi),mt("저장 완료!"),nt({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),$(!1),i()},H=pt=>{Q(St=>{const gt=new Set(St);return gt.has(pt)?gt.delete(pt):gt.add(pt),gt})},W=v||x,et=!!(d.yearStem&&d.yearBranch),ct=!!(d.dayStem&&d.dayBranch),V=!W||et||ct,st=!!p&&p.endsWith("Stem"),Tt=!!p&&p.endsWith("Branch");function wt(pt){return pt==="yearStem"?"yearBranch":pt==="yearBranch"?"yearStem":pt==="monthStem"?"monthBranch":pt==="monthBranch"?"monthStem":pt==="dayStem"?"dayBranch":pt==="dayBranch"?"dayStem":pt==="hourStem"?"hourBranch":"hourStem"}const At=R.useCallback((pt,St)=>{if(!v||!pt.yearStem)return pt;const gt={...pt},$t=tx[pt.yearStem];if(!$t)return gt;const Kt=Ct=>$t.filter(oe=>oe.startsWith(Ct)),Xt=Ct=>$t.find(oe=>oe.endsWith(Ct));if(St==="monthStem"&&gt.monthStem){const Ct=Kt(gt.monthStem).map(oe=>oe.slice(1));return Ct.length>=2?(u(Ct.slice(0,2)),y("monthBranch"),gt):(Ct.length===1&&(gt.monthBranch=Ct[0],u(null)),gt)}if(St==="monthBranch"&&gt.monthBranch){const Ct=Xt(gt.monthBranch);return Ct&&(gt.monthStem=Ct.slice(0,1),u(null)),gt}if(St==="yearStem"){if(gt.monthStem&&!gt.monthBranch){const Ct=Kt(gt.monthStem).map(oe=>oe.slice(1));if(Ct.length>=2)return u(Ct.slice(0,2)),y("monthBranch"),gt;Ct.length===1&&(gt.monthBranch=Ct[0])}else if(gt.monthBranch&&!gt.monthStem){const Ct=Xt(gt.monthBranch);Ct&&(gt.monthStem=Ct.slice(0,1))}}return gt},[v,y]),jt=R.useCallback((pt,St)=>{if(!x||!pt.dayStem)return pt;const gt={...pt},$t=ks(pt.dayStem,T),Kt=Ct=>Object.entries($t).find(([,oe])=>oe.startsWith(Ct)),Xt=Ct=>$t[Ct];if(St==="hourStem"&&gt.hourStem){const Ct=Kt(gt.hourStem);return Ct&&(gt.hourBranch=Ct[0]),gt}if(St==="hourBranch"&&gt.hourBranch){const Ct=Xt(gt.hourBranch);return Ct&&(gt.hourStem=Ct.slice(0,1)),gt}if(St==="dayStem"){if(gt.hourStem&&!gt.hourBranch){const Ct=Kt(gt.hourStem);Ct&&(gt.hourBranch=Ct[0])}else if(gt.hourBranch&&!gt.hourStem){const Ct=Xt(gt.hourBranch);Ct&&(gt.hourStem=Ct.slice(0,1))}}return gt},[x,T]),Ht=R.useCallback(pt=>!v||!pt.yearStem?!1:pt.monthBranch&&pt.monthStem?H_(pt.yearStem,pt.monthBranch)!==pt.monthStem:!1,[v]),zt=R.useCallback(pt=>{if(!x||!pt.dayStem)return!1;if(pt.hourBranch&&pt.hourStem){const gt=ks(pt.dayStem,T)[pt.hourBranch];return gt?gt.slice(0,1)!==pt.hourStem:!1}return!1},[x,T]);R.useEffect(()=>{if(!(!x||!d.dayStem||!d.hourBranch)&&(d.hourBranch==="자"||d.hourBranch==="축")){const St=ks(d.dayStem,T)[d.hourBranch];St&&m(gt=>({...gt,hourStem:St.slice(0,1)}))}},[T,x,d.dayStem,d.hourBranch]);const Qt=R.useCallback(pt=>{if(!p)return;if(!V&&!(p==="yearStem"||p==="yearBranch"||p==="dayStem"||p==="dayBranch")){Y("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>Y(null),1500);return}let gt={...d,[p]:pt};(p==="yearStem"||p==="monthStem"||p==="monthBranch")&&(gt=At(gt,p)),(p==="dayStem"||p==="hourStem"||p==="hourBranch")&&(gt=jt(gt,p)),m(gt);let $t=!1;Ht(gt)&&(w(!1),$t=!0),zt(gt)&&(S(!1),$t=!0),$t&&vt("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),m(gt),z(null);const Kt=wt(p);y(Kt),setTimeout(()=>{const Xt={...gt};if(Xt.yearStem&&Xt.yearBranch&&!Xt.monthStem){y("monthStem");return}if(Xt.monthStem&&Xt.monthBranch&&!Xt.dayStem){y("dayStem");return}if(Xt.dayStem&&Xt.dayBranch&&!Xt.hourStem){y("hourStem");return}},0)},[p,d,V,At,jt,Ht,zt]),de=z_(d),qt=R.useCallback(async()=>{if(z(null),Y(null),!z_(d)){Y("연·월·일·시 간지를 모두 선택하세요.");return}const pt=xd(d.yearStem,d.yearBranch),St=xd(d.monthStem,d.monthBranch),gt=xd(d.dayStem,d.dayBranch),$t=xd(d.hourStem,d.hourBranch),Kt=300,Xt=[];O(!0);try{const Ct=new Date(1900,0,1,12,0,0),oe=new Date(2100,11,31,12,0,0);for(let $e=Ct.getTime();$e<=oe.getTime();$e+=24*3600*1e3){const Ae=new Date($e),Yn=T==="자시"?"야자시":"인시",oi=Be(Ae);if(oi!==pt)continue;const si=yn(Ae);if(si!==St)continue;const cr=Ze(Ae,Yn);if(cr!==gt)continue;const ur=ks(d.dayStem,T),vn=[];for(let qn=0;qn<12;qn++){const _n=qd[qn];ur[_n]===$t&&vn.push({branch:_n,time:xO[qn]})}if(vn.length!==0&&(Xt.push({date:SO(Ae),year:oi,month:si,day:cr,hour:$t,hourSlots:vn}),Xt.length>=Kt))break}Xt.length===0&&Y("일치하는 날짜가 없습니다. (범위: 1900–2100)"),z(Xt)}catch(Ct){Ct instanceof Error?Y(Ct.message):Y(String(Ct))}finally{O(!1)}},[d,T]),ue=()=>{m({}),z(null),Y(null),y(null)},ae=pt=>{z(null),pt&&m(St=>{const gt={...St};return gt.yearStem&&gt.monthBranch&&(gt.monthStem=H_(gt.yearStem,gt.monthBranch)),gt}),w(pt)},Mt=pt=>{z(null),pt&&m(St=>{const gt={...St};if(gt.dayStem&&gt.hourBranch){const Kt=ks(gt.dayStem,T)[gt.hourBranch];Kt&&(gt.hourStem=Kt.slice(0,1))}return gt}),S(pt)};if(!t)return null;const Vt=pt=>{if(z(null),k(pt),x&&d.dayStem&&d.hourBranch&&(d.hourBranch==="자"||d.hourBranch==="축")){const gt=ks(d.dayStem,pt)[d.hourBranch];gt&&m($t=>({...$t,hourStem:gt.slice(0,1)}))}};return g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:g.jsx(v0,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:v,onChange:pt=>ae(pt.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:x,onChange:pt=>Mt(pt.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:T==="자시",onChange:()=>Vt("자시")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:T==="인시",onChange:()=>Vt("인시")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"성별"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:A==="male",onChange:()=>P("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:A==="female",onChange:()=>P("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),W&&!V&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",g.jsx("br",{}),g.jsx("b",{children:"연주"})," 또는 ",g.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([pt,St])=>{const gt=!V&&!(pt==="yearStem"||pt==="yearBranch"||pt==="dayStem"||pt==="dayBranch"),$t=p===pt;return g.jsxs("button",{onClick:()=>!gt&&y(pt),disabled:gt,className:["border rounded p-2 text-center cursor-pointer",$t?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",gt?"opacity-50 cursor-not-allowed":""].join(" "),children:[St,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:d[pt]??"-"})]},pt)})}),l&&l.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),g.jsx("div",{className:"flex gap-2",children:l.map(pt=>g.jsx("button",{onClick:()=>{let St={...d,monthBranch:pt};u(null),St=At(St,"monthBranch"),m(St),y("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:pt},pt))})]}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:p?g.jsxs("div",{className:"w-full",children:[st&&g.jsxs("div",{className:"",children:[g.jsx("p",{className:"font-medium mb-2",children:"천간"}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:S2.map(pt=>g.jsx("button",{onClick:()=>Qt(pt),className:"border rounded px-2 py-1 hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:pt},pt))})]}),Tt&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"지지"}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:qd.filter(pt=>{const St=wt(p),gt=d[St];return gt?AO[pt]===DO[gt]:!0}).map(pt=>g.jsx("button",{onClick:()=>Qt(pt),className:"border rounded px-2 py-1 hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:pt},pt))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!de){F(!0);return}qt()},disabled:D,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:D?"검색 중...":"검색"})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:ue,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),g.jsx("button",{type:"button",onClick:()=>{if((I?.filter((St,gt)=>J.has(gt))??[]).length===0){U(!0);return}M()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]}),B&&g.jsx("span",{className:"text-sm text-red-600 dark:text-red-400"})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:I?I.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:"선택"}),g.jsx("th",{className:"p-1 text-center",children:"날짜"}),g.jsx("th",{className:"p-1 text-center",children:"연"}),g.jsx("th",{className:"p-1 text-center",children:"월"}),g.jsx("th",{className:"p-1 text-center",children:"일"}),g.jsx("th",{className:"p-1 text-center",children:"시"}),g.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),g.jsx("tbody",{children:I.map((pt,St)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:`selectRow-${St}`,checked:J.has(St),onChange:()=>H(St)}),g.jsx("label",{htmlFor:`selectRow-${St}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:pt.date}),g.jsx("td",{className:"p-1 text-center",children:pt.year}),g.jsx("td",{className:"p-1 text-center",children:pt.month}),g.jsx("td",{className:"p-1 text-center",children:pt.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:pt.hourSlots.map((gt,$t)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:gt.branch})},$t))})}),g.jsx("td",{className:"p-1 text-center",children:A==="male"?"남":"여"})]},`${pt.date}-${St}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),K&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:K})}),q&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),at&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",g.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const Cp=!1;function _0(t){return typeof t=="object"&&t!==null}function kO(t){return _0(t)&&"default"in t}function OO(t){return _0(t)&&typeof t.lunar2solar=="function"}function CO(t){if(!_0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function LO(t){const i=kO(t)?t.default:t;if(!OO(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,m)=>{const p=i.lunar2solar(l,u,d,!!m);return CO(p)}}}const BO=LO(Oo);function RO(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),m=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let y=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){y=w;break}if(typeof w=="number"){y=w===1;break}if(typeof w=="string"){y=w==="1"||w.toLowerCase()==="true";break}}if(l==="lunar")try{const v=BO.lunar2solar(u,d,m,y),w=`${v.cYear}${I_(v.cMonth)}${I_(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}return t}function PO(){const{list:t}=Hi(),[i,o]=R.useState(null),[l,u]=R.useState(!1),[d,m]=R.useState(!1),[p,y]=R.useState(null),[v,w]=R.useState(!1),[x,S]=R.useState(!1),T=R.useMemo(()=>t.find(D=>D.id===i)??null,[t,i]);R.useEffect(()=>{w(!0),S(!1)},[]);const k=()=>{u(!0)},A=R.useMemo(()=>{if(!T)return new Date;try{const D=RO(T);return Ga(D)}catch{return new Date}},[T]),P=R.useMemo(()=>{if(!T)return[];try{const D=Be(A,T.birthPlace?.lon),O=yn(A,T.birthPlace?.lon),B=Ze(A,T.mingSikType??"야자시"),Y=ri(A,T.mingSikType??"야자시"),J=[D,O,B,Y];return HO(J)?J:[]}catch{return[]}},[A,T]),[I,z]=R.useState(!1);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(kk,{onOpenSidebar:()=>m(!0),onAddNew:k,onOpenCustom:()=>z(!0)}),g.jsx(jO,{open:I,onClose:()=>z(!1),onSave:D=>{o(D.id),w(!1),S(!1),m(!1)}}),g.jsx(Lw,{position:"top-center"}),g.jsx(Fk,{open:d,onClose:()=>m(!1),onView:D=>{o(D.id),m(!1),w(!1),S(!1),ai.getState().resetDate()},onAddNew:k,onEdit:D=>{y(D),o(D.id),m(!1),w(!1),S(!1)}}),v&&g.jsx(BT,{}),l&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6",children:g.jsx(NA,{onSave:D=>{o(D.id),w(!1),S(!1),m(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),T&&!v&&!x&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(U7,{data:T,hourTable:T.mingSikType??"야자시"})}),g.jsx(_O,{pillars:P,ms:T}),g.jsx("div",{children:g.jsx(ik,{data:T})})]}),x&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(yO,{people:t})}),p&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(aO,{item:p,onClose:()=>{y(null)}})})}),g.jsx(Pk,{onShowToday:()=>{w(!0),S(!1)},onShowCouple:()=>{S(!0),w(!1)}}),g.jsx(vO,{})]})}const zO=t=>typeof t=="string"&&t.length>=2,HO=t=>Array.isArray(t)&&t.length===4&&t.every(zO),I_=t=>t<10?`0${t}`:`${t}`;qS.createRoot(document.getElementById("root")).render(g.jsx(R.StrictMode,{children:g.jsx(PO,{})}));
