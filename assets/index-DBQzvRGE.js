function LE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function _i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var R_={exports:{}},zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function GG(){if(zC)return zh;zC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return zh.Fragment=t,zh.jsx=n,zh.jsxs=n,zh}var UC;function YG(){return UC||(UC=1,R_.exports=GG()),R_.exports}var g=YG();const G5="harim.theme",Sk="harim.settings.v1";function Y5(){try{const e=localStorage.getItem(G5);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(Sk);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function q5(e){try{localStorage.setItem(G5,e);const t=localStorage.getItem(Sk),n=t?JSON.parse(t):{};localStorage.setItem(Sk,JSON.stringify({...n,theme:e}))}catch{}}function K5(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=Y5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");K5(e)}catch{}})();var L_={exports:{}},Uh={},I_={exports:{}},$_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function qG(){return FC||(FC=1,(function(e){function t(Y,J){var ee=Y.length;Y.push(J);e:for(;0<ee;){var le=ee-1>>>1,oe=Y[le];if(0<i(oe,J))Y[le]=J,Y[ee]=oe,ee=le;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var J=Y[0],ee=Y.pop();if(ee!==J){Y[0]=ee;e:for(var le=0,oe=Y.length,B=oe>>>1;le<B;){var V=2*(le+1)-1,ne=Y[V],se=V+1,fe=Y[se];if(0>i(ne,ee))se<oe&&0>i(fe,ne)?(Y[le]=fe,Y[se]=ee,le=se):(Y[le]=ne,Y[V]=ee,le=V);else if(se<oe&&0>i(fe,ee))Y[le]=fe,Y[se]=ee,le=se;else break e}}return J}function i(Y,J){var ee=Y.sortIndex-J.sortIndex;return ee!==0?ee:Y.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,b=3,y=!1,k=!1,w=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=Y)r(d),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(d)}}function D(Y){if(w=!1,C(Y),!k)if(n(u)!==null)k=!0,P||(P=!0,z());else{var J=n(d);J!==null&&X(D,J.startTime-Y)}}var P=!1,I=-1,U=5,K=-1;function q(){return S?!0:!(e.unstable_now()-K<U)}function F(){if(S=!1,P){var Y=e.unstable_now();K=Y;var J=!0;try{e:{k=!1,w&&(w=!1,O(I),I=-1),y=!0;var ee=b;try{t:{for(C(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&q());){var le=p.callback;if(typeof le=="function"){p.callback=null,b=p.priorityLevel;var oe=le(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof oe=="function"){p.callback=oe,C(Y),J=!0;break t}p===n(u)&&r(u),C(Y)}else r(u);p=n(u)}if(p!==null)J=!0;else{var B=n(d);B!==null&&X(D,B.startTime-Y),J=!1}}break e}finally{p=null,b=ee,y=!1}J=void 0}}finally{J?z():P=!1}}}var z;if(typeof j=="function")z=function(){j(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Z=W.port2;W.port1.onmessage=F,z=function(){Z.postMessage(null)}}else z=function(){A(F,0)};function X(Y,J){I=A(function(){Y(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ee=b;b=J;try{return Y()}finally{b=ee}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=b;b=Y;try{return J()}finally{b=ee}},e.unstable_scheduleCallback=function(Y,J,ee){var le=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,Y){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,Y={id:h++,callback:J,priorityLevel:Y,startTime:ee,expirationTime:oe,sortIndex:-1},ee>le?(Y.sortIndex=ee,t(d,Y),n(u)===null&&Y===n(d)&&(w?(O(I),I=-1):w=!0,X(D,ee-le))):(Y.sortIndex=oe,t(u,Y),k||y||(k=!0,P||(P=!0,z()))),Y},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Y){var J=b;return function(){var ee=b;b=J;try{return Y.apply(this,arguments)}finally{b=ee}}}})($_)),$_}var HC;function KG(){return HC||(HC=1,I_.exports=qG()),I_.exports}var B_={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function WG(){if(GC)return ut;GC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function A(B,V,ne){this.props=B,this.context=V,this.refs=S,this.updater=ne||k}A.prototype.isReactComponent={},A.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=A.prototype;function j(B,V,ne){this.props=B,this.context=V,this.refs=S,this.updater=ne||k}var C=j.prototype=new O;C.constructor=j,w(C,A.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function K(B,V,ne){var se=ne.ref;return{$$typeof:e,type:B,key:V,ref:se!==void 0?se:null,props:ne}}function q(B,V){return K(B.type,V,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ne){return V[ne]})}var W=/\/+/g;function Z(B,V){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):V.toString(36)}function X(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(V){B.status==="pending"&&(B.status="fulfilled",B.value=V)},function(V){B.status==="pending"&&(B.status="rejected",B.reason=V)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,V,ne,se,fe){var be=typeof B;(be==="undefined"||be==="boolean")&&(B=null);var ye=!1;if(B===null)ye=!0;else switch(be){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(B.$$typeof){case e:case t:ye=!0;break;case h:return ye=B._init,Y(ye(B._payload),V,ne,se,fe)}}if(ye)return fe=fe(B),ye=se===""?"."+Z(B,0):se,D(fe)?(ne="",ye!=null&&(ne=ye.replace(W,"$&/")+"/"),Y(fe,V,ne,"",function(ke){return ke})):fe!=null&&(F(fe)&&(fe=q(fe,ne+(fe.key==null||B&&B.key===fe.key?"":(""+fe.key).replace(W,"$&/")+"/")+ye)),V.push(fe)),1;ye=0;var Te=se===""?".":se+":";if(D(B))for(var re=0;re<B.length;re++)se=B[re],be=Te+Z(se,re),ye+=Y(se,V,ne,be,fe);else if(re=y(B),typeof re=="function")for(B=re.call(B),re=0;!(se=B.next()).done;)se=se.value,be=Te+Z(se,re++),ye+=Y(se,V,ne,be,fe);else if(be==="object"){if(typeof B.then=="function")return Y(X(B),V,ne,se,fe);throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(B,V,ne){if(B==null)return B;var se=[],fe=0;return Y(B,se,"","",function(be){return V.call(ne,be,fe++)}),se}function ee(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(ne){(B._status===0||B._status===-1)&&(B._status=1,B._result=ne)},function(ne){(B._status===0||B._status===-1)&&(B._status=2,B._result=ne)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var le=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},oe={map:J,forEach:function(B,V,ne){J(B,function(){V.apply(this,arguments)},ne)},count:function(B){var V=0;return J(B,function(){V++}),V},toArray:function(B){return J(B,function(V){return V})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ut.Activity=p,ut.Children=oe,ut.Component=A,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=j,ut.StrictMode=r,ut.Suspense=u,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ut.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},ut.cache=function(B){return function(){return B.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(B,V,ne){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var se=w({},B.props),fe=B.key;if(V!=null)for(be in V.key!==void 0&&(fe=""+V.key),V)!U.call(V,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&V.ref===void 0||(se[be]=V[be]);var be=arguments.length-2;if(be===1)se.children=ne;else if(1<be){for(var ye=Array(be),Te=0;Te<be;Te++)ye[Te]=arguments[Te+2];se.children=ye}return K(B.type,fe,se)},ut.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},ut.createElement=function(B,V,ne){var se,fe={},be=null;if(V!=null)for(se in V.key!==void 0&&(be=""+V.key),V)U.call(V,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=V[se]);var ye=arguments.length-2;if(ye===1)fe.children=ne;else if(1<ye){for(var Te=Array(ye),re=0;re<ye;re++)Te[re]=arguments[re+2];fe.children=Te}if(B&&B.defaultProps)for(se in ye=B.defaultProps,ye)fe[se]===void 0&&(fe[se]=ye[se]);return K(B,be,fe)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(B){return{$$typeof:l,render:B}},ut.isValidElement=F,ut.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:ee}},ut.memo=function(B,V){return{$$typeof:d,type:B,compare:V===void 0?null:V}},ut.startTransition=function(B){var V=I.T,ne={};I.T=ne;try{var se=B(),fe=I.S;fe!==null&&fe(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(P,le)}catch(be){le(be)}finally{V!==null&&ne.types!==null&&(V.types=ne.types),I.T=V}},ut.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ut.use=function(B){return I.H.use(B)},ut.useActionState=function(B,V,ne){return I.H.useActionState(B,V,ne)},ut.useCallback=function(B,V){return I.H.useCallback(B,V)},ut.useContext=function(B){return I.H.useContext(B)},ut.useDebugValue=function(){},ut.useDeferredValue=function(B,V){return I.H.useDeferredValue(B,V)},ut.useEffect=function(B,V){return I.H.useEffect(B,V)},ut.useEffectEvent=function(B){return I.H.useEffectEvent(B)},ut.useId=function(){return I.H.useId()},ut.useImperativeHandle=function(B,V,ne){return I.H.useImperativeHandle(B,V,ne)},ut.useInsertionEffect=function(B,V){return I.H.useInsertionEffect(B,V)},ut.useLayoutEffect=function(B,V){return I.H.useLayoutEffect(B,V)},ut.useMemo=function(B,V){return I.H.useMemo(B,V)},ut.useOptimistic=function(B,V){return I.H.useOptimistic(B,V)},ut.useReducer=function(B,V,ne){return I.H.useReducer(B,V,ne)},ut.useRef=function(B){return I.H.useRef(B)},ut.useState=function(B){return I.H.useState(B)},ut.useSyncExternalStore=function(B,V,ne){return I.H.useSyncExternalStore(B,V,ne)},ut.useTransition=function(){return I.H.useTransition()},ut.version="19.2.1",ut}var YC;function hf(){return YC||(YC=1,B_.exports=WG()),B_.exports}var z_={exports:{}},Dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function VG(){if(qC)return Dr;qC=1;var e=hf();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dr.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},Dr.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},Dr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Dr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Dr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Dr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dr.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Dr.requestFormReset=function(u){r.d.r(u)},Dr.unstable_batchedUpdates=function(u,d){return u(d)},Dr.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},Dr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Dr.version="19.2.1",Dr}var KC;function W5(){if(KC)return z_.exports;KC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),z_.exports=VG(),z_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function ZG(){if(WC)return Uh;WC=1;var e=KG(),t=hf(),n=W5();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,x=c;;){var T=m.return;if(T===null)break;var N=T.alternate;if(N===null){if(x=T.return,x!==null){m=x;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===m)return u(T),s;if(N===x)return u(T),c;N=N.sibling}throw Error(r(188))}if(m.return!==x.return)m=T,x=N;else{for(var $=!1,G=T.child;G;){if(G===m){$=!0,m=T,x=N;break}if(G===x){$=!0,x=T,m=N;break}G=G.sibling}if(!$){for(G=N.child;G;){if(G===m){$=!0,m=N,x=T;break}if(G===x){$=!0,x=N,m=T;break}G=G.sibling}if(!$)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var W=Symbol.for("react.client.reference");function Z(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===W?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case K:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case j:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return c=s.displayName||null,c!==null?c:Z(s.type)||"Memo";case U:c=s._payload,s=s._init;try{return Z(s(c))}catch{}}return null}var X=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},le=[],oe=-1;function B(s){return{current:s}}function V(s){0>oe||(s.current=le[oe],le[oe]=null,oe--)}function ne(s,c){oe++,le[oe]=s.current,s.current=c}var se=B(null),fe=B(null),be=B(null),ye=B(null);function Te(s,c){switch(ne(be,c),ne(fe,s),ne(se,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?cC(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=cC(c),s=uC(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(se),ne(se,s)}function re(){V(se),V(fe),V(be)}function ke(s){s.memoizedState!==null&&ne(ye,s);var c=se.current,m=uC(c,s.type);c!==m&&(ne(fe,s),ne(se,m))}function _e(s){fe.current===s&&(V(se),V(fe)),ye.current===s&&(V(ye),Lh._currentValue=ee)}var ae,Ue;function Fe(s){if(ae===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);ae=c&&c[1]||"",Ue=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+s+Ue}var Ce=!1;function Pe(s,c){if(!s||Ce)return"";Ce=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ve){var ge=ve}Reflect.construct(s,[],je)}else{try{je.call()}catch(ve){ge=ve}s.call(je.prototype)}}else{try{throw Error()}catch(ve){ge=ve}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ve){if(ve&&ge&&typeof ve.stack=="string")return[ve.stack,ge.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),$=N[0],G=N[1];if($&&G){var te=$.split(`
`),me=G.split(`
`);for(T=x=0;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;for(;T<me.length&&!me[T].includes("DetermineComponentFrameRoot");)T++;if(x===te.length||T===me.length)for(x=te.length-1,T=me.length-1;1<=x&&0<=T&&te[x]!==me[T];)T--;for(;1<=x&&0<=T;x--,T--)if(te[x]!==me[T]){if(x!==1||T!==1)do if(x--,T--,0>T||te[x]!==me[T]){var Se=`
`+te[x].replace(" at new "," at ");return s.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",s.displayName)),Se}while(1<=x&&0<=T);break}}}finally{Ce=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Fe(m):""}function Ge(s,c){switch(s.tag){case 26:case 27:case 5:return Fe(s.type);case 16:return Fe("Lazy");case 13:return s.child!==c&&c!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return Pe(s.type,!1);case 11:return Pe(s.type.render,!1);case 1:return Pe(s.type,!0);case 31:return Fe("Activity");default:return""}}function Ne(s){try{var c="",m=null;do c+=Ge(s,m),m=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var De=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,st=e.unstable_cancelCallback,ce=e.unstable_shouldYield,Oe=e.unstable_requestPaint,ze=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,Et=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Jt=e.unstable_NormalPriority,zr=e.unstable_LowPriority,Ur=e.unstable_IdlePriority,Zi=e.log,io=e.unstable_setDisableYieldValue,It=null,an=null;function Fr(s){if(typeof Zi=="function"&&io(s),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(It,s)}catch{}}var Kn=Math.clz32?Math.clz32:Me,Go=Math.log,If=Math.LN2;function Me(s){return s>>>=0,s===0?32:31-(Go(s)/If|0)|0}var nt=256,Dt=262144,br=4194304;function ti(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Nu(s,c,m){var x=s.pendingLanes;if(x===0)return 0;var T=0,N=s.suspendedLanes,$=s.pingedLanes;s=s.warmLanes;var G=x&134217727;return G!==0?(x=G&~N,x!==0?T=ti(x):($&=G,$!==0?T=ti($):m||(m=G&~s,m!==0&&(T=ti(m))))):(G=x&~N,G!==0?T=ti(G):$!==0?T=ti($):m||(m=x&~s,m!==0&&(T=ti(m)))),T===0?0:c!==0&&c!==T&&(c&N)===0&&(N=T&-T,m=c&-c,N>=m||N===32&&(m&4194048)!==0)?c:T}function tc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Fx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wp(){var s=br;return br<<=1,(br&62914560)===0&&(br=4194304),s}function $f(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Yo(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Hx(s,c,m,x,T,N){var $=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,me=s.hiddenUpdates;for(m=$&~m;0<m;){var Se=31-Kn(m),je=1<<Se;G[Se]=0,te[Se]=-1;var ge=me[Se];if(ge!==null)for(me[Se]=null,Se=0;Se<ge.length;Se++){var ve=ge[Se];ve!==null&&(ve.lane&=-536870913)}m&=~je}x!==0&&Vp(s,x,0),N!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=N&~($&~c))}function Vp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-Kn(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|m&261930}function Zp(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-Kn(m),T=1<<x;T&c|s[x]&c&&(s[x]|=c),m&=~T}}function Xp(s,c){var m=c&-c;return m=(m&42)!==0?1:ni(m),(m&(s.suspendedLanes|c))!==0?0:m}function ni(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function We(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Bf(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:DC(s.type))}function zf(s,c){var m=J.p;try{return J.p=s,c()}finally{J.p=m}}var Na=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Na,ir="__reactProps$"+Na,qo="__reactContainer$"+Na,ao="__reactEvents$"+Na,Jp="__reactListeners$"+Na,Gx="__reactHandles$"+Na,Qp="__reactResources$"+Na,nc="__reactMarker$"+Na;function Uf(s){delete s[Pn],delete s[ir],delete s[ao],delete s[Jp],delete s[Gx]}function Ko(s){var c=s[Pn];if(c)return c;for(var m=s.parentNode;m;){if(c=m[qo]||m[Pn]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=bC(s);s!==null;){if(m=s[Pn])return m;s=bC(s)}return c}s=m,m=s.parentNode}return null}function qs(s){if(s=s[Pn]||s[qo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function oo(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Ks(s){var c=s[Qp];return c||(c=s[Qp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Rn(s){s[nc]=!0}var e0=new Set,t0={};function Wo(s,c){so(s,c),so(s+"Capture",c)}function so(s,c){for(t0[s]=c,s=0;s<c.length;s++)e0.add(c[s])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ff={},Hf={};function ic(s){return De.call(Hf,s)?!0:De.call(Ff,s)?!1:rc.test(s)?Hf[s]=!0:(Ff[s]=!0,!1)}function gt(s,c,m){if(ic(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Ut(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function ri(s,c,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+x)}}function Wn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Vo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Gf(s,c,m){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,N=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return T.call(this)},set:function($){m=""+$,N.call(this,$)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return m},setValue:function($){m=""+$},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ct(s){if(!s._valueTracker){var c=Vo(s)?"checked":"value";s._valueTracker=Gf(s,c,""+s[c])}}function on(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=Vo(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function Ws(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ou=/[\n"\\]/g;function Qt(s){return s.replace(Ou,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Yf(s,c,m,x,T,N,$,G){s.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.type=$:s.removeAttribute("type"),c!=null?$==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Wn(c)):s.value!==""+Wn(c)&&(s.value=""+Wn(c)):$!=="submit"&&$!=="reset"||s.removeAttribute("value"),c!=null?Oa(s,$,Wn(c)):m!=null?Oa(s,$,Wn(m)):x!=null&&s.removeAttribute("value"),T==null&&N!=null&&(s.defaultChecked=!!N),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Wn(G):s.removeAttribute("name")}function ac(s,c,m,x,T,N,$,G){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),c!=null||m!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){ct(s);return}m=m!=null?""+Wn(m):"",c=c!=null?""+Wn(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}x=x??T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=G?s.checked:!!x,s.defaultChecked=!!x,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(s.name=$),ct(s)}function Oa(s,c,m){c==="number"&&Ws(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Yt(s,c,m,x){if(s=s.options,c){c={};for(var T=0;T<m.length;T++)c["$"+m[T]]=!0;for(m=0;m<s.length;m++)T=c.hasOwnProperty("$"+s[m].value),s[m].selected!==T&&(s[m].selected=T),T&&x&&(s[m].defaultSelected=!0)}else{for(m=""+Wn(m),c=null,T=0;T<s.length;T++){if(s[T].value===m){s[T].selected=!0,x&&(s[T].defaultSelected=!0);return}c!==null||s[T].disabled||(c=s[T])}c!==null&&(c.selected=!0)}}function lo(s,c,m){if(c!=null&&(c=""+Wn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Wn(m):""}function Vs(s,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(r(92));if(X(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Wn(c),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x),ct(s)}function Xi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var qf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zs(s,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,m):typeof m!="number"||m===0||qf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function Cu(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var T in c)x=c[T],c.hasOwnProperty(T)&&m[T]!==x&&Zs(s,T,x)}else for(var N in c)c.hasOwnProperty(N)&&Zs(s,N,c[N])}function oc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(s){return Kf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ii(){}var Du=null;function sc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Js=null,ot=null;function Ei(s){var c=qs(s);if(c&&(s=c.stateNode)){var m=s[ir]||null;e:switch(s=c.stateNode,c.type){case"input":if(Yf(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Qt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var T=x[ir]||null;if(!T)throw Error(r(90));Yf(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===s.form&&on(x)}break e;case"textarea":lo(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Yt(s,!!m.multiple,c,!1)}}}var Pt=!1;function Wf(s,c,m){if(Pt)return s(c,m);Pt=!0;try{var x=s(c);return x}finally{if(Pt=!1,(Js!==null||ot!==null)&&(X0(),Js&&(c=Js,s=ot,ot=Js=null,Ei(c),s)))for(c=0;c<s.length;c++)Ei(s[c])}}function Zo(s,c){var m=s.stateNode;if(m===null)return null;var x=m[ir]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(Ti)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{lc=!1}var Ji=null,Xo=null,wn=null;function co(){if(wn)return wn;var s,c=Xo,m=c.length,x,T="value"in Ji?Ji.value:Ji.textContent,N=T.length;for(s=0;s<m&&c[s]===T[s];s++);var $=m-s;for(x=1;x<=$&&c[m-x]===T[N-x];x++);return wn=T.slice(s,1<x?1-x:void 0)}function cc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function uc(){return!0}function n0(){return!1}function yr(s){function c(m,x,T,N,$){this._reactName=m,this._targetInst=T,this.type=x,this.nativeEvent=N,this.target=$,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?uc:n0,this.isPropagationStopped=n0,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),c}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=yr(Ca),Qs=p({},Ca,{view:0,detail:0}),xt=yr(Qs),Vf,Hr,Ma,dc=p({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:th,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ma&&(Ma&&s.type==="mousemove"?(Vf=s.screenX-Ma.screenX,Hr=s.screenY-Ma.screenY):Hr=Vf=0,Ma=s),Vf)},movementY:function(s){return"movementY"in s?s.movementY:Hr}}),r0=yr(dc),Zf=p({},dc,{dataTransfer:0}),Yx=yr(Zf),i0=p({},Qs,{relatedTarget:0}),Xf=yr(i0),qx=p({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=yr(qx),Kx=p({},Ca,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qi=yr(Kx),Wx=p({},Ca,{data:0}),Qf=yr(Wx),uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=o0[s])?!!c[s]:!1}function th(){return eh}var s0=p({},Qs,{key:function(s){if(s.key){var c=uo[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=cc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?a0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:th,charCode:function(s){return s.type==="keypress"?cc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),l0=yr(s0),Vx=p({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c0=yr(Vx),nh=p({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:th}),Zx=yr(nh),u0=p({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=yr(u0),Ru=p({},dc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=yr(Ru),Xx=p({},Ca,{newState:0,oldState:0}),fc=yr(Xx),ai=[9,13,27,32],Lu=Ti&&"CompositionEvent"in window,el=null;Ti&&"documentMode"in document&&(el=document.documentMode);var Jx=Ti&&"TextEvent"in window&&!el,Iu=Ti&&(!Lu||el&&8<el&&11>=el),$u=" ",f0=!1;function h0(s,c){switch(s){case"keyup":return ai.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var tl=!1;function ji(s,c){switch(s){case"compositionend":return rh(c);case"keypress":return c.which!==32?null:(f0=!0,$u);case"textInput":return s=c.data,s===$u&&f0?null:s;default:return null}}function nl(s,c){if(tl)return s==="compositionend"||!Lu&&h0(s,c)?(s=co(),wn=Xo=Ji=null,tl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Iu&&c.locale!=="ko"?null:c.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ea(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Qx[s.type]:c==="textarea"}function m0(s,c,m,x){Js?ot?ot.push(x):ot=[x]:Js=x,c=ig(c,"onChange"),0<c.length&&(m=new Pu("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var ta=null,hc=null;function mc(s){rC(s,0)}function pc(s){var c=oo(s);if(on(c))return s}function gc(s,c){if(s==="change")return c}var p0=!1;if(Ti){var na;if(Ti){var rl="oninput"in document;if(!rl){var g0=document.createElement("div");g0.setAttribute("oninput","return;"),rl=typeof g0.oninput=="function"}na=rl}else na=!1;p0=na&&(!document.documentMode||9<document.documentMode)}function Bu(){ta&&(ta.detachEvent("onpropertychange",b0),hc=ta=null)}function b0(s){if(s.propertyName==="value"&&pc(hc)){var c=[];m0(c,hc,s,sc(s)),Wf(mc,c)}}function Da(s,c,m){s==="focusin"?(Bu(),ta=c,hc=m,ta.attachEvent("onpropertychange",b0)):s==="focusout"&&Bu()}function ew(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pc(hc)}function il(s,c){if(s==="click")return pc(c)}function tw(s,c){if(s==="input"||s==="change")return pc(c)}function Pa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var ar=typeof Object.is=="function"?Object.is:Pa;function al(s,c){if(ar(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var T=m[x];if(!De.call(c,T)||!ar(s[T],c[T]))return!1}return!0}function zu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bc(s,c){var m=zu(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=zu(m)}}function Uu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Uu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function yc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Ws(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=Ws(s.document)}return c}function fo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Fu=Ti&&"documentMode"in document&&11>=document.documentMode,ho=null,Hu=null,vc=null,ol=!1;function y0(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ol||ho==null||ho!==Ws(x)||(x=ho,"selectionStart"in x&&fo(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),vc&&al(vc,x)||(vc=x,x=ig(Hu,"onSelect"),0<x.length&&(c=new Pu("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=ho)))}function mo(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var sl={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionrun:mo("Transition","TransitionRun"),transitionstart:mo("Transition","TransitionStart"),transitioncancel:mo("Transition","TransitionCancel"),transitionend:mo("Transition","TransitionEnd")},Gu={},v0={};Ti&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function or(s){if(Gu[s])return Gu[s];if(!sl[s])return s;var c=sl[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in v0)return Gu[s]=c[m];return s}var xc=or("animationend"),x0=or("animationiteration"),wc=or("animationstart"),nw=or("transitionrun"),w0=or("transitionstart"),rw=or("transitioncancel"),ll=or("transitionend"),_0=new Map,po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");po.push("scrollEnd");function oi(s,c){_0.set(s,c),Wo(c,[s])}var _c=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},si=[],Cr=0,Yu=0;function Sc(){for(var s=Cr,c=Yu=Cr=0;c<s;){var m=si[c];si[c++]=null;var x=si[c];si[c++]=null;var T=si[c];si[c++]=null;var N=si[c];if(si[c++]=null,x!==null&&T!==null){var $=x.pending;$===null?T.next=T:(T.next=$.next,$.next=T),x.pending=T}N!==0&&cl(m,T,N)}}function go(s,c,m,x){si[Cr++]=s,si[Cr++]=c,si[Cr++]=m,si[Cr++]=x,Yu|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function ih(s,c,m,x){return go(s,c,m,x),kc(s)}function ra(s,c){return go(s,null,null,c),kc(s)}function cl(s,c,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var T=!1,N=s.return;N!==null;)N.childLanes|=m,x=N.alternate,x!==null&&(x.childLanes|=m),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(T=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,T&&c!==null&&(T=31-Kn(m),s=N.hiddenUpdates,x=s[T],x===null?s[T]=[c]:x.push(c),c.lane=m|536870912),N):null}function kc(s){if(50<Nh)throw Nh=0,a_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Qo={};function iw(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(s,c,m,x){return new iw(s,c,m,x)}function qu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ia(s,c){var m=s.alternate;return m===null?(m=Mr(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function ah(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Ec(s,c,m,x,T,N){var $=0;if(x=s,typeof s=="function")qu(s)&&($=1);else if(typeof s=="string")$=MG(s,m,se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case K:return s=Mr(31,m,c,T),s.elementType=K,s.lanes=N,s;case w:return es(m.children,T,N,c);case S:$=8,T|=24;break;case A:return s=Mr(12,m,c,T|2),s.elementType=A,s.lanes=N,s;case D:return s=Mr(13,m,c,T),s.elementType=D,s.lanes=N,s;case P:return s=Mr(19,m,c,T),s.elementType=P,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:$=10;break e;case O:$=9;break e;case C:$=11;break e;case I:$=14;break e;case U:$=16,x=null;break e}$=29,m=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=Mr($,m,c,T),c.elementType=s,c.type=x,c.lanes=N,c}function es(s,c,m,x){return s=Mr(7,s,x,c),s.lanes=m,s}function Ku(s,c,m){return s=Mr(6,s,null,c),s.lanes=m,s}function oh(s){var c=Mr(18,null,null,0);return c.stateNode=s,c}function sh(s,c,m){return c=Mr(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function v(s,c){if(typeof s=="object"&&s!==null){var m=f.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Ne(c)},f.set(s,c),c)}return{value:s,source:c,stack:Ne(c)}}var E=[],M=0,R=null,H=0,Q=[],de=0,pe=null,Ae=1,$e="";function Ze(s,c){E[M++]=H,E[M++]=R,R=s,H=c}function ft(s,c,m){Q[de++]=Ae,Q[de++]=$e,Q[de++]=pe,pe=s;var x=Ae;s=$e;var T=32-Kn(x)-1;x&=~(1<<T),m+=1;var N=32-Kn(c)+T;if(30<N){var $=T-T%5;N=(x&(1<<$)-1).toString(32),x>>=$,T-=$,Ae=1<<32-Kn(c)+T|m<<T|x,$e=N+s}else Ae=1<<N|m<<T|x,$e=s}function Vn(s){s.return!==null&&(Ze(s,1),ft(s,1,0))}function _n(s){for(;s===R;)R=E[--M],E[M]=null,H=E[--M],E[M]=null;for(;s===pe;)pe=Q[--de],Q[de]=null,$e=Q[--de],Q[de]=null,Ae=Q[--de],Q[de]=null}function Gr(s,c){Q[de++]=Ae,Q[de++]=$e,Q[de++]=pe,Ae=c.id,$e=c.overflow,pe=s}var Tt=null,At=null,bt=!1,bo=null,li=!1,Wu=Error(r(519));function yo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tc(v(c,s)),Wu}function lh(s){var c=s.stateNode,m=s.type,x=s.memoizedProps;switch(c[Pn]=s,c[ir]=x,m){case"dialog":vt("cancel",c),vt("close",c);break;case"iframe":case"object":case"embed":vt("load",c);break;case"video":case"audio":for(m=0;m<Ch.length;m++)vt(Ch[m],c);break;case"source":vt("error",c);break;case"img":case"image":case"link":vt("error",c),vt("load",c);break;case"details":vt("toggle",c);break;case"input":vt("invalid",c),ac(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":vt("invalid",c);break;case"textarea":vt("invalid",c),Vs(c,x.value,x.defaultValue,x.children)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||sC(c.textContent,m)?(x.popover!=null&&(vt("beforetoggle",c),vt("toggle",c)),x.onScroll!=null&&vt("scroll",c),x.onScrollEnd!=null&&vt("scrollend",c),x.onClick!=null&&(c.onclick=ii),c=!0):c=!1,c||yo(s,!0)}function pn(s){for(Tt=s.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Tt=Tt.return}}function Ra(s){if(s!==Tt)return!1;if(!bt)return pn(s),bt=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||x_(s.type,s.memoizedProps)),m=!m),m&&At&&yo(s),pn(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));At=gC(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));At=gC(s)}else c===27?(c=At,Sl(s.type)?(s=E_,E_=null,At=s):At=c):At=Tt?oa(s.stateNode.nextSibling):null;return!0}function ts(){At=Tt=null,bt=!1}function ch(){var s=bo;return s!==null&&(fi===null?fi=s:fi.push.apply(fi,s),bo=null),s}function Tc(s){bo===null?bo=[s]:bo.push(s)}var Ac=B(null),vo=null,La=null;function ul(s,c,m){ne(Ac,c._currentValue),c._currentValue=m}function ns(s){s._currentValue=Ac.current,V(Ac)}function aw(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function ow(s,c,m,x){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var N=T.dependencies;if(N!==null){var $=T.child;N=N.firstContext;e:for(;N!==null;){var G=N;N=T;for(var te=0;te<c.length;te++)if(G.context===c[te]){N.lanes|=m,G=N.alternate,G!==null&&(G.lanes|=m),aw(N.return,m,s),x||($=null);break e}N=G.next}}else if(T.tag===18){if($=T.return,$===null)throw Error(r(341));$.lanes|=m,N=$.alternate,N!==null&&(N.lanes|=m),aw($,m,s),$=null}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===s){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}}function Vu(s,c,m,x){s=null;for(var T=c,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var $=T.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var G=T.type;ar(T.pendingProps.value,$.value)||(s!==null?s.push(G):s=[G])}}else if(T===ye.current){if($=T.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Lh):s=[Lh])}T=T.return}s!==null&&ow(c,s,m,x),c.flags|=262144}function S0(s){for(s=s.firstContext;s!==null;){if(!ar(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function jc(s){vo=s,La=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vr(s){return qj(vo,s)}function k0(s,c){return vo===null&&jc(s),qj(s,c)}function qj(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},La===null){if(s===null)throw Error(r(308));La=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else La=La.next=c;return m}var jH=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},NH=e.unstable_scheduleCallback,OH=e.unstable_NormalPriority,Ln={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sw(){return{controller:new jH,data:new Map,refCount:0}}function uh(s){s.refCount--,s.refCount===0&&NH(OH,function(){s.controller.abort()})}var dh=null,lw=0,Zu=0,Xu=null;function CH(s,c){if(dh===null){var m=dh=[];lw=0,Zu=d_(),Xu={status:"pending",value:void 0,then:function(x){m.push(x)}}}return lw++,c.then(Kj,Kj),c}function Kj(){if(--lw===0&&dh!==null){Xu!==null&&(Xu.status="fulfilled");var s=dh;dh=null,Zu=0,Xu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function MH(s,c){var m=[],x={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var T=0;T<m.length;T++)(0,m[T])(c)},function(T){for(x.status="rejected",x.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),x}var Wj=Y.S;Y.S=function(s,c){CO=ze(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&CH(s,c),Wj!==null&&Wj(s,c)};var Nc=B(null);function cw(){var s=Nc.current;return s!==null?s:qt.pooledCache}function E0(s,c){c===null?ne(Nc,Nc.current):ne(Nc,c.pool)}function Vj(){var s=cw();return s===null?null:{parent:Ln._currentValue,pool:s}}var Ju=Error(r(460)),uw=Error(r(474)),T0=Error(r(542)),A0={then:function(){}};function Zj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xj(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(ii,ii),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Qj(s),s;default:if(typeof c.status=="string")c.then(ii,ii);else{if(s=qt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var T=c;T.status="fulfilled",T.value=x}},function(x){if(c.status==="pending"){var T=c;T.status="rejected",T.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Qj(s),s}throw Cc=c,Ju}}function Oc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Cc=m,Ju):m}}var Cc=null;function Jj(){if(Cc===null)throw Error(r(459));var s=Cc;return Cc=null,s}function Qj(s){if(s===Ju||s===T0)throw Error(r(483))}var Qu=null,fh=0;function j0(s){var c=fh;return fh+=1,Qu===null&&(Qu=[]),Xj(Qu,s,c)}function hh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function N0(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function eN(s){function c(ue,ie){if(s){var he=ue.deletions;he===null?(ue.deletions=[ie],ue.flags|=16):he.push(ie)}}function m(ue,ie){if(!s)return null;for(;ie!==null;)c(ue,ie),ie=ie.sibling;return null}function x(ue){for(var ie=new Map;ue!==null;)ue.key!==null?ie.set(ue.key,ue):ie.set(ue.index,ue),ue=ue.sibling;return ie}function T(ue,ie){return ue=ia(ue,ie),ue.index=0,ue.sibling=null,ue}function N(ue,ie,he){return ue.index=he,s?(he=ue.alternate,he!==null?(he=he.index,he<ie?(ue.flags|=67108866,ie):he):(ue.flags|=67108866,ie)):(ue.flags|=1048576,ie)}function $(ue){return s&&ue.alternate===null&&(ue.flags|=67108866),ue}function G(ue,ie,he,Ee){return ie===null||ie.tag!==6?(ie=Ku(he,ue.mode,Ee),ie.return=ue,ie):(ie=T(ie,he),ie.return=ue,ie)}function te(ue,ie,he,Ee){var et=he.type;return et===w?Se(ue,ie,he.props.children,Ee,he.key):ie!==null&&(ie.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===U&&Oc(et)===ie.type)?(ie=T(ie,he.props),hh(ie,he),ie.return=ue,ie):(ie=Ec(he.type,he.key,he.props,null,ue.mode,Ee),hh(ie,he),ie.return=ue,ie)}function me(ue,ie,he,Ee){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=sh(he,ue.mode,Ee),ie.return=ue,ie):(ie=T(ie,he.children||[]),ie.return=ue,ie)}function Se(ue,ie,he,Ee,et){return ie===null||ie.tag!==7?(ie=es(he,ue.mode,Ee,et),ie.return=ue,ie):(ie=T(ie,he),ie.return=ue,ie)}function je(ue,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Ku(""+ie,ue.mode,he),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return he=Ec(ie.type,ie.key,ie.props,null,ue.mode,he),hh(he,ie),he.return=ue,he;case k:return ie=sh(ie,ue.mode,he),ie.return=ue,ie;case U:return ie=Oc(ie),je(ue,ie,he)}if(X(ie)||z(ie))return ie=es(ie,ue.mode,he,null),ie.return=ue,ie;if(typeof ie.then=="function")return je(ue,j0(ie),he);if(ie.$$typeof===j)return je(ue,k0(ue,ie),he);N0(ue,ie)}return null}function ge(ue,ie,he,Ee){var et=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return et!==null?null:G(ue,ie,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return he.key===et?te(ue,ie,he,Ee):null;case k:return he.key===et?me(ue,ie,he,Ee):null;case U:return he=Oc(he),ge(ue,ie,he,Ee)}if(X(he)||z(he))return et!==null?null:Se(ue,ie,he,Ee,null);if(typeof he.then=="function")return ge(ue,ie,j0(he),Ee);if(he.$$typeof===j)return ge(ue,ie,k0(ue,he),Ee);N0(ue,he)}return null}function ve(ue,ie,he,Ee,et){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ue=ue.get(he)||null,G(ie,ue,""+Ee,et);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:return ue=ue.get(Ee.key===null?he:Ee.key)||null,te(ie,ue,Ee,et);case k:return ue=ue.get(Ee.key===null?he:Ee.key)||null,me(ie,ue,Ee,et);case U:return Ee=Oc(Ee),ve(ue,ie,he,Ee,et)}if(X(Ee)||z(Ee))return ue=ue.get(he)||null,Se(ie,ue,Ee,et,null);if(typeof Ee.then=="function")return ve(ue,ie,he,j0(Ee),et);if(Ee.$$typeof===j)return ve(ue,ie,he,k0(ie,Ee),et);N0(ie,Ee)}return null}function Ye(ue,ie,he,Ee){for(var et=null,jt=null,Ke=ie,ht=ie=0,_t=null;Ke!==null&&ht<he.length;ht++){Ke.index>ht?(_t=Ke,Ke=null):_t=Ke.sibling;var Nt=ge(ue,Ke,he[ht],Ee);if(Nt===null){Ke===null&&(Ke=_t);break}s&&Ke&&Nt.alternate===null&&c(ue,Ke),ie=N(Nt,ie,ht),jt===null?et=Nt:jt.sibling=Nt,jt=Nt,Ke=_t}if(ht===he.length)return m(ue,Ke),bt&&Ze(ue,ht),et;if(Ke===null){for(;ht<he.length;ht++)Ke=je(ue,he[ht],Ee),Ke!==null&&(ie=N(Ke,ie,ht),jt===null?et=Ke:jt.sibling=Ke,jt=Ke);return bt&&Ze(ue,ht),et}for(Ke=x(Ke);ht<he.length;ht++)_t=ve(Ke,ue,ht,he[ht],Ee),_t!==null&&(s&&_t.alternate!==null&&Ke.delete(_t.key===null?ht:_t.key),ie=N(_t,ie,ht),jt===null?et=_t:jt.sibling=_t,jt=_t);return s&&Ke.forEach(function(jl){return c(ue,jl)}),bt&&Ze(ue,ht),et}function rt(ue,ie,he,Ee){if(he==null)throw Error(r(151));for(var et=null,jt=null,Ke=ie,ht=ie=0,_t=null,Nt=he.next();Ke!==null&&!Nt.done;ht++,Nt=he.next()){Ke.index>ht?(_t=Ke,Ke=null):_t=Ke.sibling;var jl=ge(ue,Ke,Nt.value,Ee);if(jl===null){Ke===null&&(Ke=_t);break}s&&Ke&&jl.alternate===null&&c(ue,Ke),ie=N(jl,ie,ht),jt===null?et=jl:jt.sibling=jl,jt=jl,Ke=_t}if(Nt.done)return m(ue,Ke),bt&&Ze(ue,ht),et;if(Ke===null){for(;!Nt.done;ht++,Nt=he.next())Nt=je(ue,Nt.value,Ee),Nt!==null&&(ie=N(Nt,ie,ht),jt===null?et=Nt:jt.sibling=Nt,jt=Nt);return bt&&Ze(ue,ht),et}for(Ke=x(Ke);!Nt.done;ht++,Nt=he.next())Nt=ve(Ke,ue,ht,Nt.value,Ee),Nt!==null&&(s&&Nt.alternate!==null&&Ke.delete(Nt.key===null?ht:Nt.key),ie=N(Nt,ie,ht),jt===null?et=Nt:jt.sibling=Nt,jt=Nt);return s&&Ke.forEach(function(HG){return c(ue,HG)}),bt&&Ze(ue,ht),et}function Gt(ue,ie,he,Ee){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case y:e:{for(var et=he.key;ie!==null;){if(ie.key===et){if(et=he.type,et===w){if(ie.tag===7){m(ue,ie.sibling),Ee=T(ie,he.props.children),Ee.return=ue,ue=Ee;break e}}else if(ie.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===U&&Oc(et)===ie.type){m(ue,ie.sibling),Ee=T(ie,he.props),hh(Ee,he),Ee.return=ue,ue=Ee;break e}m(ue,ie);break}else c(ue,ie);ie=ie.sibling}he.type===w?(Ee=es(he.props.children,ue.mode,Ee,he.key),Ee.return=ue,ue=Ee):(Ee=Ec(he.type,he.key,he.props,null,ue.mode,Ee),hh(Ee,he),Ee.return=ue,ue=Ee)}return $(ue);case k:e:{for(et=he.key;ie!==null;){if(ie.key===et)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){m(ue,ie.sibling),Ee=T(ie,he.children||[]),Ee.return=ue,ue=Ee;break e}else{m(ue,ie);break}else c(ue,ie);ie=ie.sibling}Ee=sh(he,ue.mode,Ee),Ee.return=ue,ue=Ee}return $(ue);case U:return he=Oc(he),Gt(ue,ie,he,Ee)}if(X(he))return Ye(ue,ie,he,Ee);if(z(he)){if(et=z(he),typeof et!="function")throw Error(r(150));return he=et.call(he),rt(ue,ie,he,Ee)}if(typeof he.then=="function")return Gt(ue,ie,j0(he),Ee);if(he.$$typeof===j)return Gt(ue,ie,k0(ue,he),Ee);N0(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ie!==null&&ie.tag===6?(m(ue,ie.sibling),Ee=T(ie,he),Ee.return=ue,ue=Ee):(m(ue,ie),Ee=Ku(he,ue.mode,Ee),Ee.return=ue,ue=Ee),$(ue)):m(ue,ie)}return function(ue,ie,he,Ee){try{fh=0;var et=Gt(ue,ie,he,Ee);return Qu=null,et}catch(Ke){if(Ke===Ju||Ke===T0)throw Ke;var jt=Mr(29,Ke,null,ue.mode);return jt.lanes=Ee,jt.return=ue,jt}finally{}}}var Mc=eN(!0),tN=eN(!1),dl=!1;function dw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function fl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hl(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Ct&2)!==0){var T=x.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),x.pending=c,c=kc(s),cl(s,null,m),c}return go(s,x,c,m),kc(s)}function mh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Zp(s,m)}}function hw(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var T=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var $={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?T=N=$:N=N.next=$,m=m.next}while(m!==null);N===null?T=N=c:N=N.next=c}else T=N=c;m={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var mw=!1;function ph(){if(mw){var s=Xu;if(s!==null)throw s}}function gh(s,c,m,x){mw=!1;var T=s.updateQueue;dl=!1;var N=T.firstBaseUpdate,$=T.lastBaseUpdate,G=T.shared.pending;if(G!==null){T.shared.pending=null;var te=G,me=te.next;te.next=null,$===null?N=me:$.next=me,$=te;var Se=s.alternate;Se!==null&&(Se=Se.updateQueue,G=Se.lastBaseUpdate,G!==$&&(G===null?Se.firstBaseUpdate=me:G.next=me,Se.lastBaseUpdate=te))}if(N!==null){var je=T.baseState;$=0,Se=me=te=null,G=N;do{var ge=G.lane&-536870913,ve=ge!==G.lane;if(ve?(wt&ge)===ge:(x&ge)===ge){ge!==0&&ge===Zu&&(mw=!0),Se!==null&&(Se=Se.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Ye=s,rt=G;ge=c;var Gt=m;switch(rt.tag){case 1:if(Ye=rt.payload,typeof Ye=="function"){je=Ye.call(Gt,je,ge);break e}je=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=rt.payload,ge=typeof Ye=="function"?Ye.call(Gt,je,ge):Ye,ge==null)break e;je=p({},je,ge);break e;case 2:dl=!0}}ge=G.callback,ge!==null&&(s.flags|=64,ve&&(s.flags|=8192),ve=T.callbacks,ve===null?T.callbacks=[ge]:ve.push(ge))}else ve={lane:ge,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Se===null?(me=Se=ve,te=je):Se=Se.next=ve,$|=ge;if(G=G.next,G===null){if(G=T.shared.pending,G===null)break;ve=G,G=ve.next,ve.next=null,T.lastBaseUpdate=ve,T.shared.pending=null}}while(!0);Se===null&&(te=je),T.baseState=te,T.firstBaseUpdate=me,T.lastBaseUpdate=Se,N===null&&(T.shared.lanes=0),yl|=$,s.lanes=$,s.memoizedState=je}}function nN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function rN(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)nN(m[s],c)}var ed=B(null),O0=B(0);function iN(s,c){s=ds,ne(O0,s),ne(ed,c),ds=s|c.baseLanes}function pw(){ne(O0,ds),ne(ed,ed.current)}function gw(){ds=O0.current,V(ed),V(O0)}var Ni=B(null),aa=null;function ml(s){var c=s.alternate;ne(Nn,Nn.current&1),ne(Ni,s),aa===null&&(c===null||ed.current!==null||c.memoizedState!==null)&&(aa=s)}function bw(s){ne(Nn,Nn.current),ne(Ni,s),aa===null&&(aa=s)}function aN(s){s.tag===22?(ne(Nn,Nn.current),ne(Ni,s),aa===null&&(aa=s)):pl()}function pl(){ne(Nn,Nn.current),ne(Ni,Ni.current)}function Oi(s){V(Ni),aa===s&&(aa=null),V(Nn)}var Nn=B(0);function C0(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||S_(m)||k_(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var rs=0,dt=null,Ft=null,In=null,M0=!1,td=!1,Dc=!1,D0=0,bh=0,nd=null,DH=0;function Sn(){throw Error(r(321))}function yw(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!ar(s[m],c[m]))return!1;return!0}function vw(s,c,m,x,T,N){return rs=N,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=s===null||s.memoizedState===null?FN:Pw,Dc=!1,N=m(x,T),Dc=!1,td&&(N=sN(c,m,x,T)),oN(s),N}function oN(s){Y.H=xh;var c=Ft!==null&&Ft.next!==null;if(rs=0,In=Ft=dt=null,M0=!1,bh=0,nd=null,c)throw Error(r(300));s===null||$n||(s=s.dependencies,s!==null&&S0(s)&&($n=!0))}function sN(s,c,m,x){dt=s;var T=0;do{if(td&&(nd=null),bh=0,td=!1,25<=T)throw Error(r(301));if(T+=1,In=Ft=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Y.H=HN,N=c(m,x)}while(td);return N}function PH(){var s=Y.H,c=s.useState()[0];return c=typeof c.then=="function"?yh(c):c,s=s.useState()[0],(Ft!==null?Ft.memoizedState:null)!==s&&(dt.flags|=1024),c}function xw(){var s=D0!==0;return D0=0,s}function ww(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function _w(s){if(M0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}M0=!1}rs=0,In=Ft=dt=null,td=!1,bh=D0=0,nd=null}function Yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?dt.memoizedState=In=s:In=In.next=s,In}function On(){if(Ft===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Ft.next;var c=In===null?dt.memoizedState:In.next;if(c!==null)In=c,Ft=s;else{if(s===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Ft=s,s={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},In===null?dt.memoizedState=In=s:In=In.next=s}return In}function P0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yh(s){var c=bh;return bh+=1,nd===null&&(nd=[]),s=Xj(nd,s,c),c=dt,(In===null?c.memoizedState:In.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?FN:Pw),s}function R0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yh(s);if(s.$$typeof===j)return vr(s)}throw Error(r(438,String(s)))}function Sw(s){var c=null,m=dt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=dt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(T){return T.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=P0(),dt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),x=0;x<s;x++)m[x]=q;return c.index++,m}function is(s,c){return typeof c=="function"?c(s):c}function L0(s){var c=On();return kw(c,Ft,s)}function kw(s,c,m){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var T=s.baseQueue,N=x.pending;if(N!==null){if(T!==null){var $=T.next;T.next=N.next,N.next=$}c.baseQueue=T=N,x.pending=null}if(N=s.baseState,T===null)s.memoizedState=N;else{c=T.next;var G=$=null,te=null,me=c,Se=!1;do{var je=me.lane&-536870913;if(je!==me.lane?(wt&je)===je:(rs&je)===je){var ge=me.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),je===Zu&&(Se=!0);else if((rs&ge)===ge){me=me.next,ge===Zu&&(Se=!0);continue}else je={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=je,$=N):te=te.next=je,dt.lanes|=ge,yl|=ge;je=me.action,Dc&&m(N,je),N=me.hasEagerState?me.eagerState:m(N,je)}else ge={lane:je,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=ge,$=N):te=te.next=ge,dt.lanes|=je,yl|=je;me=me.next}while(me!==null&&me!==c);if(te===null?$=N:te.next=G,!ar(N,s.memoizedState)&&($n=!0,Se&&(m=Xu,m!==null)))throw m;s.memoizedState=N,s.baseState=$,s.baseQueue=te,x.lastRenderedState=N}return T===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Ew(s){var c=On(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var x=m.dispatch,T=m.pending,N=c.memoizedState;if(T!==null){m.pending=null;var $=T=T.next;do N=s(N,$.action),$=$.next;while($!==T);ar(N,c.memoizedState)||($n=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),m.lastRenderedState=N}return[N,x]}function lN(s,c,m){var x=dt,T=On(),N=bt;if(N){if(m===void 0)throw Error(r(407));m=m()}else m=c();var $=!ar((Ft||T).memoizedState,m);if($&&(T.memoizedState=m,$n=!0),T=T.queue,jw(dN.bind(null,x,T,s),[s]),T.getSnapshot!==c||$||In!==null&&In.memoizedState.tag&1){if(x.flags|=2048,rd(9,{destroy:void 0},uN.bind(null,x,T,m,c),null),qt===null)throw Error(r(349));N||(rs&127)!==0||cN(x,c,m)}return m}function cN(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=dt.updateQueue,c===null?(c=P0(),dt.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function uN(s,c,m,x){c.value=m,c.getSnapshot=x,fN(c)&&hN(s)}function dN(s,c,m){return m(function(){fN(c)&&hN(s)})}function fN(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!ar(s,m)}catch{return!0}}function hN(s){var c=ra(s,2);c!==null&&hi(c,s,2)}function Tw(s){var c=Yr();if(typeof s=="function"){var m=s;if(s=m(),Dc){Fr(!0);try{m()}finally{Fr(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},c}function mN(s,c,m,x){return s.baseState=m,kw(s,Ft,typeof x=="function"?x:is)}function RH(s,c,m,x,T){if(B0(s))throw Error(r(485));if(s=c.action,s!==null){var N={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){N.listeners.push($)}};Y.T!==null?m(!0):N.isTransition=!1,x(N),m=c.pending,m===null?(N.next=c.pending=N,pN(c,N)):(N.next=m.next,c.pending=m.next=N)}}function pN(s,c){var m=c.action,x=c.payload,T=s.state;if(c.isTransition){var N=Y.T,$={};Y.T=$;try{var G=m(T,x),te=Y.S;te!==null&&te($,G),gN(s,c,G)}catch(me){Aw(s,c,me)}finally{N!==null&&$.types!==null&&(N.types=$.types),Y.T=N}}else try{N=m(T,x),gN(s,c,N)}catch(me){Aw(s,c,me)}}function gN(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){bN(s,c,x)},function(x){return Aw(s,c,x)}):bN(s,c,m)}function bN(s,c,m){c.status="fulfilled",c.value=m,yN(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,pN(s,m)))}function Aw(s,c,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,yN(c),c=c.next;while(c!==x)}s.action=null}function yN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function vN(s,c){return c}function xN(s,c){if(bt){var m=qt.formState;if(m!==null){e:{var x=dt;if(bt){if(At){t:{for(var T=At,N=li;T.nodeType!==8;){if(!N){T=null;break t}if(T=oa(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){At=oa(T.nextSibling),x=T.data==="F!";break e}}yo(x)}x=!1}x&&(c=m[0])}}return m=Yr(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vN,lastRenderedState:c},m.queue=x,m=BN.bind(null,dt,x),x.dispatch=m,x=Tw(!1),N=Dw.bind(null,dt,!1,x.queue),x=Yr(),T={state:c,dispatch:null,action:s,pending:null},x.queue=T,m=RH.bind(null,dt,T,N,m),T.dispatch=m,x.memoizedState=s,[c,m,!1]}function wN(s){var c=On();return _N(c,Ft,s)}function _N(s,c,m){if(c=kw(s,c,vN)[0],s=L0(is)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=yh(c)}catch($){throw $===Ju?T0:$}else x=c;c=On();var T=c.queue,N=T.dispatch;return m!==c.memoizedState&&(dt.flags|=2048,rd(9,{destroy:void 0},LH.bind(null,T,m),null)),[x,N,s]}function LH(s,c){s.action=c}function SN(s){var c=On(),m=Ft;if(m!==null)return _N(c,m,s);On(),c=c.memoizedState,m=On();var x=m.queue.dispatch;return m.memoizedState=s,[c,x,!1]}function rd(s,c,m,x){return s={tag:s,create:m,deps:x,inst:c,next:null},c=dt.updateQueue,c===null&&(c=P0(),dt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s),s}function kN(){return On().memoizedState}function I0(s,c,m,x){var T=Yr();dt.flags|=s,T.memoizedState=rd(1|c,{destroy:void 0},m,x===void 0?null:x)}function $0(s,c,m,x){var T=On();x=x===void 0?null:x;var N=T.memoizedState.inst;Ft!==null&&x!==null&&yw(x,Ft.memoizedState.deps)?T.memoizedState=rd(c,N,m,x):(dt.flags|=s,T.memoizedState=rd(1|c,N,m,x))}function EN(s,c){I0(8390656,8,s,c)}function jw(s,c){$0(2048,8,s,c)}function IH(s){dt.flags|=4;var c=dt.updateQueue;if(c===null)c=P0(),dt.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function TN(s){var c=On().memoizedState;return IH({ref:c,nextImpl:s}),function(){if((Ct&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function AN(s,c){return $0(4,2,s,c)}function jN(s,c){return $0(4,4,s,c)}function NN(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function ON(s,c,m){m=m!=null?m.concat([s]):null,$0(4,4,NN.bind(null,c,s),m)}function Nw(){}function CN(s,c){var m=On();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&yw(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function MN(s,c){var m=On();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&yw(c,x[1]))return x[0];if(x=s(),Dc){Fr(!0);try{s()}finally{Fr(!1)}}return m.memoizedState=[x,c],x}function Ow(s,c,m){return m===void 0||(rs&1073741824)!==0&&(wt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=DO(),dt.lanes|=s,yl|=s,m)}function DN(s,c,m,x){return ar(m,c)?m:ed.current!==null?(s=Ow(s,m,x),ar(s,c)||($n=!0),s):(rs&42)===0||(rs&1073741824)!==0&&(wt&261930)===0?($n=!0,s.memoizedState=m):(s=DO(),dt.lanes|=s,yl|=s,c)}function PN(s,c,m,x,T){var N=J.p;J.p=N!==0&&8>N?N:8;var $=Y.T,G={};Y.T=G,Dw(s,!1,c,m);try{var te=T(),me=Y.S;if(me!==null&&me(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Se=MH(te,x);vh(s,c,Se,Di(s))}else vh(s,c,x,Di(s))}catch(je){vh(s,c,{then:function(){},status:"rejected",reason:je},Di())}finally{J.p=N,$!==null&&G.types!==null&&($.types=G.types),Y.T=$}}function $H(){}function Cw(s,c,m,x){if(s.tag!==5)throw Error(r(476));var T=RN(s).queue;PN(s,T,c,ee,m===null?$H:function(){return LN(s),m(x)})}function RN(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ee},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function LN(s){var c=RN(s);c.next===null&&(c=s.alternate.memoizedState),vh(s,c.next.queue,{},Di())}function Mw(){return vr(Lh)}function IN(){return On().memoizedState}function $N(){return On().memoizedState}function BH(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Di();s=fl(m);var x=hl(c,s,m);x!==null&&(hi(x,c,m),mh(x,c,m)),c={cache:sw()},s.payload=c;return}c=c.return}}function zH(s,c,m){var x=Di();m={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},B0(s)?zN(c,m):(m=ih(s,c,m,x),m!==null&&(hi(m,s,x),UN(m,c,x)))}function BN(s,c,m){var x=Di();vh(s,c,m,x)}function vh(s,c,m,x){var T={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(B0(s))zN(c,T);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var $=c.lastRenderedState,G=N($,m);if(T.hasEagerState=!0,T.eagerState=G,ar(G,$))return go(s,c,T,0),qt===null&&Sc(),!1}catch{}finally{}if(m=ih(s,c,T,x),m!==null)return hi(m,s,x),UN(m,c,x),!0}return!1}function Dw(s,c,m,x){if(x={lane:2,revertLane:d_(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},B0(s)){if(c)throw Error(r(479))}else c=ih(s,m,x,2),c!==null&&hi(c,s,2)}function B0(s){var c=s.alternate;return s===dt||c!==null&&c===dt}function zN(s,c){td=M0=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function UN(s,c,m){if((m&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Zp(s,m)}}var xh={readContext:vr,use:R0,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn};xh.useEffectEvent=Sn;var FN={readContext:vr,use:R0,useCallback:function(s,c){return Yr().memoizedState=[s,c===void 0?null:c],s},useContext:vr,useEffect:EN,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,I0(4194308,4,NN.bind(null,c,s),m)},useLayoutEffect:function(s,c){return I0(4194308,4,s,c)},useInsertionEffect:function(s,c){I0(4,2,s,c)},useMemo:function(s,c){var m=Yr();c=c===void 0?null:c;var x=s();if(Dc){Fr(!0);try{s()}finally{Fr(!1)}}return m.memoizedState=[x,c],x},useReducer:function(s,c,m){var x=Yr();if(m!==void 0){var T=m(c);if(Dc){Fr(!0);try{m(c)}finally{Fr(!1)}}}else T=c;return x.memoizedState=x.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},x.queue=s,s=s.dispatch=zH.bind(null,dt,s),[x.memoizedState,s]},useRef:function(s){var c=Yr();return s={current:s},c.memoizedState=s},useState:function(s){s=Tw(s);var c=s.queue,m=BN.bind(null,dt,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:Nw,useDeferredValue:function(s,c){var m=Yr();return Ow(m,s,c)},useTransition:function(){var s=Tw(!1);return s=PN.bind(null,dt,s.queue,!0,!1),Yr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var x=dt,T=Yr();if(bt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),qt===null)throw Error(r(349));(wt&127)!==0||cN(x,c,m)}T.memoizedState=m;var N={value:m,getSnapshot:c};return T.queue=N,EN(dN.bind(null,x,N,s),[s]),x.flags|=2048,rd(9,{destroy:void 0},uN.bind(null,x,N,m,c),null),m},useId:function(){var s=Yr(),c=qt.identifierPrefix;if(bt){var m=$e,x=Ae;m=(x&~(1<<32-Kn(x)-1)).toString(32)+m,c="_"+c+"R_"+m,m=D0++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=DH++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Mw,useFormState:xN,useActionState:xN,useOptimistic:function(s){var c=Yr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Dw.bind(null,dt,!0,m),m.dispatch=c,[s,c]},useMemoCache:Sw,useCacheRefresh:function(){return Yr().memoizedState=BH.bind(null,dt)},useEffectEvent:function(s){var c=Yr(),m={impl:s};return c.memoizedState=m,function(){if((Ct&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Pw={readContext:vr,use:R0,useCallback:CN,useContext:vr,useEffect:jw,useImperativeHandle:ON,useInsertionEffect:AN,useLayoutEffect:jN,useMemo:MN,useReducer:L0,useRef:kN,useState:function(){return L0(is)},useDebugValue:Nw,useDeferredValue:function(s,c){var m=On();return DN(m,Ft.memoizedState,s,c)},useTransition:function(){var s=L0(is)[0],c=On().memoizedState;return[typeof s=="boolean"?s:yh(s),c]},useSyncExternalStore:lN,useId:IN,useHostTransitionStatus:Mw,useFormState:wN,useActionState:wN,useOptimistic:function(s,c){var m=On();return mN(m,Ft,s,c)},useMemoCache:Sw,useCacheRefresh:$N};Pw.useEffectEvent=TN;var HN={readContext:vr,use:R0,useCallback:CN,useContext:vr,useEffect:jw,useImperativeHandle:ON,useInsertionEffect:AN,useLayoutEffect:jN,useMemo:MN,useReducer:Ew,useRef:kN,useState:function(){return Ew(is)},useDebugValue:Nw,useDeferredValue:function(s,c){var m=On();return Ft===null?Ow(m,s,c):DN(m,Ft.memoizedState,s,c)},useTransition:function(){var s=Ew(is)[0],c=On().memoizedState;return[typeof s=="boolean"?s:yh(s),c]},useSyncExternalStore:lN,useId:IN,useHostTransitionStatus:Mw,useFormState:SN,useActionState:SN,useOptimistic:function(s,c){var m=On();return Ft!==null?mN(m,Ft,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Sw,useCacheRefresh:$N};HN.useEffectEvent=TN;function Rw(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Lw={enqueueSetState:function(s,c,m){s=s._reactInternals;var x=Di(),T=fl(x);T.payload=c,m!=null&&(T.callback=m),c=hl(s,T,x),c!==null&&(hi(c,s,x),mh(c,s,x))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=Di(),T=fl(x);T.tag=1,T.payload=c,m!=null&&(T.callback=m),c=hl(s,T,x),c!==null&&(hi(c,s,x),mh(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Di(),x=fl(m);x.tag=2,c!=null&&(x.callback=c),c=hl(s,x,m),c!==null&&(hi(c,s,m),mh(c,s,m))}};function GN(s,c,m,x,T,N,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,N,$):c.prototype&&c.prototype.isPureReactComponent?!al(m,x)||!al(T,N):!0}function YN(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&Lw.enqueueReplaceState(c,c.state,null)}function Pc(s,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var T in s)m[T]===void 0&&(m[T]=s[T])}return m}function qN(s){_c(s)}function KN(s){console.error(s)}function WN(s){_c(s)}function z0(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function VN(s,c,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Iw(s,c,m){return m=fl(m),m.tag=3,m.payload={element:null},m.callback=function(){z0(s,c)},m}function ZN(s){return s=fl(s),s.tag=3,s}function XN(s,c,m,x){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var N=x.value;s.payload=function(){return T(N)},s.callback=function(){VN(c,m,x)}}var $=m.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){VN(c,m,x),typeof T!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function UH(s,c,m,x,T){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&Vu(c,m,T,!0),m=Ni.current,m!==null){switch(m.tag){case 31:case 13:return aa===null?J0():m.alternate===null&&kn===0&&(kn=3),m.flags&=-257,m.flags|=65536,m.lanes=T,x===A0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),l_(s,x,T)),!1;case 22:return m.flags|=65536,x===A0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),l_(s,x,T)),!1}throw Error(r(435,m.tag))}return l_(s,x,T),J0(),!1}if(bt)return c=Ni.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=T,x!==Wu&&(s=Error(r(422),{cause:x}),Tc(v(s,m)))):(x!==Wu&&(c=Error(r(423),{cause:x}),Tc(v(c,m))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,x=v(x,m),T=Iw(s.stateNode,x,T),hw(s,T),kn!==4&&(kn=2)),!1;var N=Error(r(520),{cause:x});if(N=v(N,m),jh===null?jh=[N]:jh.push(N),kn!==4&&(kn=2),c===null)return!0;x=v(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=T&-T,m.lanes|=s,s=Iw(m.stateNode,x,s),hw(m,s),!1;case 1:if(c=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(vl===null||!vl.has(N))))return m.flags|=65536,T&=-T,m.lanes|=T,T=ZN(T),XN(T,s,m,x),hw(m,T),!1}m=m.return}while(m!==null);return!1}var $w=Error(r(461)),$n=!1;function xr(s,c,m,x){c.child=s===null?tN(c,null,m,x):Mc(c,s.child,m,x)}function JN(s,c,m,x,T){m=m.render;var N=c.ref;if("ref"in x){var $={};for(var G in x)G!=="ref"&&($[G]=x[G])}else $=x;return jc(c),x=vw(s,c,m,$,N,T),G=xw(),s!==null&&!$n?(ww(s,c,T),as(s,c,T)):(bt&&G&&Vn(c),c.flags|=1,xr(s,c,x,T),c.child)}function QN(s,c,m,x,T){if(s===null){var N=m.type;return typeof N=="function"&&!qu(N)&&N.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=N,eO(s,c,N,x,T)):(s=Ec(m.type,null,x,c,c.mode,T),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,!qw(s,T)){var $=N.memoizedProps;if(m=m.compare,m=m!==null?m:al,m($,x)&&s.ref===c.ref)return as(s,c,T)}return c.flags|=1,s=ia(N,x),s.ref=c.ref,s.return=c,c.child=s}function eO(s,c,m,x,T){if(s!==null){var N=s.memoizedProps;if(al(N,x)&&s.ref===c.ref)if($n=!1,c.pendingProps=x=N,qw(s,T))(s.flags&131072)!==0&&($n=!0);else return c.lanes=s.lanes,as(s,c,T)}return Bw(s,c,m,x,T)}function tO(s,c,m,x){var T=x.children,N=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|m:m,s!==null){for(x=c.child=s.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;x=T&~N}else x=0,c.child=null;return nO(s,c,N,m,x)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&E0(c,N!==null?N.cachePool:null),N!==null?iN(c,N):pw(),aN(c);else return x=c.lanes=536870912,nO(s,c,N!==null?N.baseLanes|m:m,m,x)}else N!==null?(E0(c,N.cachePool),iN(c,N),pl(),c.memoizedState=null):(s!==null&&E0(c,null),pw(),pl());return xr(s,c,T,m),c.child}function wh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function nO(s,c,m,x,T){var N=cw();return N=N===null?null:{parent:Ln._currentValue,pool:N},c.memoizedState={baseLanes:m,cachePool:N},s!==null&&E0(c,null),pw(),aN(c),s!==null&&Vu(s,c,x,!0),c.childLanes=T,null}function U0(s,c){return c=H0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function rO(s,c,m){return Mc(c,s.child,null,m),s=U0(c,c.pendingProps),s.flags|=2,Oi(c),c.memoizedState=null,s}function FH(s,c,m){var x=c.pendingProps,T=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(bt){if(x.mode==="hidden")return s=U0(c,x),c.lanes=536870912,wh(null,s);if(bw(c),(s=At)?(s=pC(s,li),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:pe!==null?{id:Ae,overflow:$e}:null,retryLane:536870912,hydrationErrors:null},m=oh(s),m.return=c,c.child=m,Tt=c,At=null)):s=null,s===null)throw yo(c);return c.lanes=536870912,null}return U0(c,x)}var N=s.memoizedState;if(N!==null){var $=N.dehydrated;if(bw(c),T)if(c.flags&256)c.flags&=-257,c=rO(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if($n||Vu(s,c,m,!1),T=(m&s.childLanes)!==0,$n||T){if(x=qt,x!==null&&($=Xp(x,m),$!==0&&$!==N.retryLane))throw N.retryLane=$,ra(s,$),hi(x,s,$),$w;J0(),c=rO(s,c,m)}else s=N.treeContext,At=oa($.nextSibling),Tt=c,bt=!0,bo=null,li=!1,s!==null&&Gr(c,s),c=U0(c,x),c.flags|=4096;return c}return s=ia(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function F0(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function Bw(s,c,m,x,T){return jc(c),m=vw(s,c,m,x,void 0,T),x=xw(),s!==null&&!$n?(ww(s,c,T),as(s,c,T)):(bt&&x&&Vn(c),c.flags|=1,xr(s,c,m,T),c.child)}function iO(s,c,m,x,T,N){return jc(c),c.updateQueue=null,m=sN(c,x,m,T),oN(s),x=xw(),s!==null&&!$n?(ww(s,c,N),as(s,c,N)):(bt&&x&&Vn(c),c.flags|=1,xr(s,c,m,N),c.child)}function aO(s,c,m,x,T){if(jc(c),c.stateNode===null){var N=Qo,$=m.contextType;typeof $=="object"&&$!==null&&(N=vr($)),N=new m(x,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Lw,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=x,N.state=c.memoizedState,N.refs={},dw(c),$=m.contextType,N.context=typeof $=="object"&&$!==null?vr($):Qo,N.state=c.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Rw(c,m,$,x),N.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||($=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),$!==N.state&&Lw.enqueueReplaceState(N,N.state,null),gh(c,x,N,T),ph(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){N=c.stateNode;var G=c.memoizedProps,te=Pc(m,G);N.props=te;var me=N.context,Se=m.contextType;$=Qo,typeof Se=="object"&&Se!==null&&($=vr(Se));var je=m.getDerivedStateFromProps;Se=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,Se||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(G||me!==$)&&YN(c,N,x,$),dl=!1;var ge=c.memoizedState;N.state=ge,gh(c,x,N,T),ph(),me=c.memoizedState,G||ge!==me||dl?(typeof je=="function"&&(Rw(c,m,je,x),me=c.memoizedState),(te=dl||GN(c,m,te,x,ge,me,$))?(Se||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=me),N.props=x,N.state=me,N.context=$,x=te):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{N=c.stateNode,fw(s,c),$=c.memoizedProps,Se=Pc(m,$),N.props=Se,je=c.pendingProps,ge=N.context,me=m.contextType,te=Qo,typeof me=="object"&&me!==null&&(te=vr(me)),G=m.getDerivedStateFromProps,(me=typeof G=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==je||ge!==te)&&YN(c,N,x,te),dl=!1,ge=c.memoizedState,N.state=ge,gh(c,x,N,T),ph();var ve=c.memoizedState;$!==je||ge!==ve||dl||s!==null&&s.dependencies!==null&&S0(s.dependencies)?(typeof G=="function"&&(Rw(c,m,G,x),ve=c.memoizedState),(Se=dl||GN(c,m,Se,x,ge,ve,te)||s!==null&&s.dependencies!==null&&S0(s.dependencies))?(me||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,ve,te),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,ve,te)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ve),N.props=x,N.state=ve,N.context=te,x=Se):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ge===s.memoizedState||(c.flags|=1024),x=!1)}return N=x,F0(s,c),x=(c.flags&128)!==0,N||x?(N=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,s!==null&&x?(c.child=Mc(c,s.child,null,T),c.child=Mc(c,null,m,T)):xr(s,c,m,T),c.memoizedState=N.state,s=c.child):s=as(s,c,T),s}function oO(s,c,m,x){return ts(),c.flags|=256,xr(s,c,m,x),c.child}var zw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uw(s){return{baseLanes:s,cachePool:Vj()}}function Fw(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Mi),s}function sO(s,c,m){var x=c.pendingProps,T=!1,N=(c.flags&128)!==0,$;if(($=N)||($=s!==null&&s.memoizedState===null?!1:(Nn.current&2)!==0),$&&(T=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,s===null){if(bt){if(T?ml(c):pl(),(s=At)?(s=pC(s,li),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:pe!==null?{id:Ae,overflow:$e}:null,retryLane:536870912,hydrationErrors:null},m=oh(s),m.return=c,c.child=m,Tt=c,At=null)):s=null,s===null)throw yo(c);return k_(s)?c.lanes=32:c.lanes=536870912,null}var G=x.children;return x=x.fallback,T?(pl(),T=c.mode,G=H0({mode:"hidden",children:G},T),x=es(x,T,m,null),G.return=c,x.return=c,G.sibling=x,c.child=G,x=c.child,x.memoizedState=Uw(m),x.childLanes=Fw(s,$,m),c.memoizedState=zw,wh(null,x)):(ml(c),Hw(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(N)c.flags&256?(ml(c),c.flags&=-257,c=Gw(s,c,m)):c.memoizedState!==null?(pl(),c.child=s.child,c.flags|=128,c=null):(pl(),G=x.fallback,T=c.mode,x=H0({mode:"visible",children:x.children},T),G=es(G,T,m,null),G.flags|=2,x.return=c,G.return=c,x.sibling=G,c.child=x,Mc(c,s.child,null,m),x=c.child,x.memoizedState=Uw(m),x.childLanes=Fw(s,$,m),c.memoizedState=zw,c=wh(null,x));else if(ml(c),k_(G)){if($=G.nextSibling&&G.nextSibling.dataset,$)var me=$.dgst;$=me,x=Error(r(419)),x.stack="",x.digest=$,Tc({value:x,source:null,stack:null}),c=Gw(s,c,m)}else if($n||Vu(s,c,m,!1),$=(m&s.childLanes)!==0,$n||$){if($=qt,$!==null&&(x=Xp($,m),x!==0&&x!==te.retryLane))throw te.retryLane=x,ra(s,x),hi($,s,x),$w;S_(G)||J0(),c=Gw(s,c,m)}else S_(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,At=oa(G.nextSibling),Tt=c,bt=!0,bo=null,li=!1,s!==null&&Gr(c,s),c=Hw(c,x.children),c.flags|=4096);return c}return T?(pl(),G=x.fallback,T=c.mode,te=s.child,me=te.sibling,x=ia(te,{mode:"hidden",children:x.children}),x.subtreeFlags=te.subtreeFlags&65011712,me!==null?G=ia(me,G):(G=es(G,T,m,null),G.flags|=2),G.return=c,x.return=c,x.sibling=G,c.child=x,wh(null,x),x=c.child,G=s.child.memoizedState,G===null?G=Uw(m):(T=G.cachePool,T!==null?(te=Ln._currentValue,T=T.parent!==te?{parent:te,pool:te}:T):T=Vj(),G={baseLanes:G.baseLanes|m,cachePool:T}),x.memoizedState=G,x.childLanes=Fw(s,$,m),c.memoizedState=zw,wh(s.child,x)):(ml(c),m=s.child,s=m.sibling,m=ia(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,s!==null&&($=c.deletions,$===null?(c.deletions=[s],c.flags|=16):$.push(s)),c.child=m,c.memoizedState=null,m)}function Hw(s,c){return c=H0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function H0(s,c){return s=Mr(22,s,null,c),s.lanes=0,s}function Gw(s,c,m){return Mc(c,s.child,null,m),s=Hw(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function lO(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),aw(s.return,c,m)}function Yw(s,c,m,x,T,N){var $=s.memoizedState;$===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:T,treeForkCount:N}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=x,$.tail=m,$.tailMode=T,$.treeForkCount=N)}function cO(s,c,m){var x=c.pendingProps,T=x.revealOrder,N=x.tail;x=x.children;var $=Nn.current,G=($&2)!==0;if(G?($=$&1|2,c.flags|=128):$&=1,ne(Nn,$),xr(s,c,x,m),x=bt?H:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lO(s,m,c);else if(s.tag===19)lO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(m=c.child,T=null;m!==null;)s=m.alternate,s!==null&&C0(s)===null&&(T=m),m=m.sibling;m=T,m===null?(T=c.child,c.child=null):(T=m.sibling,m.sibling=null),Yw(c,!1,T,m,N,x);break;case"backwards":case"unstable_legacy-backwards":for(m=null,T=c.child,c.child=null;T!==null;){if(s=T.alternate,s!==null&&C0(s)===null){c.child=T;break}s=T.sibling,T.sibling=m,m=T,T=s}Yw(c,!0,m,null,N,x);break;case"together":Yw(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function as(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),yl|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Vu(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=ia(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=ia(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function qw(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&S0(s)))}function HH(s,c,m){switch(c.tag){case 3:Te(c,c.stateNode.containerInfo),ul(c,Ln,s.memoizedState.cache),ts();break;case 27:case 5:ke(c);break;case 4:Te(c,c.stateNode.containerInfo);break;case 10:ul(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,bw(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(ml(c),c.flags|=128,null):(m&c.child.childLanes)!==0?sO(s,c,m):(ml(c),s=as(s,c,m),s!==null?s.sibling:null);ml(c);break;case 19:var T=(s.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(Vu(s,c,m,!1),x=(m&c.childLanes)!==0),T){if(x)return cO(s,c,m);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ne(Nn,Nn.current),x)break;return null;case 22:return c.lanes=0,tO(s,c,m,c.pendingProps);case 24:ul(c,Ln,s.memoizedState.cache)}return as(s,c,m)}function uO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)$n=!0;else{if(!qw(s,m)&&(c.flags&128)===0)return $n=!1,HH(s,c,m);$n=(s.flags&131072)!==0}else $n=!1,bt&&(c.flags&1048576)!==0&&ft(c,H,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Oc(c.elementType),c.type=s,typeof s=="function")qu(s)?(x=Pc(s,x),c.tag=1,c=aO(null,c,s,x,m)):(c.tag=0,c=Bw(null,c,s,x,m));else{if(s!=null){var T=s.$$typeof;if(T===C){c.tag=11,c=JN(null,c,s,x,m);break e}else if(T===I){c.tag=14,c=QN(null,c,s,x,m);break e}}throw c=Z(s)||s,Error(r(306,c,""))}}return c;case 0:return Bw(s,c,c.type,c.pendingProps,m);case 1:return x=c.type,T=Pc(x,c.pendingProps),aO(s,c,x,T,m);case 3:e:{if(Te(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var N=c.memoizedState;T=N.element,fw(s,c),gh(c,x,null,m);var $=c.memoizedState;if(x=$.cache,ul(c,Ln,x),x!==N.cache&&ow(c,[Ln],m,!0),ph(),x=$.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=oO(s,c,x,m);break e}else if(x!==T){T=v(Error(r(424)),c),Tc(T),c=oO(s,c,x,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(At=oa(s.firstChild),Tt=c,bt=!0,bo=null,li=!0,m=tN(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(ts(),x===T){c=as(s,c,m);break e}xr(s,c,x,m)}c=c.child}return c;case 26:return F0(s,c),s===null?(m=wC(c.type,null,c.pendingProps,null))?c.memoizedState=m:bt||(m=c.type,s=c.pendingProps,x=ag(be.current).createElement(m),x[Pn]=c,x[ir]=s,wr(x,m,s),Rn(x),c.stateNode=x):c.memoizedState=wC(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return ke(c),s===null&&bt&&(x=c.stateNode=yC(c.type,c.pendingProps,be.current),Tt=c,li=!0,T=At,Sl(c.type)?(E_=T,At=oa(x.firstChild)):At=T),xr(s,c,c.pendingProps.children,m),F0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&bt&&((T=x=At)&&(x=vG(x,c.type,c.pendingProps,li),x!==null?(c.stateNode=x,Tt=c,At=oa(x.firstChild),li=!1,T=!0):T=!1),T||yo(c)),ke(c),T=c.type,N=c.pendingProps,$=s!==null?s.memoizedProps:null,x=N.children,x_(T,N)?x=null:$!==null&&x_(T,$)&&(c.flags|=32),c.memoizedState!==null&&(T=vw(s,c,PH,null,null,m),Lh._currentValue=T),F0(s,c),xr(s,c,x,m),c.child;case 6:return s===null&&bt&&((s=m=At)&&(m=xG(m,c.pendingProps,li),m!==null?(c.stateNode=m,Tt=c,At=null,s=!0):s=!1),s||yo(c)),null;case 13:return sO(s,c,m);case 4:return Te(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Mc(c,null,x,m):xr(s,c,x,m),c.child;case 11:return JN(s,c,c.type,c.pendingProps,m);case 7:return xr(s,c,c.pendingProps,m),c.child;case 8:return xr(s,c,c.pendingProps.children,m),c.child;case 12:return xr(s,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,ul(c,c.type,x.value),xr(s,c,x.children,m),c.child;case 9:return T=c.type._context,x=c.pendingProps.children,jc(c),T=vr(T),x=x(T),c.flags|=1,xr(s,c,x,m),c.child;case 14:return QN(s,c,c.type,c.pendingProps,m);case 15:return eO(s,c,c.type,c.pendingProps,m);case 19:return cO(s,c,m);case 31:return FH(s,c,m);case 22:return tO(s,c,m,c.pendingProps);case 24:return jc(c),x=vr(Ln),s===null?(T=cw(),T===null&&(T=qt,N=sw(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=m),T=N),c.memoizedState={parent:x,cache:T},dw(c),ul(c,Ln,T)):((s.lanes&m)!==0&&(fw(s,c),gh(c,null,null,m),ph()),T=s.memoizedState,N=c.memoizedState,T.parent!==x?(T={parent:x,cache:x},c.memoizedState=T,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=T),ul(c,Ln,x)):(x=N.cache,ul(c,Ln,x),x!==T.cache&&ow(c,[Ln],m,!0))),xr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function os(s){s.flags|=4}function Kw(s,c,m,x,T){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(IO())s.flags|=8192;else throw Cc=A0,uw}else s.flags&=-16777217}function dO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!TC(c))if(IO())s.flags|=8192;else throw Cc=A0,uw}function G0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Wp():536870912,s.lanes|=c,sd|=c)}function _h(s,c){if(!bt)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function en(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags&65011712,x|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function GH(s,c,m){var x=c.pendingProps;switch(_n(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(c),null;case 1:return en(c),null;case 3:return m=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),ns(Ln),re(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ra(c)?os(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ch())),en(c),null;case 26:var T=c.type,N=c.memoizedState;return s===null?(os(c),N!==null?(en(c),dO(c,N)):(en(c),Kw(c,T,null,x,m))):N?N!==s.memoizedState?(os(c),en(c),dO(c,N)):(en(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&os(c),en(c),Kw(c,T,s,x,m)),null;case 27:if(_e(c),m=be.current,T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&os(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return en(c),null}s=se.current,Ra(c)?lh(c):(s=yC(T,x,m),c.stateNode=s,os(c))}return en(c),null;case 5:if(_e(c),T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&os(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return en(c),null}if(N=se.current,Ra(c))lh(c);else{var $=ag(be.current);switch(N){case 1:N=$.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=$.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=$.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?$.createElement("select",{is:x.is}):$.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?$.createElement(T,{is:x.is}):$.createElement(T)}}N[Pn]=c,N[ir]=x;e:for($=c.child;$!==null;){if($.tag===5||$.tag===6)N.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===c)break e;for(;$.sibling===null;){if($.return===null||$.return===c)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}c.stateNode=N;e:switch(wr(N,T,x),T){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&os(c)}}return en(c),Kw(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&os(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=be.current,Ra(c)){if(s=c.stateNode,m=c.memoizedProps,x=null,T=Tt,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}s[Pn]=c,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||sC(s.nodeValue,m)),s||yo(c,!0)}else s=ag(s).createTextNode(x),s[Pn]=c,c.stateNode=s}return en(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(x=Ra(c),m!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Pn]=c}else ts(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;en(c),s=!1}else m=ch(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(Oi(c),c):(Oi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return en(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Ra(c),x!==null&&x.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Pn]=c}else ts(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;en(c),T=!1}else T=ch(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return c.flags&256?(Oi(c),c):(Oi(c),null)}return Oi(c),(c.flags&128)!==0?(c.lanes=m,c):(m=x!==null,s=s!==null&&s.memoizedState!==null,m&&(x=c.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==T&&(x.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),G0(c,c.updateQueue),en(c),null);case 4:return re(),s===null&&p_(c.stateNode.containerInfo),en(c),null;case 10:return ns(c.type),en(c),null;case 19:if(V(Nn),x=c.memoizedState,x===null)return en(c),null;if(T=(c.flags&128)!==0,N=x.rendering,N===null)if(T)_h(x,!1);else{if(kn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(N=C0(s),N!==null){for(c.flags|=128,_h(x,!1),s=N.updateQueue,c.updateQueue=s,G0(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)ah(m,s),m=m.sibling;return ne(Nn,Nn.current&1|2),bt&&Ze(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&ze()>V0&&(c.flags|=128,T=!0,_h(x,!1),c.lanes=4194304)}else{if(!T)if(s=C0(N),s!==null){if(c.flags|=128,T=!0,s=s.updateQueue,c.updateQueue=s,G0(c,s),_h(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!bt)return en(c),null}else 2*ze()-x.renderingStartTime>V0&&m!==536870912&&(c.flags|=128,T=!0,_h(x,!1),c.lanes=4194304);x.isBackwards?(N.sibling=c.child,c.child=N):(s=x.last,s!==null?s.sibling=N:c.child=N,x.last=N)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=ze(),s.sibling=null,m=Nn.current,ne(Nn,T?m&1|2:m&1),bt&&Ze(c,x.treeForkCount),s):(en(c),null);case 22:case 23:return Oi(c),gw(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(en(c),c.subtreeFlags&6&&(c.flags|=8192)):en(c),m=c.updateQueue,m!==null&&G0(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),s!==null&&V(Nc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ns(Ln),en(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function YH(s,c){switch(_n(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ns(Ln),re(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return _e(c),null;case 31:if(c.memoizedState!==null){if(Oi(c),c.alternate===null)throw Error(r(340));ts()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Oi(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ts()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return V(Nn),null;case 4:return re(),null;case 10:return ns(c.type),null;case 22:case 23:return Oi(c),gw(),s!==null&&V(Nc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ns(Ln),null;case 25:return null;default:return null}}function fO(s,c){switch(_n(c),c.tag){case 3:ns(Ln),re();break;case 26:case 27:case 5:_e(c);break;case 4:re();break;case 31:c.memoizedState!==null&&Oi(c);break;case 13:Oi(c);break;case 19:V(Nn);break;case 10:ns(c.type);break;case 22:case 23:Oi(c),gw(),s!==null&&V(Nc);break;case 24:ns(Ln)}}function Sh(s,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var T=x.next;m=T;do{if((m.tag&s)===s){x=void 0;var N=m.create,$=m.inst;x=N(),$.destroy=x}m=m.next}while(m!==T)}}catch(G){Bt(c,c.return,G)}}function gl(s,c,m){try{var x=c.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var N=T.next;x=N;do{if((x.tag&s)===s){var $=x.inst,G=$.destroy;if(G!==void 0){$.destroy=void 0,T=c;var te=m,me=G;try{me()}catch(Se){Bt(T,te,Se)}}}x=x.next}while(x!==N)}}catch(Se){Bt(c,c.return,Se)}}function hO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{rN(c,m)}catch(x){Bt(s,s.return,x)}}}function mO(s,c,m){m.props=Pc(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){Bt(s,c,x)}}function kh(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(T){Bt(s,c,T)}}function xo(s,c){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(T){Bt(s,c,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){Bt(s,c,T)}else m.current=null}function pO(s){var c=s.type,m=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(T){Bt(s,s.return,T)}}function Ww(s,c,m){try{var x=s.stateNode;hG(x,s.type,m,c),x[ir]=c}catch(T){Bt(s,s.return,T)}}function gO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Sl(s.type)||s.tag===4}function Vw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Sl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zw(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=ii));else if(x!==4&&(x===27&&Sl(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(Zw(s,c,m),s=s.sibling;s!==null;)Zw(s,c,m),s=s.sibling}function Y0(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(x===27&&Sl(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Y0(s,c,m),s=s.sibling;s!==null;)Y0(s,c,m),s=s.sibling}function bO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,T=c.attributes;T.length;)c.removeAttributeNode(T[0]);wr(c,x,m),c[Pn]=s,c[ir]=m}catch(N){Bt(s,s.return,N)}}var ss=!1,Bn=!1,Xw=!1,yO=typeof WeakSet=="function"?WeakSet:Set,sr=null;function qH(s,c){if(s=s.containerInfo,y_=fg,s=yc(s),fo(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var T=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var $=0,G=-1,te=-1,me=0,Se=0,je=s,ge=null;t:for(;;){for(var ve;je!==m||T!==0&&je.nodeType!==3||(G=$+T),je!==N||x!==0&&je.nodeType!==3||(te=$+x),je.nodeType===3&&($+=je.nodeValue.length),(ve=je.firstChild)!==null;)ge=je,je=ve;for(;;){if(je===s)break t;if(ge===m&&++me===T&&(G=$),ge===N&&++Se===x&&(te=$),(ve=je.nextSibling)!==null)break;je=ge,ge=je.parentNode}je=ve}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(v_={focusedElem:s,selectionRange:m},fg=!1,sr=c;sr!==null;)if(c=sr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,sr=s;else for(;sr!==null;){switch(c=sr,N=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)T=s[m],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,m=c,T=N.memoizedProps,N=N.memoizedState,x=m.stateNode;try{var Ye=Pc(m.type,T);s=x.getSnapshotBeforeUpdate(Ye,N),x.__reactInternalSnapshotBeforeUpdate=s}catch(rt){Bt(m,m.return,rt)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)__(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":__(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,sr=s;break}sr=c.return}}function vO(s,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:cs(s,m),x&4&&Sh(5,m);break;case 1:if(cs(s,m),x&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch($){Bt(m,m.return,$)}else{var T=Pc(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(T,c,s.__reactInternalSnapshotBeforeUpdate)}catch($){Bt(m,m.return,$)}}x&64&&hO(m),x&512&&kh(m,m.return);break;case 3:if(cs(s,m),x&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{rN(s,c)}catch($){Bt(m,m.return,$)}}break;case 27:c===null&&x&4&&bO(m);case 26:case 5:cs(s,m),c===null&&x&4&&pO(m),x&512&&kh(m,m.return);break;case 12:cs(s,m);break;case 31:cs(s,m),x&4&&_O(s,m);break;case 13:cs(s,m),x&4&&SO(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=tG.bind(null,m),wG(s,m))));break;case 22:if(x=m.memoizedState!==null||ss,!x){c=c!==null&&c.memoizedState!==null||Bn,T=ss;var N=Bn;ss=x,(Bn=c)&&!N?us(s,m,(m.subtreeFlags&8772)!==0):cs(s,m),ss=T,Bn=N}break;case 30:break;default:cs(s,m)}}function xO(s){var c=s.alternate;c!==null&&(s.alternate=null,xO(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Uf(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var sn=null,ci=!1;function ls(s,c,m){for(m=m.child;m!==null;)wO(s,c,m),m=m.sibling}function wO(s,c,m){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(It,m)}catch{}switch(m.tag){case 26:Bn||xo(m,c),ls(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Bn||xo(m,c);var x=sn,T=ci;Sl(m.type)&&(sn=m.stateNode,ci=!1),ls(s,c,m),Dh(m.stateNode),sn=x,ci=T;break;case 5:Bn||xo(m,c);case 6:if(x=sn,T=ci,sn=null,ls(s,c,m),sn=x,ci=T,sn!==null)if(ci)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(m.stateNode)}catch(N){Bt(m,c,N)}else try{sn.removeChild(m.stateNode)}catch(N){Bt(m,c,N)}break;case 18:sn!==null&&(ci?(s=sn,hC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),pd(s)):hC(sn,m.stateNode));break;case 4:x=sn,T=ci,sn=m.stateNode.containerInfo,ci=!0,ls(s,c,m),sn=x,ci=T;break;case 0:case 11:case 14:case 15:gl(2,m,c),Bn||gl(4,m,c),ls(s,c,m);break;case 1:Bn||(xo(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&mO(m,c,x)),ls(s,c,m);break;case 21:ls(s,c,m);break;case 22:Bn=(x=Bn)||m.memoizedState!==null,ls(s,c,m),Bn=x;break;default:ls(s,c,m)}}function _O(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{pd(s)}catch(m){Bt(c,c.return,m)}}}function SO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{pd(s)}catch(m){Bt(c,c.return,m)}}function KH(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new yO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new yO),c;default:throw Error(r(435,s.tag))}}function q0(s,c){var m=KH(s);c.forEach(function(x){if(!m.has(x)){m.add(x);var T=nG.bind(null,s,x);x.then(T,T)}})}function ui(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var T=m[x],N=s,$=c,G=$;e:for(;G!==null;){switch(G.tag){case 27:if(Sl(G.type)){sn=G.stateNode,ci=!1;break e}break;case 5:sn=G.stateNode,ci=!1;break e;case 3:case 4:sn=G.stateNode.containerInfo,ci=!0;break e}G=G.return}if(sn===null)throw Error(r(160));wO(N,$,T),sn=null,ci=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)kO(c,s),c=c.sibling}var Ia=null;function kO(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ui(c,s),di(s),x&4&&(gl(3,s,s.return),Sh(3,s),gl(5,s,s.return));break;case 1:ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),x&64&&ss&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var T=Ia;if(ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),x&4){var N=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){e:{x=s.type,m=s.memoizedProps,T=T.ownerDocument||T;t:switch(x){case"title":N=T.getElementsByTagName("title")[0],(!N||N[nc]||N[Pn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(x),T.head.insertBefore(N,T.querySelector("head > title"))),wr(N,x,m),N[Pn]=s,Rn(N),x=N;break e;case"link":var $=kC("link","href",T).get(x+(m.href||""));if($){for(var G=0;G<$.length;G++)if(N=$[G],N.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&N.getAttribute("rel")===(m.rel==null?null:m.rel)&&N.getAttribute("title")===(m.title==null?null:m.title)&&N.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){$.splice(G,1);break t}}N=T.createElement(x),wr(N,x,m),T.head.appendChild(N);break;case"meta":if($=kC("meta","content",T).get(x+(m.content||""))){for(G=0;G<$.length;G++)if(N=$[G],N.getAttribute("content")===(m.content==null?null:""+m.content)&&N.getAttribute("name")===(m.name==null?null:m.name)&&N.getAttribute("property")===(m.property==null?null:m.property)&&N.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&N.getAttribute("charset")===(m.charSet==null?null:m.charSet)){$.splice(G,1);break t}}N=T.createElement(x),wr(N,x,m),T.head.appendChild(N);break;default:throw Error(r(468,x))}N[Pn]=s,Rn(N),x=N}s.stateNode=x}else EC(T,s.type,s.stateNode);else s.stateNode=SC(T,x,s.memoizedProps);else N!==x?(N===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):N.count--,x===null?EC(T,s.type,s.stateNode):SC(T,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Ww(s,s.memoizedProps,m.memoizedProps)}break;case 27:ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),m!==null&&x&4&&Ww(s,s.memoizedProps,m.memoizedProps);break;case 5:if(ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),s.flags&32){T=s.stateNode;try{Xi(T,"")}catch(Ye){Bt(s,s.return,Ye)}}x&4&&s.stateNode!=null&&(T=s.memoizedProps,Ww(s,T,m!==null?m.memoizedProps:T)),x&1024&&(Xw=!0);break;case 6:if(ui(c,s),di(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(Ye){Bt(s,s.return,Ye)}}break;case 3:if(lg=null,T=Ia,Ia=og(c.containerInfo),ui(c,s),Ia=T,di(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{pd(c.containerInfo)}catch(Ye){Bt(s,s.return,Ye)}Xw&&(Xw=!1,EO(s));break;case 4:x=Ia,Ia=og(s.stateNode.containerInfo),ui(c,s),di(s),Ia=x;break;case 12:ui(c,s),di(s);break;case 31:ui(c,s),di(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,q0(s,x)));break;case 13:ui(c,s),di(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(W0=ze()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,q0(s,x)));break;case 22:T=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,me=ss,Se=Bn;if(ss=me||T,Bn=Se||te,ui(c,s),Bn=Se,ss=me,di(s),x&8192)e:for(c=s.stateNode,c._visibility=T?c._visibility&-2:c._visibility|1,T&&(m===null||te||ss||Bn||Rc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(N=te.stateNode,T)$=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{G=te.stateNode;var je=te.memoizedProps.style,ge=je!=null&&je.hasOwnProperty("display")?je.display:null;G.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Ye){Bt(te,te.return,Ye)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=T?"":te.memoizedProps}catch(Ye){Bt(te,te.return,Ye)}}}else if(c.tag===18){if(m===null){te=c;try{var ve=te.stateNode;T?mC(ve,!0):mC(te.stateNode,!1)}catch(Ye){Bt(te,te.return,Ye)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,q0(s,m))));break;case 19:ui(c,s),di(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,q0(s,x)));break;case 30:break;case 21:break;default:ui(c,s),di(s)}}function di(s){var c=s.flags;if(c&2){try{for(var m,x=s.return;x!==null;){if(gO(x)){m=x;break}x=x.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var T=m.stateNode,N=Vw(s);Y0(s,N,T);break;case 5:var $=m.stateNode;m.flags&32&&(Xi($,""),m.flags&=-33);var G=Vw(s);Y0(s,G,$);break;case 3:case 4:var te=m.stateNode.containerInfo,me=Vw(s);Zw(s,me,te);break;default:throw Error(r(161))}}catch(Se){Bt(s,s.return,Se)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function EO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;EO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function cs(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)vO(s,c.alternate,c),c=c.sibling}function Rc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:gl(4,c,c.return),Rc(c);break;case 1:xo(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&mO(c,c.return,m),Rc(c);break;case 27:Dh(c.stateNode);case 26:case 5:xo(c,c.return),Rc(c);break;case 22:c.memoizedState===null&&Rc(c);break;case 30:Rc(c);break;default:Rc(c)}s=s.sibling}}function us(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,T=s,N=c,$=N.flags;switch(N.tag){case 0:case 11:case 15:us(T,N,m),Sh(4,N);break;case 1:if(us(T,N,m),x=N,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(me){Bt(x,x.return,me)}if(x=N,T=x.updateQueue,T!==null){var G=x.stateNode;try{var te=T.shared.hiddenCallbacks;if(te!==null)for(T.shared.hiddenCallbacks=null,T=0;T<te.length;T++)nN(te[T],G)}catch(me){Bt(x,x.return,me)}}m&&$&64&&hO(N),kh(N,N.return);break;case 27:bO(N);case 26:case 5:us(T,N,m),m&&x===null&&$&4&&pO(N),kh(N,N.return);break;case 12:us(T,N,m);break;case 31:us(T,N,m),m&&$&4&&_O(T,N);break;case 13:us(T,N,m),m&&$&4&&SO(T,N);break;case 22:N.memoizedState===null&&us(T,N,m),kh(N,N.return);break;case 30:break;default:us(T,N,m)}c=c.sibling}}function Jw(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&uh(m))}function Qw(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&uh(s))}function $a(s,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)TO(s,c,m,x),c=c.sibling}function TO(s,c,m,x){var T=c.flags;switch(c.tag){case 0:case 11:case 15:$a(s,c,m,x),T&2048&&Sh(9,c);break;case 1:$a(s,c,m,x);break;case 3:$a(s,c,m,x),T&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&uh(s)));break;case 12:if(T&2048){$a(s,c,m,x),s=c.stateNode;try{var N=c.memoizedProps,$=N.id,G=N.onPostCommit;typeof G=="function"&&G($,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Bt(c,c.return,te)}}else $a(s,c,m,x);break;case 31:$a(s,c,m,x);break;case 13:$a(s,c,m,x);break;case 23:break;case 22:N=c.stateNode,$=c.alternate,c.memoizedState!==null?N._visibility&2?$a(s,c,m,x):Eh(s,c):N._visibility&2?$a(s,c,m,x):(N._visibility|=2,id(s,c,m,x,(c.subtreeFlags&10256)!==0||!1)),T&2048&&Jw($,c);break;case 24:$a(s,c,m,x),T&2048&&Qw(c.alternate,c);break;default:$a(s,c,m,x)}}function id(s,c,m,x,T){for(T=T&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=s,$=c,G=m,te=x,me=$.flags;switch($.tag){case 0:case 11:case 15:id(N,$,G,te,T),Sh(8,$);break;case 23:break;case 22:var Se=$.stateNode;$.memoizedState!==null?Se._visibility&2?id(N,$,G,te,T):Eh(N,$):(Se._visibility|=2,id(N,$,G,te,T)),T&&me&2048&&Jw($.alternate,$);break;case 24:id(N,$,G,te,T),T&&me&2048&&Qw($.alternate,$);break;default:id(N,$,G,te,T)}c=c.sibling}}function Eh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,x=c,T=x.flags;switch(x.tag){case 22:Eh(m,x),T&2048&&Jw(x.alternate,x);break;case 24:Eh(m,x),T&2048&&Qw(x.alternate,x);break;default:Eh(m,x)}c=c.sibling}}var Th=8192;function ad(s,c,m){if(s.subtreeFlags&Th)for(s=s.child;s!==null;)AO(s,c,m),s=s.sibling}function AO(s,c,m){switch(s.tag){case 26:ad(s,c,m),s.flags&Th&&s.memoizedState!==null&&DG(m,Ia,s.memoizedState,s.memoizedProps);break;case 5:ad(s,c,m);break;case 3:case 4:var x=Ia;Ia=og(s.stateNode.containerInfo),ad(s,c,m),Ia=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Th,Th=16777216,ad(s,c,m),Th=x):ad(s,c,m));break;default:ad(s,c,m)}}function jO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Ah(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];sr=x,OO(x,s)}jO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)NO(s),s=s.sibling}function NO(s){switch(s.tag){case 0:case 11:case 15:Ah(s),s.flags&2048&&gl(9,s,s.return);break;case 3:Ah(s);break;case 12:Ah(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,K0(s)):Ah(s);break;default:Ah(s)}}function K0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];sr=x,OO(x,s)}jO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:gl(8,c,c.return),K0(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,K0(c));break;default:K0(c)}s=s.sibling}}function OO(s,c){for(;sr!==null;){var m=sr;switch(m.tag){case 0:case 11:case 15:gl(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:uh(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,sr=x;else e:for(m=s;sr!==null;){x=sr;var T=x.sibling,N=x.return;if(xO(x),x===m){sr=null;break e}if(T!==null){T.return=N,sr=T;break e}sr=N}}}var WH={getCacheForType:function(s){var c=vr(Ln),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return vr(Ln).controller.signal}},VH=typeof WeakMap=="function"?WeakMap:Map,Ct=0,qt=null,yt=null,wt=0,$t=0,Ci=null,bl=!1,od=!1,e_=!1,ds=0,kn=0,yl=0,Lc=0,t_=0,Mi=0,sd=0,jh=null,fi=null,n_=!1,W0=0,CO=0,V0=1/0,Z0=null,vl=null,Zn=0,xl=null,ld=null,fs=0,r_=0,i_=null,MO=null,Nh=0,a_=null;function Di(){return(Ct&2)!==0&&wt!==0?wt&-wt:Y.T!==null?d_():Bf()}function DO(){if(Mi===0)if((wt&536870912)===0||bt){var s=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),Mi=s}else Mi=536870912;return s=Ni.current,s!==null&&(s.flags|=32),Mi}function hi(s,c,m){(s===qt&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(cd(s,0),wl(s,wt,Mi,!1)),Yo(s,m),((Ct&2)===0||s!==qt)&&(s===qt&&((Ct&2)===0&&(Lc|=m),kn===4&&wl(s,wt,Mi,!1)),wo(s))}function PO(s,c,m){if((Ct&6)!==0)throw Error(r(327));var x=!m&&(c&127)===0&&(c&s.expiredLanes)===0||tc(s,c),T=x?JH(s,c):s_(s,c,!0),N=x;do{if(T===0){od&&!x&&wl(s,c,0,!1);break}else{if(m=s.current.alternate,N&&!ZH(m)){T=s_(s,c,!1),N=!1;continue}if(T===2){if(N=c,s.errorRecoveryDisabledLanes&N)var $=0;else $=s.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var G=s;T=jh;var te=G.current.memoizedState.isDehydrated;if(te&&(cd(G,$).flags|=256),$=s_(G,$,!1),$!==2){if(e_&&!te){G.errorRecoveryDisabledLanes|=N,Lc|=N,T=4;break e}N=fi,fi=T,N!==null&&(fi===null?fi=N:fi.push.apply(fi,N))}T=$}if(N=!1,T!==2)continue}}if(T===1){cd(s,0),wl(s,c,0,!0);break}e:{switch(x=s,N=T,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:wl(x,c,Mi,!bl);break e;case 2:fi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(T=W0+300-ze(),10<T)){if(wl(x,c,Mi,!bl),Nu(x,0,!0)!==0)break e;fs=c,x.timeoutHandle=dC(RO.bind(null,x,m,fi,Z0,n_,c,Mi,Lc,sd,bl,N,"Throttled",-0,0),T);break e}RO(x,m,fi,Z0,n_,c,Mi,Lc,sd,bl,N,null,-0,0)}}break}while(!0);wo(s)}function RO(s,c,m,x,T,N,$,G,te,me,Se,je,ge,ve){if(s.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},AO(c,N,je);var Ye=(N&62914560)===N?W0-ze():(N&4194048)===N?CO-ze():0;if(Ye=PG(je,Ye),Ye!==null){fs=N,s.cancelPendingCommit=Ye(HO.bind(null,s,c,N,m,x,T,$,G,te,Se,je,null,ge,ve)),wl(s,N,$,!me);return}}HO(s,c,N,m,x,T,$,G,te)}function ZH(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var T=m[x],N=T.getSnapshot;T=T.value;try{if(!ar(N(),T))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function wl(s,c,m,x){c&=~t_,c&=~Lc,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var T=c;0<T;){var N=31-Kn(T),$=1<<N;x[N]=-1,T&=~$}m!==0&&Vp(s,m,c)}function X0(){return(Ct&6)===0?(Oh(0),!1):!0}function o_(){if(yt!==null){if($t===0)var s=yt.return;else s=yt,La=vo=null,_w(s),Qu=null,fh=0,s=yt;for(;s!==null;)fO(s.alternate,s),s=s.return;yt=null}}function cd(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,gG(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),fs=0,o_(),qt=s,yt=m=ia(s.current,null),wt=c,$t=0,Ci=null,bl=!1,od=tc(s,c),e_=!1,sd=Mi=t_=Lc=yl=kn=0,fi=jh=null,n_=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var T=31-Kn(x),N=1<<T;c|=s[T],x&=~N}return ds=c,Sc(),m}function LO(s,c){dt=null,Y.H=xh,c===Ju||c===T0?(c=Jj(),$t=3):c===uw?(c=Jj(),$t=4):$t=c===$w?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ci=c,yt===null&&(kn=1,z0(s,v(c,s.current)))}function IO(){var s=Ni.current;return s===null?!0:(wt&4194048)===wt?aa===null:(wt&62914560)===wt||(wt&536870912)!==0?s===aa:!1}function $O(){var s=Y.H;return Y.H=xh,s===null?xh:s}function BO(){var s=Y.A;return Y.A=WH,s}function J0(){kn=4,bl||(wt&4194048)!==wt&&Ni.current!==null||(od=!0),(yl&134217727)===0&&(Lc&134217727)===0||qt===null||wl(qt,wt,Mi,!1)}function s_(s,c,m){var x=Ct;Ct|=2;var T=$O(),N=BO();(qt!==s||wt!==c)&&(Z0=null,cd(s,c)),c=!1;var $=kn;e:do try{if($t!==0&&yt!==null){var G=yt,te=Ci;switch($t){case 8:o_(),$=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(c=!0);var me=$t;if($t=0,Ci=null,ud(s,G,te,me),m&&od){$=0;break e}break;default:me=$t,$t=0,Ci=null,ud(s,G,te,me)}}XH(),$=kn;break}catch(Se){LO(s,Se)}while(!0);return c&&s.shellSuspendCounter++,La=vo=null,Ct=x,Y.H=T,Y.A=N,yt===null&&(qt=null,wt=0,Sc()),$}function XH(){for(;yt!==null;)zO(yt)}function JH(s,c){var m=Ct;Ct|=2;var x=$O(),T=BO();qt!==s||wt!==c?(Z0=null,V0=ze()+500,cd(s,c)):od=tc(s,c);e:do try{if($t!==0&&yt!==null){c=yt;var N=Ci;t:switch($t){case 1:$t=0,Ci=null,ud(s,c,N,1);break;case 2:case 9:if(Zj(N)){$t=0,Ci=null,UO(c);break}c=function(){$t!==2&&$t!==9||qt!==s||($t=7),wo(s)},N.then(c,c);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Zj(N)?($t=0,Ci=null,UO(c)):($t=0,Ci=null,ud(s,c,N,7));break;case 5:var $=null;switch(yt.tag){case 26:$=yt.memoizedState;case 5:case 27:var G=yt;if($?TC($):G.stateNode.complete){$t=0,Ci=null;var te=G.sibling;if(te!==null)yt=te;else{var me=G.return;me!==null?(yt=me,Q0(me)):yt=null}break t}}$t=0,Ci=null,ud(s,c,N,5);break;case 6:$t=0,Ci=null,ud(s,c,N,6);break;case 8:o_(),kn=6;break e;default:throw Error(r(462))}}QH();break}catch(Se){LO(s,Se)}while(!0);return La=vo=null,Y.H=x,Y.A=T,Ct=m,yt!==null?0:(qt=null,wt=0,Sc(),kn)}function QH(){for(;yt!==null&&!ce();)zO(yt)}function zO(s){var c=uO(s.alternate,s,ds);s.memoizedProps=s.pendingProps,c===null?Q0(s):yt=c}function UO(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=iO(m,c,c.pendingProps,c.type,void 0,wt);break;case 11:c=iO(m,c,c.pendingProps,c.type.render,c.ref,wt);break;case 5:_w(c);default:fO(m,c),c=yt=ah(c,ds),c=uO(m,c,ds)}s.memoizedProps=s.pendingProps,c===null?Q0(s):yt=c}function ud(s,c,m,x){La=vo=null,_w(c),Qu=null,fh=0;var T=c.return;try{if(UH(s,T,c,m,wt)){kn=1,z0(s,v(m,s.current)),yt=null;return}}catch(N){if(T!==null)throw yt=T,N;kn=1,z0(s,v(m,s.current)),yt=null;return}c.flags&32768?(bt||x===1?s=!0:od||(wt&536870912)!==0?s=!1:(bl=s=!0,(x===2||x===9||x===3||x===6)&&(x=Ni.current,x!==null&&x.tag===13&&(x.flags|=16384))),FO(c,s)):Q0(c)}function Q0(s){var c=s;do{if((c.flags&32768)!==0){FO(c,bl);return}s=c.return;var m=GH(c.alternate,c,ds);if(m!==null){yt=m;return}if(c=c.sibling,c!==null){yt=c;return}yt=c=s}while(c!==null);kn===0&&(kn=5)}function FO(s,c){do{var m=YH(s.alternate,s);if(m!==null){m.flags&=32767,yt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){yt=s;return}yt=s=m}while(s!==null);kn=6,yt=null}function HO(s,c,m,x,T,N,$,G,te){s.cancelPendingCommit=null;do eg();while(Zn!==0);if((Ct&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=Yu,Hx(s,m,N,$,G,te),s===qt&&(yt=qt=null,wt=0),ld=c,xl=s,fs=m,r_=N,i_=T,MO=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,rG(Jt,function(){return WO(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=Y.T,Y.T=null,T=J.p,J.p=2,$=Ct,Ct|=4;try{qH(s,c,m)}finally{Ct=$,J.p=T,Y.T=x}}Zn=1,GO(),YO(),qO()}}function GO(){if(Zn===1){Zn=0;var s=xl,c=ld,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null;var x=J.p;J.p=2;var T=Ct;Ct|=4;try{kO(c,s);var N=v_,$=yc(s.containerInfo),G=N.focusedElem,te=N.selectionRange;if($!==G&&G&&G.ownerDocument&&Uu(G.ownerDocument.documentElement,G)){if(te!==null&&fo(G)){var me=te.start,Se=te.end;if(Se===void 0&&(Se=me),"selectionStart"in G)G.selectionStart=me,G.selectionEnd=Math.min(Se,G.value.length);else{var je=G.ownerDocument||document,ge=je&&je.defaultView||window;if(ge.getSelection){var ve=ge.getSelection(),Ye=G.textContent.length,rt=Math.min(te.start,Ye),Gt=te.end===void 0?rt:Math.min(te.end,Ye);!ve.extend&&rt>Gt&&($=Gt,Gt=rt,rt=$);var ue=bc(G,rt),ie=bc(G,Gt);if(ue&&ie&&(ve.rangeCount!==1||ve.anchorNode!==ue.node||ve.anchorOffset!==ue.offset||ve.focusNode!==ie.node||ve.focusOffset!==ie.offset)){var he=je.createRange();he.setStart(ue.node,ue.offset),ve.removeAllRanges(),rt>Gt?(ve.addRange(he),ve.extend(ie.node,ie.offset)):(he.setEnd(ie.node,ie.offset),ve.addRange(he))}}}}for(je=[],ve=G;ve=ve.parentNode;)ve.nodeType===1&&je.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<je.length;G++){var Ee=je[G];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}fg=!!y_,v_=y_=null}finally{Ct=T,J.p=x,Y.T=m}}s.current=c,Zn=2}}function YO(){if(Zn===2){Zn=0;var s=xl,c=ld,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Y.T,Y.T=null;var x=J.p;J.p=2;var T=Ct;Ct|=4;try{vO(s,c.alternate,c)}finally{Ct=T,J.p=x,Y.T=m}}Zn=3}}function qO(){if(Zn===4||Zn===3){Zn=0,Oe();var s=xl,c=ld,m=fs,x=MO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Zn=5:(Zn=0,ld=xl=null,KO(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(vl=null),We(m),c=c.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(It,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=Y.T,T=J.p,J.p=2,Y.T=null;try{for(var N=s.onRecoverableError,$=0;$<x.length;$++){var G=x[$];N(G.value,{componentStack:G.stack})}}finally{Y.T=c,J.p=T}}(fs&3)!==0&&eg(),wo(s),T=s.pendingLanes,(m&261930)!==0&&(T&42)!==0?s===a_?Nh++:(Nh=0,a_=s):Nh=0,Oh(0)}}function KO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,uh(c)))}function eg(){return GO(),YO(),qO(),WO()}function WO(){if(Zn!==5)return!1;var s=xl,c=r_;r_=0;var m=We(fs),x=Y.T,T=J.p;try{J.p=32>m?32:m,Y.T=null,m=i_,i_=null;var N=xl,$=fs;if(Zn=0,ld=xl=null,fs=0,(Ct&6)!==0)throw Error(r(331));var G=Ct;if(Ct|=4,NO(N.current),TO(N,N.current,$,m),Ct=G,Oh(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(It,N)}catch{}return!0}finally{J.p=T,Y.T=x,KO(s,c)}}function VO(s,c,m){c=v(m,c),c=Iw(s.stateNode,c,2),s=hl(s,c,2),s!==null&&(Yo(s,2),wo(s))}function Bt(s,c,m){if(s.tag===3)VO(s,s,m);else for(;c!==null;){if(c.tag===3){VO(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(vl===null||!vl.has(x))){s=v(m,s),m=ZN(2),x=hl(c,m,2),x!==null&&(XN(m,x,c,s),Yo(x,2),wo(x));break}}c=c.return}}function l_(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new VH;var T=new Set;x.set(c,T)}else T=x.get(c),T===void 0&&(T=new Set,x.set(c,T));T.has(m)||(e_=!0,T.add(m),s=eG.bind(null,s,c,m),c.then(s,s))}function eG(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,qt===s&&(wt&m)===m&&(kn===4||kn===3&&(wt&62914560)===wt&&300>ze()-W0?(Ct&2)===0&&cd(s,0):t_|=m,sd===wt&&(sd=0)),wo(s)}function ZO(s,c){c===0&&(c=Wp()),s=ra(s,c),s!==null&&(Yo(s,c),wo(s))}function tG(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),ZO(s,m)}function nG(s,c){var m=0;switch(s.tag){case 31:case 13:var x=s.stateNode,T=s.memoizedState;T!==null&&(m=T.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),ZO(s,m)}function rG(s,c){return Be(s,c)}var tg=null,dd=null,c_=!1,ng=!1,u_=!1,_l=0;function wo(s){s!==dd&&s.next===null&&(dd===null?tg=dd=s:dd=dd.next=s),ng=!0,c_||(c_=!0,aG())}function Oh(s,c){if(!u_&&ng){u_=!0;do for(var m=!1,x=tg;x!==null;){if(s!==0){var T=x.pendingLanes;if(T===0)var N=0;else{var $=x.suspendedLanes,G=x.pingedLanes;N=(1<<31-Kn(42|s)+1)-1,N&=T&~($&~G),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(m=!0,eC(x,N))}else N=wt,N=Nu(x,x===qt?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||tc(x,N)||(m=!0,eC(x,N));x=x.next}while(m);u_=!1}}function iG(){XO()}function XO(){ng=c_=!1;var s=0;_l!==0&&pG()&&(s=_l);for(var c=ze(),m=null,x=tg;x!==null;){var T=x.next,N=JO(x,c);N===0?(x.next=null,m===null?tg=T:m.next=T,T===null&&(dd=m)):(m=x,(s!==0||(N&3)!==0)&&(ng=!0)),x=T}Zn!==0&&Zn!==5||Oh(s),_l!==0&&(_l=0)}function JO(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,T=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var $=31-Kn(N),G=1<<$,te=T[$];te===-1?((G&m)===0||(G&x)!==0)&&(T[$]=Fx(G,c)):te<=c&&(s.expiredLanes|=G),N&=~G}if(c=qt,m=wt,m=Nu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===c&&($t===2||$t===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&st(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||tc(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(x!==null&&st(x),We(m)){case 2:case 8:m=pt;break;case 32:m=Jt;break;case 268435456:m=Ur;break;default:m=Jt}return x=QO.bind(null,s),m=Be(m,x),s.callbackPriority=c,s.callbackNode=m,c}return x!==null&&x!==null&&st(x),s.callbackPriority=2,s.callbackNode=null,2}function QO(s,c){if(Zn!==0&&Zn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(eg()&&s.callbackNode!==m)return null;var x=wt;return x=Nu(s,s===qt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(PO(s,x,c),JO(s,ze()),s.callbackNode!=null&&s.callbackNode===m?QO.bind(null,s):null)}function eC(s,c){if(eg())return null;PO(s,c,!0)}function aG(){bG(function(){(Ct&6)!==0?Be(Et,iG):XO()})}function d_(){if(_l===0){var s=Zu;s===0&&(s=nt,nt<<=1,(nt&261888)===0&&(nt=256)),_l=s}return _l}function tC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xs(""+s)}function nC(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function oG(s,c,m,x,T){if(c==="submit"&&m&&m.stateNode===T){var N=tC((T[ir]||null).action),$=x.submitter;$&&(c=(c=$[ir]||null)?tC(c.formAction):$.getAttribute("formAction"),c!==null&&(N=c,$=null));var G=new Pu("action","action",null,x,T);s.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(_l!==0){var te=$?nC(T,$):new FormData(T);Cw(m,{pending:!0,data:te,method:T.method,action:N},null,te)}}else typeof N=="function"&&(G.preventDefault(),te=$?nC(T,$):new FormData(T),Cw(m,{pending:!0,data:te,method:T.method,action:N},N,te))},currentTarget:T}]})}}for(var f_=0;f_<po.length;f_++){var h_=po[f_],sG=h_.toLowerCase(),lG=h_[0].toUpperCase()+h_.slice(1);oi(sG,"on"+lG)}oi(xc,"onAnimationEnd"),oi(x0,"onAnimationIteration"),oi(wc,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(nw,"onTransitionRun"),oi(w0,"onTransitionStart"),oi(rw,"onTransitionCancel"),oi(ll,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ch));function rC(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],T=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var $=x.length-1;0<=$;$--){var G=x[$],te=G.instance,me=G.currentTarget;if(G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=me;try{N(T)}catch(Se){_c(Se)}T.currentTarget=null,N=te}else for($=0;$<x.length;$++){if(G=x[$],te=G.instance,me=G.currentTarget,G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=me;try{N(T)}catch(Se){_c(Se)}T.currentTarget=null,N=te}}}}function vt(s,c){var m=c[ao];m===void 0&&(m=c[ao]=new Set);var x=s+"__bubble";m.has(x)||(iC(c,s,2,!1),m.add(x))}function m_(s,c,m){var x=0;c&&(x|=4),iC(m,s,x,c)}var rg="_reactListening"+Math.random().toString(36).slice(2);function p_(s){if(!s[rg]){s[rg]=!0,e0.forEach(function(m){m!=="selectionchange"&&(cG.has(m)||m_(m,!1,s),m_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[rg]||(c[rg]=!0,m_("selectionchange",!1,c))}}function iC(s,c,m,x){switch(DC(c)){case 2:var T=IG;break;case 8:T=$G;break;default:T=O_}m=T.bind(null,c,m,s),T=void 0,!lc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),x?T!==void 0?s.addEventListener(c,m,{capture:!0,passive:T}):s.addEventListener(c,m,!0):T!==void 0?s.addEventListener(c,m,{passive:T}):s.addEventListener(c,m,!1)}function g_(s,c,m,x,T){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var G=x.stateNode.containerInfo;if(G===T)break;if($===4)for($=x.return;$!==null;){var te=$.tag;if((te===3||te===4)&&$.stateNode.containerInfo===T)return;$=$.return}for(;G!==null;){if($=Ko(G),$===null)return;if(te=$.tag,te===5||te===6||te===26||te===27){x=N=$;continue e}G=G.parentNode}}x=x.return}Wf(function(){var me=N,Se=sc(m),je=[];e:{var ge=_0.get(s);if(ge!==void 0){var ve=Pu,Ye=s;switch(s){case"keypress":if(cc(m)===0)break e;case"keydown":case"keyup":ve=l0;break;case"focusin":Ye="focus",ve=Xf;break;case"focusout":Ye="blur",ve=Xf;break;case"beforeblur":case"afterblur":ve=Xf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=r0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Zx;break;case xc:case x0:case wc:ve=Jf;break;case ll:ve=d0;break;case"scroll":case"scrollend":ve=xt;break;case"wheel":ve=Jo;break;case"copy":case"cut":case"paste":ve=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=c0;break;case"toggle":case"beforetoggle":ve=fc}var rt=(c&4)!==0,Gt=!rt&&(s==="scroll"||s==="scrollend"),ue=rt?ge!==null?ge+"Capture":null:ge;rt=[];for(var ie=me,he;ie!==null;){var Ee=ie;if(he=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||he===null||ue===null||(Ee=Zo(ie,ue),Ee!=null&&rt.push(Mh(ie,Ee,he))),Gt)break;ie=ie.return}0<rt.length&&(ge=new ve(ge,Ye,null,m,Se),je.push({event:ge,listeners:rt}))}}if((c&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",ge&&m!==Du&&(Ye=m.relatedTarget||m.fromElement)&&(Ko(Ye)||Ye[qo]))break e;if((ve||ge)&&(ge=Se.window===Se?Se:(ge=Se.ownerDocument)?ge.defaultView||ge.parentWindow:window,ve?(Ye=m.relatedTarget||m.toElement,ve=me,Ye=Ye?Ko(Ye):null,Ye!==null&&(Gt=a(Ye),rt=Ye.tag,Ye!==Gt||rt!==5&&rt!==27&&rt!==6)&&(Ye=null)):(ve=null,Ye=me),ve!==Ye)){if(rt=r0,Ee="onMouseLeave",ue="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(rt=c0,Ee="onPointerLeave",ue="onPointerEnter",ie="pointer"),Gt=ve==null?ge:oo(ve),he=Ye==null?ge:oo(Ye),ge=new rt(Ee,ie+"leave",ve,m,Se),ge.target=Gt,ge.relatedTarget=he,Ee=null,Ko(Se)===me&&(rt=new rt(ue,ie+"enter",Ye,m,Se),rt.target=he,rt.relatedTarget=Gt,Ee=rt),Gt=Ee,ve&&Ye)t:{for(rt=uG,ue=ve,ie=Ye,he=0,Ee=ue;Ee;Ee=rt(Ee))he++;Ee=0;for(var et=ie;et;et=rt(et))Ee++;for(;0<he-Ee;)ue=rt(ue),he--;for(;0<Ee-he;)ie=rt(ie),Ee--;for(;he--;){if(ue===ie||ie!==null&&ue===ie.alternate){rt=ue;break t}ue=rt(ue),ie=rt(ie)}rt=null}else rt=null;ve!==null&&aC(je,ge,ve,rt,!1),Ye!==null&&Gt!==null&&aC(je,Gt,Ye,rt,!0)}}e:{if(ge=me?oo(me):window,ve=ge.nodeName&&ge.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ge.type==="file")var jt=gc;else if(ea(ge))if(p0)jt=tw;else{jt=ew;var Ke=Da}else ve=ge.nodeName,!ve||ve.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&oc(me.elementType)&&(jt=gc):jt=il;if(jt&&(jt=jt(s,me))){m0(je,jt,m,Se);break e}Ke&&Ke(s,ge,me),s==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&Oa(ge,"number",ge.value)}switch(Ke=me?oo(me):window,s){case"focusin":(ea(Ke)||Ke.contentEditable==="true")&&(ho=Ke,Hu=me,vc=null);break;case"focusout":vc=Hu=ho=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,y0(je,m,Se);break;case"selectionchange":if(Fu)break;case"keydown":case"keyup":y0(je,m,Se)}var ht;if(Lu)e:{switch(s){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else tl?h0(s,m)&&(_t="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(_t="onCompositionStart");_t&&(Iu&&m.locale!=="ko"&&(tl||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&tl&&(ht=co()):(Ji=Se,Xo="value"in Ji?Ji.value:Ji.textContent,tl=!0)),Ke=ig(me,_t),0<Ke.length&&(_t=new Qf(_t,s,null,m,Se),je.push({event:_t,listeners:Ke}),ht?_t.data=ht:(ht=rh(m),ht!==null&&(_t.data=ht)))),(ht=Jx?ji(s,m):nl(s,m))&&(_t=ig(me,"onBeforeInput"),0<_t.length&&(Ke=new Qf("onBeforeInput","beforeinput",null,m,Se),je.push({event:Ke,listeners:_t}),Ke.data=ht)),oG(je,s,me,m,Se)}rC(je,c)})}function Mh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function ig(s,c){for(var m=c+"Capture",x=[];s!==null;){var T=s,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Zo(s,m),T!=null&&x.unshift(Mh(s,T,N)),T=Zo(s,c),T!=null&&x.push(Mh(s,T,N))),s.tag===3)return x;s=s.return}return[]}function uG(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aC(s,c,m,x,T){for(var N=c._reactName,$=[];m!==null&&m!==x;){var G=m,te=G.alternate,me=G.stateNode;if(G=G.tag,te!==null&&te===x)break;G!==5&&G!==26&&G!==27||me===null||(te=me,T?(me=Zo(m,N),me!=null&&$.unshift(Mh(m,me,te))):T||(me=Zo(m,N),me!=null&&$.push(Mh(m,me,te)))),m=m.return}$.length!==0&&s.push({event:c,listeners:$})}var dG=/\r\n?/g,fG=/\u0000|\uFFFD/g;function oC(s){return(typeof s=="string"?s:""+s).replace(dG,`
`).replace(fG,"")}function sC(s,c){return c=oC(c),oC(s)===c}function Ht(s,c,m,x,T,N){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||Xi(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&Xi(s,""+x);break;case"className":Ut(s,"class",x);break;case"tabIndex":Ut(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ut(s,m,x);break;case"style":Cu(s,x,N);break;case"data":if(c!=="object"){Ut(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Xs(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(m==="formAction"?(c!=="input"&&Ht(s,c,"name",T.name,T,null),Ht(s,c,"formEncType",T.formEncType,T,null),Ht(s,c,"formMethod",T.formMethod,T,null),Ht(s,c,"formTarget",T.formTarget,T,null)):(Ht(s,c,"encType",T.encType,T,null),Ht(s,c,"method",T.method,T,null),Ht(s,c,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Xs(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=ii);break;case"onScroll":x!=null&&vt("scroll",s);break;case"onScrollEnd":x!=null&&vt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Xs(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":vt("beforetoggle",s),vt("toggle",s),gt(s,"popover",x);break;case"xlinkActuate":ri(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ri(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ri(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ri(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ri(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ri(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ri(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ri(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ri(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":gt(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Mu.get(m)||m,gt(s,m,x))}}function b_(s,c,m,x,T,N){switch(m){case"style":Cu(s,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof x=="string"?Xi(s,x):(typeof x=="number"||typeof x=="bigint")&&Xi(s,""+x);break;case"onScroll":x!=null&&vt("scroll",s);break;case"onScrollEnd":x!=null&&vt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!t0.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),c=m.slice(2,T?m.length-7:void 0),N=s[ir]||null,N=N!=null?N[m]:null,typeof N=="function"&&s.removeEventListener(c,N,T),typeof x=="function")){typeof N!="function"&&N!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,x,T);break e}m in s?s[m]=x:x===!0?s.setAttribute(m,""):gt(s,m,x)}}}function wr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",s),vt("load",s);var x=!1,T=!1,N;for(N in m)if(m.hasOwnProperty(N)){var $=m[N];if($!=null)switch(N){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ht(s,c,N,$,m,null)}}T&&Ht(s,c,"srcSet",m.srcSet,m,null),x&&Ht(s,c,"src",m.src,m,null);return;case"input":vt("invalid",s);var G=N=$=T=null,te=null,me=null;for(x in m)if(m.hasOwnProperty(x)){var Se=m[x];if(Se!=null)switch(x){case"name":T=Se;break;case"type":$=Se;break;case"checked":te=Se;break;case"defaultChecked":me=Se;break;case"value":N=Se;break;case"defaultValue":G=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,c));break;default:Ht(s,c,x,Se,m,null)}}ac(s,N,G,te,me,$,T,!1);return;case"select":vt("invalid",s),x=$=N=null;for(T in m)if(m.hasOwnProperty(T)&&(G=m[T],G!=null))switch(T){case"value":N=G;break;case"defaultValue":$=G;break;case"multiple":x=G;default:Ht(s,c,T,G,m,null)}c=N,m=$,s.multiple=!!x,c!=null?Yt(s,!!x,c,!1):m!=null&&Yt(s,!!x,m,!0);return;case"textarea":vt("invalid",s),N=T=x=null;for($ in m)if(m.hasOwnProperty($)&&(G=m[$],G!=null))switch($){case"value":x=G;break;case"defaultValue":T=G;break;case"children":N=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Ht(s,c,$,G,m,null)}Vs(s,x,T,N);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(x=m[te],x!=null))switch(te){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ht(s,c,te,x,m,null)}return;case"dialog":vt("beforetoggle",s),vt("toggle",s),vt("cancel",s),vt("close",s);break;case"iframe":case"object":vt("load",s);break;case"video":case"audio":for(x=0;x<Ch.length;x++)vt(Ch[x],s);break;case"image":vt("error",s),vt("load",s);break;case"details":vt("toggle",s);break;case"embed":case"source":case"link":vt("error",s),vt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(x=m[me],x!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ht(s,c,me,x,m,null)}return;default:if(oc(c)){for(Se in m)m.hasOwnProperty(Se)&&(x=m[Se],x!==void 0&&b_(s,c,Se,x,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(x=m[G],x!=null&&Ht(s,c,G,x,m,null))}function hG(s,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,$=null,G=null,te=null,me=null,Se=null;for(ve in m){var je=m[ve];if(m.hasOwnProperty(ve)&&je!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=je;default:x.hasOwnProperty(ve)||Ht(s,c,ve,null,x,je)}}for(var ge in x){var ve=x[ge];if(je=m[ge],x.hasOwnProperty(ge)&&(ve!=null||je!=null))switch(ge){case"type":N=ve;break;case"name":T=ve;break;case"checked":me=ve;break;case"defaultChecked":Se=ve;break;case"value":$=ve;break;case"defaultValue":G=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==je&&Ht(s,c,ge,ve,x,je)}}Yf(s,$,G,te,me,Se,N,T);return;case"select":ve=$=G=ge=null;for(N in m)if(te=m[N],m.hasOwnProperty(N)&&te!=null)switch(N){case"value":break;case"multiple":ve=te;default:x.hasOwnProperty(N)||Ht(s,c,N,null,x,te)}for(T in x)if(N=x[T],te=m[T],x.hasOwnProperty(T)&&(N!=null||te!=null))switch(T){case"value":ge=N;break;case"defaultValue":G=N;break;case"multiple":$=N;default:N!==te&&Ht(s,c,T,N,x,te)}c=G,m=$,x=ve,ge!=null?Yt(s,!!m,ge,!1):!!x!=!!m&&(c!=null?Yt(s,!!m,c,!0):Yt(s,!!m,m?[]:"",!1));return;case"textarea":ve=ge=null;for(G in m)if(T=m[G],m.hasOwnProperty(G)&&T!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Ht(s,c,G,null,x,T)}for($ in x)if(T=x[$],N=m[$],x.hasOwnProperty($)&&(T!=null||N!=null))switch($){case"value":ge=T;break;case"defaultValue":ve=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==N&&Ht(s,c,$,T,x,N)}lo(s,ge,ve);return;case"option":for(var Ye in m)if(ge=m[Ye],m.hasOwnProperty(Ye)&&ge!=null&&!x.hasOwnProperty(Ye))switch(Ye){case"selected":s.selected=!1;break;default:Ht(s,c,Ye,null,x,ge)}for(te in x)if(ge=x[te],ve=m[te],x.hasOwnProperty(te)&&ge!==ve&&(ge!=null||ve!=null))switch(te){case"selected":s.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Ht(s,c,te,ge,x,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in m)ge=m[rt],m.hasOwnProperty(rt)&&ge!=null&&!x.hasOwnProperty(rt)&&Ht(s,c,rt,null,x,ge);for(me in x)if(ge=x[me],ve=m[me],x.hasOwnProperty(me)&&ge!==ve&&(ge!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:Ht(s,c,me,ge,x,ve)}return;default:if(oc(c)){for(var Gt in m)ge=m[Gt],m.hasOwnProperty(Gt)&&ge!==void 0&&!x.hasOwnProperty(Gt)&&b_(s,c,Gt,void 0,x,ge);for(Se in x)ge=x[Se],ve=m[Se],!x.hasOwnProperty(Se)||ge===ve||ge===void 0&&ve===void 0||b_(s,c,Se,ge,x,ve);return}}for(var ue in m)ge=m[ue],m.hasOwnProperty(ue)&&ge!=null&&!x.hasOwnProperty(ue)&&Ht(s,c,ue,null,x,ge);for(je in x)ge=x[je],ve=m[je],!x.hasOwnProperty(je)||ge===ve||ge==null&&ve==null||Ht(s,c,je,ge,x,ve)}function lC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mG(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),x=0;x<m.length;x++){var T=m[x],N=T.transferSize,$=T.initiatorType,G=T.duration;if(N&&G&&lC($)){for($=0,G=T.responseEnd,x+=1;x<m.length;x++){var te=m[x],me=te.startTime;if(me>G)break;var Se=te.transferSize,je=te.initiatorType;Se&&lC(je)&&(te=te.responseEnd,$+=Se*(te<G?1:(G-me)/(te-me)))}if(--x,c+=8*(N+$)/(T.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var y_=null,v_=null;function ag(s){return s.nodeType===9?s:s.ownerDocument}function cC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uC(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function x_(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var w_=null;function pG(){var s=window.event;return s&&s.type==="popstate"?s===w_?!1:(w_=s,!0):(w_=null,!1)}var dC=typeof setTimeout=="function"?setTimeout:void 0,gG=typeof clearTimeout=="function"?clearTimeout:void 0,fC=typeof Promise=="function"?Promise:void 0,bG=typeof queueMicrotask=="function"?queueMicrotask:typeof fC<"u"?function(s){return fC.resolve(null).then(s).catch(yG)}:dC;function yG(s){setTimeout(function(){throw s})}function Sl(s){return s==="head"}function hC(s,c){var m=c,x=0;do{var T=m.nextSibling;if(s.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"||m==="/&"){if(x===0){s.removeChild(T),pd(c);return}x--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")x++;else if(m==="html")Dh(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,Dh(m);for(var N=m.firstChild;N;){var $=N.nextSibling,G=N.nodeName;N[nc]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||m.removeChild(N),N=$}}else m==="body"&&Dh(s.ownerDocument.body);m=T}while(m);pd(c)}function mC(s,c){var m=s;s=0;do{var x=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=x}while(m)}function __(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":__(m),Uf(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function vG(s,c,m,x){for(;s.nodeType===1;){var T=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[nc])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=oa(s.nextSibling),s===null)break}return null}function xG(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=oa(s.nextSibling),s===null))return null;return s}function pC(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=oa(s.nextSibling),s===null))return null;return s}function S_(s){return s.data==="$?"||s.data==="$~"}function k_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function wG(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function oa(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var E_=null;function gC(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return oa(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function bC(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function yC(s,c,m){switch(c=ag(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Dh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Uf(s)}var sa=new Map,vC=new Set;function og(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var hs=J.d;J.d={f:_G,r:SG,D:kG,C:EG,L:TG,m:AG,X:NG,S:jG,M:OG};function _G(){var s=hs.f(),c=X0();return s||c}function SG(s){var c=qs(s);c!==null&&c.tag===5&&c.type==="form"?LN(c):hs.r(s)}var fd=typeof document>"u"?null:document;function xC(s,c,m){var x=fd;if(x&&typeof c=="string"&&c){var T=Qt(c);T='link[rel="'+s+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),vC.has(T)||(vC.add(T),s={rel:s,crossOrigin:m,href:c},x.querySelector(T)===null&&(c=x.createElement("link"),wr(c,"link",s),Rn(c),x.head.appendChild(c)))}}function kG(s){hs.D(s),xC("dns-prefetch",s,null)}function EG(s,c){hs.C(s,c),xC("preconnect",s,c)}function TG(s,c,m){hs.L(s,c,m);var x=fd;if(x&&s&&c){var T='link[rel="preload"][as="'+Qt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+Qt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+Qt(m.imageSizes)+'"]')):T+='[href="'+Qt(s)+'"]';var N=T;switch(c){case"style":N=hd(s);break;case"script":N=md(s)}sa.has(N)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),sa.set(N,s),x.querySelector(T)!==null||c==="style"&&x.querySelector(Ph(N))||c==="script"&&x.querySelector(Rh(N))||(c=x.createElement("link"),wr(c,"link",s),Rn(c),x.head.appendChild(c)))}}function AG(s,c){hs.m(s,c);var m=fd;if(m&&s){var x=c&&typeof c.as=="string"?c.as:"script",T='link[rel="modulepreload"][as="'+Qt(x)+'"][href="'+Qt(s)+'"]',N=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=md(s)}if(!sa.has(N)&&(s=p({rel:"modulepreload",href:s},c),sa.set(N,s),m.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Rh(N)))return}x=m.createElement("link"),wr(x,"link",s),Rn(x),m.head.appendChild(x)}}}function jG(s,c,m){hs.S(s,c,m);var x=fd;if(x&&s){var T=Ks(x).hoistableStyles,N=hd(s);c=c||"default";var $=T.get(N);if(!$){var G={loading:0,preload:null};if($=x.querySelector(Ph(N)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=sa.get(N))&&T_(s,m);var te=$=x.createElement("link");Rn(te),wr(te,"link",s),te._p=new Promise(function(me,Se){te.onload=me,te.onerror=Se}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,sg($,c,x)}$={type:"stylesheet",instance:$,count:1,state:G},T.set(N,$)}}}function NG(s,c){hs.X(s,c);var m=fd;if(m&&s){var x=Ks(m).hoistableScripts,T=md(s),N=x.get(T);N||(N=m.querySelector(Rh(T)),N||(s=p({src:s,async:!0},c),(c=sa.get(T))&&A_(s,c),N=m.createElement("script"),Rn(N),wr(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function OG(s,c){hs.M(s,c);var m=fd;if(m&&s){var x=Ks(m).hoistableScripts,T=md(s),N=x.get(T);N||(N=m.querySelector(Rh(T)),N||(s=p({src:s,async:!0,type:"module"},c),(c=sa.get(T))&&A_(s,c),N=m.createElement("script"),Rn(N),wr(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function wC(s,c,m,x){var T=(T=be.current)?og(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=hd(m.href),m=Ks(T).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=hd(m.href);var N=Ks(T).hoistableStyles,$=N.get(s);if($||(T=T.ownerDocument||T,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,$),(N=T.querySelector(Ph(s)))&&!N._p&&($.instance=N,$.state.loading=5),sa.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},sa.set(s,m),N||CG(T,s,m,$.state))),c&&x===null)throw Error(r(528,""));return $}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=md(m),m=Ks(T).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function hd(s){return'href="'+Qt(s)+'"'}function Ph(s){return'link[rel="stylesheet"]['+s+"]"}function _C(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function CG(s,c,m,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),wr(c,"link",m),Rn(c),s.head.appendChild(c))}function md(s){return'[src="'+Qt(s)+'"]'}function Rh(s){return"script[async]"+s}function SC(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+Qt(m.href)+'"]');if(x)return c.instance=x,Rn(x),x;var T=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),Rn(x),wr(x,"style",T),sg(x,m.precedence,s),c.instance=x;case"stylesheet":T=hd(m.href);var N=s.querySelector(Ph(T));if(N)return c.state.loading|=4,c.instance=N,Rn(N),N;x=_C(m),(T=sa.get(T))&&T_(x,T),N=(s.ownerDocument||s).createElement("link"),Rn(N);var $=N;return $._p=new Promise(function(G,te){$.onload=G,$.onerror=te}),wr(N,"link",x),c.state.loading|=4,sg(N,m.precedence,s),c.instance=N;case"script":return N=md(m.src),(T=s.querySelector(Rh(N)))?(c.instance=T,Rn(T),T):(x=m,(T=sa.get(N))&&(x=p({},m),A_(x,T)),s=s.ownerDocument||s,T=s.createElement("script"),Rn(T),wr(T,"link",x),s.head.appendChild(T),c.instance=T);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,sg(x,m.precedence,s));return c.instance}function sg(s,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,N=T,$=0;$<x.length;$++){var G=x[$];if(G.dataset.precedence===c)N=G;else if(N!==T)break}N?N.parentNode.insertBefore(s,N.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function T_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function A_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var lg=null;function kC(s,c,m){if(lg===null){var x=new Map,T=lg=new Map;T.set(m,x)}else T=lg,x=T.get(m),x||(x=new Map,T.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),T=0;T<m.length;T++){var N=m[T];if(!(N[nc]||N[Pn]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var $=N.getAttribute(c)||"";$=s+$;var G=x.get($);G?G.push(N):x.set($,[N])}}return x}function EC(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function MG(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function TC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function DG(s,c,m,x){if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var T=hd(x.href),N=c.querySelector(Ph(T));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=cg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=N,Rn(N);return}N=c.ownerDocument||c,x=_C(x),(T=sa.get(T))&&T_(x,T),N=N.createElement("link"),Rn(N);var $=N;$._p=new Promise(function(G,te){$.onload=G,$.onerror=te}),wr(N,"link",x),m.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=cg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var j_=0;function PG(s,c){return s.stylesheets&&s.count===0&&dg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var x=setTimeout(function(){if(s.stylesheets&&dg(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+c);0<s.imgBytes&&j_===0&&(j_=62500*mG());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&dg(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>j_?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(T)}}:null}function cg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ug=null;function dg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ug=new Map,c.forEach(RG,s),ug=null,cg.call(s))}function RG(s,c){if(!(c.state.loading&4)){var m=ug.get(s);if(m)var x=m.get(null);else{m=new Map,ug.set(s,m);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var $=T[N];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(m.set($.dataset.precedence,$),x=$)}x&&m.set(null,x)}T=c.instance,$=T.getAttribute("data-precedence"),N=m.get($)||x,N===x&&m.set(null,T),m.set($,T),this.count++,x=cg.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),N?N.parentNode.insertBefore(T,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),c.state.loading|=4}}var Lh={$$typeof:j,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function LG(s,c,m,x,T,N,$,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.hiddenUpdates=$f(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function AC(s,c,m,x,T,N,$,G,te,me,Se,je){return s=new LG(s,c,m,$,te,me,Se,je,G),c=1,N===!0&&(c|=24),N=Mr(3,null,null,c),s.current=N,N.stateNode=s,c=sw(),c.refCount++,s.pooledCache=c,c.refCount++,N.memoizedState={element:x,isDehydrated:m,cache:c},dw(N),s}function jC(s){return s?(s=Qo,s):Qo}function NC(s,c,m,x,T,N){T=jC(T),x.context===null?x.context=T:x.pendingContext=T,x=fl(c),x.payload={element:m},N=N===void 0?null:N,N!==null&&(x.callback=N),m=hl(s,x,c),m!==null&&(hi(m,s,c),mh(m,s,c))}function OC(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function N_(s,c){OC(s,c),(s=s.alternate)&&OC(s,c)}function CC(s){if(s.tag===13||s.tag===31){var c=ra(s,67108864);c!==null&&hi(c,s,67108864),N_(s,67108864)}}function MC(s){if(s.tag===13||s.tag===31){var c=Di();c=ni(c);var m=ra(s,c);m!==null&&hi(m,s,c),N_(s,c)}}var fg=!0;function IG(s,c,m,x){var T=Y.T;Y.T=null;var N=J.p;try{J.p=2,O_(s,c,m,x)}finally{J.p=N,Y.T=T}}function $G(s,c,m,x){var T=Y.T;Y.T=null;var N=J.p;try{J.p=8,O_(s,c,m,x)}finally{J.p=N,Y.T=T}}function O_(s,c,m,x){if(fg){var T=C_(x);if(T===null)g_(s,c,x,hg,m),PC(s,x);else if(zG(T,s,c,m,x))x.stopPropagation();else if(PC(s,x),c&4&&-1<BG.indexOf(s)){for(;T!==null;){var N=qs(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var $=ti(N.pendingLanes);if($!==0){var G=N;for(G.pendingLanes|=2,G.entangledLanes|=2;$;){var te=1<<31-Kn($);G.entanglements[1]|=te,$&=~te}wo(N),(Ct&6)===0&&(V0=ze()+500,Oh(0))}}break;case 31:case 13:G=ra(N,2),G!==null&&hi(G,N,2),X0(),N_(N,2)}if(N=C_(x),N===null&&g_(s,c,x,hg,m),N===T)break;T=N}T!==null&&x.stopPropagation()}else g_(s,c,x,null,m)}}function C_(s){return s=sc(s),M_(s)}var hg=null;function M_(s){if(hg=null,s=Ko(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return hg=s,null}function DC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Et:return 2;case pt:return 8;case Jt:case zr:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var D_=!1,kl=null,El=null,Tl=null,Ih=new Map,$h=new Map,Al=[],BG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PC(s,c){switch(s){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Ih.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(c.pointerId)}}function Bh(s,c,m,x,T,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:N,targetContainers:[T]},c!==null&&(c=qs(c),c!==null&&CC(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),s)}function zG(s,c,m,x,T){switch(c){case"focusin":return kl=Bh(kl,s,c,m,x,T),!0;case"dragenter":return El=Bh(El,s,c,m,x,T),!0;case"mouseover":return Tl=Bh(Tl,s,c,m,x,T),!0;case"pointerover":var N=T.pointerId;return Ih.set(N,Bh(Ih.get(N)||null,s,c,m,x,T)),!0;case"gotpointercapture":return N=T.pointerId,$h.set(N,Bh($h.get(N)||null,s,c,m,x,T)),!0}return!1}function RC(s){var c=Ko(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,zf(s.priority,function(){MC(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,zf(s.priority,function(){MC(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=C_(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);Du=x,m.target.dispatchEvent(x),Du=null}else return c=qs(m),c!==null&&CC(c),s.blockedOn=m,!1;c.shift()}return!0}function LC(s,c,m){mg(s)&&m.delete(c)}function UG(){D_=!1,kl!==null&&mg(kl)&&(kl=null),El!==null&&mg(El)&&(El=null),Tl!==null&&mg(Tl)&&(Tl=null),Ih.forEach(LC),$h.forEach(LC)}function pg(s,c){s.blockedOn===c&&(s.blockedOn=null,D_||(D_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,UG)))}var gg=null;function IC(s){gg!==s&&(gg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gg===s&&(gg=null);for(var c=0;c<s.length;c+=3){var m=s[c],x=s[c+1],T=s[c+2];if(typeof x!="function"){if(M_(x||m)===null)continue;break}var N=qs(m);N!==null&&(s.splice(c,3),c-=3,Cw(N,{pending:!0,data:T,method:m.method,action:x},x,T))}}))}function pd(s){function c(te){return pg(te,s)}kl!==null&&pg(kl,s),El!==null&&pg(El,s),Tl!==null&&pg(Tl,s),Ih.forEach(c),$h.forEach(c);for(var m=0;m<Al.length;m++){var x=Al[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Al.length&&(m=Al[0],m.blockedOn===null);)RC(m),m.blockedOn===null&&Al.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var T=m[x],N=m[x+1],$=T[ir]||null;if(typeof N=="function")$||IC(m);else if($){var G=null;if(N&&N.hasAttribute("formAction")){if(T=N,$=N[ir]||null)G=$.formAction;else if(M_(T)!==null)continue}else G=$.action;typeof G=="function"?m[x+1]=G:(m.splice(x,3),x-=3),IC(m)}}}function $C(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function($){return T=$})},focusReset:"manual",scroll:"manual"})}function c(){T!==null&&(T(),T=null),x||setTimeout(m,20)}function m(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),T!==null&&(T(),T=null)}}}function P_(s){this._internalRoot=s}bg.prototype.render=P_.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,x=Di();NC(m,x,s,c,null,null)},bg.prototype.unmount=P_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;NC(s.current,2,null,s,null,null),X0(),c[qo]=null}};function bg(s){this._internalRoot=s}bg.prototype.unstable_scheduleHydration=function(s){if(s){var c=Bf();s={blockedOn:null,target:s,priority:c};for(var m=0;m<Al.length&&c!==0&&c<Al[m].priority;m++);Al.splice(m,0,s),m===0&&RC(s)}};var BC=t.version;if(BC!=="19.2.1")throw Error(r(527,BC,"19.2.1"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var FG={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{It=yg.inject(FG),an=yg}catch{}}return Uh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,x="",T=qN,N=KN,$=WN;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),c=AC(s,1,!1,null,null,m,x,null,T,N,$,$C),s[qo]=c.current,p_(s),new P_(c)},Uh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var x=!1,T="",N=qN,$=KN,G=WN,te=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(N=m.onUncaughtError),m.onCaughtError!==void 0&&($=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=AC(s,1,!0,c,m??null,x,T,te,N,$,G,$C),c.context=jC(null),m=c.current,x=Di(),x=ni(x),T=fl(x),T.callback=null,hl(m,T,x),m=x,c.current.lanes=m,Yo(c,m),wo(c),s[qo]=c.current,p_(s),new bg(c)},Uh.version="19.2.1",Uh}var VC;function XG(){if(VC)return L_.exports;VC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),L_.exports=ZG(),L_.exports}var JG=XG(),_=hf();const Zt=_i(_),QG=LE({__proto__:null,default:Zt},[_]);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZC="popstate";function eY(e={}){function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return kk("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mm(i)}return nY(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tY(){return Math.random().toString(36).substring(2,10)}function XC(e,t){return{usr:e.state,key:e.key,idx:t}}function kk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mf(t):t,state:n,key:t&&t.key||r||tY()}}function Mm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function nY(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let S=h(),A=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:A})}function b(S,A){l="PUSH";let O=kk(w.location,S,A);d=h()+1;let j=XC(O,d),C=w.createHref(O);try{o.pushState(j,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}a&&u&&u({action:l,location:w.location,delta:1})}function y(S,A){l="REPLACE";let O=kk(w.location,S,A);d=h();let j=XC(O,d),C=w.createHref(O);o.replaceState(j,"",C),a&&u&&u({action:l,location:w.location,delta:0})}function k(S){return rY(S)}let w={get action(){return l},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ZC,p),u=S,()=>{i.removeEventListener(ZC,p),u=null}},createHref(S){return t(i,S)},createURL:k,encodeLocation(S){let A=k(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:y,go(S){return o.go(S)}};return w}function rY(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Mm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function V5(e,t,n="/"){return iY(e,t,n,!1)}function iY(e,t,n,r){let i=typeof t=="string"?mf(t):t,a=js(i.pathname||"/",n);if(a==null)return null;let o=Z5(e);aY(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=gY(a);l=mY(o[u],d,r)}return l}function Z5(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;hn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Es([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(hn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Z5(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:fY(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of X5(o.path))a(o,l,!0,u)}),t}function X5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=X5(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function aY(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hY(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oY=/^:[\w-]+$/,sY=3,lY=2,cY=1,uY=10,dY=-2,JC=e=>e==="*";function fY(e,t){let n=e.split("/"),r=n.length;return n.some(JC)&&(r+=dY),t&&(r+=lY),n.filter(i=>!JC(i)).reduce((i,a)=>i+(oY.test(a)?sY:a===""?cY:uY),r)}function hY(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function mY(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Kb({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Kb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Es([a,p.pathname]),pathnameBase:wY(Es([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=Es([a,p.pathnameBase]))}return o}function Kb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pY(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},b)=>{if(h==="*"){let k=l[b]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const y=l[b];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function pY(e,t=!1,n=!0){xa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function gY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function js(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var bY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yY=e=>bY.test(e);function vY(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mf(e):e,a;if(n)if(yY(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),xa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=QC(n.substring(1),"/"):a=QC(n,t)}else a=t;return{pathname:a,search:_Y(r),hash:SY(i)}}function QC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function U_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xY(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function IE(e){let t=xY(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function $E(e,t,n,r=!1){let i;typeof e=="string"?i=mf(e):(i={...e},hn(!i.pathname||!i.pathname.includes("?"),U_("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),U_("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),U_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=vY(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Es=e=>e.join("/").replace(/\/\/+/g,"/"),wY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_Y=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function EY(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J5=["POST","PUT","PATCH","DELETE"];new Set(J5);var TY=["GET",...J5];new Set(TY);var pf=_.createContext(null);pf.displayName="DataRouter";var kv=_.createContext(null);kv.displayName="DataRouterState";_.createContext(!1);var Q5=_.createContext({isTransitioning:!1});Q5.displayName="ViewTransition";var AY=_.createContext(new Map);AY.displayName="Fetchers";var jY=_.createContext(null);jY.displayName="Await";var Ta=_.createContext(null);Ta.displayName="Navigation";var fp=_.createContext(null);fp.displayName="Location";var zo=_.createContext({outlet:null,matches:[],isDataRoute:!1});zo.displayName="Route";var BE=_.createContext(null);BE.displayName="RouteError";function NY(e,{relative:t}={}){hn(gf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Ta),{hash:i,pathname:a,search:o}=hp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Es([n,a])),r.createHref({pathname:l,search:o,hash:i})}function gf(){return _.useContext(fp)!=null}function Br(){return hn(gf(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(fp).location}var e$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t$(e){_.useContext(Ta).static||_.useLayoutEffect(e)}function Vl(){let{isDataRoute:e}=_.useContext(zo);return e?FY():OY()}function OY(){hn(gf(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(pf),{basename:t,navigator:n}=_.useContext(Ta),{matches:r}=_.useContext(zo),{pathname:i}=Br(),a=JSON.stringify(IE(r)),o=_.useRef(!1);return t$(()=>{o.current=!0}),_.useCallback((u,d={})=>{if(xa(o.current,e$),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=$E(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Es([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}_.createContext(null);function hp(e,{relative:t}={}){let{matches:n}=_.useContext(zo),{pathname:r}=Br(),i=JSON.stringify(IE(n));return _.useMemo(()=>$E(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function CY(e,t){return n$(e,t)}function n$(e,t,n,r,i){hn(gf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Ta),{matches:o}=_.useContext(zo),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";r$(d,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=Br(),y;if(t){let O=typeof t=="string"?mf(t):t;hn(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let k=y.pathname||"/",w=k;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=V5(e,{pathname:w});xa(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),xa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=LY(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:Es([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:Es([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,n,r,i);return t&&A?_.createElement(fp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function MY(){let e=UY(),t=kY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,o)}var DY=_.createElement(MY,null),PY=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(zo.Provider,{value:this.props.routeContext},_.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RY({routeContext:e,match:t,children:n}){let r=_.useContext(pf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(zo.Provider,{value:e},n)}function LY(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);hn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:y}=n,k=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||k){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:EY(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let y,k=!1,w=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||DY,l&&(u<0&&b===0?(r$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):u===b&&(k=!0,S=p.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,b+1)),O=()=>{let j;return y?j=w:k?j=S:p.route.Component?j=_.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,_.createElement(RY,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?_.createElement(PY,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:O(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:d}):O()},null)}function zE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IY(e){let t=_.useContext(pf);return hn(t,zE(e)),t}function $Y(e){let t=_.useContext(kv);return hn(t,zE(e)),t}function BY(e){let t=_.useContext(zo);return hn(t,zE(e)),t}function UE(e){let t=BY(e),n=t.matches[t.matches.length-1];return hn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function zY(){return UE("useRouteId")}function UY(){let e=_.useContext(BE),t=$Y("useRouteError"),n=UE("useRouteError");return e!==void 0?e:t.errors?.[n]}function FY(){let{router:e}=IY("useNavigate"),t=UE("useNavigate"),n=_.useRef(!1);return t$(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{xa(n.current,e$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var eM={};function r$(e,t,n){!t&&!eM[e]&&(eM[e]=!0,xa(!1,n))}_.memo(HY);function HY({routes:e,future:t,state:n,unstable_onError:r}){return n$(e,void 0,n,r,t)}function GY({to:e,replace:t,state:n,relative:r}){hn(gf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Ta);xa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(zo),{pathname:o}=Br(),l=Vl(),u=$E(e,IE(a),o,r==="path"),d=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function za(e){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YY({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){hn(!gf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=mf(n));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:y="default"}=n,k=_.useMemo(()=>{let w=js(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:b,key:y},navigationType:r}},[l,d,h,p,b,y,r]);return xa(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Ta.Provider,{value:u},_.createElement(fp.Provider,{children:t,value:k}))}function qY({children:e,location:t}){return CY(Ek(e),t)}function Ek(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let a=[...t,i];if(r.type===_.Fragment){n.push.apply(n,Ek(r.props.children,a));return}hn(r.type===za,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ek(r.props.children,a)),n.push(o)}),n}var Nb="get",Ob="application/x-www-form-urlencoded";function Ev(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function KY(e){return Ev(e)&&e.tagName.toLowerCase()==="button"}function WY(e){return Ev(e)&&e.tagName.toLowerCase()==="form"}function VY(e){return Ev(e)&&e.tagName.toLowerCase()==="input"}function ZY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XY(e,t){return e.button===0&&(!t||t==="_self")&&!ZY(e)}var vg=null;function JY(){if(vg===null)try{new FormData(document.createElement("form"),0),vg=!1}catch{vg=!0}return vg}var QY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F_(e){return e!=null&&!QY.has(e)?(xa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ob}"`),null):e}function eq(e,t){let n,r,i,a,o;if(WY(e)){let l=e.getAttribute("action");r=l?js(l,t):null,n=e.getAttribute("method")||Nb,i=F_(e.getAttribute("enctype"))||Ob,a=new FormData(e)}else if(KY(e)||VY(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?js(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Nb,i=F_(e.getAttribute("formenctype"))||F_(l.getAttribute("enctype"))||Ob,a=new FormData(l,e),!JY()){let{name:d,type:h,value:p}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,p)}}else{if(Ev(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nb,r=null,i=Ob,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function FE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tq(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&js(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nq(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iq(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await nq(a,n);return o.links?o.links():[]}return[]}));return lq(r.flat(1).filter(rq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tM(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function aq(e,t,{includeHydrateFallback:n}={}){return oq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function oq(e){return[...new Set(e)]}function sq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function lq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(sq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function i$(){let e=_.useContext(pf);return FE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cq(){let e=_.useContext(kv);return FE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var HE=_.createContext(void 0);HE.displayName="FrameworkContext";function a$(){let e=_.useContext(HE);return FE(e,"You must render this element inside a <HydratedRouter> element"),e}function uq(e,t){let n=_.useContext(HE),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,b=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=A=>{A.forEach(O=>{o(O.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},k=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Fh(l,y),onBlur:Fh(u,k),onMouseEnter:Fh(d,y),onMouseLeave:Fh(h,k),onTouchStart:Fh(p,y)}]:[!1,b,{}]}function Fh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dq({page:e,...t}){let{router:n}=i$(),r=_.useMemo(()=>V5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(hq,{page:e,matches:r,...t}):null}function fq(e){let{manifest:t,routeModules:n}=a$(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return iq(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function hq({page:e,matches:t,...n}){let r=Br(),{manifest:i,routeModules:a}=a$(),{basename:o}=i$(),{loaderData:l,matches:u}=cq(),d=_.useMemo(()=>tM(e,t,u,i,r,"data"),[e,t,u,i,r]),h=_.useMemo(()=>tM(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,w=!1;if(t.forEach(A=>{let O=i.routes[A.route.id];!O||!O.hasLoader||(!d.some(j=>j.route.id===A.route.id)&&A.route.id in l&&a[A.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:k.add(A.route.id))}),k.size===0)return[];let S=tq(e,o,"data");return w&&k.size>0&&S.searchParams.set("_routes",t.filter(A=>k.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[o,l,r,i,d,t,e,a]),b=_.useMemo(()=>aq(h,i),[h,i]),y=fq(h);return _.createElement(_.Fragment,null,p.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),y.map(({key:k,link:w})=>_.createElement("link",{key:k,nonce:n.nonce,...w})))}function mq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var o$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o$&&(window.__reactRouterVersion="7.10.1")}catch{}function pq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current==null&&(i.current=eY({window:r,v5Compat:!0}));let a=i.current,[o,l]=_.useState({action:a.action,location:a.location}),u=_.useCallback(d=>{n===!1?l(d):_.startTransition(()=>l(d))},[n]);return _.useLayoutEffect(()=>a.listen(u),[a,u]),_.createElement(YY,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var s$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GE=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...b},y){let{basename:k,unstable_useTransitions:w}=_.useContext(Ta),S=typeof d=="string"&&s$.test(d),A,O=!1;if(typeof d=="string"&&S&&(A=d,o$))try{let q=new URL(window.location.href),F=d.startsWith("//")?new URL(q.protocol+d):new URL(d),z=js(F.pathname,k);F.origin===q.origin&&z!=null?d=z+F.search+F.hash:O=!0}catch{xa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=NY(d,{relative:i}),[C,D,P]=uq(r,b),I=vq(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:w});function U(q){t&&t(q),q.defaultPrevented||I(q)}let K=_.createElement("a",{...b,...P,href:A||j,onClick:O||a?t:U,ref:mq(y,D),target:u,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?_.createElement(_.Fragment,null,K,_.createElement(dq,{page:j})):K});GE.displayName="Link";var gq=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let p=hp(o,{relative:d.relative}),b=Br(),y=_.useContext(kv),{navigator:k,basename:w}=_.useContext(Ta),S=y!=null&&kq(p)&&l===!0,A=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,O=b.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),j=j?j.toLowerCase():null,A=A.toLowerCase()),j&&w&&(j=js(j,w)||j);const C=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=O===A||!i&&O.startsWith(A)&&O.charAt(C)==="/",P=j!=null&&(j===A||!i&&j.startsWith(A)&&j.charAt(A.length)==="/"),I={isActive:D,isPending:P,isTransitioning:S},U=D?t:void 0,K;typeof r=="function"?K=r(I):K=[r,D?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(I):a;return _.createElement(GE,{...d,"aria-current":U,className:K,ref:h,style:q,to:o,viewTransition:l},typeof u=="function"?u(I):u)});gq.displayName="NavLink";var bq=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Nb,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...b},y)=>{let{unstable_useTransitions:k}=_.useContext(Ta),w=_q(),S=Sq(l,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&s$.test(l),j=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,P=D?.getAttribute("formmethod")||o,I=()=>w(D||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p});k&&n!==!1?_.startTransition(()=>I()):I()};return _.createElement("form",{ref:y,method:A,action:S,onSubmit:r?u:j,...b,"data-discover":!O&&e==="render"?"true":void 0})});bq.displayName="Form";function yq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l$(e){let t=_.useContext(pf);return hn(t,yq(e)),t}function vq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=Vl(),d=Br(),h=hp(e,{relative:a});return _.useCallback(p=>{if(XY(p,t)){p.preventDefault();let b=n!==void 0?n:Mm(d)===Mm(h),y=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?_.startTransition(()=>y()):y()}},[d,u,h,n,r,t,e,i,a,o,l])}var xq=0,wq=()=>`__${String(++xq)}__`;function _q(){let{router:e}=l$("useSubmit"),{basename:t}=_.useContext(Ta),n=zY(),r=e.fetch,i=e.navigate;return _.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=eq(a,t);if(o.navigate===!1){let b=o.fetcherKey||wq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function Sq(e,{relative:t}={}){let{basename:n}=_.useContext(Ta),r=_.useContext(zo);hn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...hp(e||".",{relative:t})},o=Br();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Es([n,a.pathname])),Mm(a)}function kq(e,{relative:t}={}){let n=_.useContext(Q5);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l$("useViewTransitionState"),i=hp(e,{relative:t});if(!n.isTransitioning)return!1;let a=js(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kb(i.pathname,o)!=null||Kb(i.pathname,a)!=null}var Eu=W5();const Eq=_i(Eu);let Tq={data:""},Aq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Tq,jq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Nq=/\/\*[^]*?\*\/|  +/g,nM=/\n+/g,Ml=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Ml(o,a):a+"{"+Ml(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Ml(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ml.p?Ml.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ms={},c$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+c$(e[n]);return t}return e},Oq=(e,t,n,r,i)=>{let a=c$(e),o=ms[a]||(ms[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!ms[o]){let u=a!==e?e:(d=>{let h,p,b=[{}];for(;h=jq.exec(d.replace(Nq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(nM," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(nM," ").trim();return b[0]})(e);ms[o]=Ml(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&ms.g?ms.g:null;return n&&(ms.g=ms[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(ms[o],t,r,l),o},Cq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Ml(l,""):l===!1?"":l}return r+i+(o??"")},"");function Tv(e){let t=this||{},n=e.call?e(t.p):e;return Oq(n.unshift?n.raw?Cq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Aq(t.target),t.g,t.o,t.k)}let u$,Tk,Ak;Tv.bind({g:1});let Ns=Tv.bind({k:1});function Mq(e,t,n,r){Ml.p=t,u$=e,Tk=n,Ak=r}function Zl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:Tk&&Tk()},l),n.o=/ *go\d+/.test(u),l.className=Tv.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Ak&&d[0]&&Ak(l),u$(d,l)}return i}}var Dq=e=>typeof e=="function",Wb=(e,t)=>Dq(e)?e(t):e,Pq=(()=>{let e=0;return()=>(++e).toString()})(),d$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Rq=20,YE="default",f$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return f$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Cb=[],h$={toasts:[],pausedAt:void 0,settings:{toastLimit:Rq}},Co={},m$=(e,t=YE)=>{Co[t]=f$(Co[t]||h$,e),Cb.forEach(([n,r])=>{n===t&&r(Co[t])})},p$=e=>Object.keys(Co).forEach(t=>m$(e,t)),Lq=e=>Object.keys(Co).find(t=>Co[t].toasts.some(n=>n.id===e)),Av=(e=YE)=>t=>{m$(t,e)},Iq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$q=(e={},t=YE)=>{let[n,r]=_.useState(Co[t]||h$),i=_.useRef(Co[t]);_.useEffect(()=>(i.current!==Co[t]&&r(Co[t]),Cb.push([t,r]),()=>{let o=Cb.findIndex(([l])=>l===t);o>-1&&Cb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||Iq[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},Bq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Pq()}),mp=e=>(t,n)=>{let r=Bq(t,e,n);return Av(r.toasterId||Lq(r.id))({type:2,toast:r}),r.id},Dn=(e,t)=>mp("blank")(e,t);Dn.error=mp("error");Dn.success=mp("success");Dn.loading=mp("loading");Dn.custom=mp("custom");Dn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Av(t)(n):p$(n)};Dn.dismissAll=e=>Dn.dismiss(void 0,e);Dn.remove=(e,t)=>{let n={type:4,toastId:e};t?Av(t)(n):p$(n)};Dn.removeAll=e=>Dn.remove(void 0,e);Dn.promise=(e,t,n)=>{let r=Dn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Wb(t.success,i):void 0;return a?Dn.success(a,{id:r,...n,...n?.success}):Dn.dismiss(r),i}).catch(i=>{let a=t.error?Wb(t.error,i):void 0;a?Dn.error(a,{id:r,...n,...n?.error}):Dn.dismiss(r)}),e};var zq=1e3,Uq=(e,t="default")=>{let{toasts:n,pausedAt:r}=$q(e,t),i=_.useRef(new Map).current,a=_.useCallback((p,b=zq)=>{if(i.has(p))return;let y=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,y)},[]);_.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(y=>{if(y.duration===1/0)return;let k=(y.duration||0)+y.pauseDuration-(p-y.createdAt);if(k<0){y.visible&&Dn.dismiss(y.id);return}return setTimeout(()=>Dn.dismiss(y.id,t),k)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[n,r,t]);let o=_.useCallback(Av(t),[t]),l=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=_.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),d=_.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=_.useCallback((p,b)=>{let{reverseOrder:y=!1,gutter:k=8,defaultPosition:w}=b||{},S=n.filter(j=>(j.position||w)===(p.position||w)&&j.height),A=S.findIndex(j=>j.id===p.id),O=S.filter((j,C)=>C<A&&j.visible).length;return S.filter(j=>j.visible).slice(...y?[O+1]:[0,O]).reduce((j,C)=>j+(C.height||0)+k,0)},[n]);return _.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},Fq=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Hq=Ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gq=Ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Yq=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Hq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qq=Ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Kq=Zl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${qq} 1s linear infinite;
`,Wq=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Vq=Ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Zq=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Vq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Xq=Zl("div")`
  position: absolute;
`,Jq=Zl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Qq=Ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eK=Zl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Qq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tK=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(eK,null,t):t:n==="blank"?null:_.createElement(Jq,null,_.createElement(Kq,{...r}),n!=="loading"&&_.createElement(Xq,null,n==="error"?_.createElement(Yq,{...r}):_.createElement(Zq,{...r})))},nK=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rK=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,iK="0%{opacity:0;} 100%{opacity:1;}",aK="0%{opacity:1;} 100%{opacity:0;}",oK=Zl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,sK=Zl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lK=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=d$()?[iK,aK]:[nK(n),rK(n)];return{animation:t?`${Ns(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ns(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cK=_.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?lK(e.position||t||"top-center",e.visible):{opacity:0},a=_.createElement(tK,{toast:e}),o=_.createElement(sK,{...e.ariaProps},Wb(e.message,e));return _.createElement(oK,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});Mq(_.createElement);var uK=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=_.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:a,className:t,style:n},i)},dK=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:d$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},fK=Tv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xg=16,g$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=Uq(n,a);return _.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:xg,left:xg,right:xg,bottom:xg,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=dK(p,b);return _.createElement(uK,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?fK:"",style:y},h.type==="custom"?Wb(h.message,h):i?i(h):_.createElement(cK,{toast:h,position:p}))}))},fa=Dn;function hK(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const mK=864e5;function pK(e){const t=(e-24405875e-1)*mK;return new Date(t)}function gK(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function bK(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const Em=Math.PI,eu=Em/180,yK=180/Em,vK=86400;function xK(e){return e%=360,e<0?e+360:e}function wK(e,t){return(e-t+540)%360-180}function rM(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function _K(e){const[t,n]=bK(e);return e+gK(t,Math.round(n))/vK}function iM(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function SK(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*eu,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*eu,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*eu,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*eu,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*eu,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,p,b,y,k,w,S,A,O]of l){const j=h*n+p*r+b*i+y*a+k*o;u+=(w+S*t)*Math.sin(j),d+=(A+O*t)*Math.cos(j)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function wg(e){const t=_K(e),n=(t-2451545)/365250,r=iM(aM.L,n),i=iM(aM.R,n);let a=r+Em;a>2*Em&&(a-=2*Em);const{dpsi:o}=SK(t),l=o/3600*eu,u=20.4898/(3600*i),d=a+l-u*eu;return xK(d*yK)}function An(e,t,n){const r=(t%360+360)%360,i=hK(e,1,1),a=wg(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const y=wg(l),k=wK(r,y);if(Math.abs(k)<u)break;const w=wg(l+d),S=wg(l-d),A=rM(w,y),O=rM(S,y),j=(A-O)/(2*d);l+=k/j}const h=pK(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const aM={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},kK=(e,t)=>(e%t+t)%t,b$=(e,t)=>(e%t+t)%t,y$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),oM=new Map;function v$(e,t=127.5){const n=`${e}@${t}`,r=oM.get(n);if(r)return r;const i=An(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return oM.set(n,i),i}function x$(e,t=127.5){if(!y$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=v$(n,t),i=e<r?n-1:n,a=kK(i-4,60);return{useYear:i,index60Num:a}}const Xr=["","","","","","","","","",""],vi=["","","","","","","","","","","",""],jk={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},ro={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},EK=["","","","","","","","","",""],TK=["","","","","","","","","","","",""],AK=["","","","","","","","","","","","","","","","","","","",""],jK=["","","","","","","","","","","","","","","","","","","","","","","",""],Vd=new Set(Xr),Dm=new Set(vi),Yn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qE=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Vb=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],NK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},OK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function lt(e,t=127.5){const{index60Num:n}=x$(e,t);return qE[n]}function CK(e,t=127.5){return(lt(e,t)||"").charAt(0)}const MK=[2,4,6,8,0,2,4,6,8,0];function DK(e,t=127.5){const n=new Array(12);return n[0]=v$(e,t),n[1]=An(e,345,t),n[2]=An(e,15,t),n[3]=An(e,45,t),n[4]=An(e,75,t),n[5]=An(e,105,t),n[6]=An(e,135,t),n[7]=An(e,165,t),n[8]=An(e,195,t),n[9]=An(e,225,t),n[10]=An(e,255,t),n[11]=An(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function PK(e,t=127.5){const{useYear:n}=x$(e,t),r=DK(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function RK(e,t=127.5){const n=CK(e,t),r=jk..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return MK[r]}function LK(e,t,n=127.5){return(RK(e,n)+(t-1))%10}function St(e,t=127.5){if(!y$(e))return"";const{monthIndex:n}=PK(e,t),r=(2+(n-1))%12,i=jk.[r],a=LK(e,n,t);return jk.[a]+i}const Zb={JDN:2445731,idx:0};function w$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function IK(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=zK(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function $K(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function mt(e,t){const n=IK(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=w$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=b$(a-Zb.JDN+Zb.idx,60),l=qE[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function BK(e,t){const n=new Date(e),r=$K(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=w$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=b$(o-Zb.JDN+Zb.idx,60),u=qE[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function zK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Vb.length;n+=1){const{branch:r,start:i,end:a}=Vb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function UK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Vb.length;n+=1){const{branch:r,start:i,end:a}=Vb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function FK(e,t,n,r){const i=Xr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Xr[a]}function Ja(e,t,n){e instanceof Date||(e=new Date(e));const r=UK(e),i=vi.indexOf(r),o=(n??mt(e,t)).charAt(0);return FK(e,o,i,t)+r}const sM=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},HK=(e=>e?sM(e):sM),GK=e=>e;function YK(e,t=GK){const n=Zt.useSyncExternalStore(e.subscribe,Zt.useCallback(()=>t(e.getState()),[e,t]),Zt.useCallback(()=>t(e.getInitialState()),[e,t]));return Zt.useDebugValue(n),n}const lM=e=>{const t=HK(e),n=r=>YK(t,r);return Object.assign(n,t),n},Uo=(e=>e?lM(e):lM);function qK(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Nk=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Nk(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Nk(r)(n)}}}},KK=(e,t)=>(n,r,i)=>{let a={storage:qK(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return d.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,S)=>(p(w,S),h());const b=e((...w)=>(n(...w),h()),r,i);i.getInitialState=()=>b;let y;const k=()=>{var w,S;if(!d)return;o=!1,l.forEach(O=>{var j;return O((j=r())!=null?j:b)});const A=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(w=r())!=null?w:b))||void 0;return Nk(d.getItem.bind(d))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate){const j=a.migrate(O.state,O.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var j;const[C,D]=O;if(y=a.merge(D,(j=r())!=null?j:b),n(y,!0),C)return h()}).then(()=>{A?.(y,void 0),y=r(),o=!0,u.forEach(O=>O(y))}).catch(O=>{A?.(void 0,O)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||k(),y||b},_$=KK;var ps={},_g={},Ok=function(e,t){return Ok=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ok(e,t)};function S$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ok(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Xb=function(){return Xb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xb.apply(this,arguments)};function bf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function k$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function E$(e,t){return function(n,r){t(n,r,e)}}function T$(e,t,n,r,i,a){function o(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,b=!1,y=n.length-1;y>=0;y--){var k={};for(var w in r)k[w]=w==="access"?{}:r[w];for(var w in r.access)k.access[w]=r.access[w];k.addInitializer=function(A){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(A||null))};var S=(0,n[y])(l==="accessor"?{get:h.get,set:h.set}:h[u],k);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=o(S.get))&&(h.get=p),(p=o(S.set))&&(h.set=p),(p=o(S.init))&&i.unshift(p)}else(p=o(S))&&(l==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,r.name,h),b=!0}function A$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function j$(e){return typeof e=="symbol"?e:"".concat(e)}function N$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function O$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function qe(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function C$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var jv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function M$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&jv(t,e,n)}function Jb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function KE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function D$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(KE(arguments[t]));return e}function P$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function R$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Zd(e){return this instanceof Zd?(this.v=e,this):new Zd(e)}function L$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(k){return Promise.resolve(k).then(y,p)}}function l(y,k){r[y]&&(i[y]=function(w){return new Promise(function(S,A){a.push([y,w,S,A])>1||u(y,w)})},k&&(i[y]=k(i[y])))}function u(y,k){try{d(r[y](k))}catch(w){b(a[0][3],w)}}function d(y){y.value instanceof Zd?Promise.resolve(y.value.v).then(h,p):b(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function b(y,k){y(k),a.shift(),a.length&&u(a[0][0],a[0][1])}}function I$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Zd(e[i](o)),done:!1}:a?a(o):o}:a}}function $$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Jb=="function"?Jb(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function B$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var WK=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ck=function(e){return Ck=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Ck(e)};function z$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ck(e),r=0;r<n.length;r++)n[r]!=="default"&&jv(t,e,n[r]);return WK(t,e),t}function U$(e){return e&&e.__esModule?e:{default:e}}function F$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function H$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function G$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Y$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var VK=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function q$(e){function t(a){e.error=e.hasError?new VK(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function K$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const ZK={__extends:S$,__assign:Xb,__rest:bf,__decorate:k$,__param:E$,__esDecorate:T$,__runInitializers:A$,__propKey:j$,__setFunctionName:N$,__metadata:O$,__awaiter:qe,__generator:C$,__createBinding:jv,__exportStar:M$,__values:Jb,__read:KE,__spread:D$,__spreadArrays:P$,__spreadArray:R$,__await:Zd,__asyncGenerator:L$,__asyncDelegator:I$,__asyncValues:$$,__makeTemplateObject:B$,__importStar:z$,__importDefault:U$,__classPrivateFieldGet:F$,__classPrivateFieldSet:H$,__classPrivateFieldIn:G$,__addDisposableResource:Y$,__disposeResources:q$,__rewriteRelativeImportExtension:K$},XK=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Y$,get __assign(){return Xb},__asyncDelegator:I$,__asyncGenerator:L$,__asyncValues:$$,__await:Zd,__awaiter:qe,__classPrivateFieldGet:F$,__classPrivateFieldIn:G$,__classPrivateFieldSet:H$,__createBinding:jv,__decorate:k$,__disposeResources:q$,__esDecorate:T$,__exportStar:M$,__extends:S$,__generator:C$,__importDefault:U$,__importStar:z$,__makeTemplateObject:B$,__metadata:O$,__param:E$,__propKey:j$,__read:KE,__rest:bf,__rewriteRelativeImportExtension:K$,__runInitializers:A$,__setFunctionName:N$,__spread:D$,__spreadArray:R$,__spreadArrays:P$,__values:Jb,default:ZK},Symbol.toStringTag,{value:"Module"})),JK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Nv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},W$=class extends Nv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Mk=class extends Nv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Dk=class extends Nv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Qb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qb||(Qb={}));class QK{constructor(t,{headers:n={},customFetch:r,region:i=Qb.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=JK(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return qe(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:p}=r;let b={},{region:y}=r;y||(y=this.region);const k=new URL(`${this.url}/${n}`);y&&y!=="any"&&(b["x-region"]=y,k.searchParams.set("forceFunctionRegion",y));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(b["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(b["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;let S=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(S=o.signal,h.addEventListener("abort",()=>o.abort())):S=o.signal);const A=yield this.fetch(k.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:w,signal:S}).catch(D=>{throw new W$(D)}),O=A.headers.get("x-relay-error");if(O&&O==="true")throw new Mk(A);if(!A.ok)throw new Dk(A);let j=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield A.json():j==="application/octet-stream"||j==="application/pdf"?C=yield A.blob():j==="text/event-stream"?C=A:j==="multipart/form-data"?C=yield A.formData():C=yield A.text(),{data:C,error:null,response:A}}catch(l){return{data:null,error:l,response:l instanceof Dk||l instanceof Mk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const eW=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Qb},FunctionsClient:QK,FunctionsError:Nv,FunctionsFetchError:W$,FunctionsHttpError:Dk,FunctionsRelayError:Mk},Symbol.toStringTag,{value:"Module"})),V$=dp(eW);var Pr={};const yf=dp(XK);var Sg={},kg={},Eg={},Tg={},Ag={},jg={},cM;function Z$(){if(cM)return jg;cM=1,Object.defineProperty(jg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return jg.default=e,jg}var uM;function X$(){if(uM)return Ag;uM=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=yf.__importDefault(Z$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,b;let y=null,k=null,w=null,S=u.status,A=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?k=D:k=JSON.parse(D))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(y={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,w=null,S=406,A="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const j=await u.text();try{y=JSON.parse(j),Array.isArray(y)&&u.status===404&&(k=[],y=null,S=200,A="OK")}catch{u.status===404&&j===""?(S=204,A="No Content"):y={message:j}}if(y&&this.isMaybeSingle&&(!((b=y?.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,S=200,A="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:k,count:w,status:S,statusText:A}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p,b,y,k;let w="";const S=u?.cause;if(S){const A=(d=S?.message)!==null&&d!==void 0?d:"",O=(h=S?.code)!==null&&h!==void 0?h:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${A}`,O&&(w+=` (${O})`),S?.stack&&(w+=`
${S.stack}`)}else w=(y=u?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return Ag.default=n,Ag}var dM;function J$(){if(dM)return Tg;dM=1,Object.defineProperty(Tg,"__esModule",{value:!0});const t=yf.__importDefault(X$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Tg.default=n,Tg}var fM;function WE(){if(fM)return Eg;fM=1,Object.defineProperty(Eg,"__esModule",{value:!0});const t=yf.__importDefault(J$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return Eg.default=r,Eg}var hM;function Q$(){if(hM)return kg;hM=1,Object.defineProperty(kg,"__esModule",{value:!0});const t=yf.__importDefault(WE());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(p.length>0){const b=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return kg.default=n,kg}var mM;function tW(){if(mM)return Sg;mM=1,Object.defineProperty(Sg,"__esModule",{value:!0});const e=yf,t=e.__importDefault(Q$()),n=e.__importDefault(WE());let r=class eB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new eB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{b.searchParams.append(w,S)})):(p="POST",y=o);const k=new Headers(this.headers);return d&&k.set("Prefer",`count=${d}`),new n.default({method:p,url:b,headers:k,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return Sg.default=r,Sg}var pM;function tB(){if(pM)return Pr;pM=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.PostgrestError=Pr.PostgrestBuilder=Pr.PostgrestTransformBuilder=Pr.PostgrestFilterBuilder=Pr.PostgrestQueryBuilder=Pr.PostgrestClient=void 0;const e=yf,t=e.__importDefault(tW());Pr.PostgrestClient=t.default;const n=e.__importDefault(Q$());Pr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(WE());Pr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(J$());Pr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(X$());Pr.PostgrestBuilder=a.default;const o=e.__importDefault(Z$());return Pr.PostgrestError=o.default,Pr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Pr}class nB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const nW="2.86.2",rW=`realtime-js/${nW}`,rB="1.0.0",iW="2.0.0",gM=rB,Pk=1e4,aW=1e3,oW=100;var tu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tu||(tu={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var Ha;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ha||(Ha={}));var Rk;(function(e){e.websocket="websocket"})(Rk||(Rk={}));var nu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nu||(nu={}));class sW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(y),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,u.length),k.setUint8(w++,l.length),k.setUint8(w++,o.length),k.setUint8(w++,d.length),k.setUint8(w++,p.length),k.setUint8(w++,n),Array.from(u,A=>k.setUint8(w++,A.charCodeAt(0))),Array.from(l,A=>k.setUint8(w++,A.charCodeAt(0))),Array.from(o,A=>k.setUint8(w++,A.charCodeAt(0))),Array.from(d,A=>k.setUint8(w++,A.charCodeAt(0))),Array.from(p,A=>k.setUint8(w++,A.charCodeAt(0)));var S=new Uint8Array(y.byteLength+r.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(r),y.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(k.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class iB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vt||(Vt={}));const bM=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=lW(o,e,t,i),a),{}):{}},lW=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?aB(a,o):Lk(o)},aB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return fW(t,n)}switch(e){case Vt.bool:return cW(t);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return uW(t);case Vt.json:case Vt.jsonb:return dW(t);case Vt.timestamp:return hW(t);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return Lk(t);default:return Lk(t)}},Lk=e=>e,cW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},fW=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>aB(t,l))}return e},hW=e=>typeof e=="string"?e.replace(" ","T"):e,oB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class H_{constructor(t,n,r={},i=Pk){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ik;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ik||(Ik={}));let sB=class Mb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Mb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const b=h.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),k=h.filter(S=>y.indexOf(S.presence_ref)<0),w=p.filter(S=>b.indexOf(S.presence_ref)<0);k.length>0&&(l[d]=k),w.length>0&&(u[d]=w)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(y=>y.presence_ref),b=h.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $k;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($k||($k={}));var Fd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fd||(Fd={}));var To;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(To||(To={}));const mW=Un;let lB=class cB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new H_(this,Ha.join,this.params,this.timeout),this.rejoinTimer=new iB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ha.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new sB(this),this.broadcastEndpointURL=oB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Fd.PRESENCE]&&this.bindings[Fd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(To.CHANNEL_ERROR,y)),this._onClose(()=>t?.(To.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var k;if(this.socket.setAuth(),y===void 0){t?.(To.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(k=w?.length)!==null&&k!==void 0?k:0,A=[];for(let O=0;O<S;O++){const j=w[O],{filter:{event:C,schema:D,table:P,filter:I}}=j,U=y&&y[O];if(U&&U.event===C&&U.schema===D&&U.table===P&&U.filter===I)A.push(Object.assign(Object.assign({},j),{id:U.id}));else{this.unsubscribe(),this.state=Un.errored,t?.(To.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(To.SUBSCRIBED);return}}).receive("error",y=>{this.state=Un.errored,t?.(To.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(To.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Un.joined&&t===Fd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ha.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new H_(this,Ha.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new H_(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>oW){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Ha;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var k,w,S;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((S=(w=y.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var k,w,S,A,O,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,D=(k=y.filter)===null||k===void 0?void 0:k.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(O=(A=y?.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:w,table:S,commit_timestamp:A,type:O,errors:j}=k;b=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:A,eventType:O,new:{},old:{},errors:j}),this._getPayloadRecords(k))}y.callback(b,r)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&cB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ha.close,{},t)}_onError(t){this._on(Ha.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=bM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=bM(t.columns,t.old_record)),n}};const G_=()=>{},Ng={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pW=[1e3,2e3,5e3,1e4],gW=1e4,bW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let yW=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pk,this.transport=null,this.heartbeatIntervalMs=Ng.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=G_,this.ref=0,this.reconnectTimer=null,this.vsn=gM,this.logger=G_,this.conn=null,this.sendBuffer=[],this.serializer=new sW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Rk.websocket}`,this.httpEndpoint=oB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tu.connecting:return nu.Connecting;case tu.open:return nu.Open;case tu.closing:return nu.Closing;default:return nu.Closed}}isConnected(){return this.connectionState()===nu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new lB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(aW,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ng.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tu.open||this.conn.readyState===tu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ha.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([bW],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:rW};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ha.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ng.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,p,b,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Pk,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ng.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:G_,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:gM,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(k=>pW[k-1]||gW),this.vsn){case rB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((k,w)=>w(JSON.stringify(k))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((k,w)=>w(JSON.parse(k)));break;case iW:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const vW=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:mW,get REALTIME_LISTEN_TYPES(){return Fd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return $k},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ik},get REALTIME_SUBSCRIBE_STATES(){return To},RealtimeChannel:lB,RealtimeClient:yW,RealtimePresence:sB,WebSocketFactory:nB},Symbol.toStringTag,{value:"Module"})),uB=dp(vW);class pp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ln(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class dB extends pp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ey extends pp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const VE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xW=()=>Response,Bk=e=>{if(Array.isArray(e))return e.map(n=>Bk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Bk(r)}),t},wW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_W=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Y_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},SW=(e,t,n)=>qe(void 0,void 0,void 0,function*(){const r=yield xW();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new dB(Y_(i),a,o))}).catch(i=>{t(new ey(Y_(i),i))}):t(new ey(Y_(e),e))}),kW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(wW(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function gp(e,t,n,r,i,a){return qe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,kW(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>SW(u,l,r))})})}function Pm(e,t,n,r){return qe(this,void 0,void 0,function*(){return gp(e,"GET",t,n,r)})}function Fa(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return gp(e,"POST",t,r,i,n)})}function zk(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return gp(e,"PUT",t,r,i,n)})}function EW(e,t,n,r){return qe(this,void 0,void 0,function*(){return gp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ZE(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return gp(e,"DELETE",t,r,i,n)})}class TW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return qe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ln(t))return{data:null,error:t};throw t}})}}var fB;class AW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[fB]="BlobDownloadBuilder",this.promise=null}asStream(){return new TW(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ln(t))return{data:null,error:t};throw t}})}}fB=Symbol.toStringTag;const jW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NW{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=VE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return qe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},yM),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(t=="PUT"?zk:Fa)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}})}upload(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return qe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:yM.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield zk(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ln(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Fa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new pp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}update(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}copy(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Fa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Fa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return qe(this,void 0,void 0,function*(){try{const i=yield Fa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>Pm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new AW(u,this.shouldThrowOnError)}info(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Pm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Bk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}exists(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield EW(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r)&&r instanceof ey){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield ZE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}list(t,n,r){return qe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},jW),n),{prefix:t||""});return{data:yield Fa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}listV2(t,n){return qe(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Fa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hB="2.86.2",mB={"X-Client-Info":`storage-js/${hB}`};class OW{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mB),n),this.fetch=VE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return qe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Pm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}getBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Pm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}createBucket(t){return qe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return qe(this,void 0,void 0,function*(){try{return{data:yield zk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield ZE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Rm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CW(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function MW(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function DW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=CW(e.baseUrl,r,i),u=await MW(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!d.ok){const y=p?b:void 0,k=y?.error;throw new Rm(k?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:k?.type,icebergCode:k?.code,details:y})}return{status:d.status,headers:d.headers,data:b}}}}function Og(e){return e.join("")}var PW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Og(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Og(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Og(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Og(e.namespace)}`}),!0}catch(t){if(t instanceof Rm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Rm&&n.status===409)return;throw n}}};function gd(e){return e.join("")}var RW=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Rm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Rm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},LW=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=DW({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new PW(this.client,t),this.tableOps=new RW(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class pB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mB),n),this.fetch=VE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}listBuckets(t){return qe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Pm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield ZE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}from(t){if(!_W(t))throw new pp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new LW({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>qe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const XE={"X-Client-Info":`storage-js/${hB}`,"Content-Type":"application/json"};class JE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function bi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Db extends JE{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gB extends JE{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Uk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Uk||(Uk={}));const Ov=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IW=()=>Response,bB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$W=e=>Array.from(new Float32Array(e)),BW=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},vM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zW=(e,t,n)=>qe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new Db(vM(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Db(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Db(l,i,o))}}else t(new gB(vM(e),e))}),UW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(bB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function FW(e,t,n,r,i,a){return qe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,UW(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>zW(u,l,r))})})}function Bi(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return FW(e,"POST",t,r,i,n)})}class yB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XE),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bi(r))return{data:null,error:r};throw r}})}listIndexes(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return qe(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bi(r))return{data:null,error:r};throw r}})}}class vB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XE),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getVectors(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}listVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Bi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}queryVectors(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}}class xB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XE),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}listBuckets(){return qe(this,arguments,void 0,function*(t={}){try{return{data:yield Bi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}}class wB extends xB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new _B(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return qe(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return qe(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return qe(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return qe(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class _B extends yB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return qe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return qe(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return qe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return qe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new SB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class SB extends vB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return qe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return qe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return qe(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return qe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return qe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class HW extends OW{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new NW(this.url,this.headers,t,this.fetch)}get vectors(){return new wB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pB(this.url+"/iceberg",this.headers,this.fetch)}}const GW=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:pB,StorageApiError:dB,StorageClient:HW,StorageError:pp,StorageUnknownError:ey,StorageVectorsApiError:Db,StorageVectorsClient:wB,StorageVectorsError:JE,get StorageVectorsErrorCode(){return Uk},StorageVectorsUnknownError:gB,VectorBucketApi:xB,VectorBucketScope:_B,VectorDataApi:vB,VectorIndexApi:yB,VectorIndexScope:SB,isPlainObject:bB,isStorageError:ln,isStorageVectorsError:bi,normalizeToFloat32:$W,resolveFetch:Ov,resolveResponse:IW,validateVectorDimension:BW},Symbol.toStringTag,{value:"Module"})),YW=dp(GW);var q_={},Hh={},xM;function qW(){return xM||(xM=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.version=void 0,Hh.version="2.86.2"),Hh}var wM;function KW(){return wM||(wM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=qW();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(q_)),q_}var K_={},_M;function WW(){return _M||(_M=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:y}))}};e.fetchWithAuth=r})(K_)),K_}var gs={},SM;function VW(){if(SM)return gs;SM=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.isBrowser=void 0,gs.uuid=e,gs.ensureTrailingSlash=t,gs.applySettingDefaults=r,gs.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";gs.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:p,global:b}=a,{db:y,auth:k,realtime:w,global:S}=o,A={db:Object.assign(Object.assign({},y),d),auth:Object.assign(Object.assign({},k),h),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(l=S?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?A.accessToken=a.accessToken:delete A.accessToken,A}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return gs}var Gh={};const kB="2.86.2",Cd=30*1e3,Fk=3,W_=Fk*Cd,ZW="http://localhost:9999",XW="supabase.auth.token",JW={"X-Client-Info":`gotrue-js/${kB}`},Hk="X-Supabase-Api-Version",EB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eV=600*1e3;let Xd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let TB=class extends Xd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function AB(e){return Ve(e)&&e.name==="AuthApiError"}let Dl=class extends Xd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Is=class extends Xd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},mi=class extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function jB(e){return Ve(e)&&e.name==="AuthSessionMissingError"}let Kc=class extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},bm=class extends Is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ym=class extends Is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function NB(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}let Gk=class extends Is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ty=class extends Is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Pb(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}let Yk=class extends Is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function tV(e){return Ve(e)&&e.name==="AuthWeakPasswordError"}let ny=class extends Is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const ry="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kM=` 	
\r=`.split(""),nV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kM.length;t+=1)e[kM[t].charCodeAt(0)]=-2;for(let t=0;t<ry.length;t+=1)e[ry[t].charCodeAt(0)]=t;return e})();function EM(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ry[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ry[r]),t.queuedBits-=6}}function OB(e,t,n){const r=nV[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function TM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{aV(o,r,n)};for(let o=0;o<e.length;o+=1)OB(e.charCodeAt(o),i,a);return t.join("")}function rV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iV(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}rV(r,t)}}function aV(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)OB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function oV(e){const t=[];return iV(e,n=>t.push(n)),new Uint8Array(t)}function au(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>EM(i,n,r)),EM(null,n,r),t.join("")}function sV(e){return Math.round(Date.now()/1e3)+e}function lV(){return Symbol("auth-callback")}const kr=()=>typeof window<"u"&&typeof document<"u",Ic={tested:!1,writable:!1},CB=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ic.tested)return Ic.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ic.tested=!0,Ic.writable=!0}catch{Ic.tested=!0,Ic.writable=!1}return Ic.writable};function cV(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const MB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Md=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$c=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_r=async(e,t)=>{await e.removeItem(t)};class Cv{constructor(){this.promise=new Cv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Cv.promiseConstructor=Promise;function V_(e){const t=e.split(".");if(t.length!==3)throw new ny("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!QW.test(t[r]))throw new ny("JWT not in base64url format");return{header:JSON.parse(TM(t[0])),payload:JSON.parse(TM(t[1])),signature:Hd(t[2]),raw:{header:t[0],payload:t[1]}}}async function dV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fV(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function hV(e){return("0"+e.toString(16)).substr(-2)}function mV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,hV).join("")}async function pV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function gV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pV(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bd(e,t,n=!1){const r=mV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Md(e,`${t}-code-verifier`,i);const a=await gV(r);return[a,r===a?"plain":"s256"]}const bV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yV(e){const t=e.headers.get(Hk);if(!t||!t.match(bV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yd(e){if(!wV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Z_(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _V(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function AM(e){return JSON.parse(JSON.stringify(e))}const Wc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SV=[502,503,504];async function jM(e){var t;if(!uV(e))throw new ty(Wc(e),0);if(SV.includes(e.status))throw new ty(Wc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Dl(Wc(a),a)}let r;const i=yV(e);if(i&&i.getTime()>=EB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yk(Wc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Yk(Wc(n),e.status,n.weak_password.reasons);throw new TB(Wc(n),e.status||500,r)}const kV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function at(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[Hk]||(a[Hk]=EB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await EV(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function EV(e,t,n,r,i,a){const o=kV(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new ty(Wc(u),0)}if(l.ok||await jM(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await jM(u)}}function Ua(e){var t;let n=null;jV(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sV(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function NM(e){const t=Ua(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TV(e){return{data:e,error:null}}function AV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=bf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function OM(e){return e}function jV(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rb=["global","local","others"];let QE=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=MB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Rb[0]){if(Rb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rb.join(", ")}`);try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pl})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=bf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:AV,redirectTo:n?.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pl})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:OM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ve(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){yd(t);try{return await at(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pl})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yd(t);try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pl})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yd(t);try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pl})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yd(t.userId);try{const{data:n,error:r}=await at(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yd(t.userId),yd(t.id);try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await at(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:OM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ve(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await at(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await at(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await at(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await at(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await at(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}};function CM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Vc={debug:!!(globalThis&&CB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let DB=class extends eT{};class NV extends eT{}async function PB(e,t,n){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const MM={};async function OV(e,t,n){var r;const i=(r=MM[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new NV(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return MM[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function CV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function MV(e){return parseInt(e,16)}function DV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function PV(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=RB(e.address),k=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",S=`${k} wants you to sign in with your Ethereum account:
${y}

${w}`;let A=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),l&&(A+=`
Not Before: ${l.toISOString()}`),u&&(A+=`
Request ID: ${u}`),d){let O=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);O+=`
- ${j}`}A+=O}return`${S}
${A}`}class Fn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class iy extends Fn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function RV({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Fn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(LB(o)){if(a.rp.id!==o)return new Fn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Fn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function LV({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(LB(r)){if(n.rpId!==r)return new Fn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class IV{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $V=new IV;function BV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=bf(e,["challenge","user","excludeCredentials"]),a=Hd(t).buffer,o=Object.assign(Object.assign({},n),{id:Hd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Hd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function zV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=bf(e,["challenge","allowCredentials"]),i=Hd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Hd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function UV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:au(new Uint8Array(e.response.attestationObject)),clientDataJSON:au(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:au(new Uint8Array(i.authenticatorData)),clientDataJSON:au(new Uint8Array(i.clientDataJSON)),signature:au(new Uint8Array(i.signature)),userHandle:i.userHandle?au(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function DM(){var e,t;return!!(kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new iy("Browser returned unexpected credential type",t)}:{data:null,error:new iy("Empty credential response",t)}}catch(t){return{data:null,error:RV({error:t,options:e})}}}async function GV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new iy("Browser returned unexpected credential type",t)}:{data:null,error:new iy("Empty credential response",t)}}catch(t){return{data:null,error:LV({error:t,options:e})}}}const YV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ay(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=ay(l,o):r[a]=ay(o)}else r[a]=o}return r}function KV(e,t){return ay(YV,e,t||{})}function WV(e,t){return ay(qV,e,t||{})}class VV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??$V.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=KV(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await HV({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=WV(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await GV(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new Dl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Xd("rpId is required for WebAuthn authentication")};try{if(!DM())return{data:null,error:new Dl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new Dl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Xd("rpId is required for WebAuthn registration")};try{if(!DM())return{data:null,error:new Dl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new Dl("Unexpected error in register",o)}}}}CV();const ZV={url:ZW,storageKey:XW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function PM(e,t,n){return await n()}const vd={};let tT=class qk{get jwks(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ZV),t);if(this.storageKey=a.storageKey,this.instanceID=(n=qk.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,qk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&kr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QE({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MB(a.fetch),this.lock=a.lock||PM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:kr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=PB:this.lock=PM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new VV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:CB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CM(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=CM(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(kr()&&(n=cV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),kr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),NB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?this._returnResult({error:n}):this._returnResult({error:new Dl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ua}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await bd(this.storage,this.storageKey)),a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:k},xform:Ua})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ua})}else throw new bm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await _r(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:NM})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:NM})}else throw new bm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Kc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,p,b;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:w,wallet:S,statement:A,options:O}=t;let j;if(kr())if(typeof S=="object")j=S;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")j=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=RB(D[0]);let I=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const K=await j.request({method:"eth_chainId"});I=MV(K)}const U={domain:C.host,address:P,statement:A,uri:C.href,version:"1",chainId:I,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=PV(U),k=await j.request({method:"personal_sign",params:[DV(y),P]})}try{const{data:w,error:S}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ua});if(S)throw S;if(!w||!w.session||!w.user){const A=new Kc;return this._returnResult({data:{user:null,session:null},error:A})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(Ve(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,p,b,y;let k,w;if("message"in t)k=t.message,w=t.signature;else{const{chain:S,wallet:A,statement:O,options:j}=t;let C;if(kr())if(typeof A=="object")C=A;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=A}const D=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(h=j?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:S,error:A}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:au(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ua});if(A)throw A;if(!S||!S.session||!S.user){const O=new Kc;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:A})}catch(S){if(Ve(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await $c(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ua});if(await _r(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Kc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ua}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Kc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await bd(this.storage,this.storageKey));const{error:p}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new bm("You must provide either an email or phone number.")}catch(l){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ua});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await bd(this.storage,this.storageKey));const d=await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:TV});return!((a=d.data)===null||a===void 0)&&a.url&&kr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new mi;const{error:i}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await at(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await at(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new bm("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $c(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<W_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await $c(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Z_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=_V(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mi}:await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Pl})})}catch(n){if(Ve(n))return jB(n)&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new mi;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await bd(this.storage,this.storageKey));const{data:d,error:h}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Pl});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=V_(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new mi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!kr())throw new ym("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ym(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ym("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gk("No code detected.");const{data:O,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new ym("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const y=b-h;y*1e3<=Cd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const k=b-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,h);const{data:w,error:S}=await this._getUser(a);if(S)throw S;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $c(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(AB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=lV(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bd(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:p,error:b}=a;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return kr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,p=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ua}),{data:b,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Kc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(i){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fV(async i=>(i>0&&await dV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ua})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Pb(a)&&Date.now()+o-r<Cd})}catch(r){if(this._debug(n,"error",r),Ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $c(this.storage,this.storageKey);if(i&&this.userStorage){let o=await $c(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Md(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Z_()}else if(i&&!i.user&&!i.user){const o=await $c(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await _r(this.storage,this.storageKey+"-user"),await Md(this.storage,this.storageKey,i)):i.user=Z_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<W_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${W_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Pb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new mi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new mi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ve(a)){const o={data:null,error:a};return Pb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _r(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Md(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=AM(i);await Md(this.storage,this.storageKey,a)}else{const i=AM(n);await Md(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _r(this.storage,this.storageKey),await _r(this.storage,this.storageKey+"-code-verifier"),await _r(this.storage,this.storageKey+"-user"),this.userStorage&&await _r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Cd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cd}ms, refresh threshold is ${Fk} ticks`),i<=Fk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof eT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await bd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await at(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await at(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?UV(t.webauthn.credential_response):FV(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:BV(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zV(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=V_(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await at(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new mi})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mi});const o=await at(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&kr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mi});const o=await at(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&kr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await at(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mi})})}catch(t){if(Ve(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await at(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mi})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+eV>i)return r;const{data:a,error:o}=await at(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:k}=await this.getSession();if(k||!y.session)return this._returnResult({data:null,error:k});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=V_(r);n?.allowExpired||vV(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const h=xV(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,oV(`${l}.${u}`)))throw new ny("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}};tT.nextInstanceID={};const XV=QE,JV=tT,QV=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:XV,AuthApiError:TB,AuthClient:JV,AuthError:Xd,AuthImplicitGrantRedirectError:ym,AuthInvalidCredentialsError:bm,AuthInvalidJwtError:ny,AuthInvalidTokenResponseError:Kc,AuthPKCEGrantCodeExchangeError:Gk,AuthRetryableFetchError:ty,AuthSessionMissingError:mi,AuthUnknownError:Dl,AuthWeakPasswordError:Yk,CustomAuthError:Is,GoTrueAdminApi:QE,GoTrueClient:tT,NavigatorLockAcquireTimeoutError:DB,SIGN_OUT_SCOPES:Rb,isAuthApiError:AB,isAuthError:Ve,isAuthImplicitGrantRedirectError:NB,isAuthRetryableFetchError:Pb,isAuthSessionMissingError:jB,isAuthWeakPasswordError:tV,lockInternals:Vc,navigatorLock:PB,processLock:OV},Symbol.toStringTag,{value:"Module"})),IB=dp(QV);var RM;function eZ(){if(RM)return Gh;RM=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.SupabaseAuthClient=void 0;const e=IB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Gh.SupabaseAuthClient=t,Gh}var LM;function IM(){if(LM)return _g;LM=1,Object.defineProperty(_g,"__esModule",{value:!0});const e=V$,t=tB(),n=uB,r=YW,i=KW(),a=WW(),o=VW(),l=eZ();class u{constructor(h,p,b){var y,k,w;this.supabaseUrl=h,this.supabaseKey=p;const S=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const A=`sb-${S.hostname.split(".")[0]}-auth-token`,O={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:A}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,o.applySettingDefaults)(b??{},O);this.storageKey=(y=j.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(k=j.global.headers)!==null&&k!==void 0?k:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(C,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=j.auth)!==null&&w!==void 0?w:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,storageKey:w,flowType:S,lock:A,debug:O,throwOnError:j},C,D){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:w,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,flowType:S,lock:A,debug:O,throwOnError:j,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return _g.default=u,_g}var $M;function tZ(){return $M||($M=1,(function(e){var t=ps&&ps.__createBinding||(Object.create?(function(h,p,b,y){y===void 0&&(y=b);var k=Object.getOwnPropertyDescriptor(p,b);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,y,k)}):(function(h,p,b,y){y===void 0&&(y=b),h[y]=p[b]})),n=ps&&ps.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=ps&&ps.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(IM());n(IB,e);var a=tB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=V$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(uB,e);var l=IM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ps)),ps}var $B=tZ();const BB=_i($B),nZ=LE({__proto__:null,default:BB},[$B]),{PostgrestError:LOe,FunctionsHttpError:IOe,FunctionsFetchError:$Oe,FunctionsRelayError:BOe,FunctionsError:zOe,FunctionRegion:UOe,SupabaseClient:FOe,createClient:rZ,GoTrueAdminApi:HOe,GoTrueClient:GOe,AuthAdminApi:YOe,AuthClient:qOe,navigatorLock:KOe,NavigatorLockAcquireTimeoutError:WOe,lockInternals:VOe,processLock:ZOe,SIGN_OUT_SCOPES:XOe,AuthError:JOe,AuthApiError:QOe,AuthUnknownError:eCe,CustomAuthError:tCe,AuthSessionMissingError:nCe,AuthInvalidTokenResponseError:rCe,AuthInvalidCredentialsError:iCe,AuthImplicitGrantRedirectError:aCe,AuthPKCEGrantCodeExchangeError:oCe,AuthRetryableFetchError:sCe,AuthWeakPasswordError:lCe,AuthInvalidJwtError:cCe,isAuthError:uCe,isAuthApiError:dCe,isAuthSessionMissingError:fCe,isAuthImplicitGrantRedirectError:hCe,isAuthRetryableFetchError:mCe,isAuthWeakPasswordError:pCe,RealtimePresence:gCe,RealtimeChannel:bCe,RealtimeClient:yCe,REALTIME_LISTEN_TYPES:vCe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:xCe,REALTIME_PRESENCE_LISTEN_EVENTS:wCe,REALTIME_SUBSCRIBE_STATES:_Ce,REALTIME_CHANNEL_STATES:SCe}=BB||nZ,iZ="https://jouhybyquybxbnqztxum.supabase.co",aZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",oZ=!1,Re=rZ(iZ,aZ,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:oZ,storage:localStorage}}),zB="settings_v1",Kk=()=>{try{typeof window<"u"&&window.localStorage.removeItem(zB)}catch{}},Rl={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sidebarCardsCollapsed:!1,sidebarCardCollapsedMap:{},sidebarCollapseInitDone:!0,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},BM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],sZ=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&BM.includes(r)):[],n=BM.filter(r=>!t.includes(r));return[...t,...n]},Gd=e=>({...Rl,...e,sectionOrder:sZ(e.sectionOrder)}),lZ=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Gd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Gd(n.settings)}}return Gd(e??{})},cZ=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};Kk();const vn=Uo()(_$((e,t)=>({settings:Rl,syncing:!1,loaded:!1,setSettings:n=>e({settings:Gd(n)}),setKey:(n,r)=>e({settings:Gd({...t().settings,[n]:r})}),reset:()=>e({settings:Rl,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),Kk();const{data:i,error:a}=await Re.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Rl,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await Re.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await Re.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=lZ(u.payload),b=u.payload?.sidebarCollapseInitDone===!0;b||(h.sidebarCardsCollapsed=Rl.sidebarCardsCollapsed,h.sidebarCardCollapsedMap={},h.sidebarCollapseInitDone=!0),e({settings:h,syncing:!1,loaded:!0}),(cZ(u.payload)||!b)&&await Re.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),Kk();const{data:r,error:i}=await Re.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Rl});return}const o=Gd(t().settings),{error:l}=await Re.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:zB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function Wk(e){const t=Xr.indexOf(e);if(t!==-1)return Xr[t];const n=ro..indexOf(e);return n!==-1?Xr[n]:null}function UB(e){const t=vi.indexOf(e);if(t!==-1)return vi[t];const n=ro..indexOf(e);return n!==-1?vi[n]:null}function zM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function qi(e,t,n){if(t==="stem"){const r=Wk(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Xr.indexOf(r),a=i>=0?EK[i]:void 0;return zM(a,n)}else{const r=UB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=vi.indexOf(r),a=i>=0?TK[i]:void 0;return zM(a,n)}}function wa(e,t){const n=Wk(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=Wk(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return NK[n][r]}if(t.branch){const r=UB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return OK[n][r]}throw new Error("getSipSin: stem or branch required")}const Mv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Dv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function FB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?Dv:Mv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,y)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},y):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||y===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",wa(t,{stem:b}),")"]},y))})}const bp=Uo(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),HB=Object.fromEntries(Object.entries(Yn).map(([e,t])=>[t,e])),GB=Object.fromEntries(Object.entries(Qn).map(([e,t])=>[t,e])),uZ=new Set(Object.keys(Yn)),dZ=new Set(Object.keys(Qn)),fZ=new Set(["","","","","","","","","",""]),hZ=new Set(["","","","","","","","","","","",""]);function xi(e,t,n){return n===""?t==="stem"?Yn[e]??e:Qn[e]??e:t==="stem"?HB[e]??e:GB[e]??e}function UM(e){const t=HB[e]??e;return uZ.has(t)?t:""}function mZ(e){const t=GB[e]??e;return dZ.has(t)?t:""}function Pv(e){if(Vd.has(e))return e;const t=Yn[e]??e;return Vd.has(t)?t:""}function nT(e){if(Dm.has(e))return e;const t=Qn[e]??e;return Dm.has(t)?t:""}function Qa(e,t){return t==="stem"?fZ.has(e):hZ.has(e)}function Pd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:p}=bp(),b=h&&!p,y=t.charAt(0),k=t.charAt(1),w=xi(y,"stem",r.charType),S=xi(k,"branch",r.charType),A=UM(y),O=mZ(k),j=UM(n),C=nT(k),D=Pv(n),P=r.showSipSin?wa(j,{stem:A}):null,I=!o&&r.showSipSin?wa(j,{branch:O}):null,U=r.thinEum&&Qa(y,"stem")?"font-thin":"font-bold",K=r.thinEum&&Qa(k,"branch")?"font-thin":"font-bold",q={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!l&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",W=r.hiddenStemMode==="hgc"?"hgc":"classic",Z=d==="white",X=Z?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=Z?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",J=Z?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ee=Z?"text-neutral-500":"text-neutral-400",le=Z?"text-neutral-500":"text-neutral-400",{settings:oe}=vn(),B=b?`bg-white ${J}`:`${qi(A,"stem",oe)} ${J}`,V=b?`bg-white ${J}`:`${qi(O,"branch",oe)} ${J}`,ne=b?"text-black":oe.difficultyMode?oe.theme==="light"?"text-neutral-900":"text-black":"text-white",se=b?"text-black":oe.difficultyMode?oe.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${X}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ee} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${q[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ne} ${U}`,children:b?"-":w})}),g.jsx("div",{className:`${q[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${V}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${se} ${K}`,children:b?"-":S})}),F&&g.jsx(FB,{branch:C,dayStem:D,mode:z,mapping:W,isUnknownTime:h&&!p&&(e===""||e==="")}),I&&g.jsx("div",{className:`text-[10px] desk:text-xs ${le}`,children:h&&!p?"-":I}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${le} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${le} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),FM=e=>{const t=gZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},YB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),bZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>_.createElement("svg",{ref:u,...yZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YB("lucide",i),...!a&&!bZ(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=(e,t)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(vZ,{ref:a,iconNode:t,className:YB(`lucide-${pZ(FM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=FM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wZ=Nr("chevron-down",xZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SZ=Nr("chevron-up",_Z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qB=Nr("circle-question-mark",kZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],TZ=Nr("circle-x",EZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],jZ=Nr("heart-handshake",AZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],OZ=Nr("house",NZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],MZ=Nr("info",CZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KB=Nr("log-in",DZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RZ=Nr("log-out",PZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],IZ=Nr("menu",LZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],BZ=Nr("plus",$Z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UZ=Nr("settings",zZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],HZ=Nr("sparkles",FZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],YZ=Nr("square-user",GZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],WB=Nr("star",qZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],WZ=Nr("user-plus",KZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oy=Nr("x",VZ);function ZZ(){const[e,t]=_.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(MZ,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const XZ=new Set(ro.);function JZ(e){return Vd.has(e)?e:XZ.has(e)?Yn[e]:""}function QZ(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function eX({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function tX(){const e=vn(S=>S.settings),[t,n]=_.useState(new Date),[r,i]=_.useState(!0),[a,o]=_.useState("/"),[l,u]=_.useState(!1),[d,h]=_.useState(null);_.useEffect(()=>{if(!r)return;const S=setInterval(()=>n(new Date),1e3);return()=>clearInterval(S)},[r]),_.useEffect(()=>{let S=!0;const A=async()=>{const{data:C}=await Re.auth.getSession(),D=C.session?.user?.id;if(!D){S&&h(null);return}const{data:P,error:I}=await Re.from("user_activity").select("total_active_ms").eq("user_id",D).maybeSingle();if(I){S&&h(null);return}const U=P?.total_active_ms;S&&h(typeof U=="number"?U:null)};A();const O=window.setInterval(()=>void A(),6e4),j=()=>{document.visibilityState==="visible"&&A()};return document.addEventListener("visibilitychange",j),()=>{S=!1,window.clearInterval(O),document.removeEventListener("visibilitychange",j)}},[]);const p=lt(t),b=St(t),y=mt(t,a),k=Ja(t,"/"),w=JZ(y.charAt(0));return g.jsx("div",{className:"flex flex-col justify-center items-center pt-20 desk:pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:QZ(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",iX(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:S=>o(S.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(S=>!S),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(eX,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Pd,{label:"",gz:k,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Pd,{label:"",gz:y,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Pd,{label:"",gz:b,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Pd,{label:"",gz:p,dayStem:w,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:nX(t),disabled:r,onChange:S=>{const A=rX(S.target.value);A&&n(A)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(ZZ,{})]})})}function nX(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function rX(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function iX(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function aX({placeholderText:e,value:t}){const[n,r]=_.useState(e),[i,a]=_.useState(!1),[o,l]=_.useState(t??""),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null);return _.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:p}}var vm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var oX=vm.exports,HM;function sX(){return HM||(HM=1,(function(e,t){(function(n,r){r(t)})(oX,(function(n){var r="1.9.4";function i(f){var v,E,M,R;for(E=1,M=arguments.length;E<M;E++){R=arguments[E];for(v in R)f[v]=R[v]}return f}var a=Object.create||(function(){function f(){}return function(v){return f.prototype=v,new f}})();function o(f,v){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var M=E.call(arguments,2);return function(){return f.apply(v,M.length?M.concat(E.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,v,E){var M,R,H,Q;return Q=function(){M=!1,R&&(H.apply(E,R),R=!1)},H=function(){M?R=arguments:(f.apply(E,arguments),setTimeout(Q,v),M=!0)},H}function h(f,v,E){var M=v[1],R=v[0],H=M-R;return f===M&&E?f:((f-R)%H+H)%H+R}function p(){return!1}function b(f,v){if(v===!1)return f;var E=Math.pow(10,v===void 0?6:v);return Math.round(f*E)/E}function y(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function k(f){return y(f).split(/\s+/)}function w(f,v){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var E in v)f.options[E]=v[E];return f.options}function S(f,v,E){var M=[];for(var R in f)M.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!v||v.indexOf("?")===-1?"?":"&")+M.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function O(f,v){return f.replace(A,function(E,M){var R=v[M];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(v)),R})}var j=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,v){for(var E=0;E<f.length;E++)if(f[E]===v)return E;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var I=0;function U(f){var v=+new Date,E=Math.max(0,16-(v-I));return I=v+E,window.setTimeout(f,E)}var K=window.requestAnimationFrame||P("RequestAnimationFrame")||U,q=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function F(f,v,E){if(E&&K===U)f.call(v);else return K.call(window,o(f,v))}function z(f){f&&q.call(window,f)}var W={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:p,formatNum:b,trim:y,splitWords:k,setOptions:w,getParamString:S,template:O,isArray:j,indexOf:C,emptyImageUrl:D,requestFn:K,cancelFn:q,requestAnimFrame:F,cancelAnimFrame:z};function Z(){}Z.extend=function(f){var v=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=v.__super__=this.prototype,M=a(E);M.constructor=v,v.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(v[R]=this[R]);return f.statics&&i(v,f.statics),f.includes&&(X(f.includes),i.apply(null,[M].concat(f.includes))),i(M,f),delete M.statics,delete M.includes,M.options&&(M.options=E.options?a(E.options):{},i(M.options,f.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,Q=M._initHooks.length;H<Q;H++)M._initHooks[H].call(this)}},v},Z.include=function(f){var v=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=v,this.mergeOptions(f.options)),this},Z.mergeOptions=function(f){return i(this.prototype.options,f),this},Z.addInitHook=function(f){var v=Array.prototype.slice.call(arguments,1),E=typeof f=="function"?f:function(){this[f].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function X(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=j(f)?f:[f];for(var v=0;v<f.length;v++)f[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v);else{f=k(f);for(var R=0,H=f.length;R<H;R++)this._on(f[R],v,E)}return this},off:function(f,v,E){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var M in f)this._off(M,f[M],v);else{f=k(f);for(var R=arguments.length===1,H=0,Q=f.length;H<Q;H++)R?this._off(f[H]):this._off(f[H],v,E)}return this},_on:function(f,v,E,M){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(f,v,E)===!1){E===this&&(E=void 0);var R={fn:v,ctx:E};M&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,v,E){var M,R,H;if(this._events&&(M=this._events[f],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,H=M.length;R<H;R++)M[R].fn=p;delete this._events[f];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var Q=this._listens(f,v,E);if(Q!==!1){var de=M[Q];this._firingCount&&(de.fn=p,this._events[f]=M=M.slice()),M.splice(Q,1)}}},fire:function(f,v,E){if(!this.listens(f,E))return this;var M=i({},v,{type:f,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var H=0,Q=R.length;H<Q;H++){var de=R[H],pe=de.fn;de.once&&this.off(f,pe,de.ctx),pe.call(de.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(f,v,E,M){typeof f!="string"&&console.warn('"string" type argument expected');var R=v;typeof v!="function"&&(M=!!v,R=void 0,E=void 0);var H=this._events&&this._events[f];if(H&&H.length&&this._listens(f,R,E)!==!1)return!0;if(M){for(var Q in this._eventParents)if(this._eventParents[Q].listens(f,v,E,M))return!0}return!1},_listens:function(f,v,E){if(!this._events)return!1;var M=this._events[f]||[];if(!v)return!!M.length;E===this&&(E=void 0);for(var R=0,H=M.length;R<H;R++)if(M[R].fn===v&&M[R].ctx===E)return R;return!1},once:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v,!0);else{f=k(f);for(var R=0,H=f.length;R<H;R++)this._on(f[R],v,E,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var v in this._eventParents)this._eventParents[v].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var J=Z.extend(Y);function ee(f,v,E){this.x=E?Math.round(f):f,this.y=E?Math.round(v):v}var le=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(f){return this.clone()._add(oe(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(oe(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new ee(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new ee(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(f){f=oe(f);var v=f.x-this.x,E=f.y-this.y;return Math.sqrt(v*v+E*E)},equals:function(f){return f=oe(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=oe(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function oe(f,v,E){return f instanceof ee?f:j(f)?new ee(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new ee(f.x,f.y):new ee(f,v,E)}function B(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}B.prototype={extend:function(f){var v,E;if(!f)return this;if(f instanceof ee||typeof f[0]=="number"||"x"in f)v=E=oe(f);else if(f=V(f),v=f.min,E=f.max,!v||!E)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=E.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(f){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var v,E;return typeof f[0]=="number"||f instanceof ee?f=oe(f):f=V(f),f instanceof B?(v=f.min,E=f.max):v=E=f,v.x>=this.min.x&&E.x<=this.max.x&&v.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,H=R.x>=v.x&&M.x<=E.x,Q=R.y>=v.y&&M.y<=E.y;return H&&Q},overlaps:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,H=R.x>v.x&&M.x<E.x,Q=R.y>v.y&&M.y<E.y;return H&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var v=this.min,E=this.max,M=Math.abs(v.x-E.x)*f,R=Math.abs(v.y-E.y)*f;return V(oe(v.x-M,v.y-R),oe(E.x+M,E.y+R))},equals:function(f){return f?(f=V(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function V(f,v){return!f||f instanceof B?f:new B(f,v)}function ne(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}ne.prototype={extend:function(f){var v=this._southWest,E=this._northEast,M,R;if(f instanceof fe)M=f,R=f;else if(f instanceof ne){if(M=f._southWest,R=f._northEast,!M||!R)return this}else return f?this.extend(be(f)||se(f)):this;return!v&&!E?(this._southWest=new fe(M.lat,M.lng),this._northEast=new fe(R.lat,R.lng)):(v.lat=Math.min(M.lat,v.lat),v.lng=Math.min(M.lng,v.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(f){var v=this._southWest,E=this._northEast,M=Math.abs(v.lat-E.lat)*f,R=Math.abs(v.lng-E.lng)*f;return new ne(new fe(v.lat-M,v.lng-R),new fe(E.lat+M,E.lng+R))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof fe||"lat"in f?f=be(f):f=se(f);var v=this._southWest,E=this._northEast,M,R;return f instanceof ne?(M=f.getSouthWest(),R=f.getNorthEast()):M=R=f,M.lat>=v.lat&&R.lat<=E.lat&&M.lng>=v.lng&&R.lng<=E.lng},intersects:function(f){f=se(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),H=R.lat>=v.lat&&M.lat<=E.lat,Q=R.lng>=v.lng&&M.lng<=E.lng;return H&&Q},overlaps:function(f){f=se(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),H=R.lat>v.lat&&M.lat<E.lat,Q=R.lng>v.lng&&M.lng<E.lng;return H&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,v){return f?(f=se(f),this._southWest.equals(f.getSouthWest(),v)&&this._northEast.equals(f.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(f,v){return f instanceof ne?f:new ne(f,v)}function fe(f,v,E){if(isNaN(f)||isNaN(v))throw new Error("Invalid LatLng object: ("+f+", "+v+")");this.lat=+f,this.lng=+v,E!==void 0&&(this.alt=+E)}fe.prototype={equals:function(f,v){if(!f)return!1;f=be(f);var E=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return E<=(v===void 0?1e-9:v)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return Te.distance(this,be(f))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(f){var v=180*f/40075017,E=v/Math.cos(Math.PI/180*this.lat);return se([this.lat-v,this.lng-E],[this.lat+v,this.lng+E])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function be(f,v,E){return f instanceof fe?f:j(f)&&typeof f[0]!="object"?f.length===3?new fe(f[0],f[1],f[2]):f.length===2?new fe(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new fe(f.lat,"lng"in f?f.lng:f.lon,f.alt):v===void 0?null:new fe(f,v,E)}var ye={latLngToPoint:function(f,v){var E=this.projection.project(f),M=this.scale(v);return this.transformation._transform(E,M)},pointToLatLng:function(f,v){var E=this.scale(v),M=this.transformation.untransform(f,E);return this.projection.unproject(M)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var v=this.projection.bounds,E=this.scale(f),M=this.transformation.transform(v.min,E),R=this.transformation.transform(v.max,E);return new B(M,R)},infinite:!1,wrapLatLng:function(f){var v=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,E=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,M=f.alt;return new fe(E,v,M)},wrapLatLngBounds:function(f){var v=f.getCenter(),E=this.wrapLatLng(v),M=v.lat-E.lat,R=v.lng-E.lng;if(M===0&&R===0)return f;var H=f.getSouthWest(),Q=f.getNorthEast(),de=new fe(H.lat-M,H.lng-R),pe=new fe(Q.lat-M,Q.lng-R);return new ne(de,pe)}},Te=i({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(f,v){var E=Math.PI/180,M=f.lat*E,R=v.lat*E,H=Math.sin((v.lat-f.lat)*E/2),Q=Math.sin((v.lng-f.lng)*E/2),de=H*H+Math.cos(M)*Math.cos(R)*Q*Q,pe=2*Math.atan2(Math.sqrt(de),Math.sqrt(1-de));return this.R*pe}}),re=6378137,ke={R:re,MAX_LATITUDE:85.0511287798,project:function(f){var v=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,f.lat),-E),R=Math.sin(M*v);return new ee(this.R*f.lng*v,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var v=180/Math.PI;return new fe((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*v,f.x*v/this.R)},bounds:(function(){var f=re*Math.PI;return new B([-f,-f],[f,f])})()};function _e(f,v,E,M){if(j(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=v,this._c=E,this._d=M}_e.prototype={transform:function(f,v){return this._transform(f.clone(),v)},_transform:function(f,v){return v=v||1,f.x=v*(this._a*f.x+this._b),f.y=v*(this._c*f.y+this._d),f},untransform:function(f,v){return v=v||1,new ee((f.x/v-this._b)/this._a,(f.y/v-this._d)/this._c)}};function ae(f,v,E,M){return new _e(f,v,E,M)}var Ue=i({},Te,{code:"EPSG:3857",projection:ke,transformation:(function(){var f=.5/(Math.PI*ke.R);return ae(f,.5,-f,.5)})()}),Fe=i({},Ue,{code:"EPSG:900913"});function Ce(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Pe(f,v){var E="",M,R,H,Q,de,pe;for(M=0,H=f.length;M<H;M++){for(de=f[M],R=0,Q=de.length;R<Q;R++)pe=de[R],E+=(R?"L":"M")+pe.x+" "+pe.y;E+=v?We.svg?"z":"x":""}return E||"M0 0"}var Ge=document.documentElement.style,Ne="ActiveXObject"in window,De=Ne&&!document.addEventListener,Be="msLaunchUri"in navigator&&!("documentMode"in document),st=ni("webkit"),ce=ni("android"),Oe=ni("android 2")||ni("android 3"),ze=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=ce&&ni("Google")&&ze<537&&!("AudioNode"in window),Et=!!window.opera,pt=!Be&&ni("chrome"),Jt=ni("gecko")&&!st&&!Et&&!Ne,zr=!pt&&ni("safari"),Ur=ni("phantom"),Zi="OTransition"in Ge,io=navigator.platform.indexOf("Win")===0,It=Ne&&"transition"in Ge,an="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Oe,Fr="MozPerspective"in Ge,Kn=!window.L_DISABLE_3D&&(It||an||Fr)&&!Zi&&!Ur,Go=typeof orientation<"u"||ni("mobile"),If=Go&&st,Me=Go&&an,nt=!window.PointerEvent&&window.MSPointerEvent,Dt=!!(window.PointerEvent||nt),br="ontouchstart"in window||!!window.TouchEvent,ti=!window.L_NO_TOUCH&&(br||Dt),Nu=Go&&Et,tc=Go&&Jt,Fx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Wp=(function(){var f=!1;try{var v=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return f})(),$f=(function(){return!!document.createElement("canvas").getContext})(),Yo=!!(document.createElementNS&&Ce("svg").createSVGRect),Hx=!!Yo&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Vp=!Yo&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var v=f.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}})(),Zp=navigator.platform.indexOf("Mac")===0,Xp=navigator.platform.indexOf("Linux")===0;function ni(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var We={ie:Ne,ielt9:De,edge:Be,webkit:st,android:ce,android23:Oe,androidStock:it,opera:Et,chrome:pt,gecko:Jt,safari:zr,phantom:Ur,opera12:Zi,win:io,ie3d:It,webkit3d:an,gecko3d:Fr,any3d:Kn,mobile:Go,mobileWebkit:If,mobileWebkit3d:Me,msPointer:nt,pointer:Dt,touch:ti,touchNative:br,mobileOpera:Nu,mobileGecko:tc,retina:Fx,passiveEvents:Wp,canvas:$f,svg:Yo,vml:Vp,inlineSvg:Hx,mac:Zp,linux:Xp},Bf=We.msPointer?"MSPointerDown":"pointerdown",zf=We.msPointer?"MSPointerMove":"pointermove",Na=We.msPointer?"MSPointerUp":"pointerup",Pn=We.msPointer?"MSPointerCancel":"pointercancel",ir={touchstart:Bf,touchmove:zf,touchend:Na,touchcancel:Pn},qo={touchstart:Ks,touchmove:oo,touchend:oo,touchcancel:oo},ao={},Jp=!1;function Gx(f,v,E){return v==="touchstart"&&qs(),qo[v]?(E=qo[v].bind(this,E),f.addEventListener(ir[v],E,!1),E):(console.warn("wrong event specified:",v),p)}function Qp(f,v,E){if(!ir[v]){console.warn("wrong event specified:",v);return}f.removeEventListener(ir[v],E,!1)}function nc(f){ao[f.pointerId]=f}function Uf(f){ao[f.pointerId]&&(ao[f.pointerId]=f)}function Ko(f){delete ao[f.pointerId]}function qs(){Jp||(document.addEventListener(Bf,nc,!0),document.addEventListener(zf,Uf,!0),document.addEventListener(Na,Ko,!0),document.addEventListener(Pn,Ko,!0),Jp=!0)}function oo(f,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var E in ao)v.touches.push(ao[E]);v.changedTouches=[v],f(v)}}function Ks(f,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&wn(v),oo(f,v)}function Rn(f){var v={},E,M;for(M in f)E=f[M],v[M]=E&&E.bind?E.bind(f):E;return f=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var e0=200;function t0(f,v){f.addEventListener("dblclick",v);var E=0,M;function R(H){if(H.detail!==1){M=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var Q=cc(H);if(!(Q.some(function(pe){return pe instanceof HTMLLabelElement&&pe.attributes.for})&&!Q.some(function(pe){return pe instanceof HTMLInputElement||pe instanceof HTMLSelectElement}))){var de=Date.now();de-E<=e0?(M++,M===2&&v(Rn(H))):M=1,E=de}}}return f.addEventListener("click",R),{dblclick:v,simDblclick:R}}function Wo(f,v){f.removeEventListener("dblclick",v.dblclick),f.removeEventListener("click",v.simDblclick)}var so=ac(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rc=ac(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ff=rc==="webkitTransition"||rc==="OTransition"?rc+"End":"transitionend";function Hf(f){return typeof f=="string"?document.getElementById(f):f}function ic(f,v){var E=f.style[v]||f.currentStyle&&f.currentStyle[v];if((!E||E==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(f,null);E=M?M[v]:null}return E==="auto"?null:E}function gt(f,v,E){var M=document.createElement(f);return M.className=v||"",E&&E.appendChild(M),M}function Ut(f){var v=f.parentNode;v&&v.removeChild(f)}function ri(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Wn(f){var v=f.parentNode;v&&v.lastChild!==f&&v.appendChild(f)}function Vo(f){var v=f.parentNode;v&&v.firstChild!==f&&v.insertBefore(f,v.firstChild)}function Gf(f,v){if(f.classList!==void 0)return f.classList.contains(v);var E=Ou(f);return E.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(E)}function ct(f,v){if(f.classList!==void 0)for(var E=k(v),M=0,R=E.length;M<R;M++)f.classList.add(E[M]);else if(!Gf(f,v)){var H=Ou(f);Ws(f,(H?H+" ":"")+v)}}function on(f,v){f.classList!==void 0?f.classList.remove(v):Ws(f,y((" "+Ou(f)+" ").replace(" "+v+" "," ")))}function Ws(f,v){f.className.baseVal===void 0?f.className=v:f.className.baseVal=v}function Ou(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function Qt(f,v){"opacity"in f.style?f.style.opacity=v:"filter"in f.style&&Yf(f,v)}function Yf(f,v){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(M)}catch{if(v===1)return}v=Math.round(v*100),E?(E.Enabled=v!==100,E.Opacity=v):f.style.filter+=" progid:"+M+"(opacity="+v+")"}function ac(f){for(var v=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in v)return f[E];return!1}function Oa(f,v,E){var M=v||new ee(0,0);f.style[so]=(We.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function Yt(f,v){f._leaflet_pos=v,We.any3d?Oa(f,v):(f.style.left=v.x+"px",f.style.top=v.y+"px")}function lo(f){return f._leaflet_pos||new ee(0,0)}var Vs,Xi,qf;if("onselectstart"in document)Vs=function(){ot(window,"selectstart",wn)},Xi=function(){Pt(window,"selectstart",wn)};else{var Zs=ac(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vs=function(){if(Zs){var f=document.documentElement.style;qf=f[Zs],f[Zs]="none"}},Xi=function(){Zs&&(document.documentElement.style[Zs]=qf,qf=void 0)}}function Cu(){ot(window,"dragstart",wn)}function oc(){Pt(window,"dragstart",wn)}var Mu,Kf;function Xs(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(ii(),Mu=f,Kf=f.style.outlineStyle,f.style.outlineStyle="none",ot(window,"keydown",ii))}function ii(){Mu&&(Mu.style.outlineStyle=Kf,Mu=void 0,Kf=void 0,Pt(window,"keydown",ii))}function Du(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function sc(f){var v=f.getBoundingClientRect();return{x:v.width/f.offsetWidth||1,y:v.height/f.offsetHeight||1,boundingClientRect:v}}var Js={__proto__:null,TRANSFORM:so,TRANSITION:rc,TRANSITION_END:Ff,get:Hf,getStyle:ic,create:gt,remove:Ut,empty:ri,toFront:Wn,toBack:Vo,hasClass:Gf,addClass:ct,removeClass:on,setClass:Ws,getClass:Ou,setOpacity:Qt,testProp:ac,setTransform:Oa,setPosition:Yt,getPosition:lo,get disableTextSelection(){return Vs},get enableTextSelection(){return Xi},disableImageDrag:Cu,enableImageDrag:oc,preventOutline:Xs,restoreOutline:ii,getSizedParentNode:Du,getScale:sc};function ot(f,v,E,M){if(v&&typeof v=="object")for(var R in v)Ti(f,R,v[R],E);else{v=k(v);for(var H=0,Q=v.length;H<Q;H++)Ti(f,v[H],E,M)}return this}var Ei="_leaflet_events";function Pt(f,v,E,M){if(arguments.length===1)Wf(f),delete f[Ei];else if(v&&typeof v=="object")for(var R in v)lc(f,R,v[R],E);else if(v=k(v),arguments.length===2)Wf(f,function(de){return C(v,de)!==-1});else for(var H=0,Q=v.length;H<Q;H++)lc(f,v[H],E,M);return this}function Wf(f,v){for(var E in f[Ei]){var M=E.split(/\d/)[0];(!v||v(M))&&lc(f,M,null,null,E)}}var Zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ti(f,v,E,M){var R=v+u(E)+(M?"_"+u(M):"");if(f[Ei]&&f[Ei][R])return this;var H=function(de){return E.call(M||f,de||window.event)},Q=H;!We.touchNative&&We.pointer&&v.indexOf("touch")===0?H=Gx(f,v,H):We.touch&&v==="dblclick"?H=t0(f,H):"addEventListener"in f?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?f.addEventListener(Zo[v]||v,H,We.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(H=function(de){de=de||window.event,Ca(f,de)&&Q(de)},f.addEventListener(Zo[v],H,!1)):f.addEventListener(v,Q,!1):f.attachEvent("on"+v,H),f[Ei]=f[Ei]||{},f[Ei][R]=H}function lc(f,v,E,M,R){R=R||v+u(E)+(M?"_"+u(M):"");var H=f[Ei]&&f[Ei][R];if(!H)return this;!We.touchNative&&We.pointer&&v.indexOf("touch")===0?Qp(f,v,H):We.touch&&v==="dblclick"?Wo(f,H):"removeEventListener"in f?f.removeEventListener(Zo[v]||v,H,!1):f.detachEvent("on"+v,H),f[Ei][R]=null}function Ai(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Ji(f){return Ti(f,"wheel",Ai),this}function Xo(f){return ot(f,"mousedown touchstart dblclick contextmenu",Ai),f._leaflet_disable_click=!0,this}function wn(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function co(f){return wn(f),Ai(f),this}function cc(f){if(f.composedPath)return f.composedPath();for(var v=[],E=f.target;E;)v.push(E),E=E.parentNode;return v}function uc(f,v){if(!v)return new ee(f.clientX,f.clientY);var E=sc(v),M=E.boundingClientRect;return new ee((f.clientX-M.left)/E.x-v.clientLeft,(f.clientY-M.top)/E.y-v.clientTop)}var n0=We.linux&&We.chrome?window.devicePixelRatio:We.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yr(f){return We.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/n0:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Ca(f,v){var E=v.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Pu={__proto__:null,on:ot,off:Pt,stopPropagation:Ai,disableScrollPropagation:Ji,disableClickPropagation:Xo,preventDefault:wn,stop:co,getPropagationPath:cc,getMousePosition:uc,getWheelDelta:yr,isExternalTarget:Ca,addListener:ot,removeListener:Pt},Qs=J.extend({run:function(f,v,E,M){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=lo(f),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(f){var v=+new Date-this._startTime,E=this._duration*1e3;v<E?this._runFrame(this._easeOut(v/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,v){var E=this._startPos.add(this._offset.multiplyBy(f));v&&E._round(),Yt(this._el,E),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),xt=J.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,v){v=w(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(be(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rc&&We.any3d&&!We.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,Ff,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,v,E){if(v=v===void 0?this._zoom:this._limitZoom(v),f=this._limitCenter(be(f),v,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var M=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,v,E.zoom):this._tryAnimatedPan(f,E.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(f,v,E.pan&&E.pan.noMoveStart),this},setZoom:function(f,v){return this._loaded?this.setView(this.getCenter(),f,{zoom:v}):(this._zoom=f,this)},zoomIn:function(f,v){return f=f||(We.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,v)},zoomOut:function(f,v){return f=f||(We.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,v)},setZoomAround:function(f,v,E){var M=this.getZoomScale(v),R=this.getSize().divideBy(2),H=f instanceof ee?f:this.latLngToContainerPoint(f),Q=H.subtract(R).multiplyBy(1-1/M),de=this.containerPointToLatLng(R.add(Q));return this.setView(de,v,{zoom:E})},_getBoundsCenterZoom:function(f,v){v=v||{},f=f.getBounds?f.getBounds():se(f);var E=oe(v.paddingTopLeft||v.padding||[0,0]),M=oe(v.paddingBottomRight||v.padding||[0,0]),R=this.getBoundsZoom(f,!1,E.add(M));if(R=typeof v.maxZoom=="number"?Math.min(v.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var H=M.subtract(E).divideBy(2),Q=this.project(f.getSouthWest(),R),de=this.project(f.getNorthEast(),R),pe=this.unproject(Q.add(de).divideBy(2).add(H),R);return{center:pe,zoom:R}},fitBounds:function(f,v){if(f=se(f),!f.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,v);return this.setView(E.center,E.zoom,v)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,v){return this.setView(f,this._zoom,{pan:v})},panBy:function(f,v){if(f=oe(f).round(),v=v||{},!f.x&&!f.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){ct(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,v.duration||.25,v.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,v,E){if(E=E||{},E.animate===!1||!We.any3d)return this.setView(f,v,E);this._stop();var M=this.project(this.getCenter()),R=this.project(f),H=this.getSize(),Q=this._zoom;f=be(f),v=v===void 0?Q:v;var de=Math.max(H.x,H.y),pe=de*this.getZoomScale(Q,v),Ae=R.distanceTo(M)||1,$e=1.42,Ze=$e*$e;function ft(pn){var Ra=pn?-1:1,ts=pn?pe:de,ch=pe*pe-de*de+Ra*Ze*Ze*Ae*Ae,Tc=2*ts*Ze*Ae,Ac=ch/Tc,vo=Math.sqrt(Ac*Ac+1)-Ac,La=vo<1e-9?-18:Math.log(vo);return La}function Vn(pn){return(Math.exp(pn)-Math.exp(-pn))/2}function _n(pn){return(Math.exp(pn)+Math.exp(-pn))/2}function Gr(pn){return Vn(pn)/_n(pn)}var Tt=ft(0);function At(pn){return de*(_n(Tt)/_n(Tt+$e*pn))}function bt(pn){return de*(_n(Tt)*Gr(Tt+$e*pn)-Vn(Tt))/Ze}function bo(pn){return 1-Math.pow(1-pn,1.5)}var li=Date.now(),Wu=(ft(1)-Tt)/$e,yo=E.duration?1e3*E.duration:1e3*Wu*.8;function lh(){var pn=(Date.now()-li)/yo,Ra=bo(pn)*Wu;pn<=1?(this._flyToFrame=F(lh,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(bt(Ra)/Ae)),Q),this.getScaleZoom(de/At(Ra),Q),{flyTo:!0})):this._move(f,v)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),lh.call(this),this},flyToBounds:function(f,v){var E=this._getBoundsCenterZoom(f,v);return this.flyTo(E.center,E.zoom,v)},setMaxBounds:function(f){return f=se(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var v=this.options.minZoom;return this.options.minZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var v=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,v){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,se(f));return E.equals(M)||this.panTo(M,v),this._enforcingBounds=!1,this},panInside:function(f,v){v=v||{};var E=oe(v.paddingTopLeft||v.padding||[0,0]),M=oe(v.paddingBottomRight||v.padding||[0,0]),R=this.project(this.getCenter()),H=this.project(f),Q=this.getPixelBounds(),de=V([Q.min.add(E),Q.max.subtract(M)]),pe=de.getSize();if(!de.contains(H)){this._enforcingBounds=!0;var Ae=H.subtract(de.getCenter()),$e=de.extend(H).getSize().subtract(pe);R.x+=Ae.x<0?-$e.x:$e.x,R.y+=Ae.y<0?-$e.y:$e.y,this.panTo(this.unproject(R),v),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=v.divideBy(2).round(),R=E.divideBy(2).round(),H=M.subtract(R);return!H.x&&!H.y?this:(f.animate&&f.pan?this.panBy(H):(f.pan&&this._rawPanBy(H),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,E,f):navigator.geolocation.getCurrentPosition(v,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var v=f.code,E=f.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var v=f.coords.latitude,E=f.coords.longitude,M=new fe(v,E),R=M.toBounds(f.coords.accuracy*2),H=this._locateOptions;if(H.setView){var Q=this.getBoundsZoom(R);this.setView(M,H.maxZoom?Math.min(Q,H.maxZoom):Q)}var de={latlng:M,bounds:R,timestamp:f.timestamp};for(var pe in f.coords)typeof f.coords[pe]=="number"&&(de[pe]=f.coords[pe]);this.fire("locationfound",de)}},addHandler:function(f,v){if(!v)return this;var E=this[f]=new v(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Ut(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,v){var E="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),M=gt("div",E,v||this._mapPane);return f&&(this._panes[f]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),v=this.unproject(f.getBottomLeft()),E=this.unproject(f.getTopRight());return new ne(v,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,v,E){f=se(f),E=oe(E||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),H=this.getMaxZoom(),Q=f.getNorthWest(),de=f.getSouthEast(),pe=this.getSize().subtract(E),Ae=V(this.project(de,M),this.project(Q,M)).getSize(),$e=We.any3d?this.options.zoomSnap:1,Ze=pe.x/Ae.x,ft=pe.y/Ae.y,Vn=v?Math.max(Ze,ft):Math.min(Ze,ft);return M=this.getScaleZoom(Vn,M),$e&&(M=Math.round(M/($e/100))*($e/100),M=v?Math.ceil(M/$e)*$e:Math.floor(M/$e)*$e),Math.max(R,Math.min(H,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,v){var E=this._getTopLeftPoint(f,v);return new B(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,v){var E=this.options.crs;return v=v===void 0?this._zoom:v,E.scale(f)/E.scale(v)},getScaleZoom:function(f,v){var E=this.options.crs;v=v===void 0?this._zoom:v;var M=E.zoom(f*E.scale(v));return isNaN(M)?1/0:M},project:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(be(f),v)},unproject:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(oe(f),v)},layerPointToLatLng:function(f){var v=oe(f).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(f){var v=this.project(be(f))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(be(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(se(f))},distance:function(f,v){return this.options.crs.distance(be(f),be(v))},containerPointToLayerPoint:function(f){return oe(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return oe(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var v=this.containerPointToLayerPoint(oe(f));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(be(f)))},mouseEventToContainerPoint:function(f){return uc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var v=this._container=Hf(f);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(v,"scroll",this._onScroll,this),this._containerId=u(v)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&We.any3d,ct(f,"leaflet-container"+(We.touch?" leaflet-touch":"")+(We.retina?" leaflet-retina":"")+(We.ielt9?" leaflet-oldie":"")+(We.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=ic(f,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yt(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(f.markerPane,"leaflet-zoom-hide"),ct(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,v,E){Yt(this._mapPane,new ee(0,0));var M=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var R=this._zoom!==v;this._moveStart(R,E)._move(f,v)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(f,v){return f&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(f,v,E,M){v===void 0&&(v=this._zoom);var R=this._zoom!==v;return this._zoom=v,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),M?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Yt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var v=f?Pt:ot;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),We.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,v){for(var E=[],M,R=v==="mouseout"||v==="mouseover",H=f.target||f.srcElement,Q=!1;H;){if(M=this._targets[u(H)],M&&(v==="click"||v==="preclick")&&this._draggableMoved(M)){Q=!0;break}if(M&&M.listens(v,!0)&&(R&&!Ca(H,f)||(E.push(M),R))||H===this._container)break;H=H.parentNode}return!E.length&&!Q&&!R&&this.listens(v,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var v=f.target||f.srcElement;if(!(!this._loaded||v._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(v))){var E=f.type;E==="mousedown"&&Xs(v),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,v,E){if(f.type==="click"){var M=i({},f);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var R=this._findEventTargets(f,v);if(E){for(var H=[],Q=0;Q<E.length;Q++)E[Q].listens(v,!0)&&H.push(E[Q]);R=H.concat(R)}if(R.length){v==="contextmenu"&&wn(f);var de=R[0],pe={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Ae=de.getLatLng&&(!de._radius||de._radius<=10);pe.containerPoint=Ae?this.latLngToContainerPoint(de.getLatLng()):this.mouseEventToContainerPoint(f),pe.layerPoint=this.containerPointToLayerPoint(pe.containerPoint),pe.latlng=Ae?de.getLatLng():this.layerPointToLatLng(pe.layerPoint)}for(Q=0;Q<R.length;Q++)if(R[Q].fire(v,pe,!0),pe.originalEvent._stopped||R[Q].options.bubblingMouseEvents===!1&&C(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,v=this._handlers.length;f<v;f++)this._handlers[f].disable()},whenReady:function(f,v){return this._loaded?f.call(v||this,{target:this}):this.on("load",f,v),this},_getMapPanePos:function(){return lo(this._mapPane)||new ee(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,v){var E=f&&v!==void 0?this._getNewPixelOrigin(f,v):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,v){var E=this.getSize()._divideBy(2);return this.project(f,v)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return this.project(f,v)._subtract(M)},_latLngBoundsToNewLayerBounds:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return V([this.project(f.getSouthWest(),v)._subtract(M),this.project(f.getNorthWest(),v)._subtract(M),this.project(f.getSouthEast(),v)._subtract(M),this.project(f.getNorthEast(),v)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,v,E){if(!E)return f;var M=this.project(f,v),R=this.getSize().divideBy(2),H=new B(M.subtract(R),M.add(R)),Q=this._getBoundsOffset(H,E,v);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?f:this.unproject(M.add(Q),v)},_limitOffset:function(f,v){if(!v)return f;var E=this.getPixelBounds(),M=new B(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(M,v))},_getBoundsOffset:function(f,v,E){var M=V(this.project(v.getNorthEast(),E),this.project(v.getSouthWest(),E)),R=M.min.subtract(f.min),H=M.max.subtract(f.max),Q=this._rebound(R.x,-H.x),de=this._rebound(R.y,-H.y);return new ee(Q,de)},_rebound:function(f,v){return f+v>0?Math.round(f-v)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(v))},_limitZoom:function(f){var v=this.getMinZoom(),E=this.getMaxZoom(),M=We.any3d?this.options.zoomSnap:1;return M&&(f=Math.round(f/M)*M),Math.max(v,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){on(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,v){var E=this._getCenterOffset(f)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,v),!0)},_createAnimProxy:function(){var f=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(v){var E=so,M=this._proxy.style[E];Oa(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),v=this.getZoom();Oa(this._proxy,this.project(f,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,v,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(v),R=this._getCenterOffset(f)._divideBy(1-1/M);return E.animate!==!0&&!this.getSize().contains(R)?!1:(F(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,v,!0)},this),!0)},_animateZoom:function(f,v,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=v,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:v,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&on(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vf(f,v){return new xt(f,v)}var Hr=Z.extend({options:{position:"topright"},initialize:function(f){w(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var v=this._map;return v&&v.removeControl(this),this.options.position=f,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var v=this._container=this.onAdd(f),E=this.getPosition(),M=f._controlCorners[E];return ct(v,"leaflet-control"),E.indexOf("bottom")!==-1?M.insertBefore(v,M.firstChild):M.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Ma=function(f){return new Hr(f)};xt.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},v="leaflet-",E=this._controlContainer=gt("div",v+"control-container",this._container);function M(R,H){var Q=v+R+" "+v+H;f[R+H]=gt("div",Q,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Ut(this._controlCorners[f]);Ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dc=Hr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,v,E,M){return E<M?-1:M<E?1:0}},initialize:function(f,v,E){w(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in f)this._addLayer(f[M],M);for(M in v)this._addLayer(v[M],M,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Hr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,v){return this._addLayer(f,v),this._map?this._update():this},addOverlay:function(f,v){return this._addLayer(f,v,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var v=this._getLayer(u(f));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):on(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return on(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",v=this._container=gt("div",f),E=this.options.collapsed;v.setAttribute("aria-haspopup",!0),Xo(v),Ji(v);var M=this._section=gt("section",f+"-list");E&&(this._map.on("click",this.collapse,this),ot(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=gt("a",f+"-toggle",v);R.href="#",R.title="Layers",R.setAttribute("role","button"),ot(R,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){wn(H),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=gt("div",f+"-base",M),this._separator=gt("div",f+"-separator",M),this._overlaysList=gt("div",f+"-overlays",M),v.appendChild(M)},_getLayer:function(f){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&u(this._layers[v].layer)===f)return this._layers[v]},_addLayer:function(f,v,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:v,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var f,v,E,M,R=0;for(E=0;E<this._layers.length;E++)M=this._layers[E],this._addItem(M),v=v||M.overlay,f=f||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=v&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var v=this._getLayer(u(f.target)),E=v.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;E&&this._map.fire(E,v)},_createRadioElement:function(f,v){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(v?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(f){var v=document.createElement("label"),E=this._map.hasLayer(f.layer),M;f.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(M),M.layerId=u(f.layer),ot(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var H=document.createElement("span");v.appendChild(H),H.appendChild(M),H.appendChild(R);var Q=f.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,v,E,M=[],R=[];this._handlingClick=!0;for(var H=f.length-1;H>=0;H--)v=f[H],E=this._getLayer(v.layerId).layer,v.checked?M.push(E):v.checked||R.push(E);for(H=0;H<R.length;H++)this._map.hasLayer(R[H])&&this._map.removeLayer(R[H]);for(H=0;H<M.length;H++)this._map.hasLayer(M[H])||this._map.addLayer(M[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,v,E,M=this._map.getZoom(),R=f.length-1;R>=0;R--)v=f[R],E=this._getLayer(v.layerId).layer,v.disabled=E.options.minZoom!==void 0&&M<E.options.minZoom||E.options.maxZoom!==void 0&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,ot(f,"click",wn),this.expand();var v=this;setTimeout(function(){Pt(f,"click",wn),v._preventClick=!1})}}),r0=function(f,v,E){return new dc(f,v,E)},Zf=Hr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var v="leaflet-control-zoom",E=gt("div",v+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,v+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,v+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,v,E,M,R){var H=gt("a",E,M);return H.innerHTML=f,H.href="#",H.title=v,H.setAttribute("role","button"),H.setAttribute("aria-label",v),Xo(H),ot(H,"click",co),ot(H,"click",R,this),ot(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var f=this._map,v="leaflet-disabled";on(this._zoomInButton,v),on(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(ct(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(ct(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zf,this.addControl(this.zoomControl))});var Yx=function(f){return new Zf(f)},i0=Hr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var v="leaflet-control-scale",E=gt("div",v),M=this.options;return this._addScales(M,v+"-line",E),f.on(M.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,v,E){f.metric&&(this._mScale=gt("div",v,E)),f.imperial&&(this._iScale=gt("div",v,E))},_update:function(){var f=this._map,v=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,v]),f.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var v=this._getRoundNum(f),E=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,E,v/f)},_updateImperial:function(f){var v=f*3.2808399,E,M,R;v>5280?(E=v/5280,M=this._getRoundNum(E),this._updateScale(this._iScale,M+" mi",M/E)):(R=this._getRoundNum(v),this._updateScale(this._iScale,R+" ft",R/v))},_updateScale:function(f,v,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=v},_getRoundNum:function(f){var v=Math.pow(10,(Math.floor(f)+"").length-1),E=f/v;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,v*E}}),Xf=function(f){return new i0(f)},qx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jf=Hr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(We.inlineSvg?qx+" ":"")+"Leaflet</a>"},initialize:function(f){w(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Xo(this._container);for(var v in f._layers)f._layers[v].getAttribution&&this.addAttribution(f._layers[v].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var v in this._attributions)this._attributions[v]&&f.push(v);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Jf().addTo(this)});var Kx=function(f){return new Jf(f)};Hr.Layers=dc,Hr.Zoom=Zf,Hr.Scale=i0,Hr.Attribution=Jf,Ma.layers=r0,Ma.zoom=Yx,Ma.scale=Xf,Ma.attribution=Kx;var Qi=Z.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qi.addTo=function(f,v){return f.addHandler(v,this),this};var Wx={Events:Y},Qf=We.touch?"touchstart mousedown":"mousedown",uo=J.extend({options:{clickTolerance:3},initialize:function(f,v,E,M){w(this,M),this._element=f,this._dragStartTarget=v||f,this._preventOutline=E},enable:function(){this._enabled||(ot(this._dragStartTarget,Qf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(uo._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,Qf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Gf(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){uo._dragging===this&&this.finishDrag();return}if(!(uo._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(uo._dragging=this,this._preventOutline&&Xs(this._element),Cu(),Vs(),!this._moving)){this.fire("down");var v=f.touches?f.touches[0]:f,E=Du(this._element);this._startPoint=new ee(v.clientX,v.clientY),this._startPos=lo(this._element),this._parentScale=sc(E);var M=f.type==="mousedown";ot(document,M?"mousemove":"touchmove",this._onMove,this),ot(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var v=f.touches&&f.touches.length===1?f.touches[0]:f,E=new ee(v.clientX,v.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,wn(f),this._moved||(this.fire("dragstart"),this._moved=!0,ct(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Yt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){on(document.body,"leaflet-dragging"),this._lastTarget&&(on(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),oc(),Xi();var v=this._moved&&this._moving;this._moving=!1,uo._dragging=!1,v&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function a0(f,v,E){var M,R=[1,4,2,8],H,Q,de,pe,Ae,$e,Ze,ft;for(H=0,$e=f.length;H<$e;H++)f[H]._code=Jo(f[H],v);for(de=0;de<4;de++){for(Ze=R[de],M=[],H=0,$e=f.length,Q=$e-1;H<$e;Q=H++)pe=f[H],Ae=f[Q],pe._code&Ze?Ae._code&Ze||(ft=Ru(Ae,pe,Ze,v,E),ft._code=Jo(ft,v),M.push(ft)):(Ae._code&Ze&&(ft=Ru(Ae,pe,Ze,v,E),ft._code=Jo(ft,v),M.push(ft)),M.push(pe));f=M}return f}function o0(f,v){var E,M,R,H,Q,de,pe,Ae,$e;if(!f||f.length===0)throw new Error("latlngs not passed");ai(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ze=be([0,0]),ft=se(f),Vn=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());Vn<1700&&(Ze=eh(f));var _n=f.length,Gr=[];for(E=0;E<_n;E++){var Tt=be(f[E]);Gr.push(v.project(be([Tt.lat-Ze.lat,Tt.lng-Ze.lng])))}for(de=pe=Ae=0,E=0,M=_n-1;E<_n;M=E++)R=Gr[E],H=Gr[M],Q=R.y*H.x-H.y*R.x,pe+=(R.x+H.x)*Q,Ae+=(R.y+H.y)*Q,de+=Q*3;de===0?$e=Gr[0]:$e=[pe/de,Ae/de];var At=v.unproject(oe($e));return be([At.lat+Ze.lat,At.lng+Ze.lng])}function eh(f){for(var v=0,E=0,M=0,R=0;R<f.length;R++){var H=be(f[R]);v+=H.lat,E+=H.lng,M++}return be([v/M,E/M])}var th={__proto__:null,clipPolygon:a0,polygonCenter:o0,centroid:eh};function s0(f,v){if(!v||!f.length)return f.slice();var E=v*v;return f=Zx(f,E),f=c0(f,E),f}function l0(f,v,E){return Math.sqrt(fc(f,v,E,!0))}function Vx(f,v,E){return fc(f,v,E)}function c0(f,v){var E=f.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(E);R[0]=R[E-1]=1,nh(f,R,v,0,E-1);var H,Q=[];for(H=0;H<E;H++)R[H]&&Q.push(f[H]);return Q}function nh(f,v,E,M,R){var H=0,Q,de,pe;for(de=M+1;de<=R-1;de++)pe=fc(f[de],f[M],f[R],!0),pe>H&&(Q=de,H=pe);H>E&&(v[Q]=1,nh(f,v,E,M,Q),nh(f,v,E,Q,R))}function Zx(f,v){for(var E=[f[0]],M=1,R=0,H=f.length;M<H;M++)Xx(f[M],f[R])>v&&(E.push(f[M]),R=M);return R<H-1&&E.push(f[H-1]),E}var u0;function d0(f,v,E,M,R){var H=M?u0:Jo(f,E),Q=Jo(v,E),de,pe,Ae;for(u0=Q;;){if(!(H|Q))return[f,v];if(H&Q)return!1;de=H||Q,pe=Ru(f,v,de,E,R),Ae=Jo(pe,E),de===H?(f=pe,H=Ae):(v=pe,Q=Ae)}}function Ru(f,v,E,M,R){var H=v.x-f.x,Q=v.y-f.y,de=M.min,pe=M.max,Ae,$e;return E&8?(Ae=f.x+H*(pe.y-f.y)/Q,$e=pe.y):E&4?(Ae=f.x+H*(de.y-f.y)/Q,$e=de.y):E&2?(Ae=pe.x,$e=f.y+Q*(pe.x-f.x)/H):E&1&&(Ae=de.x,$e=f.y+Q*(de.x-f.x)/H),new ee(Ae,$e,R)}function Jo(f,v){var E=0;return f.x<v.min.x?E|=1:f.x>v.max.x&&(E|=2),f.y<v.min.y?E|=4:f.y>v.max.y&&(E|=8),E}function Xx(f,v){var E=v.x-f.x,M=v.y-f.y;return E*E+M*M}function fc(f,v,E,M){var R=v.x,H=v.y,Q=E.x-R,de=E.y-H,pe=Q*Q+de*de,Ae;return pe>0&&(Ae=((f.x-R)*Q+(f.y-H)*de)/pe,Ae>1?(R=E.x,H=E.y):Ae>0&&(R+=Q*Ae,H+=de*Ae)),Q=f.x-R,de=f.y-H,M?Q*Q+de*de:new ee(R,H)}function ai(f){return!j(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Lu(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ai(f)}function el(f,v){var E,M,R,H,Q,de,pe,Ae;if(!f||f.length===0)throw new Error("latlngs not passed");ai(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var $e=be([0,0]),Ze=se(f),ft=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());ft<1700&&($e=eh(f));var Vn=f.length,_n=[];for(E=0;E<Vn;E++){var Gr=be(f[E]);_n.push(v.project(be([Gr.lat-$e.lat,Gr.lng-$e.lng])))}for(E=0,M=0;E<Vn-1;E++)M+=_n[E].distanceTo(_n[E+1])/2;if(M===0)Ae=_n[0];else for(E=0,H=0;E<Vn-1;E++)if(Q=_n[E],de=_n[E+1],R=Q.distanceTo(de),H+=R,H>M){pe=(H-M)/R,Ae=[de.x-pe*(de.x-Q.x),de.y-pe*(de.y-Q.y)];break}var Tt=v.unproject(oe(Ae));return be([Tt.lat+$e.lat,Tt.lng+$e.lng])}var Jx={__proto__:null,simplify:s0,pointToSegmentDistance:l0,closestPointOnSegment:Vx,clipSegment:d0,_getEdgeIntersection:Ru,_getBitCode:Jo,_sqClosestPointOnSegment:fc,isFlat:ai,_flat:Lu,polylineCenter:el},Iu={project:function(f){return new ee(f.lng,f.lat)},unproject:function(f){return new fe(f.y,f.x)},bounds:new B([-180,-90],[180,90])},$u={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var v=Math.PI/180,E=this.R,M=f.lat*v,R=this.R_MINOR/E,H=Math.sqrt(1-R*R),Q=H*Math.sin(M),de=Math.tan(Math.PI/4-M/2)/Math.pow((1-Q)/(1+Q),H/2);return M=-E*Math.log(Math.max(de,1e-10)),new ee(f.lng*v*E,M)},unproject:function(f){for(var v=180/Math.PI,E=this.R,M=this.R_MINOR/E,R=Math.sqrt(1-M*M),H=Math.exp(-f.y/E),Q=Math.PI/2-2*Math.atan(H),de=0,pe=.1,Ae;de<15&&Math.abs(pe)>1e-7;de++)Ae=R*Math.sin(Q),Ae=Math.pow((1-Ae)/(1+Ae),R/2),pe=Math.PI/2-2*Math.atan(H*Ae)-Q,Q+=pe;return new fe(Q*v,f.x*v/E)}},f0={__proto__:null,LonLat:Iu,Mercator:$u,SphericalMercator:ke},h0=i({},Te,{code:"EPSG:3395",projection:$u,transformation:(function(){var f=.5/(Math.PI*$u.R);return ae(f,.5,-f,.5)})()}),rh=i({},Te,{code:"EPSG:4326",projection:Iu,transformation:ae(1/180,1,-1/180,.5)}),tl=i({},ye,{projection:Iu,transformation:ae(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,v){var E=v.lng-f.lng,M=v.lat-f.lat;return Math.sqrt(E*E+M*M)},infinite:!0});ye.Earth=Te,ye.EPSG3395=h0,ye.EPSG3857=Ue,ye.EPSG900913=Fe,ye.EPSG4326=rh,ye.Simple=tl;var ji=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var v=f.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var E=this.getEvents();v.on(E,this),this.once("remove",function(){v.off(E,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var v=u(f);return this._layers[v]?this:(this._layers[v]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var v=u(f);return this._layers[v]?(this._loaded&&f.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},_addLayers:function(f){f=f?j(f)?f:[f]:[];for(var v=0,E=f.length;v<E;v++)this.addLayer(f[v])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var v=u(f);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,v=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),v=R.maxZoom===void 0?v:Math.max(v,R.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nl=ji.extend({initialize:function(f,v){w(this,v),this._layers={};var E,M;if(f)for(E=0,M=f.length;E<M;E++)this.addLayer(f[E])},addLayer:function(f){var v=this.getLayerId(f);return this._layers[v]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var v=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(f){var v=typeof f=="number"?f:this.getLayerId(f);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var v=Array.prototype.slice.call(arguments,1),E,M;for(E in this._layers)M=this._layers[E],M[f]&&M[f].apply(M,v);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),Qx=function(f,v){return new nl(f,v)},ea=nl.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),nl.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),nl.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ne;for(var v in this._layers){var E=this._layers[v];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),m0=function(f,v){return new ea(f,v)},ta=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){w(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,v){var E=this._getIconUrl(f);if(!E){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(M,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(f,v){var E=this.options,M=E[v+"Size"];typeof M=="number"&&(M=[M,M]);var R=oe(M),H=oe(v==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+v+" "+(E.className||""),H&&(f.style.marginLeft=-H.x+"px",f.style.marginTop=-H.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,v){return v=v||document.createElement("img"),v.src=f,v},_getIconUrl:function(f){return We.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function hc(f){return new ta(f)}var mc=ta.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof mc.imagePath!="string"&&(mc.imagePath=this._detectIconPath()),(this.options.imagePath||mc.imagePath)+ta.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var v=function(E,M,R){var H=M.exec(E);return H&&H[R]};return f=v(f,/^url\((['"])?(.+)\1\)$/,2),f&&v(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=gt("div","leaflet-default-icon-path",document.body),v=ic(f,"background-image")||ic(f,"backgroundImage");if(document.body.removeChild(f),v=this._stripUrl(v),v)return v;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),pc=Qi.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new uo(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&on(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var v=this._marker,E=v._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,H=lo(v._icon),Q=E.getPixelBounds(),de=E.getPixelOrigin(),pe=V(Q.min._subtract(de).add(R),Q.max._subtract(de).subtract(R));if(!pe.contains(H)){var Ae=oe((Math.max(pe.max.x,H.x)-pe.max.x)/(Q.max.x-pe.max.x)-(Math.min(pe.min.x,H.x)-pe.min.x)/(Q.min.x-pe.min.x),(Math.max(pe.max.y,H.y)-pe.max.y)/(Q.max.y-pe.max.y)-(Math.min(pe.min.y,H.y)-pe.min.y)/(Q.min.y-pe.min.y)).multiplyBy(M);E.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Yt(v._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=F(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,f)))},_onDrag:function(f){var v=this._marker,E=v._shadow,M=lo(v._icon),R=v._map.layerPointToLatLng(M);E&&Yt(E,M),v._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,v.fire("move",f).fire("drag",f)},_onDragEnd:function(f){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),gc=ji.extend({options:{icon:new mc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,v){w(this,v),this._latlng=be(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var v=this._latlng;return this._latlng=be(f),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,f.title&&(E.title=f.title),E.tagName==="IMG"&&(E.alt=f.alt||"")),ct(E,v),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(E,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),H=!1;R!==this._shadow&&(this._removeShadow(),H=!0),R&&(ct(R,v),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&H&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),Ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ut(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Yt(this._icon,f),this._shadow&&Yt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Qt(this._icon,f),this._shadow&&Qt(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var v=this.options.icon.options,E=v.iconSize?oe(v.iconSize):oe(0,0),M=v.iconAnchor?oe(v.iconAnchor):oe(0,0);f.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function p0(f,v){return new gc(f,v)}var na=ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return w(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rl=na.extend({options:{fill:!0,radius:10},initialize:function(f,v){w(this,v),this._latlng=be(f),this._radius=this.options.radius},setLatLng:function(f){var v=this._latlng;return this._latlng=be(f),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var v=f&&f.radius||this._radius;return na.prototype.setStyle.call(this,f),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,v=this._radiusY||f,E=this._clickTolerance(),M=[f+E,v+E];this._pxBounds=new B(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function g0(f,v){return new rl(f,v)}var Bu=rl.extend({initialize:function(f,v,E){if(typeof v=="number"&&(v=i({},E,{radius:v})),w(this,v),this._latlng=be(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:na.prototype.setStyle,_project:function(){var f=this._latlng.lng,v=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===Te.distance){var R=Math.PI/180,H=this._mRadius/Te.R/R,Q=E.project([v+H,f]),de=E.project([v-H,f]),pe=Q.add(de).divideBy(2),Ae=E.unproject(pe).lat,$e=Math.acos((Math.cos(H*R)-Math.sin(v*R)*Math.sin(Ae*R))/(Math.cos(v*R)*Math.cos(Ae*R)))/R;(isNaN($e)||$e===0)&&($e=H/Math.cos(Math.PI/180*v)),this._point=pe.subtract(E.getPixelOrigin()),this._radius=isNaN($e)?0:pe.x-E.project([Ae,f-$e]).x,this._radiusY=pe.y-Q.y}else{var Ze=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Ze).x}this._updateBounds()}});function b0(f,v,E){return new Bu(f,v,E)}var Da=na.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,v){w(this,v),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var v=1/0,E=null,M=fc,R,H,Q=0,de=this._parts.length;Q<de;Q++)for(var pe=this._parts[Q],Ae=1,$e=pe.length;Ae<$e;Ae++){R=pe[Ae-1],H=pe[Ae];var Ze=M(f,R,H,!0);Ze<v&&(v=Ze,E=M(f,R,H))}return E&&(E.distance=Math.sqrt(v)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return el(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,v){return v=v||this._defaultShape(),f=be(f),v.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ne,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return ai(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var v=[],E=ai(f),M=0,R=f.length;M<R;M++)E?(v[M]=be(f[M]),this._bounds.extend(v[M])):v[M]=this._convertLatLngs(f[M]);return v},_project:function(){var f=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),v=new ee(f,f);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(f,v,E){var M=f[0]instanceof fe,R=f.length,H,Q;if(M){for(Q=[],H=0;H<R;H++)Q[H]=this._map.latLngToLayerPoint(f[H]),E.extend(Q[H]);v.push(Q)}else for(H=0;H<R;H++)this._projectLatlngs(f[H],v,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,E,M,R,H,Q,de,pe;for(E=0,R=0,H=this._rings.length;E<H;E++)for(pe=this._rings[E],M=0,Q=pe.length;M<Q-1;M++)de=d0(pe[M],pe[M+1],f,M,!0),de&&(v[R]=v[R]||[],v[R].push(de[0]),(de[1]!==pe[M+1]||M===Q-2)&&(v[R].push(de[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,v=this.options.smoothFactor,E=0,M=f.length;E<M;E++)f[E]=s0(f[E],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,v){var E,M,R,H,Q,de,pe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,H=this._parts.length;E<H;E++)for(de=this._parts[E],M=0,Q=de.length,R=Q-1;M<Q;R=M++)if(!(!v&&M===0)&&l0(f,de[R],de[M])<=pe)return!0;return!1}});function ew(f,v){return new Da(f,v)}Da._flat=Lu;var il=Da.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return o0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var v=Da.prototype._convertLatLngs.call(this,f),E=v.length;return E>=2&&v[0]instanceof fe&&v[0].equals(v[E-1])&&v.pop(),v},_setLatLngs:function(f){Da.prototype._setLatLngs.call(this,f),ai(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ai(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,v=this.options.weight,E=new ee(v,v);if(f=new B(f.min.subtract(E),f.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,H;M<R;M++)H=a0(this._rings[M],f,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var v=!1,E,M,R,H,Q,de,pe,Ae;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(H=0,pe=this._parts.length;H<pe;H++)for(E=this._parts[H],Q=0,Ae=E.length,de=Ae-1;Q<Ae;de=Q++)M=E[Q],R=E[de],M.y>f.y!=R.y>f.y&&f.x<(R.x-M.x)*(f.y-M.y)/(R.y-M.y)+M.x&&(v=!v);return v||Da.prototype._containsPoint.call(this,f,!0)}});function tw(f,v){return new il(f,v)}var Pa=ea.extend({initialize:function(f,v){w(this,v),this._layers={},f&&this.addData(f)},addData:function(f){var v=j(f)?f:f.features,E,M,R;if(v){for(E=0,M=v.length;E<M;E++)R=v[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var H=this.options;if(H.filter&&!H.filter(f))return this;var Q=ar(f,H);return Q?(Q.feature=Fu(f),Q.defaultOptions=Q.options,this.resetStyle(Q),H.onEachFeature&&H.onEachFeature(f,Q),this.addLayer(Q)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(v){this._setLayerStyle(v,f)},this)},_setLayerStyle:function(f,v){f.setStyle&&(typeof v=="function"&&(v=v(f.feature)),f.setStyle(v))}});function ar(f,v){var E=f.type==="Feature"?f.geometry:f,M=E?E.coordinates:null,R=[],H=v&&v.pointToLayer,Q=v&&v.coordsToLatLng||zu,de,pe,Ae,$e;if(!M&&!E)return null;switch(E.type){case"Point":return de=Q(M),al(H,f,de,v);case"MultiPoint":for(Ae=0,$e=M.length;Ae<$e;Ae++)de=Q(M[Ae]),R.push(al(H,f,de,v));return new ea(R);case"LineString":case"MultiLineString":return pe=bc(M,E.type==="LineString"?0:1,Q),new Da(pe,v);case"Polygon":case"MultiPolygon":return pe=bc(M,E.type==="Polygon"?1:2,Q),new il(pe,v);case"GeometryCollection":for(Ae=0,$e=E.geometries.length;Ae<$e;Ae++){var Ze=ar({geometry:E.geometries[Ae],type:"Feature",properties:f.properties},v);Ze&&R.push(Ze)}return new ea(R);case"FeatureCollection":for(Ae=0,$e=E.features.length;Ae<$e;Ae++){var ft=ar(E.features[Ae],v);ft&&R.push(ft)}return new ea(R);default:throw new Error("Invalid GeoJSON object.")}}function al(f,v,E,M){return f?f(v,E):new gc(E,M&&M.markersInheritOptions&&M)}function zu(f){return new fe(f[1],f[0],f[2])}function bc(f,v,E){for(var M=[],R=0,H=f.length,Q;R<H;R++)Q=v?bc(f[R],v-1,E):(E||zu)(f[R]),M.push(Q);return M}function Uu(f,v){return f=be(f),f.alt!==void 0?[b(f.lng,v),b(f.lat,v),b(f.alt,v)]:[b(f.lng,v),b(f.lat,v)]}function yc(f,v,E,M){for(var R=[],H=0,Q=f.length;H<Q;H++)R.push(v?yc(f[H],ai(f[H])?0:v-1,E,M):Uu(f[H],M));return!v&&E&&R.length>0&&R.push(R[0].slice()),R}function fo(f,v){return f.feature?i({},f.feature,{geometry:v}):Fu(v)}function Fu(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var ho={toGeoJSON:function(f){return fo(this,{type:"Point",coordinates:Uu(this.getLatLng(),f)})}};gc.include(ho),Bu.include(ho),rl.include(ho),Da.include({toGeoJSON:function(f){var v=!ai(this._latlngs),E=yc(this._latlngs,v?1:0,!1,f);return fo(this,{type:(v?"Multi":"")+"LineString",coordinates:E})}}),il.include({toGeoJSON:function(f){var v=!ai(this._latlngs),E=v&&!ai(this._latlngs[0]),M=yc(this._latlngs,E?2:v?1:0,!0,f);return v||(M=[M]),fo(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),nl.include({toMultiPoint:function(f){var v=[];return this.eachLayer(function(E){v.push(E.toGeoJSON(f).geometry.coordinates)}),fo(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(f){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(f);var E=v==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var H=R.toGeoJSON(f);if(E)M.push(H.geometry);else{var Q=Fu(H);Q.type==="FeatureCollection"?M.push.apply(M,Q.features):M.push(Q)}}}),E?fo(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Hu(f,v){return new Pa(f,v)}var vc=Hu,ol=ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,v,E){this._url=f,this._bounds=se(v),w(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Wn(this._image),this},bringToBack:function(){return this._map&&Vo(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=se(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",v=this._image=f?this._url:gt("img");if(ct(v,"leaflet-image-layer"),this._zoomAnimated&&ct(v,"leaflet-zoom-animated"),this.options.className&&ct(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=o(this.fire,this,"load"),v.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(f){var v=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Oa(this._image,E,v)},_reset:function(){var f=this._image,v=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=v.getSize();Yt(f,v.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),y0=function(f,v,E){return new ol(f,v,E)},mo=ol.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",v=this._image=f?this._url:gt("video");if(ct(v,"leaflet-image-layer"),this._zoomAnimated&&ct(v,"leaflet-zoom-animated"),this.options.className&&ct(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=o(this.fire,this,"load"),f){for(var E=v.getElementsByTagName("source"),M=[],R=0;R<E.length;R++)M.push(E[R].src);this._url=E.length>0?M:[v.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var Q=gt("source");Q.src=this._url[H],v.appendChild(Q)}}});function sl(f,v,E){return new mo(f,v,E)}var Gu=ol.extend({_initImage:function(){var f=this._image=this._url;ct(f,"leaflet-image-layer"),this._zoomAnimated&&ct(f,"leaflet-zoom-animated"),this.options.className&&ct(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function v0(f,v,E){return new Gu(f,v,E)}var or=ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,v){f&&(f instanceof fe||j(f))?(this._latlng=be(f),w(this,v)):(w(this,f),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(o(Ut,void 0,this._container),200)):Ut(this._container),this.options.interactive&&(on(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=be(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wn(this._container),this},bringToBack:function(){return this._map&&Vo(this._container),this},_prepareOpen:function(f){var v=this._source;if(!v._map)return!1;if(v instanceof ea){v=null;var E=this._source._layers;for(var M in E)if(E[M]._map){v=E[M];break}if(!v)return!1;this._source=v}if(!f)if(v.getCenter)f=v.getCenter();else if(v.getLatLng)f=v.getLatLng();else if(v.getBounds)f=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")f.innerHTML=v;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),v=oe(this.options.offset),E=this._getAnchor();this._zoomAnimated?Yt(this._container,f.add(E)):v=v.add(f).add(E);var M=this._containerBottom=-v.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(f,v,E,M){var R=v;return R instanceof f||(R=new f(M).setContent(v)),E&&R.setLatLng(E),R}}),ji.include({_initOverlay:function(f,v,E,M){var R=E;return R instanceof f?(w(R,M),R._source=this):(R=v&&!M?v:new f(M,this),R.setContent(E)),R}});var xc=or.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,or.prototype.openOn.call(this,f)},onAdd:function(f){or.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof na||this._source.on("preclick",Ai))},onRemove:function(f){or.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof na||this._source.off("preclick",Ai))},getEvents:function(){var f=or.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",v=this._container=gt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=gt("div",f+"-content-wrapper",v);if(this._contentNode=gt("div",f+"-content",E),Xo(v),Ji(this._contentNode),ot(v,"contextmenu",Ai),this._tipContainer=gt("div",f+"-tip-container",v),this._tip=gt("div",f+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=gt("a",f+"-close-button",v);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',ot(M,"click",function(R){wn(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,v=f.style;v.width="",v.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),v.width=E+1+"px",v.whiteSpace="",v.height="";var M=f.offsetHeight,R=this.options.maxHeight,H="leaflet-popup-scrolled";R&&M>R?(v.height=R+"px",ct(f,H)):on(f,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();Yt(this._container,v.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,v=parseInt(ic(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+v,M=this._containerWidth,R=new ee(this._containerLeft,-E-this._containerBottom);R._add(lo(this._container));var H=f.layerPointToContainerPoint(R),Q=oe(this.options.autoPanPadding),de=oe(this.options.autoPanPaddingTopLeft||Q),pe=oe(this.options.autoPanPaddingBottomRight||Q),Ae=f.getSize(),$e=0,Ze=0;H.x+M+pe.x>Ae.x&&($e=H.x+M-Ae.x+pe.x),H.x-$e-de.x<0&&($e=H.x-de.x),H.y+E+pe.y>Ae.y&&(Ze=H.y+E-Ae.y+pe.y),H.y-Ze-de.y<0&&(Ze=H.y-de.y),($e||Ze)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([$e,Ze]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),x0=function(f,v){return new xc(f,v)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(f,v,E){return this._initOverlay(xc,f,v,E).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),ji.include({bindPopup:function(f,v){return this._popup=this._initOverlay(xc,this._popup,f,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof ea||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){co(f);var v=f.layer||f.target;if(this._popup._source===v&&!(v instanceof na)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=v,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var wc=or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){or.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){or.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=or.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",v=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var v,E,M=this._map,R=this._container,H=M.latLngToContainerPoint(M.getCenter()),Q=M.layerPointToContainerPoint(f),de=this.options.direction,pe=R.offsetWidth,Ae=R.offsetHeight,$e=oe(this.options.offset),Ze=this._getAnchor();de==="top"?(v=pe/2,E=Ae):de==="bottom"?(v=pe/2,E=0):de==="center"?(v=pe/2,E=Ae/2):de==="right"?(v=0,E=Ae/2):de==="left"?(v=pe,E=Ae/2):Q.x<H.x?(de="right",v=0,E=Ae/2):(de="left",v=pe+($e.x+Ze.x)*2,E=Ae/2),f=f.subtract(oe(v,E,!0)).add($e).add(Ze),on(R,"leaflet-tooltip-right"),on(R,"leaflet-tooltip-left"),on(R,"leaflet-tooltip-top"),on(R,"leaflet-tooltip-bottom"),ct(R,"leaflet-tooltip-"+de),Yt(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Qt(this._container,f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(v)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),nw=function(f,v){return new wc(f,v)};xt.include({openTooltip:function(f,v,E){return this._initOverlay(wc,f,v,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),ji.include({bindTooltip:function(f,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wc,this._tooltip,f,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var v=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[v](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof ea||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&(ot(v,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),ot(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var v=f.latlng,E,M;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),M=this._map.containerPointToLayerPoint(E),v=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(v)}});var w0=ta.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var v=f&&f.tagName==="DIV"?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(ri(v),v.appendChild(E.html)):v.innerHTML=E.html!==!1?E.html:"",E.bgPos){var M=oe(E.bgPos);v.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function rw(f){return new w0(f)}ta.Default=mc;var ll=ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:We.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){w(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Ut(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof ee?f:new ee(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var v=this.getPane().children,E=-f(-1/0,1/0),M=0,R=v.length,H;M<R;M++)H=v[M].style.zIndex,v[M]!==this._container&&H&&(E=f(E,+H));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!We.ielt9){Qt(this._container,this.options.opacity);var f=+new Date,v=!1,E=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var H=Math.min(1,(f-R.loaded)/200);Qt(R.el,H),H<1?v=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),v&&(z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,v=this.options.maxZoom;if(f!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=v-Math.abs(f-E),this._onUpdateLevel(E)):(Ut(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[f],R=this._map;return M||(M=this._levels[f]={},M.el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=v,M.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),M.zoom=f,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,v,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)v=this._tiles[f],v.retain=v.current;for(f in this._tiles)if(v=this._tiles[f],v.current&&!v.active){var M=v.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var v in this._tiles)this._tiles[v].coords.z===f&&this._removeTile(v)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Ut(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,v,E,M){var R=Math.floor(f/2),H=Math.floor(v/2),Q=E-1,de=new ee(+R,+H);de.z=+Q;var pe=this._tileCoordsToKey(de),Ae=this._tiles[pe];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),Q>M?this._retainParent(R,H,Q,M):!1)},_retainChildren:function(f,v,E,M){for(var R=2*f;R<2*f+2;R++)for(var H=2*v;H<2*v+2;H++){var Q=new ee(R,H);Q.z=E+1;var de=this._tileCoordsToKey(Q),pe=this._tiles[de];if(pe&&pe.active){pe.retain=!0;continue}else pe&&pe.loaded&&(pe.retain=!0);E+1<M&&this._retainChildren(R,H,E+1,M)}},_resetView:function(f){var v=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var v=this.options;return v.minNativeZoom!==void 0&&f<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<f?v.maxNativeZoom:f},_setView:function(f,v,E,M){var R=Math.round(v);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var H=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||H)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,v)},_setZoomTransforms:function(f,v){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,v)},_setZoomTransform:function(f,v,E){var M=this._map.getZoomScale(E,f.zoom),R=f.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(v,E)).round();We.any3d?Oa(f.el,R,M):Yt(f.el,R)},_resetGrid:function(){var f=this._map,v=f.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,v.wrapLng[0]],M).x/E.x),Math.ceil(f.project([0,v.wrapLng[1]],M).x/E.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([v.wrapLat[0],0],M).y/E.x),Math.ceil(f.project([v.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var v=this._map,E=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),M=v.getZoomScale(E,this._tileZoom),R=v.project(f,this._tileZoom).floor(),H=v.getSize().divideBy(M*2);return new B(R.subtract(H),R.add(H))},_update:function(f){var v=this._map;if(v){var E=this._clampZoom(v.getZoom());if(f===void 0&&(f=v.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(M),H=R.getCenter(),Q=[],de=this.options.keepBuffer,pe=new B(R.getBottomLeft().subtract([de,-de]),R.getTopRight().add([de,-de]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var $e=this._tiles[Ae].coords;($e.z!==this._tileZoom||!pe.contains(new ee($e.x,$e.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(f,E);return}for(var Ze=R.min.y;Ze<=R.max.y;Ze++)for(var ft=R.min.x;ft<=R.max.x;ft++){var Vn=new ee(ft,Ze);if(Vn.z=this._tileZoom,!!this._isValidTile(Vn)){var _n=this._tiles[this._tileCoordsToKey(Vn)];_n?_n.current=!0:Q.push(Vn)}}if(Q.sort(function(Tt,At){return Tt.distanceTo(H)-At.distanceTo(H)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gr=document.createDocumentFragment();for(ft=0;ft<Q.length;ft++)this._addTile(Q[ft],Gr);this._level.el.appendChild(Gr)}}}},_isValidTile:function(f){var v=this._map.options.crs;if(!v.infinite){var E=this._globalTileRange;if(!v.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!v.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(f);return se(this.options.bounds).overlaps(M)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var v=this._map,E=this.getTileSize(),M=f.scaleBy(E),R=M.add(E),H=v.unproject(M,f.z),Q=v.unproject(R,f.z);return[H,Q]},_tileCoordsToBounds:function(f){var v=this._tileCoordsToNwSe(f),E=new ne(v[0],v[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var v=f.split(":"),E=new ee(+v[0],+v[1]);return E.z=+v[2],E},_removeTile:function(f){var v=this._tiles[f];v&&(Ut(v.el),delete this._tiles[f],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){ct(f,"leaflet-tile");var v=this.getTileSize();f.style.width=v.x+"px",f.style.height=v.y+"px",f.onselectstart=p,f.onmousemove=p,We.ielt9&&this.options.opacity<1&&Qt(f,this.options.opacity)},_addTile:function(f,v){var E=this._getTilePos(f),M=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&F(o(this._tileReady,this,f,null,R)),Yt(R,E),this._tiles[M]={el:R,coords:f,current:!0},v.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,v,E){v&&this.fire("tileerror",{error:v,tile:E,coords:f});var M=this._tileCoordsToKey(f);E=this._tiles[M],E&&(E.loaded=+new Date,this._map._fadeAnimated?(Qt(E.el,0),z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),v||(ct(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),We.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var v=new ee(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return v.z=f.z,v},_pxBoundsToTileRange:function(f){var v=this.getTileSize();return new B(f.min.unscaleBy(v).floor(),f.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function _0(f){return new ll(f)}var po=ll.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,v){this._url=f,v=w(this,v),v.detectRetina&&We.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,v){return this._url===f&&v===void 0&&(v=!0),this._url=f,v||this.redraw(),this},createTile:function(f,v){var E=document.createElement("img");return ot(E,"load",o(this._tileOnLoad,this,v,E)),ot(E,"error",o(this._tileOnError,this,v,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var v={r:We.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(v.y=E),v["-y"]=E}return O(this._url,i(v,this.options))},_tileOnLoad:function(f,v){We.ielt9?setTimeout(o(f,this,null,v),0):f(null,v)},_tileOnError:function(f,v,E){var M=this.options.errorTileUrl;M&&v.getAttribute("src")!==M&&(v.src=M),f(E,v)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,v=this.options.maxZoom,E=this.options.zoomReverse,M=this.options.zoomOffset;return E&&(f=v-f),f+M},_getSubdomain:function(f){var v=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var f,v;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(v=this._tiles[f].el,v.onload=p,v.onerror=p,!v.complete)){v.src=D;var E=this._tiles[f].coords;Ut(v),delete this._tiles[f],this.fire("tileabort",{tile:v,coords:E})}},_removeTile:function(f){var v=this._tiles[f];if(v)return v.el.setAttribute("src",D),ll.prototype._removeTile.call(this,f)},_tileReady:function(f,v,E){if(!(!this._map||E&&E.getAttribute("src")===D))return ll.prototype._tileReady.call(this,f,v,E)}});function oi(f,v){return new po(f,v)}var _c=po.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,v){this._url=f;var E=i({},this.defaultWmsParams);for(var M in v)M in this.options||(E[M]=v[M]);v=w(this,v);var R=v.detectRetina&&We.retina?2:1,H=this.getTileSize();E.width=H.x*R,E.height=H.y*R,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,po.prototype.onAdd.call(this,f)},getTileUrl:function(f){var v=this._tileCoordsToNwSe(f),E=this._crs,M=V(E.project(v[0]),E.project(v[1])),R=M.min,H=M.max,Q=(this._wmsVersion>=1.3&&this._crs===rh?[R.y,R.x,H.y,H.x]:[R.x,R.y,H.x,H.y]).join(","),de=po.prototype.getTileUrl.call(this,f);return de+S(this.wmsParams,de,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(f,v){return i(this.wmsParams,f),v||this.redraw(),this}});function si(f,v){return new _c(f,v)}po.WMS=_c,oi.wms=si;var Cr=ji.extend({options:{padding:.1},initialize:function(f){w(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,v){var E=this._map.getZoomScale(v,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,v),H=M.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(f,v));We.any3d?Oa(this._container,H,E):Yt(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,v=this._map.getSize(),E=this._map.containerPointToLayerPoint(v.multiplyBy(-f)).round();this._bounds=new B(E,E.add(v.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yu=Cr.extend({options:{tolerance:0},getEvents:function(){var f=Cr.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");ot(f,"mousemove",this._onMouseMove,this),ot(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,Ut(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var v in this._layers)f=this._layers[v],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cr.prototype._update.call(this);var f=this._bounds,v=this._container,E=f.getSize(),M=We.retina?2:1;Yt(v,f.min),v.width=M*E.x,v.height=M*E.y,v.style.width=E.x+"px",v.style.height=E.y+"px",We.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var v=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var v=f._order,E=v.next,M=v.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var v=f.options.dashArray.split(/[, ]+/),E=[],M,R;for(R=0;R<v.length;R++){if(M=Number(v[R]),isNaN(M))return;E.push(M)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var v=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(f._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(f._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var v=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,v=this._redrawBounds;if(this._ctx.save(),v){var E=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)f=M.layer,(!v||f._pxBounds&&f._pxBounds.intersects(v))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,v){if(this._drawing){var E,M,R,H,Q=f._parts,de=Q.length,pe=this._ctx;if(de){for(pe.beginPath(),E=0;E<de;E++){for(M=0,R=Q[E].length;M<R;M++)H=Q[E][M],pe[M?"lineTo":"moveTo"](H.x,H.y);v&&pe.closePath()}this._fillStroke(pe,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var v=f._point,E=this._ctx,M=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||M)/M;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(v.x,v.y/R,M,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,v){var E=v.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(f.setLineDash&&f.setLineDash(v.options&&v.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var v=this._map.mouseEventToLayerPoint(f),E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(M?[M]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,v)}},_handleMouseOut:function(f){var v=this._hoveredLayer;v&&(on(this._container,"leaflet-interactive"),this._fireEvent([v],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,v){if(!this._mouseHoverThrottled){for(var E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(f),M&&(ct(this._container,"leaflet-interactive"),this._fireEvent([M],f,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,v,E){this._map._fireDOMEvent(v,E||v.type,f)},_bringToFront:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(E)E.prev=M;else return;M?M.next=E:E&&(this._drawFirst=E),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(f)}},_bringToBack:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(M)M.next=E;else return;E?E.prev=M:M&&(this._drawLast=M),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(f)}}});function Sc(f){return We.canvas?new Yu(f):null}var go=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ih={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cr.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var v=f._container=go("shape");ct(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",f._path=go("path"),v.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var v=f._container;this._container.appendChild(v),f.options.interactive&&f.addInteractiveTarget(v)},_removePath:function(f){var v=f._container;Ut(v),f.removeInteractiveTarget(v),delete this._layers[u(f)]},_updateStyle:function(f){var v=f._stroke,E=f._fill,M=f.options,R=f._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(v||(v=f._stroke=go("stroke")),R.appendChild(v),v.weight=M.weight+"px",v.color=M.color,v.opacity=M.opacity,M.dashArray?v.dashStyle=j(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=M.lineCap.replace("butt","flat"),v.joinstyle=M.lineJoin):v&&(R.removeChild(v),f._stroke=null),M.fill?(E||(E=f._fill=go("fill")),R.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(R.removeChild(E),f._fill=null)},_updateCircle:function(f){var v=f._point.round(),E=Math.round(f._radius),M=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+v.x+","+v.y+" "+E+","+M+" 0,"+65535*360)},_setPath:function(f,v){f._path.v=v},_bringToFront:function(f){Wn(f._container)},_bringToBack:function(f){Vo(f._container)}},ra=We.vml?go:Ce,cl=Cr.extend({_initContainer:function(){this._container=ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ut(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cr.prototype._update.call(this);var f=this._bounds,v=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,E.setAttribute("width",v.x),E.setAttribute("height",v.y)),Yt(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(f){var v=f._path=ra("path");f.options.className&&ct(v,f.options.className),f.options.interactive&&ct(v,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Ut(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var v=f._path,E=f.options;v&&(E.stroke?(v.setAttribute("stroke",E.color),v.setAttribute("stroke-opacity",E.opacity),v.setAttribute("stroke-width",E.weight),v.setAttribute("stroke-linecap",E.lineCap),v.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?v.setAttribute("stroke-dasharray",E.dashArray):v.removeAttribute("stroke-dasharray"),E.dashOffset?v.setAttribute("stroke-dashoffset",E.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),E.fill?(v.setAttribute("fill",E.fillColor||E.color),v.setAttribute("fill-opacity",E.fillOpacity),v.setAttribute("fill-rule",E.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(f,v){this._setPath(f,Pe(f._parts,v))},_updateCircle:function(f){var v=f._point,E=Math.max(Math.round(f._radius),1),M=Math.max(Math.round(f._radiusY),1)||E,R="a"+E+","+M+" 0 1,0 ",H=f._empty()?"M0 0":"M"+(v.x-E)+","+v.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(f,H)},_setPath:function(f,v){f._path.setAttribute("d",v)},_bringToFront:function(f){Wn(f._path)},_bringToBack:function(f){Vo(f._path)}});We.vml&&cl.include(ih);function kc(f){return We.svg||We.vml?new cl(f):null}xt.include({getRenderer:function(f){var v=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var v=this._paneRenderers[f];return v===void 0&&(v=this._createRenderer({pane:f}),this._paneRenderers[f]=v),v},_createRenderer:function(f){return this.options.preferCanvas&&Sc(f)||kc(f)}});var Qo=il.extend({initialize:function(f,v){il.prototype.initialize.call(this,this._boundsToLatLngs(f),v)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=se(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function iw(f,v){return new Qo(f,v)}cl.create=ra,cl.pointsToPath=Pe,Pa.geometryToLayer=ar,Pa.coordsToLatLng=zu,Pa.coordsToLatLngs=bc,Pa.latLngToCoords=Uu,Pa.latLngsToCoords=yc,Pa.getFeature=fo,Pa.asFeature=Fu,xt.mergeOptions({boxZoom:!0});var Mr=Qi.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vs(),Cu(),this._startPoint=this._map.mouseEventToContainerPoint(f),ot(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var v=new B(this._point,this._startPoint),E=v.getSize();Yt(this._box,v.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Ut(this._box),on(this._container,"leaflet-crosshair")),Xi(),oc(),Pt(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var v=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",Mr),xt.mergeOptions({doubleClickZoom:!0});var qu=Qi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var v=this._map,E=v.getZoom(),M=v.options.zoomDelta,R=f.originalEvent.shiftKey?E-M:E+M;v.options.doubleClickZoom==="center"?v.setZoom(R):v.setZoomAround(f.containerPoint,R)}});xt.addInitHook("addHandler","doubleClickZoom",qu),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ia=Qi.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new uo(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){on(this._map._container,"leaflet-grab"),on(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=se(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var v=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(v),this._prunePositions(v)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,v){return f-(f-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;f.x<v.min.x&&(f.x=this._viscousLimit(f.x,v.min.x)),f.y<v.min.y&&(f.y=this._viscousLimit(f.y,v.min.y)),f.x>v.max.x&&(f.x=this._viscousLimit(f.x,v.max.x)),f.y>v.max.y&&(f.y=this._viscousLimit(f.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,v=Math.round(f/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-v+E)%f+v-E,H=(M+v+E)%f-v-E,Q=Math.abs(R+E)<Math.abs(H+E)?R:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(f){var v=this._map,E=v.options,M=!E.inertia||f.noInertia||this._times.length<2;if(v.fire("dragend",f),M)v.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,Q=E.easeLinearity,de=R.multiplyBy(Q/H),pe=de.distanceTo([0,0]),Ae=Math.min(E.inertiaMaxSpeed,pe),$e=de.multiplyBy(Ae/pe),Ze=Ae/(E.inertiaDeceleration*Q),ft=$e.multiplyBy(-Ze/2).round();!ft.x&&!ft.y?v.fire("moveend"):(ft=v._limitOffset(ft,v.options.maxBounds),F(function(){v.panBy(ft,{duration:Ze,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",ia),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ah=Qi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),ot(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,v=document.documentElement,E=f.scrollTop||v.scrollTop,M=f.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var v=this._panKeys={},E=this.keyCodes,M,R;for(M=0,R=E.left.length;M<R;M++)v[E.left[M]]=[-1*f,0];for(M=0,R=E.right.length;M<R;M++)v[E.right[M]]=[f,0];for(M=0,R=E.down.length;M<R;M++)v[E.down[M]]=[0,f];for(M=0,R=E.up.length;M<R;M++)v[E.up[M]]=[0,-1*f]},_setZoomDelta:function(f){var v=this._zoomKeys={},E=this.keyCodes,M,R;for(M=0,R=E.zoomIn.length;M<R;M++)v[E.zoomIn[M]]=f;for(M=0,R=E.zoomOut.length;M<R;M++)v[E.zoomOut[M]]=-f},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var v=f.keyCode,E=this._map,M;if(v in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[v],f.shiftKey&&(M=oe(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(oe(M),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(R)}else E.panBy(M)}else if(v in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;co(f)}}});xt.addInitHook("addHandler","keyboard",ah),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ec=Qi.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var v=yr(f),E=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),co(f)},_performZoom:function(){var f=this._map,v=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,H=E?Math.ceil(R/E)*E:R,Q=f._limitZoom(v+(this._delta>0?H:-H))-v;this._delta=0,this._startTime=null,Q&&(f.options.scrollWheelZoom==="center"?f.setZoom(v+Q):f.setZoomAround(this._lastMousePos,v+Q))}});xt.addInitHook("addHandler","scrollWheelZoom",Ec);var es=600;xt.mergeOptions({tapHold:We.touchNative&&We.safari&&We.mobile,tapTolerance:15});var Ku=Qi.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var v=f.touches[0];this._startPos=this._newPos=new ee(v.clientX,v.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",wn),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),es),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){Pt(document,"touchend",wn),Pt(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(f){var v=f.touches[0];this._newPos=new ee(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,v){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});E._simulated=!0,v.target.dispatchEvent(E)}});xt.addInitHook("addHandler","tapHold",Ku),xt.mergeOptions({touchZoom:We.touch,bounceAtZoomLimits:!0});var oh=Qi.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){on(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var v=this._map;if(!(!f.touches||f.touches.length!==2||v._animatingZoom||this._zooming)){var E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),wn(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var v=this._map,E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]),R=E.distanceTo(M)/this._startDist;if(this._zoom=v.getScaleZoom(R,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&R<1||this._zoom>v.getMaxZoom()&&R>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var H=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&H.x===0&&H.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var Q=o(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(Q,this,!0),wn(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",oh),xt.BoxZoom=Mr,xt.DoubleClickZoom=qu,xt.Drag=ia,xt.Keyboard=ah,xt.ScrollWheelZoom=Ec,xt.TapHold=Ku,xt.TouchZoom=oh,n.Bounds=B,n.Browser=We,n.CRS=ye,n.Canvas=Yu,n.Circle=Bu,n.CircleMarker=rl,n.Class=Z,n.Control=Hr,n.DivIcon=w0,n.DivOverlay=or,n.DomEvent=Pu,n.DomUtil=Js,n.Draggable=uo,n.Evented=J,n.FeatureGroup=ea,n.GeoJSON=Pa,n.GridLayer=ll,n.Handler=Qi,n.Icon=ta,n.ImageOverlay=ol,n.LatLng=fe,n.LatLngBounds=ne,n.Layer=ji,n.LayerGroup=nl,n.LineUtil=Jx,n.Map=xt,n.Marker=gc,n.Mixin=Wx,n.Path=na,n.Point=ee,n.PolyUtil=th,n.Polygon=il,n.Polyline=Da,n.Popup=xc,n.PosAnimation=Qs,n.Projection=f0,n.Rectangle=Qo,n.Renderer=Cr,n.SVG=cl,n.SVGOverlay=Gu,n.TileLayer=po,n.Tooltip=wc,n.Transformation=_e,n.Util=W,n.VideoOverlay=mo,n.bind=o,n.bounds=V,n.canvas=Sc,n.circle=b0,n.circleMarker=g0,n.control=Ma,n.divIcon=rw,n.extend=i,n.featureGroup=m0,n.geoJSON=Hu,n.geoJson=vc,n.gridLayer=_0,n.icon=hc,n.imageOverlay=y0,n.latLng=be,n.latLngBounds=se,n.layerGroup=Qx,n.map=Vf,n.marker=p0,n.point=oe,n.polygon=tw,n.polyline=ew,n.popup=x0,n.rectangle=iw,n.setOptions=w,n.stamp=u,n.svg=kc,n.svgOverlay=v0,n.tileLayer=oi,n.tooltip=nw,n.transformation=ae,n.version=r,n.videoOverlay=sl;var sh=window.L;n.noConflict=function(){return window.L=sh,this},window.L=n}))})(vm,vm.exports)),vm.exports}var lX=sX();const X_=_i(lX),Cg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Bc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function cX(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Bc(n),p=Bc(t),b=Bc(r),y=Bc(a),k=Bc(o),w=Bc(l),S=i?Bc(i):null;let A=null,O=null,j=null;const C=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",D=z=>{C(z)&&document.activeElement!==k&&(z.preventDefault(),z.stopPropagation(),k.focus())},P=()=>{b.style.display="flex",A?setTimeout(()=>A?.invalidateSize(),200):setTimeout(()=>{A=X_.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),X_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(A),A.invalidateSize()},0),b.addEventListener("keydown",D,!0),b.addEventListener("keyup",D,!0),k.focus()},I=()=>{b.style.display="none",k.value="",w.innerHTML="",j&&(window.clearTimeout(j),j=null),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0)},U=z=>{const W=z.dataset.name??"",Z=Number(z.dataset.lat??""),X=Number(z.dataset.lon??"");!Number.isFinite(Z)||!Number.isFinite(X)||!A||(O?O.setLatLng([Z,X]):O=X_.marker([Z,X]).addTo(A),A.flyTo([Z,X],14,{duration:.5}),h.value=W,h.dataset.lat=String(Z),h.dataset.lon=String(X),e.onSelected?.({name:W,lat:Z,lon:X}),w.innerHTML="",I())},K=()=>{j&&window.clearTimeout(j);const z=k.value.trim();if(!z){w.innerHTML="";return}j=window.setTimeout(async()=>{try{const W="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),Z=await fetch(W,{headers:{Accept:"application/json"}});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const X=await Z.json();if(!Array.isArray(X)||X.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const Y=X.slice(0,12).map((J,ee)=>{const le=J.display_name.split(",").slice(0,3).map(V=>V.trim()).join("  "),oe="padding:8px;cursor:pointer;outline:none;",B=ee===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Cg(le)}"
                    data-lat="${Cg(J.lat)}"
                    data-lon="${Cg(J.lon)}"
                    data-active="${ee===0?"1":"0"}"
                    style="${oe}${B}"
                  >${Cg(le)}</li>`}).join("");w.innerHTML=Y}catch(W){console.error(W),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},q=z=>{const W=z.target;W.tagName==="LI"&&U(W)},F=z=>{if(z.key==="Enter"){const W=w.querySelector('li[data-active="1"]')??w.querySelector("li");W&&U(W)}};return p.addEventListener("click",P),y.addEventListener("click",I),S&&S.addEventListener("click",I),k.addEventListener("input",K),k.addEventListener("keydown",F),w.addEventListener("click",q),()=>{p.removeEventListener("click",P),y.removeEventListener("click",I),S&&S.removeEventListener("click",I),k.removeEventListener("input",K),k.removeEventListener("keydown",F),w.removeEventListener("click",q),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0),j&&(window.clearTimeout(j),j=null),A&&(A.remove(),A=null)}}function xd(){return document.getElementById("suggestions")}function Lb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function J_(e,t){const n=Lb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const uX='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function dX({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){_.useEffect(()=>{if(!e)return;const d=cX({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:j=>{n(""),r(j.name),i.current&&(i.current.value=j.name),a.current&&(a.current.value=String(j.lat)),o.current&&(o.current.value=String(j.lon)),u?.(j),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),y=xd();setTimeout(()=>b?.focus(),0);const k=j=>{if(j.key==="Escape"){j.preventDefault(),t(!1);return}if(j.key!=="Tab")return;const C=xd();if(C&&C.contains(document.activeElement))return;const D=Array.from(p.querySelectorAll(uX)).filter(K=>!K.hasAttribute("disabled")&&K.tabIndex!==-1);if(D.length===0)return;const P=D[0],I=D[D.length-1],U=document.activeElement;j.shiftKey?(U===P||!p.contains(U))&&(j.preventDefault(),I.focus()):(U===I||!p.contains(U))&&(j.preventDefault(),P.focus())};p.addEventListener("keydown",k);const w=j=>{if(j.key!=="ArrowDown")return;const C=xd();!C||Lb(C).length===0||j.preventDefault()};b?.addEventListener("keydown",w);const S=j=>{if(j.target.value.trim()===""){const D=xd();D&&(D.innerHTML="")}};b?.addEventListener("input",S);const A=j=>{const C=xd();if(!C)return;const D=Lb(C);if(D.length===0)return;const P=document.activeElement,I=P?D.indexOf(P):-1;if(I===-1)return;const U=K=>{j.preventDefault(),J_(C,I+K)};switch(j.key){case"Tab":j.preventDefault(),U(j.shiftKey?-1:1);break;case"ArrowDown":j.preventDefault(),U(1);break;case"ArrowUp":j.preventDefault(),U(-1);break;case"Home":j.preventDefault(),J_(C,0);break;case"End":j.preventDefault(),J_(C,D.length-1);break;case"Enter":case" ":j.preventDefault(),P.click();break;case"Backspace":j.preventDefault(),C.innerHTML="",b?.focus();break}j.stopPropagation()};let O=null;return y&&(y.addEventListener("keydown",A),O=new MutationObserver(()=>{const j=xd();!j||Lb(j).length}),O.observe(y,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",k),b?.removeEventListener("keydown",w),b?.removeEventListener("input",S),y&&y.removeEventListener("keydown",A),O?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),_.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function VB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=aX({placeholderText:t,value:r});return dX({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function ur(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fX=typeof Symbol=="function"&&Symbol.observable||"@@observable",GM=fX,Q_=()=>Math.random().toString(36).substring(7).split("").join("."),hX={INIT:`@@redux/INIT${Q_()}`,REPLACE:`@@redux/REPLACE${Q_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Q_()}`},sy=hX;function rT(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function iT(e,t,n){if(typeof e!="function")throw new Error(ur(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(iT)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((S,A)=>{o.set(A,S)}))}function h(){if(u)throw new Error(ur(3));return i}function p(S){if(typeof S!="function")throw new Error(ur(4));if(u)throw new Error(ur(5));let A=!0;d();const O=l++;return o.set(O,S),function(){if(A){if(u)throw new Error(ur(6));A=!1,d(),o.delete(O),a=null}}}function b(S){if(!rT(S))throw new Error(ur(7));if(typeof S.type>"u")throw new Error(ur(8));if(typeof S.type!="string")throw new Error(ur(17));if(u)throw new Error(ur(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(O=>{O()}),S}function y(S){if(typeof S!="function")throw new Error(ur(10));r=S,b({type:sy.REPLACE})}function k(){const S=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(ur(11));function O(){const C=A;C.next&&C.next(h())}return O(),{unsubscribe:S(O)}},[GM](){return this}}}return b({type:sy.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:y,[GM]:k}}function mX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sy.INIT})>"u")throw new Error(ur(12));if(typeof n(void 0,{type:sy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function ZB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{mX(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],y=o[p],k=b(y,l);if(typeof k>"u")throw l&&l.type,new Error(ur(14));d[p]=k,u=u||k!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function YM(e,t){return function(...n){return t(e.apply(this,n))}}function qM(e,t){if(typeof e=="function")return YM(e,t);if(typeof e!="object"||e===null)throw new Error(ur(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=YM(i,t))}return n}function Lm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function XB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ur(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=Lm(...l)(i.dispatch),{...i,dispatch:a}}}function JB(e){return rT(e)&&"type"in e&&typeof e.type=="string"}var e1={exports:{}},t1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KM;function pX(){if(KM)return t1;KM=1;var e=hf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return t1.useSyncExternalStoreWithSelector=function(u,d,h,p,b){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=o(function(){function S(D){if(!A){if(A=!0,O=D,D=p(D),b!==void 0&&k.hasValue){var P=k.value;if(b(P,D))return j=P}return j=D}if(P=j,n(O,D))return P;var I=p(D);return b!==void 0&&b(P,I)?(O=D,P):(O=D,j=I)}var A=!1,O,j,C=h===void 0?null:h;return[function(){return S(d())},C===null?void 0:function(){return S(C())}]},[d,h,p,b]);var w=r(u,y[0],y[1]);return a(function(){k.hasValue=!0,k.value=w},[w]),l(w),w},t1}var WM;function gX(){return WM||(WM=1,e1.exports=pX()),e1.exports}gX();var bX=_.version.startsWith("19"),yX=Symbol.for(bX?"react.transitional.element":"react.element"),vX=Symbol.for("react.portal"),xX=Symbol.for("react.fragment"),wX=Symbol.for("react.strict_mode"),_X=Symbol.for("react.profiler"),SX=Symbol.for("react.consumer"),kX=Symbol.for("react.context"),QB=Symbol.for("react.forward_ref"),EX=Symbol.for("react.suspense"),TX=Symbol.for("react.suspense_list"),aT=Symbol.for("react.memo"),AX=Symbol.for("react.lazy"),jX=QB,NX=aT;function OX(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case yX:switch(e=e.type,e){case xX:case _X:case wX:case EX:case TX:return e;default:switch(e=e&&e.$$typeof,e){case kX:case QB:case AX:case aT:return e;case SX:return e;default:return t}}case vX:return t}}}function CX(e){return OX(e)===aT}function MX(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,p,b;function y(O,j){return u=O,d=j,h=e(u,d),p=t(r,d),b=n(h,p,d),l=!0,b}function k(){return h=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function w(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function S(){const O=e(u,d),j=!o(O,h);return h=O,j&&(b=n(h,p,d)),b}function A(O,j){const C=!a(j,d),D=!i(O,u,j,d);return u=O,d=j,C&&D?k():C?w():D?S():b}return function(j,C){return l?A(j,C):y(j,C)}}function DX(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return MX(a,o,l,e,i)}function PX(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function Vk(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function VM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function e4(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=VM(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=VM(d),d=a(l,u)),d},a}}function oT(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function RX(e){return e&&typeof e=="object"?Vk(t=>PX(e,t)):e?typeof e=="function"?e4(e):oT(e,"mapDispatchToProps"):Vk(t=>({dispatch:t}))}function LX(e){return e?typeof e=="function"?e4(e):oT(e,"mapStateToProps"):Vk(()=>({}))}function IX(e,t,n){return{...n,...e,...t}}function $X(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const p=e(u,d,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function BX(e){return e?typeof e=="function"?$X(e):oT(e,"mergeProps"):()=>IX}function zX(e){e()}function UX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var ZM={notify(){},get:()=>[]};function t4(e,t){let n,r=ZM,i=0,a=!1;function o(w){h();const S=r.subscribe(w);let A=!1;return()=>{A||(A=!0,S(),p())}}function l(){r.notify()}function u(){k.onStateChange&&k.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=UX())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ZM)}function b(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const k={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return k}var FX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HX=FX(),GX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YX=GX(),qX=()=>HX||YX?_.useLayoutEffect:_.useEffect,ly=qX();function XM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ib(e,t){if(XM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!XM(e[n[i]],t[n[i]]))return!1;return!0}var KX={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WX={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},VX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZX={[jX]:VX,[NX]:n4};function JM(e){return CX(e)?n4:ZX[e.$$typeof]||KX}var XX=Object.defineProperty,JX=Object.getOwnPropertyNames,QM=Object.getOwnPropertySymbols,QX=Object.getOwnPropertyDescriptor,eJ=Object.getPrototypeOf,eD=Object.prototype;function Zk(e,t){if(typeof t!="string"){if(eD){const a=eJ(t);a&&a!==eD&&Zk(e,a)}let n=JX(t);QM&&(n=n.concat(QM(t)));const r=JM(e),i=JM(t);for(let a=0;a<n.length;++a){const o=n[a];if(!WX[o]&&!(i&&i[o])&&!(r&&r[o])){const l=QX(t,o);try{XX(e,o,l)}catch{}}}}return e}var tJ=Symbol.for("react-redux-context"),nJ=typeof globalThis<"u"?globalThis:{};function rJ(){if(!_.createContext)return{};const e=nJ[tJ]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var r4=rJ(),iJ=[null,null];function aJ(e,t,n){ly(()=>e(...t),n)}function oJ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function sJ(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let p=!1,b=null;const y=()=>{if(p||!l.current)return;const w=t.getState();let S,A;try{S=r(w,i.current)}catch(O){A=O,b=O}A||(b=null),S===a.current?o.current||d():(a.current=S,u.current=S,o.current=!0,h())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function lJ(e,t){return e===t}function cJ(e,t,n,{pure:r,areStatesEqual:i=lJ,areOwnPropsEqual:a=Ib,areStatePropsEqual:o=Ib,areMergedPropsEqual:l=Ib,forwardRef:u=!1,context:d=r4}={}){const h=d,p=LX(e),b=RX(t),y=BX(n),k=!!e;return S=>{const A=S.displayName||S.name||"Component",O=`Connect(${A})`,j={shouldHandleStateChanges:k,displayName:O,wrappedComponentName:A,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C(I){const[U,K,q]=_.useMemo(()=>{const{reactReduxForwardedRef:ae,...Ue}=I;return[I.context,ae,Ue]},[I]),F=_.useMemo(()=>{let ae=h;return U?.Consumer,ae},[U,h]),z=_.useContext(F),W=!!I.store&&!!I.store.getState&&!!I.store.dispatch,Z=!!z&&!!z.store,X=W?I.store:z.store,Y=Z?z.getServerState:X.getState,J=_.useMemo(()=>DX(X.dispatch,j),[X]),[ee,le]=_.useMemo(()=>{if(!k)return iJ;const ae=t4(X,W?void 0:z.subscription),Ue=ae.notifyNestedSubs.bind(ae);return[ae,Ue]},[X,W,z]),oe=_.useMemo(()=>W?z:{...z,subscription:ee},[W,z,ee]),B=_.useRef(void 0),V=_.useRef(q),ne=_.useRef(void 0),se=_.useRef(!1),fe=_.useRef(!1),be=_.useRef(void 0);ly(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const ye=_.useMemo(()=>()=>ne.current&&q===V.current?ne.current:J(X.getState(),q),[X,q]),Te=_.useMemo(()=>Ue=>ee?sJ(k,X,ee,J,V,B,se,fe,ne,le,Ue):()=>{},[ee]);aJ(oJ,[V,B,se,q,ne,le]);let re;try{re=_.useSyncExternalStore(Te,ye,Y?()=>J(Y(),q):ye)}catch(ae){throw be.current&&(ae.message+=`
The error may be correlated with this previous error:
${be.current.stack}

`),ae}ly(()=>{be.current=void 0,ne.current=void 0,B.current=re});const ke=_.useMemo(()=>_.createElement(S,{...re,ref:K}),[K,S,re]);return _.useMemo(()=>k?_.createElement(F.Provider,{value:oe},ke):ke,[F,ke,oe])}const P=_.memo(C);if(P.WrappedComponent=S,P.displayName=C.displayName=O,u){const U=_.forwardRef(function(q,F){return _.createElement(P,{...q,reactReduxForwardedRef:F})});return U.displayName=O,U.WrappedComponent=S,Zk(U,S)}return Zk(P,S)}}var i4=cJ;function uJ(e){const{children:t,context:n,serverState:r,store:i}=e,a=_.useMemo(()=>{const u=t4(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=_.useMemo(()=>i.getState(),[i]);ly(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||r4;return _.createElement(l.Provider,{value:a},t)}var a4=uJ,dJ="Invariant failed";function fJ(e,t){throw new Error(dJ)}var Za=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},sT=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},tD=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},hJ=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},n1={top:0,right:0,bottom:0,left:0},lT=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?n1:r,a=t.border,o=a===void 0?n1:a,l=t.padding,u=l===void 0?n1:l,d=Za(sT(n,i)),h=Za(tD(n,o)),p=Za(tD(h,u));return{marginBox:d,borderBox:Za(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},la=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&fJ(),i},mJ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},cy=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=hJ(r,n);return lT({borderBox:l,border:i,margin:a,padding:o})},uy=function(t,n){return n===void 0&&(n=mJ()),cy(t,n)},o4=function(t,n){var r={top:la(n.marginTop),right:la(n.marginRight),bottom:la(n.marginBottom),left:la(n.marginLeft)},i={top:la(n.paddingTop),right:la(n.paddingRight),bottom:la(n.paddingBottom),left:la(n.paddingLeft)},a={top:la(n.borderTopWidth),right:la(n.borderRightWidth),bottom:la(n.borderBottomWidth),left:la(n.borderLeftWidth)};return lT({borderBox:t,margin:r,padding:i,border:a})},s4=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return o4(n,r)},Im=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(null,arguments)}function l4(e,t){}l4.bind(null,"warn");l4.bind(null,"error");function $l(){}function pJ(e,t){return{...e,...t}}function ma(e,t,n){const r=t.map(i=>{const a=pJ(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const gJ="Invariant failed";class fy extends Error{}fy.prototype.toString=function(){return this.message};function Le(e,t){throw new fy(gJ)}class bJ extends Zt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=$l,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof fy&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ma(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof fy){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const yJ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,hy=e=>e+1,vJ=e=>`
  You have lifted an item in position ${hy(e.source.index)}
`,c4=(e,t)=>{const n=e.droppableId===t.droppableId,r=hy(e.index),i=hy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},u4=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,xJ=e=>{const t=e.destination;if(t)return c4(e.source,t);const n=e.combine;return n?u4(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},nD=e=>`
  The item has returned to its starting position
  of ${hy(e.index)}
`,wJ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${nD(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${c4(e.source,t)}
    `:n?`
      You have dropped the item.
      ${u4(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${nD(e.source)}
  `},$b={dragHandleUsageInstructions:yJ,onDragStart:vJ,onDragUpdate:xJ,onDragEnd:wJ};function _J(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function d4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!_J(e[n],t[n]))return!1;return!0}function kt(e,t){const n=_.useState(()=>({inputs:t,result:e()}))[0],r=_.useRef(!0),i=_.useRef(n),o=r.current||!!(t&&i.current.inputs&&d4(t,i.current.inputs))?i.current:{inputs:t,result:e()};return _.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Je(e,t){return kt(()=>e,t)}const mr={x:0,y:0},Er=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ui=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Bl=(e,t)=>e.x===t.x&&e.y===t.y,vf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),pu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},$m=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),rD=(e,t)=>Math.min(...t.map(n=>$m(e,n))),f4=e=>t=>({x:e(t.x),y:e(t.y)});var SJ=(e,t)=>{const n=Za({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const yp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),iD=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],kJ={top:0,right:0,bottom:0,left:0},EJ=(e,t)=>t?yp(e,t.scroll.diff.displacement):e,TJ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,AJ=(e,t)=>t&&t.shouldClipSubject?SJ(t.pageMarginBox,e):Za(e);var Jd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=EJ(e.marginBox,r),a=TJ(i,n,t),o=AJ(a,r);return{page:e,withPlaceholder:t,active:o}},cT=(e,t)=>{e.frame||Le();const n=e.frame,r=Ui(t,n.scroll.initial),i=vf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Jd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function hr(e,t=d4){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const h4=hr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),m4=hr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Rv=hr(e=>Object.values(e)),jJ=hr(e=>Object.values(e));var xf=hr((e,t)=>jJ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function uT(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Lv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Iv=hr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),NJ=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!uT(i))return null;function o(y){const k={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:k}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=Iv(t,r);if(!u){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const h=d.findIndex(y=>y.descriptor.id===u);h===-1&&Le();const p=h-1;if(p<0)return null;const b=d[p];return o(b.descriptor.id)},wf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const p4={point:mr,value:0},Bm={invisible:{},visible:{},all:[]},OJ={displaced:Bm,displacedBy:p4,at:null};var va=(e,t)=>n=>e<=n&&n<=t,g4=e=>{const t=va(e.top,e.bottom),n=va(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},CJ=e=>{const t=va(e.top,e.bottom),n=va(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const dT={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},b4={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var MJ=e=>t=>{const n=va(t.top,t.bottom),r=va(t.left,t.right);return i=>e===dT?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const DJ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:mr;return yp(e,n)},PJ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,RJ=(e,t,n)=>n(t)(e),fT=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?DJ(e,t):e;return PJ(a,t,i)&&RJ(a,n,i)},LJ=e=>fT({...e,isVisibleThroughFrameFn:g4}),y4=e=>fT({...e,isVisibleThroughFrameFn:CJ}),IJ=e=>fT({...e,isVisibleThroughFrameFn:MJ(e.destination.axis)}),$J=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function BJ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Za(sT(n,r))}function zm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=BJ(u,n),h=u.descriptor.id;if(l.all.push(h),!LJ({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=$J(h,a,i),y={draggableId:h,shouldAnimate:b};return l.visible[h]=y,l},{all:[],visible:{},invisible:{}})}function zJ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function aD({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=zJ(e,{inHomeList:t});return{displaced:Bm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function my({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=wf(e,n);if(o==null)return aD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(k=>k.descriptor.index===o);if(!d)return aD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=Iv(e,t),p=t.indexOf(d),b=h.slice(p);return{displaced:zm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Hl(e,t){return!!t.effected[e]}var UJ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Hl(a,i)?e?l:l-1:e?l+1:l},FJ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},HJ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Le(),d.type==="REORDER"){const p=FJ({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return p==null?null:my({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=UJ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:my({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},GJ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Hl(n,t)?i?mr:vf(r.point):i?r.point:mr},YJ=({afterCritical:e,impact:t,draggables:n})=>{const r=Lv(t);r||Le();const i=r.draggableId,a=n[i].page.borderBox.center,o=GJ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Er(a,o)};const v4=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,qJ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,hT=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,oD=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.end]+v4(e,n),hT(e,t.marginBox,n)),sD=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.start]-qJ(e,n),hT(e,t.marginBox,n)),KJ=({axis:e,moveInto:t,isMoving:n})=>pu(e.line,t.contentBox[e.start]+v4(e,n),hT(e,t.contentBox,n));var WJ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=xf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return KJ({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(Hl(h,i))return sD({axis:l,moveRelativeTo:b.page,isMoving:o});const y=cy(b.page,d.point);return sD({axis:l,moveRelativeTo:y,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Hl(p.descriptor.id,i)){const b=cy(p.page,vf(i.displacedBy.point));return oD({axis:l,moveRelativeTo:b,isMoving:o})}return oD({axis:l,moveRelativeTo:p.page,isMoving:o})},Xk=(e,t)=>{const n=e.frame;return n?Er(t,n.scroll.diff.displacement):t};const VJ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?WJ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):YJ({impact:e,draggables:r,afterCritical:i})};var $v=e=>{const t=VJ(e),n=e.droppable;return n?Xk(n,t):t},x4=(e,t)=>{const n=Ui(t,e.scroll.initial),r=vf(n);return{frame:Za({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function lD(e,t){return e.map(n=>t[n])}function ZJ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var XJ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=x4(t,Er(t.scroll.current,i)),o=n.frame?cT(n,Er(n.frame.scroll.current,i)):n,l=e.displaced,u=zm({afterDragging:lD(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=zm({afterDragging:lD(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,d];return l.all.forEach(k=>{const w=ZJ(k,b);if(w){p[k]=w;return}h[k]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},JJ=(e,t)=>Er(e.scroll.diff.displacement,t),mT=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=JJ(n,e),i=Ui(r,t.page.borderBox.center);return Er(t.client.borderBox.center,i)},w4=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ui(n,e.page.borderBox.center),u={target:yp(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?IJ(u):y4(u)},QJ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=xf(n.descriptor.id,r),h=wf(t,n),p=NJ({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||HJ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=$v({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(w4({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:mT({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const k=Ui(b,o),w=XJ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:k});return{clientSelection:l,impact:w,scrollJumpRequest:k}};const qr=e=>{const t=e.subject.active;return t||Le(),t};var eQ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=va(a[o.start],a[o.end]),u=Rv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>g4(i.frame)(qr(h))).filter(h=>{const p=qr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=qr(h),b=va(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=qr(h)[o.crossAxisStart],y=qr(p)[o.crossAxisStart];return e?b-y:y-b}).filter((h,p,b)=>qr(h)[o.crossAxisStart]===qr(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>va(qr(h)[o.start],qr(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>qr(h)[o.start]-qr(p)[o.start])[0]:u.sort((h,p)=>{const b=rD(t,iD(qr(h))),y=rD(t,iD(qr(p)));return b!==y?b-y:qr(h)[o.start]-qr(p)[o.start]})[0]};const cD=(e,t)=>{const n=e.page.borderBox.center;return Hl(e.descriptor.id,t)?Ui(n,t.displacedBy.point):n},tQ=(e,t)=>{const n=e.page.borderBox;return Hl(e.descriptor.id,t)?yp(n,vf(t.displacedBy.point)):n};var nQ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>y4({target:tQ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=$m(e,Xk(n,cD(o,i))),d=$m(e,Xk(n,cD(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,vp=hr(function(t,n){const r=n[t.line];return{value:r,point:pu(t.line,r)}});const rQ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return pu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=xf(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:pu(r.line,u)},_4=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),S4=(e,t,n)=>{const r=e.frame;wf(t,e)&&Le(),e.subject.withPlaceholder&&Le();const i=vp(e.axis,t.displaceBy).point,a=rQ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Jd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Er(r.scroll.max,a):r.scroll.max,u=_4(r,l),d=Jd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},iQ=e=>{const t=e.subject.withPlaceholder;t||Le();const n=e.frame;if(!n){const o=Jd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Le();const i=_4(n,r),a=Jd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var aQ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Bm,displacedBy:p4,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=$v({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),y=wf(r,a)?a:S4(a,r,i);return w4({draggable:r,destination:y,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=vp(a.axis,r.displaceBy);return my({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Bm,index:d})},oQ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=eQ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=xf(u.descriptor.id,i),h=nQ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=aQ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const b=$v({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:mT({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Hi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const sQ=(e,t)=>{const n=Hi(e);return n?t[n]:null};var lQ=({state:e,type:t})=>{const n=sQ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?QJ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):oQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Zc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function k4(e){const t=va(e.top,e.bottom),n=va(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function cQ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function uQ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=pu(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:$m(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function dQ({pageBorderBox:e,draggable:t,droppables:n}){const r=Rv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!cQ(e,a))return!1;if(k4(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=va(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(d);return!p&&!b?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:uQ({pageBorderBox:e,draggable:t,candidates:r}):null}const E4=(e,t)=>Za(yp(e,t));var fQ=(e,t)=>{const n=e.frame;return n?E4(t,n.scroll.diff.value):t};function T4({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function hQ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var mQ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=vp(n.axis,t.displaceBy),d=u.value,h=e[l.start],p=e[l.end],y=Iv(t,r).find(w=>{const S=w.descriptor.id,A=w.page.borderBox.center[l.line],O=Hl(S,o),j=T4({displaced:i,id:S});return O?j?p<=A:h<A-d:j?p<=A+d:h<A})||null,k=hQ({draggable:t,closest:y,inHomeList:wf(t,n)});return my({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:k})};const pQ=4;var gQ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=vp(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=Iv(e,i).find(k=>{const w=k.descriptor.id,S=k.page.borderBox,O=S[o.size]/pQ,j=Hl(w,a),C=T4({displaced:n.displaced,id:w});return j?C?h>S[o.start]+O&&h<S[o.end]-O:d>S[o.start]-u+O&&d<S[o.end]-u-O:C?h>S[o.start]+u+O&&h<S[o.end]+u-O:d>S[o.start]+O&&d<S[o.end]-O});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},A4=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=E4(t.page.borderBox,e),u=dQ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return OJ;const d=r[u],h=xf(d.descriptor.id,n),p=fQ(d,l);return gQ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||mQ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},pT=(e,t)=>({...e,[t.descriptor.id]:t});const bQ=({previousImpact:e,impact:t,droppables:n})=>{const r=Hi(e),i=Hi(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=iQ(a);return pT(n,o)};var yQ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=bQ({previousImpact:r,impact:i,droppables:n}),o=Hi(i);if(!o)return a;const l=n[o];if(wf(e,l)||l.subject.withPlaceholder)return a;const u=S4(l,e,t);return pT(a,u)},Tm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Ui(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:Er(e.initial.client.borderBoxCenter,d)},p={selection:Er(h.selection,o.scroll.current),borderBoxCenter:Er(h.borderBoxCenter,o.scroll.current),offset:Er(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const y=l.draggables[e.critical.draggable.id],k=i||A4({pageOffset:p.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=yQ({draggable:y,impact:k,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:w},impact:k,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function vQ(e,t){return e.map(n=>t[n])}var j4=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=vQ(a.all,n),l=zm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},N4=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=$v({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return mT({pageBorderBoxCenter:o,draggable:t,viewport:i})},O4=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Le();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=Hi(r);d||Le();const h=l[d],p=j4({impact:r,viewport:i,destination:h,draggables:o}),b=N4({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Tm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},xQ=e=>({index:e.index,droppableId:e.droppableId}),C4=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=vp(t.axis,e.displaceBy),a=xf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Le();const l=a.slice(o+1),u=l.reduce((b,y)=>(b[y.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:zm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:xQ(e.descriptor)}},afterCritical:d}},wQ=(e,t)=>({draggables:e.draggables,droppables:pT(e.droppables,t)}),_Q=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=cy(e.client,t),i=uy(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},SQ=e=>{const t=e.frame;return t||Le(),t},kQ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=SQ(o).scroll.diff.value,d=Er(r,u);return _Q({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},EQ=({state:e,published:t})=>{const n=t.modified.map(A=>{const O=e.dimensions.droppables[A.droppableId];return cT(O,A.scroll)}),r={...e.dimensions.droppables,...h4(n)},i=m4(kQ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(A=>{delete a[A]});const o={droppables:r,draggables:a},l=Hi(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=C4({draggable:d,home:h,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:p,k=A4({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:k,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Jk=e=>e.movementMode==="SNAP",r1=(e,t,n)=>{const r=wQ(e.dimensions,t);return!Jk(e)||n?Tm({state:e,dimensions:r}):O4({state:e,dimensions:r})};function i1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const uD={phase:"IDLE",completed:null,shouldFlush:!1};var TQ=(e=uD,t)=>{if(t.type==="FLUSH")return{...uD,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:mr},h={client:d,page:{selection:Er(d.selection,i.scroll.initial),borderBoxCenter:Er(d.selection,i.scroll.initial),offset:Er(d.selection,i.scroll.diff.value)}},p=Rv(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:y}=C4({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:y,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),EQ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Le();const{client:n}=t.payload;return Bl(n,e.current.client.selection)?e:Tm({state:e,clientSelection:n,impact:Jk(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return i1(e);Zc(e)||Le();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=cT(i,r);return r1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Le();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isEnabled===r&&Le();const a={...i,isEnabled:r};return r1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Le();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isCombineEnabled===r&&Le();const a={...i,isCombineEnabled:r};return r1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Zc(e)||Le(),e.isWindowScrollAllowed||Le();const n=t.payload.newScroll;if(Bl(e.viewport.scroll.current,n))return i1(e);const r=x4(e.viewport,n);return Jk(e)?O4({state:e,viewport:r}):Tm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Zc(e))return e;const n=t.payload.maxScroll;if(Bl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const n=lQ({state:e,type:t.type});return n?Tm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Lt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const AQ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),jQ=e=>({type:"LIFT",payload:e}),NQ=e=>({type:"INITIAL_PUBLISH",payload:e}),OQ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),CQ=()=>({type:"COLLECTION_STARTING",payload:null}),MQ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),DQ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),PQ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),M4=e=>({type:"MOVE",payload:e}),RQ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),LQ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),IQ=()=>({type:"MOVE_UP",payload:null}),$Q=()=>({type:"MOVE_DOWN",payload:null}),BQ=()=>({type:"MOVE_RIGHT",payload:null}),zQ=()=>({type:"MOVE_LEFT",payload:null}),gT=()=>({type:"FLUSH",payload:null}),UQ=e=>({type:"DROP_ANIMATE",payload:e}),bT=e=>({type:"DROP_COMPLETE",payload:e}),D4=e=>({type:"DROP",payload:e}),FQ=e=>({type:"DROP_PENDING",payload:e}),P4=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var HQ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Lt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(bT({completed:u.completed})),t().phase!=="IDLE"&&Le(),n(gT()),n(AQ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:y}=e.startPublishing(h);n(NQ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:y}))},GQ=e=>()=>t=>n=>{Lt(n,"INITIAL_PUBLISH")&&e.dragging(),Lt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Lt(n,"FLUSH")||Lt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const yT={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Um={opacity:{drop:0,combining:.7},scale:{drop:.75}},R4={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zc=`${R4.outOfTheWay}s ${yT.outOfTheWay}`,Am={fluid:`opacity ${zc}`,snap:`transform ${zc}, opacity ${zc}`,drop:e=>{const t=`${e}s ${yT.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${zc}`,placeholder:`height ${zc}, width ${zc}, margin ${zc}`},dD=e=>Bl(e,mr)?void 0:`translate(${e.x}px, ${e.y}px)`,Qk={moveTo:dD,drop:(e,t)=>{const n=dD(e);if(n)return t?`${n} scale(${Um.scale.drop})`:n}},{minDropTime:e2,maxDropTime:L4}=R4,YQ=L4-e2,fD=1500,qQ=.6;var KQ=({current:e,destination:t,reason:n})=>{const r=$m(e,t);if(r<=0)return e2;if(r>=fD)return L4;const i=r/fD,a=e2+YQ*i,o=n==="CANCEL"?a*qQ:a;return Number(o.toFixed(2))},WQ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Hi(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=N4({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Ui(h,t.client.borderBox.center)},VQ=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:j4({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Bm},didDropInsideDroppable:!0};const ZQ=({getState:e,dispatch:t})=>n=>r=>{if(!Lt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(FQ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Le(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Le();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=VQ({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?uT(h):null,y=p?Lv(h):null,k={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:b,combine:y},S=WQ({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),A={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:h};if(!(!Bl(i.current.client.offset,S)||!!w.combine)){t(bT({completed:A}));return}const j=KQ({current:i.current.client.offset,destination:S,reason:a});t(UQ({newHomeClientOffset:S,dropDuration:j,completed:A}))};var I4=()=>({x:window.pageXOffset,y:window.pageYOffset});function XQ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function JQ({onWindowScroll:e}){function t(){e(I4())}const n=Im(t),r=XQ(n);let i=$l;function a(){return i!==$l}function o(){a()&&Le(),i=ma(window,[r])}function l(){a()||Le(),n.cancel(),i(),i=$l}return{start:o,stop:l,isActive:a}}const QQ=e=>Lt(e,"DROP_COMPLETE")||Lt(e,"DROP_ANIMATE")||Lt(e,"FLUSH"),eee=e=>{const t=JQ({onWindowScroll:n=>{e.dispatch(RQ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Lt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&QQ(r)&&t.stop(),n(r)}};var tee=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},nee=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Le();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const ree=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,iee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,aee=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Yh=(e,t)=>{t()},Mg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function a1(e,t,n,r){if(!e){n(r(t));return}const i=tee(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var oee=(e,t)=>{const n=nee();let r=null;const i=(p,b)=>{r&&Le(),Yh("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:p,mode:b})})},a=(p,b)=>{r&&Le(),Yh("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Mg(p,b))})},o=(p,b)=>{r&&Le();const y=Mg(p,b);r={mode:b,lastCritical:p,lastLocation:y.source,lastCombine:null},n.add(()=>{Yh("onDragStart",()=>a1(e().onDragStart,y,t,$b.onDragStart))})},l=(p,b)=>{const y=uT(b),k=Lv(b);r||Le();const w=!aee(p,r.lastCritical);w&&(r.lastCritical=p);const S=!ree(r.lastLocation,y);S&&(r.lastLocation=y);const A=!iee(r.lastCombine,k);if(A&&(r.lastCombine=k),!w&&!S&&!A)return;const O={...Mg(p,r.mode),combine:k,destination:y};n.add(()=>{Yh("onDragUpdate",()=>a1(e().onDragUpdate,O,t,$b.onDragUpdate))})},u=()=>{r||Le(),n.flush()},d=p=>{r||Le(),r=null,Yh("onDragEnd",()=>a1(e().onDragEnd,p,t,$b.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...Mg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},see=(e,t)=>{const n=oee(e,t);return r=>i=>a=>{if(Lt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Lt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Lt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Lt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const lee=e=>t=>n=>{if(!Lt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(bT({completed:r.completed}))},cee=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Lt(a,"FLUSH")||Lt(a,"DROP_COMPLETE")||Lt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Lt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(P4())}};n=requestAnimationFrame(()=>{n=null,t=ma(window,[o])})}};var uee=e=>()=>t=>n=>{(Lt(n,"DROP_COMPLETE")||Lt(n,"FLUSH")||Lt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},dee=e=>{let t=!1;return()=>n=>r=>{if(Lt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Lt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Lt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const fee=e=>Lt(e,"DROP_COMPLETE")||Lt(e,"DROP_ANIMATE")||Lt(e,"FLUSH");var hee=e=>t=>n=>r=>{if(fee(r)){e.stop(),n(r);return}if(Lt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Le(),e.start(i);return}n(r),e.scroll(t.getState())};const mee=e=>t=>n=>{if(t(n),!Lt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(D4({reason:r.reason})))},pee=Lm;var gee=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>iT(TQ,pee(XB(GQ(n),uee(e),HQ(e),ZQ,lee,cee,mee,hee(a),eee,dee(t),see(r,i))));const o1=()=>({additions:{},removals:{},modified:{}});function bee({registry:e,callbacks:t}){let n=o1(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,p=Object.keys(u).map(k=>e.draggable.getById(k).getDimension(mr)).sort((k,w)=>k.descriptor.index-w.descriptor.index),b=Object.keys(h).map(k=>{const S=e.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:S}}),y={additions:p,removals:Object.keys(d),modified:b};n=o1(),t.publish(y)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=o1())}}}var $4=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ui({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},B4=()=>{const e=document.documentElement;return e||Le(),e},z4=()=>{const e=B4();return $4({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},yee=()=>{const e=I4(),t=z4(),n=e.y,r=e.x,i=B4(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:Za({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:mr,displacement:mr}}}},vee=({critical:e,scrollOptions:t,registry:n})=>{const r=yee(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:m4(l),droppables:h4(o)},critical:e,viewport:r}};function hD(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var xee=(e,t)=>{let n=null;const r=bee({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,y)=>{e.droppable.exists(b)||Le(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:y})},a=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:y}))},o=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableScroll({id:b,newScroll:y}))},l=(b,y)=>{n&&e.droppable.getById(b).callbacks.scroll(y)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||Le();const y=n.critical.draggable;b.type==="ADDITION"&&hD(e,y,b.value)&&r.add(b.value),b.type==="REMOVAL"&&hD(e,y,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Le();const y=e.draggable.getById(b.draggableId),k=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:k.descriptor},S=e.subscribe(d);return n={critical:w,unsubscribe:S},vee({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},U4=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",wee=e=>{window.scrollBy(e.x,e.y)};const _ee=hr(e=>Rv(e).filter(t=>!(!t.isEnabled||!t.frame))),See=(e,t)=>_ee(t).find(r=>(r.frame||Le(),k4(r.frame.pageMarginBox)(e)))||null;var kee=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return See(e,n)};const Fm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Eee=(e,t,n=()=>Fm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},F4=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},vT=1,Tee=(e,t,n=()=>Fm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return vT;const a=1-F4({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},Aee=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return vT;const h=F4({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(h);return Math.ceil(p)},mD=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=Tee(e,t,i);return a===0?0:r?Math.max(Aee(a,n,i),vT):a},pD=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=Eee(e,r,a);return t[r.end]<t[r.start]?mD({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*mD({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},jee=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Nee=f4(e=>e===0?0:e);var H4=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=pD({container:t,distanceToEdges:o,dragStartTime:e,axis:dT,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=pD({container:t,distanceToEdges:o,dragStartTime:e,axis:b4,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=Nee({x:u,y:l});if(Bl(d,mr))return null;const h=jee({container:t,subject:n,proposedScroll:d});return h?Bl(h,mr)?null:h:null};const Oee=f4(e=>e===0?0:e>0?1:-1),xT=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Er(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Bl(a,mr)?null:a}})(),G4=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Oee(n),a=xT({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},wT=(e,t)=>G4({current:e.scroll.current,max:e.scroll.max,change:t}),Cee=(e,t)=>{if(!wT(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return xT({current:r,max:n,change:t})},_T=(e,t)=>{const n=e.frame;return n?G4({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Mee=(e,t)=>{const n=e.frame;return!n||!_T(e,t)?null:xT({current:n.scroll.current,max:n.scroll.max,change:t})};var Dee=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=H4({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&wT(e,o)?o:null},Pee=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=H4({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&_T(e,l)?l:null},gD=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=Dee({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=kee({center:o,destination:Hi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=Pee({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},Ree=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Fm})=>{const r=Im(e),i=Im(t);let a=null;const o=d=>{a||Le();const{shouldUseTimeDampening:h,dragStartTime:p}=a;gD({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&Le();const h=Date.now();let p=!1;const b=()=>{p=!0};gD({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},Lee=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=Er(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!_T(l,u))return u;const d=Mee(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Ui(u,d);return t(l.descriptor.id,h),Ui(u,h)},a=(l,u,d)=>{if(!l||!wT(u,d))return d;const h=Cee(u,d);if(!h)return n(d),null;const p=Ui(d,h);return n(p),Ui(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Hi(l.impact);d||Le();const h=i(l.dimensions.droppables[d],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},Iee=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Ree({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Lee({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Qd="data-rfd",ef=(()=>{const e=`${Qd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),t2=(()=>{const e=`${Qd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),$ee=(()=>{const e=`${Qd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),bD={contextId:`${Qd}-scroll-container-context-id`},Bee=e=>t=>`[${t}="${e}"]`,qh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),zee="pointer-events: none;";var Uee=e=>{const t=Bee(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ef.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:zee,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Am.outOfTheWay};
    `;return{selector:t(t2.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t($ee.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:qh(o,"always"),resting:qh(o,"resting"),dragging:qh(o,"dragging"),dropAnimating:qh(o,"dropAnimating"),userCancel:qh(o,"userCancel")}};const Gi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,s1=()=>{const e=document.querySelector("head");return e||Le(),e},yD=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Fee(e,t){const n=kt(()=>Uee(e),[e]),r=_.useRef(null),i=_.useRef(null),a=Je(hr(p=>{const b=i.current;b||Le(),b.textContent=p}),[]),o=Je(p=>{const b=r.current;b||Le(),b.textContent=p},[]);Gi(()=>{!r.current&&!i.current||Le();const p=yD(t),b=yD(t);return r.current=p,i.current=b,p.setAttribute(`${Qd}-always`,e),b.setAttribute(`${Qd}-dynamic`,e),s1().appendChild(p),s1().appendChild(b),o(n.always),a(n.resting),()=>{const y=k=>{const w=k.current;w||Le(),s1().removeChild(w),k.current=null};y(r),y(i)}},[t,o,a,n.always,n.resting,e]);const l=Je(()=>a(n.dragging),[a,n.dragging]),u=Je(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=Je(()=>{i.current&&a(n.resting)},[a,n.resting]);return kt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function Y4(e,t){return Array.from(e.querySelectorAll(t))}var q4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Bv(e){return e instanceof q4(e).HTMLElement}function Hee(e,t){const n=`[${ef.contextId}="${e}"]`,r=Y4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(ef.draggableId)===t);return!i||!Bv(i)?null:i}function Gee(e){const t=_.useRef({}),n=_.useRef(null),r=_.useRef(null),i=_.useRef(!1),a=Je(function(b,y){const k={id:b,focus:y};return t.current[b]=k,function(){const S=t.current;S[b]!==k&&delete S[b]}},[]),o=Je(function(b){const y=Hee(e,b);y&&y!==document.activeElement&&y.focus()},[e]),l=Je(function(b,y){n.current===b&&(n.current=y)},[]),u=Je(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=Je(function(b){n.current=null;const y=document.activeElement;y&&y.getAttribute(ef.draggableId)===b&&(n.current=b)},[]);return Gi(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),kt(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function Yee(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const y=t.indexOf(p);y!==-1&&t.splice(y,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Le(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const y=e.draggables[b.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,y=i(b);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Le(),b}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function qee(){const e=kt(Yee,[]);return _.useEffect(()=>function(){e.clean()},[e]),e}var ST=Zt.createContext(null),py=()=>{const e=document.body;return e||Le(),e};const Kee={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Wee=e=>`rfd-announcement-${e}`;function Vee(e){const t=kt(()=>Wee(e),[e]),n=_.useRef(null);return _.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),dy(a.style,Kee),py().appendChild(a),function(){setTimeout(function(){const u=py();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Je(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const Zee={separator:"::"};function kT(e,t=Zee){const n=Zt.useId();return kt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Xee({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Jee({contextId:e,text:t}){const n=kT("hidden-text",{separator:"-"}),r=kt(()=>Xee({contextId:e,uniqueId:n}),[n,e]);return _.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",py().appendChild(a),function(){const l=py();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var zv=Zt.createContext(null);function K4(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),t}function Qee(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Le();const l={abandon:o};return e=l,l}function i(){e||Le(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Hm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const ete=9,tte=13,ET=27,W4=32,nte=33,rte=34,ite=35,ate=36,ote=37,ste=38,lte=39,cte=40,ute={[tte]:!0,[ete]:!0};var V4=e=>{ute[e.keyCode]&&e.preventDefault()};const Uv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Z4=0,vD=5;function dte(e,t){return Math.abs(t.x-e.x)>=vD||Math.abs(t.y-e.y)>=vD}const xD={type:"IDLE"};function fte({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==Z4)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Le();const h=d.point;if(!dte(h,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===ET){i.preventDefault(),e();return}V4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Le(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Uv,fn:e}]}function hte(e){const t=_.useRef(xD),n=_.useRef($l),r=kt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==Z4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const y=e.tryGetLock(b,o,{sourceEvent:p});if(!y)return;p.preventDefault();const k={x:p.clientX,y:p.clientY};n.current(),d(y,k)}}),[e]),i=kt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Je(function(){const p={passive:!1,capture:!0};n.current=ma(window,[i,r],p)},[i,r]),o=Je(()=>{t.current.type!=="IDLE"&&(t.current=xD,n.current(),a())},[a]),l=Je(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Je(function(){const p={capture:!0,passive:!1},b=fte({cancel:l,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=ma(window,b,p)},[l,o]),d=Je(function(p,b){t.current.type!=="IDLE"&&Le(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);Gi(function(){return a(),function(){n.current()}},[a])}function mte(){}const pte={[rte]:!0,[nte]:!0,[ate]:!0,[ite]:!0};function gte(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===ET){i.preventDefault(),n();return}if(i.keyCode===W4){i.preventDefault(),r();return}if(i.keyCode===cte){i.preventDefault(),e.moveDown();return}if(i.keyCode===ste){i.preventDefault(),e.moveUp();return}if(i.keyCode===lte){i.preventDefault(),e.moveRight();return}if(i.keyCode===ote){i.preventDefault(),e.moveLeft();return}if(pte[i.keyCode]){i.preventDefault();return}V4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Uv,fn:n}]}function bte(e){const t=_.useRef(mte),n=kt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==W4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||Le(),u=!1,t.current(),r()}t.current=ma(window,gte(d,h),{capture:!0,passive:!1})}}),[e]),r=Je(function(){const a={passive:!1,capture:!0};t.current=ma(window,[n],a)},[n]);Gi(function(){return r(),function(){t.current()}},[r])}const l1={type:"IDLE"},yte=120,vte=.15;function xte({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===ET&&n.preventDefault(),e()}},{eventName:Uv,fn:e}]}function wte({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Le();const a=r.touches[0];if(!a||!(a.force>=vte))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Uv,fn:e}]}function _te(e){const t=_.useRef(l1),n=_.useRef($l),r=Je(function(){return t.current},[]),i=Je(function(y){t.current=y},[]),a=kt(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const k=e.findClosestDraggableId(y);if(!k)return;const w=e.tryGetLock(k,l,{sourceEvent:y});if(!w)return;const S=y.touches[0],{clientX:A,clientY:O}=S,j={x:A,y:O};n.current(),p(w,j)}}),[e]),o=Je(function(){const y={capture:!0,passive:!1};n.current=ma(window,[a],y)},[a]),l=Je(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(l1),n.current(),o())},[o,i]),u=Je(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=Je(function(){const y={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:r},w=ma(window,wte(k),y),S=ma(window,xte(k),y);n.current=function(){w(),S()}},[u,r,l]),h=Je(function(){const y=r();y.type!=="PENDING"&&Le();const k=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[r,i]),p=Je(function(y,k){r().type!=="IDLE"&&Le();const w=setTimeout(h,yte);i({type:"PENDING",point:k,actions:y,longPressTimerId:w}),d()},[d,r,i,h]);Gi(function(){return o(),function(){n.current();const k=r();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(l1))}},[r,o,i]),Gi(function(){return ma(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Ste=["input","button","textarea","select","option","optgroup","video","audio"];function X4(e,t){if(t==null)return!1;if(Ste.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:X4(e,t.parentElement)}function kte(e,t){const n=t.target;return Bv(n)?X4(e,n):!1}var Ete=e=>Za(e.getBoundingClientRect()).center;function Tte(e){return e instanceof q4(e).Element}const Ate=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function J4(e,t){return e==null?null:e[Ate](t)?e:J4(e.parentElement,t)}function jte(e,t){return e.closest?e.closest(t):J4(e,t)}function Nte(e){return`[${ef.contextId}="${e}"]`}function Ote(e,t){const n=t.target;if(!Tte(n))return null;const r=Nte(e),i=jte(n,r);return!i||!Bv(i)?null:i}function Cte(e,t){const n=Ote(e,t);return n?n.getAttribute(ef.draggableId):null}function Mte(e,t){const n=`[${t2.contextId}="${e}"]`,i=Y4(document,n).find(a=>a.getAttribute(t2.id)===t);return!i||!Bv(i)?null:i}function Dte(e){e.preventDefault()}function Dg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Q4({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!U4(t.getState(),r))}function Pte({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!Q4({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=Mte(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&kte(d,o))return null;const h=e.claim(a||$l);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function y(){return e.isActive(h)}function k(D,P){Dg({expected:D,phase:p,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const w=k.bind(null,"DRAGGING");function S(D){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Le()),n.dispatch(jQ(D.liftActionArgs)),p="DRAGGING";function I(U,K={shouldBlockNextClick:!1}){if(D.cleanup(),K.shouldBlockNextClick){const q=ma(window,[{eventName:"click",fn:Dte,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(q)}P(),n.dispatch(D4({reason:U}))}return{isActive:()=>Dg({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,drop:U=>I("DROP",U),cancel:U=>I("CANCEL",U),...D.actions}}function A(D){const P=Im(U=>{w(()=>M4({client:U}))});return{...S({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function O(){const D={moveUp:()=>w(IQ),moveRight:()=>w(BQ),moveDown:()=>w($Q),moveLeft:()=>w(zQ)};return S({liftActionArgs:{id:i,clientSelection:Ete(d),movementMode:"SNAP"},cleanup:$l,actions:D})}function j(){Dg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Dg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:A,snapLift:O,abort:j}}const Rte=[hte,bte,_te];function Lte({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Rte:[],...r||[]],o=_.useState(()=>Qee())[0],l=Je(function(S,A){Hm(S)&&!Hm(A)&&o.tryAbandon()},[o]);Gi(function(){let S=t.getState();return t.subscribe(()=>{const O=t.getState();l(S,O),S=O})},[o,t,l]),Gi(()=>o.tryAbandon,[o.tryAbandon]);const u=Je(w=>Q4({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),d=Je((w,S,A)=>Pte({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:S||null,sourceEvent:A&&A.sourceEvent?A.sourceEvent:null}),[e,o,n,t]),h=Je(w=>Cte(e,w),[e]),p=Je(w=>{const S=n.draggable.findById(w);return S?S.options:null},[n.draggable]),b=Je(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(gT()))},[o,t]),y=Je(()=>o.isClaimed(),[o]),k=kt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:y}),[u,d,h,p,b,y]);for(let w=0;w<a.length;w++)a[w](k)}const Ite=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Eu.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),$te=e=>({...Fm,...e.autoScrollerOptions,durationDampening:{...Fm.durationDampening,...e.autoScrollerOptions}});function Kh(e){return e.current||Le(),e.current}function Bte(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=_.useRef(null),l=K4(e),u=Je(()=>Ite(l.current),[l]),d=Je(()=>$te(l.current),[l]),h=Vee(t),p=Jee({contextId:t,text:a}),b=Fee(t,i),y=Je(q=>{Kh(o).dispatch(q)},[]),k=kt(()=>qM({publishWhileDragging:OQ,updateDroppableScroll:MQ,updateDroppableIsEnabled:DQ,updateDroppableIsCombineEnabled:PQ,collectionStarting:CQ},y),[y]),w=qee(),S=kt(()=>xee(w,k),[w,k]),A=kt(()=>Iee({scrollWindow:wee,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:d,...qM({move:M4},y)}),[S.scrollDroppable,y,d]),O=Gee(t),j=kt(()=>gee({announce:h,autoScroller:A,dimensionMarshal:S,focusMarshal:O,getResponders:u,styleMarshal:b}),[h,A,S,O,u,b]);o.current=j;const C=Je(()=>{const q=Kh(o);q.getState().phase!=="IDLE"&&q.dispatch(gT())},[]),D=Je(()=>{const q=Kh(o).getState();return q.phase==="DROP_ANIMATING"?!0:q.phase==="IDLE"?!1:q.isDragging},[]),P=kt(()=>({isDragging:D,tryAbort:C}),[D,C]);n(P);const I=Je(q=>U4(Kh(o).getState(),q),[]),U=Je(()=>Zc(Kh(o).getState()),[]),K=kt(()=>({marshal:S,focus:O,contextId:t,canLift:I,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:w}),[t,S,p,O,I,U,w]);return Lte({contextId:t,store:j,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),_.useEffect(()=>C,[C]),Zt.createElement(zv.Provider,{value:K},Zt.createElement(a4,{context:ST,store:j},e.children))}function zte(){return Zt.useId()}function xp(e){const t=zte(),n=e.dragHandleUsageInstructions||$b.dragHandleUsageInstructions;return Zt.createElement(bJ,null,r=>Zt.createElement(Bte,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const wD={dragging:5e3,dropAnimating:4500},Ute=(e,t)=>t?Am.drop(t.duration):e?Am.snap:Am.fluid,Fte=(e,t)=>{if(e)return t?Um.opacity.drop:Um.opacity.combining},Hte=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Gte(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Hte(e),u=!!a,d=u?Qk.drop(r,o):Qk.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Ute(l,a),transform:d,opacity:Fte(o,u),zIndex:u?wD.dropAnimating:wD.dragging,pointerEvents:"none"}}function Yte(e){return{transform:Qk.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function qte(e){return e.type==="DRAGGING"?Gte(e):Yte(e)}function Kte(e,t,n=mr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=o4(i,r),o=uy(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Wte(e){const t=kT("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=kt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=Je(y=>{const k=i();return k||Le(),Kte(n,k,y)},[n,i]),h=kt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=_.useRef(h),b=_.useRef(!0);Gi(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Gi(()=>{if(b.current){b.current=!1;return}const y=p.current;p.current=h,r.draggable.update(h,y)},[h,r.draggable])}var TT=Zt.createContext(null);function gy(e){const t=_.useContext(e);return t||Le(),t}function Vte(e){e.preventDefault()}const Zte=e=>{const t=_.useRef(null),n=Je((P=null)=>{t.current=P},[]),r=Je(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=gy(zv),{type:l,droppableId:u}=gy(TT),d=kt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:y,canDragInteractiveElements:k,isClone:w,mapped:S,dropAnimationFinished:A}=e;if(!w){const P=kt(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:k,shouldRespectForcePress:y,isEnabled:b}),[d,o,r,k,y,b]);Wte(P)}const O=kt(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Vte}:null,[i,a,p,b]),j=Je(P=>{S.type==="DRAGGING"&&S.dropping&&P.propertyName==="transform"&&Eu.flushSync(A)},[A,S]),C=kt(()=>{const P=qte(S),I=S.type==="DRAGGING"&&S.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:I},dragHandleProps:O}},[i,O,p,S,j,n]),D=kt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Zt.createElement(Zt.Fragment,null,h(C,S.snapshot,D))};var e6=(e,t)=>e===t,t6=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Xte=e=>e.combine?e.combine.draggableId:null,Jte=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Qte(){const e=hr((i,a)=>({x:i,y:a})),t=hr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=hr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(Hm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Hi(i.impact),d=Jte(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,p=t6(d),b=Xte(d),k={duration:i.dropDuration,curve:yT.drop,moveTo:i.newHomeClientOffset,opacity:b?Um.opacity.drop:null,scale:b?Um.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:k,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,k)}}}return null}}function n6(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const ene={mapped:{type:"SECONDARY",offset:mr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:n6(null)}};function tne(){const e=hr((o,l)=>({x:o,y:l})),t=hr(n6),n=hr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(mr,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),b=Lv(u),y=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(y);if(u.displaced.invisible[o])return null;const S=vf(d.displacedBy.point),A=e(S.x,S.y);return n(A,y,!0)}if(p)return r(y);const k=u.displacedBy.point,w=e(k.x,k.y);return n(w,y,h.shouldAnimate)};return(o,l)=>{if(Hm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const nne=()=>{const e=Qte(),t=tne();return(r,i)=>e(r,i)||t(r,i)||ene},rne={dropAnimationFinished:P4},ine=i4(nne,rne,null,{context:ST,areStatePropsEqual:e6})(Zte);function r6(e){return gy(TT).isUsingCloneFor===e.draggableId&&!e.isClone?null:Zt.createElement(ine,e)}function _f(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Zt.createElement(r6,dy({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const i6=e=>t=>e===t,ane=i6("scroll"),one=i6("auto"),_D=(e,t)=>t(e.overflowX)||t(e.overflowY),sne=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return _D(n,ane)||_D(n,one)},lne=()=>!1,a6=e=>e==null?null:e===document.body?lne()?e:null:e===document.documentElement?null:sne(e)?e:a6(e.parentElement);var n2=e=>({x:e.scrollLeft,y:e.scrollTop});const o6=e=>e?window.getComputedStyle(e).position==="fixed"?!0:o6(e.parentElement):!1;var cne=e=>{const t=a6(e),n=o6(e);return{closestScrollable:t,isFixedOnPage:n}},une=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:y}=l,k=$4({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:k,diff:{value:mr,displacement:mr}}}})(),d=i==="vertical"?dT:b4,h=Jd({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const dne=(e,t)=>{const n=s4(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=sT({top:r,right:o,bottom:a,left:i},n.border);return lT({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var fne=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=dne(e,u),h=uy(d,r),p=(()=>{if(!u)return null;const y=s4(u),k={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:uy(y,r),scroll:n2(u),scrollSize:k,shouldClipSubject:l}})();return une({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const hne={passive:!1},mne={passive:!0};var SD=e=>e.shouldPublishImmediately?hne:mne;const Pg=e=>e&&e.env.closestScrollable||null;function pne(e){const t=_.useRef(null),n=gy(zv),r=kT("droppable"),{registry:i,marshal:a}=n,o=K4(e),l=kt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=_.useRef(l),d=kt(()=>hr((C,D)=>{t.current||Le();const P={x:C,y:D};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=Je(()=>{const C=t.current;return!C||!C.env.closestScrollable?mr:n2(C.env.closestScrollable)},[]),p=Je(()=>{const C=h();d(C.x,C.y)},[h,d]),b=kt(()=>Im(p),[p]),y=Je(()=>{const C=t.current,D=Pg(C);if(C&&D||Le(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),k=Je((C,D)=>{t.current&&Le();const P=o.current,I=P.getDroppableRef();I||Le();const U=cne(I),K={ref:I,descriptor:l,env:U,scrollOptions:D};t.current=K;const q=fne({ref:I,descriptor:l,env:U,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),F=U.closestScrollable;return F&&(F.setAttribute(bD.contextId,n.contextId),F.addEventListener("scroll",y,SD(K.scrollOptions))),q},[n.contextId,l,y,o]),w=Je(()=>{const C=t.current,D=Pg(C);return C&&D||Le(),n2(D)},[]),S=Je(()=>{const C=t.current;C||Le();const D=Pg(C);t.current=null,D&&(b.cancel(),D.removeAttribute(bD.contextId),D.removeEventListener("scroll",y,SD(C.scrollOptions)))},[y,b]),A=Je(C=>{const D=t.current;D||Le();const P=Pg(D);P||Le(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),O=kt(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:w,dragStopped:S,scroll:A}),[S,k,w,A]),j=kt(()=>({uniqueId:r,descriptor:l,callbacks:O}),[O,l,r]);Gi(()=>(u.current=j.descriptor,i.droppable.register(j),()=>{t.current&&S(),i.droppable.unregister(j)}),[O,l,S,j,a,i.droppable]),Gi(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Gi(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function c1(){}const kD={width:0,height:0,margin:kJ},gne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?kD:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},bne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=gne({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Am.placeholder:null}},yne=e=>{const t=_.useRef(null),n=Je(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=_.useState(e.animate==="open");_.useEffect(()=>l?r!=="open"?(n(),u(!1),c1):t.current?c1:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):c1,[r,l,n]);const d=Je(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=bne({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Zt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var vne=Zt.memo(yne);class xne extends Zt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const wne=e=>{const t=_.useContext(zv);t||Le();const{contextId:n,isMovementAllowed:r}=t,i=_.useRef(null),a=_.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:y,snapshot:k,useClone:w,updateViewportMaxScroll:S,getContainerForClone:A}=e,O=Je(()=>i.current,[]),j=Je((F=null)=>{i.current=F},[]);Je(()=>a.current,[]);const C=Je((F=null)=>{a.current=F},[]),D=Je(()=>{r()&&S({maxScroll:z4()})},[r,S]);pne({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:O});const P=kt(()=>Zt.createElement(xne,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:z,animate:W})=>Zt.createElement(vne,{placeholder:z,onClose:F,innerRef:C,animate:W,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,C]),I=kt(()=>({innerRef:j,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,j]),U=w?w.dragging.draggableId:null,K=kt(()=>({droppableId:l,type:u,isUsingCloneFor:U}),[l,U,u]);function q(){if(!w)return null;const{dragging:F,render:z}=w,W=Zt.createElement(r6,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Z,X)=>z(Z,X,F));return Eq.createPortal(W,A())}return Zt.createElement(TT.Provider,{value:K},o(I,k),q())};function _ne(){return document.body||Le(),document.body}const ED={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:_ne},s6=e=>{let t={...e},n;for(n in ED)e[n]===void 0&&(t={...t,[n]:ED[n]});return t},u1=(e,t)=>e===t.droppable.type,TD=(e,t)=>t.draggables[e.draggable.id],Sne=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=hr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=hr((a,o,l,u,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===a){const k=h?{render:h,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:k}}if(!o)return t;if(!u)return e;const y={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,o)=>{const l=s6(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Hm(a)){const b=a.critical;if(!u1(d,b))return t;const y=TD(b,a.dimensions),k=Hi(a.impact)===u;return r(u,h,k,k,y,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!u1(d,b.critical))return t;const y=TD(b.critical,a.dimensions);return r(u,h,t6(b.result)===u,Hi(b.impact)===u,y,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!u1(d,b.critical))return t;const y=Hi(b.impact)===u,k=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return y?k?e:t:w?e:t}return t}},kne={updateViewportMaxScroll:LQ},Sf=i4(Sne,kne,(e,t,n)=>({...s6(n),...e,...t}),{context:ST,areStatePropsEqual:e6})(wne),Ene={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Gm(e,t,n){const r=Ene[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function Tne(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function Ane(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function wp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=Ane(i),o=4*(i-a),l=Tne(r);return new Date(r.getTime()+(o+l)*60*1e3)}function l6(e){return e.replace(/\D/g,"")}function jne(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function Nne(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function kf(e){const t=l6(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return jne(n,r,i)?{y:n,m:r,d:i}:null}function _p(e){const t=e.trim();if(!t||t==="")return null;const n=l6(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return Nne(r,i)?{hh:r,mm:i}:null}function Fv(e){const t=e.trim(),n=kf(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function Hv(e){const t=e.trim();if(t==="")return"";const n=_p(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var Bb={exports:{}},One=Bb.exports,AD;function Cne(){return AD||(AD=1,(function(e,t){(function(n,r){e.exports=r()})(One,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(W){return W&&W.__esModule?W:{default:W}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),p=a(h),b=i(5),y=a(b),k=i(6),w=a(k),S=i(7),A=a(S),O=i(8),j=a(O),C=i(9),D=a(C),P=i(10),I=a(P),U=i(11),K=a(U),q=i(12),F=a(q),z={lunarInfo:l.default,solarMonth:d.default,gan:p.default,zhi:y.default,animals:w.default,lunarTerm:A.default,lTermInfo:j.default,nStr1:D.default,nStr2:I.default,nStr3:K.default,nStr4:F.default,lYearDays:function(W){var Z,X=348;for(Z=32768;Z>8;Z>>=1)X+=z.lunarInfo[W-1900]&Z?1:0;return X+z.leapDays(W)},leapMonth:function(W){return 15&z.lunarInfo[W-1900]},leapDays:function(W){return z.leapMonth(W)?65536&z.lunarInfo[W-1900]?30:29:0},monthDays:function(W,Z){return Z>12||Z<1?-1:z.lunarInfo[W-1900]&65536>>Z?30:29},solarDays:function(W,Z){if(Z>12||Z<1)return-1;var X=Z-1;return X==1?W%4==0&&W%100!=0||W%400==0?29:28:z.solarMonth[X]},toGanZhi:function(W){return z.gan[W%10]+z.zhi[W%12]},getTerm:function(W,Z){if(W<1900||W>2100||Z<1||Z>24)return-1;var X=z.lTermInfo[W-1900],Y=[parseInt("0x"+X.substr(0,5)).toString(),parseInt("0x"+X.substr(5,5)).toString(),parseInt("0x"+X.substr(10,5)).toString(),parseInt("0x"+X.substr(15,5)).toString(),parseInt("0x"+X.substr(20,5)).toString(),parseInt("0x"+X.substr(25,5)).toString()],J=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(J[Z-1])},toChinaYear:function(W){var Z=parseInt(W/1e3),X=parseInt(W%1e3/100),Y=parseInt(W%100/10),J=W%10;return z.nStr4[Z]+z.nStr4[X]+z.nStr4[Y]+z.nStr4[J]+""},toChinaMonth:function(W){if(W>12||W<1)return-1;var Z=z.nStr3[W-1];return Z+=""},toChinaDay:function(W){var Z;switch(W){case 10:Z="";break;case 20:Z="";break;case 30:Z="";break;default:Z=z.nStr2[Math.floor(W/10)],Z+=z.nStr1[W%10]}return Z},getAnimal:function(W){return z.animals[(W-4)%12]},solar2lunar:function(le,oe,B){if(le<1900||le>2100||le==1900&&oe==1&&B<31)return-1;if(le)var Y=new Date(le,parseInt(oe)-1,B);else var Y=new Date;var J,Te=0,ee=0,le=Y.getFullYear(),oe=Y.getMonth()+1,B=Y.getDate(),V=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(J=1900;J<2101&&V>0;J++)ee=z.lYearDays(J),V-=ee;V<0&&(V+=ee,J--);var ne=new Date,se=!1;ne.getFullYear()==le&&ne.getMonth()+1==oe&&ne.getDate()==B&&(se=!0);var fe=Y.getDay(),be=z.nStr1[fe];fe==0&&(fe=7);var ye=J,Te=z.leapMonth(J),re=!1;for(J=1;J<13&&V>0;J++)Te>0&&J==Te+1&&re==0?(--J,re=!0,ee=z.leapDays(ye)):ee=z.monthDays(ye,J),re==1&&J==Te+1&&(re=!1),V-=ee;V==0&&Te>0&&J==Te+1&&(re?re=!1:(re=!0,--J)),V<0&&(V+=ee,--J);var ke=J,_e=V+1,ae=oe-1,Ue=z.getTerm(le,3),Fe=z.toGanZhi(le-4),Ce=new Date(le,1,Ue).getTime();new Date(le,ae,B).getTime()<Ce&&(Fe=z.toGanZhi(le-5));var Pe=z.getTerm(le,2*oe-1),Ge=z.getTerm(le,2*oe),Ne=z.toGanZhi(12*(le-1900)+oe+11);B>=Pe&&(Ne=z.toGanZhi(12*(le-1900)+oe+12));var De=!1,Be="";Pe==B&&(De=!0,Be=z.lunarTerm[2*oe-2]),Ge==B&&(De=!0,Be=z.lunarTerm[2*oe-1]);var st=Date.UTC(le,ae,1,0,0,0,0)/864e5+25567+10,ce=z.toGanZhi(st+B-1);return{lYear:ye,lMonth:ke,lDay:_e,animal:z.getAnimal(ye),yearCn:z.toChinaYear(ye),monthCn:(re&&Te===ke?"":"")+z.toChinaMonth(ke),dayCn:z.toChinaDay(_e),cYear:le,cMonth:oe,cDay:B,gzYear:Fe,gzMonth:Ne,gzDay:ce,isToday:se,isLeap:re,nWeek:fe,ncWeek:""+be,isTerm:De,term:Be}},lunar2solar:function(W,Z,X,Y){var J=z.leapMonth(W);if(z.leapDays(W),Y&&J!=Z||W==2100&&Z==12&&X>1||W==1900&&Z==1&&X<31)return-1;var ee=z.monthDays(W,Z);if(W<1900||W>2100||X>ee)return-1;for(var le=0,oe=1900;oe<W;oe++)le+=z.lYearDays(oe);for(var B=0,V=!1,oe=1;oe<Z;oe++)B=z.leapMonth(W),V||B<=oe&&B>0&&(le+=z.leapDays(W),V=!0),le+=z.monthDays(W,oe);Y&&(le+=ee);var ne=Date.UTC(1900,1,30,0,0,0),se=new Date(864e5*(le+X-31)+ne),fe=se.getUTCFullYear(),be=se.getUTCMonth()+1,ye=se.getUTCDate();return z.solar2lunar(fe,be,ye)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(Bb)),Bb.exports}var c6=Cne();const Mne=_i(c6),Dne=LE({__proto__:null,default:Mne},[c6]);function AT(e){return typeof e=="object"&&e!==null}function Pne(e){return AT(e)&&"default"in e}function Rne(e){return AT(e)&&typeof e.lunar2solar=="function"}function Lne(e){if(!AT(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function Ine(e){const t=Pne(e)?e.default:e;if(!Rne(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Lne(l)}}}const $ne=Ine(Dne);function Wi(e,t,n,r=4,i=0){const a=$ne.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const jD=e=>e<10?`0${e}`:`${e}`;function Ef(e){if(e.calendarType!=="lunar")return e;const t=kf(e.birthDay??"");if(!t)return e;try{const n=Wi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${jD(i)}${jD(a)}`,calendarType:"solar"}}catch{return e}}function jT(e){const t=e.mingSikType??"/",n=kf(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),D=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:D,I=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:D,ganjiText:P,dayStem:I}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Wi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=_p(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",y=wp(p,h,b),k=l?"":y.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=lt(y,h),S=St(y,h),A=mt(y,t),O=l?null:Ja(y,t),j=[` : ${w} ${S} ${A}`,O?`${O}`:null].filter(Boolean).join(" ");return{corrected:y,correctedLocal:k,ganji:j,ganjiText:j,dayStem:A.charAt(0)}}function ND(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function Sp(e){return(typeof e=="string"?e.trim():"")===""?"":""}function OD(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Bne(e){const t=OD(e.ganjiText)??OD(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=Sp(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Ym(e){const t={...e,birthDay:Fv(e.birthDay??""),birthTime:e.birthTime===""?"":Hv(e.birthTime??""),gender:Sp(e.gender),dateObj:ND(e.dateObj,new Date),corrected:ND(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=jT(t),r={...t,...n};return{...r,dir:Bne(r)}}function zne(e){return e===""||e==="/"||e===""?e:"/"}function Une(e){return e==="lunar"?"lunar":"solar"}function Fne(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Hne(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function NT(e,t){const r=Fv(typeof e=="string"?e:""),i=kf(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Wi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function OT(e,t){if(t)return{ok:!0,value:""};const r=Hv(typeof e=="string"?e:"");return _p(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function u6(e,t){const n=t?.requireName??!1,r=Hne(e.name,n);if(!r.ok)return r;const i=Une(e.calendarType),a=NT(e.birthDay,i);if(!a.ok)return a;const o=OT(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=zne(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:Sp(e.gender),sortOrder:e.sortOrder,birthPlace:Fne(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Ym(u)}}function Gl(e,t=0){const n=Ef(e),r=kf(n.birthDay??"");if(!r)throw new Error(`Invalid date: ${e.birthDay}`);const i=_p(n.birthTime??""),a=i?i.hh:0,o=i?i.mm:0,l=new Date(r.y,r.m-1,r.d,a,o,0,0);if(Number.isNaN(l.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const u=!n.birthPlace||typeof n.birthPlace=="object"&&n.birthPlace.name==="",d=n.birthPlace?.lon??127.5,h=wp(l,d,u);return t!==0?new Date(h.getTime()+t*60*1e3):h}function Gne(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ru(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function r2(e){if(!Gne(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function d6(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:Fv(e.birth_day??""),birthTime:Hv(e.birth_time??""),gender:Sp(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Ym(i)}function Yne(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function CD(e,t){const n=Fv(e.birthDay??""),r=Hv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:Sp(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const i2="hm_session_started_at_ms",qne=7200*1e3;function f6(){return typeof window>"u"?null:window.localStorage}function Kne(){const e=f6();if(!e)return Date.now();const t=e.getItem(i2),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(i2,String(r)),r}function h6(e=Date.now()){const t=f6();if(t)try{t.setItem(i2,String(e))}catch{}}function Wne(e=Date.now()){const t=Kne();return e-t>=qne}const Rg="myeongsik-list";function Vne(e){try{return JSON.parse(e)}catch{return null}}async function Zne(e){if(typeof window>"u")return;const t=window.localStorage.getItem(Rg);if(!t)return;const n=Vne(t);if(!n){window.localStorage.removeItem(Rg);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(Rg);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem(Rg)}const Xne=250;function Jne(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function Qne(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function ere(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}Qne(()=>{a()});function o(l,u){const d=Jne(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:d,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Xne),n.promise)}return{queue:o,flushNow:a}}const fr="__UNASSIGNED__",tre=[" ",""],zl=e=>typeof e=="string"?e.trim():"",m6=e=>tre.includes(e);function Rd(e,t){const n=[],r=[];for(const i of e){const a=zl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Gv(e,t){const n=new Set(t.map(o=>zl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=zl(o.folder),d=!u||m6(u)?fr:n.has(u)?u:fr;a(d,o)}i[fr]||(i[fr]=[]);for(const o of t){const l=zl(o);l&&(i[l]||(i[l]=[]))}return i}function CT(e,t){const n=[];for(const i of t){const a=zl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[fr];return Array.isArray(r)&&r.length&&n.push(...r),n}function nre(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Gv(t,n),o=r.droppableId===fr?fr:r.droppableId,l=i.droppableId===fr?fr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===fr,y=Math.max(0,Math.min(i.index,d.length)),k=b?d.length:y;o===l?u.splice(k,0,h):d.splice(k,0,h);const w=String(h.id),S=new Set([w]),A={...h,folder:l===fr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(O=>String(O.id)===w?A:O),{nextList:CT(a,n),changedIds:Array.from(S)}}function rre(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=Gv(t,n),o=[...n.map(A=>zl(A)),fr].filter(Boolean);let l=null,u=-1;for(const A of o){const j=(a[A]??[]).findIndex(C=>String(C.id)===r);if(j>=0){l=A,u=j;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const p=zl(i),b=!p||m6(p)?fr:p,y=l!==b,k=y?[...a[b]??[]]:d,w=String(h.id),S={...h,folder:b===fr?"":b};return y?k.push(S):d.splice(u,0,S),a[l]=d,a[b]=y?k:d,{nextList:CT(a,n),changedIds:[w]}}function ire(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Gv(t,r);let a=null,o=null;const l=[...r.map(y=>zl(y)),fr].filter(Boolean);for(const y of l){const k=i[y]??[],w=k.findIndex(S=>String(S.id)===n);if(w>=0){a=y,o=k[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(y=>String(y.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],p=!h.favorite,b={...h,favorite:p};return u.splice(d,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:CT(i,r),nextItem:b}}function are(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function p6(e){return e.trim().length>0}const Wh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),ore=e=>e.replace(/\D/g,""),sre=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=ore(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},lre=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},cre=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},MD=(e,t,n)=>{const r=Wh(t);if(!r)return!0;const i=Wh(typeof e.name=="string"?e.name:""),a=sre(e).map(Wh),o=lre(e).map(Wh),l=cre(e).map(Wh),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function ure(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!p6(t)){const d={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(d[p]=i[p]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(y=>MD(y,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>MD(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function dre(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??fr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??fr).toString(),index:e.destinationIndex}}}function fre(e,t){const n=String(t.eventType??""),r=r2(t.new),i=r2(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=d6(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return ru(u)}async function hre(e){if(!e)return;const t=Re;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function mre(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function pre(){return{async getUser(){const{data:e,error:t}=await Re.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Re.from("myeongsik").select(mre()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>r2(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=CD(t,e),{error:r}=await Re.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=CD(n,e),{error:i}=await Re.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Re.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Yne(i,e)),{error:r}=await Re.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Re.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await hre(r)}}}}}function gre(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function xm(e){if(!e)return"FREE";const t=gre(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function a2(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const Lg={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function bre(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function DD(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function PD(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function yre(e){return e?e.can_use_myo_viewer===!0:!1}async function vre(e){const{data:t,error:n}=await Re.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const dn=Uo((e,t)=>({loaded:!1,loading:!1,userId:null,...Lg,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Lg})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await Re.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...Lg,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await vre(o);if(!u){const O=a2("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:O.maxMyeongsik===null?9999:O.maxMyeongsik,canManageMyeongsik:O.canManageMyeongsik,canUseLuckTabs:O.canUseLuckTabs,canUseMultiMode:O.canUseMultiMode,canUseAllPrompts:O.canUseAllPrompts,canUseAdvancedReport:O.canUseAdvancedReport,canRemoveAds:O.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=DD(u.starts_at??null),h=DD(u.expires_at??null),p=PD(d,h),b=xm(u.plan??null),y=p?b:"FREE",k=a2(y),w=k.maxMyeongsik===null?9999:k.maxMyeongsik,S=bre(u.max_myeongsik,w),A=Math.max(1,Math.max(S,w));e({loaded:!0,userId:o,plan:y,maxMyeongsik:A,canManageMyeongsik:k.canManageMyeongsik,canUseLuckTabs:k.canUseLuckTabs,canUseMultiMode:k.canUseMultiMode,canUseAllPrompts:k.canUseAllPrompts,canUseAdvancedReport:k.canUseAdvancedReport,canRemoveAds:k.canRemoveAds,canUseMyoViewer:yre(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...Lg,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return PD(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),MT="guest_myeongsik_v1";function g6(e){return typeof e=="object"&&e!==null}function o2(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Ri(e,t=""){return typeof e=="string"?e:t}function xre(e,t=!1){return typeof e=="boolean"?e:t}function wre(e){return g6(e)?{name:Ri(e.name,""),lat:o2(e.lat,0),lon:o2(e.lon,0)}:{name:"",lat:0,lon:0}}function _re(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function Sre(e){if(!g6(e))return null;const t={id:Ri(e.id,""),sortOrder:o2(e.sortOrder,1),name:Ri(e.name,""),birthDay:Ri(e.birthDay,""),birthTime:Ri(e.birthTime,""),gender:Ri(e.gender,""),birthPlace:wre(e.birthPlace),relationship:Ri(e.relationship,""),memo:Ri(e.memo,""),folder:Ri(e.folder,""),mingSikType:Ri(e.mingSikType,"/"),DayChangeRule:Ri(e.DayChangeRule,""),favorite:xre(e.favorite,!1),calendarType:Ri(e.calendarType,"solar"),dir:Ri(e.dir,"forward")};return t.id?Ym(t):null}function b6(){try{const e=localStorage.getItem(MT);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(Sre).filter(r=>r!==null);return ru(n)}catch{return[]}}function Nl(e){try{const t=e.map(_re);localStorage.setItem(MT,JSON.stringify(t))}catch{}}function y6(){try{localStorage.removeItem(MT)}catch{}}const ws=Uo(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),zn=pre(),kre=ere(zn);function Uc(){const t=dn.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function Ere(e){const n=dn.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function RD(e){const t=b6();if(t.length)try{for(const n of t)await zn.upsertOne(e,n);y6()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const yn=Uo((e,t)=>({loading:!1,loaded:!1,loadedUserId:null,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(Wne()){h6(Date.now()),window.location.reload();return}const n=await zn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await zn.subscribe(n.id,i=>{e(a=>({list:fre(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{if(!t().loading){e({loading:!0});try{const n=await zn.getUser(),r=t();if(n&&r.loaded&&r.loadedUserId===n.id){e({loading:!1});return}if(!n){const u=b6(),d=u[0]?.id??null;e({list:u,currentId:d,loaded:!0,loadedUserId:null}),await t().stopRealtime();return}await RD(n.id);const i=await zn.fetchRows(n.id),a=ru(i.map(d6)),o=t().currentId,l=o&&a.some(u=>u.id===o)?o:a[0]?.id??null;e({list:a,currentId:l,loaded:!0,loadedUserId:n.id}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}}},migrateLocalToServer:async()=>{try{await Zne(zn);const n=await zn.getUser();n&&await RD(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await zn.getUser(),i=t().list.length;if(!Ere(i)){r||ws.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Ym(o),u=t().list,d=ru([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){Nl(d),d.length===1&&ws.getState().openWith("PERSIST_SAVE");return}await zn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await zn.getUser();if(i&&!Uc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Ym({...a,...r}),l=ru(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){Nl(l);return}await zn.updateOne(i.id,n,o)},remove:async n=>{const r=await zn.getUser();if(r&&!Uc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){Nl(a);return}await zn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=dre(n),o=nre({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await zn.getUser();if(l&&!Uc()){e({list:r});return}if(!l){Nl(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await zn.getUser();if(i&&!Uc()){e({list:r});return}if(!i){Nl(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await zn.getUser();if(i&&!Uc())return;const o=ire({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){Nl(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await zn.getUser();if(r&&!Uc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=are({list:a,folderName:i}),l=ru(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){Nl(l);return}const d=l.filter(h=>u.has(h.id));await zn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await zn.getUser();if(r&&!Uc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=ru(i);if(e({list:a}),!r){Nl(a);return}await kre.queue(a)},clear:()=>{e({currentId:null,list:[],loaded:!1,loadedUserId:null}),y6()}})),LD="__custom__",Ig=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],v6=({value:e,onChange:t})=>{const[n,r]=_.useState(Ig),[i,a]=_.useState(""),[o,l]=_.useState(!1),[u,d]=_.useState(""),[h,p]=_.useState(!1),{list:b}=yn(),y=(e??i??"").trim(),k=y==="",w=b.some(P=>(P.relationship??"").trim()===""),S=w&&!k?n.filter(P=>P.value!==""):n,A=_.useMemo(()=>{const P=S.find(I=>I.value==="");return P?[P,...S.filter(I=>I.value!=="")]:S},[S]);_.useEffect(()=>{e!==void 0&&a(e)},[e]),_.useEffect(()=>{y||w||(a(""),t?.(""))},[y,w,t]);const O=P=>{const I=P.target.value;I===LD?(l(!0),a(""),t?.("")):(l(!1),d(""),a(I),t?.(I))};_.useEffect(()=>{const P=localStorage.getItem("relationshipOptions");if(P)try{const I=JSON.parse(P),U=new Set,K=[...I,...Ig].filter(q=>!q||!q.value||U.has(q.value)?!1:(U.add(q.value),!0));r(K)}catch{r(Ig)}},[]),_.useEffect(()=>{(async()=>{const{data:{user:I},error:U}=await Re.auth.getUser();if(U||!I)return;const{data:K,error:q}=await Re.from("user_settings").select("payload").eq("user_id",I.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const F=K?.payload?.relationshipOptions;if(!Array.isArray(F))return;const z=F.map(W=>W&&typeof W=="object"&&typeof W.value=="string"&&typeof W.label=="string"?{value:W.value,label:W.label}:typeof W=="string"?{value:W,label:W}:null).filter(W=>!!W);z.length&&r(W=>{const Z=new Set,X=[...z,...W,...Ig].filter(Y=>Z.has(Y.value)?!1:(Z.add(Y.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(X)),X})})()},[]),_.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:I},error:U}=await Re.auth.getUser();if(U||!I)return;const{data:K,error:q}=await Re.from("user_settings").select("payload").eq("user_id",I.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const F={...K?.payload??{},relationshipOptions:n},{error:z}=await Re.from("user_settings").upsert({user_id:I.id,payload:F,updated_at:new Date().toISOString()});z&&console.error("save relationships settings error",z.message)})()},[n]);const j=()=>{const P=u.trim();if(!P)return;const I={value:P,label:P};r(U=>[...U,I]),a(P),t?.(P),d(""),l(!1)},C=P=>{r(n.filter(I=>I.value!==P)),i===P&&a("")},D=P=>{if(!P.destination)return;const I=Array.from(n),[U]=I.splice(P.source.index,1);I.splice(P.destination.index,0,U),r(I)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:O,children:[g.jsx("option",{value:"",hidden:!0,children:" "}),A.map(P=>g.jsx("option",{value:P.value,children:P.label},P.value)),g.jsx("option",{value:LD,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:" "})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"  ",value:u,onChange:P=>d(P.target.value)}),g.jsx("button",{type:"button",onClick:j,className:"btn_style",children:" "})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(xp,{onDragEnd:D,children:g.jsx(Sf,{droppableId:"relList",children:P=>g.jsxs("ul",{ref:P.innerRef,...P.droppableProps,className:"space-y-1",children:[n.map((I,U)=>g.jsx(_f,{draggableId:I.value,index:U,children:K=>g.jsxs("li",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:I.label}),g.jsx("button",{type:"button",className:"text-red-500 cursor-pointer",onClick:()=>C(I.value),children:""})]})},I.value)),P.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},bn=" ",x6=["","","","","",""],w6="ms_folders",_6="ms_folder_order",ID="ms_folder_favs",s2="ms_disabled_presets",Yl="myeoun:folder-updated";function uu(e){if(e!==bn)return e||void 0}function Yv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function DT(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function Tre(){const e=Yv(s2);return x6.filter(t=>!e.includes(t))}function PT(){return Yv(w6)}function RT(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];DT(w6,t),typeof window<"u"&&window.dispatchEvent(new Event(Yl))}function by(){const e=Tre(),t=PT(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function Are(){return[bn,...by()]}function S6(e){const t=e.trim();if(!t||t===bn)return;const n=PT();if(n.includes(t))return;const r=[...n,t];RT(r)}function jre(e){const t=PT(),n=t.filter(r=>r!==e);n.length!==t.length&&RT(n)}function Nre(e){const t=Yv(s2);if(t.includes(e))return;const n=[...t,e];DT(s2,n),typeof window<"u"&&window.dispatchEvent(new Event(Yl))}function yy(){return Yv(_6)}function Ld(e){DT(_6,e),typeof window<"u"&&window.dispatchEvent(new Event(Yl))}function jm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Ore(e){return Array.from(new Set(e))}function $g(e){const t=e.filter(n=>n!==bn);return{rest:t,withUnassigned:[bn,...t]}}function Cre(e,t){return jm(t,e)}function Mre({value:e,onChange:t}){const[n,r]=_.useState([bn]),[i,a]=_.useState(!1),[o,l]=_.useState(""),[u,d]=_.useState(!1),h=_.useCallback(async S=>{const{data:{user:A},error:O}=await Re.auth.getUser();if(O||!A)return;const j=S.map((D,P)=>({user_id:A.id,folder_name:D,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await Re.from("user_folder_order").upsert(j,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=_.useCallback(()=>{if(typeof window>"u")return;const S=Ore(Are()),A=S.includes(bn)?S:[bn,...S],{rest:O}=$g(A),j=yy(),C=Cre(j,O),D=[bn,...C];r(D),j.length===C.length&&j.every((I,U)=>I===C[U])||(Ld(C),h(C))},[h]);_.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(Yl,S),()=>window.removeEventListener(Yl,S)}},[p]);const b=_.useMemo(()=>e||bn,[e]),y=S=>{const{rest:A}=$g(S);Ld(A),h(A)},k=S=>{const{source:A,destination:O}=S;if(!O||O.index===A.index)return;const{rest:j}=$g(n),C=Array.from(j),[D]=C.splice(A.index,1);C.splice(O.index,0,D);const P=[bn,...C];r(P),y(P)},w=S=>{const A=uu(S);A&&(S6(A),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:S=>{const A=S.target.value;if(A==="__custom__"){a(!0),t(void 0);return}a(!1),t(uu(A))},children:[n.map(S=>g.jsx("option",{value:S,children:S},S)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(S=>!S),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=o.trim();S&&(w(S),t(uu(S)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[bn," ()"]})]}),g.jsx(xp,{onDragEnd:k,children:g.jsx(Sf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>g.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[$g(n).rest.map((A,O)=>g.jsx(_f,{draggableId:A,index:O,children:j=>g.jsxs("li",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:A})]})},A)),S.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',bn,'" .      .']})]})}function k6({message:e,onClose:t,ms:n=2e3}){return _.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const $D=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Dre=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Pre=["","/",""],Rre=["",""],E6={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Lre(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function Ire(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function $re(){const[e,t]=_.useState(0),[n,r]=_.useState({...E6}),[i,a]=_.useState(null),[o,l]=_.useState(!1),[u,d]=_.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function Bre({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){_.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function zre(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Wi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Ure(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):bn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Fre({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=$D[r],a=_.useMemo(()=>zre(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:$D,currentStep:i,lunarPreview:a,displayValue:l=>Ure(l,e,t,n),CALENDAR_OPTIONS:Dre,MING_OPTIONS:Pre,GENDER_OPTIONS:Rre,nextIndex:Lre,focusById:Ire,isDST:Gm}}function Hre(){return{add:yn(t=>t.add)}}const Sr=[];for(let e=0;e<256;++e)Sr.push((e+256).toString(16).slice(1));function Gre(e,t=0){return(Sr[e[t+0]]+Sr[e[t+1]]+Sr[e[t+2]]+Sr[e[t+3]]+"-"+Sr[e[t+4]]+Sr[e[t+5]]+"-"+Sr[e[t+6]]+Sr[e[t+7]]+"-"+Sr[e[t+8]]+Sr[e[t+9]]+"-"+Sr[e[t+10]]+Sr[e[t+11]]+Sr[e[t+12]]+Sr[e[t+13]]+Sr[e[t+14]]+Sr[e[t+15]]).toLowerCase()}let d1;const Yre=new Uint8Array(16);function qre(){if(!d1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");d1=crypto.getRandomValues.bind(crypto)}return d1(Yre)}const Kre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BD={randomUUID:Kre};function T6(e,t,n){if(BD.randomUUID&&!e)return BD.randomUUID();e=e||{};const r=e.random??e.rng?.()??qre();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Gre(r)}function Wre(e,t,n){const r=uu(e.folder);return u6({id:T6(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Vre(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=NT(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=OT(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Zre({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:p}){const{add:b}=Hre(),y=_.useCallback(()=>{const w=Vre(a,e,o,u);if(!w.ok){h(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&h(w.message)),n<i-1){r(n+1);return}const S=Wre(e,o,u);if(!S.ok){h(S.message);return}const A=S.value;b(A),p(A),h(" !"),t({...E6}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,d]),k=_.useCallback(w=>{if(w.key!=="Enter")return;const S=w.target,A=S.getAttribute("role");if(A==="radio"||A==="checkbox")return;const O=document.getElementById("mapModal");if(O&&O.contains(S))return;const j=S.tagName.toLowerCase(),C=S instanceof HTMLInputElement?S.type:"";if(j==="textarea"){if(w.shiftKey)return;w.preventDefault(),y();return}if(C==="radio"||C==="checkbox"){w.preventDefault(),S instanceof HTMLInputElement&&S.click();return}j==="button"&&S.type!=="submit"||(w.preventDefault(),y())},[y]);return{handleNext:y,handleFormKeyDown:k}}function Xre({onSave:e}){const t=$re(),n=Fre({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Bre({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Zre({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Jre({onSave:e,onClose:t}){const n=Xre({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(k6,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(VB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(v6,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(Mre,{value:uu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var Bg={},zD;function Qre(){if(zD)return Bg;zD=1,Bg.match=a,Bg.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var y=b.inverse,k=b.type==="all"||p.type===b.type;if(k&&y||!(k||y))return!1;var w=b.expressions.every(function(S){var A=S.feature,O=S.modifier,j=S.value,C=p[A];if(!C)return!1;switch(A){case"orientation":case"scan":return C.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=d(j),C=d(C);break;case"resolution":j=u(j),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=l(j),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,C=parseInt(C,10)||0;break}switch(O){case"min":return C>=j;case"max":return C<=j;default:return C===j}});return w&&!y||!w&&y})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),y=b[1],k=b[2],w=b[3]||"",S={};return S.inverse=!!y&&y.toLowerCase()==="not",S.type=k?k.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],S.expressions=w.map(function(A){var O=A.match(t),j=O[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:O[2]}}),S})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return Bg}var f1,UD;function eie(){if(UD)return f1;UD=1;var e=Qre().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(y){u&&u.addListener(y)}function h(y){u&&u.removeListener(y)}function p(y){l.matches=y.matches,l.media=y.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return f1=r,f1}var tie=eie();const nie=_i(tie);var rie=/[A-Z]/g,iie=/^ms-/,h1={};function aie(e){return"-"+e.toLowerCase()}function A6(e){if(h1.hasOwnProperty(e))return h1[e];var t=e.replace(rie,aie);return h1[e]=iie.test(t)?"-"+t:t}function oie(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var m1={exports:{}},p1,FD;function sie(){if(FD)return p1;FD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return p1=e,p1}var g1,HD;function lie(){if(HD)return g1;HD=1;var e=sie();function t(){}function n(){}return n.resetWarningCache=t,g1=function(){function r(o,l,u,d,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},g1}var GD;function cie(){return GD||(GD=1,m1.exports=lie()()),m1.exports}var uie=cie();const Mt=_i(uie),Kr=Mt.oneOfType([Mt.string,Mt.number]),j6={all:Mt.bool,grid:Mt.bool,aural:Mt.bool,braille:Mt.bool,handheld:Mt.bool,print:Mt.bool,projection:Mt.bool,screen:Mt.bool,tty:Mt.bool,tv:Mt.bool,embossed:Mt.bool},die={orientation:Mt.oneOf(["portrait","landscape"]),scan:Mt.oneOf(["progressive","interlace"]),aspectRatio:Mt.string,deviceAspectRatio:Mt.string,height:Kr,deviceHeight:Kr,width:Kr,deviceWidth:Kr,color:Mt.bool,colorIndex:Mt.bool,monochrome:Mt.bool,resolution:Kr,type:Object.keys(j6)},{type:kCe,...fie}=die,hie={minAspectRatio:Mt.string,maxAspectRatio:Mt.string,minDeviceAspectRatio:Mt.string,maxDeviceAspectRatio:Mt.string,minHeight:Kr,maxHeight:Kr,minDeviceHeight:Kr,maxDeviceHeight:Kr,minWidth:Kr,maxWidth:Kr,minDeviceWidth:Kr,maxDeviceWidth:Kr,minColor:Mt.number,maxColor:Mt.number,minColorIndex:Mt.number,maxColorIndex:Mt.number,minMonochrome:Mt.number,maxMonochrome:Mt.number,minResolution:Kr,maxResolution:Kr,...fie},mie={...j6,...hie};var pie={all:mie};const gie=e=>`not ${e}`,bie=(e,t)=>{const n=A6(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?gie(n):`(${n}: ${t})`},yie=e=>e.join(" and "),vie=e=>{const t=[];return Object.keys(pie.all).forEach(n=>{const r=e[n];r!=null&&t.push(bie(n,r))}),yie(t)},xie=_.createContext(void 0),wie=e=>e.query||vie(e),YD=e=>e?Object.keys(e).reduce((n,r)=>(n[A6(r)]=e[r],n),{}):void 0,N6=()=>{const e=_.useRef(!1);return _.useEffect(()=>{e.current=!0},[]),e.current},_ie=e=>{const t=_.useContext(xie),n=()=>YD(e)||YD(t),[r,i]=_.useState(n);return _.useEffect(()=>{const a=n();oie(r,a)||i(a)},[e,t]),r},Sie=e=>{const t=()=>wie(e),[n,r]=_.useState(t);return _.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},kie=(e,t)=>{const n=()=>nie(e,t||{},!!t),[r,i]=_.useState(n),a=N6();return _.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},Eie=e=>{const[t,n]=_.useState(e.matches);return _.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},Tie=(e,t,n)=>{const r=_ie(t),i=Sie(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=kie(i,r),o=Eie(a);return N6(),_.useEffect(()=>{},[o]),_.useEffect(()=>()=>{a&&a.dispose()},[]),o},O6={Classic:"",Modern:""};function Fo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function Aie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function jie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Nie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Oie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Ho(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?Aie(t,n):jie(t,n):i?Nie(t,n):Oie(t,n)}const Jr=Uo()(_$((e,t)=>{const n=new Date,r="/",i=127.5,a=0,o=(b,y)=>y?new Date(b.getTime()+y*60*1e3):b,l=i,u=o(n,a),d=lt(u,l),h=St(u,l),p=mt(u,r);return{date:n,scope:"",rule:r,lon:i,dstOffsetMinutes:a,yearGZ:d,monthGZ:h,dayGZ:p,setDate:b=>{const{rule:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,A=o(b,w);e({date:b,yearGZ:lt(A,S),monthGZ:St(A,S),dayGZ:mt(A,y)})},resetDate:()=>{const{rule:b,lon:y,dstOffsetMinutes:k}=t(),w=new Date,S=typeof y=="number"?y:void 0,A=o(w,k);e({date:w,yearGZ:lt(A,S),monthGZ:St(A,S),dayGZ:mt(A,b)})},resetMonth:()=>{const{lon:b,dstOffsetMinutes:y}=t(),k=new Date,w=typeof b=="number"?b:void 0,S=o(k,y);e({date:k,monthGZ:St(S,w)})},setScope:b=>e({scope:b}),setRule:b=>{const{date:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,A=o(y,w);e({rule:b,yearGZ:lt(A,S),monthGZ:St(A,S),dayGZ:mt(A,b)})},setLon:b=>{const{date:y,rule:k,dstOffsetMinutes:w}=t(),S=typeof b=="number"?b:void 0,A=o(y,w);e({lon:b,yearGZ:lt(A,S),monthGZ:St(A,S),dayGZ:mt(A,k)})},setDstOffsetMinutes:b=>{const{date:y,rule:k,lon:w}=t(),S=typeof w=="number"?w:void 0,A=o(y,b);e({dstOffsetMinutes:b,yearGZ:lt(A,S),monthGZ:St(A,S),dayGZ:mt(A,k)})},setFromEvent:(b,y)=>{const{rule:k,lon:w,dstOffsetMinutes:S}=t(),A=typeof w=="number"?w:void 0,O=o(b.at,S);e({date:b.at,scope:y,yearGZ:lt(O,A),monthGZ:St(O,A),dayGZ:mt(O,k)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Cie=60*1e3,C6=60*Cie,Mie=24*C6,Die=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},l2=e=>{const t=new Date(e);return t.setSeconds(0,0),t},zb={HOUR:C6,DAY:Mie},wi=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:An(t,l.deg)})).concat([{name:r.name,date:An(t+1,r.deg)},{name:"",date:An(t+1,285)}]),a=An(t,315),o=An(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},M6=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Xr[t%10]}${vi[t%12]}`);return e})(),Pie=e=>{const t=M6.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},vy=(e,t,n=1)=>{const r=Pie(e),i=t==="forward"?n:-n;return M6[(r+i+60*1e3)%60]},wd=2*zb.HOUR,qD=e=>(Math.floor((e+1)/2)*2-1+24)%24,Rie=(e,t)=>{const n=e.getHours(),r=qD(n),i=new Date(e);i.setHours(r,0,0,0),i.getTime()>e.getTime()&&i.setTime(i.getTime()-wd);const a=new Date(i.getTime()+wd),o=e.getTime()-i.getTime(),l=a.getTime()-e.getTime();if(o<0||o>wd||l<0||l>wd){const u=new Date(e);for(u.setHours(qD(e.getHours()),0,0,0);u.getTime()>e.getTime();)u.setTime(u.getTime()-wd);const d=new Date(u.getTime()+wd),h=e.getTime()-u.getTime(),p=d.getTime()-e.getTime();return t==="backward"?h:p}return t==="backward"?o:l},D6=(e,t,n,r=120)=>{const i=l2(e),a=Rie(i,n),o=10*zb.DAY/(2*zb.HOUR),l=l2(new Date(i.getTime()+a*o)),u=Die(e,r).getTime(),d=[];let h=vy(t,n,1);for(let p=l.getTime();p<=u;p+=10*zb.DAY)d.push({at:new Date(p),gz:h}),h=vy(h,n,1);return{firstChange:l,events:d}},P6=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},R6=(e,t,n,r)=>{const i=P6(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=vy(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},c2=7200*1e3,Lie=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Xr.indexOf(r),o=vi.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return Xr[u]+vi[d]},Iie=e=>(Math.floor((e+1)/2)*2-1+24)%24,$ie=e=>{const t=e.getHours(),n=Iie(t),r=new Date(e);return r.setHours(n,0,0,0),r.getTime()>e.getTime()&&r.setTime(r.getTime()-c2),r},Bie=(e,t)=>{const n=wi(e).sort((p,b)=>p.date.getTime()-b.date.getTime()),r=e.getTime();let i;if(t==="forward"){let p=n.find(b=>b.date.getTime()>r);if(!p){const b=new Date(e.getFullYear()+1,0,2,12,0,0,0);p=wi(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).find(k=>k.date.getTime()>r)}if(!p)throw new Error("    .");i=p.date}else{let p=n.filter(b=>b.date.getTime()<r);if(p.length===0){const b=new Date(e.getFullYear()-1,11,31,12,0,0,0);p=wi(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).filter(k=>k.date.getTime()<r)}if(p.length===0)throw new Error("    .");i=p[p.length-1].date}const a=$ie(e),o=t==="forward"?c2:-c2,l=i.getTime();let u=new Date(a.getTime()),d=0;const h=365*24/2;for(;d<h;){const p=u.getTime();if(t==="forward"){if(p>=l)return u}else if(p<=l)return u;u=new Date(u.getTime()+o),d++}throw new Error("     .")},zie=(e,t)=>{const i=Math.abs(t.getTime()-e.getTime())*120;return new Date(e.getTime()+i)},kp=(e,t,n,r=120,i)=>{console.log(i);const a=Bie(e,n),o=zie(e,a),l=Math.floor(r/10),u=[];for(let d=0;d<l;d++){const h=new Date(o);h.setFullYear(h.getFullYear()+d*10),h.setSeconds(0,0);const p=Lie(t,n,d+1);u.push({at:h,gz:p})}return u.sort((d,h)=>d.at.getTime()-h.at.getTime()),{natalMonthPillar:t,firstChange:o,mPillars:[],events:u}},Uie=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},L6=(e,t,n,r,i)=>{const a=P6(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=vy(o,n,1),l.push({at:u.at,gz:o,age:Uie(i,u.at)}))}return{events:l}},Fie=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},qv=(e,t)=>{const n=Fie(e),r=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",i=wp(n,e.birthPlace?.lon??null,r),a=t?.dstOffsetMinutes??0,o=a!==0?new Date(i.getTime()+a*60*1e3):i;return l2(o)},LT=(e,t,n)=>{const r=e.birthPlace?.lon??127.5,i=qv(e,n),a=mt(i,t),o=Ja(i,t,a.charAt(0));return{year:lt(i,r),month:St(i,r),day:a,hour:o}},Hie=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Xr[t%10]}${vi[t%12]}`);return e})(),Gie=e=>Hie.indexOf(e),b1=e=>{if(Gie(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Yie(e,t="/",n=0){const r=_.useMemo(()=>Ef(e),[e]),i=_.useMemo(()=>qv(r,{dstOffsetMinutes:n}),[r,n]),a=_.useMemo(()=>LT(r,t,{dstOffsetMinutes:n}),[r,t,n]);return _.useMemo(()=>{const o=kp(i,a.month,r.dir,120,r?.birthPlace?.lon??127.5),l=new Date;function u(C,D){let P=null;const I=D.getTime();for(const U of C)if(U.at.getTime()<=I)P=U;else break;return P}const d=u(o.events,l)?.gz??a.month,h=b1(d),p=l.getFullYear(),b=An(p,315),k=b&&l>=b?p:p-1,w=lt(new Date(k,1,10,0,0,0),127.5),S=b1(w),A=St(l,127.5),O=b1(A),j=[];return O&&j.push({key:"wolun",label:"",data:O}),S&&j.push({key:"seun",label:"",data:S}),h&&j.push({key:"daeun",label:"",data:h}),j},[i,r.dir,a.month,r.birthPlace?.lon])}function Tu(e,t="/",n=100,r=0){const i=_.useMemo(()=>Ef(e),[e]),a=_.useMemo(()=>qv(i,{dstOffsetMinutes:r}),[i,r]),o=_.useMemo(()=>LT(i,t,{dstOffsetMinutes:r}),[i,t,r]),l=(d,h)=>(h.getTime()-d.getTime())/(365.2425*24*60*60*1e3),u=d=>d<1?1+d:d;return _.useMemo(()=>{const d=kp(a,o.month,i.dir,n,i.birthPlace?.lon??127.5),h={at:a,gz:d.natalMonthPillar},p=d.events[0]?l(a,d.events[0].at):0,b=u(p);return[h,...d.events].map((y,k)=>{const w=k===0?1:b+(k-1)*10,S=y.at.getFullYear();return{...y,age:w,startYear:S}})},[a,o.month,i.dir,n,i.birthPlace?.lon])}function y1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function qie(e,t){if(!Array.isArray(e)||e.length===0||!y1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!y1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||y1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function Kv(e,t,n,r){const{date:i,rule:a,lon:o}=Jr(),l=_.useMemo(()=>n??i??new Date,[n,i]),u=r?.dstOffsetMinutes??0,d=Tu(e,e?.mingSikType,100,u),h=u!==0?new Date(l.getTime()+u*60*1e3):l,{gz:p}=qie(d,h);return _.useMemo(()=>{try{const b=o??e?.birthPlace?.lon??127.5,y=a??e?.mingSikType??t??"/";return{dae:{gz:p,at:h},se:{gz:lt(h,b),at:h},wol:{gz:St(h,b),at:h},il:{gz:mt(h,y),at:h}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[a,o,e,t,p,h])}const xy=Uo(e=>({useDST:!1,setUseDST:t=>e({useDST:t}),toggleDST:()=>e(t=>({useDST:!t.useDST}))})),Xl=()=>xy(e=>e.useDST?-60:0),gn=["","","",""],KD={month:1},WD=["","","",""],Ep=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],I6=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],VD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Kie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},u2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ie(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Kie[r[1]]??r[1],a=u2[r[2]]??r[2];return`${i}${a}`}return""}const wy=e=>e&&e.length>=1?e[0]:"",Ii=e=>e&&e.length>=2?e[1]:"",IT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],$T=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],BT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],zT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],UT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],FT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],HT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],GT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],YT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],qT=[{pair:["",""],label:""}],KT=new Set(["","","",""]),_y=new Set(["","","",""]),WT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],$6=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function pi(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function tn(e,t){e.includes(t)||e.push(t)}const Wie=e=>[...e].sort((t,n)=>t-n).map(t=>gn[t]).join("X");function Vie(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Zie(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const B6=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Xie(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const z6=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Jie(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function U6(e){for(const t of z6){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Xie(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Jie(e.jijiHyeong),e}function Qie(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function eae(e,t){for(const n of Ep)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function ZD(e,t,n){Qie(e,n)<0&&tn(e,t)}function Wv(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>wy(b)),l=i.map(b=>Ii(b));function u(b,y){if(b===y)return;const k=o[b],w=o[y];if(!k||!w)return;const S=pi(IT,k,w);S&&tn(a.cheonganHap,`#${gn[b]}X${gn[y]}_${S}`);const A=pi($T,k,w);A&&tn(a.cheonganChung,`#${gn[b]}X${gn[y]}_${A}`)}for(let b=0;b<4;b++)for(let y=b+1;y<4;y++)u(b,y);function d(b,y,k,w,S=!0){const A=[],O=[];for(let C=0;C<4;C++)l[C]===b&&A.push(C),l[C]===y&&O.push(C);const j=Vie(A,O);for(const[C,D]of j){const P=`#${gn[C]}X${gn[D]}_${k}`;S?ZD(w,P,k):tn(w,P)}}const h=(b,y)=>{for(const{pair:[k,w],label:S}of b)d(k,w,S,y)};h(BT,a.jijiYukhap),h(zT,a.jijiChung),h(UT,a.jijiPa),h(FT,a.jijiHae),h(HT,a.jijiWonjin),h(GT,a.jijiGwimun);for(const b of Ep){if(!b.members.every(S=>l.includes(S)))continue;const k=[];for(let S=0;S<4;S++)b.members.includes(l[S])&&k.push(S);const w=Wie(k);tn(a.jijiSamhap,`#${w}_${b.name}`)}for(const{pair:[b,y],label:k}of $6)eae(b,y)&&d(b,y,k,a.jijiBanhap,!1);for(const{pair:[b,y],label:k}of YT)d(b,y,k,a.jijiHyeong);for(const{pair:[b,y],label:k}of qT)d(b,y,k,a.jijiHyeong);for(const b of KT){const y=l.map((k,w)=>k===b?w:-1).filter(k=>k>=0);if(!(y.length<2))for(const[k,w]of Zie(y)){const S=`#${gn[k]}X${gn[w]}_${b}`;ZD(a.jijiHyeong,S,`${b}`)}}for(const{pair:[b,y],label:k}of WT)d(b,y,k,a.amhap);if(n)for(let b=0;b<4;b++){const y=i[b]??"";if(y.length<2)continue;const k=`${y[0]}${y[1]}`;_y.has(k)&&tn(a.ganjiAmhap,`#${B6(gn[b])}_${k}`)}const p=U6(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const y=p[b];Array.isArray(y)&&y.length===0&&(p[b]=["#"])}return p}function tae(e,t){for(const n of Ep)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function nae(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Ll(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Ie(e.natal[0]??""),Ie(e.natal[1]??""),Ie(e.natal[2]??""),Ie(e.natal[3]??"")],a=[Ie(e.daewoon??""),Ie(e.sewoon??""),Ie(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Ii(p??"");return u2[b]??b});for(const{pair:[p,b],label:y}of $6){if(!tae(p,b))continue;const k=[],w=[];for(let A=0;A<4;A++)l[A]===p&&k.push(A),l[A]===b&&w.push(A);const S=nae(k,w);for(const[A,O]of S){const j=`#${gn[A]}X${gn[O]}_${y}`;tn(o.jijiBanhap,j)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const y=`${b[0]}${b[1]}`;_y.has(y)&&tn(o.ganjiAmhap,`#${B6(gn[p])}_${y}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[p,b]of u){if(!b)continue;const y=Ie(b);if(!y||y.length<2)continue;const k=wy(y),w=Ii(y);{const A=`${k}${w}`;_y.has(A)&&tn(o.ganjiAmhap,`#${p}_${A}`)}for(let A=0;A<4;A++){const O=r[A]??"";if(O.length<2)continue;const j=gn[A],C=wy(O),D=Ii(O),P=pi(IT,k,C);P&&tn(o.cheonganHap,`#${p}X${j}_${P}`);const I=pi($T,k,C);I&&tn(o.cheonganChung,`#${p}X${j}_${I}`);const U=pi(BT,w,D);U&&tn(o.jijiYukhap,`#${p}X${j}_${U}`);const K=pi(zT,w,D);K&&tn(o.jijiChung,`#${p}X${j}_${K}`);const q=pi(UT,w,D);q&&tn(o.jijiPa,`#${p}X${j}_${q}`);const F=pi(FT,w,D);F&&tn(o.jijiHae,`#${p}X${j}_${F}`);const z=pi(HT,w,D);z&&tn(o.jijiWonjin,`#${p}X${j}_${z}`);const W=pi(GT,w,D);W&&tn(o.jijiGwimun,`#${p}X${j}_${W}`);const Z=pi(YT,w,D);if(Z)tn(o.jijiHyeong,`#${p}X${j}_${Z}`);else{const Y=pi(qT,w,D);Y?tn(o.jijiHyeong,`#${p}X${j}_${Y}`):w===D&&KT.has(w)&&tn(o.jijiHyeong,`#${p}X${j}_${w}${D}`)}const X=pi(WT,w,D);X&&tn(o.amhap,`#${p}X${j}_${X}`)}for(const A of Ep){if(!A.members.includes(w))continue;const O=A.members.filter(C=>C!==w),j=l.map((C,D)=>({b:C,pos:gn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,D]=j.map(P=>P.pos).sort((P,I)=>gn.indexOf(P)-gn.indexOf(I));tn(o.jijiSamhap,`#${p}X${C}X${D}_(${A.name})`)}}for(const A of VD){if(!A.members.includes(w))continue;const O=A.members.filter(C=>C!==w),j=l.map((C,D)=>({b:C,pos:gn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,D]=j.map(P=>P.pos).sort((P,I)=>gn.indexOf(P)-gn.indexOf(I));tn(o.jijiHyeong,`#${p}X${C}X${D}_${A.name}`),A.name===""&&(d=!0),A.name===""&&(h=!0)}}const S=[...r.map((A,O)=>({b:u2[Ii(A)]??Ii(A),pos:gn[O]}))];for(const A of I6){const O=S.filter(j=>A.members.includes(j.b));if(new Set(O.map(j=>j.b)).size===3){const j=O.map(C=>C.pos).join("X");tn(o.jijiBanghap,`#${j}_(${A.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,k]of b){const w=Ie(k??"");w.length>=2&&p.push({kind:y,b:Ii(w)})}if(p.length>=2){const y=r.map((k,w)=>({pos:gn[w],b:Ii(k)}));for(const k of VD)for(let w=0;w<p.length;w++)for(let S=w+1;S<p.length;S++){const A=p[w],O=p[S];for(const j of y){const C=new Set([j.b,A.b,O.b]);if(C.size===3&&k.members.every(D=>C.has(D))){const D=[A.kind,O.kind].sort((I,U)=>WD.indexOf(I)-WD.indexOf(U)).join("X"),P=`${j.pos}X${D}`;tn(o.jijiHyeong,`#${P}_${k.name}`),k.name===""&&(d=!0),k.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(d&&/(||)/.test(p)||h&&/(||)/.test(p)))),U6(rae(o))}function rae(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const iae={:"",:"",:"",:"",:""},XD={:"",:"",:"",:"",:""},aae={:"",:"",:"",:"",:""},oae={:"",:"",:"",:"",:""},sae={:.15,:.1,:-.15,:-.2,:-.25};function lae(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function cae(e){const t=e.includes(KD.month),n=lae(KD.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function uae(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function dae(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],o=a.map(h=>Ii(h)).filter(Boolean),l=[],u={...t},d=(h,p)=>{const b=[];for(let A=0;A<a.length;A++){const O=Ii(a[A]??"");p.members.includes(O)&&b.push(A)}if(!p.members.every(A=>o.includes(A)))return;const k=cae(b),w=p.out,S=XD[w];uae(u,S,w,k),l.push({type:h,name:p.name,out:p.out,strength:k})};if(i)for(const h of Ep)d("",h);if(r)for(const h of I6)d("",h);return{applied:l,score:u,strengthAdj:sae,shengNext:iae,shengPrev:XD,ke:aae,keInv:oae}}function Sy(e){return gn[e]}function JD(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Ie(e[r]??""),a=wy(i),o=Ii(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Vh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Sy(i)}X${Sy(a)}_${e}`);return r}function fae(e,t){const n=JD(e),r=JD(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of IT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Vh(d,h,p))a(i.,b)}for(const{pair:[l,u],label:d}of $T){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Vh(d,h,p))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of d)for(const b of h){const y=pi(u,p,b);if(!y)continue;const k=n.branchPos.get(p)??[],w=r.branchPos.get(b)??[];for(const S of Vh(y,k,w))a(i[l],S)}};o("",BT),o("",zT),o("",UT),o("",FT),o("",HT),o("",GT),o("",YT),o("",qT);for(const l of KT){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of Vh(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of WT){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!p.length))for(const b of Vh(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const p=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const y of p){const k=Ii(Ie(e[y]??"")),w=`${d}${k}`;if(_y.has(w))for(const S of b){const A=Ii(Ie(t[S]??""));`${h}${A}`===w&&a(i.,`#${Sy(y)}X${Sy(S)}_${w}`)}}}}return i}const F6=new Set(Object.keys(Yn)),H6=new Set(Object.keys(Qn)),hae=e=>e.slice(0,1),mae=e=>e.slice(-1);function _s(e){return Vd.has(e)?e:F6.has(e)?Yn[e]??e:e}function jr(e){return Dm.has(e)?e:H6.has(e)?Qn[e]??e:e}function Ao(e){return _s(hae(e))}function Kt(e){return jr(mae(e))}function pae(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Vd.has(i)||F6.has(i))&&(n=_s(i)),(Dm.has(i)||H6.has(i))&&(r=jr(i));return n&&r?{stem:n,branch:r}:null}function gae(e){return e.map(Kt)}function zg(e,t,n="classic"){const r=Ao(t),i=Kt(t),a=(n==="hgc"?Dv:Mv)[i]??[];return[r,...a].includes(e)}const d2=[["",""],["",""],["",""],["",""],["",""],["",""]],f2=[["",""],["",""],["",""],["",""],["",""],["",""]],bae=new Set(["","","",""]),G6=[["",""],["",""]],yae=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Nm(e,t,n){const r=jr(t),i=jr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function QD(e,t,n){const r=jr(t),i=jr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function ky(e){for(const t of yae)if(t.set.has(e))return t.voids;return null}function h2(e){const t=jr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Xn={2:4,1:3,3:2,0:1},Id={1:4,2:3,0:2,3:1},we={year:0,month:1,day:2,hour:3};function vae(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const gu=e=>e===0?"":e===1?"":e===2?"":"",Tf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",xae=(e,t)=>`#X${gu(t)}_${e}`,Yd=(e,t,n)=>t===we.month&&n===we.day?`#X_${e}`:t===we.year&&n===we.month?`#X_${e}`:t===we.year&&n===we.day?`#X_${e}`:t===we.month&&n===we.hour?`#X_${e}`:t===we.day&&n===we.hour?`#X_${e}`:`#${gu(t)}X${gu(n)}_${e}`,Ug=(e,t)=>`#${gu(t)}_${e}`,Y6=(e,t)=>`#X${gu(t)}_${e}`,wae=(e,t)=>`#(${e==="day"?"":""})X${gu(t)}_`,_d=e=>`#_${e}`,Sd=(e,t)=>`#X${Tf(t)}_${e}`,Zh=(e,t)=>`#X${Tf(t)}_${e}`,v1=(e,t,n)=>`#${gu(n)}X${Tf(t)}_${e}`,_ae=(e,t)=>`#(${t==="day"?"":""})_${Tf(e)}_`,Sae=(e,t)=>`#(${t==="day"?"":""})X${Tf(e)}_`,eP=(e,t)=>`#X${Tf(e)}_${t}`;function m2(e,t){const n=jr(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(Kt(t[i])===n)return{pos:i,weight:Xn[i]??0};return null}function VT(e,t,n){return Kt(t[n])===jr(e)?{pos:n,weight:Xn[n]}:null}function kae(e,t){const n=_s(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(Ao(t[i])===n)return{pos:i,weight:Xn[i]??0};return null}const Eae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>jr(t.trim())).filter(Boolean),mn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[_s(t),Eae(n)])),Tae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),q6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),K6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),W6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Iae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tP=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bae=mn({:"",:"",:"",:"",:""}),zae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nP=mn({:"",:"",:""}),rP=mn({:"",:"",:""}),Uae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),V6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Z6=mn({:"",:"",:"",:"",:"",:"",:""}),Fae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>jr(t.trim())).filter(Boolean),Aa=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[jr(t),(Array.isArray(n)?n:[n]).map(r=>jr(r))])),Vv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[jr(t),Fae(n)])),X6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},J6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Q6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},e7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Hae=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iP=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gae=Vv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yae=Vv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qae=Vv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kae=Vv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wae=Aa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Vae=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zae=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xae=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jae=Aa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),t7=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qae=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eoe=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),toe=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),noe=Aa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[jr(t),(Array.isArray(n)?n:[n]).map(r=>jr(r))])),roe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),n7=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ioe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aoe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ooe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),r7=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),soe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),loe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),coe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uoe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),doe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),i7=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),foe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hoe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),moe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),poe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),goe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),boe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),a7=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yoe=i7,voe=n7,xoe=a7,woe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_oe=r7,Soe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),koe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eoe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function Tp(e,t){e.push(t)}function x1(e,t,n,r,i=0){const a=Id[n]>=Id[r]?n:r;e.push({name:Yd(t,n,r),weight:Xn[a]+i,pos:a})}function Toe(e,t,n,r,i){const a=Kt(e[we.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[we.month]:n==="DAY"?[we.day]:n==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=VT(u,e,d);h&&Tp(i,{name:Yd(r,we.year,d),weight:h.weight,pos:d})}}function Aoe(e,t,n,r){const i=Kt(e[we.month]),a=t[i];if(!a)return;const o=_s(a),l=kae(o,e);l&&Tp(r,{name:Y6(n,l.pos),weight:l.weight,pos:l.pos})}function aP(e,t,n,r,i="ALL"){const a=Kt(e[we.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[we.year]:i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:i==="DAY_HOUR"?[we.day,we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=VT(u,e,d);if(!h)continue;const p=d===we.month?`#_${n}`:Y6(n,d);Tp(r,{name:p,weight:h.weight,pos:d})}}function oP(e,t,n,r){const i=Kt(e[we.month]),a=t[i];if(!a)return;const o=e[we.day];a.includes(o)&&Tp(r,{name:Yd(n,we.month,we.day),weight:Xn[we.day],pos:we.day})}function sP(e,t,n,r,i){const a=Ao(e[we.day]),o=t[a];if(!o)return;const l=i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=VT(u,e,d);h&&Tp(r,{name:xae(n,d),weight:h.weight,pos:d})}}function joe({natal:e,daewoon:t,basis:n}){const r=Ao(e[we.day]),i=Kt(e[we.day]),a=Kt(e[we.month]),o=Kt(e[we.year]),l=gae(e),u=[],d=[],h=[[roe,"MONTH",""],[n7,"DAY",""],[aoe,"MONTH",""],[ooe,"MONTH",""],[soe,"ALL",""],[loe,"HOUR",""],[coe,"ALL",""],[uoe,"ALL",""],[doe,"ALL",""],[i7,"ALL",""],[foe,"ALL",""],[hoe,"ALL",""],[moe,"ALL",""],[poe,"ALL",""],[goe,"ALL",""],[boe,"ALL",""],[a7,"ALL",""],[yoe,"ALL",""],[voe,"ALL",""],[xoe,"ALL",""],[woe,"ALL",""],[_oe,"ALL",""],[Soe,"ALL",""],[koe,"ALL",""],[Eoe,"ALL",""]];for(const[C,D,P]of h)Toe(e,C,D,P,d);const p=[[X6,""],[J6,""],[Q6,""],[e7,""]];for(const[C,D]of p)Aoe(e,C,D,u);const b=[[Hae,"","ALL"],[iP,"","YEAR"],[iP,"","DAY"],[Wae,"","ALL"],[Vae,"","ALL"],[Zae,"","ALL"],[Xae,"","ALL"],[Jae,"","ALL"]];for(const[C,D,P]of b)aP(e,C,D,d,P);const y=[[t7,"","ALL"],[Qae,"","DAY_HOUR"],[eoe,"","DAY_HOUR"],[toe,"","ALL"],[noe,"","ALL"]];for(const[C,D,P]of y)aP(e,C,D,u,P);const k=[[Gae,""],[Kae,""]];for(const[C,D]of k)oP(e,C,D,u);const w=[[Yae,""],[qae,""]];for(const[C,D]of w)oP(e,C,D,d);const S=[[Tae,"","ALL"],[q6,"","ALL"],[Aae,"","ALL"],[jae,"","ALL"],[Nae,"","ALL"],[Oae,"","ALL"],[Cae,"","ALL"],[K6,"","ALL"],[Mae,"","ALL"],[Dae,"","ALL"],[Pae,"","ALL"],[Rae,"","ALL"],[Lae,"","ALL"],[Uae,"","ALL"]];for(const[C,D,P]of S)sP(e,C,D,u,P);const A=[[W6,"","ALL"],[Iae,"","ALL"],[$ae,"","ALL"],[tP,"","DAY"],[tP,"","HOUR"],[nP,"","DAY"],[nP,"","HOUR"],[rP,"","DAY"],[rP,"","HOUR"],[Bae,"","DAY"],[zae,"","ALL"],[V6,"","ALL"]];for(const[C,D,P]of A)sP(e,C,D,d,P);if(new Set(["","","",""]).has(e[we.day])){d.push({name:_d(""),weight:Xn[we.day],pos:we.day});for(const D of[we.year,we.month,we.hour])e[D]===e[we.day]&&d.push({name:Ug("",D),weight:Xn[D],pos:D})}{const C=Z6[r];if(C)for(const D of[we.year,we.month,we.day,we.hour]){const P=Ao(e[D]),I=Kt(e[D]);P===r&&C.includes(I)&&d.push({name:Ug("",D),weight:Xn[D],pos:D})}}for(const[C,D]of G6){const P=m2(C,e),I=m2(D,e);P&&I&&x1(d,"",P.pos,I.pos)}{const C=new Set(["",""]),D=new Set(["","","",""]);for(let P=0;P<=3;P++){const I=Ao(e[P]),U=Kt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Ug("",P),weight:Xn[P],pos:P})}}{const C=e[we.hour],D=(I,U)=>I.includes(r)&&U.includes(C);(D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""]))&&d.push({name:_d(""),weight:Xn[we.hour],pos:we.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:_d(""),weight:Xn[we.day],pos:we.day});{const C=e[we.day],D=e[we.hour];(C===""&&D===""||C===""&&D==="")&&d.push({name:Yd("",we.day,we.hour),weight:Xn[we.hour],pos:we.hour})}{const C=Kt(e[we.year]),D=new Set(l.slice(1)),P=(U,K)=>U.every(q=>D.has(q))&&C===K;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:_d(""),weight:Xn[we.day],pos:we.day})}(e[we.day]===""||e[we.day]==="")&&u.push({name:_d(""),weight:Xn[we.day],pos:we.day});{const D={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];D&&e.some(I=>Kt(I)===D.rok)&&Ao(e[we.hour])===D.maStem&&u.push({name:Yd("",we.day,we.hour),weight:Xn[we.hour],pos:we.hour})}{const C=Kt(e[we.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const I=i===P.rok,U=C===P.ma,K=zg(P.rokStem,e[we.day],"classic")||zg(P.rokStem,e[we.hour],"classic"),q=zg(P.maStem,e[we.day],"classic")||zg(P.maStem,e[we.hour],"classic");I&&U&&(K||q)&&u.push({name:Yd("",we.day,we.hour),weight:Xn[we.hour],pos:we.hour})}}{const C=new Set(["","","","","",""]),D=e.map(Ao),P=e.map(Kt),I=D.concat(P).filter(F=>C.has(F)).length,U=t?Ao(t):"",K=t?Kt(t):"",q=C.has(U)||C.has(K);(I>=4||I===3&&q)&&d.push({name:_d(""),weight:Xn[we.day],pos:we.day})}{const C=new Set(["",""]),D=new Set(["",""]);for(let P=0;P<=3;P++){const I=Ao(e[P]),U=Kt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Ug("",P),weight:Xn[P],pos:P})}}{const C=[[we.year,we.month],[we.year,we.day],[we.month,we.day],[we.month,we.hour],[we.day,we.hour]];for(const[D,P]of C){const I=Kt(e[D]),U=Kt(e[P]);if(Nm(d2,I,U)){const K=QD(d2,I,U);x1(d,`${K}`,D,P)}}}{const C=[[we.year,we.month,0],[we.month,we.day,1],[we.month,we.hour,0],[we.day,we.hour,0]];for(const[D,P,I]of C){const U=Kt(e[D]),K=Kt(e[P]);if(Nm(f2,U,K)){const q=QD(f2,U,K),F=(I?1:0)+(bae.has(U+K)?1:0);x1(d,`${q}`,D,P,F)}}}const O=ky(e[we.day]),j=ky(e[we.year]);{const C=(n?.voidBasis??"day")==="day"?O:j;if(C){const[D,P]=C.map(jr);for(const I of[we.year,we.month,we.day,we.hour]){const U=Kt(e[I]);(U===D||U===P)&&d.push({name:wae(n?.voidBasis??"day",I),weight:Xn[I],pos:I})}}}return{goodPos:u,badPos:d,dayVoid:O,yearVoid:j,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function Fg({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const p=[],b=[],y=(O,j)=>{O.includes(j)||O.push(j)},k=pae(t??null);if(!k)return{good:p,bad:b};const w=k.branch,S=k.stem;_s(X6[a]??"")===S&&y(p,Zh("",e)),_s(J6[a]??"")===S&&y(p,Zh("",e)),_s(Q6[a]??"")===S&&y(p,Zh("",e)),_s(e7[a]??"")===S&&y(p,Zh("",e)),t7[a]?.includes(w)&&y(p,Zh("",e)),q6[r]?.includes(w)&&y(p,Sd("",e)),K6[r]?.includes(w)&&y(p,Sd("",e)),W6[r]?.includes(w)&&y(b,Sd("",e)),V6[r]?.includes(w)&&y(b,Sd("",e)),Z6[r]?.includes(w)&&y(b,Sd("",e)),e==="se"&&(ioe[o]?.includes(w)&&y(b,eP(e,"")),r7[o]?.includes(w)&&y(b,eP(e,"")));for(const O of l)if(Nm(G6,w,O)){const j=m2(O,n)?.pos;j!==void 0&&y(b,v1("",e,j));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&y(b,Sd("",e));const A=(h?.voidBasis??"day")==="day"?u:d;A&&(w===A[0]||w===A[1])&&y(b,_ae(e,h?.voidBasis??"day"));for(let O=0;O<=3;O++){const j=Kt(n[O]);Nm(d2,w,j)&&y(b,v1("",e,O)),Nm(f2,w,j)&&y(b,v1("",e,O))}if(e==="se"){const O=(h?.samjaeBasis??"day")==="day"?i:o,j=O?h2(O):null;j&&j.includes(w)&&y(b,Sae(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const Noe=/^#(|||)X\1_/,Ooe=e=>Noe.test(e);function lP(e){const t=new Map;for(const n of e){if(Ooe(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Coe(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Moe=new Set(["",""]);function Doe(e){return Moe.has(e)?!0:e.endsWith("")||e.endsWith("")}function cP(e){const t=new Map;for(const r of e){const i=Coe(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Doe(r))n.push(...i);else{const a=i.sort((o,l)=>Id[o.pos]!==Id[l.pos]?Id[l.pos]-Id[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function uP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=vae;for(const i of e)n[r(i.pos)].push(i.name);return n}function tf({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k}=joe({natal:e,daewoon:t,basis:a}),w=cP(lP(o)),S=cP(lP(l)),A=uP(w),O=uP(S),j=Fg({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),C=Fg({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),D=Fg({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),P=Fg({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a});return{good:{...A,dae:j.good,se:C.good,wolun:D.good,ilun:P.good},bad:{...O,dae:j.bad,se:C.bad,wolun:D.bad,ilun:P.bad},meta:{voidPair:{day:ky(e[we.day])??void 0,year:ky(e[we.year])??void 0},samjaeYears:{day:h2(Kt(e[we.day]))??void 0,year:h2(Kt(e[we.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Poe(e){return typeof e=="object"&&e!==null}function Af(e){const t=O6;return Poe(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const dP=["","","","","","","","","",""],Roe=["","","","","","","","","","","",""],Loe=["","","","","","","","","","","",""];function Ioe(e){const t=Pv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function $oe(e,t){const n=Ioe(e);return(t?Loe:Roe).map((i,a)=>`${dP[(n+a)%10]??dP[0]}${i}`)}function Om(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function fP(e){return e<10?`0${e}`:`${e}`}function p2(e){return`${fP(e.getHours())}:${fP(e.getMinutes())}`}function ZT(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function hP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||ZT(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Boe(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":p2(i)}const mP=["","/",""],zoe="/";function o7(e,t){return e&&mP.includes(e)?e:t&&mP.includes(t)?t:zoe}function pP(e){return e===""}function Uoe(e){return e===""?"":""}function Foe(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Hoe=e=>e instanceof Date&&!Number.isNaN(e.getTime());function g2(e,t){const n=ZT(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Wi(r,i,a);r=j.getFullYear(),i=j.getMonth()+1,a=j.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,p=Hoe(e.corrected);let b;p?b=e.corrected:d?b=u:b=wp(u,h,n);const y=t?new Date(b.getTime()-3600*1e3):b,k=o7(e.mingSikType),w=lt(y,h),S=St(y,h),A=mt(y,k),O=n?null:Ja(y,k);return{corrected:y,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:S.charAt(0),branch:S.charAt(1)},day:{stem:A.charAt(0),branch:A.charAt(1)},hour:O?{stem:O.charAt(0),branch:O.charAt(1)}:null}}const Goe=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Yoe=(()=>{const e={};for(const t of Goe){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),qoe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Koe(e,t){const n=`${Pv(e)}${nT(t)}`;return Yoe[n]??null}function Woe(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Voe(e){switch(qoe[nT(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Zoe({stem:e,branch:t}){const n=Koe(e,t);if(!n)return null;const r=Woe(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function gP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=vn(),o=qi(e,t,a),l=xi(e,t,n),u=Qa(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function s7({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:y="regular",highlightedStem:k=!1,highlightedBranch:w=!1}){const S=y==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",A=y==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${S} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${A} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:wa(n,{stem:t.stem})}),g.jsx(gP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:k}),g.jsx(gP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),g.jsx(FB,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(Zoe,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Xoe=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Joe({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:y,seGz:k,wolGz:w,highlightMap:S={}}){const A=t?"regular":"compact",O=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",j="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",D=t?`grid gap-2 p-3 ${O}`:`grid gap-1 p-0 ${O}`;return g.jsxs("div",{className:j,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:D,children:e.map(P=>{const I=Xoe(P,y,k,w),U=S[P.key]??{stem:!1,branch:!1};return g.jsx(s7,{title:P.label,data:I,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:A,highlightedStem:U.stem,highlightedBranch:U.branch},P.key)})})})]})}function Qoe({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:y={}}){const k=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",S=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:w,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:S,children:e.map(A=>{const O=y[A.key]??{stem:!1,branch:!1};return g.jsx(s7,{title:A.label,data:A.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:k,highlightedStem:O.stem,highlightedBranch:O.branch},A.key)})})})]})}function ese({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),l=a.charAt(1),u=r?.stem===o&&r?.branch===l;return g.jsx("button",{onClick:()=>i(o,l),className:`p-2 text-xs rounded border cursor-pointer ${u?Voe(l):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function tse(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Xh={:{title:"()",kind:"",oneLine:"     .",bullets:["  ,   ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   :   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"+     ."},:{title:"()",kind:"",oneLine:"///   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"  ,    ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"      :    ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" .       ."},:{title:"()",kind:"",oneLine:" .     ."},:{title:"()",kind:"",oneLine:"  .      ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /,   ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"/  :    ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" :    ,  /  ."}};function nse(e){const t=tse(e),n=Xh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Xh[r])return Xh[r]}else{const r=`${t}`;if(Xh[r])return Xh[r]}return{title:t||"",kind:"",oneLine:" "}}function rse(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function _o({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=b2(n,Ey),u=b2(r,Ey),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(bP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(bP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function bP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=b2(e,Ey);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(ise,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function ise({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=nse(e),o=a?rse(a):"",l=Ey(e),u=_.useRef(null),d=_.useRef(null),[h,p]=_.useState("center");return _.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const y=b.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),S=y.left,A=window.innerWidth-y.right;A<w/2&&S>A?p("right"):S<w/2&&A>S?p("left"):p("center")},[i]),_.useLayoutEffect(()=>{if(!i)return;const b=y=>{const k=y.target;!u.current||k&&u.current.contains(k)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Ey(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function b2(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function ase({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:d}){const[h,p]=_.useState(!0),[b,y]=_.useState(!0),[k,w]=_.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>p(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",h?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"border-t desk:border-0 border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(So,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(So,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(So,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(So,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(So,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(So,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(So,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(So,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(So,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(So,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>y(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",b?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),yP(u)||yP(d)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(_o,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol"),t>=2&&g.jsx(_o,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=1&&g.jsx(_o,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae")]:[t>=1&&g.jsx(_o,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae"),t>=2&&g.jsx(_o,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=3&&g.jsx(_o,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(_o,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:d.natal.hour,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(_o,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:d.natal.day,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(_o,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:d.natal.month,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(_o,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:d.natal.year,isDesktop:e,openTagKey:k,setOpenTagKey:w})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function So({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:ose(i)},i)})})]})}function ose(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function yP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function vP(e){return String(e).padStart(2,"0")}function sse(e,t,n){if(!e||e.length<8)return hP(e,t);const r=hP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Wi(i,a,o);return` ${`${l.getFullYear()}.${vP(l.getMonth()+1)}.${vP(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function lse({data:e,hourTable:t}){const{date:n,setDstOffsetMinutes:r}=Jr(),i=vn(Ne=>Ne.settings),a=i.showNabeum??!0,o=i.showRelationBox??!0,l=i.showEtcShinsal??!0,u=o7(e.mingSikType,t),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:h,solarM:p,solarD:b}=_.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),De=Number(e.birthDay?.slice(4,6)??1),Be=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const st=Wi(Ne,De,Be);Ne=st.getFullYear(),De=st.getMonth()+1,Be=st.getDate()}return{solarY:Ne,solarM:De,solarD:Be}},[e.birthDay,e.calendarType]),y=xy(Ne=>Ne.useDST),k=xy(Ne=>Ne.setUseDST);_.useEffect(()=>{h&&p&&b&&k(Gm(h,p,b))},[h,p,b,k]),_.useEffect(()=>{r(y?-60:0)},[y,r]);const w=ZT(e.birthTime),[S,A]=_.useState(()=>g2(e,y));_.useEffect(()=>{A(g2(e,y))},[e,y]);const O=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,j=S.day.stem,[C,D]=_.useState(null),[P,I]=_.useState(()=>pP(e.mingSikType));_.useEffect(()=>{D(null),I(pP(e.mingSikType))},[O,e.mingSikType]),_.useEffect(()=>{_e(null)},[O]);const U=_.useMemo(()=>$oe(j,P),[P,j]),K=C??S.hour,q=bp(Ne=>Ne.setManualHour),F=(Ne,De)=>{const Be={stem:Ne,branch:De};D(Be),q(Be)},z=Uoe(i.sinsalBase)===""?S.day.branch:S.year.branch,W=Ne=>i.showSibiUnseong?Fo(j,Ne):null,Z=Ne=>i.showSibiSinsal?Ho({baseBranch:z,targetBranch:Ne,era:Af(i.sinsalMode),gaehwa:i.sinsalBloom}):null,X=y?-60:0,Y=Yie(e,u,X),J=Tie({query:"(min-width: 992px)"}),ee=i.hiddenStem==="regular"?"main":"all",le=Foe(i.exposure),oe=le===0?[]:Y.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=le),B=Gm(h,p,b),V=()=>k(!y),ne=_.useMemo(()=>{const Ne=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(Ne.getTime())?S.corrected:Ne},[e.corrected,S.corrected]),se=_.useMemo(()=>ne&&(B&&y?new Date(ne.getTime()-3600*1e3):ne),[ne,B,y]),fe=_.useMemo(()=>{const Ne=B&&y?"":e.correctedLocal;return Boe(Ne,se??new Date,w)},[e.correctedLocal,se,w,B,y]),be=Kv(e,t,n,{dstOffsetMinutes:X}),ye=be.dae.gz,Te=be.se.gz,re=be.wol.gz,[ke,_e]=_.useState(null),ae=_.useMemo(()=>{const Ne=Oe=>Oe?.stem&&Oe?.branch?`${Oe.stem}${Oe.branch}`:"",De=[Ne(S.year),Ne(S.month),Ne(S.day),Ne(K)],Be=Ll({natal:[...De],daewoon:le>=1?ye??void 0:void 0,sewoon:le>=2?Te??void 0:void 0,wolwoon:le>=3?re??void 0:void 0}),st=Wv([...De],{fillNone:!1}),ce={...Be};for(const Oe of z6)ce[Oe]=Array.from(new Set([...ce[Oe]??[],...st[Oe]??[]]));return ce},[S,K,ye,Te,re,le]),Ue=_.useMemo(()=>{const Ne=[...ae.cheonganHap,...ae.cheonganChung,...ae.jijiSamhap,...ae.jijiBanhap,...ae.jijiBanghap,...ae.jijiYukhap,...ae.jijiChung,...ae.jijiHyeong,...ae.jijiPa,...ae.jijiHae,...ae.amhap,...ae.ganjiAmhap].filter(De=>De&&De!=="#");return Array.from(new Set(Ne))},[ae]),Fe=_.useMemo(()=>{const Ne=(Be,st)=>{Be.includes(st)||Be.push(st)},De={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Be of Ue){const ce=(Be.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);ce.includes("")&&Ne(De.luck.wol,Be),ce.includes("")&&Ne(De.luck.se,Be),ce.includes("")&&Ne(De.luck.dae,Be),ce.includes("")&&Ne(De.natal.hour,Be),ce.includes("")&&Ne(De.natal.day,Be),ce.includes("")&&Ne(De.natal.month,Be),ce.includes("")&&Ne(De.natal.year,Be)}return De},[Ue]),Ce=_.useMemo(()=>{const Ne=st=>st?.stem&&st?.branch?`${st.stem}${st.branch}`:"",De=tf({natal:[Ne(S.year),Ne(S.month),Ne(S.day),Ne(K)],daewoon:le>=1?ye??void 0:void 0,sewoon:le>=2?Te??void 0:void 0,wolwoon:le>=3?re??void 0:void 0}),Be=st=>Array.from(new Set(st.filter(ce=>ce&&ce!=="#")));return{good:{natal:{hour:Be(De.good.si??[]),day:Be(De.good.il??[]),month:Be(De.good.wol??[]),year:Be(De.good.yeon??[])},luck:{dae:Be(De.good.dae??[]),se:Be(De.good.se??[]),wol:Be(De.good.wolun??[])}},bad:{natal:{hour:Be(De.bad.si??[]),day:Be(De.bad.il??[]),month:Be(De.bad.wol??[]),year:Be(De.bad.yeon??[])},luck:{dae:Be(De.bad.dae??[]),se:Be(De.bad.se??[]),wol:Be(De.bad.wolun??[])}}}},[S,K,ye,Te,re,le]),Pe=_.useMemo(()=>{const Ne={},De=(Be,st)=>{for(const ce of Be)Ne[ce]=st};return De(ae.cheonganHap,"stem"),De(ae.cheonganChung,"stem"),De(ae.jijiSamhap,"branch"),De(ae.jijiBanhap,"branch"),De(ae.jijiBanghap,"branch"),De(ae.jijiYukhap,"branch"),De(ae.jijiChung,"branch"),De(ae.jijiHyeong,"branch"),De(ae.jijiPa,"branch"),De(ae.jijiHae,"branch"),De(ae.amhap,"branch"),De(ae.ganjiAmhap,"both"),Ne},[ae]),Ge=_.useMemo(()=>{if(!ke)return{};const Ne=Pe[ke]??"branch",Be=(ke.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),st={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},ce={};for(const Oe of Be){const ze=st[Oe];if(!ze)continue;const it=ce[ze]??{stem:!1,branch:!1};Ne==="stem"?it.stem=!0:(Ne==="branch"||(it.stem=!0),it.branch=!0),ce[ze]=it}return ce},[ke,Pe]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),B&&g.jsxs("button",{onClick:V,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[sse(e.birthDay,e.birthTime,e.calendarType)," : ",fe]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",d.toFixed(2),"  ",u," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${oe.length===0?"grid-cols-1":oe.length===1?"grid-cols-[2fr_8fr]":oe.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[oe.length>0&&g.jsx(Joe,{cards:oe,isDesktop:J,dayStem:j,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ee,hiddenStemMode:i.hiddenStemMode,calcUnseong:W,calcShinsal:Z,daeGz:ye,seGz:Te,wolGz:re,highlightMap:Ge}),g.jsx(Qoe,{isDesktop:J,dayStem:j,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ee,hiddenStemMode:i.hiddenStemMode,calcUnseong:W,calcShinsal:Z,highlightMap:Ge,pillars:[{key:"hour",label:"",data:K},{key:"day",label:"",data:S.day},{key:"month",label:"",data:S.month},{key:"year",label:"",data:S.year}]})]}),g.jsx(ase,{isDesktop:J,exposureLevel:le,relationChips:Ue,relationByPillar:Fe,activeRelationTag:ke,onToggleRelationTag:_e,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),w&&g.jsx(ese,{hourCandidates:U,useInsi:P,onToggleRule:()=>I(Ne=>!Ne),manualHour:C,onSelectHour:F})]})}function Zv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}function cse({data:e}){const t=Xl(),n=Tu(e,e.mingSikType,100,t),r=_.useMemo(()=>{const P=Ef(e);return Gl(P,t)},[e,t]),i=_.useMemo(()=>{const P=e.mingSikType??"/";return mt(r,P).charAt(0)},[r,e.mingSikType]),{date:a,setFromEvent:o}=Jr(),l=_.useMemo(()=>Zv(n,a),[n,a]),u=vn(P=>P.settings),{charType:d,thinEum:h,showSipSin:p,showSibiUnseong:b,showSibiSinsal:y,sinsalBase:k,sinsalMode:w,sinsalBloom:S}=u,A=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,O=e.mingSikType??"/",j=k===""?mt(r,O).charAt(1):lt(r,A).charAt(1),C=P=>b?Fo(i,P):null,D=P=>y?Ho({baseBranch:j,targetBranch:P,era:Af(w),gaehwa:!!S}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:n.map((P,I)=>{const U=P.gz.charAt(0),K=P.gz.charAt(1),q=use(P.age),F=I===l,z=xi(U,"stem",d),W=xi(K,"branch",d),Z=Qa(U,"stem"),X=Qa(K,"branch"),Y=h&&Z?"font-thin":"font-bold",J=h&&X?"font-thin":"font-bold",ee=C(K),le=D(K);return g.jsxs("div",{onClick:()=>o(P,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${F?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${P.gz}  ${P.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[p&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(i,{stem:U})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${qi(U,"stem",u)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Y}`,children:z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${qi(K,"branch",u)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:W})}),p&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(i,{branch:K})}),(b||y)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[b&&g.jsx("div",{children:ee}),y&&g.jsx("div",{children:le})]})]})]},`${P.gz}-${I}`)})})]})}function use(e){return e>=2?String(Math.floor(e)):Number.isInteger(e)?String(e):e.toFixed(4).replace(/\.?0+$/,"")}function Xv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}const dse=!1,xP=e=>e<10?`0${e}`:`${e}`;function XT(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=Wi(i,a,o,0,0),h=`${d.getFullYear()}${xP(d.getMonth()+1)}${xP(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function w1(e){return new Date(e,6,2,12,0,0,0)}function fse(e,t){return t-e+1}function hse({data:e,list:t,onSelect:n}){const r=vn(U=>U.settings),{date:i,setFromEvent:a}=Jr(),o=Xl(),[l,u]=_.useState(()=>t);_.useEffect(()=>{t&&t.length>0&&u(t)},[t]);const d=Gl(e,o),h=_.useMemo(()=>Xv(e,d),[e,d]),p=_.useMemo(()=>h.getFullYear(),[h]),b=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,y=_.useMemo(()=>{if(!i)return[];const U=i.getFullYear(),K=w1(U),q=lt(K,b);return[{at:K,gz:q}]},[i,b]),k=t.length>0?t:l.length>0?l:y,w=_.useMemo(()=>[...k].sort((U,K)=>U.at.getTime()-K.at.getTime()),[k]),S=_.useMemo(()=>{if(w.length===0)return 0;const U=Zv(w,i);return U<0?0:U>=w.length?w.length-1:U},[w,i]),[A,O]=_.useState(null);_.useEffect(()=>{O(null)},[i,w]);const j=A??S,C=_.useMemo(()=>{const U=XT(e);return Gl(U,o)},[e,o]),D=e.mingSikType??"/",P=_.useMemo(()=>mt(C,D).charAt(0),[C,D]),I=_.useMemo(()=>r.sinsalBase===""?mt(h,D).charAt(1):lt(h,b).charAt(1),[h,D,b,r.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((U,K)=>{const q=U.at.getFullYear(),F=w1(q),z=lt(F,b),W=z.charAt(0),Z=z.charAt(1),X=K===j,Y=xi(W,"stem",r.charType),J=xi(Z,"branch",r.charType),ee=Qa(W,"stem"),le=Qa(Z,"branch"),oe=r.thinEum&&ee?"font-thin":"font-bold",B=r.thinEum&&le?"font-thin":"font-bold",V=r.showSibiUnseong?Fo(P,Z):null,ne=r.showSibiSinsal?Ho({baseBranch:I,targetBranch:Z,era:Af(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,se=fse(p,q);return g.jsxs("div",{onClick:()=>{O(K);const fe=w1(q),be=lt(fe,b);a({at:fe,gz:be},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(q)):Promise.resolve().then(()=>n(q)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${X?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${z}  ${U.at.toLocaleDateString()}  ${se}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[se,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(P,{stem:W})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${qi(W,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${oe}`,children:Y})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${qi(Z,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${B}`,children:J})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(P,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&V&&g.jsx("div",{children:V}),r.showSibiSinsal&&ne&&g.jsx("div",{children:ne})]})]})]},`${q}-${U.gz||K}`)})})]})}const mse=new Set(["","","","","","","","","","","",""]);function pse(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...wi(new Date(n-1,5,15,12,0))??[],...wi(new Date(n,5,15,12,0))??[],...wi(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>mse.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const gse=new Set(["","","","","","","","","","","",""]);function bse(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function yse(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function _1(e){return new Date(e,5,15,12,0,0,0)}function vse(e){const n=[...wi(_1(e-1))??[],...wi(_1(e))??[],...wi(_1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>gse.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=bse(d);o.push({name:u.name,termAt:d,at00:h})}return o}function xse({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=vn(A=>A.settings),a=Xl(),o=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,l=Gl(e,a),u=_.useMemo(()=>Xv(e,l),[e,l]),d=_.useMemo(()=>{const A=XT(e);return Gl(A,a)},[e,a]),h=e.mingSikType??"/",p=_.useMemo(()=>mt(d,h).charAt(0),[d,h]),b=i.sinsalBase===""?mt(u,h).charAt(1):lt(u,o).charAt(1),y=_.useMemo(()=>t?vse(t).map(O=>{const j=O.termAt,C=new Date(O.termAt.getTime()+1860*1e3),D=St(C,o);return{at:j,gz:D,term:O.name,termAt:O.termAt}}):[],[t,o]),{date:k,setFromEvent:w}=Jr(),S=Zv(y,k);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:y.map((A,O)=>{const j=A.gz.charAt(0),C=A.gz.charAt(1),D=`${yse(A.at)}`,P=O===S,I=xi(j,"stem",i.charType),U=xi(C,"branch",i.charType),K=Qa(j,"stem"),q=Qa(C,"branch"),F=i.thinEum&&K?"font-thin":"font-bold",z=i.thinEum&&q?"font-thin":"font-bold",W=i.showSibiUnseong?Fo(p,C):null,Z=i.showSibiSinsal?Ho({baseBranch:b,targetBranch:C,era:Af(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(A.at);const X=new Date(A.at),{start:Y}=pse(X);n?.(Y.getFullYear(),Y.getMonth()),w({at:X,gz:St(X,o)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${P?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A.term}   ${A.gz}  ${A.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:D}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(p,{stem:j})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${qi(j,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${F}`,children:I})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${qi(C,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${z}`,children:U})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(p,{branch:C})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&W&&g.jsx("div",{children:W}),i.showSibiSinsal&&Z&&g.jsx("div",{children:Z})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:A.term})]})]},`${A.term}-${A.at.toISOString()}`)})})]})}function wse(){const e=vn(r=>r.settings),{date:t,setFromEvent:n}=Jr();return{settings:e,pickedDate:t,setFromEvent:n}}const _se=(e,t)=>new Date(e,t,15,12,0,0,0),y2=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},Sse=new Set(["","","","","","","","","","","",""]),l7=e=>[...wi(new Date(e-1,5,15,12,0))??[],...wi(new Date(e,5,15,12,0))??[],...wi(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),kse=e=>{const t=l7(e.getFullYear()),n=t.filter(o=>Sse.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},Ese=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function Tse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i=0,settings:a,pickedDate:o}){const l=a.ilunRule||"/",u=e.mingSikType??"/",d=_.useMemo(()=>{const q=XT(e);return Gl(q,i)},[e,i]),h=_.useMemo(()=>d?mt(d,u).charAt(0):void 0,[d,u]),p=_.useMemo(()=>e?Gl(e,i):null,[e,i]),b=_.useMemo(()=>e&&p?Xv(e,p):null,[e,p]),y=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,k=e&&b?a.sinsalBase===""?mt(b,u).charAt(1):lt(b,y).charAt(1):null,w=_.useMemo(()=>_se(t,n),[t,n]),S=_.useMemo(()=>o?y2(new Date(o)):null,[o]),A=_.useMemo(()=>r?y2(r):null,[r]),O=_.useMemo(()=>S??A??w,[S,A,w]),{start:j,end:C,cur:D,next:P}=_.useMemo(()=>kse(O),[O]),I=_.useMemo(()=>{const q=[],F=new Date(j);for(;F<C;)q.push(new Date(F)),F.setDate(F.getDate()+1);return q},[j,C]),U=_.useMemo(()=>{const q=l7(O.getFullYear()),F=q.filter(W=>W.date>=j&&W.date<C),z=q.find(W=>W.date>=C);return z?[...F,z]:F},[O,j,C]),K=_.useMemo(()=>{const q=[];let F=[];const z=new Date(j).getDay();for(let W=0;W<z;W+=1)F.push(null);for(const W of I)F.length===7&&(q.push(F),F=[]),F.push(W);for(;F.length<7;)F.push(null);return q.push(F),q},[I,j]);return{rule:l,dayStem:h,baseBranch:k,pickerNoon:S,termMarks:U,weeks:K,cur:D??null,next:P??null}}function Ase({setFromEvent:e}){return{handleDayClick:_.useCallback(n=>{e({at:n},"")},[e])}}function jse({data:e,year:t,month:n,selectedMonth:r}){const i=Xl(),a=wse(),o=Tse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i,settings:a.settings,pickedDate:a.pickedDate}),l=Ase({setFromEvent:a.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[o.cur?.name?g.jsxs(g.Fragment,{children:[o.cur.name," "," ~ ",o.next?.name??""]}):`${t} ${n}`,o.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",o.termMarks.map((u,d)=>g.jsxs("span",{children:[u.name," ",Ese(u.date),d<o.termMarks.length-1?"  ":""]},`${u.name}_${u.date.getTime()}_${d}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(u=>g.jsx("div",{className:"py-1",children:u},u))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:o.weeks.map((u,d)=>u.map((h,p)=>{if(!h)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${d}-${p}`);const b=y2(h),y=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),k=new Date,w=b.getFullYear()===k.getFullYear()&&b.getMonth()===k.getMonth()&&b.getDate()===k.getDate(),A=!!o.pickerNoon&&b.getFullYear()===o.pickerNoon.getFullYear()&&b.getMonth()===o.pickerNoon.getMonth()&&b.getDate()===o.pickerNoon.getDate()||!o.pickerNoon&&w,O=i!==0?new Date(y.getTime()+i*60*1e3):y,j=BK(O,o.rule),C=j.charAt(0),D=j.charAt(1),P=xi(C,"stem",a.settings.charType),I=xi(D,"branch",a.settings.charType),U=a.settings.thinEum&&Qa(C,"stem")?"font-thin":"font-bold",K=a.settings.thinEum&&Qa(D,"branch")?"font-thin":"font-bold",q=!!o.dayStem&&a.settings.showSipSin,F=!!o.dayStem&&a.settings.showSibiUnseong,z=!!o.dayStem&&o.baseBranch!=null&&a.settings.showSibiSinsal,W=q?wa(o.dayStem,{stem:C}):"",Z=q?wa(o.dayStem,{branch:D}):"",X=F?Fo(o.dayStem,D):"",Y=z?Ho({baseBranch:o.baseBranch,targetBranch:D,era:Af(a.settings.sinsalMode),gaehwa:!!a.settings.sinsalBloom}):"",J=o.termMarks.find(ee=>ee.date.getFullYear()===b.getFullYear()&&ee.date.getMonth()===b.getMonth()&&ee.date.getDate()===b.getDate());return g.jsxs("div",{onClick:()=>l.handleDayClick(y),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${A?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${j} (${b.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:b.getDate()}),J&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:J.name})]}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:W}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${qi(C,"stem",a.settings)}`,children:g.jsx("span",{className:U,children:P})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${qi(D,"branch",a.settings)}`,children:g.jsx("span",{className:K,children:I})}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Z}),(F||z)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[F&&X&&g.jsx("div",{children:X}),z&&Y&&g.jsx("div",{children:Y})]})]},h.toISOString())}))})]})}function wP(e,t){const n=e.startYear??e.at.getFullYear(),r=t?t.startYear??t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=An(a,315),l=lt(new Date(a,1,10));i.push({at:o,gz:l})}return i}function Nse({data:e}){const t=Xl(),n=Tu(e,e.mingSikType,100,t),[r,i]=_.useState(null),[a,o]=_.useState(null),[l,u]=_.useState("il"),[d,h]=_.useState(null);_.useEffect(()=>{if(!n.length)return;const S=new Date,A=n.findIndex((O,j)=>{const C=n[j+1]?.at;return S>=O.at&&(!C||S<C)});A!==-1&&i(A)},[n]);const p=S=>S<=0&&n.length>1?1:S;_.useEffect(()=>{if(r===null)return;const S=p(r),A=n[S],O=n[S+1];if(!A)return;const j=wP(A,O);if(!Array.isArray(j)||j.length===0)return;const C=j.filter(U=>!!U&&U.at instanceof Date&&!Number.isNaN(U.at.getTime()));if(!C.length)return;const D=new Date,P=D.getTime();C.findIndex((U,K)=>{const q=C[K+1]?.at,F=U.at.getTime(),z=q?q.getTime():null;return P>=F&&(z===null||P<z)})!==-1&&o({year:D.getFullYear(),month:D.getMonth()})},[r,n]);const b=Kv(e,void 0,void 0,{dstOffsetMinutes:t}),{date:y}=Jr(),k=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=_.useMemo(()=>{if(!b?.dae?.gz)return[];const S=n.findIndex((D,P)=>{const I=n[P+1]?.at;return b.dae.at>=D.at&&(!I||b.dae.at<I)});if(S===-1)return[];const A=p(S),O=n[A],j=n[A+1],C=wP(O,j);return Array.isArray(C)?C.filter(D=>!!D&&D.at instanceof Date&&!Number.isNaN(D.at.getTime())):[]},[n,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(cse,{data:e}),l==="se"||l==="wol"||l==="il"?g.jsx(hse,{data:e,list:w,onSelect:()=>{u("wol")}}):null,l==="wol"||l==="il"?g.jsx(xse,{data:e,activeYear:k,onSelect:(S,A)=>{o({year:S,month:A}),u("il")},onSelectMonth:h}):null,l==="il"&&a&&g.jsx(jse,{data:e,year:a.year,month:a.month+1,selectedMonth:d})]})}const Ose=new Set(AK),Cse=new Set(jK);function _P(e){return typeof e=="string"&&e.length>=2&&Ose.has(e[0])&&Cse.has(e[1])}function Pi(e,...t){if(_P(e))return e;for(const n of t)if(_P(n))return n;return""}const Mse={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function Hg(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Dse({data:e}){const t=vn(W=>W.settings),{manualHour:n}=bp(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=Jr(),d=Xl(),h=e.mingSikType??"/",p=e.DayChangeRule??(e.mingSikType===""?"":""),b=_.useMemo(()=>Ef(e),[e]),y=_.useMemo(()=>qv(b,{dstOffsetMinutes:d}),[b,d]),k=_.useMemo(()=>LT(b,h,{dstOffsetMinutes:d}),[b,d,h]),w=_.useMemo(()=>Pv(k.day?.charAt(0)??""),[k.day]),S=!e.birthTime||e.birthTime==="",A=_.useMemo(()=>D6(y,k.hour,e.dir??"forward",120),[y,k.hour,e.dir]),O=_.useMemo(()=>R6(A,k.day,e.dir??"forward",p),[A,k.day,e.dir,p]),j=_.useMemo(()=>kp(y,k.month,e.dir??"forward",120,b.birthPlace?.lon??127.5),[y,k.month,e.dir,b.birthPlace?.lon]),C=_.useMemo(()=>L6(j,k.year,e.dir??"forward",p,y),[j,k.year,e.dir,y,p]),D=_.useMemo(()=>{const W=A?.events?.[0];return W?{at:W.at,from:Pi(k.hour),to:Pi(W.gz)}:null},[A?.events,k.hour]),P=_.useMemo(()=>{const W=j?.events?.[0];return j?.firstChange?{at:j.firstChange,from:Pi(k.month),to:Pi(W?.gz??k.month)}:null},[j?.firstChange,j?.events,k.month]),I=_.useMemo(()=>{const W=S?n?n.stem+n.branch:"":Pi(Hg(A.events,u)?.gz,k.hour);let Z;if(S&&n){const X=u.getFullYear(),Y=u.getMonth(),J=u.getDate(),ee=Mse[n.branch]??0,le=new Date(X,Y,J,ee,0),oe=mt(le,h);Z=Pi(oe,k.day)}else Z=Pi(Hg(O.events,u)?.gz,k.day);return{si:W,il:Z,wl:Pi(Hg(j.events,u)?.gz,k.month),yn:Pi(Hg(C.events,u)?.gz,k.year)}},[u,A.events,O.events,j.events,C.events,k,S,n,h]),U=_.useMemo(()=>({si:Pi(Ja(u,h)),il:Pi(mt(u,h)),wl:Pi(St(u)),yn:Pi(lt(u))}),[u,h]),K=_.useMemo(()=>a===""?k.day.charAt(1):k.year.charAt(1),[a,k.day,k.year]),q=_.useMemo(()=>Af(o),[o]),F=W=>{if(!W)return{unseong:"",shinsal:""};const Z=xi(w,"stem",""),X=xi(W.charAt(1),"branch",""),Y=xi(K,"branch","");return{unseong:r&&Fo(Z,X)||"",shinsal:i&&Ho({baseBranch:Y,targetBranch:X,era:q,gaehwa:!!l})||""}},z=(W,Z,X="myoun")=>{const Y=Z,{unseong:J,shinsal:ee}=Z?F(Z):{unseong:"",shinsal:""},le=X==="myoun"&&S&&(W===""||W==="");return g.jsx(Pd,{label:W,gz:Y,dayStem:w,settings:t,unseongText:Z?J:"",shinsalText:Z?ee:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:le},`${X}-${W}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",Om(y),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[z("",I.si,"myoun"),z("",I.il,"myoun"),z("",I.wl,"myoun"),z("",I.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[z("",U.si,"live"),z("",U.il,"live"),z("",U.wl,"live"),z("",U.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",D?`${Om(D.at)} (${D.from}  ${D.to})`:" "]}),g.jsxs("div",{children:[":"," ",P?`${Om(P.at)} (${P.from}  ${P.to})`:" "]})]})]})}const Pse=["","","","","","","","","",""],Rse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Lse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},c7={:"",:"",:"",:"",:""},u7={:"",:"",:"",:"",:""},d7={:"",:"",:"",:"",:""};function Ise(e,t){switch(e){case"":return t;case"":return c7[t];case"":return u7[t];case"":return d7[t];case"":return f7[t];default:return t}}const f7={:"",:"",:"",:"",:""};function $se({data:e,perStemElementScaled:t,dayStem:n,yongshinTop:r,yongshinKind:i,width:a=340,height:o=360}){const l=a/2,u=o/2-20,d=Math.min(a,o)*.33,h=_.useMemo(()=>{const w=(n??"").charAt(0);return Lse[w]??null},[n]),p=_.useMemo(()=>e.map((w,S)=>{const A=Math.PI/2+2*-Math.PI*S/5;return{...w,angle:A,x:l+d*Math.cos(A),y:u-d*Math.sin(A)}}),[e,l,u,d]),b=w=>w?w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":null:null,y=(w,S)=>S===w?"":c7[w]===S?"":u7[w]===S?"":d7[w]===S?"":f7[w]===S?"":"",k=_.useMemo(()=>{if(!e||e.length===0)return null;const w=[...e].sort((P,I)=>I.value-P.value),S=w[0],O=w[w.length-1]?.name??"",j=b(r),C=h&&j?y(h,j):O;return{summary:i==="GYEOKGUK"?`${S.name}   ,    ${S.name}  .`:`${S.name}   ,  ${C}     .`,advice:S.value>45?`${S.name}         .`:"       ."}},[e,h,r,i]);return g.jsxs("div",{className:"w-full flex flex-col items-center p-6 bg-white dark:bg-neutral-900 rounded-[2.5rem] border border-neutral-100 dark:border-neutral-800 shadow-xl tracking-tighter transition-colors",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsxs("h3",{className:"text-lg font-black text-neutral-800 dark:text-neutral-100",children:[n,"  "]})}),g.jsxs("svg",{width:a,height:o,className:"overflow-visible",children:[g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,3.5 L0,7 Z",fill:"#94a3b8",opacity:"0.4"})})}),p.map((w,S)=>{const A=p[(S+2)%5];return g.jsx("line",{x1:w.x,y1:w.y,x2:A.x,y2:A.y,stroke:"currentColor",className:"text-neutral-200 dark:text-neutral-800",strokeWidth:1.5,strokeDasharray:"4 4"},`line-ke-${S}`)}),p.map((w,S)=>{const A=p[(S+1)%5],O=(w.x+A.x)/2,j=(w.y+A.y)/2,C=O-l,D=j-u,P=l+C*1.45,I=u+D*1.45;return g.jsx("path",{d:`M${w.x},${w.y} Q${P},${I} ${A.x},${A.y}`,stroke:"#94a3b8",strokeWidth:2,strokeOpacity:.25,fill:"none",markerEnd:"url(#arrow)"},`path-sheng-${S}`)}),p.map(w=>{const S=w.name,A=h?Ise(S,h):null,O=A?Pse.filter(j=>Rse[j]===A).map(j=>[j,t?.[j]??0]):[];return g.jsxs("g",{transform:`translate(${w.x},${w.y})`,children:[g.jsx("circle",{r:40,fill:w.color,className:"stroke-white/20 dark:stroke-black/20",strokeWidth:1}),g.jsx("circle",{r:40,fill:"black",opacity:.05}),g.jsx("text",{textAnchor:"middle",dy:"-5",fontSize:15,className:"fill-white font-black",children:w.name}),g.jsxs("text",{textAnchor:"middle",dy:"15",fontSize:13,className:"fill-white/90 font-bold",children:[w.value,"%"]}),g.jsx("g",{transform:"translate(0, 48)",children:O.map(([j,C],D)=>{const P=j.charAt(0),I=Math.round(C),U=I===0;return g.jsxs("g",{transform:`translate(${(D===0?-1:1)*25}, 0)`,children:[g.jsx("rect",{x:"-21",y:"0",width:"42",height:"21",rx:"10.5",fill:U?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.3)"}),g.jsxs("text",{textAnchor:"middle",y:"14.5",fontSize:12,className:`font-black ${U?"fill-neutral-400 dark:fill-neutral-500":"fill-white"}`,children:[g.jsx("tspan",{children:P}),g.jsx("tspan",{dx:"1",children:I})]})]},j)})})]},w.name)})]}),k&&g.jsxs("div",{className:"w-full mt-6 space-y-3",children:[g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800 text-center",children:g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold",children:k.summary})}),g.jsx("div",{className:"px-4 py-3 bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl border border-blue-100/30 text-center",children:g.jsxs("p",{className:"text-[11.5px] text-blue-700 dark:text-blue-300 font-bold",children:[" ",k.advice]})})]})]})}const Bse=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function JT(e){return Math.max(0,Math.min(100,e))}function h7(e){const t=JT(e);return Bse.find(r=>t>=r.min&&t<r.max)?.name??""}const zse=[10,20,35,45,55,65,80];function Use({value:e}){const[t,n]=_.useState(!1),r=_.useMemo(()=>JT(e),[e]),i=_.useMemo(()=>h7(r),[r]);_.useEffect(()=>{n(!0)},[]);const a=_.useMemo(()=>r>=80?{tag:"",desc:"      .",advice:"  () ()   ."}:r>=55?{tag:"",desc:"      .",advice:"      ."}:r>=45?{tag:"",desc:"        .",advice:"      ."}:r>=20?{tag:"",desc:"       .",advice:"() ()       ."}:{tag:"",desc:"       .",advice:"        ."},[r]);return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-lg border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-end mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"    "}),g.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-tighter",children:"  "})]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:r.toFixed(0)}),g.jsx("span",{className:"text-xs font-bold text-neutral-500",children:"%"})]})]}),g.jsxs("div",{className:"relative mb-8 pt-4",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-2 px-1",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"translate-x-1",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-3 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 via-emerald-400 via-yellow-400 to-red-500 opacity-80"}),zse.map(o=>g.jsx("div",{className:"absolute top-0 h-3 w-[1.5px] bg-white/30 dark:bg-black/20",style:{left:`${o}%`}},o)),g.jsx("div",{className:"absolute left-1/2 top-0 w-0.5 h-3 bg-white/50 -translate-x-1/2 z-10"}),g.jsx("div",{className:"absolute -top-1.5 h-6 w-3 bg-white dark:bg-neutral-100 rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.3)] border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:t?`${r}%`:"50%",transform:"translateX(-50%)"},children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"w-1 h-2 bg-neutral-300 rounded-full"})})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:`px-3 py-1 rounded-full text-[11px] font-black border-2 ${r>=55?"border-red-500/20 bg-red-50 text-red-600":r>=45?"border-emerald-500/20 bg-emerald-50 text-emerald-600":"border-blue-500/20 bg-blue-50 text-blue-600"}`,children:[a.tag," (",i,")"]}),g.jsx("div",{className:"h-[1px] flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsxs("div",{className:"px-1",children:[g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold leading-snug mb-1",children:a.desc}),g.jsxs("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed italic",children:[" ",a.advice]})]})]})]})}const SP={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Fse=["year","month","day","hour"],Hse=new Set(["","","","",""]),Gg=new Set(["","","","",""]),kP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gse={:5,:7,:5,:-5,:-7,:-5};function Yse({natal:e,perStemElementScaled:t}){const[n,r]=_.useState(!1);_.useEffect(()=>{const b=setTimeout(()=>r(!0),100);return()=>clearTimeout(b)},[e]);const i=_.useMemo(()=>{if(!t||!e||e.length<4)return null;let b=0,y=0;Object.entries(t).forEach(([W,Z])=>{Gg.has(W.charAt(0))?b+=Z:y+=Z});const k=b+y>0?(b-y)/(b+y):0;let w=0,S=0,A=0,O=0;e.forEach(W=>{[W[0],kP[W[1]]].forEach(Z=>{Z&&(Hse.has(Z)?w+=1:S+=1,Gg.has(Z)?A+=1:O+=1)})});const j=w+S>0?(w-S)/(w+S):0,C=A+O>0?(A-O)/(A+O):0;let D=0,P=0;e.forEach((W,Z)=>{const X=Fse[Z],Y=SP[X].stem,J=SP[X].branch;Gg.has(W[0])?D+=Y:P+=Y;const ee=kP[W[1]];ee&&Gg.has(ee)?D+=J:P+=J});const I=D+P>0?(D-P)/(D+P):0,U=e[1]?.charAt(1),K=(Gse[U]||0)/100,q=j*.3+C*.3+k*.2+I*.2+K,F=(Math.min(1,Math.max(-1,q))+1)*50,z=100-Math.abs(F-50)*2;return{yang:F,yin:100-F,essencePos:(j+1)*50,naturePos:(C+1)*50,harmony:z,category:F>=55?"":F<=45?"":""}},[e,t]),a=_.useMemo(()=>{if(!i)return null;const{yang:b,essencePos:y,naturePos:k,category:w,harmony:S}=i,A=Math.abs(y-k);let O="";w===""?O="              .":w===""?O=b>75?"    .       .":"         .":O=b<25?"    .         .":"   .         .";let j="";A<15?j="     .      .":A<40?j="       .    .":j="        .      .";let C="";return S>85?C="    .   .":w===""?C="         .":C="          .",{natureDetail:O,consistencyDetail:j,advice:C}},[i]);if(!i||!a)return null;const{yang:o,yin:l,essencePos:u,naturePos:d,harmony:h,category:p}=i;return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"   "})}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-xl text-center border border-emerald-100 dark:border-emerald-800/50",children:[g.jsx("div",{className:"text-[9px] font-bold text-emerald-600 mb-0.5 uppercase",children:""}),g.jsxs("div",{className:"text-base font-black text-emerald-500 leading-none",children:[h.toFixed(0),"%"]})]})]}),g.jsxs("div",{className:"relative mb-14 px-1",children:[n&&g.jsxs("div",{className:"absolute -top-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${u}%`,transform:"translateX(-50%)"},children:[g.jsx("span",{className:"text-[10px] font-bold text-blue-500 mb-1",children:""}),g.jsx("div",{className:"w-[1.5px] h-3 bg-blue-500/40 rounded-full"})]}),g.jsxs("div",{className:"relative w-full h-8 bg-neutral-100 dark:bg-neutral-800 rounded-2xl flex overflow-hidden shadow-inner border-[3px] border-white dark:border-neutral-900",children:[g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out",style:{width:n?`${l}%`:"50%"}}),g.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000 ease-out",style:{width:n?`${o}%`:"50%"}}),g.jsx("div",{className:"absolute left-1/2 top-0 w-[1px] h-full bg-white/30 -translate-x-1/2 z-10"})]}),n&&g.jsxs("div",{className:"absolute -bottom-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${d}%`,transform:"translateX(-50%)"},children:[g.jsx("div",{className:"w-[1.5px] h-3 bg-red-500/40 rounded-full"}),g.jsx("span",{className:"text-[10px] font-bold text-red-500 mt-1",children:""})]})]}),g.jsxs("div",{className:"space-y-3 mb-5 mt-6",children:[g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-red-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.natureDetail})]}),g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.consistencyDetail})]})]}),g.jsxs("div",{className:`text-center py-3 rounded-xl text-[11px] font-bold tracking-tight shadow-sm ${p===""?"bg-red-50 text-red-600 dark:bg-red-950/20":p===""?"bg-blue-50 text-blue-600 dark:bg-blue-950/20":"bg-emerald-50 text-emerald-600 dark:bg-emerald-950/20"}`,children:[" ",a.advice]})]})}function Jh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ca({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"il"),children:p},`il-${b}`))]})]})}function v2(e){return Array.isArray(e)?e:[]}function Yg(e,t){const n=new Set(v2(e));return v2(t).filter(i=>!n.has(i))}function qse({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=Wv(e),l=Ll({natal:e}),u=t?Ll({natal:e,daewoon:t}):l,d=n?Ll({natal:e,daewoon:t,sewoon:n}):u,h=r?Ll({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,p=i?Ll({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=w=>({natal:v2(o[w]),dae:Yg(l[w],u[w]),se:Yg(u[w],d[w]),wol:Yg(d[w],h[w]),il:Yg(h[w],p[w])}),y={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},k=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ca,{label:"",...k(y.cheonganHap)}),g.jsx(ca,{label:"",...k(y.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ca,{label:"",...k(y.jijiSamhap)}),g.jsx(ca,{label:"",...k(y.jijiBanhap)}),g.jsx(ca,{label:"",...k(y.jijiBanghap)}),g.jsx(ca,{label:"",...k(y.jijiYukhap)}),g.jsx(ca,{label:"",...k(y.amhap)}),g.jsx(ca,{label:"",...k(y.ganjiAmhap)}),g.jsx(ca,{label:"",...k(y.jijiChung)}),g.jsx(ca,{label:"",...k(y.jijiHyeong)}),g.jsx(ca,{label:"",...k(y.jijiPa)}),g.jsx(ca,{label:"",...k(y.jijiHae)})]})}function Kse(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Wse({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Kse(r,t),children:r},`${t}-${i}-${r}`))})}function EP({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Wse,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Vse({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=vn(),[l,u]=_.useState(""),[d,h]=_.useState("");_.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=_.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=_.useMemo(()=>tf({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:y,bad:k,meta:w}=b,S=q=>q.map(F=>F==="#"?F:` ${F}`),A=(q,F)=>{const z=["natal"];return F===""&&z.push("natal"),F===""&&z.push("natal","dae"),F===""&&z.push("natal","dae","se"),F===""&&z.push("natal","dae","se","wol"),F===""&&z.push("natal","dae","se","wol","il"),q.filter(W=>z.includes(W.source))},O=[{label:"",items:S(y.si),source:"natal"},{label:"",items:S(y.il),source:"natal"},{label:"",items:S(y.wol),source:"natal"},{label:"",items:S(y.yeon),source:"natal"},{label:"",items:y.dae,source:"dae"},{label:"",items:y.se,source:"se"},{label:"",items:y.wolun,source:"wol"},{label:"",items:y.ilun,source:"il"}],j=[{label:"",items:S(k.si),source:"natal"},{label:"",items:S(k.il),source:"natal"},{label:"",items:S(k.wol),source:"natal"},{label:"",items:S(k.yeon),source:"natal"},{label:"",items:k.dae,source:"dae"},{label:"",items:k.se,source:"se"},{label:"",items:k.wolun,source:"wol"},{label:"",items:k.ilun,source:"il"}],C=A(O,a),D=A(j,a),P=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",I=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",U=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",K=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:I})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:q=>h(q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:U}),g.jsx("option",{value:"",children:K})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(EP,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(EP,{title:"()",rows:D})]})]})}const pa={year:0,month:1,day:2,hour:3},m7={[pa.year]:.3,[pa.month]:.5,[pa.day]:.3,[pa.hour]:.3},p7={[pa.year]:.15,[pa.month]:.2,[pa.day]:0,[pa.hour]:.15},Zse=e=>Dm.has(e)?e:Qn[e]??e,Xse=e=>Vd.has(e)?e:Yn[e]??e,Jse=e=>typeof e=="string"&&e.length>=2?Zse(e.slice(-1)):"",Qse=e=>typeof e=="string"&&e.length>=1?Xse(e.slice(0,1)):"",En=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),ele={:En(2,0,.5,2),:En(2,0,0,2),:En(2,0,0,2),:En(0,2,2,0),:En(0,2,2,0),:En(0,2,1,2),:En(0,2,2,.5),:En(0,2,2,0),:En(0,2,2,1),:En(2,0,0,2),:En(2,0,0,2),:En(2,0,1,1)},tle={:En(0,1,1,0),:En(0,1,1,0),:En(0,2,2,0),:En(0,2,2,0),:En(0,0,1,0),:En(0,0,0,1),:En(1,0,0,1),:En(1,0,0,1),:En(2,0,0,2),:En(2,0,0,2)},TP=e=>Math.max(0,Math.min(100,e));function AP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function nle(e){let t=0,n=0,r=0,i=0;return[pa.year,pa.month,pa.day,pa.hour].forEach(a=>{const o=ele[Jse(e[a])],l=tle[Qse(e[a])],u=m7[a],d=p7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function rle(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function ile(e){const t=rle(e);return _.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=nle(t),o=AP(n,r),l=AP(a,i);return{hanNanPct:TP(o),joSeupPct:TP(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:m7,stem:p7}}},[t])}function jP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i,gradientClass:a}){const[o,l]=_.useState(!1),u=_.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),d=[20,35,50,65,80];return _.useEffect(()=>{l(!0)},[]),g.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-neutral-900 rounded-3xl shadow-sm border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("span",{className:"text-[11px] font-black text-neutral-400 uppercase",children:e}),g.jsxs("span",{className:"text-sm font-black dark:text-white",children:[u.toFixed(0),"%"]})]}),g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-1.5 px-0.5",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-2.5 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:`absolute inset-0 rounded-full opacity-80 ${a}`}),d.map(h=>g.jsx("div",{className:"absolute top-0 h-2.5 w-[1px] bg-white/20 dark:bg-black/10",style:{left:`${h}%`}},h)),g.jsx("div",{className:"absolute -top-1.5 h-5 w-2.5 bg-white dark:bg-neutral-100 rounded-full shadow-md border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:o?`${u}%`:"50%",transform:"translateX(-50%)"}})]})]})}function ale({natal:e}){const{hanNanPct:t,joSeupPct:n}=ile(e),r=_.useMemo(()=>{let i="";return t>60?i+="   , ":t<40?i+="   , ":i+="    , ",n>60?i+="     .":n<40?i+="      .":i+="     .",i},[t,n]);return g.jsxs("div",{className:"w-full space-y-3",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx(jP,{label:" ()",percent:t,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-blue-500 via-neutral-200 to-red-500"}),g.jsx(jP,{label:" ()",percent:n,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-teal-600 via-neutral-200 to-orange-600"})]}),g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/30 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11.5px] text-neutral-600 dark:text-neutral-400 leading-relaxed text-center font-medium",children:[g.jsx("span",{className:"text-neutral-400 mr-2",children:" :"}),r]})})]})}const Wr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ya={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ole={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ty={:"",:"",:"",:"",:""},g7={:"",:"",:"",:"",:""},qm={:"",:"",:"",:"",:""},b7={:"",:"",:"",:"",:""},sle={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},lle={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function QT(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function y7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function eA(e){return e==="hgc"?lle:sle}const cle={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},S1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},v7={:"",:"",:"",:"",:""},x7={:"",:"",:"",:""},ule=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],dle=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],fle={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Xe=(e,t)=>`${e}${t}`,Li=(e,t,n)=>`${e}${t}${n}`,hle={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},NP={[Xe("","")]:[""],[Xe("","")]:["",""],[Xe("","")]:["",""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:["",""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:["",""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""]},OP={[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:["",""]},mle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ga(e){return["","","","",""].includes(e)}function ple(e){return["","","","","",""].includes(e)}const k1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,da=e=>e&&e.length>=1?e.charAt(0):"",Cn=e=>e&&e.length>=2?e.charAt(1):"",gle=e=>Array.from(new Set(e));function ble(e,t){const n=cle[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function yle(e){return Wr[e]??""}function qa(e,t){const n=Wr[e],r=Wr[t];if(!n||!r)return"";let i;r===n?i="":r===Ty[n]?i="":r===qm[n]?i="":r===b7[n]?i="":r===g7[n]?i="":i="";const a=ga(e)===ga(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function vle(e,t){const n=Wr[e],r=Ya[t];if(!n||!r)return"";let i;r===n?i="":r===Ty[n]?i="":r===qm[n]?i="":r===b7[n]?i="":r===g7[n]?i="":i="";const a=ple(t)===ga(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function xle(e){return{:"",:"",:"",:"",:""}[e]??""}function x2(e,t){const n=yle(e),r=ga(e);let i;t===n?i="":Ty[n]===t?i="":Ty[t]===n?i="":qm[n]===t?i="":qm[t]===n?i="":i="";const a=r===ga(xle(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const wle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_le=e=>/^(|||||||||)$/.test(e);function Sle(e){return e?_le(e)?e:wle[e]??"":""}function qg(e){return Sle(da(e))}function kle(e){return e?.charAt(0)??""}function Ele(e){return e?.charAt(1)??""}function Tle(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=ce=>(ce?.length??0)>=1?ce.charAt(0):"",u=ce=>(ce?.length??0)>=2?ce.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Ya)),p=[r,i,a,o].map(u).filter(ce=>!!ce&&h.has(ce)),b=l(a),y=fle[b]??!1,k=new Set,w=t==="classic"?Mv:Dv,S=new Set(["","","","","","","","","",""]),A=ce=>(w[ce]??[]).filter(Oe=>S.has(Oe)),O=(ce,Oe)=>{const ze=Ya[Oe];return ze?x2(ce,ze):null},j={:0,:0,:0,:0,:0};for(const ce of d){const Oe=Wr[ce];Oe&&(j[Oe]+=10)}const C=[];for(const ce of p){const Oe=ole[ce];Oe&&C.push(Oe);const ze=Ya[ce];ze&&(j[ze]+=6)}const P=[...d,...C].map(ce=>qa(b,ce)),I={:["",""],:["",""],:["",""],:["",""],:["",""]},U=ce=>P.filter(Oe=>Oe===ce).length,K=ce=>P.filter(Oe=>I[ce].includes(Oe)).length,q=p[1],F=!!b&&mle[b]===q,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&k.add("");const W=[r,i,a,o].filter(Boolean),Z=[];for(const ce of W){const Oe=ce.charAt(0),ze=ce.charAt(1);Z.push(qa(b,Oe)),Z.push(O(b,ze))}const X=(ce,Oe)=>{const ze=(it,Et)=>!!it&&!!Et&&ce.includes(it)&&Oe.includes(Et)||Oe.includes(it)&&ce.includes(Et);for(let it=0;it+1<Z.length;it+=2)if(ze(Z[it],Z[it+1]))return!0;return!1},Y=ce=>Z.some(Oe=>!!Oe&&ce.includes(Oe)),J=U("")+U(""),ee=U(""),le=K(""),oe=K(""),B=X(["",""],["",""]);if((ee>=1||J>=2)&&le>=1&&J>le&&oe<=1&&B&&k.add(""),Y(I.)&&Y(I.)&&X(I.,I.)){const ce=P.includes("");k.add(ce?"":"")}K("")>=2&&K("")>=2&&Math.abs(K("")-K(""))<=1&&K("")<=1&&K("")<=1&&k.add("");const V=U(""),ne=U(""),se=U("")+U(""),fe=U("")+U(""),be=K("");ne>=2&&se>=1&&j.+j.>=20&&k.add(""),ne>=2&&fe>=1&&j.+j.>=20&&k.add(""),ne>=2&&fe>=1&&j.+j.>=20&&X([""],["",""])&&be<=1&&k.add(""),V>=2&&fe>=1&&j.+j.>=20&&X([""],["",""])&&be<=1&&k.add("");const ye=(ce,Oe)=>{const ze=Wr[ce],it=Ya[Oe];return!!ze&&!!it&&ze===it},Te=[r,i,a,o].filter(Boolean),re=u(a),ke=ye(b,re),_e=Te.map(ce=>ce.charAt(0)).filter(ce=>["",""].includes(qa(b,ce)));let ae=!1;for(const ce of Te){const Oe=ce.charAt(0),ze=ce.charAt(1);if(_e.includes(Oe)&&ye(Oe,ze)){ae=!0;break}}ke&&ae&&k.add(""),K("")>=3&&K("")>=.5*(K("")+K("")+K("")+K(""))&&k.add(""),K("")>=3&&K("")>=.5*(K("")+K("")+K("")+K(""))&&k.add(""),K("")>=3&&K("")>=1&&k.add(""),K("")>=3&&K("")+K("")<=1&&k.add("");const Ue=U("");K("")+K("")>=2&&Ue===1&&K("")>=1&&k.add(""),Ue>=2&&se+K("")>=3&&k.add("");const Fe=V+ne;(V>=2||Fe>=2)&&fe>=1&&Fe>fe&&k.add(""),ne>=2&&fe>=1&&Fe>fe&&k.add("");const Ce=U(""),Pe=U("");Ce>=2&&Ue+Pe>=1&&k.add(""),Ce>=2&&Ue+Pe===0&&k.add(""),y&&Ce>=2&&Ue>=1&&k.add(""),!y&&Ce>=2&&Ue>=1&&k.add(""),U("")>=2&&U("")>=1&&k.add(""),U("")>=1&&U("")>=1&&X([""],[""])&&k.add(""),F&&Ue>=1&&K("")+K("")>=2&&k.add("");const Ge=[u(r),u(i),u(a),u(o)].filter(Boolean),Ne=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),De=new Set(Ne.map(ce=>qa(b,ce))),Be=new Set(Ge.flatMap(ce=>{const Oe=Ya[ce];return Oe?[x2(b,Oe)]:[]})),st=new Set(Ge.flatMap(ce=>A(ce).map(Oe=>qa(b,Oe))));return["","","","",""].forEach(ce=>{const Oe=I[ce],ze=Oe.some(pt=>De.has(pt)),it=Oe.some(pt=>Be.has(pt)),Et=Oe.some(pt=>st.has(pt));!ze&&!it&&!Et?k.add(`${ce}`):!ze&&!it&&Et&&k.add(`${ce}`)}),Array.from(k)}const Ale=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=da(n),i=Cn(n),a=Wr[r],o=Ya[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function jle(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[da(a),da(o),da(l),da(u)].filter(Boolean),h=[Cn(a),Cn(o),Cn(l),Cn(u)].filter(Boolean),p=Wr[n],b=d.map(ce=>qa(n,ce)),y=[],k=ce=>d.filter(Oe=>Oe===ce).length,w=ce=>h.filter(Oe=>Oe===ce).length,S=ce=>ce.every(Oe=>h.includes(Oe)),A=ce=>b.some(Oe=>ce.includes(Oe)),O=da(o),j=ce=>ga(ce),C=()=>{const ce=d.map(Oe=>Wr[Oe]);return ce.length===4&&ce.every(Oe=>Oe===ce[0])},D=()=>{if(d.length!==4)return!1;const ce=d.map(j),Oe=ce[0]&&!ce[1]&&ce[2]&&!ce[3],ze=!ce[0]&&ce[1]&&!ce[2]&&ce[3];return Oe||ze};ga(n)&&v7[n]===r&&y.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[ce,Oe]of P)if(n===ce&&r===Oe){y.push("");break}!ga(n)&&x7[n]===r&&y.push("");const I=S1[n];I&&Cn(l)===I&&p===Ya[Cn(l)]&&y.push(""),I&&Cn(u)===I&&p===Ya[Cn(u)]&&y.push("");const U=[a,o,l,u].map(kle),K=[a,o,l,u].map(Ele);for(const ce of U);for(const ce of K);const q=i==="hgc"?Dv:Mv;function F(ce){return(q[ce]??[]).filter(Oe=>["","","","","","","","","",""].includes(Oe))}const z=[a,o,l,u].filter(Boolean),Z=z.flatMap(ce=>[ce.charAt(0),ce.charAt(1)]).flatMap(ce=>{try{if(["","","","","","","","","",""].includes(ce))return[qa(n,ce)];if(["","","","","","","","","","","",""].includes(ce)){const Oe=vle(n,ce),ze=F(ce).map(it=>qa(n,it));return[Oe,...ze]}return[]}catch{return[]}}),X=ce=>Z.some(Oe=>ce.includes(Oe)),Y=(ce,Oe)=>{const ze=[],it=[];for(const pt of z){const Jt=pt.charAt(0),zr=pt.charAt(1);ze.push(qa(n,Jt));const Ur=Ya[zr];Ur?it.push(x2(n,Ur)):it.push(null)}const Et=(pt,Jt)=>!!pt&&!!Jt&&(ce.includes(pt)&&Oe.includes(Jt)||Oe.includes(pt)&&ce.includes(Jt));for(let pt=0;pt<ze.length;pt++)if(Et(ze[pt],it[pt]))return!0;for(let pt=0;pt<ze.length-1;pt++)if(Et(ze[pt],ze[pt+1])||Et(it[pt],it[pt+1]))return!0;return!1},J={:["",""],:["",""],:["",""],:["",""]};X([...J.])&&X([...J.])&&Y([...J.],[...J.])&&y.push(""),X([...J.])&&X([...J.])&&Y([...J.],[...J.])&&y.push("");const ee=ce=>b.filter(Oe=>ce.includes(Oe)).length,le=ee(["",""]),oe=ee([""]),B=ee([""]),V=ee(["",""]),ne=ee(["",""]),se=ee(["",""]);oe>=1&&le>=1&&le>=oe&&B<=oe&&y.push("");const fe=ee([""]);fe>=1&&V>=1&&fe>=V&&y.push(""),b.includes("")&&V>=1&&y.push("");const ye=Ale(t),Te=Object.entries(ye).sort((ce,Oe)=>Oe[1]-ce[1]),re=Te[0];if(re&&re[1]>=60&&y.push(`(${re[0]})`),Te.length>=2){const[ce,Oe]=Te[0],[,ze]=Te[1];Oe>=75&&Oe-ze>=12&&p!==ce&&y.push(`(${ce})`)}for(const ce of ule){const Oe=d.includes(ce.a),ze=d.includes(ce.b);if(!Oe||!ze)continue;const it=ce.to,Et=ye[it]??0,pt=Wr[ce.a],Jt=Wr[ce.b],zr=Math.max(ye[pt]??0,ye[Jt]??0),Ur=Ya[r]===it,io=Object.entries(ye).sort((an,Fr)=>Fr[1]-an[1])[0]?.[0]===it;let It=!1;Et>=60&&(Ur||io)&&zr<=20&&Et-zr>=20&&(y.push(`(${it})`),It=!0),!It&&Et>=50&&(Ur||io)&&zr<=25&&(y.push(`(${it})`),It=!0),!It&&Et>=35&&y.push(`(${it})`)}const ke=`${da(u)}${Cn(u)}`;["",""].includes(n)&&["","",""].includes(ke)&&y.push(""),["","","",""].includes(Cn(u))&&y.push(""),["",""].includes(n)&&(Cn(l)===""||Cn(o)==="")&&!h.includes("")&&y.push("");const _e=d.some(ce=>ce===""||ce===""),ae=h.some(ce=>ce===""||ce==="");["",""].includes(Cn(l))&&!_e&&!ae&&y.push(""),["","",""].every(ce=>d.includes(ce))&&y.push(""),["","",""].every(ce=>d.includes(ce))&&y.push(""),["","",""].every(ce=>d.includes(ce))&&y.push("");const Ue=Object.values(ye).sort((ce,Oe)=>Oe-ce);Ue.length>=3&&Ue[0]-Ue[2]<=8&&Ue[0]+Ue[1]+Ue[2]>=80&&y.push(""),ne>=1&&se>=1&&Math.abs(ne-se)<=1&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),h.length===4&&h.every(ce=>ce===h[0])&&y.push(""),d.length===4&&C()&&D()&&y.push(""),t.every(ce=>ce&&ce===t[0])&&y.push(""),d.length===4&&d.every(ce=>ce===d[0])&&h.length===4&&h.every(ce=>ce===h[0])&&y.push(""),le>=1&&(Cn(l)===S1[n]||Cn(u)===S1[n])&&y.push(""),k("")>=3&&S(["","",""])&&["","",""].includes(Cn(l))&&y.push("");const Ce=n===""||n==="",Pe=[["","",""],["","",""]],Ge=[["","",""],["","",""]];Ce&&(Pe.some(ce=>S(ce))||Ge.some(ce=>S(ce)))&&y.push("");const Ne=new Set(["","","","","",""]),De=`${da(l)}${Cn(l)}`;if(Ne.has(De)&&w("")>=2&&(A(["",""])||h.includes("")||h.includes("")||A(["",""])||y.push("")),new Set(["","","","","",""]).has(De)&&w("")>=2&&h.includes("")&&y.push(""),n===""&&`${da(u)}${Cn(u)}`==""){const ce=qa(n,O);!["","","",""].includes(ce)&&A(["",""])&&!h.includes("")&&!h.includes("")&&y.push("")}return new Set(["","",""]).has(De)&&`${da(u)}${Cn(u)}`==""&&!h.includes("")&&!A(["",""])&&y.push(""),De===""&&w("")+w("")>=2&&y.push(""),(De===""||De==="")&&w("")>=2&&!A(["",""])&&!h.includes("")&&y.push(""),n===""&&S(["","",""])&&y.push(""),De===""&&`${da(u)}${Cn(u)}`==""&&y.push(""),gle(y)}function Nle(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Ole(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const CP=1e3*60*60*24;function Kg(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Cle(e){let t=wi(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=wi(r)}return t}function Mle(e){const t=hle[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Dle(e,t){const n=Mle(e);if(!n)return null;const r=Cle(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((Kg(t)-Kg(a))/CP)+1,u=o?Math.max(1,Math.floor((Kg(o)-Kg(a))/CP)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Ple(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Rle(e,t,n){const r=Math.max(1,Ple(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function w7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=y7(u),p=eA(h);if(!QT(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const y={:b.?{stem:k1(b..stem),w:b..w}:void 0,:b.?{stem:k1(b..stem),w:b..w}:void 0,:{stem:k1(b..stem),w:b..w}},k=y..stem;let w=k;const S=Dle(n,r);if(["","","",""].includes(n)&&ble(n,o)&&y.)w=y..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(S){const z=Rle(y,S.dayIdx,S.spanDays);w=z.stem,d.push({kind:"BUNIL_PICK",from:z.from})}else w=k,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function A(z,W){if(!z)return!1;if(W.includes(z))return!0;const Z=Wr[z];return Z?W.some(X=>Wr[X]===Z):!1}let O="";w&&A(w,a)&&!l?.(w)?(O=w,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):w&&l?.(w)&&d.push({kind:"NEUTRALIZED"});const j=O||k;let C="";const D=Wr[j];if(D){const z=Object.entries(qm).find(([,W])=>W===D)?.[0]??null;z&&(C=Object.entries(Wr).find(([Z,X])=>X===z&&ga(Z)===ga(j))?.[0]??"")}let P="-";const I=qa(t,j),U=dle.some(([z,W])=>z===t&&W===n),K=ga(t)&&v7[t]===n,q=!ga(t)&&x7[t]===n;I===""||I===""?U?(P="",d.push({kind:"EX_GEONLOK"})):K?(P="",d.push({kind:"EX_YANGIN"})):q?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Ole(I);const F=jle({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:k,:w,:O||"-",:j||"-",:C||"-",:P,:F,reason:Nle(d),reasonTokens:d}}function Lle(e){const[t,n,r,i]=e,a=qg(i),o=qg(r),l=qg(n),u=qg(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,y]of h){if(!b||!y)continue;const k=Xe(b,y),w=NP[k];w?.length&&d.push(...w);const S=Xe(y,b);if(S!==k){const A=NP[S];A?.length&&d.push(...A)}}const p=[[a,o,l],[o,l,u]];for(const[b,y,k]of p){if(!b||!y||!k)continue;const w=Li(b,y,k),S=OP[w];S?.length&&d.push(...S);const A=Li(k,y,b);if(A!==w){const O=OP[A];O?.length&&d.push(...O)}}return Array.from(new Set(d))}const Ile=["","","","",""];function $le(e){return Ile.includes(e)}function Ble(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Qh(e,t){if(!t)return e;const n=($le(t),t);return`${e}(${n})`}const zle={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Ule={:e=>({title:Qh("",e),short:"     ."}),:e=>({title:Qh("",e),short:"   ."}),:e=>({title:Qh("",e),short:"   ."}),:e=>({title:Qh("",e),short:"    ."}),:e=>({title:Qh("",e),short:"    ."})};function Fle(e){const{base:t,inner:n}=Ble(e);return t===""||t===""||t===""||t===""||t===""?Ule[t](n):zle[t]}function Hle(e){const t=Fle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Gle=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),MP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Yle(e){if(Gle(MP,e))return MP[e]}const DP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},qle={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Kle(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Wle(e,t){return e===""?{title:`${t}`,short:`${DP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${DP[t]}()     .`,hint:" X /  O"}}function Vle(e){const t=Kle(e);return t?Wle(t.kind,t.group):qle[e]}function Zle(e){const t=Vle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Xle={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Jle(e){return Xle[e]?.text}const Qle=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},ece={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},tce={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},nce=e=>e.replace(/^\s*:\s*/,"").trim();function rce(e){const t=nce(e);return tce[t]}function ice(e){const t=ece[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Qle(e.from)})`}:t}const Fc=_.memo(({text:e,color:t,onClick:n})=>{const r={violet:"bg-violet-50 text-violet-700 border-violet-200 dark:bg-violet-900/20 dark:text-violet-300 dark:border-violet-800",amber:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",blue:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",green:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",red:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"};return g.jsx("button",{type:"button",onClick:n,className:`px-2.5 py-1 text-[11px] font-bold rounded-lg border shadow-sm whitespace-nowrap active:scale-95 transition-transform cursor-pointer ${r[t]}`,children:e})}),kd=({text:e})=>g.jsxs("div",{className:"absolute z-50 left-0 top-full mt-2 w-[220px] p-3 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 text-[11px] leading-relaxed text-left text-neutral-700 dark:text-neutral-200 pointer-events-none transition-none",children:[g.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-white dark:bg-neutral-800 border-t border-l border-neutral-200 dark:border-neutral-700 rotate-45"}),e]}),Wg=_.memo(({title:e,children:t})=>g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"text-[10px] font-black text-neutral-400 dark:text-neutral-500 uppercase pl-1",children:e}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:t})]}));function ace({pillars:e,tab:t,birthDate:n,emittedStems:r,otherBranches:i,isNeutralized:a,mapping:o,unified:l}){const[u,d]=_.useState(null);_.useEffect(()=>{d(null)},[t,e]);const h=_.useMemo(()=>{const[w,S,A,O]=e,j=U=>U&&U.length>=1?U.charAt(0):"",C=U=>U&&U.length>=2?U.charAt(1):"",D=n instanceof Date&&!Number.isNaN(n.getTime())?n:new Date,P=[j(w),j(S),j(A),j(O)].filter(U=>!!U),I=[C(w),C(A),C(O)].filter(U=>!!U);return w7({dayStem:j(A),monthBranch:C(S),date:D,pillars:e,emittedStems:r??P,otherBranches:i??I,isNeutralized:a,mapping:o})},[e,n,r,i,a,o]),p=_.useMemo(()=>Lle(e),[e]),b=_.useMemo(()=>Tle(e,o,l),[e,o,l]),y=w=>{d(S=>S===w?null:w)},k=[{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.}];return g.jsxs("div",{className:"p-6 rounded-[2rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-sm space-y-6 overflow-visible",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-black text-lg text-neutral-800 dark:text-neutral-100 italic",children:"   "}),g.jsx("span",{className:"text-[10px] bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 px-2 py-0.5 rounded-full font-bold",children:"     "})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx(Wg,{title:"////",children:k.map(({key:w,value:S})=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:`${w}: ${S||"-"}`,color:"violet",onClick:()=>y(`env-${w}`)}),u===`env-${w}`&&g.jsx(kd,{text:Jle(w)??" ."})]},w))}),g.jsxs(Wg,{title:"",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:`: ${h.||"-"}`,color:"amber",onClick:()=>y("naegyeok")}),u==="naegyeok"&&g.jsx(kd,{text:rce(h.||"")?.text??"  ."})]}),h.reasonTokens?.map((w,S)=>{const A=ice(w),O=`reason-${S}`;return g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:A?.title??(h.reason[S]||w.kind),color:"amber",onClick:()=>y(O)}),u===O&&g.jsx(kd,{text:A?.text??"  ."})]},O)})]}),g.jsx(Wg,{title:"",children:h.&&h..length>0?h..map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:`: ${w}`,color:"blue",onClick:()=>y(`outer-${S}`)}),u===`outer-${S}`&&g.jsx(kd,{text:Hle(w)??" "})]},`outer-${S}`)):g.jsx(Fc,{text:": -",color:"blue"})}),(p.length>0||b.length>0)&&g.jsxs(Wg,{title:"  ",children:[p.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:w,color:"green",onClick:()=>y(`mul-${S}`)}),u===`mul-${S}`&&g.jsx(kd,{text:Yle(w)??" "})]},`mul-${S}`)),b.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:w,color:"red",onClick:()=>y(`str-${S}`)}),u===`str-${S}`&&g.jsx(kd,{text:Zle(w)??" "})]},`str-${S}`))]})]}),!h.reasonTokens?.length&&h.reason.length>0&&g.jsx("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11px] text-neutral-500 leading-relaxed font-medium",children:[g.jsx("span",{className:"font-bold mr-1 text-neutral-400",children:"  :"}),h.reason.join(" / ")]})})]})}const oce=Object.fromEntries(ro..map((e,t)=>[e,Xr[t]])),sce=Object.fromEntries(Xr.map((e,t)=>[e,ro.[t]])),lce=Object.fromEntries(ro..map((e,t)=>[e,vi[t]])),cce=Object.fromEntries(vi.map((e,t)=>[e,ro.[t]])),uce=e=>oce[e]??e,dce=e=>lce[e]??e,fce=e=>sce[e]??e,hce=e=>cce[e]??e;function mce(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?uce(n):fce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function tA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?dce(n):hce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const pce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},bce={..._7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},PP=mce(pce),RP=tA(gce);tA(_7);tA(bce);const yce=["","","","",""];function vce(){const[e,t]=_.useState("   "),[n,r]=_.useState(""),[i,a]=_.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const xce={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},wce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function S7(e){const t=wce[e]??"";return xce[t]}const _ce=Object.fromEntries(ro..map((e,t)=>[e,Xr[t]])),Sce=Object.fromEntries(Xr.map((e,t)=>[e,ro.[t]])),kce=Object.fromEntries(ro..map((e,t)=>[e,vi[t]])),Ece=Object.fromEntries(vi.map((e,t)=>[e,ro.[t]])),Tce=e=>_ce[e]??e,Ace=e=>kce[e]??e,jce=e=>Sce[e]??e,Nce=e=>Ece[e]??e;function k7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Tce(r)}${Ace(i)}`:`${jce(r)}${Nce(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const E7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Oce={...E7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Cce=k7(E7),Mce=k7(Oce),w2={:"",:"",:"",:"",:""},_2={:"",:"",:"",:"",:""},S2={:"",:"",:"",:"",:""},k2={:"",:"",:"",:"",:""},Dce=e=>Yn[e]??e,Pce=e=>Qn[e]??e;function T7(e){return!e||e.length<2?"":`${Dce(e[0])}${Pce(e[1])}`}const A7=e=>e&&e.length>=1?e[0]:"",j7=e=>e&&e.length>=2?e[1]:"";function Rce(e){return{:e,:w2[e],:_2[e],:S2[e],:k2[e]}}const em={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""]},N7={:em.??[],:em.??[],:em.??[],:em.??[],:em.??[]};function Lce(e,t){const n=(e??[]).slice(0,4).map(T7);if(n.length!==4||n.some(h=>h.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=A7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(h=>j7(h)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=a[1],u=Rce(i),d=[a[0],a[2],a[3]].filter(Boolean);return Object.keys(o).forEach(h=>{const p=u[h],b=N7[p]??[];b.includes(l)&&(o[h].=!0),d.some(y=>b.includes(y))&&(o[h].=!0),o[h].=(t[p]??0)>=30}),{flags:o,monthBranch:l,dayEl:i}}function O7(e,t){const n=(e??[]).slice(0,4).map(T7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const p={:!1,:!1,:!1};return{flags:{:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p}},monthBranch:"",dayEl:""}}const r=A7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(p=>j7(p)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=a[1],d=[a[0],a[2],a[3]].filter(Boolean),h={:i,:i,:w2[i],:w2[i],:S2[i],:S2[i],:k2[i],:k2[i],:_2[i],:_2[i]};return Object.keys(l).forEach(p=>{const b=h[p],y=N7[b]??[];y.includes(u)&&(l[p].=!0),d.some(k=>y.includes(k))&&(l[p].=!0),l[p].=(t[b]??0)>=30}),{flags:l,monthBranch:u,dayEl:i}}const Ice=Object.fromEntries(Object.entries(Yn).map(([e,t])=>[t,e])),$ce=Object.fromEntries(Object.entries(Qn).map(([e,t])=>[t,e])),Bce=e=>Yn[e]??e,zce=e=>Qn[e]??e;function Uce(e){return!e||e.length<2?"":`${Bce(e[0])}${zce(e[1])}`}function Hc(e){return PP[e]??PP[Ice[e]??""]}function Gc(e){return RP[e]??RP[$ce[e]??""]}const E1=["year","month","day","hour"],Fce={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Hce={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Gce=new Set(["","","","",""]),Yce=new Set(["","","","","",""]),qce=new Set(["","","",""]),T1=e=>Gce.has(e)?"":"",A1=e=>{const t=Yce.has(e)?"":"";return qce.has(e)?t===""?"":"":t};function LP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Kce(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const Vg={:.15,:.1,:-.15,:-.2,:-.25},Os={:"",:"",:"",:"",:""},bu={:"",:"",:"",:"",:""},Ro={:"",:"",:"",:"",:""},Jv={:"",:"",:"",:"",:""};function Zg(e,t){return e===t?"":Os[t]===e?"":Os[e]===t?"":Ro[e]===t?"":Ro[t]===e?"":""}const Yc=e=>e&&e.length>=1?e[0]:"",qc=e=>e&&e.length>=2?e[1]:"";function Wce(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function IP(e,t){switch(e){case"":return t;case"":return Os[t];case"":return Ro[t];case"":return Jv[t];case"":return bu[t];default:return t}}const $P={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Vce=["","","","",""],Zce={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},BP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Xce={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Jce(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Qce(e){const t=Vce.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...BP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Zce},PerTenGodSub:{...BP},elementScoreRaw:e,deukFlags:{...Xce},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function eue(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function E2(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Fce:Hce,d=r==="classic"?Mce:Cce,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map(Uce);if(!Jce(b))return Qce(h);const{dayStem:y,dayEl:k}=eue(b,n),w=[{val:0},{val:0},{val:0},{val:0}],S=[[],[],[],[]];for(const B of b){if(!B)continue;const V=B.charAt(0),ne=B.charAt(1);p[V]=(p[V]??0)+50;const se=$P[ne];se&&(p[se]=(p[se]??0)+50)}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=E1[B],se=Yc(V),fe=qc(V),be=u[ne],ye=Hc(se);ye&&(h[ye]+=be.stem,w[B]={stem:se,el:ye,pol:T1(se),val:be.stem});const Te=Gc(fe);Te&&(h[Te]+=be.branch,S[B].push({el:Te,pol:A1(fe),val:be.branch}))}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=E1[B],se=d[V]??0;if(se===0)continue;const fe=Yc(V),be=Hc(fe);if(!be)continue;const ye=u[ne].stem*se;h[be]+=ye,w[B].val+=ye}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=qc(V),se=Gc(ne);if(!se)continue;const fe=u[E1[B]].branch,be=A1(ne);let ye=0;const Te=[B];B-1>=0&&Te.push(B-1),B+1<=3&&Te.push(B+1),B-2>=0&&Te.push(B-2),B+2<=3&&Te.push(B+2);const re=Array.from(new Set(Te));for(const ke of re){if(!b[ke]||b[ke].length<2)continue;const _e=Yc(b[ke]),ae=Hc(_e);if(!ae||ae!==se)continue;const Ue=T1(_e)===be,Fe=Math.abs(ke-B),Ce=Kce(Fe,Ue);ye+=fe*Ce}ye!==0&&(h[se]+=ye,S[B].push({el:se,pol:be,val:ye}))}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=Yc(V),se=Hc(ne);if(!se)continue;let fe=0;const be=qc(b[B]),ye=Gc(be);ye&&(fe+=Vg[Zg(se,ye)]);const Te=B===0?[1]:B===3?[2]:[B-1,B+1];for(const ke of Te){const _e=Yc(b[ke]),ae=Hc(_e);ae&&(fe+=Vg[Zg(se,ae)])}const re=w[B].val;if(re!==0&&fe!==0){const ke=Math.round(re*(1+fe)*10)/10,_e=ke-re;h[se]+=_e,w[B].val=ke}}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=qc(V),se=Gc(ne);if(!se)continue;let fe=0;const be=Yc(b[B]),ye=Hc(be);ye&&(fe+=Vg[Zg(se,ye)]);const Te=B===0?[1]:B===3?[2]:[B-1,B+1];for(const ke of Te){if(!b[ke]||b[ke].length<2)continue;const _e=qc(b[ke]),ae=Gc(_e);ae&&(fe+=Vg[Zg(se,ae)])}const re=S[B].reduce((ke,_e)=>ke+_e.val,0);if(re!==0&&fe!==0){const _e=Math.round(re*(1+fe)*10)/10-re;h[se]+=_e,S[B].length>0&&(S[B][0].val+=_e)}}a&&dae(b,h);const A={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},O=[];if(!(!l||l.tab==="")){let B=function(V,ne){const se=V?Ie(V):"";if(!se||se.length<2)return;const fe=Yc(se),be=qc(se),ye=Hc(fe),Te=Gc(be),re=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),ke=A[ne];if(ye){const _e=Math.round(re*ke.stem);h[ye]+=_e,O.push({stem:fe,el:ye,pol:T1(fe),val:_e})}if(Te){const _e=Math.round(re*ke.branch);h[Te]+=_e,O.push({el:Te,pol:A1(be),val:_e})}};B(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&B(l.se,"se"),(l.tab===""||l.tab==="")&&B(l.wol,"wol"),l.tab===""&&B(l.il,"il")}const j={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,V])=>{const ne=K(B,k);j[ne]+=V});const C=["","","","",""],D=LP(C.map(B=>j[B])),P=S7(y),I=C.map((B,V)=>({name:B,value:D[V],color:P[B]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function K(B,V){return B===V?"":Os[V]===B?"":Ro[V]===B?"":Ro[B]===V?"":bu[V]===B?"":""}function q(B,V){switch(K(B,k)){case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break}}Object.entries(h).forEach(([B,V])=>{V>0&&q(B,V)});const F={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of C){const V=I.find(Te=>Te.name===B)?.value??0,ne=F[B].a,se=F[B].b,fe=U[ne]??0,be=U[se]??0,ye=fe+be;if(ye>0){const Te=Math.floor(V*fe/ye+.5),re=V-Te;F[B].aVal=Te,F[B].bVal=re}else F[B].aVal=Math.floor(V/2+.5),F[B].bVal=V-F[B].aVal}const{flags:z}=Lce(b,h),W={};w.forEach(B=>{if(B.stem&&B.el&&B.val){const V=`${B.stem}${B.el}`;W[V]=(W[V]??0)+B.val}});for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=qc(V),se=$P[ne],fe=Gc(ne);if(!se||!fe)continue;const be=`${se}${fe}`,ye=S[B].reduce((Te,re)=>Te+re.val,0);W[be]=(W[be]??0)+ye}const Z=["","","","","","","","","",""],X={};Z.forEach(B=>{X[B]=0}),C.forEach(B=>{const V=I.find(re=>re.name===B)?.value??0,ne=IP(B,k),se=Object.entries(W).filter(([re])=>re.endsWith(ne)),fe=se.map(([re])=>re),be=se.map(([,re])=>re),ye=Math.max(0,Math.round(V*10)),Te=Wce(be.length?be:[1,1],ye);if(fe.length===2)X[fe[0]]=(Te[0]??Math.round(ye/2))/10,X[fe[1]]=(Te[1]??ye-(Te[0]??0))/10;else if(fe.length===1)X[fe[0]]=ye/10;else{const re=ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:["",""],ke=Math.floor(ye/2),_e=ye-ke;X[re[0]]+=ke/10,X[re[1]]+=_e/10}});const Y=["","","","",""],J={:0,:0,:0,:0,:0};for(const B of I){const V=IP(B.name,k);J[V]+=B.value}const ee=LP(Y.map(B=>J[B])),le={:ee[0],:ee[1],:ee[2],:ee[3],:ee[4]};return i&&console.log({elementScore:h,totals:I,perTenGod:F,perStemRaw:W,perStemElementScaled:X,elementPercent100:le}),{overlay:{totalsSub:U,perStemAugBare:W,perStemAugFull:X},totals:I,perTenGod:F,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:W,perStemElementScaled:X,elementPercent100:le}}const Xg={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tue=["","","","",""];function zP(e){return tue.includes(e)}const nue={:"",:"",:"",:"",:""},rue={:"",:"",:"",:"",:""},iue={:"",:"",:"",:"",:""},aue={:"",:"",:"",:"",:""},T2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},oue=["","","","","","","","","",""],sue={natal:50,dae:30,se:20,wol:7,il:3};function Ay(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Yn[t])return Yn[t];if(["","","","","","","","","","","",""].includes(t))return Xg[t]??null;if(Qn[t])return Xg[Qn[t]]??null;const n=t.charAt(0);return Yn[n]?Yn[n]:["","","","","","","","","",""].includes(n)?n:Qn[n]?Xg[Qn[n]]??null:["","","","","","","","","","","",""].includes(n)?Xg[n]??null:null}function lue(e,t){const n=T2[e],r=T2[t];if(!n||!r)return"";let i;r===n?i="":r===nue[n]?i="":r===rue[n]?i="":r===iue[n]?i="":r===aue[n]?i="":i="";const a=zP(e)===zP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function jy(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function UP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Ay(r);if(!a)continue;const o=lue(t,a);n[o]+=i}return jy(n)}function cue(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function FP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Ay(n);i&&(t[i]=(t[i]??0)+r)}return t}function HP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of oue){const i=T2[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function GP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function uue(e,t){const n=t?.dae?Jg(t.dae):{},r=t?.se?Jg(t.se):{},i=t?.wol?Jg(t.wol):{},a=t?.il?Jg(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const p=sue[d];if(!h||Object.keys(h).length===0)continue;const b=jy(h);for(const[y,k]of Object.entries(b))o[y]=(o[y]??0)+k*p}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function due(e){if(!e)return[];const t=Ay(e.charAt(0)),n=Ay(e.charAt(1));return[t,n].filter(Boolean)}function Jg(e){const t=due(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Qv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Ie(t[0]??""),Ie(t[1]??""),Ie(t[2]??""),Ie(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Rl,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Ie(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Ie(r.se):void 0,wol:(n===""||n==="")&&r.wol?Ie(r.wol):void 0,il:n===""&&r.il?Ie(r.il):void 0}:{tab:n},p=E2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=E2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),y=FP(p.perStemElementScaled),k=n===""?y:uue(y,r),w=jy(k),S=UP(k,o),A=cue(S),O=HP(w),j=FP(b.perStemElementScaled),C=UP(j,o),D=jy(j),P=HP(D);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:S,perTenGod:A,overlay:{totalsSub:S,perStemAugBare:k,perStemAugFull:O},natalFixed:{elementScoreRaw:GP(b.elementScoreRaw),elementPercent100:GP(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:j,perStemAugFull:P}}}}const jo=["","","","",""],ql={:0,:0,:0,:0,:0},fue=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],hue={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},j1=24,mue=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],Ny=20;Object.fromEntries(Object.entries(Yn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Qn).map(([e,t])=>[t,e]));const C7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},pue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function M7(e){return Math.max(0,Math.min(100,e))}function nf(e,t,n){return Math.max(t,Math.min(n,e))}function gue(e){const t=M7(e);return fue.find(n=>t>=n.min&&t<n.max)?.name??""}function bue(e){const t=e?.[2]?.charAt(0)??"";return C7[t]??null}function yue(e){return(e?.[1]?.charAt(1)??"")||null}function D7(e){return Jv[e]}function vue(e){return e?{peer:e,resource:bu[e],leak:Os[e],wealth:Ro[e],officer:D7(e)}:null}function xue(e){const t={...ql};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=C7[r],o=pue[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function wue(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...ql};return jo.forEach(r=>{n[r]=e[r]/t*100}),n}function _ue(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return M7((n("")+n(""))/t*100)}function Sue(e,t){return!e||!t?null:t===e?"":Os[e]===t?"":Ro[e]===t?"":D7(e)===t?"":bu[e]===t?"":null}function kue(e){for(const[t,n]of mue)if(e>=t)return n;return 1}const YP=(e,t)=>nf((Ny-(t[e]??0))/Ny,0,1),qP=(e,t)=>nf(((t[e]??0)-Ny)/Ny,0,1);function Eue(e,t,n,r){const i=Sue(e,n);if(!e||!i)return 0;const a=nf((50-t)/50,0,1),o=nf((t-50)/50,0,1),l=YP(n,r),u=qP(n,r),d=YP(e,r),h=qP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function Tue(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...ql};if(r){const o=Os[e],l=Ro[e],u=Jv[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=bu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function KP(e,t){if(!e)return{...ql};const n=hue[e]??{temp:"mild",wet:"normal"},r={...ql};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function WP(e,t){const n={...ql};for(const r of jo){const i=Ro[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=Os[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function VP(e,t){const n={...ql},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const Qg=()=>new Map(jo.map(e=>[e,[]]));function rf(e,t){const n=bue(e),r=yue(e),i=xue(e),a=wue(i);let o=_ue(t);if(o==null)if(!n)o=50;else{const F=n,z=bu[n],W=Object.values(i).reduce((Z,X)=>Z+X,0)||1;o=Math.min(100,Math.max(0,((i[F]??0)+(i[z]??0))/W*100))}const l=gue(o),u={...ql},d=Qg();if(n){const F=Tue(n,l,d);jo.forEach(z=>{u[z]+=F[z]??0})}const h=KP(r,d);jo.forEach(F=>{u[F]+=h[F]??0});const p=WP(i,d);jo.forEach(F=>{u[F]+=p[F]??0});const b=VP(i,d);jo.forEach(F=>{u[F]+=b[F]??0});const y=vue(n),k={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const F of t)k[F.name]=F.value;if(o>=45&&o<=55&&y){const F=k.>=30||k.>=Math.max(k.,k.,k.,k.)+5;o<=50?(u[y.resource]+=14,d.get(y.resource)?.push(": -"),u[y.peer]+=10,d.get(y.peer)?.push(": -"),u[y.leak]+=6,d.get(y.leak)?.push(": -"),u[y.wealth]+=3,d.get(y.wealth)?.push(": -"),F&&(u[y.officer]=Math.round(u[y.officer]*.8*10)/10,d.get(y.officer)?.push(":   "))):(u[y.leak]+=14,d.get(y.leak)?.push(": -"),u[y.wealth]+=10,d.get(y.wealth)?.push(": -"),u[y.officer]+=6,d.get(y.officer)?.push(": -"),u[y.resource]+=3,d.get(y.resource)?.push(": -"))}jo.forEach(F=>{const z=Eue(n,o,F,a);u[F]=nf(Math.round((u[F]+z)*10)/10,0,999)});const S=o<50;jo.forEach(F=>{const z=a[F]??0,W=S&&n===F;if(z>=j1&&!W){const Z=kue(z);u[F]=Math.round(u[F]*Z*10)/10;const X=Math.min(14,Math.max(0,Math.ceil((z-j1)*.5)));X>0&&(u[F]=nf(u[F]-X,0,999)),d.get(F)?.push(" ()")}});const A={:[],:[],:[],:[],:[]};if(n){const F=Os[n],z=Ro[n],W=Jv[n],Z=n,X=bu[n];A[F].push(""),A[z].push(""),A[W].push(""),A[Z].push(""),A[X].push("")}const O={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},j=F=>{const z=a[F]??0;return z>=j1&&!(S&&n===F)?z>=55?4:z>=45?3:2:O[F]?0:1},C=KP(r,Qg()),D=WP(i,Qg()),P=VP(i,Qg()),I=jo.map(F=>({element:F,score:Math.round(u[F]*10)/10,via:Aue(F,C,D,P),reasons:(d.get(F)??[]).slice(),tenGodHints:A[F]})).sort((F,z)=>{const W=j(F.element),Z=j(z.element);return W!==Z?W-Z:z.score!==F.score?z.score-F.score:F.element.localeCompare(z.element)}),U=jue(l,C,D,P),K={:0,:0,:0,:0,:0},q=t?t.reduce((F,z)=>(F[z.name]=z.value,F),{...K}):void 0;return{chosenType:U,ordered:I,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:q,monthBranch:r??void 0}}}function Aue(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function jue(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Nue(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const ZP=["","","","",""];function Oue(e,t){const n=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],{elementScoreRaw:r}=E2({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=ZP.map(l=>r[l]??0),a=Nue(i),o={:0,:0,:0,:0,:0};return ZP.forEach((l,u)=>{o[l]=a[u]}),o}function P7(e,t){const n=Oue(e,t),r=Ie(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const af={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},R7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},eb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cue=["","","","",""];function XP(e){return Cue.includes(e)}const Mue={:"",:"",:"",:"",:""},Due={:"",:"",:"",:"",:""},Pue={:"",:"",:"",:"",:""},Rue={:"",:"",:"",:"",:""};function Km(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Yn[t])return Yn[t];if(["","","","","","","","","","","",""].includes(t))return eb[t]??null;if(Qn[t])return eb[Qn[t]]??null;const n=t.charAt(0);return Yn[n]?Yn[n]:["","","","","","","","","",""].includes(n)?n:Qn[n]?eb[Qn[n]]??null:["","","","","","","","","","","",""].includes(n)?eb[n]??null:null}function Lue(e,t){const n=af[e],r=af[t];if(!n||!r)return"";let i;r===n?i="":r===Mue[n]?i="":r===Due[n]?i="":r===Pue[n]?i="":r===Rue[n]?i="":i="";const a=XP(e)===XP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Iue(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function ex(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function $ue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=af[Km(n)];i&&r>0&&(t[i]+=r)}return ex(t)}function Bue(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Km(r);if(!a)continue;const o=Lue(t,a);n[o]+=i}return n}function zue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Iue(n);t[i]+=r}return ex(t)}function JP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Ie(n??"");return i||(r<=2?"--":"")})}function L7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=af[i.charAt(0)];if(a&&(r[a]=!0),n){const o=R7[i.charAt(1)];o&&(r[o]=!0)}}return r}function I7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=af[n.charAt(0)],i=R7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function N1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Uue=["","","","","","","","","",""];function Fue(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Km(n);i&&(t[i]=(t[i]??0)+r)}return t}function Hue(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Uue){const i=af[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Gue={natal:50,dae:30,se:20,wol:7,il:3};function Yue(e){const t={};for(const{kind:r,bare:i}of e){const a=Gue[r]??0;if(a<=0)continue;const o=ex(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function que(e){if(!e)return[];const t=Km(e.charAt(0)),n=Km(e.charAt(1));return[t,n].filter(Boolean)}function tb(e){const t=que(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const A2=["","","","",""];function Kue(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Wue(e,t){const n=A2.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function nA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Vue(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function QP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Zue(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,d=null;if(QP(i)===a)u=i,d=a;else if(QP(a)===i)u=a,d=i;else continue;const h=Vue(u),p=`${u}()${d}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:d,mediator:h,reason:p})}return r}function rA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function tm(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":     "]}):e}function nm(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Xue(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(d=>({element:d.el,elNorm:d.el,score:rA(d.base,t[d.el]??0),reasons:[d.why,` ${d.el}  ${Math.round(t[d.el]??0)}%`]}))}function Jue(e){const t=Zue(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:rA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Que(e,t){let n="",r=e.??0;for(const d of A2){const h=e[d]??0;h<r&&(r=h,n=d)}const i=A2.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=rA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function iA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=nm(tm(t,i,a),i,a),u=nm(tm(Xue(n,r),i,a),i,a),d=Kue(n),h=Wue(r,i),p=d==="WINTER"||d==="SUMMER"?.85:.55,b=1.25,y=Jue(r),k=nm(tm(y.items,i,a),i,a),w=Que(r,i),S=nm(tm(w.items,i,a),i,a),A=Array.isArray(o)?o:[],O=A.length>0,j=nm(tm(A,i,a),i,a),C=z=>Math.max(0,...z.map(W=>Number.isFinite(W.score)?W.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:d==="WINTER"?"2. ()   ":d==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:y.applicable,note:y.note,candidates:k},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:w.applicable,note:w.note,candidates:S},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:O,note:O?"/     ( )":"  (//  )",candidates:j}].map(z=>{const W=C(z.candidates),Z=z.candidates[0];let X=0;if(z.applicable&&Z){if(X=Z.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const Y=Math.min(35,Math.round(h.spread*.9));X+=Y}z.kind==="EOKBU"&&h.balancedPresent&&(X*=.75),Z.elNorm&&!i[Z.elNorm]&&(X*=.25)}return{...z,maxScore:W,fitScore:Math.round(X),finalScore:Math.round(X)}}).sort((z,W)=>z.priority-W.priority),I=[...P].filter(z=>z.applicable&&z.candidates.length>0).sort((z,W)=>W.fitScore!==z.fitScore?W.fitScore-z.fitScore:z.priority-W.priority)[0],U=Math.max(0,...P.map(z=>z.fitScore)),K=I?.kind??null,q=P.map(z=>{if(!K)return z;if(z.kind===K){const W=z.fitScore<U?U+1:z.fitScore;return{...z,finalScore:W}}return{...z,finalScore:z.fitScore}}),F=K?q.find(z=>z.kind===K)??null:null;return{bestKind:K,best:F,groups:q}}const ede={:"",:"",:"",:"",:""},tde={:"",:"",:"",:"",:""},nde={:"",:"",:"",:"",:""},rde={:"",:"",:"",:"",:""};function O1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function ide(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function ade(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function ode(e,t){switch(t){case"":return e;case"":return ede[e];case"":return nde[e];case"":return rde[e];case"":return tde[e]}}function sde(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:d,reasons:[h]});return}p.score=Math.max(p.score,d),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=O1(t),a=ide(e.);if(i&&a){const u=ade(a),d=ode(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=O1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=O1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const rm=e=>e&&e.length>=1?e.charAt(0):"",nb=e=>e&&e.length>=2?e.charAt(1):"";function lde(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function cde({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=Jr(),h=_.useMemo(()=>Ie(l),[l]),p=_.useMemo(()=>Ie(u),[u]),b=_.useMemo(()=>Ie(d),[d]),y=Tu(e,e?.mingSikType),k=_.useMemo(()=>{if(!y?.length)return 0;const Ce=y.findIndex((Pe,Ge)=>{const Ne=y[Ge+1]?.at;return o>=Pe.at&&(!Ne||o<Ne)});return Ce!==-1?Ce:o<y[0].at?0:y.length-1},[y,o]),w=_.useMemo(()=>{const Ce=r??y?.[k]?.gz??"";return Ie(Ce)||null},[r,y,k]),{manualHour:S}=bp(),A=e.mingSikType??"/",O=_.useMemo(()=>JP(t),[t]),j=_.useMemo(()=>JP(n),[n]),C=_.useMemo(()=>{const Ce=[...O];return(!Ce[3]||Ce[3]===""||Ce[3]==="--")&&S&&(Ce[3]=S.stem+S.branch),Ce},[O,S]),D=_.useMemo(()=>{const Ce=[...j];return(!Ce[3]||Ce[3]===""||Ce[3]==="--")&&S&&(Ce[3]=S.stem+S.branch),Ce},[j,S]),P=_.useMemo(()=>{const Ce=Number(e.birthDay?.slice(0,4)),Pe=Number(e.birthDay?.slice(4,6)),Ge=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(Ce)||!Number.isFinite(Pe)||!Number.isFinite(Ge))return null;const Ne=new Date(Ce,Pe-1,Ge,12,0,0,0),De=Ie(lt(Ne)||""),Be=Ie(St(Ne)||""),st=Ie(mt(Ne,A)||"");return[De,Be,st,""]},[e.birthDay,A]),I=N1(C),U=N1(D),q=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?U?"lunar":I?"solar":"lunar":I?"solar":U?"lunar":"solar",F=_.useMemo(()=>{const Pe=[...q==="lunar"?U?D:I?C:P??["","","",""]:I?C:U?D:P??["","","",""]];return(!Pe[3]||Pe[3]===""||Pe[3]==="--")&&S&&(Pe[3]=S.stem+S.branch),Pe[3]==="--"&&(Pe[3]=""),Pe},[q,I,U,C,D,P,S]),z=_.useMemo(()=>rm(F[2]??""),[F]),W=_.useMemo(()=>nb(F[1]??""),[F]),Z=_.useMemo(()=>lde(e.birthDay),[e.birthDay]),X=_.useMemo(()=>S?S.stem+S.branch:F[3]||"",[S,F]),Y=_.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,w,h,p,b]),J=_.useMemo(()=>Qv({natal:F,tab:i,chain:Y,hourKey:X}),[F,i,Y,X]),ee=_.useMemo(()=>{if(!J)return null;const Ce=Fue(J.perStemElementScaled),Pe=Y.dae?tb(Y.dae):{},Ge=Y.se?tb(Y.se):{},Ne=Y.wol?tb(Y.wol):{},De=Y.il?tb(Y.il):{},Be=Yue([{kind:"natal",bare:Ce},{kind:"dae",bare:Pe},{kind:"se",bare:Ge},{kind:"wol",bare:Ne},{kind:"il",bare:De}]),st=ex(Be),ce=Hue(st),Oe=Bue(Be,J.dayStem),ze=zue(Oe),it=$ue(Be);return{perStemAugBare:Be,perStemAugFull:ce,elemPct100:it,totalsMain:ze,totalsSub:Oe}},[J,Y]),le=_.useMemo(()=>L7(F,{includeBranches:!0}),[F]),oe=_.useMemo(()=>["","","","",""].some(Ce=>!le[Ce]),[le]),B=ee?.elemPct100??J?.elementPercent100??I7(F),V=_.useMemo(()=>{if(!J||!ee)return[];const Ce=S7(J.dayStem);return Object.entries(ee.totalsMain).map(([Pe,Ge])=>({name:Pe,value:Ge,color:Ce[Pe]}))},[J,ee]),ne=ee?.elemPct100??{:0,:0,:0,:0,:0},se=ee?.totalsSub??J?.perTenGodSub??null,fe=_.useMemo(()=>[i,w??"",h??"",p??"",b??"",o?.toISOString?.()??"",X].join("|"),[i,w,h,p,b,o,X]),be=_.useMemo(()=>{const Ce=se?Object.entries(se).sort(([Ge],[Ne])=>Ge.localeCompare(Ne)).map(([Ge,Ne])=>`${Ge}:${Ne}`).join(","):"none",Pe=V.map(Ge=>`${Ge.name}:${Ge.value}`).join(",");return`${fe}||${F.join("")}||${Pe}||${Ce}`},[fe,F,V,se]),ye=typeof rf=="function"?rf(F,J?.totals):null,Te=_.useMemo(()=>(ye?.ordered??[]).map(Pe=>{const Ge=Pe.element??"",Ne=/||wood/i.test(Ge)?"":/||fire/i.test(Ge)?"":/||earth/i.test(Ge)?"":/||metal/i.test(Ge)?"":/||water/i.test(Ge)?"":null,De=typeof Pe.score=="number"?Pe.score:Ne?B[Ne]??0:0,Be=Array.isArray(Pe.reasons)?Pe.reasons:[];return{element:Ge,elNorm:Ne,score:De,reasons:Be}}),[ye,B]),re=_.useMemo(()=>Te.map(Ce=>({element:Ce.element,elNorm:Ce.elNorm,score:Ce.score,reasons:Ce.reasons})),[Te]),ke=_.useMemo(()=>{if(!z||!W)return[];const[Ce,Pe,Ge,Ne]=F,De=[rm(Ce),rm(Pe),rm(Ge),rm(Ne)].filter(Boolean),Be=[nb(Ce),nb(Ge),nb(Ne)].filter(Boolean),st=w7({dayStem:z,monthBranch:W,date:Z,pillars:F,emittedStems:De,otherBranches:Be}),ce=sde(st,z),Oe=ze=>/||wood/i.test(ze)?"":/||fire/i.test(ze)?"":/||earth/i.test(ze)?"":/||metal/i.test(ze)?"":/||water/i.test(ze)?"":null;return(ce??[]).map(ze=>({element:ze.element,elNorm:Oe(ze.element),score:Number.isFinite(ze.score)?ze.score:0,reasons:Array.isArray(ze.reasons)?ze.reasons:[]}))},[F,z,W,Z]),_e=_.useMemo(()=>{const Ce=F[1]||"";return iA({eokbuList:re,monthGz:Ce,elemPct:B,presentMap:le,demoteAbsent:a,gyeokgukList:ke})},[F,re,B,le,a,ke]),ae=_.useMemo(()=>{const Ce=_e.best;return Ce?.candidates?.length?Ce.candidates.map(Pe=>({element:Pe.element,elNorm:Pe.elNorm,score:Pe.score,reasons:Pe.reasons})):Te},[_e,Te]),Ue=_.useMemo(()=>Math.max(0,...ae.map(Ce=>Number.isFinite(Ce.score)?Ce.score:0)),[ae]),Fe=_.useMemo(()=>P7(F,{criteriaMode:"modern",useHarmonyOverlay:!0}),[F]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:w,activePillars:F,chain:Y,unified:J,overlay:ee,chartData:V,elementPct:ne,tenSubTotals100:se,hourKeyForUi:X,revKey:be,yongshinMulti:_e,yongshinRecommend:_e,yongshinList:ae,maxScore:Ue,hasAbsent:oe,dayElementPercent:Fe,isValidActive:N1(F)}}function ude(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function dde(e){const t=new Date(e,1,15,12,0,0,0);return Ie(lt(t)||"")}function fde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=nA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const hde={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Oy(e){return hde[e]??null}function mde(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=eA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=Oy(a);if(l&&(n[l]=!0),QT(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const p=Oy(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function pde(e,t){const n=eA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=Oy(l);if(d&&(r[d]+=50),QT(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((k,w)=>k+(Number.isFinite(w.w)?w.w:0),0),y=b>0?b:1;for(const k of p){const w=Oy(k.stem);w&&(r[w]+=50*k.w/y)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function gde(e,t,n){return e||pde(t,n)}function bde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=_.useMemo(()=>y7(o),[o]),u=Tu(t,t?.mingSikType),d=_.useMemo(()=>Array.isArray(u)?u.filter(ude).slice(0,10):[],[u]),[h,p]=_.useState(0),[b,y]=_.useState(0),k=Math.max(0,Math.min(d.length-1,h)),w=d[k]??null,S=_.useMemo(()=>{if(!w)return[];const K=w.at.getFullYear();return Array.from({length:10},(q,F)=>{const z=K+F;return{year:z,gz:dde(z)}})},[w]),A=b==null?null:Math.max(0,Math.min(S.length-1,b)),O=A==null?null:S[A]??null,j=_.useMemo(()=>mde(n,l),[n,l]),C=_.useMemo(()=>["","","","",""].some(K=>!j[K]),[j]),D=_.useMemo(()=>{const K=w?Ie(w.gz):null,q=O?Ie(O.gz):null;return{dae:K||null,se:q||null,wol:null,il:null}},[w,O]),P=_.useMemo(()=>D.se?"":"",[D.se]),I=_.useMemo(()=>{const K=w?`${w.at.getFullYear()}~ ${Ie(w.gz)}`:" -",q=O?` / ${O.year} ${Ie(O.gz)}`:"";return`${K}${q}`},[w,O]),U=_.useMemo(()=>{if(!w)return null;const K=Qv({natal:n,tab:P,chain:D,hourKey:r}),q=gde(K?.elementPercent100,n,l),F=typeof rf=="function"?rf(n,K?.totals):null,z=fde(F,q);return iA({eokbuList:z,monthGz:n[1]||"",elemPct:q,presentMap:j,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[w,n,P,D,r,j,i,a,l]);return{daeIndex:k,setDaeIndex:p,seIndex:A,setSeIndex:y,dae10:d,se10:S,chain:D,tab:P,label:I,recommend:U,presentMap:j,hasAbsent:C}}const yde={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function j2(e){return e?yde[e]??e:""}function vde(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function xde(e){const t=new Date(e,1,15,12,0,0,0);return Ie(lt(t)||"")}function C1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?nA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${j2(r)}:${i}`:r?`${j2(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function wde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=nA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function eR(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Qv({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??I7(t),h=typeof rf=="function"?rf(t,u?.totals):null,p=wde(h,d);return iA({eokbuList:p,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function _de(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const No=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function tR({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(No,{text:`: ${j2(t.kind)}`,tone:"pick"}),g.jsx(No,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(No,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(No,{text:`${i+1} ${r.element}`}),g.jsx(No,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(No,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function Sde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=_.useMemo(()=>L7(n,{includeBranches:!0}),[n]),l=Tu(t,t?.mingSikType),u=_.useMemo(()=>Array.isArray(l)?l.filter(vde).slice(0,10):[],[l]),d=_.useMemo(()=>C1(a),[a]),[h,p]=_.useState(null),b=w=>p(S=>S===w?null:w),y=_.useMemo(()=>u.map((w,S)=>{const A=Ie(w.gz)||"",j=eR({pillars:n,hourKey:r,chain:{dae:A||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=C1(j),D=w.at.getFullYear(),P=Array.from({length:10},(F,z)=>{const W=D+z,Z=xde(W),Y=eR({pillars:n,hourKey:r,chain:{dae:A||null,se:Z||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),J=C1(Y);return{year:W,snap:J}}),U=_de(P).filter(F=>F.snap.top1ElNorm!==C.top1ElNorm),K=C.top1ElNorm!==d.top1ElNorm,q=K||U.length>0;return{idx:S,dae:w,daeLabel:`${D}~ ${A||""}`,daeSnap:C,daeDiffFromNatal:K,segDiffOnly:U,hasAnyChange:q}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),k=_.useMemo(()=>y.some(w=>w.hasAnyChange),[y]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),k?g.jsx("div",{className:"space-y-3",children:y.map(w=>{const S=`dae:${w.idx}`,A=h===S;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(No,{text:` ${w.daeLabel}`,tone:"base"}),g.jsx(No,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>b(S),title:" (top3) "}),w.daeDiffFromNatal?g.jsx(No,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((O,j)=>{const C=`seg:${w.idx}:${j}`,D=h===C,P=O.fromYear===O.toYear?`${O.fromYear}`:`${O.fromYear}~${O.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(No,{text:` ${P}  ${O.snap.label} ( ${O.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),D?g.jsx(tR,{snap:O.snap}):null]},C)})}):null,A?g.jsx(tR,{snap:w.daeSnap}):null]},S)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}const Cy=({children:e,variant:t="neutral"})=>{const n={neutral:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",violet:"bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-300",amber:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300",indigo:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"};return g.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold tracking-tight shadow-sm ${n[t]}`,children:e})};function kde(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(5,Math.min(100,n))}%`}function Ede({g:e,isBest:t,demoteAbsent:n,hasAbsent:r,onDemoteAbsentChange:i}){const a=e.candidates.slice(0,3);return g.jsxs("details",{open:t,className:`group rounded-2xl border transition-all duration-300 ${t?"border-violet-200 dark:border-violet-800 bg-white dark:bg-neutral-900 shadow-md":"border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50"}`,children:[g.jsx("summary",{className:"list-none cursor-pointer p-4 select-none",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:`text-sm ${t?"font-black text-violet-600":"font-bold text-neutral-700 dark:text-neutral-300"}`,children:[e.marker," ",e.title]}),t&&g.jsx(Cy,{variant:"violet",children:" "}),!e.applicable&&g.jsx(Cy,{variant:"neutral",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-medium text-neutral-400",children:""}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:e.fitScore}),g.jsx("span",{className:"text-neutral-300 group-open:rotate-180 transition-transform",children:""})]})]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed whitespace-normal break-words pr-4",children:e.note})]})}),g.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 py-2 text-center border-t border-neutral-100 dark:border-neutral-800",children:"  ."}):g.jsx("div",{className:"space-y-2 border-t border-neutral-100 dark:border-neutral-800 pt-3",children:a.map((o,l)=>g.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[40px]",children:[g.jsxs("span",{className:"text-[9px] font-bold text-neutral-400 uppercase",children:[l+1,"st"]}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:o.element})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-2 w-full rounded-full bg-neutral-200 dark:bg-neutral-700 overflow-hidden shadow-inner",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${t?"bg-gradient-to-r from-violet-400 to-indigo-500":"bg-neutral-400"}`,style:{width:kde(o.score??0,e.maxScore)}})}),g.jsx("div",{className:"flex flex-wrap gap-1",children:(o.reasons??[]).slice(0,4).map((u,d)=>g.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md bg-white dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400 border border-neutral-100 dark:border-neutral-600 shadow-sm",children:u},d))})]})]},`${e.kind}-${o.element}-${l}`))}),r&&g.jsxs("button",{type:"button",onClick:()=>i?.(!n),className:`px-2 py-1 rounded-full text-[10px] font-bold border transition cursor-pointer ${n?"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800":"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-800 dark:text-neutral-400 dark:border-neutral-700"}`,"aria-pressed":n,children:[" ",n?"ON":"OFF"]})]})]})}function Tde({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] border border-violet-200 dark:border-violet-800 p-6 bg-gradient-to-br from-violet-50 to-white dark:from-violet-950/20 dark:to-neutral-900 shadow-sm",children:[g.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-violet-100 dark:bg-violet-900/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Cy,{variant:"indigo",children:" "}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase",children:" "}),g.jsx("span",{className:"text-lg font-black text-violet-600 dark:text-violet-400",children:e?.fitScore??0})]})]}),g.jsxs("div",{className:"flex items-end gap-3",children:[g.jsx("h4",{className:"text-2xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter",children:e?`${e.marker} ${e.title}`:"  "}),t?.element&&g.jsxs("div",{className:"mb-1 flex items-center gap-1",children:[g.jsx("span",{className:"text-xs text-neutral-400 font-medium",children:"1:"}),g.jsx("span",{className:"text-base font-black text-indigo-500",children:t.element})]})]}),e?.note&&g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed font-medium",children:e.note})]})]})}function Ade({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,onDemoteAbsentChange:a,hasAbsent:o,hiddenStemMode:l}){const u=bde({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:l}),d=o??u.hasAbsent;return g.jsxs("div",{className:"w-full p-6 rounded-[2.5rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-xl space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsx("div",{className:"space-y-1",children:g.jsx("h2",{className:"text-xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter uppercase",children:" "})}),d&&g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx(Cy,{variant:"amber",children:"  "}),i&&g.jsx("span",{className:"text-[9px] text-amber-500 font-bold mt-1",children:" "})]})]}),g.jsx(Tde,{best:e.best}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2",children:[g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"}),g.jsx("span",{className:"text-[10px] font-black text-neutral-300 dark:text-neutral-600 uppercase tracking-widest",children:" "}),g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsx("div",{className:"grid gap-3",children:e.groups.map(h=>g.jsx(Ede,{g:h,isBest:e.bestKind===h.kind,demoteAbsent:i,hasAbsent:d,onDemoteAbsentChange:a},h.kind))})]}),g.jsx("div",{className:"pt-2",children:g.jsx(Sde,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})})]})}const nR=e=>e<10?`0${e}`:`${e}`;function jde(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Wi(i,a,o),u=`${l.getFullYear()}${nR(l.getMonth()+1)}${nR(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Nde(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Ode=["  ","   ","","",""];function Cde(e){return e==="  "||e===""}function Mde({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=vn(p=>p.settings),a=vce(),o=jde(e),l=Nde(o.birthDay)||void 0,u=dn(p=>p.canUseAdvancedReportNow()),d=cde({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=_.useMemo(()=>"    100   ! (  )",[]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap mb-4",children:yce.map(p=>{const b=a.blendTab===p;return g.jsx("button",{onClick:()=>a.setBlendTab(p),className:`
                  px-4 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200 active:scale-95 cursor-pointer
                  ${b?"bg-amber-400 text-amber-950 shadow-[0_2px_10px_rgba(251,191,36,0.4)] border border-amber-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400 border border-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700"}
                `,children:p},p)})}),g.jsxs("div",{className:"flex items-start gap-2 px-4 py-2 bg-amber-50/50 dark:bg-amber-900/10 rounded-xl border border-amber-100/50 dark:border-amber-900/20",children:[g.jsx("span",{className:"text-amber-500 text-[12px] mt-0.5",children:""}),g.jsxs("p",{className:"text-[10.5px] text-amber-700 dark:text-amber-400/80 leading-relaxed font-medium",children:["    ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "})," ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "}),"   ."]})]})]}),g.jsx("div",{className:"flex gap-2 mb-8 justify-center flex-wrap",children:Ode.map(p=>{const b=!u&&Cde(p),y=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:`
                relative px-4 py-2 text-sm font-bold rounded-2xl border transition-all duration-300 active:scale-95 flex items-center gap-1.5 cursor-pointer
                ${y?"bg-violet-600 text-white border-violet-500 shadow-[0_4px_12px_rgba(139,92,246,0.3)] z-10":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-400 border-neutral-200 dark:border-neutral-800 hover:border-violet-300 dark:hover:border-violet-700"}
                ${b?"opacity-70 bg-neutral-50 dark:bg-neutral-900/50":""}
              `,children:[g.jsx("span",{className:b?"mr-1":"",children:p}),b&&g.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-neutral-200 dark:bg-neutral-800 rounded-full text-[10px]",children:""}),y&&!b&&g.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},p)})}),a.bigTab===""&&g.jsx(qse,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx($se,{data:d.chartData,perStemElementScaled:d.overlay?.perStemAugFull,dayStem:d.activePillars[2]?.charAt(0)??null,yongshinTop:d.yongshinMulti?.best?.candidates?.[0]?.element??null,yongshinKind:d.yongshinMulti?.bestKind??null},`pentagon-${d.revKey}`),g.jsx(Yse,{natal:d.activePillars,perStemElementScaled:d.overlay?.perStemAugFull}),g.jsx(Use,{value:d.dayElementPercent}),g.jsx(ale,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Ade,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,onDemoteAbsentChange:a.setDemoteAbsent,hasAbsent:d.hasAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(Vse,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(ace,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const rb=e=>typeof e=="string"&&e.length>=2,Dde=e=>!Array.isArray(e)||e.length!==4?!1:rb(e[0])&&rb(e[1])&&rb(e[2])&&(e[3]===""||rb(e[3]));function Pde({data:e}){const[t,n]=_.useState("un"),r=Xl(),i=dn(d=>d.canUseMyoViewerNow());_.useEffect(()=>{t==="myoun"&&!i&&n("un")},[t,i]);const a=_.useMemo(()=>{try{const d=Ef(e);return Gl(d,r)}catch{return new Date}},[e,r]),o=_.useMemo(()=>Xv(e,a),[e,a]),l=!e.birthTime||e.birthTime==="",u=_.useMemo(()=>{try{const d=lt(o,e.birthPlace?.lon),h=St(o,e.birthPlace?.lon),p=mt(o,e.mingSikType),b=l?"":Ja(o,e.mingSikType);return[d,h,p,b]}catch{return[]}},[o,e?.mingSikType,e?.birthPlace?.lon,l]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),i?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(Nse,{data:e}),t==="myoun"&&i&&g.jsx(Dse,{data:e}),t==="report"&&g.jsx(Mde,{data:e,pillars:Dde(u)?u:[]})]})}function Rde({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=yn(C=>C.list.length),a=dn(C=>C.canAddMyeongsik),[o,l]=_.useState(!1);_.useEffect(()=>{let C=!0;Re.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:D}=Re.auth.onAuthStateChange((P,I)=>{l(!!I?.user)});return()=>{C=!1,D.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,p=h?d.message:"",b=()=>{if(h){fa(p||"   ");return}t()},y=()=>{if(h){fa(p||"   ");return}n()},k=()=>{ws.getState().openWith("HEADER")},w=async()=>{const{error:C}=await Re.auth.signOut();if(C){console.error(C),fa("  ");return}fa(" ")},S="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",A="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",O="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",j="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(IZ,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${S} ${h?j:A}`,children:[g.jsx(WZ,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:y,"aria-label":"  ",disabled:h,title:"  ",className:`${S} ${h?j:O}`,children:[g.jsx(YZ,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:w,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:k,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Lde(e){_.useEffect(()=>{const t=e??Y5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");K5(t),e&&q5(e)},[e])}const $7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Ide(e){return typeof e=="string"&&$7.includes(e)}function N2(e){const t=Array.isArray(e)?e.filter(Ide):[],n=$7.filter(r=>!t.includes(r));return[...t,...n]}function O2(e){return{...Rl,...e,sectionOrder:N2(e.sectionOrder)}}function $de(e,t){return e.theme??t.theme??"dark"}function Bde({open:e,settings:t}){const n=_.useMemo(()=>N2(t.sectionOrder),[t.sectionOrder]),r=_.useMemo(()=>O2(t),[t]),[i,a]=_.useState(n),[o,l]=_.useState(r),[u,d]=_.useState(null),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e||h)return;const y=N2(t.sectionOrder);l({...O2(t),sectionOrder:y}),a(y),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(y,k)=>{l(w=>{const S={...w,[y]:k};return p(!0),S})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:p}}function zde(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function B7(e){q5(e)}function Ude({setSettings:e,saveToServer:t}){return{applyChanges:_.useCallback(async(r,i,a)=>{const o={...O2(r),sectionOrder:i};zde(),_.startTransition(()=>{e(o)}),o.theme&&B7(o.theme),a(),t(!0)},[e,t])}}function Fde({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=vn(),a=Bde({open:e,settings:n}),o=Ude({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=$de(a.localSettings,n);Lde(u),_.useEffect(()=>{B7(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:y,source:k}=b;if(!y||y.index===k.index)return;const w=Array.from(a.order),[S]=w.splice(k.index,1);w.splice(y.index,0,S),a.setOrder(w)},p=b=>{switch(b){case"theme":return g.jsx(Ba,{title:"",children:g.jsx(Hde,{value:a.localSettings.theme??"dark",onChange:y=>a.updateSetting("theme",y)})});case"hiddenStem":return g.jsx(Ba,{title:"  ",children:g.jsx(Ed,{value:a.localSettings.hiddenStem,onChange:y=>a.updateSetting("hiddenStem",y),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Ba,{title:" ",children:g.jsx(Ed,{value:a.localSettings.hiddenStemMode,onChange:y=>a.updateSetting("hiddenStemMode",y),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Ba,{title:"",children:g.jsx(Ed,{value:a.localSettings.sinsalMode,onChange:y=>a.updateSetting("sinsalMode",y),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Ba,{title:"",children:g.jsx(Ed,{value:a.localSettings.sinsalBase,onChange:y=>a.updateSetting("sinsalBase",y),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Ba,{title:" ",children:g.jsx(ko,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:y=>a.updateSetting("sinsalBloom",y)})});case"exposure":return g.jsx(Ba,{title:" ",children:g.jsx(Ed,{value:a.localSettings.exposure,onChange:y=>a.updateSetting("exposure",y),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Ba,{title:" ",children:g.jsx(Ed,{value:a.localSettings.charType,onChange:y=>a.updateSetting("charType",y),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Ba,{title:" ",children:g.jsx(ko,{label:" ",checked:!!a.localSettings.thinEum,onChange:y=>a.updateSetting("thinEum",y)})});case"visibility":return g.jsx(Ba,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(ko,{label:" ",checked:!!a.localSettings.showSipSin,onChange:y=>a.updateSetting("showSipSin",y)}),g.jsx(ko,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:y=>a.updateSetting("showSibiUnseong",y)}),g.jsx(ko,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:y=>a.updateSetting("showSibiSinsal",y)}),g.jsx(ko,{label:" ",checked:!!a.localSettings.showNabeum,onChange:y=>a.updateSetting("showNabeum",y)}),g.jsx(ko,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:y=>a.updateSetting("showEtcShinsal",y)}),g.jsx(ko,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:y=>a.updateSetting("showRelationBox",y)}),g.jsx(ko,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:y=>a.updateSetting("showPromptBox",y)})]})});case"difficultyMode":return g.jsx(Ba,{title:" UP ver.",children:g.jsx(ko,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:y=>a.updateSetting("difficultyMode",y)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(xp,{onDragEnd:h,children:g.jsx(Sf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((y,k)=>g.jsx(_f,{draggableId:y,index:k,children:w=>g.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(y)})]})},y)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(k6,{message:a.toastMessage,onClose:l,ms:1800})]})}function Hde({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Ba({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function Ed({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function ko({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function Gde(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=yn(h=>h.list),a=Vl();_.useEffect(()=>{r(yn.getState().loading);const h=yn.subscribe(p=>{r(p.loading)});return()=>h()},[]);const o=()=>{if(!n){if(i.length===0){alert("    !");return}a("/iching")}},d={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:d,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(im,{icon:g.jsx(OZ,{size:22}),label:"",onClick:()=>a("/")}),g.jsx(im,{icon:g.jsx(jZ,{size:22}),label:"",onClick:()=>a("/couple")}),g.jsx(im,{icon:g.jsx(qB,{size:22}),label:"FAQ",onClick:()=>a("/faq")}),g.jsx(im,{icon:g.jsx(UZ,{size:22}),label:"",onClick:()=>t(!0)}),g.jsx(im,{icon:g.jsx(HZ,{size:22}),label:"",onClick:o})]})}),g.jsx(Fde,{open:e,onClose:()=>t(!1)})]})}function im({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const z7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),My=e=>z7(e).join(""),Yde=()=>{const[e,t]=_.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(ID);return u?JSON.parse(u):{}}catch{return{}}});_.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(ID,JSON.stringify(e))}catch{}},[e]);const[n,r]=_.useState({}),[i,a]=_.useState(""),[o,l]=_.useState(()=>{const u=by(),d=yy(),h=d.length?jm(u,d):u;return Rd(h,e)});return _.useEffect(()=>{l(u=>{const d=Rd(u,e);return My(d)===My(u)?u:d})},[e]),_.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},qde=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=_.useMemo(()=>{const i=Gv(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[fr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},am=async()=>{const{data:e,error:t}=await Re.auth.getUser();return t||!e.user?null:e.user.id},Kde=async e=>{const{data:t,error:n}=await Re.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Wde=async e=>{const{data:t,error:n}=await Re.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Vde=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Re.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Re.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Zde=async(e,t)=>{const{error:n}=await Re.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Xde=async(e,t)=>{const{error:n}=await Re.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Jde=async(e,t)=>{const{error:n}=await Re.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Qde=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=_.useState(!1),o=_.useRef(e),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>{o.current=e},[e]),_.useEffect(()=>{(async()=>{if(i)return;const O=await am();if(!O)return;try{if(!u.current){const I=await Kde(O);I.disabled&&(u.current=!0),I.error?console.error("load custom folders from server error:",I.error):I.data.length&&RT(I.data)}}catch(I){console.error("load custom folders exception:",I)}const j=await Wde(O);if(j.error){console.error("load folder order from server error:",j.error),a(!0);return}const C=by(),D=j.data,P=D.length?jm(C,D):jm(C,yy());n(Rd(P,o.current)),D.length&&Ld(D),a(!0)})()},[i,n]);const d=_.useCallback(async A=>{const O=await am();if(!O)return;const j=await Vde(O,A);j.error&&console.error("save folder order to server error:",j.error)},[]),h=_.useRef(null),p=_.useRef(null),b=_.useRef(""),y=_.useCallback((A,O)=>{const j=z7(A),C=My(j);if(C&&C===b.current)return;h.current=j;const D=async()=>{const P=h.current;if(h.current=null,!P)return;const I=My(P);I&&I===b.current||(await d(P),b.current=I)};if(O?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),D();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,D()},300)},[d]);_.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const A=h.current;h.current=null,A&&A.length&&d(A)},[d]),_.useEffect(()=>{if(typeof window>"u")return;const A=()=>{if(l.current){l.current=!1;return}const O=by(),j=yy(),C=j.length?jm(O,j):O;n(Rd(C,o.current))};return window.addEventListener(Yl,A),()=>window.removeEventListener(Yl,A)},[n]);const k=_.useCallback(A=>{const{source:O,destination:j,type:C}=A;if(!j||C!=="FOLDER")return;const D=O.index,P=j.index;D!==P&&n(I=>{if(!I.length)return I;const U=[...I],[K]=U.splice(D,1);U.splice(P,0,K);const q=Rd(U,o.current);return l.current=!0,Ld(q),y(q),q})},[y,n]),w=_.useCallback(A=>{const O=A.trim();!O||O===bn||(S6(O),(async()=>{if(u.current)return;const j=await am();if(!j)return;const C=await Xde(j,O);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(j=>{if(j.includes(O))return j;const C=[...j,O],D=Rd(C,o.current);return Ld(D),y(D,{immediate:!0}),D}))},[y,n]),S=_.useCallback(A=>{r(A),t(O=>{const j={...O};return delete j[A],j}),n(O=>{const j=O.filter(C=>C!==A);return Ld(j),y(j,{immediate:!0}),(async()=>{const C=await am();if(!C)return;const D=await Zde(C,A);D.error&&console.error("delete folder order entry error:",D.error)})(),j}),x6.includes(A)?Nre(A):(jre(A),(async()=>{if(u.current)return;const O=await am();if(!O)return;const j=await Jde(O,A);j.disabled&&(u.current=!0),j.error&&console.error("delete custom folder error:",j.error)})())},[y,t,n,r]);return{handleDragEnd:k,createFolder:w,deleteFolder:S,UNASSIGNED_LABEL:bn}};function efe(e,t){const n=Yde(),r=qde({list:e,orderedFolders:n.orderedFolders}),i=Qde({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function tfe({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=yn(p=>p.list.length),o=dn(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){fa(u||"  ");return}t()},h=async()=>{const{error:p}=await Re.auth.signOut();if(p){console.error(p),fa(" ");return}fa(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("h2",{className:"text-lg font-bold",children:" "})}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(RZ,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(KB,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(BZ,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(oy,{size:22})})]})]})}function nfe({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(TZ,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function rfe({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r,totalCount:i,collapsed:a,onToggleCollapse:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:l=>l.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:l=>{l.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:r?"   .":"/      ."}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"  "}),g.jsx("span",{className:"mx-1",children:""}),g.jsxs("span",{className:"font-semibold text-amber-500 dark:text-amber-600",children:[i,""]})]}),g.jsx("button",{type:"button",onClick:o,className:"px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-xs text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:a?"  ":"  "})]}),g.jsx("div",{className:"text-xs mb-2 text-neutral-900 dark:text-neutral-100",children:"         !"})]})}function rR({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(Sf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function ife({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(_f,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(SZ,{size:16}):g.jsx(wZ,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(WB,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const afe=()=>({canManage:dn(()=>!0)}),Wm="";function ofe(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Wm?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function sfe(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function iR(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function lfe(e,t){const n=kf(e),r=_p(t);if(!n||!r)return null;const i=new Date(n.y,n.m-1,n.d,r.hh,r.mm,0,0),a=new Date(i.getTime()-3600*1e3),o=String(a.getFullYear()).padStart(4,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0"),d=String(a.getHours()).padStart(2,"0"),h=String(a.getMinutes()).padStart(2,"0");return{birthDay:`${o}${l}${u}`,birthTime:`${d}${h}`}}function cfe(e){const t=iR(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Gm(r,i,a)||!e.birthTime||e.birthTime===Wm)return t;const o=lfe(n,e.birthTime);if(!o)return t;const l=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(l.getTime()))return t;const u=new Date(l.getTime()-3600*1e3),d=jT({...e,birthDay:o.birthDay,birthTime:o.birthTime,corrected:u});return iR({...e,...d})}function ufe(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function dfe(e,t){return Number.isNaN(e)?0:t-e+1}function ffe(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function hfe(e){return e===""?"":e===""?"":e??""}function mfe(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function pfe(e,t){if(t)return Wm;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?p2(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),d=Number(n.slice(6,8));if(!Gm(l,u,d)||!e.birthTime||e.birthTime===Wm)return o;if(a){const p=new Date(i.getTime()-36e5);return p2(p)}return mfe(r)??o}function gfe({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=cfe(e),o=sfe(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=hfe(e.gender),d=!e.birthTime||e.birthTime===Wm,h=pfe(e,d),p=!!(o||h),b=ofe(e.birthDay,e.birthTime),y=e.calendarType==="lunar"?"":"",k=ufe(e.birthDay),w=dfe(k,new Date().getFullYear()),S=!!(e.memo&&e.memo.trim()!==""),A=t?" ":" ",O=e.mingSikType??"/",j=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:j,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:y,correctedLabel:h,showMetaLine:p,showMemo:S,memoToggleLabel:A,age:w,mingSikTypeValue:O,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:ffe}}const bfe=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=_.useCallback(S=>{S?.stopPropagation(),n(e.id)},[n,e.id]),h=_.useCallback(S=>{S?.stopPropagation(),a(e)},[a,e]),p=_.useCallback(S=>{S?.stopPropagation(),o(e)},[o,e]),b=_.useCallback(S=>{S?.stopPropagation(),l(e)},[l,e]),y=_.useCallback(S=>{S?.stopPropagation(),u(e.id)},[u,e.id]),k=_.useCallback(S=>{const A=S===t?void 0:S;r(e.id,A)},[r,e.id,t]),w=_.useCallback(S=>{i(e,S)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:y,handleFolderChange:k,handleMingSikTypeChange:w}};function aR({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,collapsed:a,memoOpen:o,onToggleMemo:l,onToggleCollapsed:u,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k}){afe();const w=gfe({m:e,memoOpen:o,isDragDisabled:i}),S=a,A=bfe({m:e,unassignedLabel:r,onToggleMemo:l,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k});return g.jsx(_f,{draggableId:w.keyId,index:t,isDragDisabled:i,children:O=>g.jsx("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:O.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,onClick:()=>{S&&A.handleView()},children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",w.age,"",w.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 text-nowrap",children:w.relationshipLabel}),g.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[g.jsx("span",{className:"opacity-50 select-none",children:w.dragHandleLabel}),g.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),u()},className:"text-xs px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:S?" ":" "})]})]}),!S&&g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[w.birthDisplay,", ",w.calendarLabel]}),!S&&w.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[w.placeDisplay,w.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",w.correctedLabel]})]}),w.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:w.ganji}),!S&&w.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:A.handleToggleMemo,children:w.memoToggleLabel}),g.jsx("div",{className:o?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),!S&&g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:j=>j.stopPropagation(),onChange:j=>{j.stopPropagation(),A.handleFolderChange(j.target.value)},children:[r,...n].map(j=>g.jsx("option",{value:j,children:j},j))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:w.mingSikTypeValue,onClick:j=>j.stopPropagation(),onChange:j=>{j.stopPropagation(),A.handleMingSikTypeChange(j.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),!S&&g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:A.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:A.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:w.editLabel}),g.jsx("button",{type:"button",title:"",onClick:A.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:w.deleteLabel}),g.jsx("button",{type:"button",title:w.favoriteLabel,onClick:A.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":w.favoriteLabel,children:g.jsx(WB,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},w.keyId)}const yfe="list:__unassigned__",vfe=e=>`list:${e}`,oR=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},xfe=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=p6(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=_.useMemo(()=>ure({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},wfe=({list:e,orderedFolders:t})=>{const[n,r]=_.useState(""),[i,a]=_.useState("name"),[o,l]=_.useState({}),u=_.useRef(null),d=_.useRef(null);return _.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(y=>({...y,[b]:!y[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},sR=()=>{typeof window>"u"||window.dispatchEvent(new Event(Yl))},_fe=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:y,createFolder:k,deleteFolder:w,newFolderName:S,setNewFolderName:A,stashScrollTop:O})=>{const j=_.useCallback((z,W)=>{const{nextList:Z}=rre({list:e,orderedFolders:t,targetId:z,nextFolder:W??""});a(Z)},[e,t,a]),C=_.useCallback((z,W)=>{const Z={...z,mingSikType:W},X=jT(Z);o(z.id,{mingSikType:W,...X}),u({...Z,...X}),d()},[o,u,d]),D=_.useCallback(z=>{u(z),d()},[u,d]),P=_.useCallback(z=>{confirm(`'${z.name}'  ?`)&&(l(z.id),h&&h())},[l,h]),I=_.useCallback(()=>{const z=S.trim();z&&(k(z),A(""),sR())},[S,k,A]),U=_.useCallback(z=>{if(p[z]){alert(`'${z}'   .
   .`);return}confirm(`'${z}'  ?
(   )`)&&(w(z),sR())},[p,w]),K=_.useCallback(z=>{y(W=>({...W,[z]:!W[z]}))},[y]),q=_.useCallback(z=>{b(W=>({...W,[z]:!W[z]}))},[b]);return{handleDrop:_.useCallback(z=>{const{type:W,source:Z,destination:X,draggableId:Y}=z;if(X&&!n){if(O(),W==="FOLDER"){r(z);return}if(W==="ITEM"){if(!Y.replace(/^item:/,""))return;const ee=oR(Z.droppableId),le=oR(X.droppableId);i({orderedFolders:t,sourceFolder:ee,sourceIndex:Z.index,destinationFolder:le,destinationIndex:X.index})}}},[n,O,r,i,t]),changeFolder:j,changeMingSikType:C,viewAndClose:D,requestDelete:P,createFolderAndNotify:I,requestDeleteFolder:U,toggleFolderOpen:K,toggleFolderFavorite:q}};function Sfe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=_.useState(!1),d=vn(_e=>_e.settings),h=vn(_e=>_e.setKey),p=vn(_e=>_e.saveToServer),{list:b,remove:y,update:k,moveItemByDnD:w,toggleFavoriteWithReorder:S,unsetFolderForFolder:A,applyNextList:O}=yn(),{folderFavMap:j,setFolderFavMap:C,folderOpenMap:D,setFolderOpenMap:P,newFolderName:I,setNewFolderName:U,orderedFolders:K,grouped:q,unassignedItems:F,handleDragEnd:z,createFolder:W,deleteFolder:Z,UNASSIGNED_LABEL:X}=efe(b,{unsetFolderForFolder:A}),Y=wfe({list:b,orderedFolders:K}),J=d.sidebarCardsCollapsed,ee=d.sidebarCardCollapsedMap,le=_e=>ee[_e]??J,oe=_e=>{h("sidebarCardCollapsedMap",_e),p()},B=_e=>{h("sidebarCardsCollapsed",_e);const ae=b.reduce((Ue,Fe)=>(Ue[Fe.id]=_e,Ue),{});oe(ae)},V=_e=>{oe({...ee,[_e]:!(ee[_e]??!0)})},{isFiltering:ne,filteredUnassigned:se,filteredGrouped:fe,totalMatches:be}=xfe({search:Y.search,searchMode:Y.searchMode,orderedFolders:K,unassignedItems:F,grouped:q}),ye=_fe({list:b,applyNextList:O,orderedFolders:K,isFiltering:ne,handleFolderDragEnd:z,moveItemByDnD:w,update:k,remove:y,onView:n,onClose:t,onDeleteView:a,folderFavMap:j,setFolderFavMap:C,setFolderOpenMap:P,createFolder:W,deleteFolder:Z,newFolderName:I,setNewFolderName:U,stashScrollTop:Y.stashScrollTop}),Te=()=>{u(!0)},re=_e=>{Eu.flushSync(()=>{u(!1),ye.handleDrop(_e)})},ke=()=>{ws.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(tfe,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{ke()},isLoggedIn:o}),g.jsx(xp,{onBeforeDragStart:Te,onDragEnd:re,children:g.jsxs("div",{ref:Y.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsxs(g.Fragment,{children:[g.jsx(nfe,{search:Y.search,setSearch:Y.setSearch,searchMode:Y.searchMode,setSearchMode:Y.setSearchMode,isFiltering:ne,totalMatches:be}),g.jsx(rfe,{newFolderName:I,setNewFolderName:U,isFiltering:ne,onCreate:ye.createFolderAndNotify,totalCount:b.length,collapsed:J,onToggleCollapse:()=>B(!J)})]}),g.jsx(rR,{droppableId:yfe,isDropDisabled:ne,className:"mb-6",items:se.map((_e,ae)=>g.jsx(aR,{m:_e,index:ae,orderedFolders:K,unassignedLabel:X,isDragDisabled:ne,collapsed:le(_e.id),memoOpen:!!Y.memoOpenMap[_e.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>V(_e.id),onChangeFolder:ye.changeFolder,onChangeMingSikType:ye.changeMingSikType,onView:ye.viewAndClose,onEdit:Ue=>i(Ue),onDelete:ye.requestDelete,onToggleFavorite:Ue=>void S(Ue,K)},_e.id))}),g.jsx(Sf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:ne,children:_e=>g.jsxs("div",{ref:_e.innerRef,..._e.droppableProps,children:[K.map((ae,Ue)=>{const Fe=vfe(ae),Ce=fe[ae]||[],Pe=!!D[ae],Ge=!!j[ae];return g.jsx(ife,{folderName:ae,folderIndex:Ue,isOpen:Pe,isFavorite:Ge,itemCount:Ce.length,isDragDisabled:ne,onToggleOpen:()=>ye.toggleFolderOpen(ae),onToggleFavorite:()=>ye.toggleFolderFavorite(ae),onDelete:()=>ye.requestDeleteFolder(ae),inner:g.jsx(rR,{droppableId:Fe,isDropDisabled:ne,className:"mt-2",items:Ce.map((Ne,De)=>g.jsx(aR,{m:Ne,index:De,orderedFolders:K,unassignedLabel:X,isDragDisabled:ne,collapsed:le(Ne.id),memoOpen:!!Y.memoOpenMap[Ne.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>V(Ne.id),onChangeFolder:ye.changeFolder,onChangeMingSikType:ye.changeMingSikType,onView:ye.viewAndClose,onEdit:Be=>i(Be),onDelete:ye.requestDelete,onToggleFavorite:Be=>void S(Be,K)},Ne.id))})},`folder-${ae}`)}),_e.placeholder]})})]})})]})]})}function lR(e){return{...e,calendarType:e.calendarType??"solar"}}function cR(e){return!e.birthTime||e.birthTime===""}function uR(e){return!e.birthPlace||e.birthPlace.name===""}function kfe(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Wi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const U7="ms_folders";function Efe(){try{const e=JSON.parse(localStorage.getItem(U7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function Tfe(e){localStorage.setItem(U7,JSON.stringify(e))}function Afe(e){const[t,n]=_.useState(!1),[r,i]=_.useState(()=>lR(e)),[a,o]=_.useState(cR(e)),[l,u]=_.useState(uR(e)),[d,h]=_.useState([]);return _.useEffect(()=>{h(Efe())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(y,k)=>{i(w=>({...w,[y]:k}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(lR(e)),o(cR(e)),u(uR(e))}}}const F7=["","","","","",""];function jfe(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...F7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[bn,...i]}function Nfe({list:e,customFolders:t,form:n}){const r=_.useMemo(()=>jfe(e,t),[e,t]),i=_.useMemo(()=>kfe(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Ofe(e,t,n){if(!e.name||e.name.trim()==="")return"";const r=NT(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=OT(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"":null:i.message}function Cfe({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=Ofe(t,n,r);if(b){alert(b);return}const y=uu(t.folder===bn?void 0:t.folder),k=u6({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:y,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!k.ok){alert(k.message);return}const w={...e,...k.value};if(w.folder&&!F7.includes(w.folder)&&!i.includes(w.folder)){const S=[...i,w.folder];a(S),Tfe(S)}o(e.id,w),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const M1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Mfe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Dfe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",bs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Pfe="text-xs text-neutral-500 dark:text-neutral-400",ib="accent-violet-600 dark:accent-violet-400",dR="accent-violet-600 dark:accent-violet-400",tx="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Rfe=`${tx} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Lfe=`${tx} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,fR=`${tx} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Ife=`${tx} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function $fe({item:e,onClose:t}){const{list:n,update:r,remove:i}=yn(),a=Afe(e),o=Nfe({list:n,customFolders:a.customFolders,form:a.form}),l=Cfe({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("input",{className:M1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:bs,children:" (YYYYMMDD)"}),g.jsx("input",{className:M1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:ib,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:ib,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Pfe,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:"  (HHMM)"}),g.jsx("input",{className:`${M1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:dR,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:bs,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:ib,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:ib,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:" "}),g.jsx(VB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:dR,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx(v6,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("select",{className:Mfe,value:a.form.folder??bn,onChange:u=>{const d=u.target.value;d===bn?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===bn?bn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("textarea",{className:Dfe,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:fR,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Ife,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Rfe,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Lfe,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:fR,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??bn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Bfe({children:e}){const t=Br(),[n,r]=_.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function zfe(){const[e,t]=_.useState(null),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{const{data:a}=await Re.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Re.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Ufe({allow:e,children:t}){const{role:n,loading:r}=zfe();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function H7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=H7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=H7(e))&&(r&&(r+=" "),r+=t);return r}var Ffe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function aA(e){if(typeof e!="string")return!1;var t=Ffe;return t.includes(e)}var Hfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Gfe=new Set(Hfe);function G7(e){return typeof e!="string"?!1:Gfe.has(e)}function Y7(e){return typeof e=="string"&&e.startsWith("data-")}function eo(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(G7(n)||Y7(n))&&(t[n]=e[n]);return t}function nx(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return eo(t)}return typeof e=="object"&&!Array.isArray(e)?eo(e):null}function _a(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(G7(n)||Y7(n)||aA(n))&&(t[n]=e[n]);return t}function Yfe(e){return e==null?null:_.isValidElement(e)?_a(e.props):typeof e=="object"&&!Array.isArray(e)?_a(e):null}var qfe=["children","width","height","viewBox","className","style","title","desc"];function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C2.apply(null,arguments)}function Kfe(e,t){if(e==null)return{};var n,r,i=Wfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var q7=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=Kfe(e,qfe),p=a||{width:r,height:i,x:0,y:0},b=rn("recharts-surface",o);return _.createElement("svg",C2({},_a(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,d),n)}),Vfe=["children","className"];function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M2.apply(null,arguments)}function Zfe(e,t){if(e==null)return{};var n,r,i=Xfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lo=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Zfe(e,Vfe),a=rn("recharts-layer",r);return _.createElement("g",M2({className:a},_a(i),{ref:t}),n)}),Jfe=_.createContext(null);function Tn(e){return function(){return e}}const D2=Math.PI,P2=2*D2,Xc=1e-6,Qfe=P2-Xc;function K7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ehe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return K7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class the{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?K7:ehe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Xc)if(!(Math.abs(p*u-d*h)>Xc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,k=i-l,w=u*u+d*d,S=y*y+k*k,A=Math.sqrt(w),O=Math.sqrt(b),j=a*Math.tan((D2-Math.acos((w+b-S)/(2*A*O)))/2),C=j/O,D=j/A;Math.abs(C-1)>Xc&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*y>h*k)},${this._x1=t+D*u},${this._y1=n+D*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Xc||Math.abs(this._y1-h)>Xc)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%P2+P2),b>Qfe?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:b>Xc&&this._append`A${r},${r},0,${+(b>=D2)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function W7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new the(t)}function oA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function V7(e){this._context=e}V7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rx(e){return new V7(e)}function Z7(e){return e[0]}function X7(e){return e[1]}function J7(e,t){var n=Tn(!0),r=null,i=rx,a=null,o=W7(l);e=typeof e=="function"?e:e===void 0?Z7:Tn(e),t=typeof t=="function"?t:t===void 0?X7:Tn(t);function l(u){var d,h=(u=oA(u)).length,p,b=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,d,u),+t(p,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Tn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Tn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Tn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function ab(e,t,n){var r=null,i=Tn(!0),a=null,o=rx,l=null,u=W7(d);e=typeof e=="function"?e:e===void 0?Z7:Tn(+e),t=typeof t=="function"?t:Tn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?X7:Tn(+n);function d(p){var b,y,k,w=(p=oA(p)).length,S,A=!1,O,j=new Array(w),C=new Array(w);for(a==null&&(l=o(O=u())),b=0;b<=w;++b){if(!(b<w&&i(S=p[b],b,p))===A)if(A=!A)y=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=b-1;k>=y;--k)l.point(j[k],C[k]);l.lineEnd(),l.areaEnd()}A&&(j[b]=+e(S,b,p),C[b]=+t(S,b,p),l.point(r?+r(S,b,p):j[b],n?+n(S,b,p):C[b]))}if(O)return l=null,O+""||null}function h(){return J7().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Tn(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Tn(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Tn(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:Tn(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Tn(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Tn(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Tn(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),d):a},d}class Q7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function nhe(e){return new Q7(e,!0)}function rhe(e){return new Q7(e,!1)}function Dy(){}function Py(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function e9(e){this._context=e}e9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Py(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ihe(e){return new e9(e)}function t9(e){this._context=e}t9.prototype={areaStart:Dy,areaEnd:Dy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ahe(e){return new t9(e)}function n9(e){this._context=e}n9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ohe(e){return new n9(e)}function r9(e){this._context=e}r9.prototype={areaStart:Dy,areaEnd:Dy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function she(e){return new r9(e)}function hR(e){return e<0?-1:1}function mR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(hR(a)+hR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function pR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function D1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function Ry(e){this._context=e}Ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D1(this,this._t0,pR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,D1(this,pR(this,n=mR(this,e,t)),n);break;default:D1(this,this._t0,n=mR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function i9(e){this._context=new a9(e)}(i9.prototype=Object.create(Ry.prototype)).point=function(e,t){Ry.prototype.point.call(this,t,e)};function a9(e){this._context=e}a9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function lhe(e){return new Ry(e)}function che(e){return new i9(e)}function o9(e){this._context=e}o9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=gR(e),i=gR(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gR(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function uhe(e){return new o9(e)}function ix(e,t){this._context=e,this._t=t}ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function dhe(e){return new ix(e,.5)}function fhe(e){return new ix(e,0)}function hhe(e){return new ix(e,1)}function of(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function R2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function mhe(e,t){return e[t]}function phe(e){const t=[];return t.key=e,t}function ghe(){var e=Tn([]),t=R2,n=of,r=mhe;function i(a){var o=Array.from(e.apply(this,arguments),phe),l,u=o.length,d=-1,h;for(const p of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(p,o[l].key,d,a)]).data=p;for(l=0,h=oA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Tn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Tn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?R2:typeof a=="function"?a:Tn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??of,i):n},i}function bhe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}of(e,t)}}function yhe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}of(e,t)}}function vhe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,y=(p-b)/2,k=0;k<l;++k){var w=e[t[k]],S=w[r][1]||0,A=w[r-1][1]||0;y+=S-A}u+=p,d+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,of(e,t)}}var P1={},R1={},bR;function xhe(){return bR||(bR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(R1)),R1}var L1={},yR;function s9(){return yR||(yR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(L1)),L1}var I1={},vR;function sA(){return vR||(vR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(I1)),I1}var $1={},B1={},xR;function whe(){return xR||(xR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(B1)),B1}var wR;function lA(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=whe(),n=sA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];d?p==="\\"&&l+1<o?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})($1)),$1}var _R;function cA(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xhe(),n=s9(),r=sA(),i=lA();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}e.get=a})(P1)),P1}var z1,SR;function _he(){return SR||(SR=1,z1=cA().get),z1}var She=_he();const ax=_i(She);var ba=e=>e===0?0:e>0?1:-1,to=e=>typeof e=="number"&&e!=+e,Cs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!to(e),Io=e=>Qe(e)||typeof e=="string",khe=0,Vm=e=>{var t=++khe;return"".concat(e||"").concat(t)},Kl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return r;var a;if(Cs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return to(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},l9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Oo(e,t,n){return Qe(e)&&Qe(t)?e+n*(t-e):t}function c9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ax(r,t))===n)}var Ar=e=>e===null||typeof e>"u",uA=e=>Ar(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ehe(e){return e!=null}function Ap(){}var u9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,dA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{aA(i)&&(r[i]=(a=>n[i](n,a)))}),r},The=(e,t,n)=>r=>(e(t,n,r),null),Ahe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];aA(i)&&typeof a=="function"&&(r||(r={}),r[i]=The(a,t,n))}),r};function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(r){Nhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nhe(e,t,n){return(t=Ohe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ohe(e){var t=Che(e,"string");return typeof t=="symbol"?t:t+""}function Che(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(e,t){var n=jhe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var U1={},F1={},ER;function Mhe(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(F1)),F1}var H1={},TR;function d9(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(H1)),H1}var G1={},Y1={},q1={},AR;function Dhe(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(q1)),q1}var jR;function fA(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dhe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Y1)),Y1}var K1={},NR;function Phe(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(K1)),K1}var OR;function Rhe(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fA(),n=Phe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(G1)),G1}var W1={},V1={},CR;function Lhe(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(V1)),V1}var Z1={},X1={},J1={},Q1={},MR;function f9(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Q1)),Q1}var eS={},DR;function h9(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(eS)),eS}var tS={},PR;function m9(){return PR||(PR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(tS)),tS}var RR;function Ihe(){return RR||(RR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9(),n=h9(),r=m9();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function y(k,w,S,A,O,j){const C=b(k,w,S,A,O,j);return C!==void 0?!!C:a(k,w,y,j)},new Map)}function a(h,p,b,y){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,y);case"function":return Object.keys(p).length>0?a(h,{...p},b,y):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,y);if(p instanceof Map)return l(h,p,b,y);if(p instanceof Set)return d(h,p,b,y);const k=Object.keys(p);if(h==null)return k.length===0;if(k.length===0)return!0;if(y?.has(p))return y.get(p)===h;y?.set(p,h);try{for(let w=0;w<k.length;w++){const S=k[w];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!b(h[S],p[S],S,h,p,y))return!1}return!0}finally{y?.delete(p)}}function l(h,p,b,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,w]of p.entries()){const S=h.get(k);if(b(S,w,k,h,p,y)===!1)return!1}return!0}function u(h,p,b,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let w=0;w<p.length;w++){const S=p[w];let A=!1;for(let O=0;O<h.length;O++){if(k.has(O))continue;const j=h[O];let C=!1;if(b(j,S,w,h,p,y)&&(C=!0),C){k.add(O),A=!0;break}}if(!A)return!1}return!0}function d(h,p,b,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,y):!1}e.isMatchWith=i,e.isSetMatch=d})(J1)),J1}var LR;function p9(){return LR||(LR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ihe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(X1)),X1}var nS={},rS={},iS={},IR;function $he(){return IR||(IR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(iS)),iS}var aS={},$R;function g9(){return $R||($R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(aS)),aS}var oS={},BR;function b9(){return BR||(BR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",y="[object Object]",k="[object Error]",w="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",U="[object BigInt64Array]",K="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=k,e.float32ArrayTag=K,e.float64ArrayTag=q,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=I,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=O,e.uint32ArrayTag=j,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=A})(oS)),oS}var sS={},zR;function Bhe(){return zR||(zR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(sS)),sS}var UR;function y9(){return UR||(UR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$he(),n=g9(),r=b9(),i=h9(),a=Bhe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,y=new Map,k=void 0){const w=k?.(h,p,b,y);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let A=0;A<h.length;A++)S[A]=l(h[A],A,b,y,k);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[A,O]of h)S.set(A,l(O,A,b,y,k));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const A of h)S.add(l(A,void 0,b,y,k));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let A=0;A<h.length;A++)S[A]=l(h[A],A,b,y,k);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),u(S,h,b,y,k),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,b,y,k),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Number){const S=new Number(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof String){const S=new String(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),u(S,h,b,y,k),S}return h}function u(h,p,b=h,y,k){const w=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<w.length;S++){const A=w[S],O=Object.getOwnPropertyDescriptor(h,A);(O==null||O.writable)&&(h[A]=l(p[A],A,b,y,k))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(rS)),rS}var FR;function zhe(){return FR||(FR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y9();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(nS)),nS}var HR;function Uhe(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p9(),n=zhe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Z1)),Z1}var lS={},cS={},uS={},GR;function Fhe(){return GR||(GR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y9(),n=b9();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(uS)),uS}var YR;function Hhe(){return YR||(YR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fhe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(cS)),cS}var dS={},fS={},qR;function v9(){return qR||(qR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(fS)),fS}var hS={},KR;function Ghe(){return KR||(KR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g9();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(hS)),hS}var WR;function Yhe(){return WR||(WR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s9(),n=v9(),r=Ghe(),i=lA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=a})(dS)),dS}var VR;function qhe(){return VR||(VR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p9(),n=sA(),r=Hhe(),i=cA(),a=Yhe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(lS)),lS}var ZR;function Khe(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d9(),n=Lhe(),r=Uhe(),i=qhe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(W1)),W1}var XR;function Whe(){return XR||(XR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mhe(),n=d9(),r=Rhe(),i=Khe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(U1)),U1}var mS,JR;function Vhe(){return JR||(JR=1,mS=Whe().uniqBy),mS}var Zhe=Vhe();const QR=_i(Zhe);function Xhe(e,t,n){return t===!0?QR(e,n):typeof t=="function"?QR(e,t):e}var pS={exports:{}},gS={},bS={exports:{}},yS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function Jhe(){if(e3)return yS;e3=1;var e=hf();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var y=b(),k=r({inst:{value:y,getSnapshot:b}}),w=k[0].inst,S=k[1];return a(function(){w.value=y,w.getSnapshot=b,u(w)&&S({inst:w})},[p,y,b]),i(function(){return u(w)&&S({inst:w}),p(function(){u(w)&&S({inst:w})})},[p]),o(y),y}function u(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!n(p,y)}catch{return!0}}function d(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return yS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,yS}var t3;function Qhe(){return t3||(t3=1,bS.exports=Jhe()),bS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function eme(){if(n3)return gS;n3=1;var e=hf(),t=Qhe();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return gS.useSyncExternalStoreWithSelector=function(d,h,p,b,y){var k=a(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=l(function(){function A(P){if(!O){if(O=!0,j=P,P=b(P),y!==void 0&&w.hasValue){var I=w.value;if(y(I,P))return C=I}return C=P}if(I=C,r(j,P))return I;var U=b(P);return y!==void 0&&y(I,U)?(j=P,I):(j=P,C=U)}var O=!1,j,C,D=p===void 0?null:p;return[function(){return A(h())},D===null?void 0:function(){return A(D())}]},[h,p,b,y]);var S=i(d,k[0],k[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},gS}var r3;function tme(){return r3||(r3=1,pS.exports=eme()),pS.exports}var nme=tme(),hA=_.createContext(null),rme=e=>e,pr=()=>{var e=_.useContext(hA);return e?e.store.dispatch:rme},Ub=()=>{},ime=()=>Ub,ame=(e,t)=>e===t;function tt(e){var t=_.useContext(hA);return nme.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ime,t?t.store.getState:Ub,t?t.store.getState:Ub,t?e:Ub,ame)}function ome(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function sme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lme(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var i3=e=>Array.isArray(e)?e:[e];function cme(e){const t=Array.isArray(e[0])?e[0]:e;return lme(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ume(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var dme=class{constructor(e){this.value=e}deref(){return this.value}},fme=typeof WeakRef<"u"?WeakRef:dme,hme=0,a3=1;function ob(){return{s:hme,v:void 0,o:null,p:null}}function x9(e,t={}){let n=ob();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const w=k.get(y);w===void 0?(l=ob(),k.set(y,l)):l=w}else{let k=l.p;k===null&&(l.p=k=new Map);const w=k.get(y);w===void 0?(l=ob(),k.set(y,l)):l=w}}const d=l;let h;if(l.s===a3)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new fme(h):h}return d.s=a3,d.v=h,h}return o.clearCache=()=>{n=ob(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function mme(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),ome(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:y=x9,argsMemoizeOptions:k=[]}=h,w=i3(b),S=i3(k),A=cme(i),O=p(function(){return a++,d.apply(null,arguments)},...w),j=y(function(){o++;const D=ume(A,arguments);return l=O.apply(null,D),l},...S);return Object.assign(j,{resultFunc:d,memoizedResultFunc:O,dependencies:A,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var xe=mme(x9),pme=Object.assign((e,t=xe)=>{sme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>pme}),vS={},xS={},wS={},o3;function gme(){return o3||(o3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(wS)),wS}var _S={},SS={},s3;function w9(){return s3||(s3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(SS)),SS}var l3;function bme(){return l3||(l3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(_S)),_S}var c3;function yme(){return c3||(c3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gme(),n=bme(),r=lA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,k)=>{let w=y;for(let S=0;S<k.length&&w!=null;++S)w=w[k[S]];return w},h=(y,k)=>k==null||y==null?k:typeof y=="object"&&"key"in y?Object.hasOwn(k,y.key)?k[y.key]:d(k,y.path):typeof y=="function"?y(k):Array.isArray(y)?d(k,y):typeof k=="object"?k[y]:k,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(k=>h(k,y))})).slice().sort((y,k)=>{for(let w=0;w<p.length;w++){const S=t.compareValues(y.criteria[w],k.criteria[w],l[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(xS)),xS}var kS={},u3;function vme(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(kS)),kS}var ES={},d3;function _9(){return d3||(d3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v9(),n=fA(),r=f9(),i=m9();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(ES)),ES}var f3;function xme(){return f3||(f3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yme(),n=vme(),r=_9();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(vS)),vS}var TS,h3;function wme(){return h3||(h3=1,TS=xme().sortBy),TS}var _me=wme();const ox=_i(_me);var S9=e=>e.legend.settings,Sme=e=>e.legend.size,kme=e=>e.legend.payload;xe([kme,S9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ox(r,n):r});var sb=1;function Eme(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>sb||Math.abs(o.left-t.left)>sb||Math.abs(o.top-t.top)>sb||Math.abs(o.width-t.width)>sb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var k9=Symbol.for("immer-nothing"),m3=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function Ka(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fi=Object,sf=Fi.getPrototypeOf,Ly="constructor",sx="prototype",L2="configurable",Iy="enumerable",Fb="writable",Zm="value",Ms=e=>!!e&&!!e[Qr];function no(e){return e?E9(e)||lx(e)||!!e[m3]||!!e[Ly]?.[m3]||cx(e)||ux(e):!1}var Tme=Fi[sx][Ly].toString(),p3=new WeakMap;function E9(e){if(!e||!mA(e))return!1;const t=sf(e);if(t===null||t===Fi[sx])return!0;const n=Fi.hasOwnProperty.call(t,Ly)&&t[Ly];if(n===Object)return!0;if(!Dd(n))return!1;let r=p3.get(n);return r===void 0&&(r=Function.toString.call(n),p3.set(n,r)),r===Tme}function jp(e,t,n=!0){Np(e)===0?(n?Reflect.ownKeys(e):Fi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Np(e){const t=e[Qr];return t?t.type_:lx(e)?1:cx(e)?2:ux(e)?3:0}var g3=(e,t,n=Np(e))=>n===2?e.has(t):Fi[sx].hasOwnProperty.call(e,t),I2=(e,t,n=Np(e))=>n===2?e.get(t):e[t],$y=(e,t,n,r=Np(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Ame(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var lx=Array.isArray,cx=e=>e instanceof Map,ux=e=>e instanceof Set,mA=e=>typeof e=="object",Dd=e=>typeof e=="function",AS=e=>typeof e=="boolean",ys=e=>e.copy_||e.base_,pA=e=>e.modified_?e.copy_:e.base_;function $2(e,t){if(cx(e))return new Map(e);if(ux(e))return new Set(e);if(lx(e))return Array[sx].slice.call(e);const n=E9(e);if(t===!0||t==="class_only"&&!n){const r=Fi.getOwnPropertyDescriptors(e);delete r[Qr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[Fb]===!1&&(l[Fb]=!0,l[L2]=!0),(l.get||l.set)&&(r[o]={[L2]:!0,[Fb]:!0,[Iy]:l[Iy],[Zm]:e[o]})}return Fi.create(sf(e),r)}else{const r=sf(e);if(r!==null&&n)return{...e};const i=Fi.create(r);return Fi.assign(i,e)}}function gA(e,t=!1){return dx(e)||Ms(e)||!no(e)||(Np(e)>1&&Fi.defineProperties(e,{set:lb,add:lb,clear:lb,delete:lb}),Fi.freeze(e),t&&jp(e,(n,r)=>{gA(r,!0)},!1)),e}function jme(){Ka(2)}var lb={[Zm]:jme};function dx(e){return e===null||!mA(e)?!0:Fi.isFrozen(e)}var By="MapSet",B2="Patches",T9={};function lf(e){const t=T9[e];return t||Ka(0,e),t}var Nme=e=>!!T9[e],Xm,A9=()=>Xm,Ome=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Nme(By)?lf(By):void 0});function b3(e,t){t&&(e.patchPlugin_=lf(B2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function z2(e){U2(e),e.drafts_.forEach(Cme),e.drafts_=null}function U2(e){e===Xm&&(Xm=e.parent_)}var y3=e=>Xm=Ome(Xm,e);function Cme(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function v3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Qr].modified_&&(z2(t),Ka(4)),no(e)&&(e=x3(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Qr].base_,e,t)}else e=x3(t,n);return Mme(t,e,!0),z2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==k9?e:void 0}function x3(e,t){if(dx(t))return t;const n=t[Qr];if(!n)return bA(t,e.handledSet_,e);if(!fx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);O9(n,e)}return n.copy_}function Mme(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gA(t,n)}function j9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var fx=(e,t)=>e.scope_===t,Dme=[];function N9(e,t,n,r){const i=ys(e),a=e.type_;if(r!==void 0&&I2(i,r,a)===t){$y(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;jp(i,(u,d)=>{if(Ms(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??Dme;for(const l of o)$y(i,l,n,a)}function Pme(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!fx(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=pA(a);N9(e,a.draft_??a,o,n),O9(a,i)})}function O9(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}j9(e)}}function Rme(e,t,n){const{scope_:r}=e;if(Ms(n)){const i=n[Qr];fx(i,r)&&i.callbacks_.push(function(){Hb(e);const o=pA(i);N9(e,n,o,t)})}else no(n)&&e.callbacks_.push(function(){const a=ys(e);I2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&bA(I2(e.copy_,t,e.type_),r.handledSet_,r)})}function bA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(e)||t.has(e)||!no(e)||dx(e)||(t.add(e),jp(e,(r,i)=>{if(Ms(i)){const a=i[Qr];if(fx(a,n)){const o=pA(a);$y(e,r,o,e.type_),j9(a)}}else no(i)&&bA(i,t,n)})),e}function Lme(e,t){const n=lx(e),r={type_:n?1:0,scope_:t?t.scope_:A9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=yA;n&&(i=[r],a=Jm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var yA={get(e,t){if(t===Qr)return e;const n=ys(e);if(!g3(n,t,e.type_))return Ime(e,n,t);const r=n[t];if(e.finalized_||!no(r))return r;if(r===jS(e.base_,t)){Hb(e);const i=e.type_===1?+t:t,a=H2(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in ys(e)},ownKeys(e){return Reflect.ownKeys(ys(e))},set(e,t,n){const r=C9(ys(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=jS(ys(e),t),a=i?.[Qr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Ame(n,i)&&(n!==void 0||g3(e.base_,t,e.type_)))return!0;Hb(e),F2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Rme(e,t,n)),!0},deleteProperty(e,t){return Hb(e),jS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),F2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ys(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Fb]:!0,[L2]:e.type_!==1||t!=="length",[Iy]:r[Iy],[Zm]:n[t]}},defineProperty(){Ka(11)},getPrototypeOf(e){return sf(e.base_)},setPrototypeOf(){Ka(12)}},Jm={};jp(yA,(e,t)=>{Jm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Jm.deleteProperty=function(e,t){return Jm.set.call(this,e,t,void 0)};Jm.set=function(e,t,n){return yA.set.call(this,e[0],t,n,e[0])};function jS(e,t){const n=e[Qr];return(n?ys(n):e)[t]}function Ime(e,t,n){const r=C9(t,n);return r?Zm in r?r[Zm]:r.get?.call(e.draft_):void 0}function C9(e,t){if(!(t in e))return;let n=sf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=sf(n)}}function F2(e){e.modified_||(e.modified_=!0,e.parent_&&F2(e.parent_))}function Hb(e){e.copy_||(e.assigned_=new Map,e.copy_=$2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $me=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Dd(n)&&!Dd(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,p=>r.call(this,p,...h))}}Dd(r)||Ka(6),i!==void 0&&!Dd(i)&&Ka(7);let a;if(no(n)){const o=y3(this),l=H2(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?z2(o):U2(o)}return b3(o,i),v3(a,o)}else if(!n||!mA(n)){if(a=r(n),a===void 0&&(a=n),a===k9&&(a=void 0),this.autoFreeze_&&gA(a,!0),i){const o=[],l=[];lf(B2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ka(1,n)},this.produceWithPatches=(n,r)=>{if(Dd(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},AS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),AS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),AS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){no(t)||Ka(8),Ms(t)&&(t=Xa(t));const n=y3(this),r=H2(n,t,void 0);return r[Qr].isManual_=!0,U2(n),r}finishDraft(t,n){const r=t&&t[Qr];(!r||!r.isManual_)&&Ka(9);const{scope_:i}=r;return b3(i,n),v3(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=lf(B2).applyPatches_;return Ms(t)?i(t,n):this.produce(t,a=>i(a,n))}};function H2(e,t,n,r){const[i,a]=cx(t)?lf(By).proxyMap_(t,n):ux(t)?lf(By).proxySet_(t,n):Lme(t,n);return(n?.scope_??A9()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Pme(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function Xa(e){return Ms(e)||Ka(10,e),M9(e)}function M9(e){if(!no(e)||dx(e))return e;const t=e[Qr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=$2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=$2(e,!0);return jp(n,(i,a)=>{$y(n,i,M9(a))},r),t&&(t.finalized_=!1),n}var Bme=new $me,D9=Bme.produce;function P9(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var zme=P9(),Ume=P9,Fme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lm:Lm.apply(null,arguments)};function Sa(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Yi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>JB(r)&&r.type===e,n}var R9=class wm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wm.prototype)}static get[Symbol.species](){return wm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wm(...t[0].concat(this)):new wm(...t.concat(this))}};function w3(e){return no(e)?D9(e,()=>{}):e}function cb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Hme(e){return typeof e=="boolean"}var Gme=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new R9;return n&&(Hme(n)?o.push(zme):o.push(Ume(n.extraArgument))),o},L9="RTK_autoBatch",un=()=>e=>({payload:e,meta:{[L9]:!0}}),_3=e=>t=>{setTimeout(t,e)},I9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_3(10):e.type==="callback"?e.queueNotification:_3(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[L9],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},Yme=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new R9(e);return r&&i.push(I9(typeof r=="object"?r:void 0)),i};function qme(e){const t=Gme(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(rT(n))l=ZB(n);else throw new Error(Yi(1));let u;typeof r=="function"?u=r(t):u=t();let d=Lm;i&&(d=Fme({trace:!1,...typeof i=="object"&&i}));const h=XB(...u),p=Yme(h);let b=typeof o=="function"?o(p):p();const y=d(...b);return iT(l,a,y)}function $9(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Yi(28));if(l in t)throw new Error(Yi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Kme(e){return typeof e=="function"}function Wme(e,t){let[n,r,i]=$9(t),a;if(Kme(e))a=()=>w3(e());else{const l=w3(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(Ms(h)){const y=p(h,u);return y===void 0?h:y}else{if(no(h))return D9(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var Vme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Zme=(e=21)=>{let t="",n=e;for(;n--;)t+=Vme[Math.random()*64|0];return t},Xme=Symbol.for("rtk-slice-createasyncthunk");function Jme(e,t){return`${e}/${t}`}function Qme({creators:e}={}){const t=e?.asyncThunk?.[Xme];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Yi(11));const o=(typeof r.reducers=="function"?r.reducers(tpe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,C){const D=typeof j=="string"?j:j.type;if(!D)throw new Error(Yi(12));if(D in u.sliceCaseReducersByType)throw new Error(Yi(13));return u.sliceCaseReducersByType[D]=C,d},addMatcher(j,C){return u.sliceMatchers.push({matcher:j,reducer:C}),d},exposeAction(j,C){return u.actionCreators[j]=C,d},exposeCaseReducer(j,C){return u.sliceCaseReducersByName[j]=C,d}};l.forEach(j=>{const C=o[j],D={reducerName:j,type:Jme(i,j),createNotation:typeof r.reducers=="function"};rpe(C)?ape(D,C,d,t):npe(D,C,d)});function h(){const[j={},C=[],D=void 0]=typeof r.extraReducers=="function"?$9(r.extraReducers):[r.extraReducers],P={...j,...u.sliceCaseReducersByType};return Wme(r.initialState,I=>{for(let U in P)I.addCase(U,P[U]);for(let U of u.sliceMatchers)I.addMatcher(U.matcher,U.reducer);for(let U of C)I.addMatcher(U.matcher,U.reducer);D&&I.addDefaultCase(D)})}const p=j=>j,b=new Map,y=new WeakMap;let k;function w(j,C){return k||(k=h()),k(j,C)}function S(){return k||(k=h()),k.getInitialState()}function A(j,C=!1){function D(I){let U=I[j];return typeof U>"u"&&C&&(U=cb(y,D,S)),U}function P(I=p){const U=cb(b,C,()=>new WeakMap);return cb(U,I,()=>{const K={};for(const[q,F]of Object.entries(r.selectors??{}))K[q]=epe(F,I,()=>cb(y,I,S),C);return K})}return{reducerPath:j,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...A(a),injectInto(j,{reducerPath:C,...D}={}){const P=C??a;return j.inject({reducerPath:P,reducer:w},D),{...O,...A(P,!0)}}};return O}}function epe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var Si=Qme();function tpe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function npe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!ipe(r))throw new Error(Yi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Sa(e,o):Sa(e))}function rpe(e){return e._reducerDefinitionType==="asyncThunk"}function ipe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ape({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Yi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||ub,pending:l||ub,rejected:u||ub,settled:d||ub})}function ub(){}var ope="task",B9="listener",z9="completed",vA="cancelled",spe=`task-${vA}`,lpe=`task-${z9}`,G2=`${B9}-${vA}`,cpe=`${B9}-${z9}`,hx=class{constructor(e){this.code=e,this.message=`${ope} ${vA} (reason: ${e})`}name="TaskAbortError";message},xA=(e,t)=>{if(typeof e!="function")throw new TypeError(Yi(32))},zy=()=>{},U9=(e,t=zy)=>(e.catch(t),e),F9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),du=e=>{if(e.aborted)throw new hx(e.reason)};function H9(e,t){let n=zy;return new Promise((r,i)=>{const a=()=>i(new hx(e.reason));if(e.aborted){a();return}n=F9(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=zy})}var upe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof hx?"cancelled":"rejected",error:n}}finally{t?.()}},Uy=e=>t=>U9(H9(e,t).then(n=>(du(e),n))),G9=e=>{const t=Uy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:qd}=Object,S3={},mx="listenerMiddleware",dpe=(e,t)=>{const n=r=>F9(e,()=>r.abort(e.reason));return(r,i)=>{xA(r);const a=new AbortController;n(a);const o=upe(async()=>{du(e),du(a.signal);const l=await r({pause:Uy(a.signal),delay:G9(a.signal),signal:a.signal});return du(a.signal),l},()=>a.abort(lpe));return i?.autoJoin&&t.push(o.catch(zy)),{result:Uy(e)(o),cancel(){a.abort(spe)}}}},fpe=(e,t)=>{const n=async(r,i)=>{du(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await H9(t,Promise.race(l));return du(t),u}finally{a()}};return(r,i)=>U9(n(r,i))},Y9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Sa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Yi(21));return xA(a),{predicate:i,type:t,effect:a}},q9=qd(e=>{const{type:t,predicate:n,effect:r}=Y9(e);return{id:Zme(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yi(22))}}},{withTypes:()=>q9}),k3=(e,t)=>{const{type:n,effect:r,predicate:i}=Y9(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Y2=e=>{e.pending.forEach(t=>{t.abort(G2)})},hpe=(e,t)=>()=>{for(const n of t.keys())Y2(n);e.clear()},E3=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},K9=qd(Sa(`${mx}/add`),{withTypes:()=>K9}),mpe=Sa(`${mx}/removeAll`),W9=qd(Sa(`${mx}/remove`),{withTypes:()=>W9}),ppe=(...e)=>{console.error(`${mx}/error`,...e)},Op=(e={})=>{const t=new Map,n=new Map,r=y=>{const k=n.get(y)??0;n.set(y,k+1)},i=y=>{const k=n.get(y)??1;k===1?n.delete(y):n.set(y,k-1)},{extra:a,onError:o=ppe}=e;xA(o);const l=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),k=>{y.unsubscribe(),k?.cancelActive&&Y2(y)}),u=y=>{const k=k3(t,y)??q9(y);return l(k)};qd(u,{withTypes:()=>u});const d=y=>{const k=k3(t,y);return k&&(k.unsubscribe(),y.cancelActive&&Y2(k)),!!k};qd(d,{withTypes:()=>d});const h=async(y,k,w,S)=>{const A=new AbortController,O=fpe(u,A.signal),j=[];try{y.pending.add(A),r(y),await Promise.resolve(y.effect(k,qd({},w,{getOriginalState:S,condition:(C,D)=>O(C,D).then(Boolean),take:O,delay:G9(A.signal),pause:Uy(A.signal),extra:a,signal:A.signal,fork:dpe(A.signal,j),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,D,P)=>{C!==A&&(C.abort(G2),P.delete(C))})},cancel:()=>{A.abort(G2),y.pending.delete(A)},throwIfCancelled:()=>{du(A.signal)}})))}catch(C){C instanceof hx||E3(o,C,{raisedBy:"effect"})}finally{await Promise.all(j),A.abort(cpe),i(y),y.pending.delete(A)}},p=hpe(t,n);return{middleware:y=>k=>w=>{if(!JB(w))return k(w);if(K9.match(w))return u(w.payload);if(mpe.match(w)){p();return}if(W9.match(w))return d(w.payload);let S=y.getState();const A=()=>{if(S===S3)throw new Error(Yi(23));return S};let O;try{if(O=k(w),t.size>0){const j=y.getState(),C=Array.from(t.values());for(const D of C){let P=!1;try{P=D.predicate(w,j,S)}catch(I){P=!1,E3(o,I,{raisedBy:"predicate"})}P&&h(D,w,y,A)}}}finally{S=S3}return O},startListening:u,stopListening:d,clearListeners:p}};function Yi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gpe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},V9=Si({name:"chartLayout",initialState:gpe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:bpe,setLayout:ype,setChartSize:vpe,setScale:xpe}=V9.actions,wpe=V9.reducer;function Z9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){_pe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _pe(e,t,n){return(t=Spe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Spe(e){var t=kpe(e,"string");return typeof t=="symbol"?t:t+""}function kpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(e,t,n){return Ar(e)||Ar(t)?n:Io(t)?ax(e,t,n):typeof t=="function"?t(e):n}var Epe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Qe(e[a]))return $d($d({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Qe(e[o]))return $d($d({},e),{},{[o]:e[o]+(i||0)})}return e},$s=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",X9=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},J9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:b,axisType:y}=e;if(!o)return null;var k=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(w=y==="angleAxis"&&a&&a.length>=2?ba(a[0]-a[1])*2*w:w,p||b){var S=(p||b||[]).map((A,O)=>{var j=r?r.indexOf(A):A;return{coordinate:o(j)+w,value:A,offset:w,index:O}});return S.filter(A=>!to(A.coordinate))}return u&&d?d.map((A,O)=>({coordinate:o(A)+w,value:A,index:O,offset:w})):o.ticks&&h!=null?o.ticks(h).map((A,O)=>({coordinate:o(A)+w,value:A,offset:w,index:O})):o.domain().map((A,O)=>({coordinate:o(A)+w,value:r?r[A]:A,index:O,offset:w}))},A3=1e-4,Tpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-A3,a=Math.max(r[0],r[1])+A3,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},Ape=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=to(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},jpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=to(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Npe={sign:Ape,expand:bhe,none:of,silhouette:yhe,wiggle:vhe,positive:jpe},Ope=(e,t,n)=>{var r=Npe[n],i=ghe().keys(t).value((a,o)=>Number($r(a,o,0))).order(R2).offset(r);return i(e)};function Cpe(e){return e==null?void 0:String(e)}function j3(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ar(i[t.dataKey])){var l=c9(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=$r(i,Ar(o)?t.dataKey:o);return Ar(u)?null:t.scale(u)}var Mpe=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},Dpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Ppe=(e,t,n)=>{if(e!=null)return Dpe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=Z9(d,t,n),p=Mpe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},N3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ox(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function C3(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return $d($d({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Q9(e,t){if(e)return String(e);if(typeof t=="string")return t}var Rpe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Lpe=(e,t)=>t==="centric"?e.angle:e.radius,Bs=e=>e.layout.width,zs=e=>e.layout.height,Ipe=e=>e.layout.scale,e8=e=>e.layout.margin,px=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gx=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$pe="data-recharts-item-index",Bpe="data-recharts-item-data-key",Cp=60;function M3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(n),!0).forEach(function(r){zpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zpe(e,t,n){return(t=Upe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Upe(e){var t=Fpe(e,"string");return typeof t=="symbol"?t:t+""}function Fpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hpe=e=>e.brush.height;function Gpe(e){var t=gx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Cp;return n+i}return n},0)}function Ype(e){var t=gx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Cp;return n+i}return n},0)}function qpe(e){var t=px(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Kpe(e){var t=px(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Or=xe([Bs,zs,e8,Hpe,Gpe,Ype,qpe,Kpe,S9,Sme],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=db(db({},p),h),y=b.bottom;b.bottom+=r,b=Epe(b,u,d);var k=e-b.left-b.right,w=t-b.top-b.bottom;return db(db({brushBottom:y},b),{},{width:Math.max(k,0),height:Math.max(w,0)})}),Wpe=xe(Or,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),t8=xe(Bs,zs,(e,t)=>({x:0,y:0,width:e,height:t})),Vpe=_.createContext(null),ki=()=>_.useContext(Vpe)!=null,bx=e=>e.brush,yx=xe([bx,Or,e8],(e,t,n)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Qe(e.width)?e.width:t.width})),NS={},OS={},CS={},D3;function Zpe(){return D3||(D3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{d&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},k=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{k(),o=void 0,l=null},S=()=>{h()},A=function(...O){if(i?.aborted)return;o=this,l=O;const j=b==null;y(),u&&j&&h()};return A.schedule=y,A.cancel=w,A.flush=S,i?.addEventListener("abort",w,{once:!0}),A}e.debounce=t})(CS)),CS}var P3;function Xpe(){return P3||(P3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zpe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const b=t.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:d}),y=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,w),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},k=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=k,y}e.debounce=n})(OS)),OS}var R3;function Jpe(){return R3||(R3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xpe();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(NS)),NS}var MS,L3;function Qpe(){return L3||(L3=1,MS=Jpe().throttle),MS}var e0e=Qpe();const t0e=_i(e0e);var Hy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},n8=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=Cs(r)?e:Number(r),u=Cs(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},n0e={width:0,height:0,overflow:"visible"},r0e={width:0,overflowX:"visible"},i0e={height:0,overflowY:"visible"},a0e={},o0e=e=>{var{width:t,height:n}=e,r=Cs(t),i=Cs(n);return r&&i?n0e:r?r0e:i?i0e:a0e};function s0e(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function jn(e){return Number.isFinite(e)}function $o(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q2.apply(null,arguments)}function I3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(n),!0).forEach(function(r){l0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l0e(e,t,n){return(t=c0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c0e(e){var t=u0e(e,"string");return typeof t=="symbol"?t:t+""}function u0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r8=_.createContext({width:-1,height:-1});function d0e(e){return $o(e.width)&&$o(e.height)}function i8(e){var{children:t,width:n,height:r}=e,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return d0e(i)?_.createElement(r8.Provider,{value:i},t):null}var wA=()=>_.useContext(r8),f0e=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:b,onResize:y,style:k={}}=e,w=_.useRef(null),S=_.useRef();S.current=y,_.useImperativeHandle(t,()=>w.current);var[A,O]=_.useState({containerWidth:r.width,containerHeight:r.height}),j=_.useCallback((U,K)=>{O(q=>{var F=Math.round(U),z=Math.round(K);return q.containerWidth===F&&q.containerHeight===z?q:{containerWidth:F,containerHeight:z}})},[]);_.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Ap;var U=z=>{var W,{width:Z,height:X}=z[0].contentRect;j(Z,X),(W=S.current)===null||W===void 0||W.call(S,Z,X)};h>0&&(U=t0e(U,h,{trailing:!0,leading:!1}));var K=new ResizeObserver(U),{width:q,height:F}=w.current.getBoundingClientRect();return j(q,F),K.observe(w.current),()=>{K.disconnect()}},[j,h]);var{containerWidth:C,containerHeight:D}=A;Hy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:I}=n8(C,D,{width:i,height:a,aspect:n,maxHeight:u});return Hy(P!=null&&P>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,I,i,a,o,l,n),_.createElement("div",{id:p?"".concat(p):void 0,className:rn("recharts-responsive-container",b),style:$3($3({},k),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},_.createElement("div",{style:o0e({width:i,height:a})},_.createElement(i8,{width:P,height:I},d)))}),h0e=_.forwardRef((e,t)=>{var n=wA();if($o(n.width)&&$o(n.height))return e.children;var{width:r,height:i}=s0e({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=n8(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(a)&&Qe(o)?_.createElement(i8,{width:a,height:o},e.children):_.createElement(f0e,q2({},e,{width:r,height:i,ref:t}))});function a8(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vx=()=>{var e,t=ki(),n=tt(Wpe),r=tt(yx),i=(e=tt(bx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},m0e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},o8=()=>{var e;return(e=tt(Or))!==null&&e!==void 0?e:m0e},s8=()=>tt(Bs),l8=()=>tt(zs),Xt=e=>e.layout.layoutType,Mp=()=>tt(Xt),p0e=()=>{var e=Mp();if(e==="horizontal"||e==="vertical")return e},g0e=()=>{var e=Mp();return e!==void 0},xx=e=>{var t=pr(),n=ki(),{width:r,height:i}=e,a=wA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),_.useEffect(()=>{!n&&$o(o)&&$o(l)&&t(vpe({width:o,height:l}))},[t,n,o,l]),null},c8=Symbol.for("immer-nothing"),B3=Symbol.for("immer-draftable"),Ki=Symbol.for("immer-state");function Wa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qm=Object.getPrototypeOf;function cf(e){return!!e&&!!e[Ki]}function yu(e){return e?u8(e)||Array.isArray(e)||!!e[B3]||!!e.constructor?.[B3]||Dp(e)||_x(e):!1}var b0e=Object.prototype.constructor.toString(),z3=new WeakMap;function u8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=z3.get(n);return r===void 0&&(r=Function.toString.call(n),z3.set(n,r)),r===b0e}function Gy(e,t,n=!0){wx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function wx(e){const t=e[Ki];return t?t.type_:Array.isArray(e)?1:Dp(e)?2:_x(e)?3:0}function K2(e,t){return wx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d8(e,t,n){const r=wx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function y0e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dp(e){return e instanceof Map}function _x(e){return e instanceof Set}function Jc(e){return e.copy_||e.base_}function W2(e,t){if(Dp(e))return new Map(e);if(_x(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=u8(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ki];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Qm(e),r)}else{const r=Qm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function _A(e,t=!1){return Sx(e)||cf(e)||!yu(e)||(wx(e)>1&&Object.defineProperties(e,{set:fb,add:fb,clear:fb,delete:fb}),Object.freeze(e),t&&Object.values(e).forEach(n=>_A(n,!0))),e}function v0e(){Wa(2)}var fb={value:v0e};function Sx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var x0e={};function vu(e){const t=x0e[e];return t||Wa(0,e),t}var ep;function f8(){return ep}function w0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function U3(e,t){t&&(vu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function V2(e){Z2(e),e.drafts_.forEach(_0e),e.drafts_=null}function Z2(e){e===ep&&(ep=e.parent_)}function F3(e){return ep=w0e(ep,e)}function _0e(e){const t=e[Ki];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function H3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ki].modified_&&(V2(t),Wa(4)),yu(e)&&(e=Yy(t,e),t.parent_||qy(t,e)),t.patches_&&vu("Patches").generateReplacementPatches_(n[Ki].base_,e,t.patches_,t.inversePatches_)):e=Yy(t,n,[]),V2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==c8?e:void 0}function Yy(e,t,n){if(Sx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ki];if(!i)return Gy(t,(a,o)=>G3(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return qy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Gy(o,(u,d)=>G3(e,i,a,u,d,n,l),r),qy(e,a,!1),n&&e.patches_&&vu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function G3(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=Sx(i);if(!(l&&!o)){if(cf(i)){const u=a&&t&&t.type_!==3&&!K2(t.assigned_,r)?a.concat(r):void 0,d=Yy(e,i,u);if(d8(n,r,d),cf(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(yu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Yy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Dp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qy(e,i)}}}function qy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_A(t,n)}function S0e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:f8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=SA;n&&(i=[r],a=tp);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var SA={get(e,t){if(t===Ki)return e;const n=Jc(e);if(!K2(n,t))return k0e(e,n,t);const r=n[t];return e.finalized_||!yu(r)?r:r===DS(e.base_,t)?(PS(e),e.copy_[t]=J2(r,e)):r},has(e,t){return t in Jc(e)},ownKeys(e){return Reflect.ownKeys(Jc(e))},set(e,t,n){const r=h8(Jc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=DS(Jc(e),t),a=i?.[Ki];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(y0e(n,i)&&(n!==void 0||K2(e.base_,t)))return!0;PS(e),X2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return DS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,PS(e),X2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Jc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Wa(11)},getPrototypeOf(e){return Qm(e.base_)},setPrototypeOf(){Wa(12)}},tp={};Gy(SA,(e,t)=>{tp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tp.deleteProperty=function(e,t){return tp.set.call(this,e,t,void 0)};tp.set=function(e,t,n){return SA.set.call(this,e[0],t,n,e[0])};function DS(e,t){const n=e[Ki];return(n?Jc(n):e)[t]}function k0e(e,t,n){const r=h8(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function h8(e,t){if(!(t in e))return;let n=Qm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Qm(n)}}function X2(e){e.modified_||(e.modified_=!0,e.parent_&&X2(e.parent_))}function PS(e){e.copy_||(e.copy_=W2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var E0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&Wa(6),r!==void 0&&typeof r!="function"&&Wa(7);let i;if(yu(t)){const a=F3(this),o=J2(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?V2(a):Z2(a)}return U3(a,r),H3(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===c8&&(i=void 0),this.autoFreeze_&&_A(i,!0),r){const a=[],o=[];vu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Wa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yu(e)||Wa(8),cf(e)&&(e=T0e(e));const t=F3(this),n=J2(e,void 0);return n[Ki].isManual_=!0,Z2(t),n}finishDraft(e,t){const n=e&&e[Ki];(!n||!n.isManual_)&&Wa(9);const{scope_:r}=n;return U3(r,t),H3(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=vu("Patches").applyPatches_;return cf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function J2(e,t){const n=Dp(e)?vu("MapSet").proxyMap_(e,t):_x(e)?vu("MapSet").proxySet_(e,t):S0e(e,t);return(t?t.scope_:f8()).drafts_.push(n),n}function T0e(e){return cf(e)||Wa(10,e),m8(e)}function m8(e){if(!yu(e)||Sx(e))return e;const t=e[Ki];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=W2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=W2(e,!0);return Gy(n,(i,a)=>{d8(n,i,m8(a))},r),t&&(t.finalized_=!1),n}var A0e=new E0e;A0e.produce;var j0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},p8=Si({name:"legend",initialState:j0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:un()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xa(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:un()},removeLegendPayload:{reducer(e,t){var n=Xa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:un()}}}),{setLegendSize:TCe,setLegendSettings:ACe,addLegendPayload:N0e,replaceLegendPayload:O0e,removeLegendPayload:C0e}=p8.actions,M0e=p8.reducer;function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q2.apply(null,arguments)}function Y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(n),!0).forEach(function(r){D0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0e(e,t,n){return(t=P0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P0e(e){var t=R0e(e,"string");return typeof t=="symbol"?t:t+""}function R0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L0e(e){return Array.isArray(e)&&Io(e[0])&&Io(e[1])?e.join(" ~ "):e}var I0e=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(l?ox(a,l):a).map((I,U)=>{if(I.type==="none")return null;var K=I.formatter||o||L0e,{value:q,name:F}=I,z=q,W=F;if(K){var Z=K(q,F,I,U,a);if(Array.isArray(Z))[z,W]=Z;else if(Z!=null)z=Z;else return null}var X=RS({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:X},Io(W)?_.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Io(W)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},z),_.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},k=RS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=RS({margin:0},i),S=!Ar(h),A=S?h:"",O=rn("recharts-default-tooltip",u),j=rn("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(A=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Q2({className:O,style:k},C),_.createElement("p",{className:j,style:w},_.isValidElement(A)?A:"".concat(A)),y())},om="recharts-tooltip-wrapper",$0e={visibility:"hidden"};function B0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return rn(om,{["".concat(om,"-right")]:Qe(n)&&t&&Qe(t.x)&&n>=t.x,["".concat(om,"-left")]:Qe(n)&&t&&Qe(t.x)&&n<t.x,["".concat(om,"-bottom")]:Qe(r)&&t&&Qe(t.y)&&r>=t.y,["".concat(om,"-top")]:Qe(r)&&t&&Qe(t.y)&&r<t.y})}function q3(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&Qe(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var y=h,k=b;return y<k?Math.max(p,b):Math.max(h,b)}if(d==null)return 0;var w=p+l,S=b+d;return w>S?Math.max(h,b):Math.max(p,b)}function z0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function U0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,p;return o.height>0&&o.width>0&&n?(h=q3({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=q3({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=z0e({translateX:h,translateY:p,useTranslate3d:l})):d=$0e,{cssProperties:d,cssClasses:B0e({translateX:h,translateY:p,coordinate:n})}}function K3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(n),!0).forEach(function(r){eE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eE(e,t,n){return(t=F0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F0e(e){var t=H0e(e,"string");return typeof t=="symbol"?t:t+""}function H0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class G0e extends _.PureComponent{constructor(){super(...arguments),eE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),eE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:b,viewBox:y,wrapperStyle:k,lastBoundingBox:w,innerRef:S,hasPortalFromProps:A}=this.props,{cssClasses:O,cssProperties:j}=U0e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),C=A?{}:hb(hb({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=hb(hb({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},k);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:S},a)}}var g8=()=>{var e;return(e=tt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE.apply(null,arguments)}function W3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(n),!0).forEach(function(r){Y0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y0e(e,t,n){return(t=q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0e(e){var t=K0e(e,"string");return typeof t=="symbol"?t:t+""}function K0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z3={curveBasisClosed:ahe,curveBasisOpen:ohe,curveBasis:ihe,curveBumpX:nhe,curveBumpY:rhe,curveLinearClosed:she,curveLinear:rx,curveMonotoneX:lhe,curveMonotoneY:che,curveNatural:uhe,curveStep:dhe,curveStepAfter:hhe,curveStepBefore:fhe},Ky=e=>jn(e.x)&&jn(e.y),X3=e=>e.base!=null&&Ky(e.base)&&Ky(e),sm=e=>e.x,lm=e=>e.y,W0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(uA(e));return(n==="curveMonotone"||n==="curveBump")&&t?Z3["".concat(n).concat(t==="vertical"?"Y":"X")]:Z3[n]||rx},V0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=W0e(t,i),l=a?n.filter(Ky):n,u;if(Array.isArray(r)){var d=n.map((y,k)=>V3(V3({},y),{},{base:r[k]}));i==="vertical"?u=ab().y(lm).x1(sm).x0(y=>y.base.x):u=ab().x(sm).y1(lm).y0(y=>y.base.y);var h=u.defined(X3).curve(o),p=a?d.filter(X3):d;return h(p)}i==="vertical"&&Qe(r)?u=ab().y(lm).x1(sm).x0(r):Qe(r)?u=ab().x(sm).y1(lm).y0(r):u=J7().x(sm).y(lm);var b=u.defined(Ky).curve(o);return b(l)},Gb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?V0e(e):r;return _.createElement("path",tE({},eo(e),dA(e),{className:rn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Z0e=["x","y","top","left","width","height","className"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nE.apply(null,arguments)}function J3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(n),!0).forEach(function(r){J0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J0e(e,t,n){return(t=Q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q0e(e){var t=ege(e,"string");return typeof t=="symbol"?t:t+""}function ege(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tge(e,t){if(e==null)return{};var n,r,i=nge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rge=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),ige=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=tge(e,Z0e),d=X0e({x:t,y:n,top:r,left:i,width:a,height:o},u);return!Qe(t)||!Qe(n)||!Qe(a)||!Qe(o)||!Qe(r)||!Qe(i)?null:_.createElement("path",nE({},_a(d),{className:rn("recharts-cross",l),d:rge(t,n,a,o,r,i)}))};function age(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(n),!0).forEach(function(r){oge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oge(e,t,n){return(t=sge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sge(e){var t=lge(e,"string");return typeof t=="symbol"?t:t+""}function lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),uge=(e,t,n)=>e.map(r=>"".concat(cge(r)," ").concat(t,"ms ").concat(n)).join(","),dge=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),np=(e,t)=>Object.keys(t).reduce((n,r)=>eL(eL({},n),{},{[r]:e(r,t[r])}),{});function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(r){fge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fge(e,t,n){return(t=hge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hge(e){var t=mge(e,"string");return typeof t=="symbol"?t:t+""}function mge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wy=(e,t,n)=>e+(t-e)*n,rE=e=>{var{from:t,to:n}=e;return t!==n},b8=(e,t,n)=>{var r=np((i,a)=>{if(rE(a)){var[o,l]=e(a.from,a.to,a.velocity);return Jn(Jn({},a),{},{from:o,velocity:l})}return a},t);return n<1?np((i,a)=>rE(a)?Jn(Jn({},a),{},{velocity:Wy(a.velocity,r[i].velocity,n),from:Wy(a.from,r[i].from,n)}):a,t):b8(e,r,n-1)};function pge(e,t,n,r,i,a){var o,l=r.reduce((b,y)=>Jn(Jn({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>np((b,y)=>y.from,l),d=()=>!Object.values(l).filter(rE).length,h=null,p=b=>{o||(o=b);var y=b-o,k=y/n.dt;l=b8(n,l,k),i(Jn(Jn(Jn({},e),t),u())),o=b,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function gge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Jn(Jn({},p),{},{[b]:[e[b],t[b]]}),{}),d,h=p=>{d||(d=p);var b=(p-d)/r,y=np((w,S)=>Wy(...S,n(b)),u);if(a(Jn(Jn(Jn({},e),t),y)),b<1)l=o.setTimeout(h);else{var k=np((w,S)=>Wy(...S,n(1)),u);a(Jn(Jn(Jn({},e),t),k))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const bge=(e,t,n,r,i,a)=>{var o=dge(e,t);return n==null?()=>(i(Jn(Jn({},e),t)),()=>{}):n.isStepper===!0?pge(e,t,n,o,i,a):gge(e,t,n,r,o,i,a)};var Vy=1e-4,y8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],v8=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nL=(e,t)=>n=>{var r=y8(e,t);return v8(r,n)},yge=(e,t)=>n=>{var r=y8(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return v8(i,n)},vge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},xge=(e,t,n,r)=>{var i=nL(e,n),a=nL(t,r),o=yge(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,b=0;b<8;++b){var y=i(p)-h,k=o(p);if(Math.abs(y-h)<Vy||k<Vy)return a(p);p=l(p-y/k)}return a(p)};return u.isStepper=!1,u},rL=function(){return xge(...vge(...arguments))},wge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,p=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<Vy&&Math.abs(p)<Vy?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},_ge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rL(e);case"spring":return wge();default:if(e.split("(")[0]==="cubic-bezier")return rL(e)}return typeof e=="function"?e:null};function Sge(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class kge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Ege(){return Sge(new kge)}var Tge=_.createContext(Ege);function Age(e,t){var n=_.useContext(Tge);return _.useMemo(()=>t??n(e),[e,t,n])}var jge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jf={devToolsEnabled:!1,isSsr:jge()},Nge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iL={t:0},LS={t:1};function x8(e){var t=Vi(e,Nge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!jf.isSsr:n,p=Age(t.animationId,t.animationManager),[b,y]=_.useState(h?iL:LS),k=_.useRef(null);return _.useEffect(()=>{h||y(LS)},[h]),_.useEffect(()=>{if(!h||!r)return Ap;var w=bge(iL,LS,_ge(a),i,y,p.getTimeoutController()),S=()=>{k.current=w()};return p.start([u,o,S,i,l]),()=>{p.stop(),k.current&&k.current(),l()}},[h,r,i,a,o,u,l,p]),d(b.t)}function w8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Vm(t)),r=_.useRef(e);return r.current!==e&&(n.current=Vm(t),r.current=e),n.current}var Oge=["radius"],Cge=["radius"];function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(n),!0).forEach(function(r){Mge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mge(e,t,n){return(t=Dge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dge(e){var t=Pge(e,"string");return typeof t=="symbol"?t:t+""}function Pge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function sL(e,t){if(e==null)return{};var n,r,i=Rge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(t,`
            L `).concat(e+n-l*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(t+r,`
            L `).concat(e+l*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},cL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lge=e=>{var t=Vi(e,cL),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:y,isAnimationActive:k,isUpdateAnimationActive:w}=t,S=_.useRef(l),A=_.useRef(u),O=_.useRef(a),j=_.useRef(o),C=_.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),D=w8(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=rn("recharts-rectangle",h);if(!w){var I=_a(t),{radius:U}=I,K=sL(I,Oge);return _.createElement("path",Zy({},K,{radius:typeof d=="number"?d:void 0,className:P,d:lL(a,o,l,u,d)}))}var q=S.current,F=A.current,z=O.current,W=j.current,Z="0px ".concat(r===-1?1:r,"px"),X="".concat(r,"px 0px"),Y=uge(["strokeDasharray"],b,typeof p=="string"?p:cL.animationEasing);return _.createElement(x8,{animationId:D,key:D,canBegin:r>0,duration:b,easing:p,isActive:w,begin:y},J=>{var ee=Oo(q,l,J),le=Oo(F,u,J),oe=Oo(z,a,J),B=Oo(W,o,J);n.current&&(S.current=ee,A.current=le,O.current=oe,j.current=B);var V;k?J>0?V={transition:Y,strokeDasharray:X}:V={strokeDasharray:Z}:V={strokeDasharray:X};var ne=_a(t),{radius:se}=ne,fe=sL(ne,Cge);return _.createElement("path",Zy({},fe,{radius:typeof d=="number"?d:void 0,className:P,d:lL(oe,B,ee,le,d),ref:n,style:oL(oL({},V),t.style)}))})};function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){Ige(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ige(e,t,n){return(t=$ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ge(e){var t=Bge(e,"string");return typeof t=="symbol"?t:t+""}function Bge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xy=Math.PI/180,zge=e=>e*180/Math.PI,Tr=(e,t,n,r)=>({x:e+Math.cos(-Xy*r)*n,y:t+Math.sin(-Xy*r)*n}),Uge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Fge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Hge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Fge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:zge(u),angleInRadian:u}},Gge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Yge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},qge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Hge({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=Gge(t),h=a,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?dL(dL({},t),{},{radius:i,angle:Yge(h,t)}):null};function _8(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Tr(t,n,r,i),l=Tr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(null,arguments)}var Kge=(e,t)=>{var n=ba(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},mb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/Xy,p=u?i:i+a*h,b=Tr(t,n,d,p),y=Tr(t,n,r,p),k=u?i-a*h:i,w=Tr(t,n,d*Math.cos(h*Xy),k);return{center:b,circleTangency:y,lineTangency:w,theta:h}},S8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Kge(a,o),u=a+l,d=Tr(t,n,i,a),h=Tr(t,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Tr(t,n,r,a),y=Tr(t,n,r,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Wge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=ba(d-u),{circleTangency:p,lineTangency:b,theta:y}=mb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:w,theta:S}=mb({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),A=l?Math.abs(u-d):Math.abs(u-d)-y-S;if(A<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):S8({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:C,theta:D}=mb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:I,theta:U}=mb({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),K=l?Math.abs(u-d):Math.abs(u-d)-D-U;if(K<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},Vge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Zge=e=>{var t=Vi(e,Vge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=t;if(a<i||d===h)return null;var b=rn("recharts-sector",p),y=a-i,k=Kl(o,y,0,!0),w;return k>0&&Math.abs(d-h)<360?w=Wge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):w=S8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),_.createElement("path",iE({},_a(t),{className:b,d:w}))};function Xge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(u9(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Tr(r,i,a,l),d=Tr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return _8(t)}}var IS={},$S={},BS={},fL;function Jge(){return fL||(fL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(BS)),BS}var hL;function Qge(){return hL||(hL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jge();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})($S)),$S}var mL;function ebe(){return mL||(mL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_9(),n=Qge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(IS)),IS}var zS,pL;function tbe(){return pL||(pL=1,zS=ebe().range),zS}var nbe=tbe();const k8=_i(nbe);function Ul(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kA(e){let t,n,r;e.length!==2?(t=Ul,n=(l,u)=>Ul(e(l),u),r=(l,u)=>e(l)-u):(t=e===Ul||e===rbe?e:ibe,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function o(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function ibe(){return 0}function E8(e){return e===null?NaN:+e}function*abe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const obe=kA(Ul),Pp=obe.right;kA(E8).center;class gL extends Map{constructor(t,n=cbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(bL(this,t))}has(t){return super.has(bL(this,t))}set(t,n){return super.set(sbe(this,t),n)}delete(t){return super.delete(lbe(this,t))}}function bL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function sbe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lbe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function cbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ube(e=Ul){if(e===Ul)return T8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function T8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dbe=Math.sqrt(50),fbe=Math.sqrt(10),hbe=Math.sqrt(2);function Jy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=dbe?10:a>=fbe?5:a>=hbe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?Jy(e,t,n*2):[l,u,d]}function aE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Jy(t,e,n):Jy(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function oE(e,t,n){return t=+t,e=+e,n=+n,Jy(e,t,n)[2]}function sE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?oE(t,e,n):oE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function yL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function A8(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?T8:ube(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(t-d*p/u+b)),k=Math.min(r,Math.floor(t+(u-d)*p/u+b));A8(e,t,y,k,i)}const a=e[t];let o=n,l=r;for(cm(e,n,t),i(e[r],a)>0&&cm(e,n,r);o<l;){for(cm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?cm(e,n,l):(++l,cm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function cm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mbe(e,t,n){if(e=Float64Array.from(abe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return vL(e);if(t>=1)return yL(e);var r,i=(r-1)*t,a=Math.floor(i),o=yL(A8(e,a).subarray(0,a+1)),l=vL(e.subarray(a+1));return o+(l-o)*(i-a)}}function pbe(e,t,n=E8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function gbe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ja(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Us(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lE=Symbol("implicit");function EA(){var e=new gL,t=[],n=[],r=lE;function i(a){let o=e.get(a);if(o===void 0){if(r!==lE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new gL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return EA(t,n).unknown(r)},ja.apply(i,arguments),i}function TA(){var e=EA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function p(){var b=t().length,y=i<r,k=y?i:r,w=y?r:i;a=(w-k)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),k+=(w-k-a*(b-u))*h,o=a*(1-u),l&&(k=Math.round(k),o=Math.round(o));var S=gbe(b).map(function(A){return k+a*A});return n(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return TA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},ja.apply(p(),arguments)}function j8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j8(t())},e}function bbe(){return j8(TA.apply(null,arguments).paddingInner(1))}function AA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function N8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rp(){}var rp=.7,Qy=1/rp,Kd="\\s*([+-]?\\d+)\\s*",ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ybe=/^#([0-9a-f]{3,8})$/,vbe=new RegExp(`^rgb\\(${Kd},${Kd},${Kd}\\)$`),xbe=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),wbe=new RegExp(`^rgba\\(${Kd},${Kd},${Kd},${ip}\\)$`),_be=new RegExp(`^rgba\\(${Po},${Po},${Po},${ip}\\)$`),Sbe=new RegExp(`^hsl\\(${ip},${Po},${Po}\\)$`),kbe=new RegExp(`^hsla\\(${ip},${Po},${Po},${ip}\\)$`),xL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AA(Rp,ap,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wL,formatHex:wL,formatHex8:Ebe,formatHsl:Tbe,formatRgb:_L,toString:_L});function wL(){return this.rgb().formatHex()}function Ebe(){return this.rgb().formatHex8()}function Tbe(){return O8(this).formatHsl()}function _L(){return this.rgb().formatRgb()}function ap(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ybe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?SL(t):n===3?new yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vbe.exec(e))?new yi(t[1],t[2],t[3],1):(t=xbe.exec(e))?new yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wbe.exec(e))?pb(t[1],t[2],t[3],t[4]):(t=_be.exec(e))?pb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sbe.exec(e))?TL(t[1],t[2]/100,t[3]/100,1):(t=kbe.exec(e))?TL(t[1],t[2]/100,t[3]/100,t[4]):xL.hasOwnProperty(e)?SL(xL[e]):e==="transparent"?new yi(NaN,NaN,NaN,0):null}function SL(e){return new yi(e>>16&255,e>>8&255,e&255,1)}function pb(e,t,n,r){return r<=0&&(e=t=n=NaN),new yi(e,t,n,r)}function Abe(e){return e instanceof Rp||(e=ap(e)),e?(e=e.rgb(),new yi(e.r,e.g,e.b,e.opacity)):new yi}function cE(e,t,n,r){return arguments.length===1?Abe(e):new yi(e,t,n,r??1)}function yi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}AA(yi,cE,N8(Rp,{brighter(e){return e=e==null?Qy:Math.pow(Qy,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rp:Math.pow(rp,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(fu(this.r),fu(this.g),fu(this.b),ev(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kL,formatHex:kL,formatHex8:jbe,formatRgb:EL,toString:EL}));function kL(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}`}function jbe(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}${ou((isNaN(this.opacity)?1:this.opacity)*255)}`}function EL(){const e=ev(this.opacity);return`${e===1?"rgb(":"rgba("}${fu(this.r)}, ${fu(this.g)}, ${fu(this.b)}${e===1?")":`, ${e})`}`}function ev(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ou(e){return e=fu(e),(e<16?"0":"")+e.toString(16)}function TL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Va(e,t,n,r)}function O8(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof Rp||(e=ap(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Va(o,l,u,e.opacity)}function Nbe(e,t,n,r){return arguments.length===1?O8(e):new Va(e,t,n,r??1)}function Va(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}AA(Va,Nbe,N8(Rp,{brighter(e){return e=e==null?Qy:Math.pow(Qy,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rp:Math.pow(rp,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yi(US(e>=240?e-240:e+120,i,r),US(e,i,r),US(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Va(AL(this.h),gb(this.s),gb(this.l),ev(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ev(this.opacity);return`${e===1?"hsl(":"hsla("}${AL(this.h)}, ${gb(this.s)*100}%, ${gb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AL(e){return e=(e||0)%360,e<0?e+360:e}function gb(e){return Math.max(0,Math.min(1,e||0))}function US(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const jA=e=>()=>e;function Obe(e,t){return function(n){return e+n*t}}function Cbe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Mbe(e){return(e=+e)==1?C8:function(t,n){return n-t?Cbe(t,n,e):jA(isNaN(t)?n:t)}}function C8(e,t){var n=t-e;return n?Obe(e,n):jA(isNaN(e)?t:e)}const jL=(function e(t){var n=Mbe(t);function r(i,a){var o=n((i=cE(i)).r,(a=cE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=C8(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function Dbe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Pbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rbe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Nf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Lbe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function tv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ibe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Nf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var uE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FS=new RegExp(uE.source,"g");function $be(e){return function(){return e}}function Bbe(e){return function(t){return e(t)+""}}function zbe(e,t){var n=uE.lastIndex=FS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=uE.exec(e))&&(i=FS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:tv(r,i)})),n=FS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Bbe(u[0].x):$be(t):(t=u.length,function(d){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function Nf(e,t){var n=typeof t,r;return t==null||n==="boolean"?jA(t):(n==="number"?tv:n==="string"?(r=ap(t))?(t=r,jL):zbe:t instanceof ap?jL:t instanceof Date?Lbe:Pbe(t)?Dbe:Array.isArray(t)?Rbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ibe:tv)(e,t)}function NA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ube(e,t){t===void 0&&(t=e,e=Nf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Fbe(e){return function(){return e}}function nv(e){return+e}var NL=[0,1];function Vr(e){return e}function dE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Fbe(isNaN(t)?NaN:.5)}function Hbe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Gbe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=dE(i,r),a=n(o,a)):(r=dE(r,i),a=n(a,o)),function(l){return a(r(l))}}function Ybe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=dE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Pp(e,l,1,r)-1;return a[u](i[u](l))}}function Lp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kx(){var e=NL,t=NL,n=Nf,r,i,a,o=Vr,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Vr&&(o=Hbe(e[0],e[b-1])),l=b>2?Ybe:Gbe,u=d=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((d||(d=l(t,e.map(r),tv)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,nv),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=NA,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Vr,h()):o!==Vr},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,y){return r=b,i=y,h()}}function OA(){return kx()(Vr,Vr)}function qbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uf(e){return e=rv(Math.abs(e)),e?e[1]:NaN}function Kbe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Wbe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Vbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function op(e){if(!(t=Vbe.exec(e)))throw new Error("invalid format: "+e);var t;return new CA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}op.prototype=CA.prototype;function CA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}CA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zbe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var M8;function Xbe(e,t){var n=rv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(M8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+rv(e,Math.max(0,t+a-1))[0]}function OL(e,t){var n=rv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OL(e*100,t),r:OL,s:Xbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ML(e){return e}var DL=Array.prototype.map,PL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jbe(e){var t=e.grouping===void 0||e.thousands===void 0?ML:Kbe(DL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ML:Wbe(DL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=op(p);var b=p.fill,y=p.align,k=p.sign,w=p.symbol,S=p.zero,A=p.width,O=p.comma,j=p.precision,C=p.trim,D=p.type;D==="n"?(O=!0,D="g"):CL[D]||(j===void 0&&(j=12),C=!0,D="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",I=w==="$"?r:/[%p]/.test(D)?o:"",U=CL[D],K=/[defgprs%]/.test(D);j=j===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function q(F){var z=P,W=I,Z,X,Y;if(D==="c")W=U(F)+W,F="";else{F=+F;var J=F<0||1/F<0;if(F=isNaN(F)?u:U(Math.abs(F),j),C&&(F=Zbe(F)),J&&+F==0&&k!=="+"&&(J=!1),z=(J?k==="("?k:l:k==="-"||k==="("?"":k)+z,W=(D==="s"?PL[8+M8/3]:"")+W+(J&&k==="("?")":""),K){for(Z=-1,X=F.length;++Z<X;)if(Y=F.charCodeAt(Z),48>Y||Y>57){W=(Y===46?i+F.slice(Z+1):F.slice(Z))+W,F=F.slice(0,Z);break}}}O&&!S&&(F=t(F,1/0));var ee=z.length+F.length+W.length,le=ee<A?new Array(A-ee+1).join(b):"";switch(O&&S&&(F=t(le+F,le.length?A-W.length:1/0),le=""),y){case"<":F=z+F+W+le;break;case"=":F=z+le+F+W;break;case"^":F=le.slice(0,ee=le.length>>1)+z+F+W+le.slice(ee);break;default:F=le+z+F+W;break}return a(F)}return q.toString=function(){return p+""},q}function h(p,b){var y=d((p=op(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor(uf(b)/3)))*3,w=Math.pow(10,-k),S=PL[8+k/3];return function(A){return y(w*A)+S}}return{format:d,formatPrefix:h}}var bb,MA,D8;Qbe({thousands:",",grouping:[3],currency:["$",""]});function Qbe(e){return bb=Jbe(e),MA=bb.format,D8=bb.formatPrefix,bb}function eye(e){return Math.max(0,-uf(Math.abs(e)))}function tye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uf(t)/3)))*3-uf(Math.abs(e)))}function nye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uf(t)-uf(e))+1}function P8(e,t,n,r){var i=sE(e,t,n),a;switch(r=op(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=tye(i,o))&&(r.precision=a),D8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=nye(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=eye(i))&&(r.precision=a-(r.type==="%")*2);break}}return MA(r)}function Jl(e){var t=e.domain;return e.ticks=function(n){var r=t();return aE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return P8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=oE(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function R8(){var e=OA();return e.copy=function(){return Lp(e,R8())},ja.apply(e,arguments),Jl(e)}function L8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,nv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return L8(e).unknown(t)},e=arguments.length?Array.from(e,nv):[0,1],Jl(n)}function I8(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function RL(e){return Math.log(e)}function LL(e){return Math.exp(e)}function rye(e){return-Math.log(-e)}function iye(e){return-Math.exp(-e)}function aye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oye(e){return e===10?aye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IL(e){return(t,n)=>-e(-t,n)}function DA(e){const t=e(RL,LL),n=t.domain;let r=10,i,a;function o(){return i=sye(r),a=oye(r),n()[0]<0?(i=IL(i),a=IL(a),e(rye,iye)):e(RL,LL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let b=i(d),y=i(h),k,w;const S=l==null?10:+l;let A=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),d>0){for(;b<=y;++b)for(k=1;k<r;++k)if(w=b<0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;A.push(w)}}else for(;b<=y;++b)for(k=r-1;k>=1;--k)if(w=b>0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;A.push(w)}A.length*2<S&&(A=aE(d,h,S))}else A=aE(b,y,Math.min(y-b,S)).map(a);return p?A.reverse():A},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=op(u)).precision==null&&(u.trim=!0),u=MA(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},t.nice=()=>n(I8(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function $8(){const e=DA(kx()).domain([1,10]);return e.copy=()=>Lp(e,$8()).base(e.base()),ja.apply(e,arguments),e}function $L(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function PA(e){var t=1,n=e($L(t),BL(t));return n.constant=function(r){return arguments.length?e($L(t=+r),BL(t)):t},Jl(n)}function B8(){var e=PA(kx());return e.copy=function(){return Lp(e,B8()).constant(e.constant())},ja.apply(e,arguments)}function zL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cye(e){return e<0?-e*e:e*e}function RA(e){var t=e(Vr,Vr),n=1;function r(){return n===1?e(Vr,Vr):n===.5?e(lye,cye):e(zL(n),zL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Jl(t)}function LA(){var e=RA(kx());return e.copy=function(){return Lp(e,LA()).exponent(e.exponent())},ja.apply(e,arguments),e}function uye(){return LA.apply(null,arguments).exponent(.5)}function UL(e){return Math.sign(e)*e*e}function dye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function z8(){var e=OA(),t=[0,1],n=!1,r;function i(a){var o=dye(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(UL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,nv)).map(UL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return z8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ja.apply(i,arguments),Jl(i)}function U8(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=pbe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Pp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ul),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return U8().domain(e).range(t).unknown(r)},ja.apply(a,arguments)}function F8(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Pp(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return F8().domain([e,t]).range(i).unknown(a)},ja.apply(Jl(o),arguments)}function H8(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Pp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return H8().domain(e).range(t).unknown(n)},ja.apply(i,arguments)}const HS=new Date,GS=new Date;function er(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>er(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(HS.setTime(+a),GS.setTime(+o),e(HS),e(GS),Math.floor(n(HS,GS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const iv=er(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?er(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):iv);iv.range;const Ss=1e3,ya=Ss*60,ks=ya*60,Ds=ks*24,IA=Ds*7,FL=Ds*30,YS=Ds*365,su=er(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ss)},(e,t)=>(t-e)/Ss,e=>e.getUTCSeconds());su.range;const $A=er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ss)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getMinutes());$A.range;const BA=er(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCMinutes());BA.range;const zA=er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ss-e.getMinutes()*ya)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());zA.range;const UA=er(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());UA.range;const Ip=er(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ya)/Ds,e=>e.getDate()-1);Ip.range;const Ex=er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>e.getUTCDate()-1);Ex.range;const G8=er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>Math.floor(e/Ds));G8.range;function Au(e){return er(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ya)/IA)}const Tx=Au(0),av=Au(1),fye=Au(2),hye=Au(3),df=Au(4),mye=Au(5),pye=Au(6);Tx.range;av.range;fye.range;hye.range;df.range;mye.range;pye.range;function ju(e){return er(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/IA)}const Ax=ju(0),ov=ju(1),gye=ju(2),bye=ju(3),ff=ju(4),yye=ju(5),vye=ju(6);Ax.range;ov.range;gye.range;bye.range;ff.range;yye.range;vye.range;const FA=er(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());FA.range;const HA=er(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HA.range;const Ps=er(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:er(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ps.range;const Rs=er(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:er(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rs.range;function Y8(e,t,n,r,i,a){const o=[[su,1,Ss],[su,5,5*Ss],[su,15,15*Ss],[su,30,30*Ss],[a,1,ya],[a,5,5*ya],[a,15,15*ya],[a,30,30*ya],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[r,1,Ds],[r,2,2*Ds],[n,1,IA],[t,1,FL],[t,3,3*FL],[e,1,YS]];function l(d,h,p){const b=h<d;b&&([d,h]=[h,d]);const y=p&&typeof p.range=="function"?p:u(d,h,p),k=y?y.range(d,+h+1):[];return b?k.reverse():k}function u(d,h,p){const b=Math.abs(h-d)/p,y=kA(([,,S])=>S).right(o,b);if(y===o.length)return e.every(sE(d/YS,h/YS,p));if(y===0)return iv.every(Math.max(sE(d,h,p),1));const[k,w]=o[b/o[y-1][2]<o[y][2]/b?y-1:y];return k.every(w)}return[l,u]}const[xye,wye]=Y8(Rs,HA,Ax,G8,UA,BA),[_ye,Sye]=Y8(Ps,FA,Tx,Ip,zA,$A);function qS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function KS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function um(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=dm(i),h=fm(i),p=dm(a),b=fm(a),y=dm(o),k=fm(o),w=dm(l),S=fm(l),A=dm(u),O=fm(u),j={a:J,A:ee,b:le,B:oe,c:null,d:WL,e:WL,f:Kye,g:rve,G:ave,H:Gye,I:Yye,j:qye,L:q8,m:Wye,M:Vye,p:B,q:V,Q:XL,s:JL,S:Zye,u:Xye,U:Jye,V:Qye,w:eve,W:tve,x:null,X:null,y:nve,Y:ive,Z:ove,"%":ZL},C={a:ne,A:se,b:fe,B:be,c:null,d:VL,e:VL,f:uve,g:xve,G:_ve,H:sve,I:lve,j:cve,L:W8,m:dve,M:fve,p:ye,q:Te,Q:XL,s:JL,S:hve,u:mve,U:pve,V:gve,w:bve,W:yve,x:null,X:null,y:vve,Y:wve,Z:Sve,"%":ZL},D={a:q,A:F,b:z,B:W,c:Z,d:qL,e:qL,f:zye,g:YL,G:GL,H:KL,I:KL,j:Lye,L:Bye,m:Rye,M:Iye,p:K,q:Pye,Q:Fye,s:Hye,S:$ye,u:Nye,U:Oye,V:Cye,w:jye,W:Mye,x:X,X:Y,y:YL,Y:GL,Z:Dye,"%":Uye};j.x=P(n,j),j.X=P(r,j),j.c=P(t,j),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(re,ke){return function(_e){var ae=[],Ue=-1,Fe=0,Ce=re.length,Pe,Ge,Ne;for(_e instanceof Date||(_e=new Date(+_e));++Ue<Ce;)re.charCodeAt(Ue)===37&&(ae.push(re.slice(Fe,Ue)),(Ge=HL[Pe=re.charAt(++Ue)])!=null?Pe=re.charAt(++Ue):Ge=Pe==="e"?" ":"0",(Ne=ke[Pe])&&(Pe=Ne(_e,Ge)),ae.push(Pe),Fe=Ue+1);return ae.push(re.slice(Fe,Ue)),ae.join("")}}function I(re,ke){return function(_e){var ae=um(1900,void 0,1),Ue=U(ae,re,_e+="",0),Fe,Ce;if(Ue!=_e.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ke&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Fe=KS(um(ae.y,0,1)),Ce=Fe.getUTCDay(),Fe=Ce>4||Ce===0?ov.ceil(Fe):ov(Fe),Fe=Ex.offset(Fe,(ae.V-1)*7),ae.y=Fe.getUTCFullYear(),ae.m=Fe.getUTCMonth(),ae.d=Fe.getUTCDate()+(ae.w+6)%7):(Fe=qS(um(ae.y,0,1)),Ce=Fe.getDay(),Fe=Ce>4||Ce===0?av.ceil(Fe):av(Fe),Fe=Ip.offset(Fe,(ae.V-1)*7),ae.y=Fe.getFullYear(),ae.m=Fe.getMonth(),ae.d=Fe.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Ce="Z"in ae?KS(um(ae.y,0,1)).getUTCDay():qS(um(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Ce+5)%7:ae.w+ae.U*7-(Ce+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,KS(ae)):qS(ae)}}function U(re,ke,_e,ae){for(var Ue=0,Fe=ke.length,Ce=_e.length,Pe,Ge;Ue<Fe;){if(ae>=Ce)return-1;if(Pe=ke.charCodeAt(Ue++),Pe===37){if(Pe=ke.charAt(Ue++),Ge=D[Pe in HL?ke.charAt(Ue++):Pe],!Ge||(ae=Ge(re,_e,ae))<0)return-1}else if(Pe!=_e.charCodeAt(ae++))return-1}return ae}function K(re,ke,_e){var ae=d.exec(ke.slice(_e));return ae?(re.p=h.get(ae[0].toLowerCase()),_e+ae[0].length):-1}function q(re,ke,_e){var ae=y.exec(ke.slice(_e));return ae?(re.w=k.get(ae[0].toLowerCase()),_e+ae[0].length):-1}function F(re,ke,_e){var ae=p.exec(ke.slice(_e));return ae?(re.w=b.get(ae[0].toLowerCase()),_e+ae[0].length):-1}function z(re,ke,_e){var ae=A.exec(ke.slice(_e));return ae?(re.m=O.get(ae[0].toLowerCase()),_e+ae[0].length):-1}function W(re,ke,_e){var ae=w.exec(ke.slice(_e));return ae?(re.m=S.get(ae[0].toLowerCase()),_e+ae[0].length):-1}function Z(re,ke,_e){return U(re,t,ke,_e)}function X(re,ke,_e){return U(re,n,ke,_e)}function Y(re,ke,_e){return U(re,r,ke,_e)}function J(re){return o[re.getDay()]}function ee(re){return a[re.getDay()]}function le(re){return u[re.getMonth()]}function oe(re){return l[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function V(re){return 1+~~(re.getMonth()/3)}function ne(re){return o[re.getUTCDay()]}function se(re){return a[re.getUTCDay()]}function fe(re){return u[re.getUTCMonth()]}function be(re){return l[re.getUTCMonth()]}function ye(re){return i[+(re.getUTCHours()>=12)]}function Te(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ke=P(re+="",j);return ke.toString=function(){return re},ke},parse:function(re){var ke=I(re+="",!1);return ke.toString=function(){return re},ke},utcFormat:function(re){var ke=P(re+="",C);return ke.toString=function(){return re},ke},utcParse:function(re){var ke=I(re+="",!0);return ke.toString=function(){return re},ke}}}var HL={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,Eye=/^%/,Tye=/[\\^$*+?|[\]().{}]/g;function Ot(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Aye(e){return e.replace(Tye,"\\$&")}function dm(e){return new RegExp("^(?:"+e.map(Aye).join("|")+")","i")}function fm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function jye(e,t,n){var r=gr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Nye(e,t,n){var r=gr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Oye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Cye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Mye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function GL(e,t,n){var r=gr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function YL(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Pye(e,t,n){var r=gr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Rye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qL(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Lye(e,t,n){var r=gr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function KL(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Iye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $ye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Bye(e,t,n){var r=gr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zye(e,t,n){var r=gr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Uye(e,t,n){var r=Eye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Fye(e,t,n){var r=gr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Hye(e,t,n){var r=gr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function WL(e,t){return Ot(e.getDate(),t,2)}function Gye(e,t){return Ot(e.getHours(),t,2)}function Yye(e,t){return Ot(e.getHours()%12||12,t,2)}function qye(e,t){return Ot(1+Ip.count(Ps(e),e),t,3)}function q8(e,t){return Ot(e.getMilliseconds(),t,3)}function Kye(e,t){return q8(e,t)+"000"}function Wye(e,t){return Ot(e.getMonth()+1,t,2)}function Vye(e,t){return Ot(e.getMinutes(),t,2)}function Zye(e,t){return Ot(e.getSeconds(),t,2)}function Xye(e){var t=e.getDay();return t===0?7:t}function Jye(e,t){return Ot(Tx.count(Ps(e)-1,e),t,2)}function K8(e){var t=e.getDay();return t>=4||t===0?df(e):df.ceil(e)}function Qye(e,t){return e=K8(e),Ot(df.count(Ps(e),e)+(Ps(e).getDay()===4),t,2)}function eve(e){return e.getDay()}function tve(e,t){return Ot(av.count(Ps(e)-1,e),t,2)}function nve(e,t){return Ot(e.getFullYear()%100,t,2)}function rve(e,t){return e=K8(e),Ot(e.getFullYear()%100,t,2)}function ive(e,t){return Ot(e.getFullYear()%1e4,t,4)}function ave(e,t){var n=e.getDay();return e=n>=4||n===0?df(e):df.ceil(e),Ot(e.getFullYear()%1e4,t,4)}function ove(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ot(t/60|0,"0",2)+Ot(t%60,"0",2)}function VL(e,t){return Ot(e.getUTCDate(),t,2)}function sve(e,t){return Ot(e.getUTCHours(),t,2)}function lve(e,t){return Ot(e.getUTCHours()%12||12,t,2)}function cve(e,t){return Ot(1+Ex.count(Rs(e),e),t,3)}function W8(e,t){return Ot(e.getUTCMilliseconds(),t,3)}function uve(e,t){return W8(e,t)+"000"}function dve(e,t){return Ot(e.getUTCMonth()+1,t,2)}function fve(e,t){return Ot(e.getUTCMinutes(),t,2)}function hve(e,t){return Ot(e.getUTCSeconds(),t,2)}function mve(e){var t=e.getUTCDay();return t===0?7:t}function pve(e,t){return Ot(Ax.count(Rs(e)-1,e),t,2)}function V8(e){var t=e.getUTCDay();return t>=4||t===0?ff(e):ff.ceil(e)}function gve(e,t){return e=V8(e),Ot(ff.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function bve(e){return e.getUTCDay()}function yve(e,t){return Ot(ov.count(Rs(e)-1,e),t,2)}function vve(e,t){return Ot(e.getUTCFullYear()%100,t,2)}function xve(e,t){return e=V8(e),Ot(e.getUTCFullYear()%100,t,2)}function wve(e,t){return Ot(e.getUTCFullYear()%1e4,t,4)}function _ve(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ff(e):ff.ceil(e),Ot(e.getUTCFullYear()%1e4,t,4)}function Sve(){return"+0000"}function ZL(){return"%"}function XL(e){return+e}function JL(e){return Math.floor(+e/1e3)}var Td,Z8,X8;kve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kve(e){return Td=kye(e),Z8=Td.format,Td.parse,X8=Td.utcFormat,Td.utcParse,Td}function Eve(e){return new Date(e)}function Tve(e){return e instanceof Date?+e:+new Date(+e)}function GA(e,t,n,r,i,a,o,l,u,d){var h=OA(),p=h.invert,b=h.domain,y=d(".%L"),k=d(":%S"),w=d("%I:%M"),S=d("%I %p"),A=d("%a %d"),O=d("%b %d"),j=d("%B"),C=d("%Y");function D(P){return(u(P)<P?y:l(P)<P?k:o(P)<P?w:a(P)<P?S:r(P)<P?i(P)<P?A:O:n(P)<P?j:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,Tve)):b().map(Eve)},h.ticks=function(P){var I=b();return e(I[0],I[I.length-1],P??10)},h.tickFormat=function(P,I){return I==null?D:d(I)},h.nice=function(P){var I=b();return(!P||typeof P.range!="function")&&(P=t(I[0],I[I.length-1],P??10)),P?b(I8(I,P)):h},h.copy=function(){return Lp(h,GA(e,t,n,r,i,a,o,l,u,d))},h}function Ave(){return ja.apply(GA(_ye,Sye,Ps,FA,Tx,Ip,zA,$A,su,Z8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jve(){return ja.apply(GA(xye,wye,Rs,HA,Ax,Ex,UA,BA,su,X8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jx(){var e=0,t=1,n,r,i,a,o=Vr,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(b){var y,k;return arguments.length?([y,k]=b,o=p(y,k),d):[o(0),o(1)]}}return d.range=h(Nf),d.rangeRound=h(NA),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Ql(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function J8(){var e=Jl(jx()(Vr));return e.copy=function(){return Ql(e,J8())},Us.apply(e,arguments)}function Q8(){var e=DA(jx()).domain([1,10]);return e.copy=function(){return Ql(e,Q8()).base(e.base())},Us.apply(e,arguments)}function ez(){var e=PA(jx());return e.copy=function(){return Ql(e,ez()).constant(e.constant())},Us.apply(e,arguments)}function YA(){var e=RA(jx());return e.copy=function(){return Ql(e,YA()).exponent(e.exponent())},Us.apply(e,arguments)}function Nve(){return YA.apply(null,arguments).exponent(.5)}function tz(){var e=[],t=Vr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Pp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ul),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>mbe(e,a/r))},n.copy=function(){return tz(t).domain(e)},Us.apply(n,arguments)}function Nx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Vr,h,p=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:u),d(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(d=w,y):d};function k(w){return function(S){var A,O,j;return arguments.length?([A,O,j]=S,d=Ube(w,[A,O,j]),y):[d(0),d(.5),d(1)]}}return y.range=k(Nf),y.rangeRound=k(NA),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,i=w(e),a=w(t),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function nz(){var e=Jl(Nx()(Vr));return e.copy=function(){return Ql(e,nz())},Us.apply(e,arguments)}function rz(){var e=DA(Nx()).domain([.1,1,10]);return e.copy=function(){return Ql(e,rz()).base(e.base())},Us.apply(e,arguments)}function iz(){var e=PA(Nx());return e.copy=function(){return Ql(e,iz()).constant(e.constant())},Us.apply(e,arguments)}function qA(){var e=RA(Nx());return e.copy=function(){return Ql(e,qA()).exponent(e.exponent())},Us.apply(e,arguments)}function Ove(){return qA.apply(null,arguments).exponent(.5)}const _m=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:TA,scaleDiverging:nz,scaleDivergingLog:rz,scaleDivergingPow:qA,scaleDivergingSqrt:Ove,scaleDivergingSymlog:iz,scaleIdentity:L8,scaleImplicit:lE,scaleLinear:R8,scaleLog:$8,scaleOrdinal:EA,scalePoint:bbe,scalePow:LA,scaleQuantile:U8,scaleQuantize:F8,scaleRadial:z8,scaleSequential:J8,scaleSequentialLog:Q8,scaleSequentialPow:YA,scaleSequentialQuantile:tz,scaleSequentialSqrt:Nve,scaleSequentialSymlog:ez,scaleSqrt:uye,scaleSymlog:B8,scaleThreshold:H8,scaleTime:Ave,scaleUtc:jve,tickFormat:P8},Symbol.toStringTag,{value:"Module"}));var ec=e=>e.chartData,Cve=xe([ec],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),KA=(e,t,n,r)=>r?Cve(e):ec(e);function Wl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(jn(t)&&jn(n))return!0}return!1}function QL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function az(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(jn(n))i=n;else if(typeof n=="function")return;if(jn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Wl(o))return o}}function Mve(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Wl(r))return QL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Qe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&N3.test(i)){var u=N3.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(Qe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&O3.test(a)){var h=O3.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if(Wl(b))return t==null?b:QL(b,t,n)}}}var Of=1e9,Dve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VA,fn=!0,ka="[DecimalError] ",hu=ka+"Invalid argument: ",WA=ka+"Exponent out of range: ",Cf=Math.floor,Qc=Math.pow,Pve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zi,dr=1e7,nn=7,oz=9007199254740991,sv=Cf(oz/nn),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*nn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};He.dividedBy=He.div=function(e){return Ts(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,n=t.constructor;return Wt(Ts(t,new n(e),0,1),n.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return qn(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(zi))throw Error(ka+"NaN");if(n.s<1)throw Error(ka+(n.s?"NaN":"-Infinity"));return n.eq(zi)?new r(0):(fn=!1,t=Ts(sp(n,a),sp(e,a),a),fn=!0,Wt(t,i))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cz(t,e):sz(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ka+"NaN");return n.s?(fn=!1,t=Ts(n,e,0,1).times(e),fn=!0,n.minus(t)):Wt(new r(n),i)};He.naturalExponential=He.exp=function(){return lz(this)};He.naturalLogarithm=He.ln=function(){return sp(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sz(t,e):cz(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hu+e);if(t=qn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};He.squareRoot=He.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ka+"NaN")}for(e=qn(l),fn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Mo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Cf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(Ts(l,a,o+2)).times(.5),Mo(a.d).slice(0,o)===(t=Mo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Wt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return fn=!0,Wt(r,n)};He.times=He.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,p=h.constructor,b=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=y.length,u<d&&(a=b,b=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+y[r]*b[i-r-1]+t,a[i--]=l%dr|0,t=l/dr|0;a[i]=(a[i]+t)%dr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,fn?Wt(e,p.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Bo(e,0,Of),t===void 0?t=r.rounding:Bo(t,0,8),Wt(n,e+qn(n)+1,t))};He.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=xu(r,!0):(Bo(e,0,Of),t===void 0?t=i.rounding:Bo(t,0,8),r=Wt(new i(r),e+1,t),n=xu(r,!0,e+1)),n};He.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?xu(i):(Bo(e,0,Of),t===void 0?t=a.rounding:Bo(t,0,8),r=Wt(new a(i),e+qn(i)+1,t),n=xu(r.abs(),!1,e+qn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),qn(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(zi);if(l=new u(l),!l.s){if(e.s<1)throw Error(ka+"Infinity");return l}if(l.eq(zi))return l;if(r=u.precision,e.eq(zi))return Wt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=oz){for(i=new u(zi),t=Math.ceil(r/nn+4),fn=!1;n%2&&(i=i.times(l),tI(i.d,t)),n=Cf(n/2),n!==0;)l=l.times(l),tI(l.d,t);return fn=!0,e.s<0?new u(zi).div(i):Wt(i,r)}}else if(a<0)throw Error(ka+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,fn=!1,i=e.times(sp(l,r+d)),fn=!0,i=lz(i),i.s=a,i};He.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=qn(i),r=xu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Bo(e,1,Of),t===void 0?t=a.rounding:Bo(t,0,8),i=Wt(new a(i),e,t),n=qn(i),r=xu(i,e<=n||n<=a.toExpNeg,e)),r};He.toSignificantDigits=He.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Bo(e,1,Of),t===void 0?t=r.rounding:Bo(t,0,8)),Wt(new r(n),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qn(e),n=e.constructor;return xu(e,t<=n.toExpNeg||t>=n.toExpPos)};function sz(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),fn?Wt(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(p/nn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/dr|0,u[a]%=dr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,fn?Wt(t,p):t}function Bo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(hu+e)}function Mo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=nn-r.length,n&&(a+=Ol(n)),a+=r;o=e[t],r=o+"",n=nn-r.length,n&&(a+=Ol(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ts=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%dr|0,o=a/dr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*dr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,p,b,y,k,w,S,A,O,j,C,D,P,I,U,K=r.constructor,q=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new K(r);if(!i.s)throw Error(ka+"Division by zero");for(u=r.e-i.e,I=z.length,D=F.length,y=new K(q),k=y.d=[],d=0;z[d]==(F[d]||0);)++d;if(z[d]>(F[d]||0)&&--u,a==null?O=a=K.precision:o?O=a+(qn(r)-qn(i))+1:O=a,O<0)return new K(0);if(O=O/nn+2|0,d=0,I==1)for(h=0,z=z[0],O++;(d<D||h)&&O--;d++)j=h*dr+(F[d]||0),k[d]=j/z|0,h=j%z|0;else{for(h=dr/(z[0]+1)|0,h>1&&(z=e(z,h),F=e(F,h),I=z.length,D=F.length),C=I,w=F.slice(0,I),S=w.length;S<I;)w[S++]=0;U=z.slice(),U.unshift(0),P=z[0],z[1]>=dr/2&&++P;do h=0,l=t(z,w,I,S),l<0?(A=w[0],I!=S&&(A=A*dr+(w[1]||0)),h=A/P|0,h>1?(h>=dr&&(h=dr-1),p=e(z,h),b=p.length,S=w.length,l=t(p,w,b,S),l==1&&(h--,n(p,I<b?U:z,b))):(h==0&&(l=h=1),p=z.slice()),b=p.length,b<S&&p.unshift(0),n(w,p,S),l==-1&&(S=w.length,l=t(z,w,I,S),l<1&&(h++,n(w,I<S?U:z,S))),S=w.length):l===0&&(h++,w=[0]),k[d++]=h,l&&w[0]?w[S++]=F[C]||0:(w=[F[C]],S=1);while((C++<D||w[0]!==void 0)&&O--)}return k[0]||k.shift(),y.e=u,Wt(y,o?a+qn(y)+1:a)}})();function lz(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,p=h.precision;if(qn(e)>16)throw Error(WA+qn(e));if(!e.s)return new h(zi);for(fn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(Qc(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(zi),h.precision=l;;){if(i=Wt(i.times(e),l),n=n.times(++u),o=a.plus(Ts(i,n,l)),Mo(o.d).slice(0,l)===Mo(a.d).slice(0,l)){for(;d--;)a=Wt(a.times(a),l);return h.precision=p,t==null?(fn=!0,Wt(a,p)):a}a=o}}function qn(e){for(var t=e.e*nn,n=e.d[0];n>=10;n/=10)t++;return t}function WS(e,t,n){if(t>e.LN10.sd())throw fn=!0,n&&(e.precision=n),Error(ka+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function Ol(e){for(var t="";e--;)t+="0";return t}function sp(e,t){var n,r,i,a,o,l,u,d,h,p=1,b=10,y=e,k=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(ka+(y.s?"NaN":"-Infinity"));if(y.eq(zi))return new w(0);if(t==null?(fn=!1,d=S):d=t,y.eq(10))return t==null&&(fn=!0),WS(w,d);if(d+=b,w.precision=d,n=Mo(k),r=n.charAt(0),a=qn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Mo(y.d),r=n.charAt(0),p++;a=qn(y),r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1))}else return u=WS(w,d+2,S).times(a+""),y=sp(new w(r+"."+n.slice(1)),d-b).plus(u),w.precision=S,t==null?(fn=!0,Wt(y,S)):y;for(l=o=y=Ts(y.minus(zi),y.plus(zi),d),h=Wt(y.times(y),d),i=3;;){if(o=Wt(o.times(h),d),u=l.plus(Ts(o,new w(i),d)),Mo(u.d).slice(0,d)===Mo(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(WS(w,d+2,S).times(a+""))),l=Ts(l,new w(p),d),w.precision=S,t==null?(fn=!0,Wt(l,S)):l;l=u,i+=2}}function eI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Cf(n/nn),e.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=nn;r<i;)e.d.push(+t.slice(r,r+=nn));t=t.slice(r),r=nn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),fn&&(e.e>sv||e.e<-sv))throw Error(WA+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,n){var r,i,a,o,l,u,d,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=nn,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/nn),a=p.length,h>=a)return e;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=nn,i=r-nn+o}if(n!==void 0&&(a=Qc(10,o-i-1),l=d/a%10|0,u=t<0||p[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/Qc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=qn(e),p.length=1,t=t-a-1,p[0]=Qc(10,(nn-t%nn)%nn),e.e=Cf(-t/nn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Qc(10,nn-r),p[h]=i>0?(d/Qc(10,o-i)%Qc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==dr&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=dr)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(fn&&(e.e>sv||e.e<-sv))throw Error(WA+qn(e));return e}function cz(e,t){var n,r,i,a,o,l,u,d,h,p,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),fn?Wt(t,y):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(y/nn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=dr-1;--u[a],u[i]+=dr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,fn?Wt(t,y):t):new b(0)}function xu(e,t,n){var r,i=qn(e),a=Mo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ol(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ol(-i-1)+a,n&&(r=n-o)>0&&(a+=Ol(r))):i>=o?(a+=Ol(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ol(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ol(r))),e.s<0?"-"+a:a}function tI(e,t){if(e.length>t)return e.length=t,!0}function uz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return eI(o,a.toString())}else if(typeof a!="string")throw Error(hu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Pve.test(a))eI(o,a);else throw Error(hu+a)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=uz,i.config=i.set=Rve,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Rve(e){if(!e||typeof e!="object")throw Error(ka+"Object expected");var t,n,r,i=["precision",1,Of,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Cf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(hu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hu+n+": "+r);return this}var VA=uz(Dve);zi=new VA(1);const zt=VA;var Lve=e=>e,dz={},fz=e=>e===dz,nI=e=>function t(){return arguments.length===0||arguments.length===1&&fz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},hz=(e,t)=>e===1?t:nI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==dz).length;return a>=e?t(...r):hz(e-a,nI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>fz(h)?l.shift():h);return t(...d,...l)}))}),Ive=e=>hz(e.length,e),fE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},$ve=Ive((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Bve=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Lve;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},hE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function mz(e){var t;return e===0?t=1:t=Math.floor(new zt(e).abs().log(10).toNumber())+1,t}function pz(e,t,n){for(var r=new zt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var gz=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},bz=(e,t,n)=>{if(e.lte(0))return new zt(0);var r=mz(e.toNumber()),i=new zt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new zt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new zt(u.toNumber()):new zt(Math.ceil(u.toNumber()))},zve=(e,t,n)=>{var r=new zt(1),i=new zt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new zt(10).pow(mz(e)-1),i=new zt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zt(Math.floor(e)))}else e===0?i=new zt(Math.floor((t-1)/2)):n||(i=new zt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Bve($ve(u=>i.add(new zt(u-o).mul(r)).toNumber()),fE);return l(0,t)},yz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var o=bz(new zt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new zt(0):(l=new zt(t).add(n).div(2),l=l.sub(new zt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new zt(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?yz(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new zt(u).mul(o)),tickMax:l.add(new zt(d).mul(o))})},Uve=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=gz([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...fE(0,i-1).map(()=>1/0)]:[...fE(0,i-1).map(()=>-1/0),u];return n>r?hE(d):d}if(l===u)return zve(l,i,a);var{step:h,tickMin:p,tickMax:b}=yz(l,u,o,a,0),y=pz(p,b.add(new zt(.1).mul(h)),h);return n>r?hE(y):y},Fve=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=gz([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=bz(new zt(l).sub(o).div(u-1),a,0),h=[...pz(new zt(o),new zt(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?hE(h):h},Hve=e=>e.rootProps.barCategoryGap,Ox=e=>e.rootProps.stackOffset,vz=e=>e.rootProps.reverseStackOrder,ZA=e=>e.options.chartName,XA=e=>e.rootProps.syncId,xz=e=>e.rootProps.syncMethod,JA=e=>e.options.eventEmitter,Gve=e=>e.rootProps.baseValue,Zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$i={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Yve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:vs.reversed,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:vs.type,unit:void 0},qve={allowDataOverflow:$i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$i.scale,tick:$i.tick,tickCount:$i.tickCount,ticks:void 0,type:$i.type,unit:void 0},Kve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Wve={allowDataOverflow:$i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$i.scale,tick:$i.tick,tickCount:$i.tickCount,ticks:void 0,type:"category",unit:void 0},QA=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Kve:Yve,ej=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Wve:qve,Mx=e=>e.polarOptions,tj=xe([Bs,zs,Or],Uge),wz=xe([Mx,tj],(e,t)=>{if(e!=null)return Kl(e.innerRadius,t,0)}),_z=xe([Mx,tj],(e,t)=>{if(e!=null)return Kl(e.outerRadius,t,t*.8)}),Vve=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Sz=xe([Mx],Vve);xe([QA,Sz],Cx);var kz=xe([tj,wz,_z],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});xe([ej,kz],Cx);var Ez=xe([Xt,Mx,wz,_z,Bs,zs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:Kl(o,i,i/2),cy:Kl(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),tr=(e,t)=>t,Dx=(e,t,n)=>n;function nj(e){return e?.id}function Tz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=nj(l);d.forEach((p,b)=>{var y=a==null||i?b:String($r(p,a,null)),k=$r(p,l.dataKey,0),w;o.has(y)?w=o.get(y):w={},Object.assign(w,{[h]:k}),o.set(y,w)})}}),Array.from(o.values())}function rj(e){return e.stackId!=null&&e.dataKey!=null}var Px=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Rx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Zve(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var nr=e=>{var t=Xt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mf=e=>e.tooltip.settings.axisId;function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){Xve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xve(e,t,n){return(t=Jve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jve(e){var t=Qve(e,"string");return typeof t=="symbol"?t:t+""}function Qve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mE=[0,"auto"],lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Az=(e,t)=>e.cartesianAxis.xAxis[t],Fs=(e,t)=>{var n=Az(e,t);return n??lr},cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cp},jz=(e,t)=>e.cartesianAxis.yAxis[t],Hs=(e,t)=>{var n=jz(e,t);return n??cr},exe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ij=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??exe},ei=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Hs(e,n);case"zAxis":return ij(e,n);case"angleAxis":return QA(e,n);case"radiusAxis":return ej(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},txe=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Hs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$p=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Hs(e,n);case"angleAxis":return QA(e,n);case"radiusAxis":return ej(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Nz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Oz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Cz=e=>e.graphicalItems.cartesianItems,nxe=xe([tr,Dx],Oz),Mz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Bp=xe([Cz,ei,nxe],Mz,{memoizeOptions:{resultEqualityCheck:Rx}}),Dz=xe([Bp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rj)),Pz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),rxe=xe([Bp],Pz),Rz=e=>e.map(t=>t.data).filter(Boolean).flat(1),ixe=xe([Bp],Rz,{memoizeOptions:{resultEqualityCheck:Rx}}),Lz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},aj=xe([ixe,KA],Lz),Iz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:$r(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:$r(i,r)}))):e.map(r=>({value:r})),Lx=xe([aj,ei,Bp],Iz);function $z(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Yb(e){if(Io(e)||e instanceof Date){var t=Number(e);if(jn(t))return t}}function iI(e){if(Array.isArray(e)){var t=[Yb(e[0]),Yb(e[1])];return Wl(t)?t:void 0}var n=Yb(e);if(n!=null)return[n,n]}function Ls(e){return e.map(Yb).filter(Ehe)}function axe(e,t,n){return!n||typeof t!="number"||to(t)?[]:n.length?Ls(n.flatMap(r=>{var i=$r(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!jn(a)||!jn(o)))return[t-a,t+o]})):[]}var rr=e=>{var t=nr(e),n=Mf(e);return $p(e,t,n)},zp=xe([rr],e=>e?.dataKey),oxe=xe([Dz,KA,rr],Tz),Bz=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(nj);return[l,{stackedData:Ope(e,h,n),graphicalItems:d}]}))},pE=xe([oxe,Dz,Ox,vz],Bz),zz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Ppe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},sxe=xe([ei],e=>e.allowDataOverflow),oj=e=>{var t;if(e==null||!("domain"in e))return mE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ls(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:mE},Uz=xe([ei],oj),Fz=xe([Uz,sxe],az),lxe=xe([pE,ec,tr,Fz],zz,{memoizeOptions:{resultEqualityCheck:Px}}),sj=e=>e.errorBars,cxe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>$z(n,r)),cv=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Hz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(A=>$z(i,A)),b=$r(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),y=axe(l,b,p);if(y.length>=2){var k=Math.min(...y),w=Math.max(...y);(a==null||k<a)&&(a=k),(o==null||w>o)&&(o=w)}var S=iI(b);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=iI($r(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),jn(a)&&jn(o))return[a,o]},uxe=xe([aj,ei,rxe,sj,tr],Hz,{memoizeOptions:{resultEqualityCheck:Px}});function dxe(e){var{value:t}=e;if(Io(t)||t instanceof Date)return t}var fxe=(e,t,n)=>{var r=e.map(dxe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&l9(r))?k8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Gz=e=>e.referenceElements.dots,Df=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),hxe=xe([Gz,tr,Dx],Df),Yz=e=>e.referenceElements.areas,mxe=xe([Yz,tr,Dx],Df),qz=e=>e.referenceElements.lines,pxe=xe([qz,tr,Dx],Df),Kz=(e,t)=>{var n=Ls(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gxe=xe(hxe,tr,Kz),Wz=(e,t)=>{var n=Ls(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bxe=xe([mxe,tr],Wz);function yxe(e){var t;if(e.x!=null)return Ls([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ls(n)}function vxe(e){var t;if(e.y!=null)return Ls([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ls(n)}var Vz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?yxe(r):vxe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xxe=xe([pxe,tr],Vz),wxe=xe(gxe,xxe,bxe,(e,t,n)=>cv(e,n,t)),Zz=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?cv(r,a,i):cv(a,i);return Mve(t,d,e.allowDataOverflow)},_xe=xe([ei,Uz,Fz,lxe,uxe,wxe,Xt,tr],Zz,{memoizeOptions:{resultEqualityCheck:Px}}),Sxe=[0,1],Xz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=$s(t,a);if(d&&l==null){var h;return k8(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?fxe(r,e,d):i==="expand"?Sxe:o}},lj=xe([ei,Xt,aj,Lx,Ox,tr,_xe],Xz),Jz=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(uA(a));return l in _m?l:"point"}}},Up=xe([ei,Xt,Nz,ZA,tr],Jz);function kxe(e){if(e!=null){if(e in _m)return _m[e]();var t="scale".concat(uA(e));if(t in _m)return _m[t]()}}function cj(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=kxe(t);if(i!=null){var a=i.domain(n).range(r);return Tpe(a),a}}}var Qz=(e,t,n)=>{var r=oj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Wl(e))return Uve(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wl(e))return Fve(e,t.tickCount,t.allowDecimals)}},uj=xe([lj,$p,Up],Qz),eU=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Wl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},Exe=xe([ei,lj,uj,tr],eU),Txe=xe(Lx,ei,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ls(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),tU=xe(Txe,Xt,Hve,Or,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!jn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Kl(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),Axe=(e,t)=>{var n=Fs(e,t);return n==null||typeof n.padding!="string"?0:tU(e,"xAxis",t,n.padding)},jxe=(e,t)=>{var n=Hs(e,t);return n==null||typeof n.padding!="string"?0:tU(e,"yAxis",t,n.padding)},Nxe=xe(Fs,Axe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Oxe=xe(Hs,jxe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Cxe=xe([Or,Nxe,yx,bx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Mxe=xe([Or,Xt,Oxe,yx,bx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Fp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Cxe(e,n,r);case"yAxis":return Mxe(e,n,r);case"zAxis":return(i=ij(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Sz(e);case"radiusAxis":return kz(e,n);default:return}},nU=xe([ei,Fp],Cx),Pf=xe([ei,Up,Exe,nU],cj);xe([Bp,sj,tr],cxe);function rU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ix=(e,t)=>t,$x=(e,t,n)=>n,Dxe=xe(px,Ix,$x,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(rU)),Pxe=xe(gx,Ix,$x,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(rU)),iU=(e,t)=>({width:e.width,height:t.height}),Rxe=(e,t)=>{var n=typeof t.width=="number"?t.width:Cp;return{width:n,height:e.height}},Lxe=xe(Or,Fs,iU),Ixe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},$xe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Bxe=xe(zs,Or,Dxe,Ix,$x,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=iU(t,l);o==null&&(o=Ixe(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),zxe=xe(Bs,Or,Pxe,Ix,$x,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Rxe(t,l);o==null&&(o=$xe(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),Uxe=(e,t)=>{var n=Fs(e,t);if(n!=null)return Bxe(e,n.orientation,n.mirror)},Fxe=xe([Or,Fs,Uxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Hxe=(e,t)=>{var n=Hs(e,t);if(n!=null)return zxe(e,n.orientation,n.mirror)},Gxe=xe([Or,Hs,Hxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Yxe=xe(Or,Hs,(e,t)=>{var n=typeof t.width=="number"?t.width:Cp;return{width:n,height:e.height}}),aU=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=$s(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&l9(u))return u}},dj=xe([Xt,Lx,ei,tr],aU),oU=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=$s(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},fj=xe([Xt,Lx,$p,tr],oU),aI=xe([Xt,txe,Up,Pf,dj,fj,Fp,uj,tr],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=$s(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),qxe=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=$s(e,u),{type:h,ticks:p,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=h==="category"&&r.bandwidth?r.bandwidth()/y:0;k=u==="angleAxis"&&a!=null&&a.length>=2?ba(a[0]-a[1])*2*k:k;var w=p||i;if(w){var S=w.map((A,O)=>{var j=o?o.indexOf(A):A;return{index:O,coordinate:r(j)+k,value:A,offset:k}});return S.filter(A=>jn(A.coordinate))}return d&&l?l.map((A,O)=>({coordinate:r(A)+k,value:A,index:O,offset:k})).filter(A=>jn(A.coordinate)):r.ticks?r.ticks(b).map(A=>({coordinate:r(A)+k,value:A,offset:k})):r.domain().map((A,O)=>({coordinate:r(A)+k,value:o?o[A]:A,index:O,offset:k}))}},sU=xe([Xt,$p,Up,Pf,uj,Fp,dj,fj,tr],qxe),Kxe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=$s(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?ba(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},lU=xe([Xt,$p,Pf,Fp,dj,fj,tr],Kxe),cU=xe(ei,Pf,(e,t)=>{if(!(e==null||t==null))return lv(lv({},e),{},{scale:t})}),Wxe=xe([ei,Up,lj,nU],cj);xe((e,t,n)=>ij(e,n),Wxe,(e,t)=>{if(!(e==null||t==null))return lv(lv({},e),{},{scale:t})});var Vxe=xe([Xt,px,gx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uU=e=>e.options.defaultTooltipEventType,dU=e=>e.options.validateTooltipEventTypes;function fU(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function hj(e,t){var n=uU(e),r=dU(e);return fU(t,n,r)}function Zxe(e){return tt(t=>hj(t,e))}var hU=(e,t)=>{var n,r=Number(t);if(!(to(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Xxe=e=>e.tooltip.settings,Il={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Jxe={itemInteraction:{click:Il,hover:Il},axisInteraction:{click:Il,hover:Il},keyboardInteraction:Il,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},mU=Si({name:"tooltip",initialState:Jxe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:un()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xa(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:un()},removeTooltipEntrySettings:{reducer(e,t){var n=Xa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:un()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Qxe,replaceTooltipEntrySettings:ewe,removeTooltipEntrySettings:twe,setTooltipSettingsState:nwe,setActiveMouseOverItemIndex:rwe,mouseLeaveItem:jCe,mouseLeaveChart:pU,setActiveClickItemIndex:NCe,setMouseOverAxisIndex:gU,setMouseClickAxisIndex:iwe,setSyncInteraction:gE,setKeyboardInteraction:bE}=mU.actions,awe=mU.reducer;function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){owe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function owe(e,t,n){return(t=swe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function swe(e){var t=lwe(e,"string");return typeof t=="symbol"?t:t+""}function lwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cwe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function uwe(e){return e.index!=null}var bU=(e,t,n,r)=>{if(t==null)return Il;var i=cwe(e,t,n);if(i==null)return Il;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(uwe(i)){if(a)return yb(yb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return yb(yb({},Il),{},{coordinate:i.coordinate})};function dwe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function fwe(e,t){var n=dwe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function hwe(e,t,n){if(n==null||t==null)return!0;var r=$r(e,t);return r==null||!Wl(n)?!0:fwe(r,n)}var mj=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!jn(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||hwe(d,n,r)?String(u):null},yU=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},vU=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Hp=e=>e.options.tooltipPayloadSearcher,Rf=e=>e.tooltip;function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){mwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mwe(e,t,n){return(t=pwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pwe(e){var t=gwe(e,"string");return typeof t=="symbol"?t:t+""}function gwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bwe(e,t){return e??t}var xU=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return e.reduce((b,y)=>{var k,{dataDefinedOnItem:w,settings:S}=y,A=bwe(w,l),O=Array.isArray(A)?Z9(A,d,h):A,j=(k=S?.dataKey)!==null&&k!==void 0?k:r,C=S?.nameKey,D;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?D=c9(O,r,i):D=a(O,t,u,C),Array.isArray(D))D.forEach(I=>{var U=lI(lI({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});b.push(C3({tooltipEntrySettings:U,dataKey:I.dataKey,payload:I.payload,value:$r(I.payload,I.dataKey),name:I.name}))});else{var P;b.push(C3({tooltipEntrySettings:S,dataKey:j,payload:D,value:$r(D,j),name:(P=$r(D,C))!==null&&P!==void 0?P:S?.name}))}return b},p)}},pj=xe([rr,Xt,Nz,ZA,nr],Jz),ywe=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),vwe=xe([nr,Mf],Oz),Gp=xe([ywe,rr,vwe],Mz,{memoizeOptions:{resultEqualityCheck:Rx}}),xwe=xe([Gp],e=>e.filter(rj)),wwe=xe([Gp],Rz,{memoizeOptions:{resultEqualityCheck:Rx}}),Lf=xe([wwe,ec],Lz),_we=xe([xwe,ec,rr],Tz),gj=xe([Lf,rr,Gp],Iz),wU=xe([rr],oj),Swe=xe([rr],e=>e.allowDataOverflow),_U=xe([wU,Swe],az),kwe=xe([Gp],e=>e.filter(rj)),Ewe=xe([_we,kwe,Ox,vz],Bz),Twe=xe([Ewe,ec,nr,_U],zz),Awe=xe([Gp],Pz),jwe=xe([Lf,rr,Awe,sj,nr],Hz,{memoizeOptions:{resultEqualityCheck:Px}}),Nwe=xe([Gz,nr,Mf],Df),Owe=xe([Nwe,nr],Kz),Cwe=xe([Yz,nr,Mf],Df),Mwe=xe([Cwe,nr],Wz),Dwe=xe([qz,nr,Mf],Df),Pwe=xe([Dwe,nr],Vz),Rwe=xe([Owe,Pwe,Mwe],cv),Lwe=xe([rr,wU,_U,Twe,jwe,Rwe,Xt,nr],Zz),Yp=xe([rr,Xt,Lf,gj,Ox,nr,Lwe],Xz),Iwe=xe([Yp,rr,pj],Qz),$we=xe([rr,Yp,Iwe,nr],eU),SU=e=>{var t=nr(e),n=Mf(e),r=!1;return Fp(e,t,n,r)},kU=xe([rr,SU],Cx),EU=xe([rr,pj,$we,kU],cj),Bwe=xe([Xt,gj,rr,nr],aU),zwe=xe([Xt,gj,rr,nr],oU),Uwe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=$s(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ba(i[0]-i[1])*2*p:p,d&&o?o.map((b,y)=>({coordinate:r(b)+p,value:b,index:y,offset:p})):r.domain().map((b,y)=>({coordinate:r(b)+p,value:a?a[b]:b,index:y,offset:p}))}}},Gs=xe([Xt,rr,pj,EU,SU,Bwe,zwe,nr],Uwe),bj=xe([uU,dU,Xxe],(e,t,n)=>fU(n.shared,e,t)),TU=e=>e.tooltip.settings.trigger,yj=e=>e.tooltip.settings.defaultIndex,qp=xe([Rf,bj,TU,yj],bU),lp=xe([qp,Lf,zp,Yp],mj),AU=xe([Gs,lp],hU),Fwe=xe([qp],e=>{if(e)return e.dataKey});xe([qp],e=>{if(e)return e.graphicalItemId});var jU=xe([Rf,bj,TU,yj],vU),Hwe=xe([Bs,zs,Xt,Or,Gs,yj,jU,Hp],yU),Gwe=xe([qp,Hwe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ywe=xe([qp],e=>e.active),qwe=xe([jU,lp,ec,zp,AU,Hp,bj],xU),Kwe=xe([qwe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){Wwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wwe(e,t,n){return(t=Vwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vwe(e){var t=Zwe(e,"string");return typeof t=="symbol"?t:t+""}function Zwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xwe=()=>tt(rr),Jwe=()=>{var e=Xwe(),t=tt(Gs),n=tt(EU);return Fy(!e||!n?void 0:uI(uI({},e),{},{scale:n}),t)};function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){Qwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qwe(e,t,n){return(t=e_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_e(e){var t=t_e(e,"string");return typeof t=="symbol"?t:t+""}function t_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n_e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},r_e=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Ad(Ad(Ad({},r),Tr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return Ad(Ad(Ad({},r),Tr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function i_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var NU=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(ba(h-d)!==ba(p-h)){var y=[];if(ba(p-h)===ba(i[1]-i[0])){b=p;var k=h+i[1]-i[0];y[0]=Math.min(k,(k+d)/2),y[1]=Math.max(k,(k+d)/2)}else{b=d;var w=p+i[1]-i[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var A=Math.min(d,p),O=Math.max(d,p);if(e>(A+h)/2&&e<=(O+h)/2){({index:o}=n[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},OU=()=>tt(ZA),vj=(e,t)=>t,CU=(e,t,n)=>n,xj=(e,t,n,r)=>r,a_e=xe(Gs,e=>ox(e,t=>t.coordinate)),wj=xe([Rf,vj,CU,xj],bU),_j=xe([wj,Lf,zp,Yp],mj),o_e=(e,t,n)=>{if(t!=null){var r=Rf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},MU=xe([Rf,vj,CU,xj],vU),uv=xe([Bs,zs,Xt,Or,Gs,xj,MU,Hp],yU),s_e=xe([wj,uv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),DU=xe([Gs,_j],hU),l_e=xe([MU,_j,ec,zp,DU,Hp,vj],xU),c_e=xe([wj,_j],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),u_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&i_e(e,o)){var l=Rpe(e,t),u=NU(l,a,i,n,r),d=n_e(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},d_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=qge(e,n);if(l){var u=Lpe(l,t),d=NU(u,o,a,r,i),h=r_e(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},f_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?u_e(e,t,r,i,a,o,l):d_e(e,t,n,r,i,a,o)},h_e=xe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),m_e=xe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Zr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Zve}});function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){p_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p_e(e,t,n){return(t=g_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_e(e){var t=b_e(e,"string");return typeof t=="symbol"?t:t+""}function b_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y_e={},v_e={zIndexMap:Object.values(Zr).reduce((e,t)=>hI(hI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),y_e)},x_e=new Set(Object.values(Zr));function w_e(e){return x_e.has(e)}var PU=Si({name:"zIndex",initialState:v_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:un()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!w_e(n)&&delete e.zIndexMap[n])},prepare:un()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:un()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:un()}}}),{registerZIndexPortal:__e,unregisterZIndexPortal:S_e,registerZIndexPortalId:k_e,unregisterZIndexPortalId:E_e}=PU.actions,T_e=PU.reducer;function Ys(e){var{zIndex:t,children:n}=e,r=g0e(),i=r&&t!==void 0&&t!==0,a=ki(),o=pr();_.useLayoutEffect(()=>i?(o(__e({zIndex:t})),()=>{o(S_e({zIndex:t}))}):Ap,[o,t,i]);var l=tt(d=>h_e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?Eu.createPortal(n,u):null}function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yE.apply(null,arguments)}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){A_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A_e(e,t,n){return(t=j_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_e(e){var t=N_e(e,"string");return typeof t=="symbol"?t:t+""}function N_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function C_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=n,b=r,y=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var k,w,S;if(h==="ScatterChart")k=p,w=ige,S=Zr.cursorLine;else if(h==="BarChart")k=age(l,p,a,o),w=Lge,S=Zr.cursorRectangle;else if(l==="radial"&&u9(p)){var{cx:A,cy:O,radius:j,startAngle:C,endAngle:D}=_8(p);k={cx:A,cy:O,startAngle:C,endAngle:D,innerRadius:j,outerRadius:j},w=Zge,S=Zr.cursorLine}else k={points:Xge(l,p,a)},w=Gb,S=Zr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,I=vb(vb(vb(vb({stroke:"#ccc",pointerEvents:"none"},a),k),nx(u)),{},{payload:b,payloadIndex:y,className:rn("recharts-tooltip-cursor",P)});return _.createElement(Ys,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},_.createElement(O_e,{cursor:u,cursorComp:w,cursorProps:I}))}function M_e(e){var t=Jwe(),n=o8(),r=Mp(),i=OU();return t==null||n==null||r==null||i==null?null:_.createElement(C_e,yE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var RU=_.createContext(null),D_e=()=>_.useContext(RU),VS={exports:{}},pI;function P_e(){return pI||(pI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||u,b),k=n?n+d:d;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],y]:u._events[k].push(y):(u._events[k]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,y=p.length,k=new Array(y);b<y;b++)k[b]=p[b].fn;return k},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,b,y,k){var w=n?n+d:d;if(!this._events[w])return!1;var S=this._events[w],A=arguments.length,O,j;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,b),!0;case 5:return S.fn.call(S.context,h,p,b,y),!0;case 6:return S.fn.call(S.context,h,p,b,y,k),!0}for(j=1,O=new Array(A-1);j<A;j++)O[j-1]=arguments[j];S.fn.apply(S.context,O)}else{var C=S.length,D;for(j=0;j<C;j++)switch(S[j].once&&this.removeListener(d,S[j].fn,void 0,!0),A){case 1:S[j].fn.call(S[j].context);break;case 2:S[j].fn.call(S[j].context,h);break;case 3:S[j].fn.call(S[j].context,h,p);break;case 4:S[j].fn.call(S[j].context,h,p,b);break;default:if(!O)for(D=1,O=new Array(A-1);D<A;D++)O[D-1]=arguments[D];S[j].fn.apply(S[j].context,O)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,b){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var k=this._events[y];if(k.fn)k.fn===h&&(!b||k.once)&&(!p||k.context===p)&&o(this,y);else{for(var w=0,S=[],A=k.length;w<A;w++)(k[w].fn!==h||b&&!k[w].once||p&&k[w].context!==p)&&S.push(k[w]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(VS)),VS.exports}var R_e=P_e();const L_e=_i(R_e);var cp=new L_e,vE="recharts.syncEvent.tooltip",gI="recharts.syncEvent.brush";function I_e(e,t){if(t){var n=Number.parseInt(t,10);if(!to(n))return e?.[n]}}var $_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},LU=Si({name:"options",initialState:$_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),B_e=LU.reducer,{createEventEmitter:z_e}=LU.actions;function U_e(e){return e.tooltip.syncInteraction}var F_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IU=Si({name:"chartData",initialState:F_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:bI,setDataStartEndIndexes:H_e,setComputedData:OCe}=IU.actions,G_e=IU.reducer,Y_e=["x","y"];function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){q_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q_e(e,t,n){return(t=K_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K_e(e){var t=W_e(e,"string");return typeof t=="symbol"?t:t+""}function W_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V_e(e,t){if(e==null)return{};var n,r,i=Z_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function X_e(){var e=tt(XA),t=tt(JA),n=pr(),r=tt(xz),i=tt(Gs),a=Mp(),o=vx(),l=tt(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return Ap;var u=(d,h,p)=>{if(t!==p&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:k,y:w}=y,S=V_e(y,Y_e),{x:A,y:O,width:j,height:C}=h.payload.sourceViewBox,D=jd(jd({},S),{},{x:o.x+(j?(k-A)/j:0)*o.width,y:o.y+(C?(w-O)/C:0)*o.height});n(jd(jd({},h),{},{payload:jd(jd({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,I);P=i[U]}else r==="value"&&(P=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:K}=h.payload;if(P==null||h.payload.active===!1||K==null||o==null){n(gE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:F}=K,z=Math.min(q,o.x+o.width),W=Math.min(F,o.y+o.height),Z={x:a==="horizontal"?P.coordinate:z,y:a==="horizontal"?W:P.coordinate},X=gE({active:h.payload.active,coordinate:Z,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(X)}}};return cp.on(vE,u),()=>{cp.off(vE,u)}},[l,n,t,e,r,i,a,o])}function J_e(){var e=tt(XA),t=tt(JA),n=pr();_.useEffect(()=>{if(e==null)return Ap;var r=(i,a,o)=>{t!==o&&e===i&&n(H_e(a))};return cp.on(gI,r),()=>{cp.off(gI,r)}},[n,t,e])}function Q_e(){var e=pr();_.useEffect(()=>{e(z_e())},[e]),X_e(),J_e()}function e1e(e,t,n,r,i,a){var o=tt(y=>o_e(y,e,t)),l=tt(JA),u=tt(XA),d=tt(xz),h=tt(U_e),p=h?.active,b=vx();_.useEffect(()=>{if(!p&&u!=null&&l!=null){var y=gE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});cp.emit(vE,u,y,l)}},[p,n,o,i,r,l,u,d,a,b])}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){t1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t1e(e,t,n){return(t=n1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n1e(e){var t=r1e(e,"string");return typeof t=="symbol"?t:t+""}function r1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i1e(e){return e.dataKey}function a1e(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(I0e,t)}var wI=[],o1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function s1e(e){var t,n,r=Vi(e,o1e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:b,position:y,reverseDirection:k,useTranslate3d:w,wrapperStyle:S,cursor:A,shared:O,trigger:j,defaultIndex:C,portal:D,axisId:P}=r,I=pr(),U=typeof C=="number"?String(C):C;_.useEffect(()=>{I(nwe({shared:O,trigger:j,axisId:P,active:i,defaultIndex:U}))},[I,O,j,P,i,U]);var K=vx(),q=g8(),F=Zxe(O),{activeIndex:z,isActive:W}=(t=tt(ye=>c_e(ye,F,j,U)))!==null&&t!==void 0?t:{},Z=tt(ye=>l_e(ye,F,j,U)),X=tt(ye=>DU(ye,F,j,U)),Y=tt(ye=>s_e(ye,F,j,U)),J=Z,ee=D_e(),le=(n=i??W)!==null&&n!==void 0?n:!1,[oe,B]=Eme([J,le]),V=F==="axis"?X:void 0;e1e(F,j,Y,V,z,le);var ne=D??ee;if(ne==null||K==null||F==null)return null;var se=J??wI;le||(se=wI),d&&se.length&&(se=Xhe(se.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),b,i1e));var fe=se.length>0,be=_.createElement(G0e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:le,coordinate:Y,hasPayload:fe,offset:p,position:y,reverseDirection:k,useTranslate3d:w,viewBox:K,wrapperStyle:S,lastBoundingBox:oe,innerRef:B,hasPortalFromProps:!!D},a1e(u,xI(xI({},r),{},{payload:se,label:V,active:le,activeIndex:z,coordinate:Y,accessibilityLayer:q})));return _.createElement(_.Fragment,null,Eu.createPortal(be,ne),le&&_.createElement(M_e,{cursor:A,tooltipEventType:F,coordinate:Y,payload:se,index:z}))}function l1e(e,t,n){return(t=c1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c1e(e){var t=u1e(e,"string");return typeof t=="symbol"?t:t+""}function u1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class d1e{constructor(t){l1e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){h1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h1e(e,t,n){return(t=m1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m1e(e){var t=p1e(e,"string");return typeof t=="symbol"?t:t+""}function p1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g1e={cacheSize:2e3,enableCache:!0},$U=f1e({},g1e),SI=new d1e($U.cacheSize),b1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kI="recharts_measurement_span";function y1e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var EI=(e,t)=>{try{var n=document.getElementById(kI);n||(n=document.createElement("span"),n.setAttribute("id",kI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,b1e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Cm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jf.isSsr)return{width:0,height:0};if(!$U.enableCache)return EI(t,n);var r=y1e(t,n),i=SI.get(r);if(i)return i;var a=EI(t,n);return SI.set(r,a),a},TI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,x1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},w1e=Object.keys(BU),Bd="NaN";function _1e(e,t){return e*BU[t]}class gi{static parse(t){var n,[,r,i]=(n=x1e.exec(t))!==null&&n!==void 0?n:[];return new gi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,to(t)&&(this.unit=""),n!==""&&!v1e.test(n)&&(this.num=NaN,this.unit=""),w1e.includes(n)&&(this.num=_1e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return to(this.num)}}function zU(e){if(e.includes(Bd))return Bd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=TI.exec(t))!==null&&n!==void 0?n:[],o=gi.parse(r??""),l=gi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Bd;t=t.replace(TI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,p,b]=(d=AI.exec(t))!==null&&d!==void 0?d:[],y=gi.parse(h??""),k=gi.parse(b??""),w=p==="+"?y.add(k):y.subtract(k);if(w.isNaN())return Bd;t=t.replace(AI,w.toString())}return t}var jI=/\(([^()]*)\)/;function S1e(e){for(var t=e,n;(n=jI.exec(t))!=null;){var[,r]=n;t=t.replace(jI,zU(r))}return t}function k1e(e){var t=e.replace(/\s+/g,"");return t=S1e(t),t=zU(t),t}function E1e(e){try{return k1e(e)}catch{return Bd}}function ZS(e){var t=E1e(e.slice(5,-1));return t===Bd?"":t}var T1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],A1e=["dx","dy","angle","className","breakAll"];function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(null,arguments)}function NI(e,t){if(e==null)return{};var n,r,i=j1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UU=/[ \f\n\r\t\v\u2028\u2029]+/,FU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ar(t)||(n?i=t.toString().split(""):i=t.toString().split(UU));var a=i.map(l=>({word:l,width:Cm(l,r).width})),o=n?0:Cm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function N1e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var HU=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),GU=e=>e.reduce((t,n)=>t.width>n.width?t:n),O1e="",OI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=FU({breakAll:n,style:r,children:u+O1e});if(!d)return[!1,[]];var h=HU(d.wordsWithComputedWidth,a,o,l),p=h.length>i||GU(h).width>Number(a);return[p,h]},C1e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=Qe(a),h=String(o),p=HU(t,r,n,i);if(!d||i)return p;var b=p.length>a||GU(p).width>Number(r);if(!b)return p;for(var y=0,k=h.length-1,w=0,S;y<=k&&w<=h.length-1;){var A=Math.floor((y+k)/2),O=A-1,[j,C]=OI(h,O,u,l,a,r,n,i),[D]=OI(h,A,u,l,a,r,n,i);if(!j&&!D&&(y=A+1),j&&D&&(k=A-1),!j&&D){S=C;break}w++}return S||p},CI=e=>{var t=Ar(e)?[]:e.toString().split(UU);return[{words:t,width:void 0}]},M1e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!jf.isSsr){var l,u,d=FU({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return CI(r);return C1e({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return CI(r)},YU="#808080",D1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:YU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Sj=_.forwardRef((e,t)=>{var n=Vi(e,D1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=NI(n,T1e),b=_.useMemo(()=>M1e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:k,angle:w,className:S,breakAll:A}=p,O=NI(p,A1e);if(!Io(r)||!Io(i)||b.length===0)return null;var j=Number(r)+(Qe(y)?y:0),C=Number(i)+(Qe(k)?k:0);if(!jn(j)||!jn(C))return null;var D;switch(h){case"start":D=ZS("calc(".concat(o,")"));break;case"middle":D=ZS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=ZS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var I=b[0].width,{width:U}=p;P.push("scale(".concat(Qe(U)&&Qe(I)?U/I:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(j,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),_.createElement("text",xE({},_a(O),{ref:t,x:j,y:C,className:rn("recharts-text",S),textAnchor:d,fill:l.includes("url")?YU:l}),b.map((K,q)=>{var F=K.words.join(A?"":" ");return _.createElement("tspan",{x:j,dy:q===0?D:a,key:"".concat(F,"-").concat(q)},F)}))});Sj.displayName="Text";var P1e=["labelRef"];function R1e(e,t){if(e==null)return{};var n,r,i=L1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){I1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I1e(e,t,n){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1e(e){var t=B1e(e,"string");return typeof t=="symbol"?t:t+""}function B1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(null,arguments)}var qU=_.createContext(null),z1e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return _.createElement(qU.Provider,{value:u},l)},KU=()=>{var e=_.useContext(qU),t=vx();return e||a8(t)},U1e=_.createContext(null),F1e=()=>{var e=_.useContext(U1e),t=tt(Ez);return e||t},H1e=e=>{var{value:t,formatter:n}=e,r=Ar(e.children)?t:e.children;return typeof n=="function"?n(r):r},kj=e=>e!=null&&typeof e=="function",G1e=(e,t)=>{var n=ba(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Y1e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:b,clockWise:y}=i,k=(d+h)/2,w=G1e(p,b),S=w>=0?1:-1,A,O;switch(t){case"insideStart":A=p+S*a,O=y;break;case"insideEnd":A=b-S*a,O=!y;break;case"end":A=b+S*a,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var j=Tr(l,u,k,A),C=Tr(l,u,k,A+(O?1:-1)*359),D="M".concat(j.x,",").concat(j.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Ar(e.id)?Vm("recharts-radial-line-"):e.id;return _.createElement("text",xs({},r,{dominantBaseline:"central",className:rn("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:P,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(P)},n))},q1e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=Tr(r,i,o+t,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:y,y:k}=Tr(r,i,b,d);return{x:y,y:k,textAnchor:"middle",verticalAnchor:"middle"}},wE=e=>"cx"in e&&Qe(e.cx),K1e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!wE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,p=o,b=o+(u-d)/2,y=(p+b)/2,k=(u+d)/2,w=p+u/2,S=h>=0?1:-1,A=S*r,O=S>0?"end":"start",j=S>0?"start":"end",C=u>=0?1:-1,D=C*r,P=C>0?"end":"start",I=C>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:l-A,textAnchor:"middle",verticalAnchor:O};return Mn(Mn({},U),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var K={x:b+d/2,y:l+h+A,textAnchor:"middle",verticalAnchor:j};return Mn(Mn({},K),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var q={x:y-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return Mn(Mn({},q),a?{width:Math.max(q.x-a.x,0),height:h}:{})}if(i==="right"){var F={x:y+k+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"};return Mn(Mn({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:h}:{})}var z=a?{width:k,height:h}:{};return i==="insideLeft"?Mn({x:y+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"},z):i==="insideRight"?Mn({x:y+k-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},z):i==="insideTop"?Mn({x:p+u/2,y:l+A,textAnchor:"middle",verticalAnchor:j},z):i==="insideBottom"?Mn({x:b+d/2,y:l+h-A,textAnchor:"middle",verticalAnchor:O},z):i==="insideTopLeft"?Mn({x:p+D,y:l+A,textAnchor:I,verticalAnchor:j},z):i==="insideTopRight"?Mn({x:p+u-D,y:l+A,textAnchor:P,verticalAnchor:j},z):i==="insideBottomLeft"?Mn({x:b+D,y:l+h-A,textAnchor:I,verticalAnchor:O},z):i==="insideBottomRight"?Mn({x:b+d-D,y:l+h-A,textAnchor:P,verticalAnchor:O},z):i&&typeof i=="object"&&(Qe(i.x)||Cs(i.x))&&(Qe(i.y)||Cs(i.y))?Mn({x:o+Kl(i.x,k),y:l+Kl(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):Mn({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},W1e={angle:0,offset:5,zIndex:Zr.label,position:"middle",textBreakAll:!1};function Cl(e){var t=Vi(e,W1e),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=F1e(),p=KU(),b=r==="center"?p:h??p,y,k,w;if(n==null?y=b:wE(n)?y=n:y=a8(n),!y||Ar(i)&&Ar(a)&&!_.isValidElement(o)&&typeof o!="function")return null;var S=Mn(Mn({},t),{},{viewBox:y});if(_.isValidElement(o)){var{labelRef:A}=S,O=R1e(S,P1e);return _.cloneElement(o,O)}if(typeof o=="function"){if(k=_.createElement(o,S),_.isValidElement(k))return k}else k=H1e(t);var j=_a(t);if(wE(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Y1e(t,r,k,j,y);w=q1e(y,t.offset,t.position)}else w=K1e(t,y);return _.createElement(Ys,{zIndex:t.zIndex},_.createElement(Sj,xs({ref:d,className:rn("recharts-label",l)},j,w,{textAnchor:N1e(j.textAnchor)?j.textAnchor:w.textAnchor,breakAll:u}),k))}Cl.displayName="Label";var V1e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(Cl,xs({key:"label-implicit"},r)):Io(e)?_.createElement(Cl,xs({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===Cl?_.cloneElement(e,Mn({key:"label-implicit"},r)):_.createElement(Cl,xs({key:"label-implicit",content:e},r)):kj(e)?_.createElement(Cl,xs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(Cl,xs({},e,{key:"label-implicit"},r)):null};function Z1e(e){var{label:t,labelRef:n}=e,r=KU();return V1e(t,r,n)||null}var XS={},JS={},DI;function X1e(){return DI||(DI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(JS)),JS}var QS={},PI;function J1e(){return PI||(PI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(QS)),QS}var RI;function Q1e(){return RI||(RI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1e(),n=J1e(),r=fA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(XS)),XS}var ek,LI;function eSe(){return LI||(LI=1,ek=Q1e().last),ek}var tSe=eSe();const nSe=_i(tSe);var rSe=["valueAccessor"],iSe=["dataKey","clockWise","id","textBreakAll","zIndex"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(null,arguments)}function II(e,t){if(e==null)return{};var n,r,i=aSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oSe=e=>Array.isArray(e.value)?nSe(e.value):e.value,WU=_.createContext(void 0),sSe=WU.Provider,VU=_.createContext(void 0);VU.Provider;function lSe(){return _.useContext(WU)}function cSe(){return _.useContext(VU)}function qb(e){var{valueAccessor:t=oSe}=e,n=II(e,rSe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=II(n,iSe),d=lSe(),h=cSe(),p=d||h;return!p||!p.length?null:_.createElement(Ys,{zIndex:l??Zr.label},_.createElement(Lo,{className:"recharts-label-list"},p.map((b,y)=>{var k,w=Ar(r)?t(b,y):$r(b&&b.payload,r),S=Ar(a)?{}:{id:"".concat(a,"-").concat(y)};return _.createElement(Cl,dv({key:"label-".concat(y)},_a(b),u,S,{fill:(k=n.fill)!==null&&k!==void 0?k:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:o,viewBox:b.viewBox,index:y,zIndex:0}))})))}qb.displayName="LabelList";function uSe(e){var{label:t}=e;return t?t===!0?_.createElement(qb,{key:"labelList-implicit"}):_.isValidElement(t)||kj(t)?_.createElement(qb,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(qb,dv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_E.apply(null,arguments)}var ZU=e=>{var{cx:t,cy:n,r,className:i}=e,a=rn("recharts-dot",i);return Qe(t)&&Qe(n)&&Qe(r)?_.createElement("circle",_E({},eo(e),dA(e),{className:a,cx:t,cy:n,r})):null},dSe={radiusAxis:{},angleAxis:{}},XU=Si({name:"polarAxis",initialState:dSe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:CCe,removeRadiusAxis:MCe,addAngleAxis:DCe,removeAngleAxis:PCe}=XU.actions,fSe=XU.reducer,tk={exports:{}},Rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I;function hSe(){if($I)return Rt;$I=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,A=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function j(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case u:case d:case r:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case l:case h:case k:case y:case o:return D;default:return P}}case n:return P}}}function C(D){return j(D)===d}return Rt.AsyncMode=u,Rt.ConcurrentMode=d,Rt.ContextConsumer=l,Rt.ContextProvider=o,Rt.Element=t,Rt.ForwardRef=h,Rt.Fragment=r,Rt.Lazy=k,Rt.Memo=y,Rt.Portal=n,Rt.Profiler=a,Rt.StrictMode=i,Rt.Suspense=p,Rt.isAsyncMode=function(D){return C(D)||j(D)===u},Rt.isConcurrentMode=C,Rt.isContextConsumer=function(D){return j(D)===l},Rt.isContextProvider=function(D){return j(D)===o},Rt.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},Rt.isForwardRef=function(D){return j(D)===h},Rt.isFragment=function(D){return j(D)===r},Rt.isLazy=function(D){return j(D)===k},Rt.isMemo=function(D){return j(D)===y},Rt.isPortal=function(D){return j(D)===n},Rt.isProfiler=function(D){return j(D)===a},Rt.isStrictMode=function(D){return j(D)===i},Rt.isSuspense=function(D){return j(D)===p},Rt.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===d||D===a||D===i||D===p||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===y||D.$$typeof===o||D.$$typeof===l||D.$$typeof===h||D.$$typeof===S||D.$$typeof===A||D.$$typeof===O||D.$$typeof===w)},Rt.typeOf=j,Rt}var BI;function mSe(){return BI||(BI=1,tk.exports=hSe()),tk.exports}mSe();var JU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function pSe(e){var{tooltipEntrySettings:t}=e,n=pr(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(Qxe(t)):i.current!==t&&n(ewe({prev:i.current,next:t})),i.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(twe(i.current)),i.current=null)},[n]),null}function gSe(e){var{legendPayload:t}=e,n=pr(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(N0e(t)):i.current!==t&&n(O0e({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(C0e(i.current)),i.current=null)},[n]),null}var nk,bSe=()=>{var[e]=_.useState(()=>Vm("uid-"));return e},ySe=(nk=QG.useId)!==null&&nk!==void 0?nk:bSe;function QU(e,t){var n=ySe();return t||(e?"".concat(e,"-").concat(n):n)}var vSe=_.createContext(void 0),xSe=e=>{var{id:t,type:n,children:r}=e,i=QU("recharts-".concat(n),t);return _.createElement(vSe.Provider,{value:i},r(i))},wSe={cartesianItems:[],polarItems:[]},eF=Si({name:"graphicalItems",initialState:wSe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:un()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:un()},removeCartesianGraphicalItem:{reducer(e,t){var n=Xa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:un()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:un()},removePolarGraphicalItem:{reducer(e,t){var n=Xa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:un()}}}),{addCartesianGraphicalItem:_Se,replaceCartesianGraphicalItem:SSe,removeCartesianGraphicalItem:kSe,addPolarGraphicalItem:RCe,removePolarGraphicalItem:LCe}=eF.actions,ESe=eF.reducer,TSe=e=>{var t=pr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(_Se(e)):n.current!==e&&t(SSe({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(kSe(n.current)),n.current=null)},[t]),null},ASe=_.memo(TSe),jSe=["points"];function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){NSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NSe(e,t,n){return(t=OSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OSe(e){var t=CSe(e,"string");return typeof t=="symbol"?t:t+""}function CSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(null,arguments)}function MSe(e,t){if(e==null)return{};var n,r,i=DSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PSe(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var i=rn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=MSe(a,jSe);return _.createElement(ZU,fv({},l,{className:i}))}function RSe(e,t){return e==null?!1:t?!0:e.length===1}function LSe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Zr.scatter}=e;if(!RSe(t,n))return null;var h=JU(n),p=Yfe(n),b=t.map((k,w)=>{var S,A,O=rk(rk(rk({r:3},o),p),{},{index:w,cx:(S=k.x)!==null&&S!==void 0?S:void 0,cy:(A=k.y)!==null&&A!==void 0?A:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return _.createElement(PSe,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),_.createElement(Ys,{zIndex:d},_.createElement(Lo,fv({className:r},y),b))}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){ISe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ISe(e,t,n){return(t=$Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Se(e){var t=BSe(e,"string");return typeof t=="symbol"?t:t+""}function BSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zSe={xAxis:{},yAxis:{},zAxis:{}},tF=Si({name:"cartesianAxis",initialState:zSe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:un()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:un()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:un()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:un()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:un()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:un()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:un()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:un()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:un()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=FI(FI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:USe,replaceXAxis:FSe,removeXAxis:HSe,addYAxis:GSe,replaceYAxis:YSe,removeYAxis:qSe,addZAxis:ICe,replaceZAxis:$Ce,removeZAxis:BCe,updateYAxisWidth:KSe}=tF.actions,WSe=tF.reducer,VSe=xe([Or],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ZSe=xe([VSe,Bs,zs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Ej=()=>tt(ZSe),XSe=()=>tt(Kwe);function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ik(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){JSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JSe(e,t,n){return(t=QSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QSe(e){var t=eke(e,"string");return typeof t=="symbol"?t:t+""}function eke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tke=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=ik(ik(ik({},l),nx(i)),dA(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,u):typeof i=="function"?d=i(u):d=_.createElement(ZU,u),_.createElement(Lo,{className:"recharts-active-dot",clipPath:o},d)};function GI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Zr.activeDot}=e,l=tt(lp),u=XSe();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return Ar(d)?null:_.createElement(Ys,{zIndex:o},_.createElement(tke,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var nke={},nF=Si({name:"errorBars",initialState:nke,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:zCe,replaceErrorBar:UCe,removeErrorBar:FCe}=nF.actions,rke=nF.reducer;function rF(e,t){var n,r,i=tt(d=>Fs(d,e)),a=tt(d=>Hs(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:lr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:cr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function ike(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Ej(),{needClipX:a,needClipY:o,needClip:l}=rF(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?u:u-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var ake=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function oke(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Tj(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(ake.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Ib(e[r],t[r]))return!1}else if(!oke(e[r],t[r]))return!1;return!0}var ske=e=>{var{chartData:t}=e,n=pr(),r=ki();return _.useEffect(()=>r?()=>{}:(n(bI(t)),()=>{n(bI(void 0))}),[t,n,r]),null},YI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iF=Si({name:"brush",initialState:YI,reducers:{setBrushSettings(e,t){return t.payload==null?YI:t.payload}}}),{setBrushSettings:HCe}=iF.actions,lke=iF.reducer;function cke(e,t,n){return(t=uke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uke(e){var t=dke(e,"string");return typeof t=="symbol"?t:t+""}function dke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Aj{static create(t){return new Aj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}cke(Aj,"EPS",1e-4);function fke(e){return(e%180+180)%180}var hke=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=fke(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},mke={dots:[],areas:[],lines:[]},aF=Si({name:"referenceElements",initialState:mke,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Xa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Xa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Xa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:GCe,removeDot:YCe,addArea:qCe,removeArea:KCe,addLine:WCe,removeLine:VCe}=aF.actions,pke=aF.reducer,gke=_.createContext(void 0),bke=e=>{var{children:t}=e,[n]=_.useState("".concat(Vm("recharts"),"-clip")),r=Ej();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return _.createElement(gke.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function oF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function yke(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return hke(r,n)}function vke(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function hv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function xke(e,t){return oF(e,t+1)}function wke(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,p=function(){var k=r?.[u];if(k===void 0)return{v:oF(r,d)};var w=u,S,A=()=>(S===void 0&&(S=n(k,w)),S),O=k.coordinate,j=u===0||hv(e,O,A,h,l);j||(u=0,h=o,d+=1),j&&(h=O+e*(A()/2+i),u+=d)},b;d<=a.length;)if(b=p(),b)return b.v;return[]}function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){_ke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ke(e,t,n){return(t=Ske(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ske(e){var t=kke(e,"string");return typeof t=="symbol"?t:t+""}function kke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eke(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var y=a[b],k,w=()=>(k===void 0&&(k=n(y,b)),k);if(b===o-1){var S=e*(y.coordinate+e*w()/2-u);a[b]=y=Lr(Lr({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[b]=y=Lr(Lr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var A=hv(e,y.tickCoord,w,l,u);A&&(u=y.tickCoord-e*(w()/2+i),a[b]=Lr(Lr({},y),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function Tke(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-d);if(o[l-1]=h=Lr(Lr({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var y=hv(e,h.tickCoord,()=>p,u,d);y&&(d=h.tickCoord-e*(p/2+i),o[l-1]=Lr(Lr({},h),{},{isShow:!0}))}}for(var k=a?l-1:l,w=function(O){var j=o[O],C,D=()=>(C===void 0&&(C=n(j,O)),C);if(O===0){var P=e*(j.coordinate-e*D()/2-u);o[O]=j=Lr(Lr({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[O]=j=Lr(Lr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var I=hv(e,j.tickCoord,D,u,d);I&&(u=j.tickCoord+e*(D()/2+i),o[O]=Lr(Lr({},j),{},{isShow:!0}))}},S=0;S<k;S++)w(S);return o}function jj(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(Qe(u)||jf.isSsr){var b;return(b=xke(i,Qe(u)?u:0))!==null&&b!==void 0?b:[]}var y=[],k=l==="top"||l==="bottom"?"width":"height",w=h&&k==="width"?Cm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(j,C)=>{var D=typeof d=="function"?d(j.value,C):j.value;return k==="width"?yke(Cm(D,{fontSize:t,letterSpacing:n}),w,p):Cm(D,{fontSize:t,letterSpacing:n})[k]},A=i.length>=2?ba(i[1].coordinate-i[0].coordinate):1,O=vke(a,A,k);return u==="equidistantPreserveStart"?wke(A,O,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=Tke(A,O,S,i,o,u==="preserveStartEnd"):y=Eke(A,O,S,i,o),y.filter(j=>j.isShow))}var Ake=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},jke=["axisLine","width","height","className","hide","ticks","axisType"];function Nke(e,t){if(e==null)return{};var n,r,i=Oke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(null,arguments)}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){Cke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cke(e,t,n){return(t=Mke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mke(e){var t=Dke(e,"string");return typeof t=="symbol"?t:t+""}function Dke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zr.axis};function Pke(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=Gn(Gn(Gn({},u),eo(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=Gn(Gn({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=Gn(Gn({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return _.createElement("line",wu({},d,{className:rn("recharts-cartesian-axis-line",ax(l,"className"))}))}function Rke(e,t,n,r,i,a,o,l,u){var d,h,p,b,y,k,w=l?-1:1,S=e.tickSize||o,A=Qe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,p=b-w*S,k=p-w*u,y=A;break;case"left":p=b=e.coordinate,h=t+ +!l*r,d=h-w*S,y=d-w*u,k=A;break;case"right":p=b=e.coordinate,h=t+ +l*r,d=h+w*S,y=d+w*u,k=A;break;default:d=h=e.coordinate,b=n+ +l*i,p=b+w*S,k=p+w*u,y=A;break}return{line:{x1:d,y1:p,x2:h,y2:b},tick:{x:y,y:k}}}function Lke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ike(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $ke(e){var{option:t,tickProps:n,value:r}=e,i,a=rn(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,Gn(Gn({},n),{},{className:a}));else if(typeof t=="function")i=t(Gn(Gn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=rn(o,t?.className)),i=_.createElement(Sj,wu({},n,{className:o}),r)}return i}var Bke=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:b,y,width:k,height:w,tickSize:S,tickMargin:A,fontSize:O,letterSpacing:j,getTicksConfig:C,events:D,axisType:P}=e,I=jj(Gn(Gn({},C),{},{ticks:n}),O,j),U=Lke(h,p),K=Ike(h,p),q=eo(C),F=nx(r),z={};typeof i=="object"&&(z=i);var W=Gn(Gn({},q),{},{fill:"none"},z),Z=I.map(J=>Gn({entry:J},Rke(J,b,y,k,w,h,S,p,A))),X=Z.map(J=>{var{entry:ee,line:le}=J;return _.createElement(Lo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&_.createElement("line",wu({},W,le,{className:rn("recharts-cartesian-axis-tick-line",ax(i,"className"))})))}),Y=Z.map((J,ee)=>{var{entry:le,tick:oe}=J,B=Gn(Gn(Gn(Gn({textAnchor:U,verticalAnchor:K},q),{},{stroke:"none",fill:a},F),oe),{},{index:ee,payload:le,visibleTicksCount:I.length,tickFormatter:o,padding:u},d);return _.createElement(Lo,wu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},Ahe(D,le,ee)),r&&_.createElement($ke,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(le.value,ee):le.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},Y.length>0&&_.createElement(Ys,{zIndex:Zr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},Y)),X.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},X))}),zke=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=Nke(e,jke),[h,p]=_.useState(""),[b,y]=_.useState(""),k=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return Ake({ticks:k.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(S=>{if(S){var A=S.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=A;var O=A[0];if(O){var j=window.getComputedStyle(O),C=j.fontSize,D=j.letterSpacing;(C!==h||D!==b)&&(p(C),y(D))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Ys,{zIndex:e.zIndex},_.createElement(Lo,{className:rn("recharts-cartesian-axis",a)},_.createElement(Pke,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:eo(e)}),_.createElement(Bke,{ref:w,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(z1e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(Z1e,{label:e.label,labelRef:e.labelRef}),e.children)))}),Nj=_.forwardRef((e,t)=>{var n=Vi(e,As);return _.createElement(zke,wu({},n,{ref:t}))});Nj.displayName="CartesianAxis";var Uke=["x1","y1","x2","y2","key"],Fke=["offset"],Hke=["xAxisId","yAxisId"],Gke=["xAxisId","yAxisId"];function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){Yke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yke(e,t,n){return(t=qke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qke(e){var t=Kke(e,"string");return typeof t=="symbol"?t:t+""}function Kke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(null,arguments)}function mv(e,t){if(e==null)return{};var n,r,i=Wke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vke=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return _.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sF(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=mv(n,Uke),p=(i=eo(h))!==null&&i!==void 0?i:{},{offset:b}=p,y=mv(p,Fke);r=_.createElement("line",lu({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function Zke(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=mv(e,Hke),u=i.map((d,h)=>{var p=Ir(Ir({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return _.createElement(sF,{key:"line-".concat(h),option:r,lineItemProps:p})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Xke(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=mv(e,Gke),u=i.map((d,h)=>{var p=Ir(Ir({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return _.createElement(sF,{option:r,lineItemProps:p,key:"line-".concat(h)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Jke(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%t.length;return _.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:k,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Qke(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:k,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var e2e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return X9(jj(Ir(Ir(Ir({},As),n),{},{ticks:J9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},t2e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return X9(jj(Ir(Ir(Ir({},As),n),{},{ticks:J9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},n2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zr.grid};function lF(e){var t=s8(),n=l8(),r=o8(),i=Ir(Ir({},Vi(e,n2e)),{},{x:Qe(e.x)?e.x:r.left,y:Qe(e.y)?e.y:r.top,width:Qe(e.width)?e.width:r.width,height:Qe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:y}=i,k=ki(),w=tt(K=>aI(K,"xAxis",a,k)),S=tt(K=>aI(K,"yAxis",o,k));if(!$o(d)||!$o(h)||!Qe(l)||!Qe(u))return null;var A=i.verticalCoordinatesGenerator||e2e,O=i.horizontalCoordinatesGenerator||t2e,{horizontalPoints:j,verticalPoints:C}=i;if((!j||!j.length)&&typeof O=="function"){var D=b&&b.length,P=O({yAxis:S?Ir(Ir({},S),{},{ticks:D?b:S.ticks}):void 0,width:t??d,height:n??h,offset:r},D?!0:p);Hy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(j=P)}if((!C||!C.length)&&typeof A=="function"){var I=y&&y.length,U=A({xAxis:w?Ir(Ir({},w),{},{ticks:I?y:w.ticks}):void 0,width:t??d,height:n??h,offset:r},I?!0:p);Hy(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(C=U)}return _.createElement(Ys,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Vke,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Jke,lu({},i,{horizontalPoints:j})),_.createElement(Qke,lu({},i,{verticalPoints:C})),_.createElement(Zke,lu({},i,{offset:r,horizontalPoints:j,xAxis:w,yAxis:S})),_.createElement(Xke,lu({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:S}))))}lF.displayName="CartesianGrid";function r2e(e){var t=nx(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var cF=(e,t,n,r)=>cU(e,"xAxis",t,r),uF=(e,t,n,r)=>lU(e,"xAxis",t,r),dF=(e,t,n,r)=>cU(e,"yAxis",n,r),fF=(e,t,n,r)=>lU(e,"yAxis",n,r),i2e=xe([Xt,cF,dF,uF,fF],(e,t,n,r,i)=>$s(e,"xAxis")?Fy(t,r,!1):Fy(n,i,!1)),a2e=(e,t,n,r,i)=>i,hF=xe([Cz,a2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),o2e=(e,t,n,r,i)=>{var a,o=hF(e,t,n,r,i);if(o!=null){var l=Xt(e),u=$s(l,"xAxis"),d;if(u?d=pE(e,"yAxis",n,r):d=pE(e,"xAxis",t,r),d!=null){var{stackId:h}=o,p=nj(o);if(!(h==null||p==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(y=>y.key===p)}}}},s2e=xe([Xt,cF,dF,uF,fF,o2e,KA,i2e,hF,Gve],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,k;if(y&&y.length>0?k=y:k=h?.slice(p,b+1),k!=null)return T2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:k,chartBaseValue:d,bandSize:l})}}),l2e=["id"],c2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}function mF(e,t){if(e==null)return{};var n,r,i=u2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){d2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d2e(e,t,n){return(t=f2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f2e(e){var t=h2e(e,"string");return typeof t=="symbol"?t:t+""}function h2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pv(e,t){return e&&e!=="none"?e:t}var m2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:pv(r,i),value:Q9(n,t),payload:e}]},p2e=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Q9(o,t),hide:l,type:d,color:pv(r,a),unit:u}};return _.createElement(pSe,{tooltipEntrySettings:h})});function g2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=eo(r);return _.createElement(LSe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function b2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zd(zd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return _.createElement(sSe,{value:t?i:void 0},n)}function ZI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:p}=a,b=mF(a,l2e),y=eo(b),k=_a(b);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(Lo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Gb,mu({},k,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_.createElement(Gb,mu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&_.createElement(Gb,mu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),_.createElement(g2e,{points:t,props:b,clipPathId:i}))}function y2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!jn(a)||!jn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return Qe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),Qe(u)?_.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function v2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!jn(a)||!jn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return Qe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),Qe(u)?_.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function x2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?_.createElement(y2e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):_.createElement(v2e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function w2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:y}=r,k=_.useMemo(()=>({points:o,baseLine:l}),[o,l]),w=w8(k,"recharts-area-"),S=p0e(),[A,O]=_.useState(!1),j=!A,C=_.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),D=_.useCallback(()=>{typeof b=="function"&&b(),O(!0)},[b]);if(S==null)return null;var P=i.current,I=a.current;return _.createElement(b2e,{showLabels:j,points:o},r.children,_.createElement(x8,{animationId:w,begin:d,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:D,key:w},U=>{if(P){var K=P.length/o.length,q=U===1?o:o.map((z,W)=>{var Z=Math.floor(W*K);if(P[Z]){var X=P[Z];return zd(zd({},z),{},{x:Oo(X.x,z.x,U),y:Oo(X.y,z.y,U)})}return z}),F;return Qe(l)?F=Oo(I,l,U):Ar(l)||to(l)?F=Oo(I,0,U):F=l.map((z,W)=>{var Z=Math.floor(W*K);if(Array.isArray(I)&&I[Z]){var X=I[Z];return zd(zd({},z),{},{x:Oo(X.x,z.x,U),y:Oo(X.y,z.y,U)})}return z}),U>0&&(i.current=q,a.current=F),_.createElement(ZI,{points:q,baseLine:F,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=o,a.current=l),_.createElement(Lo,null,u&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(x2e,{alpha:U,points:o,baseLine:l,layout:S,strokeWidth:r.strokeWidth}))),_.createElement(Lo,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(ZI,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),_.createElement(uSe,{label:r.label}))}function _2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=_.useRef(null),a=_.useRef();return _.createElement(w2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class S2e extends _.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:p,id:b,baseLine:y,zIndex:k}=this.props;if(t)return null;var w=rn("recharts-area",i),S=b,{r:A,strokeWidth:O}=r2e(n),j=JU(n),C=A*2+O,D=l?"url(#clipPath-".concat(j?"":"dots-").concat(S,")"):void 0;return _.createElement(Ys,{zIndex:k},_.createElement(Lo,{className:w},l&&_.createElement("defs",null,_.createElement(ike,{clipPathId:S,xAxisId:u,yAxisId:d}),!j&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),_.createElement(_2e,{needClip:l,clipPathId:S,props:this.props})),_.createElement(GI,{points:r,mainColor:pv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&_.createElement(GI,{points:y,mainColor:pv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var pF={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Zr.area};function k2e(e){var t,n=Vi(e,pF),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:p,isAnimationActive:b,legendType:y,stroke:k,xAxisId:w,yAxisId:S}=n,A=mF(n,c2e),O=Mp(),j=OU(),{needClip:C}=rF(w,S),D=ki(),{points:P,isRange:I,baseLine:U}=(t=tt(Z=>s2e(Z,w,S,D,e.id)))!==null&&t!==void 0?t:{},K=Ej();if(O!=="horizontal"&&O!=="vertical"||K==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:q,width:F,x:z,y:W}=K;return!P||!P.length?null:_.createElement(S2e,mu({},A,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:U,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:q,hide:p,layout:O,isAnimationActive:b==="auto"?!jf.isSsr:b,isRange:I,legendType:y,needClip:C,points:P,stroke:k,width:F,left:z,top:W,xAxisId:w,yAxisId:S}))}var E2e=(e,t,n,r,i)=>{var a=n??t;if(Qe(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function T2e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:y}=e,k=i&&i.length,w=E2e(a,o,n,l,u),S=a==="horizontal",A=!1,O=d.map((C,D)=>{var P;k?P=i[h+D]:(P=$r(C,r),Array.isArray(P)?A=!0:P=[w,P]);var I=P[1]==null||k&&!t&&$r(C,r)==null;return S?{x:j3({axis:l,ticks:p,bandSize:y,entry:C,index:D}),y:I?null:u.scale(P[1]),value:P,payload:C}:{x:I?null:l.scale(P[1]),y:j3({axis:u,ticks:b,bandSize:y,entry:C,index:D}),value:P,payload:C}}),j;return k||A?j=O.map(C=>{var D=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:D!=null&&C.y!=null?u.scale(D):null,payload:C.payload}:{x:D!=null?l.scale(D):null,y:C.y,payload:C.payload}}):j=S?u.scale(w):l.scale(w),{points:O,baseLine:j,isRange:A}}function A2e(e){var t=Vi(e,pF),n=ki();return _.createElement(xSe,{id:t.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(gSe,{legendPayload:m2e(t)}),_.createElement(p2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(ASe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Cpe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),_.createElement(k2e,mu({},t,{id:r}))))}var gF=_.memo(A2e,Tj);gF.displayName="Area";var j2e=["domain","range"],N2e=["domain","range"];function XI(e,t){if(e==null)return{};var n,r,i=O2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function bF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=XI(e,j2e),{domain:a,range:o}=t,l=XI(t,N2e);return!JI(n,a)||!JI(r,o)?!1:Tj(i,l)}var C2e=["dangerouslySetInnerHTML","ticks"],M2e=["id"];function SE(){return SE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SE.apply(null,arguments)}function QI(e,t){if(e==null)return{};var n,r,i=D2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function P2e(e){var t=pr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(USe(e)):n.current!==e&&t(FSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(HSe(n.current)),n.current=null)},[t]),null}var R2e=e=>{var{xAxisId:t,className:n}=e,r=tt(t8),i=ki(),a="xAxis",o=tt(S=>Pf(S,a,t,i)),l=tt(S=>sU(S,a,t,i)),u=tt(S=>Lxe(S,t)),d=tt(S=>Fxe(S,t)),h=tt(S=>Az(S,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,y=QI(e,C2e),{id:k}=h,w=QI(h,M2e);return _.createElement(Nj,SE({},y,w,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:rn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},L2e={allowDataOverflow:lr.allowDataOverflow,allowDecimals:lr.allowDecimals,allowDuplicatedCategory:lr.allowDuplicatedCategory,angle:lr.angle,axisLine:As.axisLine,height:lr.height,hide:!1,includeHidden:lr.includeHidden,interval:lr.interval,minTickGap:lr.minTickGap,mirror:lr.mirror,orientation:lr.orientation,padding:lr.padding,reversed:lr.reversed,scale:lr.scale,tick:lr.tick,tickCount:lr.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:lr.type,xAxisId:0},I2e=e=>{var t=Vi(e,L2e);return _.createElement(_.Fragment,null,_.createElement(P2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(R2e,t))},yF=_.memo(I2e,bF);yF.displayName="XAxis";var $2e=["dangerouslySetInnerHTML","ticks"],B2e=["id"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kE.apply(null,arguments)}function e5(e,t){if(e==null)return{};var n,r,i=z2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function U2e(e){var t=pr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(GSe(e)):n.current!==e&&t(YSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(qSe(n.current)),n.current=null)},[t]),null}var F2e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=_.useRef(null),o=_.useRef(null),l=tt(t8),u=ki(),d=pr(),h="yAxis",p=tt(D=>Pf(D,h,t,u)),b=tt(D=>Yxe(D,t)),y=tt(D=>Gxe(D,t)),k=tt(D=>sU(D,h,t,u)),w=tt(D=>jz(D,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!b||kj(i)||_.isValidElement(i)||w==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(KSe({id:t,width:P}))}}},[k,b,d,i,t,r,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:A}=e,O=e5(e,$2e),{id:j}=w,C=e5(w,B2e);return _.createElement(Nj,kE({},O,C,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:rn("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:k,axisType:h}))},H2e={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,angle:cr.angle,axisLine:As.axisLine,hide:!1,includeHidden:cr.includeHidden,interval:cr.interval,minTickGap:cr.minTickGap,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:cr.type,width:cr.width,yAxisId:0},G2e=e=>{var t=Vi(e,H2e);return _.createElement(_.Fragment,null,_.createElement(U2e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(F2e,t))},vF=_.memo(G2e,bF);vF.displayName="YAxis";var Y2e=(e,t)=>t,Oj=xe([Y2e,Xt,Ez,nr,kU,Gs,a_e,Or],f_e),Cj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},xF=Sa("mouseClick"),wF=Op();wF.startListening({actionCreator:xF,effect:(e,t)=>{var n=e.payload,r=Oj(t.getState(),Cj(n));r?.activeIndex!=null&&t.dispatch(iwe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var EE=Sa("mouseMove"),_F=Op(),xb=null;_F.startListening({actionCreator:EE,effect:(e,t)=>{var n=e.payload;xb!==null&&cancelAnimationFrame(xb);var r=Cj(n);xb=requestAnimationFrame(()=>{var i=t.getState(),a=hj(i,i.tooltip.settings.shared);if(a==="axis"){var o=Oj(i,r);o?.activeIndex!=null?t.dispatch(gU({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(pU())}xb=null})}});var t5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},SF=Si({name:"rootProps",initialState:t5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:t5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),q2e=SF.reducer,{updateOptions:K2e}=SF.actions,kF=Si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ZCe}=kF.actions,W2e=kF.reducer,EF=Sa("keyDown"),TF=Sa("focus"),Mj=Op();Mj.startListening({actionCreator:EF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=mj(i,Lf(n),zp(n),Yp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Gs(n);if(a==="Enter"){var d=uv(n,"axis","hover",String(i.index));t.dispatch(bE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Vxe(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,y=l+b*p;if(!(u==null||y>=u.length||y<0)){var k=uv(n,"axis","hover",String(y));t.dispatch(bE({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});Mj.startListening({actionCreator:TF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=uv(n,"axis","hover",String(a));t.dispatch(bE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ua=Sa("externalEvent"),AF=Op(),ak=new Map;AF.startListening({actionCreator:ua,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=ak.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:Gwe(l),activeDataKey:Fwe(l),activeIndex:lp(l),activeLabel:AU(l),activeTooltipIndex:lp(l),isTooltipActive:Ywe(l)};n(u,r)}finally{ak.delete(i)}});ak.set(i,o)}}});var V2e=xe([Rf],e=>e.tooltipItemPayloads),Z2e=xe([V2e,Hp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),jF=Sa("touchMove"),NF=Op();NF.startListening({actionCreator:jF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=hj(r,r.tooltip.settings.shared);if(i==="axis"){var a=Oj(r,Cj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(gU({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute($pe),h=(o=u.getAttribute(Bpe))!==null&&o!==void 0?o:void 0,p=Z2e(t.getState(),d,h);t.dispatch(rwe({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var X2e=ZB({brush:lke,cartesianAxis:WSe,chartData:G_e,errorBars:rke,graphicalItems:ESe,layout:wpe,legend:M0e,options:B_e,polarAxis:fSe,polarOptions:W2e,referenceElements:pke,rootProps:q2e,tooltip:awe,zIndex:T_e}),J2e=function(t){return qme({reducer:X2e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([wF.middleware,_F.middleware,Mj.middleware,AF.middleware,NF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(I9({type:"raf"}))},devTools:jf.devToolsEnabled})};function Q2e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ki(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=J2e(t));var o=hA;return _.createElement(a4,{context:o,store:a.current},n)}function eEe(e){var{layout:t,margin:n}=e,r=pr(),i=ki();return _.useEffect(()=>{i||(r(ype(t)),r(bpe(n)))},[r,i,t,n]),null}var tEe=_.memo(eEe,Tj);function nEe(e){var t=pr();return _.useEffect(()=>{t(K2e(e))},[t,e]),null}function n5(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=QU("".concat(r).concat(t)),a=pr();return _.useLayoutEffect(()=>(a(k_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(E_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),_.createElement("g",{tabIndex:-1,id:i})}function r5(e){var{children:t,isPanorama:n}=e,r=tt(m_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(n5,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>_.createElement(n5,{key:o,zIndex:o,isPanorama:n})))}var rEe=["children"];function iEe(e,t){if(e==null)return{};var n,r,i=aEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(null,arguments)}var oEe={width:"100%",height:"100%",display:"block"},sEe=_.forwardRef((e,t)=>{var n=s8(),r=l8(),i=g8();if(!$o(n)||!$o(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),_.createElement(q7,gv({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:oEe,ref:t}),a)}),lEe=e=>{var{children:t}=e,n=tt(yx);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return _.createElement(q7,{width:r,height:i,x:o,y:a},t)},i5=_.forwardRef((e,t)=>{var{children:n}=e,r=iEe(e,rEe),i=ki();return i?_.createElement(lEe,null,_.createElement(r5,{isPanorama:!0},n)):_.createElement(sEe,gv({ref:t},r),_.createElement(r5,{isPanorama:!1},n))});function cEe(){var e=pr(),[t,n]=_.useState(null),r=tt(Ipe);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;jn(a)&&a!==r&&e(xpe(a))}},[t,e,r]),n}function a5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(n),!0).forEach(function(r){dEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dEe(e,t,n){return(t=fEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fEe(e){var t=hEe(e,"string");return typeof t=="symbol"?t:t+""}function hEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(null,arguments)}var mEe=()=>(Q_e(),null);function bv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var pEe=_.forwardRef((e,t)=>{var n,r,i=_.useRef(null),[a,o]=_.useState({containerWidth:bv((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:bv((r=e.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,h)=>{o(p=>{var b=Math.round(d),y=Math.round(h);return p.containerWidth===b&&p.containerHeight===y?p:{containerWidth:b,containerHeight:y}})},[]),u=_.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var b=k=>{var{width:w,height:S}=k[0].contentRect;l(w,S)},y=new ResizeObserver(b);y.observe(d),i.current=y}},[t,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(xx,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",_u({ref:u},e)))}),gEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=_.useState({containerWidth:bv(n),containerHeight:bv(r)}),o=_.useCallback((u,d)=>{a(h=>{var p=Math.round(u),b=Math.round(d);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(xx,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",_u({ref:l},e)))}),bEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(xx,{width:n,height:r}),_.createElement("div",_u({ref:t},e)))}),yEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return Cs(n)||Cs(r)?_.createElement(gEe,_u({},e,{ref:t})):_.createElement(bEe,_u({},e,{ref:t}))});function vEe(e){return e===!0?pEe:yEe}var xEe=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:y,onTouchMove:k,onTouchStart:w,style:S,width:A,responsive:O,dispatchTouchEvents:j=!0}=e,C=_.useRef(null),D=pr(),[P,I]=_.useState(null),[U,K]=_.useState(null),q=cEe(),F=wA(),z=F?.width>0?F.width:A,W=F?.height>0?F.height:i,Z=_.useCallback(re=>{q(re),typeof t=="function"&&t(re),I(re),K(re),re!=null&&(C.current=re)},[q,t,I,K]),X=_.useCallback(re=>{D(xF(re)),D(ua({handler:a,reactEvent:re}))},[D,a]),Y=_.useCallback(re=>{D(EE(re)),D(ua({handler:d,reactEvent:re}))},[D,d]),J=_.useCallback(re=>{D(pU()),D(ua({handler:h,reactEvent:re}))},[D,h]),ee=_.useCallback(re=>{D(EE(re)),D(ua({handler:p,reactEvent:re}))},[D,p]),le=_.useCallback(()=>{D(TF())},[D]),oe=_.useCallback(re=>{D(EF(re.key))},[D]),B=_.useCallback(re=>{D(ua({handler:o,reactEvent:re}))},[D,o]),V=_.useCallback(re=>{D(ua({handler:l,reactEvent:re}))},[D,l]),ne=_.useCallback(re=>{D(ua({handler:u,reactEvent:re}))},[D,u]),se=_.useCallback(re=>{D(ua({handler:b,reactEvent:re}))},[D,b]),fe=_.useCallback(re=>{D(ua({handler:w,reactEvent:re}))},[D,w]),be=_.useCallback(re=>{j&&D(jF(re)),D(ua({handler:k,reactEvent:re}))},[D,j,k]),ye=_.useCallback(re=>{D(ua({handler:y,reactEvent:re}))},[D,y]),Te=vEe(O);return _.createElement(RU.Provider,{value:P},_.createElement(Jfe.Provider,{value:U},_.createElement(Te,{width:z??S?.width,height:W??S?.height,className:rn("recharts-wrapper",r),style:uEe({position:"relative",cursor:"default",width:z,height:W},S),onClick:X,onContextMenu:B,onDoubleClick:V,onFocus:le,onKeyDown:oe,onMouseDown:ne,onMouseEnter:Y,onMouseLeave:J,onMouseMove:ee,onMouseUp:se,onTouchEnd:ye,onTouchMove:be,onTouchStart:fe,ref:Z},_.createElement(mEe,null),n)))}),wEe=["width","height","responsive","children","className","style","compact","title","desc"];function _Ee(e,t){if(e==null)return{};var n,r,i=SEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kEe=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,p=_Ee(e,wEe),b=eo(p);return u?_.createElement(_.Fragment,null,_.createElement(xx,{width:n,height:r}),_.createElement(i5,{otherAttributes:b,title:d,desc:h},a)):_.createElement(xEe,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(i5,{otherAttributes:b,title:d,desc:h,ref:t},_.createElement(bke,null,a)))});function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(null,arguments)}var EEe={top:5,right:5,bottom:5,left:5},TEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:EEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},AEe=_.forwardRef(function(t,n){var r,i=Vi(t.categoricalChartProps,TEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(Q2e,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},_.createElement(ske,{chartData:d.data}),_.createElement(tEe,{layout:i.layout,margin:i.margin}),_.createElement(nEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(kEe,TE({},i,{ref:n})))}),jEe=["axis"],NEe=_.forwardRef((e,t)=>_.createElement(AEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jEe,tooltipPayloadSearcher:I_e,categoricalChartProps:e,ref:t}));function OF(e){return typeof e=="object"&&e!==null}function iu(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function OEe(e,t=""){return typeof e=="string"?e:t}function CEe(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!OF(n))continue;const r=OEe(n.day),i=iu(n.dau),a=iu(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function MEe(e){return OF(e)?{online_now:iu(e.online_now),active_today:iu(e.active_today),active_7d:iu(e.active_7d),active_30d:iu(e.active_30d),active_365d:iu(e.active_365d),series:CEe(e.series)}:null}function DEe(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function o5(){const[e,t]=_.useState(30),[n,r]=_.useState(null),[i,a]=_.useState(0),[o,l]=_.useState(!1),[u,d]=_.useState(""),h=_.useRef(!1),p=_.useRef(!1),b=_.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:S,error:A}=await Re.rpc("admin_dashboard_stats",{p_days:e});if(A){d(A.message||"RPC error"),r(null);return}const O=MEe(S);if(!O){d("   ( )"),r(null);return}r(O),a(O.online_now)}finally{l(!1),h.current=!1}}},[e]),y=_.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:S,error:A}=await Re.rpc("admin_online_now");if(A)return;const O=typeof S=="number"?S:typeof S=="string"?Number(S):0;Number.isFinite(O)&&a(O)}finally{p.current=!1}}},[]);_.useEffect(()=>{b()},[b]),_.useEffect(()=>{y();const S=window.setInterval(()=>void y(),3e4);return()=>window.clearInterval(S)},[y]),_.useEffect(()=>{const S=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(S)},[b]);const k=_.useMemo(()=>n?.series??[],[n]),w=_.useMemo(()=>k.reduce((S,A)=>S+(A.total_active_ms||0),0),[k]);return g.jsx(Ufe,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:S=>{const A=Number(S.target.value);(A===30||A===60||A===90)&&t(A)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(hm,{label:" ",value:i}),g.jsx(hm,{label:" (DAU)",value:n?.active_today??0}),g.jsx(hm,{label:" 7 ",value:n?.active_7d??0}),g.jsx(hm,{label:" 30 ",value:n?.active_30d??0}),g.jsx(hm,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(PEe,{data:k})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:DEe(w)})]})]})]})})}function hm({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function PEe({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(h0e,{width:"100%",height:"100%",children:g.jsxs(NEe,{data:e,children:[g.jsx(lF,{strokeDasharray:"3 3"}),g.jsx(yF,{dataKey:"day"}),g.jsx(vF,{}),g.jsx(s1e,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(gF,{type:"monotone",dataKey:"dau"})]})})})}function REe(){const[e,t]=_.useState(""),[n,r]=_.useState("ACTIVE"),[i,a]=_.useState("LAST_SEEN_DESC"),[o,l]=_.useState(1),[u,d]=_.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(p,b)=>{d(y=>{const k=y[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...y,[p]:{...k,...b}}})}}}const AE=20;function LEe(e){return typeof e=="object"&&e!==null}function Eo(e){return typeof e=="string"?e:null}function s5(e){return typeof e=="boolean"?e:null}function ok(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function CF(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function IEe(e){return CF(e)?e:null}function $Ee(e){if(!LEe(e))return null;const t=Eo(e.user_id);return t?{user_id:t,name:Eo(e.name),nickname:Eo(e.nickname),email:Eo(e.email),disabled_at:Eo(e.disabled_at),created_at:Eo(e.created_at),plan:IEe(e.plan),starts_at:Eo(e.starts_at),expires_at:Eo(e.expires_at),can_use_myo_viewer:s5(e.can_use_myo_viewer),myeongsik_count:ok(e.myeongsik_count),last_seen_at:Eo(e.last_seen_at),last_path:Eo(e.last_path),total_active_ms:ok(e.total_active_ms),online:s5(e.online),total_count:ok(e.total_count)}:null}function l5(e){const t=(e??"").trim();return t.length?t:null}function MF(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function BEe(e,t){if(!MF(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function c5(e){if(!MF(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function zEe(e){return typeof e=="object"&&e!==null}function UEe(e,t){if(console.error(e,t),zEe(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function FEe(){const[e,t]=_.useState([]),[n,r]=_.useState(0),[i,a]=_.useState(!1),[o,l]=_.useState(null),u=_.useCallback(async h=>{const{search:p,tab:b,sort:y,page:k}=h;a(!0),l(null);try{const w=Math.max(0,(Math.max(1,k)-1)*AE),{data:S,error:A}=await Re.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:y,p_limit:AE,p_offset:w});if(A)throw A;const j=(Array.isArray(S)?S:[]).map($Ee).filter(C=>C!==null);t(j),r(j[0]?.total_count??0)}catch(w){t([]),r(0),l(w instanceof Error?w.message:"  ")}finally{a(!1)}},[]),d=_.useCallback(async(h,p,b,y)=>{if(p){l(null),b(h,{saving:!0});try{if(!CF(p.plan))throw new Error(`  : ${String(p.plan)}`);const k=l5(p.startDate),w=l5(p.endDate),S=k?c5(k):null,A=w?c5(BEe(w,1)):null;if(S&&A){const C=Date.parse(S),D=Date.parse(A);if(!Number.isFinite(C)||!Number.isFinite(D))throw new Error("  ");if(D<=C)throw new Error("  .")}const O={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:S,p_expires_at:A},{error:j}=await Re.rpc("admin_set_user_entitlements",O);if(j)throw UEe("admin_set_user_entitlements error",j),j;b(h,{saving:!1,lastSavedAt:Date.now()}),await y()}catch(k){throw b(h,{saving:!1}),l(k instanceof Error?k.message:" "),k}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const DF=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function HEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function GEe(e){const t=e??"FREE";return DF.find(n=>n.value===t)?.label??String(t)}function YEe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function u5(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function yv(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function qEe(e,t){const n=yv(e),r=yv(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function KEe(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=yv(r.starts_at),o=yv(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function WEe(){const e=REe(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:y,loading:k,error:w,fetchList:S,saveEntitlements:A}=FEe(),O=_.useMemo(()=>Math.max(1,Math.ceil(y/AE)),[y]);return _.useEffect(()=>{u(1)},[r,a]),_.useEffect(()=>{S({search:t,tab:r,sort:a,page:l})},[S,t,r,a,l]),_.useEffect(()=>{l>O&&u(O)},[l,O,u]),_.useEffect(()=>{h(j=>KEe(j,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:j=>{n(j.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:j=>{const C=j.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:j=>{const C=j.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),w&&g.jsx("div",{className:"text-red-400 mb-2",children:w}),k&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(j=>{const C=j.name||j.nickname||"(no profile)",D=j.email||"",P=d[j.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},I=Date.now(),U=(j.starts_at?Date.parse(j.starts_at)<=I:!0)&&(j.expires_at?Date.parse(j.expires_at)>I:!0),K=j.plan??"FREE",q=U?K:"FREE",F=j.can_use_myo_viewer===!0?"ON":"OFF",z=j.last_seen_at??null,W=j.online===!0,Z=j.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),D?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",D,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${W?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:z?new Date(z).toLocaleString():" ",children:[W?"":"","  ",YEe(z)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",u5(Z)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:j.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",j.myeongsik_count??0,"",z?g.jsxs(g.Fragment,{children:["    ",new Date(z).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",u5(Z)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",GEe(q),"  ",qEe(j.starts_at,j.expires_at),"    ",F,!U&&j.plan&&j.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:X=>p(j.user_id,{startDate:X.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:X=>p(j.user_id,{endDate:X.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:X=>{const Y=X.target.value;HEe(Y)&&p(j.user_id,{plan:Y})},children:DF.map(X=>g.jsx("option",{value:X.value,children:X.label},X.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:X=>p(j.user_id,{myoViewer:X.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void A(j.user_id,P,e.setDraft,()=>S({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${j.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},j.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(j=>j-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",O," ( ",y,")"]}),g.jsx("button",{disabled:l>=O,onClick:()=>u(j=>j+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function VEe(){const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,a]=_.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function ZEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function Dj({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Re.auth.getSession()).data.session?.user?.id;a&&await Re.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const XEe=async e=>{const{data:t}=await Re.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},JEe=async e=>{const{data:t}=await Re.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},QEe=async e=>{await Re.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},eTe=async(e,t)=>{await Re.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},tTe=async e=>{await Re.from("profiles").update({disabled_at:null}).eq("user_id",e),await Re.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await Dj({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},nTe=async e=>{await Re.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await Dj({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},d5=async(e,t,n)=>{const{error:r}=await Re.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await Dj({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function rTe(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function iTe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=_.useCallback(async()=>{const S=await XEe(e);n(S)},[e,n]),o=_.useCallback(async()=>{const S=await JEe(e);r(S)},[e,r]);_.useEffect(()=>{a(),o()},[a,o]);const l=_.useCallback(async()=>{if(e){i(!0);try{await QEe(e),await a()}catch(S){throw console.error("handleCreateProfile failed:",S),S}finally{i(!1)}}},[e,i,a]),u=_.useCallback(async()=>{if(e&&t){i(!0);try{await eTe(e,t),await a()}catch(S){throw console.error("handleSaveProfile failed:",S),S}finally{i(!1)}}},[e,t,i,a]),d=_.useCallback(async()=>{if(e&&t){i(!0);try{const S=t.disabled_at==null,{data:A,error:O}=await Re.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:S});if(O)throw rTe("admin_set_profile_disabled error:",O),O;n({...t,disabled_at:typeof A=="string"?A:null})}finally{i(!1)}}},[e,t,n,i]),h=_.useCallback(async()=>{if(e){i(!0);try{await tTe(e),await a(),await o()}catch(S){throw console.error("handleRestoreAccount failed:",S),S}finally{i(!1)}}},[e,i,a,o]),p=_.useCallback(async()=>{if(e){i(!0);try{await nTe(e),await o()}catch(S){throw console.error("handleRestoreAllMyeongsik failed:",S),S}finally{i(!1)}}},[e,i,o]),b=_.useCallback(async S=>{if(e&&S){i(!0);try{await d5(e,S,null),await o()}catch(A){throw console.error("handleRestoreMyeongsik failed:",A),A}finally{i(!1)}}},[e,i,o]),y=_.useCallback(S=>{const A=typeof window<"u"?window.location.origin:"",O=S?`${A}/impersonate?userId=${e}&myeongsikId=${S}`:`${A}/impersonate?userId=${e}`;window.open(O,"_blank")},[e]),k=_.useCallback(async(S,A)=>{if(!e||!S)return;const O=A?null:new Date().toISOString();i(!0);try{await d5(e,S,O),await o()}catch(j){throw console.error("toggleDeleteMyeongsik failed:",j),j}finally{i(!1)}},[e,i,o]),w=_.useCallback(S=>{window.location.href=S},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:y,toggleDeleteMyeongsik:k,goTo:w}}function aTe({params:e}){const t=e.userId,n=VEe(),r=ZEe(n.profile),i=iTe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function oTe({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const f5=50;function sTe(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState([]),[o,l]=_.useState(1),[u,d]=_.useState("all"),[h,p]=_.useState("all"),[b,y]=_.useState("30"),[k,w]=_.useState(""),[S,A]=_.useState(!1),O=_.useCallback(async C=>{await Re.from("audit_logs").delete().eq("id",C),a(D=>D.filter(P=>P.id!==C))},[]),j=_.useCallback(async()=>{A(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let D=Re.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*f5,o*f5-1);b!=="all"&&(D=D.gte("created_at",C.toISOString())),u!=="all"&&(D=D.eq("action",u)),h!=="all"&&(D=D.eq("actor_admin_id",h));const{data:P}=await D;let I=P||[];if(k.trim()!==""){const U=k.toLowerCase();I=I.filter(K=>(JSON.stringify(K).toLowerCase()+(K.payload?JSON.stringify(K.payload).toLowerCase():"")).includes(U))}a(I),A(!1)},[o,u,h,b,k]);return _.useEffect(()=>{j()},[j]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>y(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:k,onChange:C=>w(C.target.value)})]}),S?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:D=>{D.stopPropagation(),O(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(oTe,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const lTe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function PF(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1);if(_.useEffect(()=>{(async()=>{const{data:l}=await Re.auth.getUser(),u=l.user?.id;r(!!u&&lTe.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(o5,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(aTe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(WEe,{}):i.startsWith("/admin/logs")?a=g.jsx(sTe,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(o5,{}));return g.jsx(Bfe,{children:a})}function cTe({pillarsA:e,pillarsB:t}){const n=fae(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const uTe=["","","","","","","","","",""],dTe=["","","","","","","","","",""],fTe=["","","","","","","","","","","",""],hTe=["","","","","","","","","","","",""],mTe=new Set([...uTe,...dTe]),pTe=new Set([...fTe,...hTe]);function gTe(e){return typeof e=="object"&&e!==null}function h5(e){return typeof e=="string"&&e.length>=2&&mTe.has(e[0])&&pTe.has(e[1])}function cn(e,...t){if(h5(e))return e;for(const n of t)if(h5(n))return n;return""}function wb(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function bTe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function m5(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function vv(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function yTe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Bx(e){const{y:t,m:n,d:r,hh:i,mm:a}=yTe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Wi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function vTe(e){const t=Bx(e);return`${vv(e)}-${t.toISOString()}`}function Nd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:vTe(e)}function xTe(e){return gTe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function wTe(e){const t=O6;return xTe(t)?e==="classic"?t.Classic:t.Modern:e}function _Te(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const sk="people_picker_order_v1";function STe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function p5({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=_.useState("");_.useEffect(()=>{e||a("")},[e]);const o=_.useMemo(()=>t.map(Nd),[t]),l=_.useMemo(()=>new Set(o),[o]),[u,d]=_.useState([]);_.useEffect(()=>{const w=localStorage.getItem(sk),S=w?JSON.parse(w):[],A=S.filter(j=>l.has(j)),O=[...A,...o.filter(j=>!A.includes(j))];d(O),JSON.stringify(O)!==JSON.stringify(S)&&localStorage.setItem(sk,JSON.stringify(O))},[o,l]);const h=w=>{d(w),localStorage.setItem(sk,JSON.stringify(w))},p=_.useMemo(()=>{const w=new Map(t.map(j=>[Nd(j),j])),S=[];for(const j of u){const C=w.get(j);C&&S.push(C)}w.forEach((j,C)=>{u.includes(C)||S.push(j)});const A=[],O=[];for(const j of S)(typeof j.relationship=="string"?j.relationship.trim():"")===""?A.push(j):O.push(j);return[...A,...O]},[t,u]),b=_.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(S=>{const A=typeof S.relationship=="string"?S.relationship.trim():"";return`${vv(S)} ${A}`.toLowerCase().includes(w)}):p},[p,i]),y=i.trim()==="",k=w=>{const{destination:S,source:A}=w;if(!S||!y||S.index===A.index)return;const O=b.map(Nd),j=STe(O,A.index,S.index),D=p.map(Nd).filter(I=>!O.includes(I)),P=[...j,...D].filter((I,U,K)=>K.indexOf(I)===U);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(xp,{onDragEnd:k,children:g.jsx(Sf,{droppableId:"people-picker",children:w=>g.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[b.map((S,A)=>{const O=Bx(S),j=typeof S.relationship=="string"?S.relationship.trim():"",C=j||" ",D=vv(S),P=j&&D===" "?j:D;return g.jsx(_f,{draggableId:Nd(S),index:A,isDragDisabled:!y,children:I=>g.jsx("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(S),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${j?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Om(O)})]})})},Nd(S))}),w.placeholder]})})})]})]})}function lk({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=w=>{const S=o.showSibiUnseong?Fo(a,w):"",A=o.showSibiSinsal?Ho({baseBranch:l,targetBranch:w,era:wTe(u),gaehwa:!!d}):"";return{unseongText:S||void 0,shinsalText:A||void 0}},p=cn(t).charAt(1),b=cn(n).charAt(1),y=cn(r).charAt(1),k=cn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",cn(t),p],["",cn(n),b],["",cn(r),y],["",cn(i),k]].map(([w,S,A])=>{const{unseongText:O,shinsalText:j}=h(A);return g.jsx(Pd,{label:w,gz:S,dayStem:a,settings:vn.getState().settings,unseongText:O,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function Od({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=vn(P=>P.settings),o=_.useMemo(()=>t?Bx(t):null,[t]),l="/",u=cn(o?Ja(o,l):void 0),d=cn(o?mt(o,l):void 0),h=cn(o?St(o):void 0),p=cn(o?lt(o):void 0),b=_.useMemo(()=>d.charAt(0)||"",[d]),y=o,k=_.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),w=t?.mingSikType??l,S=_.useMemo(()=>{const P=y?mt(y,w).charAt(1):d.charAt(1)||"",I=y?lt(y,k).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:I},[a.sinsalBase,y,w,k,d,p]),A=_.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=D6(o,u,t.dir,120),I=R6(P,d,t.dir,t.DayChangeRule),U=kp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),K=L6(U,p,t.dir,t.DayChangeRule,o),q=r;return{si:cn(wb(P.events,q)?.gz,u),il:cn(wb(I.events,q)?.gz,d),wl:cn(wb(U.events,q)?.gz,h),yn:cn(wb(K.events,q)?.gz,p)}}catch{return null}},[n,o,u,d,h,p,r,t]),O=_.useMemo(()=>{if(n!=="")return null;const P=r;return{si:cn(Ja(P,l)),il:cn(mt(P,l)),wl:cn(St(P)),yn:cn(lt(P))}},[n,r]),j=t?vv(t):"",C=o?Om(o):"",D=t?_Te(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:j}),D&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",D]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(lk,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&A&&g.jsx(lk,{label:"",gzHour:A.si,gzDay:A.il,gzMonth:A.wl,gzYear:A.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&O&&g.jsx(lk,{label:"",gzHour:O.si,gzDay:O.il,gzMonth:O.wl,gzYear:O.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function kTe({people:e=[]}){const[t,n]=_.useState(),[r,i]=_.useState(),[a,o]=_.useState(!1),[l,u]=_.useState(!1),d=_.useRef(new Date),[h,p]=_.useState(()=>bTe(d.current)),b=_.useRef(m5(h)??d.current),y=_.useMemo(()=>{const C=m5(h);return C&&(b.current=C),b.current},[h]),[k,w]=_.useState(!1),[S,A]=_.useState(!1);function O(C){if(!C)return["","","",""];try{const D=Bx(C),P="/",I={hour:cn(Ja(D,P)),day:cn(mt(D,P)),month:cn(St(D)),year:cn(lt(D))};return[I.year,I.month,I.day,I.hour]}catch{return["","","",""]}}const j=dn(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[j?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Od,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),g.jsx(Od,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>A(!0)}),a&&t&&g.jsx(Od,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),a&&r&&g.jsx(Od,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>A(!0)}),l&&t&&g.jsx(Od,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),l&&r&&g.jsx(Od,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>A(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(cTe,{pillarsA:O(t),pillarsB:O(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(p5,{open:k,list:e||[],onSelect:C=>{n(C),w(!1)},onClose:()=>w(!1)}),g.jsx(p5,{open:S,list:e||[],onSelect:C=>{i(C),A(!1)},onClose:()=>A(!1)})]})}function ETe(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=async()=>{try{const{data:{user:a}}=await Re.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Re.from("profiles").update({disabled_at:l}).eq("id",o),await Re.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Re.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-1",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsxs("p",{className:"mb-2",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-1",children:"       ."}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function TTe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function ck(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function g5(e,t,n){return e<t?t:e>n?n:e}function RF({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=_.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=_.useMemo(()=>TTe(a),[a]),[l,u]=_.useState(o);_.useEffect(()=>{u(o)},[o]);const d=h=>{if(!ck(h))return;const b=g5(h,n,r),{y,m:k,d:w}=ck(b),S=a.getHours(),A=a.getMinutes(),O=a.getSeconds(),j=a.getMilliseconds(),C=new Date(y,k-1,w,S,A,O,j);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&d(p)},onBlur:()=>{if(!l||!ck(l)){u(o);return}const h=g5(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function ATe({ms:e}){const{date:t,setDate:n}=Jr(),r=Xl(),i=_.useMemo(()=>{const d=typeof e.id=="string"?e.id:"";if(d)return d;const h=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",p=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",h,p].filter(Boolean).join("|")},[e]);_.useEffect(()=>{n(new Date)},[i]);const a=Kv(e,void 0,void 0,{dstOffsetMinutes:r}),o=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,l=_.useMemo(()=>{const d=typeof e.ganji=="string"?e.ganji:"",h=a?.dae?.gz?`${a.dae.gz}`:null,p=a?.se?.gz?`${a.se.gz}`:null,b=a?.wol?.gz?`${a.wol.gz}`:null,y=[h,p,b].filter(Boolean).join(" ");return[d,y].filter(Boolean).join(" + ")},[e.ganji,a]),u=d=>{n(d)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[l&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:l}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(RF,{date:o,onChange:u,min:"1900-01-01",max:"2100-12-31"})]})})]})}function jTe({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function NTe({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function OTe({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function CTe({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function MTe({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const Pj=["","","","","","","","","",""],Kp=["","","","","","","","","","","",""],DTe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},LF=["","","","","","","","","","","",""],PTe=Kp,RTe=LF,LTe=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],ITe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$Te={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function up(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=DTe[n],i=LF.indexOf(t),a=(r+(i>=0?i:0))%10;return Pj[a]}function zx(e,t){const n=t===""?PTe:RTe,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Kp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=Pj[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const BTe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function zTe(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function UTe({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:Pj.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${qi(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Kp.filter(o=>{const l=zTe(e),u=t[l];return u?$Te[o]===ITe[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${qi(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function FTe(){const[e,t]=_.useState({}),[n,r]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!0),[h,p]=_.useState(""),[b,y]=_.useState("male"),[k,w]=_.useState(null),[S,A]=_.useState(!1),[O,j]=_.useState(null),[C,D]=_.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,I]=_.useState(!1),[U,K]=_.useState(null),[q,F]=_.useState(null),[z,W]=_.useState(!1),[Z,X]=_.useState(!1),Y=J=>{F(J),setTimeout(()=>F(null),1800)};return _.useEffect(()=>{if(!z)return;const J=setTimeout(()=>W(!1),2e3);return()=>clearTimeout(J)},[z]),_.useEffect(()=>{if(!Z)return;const J=setTimeout(()=>X(!1),2e3);return()=>clearTimeout(J)},[Z]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,gender:b,setGender:y,results:k,setResults:w,searching:S,setSearching:A,selectedRow:O,setSelectedRow:j,form:C,setForm:D,unknownPlace:P,setUnknownPlace:I,error:U,setError:K,toast:q,showToast4:z,setShowToast:W,searchToast:Z,setSearchToast:X,showToast:Y}}function IF(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function b5(e,t){return Kp.filter(n=>up(e,n)===t)}function y5(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=b5(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=up(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=b5(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=up(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function HTe(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=zx(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function GTe(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?up(e.yearStem,e.monthBranch)!==e.monthStem:!1}function YTe(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=zx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function uk(e,t,n){const i=zx(e,t)[n];return i?i.slice(0,1):null}function qTe({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,setResults:b,setError:y,showToast:k}){const w=o||u,S=!!(e.yearStem&&e.yearBranch),A=!!(e.dayStem&&e.dayBranch),O=!w||S||A,j=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),D=_.useMemo(()=>IF(e),[e]);return _.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=uk(e.dayStem,h,e.hourBranch);z&&t(W=>({...W,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:O,activeIsStem:j,activeIsBranch:C,filledAll:D,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!O&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){y("/      ."),setTimeout(()=>y(null),1500);return}let Z={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const J=y5(Z,n,o);Z=J.next,a(J.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(Z=HTe(Z,n,u,h));let X=!1;GTe(Z,o)&&(l(!1),X=!0),YTe(Z,u,h)&&(d(!1),X=!0),X&&k("/  .  ."),t(Z),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const J={...Z};if(J.yearStem&&J.yearBranch&&!J.monthStem){r("monthStem");return}if(J.monthStem&&J.monthBranch&&!J.dayStem){r("dayStem");return}if(J.dayStem&&J.dayBranch&&!J.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let W={...e,monthBranch:z};a(null),W=y5(W,"monthBranch",o).next,t(W),r("dayStem")},clearAll:()=>{t({}),b(null),y(null),r(null),a(null)},onToggleWoldu:z=>{b(null),z&&t(W=>{const Z={...W};return Z.yearStem&&Z.monthBranch&&(Z.monthStem=up(Z.yearStem,Z.monthBranch)),Z}),l(z)},onToggleSiju:z=>{b(null),z&&t(W=>{const Z={...W};if(Z.dayStem&&Z.hourBranch){const X=uk(Z.dayStem,h,Z.hourBranch);X&&(Z.hourStem=X)}return Z}),d(z)},onChangeHourRule:z=>{if(b(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const W=uk(e.dayStem,z,e.hourBranch);W&&t(Z=>({...Z,hourStem:W}))}}}}function KTe(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((q,F)=>F===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let y=0,k=0;if(u.hourSlots.length>0){const q=u.hourSlots[0].branch,F=BTe[q];F&&(y=F.hh,k=F.mi)}const w=new Date(h,p-1,b,y,k),S=w,A="",O=r==="male"?"":"",j=WTe(u.year.charAt(0),O),C=lt(S,127.5),D=St(S,127.5),P=mt(S,d),I=Ja(S,d),U=[`: ${C} ${D} ${P}`,I?`${I}`:null].filter(Boolean).join(" ");return{payload:{id:T6(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(y).padStart(2,"0")}${String(k).padStart(2,"0")}`,gender:O,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:uu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:U,dayStem:u.day.charAt(0),dateObj:w,corrected:S,correctedLocal:A,dir:j,favorite:!1}}}function WTe(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function VTe(e){yn.getState().add(e)}function ZTe(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=d.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),y=lt(b);if(y!==i)continue;const k=St(b);if(k!==a)continue;const w=mt(b,n);if(w!==o)continue;const S=zx(e.dayStem,t),A=[];for(let O=0;O<12;O++){const j=Kp[O];S[j]===l&&A.push({branch:j,time:LTe[O]})}if(A.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:y,month:k,day:w,hour:l,hourSlots:A}),u.length>=r))break}return u}function XTe({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:y,onSave:k,onClose:w}){return{doSearch:()=>{if(l(null),d(null),!IF(e)){d(" 4  .");return}u(!0);try{const j=ZTe(e,t,t===""?"/":"");j.length===0&&d("  . (: 1900~2100)"),l(j)}catch(O){O instanceof Error?d(O.message):d(String(O))}finally{u(!1)}},handleSave:()=>{const O=KTe({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in O){h(!0);return}Eu.flushSync(()=>{VTe(O.payload)}),k(O.payload),y(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),w()}}}function JTe({open:e,onClose:t,onSave:n}){const{settings:r}=vn(),i=FTe(),a=qTe({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=XTe({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(oy,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(jTe,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(NTe,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(MTe,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(UTe,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(OTe,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(CTe,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function QTe(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function eAe({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function tAe({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function nAe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function rAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function iAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function aAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx(RF,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function oAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:y,onWolStartChange:k,onWolEndChange:w,onWolStartBlur:S,onWolEndBlur:A,wolMonthsCount:O,ilStartDate:j,ilEndDate:C,onIlStartChange:D,onIlEndChange:P,onIlStartBlur:I,onIlEndBlur:U,ilDaysCount:K}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(q=>g.jsx("button",{type:"button",onClick:()=>t(q),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===q?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:q},q))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((q,F)=>g.jsxs("button",{type:"button",onClick:()=>i(F),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(F)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:q.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[q.age," (",q.startYear,"~",q.endYear,")"]})]},F))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:q=>l(Number(q.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:q=>u(Number(q.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:q=>k(q.target.value),onBlur:S,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:y,onChange:q=>w(q.target.value),onBlur:A,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",O,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:j,onChange:q=>D(q.target.value),onBlur:I,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:q=>P(q.target.value),onBlur:U,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",K,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function sAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((d,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:d}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function lAe({value:e,lockSelection:t=!1}){const[n,r]=_.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const cAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},uAe=["","","","",""],dAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},v5={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function fAe(){const[e,t]=_.useState(null);return _.useEffect(()=>{let n=!0;return Re.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const hAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},xv=Uo(e=>({sections:hAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),dk=1e3*60*60*24;function fk(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function _b(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function Sb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function x5(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function w5(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function mAe(){const e=new Date().getFullYear(),[t,n]=_.useState(e),[r,i]=_.useState(e),[a,o]=_.useState(()=>w5()),[l,u]=_.useState(()=>w5()),[d,h]=_.useState(()=>x5()),[p,b]=_.useState(()=>x5()),y=X=>{n(X)},k=X=>{i(X)},w=()=>{const X=t;let Y=r;Y<X&&(Y=X),Y-X>9&&(Y=X+9),i(Y)},S=()=>{let X=t;const Y=r;Y<X&&(X=Y),Y-X>9&&(X=Y-9),n(X)},A=_.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const X=r-t+1;return X>0?X:0},[t,r]),O=_.useMemo(()=>{const X=[];if(!Number.isFinite(t)||!Number.isFinite(r))return X;for(let Y=t;Y<=r&&X.length<10;Y++)X.push(Y);return X},[t,r]),j=X=>{o(X)},C=X=>{u(X)},D=()=>{const[X,Y]=a.split("-").map(Number),[J,ee]=l.split("-").map(Number),le=new Date(X,Y-1),oe=new Date(J,ee-1);if(oe<le){u(_b(le));return}if(fk(le,oe)>11){const V=new Date(le);V.setMonth(le.getMonth()+11),u(_b(V))}},P=()=>{const[X,Y]=a.split("-").map(Number),[J,ee]=l.split("-").map(Number),le=new Date(X,Y-1),oe=new Date(J,ee-1);if(oe<le){o(_b(oe));return}if(fk(le,oe)>11){const V=new Date(oe);V.setMonth(oe.getMonth()-11),o(_b(V))}},I=_.useMemo(()=>{const[X,Y]=(a||"").split("-").map(Number),[J,ee]=(l||"").split("-").map(Number);if(!Number.isFinite(X)||!Number.isFinite(Y)||!Number.isFinite(J)||!Number.isFinite(ee))return 0;const le=new Date(X,Y-1,1),oe=new Date(J,ee-1,1),B=fk(le,oe)+1;return B>0?B:0},[a,l]),U=_.useMemo(()=>{const X=[],[Y,J]=a.split("-").map(Number),[ee,le]=l.split("-").map(Number),oe=new Date(Y,J-1),B=new Date(ee,le-1);if(Number.isNaN(oe.getTime())||Number.isNaN(B.getTime()))return X;for(;oe<=B&&X.length<12;)X.push(`${oe.getFullYear()}-${String(oe.getMonth()+1).padStart(2,"0")}`),oe.setMonth(oe.getMonth()+1);return X},[a,l]),K=X=>{h(X)},q=X=>{b(X)},F=()=>{if(!d||!p)return;const[X,Y,J]=d.split("-").map(Number),[ee,le,oe]=p.split("-").map(Number),B=new Date(X,Y-1,J,4,0,0),V=new Date(ee,le-1,oe,4,0,0);if(V<B){b(Sb(B));return}if(Math.floor((V.getTime()-B.getTime())/dk)>7){const se=new Date(B);se.setDate(B.getDate()+6),b(Sb(se))}},z=()=>{if(!d||!p)return;const[X,Y,J]=d.split("-").map(Number),[ee,le,oe]=p.split("-").map(Number),B=new Date(X,Y-1,J,4,0,0),V=new Date(ee,le-1,oe,4,0,0);if(B>V){h(Sb(V));return}if(Math.floor((V.getTime()-B.getTime())/dk)>7){const se=new Date(V);se.setDate(V.getDate()-6),h(Sb(se))}},W=_.useMemo(()=>{const[X,Y,J]=(d||"").split("-").map(Number),[ee,le,oe]=(p||"").split("-").map(Number);if(!Number.isFinite(X)||!Number.isFinite(Y)||!Number.isFinite(J)||!Number.isFinite(ee)||!Number.isFinite(le)||!Number.isFinite(oe))return 0;const B=new Date(X,Y-1,J,4,0,0),V=new Date(ee,le-1,oe,4,0,0),ne=Math.floor((V.getTime()-B.getTime())/dk)+1;return ne>0?ne:0},[d,p]),Z=_.useMemo(()=>{const X=[],[Y,J,ee]=d.split("-").map(Number),[le,oe,B]=p.split("-").map(Number),V=new Date(Y,J-1,ee,4,0,0),ne=new Date(le,oe-1,B,4,0,0);if(Number.isNaN(V.getTime())||Number.isNaN(ne.getTime()))return X;const se=new Date(V);for(;se<=ne&&X.length<31;){const fe=se.getFullYear(),be=String(se.getMonth()+1).padStart(2,"0"),ye=String(se.getDate()).padStart(2,"0");X.push(`${fe}-${be}-${ye}`),se.setDate(se.getDate()+1)}return X},[d,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:p,onSeStartChange:y,onSeEndChange:k,onSeStartBlur:w,onSeEndBlur:S,onWolStartChange:j,onWolEndChange:C,onWolStartBlur:D,onWolEndBlur:P,onIlStartChange:K,onIlEndChange:q,onIlStartBlur:F,onIlEndBlur:z,seYearsCount:A,wolMonthsCount:I,ilDaysCount:W,seYearsList:O,wolMonthsList:U,ilDaysList:Z}}function pAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=xv(oe=>oe.sections),i=xv(oe=>oe.toggleSection),[a,o]=_.useState("analysis"),[l,u]=_.useState(!1),[d,h]=_.useState(!1),[p,b]=_.useState(""),[y,k]=_.useState("personality"),[w,S]=_.useState("overview"),[A,O]=_.useState("solo"),[j,C]=_.useState(""),[D,P]=_.useState(!1),[I,U]=_.useState(""),[K,q]=_.useState([]),[F,z]=_.useState(""),[W,Z]=_.useState([]),X=mAe();_.useEffect(()=>{y!=="love"&&y!=="compat"&&(O("solo"),b(""))},[y]),_.useEffect(()=>{!t&&D&&P(!1)},[t,D]),_.useEffect(()=>{!n&&j!==""&&C("")},[n,j]),_.useEffect(()=>{I!==""&&q([])},[I]),_.useEffect(()=>{z(""),Z([])},[e]);function Y(){const oe=F.trim();oe&&(Z(B=>[...B,oe]),z(""))}function J(oe){Z(B=>B.filter((V,ne)=>ne!==oe))}function ee(){Z([])}function le(oe){q(B=>B.includes(oe)?B.filter(V=>V!==oe):[...B,oe])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:d,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:y,setMainCategory:k,subCategory:w,setSubCategory:S,relationMode:A,setRelationMode:O,activeTab:j,setActiveTab:C,isMultiMode:D,setIsMultiMode:P,multiTab:I,setMultiTab:U,selectedDaeIdx:K,setSelectedDaeIdx:q,handleToggleDae:le,rangeControls:X,questionDraft:F,setQuestionDraft:z,extraQuestions:W,setExtraQuestions:Z,handleAddQuestion:Y,handleRemoveQuestion:J,handleClearQuestions:ee}}const $F=Uo(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function Rj(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Wi(t,n,r);t=j.getFullYear(),n=j.getMonth()+1,r=j.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=wp(l,u,i),h=e.mingSikType??"/",p=lt(d,u),b=St(d,u),y=mt(d,h),k=i?null:Ja(d,h),w=Ie(p),S=Ie(b),A=Ie(y),O=k?Ie(k):"";return[w,S,A,O]}function BF(e){const t=new Date(e.corrected),n=Rj(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=kp(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let p=Ie(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const y=new Date(d);if(y.setFullYear(y.getFullYear()+b*10),b>0){const k=u.events[b];k&&(p=Ie(k.gz))}h.push(`${y.getFullYear()} ${String(y.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const gAe=["- AI     ,      . (, ,   )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],bAe=["- :     . ///  .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""];function yAe(e,t){e.push("### ()");const n=t?bAe:gAe;e.push(...n)}function vAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function xAe(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function wAe(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function _Ae(e,t){xAe(e,t)||wAe(e,t)}function SAe(e){return e==="multi"?"multi":"single"}function zF(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=SAe(r),u=[],d=o===!0;return yAe(u,d),t==="etc"||(vAe(u,{mode:l,tab:i,isStudyTone:d}),_Ae(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:d})),u.join(`
`)}const kAe=!1,_5=e=>e<10?`0${e}`:`${e}`;function EAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Wi(i,a,o,0,0),u=`${l.getFullYear()}${_5(l.getMonth()+1)}${_5(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Sm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},km={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Su={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},kb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},TAe=["","","","",""];function S5(e){return TAe.includes(e)}const UF={:"",:"",:"",:"",:""},FF={:"",:"",:"",:"",:""},HF={:"",:"",:"",:"",:""},GF={:"",:"",:"",:"",:""};function jE(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Sm[t])return Sm[t];if(["","","","","","","","","","","",""].includes(t))return kb[t]??null;if(km[t])return kb[km[t]]??null;const n=t.charAt(0);return Sm[n]?Sm[n]:["","","","","","","","","",""].includes(n)?n:km[n]?kb[km[n]]??null:["","","","","","","","","","","",""].includes(n)?kb[n]??null:null}function AAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=jE(n);i&&(t[i]=(t[i]??0)+r)}return t}function jAe(e){if(!e)return[];const t=jE(e.charAt(0)),n=jE(e.charAt(1));return[t,n].filter(Boolean)}function Eb(e){const t=jAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function NAe(e,t){const n=Su[e],r=Su[t];if(!n||!r)return"";let i;r===n?i="":r===UF[n]?i="":r===FF[n]?i="":r===HF[n]?i="":r===GF[n]?i="":i="";const a=S5(e)===S5(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function YF(e,t){return t===e?"":t===UF[e]?"":t===FF[e]?"":t===HF[e]?"":t===GF[e]?"":""}function qF(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const OAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},CAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Sm[t]??t,i=km[n]??n;return`${r}${i}`},Lj=e=>{const t=CAe(e),n=OAe[t];return n?{...n,code:t}:null};function KF(e,t){const n=EAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function MAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Su[n];i&&(t[i]+=r)}return t}function DAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=NAe(t,r);n[a]+=i}return n}function PAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const RAe={natal:50,dae:30,se:20,wol:7,il:3};function LAe(e){const t={};for(const{kind:r,bare:i}of e){const a=RAe[r]??0;if(a<=0)continue;const o=qF(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function WF(e,t,n){const r=AAe(e.perStemElementScaled),i=t!==""&&n?.dae?Eb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?Eb(n.se):{},o=(t===""||t==="")&&n?.wol?Eb(n.wol):{},l=t===""&&n?.il?Eb(n.il):{},u=LAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=qF(u),h=MAe(d),p=DAe(d,e.dayStem),b=PAe(p);return{perStemAugBare:d,elementPercent:h,totalsSub:p,totalsMain:b}}function VF(e){return!e.birthTime||e.birthTime===""}function ZF(e,t){return t[3]?["","","",""]:["","",""]}function IAe(e,t){return e.map((n,r)=>t[r]??"")}const $Ae=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function wv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>wv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if($Ae(e)){const t={};for(const[n,r]of Object.entries(e)){const i=wv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function BAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function zAe(e,t){const n=wv(e);if(n===void 0)return"";const r=BAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function XF(e,t,n){const r=zAe(t,n);return r.trim()?`## ${e}
${r}`:""}const Hn=(e,t)=>XF(e,t,"plain"),Rr=(e,t)=>XF(e,t,"fenced"),UAe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[d]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},FAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function NE(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${YF(t,n)})`,r]))}function HAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function GAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Ie(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Ie(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Ie(t.wol)}`),e===""&&t.il&&n.push(`:${Ie(t.il)}`),n.length>0?n.join(" / "):"()"}const k5={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},YAe=["year","month","day","hour"],qAe=new Set(["","","","",""]),Tb=new Set(["","","","",""]),E5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},KAe={:5,:7,:5,:-5,:-7,:-5},hk=e=>Math.round(e*10)/10;function JF(e){const{natal:t,perStemElementScaled:n}=e;if(!n||!t||t.length<3)return null;let r=0,i=0;Object.entries(n).forEach(([I,U])=>{const K=Number(U)||0;Tb.has(I.charAt(0))?r+=K:i+=K});const a=r+i>0?(r-i)/(r+i):0;let o=0,l=0,u=0,d=0;t.forEach(I=>{if(!I||I.length<2)return;const U=I[0],K=E5[I[1]];[U,K].forEach(q=>{q&&(qAe.has(q)?o+=1:l+=1,Tb.has(q)?u+=1:d+=1)})});const h=o+l>0?(o-l)/(o+l):0,p=u+d>0?(u-d)/(u+d):0;let b=0,y=0;t.forEach((I,U)=>{if(!I||I.length<2)return;const K=YAe[U],q=k5[K].stem,F=k5[K].branch;Tb.has(I[0])?b+=q:y+=q;const z=E5[I[1]];z&&Tb.has(z)?b+=F:y+=F});const k=b+y>0?(b-y)/(b+y):0,w=t[1]?.charAt(1),S=(KAe[w??""]||0)/100,A=h*.3+p*.3+a*.2+k*.2+S;if(!Number.isFinite(A))return null;const O=(Math.min(1,Math.max(-1,A))+1)*50,j=100-Math.abs(O-50)*2,C=hk(O),D=hk(100-O),P=C>=55?"":C<=45?"":"";return{yang:C,yin:D,harmony:hk(j),category:P}}function QF(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:d,subTopic:h,relationMode:p,teacherMode:b,sections:y}=e,k=y?.tenGod??!0,w=y?.twelveUnseong??!0,S=y?.twelveShinsal??!0,A=y?.shinsal??!0,O=y?.nabeum??!0,j=VF(t),C=Ie(n[3]??""),D=!!C,P=[Ie(n[0]??""),Ie(n[1]??""),Ie(n[2]??""),C],I=BF(t).slice(0,10),U=Ll({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),K=tf({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:q,shinsalGaehwa:F,shinsalBase:z}=$F.getState(),W=z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",Z=WF(o,a,r),X=Z.elementPercent,Y=Z.totalsSub,{flags:J}=O7(P,o.natalFixed.elementScoreRaw),ee=`${u} (${l.toFixed(1)}%)  ${[` ${J..||J..||J..||J..?"":""}`,` ${J..||J..||J..||J..?"":""}`,` ${J..||J..?"":""}`].join(", ")}`,le=ZF(t,P),oe=o.dayStem,B=Su[oe]??Su[o.dayStem]??"",V=[` : ${t.name??""} (${KF(t,j)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(D?` ${P[3]}`:""),`: ${GAe(a,r)}`].join(`
`),ne=[];ne.push(Rr("  (10)",I)),ne.push(Rr("",ee));const se=JF({natal:P,perStemElementScaled:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare});se&&ne.push(Rr("()",se)),ne.push(Rr("(  )",NE(o.natalFixed.elementPercent100,B))),a!==""&&ne.push(Rr(`(=${a})`,NE(X,B))),k&&(ne.push(Rr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ne.push(Rr(` ( 10=${a} 100)`,Y)));const fe=HAe({tab:a,natal:P,posLabels:le,chain:r});if(w){const ke=fe.map(({pos:_e,gz:ae})=>({pos:_e,gz:ae,unseong:Fo(P[2]?.charAt(0)??"",ae.charAt(1))}));ne.push(Rr("(+ )",ke))}if(S){const ke=fe.map(({pos:_e,gz:ae})=>({pos:_e,gz:ae,shinsal:Ho({baseBranch:W,targetBranch:ae.charAt(1),era:q,gaehwa:F})}));ne.push(Rr("(+  )",ke))}if(O){const ke=[];for(const _e of fe){const ae=Lj(_e.gz);if(!ae){_e.kind==="natal"&&ke.push({pos:_e.pos,gz:_e.gz,nabeum:null});continue}ke.push({pos:_e.pos,gz:_e.gz,nabeum:ae.name,element:ae.element,code:ae.code})}ne.push(Rr("(+ )",ke))}if(ne.push(Rr("()",Wv(le.map((ke,_e)=>P[_e]??"")))),ne.push(Rr("( :  )",U)),A)if(a===""){const ke=tf({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ne.push(Rr("( )",{good:ke.good,bad:ke.bad,meta:ke.meta}))}else ne.push(Rr(`( =${a})`,K));const be=ne.filter(ke=>ke&&ke.trim().length>0).join(`

`),ye=zF({topic:d,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),Te=["-----","  ","","1.       (////)  .","2.  ,        ."];ye&&Te.push("","  ( )",ye);const re=Te.join(`
`);return{header:V,body:be,guide:re}}function WAe(e){const{header:t,body:n,guide:r}=QF(e);return[t,n,r].join(`

`)}function Do(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:y="scope",includeBasicInfo:k=!0}=e,w=WF(u,t,i),S=Ll({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),A=p.shinsal?tf({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,O=p.nabeum?Lj(r):null,j=p.twelveUnseong?Fo(h,r.charAt(1)):null,C=p.twelveShinsal?Ho({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,D=y==="full"?S:FAe(S,t);return{...k?{:n,:r}:{},:NE(w.elementPercent,d),...p.tenGod?{:w.totalsSub}:{},:D,...p.shinsal?{:UAe(A,t)}:{},...p.nabeum?{:O?{gz:r,nabeum:O.name,element:O.element,code:O.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:j}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function VAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},y=Do({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(Hn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,y))}return h.filter(p=>p.trim().length>0)}function Ij(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function eH(e,t){const n=e[t],r=e[t+1];return r?Ij(r):new Date(n.endYear+1,0,1)}function tH(e,t,n,r){return e<r&&t>n}function nH(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=Ij(l),d=eH(e,o);tH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function rH(e,t){return nH(e,t,t)}function _v(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=Ij(l),d=eH(e,o);tH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function OE(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=An(e,315),a=[],o=u=>{const d=lt(new Date(u,5,15,12,0,0,0)),h=Ie(d||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function ZAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((w,S)=>w-S),p=[],b=h[0],y=h[h.length-1],k=nH(n,b,y);if(k.length>0){const w=b,S=lt(new Date(w,5,15,12,0,0)),A=Ie(S||""),O={:k.map(j=>{const C={dae:j.gz,se:A||null,wol:null,il:null};return Do({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:A||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(Hn("",O))}for(const w of h){const S=new Date(w,5,15,12,0,0),A=lt(S),O=rH(n,w),j=O.length>0?O[0]:null,C=Ie(A||""),D=w,P={dae:j?j.gz:null,se:C||null,wol:null,il:null},I=Do({scope:"",infoText:`${D} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:j?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn(` ${D}`,{:I}))}return p.filter(w=>w.trim().length>0)}function mk(e){return String(e).padStart(2,"0")}function XAe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=An(e,315),a=OE(e,t);if(!(n<i&&i<r)){const k=a[a.length-1]??(()=>{const w=Ie(lt(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:w}})();return[{label:`${e}-${mk(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:k}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(k=>k.useYear===e-1)??a[0],p=a.find(k=>k.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Ie(lt(new Date(e-1,5,15,12,0,0,0))||"")},y=p??{useYear:e,gz:Ie(lt(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${mk(t)}()`,repDate:u,se:b},{label:`${e}-${mk(t)}()`,repDate:d,se:y}]}function JAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const O of t){const[j,C]=O.split("-").map(Number),D=_v(n,j,C);for(const I of D)p.some(U=>U.gz===I.gz&&U.startYear===I.startYear)||p.push(I);const P=OE(j,C);for(const I of P){const U=`${I.useYear}:${I.gz}`;b.has(U)||b.set(U,{year:I.useYear,month:C,gz:I.gz})}}const[y,k]=t[0].split("-").map(Number),w=OE(y,k),S=w[w.length-1]?.gz??Ie(lt(new Date(y,5,15,12,0,0,0))||"");if(p.length>0){const O={:p.map(j=>{const C={dae:j.gz,se:S||null,wol:null,il:null};return Do({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:S||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Hn("",O))}const A=Array.from(b.keys()).sort((O,j)=>{const C=Number(O.split(":")[0]),D=Number(j.split(":")[0]);return C-D});if(A.length>0){const O={:A.map(j=>{const C=b.get(j),D=C.year,P=C.gz,U=rH(n,D)[0]??p[0]??null,K={dae:U?U.gz:null,se:P,wol:null,il:null};return Do({scope:"",infoText:`${D} ${P}`,gz:P,chain:K,natal:r,relationArgs:{daewoon:U?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Hn("",O))}for(const O of t){const[j,C]=O.split("-").map(Number),D=_v(n,j,C),P=D.length>0?D[0]:null,U=XAe(j,C).map(K=>{const q=St(K.repDate),F=Ie(q||""),z={dae:P?P.gz:null,se:K.se.gz||null,wol:F,il:null};return Do({scope:"",infoText:`${K.label} ${F}  ${K.se.useYear} ${K.se.gz}`,gz:F,chain:z,natal:r,relationArgs:{daewoon:P?.gz,sewoon:K.se.gz||void 0,wolwoon:F,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(Hn(` ${O}`,{:U}))}return h.filter(O=>O.trim().length>0)}function pk(e){const t=e.getFullYear(),n=An(t,315),r=e<n?t-1:t,i=lt(new Date(r,5,15,12,0,0,0)),a=Ie(i||"");return{useYear:r,gz:a}}function QAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,y,k]=t[0].split("-").map(Number),w=new Date(b,y-1,k,4,0),S=new Date(b,y-1,k,12,0);if(!Number.isNaN(w.getTime())){const A=_v(n,b,y),O=A.length>0?A[0]:null,j=[];for(const q of t){const[F,z,W]=q.split("-").map(Number),Z=new Date(F,z-1,W,12,0),X=new Date(F,z-1,W,4,0);if(Number.isNaN(Z.getTime())||Number.isNaN(X.getTime()))continue;const Y=pk(Z),J=Ie(St(Z)||""),ee=Ie(mt(X,h)||""),le=`${Y.useYear}|${Y.gz}|${J}`;j.some(oe=>oe.key===le)||j.push({key:le,repDateStr:q,seYear:Y.useYear,seGZ:Y.gz,wolGZ:J,ilGZ:ee})}const C=Ie(mt(w,h)||""),D=Ie(St(S)||""),P=pk(S),I=j.length>0?j:[{key:`${P.useYear}|${P.gz}|${D}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:D,ilGZ:C}];if(O){const q=I[I.length-1],F={dae:O.gz,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ},z=Do({scope:"",infoText:`${O.age} ${O.gz} (${O.startYear}~${O.endYear})`,gz:O.gz,chain:F,natal:r,relationArgs:{daewoon:O.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn("",z))}const U=I.filter(q=>q.seGZ.trim().length>0).map(q=>{const F={dae:O?O.gz:null,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ};return Do({scope:"",infoText:`${q.seYear} ${q.seGZ} (${q.repDateStr} )`,gz:q.seGZ,chain:F,natal:r,relationArgs:{daewoon:O?.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});U.length>0&&p.push(Hn("",{:U}));const K=I.filter(q=>q.wolGZ.trim().length>0).map(q=>{const F={dae:O?O.gz:null,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ};return Do({scope:"",infoText:`${q.repDateStr} ${q.wolGZ}`,gz:q.wolGZ,chain:F,natal:r,relationArgs:{daewoon:O?.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});K.length>0&&p.push(Hn("",{:K}))}for(const A of t){const[O,j,C]=A.split("-").map(Number),D=new Date(O,j-1,C,4,0),P=new Date(O,j-1,C,12,0);if(Number.isNaN(D.getTime())||Number.isNaN(P.getTime()))continue;const I=_v(n,O,j),U=I.length>0?I[0]:null,q=pk(P).gz,F=St(P),z=Ie(F||""),W=mt(D,h),Z=Ie(W||""),X={dae:U?U.gz:null,se:q||null,wol:z,il:Z},Y=Do({scope:"",infoText:`${A} ${Z}`,gz:Z,chain:X,natal:r,relationArgs:{daewoon:U?.gz,sewoon:q||void 0,wolwoon:z||void 0,ilwoon:Z||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn(` ${A}`,{:Y}))}return p.filter(A=>A.trim().length>0)}function iH(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:p,ilDays:b,topic:y,subTopic:k,timeMode:w,teacherMode:S,sections:A}=e,O=VF(t),j=Ie(n[3]??""),C=!!j,D=t.mingSikType??"/",P=[Ie(n[0]??""),Ie(n[1]??""),Ie(n[2]??""),j],I=ZF(t,P),U=P[2]?.charAt(0)??"",K=Su[U]??Su[a.dayStem]??"",q=!!i&&(A?.tenGod??!0),F=A?.twelveUnseong??!0,z=A?.twelveShinsal??!0,W=A?.shinsal??!0,Z=A?.nabeum??!0,{shinsalBase:X,shinsalEra:Y,shinsalGaehwa:J}=$F.getState(),ee=X===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",le=KF(t,O),oe=[` : ${t.name??""} (${le}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(C?` ${P[3]}`:"")].join(`
`),B=[],{flags:V}=O7(P,a.natalFixed.elementScoreRaw),ne=`${l} (${o.toFixed(1)}%)  ${[` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`].join("  ")}`;B.push(Hn("",ne));const se=JF({natal:P,perStemElementScaled:a.natalFixed.overlay.perStemAugFull??a.natalFixed.overlay.perStemAugBare});if(se&&B.push(Hn("()",se)),B.push(Hn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([Te,re])=>[`${Te}(${YF(K,Te)})`,re])))),q&&B.push(Hn(" ( 10 100)",a.natalFixed.totalsSub)),F){const Te=Object.fromEntries(I.map((re,ke)=>[re,Fo(U,(P[ke]??"").charAt(1))]));B.push(Hn("()",Te))}if(z){const Te=Object.fromEntries(I.map((re,ke)=>[re,Ho({baseBranch:ee,targetBranch:(P[ke]??"").charAt(1),era:Y,gaehwa:J})]));B.push(Hn("()",Te))}B.push(Hn("//",V));const fe=Wv(IAe(I,P));if(B.push(Hn("()",fe)),W){const Te=tf({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(Hn("()",Te))}if(Z){const Te=Object.fromEntries(I.map((re,ke)=>{const _e=P[ke]??"",ae=Lj(_e);return[re,ae?{gz:_e,nabeum:ae.name,element:ae.element,code:ae.code}:null]}));B.push(Hn("()",Te))}d.length>0&&u.length>0&&B.push(...VAe({selectedDaeList:u,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:F,twelveShinsal:z,shinsal:W,nabeum:Z},shinsalSettings:{baseBranch:ee,era:Y,gaehwa:J}})),h.length>0&&B.push(...ZAe({seYears:h,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:F,twelveShinsal:z,shinsal:W,nabeum:Z},shinsalSettings:{baseBranch:ee,era:Y,gaehwa:J}})),p.length>0&&B.push(...JAe({wolMonths:p,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:F,twelveShinsal:z,shinsal:W,nabeum:Z},shinsalSettings:{baseBranch:ee,era:Y,gaehwa:J}})),b.length>0&&B.push(...QAe({ilDays:b,daeList:d,natal:P,basis:r,unified:a,dayEl:K,baseDayStem:U,show:{tenGod:q,twelveUnseong:F,twelveShinsal:z,shinsal:W,nabeum:Z},shinsalSettings:{baseBranch:ee,era:Y,gaehwa:J},dayBoundaryRule:D}));const be=zF({topic:y,subTopic:k,timeMode:w,teacherMode:S}),ye=(wv(B.join(`

`))??"").toString();return{header:oe,body:ye,guide:be}}function eje(e){const{header:t,body:n,guide:r}=iH(e);return[t,"",n,"",r].join(`
`)}function $j(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function tje(e){const{header:t,body:n}=QF(e),r=e.relationMode==="couple"?$j(e.partnerMs??null):null,i=r?Rr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function nje(e){const{header:t,body:n}=iH(e),r=e.relationMode==="couple"?$j(e.partnerMs??null):null,i=r?Rr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function rje(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function ije(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function aje(e){return e?`    .
`:""}function oje(e,t){if(e!=="couple")return"";const n=$j(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Wd(e){return Ie(e)}function sje(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function T5(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Ie(n??"");return i||(r<=2?"--":"")})}function lje(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Wd(lt(t)||""),i=Wd(St(t)||""),a=Wd(mt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function cje(e,t){const n=T5(e),r=T5(t);return{solarKo:n,lunarKo:r}}function CE(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function uje(e,t,n){return e?"solar":t?"lunar":"solar"}function dje(e,t,n,r,i,a,o,l){return CE(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function fje(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Wd(lt(a)||""),l=Wd(St(a)||""),u=Wd(mt(a,t)||"");return[o,l,u,""]}function hje(e,t){return t&&e?e.stem+e.branch:""}function mje(e,t,n){const i=[...Rj(e)];return n&&t&&t.length===2&&(i[3]=t),i}function pje(e){const t=P7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=JT(t);return{percent:n,category:h7(n)}}function gje(e){const t=BF(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,d=a?a[3]:"",h=n>0?vje(n,o):i*10;return{gz:d,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function bje(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function yje(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function A5(e){return sje(e)}function vje(e,t){return t-e+1}function xje({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:d,friendMode:h,teacherMode:p,partnerId:b,mainCategory:y,subCategory:k,relationMode:w,activeTab:S,isMultiMode:A,multiTab:O,selectedDaeIdx:j,rangeControls:C,extraQuestions:D,sections:P}=u,I=yn(It=>It.list),{date:U,setDate:K}=Jr();_.useEffect(()=>{K(new Date)},[e.id,K]);const q=_.useMemo(()=>b?I.find(It=>It.id===b)??null:null,[b,I]),F=e.mingSikType??"/",z=_.useMemo(()=>U??new Date,[U]),W=_.useMemo(()=>lje(r,z,F),[r,z,F]),Z=_.useMemo(()=>l?W:{dae:null,se:null,wol:null,il:null},[l,W]),X=bp(It=>It.manualHour),Y=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:J,lunarKo:ee}=_.useMemo(()=>cje(t,n),[t,n]),le=_.useMemo(()=>CE(J,X,Y),[J,X,Y]),oe=_.useMemo(()=>CE(ee,X,Y),[ee,X,Y]),B=_.useMemo(()=>fje(e,F),[e,F]),V=A5(le),ne=A5(oe),se=uje(V,ne),fe=_.useMemo(()=>dje(se,V,ne,le,oe,B,X,Y),[se,V,ne,le,oe,B,X,Y]),be=_.useMemo(()=>Y&&X?X.stem+X.branch:fe[3]||"",[X,fe,Y]),ye=hje(X,Y),Te=_.useMemo(()=>mje(e,ye,Y),[e,ye,Y]),re=l?S:"",ke=y==="love"||y==="compat",ae=ke&&w==="couple"?q??null:null,Ue=ke?w:void 0,Fe=_.useMemo(()=>Qv({natal:Te,tab:re,chain:Z,hourKey:be}),[Te,re,Z,be]),{percent:Ce,category:Pe}=_.useMemo(()=>pje(Te),[Te]),Ge=_.useMemo(()=>gje(e),[e]),Ne=_.useMemo(()=>bje(I??[],e.id),[I,e.id]),De=_.useMemo(()=>j.map(It=>Ge[It]).filter(It=>!!It),[j,Ge]),Be=_.useMemo(()=>O===""?C.seYearsList:[],[O,C.seYearsList]),st=_.useMemo(()=>O===""?C.wolMonthsList:[],[O,C.wolMonthsList]),ce=_.useMemo(()=>O===""?C.ilDaysList:[],[O,C.ilDaysList]),Oe=_.useMemo(()=>e?WAe({ms:e,natal:Te,chain:Z,basis:i,tab:re,unified:Fe,percent:Ce,category:Pe,topic:y,subTopic:k,relationMode:w,teacherMode:p,sections:P}):"",[e,i,a,re,Z,Fe,Ce,Pe,Te,y,k,w,ae,p,P]),ze=_.useMemo(()=>!e||!A||!o?"":eje({ms:e,natal:Te,basis:i,includeTenGod:a,unified:Fe,percent:Ce,category:Pe,selectedDaeList:De,daeList:Ge,seYears:Be,wolMonths:st,ilDays:ce,topic:y,subTopic:k,timeMode:"multi",teacherMode:p,sections:P}),[e,A,o,Be,De,Ge,st,ce,Te,i,a,Fe,Ce,Pe,y,k,Ue,ae,p,h,P]),it=_.useMemo(()=>oje(w,q),[w,q]),Et=A?ze:Oe,pt=_.useMemo(()=>ije(d),[d]),Jt=_.useMemo(()=>aje(h),[h]),zr=_.useMemo(()=>Et||it?`${Et}${it}
${pt}${Jt}`:"",[pt,Jt,Et,it]),Ur=_.useMemo(()=>yje(zr,D),[zr,D]),Zi=_.useMemo(()=>e?A?nje({ms:e,natal:Te,basis:i,includeTenGod:a,unified:Fe,percent:Ce,category:Pe,selectedDaeList:De,daeList:Ge,seYears:Be,wolMonths:st,ilDays:ce,topic:y,subTopic:k,timeMode:"multi",relationMode:Ue,partnerMs:ae,teacherMode:p,sections:P}):tje({ms:e,natal:Te,chain:Z,basis:i,tab:re,unified:Fe,percent:Ce,category:Pe,topic:y,subTopic:k,relationMode:w,partnerMs:ae,teacherMode:p,sections:P}):"",[e,A,Te,i,a,Fe,Ce,Pe,De,Ge,Be,st,ce,y,k,w,Ue,ae,p,h,P,Z,re]),io=_.useMemo(()=>{const It=Zi.trim();if(It)return It;const an=rje(Et).trim();return an||Et.trim()},[Zi,Et]);return{date:U,setDate:K,partnerMs:q,partnerOptions:Ne,daeList:Ge,tabForLogic:re,baseText:Et,basePrompt:zr,finalText:Ur,infoOnlyText:io,allowManualHour:Y,activePillars:fe}}function j5(e,t=1200){const[n,r]=_.useState(!1),i=!!(e&&e.trim().length>0),a=_.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function wje(e,t){const{copied:n,canCopy:r,onCopy:i}=j5(e),{copied:a,canCopy:o,onCopy:l}=j5(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function _je({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=yn(q=>q._rtUserId),u=fAe()??o??null,d=dn(q=>q.loaded),h=dn(q=>q.userId),p=dn(q=>q.plan),b=_.useMemo(()=>xm(!u||!d||h!==u?"FREE":p??null),[u,d,h,p]),y=_.useMemo(()=>a2(b),[b]),k=y.canUseMultiMode,w=y.canUseLuckTabs,S=y.canUseAllPrompts?"full":"locked",A=pAe({msId:e.id,canUseMultiMode:k,canUseLuckTabs:w}),O=xje({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:k,canUseLuckTabs:w,input:A}),{copiedAll:j,copiedInfo:C,canCopyAll:D,canCopyInfo:P,onCopyAll:I,onCopyInfoOnly:U}=wje(O.finalText,O.infoOnlyText);function K(q,F){A.setMainCategory(q),A.setSubCategory(F?.[0]?.key??"overview")}return{sections:A.sections,toggleSection:A.toggleSection,tone:A.tone,setTone:A.setTone,friendMode:A.friendMode,setFriendMode:A.setFriendMode,teacherMode:A.teacherMode,setTeacherMode:A.setTeacherMode,date:O.date,setDate:O.setDate,planTier:b,promptAccess:S,canUseMultiMode:k,canUseLuckTabs:w,partnerId:A.partnerId,setPartnerId:A.setPartnerId,partnerMs:O.partnerMs,mainCategory:A.mainCategory,subCategory:A.subCategory,setSubCategory:A.setSubCategory,relationMode:A.relationMode,setRelationMode:A.setRelationMode,activeTab:A.activeTab,setActiveTab:A.setActiveTab,isMultiMode:A.isMultiMode,setIsMultiMode:A.setIsMultiMode,multiTab:A.multiTab,setMultiTab:A.setMultiTab,selectedDaeIdx:A.selectedDaeIdx,handleToggleDae:A.handleToggleDae,rangeControls:A.rangeControls,partnerOptions:O.partnerOptions,daeList:O.daeList,tabForLogic:O.tabForLogic,baseText:O.baseText,basePrompt:O.basePrompt,finalText:O.finalText,infoOnlyText:O.infoOnlyText,copiedAll:j,copiedInfo:C,canCopyAll:S==="full"&&D,canCopyInfo:S==="full"&&P,onCopyAll:I,onCopyInfoOnly:U,handleMainCategoryChange:K,setQuestionDraft:A.setQuestionDraft,questionDraft:A.questionDraft,extraQuestions:A.extraQuestions,setExtraQuestions:A.setExtraQuestions,handleAddQuestion:A.handleAddQuestion,handleRemoveQuestion:A.handleRemoveQuestion,handleClearQuestions:A.handleClearQuestions,allowManualHour:O.allowManualHour,activePillars:O.activePillars}}function Sje({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=_je({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=v5[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(QTe,{}),g.jsx(eAe,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(tAe,{tone:o.tone,toneMeta:cAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(nAe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:dAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,v5[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(rAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(iAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(oAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(aAe,{tabs:uAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(sAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:d}),g.jsx(lAe,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyInfoOnly,disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedInfo?"bg-green-600 text-white border-green-600":h?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:o.copiedInfo?"":`  ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!p,title:p?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",p?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`  ${p?"":" "}`})]})})]})}function kje(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o]=_.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function Eje(){const e=yn(r=>r.loading),t=vn(r=>r.loaded),n=dn(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const N5="app_session_started_at_ms",Tje=7200*1e3;function Aje(){if(typeof window>"u")return null;try{return window.sessionStorage}catch{return null}}function jje(){const e=Aje();if(!e)return Date.now();const t=e.getItem(N5),n=t?Number(t):NaN;if(!Number.isFinite(n)||n<=0){const r=Date.now();try{e.setItem(N5,String(r))}catch{}return r}return n}function Nje(e=Date.now()){const t=jje();return Math.max(0,e-t)}function Oje(e,t=Date.now()){return Nje(t)>=e}async function Cje(e,t){const{data:n,error:r}=await Re.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function Mje(e,t,n){const{error:r}=await Re.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const Dje=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Ud(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Ud).join(",")}]`:Dje(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Ud(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function Pje(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function Rje(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Ud(t.select(t.store.getState()));const o=Pje(async p=>{try{await Mje(e,t.dbKey,p),a=Ud(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Ud(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},d=async()=>{const p=await Cje(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Ud(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function Lje(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function gk(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Ije(e){_.useEffect(()=>{if(!e)return;const t=[];t.push(Rje(e,{dbKey:"promptCopy.sections",store:xv,select:o=>o.sections,apply:o=>xv.setState({sections:o}),validate:Lje,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Re.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(Oje(Tje)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!gk(l))return;const u=l.new,d=l.old,h=w=>gk(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>gk(w)?w.value:null,b=h(u)??h(d);if(!b)return;const y=t.find(w=>w.dbKey===b);if(!y)return;const k=typeof l.eventType=="string"?l.eventType:"";if(k==="INSERT"||k==="UPDATE"){y.applyRemote(p(u));return}y.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Re.removeChannel(a)}},[e])}function $je({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){_.useEffect(()=>{const r=Re;let i=!1,a=null;const o=h=>{const p=h?.user?.id??null;t(!!h),e(p)},l=h=>{o(h),h&&h6(Date.now()),i||(i=!0,n(!0))};(async()=>{const{data:h,error:p}=await r.auth.getSession();if(p){l(null);return}if(h.session){l(h.session);return}a=window.setTimeout(()=>l(null),1200)})();const{data:{subscription:d}}=r.auth.onAuthStateChange((h,p)=>{a!==null&&(window.clearTimeout(a),a=null),l(p),p||yn.getState().stopRealtime()});return()=>{a!==null&&window.clearTimeout(a),d.unsubscribe()}},[n,t,e])}function Bje(e){$je({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),Ije(e.userId)}function zje(e){const[t,n]=_.useState(()=>e.length>0?e[0].id:""),[r,i]=_.useState(!1),[a,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(!0),[p,b]=_.useState(!1),[y,k]=_.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:y,setOpenCustom:k}}function Uje(e){const t=Jr(i=>i.date),n=Jr(i=>i.rule),r=Tu(e);return _.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Zv(r,t),a=i>=0?r[i]?.gz??null:null,o=lt(t),l=St(t),u=mt(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const Fje=e=>typeof e=="string"&&e.length>=2,Hje=e=>Array.isArray(e)&&e.length===4&&e.every(Fje);function Gje({list:e,currentId:t,settings:n,emptyMs:r}){const i=_.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=_.useMemo(()=>Rj(o),[o]),u=Uje(o),d=dn(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:Hje,canAdd:d,voidBasis:h,samjaeBasis:p}}function Yje({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:p,saveToServer:b,loaded:y}=vn();_.useEffect(()=>{!r||!y||b()},[r,y,p,b]);const k=_.useCallback(()=>{if(!e){Dn.error("   1   .");return}i(!0)},[e,i]),w=_.useCallback(()=>{if(!e){Dn.error("   1   .");return}a(!0)},[e,a]),S=_.useCallback(D=>{d(D.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),Jr.getState().setDate(P),t&&n?.id===D.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),A=_.useCallback(D=>{h(D),d(D.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),O=_.useCallback(()=>{const D=yn.getState().list[0]?.id??"";d(D),l(!0),u(!1)},[d,l,u]),j=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:k,openCustomModal:w,handleSidebarView:S,handleSidebarEdit:A,handleSidebarDeleteView:O,handleWizardSave:j,handleCustomSave:C}}function qje(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(qB,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"    "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const aH="https://t1.daumcdn.net/kas/static/ba.min.js",Kje="//t1.daumcdn.net/kas/static/ba.min.js";let mm=null,pm=null;function oH(){return typeof window<"u"&&typeof document<"u"}function O5(e){return typeof e=="object"&&e!==null}function sH(){if(!oH())return!1;const e=window;if(!O5(e))return!1;const t=e.adfit;return O5(t)?typeof t.destroy=="function":!1}function lH(){return Array.from(document.querySelectorAll(`script[src="${aH}"], script[src="${Kje}"]`))}function cH(e){return e.getAttribute("data-adfit-scan")==="1"}function Wje(){const t=lH().filter(n=>!cH(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function C5(){return document.body??document.head??document.documentElement}function bk(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{sH(),o()},t)})}function M5(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=aH,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function ME(e){return oH()?(e?.mode??"boot")==="boot"?mm||(mm=(async()=>{if(Wje(),sH())return{inserted:!1};const r=lH().filter(a=>!cH(a))[0];if(r)return await bk(r,2500),{inserted:!1};const i=M5(!1);return C5().appendChild(i),await bk(i,4e3),{inserted:!0}})().finally(()=>{mm=null}),mm):pm||(pm=(async()=>{const n=M5(!0);C5().appendChild(n);try{return await bk(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{pm=null}),pm):Promise.resolve({inserted:!1})}function uH({enabled:e}){return _.useEffect(()=>{e&&ME({mode:"boot"})},[e]),null}function D5(e){return typeof e=="object"&&e!==null}function Vje(e){const t=window;if(!D5(t))return;const n=t.adfit;if(!D5(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function cu({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=_.useRef(!1),d=_.useRef(!1),h=_.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return _.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await ME({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),_.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let p=!1;return(async()=>{try{if(await ME({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),_.useEffect(()=>()=>{Vje(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function dH({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=_.useState(!1),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e){d(!1),p(!1);return}p(!0);let b=0;const y=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const k=window.scrollY||0;d(k>=i)}))};return y(),window.addEventListener("scroll",y,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",y)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(cu,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function fH(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState(!1);_.useEffect(()=>{document.title=" - //";const y=window.setTimeout(()=>t(!0),50),k=window.setTimeout(()=>r(!0),250),w=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(y),window.clearTimeout(k),window.clearTimeout(w)}},[]);const h=()=>u?!0:(fa.error(`   
  .`),!1),p=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Re.auth.signInWithOAuth({provider:"google",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Google Login Error:",w),fa.error("   .");return}if(!k?.url){fa.error(" URL  .");return}window.location.assign(k.url)},b=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Re.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Kakao Login Error:",w),fa.error("   .");return}if(!k?.url){fa.error(" URL  .");return}window.location.assign(k.url)};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(g$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:y=>y.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function Zje(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function Xje(){const e=ws(i=>i.open),t=ws(i=>i.reason),n=ws(i=>i.close),r=_.useMemo(()=>Zje(t),[t]);return _.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),_.useEffect(()=>{const{data:i}=Re.auth.onAuthStateChange((a,o)=>{o?.user&&(dn.getState().loadFromServer(),vn.getState().loadFromServer(),yn.getState().loadFromServer(),ws.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(fH,{})})]})}):null}function Jje(){const e=ws(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(KB,{size:16}),""]})]})})}const Bj="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let gm=null;function zj(){return typeof window<"u"&&typeof document<"u"}function hH(){return zj()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function mH(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function P5(e){return hH().some(n=>{const r=n.getAttribute("src")??"";return r.includes(Bj)&&mH(r,e)})}function yk(e){const t=hH().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(Bj)&&mH(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function Qje(e){const t=document.createElement("script");return t.async=!0,t.src=`${Bj}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function eNe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function tNe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function R5(e){if(zj()){if(P5(e)){yk(e);return}if(gm)return gm;gm=(async()=>{if(P5(e)){yk(e);return}const t=Qje(e);document.head.appendChild(t),await eNe(t),yk(e)})();try{await gm}finally{gm=null}}}function nNe(e={}){if(!zj())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(tNe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function rNe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=_.useRef(!1),u=_.useRef(null);return _.useEffect(()=>{l.current=!1},[n,r,i,a]),_.useEffect(()=>{e&&R5(n).catch(()=>{})},[e,n]),_.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await R5(n),!d))return;nNe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function pH({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,p]=_.useState(!1),[b,y]=_.useState(!1);return _.useEffect(()=>{if(!e){p(!1),y(!1);return}y(!0);let k=0;const w=()=>{k||(k=window.requestAnimationFrame(()=>{k=0;const S=window.scrollY||0;p(S>=a)}))};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>{k&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",w)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(rNe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const gH="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function L5(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function iNe(){return document.querySelector(`script[src^="${gH}"]`)}async function I5(e){iNe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${gH}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function aNe(){const e=window.adsbygoogle;if(L5(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;L5(t)&&t.push({})}function oNe({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const p=_.useRef(null),b=_.useRef(!1),y=_.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[k,w]=_.useState(!l);return _.useEffect(()=>{b.current=!1},[t,n]),_.useEffect(()=>{e&&I5(t).catch(()=>{})},[e,t]),_.useEffect(()=>{if(!e||!l)return;const S=p.current;if(!S)return;const A=new IntersectionObserver(O=>{const j=O[0];j&&j.isIntersecting&&w(!0)},{root:null,threshold:.05});return A.observe(S),()=>A.disconnect()},[e,l]),_.useEffect(()=>{if(!e||!k||b.current)return;let S=!0;return(async()=>{try{if(await I5(t),!S||(await Promise.resolve(),!S))return;aNe(),b.current=!0}catch{}})(),()=>{S=!1}},[e,k,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},y)}):null}const sNe="DAN-GW4jrUdfiXklZ12U",lNe="DAN-CeRuC0yKzSAs5Gju",cNe="DAN-G16gewnPhZou1D9y",uNe="DAN-rdKe9ZODmrZR4hho",dNe="DAN-INfSKh1pW2cEtWNu",fNe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function Ab(){const e=Br(),t=Vl(),n=kje();Bje(n);const r=Eje(),i=p=>{if(typeof window>"u")return null;try{return window.sessionStorage.getItem(p)}catch{return null}},a=(p,b)=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(p,b)}catch{}},[o,l]=_.useState(!1),[u,d]=_.useState(()=>typeof window>"u"?!1:i("app_loading_shown_v1")==="1"),h=!n.authChecked||!r.entLoaded||!r.settingsLoaded;return _.useEffect(()=>{h||l(!0)},[h]),_.useEffect(()=>{n.authChecked&&(n.isLoggedIn||e.pathname==="/"||e.pathname==="/result"||t("/",{replace:!0}))},[n.authChecked,n.isLoggedIn,e.pathname,t]),_.useEffect(()=>{!u&&!o&&h&&(d(!0),a("app_loading_shown_v1","1"))},[u,o,h]),n.authChecked&&n.isLoggedIn&&n.adminMode?g.jsx(PF,{}):!o&&h&&!u?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500 animate-pulse",children:n.authChecked?"  ...":"  ..."})}):g.jsx(hNe,{isLoggedIn:n.isLoggedIn})}function hNe({isLoggedIn:e}){const t=Br(),n=Vl(),{list:r}=yn(),i=vn(I=>I.settings),a=zje(r),o=Gje({list:r,currentId:a.currentId,settings:i,emptyMs:fNe}),l=Yje({canAdd:o.canAdd,hasCurrent:o.hasCurrent,current:o.current,isLoggedIn:e,setWizardOpen:a.setWizardOpen,setOpenCustom:a.setOpenCustom,setShowSidebar:a.setShowSidebar,setShowToday:a.setShowToday,setShowCouple:a.setShowCouple,setCurrentId:a.setCurrentId,setEditing:a.setEditing}),[u,d]=_.useState(!1),[h,p]=_.useState(0);_.useEffect(()=>{a.editing&&d(!1)},[a.editing]),_.useEffect(()=>{const I=t.pathname;if(I==="/faq"){d(!0),a.setShowCouple(!1),a.setShowToday(!1);return}if(I==="/couple"){d(!1),a.setShowCouple(!0),a.setShowToday(!1);return}if(I==="/result"){d(!1),a.setShowCouple(!1),a.setShowToday(!1);return}d(!1),a.setShowCouple(!1),a.setShowToday(!0)},[a,t.pathname,a.setShowCouple,a.setShowToday]);const b=dn(I=>I.shouldShowAdsNow()),y=o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,k=a.showToday||!o.hasCurrent&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,w=!e&&o.hasCurrent&&y,S=!e&&!y,[A,O]=_.useState(!1),j=(...I)=>{d(!1),a.setShowToday(!1),a.setShowCouple(!1),n("/result",{replace:!1}),l.handleSidebarView(...I)},C=()=>{a.setOpenCustom(!1),p(I=>I+1)},D=I=>{d(!1),l.handleCustomSave(I)},P=I=>{d(!1),l.handleWizardSave(I),n("/result",{replace:!1})};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(uH,{enabled:b}),b&&y&&g.jsx(pH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(dH,{enabled:b,adUnit:dNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Rde,{isLoggedIn:e,onOpenSidebar:()=>a.setShowSidebar(!0),onAddNew:l.openAdd,onOpenCustom:l.openCustomModal}),g.jsx(Xje,{}),A&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(fH,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>O(!1),children:""})]}),g.jsx(JTe,{open:a.openCustom,onClose:C,onSave:D},h),g.jsx(g$,{position:"top-center"}),g.jsx(Sfe,{open:a.showSidebar,onClose:()=>a.setShowSidebar(!1),onView:j,onAddNew:l.openAdd,onEdit:l.handleSidebarEdit,onDeleteView:l.handleSidebarDeleteView,isLoggedIn:e}),S&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),u&&g.jsx(qje,{}),k&&g.jsx(tX,{}),a.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(Jre,{onSave:P,onClose:()=>a.setWizardOpen(!1)})})})]}),o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&g.jsxs("div",{className:"pt-16",children:[w&&g.jsx("div",{children:g.jsx(Jje,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(lse,{data:o.current,hourTable:o.current?.mingSikType??"/"})}),g.jsx(ATe,{ms:o.current}),g.jsx("div",{children:g.jsx(Pde,{data:o.current})}),b&&y&&i.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(oNe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),i.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(Sje,{ms:o.current,natal:o.isValidPillars(o.natal)?o.natal:[],chain:o.chain,basis:{voidBasis:o.voidBasis,samjaeBasis:o.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),b&&y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(cu,{enabled:!0,adUnit:uNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(cu,{enabled:!0,adUnit:cNe,width:320,height:50})})]})]}),a.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(kTe,{people:r})}),b&&!y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(cu,{enabled:!0,adUnit:lNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(cu,{enabled:!0,adUnit:sNe,width:320,height:50})})]}),a.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx($fe,{item:a.editing,onClose:()=>a.setEditing(null)})})}),g.jsx(Gde,{}),g.jsx(ETe,{})]})}function mNe(){const e=Br(),[t,n]=_.useState(null),[r,i]=_.useState(null);return _.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function pNe(){const e=Br(),t=Vl(),[n,r]=_.useState("  ...");return _.useEffect(()=>{(async()=>{try{console.log("[auth-callback] search =",e.search),console.log("[auth-callback] hash =",e.hash);const a=new URLSearchParams(e.search),o=e.hash.startsWith("#")?e.hash.slice(1):e.hash,l=o.indexOf("?"),u=new URLSearchParams(l>=0?o.slice(l+1):o),d=k=>a.get(k)??u.get(k),h=d("error"),p=d("error_description");if(h){r(` : ${decodeURIComponent(p??h)}`);return}const b=d("code");if(!b){const k=d("access_token"),w=d("refresh_token");if(!k||!w){r(" code . (redirectTo/PKCE  )");return}const{error:S}=await Re.auth.setSession({access_token:k,refresh_token:w});if(S){r(`  : ${S.message}`);return}t("/",{replace:!0});return}const{error:y}=await Re.auth.exchangeCodeForSession(b);if(y){r(`  : ${y.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function gNe({yinYang:e,changing:t,onClick:n,showChanging:r=!0}){return g.jsxs("button",{type:"button",onClick:n,className:["w-full select-none","rounded-xl px-3 py-2","border border-neutral-200 dark:border-neutral-800","bg-white hover:bg-neutral-50 dark:bg-neutral-900 dark:hover:bg-neutral-800","flex items-center gap-3",n?"cursor-pointer":"cursor-default"].join(" "),title:n?"  (6789)":void 0,children:[g.jsx("div",{className:"flex-1",children:e===1?g.jsx("div",{className:"h-3 rounded bg-neutral-900 dark:bg-neutral-100"}):g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"}),g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"})]})}),r&&g.jsx("div",{className:"w-8 text-right text-sm font-medium text-neutral-700 dark:text-neutral-300",children:t?"":""})]})}function bNe(e){return e===6||e===9}function Ux(e){return e===7||e===9?1:0}function bH(e){return e===6?1:e===9?0:Ux(e)}function yNe(e){return e===6?7:e===7?8:e===8?9:6}function yH(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0;return t>>>0}function vH(e){let t=e>>>0;return()=>{t+=1831565813;let n=t;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}function xH(){return new Date().toISOString()}function wH(){const e=Date.now().toString(36),t=Math.floor(Math.random()*1e9).toString(36);return`ich_${e}_${t}`}function _H(e){const t=[];for(let n=0;n<e.length;n+=1)bNe(e[n].value)&&t.push(n+1);return t}function DE(e){const t=()=>e()<.5?2:3,n=t(),r=t(),i=t(),a=n+r+i;return{value:a===6?6:a===7?7:a===8?8:9,source:"coin",coins:[n,r,i]}}function vNe(e){return e?[e.myeongSikId?`id=${e.myeongSikId}`:"",e.pillarsText?`pillars=${e.pillarsText}`:"",e.birthISO?`birth=${e.birthISO}`:"",e.tz?`tz=${e.tz}`:"",e.luck?.daeun?`daeun=${e.luck.daeun}`:"",e.luck?.seun?`seun=${e.luck.seun}`:"",e.luck?.wolun?`wolun=${e.luck.wolun}`:"",e.luck?.ilun?`ilun=${e.luck.ilun}`:""].filter(Boolean).join("|"):""}const Uj=["","","","","","","","","",""],Fj=["","","","","","","","","","","",""];function Fl(e,t){const n=e%t;return n<0?n+t:n}function Hj(e){const t=e-1984,n=Uj[Fl(t,10)],r=Fj[Fl(t,12)];return`${n}${r}`}function SH(e,t){if(t<1||t>12)throw new Error(`month must be 1..12, got ${t}`);const n=Fl(e-1984,10),r=n===0||n===5?2:n===1||n===6?4:n===2||n===7?6:n===3||n===8?8:0,i=t===1?1:t===12?0:t,a=Fl(i-2,12),o=Fl(r+a,10),l=Uj[o],u=Fj[i];return`${l}${u}`}function xNe(e){const t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=Date.UTC(1984,0,31),a=Date.UTC(t,n,r),o=Math.floor((a-i)/864e5),l=Fl(o,60),u=Uj[Fl(l,10)],d=Fj[Fl(l,12)];return`${u}${d}`}function Ga(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function ha(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return null;const n=Number(t[1]),r=Number(t[2])-1,i=Number(t[3]);if(![n,r,i].every(o=>Number.isFinite(o)))return null;const a=new Date(n,r,i,9,0,0,0);return a.getFullYear()!==n||a.getMonth()!==r||a.getDate()!==i?null:a}function kH(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function ku(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0,0,0)}function Gj(e,t){return e.getTime()<=t.getTime()?{start:e,end:t}:{start:t,end:e}}function $5(e,t){return e*100+t}function wNe(e,t){const n=[];let r=e.getFullYear(),i=e.getMonth()+1;const a=$5(t.getFullYear(),t.getMonth()+1);for(;$5(r,i)<=a;)n.push({y:r,m1:i}),i+=1,i===13&&(i=1,r+=1);return n}function _Ne(e,t=10){const n=ha(e.startYMD)??ku(),r=ha(e.endYMD)??ku(),{start:i,end:a}=Gj(n,r),o=i.getFullYear(),l=a.getFullYear(),u=[];for(let d=o;d<=l&&!(u.length>=t);d+=1){const h=new Date(d,5,15,9,0,0,0);u.push({year:d,refDateYMD:Ga(h),seun:Hj(d)})}return u}function SNe(e,t=12,n=!1){const r=ha(e.startYMD)??ku(),i=ha(e.endYMD)??ku(),{start:a,end:o}=Gj(r,i),l=wNe(a,o),u=[];for(const d of l){if(u.length>=t)break;if(n&&d.m1===1)continue;const h=new Date(d.y,d.m1-1,15,9,0,0,0),p=new Date(d.y,d.m1-1,15,12,0,0,0),b=lt(p)||Hj(d.y),y=St(p)||SH(d.y,d.m1);u.push({year:d.y,month:d.m1,refDateYMD:Ga(h),seun:b,wolun:y})}return u}function kNe(e,t=7){const n=ha(e.startYMD)??ku(),r=ha(e.endYMD)??ku(),{start:i,end:a}=Gj(n,r),o=[];let l=new Date(i);for(;l.getTime()<=a.getTime()&&!(o.length>=t);){const u=l.getFullYear(),d=l.getMonth()+1,h=new Date(u,d-1,l.getDate(),12,0,0,0),p=lt(h)||Hj(u),b=St(h)||SH(u,d);o.push({dateYMD:Ga(l),seun:p,wolun:b,ilun:xNe(l)}),l=kH(l,1)}return o}function EH(e,t){const n=ha(t.startYMD)??ku();if(e==="seun")return new Date(n.getFullYear(),5,15,9,0,0,0);if(e==="wolun"){const r=n.getFullYear(),i=n.getMonth()+1;return new Date(r,i-1,15,9,0,0,0)}return new Date(n.getFullYear(),n.getMonth(),n.getDate(),9,0,0,0)}function vk(e,t){const n=EH(e,t),r=Ga(n);return e==="seun"?{tab:e,baseDateYMD:r,seun:_Ne(t,10),wolun:[],ilun:[]}:e==="wolun"?{tab:e,baseDateYMD:r,seun:[],wolun:SNe(t,12,!1),ilun:[]}:{tab:e,baseDateYMD:r,seun:[],wolun:[],ilun:kNe(t,7)}}function TH(e){return e===7||e===9?1:0}const Ea={:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"111",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"110",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"101",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"100",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"011",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"010",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"001",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"000",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]}},ENe=[{n:1,ko:"",nameHanja:"",upper:"",lower:""},{n:2,ko:"",nameHanja:"",upper:"",lower:""},{n:3,ko:"",nameHanja:"",upper:"",lower:""},{n:4,ko:"",nameHanja:"",upper:"",lower:""},{n:5,ko:"",nameHanja:"",upper:"",lower:""},{n:6,ko:"",nameHanja:"",upper:"",lower:""},{n:7,ko:"",nameHanja:"",upper:"",lower:""},{n:8,ko:"",nameHanja:"",upper:"",lower:""},{n:9,ko:"",nameHanja:"",upper:"",lower:""},{n:10,ko:"",nameHanja:"",upper:"",lower:""},{n:11,ko:"",nameHanja:"",upper:"",lower:""},{n:12,ko:"",nameHanja:"",upper:"",lower:""},{n:13,ko:"",nameHanja:"",upper:"",lower:""},{n:14,ko:"",nameHanja:"",upper:"",lower:""},{n:15,ko:"",nameHanja:"",upper:"",lower:""},{n:16,ko:"",nameHanja:"",upper:"",lower:""},{n:17,ko:"",nameHanja:"",upper:"",lower:""},{n:18,ko:"",nameHanja:"",upper:"",lower:""},{n:19,ko:"",nameHanja:"",upper:"",lower:""},{n:20,ko:"",nameHanja:"",upper:"",lower:""},{n:21,ko:"",nameHanja:"",upper:"",lower:""},{n:22,ko:"",nameHanja:"",upper:"",lower:""},{n:23,ko:"",nameHanja:"",upper:"",lower:""},{n:24,ko:"",nameHanja:"",upper:"",lower:""},{n:25,ko:"",nameHanja:"",upper:"",lower:""},{n:26,ko:"",nameHanja:"",upper:"",lower:""},{n:27,ko:"",nameHanja:"",upper:"",lower:""},{n:28,ko:"",nameHanja:"",upper:"",lower:""},{n:29,ko:"",nameHanja:"",upper:"",lower:""},{n:30,ko:"",nameHanja:"",upper:"",lower:""},{n:31,ko:"",nameHanja:"",upper:"",lower:""},{n:32,ko:"",nameHanja:"",upper:"",lower:""},{n:33,ko:"",nameHanja:"",upper:"",lower:""},{n:34,ko:"",nameHanja:"",upper:"",lower:""},{n:35,ko:"",nameHanja:"",upper:"",lower:""},{n:36,ko:"",nameHanja:"",upper:"",lower:""},{n:37,ko:"",nameHanja:"",upper:"",lower:""},{n:38,ko:"",nameHanja:"",upper:"",lower:""},{n:39,ko:"",nameHanja:"",upper:"",lower:""},{n:40,ko:"",nameHanja:"",upper:"",lower:""},{n:41,ko:"",nameHanja:"",upper:"",lower:""},{n:42,ko:"",nameHanja:"",upper:"",lower:""},{n:43,ko:"",nameHanja:"",upper:"",lower:""},{n:44,ko:"",nameHanja:"",upper:"",lower:""},{n:45,ko:"",nameHanja:"",upper:"",lower:""},{n:46,ko:"",nameHanja:"",upper:"",lower:""},{n:47,ko:"",nameHanja:"",upper:"",lower:""},{n:48,ko:"",nameHanja:"",upper:"",lower:""},{n:49,ko:"",nameHanja:"",upper:"",lower:""},{n:50,ko:"",nameHanja:"",upper:"",lower:""},{n:51,ko:"",nameHanja:"",upper:"",lower:""},{n:52,ko:"",nameHanja:"",upper:"",lower:""},{n:53,ko:"",nameHanja:"",upper:"",lower:""},{n:54,ko:"",nameHanja:"",upper:"",lower:""},{n:55,ko:"",nameHanja:"",upper:"",lower:""},{n:56,ko:"",nameHanja:"",upper:"",lower:""},{n:57,ko:"",nameHanja:"",upper:"",lower:""},{n:58,ko:"",nameHanja:"",upper:"",lower:""},{n:59,ko:"",nameHanja:"",upper:"",lower:""},{n:60,ko:"",nameHanja:"",upper:"",lower:""},{n:61,ko:"",nameHanja:"",upper:"",lower:""},{n:62,ko:"",nameHanja:"",upper:"",lower:""},{n:63,ko:"",nameHanja:"",upper:"",lower:""},{n:64,ko:"",nameHanja:"",upper:"",lower:""}];function Sv(e){const t=Object.keys(Ea);for(const n of t)if(Ea[n].bitsBottomUp===e)return n;return null}function TNe(e,t){return`${Ea[t].bitsBottomUp}${Ea[e].bitsBottomUp}`}const ANe=(()=>{const e={};for(const t of ENe){const n=Ea[t.upper],r=Ea[t.lower],i=TNe(t.upper,t.lower);e[i]={number:t.n,titleKo:t.ko,nameHanja:t.nameHanja,titleHanja:`${n.symbolHanja}${r.symbolHanja}${t.nameHanja}`,upperKo:n.ko,lowerKo:r.ko,upperHanja:n.hanja,lowerHanja:r.hanja,upperSymbolHanja:n.symbolHanja,lowerSymbolHanja:r.symbolHanja,bitsBottomUp:i}}return e})();function Yj(e){const t=e.join(""),n=ANe[t];if(n)return n;const r=t.slice(0,3),i=t.slice(3,6),a=Sv(r),o=Sv(i),l=a?Ea[a]:null,u=o?Ea[o]:null;return{number:void 0,titleKo:"",nameHanja:"",titleHanja:u&&l?`${u.symbolHanja}${l.symbolHanja}`:"",upperKo:u?.ko,lowerKo:l?.ko,upperHanja:u?.hanja,lowerHanja:l?.hanja,upperSymbolHanja:u?.symbolHanja,lowerSymbolHanja:l?.symbolHanja,bitsBottomUp:t}}function PE(e){const t=e.map(n=>TH(n.value));return Yj(t)}const B5={:[1,44,33,12,20,23,35,14],:[29,60,3,63,49,55,36,7],:[52,22,26,41,38,10,61,53],:[51,16,40,32,46,48,28,17],:[57,9,37,42,25,21,27,18],:[30,56,50,64,4,59,6,13],:[2,24,19,11,34,43,5,8],:[58,47,45,31,39,15,62,54]};function jNe(e){return e===0?"pure":e===1?"1":e===2?"2":e===3?"3":e===4?"4":e===5?"5":e===6?"youhun":"guihun"}function NNe(e){return e==="pure"?6:e==="1"?1:e==="2"?2:e==="3"?3:e==="4"?4:e==="5"?5:e==="youhun"?4:3}function ONe(e){return(e+2)%6+1}function CNe(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""||e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":null}function z5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function U5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function MNe(e,t){return t===e?"":z5(t,e)?"":z5(e,t)?"":U5(t,e)?"":U5(e,t)?"":""}function DNe(e){const t=Object.keys(B5);for(const n of t){const r=B5[n].indexOf(e);if(r>=0)return{palace:n,stage:jNe(r)}}return null}function PNe(e){const t=e.join(""),n=t.slice(0,3),r=t.slice(3,6),i=Sv(n),a=Sv(r);if(!i||!a)return[];const o=Ea[i],u=Ea[a].naJiaUpperTopDown,d=o.naJiaLowerTopDown;return[...u,...d]}function RE(e){const t=e.map(k=>TH(k.value)),n=Yj(t),r=typeof n.number=="number"?n.number:null,i=PNe(t),a=r?DNe(r):null,o=a?.palace??null,l=o?Ea[o].element:null,u=a?.stage??"pure",d=NNe(u),h=ONe(d),p=7-d,b=7-h,y=[];if(i.length===6&&l)for(const k of i){const w=CNe(k);if(!w){y.push("");continue}y.push(MNe(l,w))}return{leftTopDown:y.length?y:[],rightTopDown:i.length?i:[],markers:[{text:"",atLineTopDown:p},{text:"",atLineTopDown:b}],palace:o?{key:o,element:Ea[o].element,stage:u}:void 0}}function xk(e){const t=vH(yH(e)),n=[];for(let r=0;r<6;r+=1)n.push(DE(t));return n}function wk(e,t,n,r,i){return{id:wH(),kind:"iching_sixyao",createdAtISO:xH(),question:e,seedTextUsed:t,linesBottomUp:n,changingLines:_H(n),baseBitsBottomUp:n.map(a=>Ux(a.value)),changedBitsBottomUp:n.map(a=>bH(a.value)),saju:r??void 0,viewMeta:i}}function RNe(e){const{periodTab:t,seunPayload:n,wolunPayload:r,ilunPayload:i,questionText:a,sajuSeedPart:o,saju:l,viewMeta:u}=e,d=[];return t==="seun"&&n?.seun?.length&&n.seun.forEach(h=>{const p=` ${h.year} (${h.seun}`,b=`${a}::${h.refDateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=xk(y),w=wk(a,y,k,l,u);d.push({key:`seun-${h.year}`,title:p,dateYMD:h.refDateYMD,record:w})}),t==="wolun"&&r?.wolun?.length&&r.wolun.forEach(h=>{const p=String(h.month).padStart(2,"0"),b=` ${h.year}-${p} (${h.seun} ${h.wolun}`,y=`${a}::${h.refDateYMD}`,k=o?`${y}::SAJU::${o}`:y,w=xk(k),S=wk(a,k,w,l,u);d.push({key:`wolun-${h.year}-${p}`,title:b,dateYMD:h.refDateYMD,record:S})}),t==="ilun"&&i?.ilun?.length&&i.ilun.forEach(h=>{const p=` ${h.dateYMD} (${h.seun} ${h.wolun} ${h.ilun}`,b=`${a}::${h.dateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=xk(y),w=wk(a,y,k,l,u);d.push({key:`ilun-${h.dateYMD}`,title:p,dateYMD:h.dateYMD,record:w})}),d}function LNe(e){if(!e)return"  ";const t=[e.name?`: ${e.name}`:"",e.gender?`: ${e.gender}`:"",e.pillarsText?`: ${e.pillarsText}`:""].filter(Boolean);return t.length?t.join(`
`):"  "}function INe(e,t){if(!e||!e.luck)return e;const{daeun:n,seun:r,wolun:i,ilun:a}=e.luck;return{...e,luck:t==="seun"?{daeun:n,seun:r}:t==="wolun"?{daeun:n,seun:r,wolun:i}:{daeun:n,seun:r,wolun:i,ilun:a}}}function $Ne(e){const{selectedCardText:t,ready:n,periodCards:r,finalQuestion:i,question:a,baseBits:o,changedBits:l,changingIndexes:u,lineValues:d,lines:h,saju:p,periodTab:b}=e,y=(i.trim()||a.trim()).trim(),k=y||"( )";if(t&&t.trim())return[` : ${k}`,"",t.trim()].join(`
`);if(!n&&r.length===0)return"";const w=o.join(""),S=l.join(""),A=u.length?u.join(", "):"",O=d.join(", "),j=PE(h),C=Yj(l),D=typeof j.number=="number"?String(j.number):"",P=j.titleKo||"",I=j.titleHanja||"?",U=j.nameHanja||"?",K=j.upperKo&&j.lowerKo?`${j.upperKo}/${j.lowerKo}`:"",q=j.upperHanja&&j.lowerHanja?`${j.upperHanja}/${j.lowerHanja}`:"",F=typeof C.number=="number"?String(C.number):"",z=C.upperKo&&C.lowerKo?`${C.upperKo}/${C.lowerKo}`:"",W=C.upperHanja&&C.lowerHanja?`${C.upperHanja}/${C.lowerHanja}`:"",Z=RE(h),X=Z.leftTopDown.length?Z.leftTopDown.join(" "):"()",Y=Z.rightTopDown.length?Z.rightTopDown.join(" "):"()",J=Z.markers.length?Z.markers.map(ne=>`${ne.text}${ne.atLineTopDown}`).join(", "):"()",ee=LNe(p),le=r.length>0?[" (  )",...r.flatMap((ne,se)=>{const fe=PE(ne.record.linesBottomUp),be=RE(ne.record.linesBottomUp),ye=ne.record.baseBitsBottomUp.join(""),Te=ne.record.changedBitsBottomUp.join(""),re=ne.record.changingLines.length?ne.record.changingLines.join(", "):"",ke=ne.record.linesBottomUp.map(Pe=>Pe.value).join(", "),_e=fe.titleKo||"",ae=typeof fe.number=="number"?String(fe.number):"",Ue=be.leftTopDown.length?be.leftTopDown.join(" "):"()",Fe=be.rightTopDown.length?be.rightTopDown.join(" "):"()",Ce=be.markers.length?be.markers.map(Pe=>`${Pe.text}${Pe.atLineTopDown}`).join(", "):"()";return[`${se+1}. ${ne.title}`,`-  /: ${ae}  ${_e}`,`-  (): ${ye}`,`-  (): ${Te}`,`- : ${re}`,`- (): ${ke}`,`- (): ${Ue}`,`- (): ${Fe}`,`- ///: ${Ce}`]}),""]:[],oe=n&&h.length===6?[" ()",`-  : ${D}`,`- (): ${P}`,`- (): ${I} (${U})`,`- / : ${K} (${q})`,""," ()",`-  : ${F}`,`- / : ${z} (${W})`,""," ",`-  (): ${w}`,`-  (): ${S}`,`- : ${A}`,`- (): ${O}`,`- (): ${X}`,`- (): ${Y}`,`- ///: ${J}`,""]:[" ","- /   ",""],B=n&&r.length===0,V=B?INe(p??null,b):null;return[" / .        .","",`: ${k}`,"",...oe," ",ee,"",...B?["(JSON)",JSON.stringify(V??{},null,2),""]:[],"",...le,"","-     ","-        ","-    "].join(`
`)}const F5=[`1.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`2.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`3.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`4.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`5.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`6.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`7.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`8.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`9.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`10.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`11.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`12.  () 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`13.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`14.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`15.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`16.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`17.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`18.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`19.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`20.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`21.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`22.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`23.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`24.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`25.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`26.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`27.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`28.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`29.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`30.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + () -  
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`31.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`32.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`33.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`34.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`35.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + () -  
2() - () + ()
() - () +  +  + ()`,`36.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`37.  
 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`38.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + () -  
() - () +  +  + ()`,`39.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`40.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`41.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`42.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`43.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`44.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`45.  () 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`46.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`47.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + () -  
2() - () + ()
() - () +  + ()`,`48.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`49.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + () -  `,`50.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`51.  () (() )  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`52. () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`53.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`54.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + () -  
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`55.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`56.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`57.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`58.  () (() ) 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + () -  
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`59.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`60.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`61.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`62.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`63.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`64.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`];function BNe({saju:e,viewMeta:t,initialQuestion:n="",onBaseDateChange:r}){const[i,a]=_.useState(n),[o,l]=_.useState(""),[u,d]=_.useState("all"),[h,p]=_.useState("seun"),[b,y]=_.useState(()=>{const Me=new Date,nt=new Date(Me.getFullYear(),0,1,9,0,0,0),Dt=new Date(Me.getFullYear()+9,11,31,9,0,0,0);return{startYMD:Ga(nt),endYMD:Ga(Dt)}}),[k,w]=_.useState(()=>{const Me=new Date,nt=new Date(Me.getFullYear(),Me.getMonth(),1,9,0,0,0),Dt=new Date(nt);return Dt.setMonth(Dt.getMonth()+11),{startYMD:Ga(nt),endYMD:Ga(Dt)}}),[S,A]=_.useState(()=>{const Me=new Date,nt=new Date(Me.getFullYear(),Me.getMonth(),Me.getDate(),9,0,0,0),Dt=kH(nt,6);return{startYMD:Ga(nt),endYMD:Ga(Dt)}}),[O,j]=_.useState([]),[C,D]=_.useState(null),[P,I]=_.useState([]),[U,K]=_.useState(!1),[q,F]=_.useState(!1),[z,W]=_.useState(null),Z=_.useRef(null),X=_.useRef(null),Y=_.useRef(null);_.useEffect(()=>{a(n),l(n)},[n]),_.useEffect(()=>{I([])},[h,b.startYMD,b.endYMD,k.startYMD,k.endYMD,S.startYMD,S.endYMD]),_.useEffect(()=>{if(!z)return;const Me=window.setTimeout(()=>W(null),2200);return()=>window.clearTimeout(Me)},[z]);const J=_.useMemo(()=>{const Me=ha(b.startYMD);if(Me&&Me.getMonth()===0){const nt=new Date(Me.getFullYear(),1,1,9,0,0,0);return{...b,startYMD:Ga(nt)}}return b},[b]),ee=h,le=_.useMemo(()=>ee?EH(ee,ee==="seun"?J:ee==="wolun"?k:S):new Date,[ee,S,J,k]);_.useEffect(()=>{r&&r(le??null)},[le,r]);const oe=_.useMemo(()=>vNe(e),[e]),B=_.useMemo(()=>`${o.trim()}::${le.toISOString()}`,[le,o]),V=_.useMemo(()=>oe?`${B}::SAJU::${oe}`:B,[B,oe]),ne=_.useMemo(()=>{const Me=yH(V);return vH(Me)},[V]),se=_.useMemo(()=>h==="seun"?vk("seun",J):null,[h,J]),fe=_.useMemo(()=>h==="wolun"?vk("wolun",k):null,[h,k]),be=_.useMemo(()=>h==="ilun"?vk("ilun",S):null,[h,S]),ye=_.useMemo(()=>{const Me=ha(b.startYMD);return Me?String(Me.getFullYear()):""},[b.startYMD]),Te=_.useMemo(()=>{const Me=ha(b.endYMD);return Me?String(Me.getFullYear()):""},[b.endYMD]),re=_.useMemo(()=>{const Me=ha(k.startYMD);if(!Me)return"";const nt=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${nt}`},[k.startYMD]),ke=_.useMemo(()=>{const Me=ha(k.endYMD);if(!Me)return"";const nt=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${nt}`},[k.endYMD]),_e=_.useMemo(()=>{if(h==="seun"){const Me=se?.seun[0];return Me?` ${Me.year} - ${Me.seun}`:""}if(h==="wolun"){const Me=fe?.wolun[0];if(!Me)return"";const nt=String(Me.month).padStart(2,"0");return` ${Me.year}-${nt} - ${Me.seun} ${Me.wolun}`}if(h==="ilun"){const Me=be?.ilun[0];return Me?` ${Me.dateYMD} - ${Me.seun} ${Me.wolun} ${Me.ilun}`:""}return""},[h,se,fe,be]),ae=_.useCallback((Me,nt,Dt)=>{Me(br=>({...br,[nt]:Dt}))},[]),Ue=_.useCallback((Me,nt)=>{if(!nt)return;const Dt=Number(nt);if(!Number.isFinite(Dt))return;const br=Math.trunc(Dt);y(ti=>({...ti,[Me]:`${br}-06-15`}))},[]),Fe=_.useCallback((Me,nt)=>{if(!nt)return;const Dt=/^(\d{4})-(\d{2})$/.exec(nt);Dt&&w(br=>({...br,[Me]:`${Dt[1]}-${Dt[2]}-15`}))},[]),Ce=O.length===6,Pe=_.useMemo(()=>O.map(Me=>Ux(Me.value)),[O]),Ge=_.useMemo(()=>O.map(Me=>bH(Me.value)),[O]),Ne=_.useMemo(()=>_H(O),[O]),De=_.useMemo(()=>O.map(Me=>Me.value),[O]),Be=O.length>0||!!C,st=P.length>0,ce=o.trim().length>0,Oe=!ce||q||st||Ce,ze=!ce||U||Be||st||q,it=_.useCallback(()=>{window.setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),Et=_.useCallback(()=>{window.setTimeout(()=>{X.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),pt=_.useCallback(()=>{j([]),D(null),I([]),K(!1),F(!1),W(null)},[]),Jt=_.useCallback(()=>o.trim()?!0:(alert("  !"),window.setTimeout(()=>{Y.current?.focus()},0),!1),[o]),zr=_.useCallback(()=>{if(!Jt()||Oe)return;K(!0);let Me=0;j(nt=>nt.length>=6?nt:(Me=nt.length+1,[...nt,DE(ne)])),window.setTimeout(()=>{if(K(!1),Me>=6){it();return}Me>0&&W(`${Me}  !  ${Me+1} ?`)},350)},[Jt,Oe,ne,it]),Ur=_.useCallback(()=>{if(!Jt()||Oe)return;K(!0);const Me=[];for(let nt=0;nt<6;nt+=1)Me.push(DE(ne));j(Me),window.setTimeout(()=>{K(!1),it()},350)},[Jt,Oe,ne,it]),Zi=_.useMemo(()=>{if(O.length!==6)return"";const Me=PE(O);if(typeof Me.number!="number")return"";const nt=Me.number-1;return nt<0||nt>=F5.length?"":F5[nt]??""},[O]),io=_.useCallback(Me=>{j(nt=>{if(Me<0||Me>=nt.length)return nt;const Dt=[...nt],br=Dt[Me];return Dt[Me]={value:yNe(br.value),source:"manual"},Dt})},[]),It=_.useCallback(()=>{if(O.length!==6)return;const Me=(o.trim()||i.trim()).trim(),nt={id:wH(),kind:"iching_sixyao",createdAtISO:xH(),question:Me,seedTextUsed:V,linesBottomUp:O,changingLines:Ne,baseBitsBottomUp:Pe,changedBitsBottomUp:Ge,saju:e??void 0,viewMeta:t};D(nt)},[Pe,Ge,Ne,V,o,O,i,e,t]);_.useEffect(()=>{O.length===6&&It()},[It,O.length]);const an=_.useMemo(()=>[{value:7,source:"manual"}].concat(Array.from({length:5},()=>({value:7,source:"manual"}))),[]),Fr=_.useCallback(()=>{if(!Jt()||ze)return;F(!0);const Me=(o.trim()||i.trim()).trim(),nt=RNe({periodTab:h,seunPayload:se,wolunPayload:fe,ilunPayload:be,questionText:Me,sajuSeedPart:oe,saju:e,viewMeta:t});I(nt),window.setTimeout(()=>{F(!1),Et()},400)},[Jt,ze,o,be,h,i,e,oe,se,t,fe,Et]),Kn=_.useMemo(()=>$Ne({selectedCardText:Zi,ready:Ce,periodCards:P,finalQuestion:o,question:i,baseBits:Pe,changedBits:Ge,changingIndexes:Ne,lineValues:De,lines:O,saju:e,periodTab:h}),[Zi,Ce,P,o,i,Pe,Ge,Ne,De,O,e,le,se,fe,be,h]),Go=_.useCallback(async()=>{if(Kn)try{await navigator.clipboard.writeText(Kn),alert("  !")}catch{alert("  .   .")}},[Kn]),If=_.useMemo(()=>{if(!Ce)return null;const Me=RE(O),nt=Me.leftTopDown.join(" "),Dt=Me.rightTopDown.join(" "),br=Me.markers.map(ti=>`${ti.text}${ti.atLineTopDown}`).join(", ");return{liuQin:nt,zhi:Dt,marks:br}},[O,Ce]);return{saju:e,question:i,setQuestion:a,finalQuestion:o,setFinalQuestion:l,questionInputRef:Y,drawMode:u,setDrawMode:d,periodTab:h,setPeriodTab:p,seunRange:b,setSeunRange:y,wolunRange:k,setWolunRange:w,ilunRange:S,setIlunRange:A,seunStartYear:ye,seunEndYear:Te,wolunStartYM:re,wolunEndYM:ke,activePeriodLabel:_e,onRangeChange:ae,onSeunYearChange:Ue,onWolunMonthChange:Fe,ready:Ce,baseBits:Pe,changedBits:Ge,changingIndexes:Ne,lineValues:De,autoSideSummary:If,selectedCardText:Zi,drawOne:zr,drawAll:Ur,reset:pt,onEditLine:io,lines:O,record:C,periodCards:P,placeholderLines:an,copyPrompt:Go,isDrawing:U,isPeriodDrawing:q,toast:z,disableSingleDraw:Oe,disablePeriodDraw:ze,resultRef:Z,periodCardsRef:X,buildPeriodCards:Fr}}const zNe="DAN-GW4jrUdfiXklZ12U",UNe="DAN-CeRuC0yKzSAs5Gju";function FNe(e){const{saju:t,question:n,setQuestion:r,finalQuestion:i,setFinalQuestion:a,questionInputRef:o,drawMode:l,setDrawMode:u,lines:d,isDrawing:h,disableSingleDraw:p,selectedCardText:b,drawOne:y,drawAll:k,reset:w,copyPrompt:S,toast:A,resultRef:O}=BNe(e),j=b?b.split(/\r?\n/):[],C=j[0]??"",D=j.slice(1).join("\\n").trim(),P=d.length?[...d].reverse():[],I=j.map(U=>U.trim()).map(U=>{const K=/^(|5|4|3|2|)\((|)\)\s*-\s*(.+)$/.exec(U);if(!K)return null;const q=K[1],F=K[2],z=//.test(K[3]),Z=K[3].replace(/\s*-\s*\s*?/g,"").trim().split(" + ").map(ee=>ee.trim()).filter(Boolean),X=Z.filter(ee=>ee===""||ee===""||ee===""||ee===""),Y=Z.find(ee=>/\([]\)/.test(ee))??"",J=Z.find(ee=>/\(.+\)/.test(ee)&&ee!==Y)??"";return{label:q,yinYang:F,liuQin:J,zhi:Y,markers:X,hasDonghyo:z}}).filter(Boolean);return g.jsxs("div",{className:"w-full max-w-[768px] mx-auto pb-12 desk:pb-4 p-4",children:[g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"   ,     ."}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),t?g.jsxs("div",{className:"mt-1 text-sm text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.name?t.name:" ",t.gender?`  ${t.gender}`:""]}),t.pillarsText?g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.pillarsText]}):null]}):g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:""}),g.jsx("textarea",{ref:o,value:n,onChange:U=>r(U.target.value),rows:3,className:"mt-1 w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",placeholder:"      !"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("button",{type:"button",onClick:()=>a(n.trim()),className:"rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:" "}),g.jsxs("span",{children:[" : ",i.trim()?i:""]})]}),g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="all",onChange:()=>u("all")})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="step",onChange:()=>u("step")})," "]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:l==="all"?k:y,disabled:p||h,className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-neutral-200 cursor-pointer",children:l==="all"?" ":`1  (${d.length}/6)`}),g.jsx("button",{type:"button",onClick:w,className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:""}),h?g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("span",{children:" "}),g.jsx("span",{className:"animate-pulse",children:"..."})]}):null]})]})]}),g.jsxs("div",{className:"mt-4",ref:O,children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(cu,{enabled:!0,adUnit:UNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(cu,{enabled:!0,adUnit:zNe,width:320,height:50})})]}),b?g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-gradient-to-b from-amber-50 to-white p-4 shadow-sm dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-950",children:g.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-[180px]",children:[g.jsx("div",{className:"rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm font-semibold text-amber-900 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",children:C}),g.jsxs("div",{className:"mt-3 rounded-xl border border-amber-200 bg-white px-3 py-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("div",{className:"mt-2 flex flex-col gap-2",children:P.map((U,K)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:6-K}),g.jsx(gNe,{yinYang:Ux(U.value),changing:!1,showChanging:!1})]},`line-${K}`))})]})]}),g.jsxs("div",{className:"flex-1 rounded-xl border border-amber-200 bg-white p-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"space-y-2",children:(I.length?I:[]).map(U=>g.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-amber-100 bg-amber-50/50 px-3 py-2 text-sm dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:[U.label," (",U.yinYang,")"]}),g.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-300",children:[U.liuQin||"-"," ",U.zhi?`  ${U.zhi}`:""]})]}),g.jsxs("div",{className:"flex flex-wrap gap-1 text-[10px] font-semibold text-amber-900 dark:text-neutral-200",children:[U.hasDonghyo&&g.jsx("span",{className:"rounded border border-red-200 bg-red-50 px-1.5 py-0.5 text-red-600 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-300",children:""}),U.markers.map(K=>g.jsx("span",{className:"rounded border border-amber-200 bg-white px-1.5 py-0.5 dark:border-neutral-700 dark:bg-neutral-900",children:K},`${U.label}-${K}`))]})]},U.label))}),!I.length&&g.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-sm text-neutral-800 dark:text-neutral-100",children:D})]})]})}):g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"   ."})]}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsx("div",{className:"mt-1 text-xs text-neutral-600 dark:text-neutral-400",children:"   AI    ."}),b?g.jsx("button",{type:"button",onClick:S,className:"mt-3 w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:"AI   "}):g.jsx("div",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),A?g.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 w-[90%] max-w-sm -translate-x-1/2",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white px-4 py-3 text-sm text-neutral-900 shadow-lg dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",children:A})}):null]})}const HNe="DAN-INfSKh1pW2cEtWNu";function jb(e){return!e?.stem||!e?.branch?"":`${e.stem}${e.branch}`}function GNe(e){const t=[e.year?`${e.year}`:"",e.month?`${e.month}`:"",e.day?`${e.day}`:"",e.hour?`${e.hour}`:""].filter(Boolean);return t.length?t.join(" "):""}function _k(e){if(typeof e!="string")return!1;const t=e.trim();return t===""||t===""||t===""||t==="self"||t===""||t===""}function YNe({current:e}){const t=xy(h=>h.useDST),n=e.mingSikType,r=_.useMemo(()=>g2(e,t),[e,t]),[i,a]=_.useState(null),o=Jr(h=>h.date),l=Kv(e,n,i??o??void 0),u=_.useMemo(()=>{const h={year:jb(r.year),month:jb(r.month),day:jb(r.day),hour:jb(r.hour)},p=e.ganjiText?.trim()||e.ganji?.trim()||GNe(h),b={daeun:l.dae.gz||void 0,seun:l.se.gz||void 0,wolun:l.wol.gz||void 0,ilun:l.il.gz||void 0};return{name:e.name||void 0,gender:e.gender||void 0,pillarsText:p,pillars:h,luck:b}},[e,l,r]),d=_.useMemo(()=>({sourceRoute:"/iching",currentId:e.id,currentName:e.name??null}),[e.id,e.name]);return g.jsx("div",{className:"py-2",children:g.jsx(FNe,{saju:u,viewMeta:d,onBaseDateChange:a},e.id)})}function qNe(){const e=yn(w=>w.list),t=yn(w=>w.loading),n=yn(w=>w.currentId),r=yn(w=>w.setCurrentId),i=Vl(),a=_.useRef(!1),[o,l]=_.useState(!1),u=_.useRef(!1),d=dn(w=>w.shouldShowAdsNow()),h=_.useMemo(()=>e.find(S=>_k(S.relationship))?.id??null,[e]);_.useEffect(()=>{if(t||e.length===0)return;const w=h??e[0]?.id??null;if(!a.current){w&&n!==w&&r(w),a.current=!0;return}n&&!e.some(S=>S.id===n)&&w&&r(w)},[t,e,n,h,r]),_.useEffect(()=>{t&&l(!0)},[t]);const p=_.useMemo(()=>e.find(w=>w.id===n)??null,[e,n]),b=_.useMemo(()=>p||(e.find(S=>_k(S.relationship))??e[0]??null),[p,e]),y=_.useMemo(()=>{const w=e.find(S=>_k(S.relationship));return w?[w,...e.filter(S=>S.id!==w.id)]:e},[e]);_.useEffect(()=>{o&&(t||e.length>0||u.current||(u.current=!0,alert("   .  ."),i("/",{replace:!0})))},[o,e.length,t,i]),_.useEffect(()=>{let w=!0;Re.auth.getSession().then(({data:A})=>{w&&(A.session?.user||i("/",{replace:!0}))});const{data:S}=Re.auth.onAuthStateChange((A,O)=>{O?.user||i("/",{replace:!0})});return()=>{w=!1,S.subscription.unsubscribe()}},[i]);const k=_.useMemo(()=>n||h||(e[0]?.id??""),[n,h,e]);return g.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-950",children:[g.jsx(uH,{enabled:d}),d&&g.jsx(pH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(dH,{enabled:d,adUnit:HNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsxs("div",{className:"w-full max-w-[768px] mx-auto px-4 pt-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"    ."})]}),g.jsx(GE,{to:"/",className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800",children:""})]}),e.length>0&&g.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("select",{className:"w-full sm:w-[320px] rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",value:k,onChange:w=>{const S=w.target.value;S&&r(S)},children:[g.jsx("option",{value:"",disabled:!0,children:""}),y.map(w=>g.jsx("option",{value:w.id,children:w.name?.trim()?w.name:" "},w.id))]})]})]}),t&&e.length===0&&g.jsx("div",{className:"w-full max-w-[768px] mx-auto px-4 py-10",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:" .."})}),b&&g.jsx(YNe,{current:b})]})}function KNe(e){return typeof e=="object"&&e!==null}function WNe(e){if(!KNe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function AH({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=_.useRef(!1),o=_.useRef(""),l=_.useRef(!1),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(0);return _.useEffect(()=>{o.current=n??""},[n]),_.useEffect(()=>{let b=null;return(async()=>{const{data:k}=await Re.auth.getSession();u.current=k.session?.user?.id??null;const S=Re.auth.onAuthStateChange((A,O)=>{u.current=O?.user?.id??null,l.current=!1}).data?.subscription;S&&typeof S.unsubscribe=="function"&&(b=()=>S.unsubscribe())})(),()=>{b&&b()}},[]),_.useEffect(()=>{if(!e)return;const b=async w=>{if(document.visibilityState!=="visible")return;const S=Date.now();if(!(w!=="init"&&S-p.current<1e4)&&(p.current=S,!a.current)){a.current=!0;try{if(!u.current)return;const O=o.current||null,{data:j,error:C}=await Re.rpc("ping_activity",{p_last_path:O});if(C)return;const D=WNe(j);if(!D)return;typeof D.total_active_ms=="number"&&i?.(D.total_active_ms),D.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const y=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},y);const k=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function VNe(){const e=yn(a=>a.loadFromServer),t=yn(a=>a.migrateLocalToServer),n=vn(a=>a.loadFromServer),r=dn(a=>a.loadFromServer),i=_.useCallback(async()=>{await t(),await Promise.all([r(),n(),e()])},[t,r,n,e]);return _.useEffect(()=>{i();const{data:a}=Re.auth.onAuthStateChange(o=>{o==="TOKEN_REFRESHED"||o==="INITIAL_SESSION"||i()});return()=>{a.subscription.unsubscribe()}},[i]),null}function ZNe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function XNe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function JNe(e){return e<=0?0:Math.floor(Math.random()*e)}function QNe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=_.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=_.useState(!1),[h,p]=_.useState(()=>JNe(n.length)),b=_.useRef(null),y=_.useCallback(S=>{if(typeof document>"u")return;const A=`${Math.max(0,Math.floor(S))}px`;document.documentElement.style.setProperty(o,A)},[o]);if(_.useEffect(()=>{if(n.length<=0){p(0);return}p(S=>S%n.length)},[n.length]),_.useEffect(()=>{if(!e){d(!1);return}const S=ZNe(l),A=Date.now();if(S>A){d(!1);return}const O=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(O)},[e,l]),_.useEffect(()=>{if(!e||!u||n.length<=1)return;const S=window.setInterval(()=>{p(A=>A+1>=n.length?0:A+1)},i);return()=>window.clearInterval(S)},[e,u,n.length,i]),_.useEffect(()=>{if(!e||!u){y(0);return}const S=b.current;if(!S){y(0);return}const A=()=>{const O=Math.ceil(S.getBoundingClientRect().height);y(O)};if(A(),typeof ResizeObserver<"u"){const O=new ResizeObserver(A);return O.observe(S),()=>{O.disconnect(),y(0)}}return window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A),y(0)}},[e,u,y]),!e)return null;const k=()=>{XNe(l,Date.now()+r*60*60*1e3),d(!1),y(0)},w=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:w,children:w}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:k,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(oy,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[w,g.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(oy,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function eOe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function tOe({open:e,onClose:t}){const n=_.useMemo(()=>eOe(48),[]);return _.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function H5(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function nOe(){const e=Br(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=_.useState(!1),a=dn(b=>b.loaded),o=dn(b=>b.loading),l=dn(b=>b.userId),u=dn(b=>H5(b.plan)),d=_.useRef(!1);_.useEffect(()=>{n&&(a||o||dn.getState().loadFromServer())},[n,a,o]);const h=_.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:y}=await Re.rpc("mark_basic_celebrated");if(y){console.warn("[basic celebration] rpc error:",y.message);return}b===!0&&i(!0)},[]);_.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=_.useCallback(()=>{(async()=>(await dn.getState().loadFromServer(),H5(dn.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(AH,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(QNe,{enabled:n}),g.jsx(tOe,{open:r,onClose:()=>i(!1)})]})}function rOe(e){return typeof e=="object"&&e!==null}function iOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!rOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function aOe(){const e=Vl(),t=Br(),n=_.useRef(!1);return _.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await Re.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await Re.rpc("get_my_account_status");if(!d){!!iOe(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await Re.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=Re.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function oOe(e){return typeof e=="object"&&e!==null}function sOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!oOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const lOe=Uo((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await Re.rpc("get_my_account_status");if(!a){const d=sOe(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await Re.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function cOe(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function uOe(){const e=lOe(n=>n.disabledAt),t=_.useCallback(async()=>{try{await Re.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:cOe(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function dOe(){const e=Br();return _.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(VNe,{}),g.jsx(nOe,{}),g.jsx(aOe,{}),g.jsx(AH,{}),g.jsxs(qY,{children:[g.jsx(za,{path:"/auth/callback",element:g.jsx(pNe,{})}),g.jsx(za,{path:"/disabled",element:g.jsx(uOe,{})}),g.jsx(za,{path:"/iching",element:g.jsx(qNe,{})}),g.jsx(za,{path:"/",element:g.jsx(Ab,{})}),g.jsx(za,{path:"/faq",element:g.jsx(Ab,{})}),g.jsx(za,{path:"/couple",element:g.jsx(Ab,{})}),g.jsx(za,{path:"/result",element:g.jsx(Ab,{})}),g.jsx(za,{path:"/admin/*",element:g.jsx(PF,{})}),g.jsx(za,{path:"/impersonate",element:g.jsx(mNe,{})}),g.jsx(za,{path:"*",element:g.jsx(GY,{to:"/",replace:!0})})]})]})}JG.createRoot(document.getElementById("root")).render(g.jsx(pq,{children:g.jsx(dOe,{})}));
