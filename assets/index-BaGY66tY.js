function o2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var jx={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj;function vU(){if(Wj)return xh;Wj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return xh.Fragment=t,xh.jsx=n,xh.jsxs=n,xh}var Vj;function yU(){return Vj||(Vj=1,jx.exports=vU()),jx.exports}var _=yU();const E3="harim.theme",yS="harim.settings.v1";function A3(){try{const e=localStorage.getItem(E3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(yS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function H0(e){try{localStorage.setItem(E3,e);const t=localStorage.getItem(yS),n=t?JSON.parse(t):{};localStorage.setItem(yS,JSON.stringify({...n,theme:e}))}catch{}}function T3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=A3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");T3(e)}catch{}})();var Cx={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj;function bU(){if(Zj)return ft;Zj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function j(Y,B,X){this.props=Y,this.context=B,this.refs=S,this.updater=X||w}j.prototype.isReactComponent={},j.prototype.setState=function(Y,B){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,B,"setState")},j.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function D(){}D.prototype=j.prototype;function O(Y,B,X){this.props=Y,this.context=B,this.refs=S,this.updater=X||w}var M=O.prototype=new D;M.constructor=O,T(M,j.prototype),M.isPureReactComponent=!0;var C=Array.isArray;function R(){}var I={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function q(Y,B,X){var ee=X.ref;return{$$typeof:e,type:Y,key:B,ref:ee!==void 0?ee:null,props:X}}function V(Y,B){return q(Y.type,B,Y.props)}function H(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function U(Y){var B={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(X){return B[X]})}var Z=/\/+/g;function re(Y,B){return typeof Y=="object"&&Y!==null&&Y.key!=null?U(""+Y.key):B.toString(36)}function ve(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(R,R):(Y.status="pending",Y.then(function(B){Y.status==="pending"&&(Y.status="fulfilled",Y.value=B)},function(B){Y.status==="pending"&&(Y.status="rejected",Y.reason=B)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function J(Y,B,X,ee,G){var W=typeof Y;(W==="undefined"||W==="boolean")&&(Y=null);var le=!1;if(Y===null)le=!0;else switch(W){case"bigint":case"string":case"number":le=!0;break;case"object":switch(Y.$$typeof){case e:case t:le=!0;break;case m:return le=Y._init,J(le(Y._payload),B,X,ee,G)}}if(le)return G=G(Y),le=ee===""?"."+re(Y,0):ee,C(G)?(X="",le!=null&&(X=le.replace(Z,"$&/")+"/"),J(G,B,X,"",function(de){return de})):G!=null&&(H(G)&&(G=V(G,X+(G.key==null||Y&&Y.key===G.key?"":(""+G.key).replace(Z,"$&/")+"/")+le)),B.push(G)),1;le=0;var fe=ee===""?".":ee+":";if(C(Y))for(var Q=0;Q<Y.length;Q++)ee=Y[Q],W=fe+re(ee,Q),le+=J(ee,B,X,W,G);else if(Q=b(Y),typeof Q=="function")for(Y=Q.call(Y),Q=0;!(ee=Y.next()).done;)ee=ee.value,W=fe+re(ee,Q++),le+=J(ee,B,X,W,G);else if(W==="object"){if(typeof Y.then=="function")return J(ve(Y),B,X,ee,G);throw B=String(Y),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return le}function ae(Y,B,X){if(Y==null)return Y;var ee=[],G=0;return J(Y,ee,"","",function(W){return B.call(X,W,G++)}),ee}function ne(Y){if(Y._status===-1){var B=Y._result;B=B(),B.then(function(X){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=X)},function(X){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=X)}),Y._status===-1&&(Y._status=0,Y._result=B)}if(Y._status===1)return Y._result.default;throw Y._result}var ce=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},te={map:ae,forEach:function(Y,B,X){ae(Y,function(){B.apply(this,arguments)},X)},count:function(Y){var B=0;return ae(Y,function(){B++}),B},toArray:function(Y){return ae(Y,function(B){return B})||[]},only:function(Y){if(!H(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return ft.Activity=p,ft.Children=te,ft.Component=j,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=O,ft.StrictMode=r,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ft.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},ft.cache=function(Y){return function(){return Y.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(Y,B,X){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ee=T({},Y.props),G=Y.key;if(B!=null)for(W in B.key!==void 0&&(G=""+B.key),B)!z.call(B,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&B.ref===void 0||(ee[W]=B[W]);var W=arguments.length-2;if(W===1)ee.children=X;else if(1<W){for(var le=Array(W),fe=0;fe<W;fe++)le[fe]=arguments[fe+2];ee.children=le}return q(Y.type,G,ee)},ft.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},ft.createElement=function(Y,B,X){var ee,G={},W=null;if(B!=null)for(ee in B.key!==void 0&&(W=""+B.key),B)z.call(B,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(G[ee]=B[ee]);var le=arguments.length-2;if(le===1)G.children=X;else if(1<le){for(var fe=Array(le),Q=0;Q<le;Q++)fe[Q]=arguments[Q+2];G.children=fe}if(Y&&Y.defaultProps)for(ee in le=Y.defaultProps,le)G[ee]===void 0&&(G[ee]=le[ee]);return q(Y,W,G)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(Y){return{$$typeof:c,render:Y}},ft.isValidElement=H,ft.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ne}},ft.memo=function(Y,B){return{$$typeof:f,type:Y,compare:B===void 0?null:B}},ft.startTransition=function(Y){var B=I.T,X={};I.T=X;try{var ee=Y(),G=I.S;G!==null&&G(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(R,ce)}catch(W){ce(W)}finally{B!==null&&X.types!==null&&(B.types=X.types),I.T=B}},ft.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ft.use=function(Y){return I.H.use(Y)},ft.useActionState=function(Y,B,X){return I.H.useActionState(Y,B,X)},ft.useCallback=function(Y,B){return I.H.useCallback(Y,B)},ft.useContext=function(Y){return I.H.useContext(Y)},ft.useDebugValue=function(){},ft.useDeferredValue=function(Y,B){return I.H.useDeferredValue(Y,B)},ft.useEffect=function(Y,B){return I.H.useEffect(Y,B)},ft.useEffectEvent=function(Y){return I.H.useEffectEvent(Y)},ft.useId=function(){return I.H.useId()},ft.useImperativeHandle=function(Y,B,X){return I.H.useImperativeHandle(Y,B,X)},ft.useInsertionEffect=function(Y,B){return I.H.useInsertionEffect(Y,B)},ft.useLayoutEffect=function(Y,B){return I.H.useLayoutEffect(Y,B)},ft.useMemo=function(Y,B){return I.H.useMemo(Y,B)},ft.useOptimistic=function(Y,B){return I.H.useOptimistic(Y,B)},ft.useReducer=function(Y,B,X){return I.H.useReducer(Y,B,X)},ft.useRef=function(Y){return I.H.useRef(Y)},ft.useState=function(Y){return I.H.useState(Y)},ft.useSyncExternalStore=function(Y,B,X){return I.H.useSyncExternalStore(Y,B,X)},ft.useTransition=function(){return I.H.useTransition()},ft.version="19.2.1",ft}var Xj;function of(){return Xj||(Xj=1,Cx.exports=bU()),Cx.exports}var A=of();const cn=Pi(A),_U=o2({__proto__:null,default:cn},[A]);var Nx={exports:{}},wh={},Mx={exports:{}},Dx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jj;function xU(){return Jj||(Jj=1,(function(e){function t(J,ae){var ne=J.length;J.push(ae);e:for(;0<ne;){var ce=ne-1>>>1,te=J[ce];if(0<i(te,ae))J[ce]=ae,J[ne]=te,ne=ce;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],ne=J.pop();if(ne!==ae){J[0]=ne;e:for(var ce=0,te=J.length,Y=te>>>1;ce<Y;){var B=2*(ce+1)-1,X=J[B],ee=B+1,G=J[ee];if(0>i(X,ne))ee<te&&0>i(G,X)?(J[ce]=G,J[ee]=ne,ce=ee):(J[ce]=X,J[B]=ne,ce=B);else if(ee<te&&0>i(G,ne))J[ce]=G,J[ee]=ne,ce=ee;else break e}}return ae}function i(J,ae){var ne=J.sortIndex-ae.sortIndex;return ne!==0?ne:J.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],m=1,p=null,y=3,b=!1,w=!1,T=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(J){for(var ae=n(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=J)r(f),ae.sortIndex=ae.expirationTime,t(d,ae);else break;ae=n(f)}}function C(J){if(T=!1,M(J),!w)if(n(d)!==null)w=!0,R||(R=!0,U());else{var ae=n(f);ae!==null&&ve(C,ae.startTime-J)}}var R=!1,I=-1,z=5,q=-1;function V(){return S?!0:!(e.unstable_now()-q<z)}function H(){if(S=!1,R){var J=e.unstable_now();q=J;var ae=!0;try{e:{w=!1,T&&(T=!1,D(I),I=-1),b=!0;var ne=y;try{t:{for(M(J),p=n(d);p!==null&&!(p.expirationTime>J&&V());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,y=p.priorityLevel;var te=ce(p.expirationTime<=J);if(J=e.unstable_now(),typeof te=="function"){p.callback=te,M(J),ae=!0;break t}p===n(d)&&r(d),M(J)}else r(d);p=n(d)}if(p!==null)ae=!0;else{var Y=n(f);Y!==null&&ve(C,Y.startTime-J),ae=!1}}break e}finally{p=null,y=ne,b=!1}ae=void 0}}finally{ae?U():R=!1}}}var U;if(typeof O=="function")U=function(){O(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,re=Z.port2;Z.port1.onmessage=H,U=function(){re.postMessage(null)}}else U=function(){j(H,0)};function ve(J,ae){I=j(function(){J(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ne=y;y=ae;try{return J()}finally{y=ne}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ne=y;y=J;try{return ae()}finally{y=ne}},e.unstable_scheduleCallback=function(J,ae,ne){var ce=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ce+ne:ce):ne=ce,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ne+te,J={id:m++,callback:ae,priorityLevel:J,startTime:ne,expirationTime:te,sortIndex:-1},ne>ce?(J.sortIndex=ne,t(f,J),n(d)===null&&J===n(f)&&(T?(D(I),I=-1):T=!0,ve(C,ne-ce))):(J.sortIndex=te,t(d,J),w||b||(w=!0,R||(R=!0,U()))),J},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(J){var ae=y;return function(){var ne=y;y=ae;try{return J.apply(this,arguments)}finally{y=ne}}}})(Dx)),Dx}var Qj;function wU(){return Qj||(Qj=1,Mx.exports=xU()),Mx.exports}var Px={exports:{}},Yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function SU(){if(eC)return Yr;eC=1;var e=of();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,m)},Yr.flushSync=function(d){var f=s.T,m=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=f,r.p=m,r.d.f()}},Yr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Yr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Yr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Yr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Yr.requestFormReset=function(d){r.d.r(d)},Yr.unstable_batchedUpdates=function(d,f){return d(f)},Yr.useFormState=function(d,f,m){return s.H.useFormState(d,f,m)},Yr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Yr.version="19.2.1",Yr}var tC;function k3(){if(tC)return Px.exports;tC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Px.exports=SU(),Px.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function EU(){if(nC)return wh;nC=1;var e=wU(),t=of(),n=k3();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var h=o,v=l;;){var E=h.return;if(E===null)break;var k=E.alternate;if(k===null){if(v=E.return,v!==null){h=v;continue}break}if(E.child===k.child){for(k=E.child;k;){if(k===h)return d(E),o;if(k===v)return d(E),l;k=k.sibling}throw Error(r(188))}if(h.return!==v.return)h=E,v=k;else{for(var $=!1,K=E.child;K;){if(K===h){$=!0,h=E,v=k;break}if(K===v){$=!0,v=E,h=k;break}K=K.sibling}if(!$){for(K=k.child;K;){if(K===h){$=!0,h=k,v=E;break}if(K===v){$=!0,v=k,h=E;break}K=K.sibling}if(!$)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Symbol.for("react.client.reference");function re(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case O:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case M:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return l=o.displayName||null,l!==null?l:re(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return re(o(l))}catch{}}return null}var ve=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ce=[],te=-1;function Y(o){return{current:o}}function B(o){0>te||(o.current=ce[te],ce[te]=null,te--)}function X(o,l){te++,ce[te]=o.current,o.current=l}var ee=Y(null),G=Y(null),W=Y(null),le=Y(null);function fe(o,l){switch(X(W,l),X(G,o),X(ee,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?vj(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=vj(l),o=yj(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}B(ee),X(ee,o)}function Q(){B(ee),B(G),B(W)}function de(o){o.memoizedState!==null&&X(le,o);var l=ee.current,h=yj(l,o.type);l!==h&&(X(G,o),X(ee,h))}function we(o){G.current===o&&(B(ee),B(G)),le.current===o&&(B(le),vh._currentValue=ne)}var se,Ce;function be(o){if(se===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);se=l&&l[1]||"",Ce=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+o+Ce}var Le=!1;function Me(o,l){if(!o||Le)return"";Le=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Te){var Ae=Te}Reflect.construct(o,[],Pe)}else{try{Pe.call()}catch(Te){Ae=Te}o.call(Pe.prototype)}}else{try{throw Error()}catch(Te){Ae=Te}(Pe=o())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Te){if(Te&&Ae&&typeof Te.stack=="string")return[Te.stack,Ae.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),$=k[0],K=k[1];if($&&K){var oe=$.split(`
`),Se=K.split(`
`);for(E=v=0;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Se.length&&!Se[E].includes("DetermineComponentFrameRoot");)E++;if(v===oe.length||E===Se.length)for(v=oe.length-1,E=Se.length-1;1<=v&&0<=E&&oe[v]!==Se[E];)E--;for(;1<=v&&0<=E;v--,E--)if(oe[v]!==Se[E]){if(v!==1||E!==1)do if(v--,E--,0>E||oe[v]!==Se[E]){var je=`
`+oe[v].replace(" at new "," at ");return o.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",o.displayName)),je}while(1<=v&&0<=E);break}}}finally{Le=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?be(h):""}function $e(o,l){switch(o.tag){case 26:case 27:case 5:return be(o.type);case 16:return be("Lazy");case 13:return o.child!==l&&l!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return Me(o.type,!1);case 11:return Me(o.type.render,!1);case 1:return Me(o.type,!0);case 31:return be("Activity");default:return""}}function Be(o){try{var l="",h=null;do l+=$e(o,h),h=o,o=o.return;while(o);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var ye=Object.prototype.hasOwnProperty,Ie=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,ge=e.unstable_shouldYield,Ue=e.unstable_requestPaint,ze=e.unstable_now,He=e.unstable_getCurrentPriorityLevel,ut=e.unstable_ImmediatePriority,it=e.unstable_UserBlockingPriority,tn=e.unstable_NormalPriority,Kn=e.unstable_LowPriority,zn=e.unstable_IdlePriority,Ur=e.log,ti=e.unstable_setDisableYieldValue,En=null,It=null;function Nn(o){if(typeof Ur=="function"&&ti(o),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(En,o)}catch{}}var An=Math.clz32?Math.clz32:Ga,$i=Math.log,Ks=Math.LN2;function Ga(o){return o>>>=0,o===0?32:31-($i(o)/Ks|0)|0}var Un=256,Wn=262144,_o=4194304;function mi(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Hr(o,l,h){var v=o.pendingLanes;if(v===0)return 0;var E=0,k=o.suspendedLanes,$=o.pingedLanes;o=o.warmLanes;var K=v&134217727;return K!==0?(v=K&~k,v!==0?E=mi(v):($&=K,$!==0?E=mi($):h||(h=K&~o,h!==0&&(E=mi(h))))):(K=v&~k,K!==0?E=mi(K):$!==0?E=mi($):h||(h=v&~o,h!==0&&(E=mi(h)))),E===0?0:l!==0&&l!==E&&(l&k)===0&&(k=E&-E,h=l&-l,k>=h||k===32&&(h&4194048)!==0)?l:E}function fa(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Ws(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var o=_o;return _o<<=1,(_o&62914560)===0&&(_o=4194304),o}function Ql(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function qa(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ec(o,l,h,v,E,k){var $=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var K=o.entanglements,oe=o.expirationTimes,Se=o.hiddenUpdates;for(h=$&~h;0<h;){var je=31-An(h),Pe=1<<je;K[je]=0,oe[je]=-1;var Ae=Se[je];if(Ae!==null)for(Se[je]=null,je=0;je<Ae.length;je++){var Te=Ae[je];Te!==null&&(Te.lane&=-536870913)}h&=~Pe}v!==0&&Vs(o,v,0),k!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=k&~($&~l))}function Vs(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var v=31-An(l);o.entangledLanes|=l,o.entanglements[v]=o.entanglements[v]|1073741824|h&261930}function tc(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var v=31-An(h),E=1<<v;E&l|o[v]&l&&(o[v]|=l),h&=~E}}function nc(o,l){var h=l&-l;return h=(h&42)!==0?1:rr(h),(h&(o.suspendedLanes|l))!==0?0:h}function rr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xe(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Yo(){var o=ae.p;return o!==0?o:(o=window.event,o===void 0?32:Uj(o.type))}function pi(o,l){var h=ae.p;try{return ae.p=o,l()}finally{ae.p=h}}var Fr=Math.random().toString(36).slice(2),gn="__reactFiber$"+Fr,Hn="__reactProps$"+Fr,Ii="__reactContainer$"+Fr,ha="__reactEvents$"+Fr,_e="__reactListeners$"+Fr,Ye="__reactHandles$"+Fr,ht="__reactResources$"+Fr,_t="__reactMarker$"+Fr;function ot(o){delete o[gn],delete o[Hn],delete o[ha],delete o[_e],delete o[Ye]}function gt(o){var l=o[gn];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Ii]||h[gn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=Aj(o);o!==null;){if(h=o[gn])return h;o=Aj(o)}return l}o=h,h=o.parentNode}return null}function Tt(o){if(o=o[gn]||o[Ii]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function bt(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ir(o){var l=o[ht];return l||(l=o[ht]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function kt(o){o[_t]=!0}var Zs=new Set,rc={};function ma(o,l){Or(o,l),Or(o+"Capture",l)}function Or(o,l){for(rc[o]=l,o=0;o<l.length;o++)Zs.add(l[o])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},ac={};function oc(o){return ye.call(ac,o)?!0:ye.call(ic,o)?!1:Ko.test(o)?ac[o]=!0:(ic[o]=!0,!1)}function xt(o,l,h){if(oc(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function Kt(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function gi(o,l,h,v){if(v===null)o.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+v)}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Wo(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Af(o,l,h){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,k=v.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return E.call(this)},set:function($){h=""+$,k.call(this,$)}}),Object.defineProperty(o,l,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function($){h=""+$},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function dt(o){if(!o._valueTracker){var l=Wo(o)?"checked":"value";o._valueTracker=Af(o,l,""+o[l])}}function vn(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return o&&(v=Wo(o)?o.checked?"true":"false":o.value),o=v,o!==h?(l.setValue(o),!0):!1}function Xs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ou=/[\n"\\]/g;function dn(o){return o.replace(Ou,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tf(o,l,h,v,E,k,$,K){o.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.type=$:o.removeAttribute("type"),l!=null?$==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+ar(l)):o.value!==""+ar(l)&&(o.value=""+ar(l)):$!=="submit"&&$!=="reset"||o.removeAttribute("value"),l!=null?Ya(o,$,ar(l)):h!=null?Ya(o,$,ar(h)):v!=null&&o.removeAttribute("value"),E==null&&k!=null&&(o.defaultChecked=!!k),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+ar(K):o.removeAttribute("name")}function sc(o,l,h,v,E,k,$,K){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),l!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||l!=null)){dt(o);return}h=h!=null?""+ar(h):"",l=l!=null?""+ar(l):h,K||l===o.value||(o.value=l),o.defaultValue=l}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=K?o.checked:!!v,o.defaultChecked=!!v,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(o.name=$),dt(o)}function Ya(o,l,h){l==="number"&&Xs(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Jt(o,l,h,v){if(o=o.options,l){l={};for(var E=0;E<h.length;E++)l["$"+h[E]]=!0;for(h=0;h<o.length;h++)E=l.hasOwnProperty("$"+o[h].value),o[h].selected!==E&&(o[h].selected=E),E&&v&&(o[h].defaultSelected=!0)}else{for(h=""+ar(h),l=null,E=0;E<o.length;E++){if(o[E].value===h){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}l!==null||o[E].disabled||(l=o[E])}l!==null&&(l.selected=!0)}}function xo(o,l,h){if(l!=null&&(l=""+ar(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+ar(h):""}function Js(o,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(r(92));if(ve(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=ar(l),o.defaultValue=h,v=o.textContent,v===h&&v!==""&&v!==null&&(o.value=v),dt(o)}function pa(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qs(o,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":v?o.setProperty(l,h):typeof h!="number"||h===0||kf.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function ju(o,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in l)v=l[E],l.hasOwnProperty(E)&&h[E]!==v&&Qs(o,E,v)}else for(var k in l)l.hasOwnProperty(k)&&Qs(o,k,l[k])}function lc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(o){return Of.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function vi(){}var Nu=null;function cc(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var tl=null,ct=null;function Bi(o){var l=Tt(o);if(l&&(o=l.stateNode)){var h=o[Hn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Tf(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+dn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==o&&v.form===o.form){var E=v[Hn]||null;if(!E)throw Error(r(90));Tf(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===o.form&&vn(v)}break e;case"textarea":xo(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Jt(o,!!h.multiple,l,!1)}}}var Ut=!1;function jf(o,l,h){if(Ut)return o(l,h);Ut=!0;try{var v=o(l);return v}finally{if(Ut=!1,(tl!==null||ct!==null)&&(ug(),tl&&(l=tl,o=ct,ct=tl=null,Bi(l),o)))for(l=0;l<o.length;l++)Bi(o[l])}}function Vo(o,l){var h=o.stateNode;if(h===null)return null;var v=h[Hn]||null;if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(zi)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){uc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{uc=!1}var ga=null,Zo=null,Mn=null;function wo(){if(Mn)return Mn;var o,l=Zo,h=l.length,v,E="value"in ga?ga.value:ga.textContent,k=E.length;for(o=0;o<h&&l[o]===E[o];o++);var $=h-o;for(v=1;v<=$&&l[h-v]===E[k-v];v++);return Mn=E.slice(o,1<v?1-v:void 0)}function dc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function fc(){return!0}function pp(){return!1}function jr(o){function l(h,v,E,k,$){this._reactName=h,this._targetInst=E,this.type=v,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(h=o[K],this[K]=h?h(k):k[K]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?fc:pp,this.isPropagationStopped=pp,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),l}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=jr(Ka),nl=p({},Ka,{view:0,detail:0}),Ot=jr(nl),Cf,ni,Wa,hc=p({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wa&&(Wa&&o.type==="mousemove"?(Cf=o.screenX-Wa.screenX,ni=o.screenY-Wa.screenY):ni=Cf=0,Wa=o),Cf)},movementY:function(o){return"movementY"in o?o.movementY:ni}}),gp=jr(hc),Nf=p({},hc,{dataTransfer:0}),Bb=jr(Nf),vp=p({},nl,{relatedTarget:0}),Mf=jr(vp),zb=p({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=jr(zb),Ub=p({},Ka,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),va=jr(Ub),Hb=p({},Ka,{data:0}),Pf=jr(Hb),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rf(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=bp[o])?!!l[o]:!1}function Lf(){return Rf}var _p=p({},nl,{key:function(o){if(o.key){var l=So[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=dc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?yp[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(o){return o.type==="keypress"?dc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?dc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),xp=jr(_p),Fb=p({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wp=jr(Fb),$f=p({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),Gb=jr($f),Sp=p({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ep=jr(Sp),Du=p({},hc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=jr(Du),qb=p({},Ka,{newState:0,oldState:0}),mc=jr(qb),yi=[9,13,27,32],Pu=zi&&"CompositionEvent"in window,rl=null;zi&&"documentMode"in document&&(rl=document.documentMode);var Yb=zi&&"TextEvent"in window&&!rl,Ru=zi&&(!Pu||rl&&8<rl&&11>=rl),Lu=" ",Ap=!1;function Tp(o,l){switch(o){case"keyup":return yi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var il=!1;function Hi(o,l){switch(o){case"compositionend":return If(l);case"keypress":return l.which!==32?null:(Ap=!0,Lu);case"textInput":return o=l.data,o===Lu&&Ap?null:o;default:return null}}function al(o,l){if(il)return o==="compositionend"||!Pu&&Tp(o,l)?(o=wo(),Mn=Zo=ga=null,il=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ru&&l.locale!=="ko"?null:l.data;default:return null}}var Kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ya(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Kb[o.type]:l==="textarea"}function kp(o,l,h,v){tl?ct?ct.push(v):ct=[v]:tl=v,l=vg(l,"onChange"),0<l.length&&(h=new Mu("onChange","change",null,h,v),o.push({event:h,listeners:l}))}var ba=null,pc=null;function gc(o){dj(o,0)}function vc(o){var l=bt(o);if(vn(l))return o}function yc(o,l){if(o==="change")return l}var Op=!1;if(zi){var _a;if(zi){var ol="oninput"in document;if(!ol){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),ol=typeof jp.oninput=="function"}_a=ol}else _a=!1;Op=_a&&(!document.documentMode||9<document.documentMode)}function $u(){ba&&(ba.detachEvent("onpropertychange",Cp),pc=ba=null)}function Cp(o){if(o.propertyName==="value"&&vc(pc)){var l=[];kp(l,pc,o,cc(o)),jf(gc,l)}}function Va(o,l,h){o==="focusin"?($u(),ba=l,pc=h,ba.attachEvent("onpropertychange",Cp)):o==="focusout"&&$u()}function Wb(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return vc(pc)}function sl(o,l){if(o==="click")return vc(l)}function Vb(o,l){if(o==="input"||o==="change")return vc(l)}function Za(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var pr=typeof Object.is=="function"?Object.is:Za;function ll(o,l){if(pr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var E=h[v];if(!ye.call(l,E)||!pr(o[E],l[E]))return!1}return!0}function Iu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function bc(o,l){var h=Iu(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=l&&v>=l)return{node:h,offset:l-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Iu(h)}}function Bu(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Bu(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function _c(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Xs(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Xs(o.document)}return l}function Eo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var zu=zi&&"documentMode"in document&&11>=document.documentMode,Ao=null,Uu=null,xc=null,cl=!1;function Np(o,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;cl||Ao==null||Ao!==Xs(v)||(v=Ao,"selectionStart"in v&&Eo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),xc&&ll(xc,v)||(xc=v,v=vg(Uu,"onSelect"),0<v.length&&(l=new Mu("onSelect","select",null,l,h),o.push({event:l,listeners:v}),l.target=Ao)))}function To(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var ul={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},Hu={},Mp={};zi&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function gr(o){if(Hu[o])return Hu[o];if(!ul[o])return o;var l=ul[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Mp)return Hu[o]=l[h];return o}var wc=gr("animationend"),Dp=gr("animationiteration"),Sc=gr("animationstart"),Zb=gr("transitionrun"),Pp=gr("transitionstart"),Xb=gr("transitioncancel"),dl=gr("transitionend"),Rp=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ko.push("scrollEnd");function bi(o,l){Rp.set(o,l),ma(l,[o])}var Ec=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},_i=[],Gr=0,Fu=0;function Ac(){for(var o=Gr,l=Fu=Gr=0;l<o;){var h=_i[l];_i[l++]=null;var v=_i[l];_i[l++]=null;var E=_i[l];_i[l++]=null;var k=_i[l];if(_i[l++]=null,v!==null&&E!==null){var $=v.pending;$===null?E.next=E:(E.next=$.next,$.next=E),v.pending=E}k!==0&&fl(h,E,k)}}function Oo(o,l,h,v){_i[Gr++]=o,_i[Gr++]=l,_i[Gr++]=h,_i[Gr++]=v,Fu|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Bf(o,l,h,v){return Oo(o,l,h,v),Tc(o)}function xa(o,l){return Oo(o,null,null,l),Tc(o)}function fl(o,l,h){o.lanes|=h;var v=o.alternate;v!==null&&(v.lanes|=h);for(var E=!1,k=o.return;k!==null;)k.childLanes|=h,v=k.alternate,v!==null&&(v.childLanes|=h),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(E=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,E&&l!==null&&(E=31-An(h),o=k.hiddenUpdates,v=o[E],v===null?o[E]=[l]:v.push(l),l.lane=h|536870912),k):null}function Tc(o){if(50<uh)throw uh=0,Q_=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Jo={};function Jb(o,l,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(o,l,h,v){return new Jb(o,l,h,v)}function Gu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wa(o,l){var h=o.alternate;return h===null?(h=qr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function zf(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function kc(o,l,h,v,E,k){var $=0;if(v=o,typeof o=="function")Gu(o)&&($=1);else if(typeof o=="string")$=aU(o,h,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=qr(31,h,l,E),o.elementType=q,o.lanes=k,o;case T:return Qo(h.children,E,k,l);case S:$=8,E|=24;break;case j:return o=qr(12,h,l,E|2),o.elementType=j,o.lanes=k,o;case C:return o=qr(13,h,l,E),o.elementType=C,o.lanes=k,o;case R:return o=qr(19,h,l,E),o.elementType=R,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:$=10;break e;case D:$=9;break e;case M:$=11;break e;case I:$=14;break e;case z:$=16,v=null;break e}$=29,h=Error(r(130,o===null?"null":typeof o,"")),v=null}return l=qr($,h,l,E),l.elementType=o,l.type=v,l.lanes=k,l}function Qo(o,l,h,v){return o=qr(7,o,v,l),o.lanes=h,o}function qu(o,l,h){return o=qr(6,o,null,l),o.lanes=h,o}function Uf(o){var l=qr(18,null,null,0);return l.stateNode=o,l}function Hf(o,l,h){return l=qr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var u=new WeakMap;function g(o,l){if(typeof o=="object"&&o!==null){var h=u.get(o);return h!==void 0?h:(l={value:o,source:l,stack:Be(l)},u.set(o,l),l)}return{value:o,source:l,stack:Be(l)}}var x=[],N=0,P=null,F=0,ie=[],pe=0,Ee=null,De=1,Ge="";function et(o,l){x[N++]=F,x[N++]=P,P=o,F=l}function vt(o,l,h){ie[pe++]=De,ie[pe++]=Ge,ie[pe++]=Ee,Ee=o;var v=De;o=Ge;var E=32-An(v)-1;v&=~(1<<E),h+=1;var k=32-An(l)+E;if(30<k){var $=E-E%5;k=(v&(1<<$)-1).toString(32),v>>=$,E-=$,De=1<<32-An(l)+E|h<<E|v,Ge=k+o}else De=1<<k|h<<E|v,Ge=o}function or(o){o.return!==null&&(et(o,1),vt(o,1,0))}function Dn(o){for(;o===P;)P=x[--N],x[N]=null,F=x[--N],x[N]=null;for(;o===Ee;)Ee=ie[--pe],ie[pe]=null,Ge=ie[--pe],ie[pe]=null,De=ie[--pe],ie[pe]=null}function ri(o,l){ie[pe++]=De,ie[pe++]=Ge,ie[pe++]=Ee,De=l.id,Ge=l.overflow,Ee=o}var Dt=null,Pt=null,wt=!1,jo=null,xi=!1,Yu=Error(r(519));function Co(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oc(g(l,o)),Yu}function Ff(o){var l=o.stateNode,h=o.type,v=o.memoizedProps;switch(l[gn]=o,l[Hn]=v,h){case"dialog":Et("cancel",l),Et("close",l);break;case"iframe":case"object":case"embed":Et("load",l);break;case"video":case"audio":for(h=0;h<fh.length;h++)Et(fh[h],l);break;case"source":Et("error",l);break;case"img":case"image":case"link":Et("error",l),Et("load",l);break;case"details":Et("toggle",l);break;case"input":Et("invalid",l),sc(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Et("invalid",l);break;case"textarea":Et("invalid",l),Js(l,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||pj(l.textContent,h)?(v.popover!=null&&(Et("beforetoggle",l),Et("toggle",l)),v.onScroll!=null&&Et("scroll",l),v.onScrollEnd!=null&&Et("scrollend",l),v.onClick!=null&&(l.onclick=vi),l=!0):l=!1,l||Co(o,!0)}function Tn(o){for(Dt=o.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Dt=Dt.return}}function Xa(o){if(o!==Dt)return!1;if(!wt)return Tn(o),wt=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||mx(o.type,o.memoizedProps)),h=!h),h&&Pt&&Co(o),Tn(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Pt=Ej(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Pt=Ej(o)}else l===27?(l=Pt,Tl(o.type)?(o=bx,bx=null,Pt=o):Pt=l):Pt=Dt?Ea(o.stateNode.nextSibling):null;return!0}function es(){Pt=Dt=null,wt=!1}function Gf(){var o=jo;return o!==null&&(Ai===null?Ai=o:Ai.push.apply(Ai,o),jo=null),o}function Oc(o){jo===null?jo=[o]:jo.push(o)}var jc=Y(null),No=null,Ja=null;function hl(o,l,h){X(jc,l._currentValue),l._currentValue=h}function ts(o){o._currentValue=jc.current,B(jc)}function Qb(o,l,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===h)break;o=o.return}}function e_(o,l,h,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var k=E.dependencies;if(k!==null){var $=E.child;k=k.firstContext;e:for(;k!==null;){var K=k;k=E;for(var oe=0;oe<l.length;oe++)if(K.context===l[oe]){k.lanes|=h,K=k.alternate,K!==null&&(K.lanes|=h),Qb(k.return,h,o),v||($=null);break e}k=K.next}}else if(E.tag===18){if($=E.return,$===null)throw Error(r(341));$.lanes|=h,k=$.alternate,k!==null&&(k.lanes|=h),Qb($,h,o),$=null}else $=E.child;if($!==null)$.return=E;else for($=E;$!==null;){if($===o){$=null;break}if(E=$.sibling,E!==null){E.return=$.return,$=E;break}$=$.return}E=$}}function Ku(o,l,h,v){o=null;for(var E=l,k=!1;E!==null;){if(!k){if((E.flags&524288)!==0)k=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var $=E.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var K=E.type;pr(E.pendingProps.value,$.value)||(o!==null?o.push(K):o=[K])}}else if(E===le.current){if($=E.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(vh):o=[vh])}E=E.return}o!==null&&e_(l,o,h,v),l.flags|=262144}function Lp(o){for(o=o.firstContext;o!==null;){if(!pr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Cc(o){No=o,Ja=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Cr(o){return ek(No,o)}function $p(o,l){return No===null&&Cc(o),ek(o,l)}function ek(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ja===null){if(o===null)throw Error(r(308));Ja=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ja=Ja.next=l;return h}var t8=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,v){o.push(v)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},n8=e.unstable_scheduleCallback,r8=e.unstable_NormalPriority,Vn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function t_(){return{controller:new t8,data:new Map,refCount:0}}function qf(o){o.refCount--,o.refCount===0&&n8(r8,function(){o.controller.abort()})}var Yf=null,n_=0,Wu=0,Vu=null;function i8(o,l){if(Yf===null){var h=Yf=[];n_=0,Wu=ax(),Vu={status:"pending",value:void 0,then:function(v){h.push(v)}}}return n_++,l.then(tk,tk),l}function tk(){if(--n_===0&&Yf!==null){Vu!==null&&(Vu.status="fulfilled");var o=Yf;Yf=null,Wu=0,Vu=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function a8(o,l){var h=[],v={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return o.then(function(){v.status="fulfilled",v.value=l;for(var E=0;E<h.length;E++)(0,h[E])(l)},function(E){for(v.status="rejected",v.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),v}var nk=J.S;J.S=function(o,l){BO=ze(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&i8(o,l),nk!==null&&nk(o,l)};var Nc=Y(null);function r_(){var o=Nc.current;return o!==null?o:Qt.pooledCache}function Ip(o,l){l===null?X(Nc,Nc.current):X(Nc,l.pool)}function rk(){var o=r_();return o===null?null:{parent:Vn._currentValue,pool:o}}var Zu=Error(r(460)),i_=Error(r(474)),Bp=Error(r(542)),zp={then:function(){}};function ik(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ak(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(vi,vi),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,sk(o),o;default:if(typeof l.status=="string")l.then(vi,vi);else{if(o=Qt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(v){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=v}},function(v){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,sk(o),o}throw Dc=l,Zu}}function Mc(o){try{var l=o._init;return l(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Dc=h,Zu):h}}var Dc=null;function ok(){if(Dc===null)throw Error(r(459));var o=Dc;return Dc=null,o}function sk(o){if(o===Zu||o===Bp)throw Error(r(483))}var Xu=null,Kf=0;function Up(o){var l=Kf;return Kf+=1,Xu===null&&(Xu=[]),ak(Xu,o,l)}function Wf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Hp(o,l){throw l.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function lk(o){function l(me,ue){if(o){var xe=me.deletions;xe===null?(me.deletions=[ue],me.flags|=16):xe.push(ue)}}function h(me,ue){if(!o)return null;for(;ue!==null;)l(me,ue),ue=ue.sibling;return null}function v(me){for(var ue=new Map;me!==null;)me.key!==null?ue.set(me.key,me):ue.set(me.index,me),me=me.sibling;return ue}function E(me,ue){return me=wa(me,ue),me.index=0,me.sibling=null,me}function k(me,ue,xe){return me.index=xe,o?(xe=me.alternate,xe!==null?(xe=xe.index,xe<ue?(me.flags|=67108866,ue):xe):(me.flags|=67108866,ue)):(me.flags|=1048576,ue)}function $(me){return o&&me.alternate===null&&(me.flags|=67108866),me}function K(me,ue,xe,Ne){return ue===null||ue.tag!==6?(ue=qu(xe,me.mode,Ne),ue.return=me,ue):(ue=E(ue,xe),ue.return=me,ue)}function oe(me,ue,xe,Ne){var rt=xe.type;return rt===T?je(me,ue,xe.props.children,Ne,xe.key):ue!==null&&(ue.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===z&&Mc(rt)===ue.type)?(ue=E(ue,xe.props),Wf(ue,xe),ue.return=me,ue):(ue=kc(xe.type,xe.key,xe.props,null,me.mode,Ne),Wf(ue,xe),ue.return=me,ue)}function Se(me,ue,xe,Ne){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==xe.containerInfo||ue.stateNode.implementation!==xe.implementation?(ue=Hf(xe,me.mode,Ne),ue.return=me,ue):(ue=E(ue,xe.children||[]),ue.return=me,ue)}function je(me,ue,xe,Ne,rt){return ue===null||ue.tag!==7?(ue=Qo(xe,me.mode,Ne,rt),ue.return=me,ue):(ue=E(ue,xe),ue.return=me,ue)}function Pe(me,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=qu(""+ue,me.mode,xe),ue.return=me,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return xe=kc(ue.type,ue.key,ue.props,null,me.mode,xe),Wf(xe,ue),xe.return=me,xe;case w:return ue=Hf(ue,me.mode,xe),ue.return=me,ue;case z:return ue=Mc(ue),Pe(me,ue,xe)}if(ve(ue)||U(ue))return ue=Qo(ue,me.mode,xe,null),ue.return=me,ue;if(typeof ue.then=="function")return Pe(me,Up(ue),xe);if(ue.$$typeof===O)return Pe(me,$p(me,ue),xe);Hp(me,ue)}return null}function Ae(me,ue,xe,Ne){var rt=ue!==null?ue.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return rt!==null?null:K(me,ue,""+xe,Ne);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return xe.key===rt?oe(me,ue,xe,Ne):null;case w:return xe.key===rt?Se(me,ue,xe,Ne):null;case z:return xe=Mc(xe),Ae(me,ue,xe,Ne)}if(ve(xe)||U(xe))return rt!==null?null:je(me,ue,xe,Ne,null);if(typeof xe.then=="function")return Ae(me,ue,Up(xe),Ne);if(xe.$$typeof===O)return Ae(me,ue,$p(me,xe),Ne);Hp(me,xe)}return null}function Te(me,ue,xe,Ne,rt){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return me=me.get(xe)||null,K(ue,me,""+Ne,rt);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:return me=me.get(Ne.key===null?xe:Ne.key)||null,oe(ue,me,Ne,rt);case w:return me=me.get(Ne.key===null?xe:Ne.key)||null,Se(ue,me,Ne,rt);case z:return Ne=Mc(Ne),Te(me,ue,xe,Ne,rt)}if(ve(Ne)||U(Ne))return me=me.get(xe)||null,je(ue,me,Ne,rt,null);if(typeof Ne.then=="function")return Te(me,ue,xe,Up(Ne),rt);if(Ne.$$typeof===O)return Te(me,ue,xe,$p(ue,Ne),rt);Hp(ue,Ne)}return null}function We(me,ue,xe,Ne){for(var rt=null,Rt=null,Je=ue,yt=ue=0,Ct=null;Je!==null&&yt<xe.length;yt++){Je.index>yt?(Ct=Je,Je=null):Ct=Je.sibling;var Lt=Ae(me,Je,xe[yt],Ne);if(Lt===null){Je===null&&(Je=Ct);break}o&&Je&&Lt.alternate===null&&l(me,Je),ue=k(Lt,ue,yt),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt,Je=Ct}if(yt===xe.length)return h(me,Je),wt&&et(me,yt),rt;if(Je===null){for(;yt<xe.length;yt++)Je=Pe(me,xe[yt],Ne),Je!==null&&(ue=k(Je,ue,yt),Rt===null?rt=Je:Rt.sibling=Je,Rt=Je);return wt&&et(me,yt),rt}for(Je=v(Je);yt<xe.length;yt++)Ct=Te(Je,me,yt,xe[yt],Ne),Ct!==null&&(o&&Ct.alternate!==null&&Je.delete(Ct.key===null?yt:Ct.key),ue=k(Ct,ue,yt),Rt===null?rt=Ct:Rt.sibling=Ct,Rt=Ct);return o&&Je.forEach(function(Nl){return l(me,Nl)}),wt&&et(me,yt),rt}function st(me,ue,xe,Ne){if(xe==null)throw Error(r(151));for(var rt=null,Rt=null,Je=ue,yt=ue=0,Ct=null,Lt=xe.next();Je!==null&&!Lt.done;yt++,Lt=xe.next()){Je.index>yt?(Ct=Je,Je=null):Ct=Je.sibling;var Nl=Ae(me,Je,Lt.value,Ne);if(Nl===null){Je===null&&(Je=Ct);break}o&&Je&&Nl.alternate===null&&l(me,Je),ue=k(Nl,ue,yt),Rt===null?rt=Nl:Rt.sibling=Nl,Rt=Nl,Je=Ct}if(Lt.done)return h(me,Je),wt&&et(me,yt),rt;if(Je===null){for(;!Lt.done;yt++,Lt=xe.next())Lt=Pe(me,Lt.value,Ne),Lt!==null&&(ue=k(Lt,ue,yt),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return wt&&et(me,yt),rt}for(Je=v(Je);!Lt.done;yt++,Lt=xe.next())Lt=Te(Je,me,yt,Lt.value,Ne),Lt!==null&&(o&&Lt.alternate!==null&&Je.delete(Lt.key===null?yt:Lt.key),ue=k(Lt,ue,yt),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return o&&Je.forEach(function(gU){return l(me,gU)}),wt&&et(me,yt),rt}function Zt(me,ue,xe,Ne){if(typeof xe=="object"&&xe!==null&&xe.type===T&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:e:{for(var rt=xe.key;ue!==null;){if(ue.key===rt){if(rt=xe.type,rt===T){if(ue.tag===7){h(me,ue.sibling),Ne=E(ue,xe.props.children),Ne.return=me,me=Ne;break e}}else if(ue.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===z&&Mc(rt)===ue.type){h(me,ue.sibling),Ne=E(ue,xe.props),Wf(Ne,xe),Ne.return=me,me=Ne;break e}h(me,ue);break}else l(me,ue);ue=ue.sibling}xe.type===T?(Ne=Qo(xe.props.children,me.mode,Ne,xe.key),Ne.return=me,me=Ne):(Ne=kc(xe.type,xe.key,xe.props,null,me.mode,Ne),Wf(Ne,xe),Ne.return=me,me=Ne)}return $(me);case w:e:{for(rt=xe.key;ue!==null;){if(ue.key===rt)if(ue.tag===4&&ue.stateNode.containerInfo===xe.containerInfo&&ue.stateNode.implementation===xe.implementation){h(me,ue.sibling),Ne=E(ue,xe.children||[]),Ne.return=me,me=Ne;break e}else{h(me,ue);break}else l(me,ue);ue=ue.sibling}Ne=Hf(xe,me.mode,Ne),Ne.return=me,me=Ne}return $(me);case z:return xe=Mc(xe),Zt(me,ue,xe,Ne)}if(ve(xe))return We(me,ue,xe,Ne);if(U(xe)){if(rt=U(xe),typeof rt!="function")throw Error(r(150));return xe=rt.call(xe),st(me,ue,xe,Ne)}if(typeof xe.then=="function")return Zt(me,ue,Up(xe),Ne);if(xe.$$typeof===O)return Zt(me,ue,$p(me,xe),Ne);Hp(me,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ue!==null&&ue.tag===6?(h(me,ue.sibling),Ne=E(ue,xe),Ne.return=me,me=Ne):(h(me,ue),Ne=qu(xe,me.mode,Ne),Ne.return=me,me=Ne),$(me)):h(me,ue)}return function(me,ue,xe,Ne){try{Kf=0;var rt=Zt(me,ue,xe,Ne);return Xu=null,rt}catch(Je){if(Je===Zu||Je===Bp)throw Je;var Rt=qr(29,Je,null,me.mode);return Rt.lanes=Ne,Rt.return=me,Rt}finally{}}}var Pc=lk(!0),ck=lk(!1),ml=!1;function a_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function o_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function gl(o,l,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Bt&2)!==0){var E=v.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),v.pending=l,l=Tc(o),fl(o,null,h),l}return Oo(o,v,l,h),Tc(o)}function Vf(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,tc(o,h)}}function s_(o,l){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var E=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var $={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?E=k=$:k=k.next=$,h=h.next}while(h!==null);k===null?E=k=l:k=k.next=l}else E=k=l;h={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var l_=!1;function Zf(){if(l_){var o=Vu;if(o!==null)throw o}}function Xf(o,l,h,v){l_=!1;var E=o.updateQueue;ml=!1;var k=E.firstBaseUpdate,$=E.lastBaseUpdate,K=E.shared.pending;if(K!==null){E.shared.pending=null;var oe=K,Se=oe.next;oe.next=null,$===null?k=Se:$.next=Se,$=oe;var je=o.alternate;je!==null&&(je=je.updateQueue,K=je.lastBaseUpdate,K!==$&&(K===null?je.firstBaseUpdate=Se:K.next=Se,je.lastBaseUpdate=oe))}if(k!==null){var Pe=E.baseState;$=0,je=Se=oe=null,K=k;do{var Ae=K.lane&-536870913,Te=Ae!==K.lane;if(Te?(jt&Ae)===Ae:(v&Ae)===Ae){Ae!==0&&Ae===Wu&&(l_=!0),je!==null&&(je=je.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var We=o,st=K;Ae=l;var Zt=h;switch(st.tag){case 1:if(We=st.payload,typeof We=="function"){Pe=We.call(Zt,Pe,Ae);break e}Pe=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=st.payload,Ae=typeof We=="function"?We.call(Zt,Pe,Ae):We,Ae==null)break e;Pe=p({},Pe,Ae);break e;case 2:ml=!0}}Ae=K.callback,Ae!==null&&(o.flags|=64,Te&&(o.flags|=8192),Te=E.callbacks,Te===null?E.callbacks=[Ae]:Te.push(Ae))}else Te={lane:Ae,tag:K.tag,payload:K.payload,callback:K.callback,next:null},je===null?(Se=je=Te,oe=Pe):je=je.next=Te,$|=Ae;if(K=K.next,K===null){if(K=E.shared.pending,K===null)break;Te=K,K=Te.next,Te.next=null,E.lastBaseUpdate=Te,E.shared.pending=null}}while(!0);je===null&&(oe=Pe),E.baseState=oe,E.firstBaseUpdate=Se,E.lastBaseUpdate=je,k===null&&(E.shared.lanes=0),xl|=$,o.lanes=$,o.memoizedState=Pe}}function uk(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function dk(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)uk(h[o],l)}var Ju=Y(null),Fp=Y(0);function fk(o,l){o=us,X(Fp,o),X(Ju,l),us=o|l.baseLanes}function c_(){X(Fp,us),X(Ju,Ju.current)}function u_(){us=Fp.current,B(Ju),B(Fp)}var Fi=Y(null),Sa=null;function vl(o){var l=o.alternate;X(Fn,Fn.current&1),X(Fi,o),Sa===null&&(l===null||Ju.current!==null||l.memoizedState!==null)&&(Sa=o)}function d_(o){X(Fn,Fn.current),X(Fi,o),Sa===null&&(Sa=o)}function hk(o){o.tag===22?(X(Fn,Fn.current),X(Fi,o),Sa===null&&(Sa=o)):yl()}function yl(){X(Fn,Fn.current),X(Fi,Fi.current)}function Gi(o){B(Fi),Sa===o&&(Sa=null),B(Fn)}var Fn=Y(0);function Gp(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||vx(h)||yx(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ns=0,mt=null,Wt=null,Zn=null,qp=!1,Qu=!1,Rc=!1,Yp=0,Jf=0,ed=null,o8=0;function Pn(){throw Error(r(321))}function f_(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!pr(o[h],l[h]))return!1;return!0}function h_(o,l,h,v,E,k){return ns=k,mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=o===null||o.memoizedState===null?Zk:O_,Rc=!1,k=h(v,E),Rc=!1,Qu&&(k=pk(l,h,v,E)),mk(o),k}function mk(o){J.H=th;var l=Wt!==null&&Wt.next!==null;if(ns=0,Zn=Wt=mt=null,qp=!1,Jf=0,ed=null,l)throw Error(r(300));o===null||Xn||(o=o.dependencies,o!==null&&Lp(o)&&(Xn=!0))}function pk(o,l,h,v){mt=o;var E=0;do{if(Qu&&(ed=null),Jf=0,Qu=!1,25<=E)throw Error(r(301));if(E+=1,Zn=Wt=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}J.H=Xk,k=l(h,v)}while(Qu);return k}function s8(){var o=J.H,l=o.useState()[0];return l=typeof l.then=="function"?Qf(l):l,o=o.useState()[0],(Wt!==null?Wt.memoizedState:null)!==o&&(mt.flags|=1024),l}function m_(){var o=Yp!==0;return Yp=0,o}function p_(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function g_(o){if(qp){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}qp=!1}ns=0,Zn=Wt=mt=null,Qu=!1,Jf=Yp=0,ed=null}function ii(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?mt.memoizedState=Zn=o:Zn=Zn.next=o,Zn}function Gn(){if(Wt===null){var o=mt.alternate;o=o!==null?o.memoizedState:null}else o=Wt.next;var l=Zn===null?mt.memoizedState:Zn.next;if(l!==null)Zn=l,Wt=o;else{if(o===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Wt=o,o={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Zn===null?mt.memoizedState=Zn=o:Zn=Zn.next=o}return Zn}function Kp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qf(o){var l=Jf;return Jf+=1,ed===null&&(ed=[]),o=ak(ed,o,l),l=mt,(Zn===null?l.memoizedState:Zn.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?Zk:O_),o}function Wp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Qf(o);if(o.$$typeof===O)return Cr(o)}throw Error(r(438,String(o)))}function v_(o){var l=null,h=mt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=mt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Kp(),mt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),v=0;v<o;v++)h[v]=V;return l.index++,h}function rs(o,l){return typeof l=="function"?l(o):l}function Vp(o){var l=Gn();return y_(l,Wt,o)}function y_(o,l,h){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var E=o.baseQueue,k=v.pending;if(k!==null){if(E!==null){var $=E.next;E.next=k.next,k.next=$}l.baseQueue=E=k,v.pending=null}if(k=o.baseState,E===null)o.memoizedState=k;else{l=E.next;var K=$=null,oe=null,Se=l,je=!1;do{var Pe=Se.lane&-536870913;if(Pe!==Se.lane?(jt&Pe)===Pe:(ns&Pe)===Pe){var Ae=Se.revertLane;if(Ae===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Pe===Wu&&(je=!0);else if((ns&Ae)===Ae){Se=Se.next,Ae===Wu&&(je=!0);continue}else Pe={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(K=oe=Pe,$=k):oe=oe.next=Pe,mt.lanes|=Ae,xl|=Ae;Pe=Se.action,Rc&&h(k,Pe),k=Se.hasEagerState?Se.eagerState:h(k,Pe)}else Ae={lane:Pe,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(K=oe=Ae,$=k):oe=oe.next=Ae,mt.lanes|=Pe,xl|=Pe;Se=Se.next}while(Se!==null&&Se!==l);if(oe===null?$=k:oe.next=K,!pr(k,o.memoizedState)&&(Xn=!0,je&&(h=Vu,h!==null)))throw h;o.memoizedState=k,o.baseState=$,o.baseQueue=oe,v.lastRenderedState=k}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function b_(o){var l=Gn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var v=h.dispatch,E=h.pending,k=l.memoizedState;if(E!==null){h.pending=null;var $=E=E.next;do k=o(k,$.action),$=$.next;while($!==E);pr(k,l.memoizedState)||(Xn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,v]}function gk(o,l,h){var v=mt,E=Gn(),k=wt;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=l();var $=!pr((Wt||E).memoizedState,h);if($&&(E.memoizedState=h,Xn=!0),E=E.queue,w_(bk.bind(null,v,E,o),[o]),E.getSnapshot!==l||$||Zn!==null&&Zn.memoizedState.tag&1){if(v.flags|=2048,td(9,{destroy:void 0},yk.bind(null,v,E,h,l),null),Qt===null)throw Error(r(349));k||(ns&127)!==0||vk(v,l,h)}return h}function vk(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=mt.updateQueue,l===null?(l=Kp(),mt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function yk(o,l,h,v){l.value=h,l.getSnapshot=v,_k(l)&&xk(o)}function bk(o,l,h){return h(function(){_k(l)&&xk(o)})}function _k(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!pr(o,h)}catch{return!0}}function xk(o){var l=xa(o,2);l!==null&&Ti(l,o,2)}function __(o){var l=ii();if(typeof o=="function"){var h=o;if(o=h(),Rc){Nn(!0);try{h()}finally{Nn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:o},l}function wk(o,l,h,v){return o.baseState=h,y_(o,Wt,typeof v=="function"?v:rs)}function l8(o,l,h,v,E){if(Jp(o))throw Error(r(485));if(o=l.action,o!==null){var k={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){k.listeners.push($)}};J.T!==null?h(!0):k.isTransition=!1,v(k),h=l.pending,h===null?(k.next=l.pending=k,Sk(l,k)):(k.next=h.next,l.pending=h.next=k)}}function Sk(o,l){var h=l.action,v=l.payload,E=o.state;if(l.isTransition){var k=J.T,$={};J.T=$;try{var K=h(E,v),oe=J.S;oe!==null&&oe($,K),Ek(o,l,K)}catch(Se){x_(o,l,Se)}finally{k!==null&&$.types!==null&&(k.types=$.types),J.T=k}}else try{k=h(E,v),Ek(o,l,k)}catch(Se){x_(o,l,Se)}}function Ek(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){Ak(o,l,v)},function(v){return x_(o,l,v)}):Ak(o,l,h)}function Ak(o,l,h){l.status="fulfilled",l.value=h,Tk(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,Sk(o,h)))}function x_(o,l,h){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,Tk(l),l=l.next;while(l!==v)}o.action=null}function Tk(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function kk(o,l){return l}function Ok(o,l){if(wt){var h=Qt.formState;if(h!==null){e:{var v=mt;if(wt){if(Pt){t:{for(var E=Pt,k=xi;E.nodeType!==8;){if(!k){E=null;break t}if(E=Ea(E.nextSibling),E===null){E=null;break t}}k=E.data,E=k==="F!"||k==="F"?E:null}if(E){Pt=Ea(E.nextSibling),v=E.data==="F!";break e}}Co(v)}v=!1}v&&(l=h[0])}}return h=ii(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kk,lastRenderedState:l},h.queue=v,h=Kk.bind(null,mt,v),v.dispatch=h,v=__(!1),k=k_.bind(null,mt,!1,v.queue),v=ii(),E={state:l,dispatch:null,action:o,pending:null},v.queue=E,h=l8.bind(null,mt,E,k,h),E.dispatch=h,v.memoizedState=o,[l,h,!1]}function jk(o){var l=Gn();return Ck(l,Wt,o)}function Ck(o,l,h){if(l=y_(o,l,kk)[0],o=Vp(rs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Qf(l)}catch($){throw $===Zu?Bp:$}else v=l;l=Gn();var E=l.queue,k=E.dispatch;return h!==l.memoizedState&&(mt.flags|=2048,td(9,{destroy:void 0},c8.bind(null,E,h),null)),[v,k,o]}function c8(o,l){o.action=l}function Nk(o){var l=Gn(),h=Wt;if(h!==null)return Ck(l,h,o);Gn(),l=l.memoizedState,h=Gn();var v=h.queue.dispatch;return h.memoizedState=o,[l,v,!1]}function td(o,l,h,v){return o={tag:o,create:h,deps:v,inst:l,next:null},l=mt.updateQueue,l===null&&(l=Kp(),mt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,l.lastEffect=o),o}function Mk(){return Gn().memoizedState}function Zp(o,l,h,v){var E=ii();mt.flags|=o,E.memoizedState=td(1|l,{destroy:void 0},h,v===void 0?null:v)}function Xp(o,l,h,v){var E=Gn();v=v===void 0?null:v;var k=E.memoizedState.inst;Wt!==null&&v!==null&&f_(v,Wt.memoizedState.deps)?E.memoizedState=td(l,k,h,v):(mt.flags|=o,E.memoizedState=td(1|l,k,h,v))}function Dk(o,l){Zp(8390656,8,o,l)}function w_(o,l){Xp(2048,8,o,l)}function u8(o){mt.flags|=4;var l=mt.updateQueue;if(l===null)l=Kp(),mt.updateQueue=l,l.events=[o];else{var h=l.events;h===null?l.events=[o]:h.push(o)}}function Pk(o){var l=Gn().memoizedState;return u8({ref:l,nextImpl:o}),function(){if((Bt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Rk(o,l){return Xp(4,2,o,l)}function Lk(o,l){return Xp(4,4,o,l)}function $k(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Ik(o,l,h){h=h!=null?h.concat([o]):null,Xp(4,4,$k.bind(null,l,o),h)}function S_(){}function Bk(o,l){var h=Gn();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&f_(l,v[1])?v[0]:(h.memoizedState=[o,l],o)}function zk(o,l){var h=Gn();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&f_(l,v[1]))return v[0];if(v=o(),Rc){Nn(!0);try{o()}finally{Nn(!1)}}return h.memoizedState=[v,l],v}function E_(o,l,h){return h===void 0||(ns&1073741824)!==0&&(jt&261930)===0?o.memoizedState=l:(o.memoizedState=h,o=UO(),mt.lanes|=o,xl|=o,h)}function Uk(o,l,h,v){return pr(h,l)?h:Ju.current!==null?(o=E_(o,h,v),pr(o,l)||(Xn=!0),o):(ns&42)===0||(ns&1073741824)!==0&&(jt&261930)===0?(Xn=!0,o.memoizedState=h):(o=UO(),mt.lanes|=o,xl|=o,l)}function Hk(o,l,h,v,E){var k=ae.p;ae.p=k!==0&&8>k?k:8;var $=J.T,K={};J.T=K,k_(o,!1,l,h);try{var oe=E(),Se=J.S;if(Se!==null&&Se(K,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var je=a8(oe,v);eh(o,l,je,Ki(o))}else eh(o,l,v,Ki(o))}catch(Pe){eh(o,l,{then:function(){},status:"rejected",reason:Pe},Ki())}finally{ae.p=k,$!==null&&K.types!==null&&($.types=K.types),J.T=$}}function d8(){}function A_(o,l,h,v){if(o.tag!==5)throw Error(r(476));var E=Fk(o).queue;Hk(o,E,l,ne,h===null?d8:function(){return Gk(o),h(v)})}function Fk(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ne},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Gk(o){var l=Fk(o);l.next===null&&(l=o.alternate.memoizedState),eh(o,l.next.queue,{},Ki())}function T_(){return Cr(vh)}function qk(){return Gn().memoizedState}function Yk(){return Gn().memoizedState}function f8(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ki();o=pl(h);var v=gl(l,o,h);v!==null&&(Ti(v,l,h),Vf(v,l,h)),l={cache:t_()},o.payload=l;return}l=l.return}}function h8(o,l,h){var v=Ki();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Jp(o)?Wk(l,h):(h=Bf(o,l,h,v),h!==null&&(Ti(h,o,v),Vk(h,l,v)))}function Kk(o,l,h){var v=Ki();eh(o,l,h,v)}function eh(o,l,h,v){var E={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Jp(o))Wk(l,E);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var $=l.lastRenderedState,K=k($,h);if(E.hasEagerState=!0,E.eagerState=K,pr(K,$))return Oo(o,l,E,0),Qt===null&&Ac(),!1}catch{}finally{}if(h=Bf(o,l,E,v),h!==null)return Ti(h,o,v),Vk(h,l,v),!0}return!1}function k_(o,l,h,v){if(v={lane:2,revertLane:ax(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Jp(o)){if(l)throw Error(r(479))}else l=Bf(o,h,v,2),l!==null&&Ti(l,o,2)}function Jp(o){var l=o.alternate;return o===mt||l!==null&&l===mt}function Wk(o,l){Qu=qp=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Vk(o,l,h){if((h&4194048)!==0){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,tc(o,h)}}var th={readContext:Cr,use:Wp,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};th.useEffectEvent=Pn;var Zk={readContext:Cr,use:Wp,useCallback:function(o,l){return ii().memoizedState=[o,l===void 0?null:l],o},useContext:Cr,useEffect:Dk,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,Zp(4194308,4,$k.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Zp(4194308,4,o,l)},useInsertionEffect:function(o,l){Zp(4,2,o,l)},useMemo:function(o,l){var h=ii();l=l===void 0?null:l;var v=o();if(Rc){Nn(!0);try{o()}finally{Nn(!1)}}return h.memoizedState=[v,l],v},useReducer:function(o,l,h){var v=ii();if(h!==void 0){var E=h(l);if(Rc){Nn(!0);try{h(l)}finally{Nn(!1)}}}else E=l;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=h8.bind(null,mt,o),[v.memoizedState,o]},useRef:function(o){var l=ii();return o={current:o},l.memoizedState=o},useState:function(o){o=__(o);var l=o.queue,h=Kk.bind(null,mt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:S_,useDeferredValue:function(o,l){var h=ii();return E_(h,o,l)},useTransition:function(){var o=__(!1);return o=Hk.bind(null,mt,o.queue,!0,!1),ii().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var v=mt,E=ii();if(wt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Qt===null)throw Error(r(349));(jt&127)!==0||vk(v,l,h)}E.memoizedState=h;var k={value:h,getSnapshot:l};return E.queue=k,Dk(bk.bind(null,v,k,o),[o]),v.flags|=2048,td(9,{destroy:void 0},yk.bind(null,v,k,h,l),null),h},useId:function(){var o=ii(),l=Qt.identifierPrefix;if(wt){var h=Ge,v=De;h=(v&~(1<<32-An(v)-1)).toString(32)+h,l="_"+l+"R_"+h,h=Yp++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=o8++,l="_"+l+"r_"+h.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:T_,useFormState:Ok,useActionState:Ok,useOptimistic:function(o){var l=ii();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=k_.bind(null,mt,!0,h),h.dispatch=l,[o,l]},useMemoCache:v_,useCacheRefresh:function(){return ii().memoizedState=f8.bind(null,mt)},useEffectEvent:function(o){var l=ii(),h={impl:o};return l.memoizedState=h,function(){if((Bt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},O_={readContext:Cr,use:Wp,useCallback:Bk,useContext:Cr,useEffect:w_,useImperativeHandle:Ik,useInsertionEffect:Rk,useLayoutEffect:Lk,useMemo:zk,useReducer:Vp,useRef:Mk,useState:function(){return Vp(rs)},useDebugValue:S_,useDeferredValue:function(o,l){var h=Gn();return Uk(h,Wt.memoizedState,o,l)},useTransition:function(){var o=Vp(rs)[0],l=Gn().memoizedState;return[typeof o=="boolean"?o:Qf(o),l]},useSyncExternalStore:gk,useId:qk,useHostTransitionStatus:T_,useFormState:jk,useActionState:jk,useOptimistic:function(o,l){var h=Gn();return wk(h,Wt,o,l)},useMemoCache:v_,useCacheRefresh:Yk};O_.useEffectEvent=Pk;var Xk={readContext:Cr,use:Wp,useCallback:Bk,useContext:Cr,useEffect:w_,useImperativeHandle:Ik,useInsertionEffect:Rk,useLayoutEffect:Lk,useMemo:zk,useReducer:b_,useRef:Mk,useState:function(){return b_(rs)},useDebugValue:S_,useDeferredValue:function(o,l){var h=Gn();return Wt===null?E_(h,o,l):Uk(h,Wt.memoizedState,o,l)},useTransition:function(){var o=b_(rs)[0],l=Gn().memoizedState;return[typeof o=="boolean"?o:Qf(o),l]},useSyncExternalStore:gk,useId:qk,useHostTransitionStatus:T_,useFormState:Nk,useActionState:Nk,useOptimistic:function(o,l){var h=Gn();return Wt!==null?wk(h,Wt,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:v_,useCacheRefresh:Yk};Xk.useEffectEvent=Pk;function j_(o,l,h,v){l=o.memoizedState,h=h(v,l),h=h==null?l:p({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var C_={enqueueSetState:function(o,l,h){o=o._reactInternals;var v=Ki(),E=pl(v);E.payload=l,h!=null&&(E.callback=h),l=gl(o,E,v),l!==null&&(Ti(l,o,v),Vf(l,o,v))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var v=Ki(),E=pl(v);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=gl(o,E,v),l!==null&&(Ti(l,o,v),Vf(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Ki(),v=pl(h);v.tag=2,l!=null&&(v.callback=l),l=gl(o,v,h),l!==null&&(Ti(l,o,h),Vf(l,o,h))}};function Jk(o,l,h,v,E,k,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,k,$):l.prototype&&l.prototype.isPureReactComponent?!ll(h,v)||!ll(E,k):!0}function Qk(o,l,h,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==o&&C_.enqueueReplaceState(l,l.state,null)}function Lc(o,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(o=o.defaultProps){h===l&&(h=p({},h));for(var E in o)h[E]===void 0&&(h[E]=o[E])}return h}function eO(o){Ec(o)}function tO(o){console.error(o)}function nO(o){Ec(o)}function Qp(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function rO(o,l,h){try{var v=o.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function N_(o,l,h){return h=pl(h),h.tag=3,h.payload={element:null},h.callback=function(){Qp(o,l)},h}function iO(o){return o=pl(o),o.tag=3,o}function aO(o,l,h,v){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var k=v.value;o.payload=function(){return E(k)},o.callback=function(){rO(l,h,v)}}var $=h.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){rO(l,h,v),typeof E!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var K=v.stack;this.componentDidCatch(v.value,{componentStack:K!==null?K:""})})}function m8(o,l,h,v,E){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&Ku(l,h,E,!0),h=Fi.current,h!==null){switch(h.tag){case 31:case 13:return Sa===null?dg():h.alternate===null&&Rn===0&&(Rn=3),h.flags&=-257,h.flags|=65536,h.lanes=E,v===zp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),nx(o,v,E)),!1;case 22:return h.flags|=65536,v===zp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),nx(o,v,E)),!1}throw Error(r(435,h.tag))}return nx(o,v,E),dg(),!1}if(wt)return l=Fi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,v!==Yu&&(o=Error(r(422),{cause:v}),Oc(g(o,h)))):(v!==Yu&&(l=Error(r(423),{cause:v}),Oc(g(l,h))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=g(v,h),E=N_(o.stateNode,v,E),s_(o,E),Rn!==4&&(Rn=2)),!1;var k=Error(r(520),{cause:v});if(k=g(k,h),ch===null?ch=[k]:ch.push(k),Rn!==4&&(Rn=2),l===null)return!0;v=g(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=E&-E,h.lanes|=o,o=N_(h.stateNode,v,o),s_(h,o),!1;case 1:if(l=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(wl===null||!wl.has(k))))return h.flags|=65536,E&=-E,h.lanes|=E,E=iO(E),aO(E,o,h,v),s_(h,E),!1}h=h.return}while(h!==null);return!1}var M_=Error(r(461)),Xn=!1;function Nr(o,l,h,v){l.child=o===null?ck(l,null,h,v):Pc(l,o.child,h,v)}function oO(o,l,h,v,E){h=h.render;var k=l.ref;if("ref"in v){var $={};for(var K in v)K!=="ref"&&($[K]=v[K])}else $=v;return Cc(l),v=h_(o,l,h,$,k,E),K=m_(),o!==null&&!Xn?(p_(o,l,E),is(o,l,E)):(wt&&K&&or(l),l.flags|=1,Nr(o,l,v,E),l.child)}function sO(o,l,h,v,E){if(o===null){var k=h.type;return typeof k=="function"&&!Gu(k)&&k.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=k,lO(o,l,k,v,E)):(o=kc(h.type,null,v,l,l.mode,E),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,!z_(o,E)){var $=k.memoizedProps;if(h=h.compare,h=h!==null?h:ll,h($,v)&&o.ref===l.ref)return is(o,l,E)}return l.flags|=1,o=wa(k,v),o.ref=l.ref,o.return=l,l.child=o}function lO(o,l,h,v,E){if(o!==null){var k=o.memoizedProps;if(ll(k,v)&&o.ref===l.ref)if(Xn=!1,l.pendingProps=v=k,z_(o,E))(o.flags&131072)!==0&&(Xn=!0);else return l.lanes=o.lanes,is(o,l,E)}return D_(o,l,h,v,E)}function cO(o,l,h,v){var E=v.children,k=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,o!==null){for(v=l.child=o.child,E=0;v!==null;)E=E|v.lanes|v.childLanes,v=v.sibling;v=E&~k}else v=0,l.child=null;return uO(o,l,k,h,v)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ip(l,k!==null?k.cachePool:null),k!==null?fk(l,k):c_(),hk(l);else return v=l.lanes=536870912,uO(o,l,k!==null?k.baseLanes|h:h,h,v)}else k!==null?(Ip(l,k.cachePool),fk(l,k),yl(),l.memoizedState=null):(o!==null&&Ip(l,null),c_(),yl());return Nr(o,l,E,h),l.child}function nh(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function uO(o,l,h,v,E){var k=r_();return k=k===null?null:{parent:Vn._currentValue,pool:k},l.memoizedState={baseLanes:h,cachePool:k},o!==null&&Ip(l,null),c_(),hk(l),o!==null&&Ku(o,l,v,!0),l.childLanes=E,null}function eg(o,l){return l=ng({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function dO(o,l,h){return Pc(l,o.child,null,h),o=eg(l,l.pendingProps),o.flags|=2,Gi(l),l.memoizedState=null,o}function p8(o,l,h){var v=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(wt){if(v.mode==="hidden")return o=eg(l,v),l.lanes=536870912,nh(null,o);if(d_(l),(o=Pt)?(o=Sj(o,xi),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:De,overflow:Ge}:null,retryLane:536870912,hydrationErrors:null},h=Uf(o),h.return=l,l.child=h,Dt=l,Pt=null)):o=null,o===null)throw Co(l);return l.lanes=536870912,null}return eg(l,v)}var k=o.memoizedState;if(k!==null){var $=k.dehydrated;if(d_(l),E)if(l.flags&256)l.flags&=-257,l=dO(o,l,h);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Xn||Ku(o,l,h,!1),E=(h&o.childLanes)!==0,Xn||E){if(v=Qt,v!==null&&($=nc(v,h),$!==0&&$!==k.retryLane))throw k.retryLane=$,xa(o,$),Ti(v,o,$),M_;dg(),l=dO(o,l,h)}else o=k.treeContext,Pt=Ea($.nextSibling),Dt=l,wt=!0,jo=null,xi=!1,o!==null&&ri(l,o),l=eg(l,v),l.flags|=4096;return l}return o=wa(o.child,{mode:v.mode,children:v.children}),o.ref=l.ref,l.child=o,o.return=l,o}function tg(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function D_(o,l,h,v,E){return Cc(l),h=h_(o,l,h,v,void 0,E),v=m_(),o!==null&&!Xn?(p_(o,l,E),is(o,l,E)):(wt&&v&&or(l),l.flags|=1,Nr(o,l,h,E),l.child)}function fO(o,l,h,v,E,k){return Cc(l),l.updateQueue=null,h=pk(l,v,h,E),mk(o),v=m_(),o!==null&&!Xn?(p_(o,l,k),is(o,l,k)):(wt&&v&&or(l),l.flags|=1,Nr(o,l,h,k),l.child)}function hO(o,l,h,v,E){if(Cc(l),l.stateNode===null){var k=Jo,$=h.contextType;typeof $=="object"&&$!==null&&(k=Cr($)),k=new h(v,k),l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=C_,l.stateNode=k,k._reactInternals=l,k=l.stateNode,k.props=v,k.state=l.memoizedState,k.refs={},a_(l),$=h.contextType,k.context=typeof $=="object"&&$!==null?Cr($):Jo,k.state=l.memoizedState,$=h.getDerivedStateFromProps,typeof $=="function"&&(j_(l,h,$,v),k.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||($=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),$!==k.state&&C_.enqueueReplaceState(k,k.state,null),Xf(l,v,k,E),Zf(),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(o===null){k=l.stateNode;var K=l.memoizedProps,oe=Lc(h,K);k.props=oe;var Se=k.context,je=h.contextType;$=Jo,typeof je=="object"&&je!==null&&($=Cr(je));var Pe=h.getDerivedStateFromProps;je=typeof Pe=="function"||typeof k.getSnapshotBeforeUpdate=="function",K=l.pendingProps!==K,je||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(K||Se!==$)&&Qk(l,k,v,$),ml=!1;var Ae=l.memoizedState;k.state=Ae,Xf(l,v,k,E),Zf(),Se=l.memoizedState,K||Ae!==Se||ml?(typeof Pe=="function"&&(j_(l,h,Pe,v),Se=l.memoizedState),(oe=ml||Jk(l,h,oe,v,Ae,Se,$))?(je||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=Se),k.props=v,k.state=Se,k.context=$,v=oe):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{k=l.stateNode,o_(o,l),$=l.memoizedProps,je=Lc(h,$),k.props=je,Pe=l.pendingProps,Ae=k.context,Se=h.contextType,oe=Jo,typeof Se=="object"&&Se!==null&&(oe=Cr(Se)),K=h.getDerivedStateFromProps,(Se=typeof K=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==Pe||Ae!==oe)&&Qk(l,k,v,oe),ml=!1,Ae=l.memoizedState,k.state=Ae,Xf(l,v,k,E),Zf();var Te=l.memoizedState;$!==Pe||Ae!==Te||ml||o!==null&&o.dependencies!==null&&Lp(o.dependencies)?(typeof K=="function"&&(j_(l,h,K,v),Te=l.memoizedState),(je=ml||Jk(l,h,je,v,Ae,Te,oe)||o!==null&&o.dependencies!==null&&Lp(o.dependencies))?(Se||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,Te,oe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,Te,oe)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Te),k.props=v,k.state=Te,k.context=oe,v=je):(typeof k.componentDidUpdate!="function"||$===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),v=!1)}return k=v,tg(o,l),v=(l.flags&128)!==0,k||v?(k=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:k.render(),l.flags|=1,o!==null&&v?(l.child=Pc(l,o.child,null,E),l.child=Pc(l,null,h,E)):Nr(o,l,h,E),l.memoizedState=k.state,o=l.child):o=is(o,l,E),o}function mO(o,l,h,v){return es(),l.flags|=256,Nr(o,l,h,v),l.child}var P_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function R_(o){return{baseLanes:o,cachePool:rk()}}function L_(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=Yi),o}function pO(o,l,h){var v=l.pendingProps,E=!1,k=(l.flags&128)!==0,$;if(($=k)||($=o!==null&&o.memoizedState===null?!1:(Fn.current&2)!==0),$&&(E=!0,l.flags&=-129),$=(l.flags&32)!==0,l.flags&=-33,o===null){if(wt){if(E?vl(l):yl(),(o=Pt)?(o=Sj(o,xi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:De,overflow:Ge}:null,retryLane:536870912,hydrationErrors:null},h=Uf(o),h.return=l,l.child=h,Dt=l,Pt=null)):o=null,o===null)throw Co(l);return yx(o)?l.lanes=32:l.lanes=536870912,null}var K=v.children;return v=v.fallback,E?(yl(),E=l.mode,K=ng({mode:"hidden",children:K},E),v=Qo(v,E,h,null),K.return=l,v.return=l,K.sibling=v,l.child=K,v=l.child,v.memoizedState=R_(h),v.childLanes=L_(o,$,h),l.memoizedState=P_,nh(null,v)):(vl(l),$_(l,K))}var oe=o.memoizedState;if(oe!==null&&(K=oe.dehydrated,K!==null)){if(k)l.flags&256?(vl(l),l.flags&=-257,l=I_(o,l,h)):l.memoizedState!==null?(yl(),l.child=o.child,l.flags|=128,l=null):(yl(),K=v.fallback,E=l.mode,v=ng({mode:"visible",children:v.children},E),K=Qo(K,E,h,null),K.flags|=2,v.return=l,K.return=l,v.sibling=K,l.child=v,Pc(l,o.child,null,h),v=l.child,v.memoizedState=R_(h),v.childLanes=L_(o,$,h),l.memoizedState=P_,l=nh(null,v));else if(vl(l),yx(K)){if($=K.nextSibling&&K.nextSibling.dataset,$)var Se=$.dgst;$=Se,v=Error(r(419)),v.stack="",v.digest=$,Oc({value:v,source:null,stack:null}),l=I_(o,l,h)}else if(Xn||Ku(o,l,h,!1),$=(h&o.childLanes)!==0,Xn||$){if($=Qt,$!==null&&(v=nc($,h),v!==0&&v!==oe.retryLane))throw oe.retryLane=v,xa(o,v),Ti($,o,v),M_;vx(K)||dg(),l=I_(o,l,h)}else vx(K)?(l.flags|=192,l.child=o.child,l=null):(o=oe.treeContext,Pt=Ea(K.nextSibling),Dt=l,wt=!0,jo=null,xi=!1,o!==null&&ri(l,o),l=$_(l,v.children),l.flags|=4096);return l}return E?(yl(),K=v.fallback,E=l.mode,oe=o.child,Se=oe.sibling,v=wa(oe,{mode:"hidden",children:v.children}),v.subtreeFlags=oe.subtreeFlags&65011712,Se!==null?K=wa(Se,K):(K=Qo(K,E,h,null),K.flags|=2),K.return=l,v.return=l,v.sibling=K,l.child=v,nh(null,v),v=l.child,K=o.child.memoizedState,K===null?K=R_(h):(E=K.cachePool,E!==null?(oe=Vn._currentValue,E=E.parent!==oe?{parent:oe,pool:oe}:E):E=rk(),K={baseLanes:K.baseLanes|h,cachePool:E}),v.memoizedState=K,v.childLanes=L_(o,$,h),l.memoizedState=P_,nh(o.child,v)):(vl(l),h=o.child,o=h.sibling,h=wa(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,o!==null&&($=l.deletions,$===null?(l.deletions=[o],l.flags|=16):$.push(o)),l.child=h,l.memoizedState=null,h)}function $_(o,l){return l=ng({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function ng(o,l){return o=qr(22,o,null,l),o.lanes=0,o}function I_(o,l,h){return Pc(l,o.child,null,h),o=$_(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function gO(o,l,h){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),Qb(o.return,l,h)}function B_(o,l,h,v,E,k){var $=o.memoizedState;$===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:E,treeForkCount:k}:($.isBackwards=l,$.rendering=null,$.renderingStartTime=0,$.last=v,$.tail=h,$.tailMode=E,$.treeForkCount=k)}function vO(o,l,h){var v=l.pendingProps,E=v.revealOrder,k=v.tail;v=v.children;var $=Fn.current,K=($&2)!==0;if(K?($=$&1|2,l.flags|=128):$&=1,X(Fn,$),Nr(o,l,v,h),v=wt?F:0,!K&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&gO(o,h,l);else if(o.tag===19)gO(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(h=l.child,E=null;h!==null;)o=h.alternate,o!==null&&Gp(o)===null&&(E=h),h=h.sibling;h=E,h===null?(E=l.child,l.child=null):(E=h.sibling,h.sibling=null),B_(l,!1,E,h,k,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,E=l.child,l.child=null;E!==null;){if(o=E.alternate,o!==null&&Gp(o)===null){l.child=E;break}o=E.sibling,E.sibling=h,h=E,E=o}B_(l,!0,h,null,k,v);break;case"together":B_(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function is(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),xl|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(Ku(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,h=wa(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=wa(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function z_(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Lp(o)))}function g8(o,l,h){switch(l.tag){case 3:fe(l,l.stateNode.containerInfo),hl(l,Vn,o.memoizedState.cache),es();break;case 27:case 5:de(l);break;case 4:fe(l,l.stateNode.containerInfo);break;case 10:hl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,d_(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(vl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?pO(o,l,h):(vl(l),o=is(o,l,h),o!==null?o.sibling:null);vl(l);break;case 19:var E=(o.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||(Ku(o,l,h,!1),v=(h&l.childLanes)!==0),E){if(v)return vO(o,l,h);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),X(Fn,Fn.current),v)break;return null;case 22:return l.lanes=0,cO(o,l,h,l.pendingProps);case 24:hl(l,Vn,o.memoizedState.cache)}return is(o,l,h)}function yO(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)Xn=!0;else{if(!z_(o,h)&&(l.flags&128)===0)return Xn=!1,g8(o,l,h);Xn=(o.flags&131072)!==0}else Xn=!1,wt&&(l.flags&1048576)!==0&&vt(l,F,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(o=Mc(l.elementType),l.type=o,typeof o=="function")Gu(o)?(v=Lc(o,v),l.tag=1,l=hO(null,l,o,v,h)):(l.tag=0,l=D_(null,l,o,v,h));else{if(o!=null){var E=o.$$typeof;if(E===M){l.tag=11,l=oO(null,l,o,v,h);break e}else if(E===I){l.tag=14,l=sO(null,l,o,v,h);break e}}throw l=re(o)||o,Error(r(306,l,""))}}return l;case 0:return D_(o,l,l.type,l.pendingProps,h);case 1:return v=l.type,E=Lc(v,l.pendingProps),hO(o,l,v,E,h);case 3:e:{if(fe(l,l.stateNode.containerInfo),o===null)throw Error(r(387));v=l.pendingProps;var k=l.memoizedState;E=k.element,o_(o,l),Xf(l,v,null,h);var $=l.memoizedState;if(v=$.cache,hl(l,Vn,v),v!==k.cache&&e_(l,[Vn],h,!0),Zf(),v=$.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:$.cache},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){l=mO(o,l,v,h);break e}else if(v!==E){E=g(Error(r(424)),l),Oc(E),l=mO(o,l,v,h);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Pt=Ea(o.firstChild),Dt=l,wt=!0,jo=null,xi=!0,h=ck(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(es(),v===E){l=is(o,l,h);break e}Nr(o,l,v,h)}l=l.child}return l;case 26:return tg(o,l),o===null?(h=jj(l.type,null,l.pendingProps,null))?l.memoizedState=h:wt||(h=l.type,o=l.pendingProps,v=yg(W.current).createElement(h),v[gn]=l,v[Hn]=o,Mr(v,h,o),kt(v),l.stateNode=v):l.memoizedState=jj(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return de(l),o===null&&wt&&(v=l.stateNode=Tj(l.type,l.pendingProps,W.current),Dt=l,xi=!0,E=Pt,Tl(l.type)?(bx=E,Pt=Ea(v.firstChild)):Pt=E),Nr(o,l,l.pendingProps.children,h),tg(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&wt&&((E=v=Pt)&&(v=Y8(v,l.type,l.pendingProps,xi),v!==null?(l.stateNode=v,Dt=l,Pt=Ea(v.firstChild),xi=!1,E=!0):E=!1),E||Co(l)),de(l),E=l.type,k=l.pendingProps,$=o!==null?o.memoizedProps:null,v=k.children,mx(E,k)?v=null:$!==null&&mx(E,$)&&(l.flags|=32),l.memoizedState!==null&&(E=h_(o,l,s8,null,null,h),vh._currentValue=E),tg(o,l),Nr(o,l,v,h),l.child;case 6:return o===null&&wt&&((o=h=Pt)&&(h=K8(h,l.pendingProps,xi),h!==null?(l.stateNode=h,Dt=l,Pt=null,o=!0):o=!1),o||Co(l)),null;case 13:return pO(o,l,h);case 4:return fe(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=Pc(l,null,v,h):Nr(o,l,v,h),l.child;case 11:return oO(o,l,l.type,l.pendingProps,h);case 7:return Nr(o,l,l.pendingProps,h),l.child;case 8:return Nr(o,l,l.pendingProps.children,h),l.child;case 12:return Nr(o,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,hl(l,l.type,v.value),Nr(o,l,v.children,h),l.child;case 9:return E=l.type._context,v=l.pendingProps.children,Cc(l),E=Cr(E),v=v(E),l.flags|=1,Nr(o,l,v,h),l.child;case 14:return sO(o,l,l.type,l.pendingProps,h);case 15:return lO(o,l,l.type,l.pendingProps,h);case 19:return vO(o,l,h);case 31:return p8(o,l,h);case 22:return cO(o,l,h,l.pendingProps);case 24:return Cc(l),v=Cr(Vn),o===null?(E=r_(),E===null&&(E=Qt,k=t_(),E.pooledCache=k,k.refCount++,k!==null&&(E.pooledCacheLanes|=h),E=k),l.memoizedState={parent:v,cache:E},a_(l),hl(l,Vn,E)):((o.lanes&h)!==0&&(o_(o,l),Xf(l,null,null,h),Zf()),E=o.memoizedState,k=l.memoizedState,E.parent!==v?(E={parent:v,cache:v},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),hl(l,Vn,v)):(v=k.cache,hl(l,Vn,v),v!==E.cache&&e_(l,[Vn],h,!0))),Nr(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function as(o){o.flags|=4}function U_(o,l,h,v,E){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(qO())o.flags|=8192;else throw Dc=zp,i_}else o.flags&=-16777217}function bO(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Pj(l))if(qO())o.flags|=8192;else throw Dc=zp,i_}function rg(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Jl():536870912,o.lanes|=l,ad|=l)}function rh(o,l){if(!wt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function fn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(l)for(var E=o.child;E!==null;)h|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)h|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=h,l}function v8(o,l,h){var v=l.pendingProps;switch(Dn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(l),null;case 1:return fn(l),null;case 3:return h=l.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),ts(Vn),Q(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Xa(l)?as(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Gf())),fn(l),null;case 26:var E=l.type,k=l.memoizedState;return o===null?(as(l),k!==null?(fn(l),bO(l,k)):(fn(l),U_(l,E,null,v,h))):k?k!==o.memoizedState?(as(l),fn(l),bO(l,k)):(fn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==v&&as(l),fn(l),U_(l,E,o,v,h)),null;case 27:if(we(l),h=W.current,E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&as(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return fn(l),null}o=ee.current,Xa(l)?Ff(l):(o=Tj(E,v,h),l.stateNode=o,as(l))}return fn(l),null;case 5:if(we(l),E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&as(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return fn(l),null}if(k=ee.current,Xa(l))Ff(l);else{var $=yg(W.current);switch(k){case 1:k=$.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:k=$.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":k=$.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":k=$.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":k=$.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?$.createElement("select",{is:v.is}):$.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?$.createElement(E,{is:v.is}):$.createElement(E)}}k[gn]=l,k[Hn]=v;e:for($=l.child;$!==null;){if($.tag===5||$.tag===6)k.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===l)break e;for(;$.sibling===null;){if($.return===null||$.return===l)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}l.stateNode=k;e:switch(Mr(k,E,v),E){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&as(l)}}return fn(l),U_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,h),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==v&&as(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(o=W.current,Xa(l)){if(o=l.stateNode,h=l.memoizedProps,v=null,E=Dt,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[gn]=l,o=!!(o.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||pj(o.nodeValue,h)),o||Co(l,!0)}else o=yg(o).createTextNode(v),o[gn]=l,l.stateNode=o}return fn(l),null;case 31:if(h=l.memoizedState,o===null||o.memoizedState!==null){if(v=Xa(l),h!==null){if(o===null){if(!v)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[gn]=l}else es(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),o=!1}else h=Gf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return l.flags&256?(Gi(l),l):(Gi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return fn(l),null;case 13:if(v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Xa(l),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[gn]=l}else es(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),E=!1}else E=Gf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Gi(l),l):(Gi(l),null)}return Gi(l),(l.flags&128)!==0?(l.lanes=h,l):(h=v!==null,o=o!==null&&o.memoizedState!==null,h&&(v=l.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==E&&(v.flags|=2048)),h!==o&&h&&(l.child.flags|=8192),rg(l,l.updateQueue),fn(l),null);case 4:return Q(),o===null&&cx(l.stateNode.containerInfo),fn(l),null;case 10:return ts(l.type),fn(l),null;case 19:if(B(Fn),v=l.memoizedState,v===null)return fn(l),null;if(E=(l.flags&128)!==0,k=v.rendering,k===null)if(E)rh(v,!1);else{if(Rn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(k=Gp(o),k!==null){for(l.flags|=128,rh(v,!1),o=k.updateQueue,l.updateQueue=o,rg(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)zf(h,o),h=h.sibling;return X(Fn,Fn.current&1|2),wt&&et(l,v.treeForkCount),l.child}o=o.sibling}v.tail!==null&&ze()>lg&&(l.flags|=128,E=!0,rh(v,!1),l.lanes=4194304)}else{if(!E)if(o=Gp(k),o!==null){if(l.flags|=128,E=!0,o=o.updateQueue,l.updateQueue=o,rg(l,o),rh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!wt)return fn(l),null}else 2*ze()-v.renderingStartTime>lg&&h!==536870912&&(l.flags|=128,E=!0,rh(v,!1),l.lanes=4194304);v.isBackwards?(k.sibling=l.child,l.child=k):(o=v.last,o!==null?o.sibling=k:l.child=k,v.last=k)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ze(),o.sibling=null,h=Fn.current,X(Fn,E?h&1|2:h&1),wt&&et(l,v.treeForkCount),o):(fn(l),null);case 22:case 23:return Gi(l),u_(),v=l.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(fn(l),l.subtreeFlags&6&&(l.flags|=8192)):fn(l),h=l.updateQueue,h!==null&&rg(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),o!==null&&B(Nc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),ts(Vn),fn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function y8(o,l){switch(Dn(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ts(Vn),Q(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return we(l),null;case 31:if(l.memoizedState!==null){if(Gi(l),l.alternate===null)throw Error(r(340));es()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Gi(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));es()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return B(Fn),null;case 4:return Q(),null;case 10:return ts(l.type),null;case 22:case 23:return Gi(l),u_(),o!==null&&B(Nc),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ts(Vn),null;case 25:return null;default:return null}}function _O(o,l){switch(Dn(l),l.tag){case 3:ts(Vn),Q();break;case 26:case 27:case 5:we(l);break;case 4:Q();break;case 31:l.memoizedState!==null&&Gi(l);break;case 13:Gi(l);break;case 19:B(Fn);break;case 10:ts(l.type);break;case 22:case 23:Gi(l),u_(),o!==null&&B(Nc);break;case 24:ts(Vn)}}function ih(o,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var E=v.next;h=E;do{if((h.tag&o)===o){v=void 0;var k=h.create,$=h.inst;v=k(),$.destroy=v}h=h.next}while(h!==E)}}catch(K){qt(l,l.return,K)}}function bl(o,l,h){try{var v=l.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var k=E.next;v=k;do{if((v.tag&o)===o){var $=v.inst,K=$.destroy;if(K!==void 0){$.destroy=void 0,E=l;var oe=h,Se=K;try{Se()}catch(je){qt(E,oe,je)}}}v=v.next}while(v!==k)}}catch(je){qt(l,l.return,je)}}function xO(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{dk(l,h)}catch(v){qt(o,o.return,v)}}}function wO(o,l,h){h.props=Lc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(v){qt(o,l,v)}}function ah(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof h=="function"?o.refCleanup=h(v):h.current=v}}catch(E){qt(o,l,E)}}function Mo(o,l){var h=o.ref,v=o.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(E){qt(o,l,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){qt(o,l,E)}else h.current=null}function SO(o){var l=o.type,h=o.memoizedProps,v=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(E){qt(o,o.return,E)}}function H_(o,l,h){try{var v=o.stateNode;z8(v,o.type,h,l),v[Hn]=l}catch(E){qt(o,o.return,E)}}function EO(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Tl(o.type)||o.tag===4}function F_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||EO(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Tl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function G_(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=vi));else if(v!==4&&(v===27&&Tl(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(G_(o,l,h),o=o.sibling;o!==null;)G_(o,l,h),o=o.sibling}function ig(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(v!==4&&(v===27&&Tl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(ig(o,l,h),o=o.sibling;o!==null;)ig(o,l,h),o=o.sibling}function AO(o){var l=o.stateNode,h=o.memoizedProps;try{for(var v=o.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Mr(l,v,h),l[gn]=o,l[Hn]=h}catch(k){qt(o,o.return,k)}}var os=!1,Jn=!1,q_=!1,TO=typeof WeakSet=="function"?WeakSet:Set,vr=null;function b8(o,l){if(o=o.containerInfo,fx=Ag,o=_c(o),Eo(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var E=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var $=0,K=-1,oe=-1,Se=0,je=0,Pe=o,Ae=null;t:for(;;){for(var Te;Pe!==h||E!==0&&Pe.nodeType!==3||(K=$+E),Pe!==k||v!==0&&Pe.nodeType!==3||(oe=$+v),Pe.nodeType===3&&($+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Ae=Pe,Pe=Te;for(;;){if(Pe===o)break t;if(Ae===h&&++Se===E&&(K=$),Ae===k&&++je===v&&(oe=$),(Te=Pe.nextSibling)!==null)break;Pe=Ae,Ae=Pe.parentNode}Pe=Te}h=K===-1||oe===-1?null:{start:K,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(hx={focusedElem:o,selectionRange:h},Ag=!1,vr=l;vr!==null;)if(l=vr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,vr=o;else for(;vr!==null;){switch(l=vr,k=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)E=o[h],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,h=l,E=k.memoizedProps,k=k.memoizedState,v=h.stateNode;try{var We=Lc(h.type,E);o=v.getSnapshotBeforeUpdate(We,k),v.__reactInternalSnapshotBeforeUpdate=o}catch(st){qt(h,h.return,st)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)gx(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":gx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,vr=o;break}vr=l.return}}function kO(o,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:ls(o,h),v&4&&ih(5,h);break;case 1:if(ls(o,h),v&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch($){qt(h,h.return,$)}else{var E=Lc(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(E,l,o.__reactInternalSnapshotBeforeUpdate)}catch($){qt(h,h.return,$)}}v&64&&xO(h),v&512&&ah(h,h.return);break;case 3:if(ls(o,h),v&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{dk(o,l)}catch($){qt(h,h.return,$)}}break;case 27:l===null&&v&4&&AO(h);case 26:case 5:ls(o,h),l===null&&v&4&&SO(h),v&512&&ah(h,h.return);break;case 12:ls(o,h);break;case 31:ls(o,h),v&4&&CO(o,h);break;case 13:ls(o,h),v&4&&NO(o,h),v&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=O8.bind(null,h),W8(o,h))));break;case 22:if(v=h.memoizedState!==null||os,!v){l=l!==null&&l.memoizedState!==null||Jn,E=os;var k=Jn;os=v,(Jn=l)&&!k?cs(o,h,(h.subtreeFlags&8772)!==0):ls(o,h),os=E,Jn=k}break;case 30:break;default:ls(o,h)}}function OO(o){var l=o.alternate;l!==null&&(o.alternate=null,OO(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ot(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yn=null,wi=!1;function ss(o,l,h){for(h=h.child;h!==null;)jO(o,l,h),h=h.sibling}function jO(o,l,h){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(En,h)}catch{}switch(h.tag){case 26:Jn||Mo(h,l),ss(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Jn||Mo(h,l);var v=yn,E=wi;Tl(h.type)&&(yn=h.stateNode,wi=!1),ss(o,l,h),mh(h.stateNode),yn=v,wi=E;break;case 5:Jn||Mo(h,l);case 6:if(v=yn,E=wi,yn=null,ss(o,l,h),yn=v,wi=E,yn!==null)if(wi)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(h.stateNode)}catch(k){qt(h,l,k)}else try{yn.removeChild(h.stateNode)}catch(k){qt(h,l,k)}break;case 18:yn!==null&&(wi?(o=yn,xj(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),hd(o)):xj(yn,h.stateNode));break;case 4:v=yn,E=wi,yn=h.stateNode.containerInfo,wi=!0,ss(o,l,h),yn=v,wi=E;break;case 0:case 11:case 14:case 15:bl(2,h,l),Jn||bl(4,h,l),ss(o,l,h);break;case 1:Jn||(Mo(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&wO(h,l,v)),ss(o,l,h);break;case 21:ss(o,l,h);break;case 22:Jn=(v=Jn)||h.memoizedState!==null,ss(o,l,h),Jn=v;break;default:ss(o,l,h)}}function CO(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{hd(o)}catch(h){qt(l,l.return,h)}}}function NO(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hd(o)}catch(h){qt(l,l.return,h)}}function _8(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new TO),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new TO),l;default:throw Error(r(435,o.tag))}}function ag(o,l){var h=_8(o);l.forEach(function(v){if(!h.has(v)){h.add(v);var E=j8.bind(null,o,v);v.then(E,E)}})}function Si(o,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var E=h[v],k=o,$=l,K=$;e:for(;K!==null;){switch(K.tag){case 27:if(Tl(K.type)){yn=K.stateNode,wi=!1;break e}break;case 5:yn=K.stateNode,wi=!1;break e;case 3:case 4:yn=K.stateNode.containerInfo,wi=!0;break e}K=K.return}if(yn===null)throw Error(r(160));jO(k,$,E),yn=null,wi=!1,k=E.alternate,k!==null&&(k.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)MO(l,o),l=l.sibling}var Qa=null;function MO(o,l){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Si(l,o),Ei(o),v&4&&(bl(3,o,o.return),ih(3,o),bl(5,o,o.return));break;case 1:Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),v&64&&os&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var E=Qa;if(Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),v&4){var k=h!==null?h.memoizedState:null;if(v=o.memoizedState,h===null)if(v===null)if(o.stateNode===null){e:{v=o.type,h=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":k=E.getElementsByTagName("title")[0],(!k||k[_t]||k[gn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=E.createElement(v),E.head.insertBefore(k,E.querySelector("head > title"))),Mr(k,v,h),k[gn]=o,kt(k),v=k;break e;case"link":var $=Mj("link","href",E).get(v+(h.href||""));if($){for(var K=0;K<$.length;K++)if(k=$[K],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){$.splice(K,1);break t}}k=E.createElement(v),Mr(k,v,h),E.head.appendChild(k);break;case"meta":if($=Mj("meta","content",E).get(v+(h.content||""))){for(K=0;K<$.length;K++)if(k=$[K],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){$.splice(K,1);break t}}k=E.createElement(v),Mr(k,v,h),E.head.appendChild(k);break;default:throw Error(r(468,v))}k[gn]=o,kt(k),v=k}o.stateNode=v}else Dj(E,o.type,o.stateNode);else o.stateNode=Nj(E,v,o.memoizedProps);else k!==v?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,v===null?Dj(E,o.type,o.stateNode):Nj(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&H_(o,o.memoizedProps,h.memoizedProps)}break;case 27:Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),h!==null&&v&4&&H_(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),o.flags&32){E=o.stateNode;try{pa(E,"")}catch(We){qt(o,o.return,We)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,H_(o,E,h!==null?h.memoizedProps:E)),v&1024&&(q_=!0);break;case 6:if(Si(l,o),Ei(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,h=o.stateNode;try{h.nodeValue=v}catch(We){qt(o,o.return,We)}}break;case 3:if(xg=null,E=Qa,Qa=bg(l.containerInfo),Si(l,o),Qa=E,Ei(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{hd(l.containerInfo)}catch(We){qt(o,o.return,We)}q_&&(q_=!1,DO(o));break;case 4:v=Qa,Qa=bg(o.stateNode.containerInfo),Si(l,o),Ei(o),Qa=v;break;case 12:Si(l,o),Ei(o);break;case 31:Si(l,o),Ei(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,ag(o,v)));break;case 13:Si(l,o),Ei(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(sg=ze()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,ag(o,v)));break;case 22:E=o.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,Se=os,je=Jn;if(os=Se||E,Jn=je||oe,Si(l,o),Jn=je,os=Se,Ei(o),v&8192)e:for(l=o.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(h===null||oe||os||Jn||$c(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){oe=h=l;try{if(k=oe.stateNode,E)$=k.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{K=oe.stateNode;var Pe=oe.memoizedProps.style,Ae=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;K.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(We){qt(oe,oe.return,We)}}}else if(l.tag===6){if(h===null){oe=l;try{oe.stateNode.nodeValue=E?"":oe.memoizedProps}catch(We){qt(oe,oe.return,We)}}}else if(l.tag===18){if(h===null){oe=l;try{var Te=oe.stateNode;E?wj(Te,!0):wj(oe.stateNode,!1)}catch(We){qt(oe,oe.return,We)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=o.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,ag(o,h))));break;case 19:Si(l,o),Ei(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,ag(o,v)));break;case 30:break;case 21:break;default:Si(l,o),Ei(o)}}function Ei(o){var l=o.flags;if(l&2){try{for(var h,v=o.return;v!==null;){if(EO(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var E=h.stateNode,k=F_(o);ig(o,k,E);break;case 5:var $=h.stateNode;h.flags&32&&(pa($,""),h.flags&=-33);var K=F_(o);ig(o,K,$);break;case 3:case 4:var oe=h.stateNode.containerInfo,Se=F_(o);G_(o,Se,oe);break;default:throw Error(r(161))}}catch(je){qt(o,o.return,je)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function DO(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;DO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ls(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)kO(o,l.alternate,l),l=l.sibling}function $c(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:bl(4,l,l.return),$c(l);break;case 1:Mo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&wO(l,l.return,h),$c(l);break;case 27:mh(l.stateNode);case 26:case 5:Mo(l,l.return),$c(l);break;case 22:l.memoizedState===null&&$c(l);break;case 30:$c(l);break;default:$c(l)}o=o.sibling}}function cs(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,E=o,k=l,$=k.flags;switch(k.tag){case 0:case 11:case 15:cs(E,k,h),ih(4,k);break;case 1:if(cs(E,k,h),v=k,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Se){qt(v,v.return,Se)}if(v=k,E=v.updateQueue,E!==null){var K=v.stateNode;try{var oe=E.shared.hiddenCallbacks;if(oe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<oe.length;E++)uk(oe[E],K)}catch(Se){qt(v,v.return,Se)}}h&&$&64&&xO(k),ah(k,k.return);break;case 27:AO(k);case 26:case 5:cs(E,k,h),h&&v===null&&$&4&&SO(k),ah(k,k.return);break;case 12:cs(E,k,h);break;case 31:cs(E,k,h),h&&$&4&&CO(E,k);break;case 13:cs(E,k,h),h&&$&4&&NO(E,k);break;case 22:k.memoizedState===null&&cs(E,k,h),ah(k,k.return);break;case 30:break;default:cs(E,k,h)}l=l.sibling}}function Y_(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&qf(h))}function K_(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&qf(o))}function eo(o,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)PO(o,l,h,v),l=l.sibling}function PO(o,l,h,v){var E=l.flags;switch(l.tag){case 0:case 11:case 15:eo(o,l,h,v),E&2048&&ih(9,l);break;case 1:eo(o,l,h,v);break;case 3:eo(o,l,h,v),E&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&qf(o)));break;case 12:if(E&2048){eo(o,l,h,v),o=l.stateNode;try{var k=l.memoizedProps,$=k.id,K=k.onPostCommit;typeof K=="function"&&K($,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(oe){qt(l,l.return,oe)}}else eo(o,l,h,v);break;case 31:eo(o,l,h,v);break;case 13:eo(o,l,h,v);break;case 23:break;case 22:k=l.stateNode,$=l.alternate,l.memoizedState!==null?k._visibility&2?eo(o,l,h,v):oh(o,l):k._visibility&2?eo(o,l,h,v):(k._visibility|=2,nd(o,l,h,v,(l.subtreeFlags&10256)!==0||!1)),E&2048&&Y_($,l);break;case 24:eo(o,l,h,v),E&2048&&K_(l.alternate,l);break;default:eo(o,l,h,v)}}function nd(o,l,h,v,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var k=o,$=l,K=h,oe=v,Se=$.flags;switch($.tag){case 0:case 11:case 15:nd(k,$,K,oe,E),ih(8,$);break;case 23:break;case 22:var je=$.stateNode;$.memoizedState!==null?je._visibility&2?nd(k,$,K,oe,E):oh(k,$):(je._visibility|=2,nd(k,$,K,oe,E)),E&&Se&2048&&Y_($.alternate,$);break;case 24:nd(k,$,K,oe,E),E&&Se&2048&&K_($.alternate,$);break;default:nd(k,$,K,oe,E)}l=l.sibling}}function oh(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,v=l,E=v.flags;switch(v.tag){case 22:oh(h,v),E&2048&&Y_(v.alternate,v);break;case 24:oh(h,v),E&2048&&K_(v.alternate,v);break;default:oh(h,v)}l=l.sibling}}var sh=8192;function rd(o,l,h){if(o.subtreeFlags&sh)for(o=o.child;o!==null;)RO(o,l,h),o=o.sibling}function RO(o,l,h){switch(o.tag){case 26:rd(o,l,h),o.flags&sh&&o.memoizedState!==null&&oU(h,Qa,o.memoizedState,o.memoizedProps);break;case 5:rd(o,l,h);break;case 3:case 4:var v=Qa;Qa=bg(o.stateNode.containerInfo),rd(o,l,h),Qa=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=sh,sh=16777216,rd(o,l,h),sh=v):rd(o,l,h));break;default:rd(o,l,h)}}function LO(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function lh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];vr=v,IO(v,o)}LO(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$O(o),o=o.sibling}function $O(o){switch(o.tag){case 0:case 11:case 15:lh(o),o.flags&2048&&bl(9,o,o.return);break;case 3:lh(o);break;case 12:lh(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,og(o)):lh(o);break;default:lh(o)}}function og(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];vr=v,IO(v,o)}LO(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:bl(8,l,l.return),og(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,og(l));break;default:og(l)}o=o.sibling}}function IO(o,l){for(;vr!==null;){var h=vr;switch(h.tag){case 0:case 11:case 15:bl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:qf(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,vr=v;else e:for(h=o;vr!==null;){v=vr;var E=v.sibling,k=v.return;if(OO(v),v===h){vr=null;break e}if(E!==null){E.return=k,vr=E;break e}vr=k}}}var x8={getCacheForType:function(o){var l=Cr(Vn),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h},cacheSignal:function(){return Cr(Vn).controller.signal}},w8=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Qt=null,St=null,jt=0,Gt=0,qi=null,_l=!1,id=!1,W_=!1,us=0,Rn=0,xl=0,Ic=0,V_=0,Yi=0,ad=0,ch=null,Ai=null,Z_=!1,sg=0,BO=0,lg=1/0,cg=null,wl=null,sr=0,Sl=null,od=null,ds=0,X_=0,J_=null,zO=null,uh=0,Q_=null;function Ki(){return(Bt&2)!==0&&jt!==0?jt&-jt:J.T!==null?ax():Yo()}function UO(){if(Yi===0)if((jt&536870912)===0||wt){var o=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),Yi=o}else Yi=536870912;return o=Fi.current,o!==null&&(o.flags|=32),Yi}function Ti(o,l,h){(o===Qt&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)&&(sd(o,0),El(o,jt,Yi,!1)),qa(o,h),((Bt&2)===0||o!==Qt)&&(o===Qt&&((Bt&2)===0&&(Ic|=h),Rn===4&&El(o,jt,Yi,!1)),Do(o))}function HO(o,l,h){if((Bt&6)!==0)throw Error(r(327));var v=!h&&(l&127)===0&&(l&o.expiredLanes)===0||fa(o,l),E=v?A8(o,l):tx(o,l,!0),k=v;do{if(E===0){id&&!v&&El(o,l,0,!1);break}else{if(h=o.current.alternate,k&&!S8(h)){E=tx(o,l,!1),k=!1;continue}if(E===2){if(k=l,o.errorRecoveryDisabledLanes&k)var $=0;else $=o.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){l=$;e:{var K=o;E=ch;var oe=K.current.memoizedState.isDehydrated;if(oe&&(sd(K,$).flags|=256),$=tx(K,$,!1),$!==2){if(W_&&!oe){K.errorRecoveryDisabledLanes|=k,Ic|=k,E=4;break e}k=Ai,Ai=E,k!==null&&(Ai===null?Ai=k:Ai.push.apply(Ai,k))}E=$}if(k=!1,E!==2)continue}}if(E===1){sd(o,0),El(o,l,0,!0);break}e:{switch(v=o,k=E,k){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:El(v,l,Yi,!_l);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=sg+300-ze(),10<E)){if(El(v,l,Yi,!_l),Hr(v,0,!0)!==0)break e;ds=l,v.timeoutHandle=bj(FO.bind(null,v,h,Ai,cg,Z_,l,Yi,Ic,ad,_l,k,"Throttled",-0,0),E);break e}FO(v,h,Ai,cg,Z_,l,Yi,Ic,ad,_l,k,null,-0,0)}}break}while(!0);Do(o)}function FO(o,l,h,v,E,k,$,K,oe,Se,je,Pe,Ae,Te){if(o.timeoutHandle=-1,Pe=l.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},RO(l,k,Pe);var We=(k&62914560)===k?sg-ze():(k&4194048)===k?BO-ze():0;if(We=sU(Pe,We),We!==null){ds=k,o.cancelPendingCommit=We(XO.bind(null,o,l,k,h,v,E,$,K,oe,je,Pe,null,Ae,Te)),El(o,k,$,!Se);return}}XO(o,l,k,h,v,E,$,K,oe)}function S8(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var E=h[v],k=E.getSnapshot;E=E.value;try{if(!pr(k(),E))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function El(o,l,h,v){l&=~V_,l&=~Ic,o.suspendedLanes|=l,o.pingedLanes&=~l,v&&(o.warmLanes|=l),v=o.expirationTimes;for(var E=l;0<E;){var k=31-An(E),$=1<<k;v[k]=-1,E&=~$}h!==0&&Vs(o,h,l)}function ug(){return(Bt&6)===0?(dh(0),!1):!0}function ex(){if(St!==null){if(Gt===0)var o=St.return;else o=St,Ja=No=null,g_(o),Xu=null,Kf=0,o=St;for(;o!==null;)_O(o.alternate,o),o=o.return;St=null}}function sd(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,F8(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),ds=0,ex(),Qt=o,St=h=wa(o.current,null),jt=l,Gt=0,qi=null,_l=!1,id=fa(o,l),W_=!1,ad=Yi=V_=Ic=xl=Rn=0,Ai=ch=null,Z_=!1,(l&8)!==0&&(l|=l&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=l;0<v;){var E=31-An(v),k=1<<E;l|=o[E],v&=~k}return us=l,Ac(),h}function GO(o,l){mt=null,J.H=th,l===Zu||l===Bp?(l=ok(),Gt=3):l===i_?(l=ok(),Gt=4):Gt=l===M_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qi=l,St===null&&(Rn=1,Qp(o,g(l,o.current)))}function qO(){var o=Fi.current;return o===null?!0:(jt&4194048)===jt?Sa===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Sa:!1}function YO(){var o=J.H;return J.H=th,o===null?th:o}function KO(){var o=J.A;return J.A=x8,o}function dg(){Rn=4,_l||(jt&4194048)!==jt&&Fi.current!==null||(id=!0),(xl&134217727)===0&&(Ic&134217727)===0||Qt===null||El(Qt,jt,Yi,!1)}function tx(o,l,h){var v=Bt;Bt|=2;var E=YO(),k=KO();(Qt!==o||jt!==l)&&(cg=null,sd(o,l)),l=!1;var $=Rn;e:do try{if(Gt!==0&&St!==null){var K=St,oe=qi;switch(Gt){case 8:ex(),$=6;break e;case 3:case 2:case 9:case 6:Fi.current===null&&(l=!0);var Se=Gt;if(Gt=0,qi=null,ld(o,K,oe,Se),h&&id){$=0;break e}break;default:Se=Gt,Gt=0,qi=null,ld(o,K,oe,Se)}}E8(),$=Rn;break}catch(je){GO(o,je)}while(!0);return l&&o.shellSuspendCounter++,Ja=No=null,Bt=v,J.H=E,J.A=k,St===null&&(Qt=null,jt=0,Ac()),$}function E8(){for(;St!==null;)WO(St)}function A8(o,l){var h=Bt;Bt|=2;var v=YO(),E=KO();Qt!==o||jt!==l?(cg=null,lg=ze()+500,sd(o,l)):id=fa(o,l);e:do try{if(Gt!==0&&St!==null){l=St;var k=qi;t:switch(Gt){case 1:Gt=0,qi=null,ld(o,l,k,1);break;case 2:case 9:if(ik(k)){Gt=0,qi=null,VO(l);break}l=function(){Gt!==2&&Gt!==9||Qt!==o||(Gt=7),Do(o)},k.then(l,l);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:ik(k)?(Gt=0,qi=null,VO(l)):(Gt=0,qi=null,ld(o,l,k,7));break;case 5:var $=null;switch(St.tag){case 26:$=St.memoizedState;case 5:case 27:var K=St;if($?Pj($):K.stateNode.complete){Gt=0,qi=null;var oe=K.sibling;if(oe!==null)St=oe;else{var Se=K.return;Se!==null?(St=Se,fg(Se)):St=null}break t}}Gt=0,qi=null,ld(o,l,k,5);break;case 6:Gt=0,qi=null,ld(o,l,k,6);break;case 8:ex(),Rn=6;break e;default:throw Error(r(462))}}T8();break}catch(je){GO(o,je)}while(!0);return Ja=No=null,J.H=v,J.A=E,Bt=h,St!==null?0:(Qt=null,jt=0,Ac(),Rn)}function T8(){for(;St!==null&&!ge();)WO(St)}function WO(o){var l=yO(o.alternate,o,us);o.memoizedProps=o.pendingProps,l===null?fg(o):St=l}function VO(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=fO(h,l,l.pendingProps,l.type,void 0,jt);break;case 11:l=fO(h,l,l.pendingProps,l.type.render,l.ref,jt);break;case 5:g_(l);default:_O(h,l),l=St=zf(l,us),l=yO(h,l,us)}o.memoizedProps=o.pendingProps,l===null?fg(o):St=l}function ld(o,l,h,v){Ja=No=null,g_(l),Xu=null,Kf=0;var E=l.return;try{if(m8(o,E,l,h,jt)){Rn=1,Qp(o,g(h,o.current)),St=null;return}}catch(k){if(E!==null)throw St=E,k;Rn=1,Qp(o,g(h,o.current)),St=null;return}l.flags&32768?(wt||v===1?o=!0:id||(jt&536870912)!==0?o=!1:(_l=o=!0,(v===2||v===9||v===3||v===6)&&(v=Fi.current,v!==null&&v.tag===13&&(v.flags|=16384))),ZO(l,o)):fg(l)}function fg(o){var l=o;do{if((l.flags&32768)!==0){ZO(l,_l);return}o=l.return;var h=v8(l.alternate,l,us);if(h!==null){St=h;return}if(l=l.sibling,l!==null){St=l;return}St=l=o}while(l!==null);Rn===0&&(Rn=5)}function ZO(o,l){do{var h=y8(o.alternate,o);if(h!==null){h.flags&=32767,St=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){St=o;return}St=o=h}while(o!==null);Rn=6,St=null}function XO(o,l,h,v,E,k,$,K,oe){o.cancelPendingCommit=null;do hg();while(sr!==0);if((Bt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(k=l.lanes|l.childLanes,k|=Fu,ec(o,h,k,$,K,oe),o===Qt&&(St=Qt=null,jt=0),od=l,Sl=o,ds=h,X_=k,J_=E,zO=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,C8(tn,function(){return nj(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,E=ae.p,ae.p=2,$=Bt,Bt|=4;try{b8(o,l,h)}finally{Bt=$,ae.p=E,J.T=v}}sr=1,JO(),QO(),ej()}}function JO(){if(sr===1){sr=0;var o=Sl,l=od,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var v=ae.p;ae.p=2;var E=Bt;Bt|=4;try{MO(l,o);var k=hx,$=_c(o.containerInfo),K=k.focusedElem,oe=k.selectionRange;if($!==K&&K&&K.ownerDocument&&Bu(K.ownerDocument.documentElement,K)){if(oe!==null&&Eo(K)){var Se=oe.start,je=oe.end;if(je===void 0&&(je=Se),"selectionStart"in K)K.selectionStart=Se,K.selectionEnd=Math.min(je,K.value.length);else{var Pe=K.ownerDocument||document,Ae=Pe&&Pe.defaultView||window;if(Ae.getSelection){var Te=Ae.getSelection(),We=K.textContent.length,st=Math.min(oe.start,We),Zt=oe.end===void 0?st:Math.min(oe.end,We);!Te.extend&&st>Zt&&($=Zt,Zt=st,st=$);var me=bc(K,st),ue=bc(K,Zt);if(me&&ue&&(Te.rangeCount!==1||Te.anchorNode!==me.node||Te.anchorOffset!==me.offset||Te.focusNode!==ue.node||Te.focusOffset!==ue.offset)){var xe=Pe.createRange();xe.setStart(me.node,me.offset),Te.removeAllRanges(),st>Zt?(Te.addRange(xe),Te.extend(ue.node,ue.offset)):(xe.setEnd(ue.node,ue.offset),Te.addRange(xe))}}}}for(Pe=[],Te=K;Te=Te.parentNode;)Te.nodeType===1&&Pe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Pe.length;K++){var Ne=Pe[K];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Ag=!!fx,hx=fx=null}finally{Bt=E,ae.p=v,J.T=h}}o.current=l,sr=2}}function QO(){if(sr===2){sr=0;var o=Sl,l=od,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var v=ae.p;ae.p=2;var E=Bt;Bt|=4;try{kO(o,l.alternate,l)}finally{Bt=E,ae.p=v,J.T=h}}sr=3}}function ej(){if(sr===4||sr===3){sr=0,Ue();var o=Sl,l=od,h=ds,v=zO;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?sr=5:(sr=0,od=Sl=null,tj(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(wl=null),Xe(h),l=l.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(En,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=J.T,E=ae.p,ae.p=2,J.T=null;try{for(var k=o.onRecoverableError,$=0;$<v.length;$++){var K=v[$];k(K.value,{componentStack:K.stack})}}finally{J.T=l,ae.p=E}}(ds&3)!==0&&hg(),Do(o),E=o.pendingLanes,(h&261930)!==0&&(E&42)!==0?o===Q_?uh++:(uh=0,Q_=o):uh=0,dh(0)}}function tj(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,qf(l)))}function hg(){return JO(),QO(),ej(),nj()}function nj(){if(sr!==5)return!1;var o=Sl,l=X_;X_=0;var h=Xe(ds),v=J.T,E=ae.p;try{ae.p=32>h?32:h,J.T=null,h=J_,J_=null;var k=Sl,$=ds;if(sr=0,od=Sl=null,ds=0,(Bt&6)!==0)throw Error(r(331));var K=Bt;if(Bt|=4,$O(k.current),PO(k,k.current,$,h),Bt=K,dh(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(En,k)}catch{}return!0}finally{ae.p=E,J.T=v,tj(o,l)}}function rj(o,l,h){l=g(h,l),l=N_(o.stateNode,l,2),o=gl(o,l,2),o!==null&&(qa(o,2),Do(o))}function qt(o,l,h){if(o.tag===3)rj(o,o,h);else for(;l!==null;){if(l.tag===3){rj(l,o,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(wl===null||!wl.has(v))){o=g(h,o),h=iO(2),v=gl(l,h,2),v!==null&&(aO(h,v,l,o),qa(v,2),Do(v));break}}l=l.return}}function nx(o,l,h){var v=o.pingCache;if(v===null){v=o.pingCache=new w8;var E=new Set;v.set(l,E)}else E=v.get(l),E===void 0&&(E=new Set,v.set(l,E));E.has(h)||(W_=!0,E.add(h),o=k8.bind(null,o,l,h),l.then(o,o))}function k8(o,l,h){var v=o.pingCache;v!==null&&v.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Qt===o&&(jt&h)===h&&(Rn===4||Rn===3&&(jt&62914560)===jt&&300>ze()-sg?(Bt&2)===0&&sd(o,0):V_|=h,ad===jt&&(ad=0)),Do(o)}function ij(o,l){l===0&&(l=Jl()),o=xa(o,l),o!==null&&(qa(o,l),Do(o))}function O8(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),ij(o,h)}function j8(o,l){var h=0;switch(o.tag){case 31:case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(h=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),ij(o,h)}function C8(o,l){return Ie(o,l)}var mg=null,cd=null,rx=!1,pg=!1,ix=!1,Al=0;function Do(o){o!==cd&&o.next===null&&(cd===null?mg=cd=o:cd=cd.next=o),pg=!0,rx||(rx=!0,M8())}function dh(o,l){if(!ix&&pg){ix=!0;do for(var h=!1,v=mg;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var k=0;else{var $=v.suspendedLanes,K=v.pingedLanes;k=(1<<31-An(42|o)+1)-1,k&=E&~($&~K),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,lj(v,k))}else k=jt,k=Hr(v,v===Qt?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||fa(v,k)||(h=!0,lj(v,k));v=v.next}while(h);ix=!1}}function N8(){aj()}function aj(){pg=rx=!1;var o=0;Al!==0&&H8()&&(o=Al);for(var l=ze(),h=null,v=mg;v!==null;){var E=v.next,k=oj(v,l);k===0?(v.next=null,h===null?mg=E:h.next=E,E===null&&(cd=h)):(h=v,(o!==0||(k&3)!==0)&&(pg=!0)),v=E}sr!==0&&sr!==5||dh(o),Al!==0&&(Al=0)}function oj(o,l){for(var h=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var $=31-An(k),K=1<<$,oe=E[$];oe===-1?((K&h)===0||(K&v)!==0)&&(E[$]=Ws(K,l)):oe<=l&&(o.expiredLanes|=K),k&=~K}if(l=Qt,h=jt,h=Hr(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,h===0||o===l&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&he(v),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||fa(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(v!==null&&he(v),Xe(h)){case 2:case 8:h=it;break;case 32:h=tn;break;case 268435456:h=zn;break;default:h=tn}return v=sj.bind(null,o),h=Ie(h,v),o.callbackPriority=l,o.callbackNode=h,l}return v!==null&&v!==null&&he(v),o.callbackPriority=2,o.callbackNode=null,2}function sj(o,l){if(sr!==0&&sr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(hg()&&o.callbackNode!==h)return null;var v=jt;return v=Hr(o,o===Qt?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(HO(o,v,l),oj(o,ze()),o.callbackNode!=null&&o.callbackNode===h?sj.bind(null,o):null)}function lj(o,l){if(hg())return null;HO(o,l,!0)}function M8(){G8(function(){(Bt&6)!==0?Ie(ut,N8):aj()})}function ax(){if(Al===0){var o=Wu;o===0&&(o=Un,Un<<=1,(Un&261888)===0&&(Un=256)),Al=o}return Al}function cj(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:el(""+o)}function uj(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function D8(o,l,h,v,E){if(l==="submit"&&h&&h.stateNode===E){var k=cj((E[Hn]||null).action),$=v.submitter;$&&(l=(l=$[Hn]||null)?cj(l.formAction):$.getAttribute("formAction"),l!==null&&(k=l,$=null));var K=new Mu("action","action",null,v,E);o.push({event:K,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Al!==0){var oe=$?uj(E,$):new FormData(E);A_(h,{pending:!0,data:oe,method:E.method,action:k},null,oe)}}else typeof k=="function"&&(K.preventDefault(),oe=$?uj(E,$):new FormData(E),A_(h,{pending:!0,data:oe,method:E.method,action:k},k,oe))},currentTarget:E}]})}}for(var ox=0;ox<ko.length;ox++){var sx=ko[ox],P8=sx.toLowerCase(),R8=sx[0].toUpperCase()+sx.slice(1);bi(P8,"on"+R8)}bi(wc,"onAnimationEnd"),bi(Dp,"onAnimationIteration"),bi(Sc,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Zb,"onTransitionRun"),bi(Pp,"onTransitionStart"),bi(Xb,"onTransitionCancel"),bi(dl,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fh));function dj(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],E=v.event;v=v.listeners;e:{var k=void 0;if(l)for(var $=v.length-1;0<=$;$--){var K=v[$],oe=K.instance,Se=K.currentTarget;if(K=K.listener,oe!==k&&E.isPropagationStopped())break e;k=K,E.currentTarget=Se;try{k(E)}catch(je){Ec(je)}E.currentTarget=null,k=oe}else for($=0;$<v.length;$++){if(K=v[$],oe=K.instance,Se=K.currentTarget,K=K.listener,oe!==k&&E.isPropagationStopped())break e;k=K,E.currentTarget=Se;try{k(E)}catch(je){Ec(je)}E.currentTarget=null,k=oe}}}}function Et(o,l){var h=l[ha];h===void 0&&(h=l[ha]=new Set);var v=o+"__bubble";h.has(v)||(fj(l,o,2,!1),h.add(v))}function lx(o,l,h){var v=0;l&&(v|=4),fj(h,o,v,l)}var gg="_reactListening"+Math.random().toString(36).slice(2);function cx(o){if(!o[gg]){o[gg]=!0,Zs.forEach(function(h){h!=="selectionchange"&&(L8.has(h)||lx(h,!1,o),lx(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[gg]||(l[gg]=!0,lx("selectionchange",!1,l))}}function fj(o,l,h,v){switch(Uj(l)){case 2:var E=uU;break;case 8:E=dU;break;default:E=Ex}h=E.bind(null,l,h,o),E=void 0,!uc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(l,h,{capture:!0,passive:E}):o.addEventListener(l,h,!0):E!==void 0?o.addEventListener(l,h,{passive:E}):o.addEventListener(l,h,!1)}function ux(o,l,h,v,E){var k=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var $=v.tag;if($===3||$===4){var K=v.stateNode.containerInfo;if(K===E)break;if($===4)for($=v.return;$!==null;){var oe=$.tag;if((oe===3||oe===4)&&$.stateNode.containerInfo===E)return;$=$.return}for(;K!==null;){if($=gt(K),$===null)return;if(oe=$.tag,oe===5||oe===6||oe===26||oe===27){v=k=$;continue e}K=K.parentNode}}v=v.return}jf(function(){var Se=k,je=cc(h),Pe=[];e:{var Ae=Rp.get(o);if(Ae!==void 0){var Te=Mu,We=o;switch(o){case"keypress":if(dc(h)===0)break e;case"keydown":case"keyup":Te=xp;break;case"focusin":We="focus",Te=Mf;break;case"focusout":We="blur",Te=Mf;break;case"beforeblur":case"afterblur":Te=Mf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Gb;break;case wc:case Dp:case Sc:Te=Df;break;case dl:Te=Ep;break;case"scroll":case"scrollend":Te=Ot;break;case"wheel":Te=Xo;break;case"copy":case"cut":case"paste":Te=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=wp;break;case"toggle":case"beforetoggle":Te=mc}var st=(l&4)!==0,Zt=!st&&(o==="scroll"||o==="scrollend"),me=st?Ae!==null?Ae+"Capture":null:Ae;st=[];for(var ue=Se,xe;ue!==null;){var Ne=ue;if(xe=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||xe===null||me===null||(Ne=Vo(ue,me),Ne!=null&&st.push(hh(ue,Ne,xe))),Zt)break;ue=ue.return}0<st.length&&(Ae=new Te(Ae,We,null,h,je),Pe.push({event:Ae,listeners:st}))}}if((l&7)===0){e:{if(Ae=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",Ae&&h!==Nu&&(We=h.relatedTarget||h.fromElement)&&(gt(We)||We[Ii]))break e;if((Te||Ae)&&(Ae=je.window===je?je:(Ae=je.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Te?(We=h.relatedTarget||h.toElement,Te=Se,We=We?gt(We):null,We!==null&&(Zt=a(We),st=We.tag,We!==Zt||st!==5&&st!==27&&st!==6)&&(We=null)):(Te=null,We=Se),Te!==We)){if(st=gp,Ne="onMouseLeave",me="onMouseEnter",ue="mouse",(o==="pointerout"||o==="pointerover")&&(st=wp,Ne="onPointerLeave",me="onPointerEnter",ue="pointer"),Zt=Te==null?Ae:bt(Te),xe=We==null?Ae:bt(We),Ae=new st(Ne,ue+"leave",Te,h,je),Ae.target=Zt,Ae.relatedTarget=xe,Ne=null,gt(je)===Se&&(st=new st(me,ue+"enter",We,h,je),st.target=xe,st.relatedTarget=Zt,Ne=st),Zt=Ne,Te&&We)t:{for(st=$8,me=Te,ue=We,xe=0,Ne=me;Ne;Ne=st(Ne))xe++;Ne=0;for(var rt=ue;rt;rt=st(rt))Ne++;for(;0<xe-Ne;)me=st(me),xe--;for(;0<Ne-xe;)ue=st(ue),Ne--;for(;xe--;){if(me===ue||ue!==null&&me===ue.alternate){st=me;break t}me=st(me),ue=st(ue)}st=null}else st=null;Te!==null&&hj(Pe,Ae,Te,st,!1),We!==null&&Zt!==null&&hj(Pe,Zt,We,st,!0)}}e:{if(Ae=Se?bt(Se):window,Te=Ae.nodeName&&Ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ae.type==="file")var Rt=yc;else if(ya(Ae))if(Op)Rt=Vb;else{Rt=Wb;var Je=Va}else Te=Ae.nodeName,!Te||Te.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Se&&lc(Se.elementType)&&(Rt=yc):Rt=sl;if(Rt&&(Rt=Rt(o,Se))){kp(Pe,Rt,h,je);break e}Je&&Je(o,Ae,Se),o==="focusout"&&Se&&Ae.type==="number"&&Se.memoizedProps.value!=null&&Ya(Ae,"number",Ae.value)}switch(Je=Se?bt(Se):window,o){case"focusin":(ya(Je)||Je.contentEditable==="true")&&(Ao=Je,Uu=Se,xc=null);break;case"focusout":xc=Uu=Ao=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,Np(Pe,h,je);break;case"selectionchange":if(zu)break;case"keydown":case"keyup":Np(Pe,h,je)}var yt;if(Pu)e:{switch(o){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else il?Tp(o,h)&&(Ct="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ct="onCompositionStart");Ct&&(Ru&&h.locale!=="ko"&&(il||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&il&&(yt=wo()):(ga=je,Zo="value"in ga?ga.value:ga.textContent,il=!0)),Je=vg(Se,Ct),0<Je.length&&(Ct=new Pf(Ct,o,null,h,je),Pe.push({event:Ct,listeners:Je}),yt?Ct.data=yt:(yt=If(h),yt!==null&&(Ct.data=yt)))),(yt=Yb?Hi(o,h):al(o,h))&&(Ct=vg(Se,"onBeforeInput"),0<Ct.length&&(Je=new Pf("onBeforeInput","beforeinput",null,h,je),Pe.push({event:Je,listeners:Ct}),Je.data=yt)),D8(Pe,o,Se,h,je)}dj(Pe,l)})}function hh(o,l,h){return{instance:o,listener:l,currentTarget:h}}function vg(o,l){for(var h=l+"Capture",v=[];o!==null;){var E=o,k=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||k===null||(E=Vo(o,h),E!=null&&v.unshift(hh(o,E,k)),E=Vo(o,l),E!=null&&v.push(hh(o,E,k))),o.tag===3)return v;o=o.return}return[]}function $8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function hj(o,l,h,v,E){for(var k=l._reactName,$=[];h!==null&&h!==v;){var K=h,oe=K.alternate,Se=K.stateNode;if(K=K.tag,oe!==null&&oe===v)break;K!==5&&K!==26&&K!==27||Se===null||(oe=Se,E?(Se=Vo(h,k),Se!=null&&$.unshift(hh(h,Se,oe))):E||(Se=Vo(h,k),Se!=null&&$.push(hh(h,Se,oe)))),h=h.return}$.length!==0&&o.push({event:l,listeners:$})}var I8=/\r\n?/g,B8=/\u0000|\uFFFD/g;function mj(o){return(typeof o=="string"?o:""+o).replace(I8,`
`).replace(B8,"")}function pj(o,l){return l=mj(l),mj(o)===l}function Vt(o,l,h,v,E,k){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||pa(o,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&pa(o,""+v);break;case"className":Kt(o,"class",v);break;case"tabIndex":Kt(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(o,h,v);break;case"style":ju(o,v,k);break;case"data":if(l!=="object"){Kt(o,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=el(""+v),o.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(l!=="input"&&Vt(o,l,"name",E.name,E,null),Vt(o,l,"formEncType",E.formEncType,E,null),Vt(o,l,"formMethod",E.formMethod,E,null),Vt(o,l,"formTarget",E.formTarget,E,null)):(Vt(o,l,"encType",E.encType,E,null),Vt(o,l,"method",E.method,E,null),Vt(o,l,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=el(""+v),o.setAttribute(h,v);break;case"onClick":v!=null&&(o.onclick=vi);break;case"onScroll":v!=null&&Et("scroll",o);break;case"onScrollEnd":v!=null&&Et("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}h=el(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""+v):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":v===!0?o.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,v):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(h,v):o.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(h):o.setAttribute(h,v);break;case"popover":Et("beforetoggle",o),Et("toggle",o),xt(o,"popover",v);break;case"xlinkActuate":gi(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":gi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":gi(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":gi(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":gi(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":gi(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":gi(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":gi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":gi(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":xt(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Cu.get(h)||h,xt(o,h,v))}}function dx(o,l,h,v,E,k){switch(h){case"style":ju(o,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof v=="string"?pa(o,v):(typeof v=="number"||typeof v=="bigint")&&pa(o,""+v);break;case"onScroll":v!=null&&Et("scroll",o);break;case"onScrollEnd":v!=null&&Et("scrollend",o);break;case"onClick":v!=null&&(o.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(E=h.endsWith("Capture"),l=h.slice(2,E?h.length-7:void 0),k=o[Hn]||null,k=k!=null?k[h]:null,typeof k=="function"&&o.removeEventListener(l,k,E),typeof v=="function")){typeof k!="function"&&k!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,v,E);break e}h in o?o[h]=v:v===!0?o.setAttribute(h,""):xt(o,h,v)}}}function Mr(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",o),Et("load",o);var v=!1,E=!1,k;for(k in h)if(h.hasOwnProperty(k)){var $=h[k];if($!=null)switch(k){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(o,l,k,$,h,null)}}E&&Vt(o,l,"srcSet",h.srcSet,h,null),v&&Vt(o,l,"src",h.src,h,null);return;case"input":Et("invalid",o);var K=k=$=E=null,oe=null,Se=null;for(v in h)if(h.hasOwnProperty(v)){var je=h[v];if(je!=null)switch(v){case"name":E=je;break;case"type":$=je;break;case"checked":oe=je;break;case"defaultChecked":Se=je;break;case"value":k=je;break;case"defaultValue":K=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,l));break;default:Vt(o,l,v,je,h,null)}}sc(o,k,K,oe,Se,$,E,!1);return;case"select":Et("invalid",o),v=$=k=null;for(E in h)if(h.hasOwnProperty(E)&&(K=h[E],K!=null))switch(E){case"value":k=K;break;case"defaultValue":$=K;break;case"multiple":v=K;default:Vt(o,l,E,K,h,null)}l=k,h=$,o.multiple=!!v,l!=null?Jt(o,!!v,l,!1):h!=null&&Jt(o,!!v,h,!0);return;case"textarea":Et("invalid",o),k=E=v=null;for($ in h)if(h.hasOwnProperty($)&&(K=h[$],K!=null))switch($){case"value":v=K;break;case"defaultValue":E=K;break;case"children":k=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Vt(o,l,$,K,h,null)}Js(o,v,E,k);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(v=h[oe],v!=null))switch(oe){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Vt(o,l,oe,v,h,null)}return;case"dialog":Et("beforetoggle",o),Et("toggle",o),Et("cancel",o),Et("close",o);break;case"iframe":case"object":Et("load",o);break;case"video":case"audio":for(v=0;v<fh.length;v++)Et(fh[v],o);break;case"image":Et("error",o),Et("load",o);break;case"details":Et("toggle",o);break;case"embed":case"source":case"link":Et("error",o),Et("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in h)if(h.hasOwnProperty(Se)&&(v=h[Se],v!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(o,l,Se,v,h,null)}return;default:if(lc(l)){for(je in h)h.hasOwnProperty(je)&&(v=h[je],v!==void 0&&dx(o,l,je,v,h,void 0));return}}for(K in h)h.hasOwnProperty(K)&&(v=h[K],v!=null&&Vt(o,l,K,v,h,null))}function z8(o,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,k=null,$=null,K=null,oe=null,Se=null,je=null;for(Te in h){var Pe=h[Te];if(h.hasOwnProperty(Te)&&Pe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":oe=Pe;default:v.hasOwnProperty(Te)||Vt(o,l,Te,null,v,Pe)}}for(var Ae in v){var Te=v[Ae];if(Pe=h[Ae],v.hasOwnProperty(Ae)&&(Te!=null||Pe!=null))switch(Ae){case"type":k=Te;break;case"name":E=Te;break;case"checked":Se=Te;break;case"defaultChecked":je=Te;break;case"value":$=Te;break;case"defaultValue":K=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,l));break;default:Te!==Pe&&Vt(o,l,Ae,Te,v,Pe)}}Tf(o,$,K,oe,Se,je,k,E);return;case"select":Te=$=K=Ae=null;for(k in h)if(oe=h[k],h.hasOwnProperty(k)&&oe!=null)switch(k){case"value":break;case"multiple":Te=oe;default:v.hasOwnProperty(k)||Vt(o,l,k,null,v,oe)}for(E in v)if(k=v[E],oe=h[E],v.hasOwnProperty(E)&&(k!=null||oe!=null))switch(E){case"value":Ae=k;break;case"defaultValue":K=k;break;case"multiple":$=k;default:k!==oe&&Vt(o,l,E,k,v,oe)}l=K,h=$,v=Te,Ae!=null?Jt(o,!!h,Ae,!1):!!v!=!!h&&(l!=null?Jt(o,!!h,l,!0):Jt(o,!!h,h?[]:"",!1));return;case"textarea":Te=Ae=null;for(K in h)if(E=h[K],h.hasOwnProperty(K)&&E!=null&&!v.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Vt(o,l,K,null,v,E)}for($ in v)if(E=v[$],k=h[$],v.hasOwnProperty($)&&(E!=null||k!=null))switch($){case"value":Ae=E;break;case"defaultValue":Te=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==k&&Vt(o,l,$,E,v,k)}xo(o,Ae,Te);return;case"option":for(var We in h)if(Ae=h[We],h.hasOwnProperty(We)&&Ae!=null&&!v.hasOwnProperty(We))switch(We){case"selected":o.selected=!1;break;default:Vt(o,l,We,null,v,Ae)}for(oe in v)if(Ae=v[oe],Te=h[oe],v.hasOwnProperty(oe)&&Ae!==Te&&(Ae!=null||Te!=null))switch(oe){case"selected":o.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:Vt(o,l,oe,Ae,v,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in h)Ae=h[st],h.hasOwnProperty(st)&&Ae!=null&&!v.hasOwnProperty(st)&&Vt(o,l,st,null,v,Ae);for(Se in v)if(Ae=v[Se],Te=h[Se],v.hasOwnProperty(Se)&&Ae!==Te&&(Ae!=null||Te!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:Vt(o,l,Se,Ae,v,Te)}return;default:if(lc(l)){for(var Zt in h)Ae=h[Zt],h.hasOwnProperty(Zt)&&Ae!==void 0&&!v.hasOwnProperty(Zt)&&dx(o,l,Zt,void 0,v,Ae);for(je in v)Ae=v[je],Te=h[je],!v.hasOwnProperty(je)||Ae===Te||Ae===void 0&&Te===void 0||dx(o,l,je,Ae,v,Te);return}}for(var me in h)Ae=h[me],h.hasOwnProperty(me)&&Ae!=null&&!v.hasOwnProperty(me)&&Vt(o,l,me,null,v,Ae);for(Pe in v)Ae=v[Pe],Te=h[Pe],!v.hasOwnProperty(Pe)||Ae===Te||Ae==null&&Te==null||Vt(o,l,Pe,Ae,v,Te)}function gj(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var E=h[v],k=E.transferSize,$=E.initiatorType,K=E.duration;if(k&&K&&gj($)){for($=0,K=E.responseEnd,v+=1;v<h.length;v++){var oe=h[v],Se=oe.startTime;if(Se>K)break;var je=oe.transferSize,Pe=oe.initiatorType;je&&gj(Pe)&&(oe=oe.responseEnd,$+=je*(oe<K?1:(K-Se)/(oe-Se)))}if(--v,l+=8*(k+$)/(E.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var fx=null,hx=null;function yg(o){return o.nodeType===9?o:o.ownerDocument}function vj(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yj(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function mx(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var px=null;function H8(){var o=window.event;return o&&o.type==="popstate"?o===px?!1:(px=o,!0):(px=null,!1)}var bj=typeof setTimeout=="function"?setTimeout:void 0,F8=typeof clearTimeout=="function"?clearTimeout:void 0,_j=typeof Promise=="function"?Promise:void 0,G8=typeof queueMicrotask=="function"?queueMicrotask:typeof _j<"u"?function(o){return _j.resolve(null).then(o).catch(q8)}:bj;function q8(o){setTimeout(function(){throw o})}function Tl(o){return o==="head"}function xj(o,l){var h=l,v=0;do{var E=h.nextSibling;if(o.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"||h==="/&"){if(v===0){o.removeChild(E),hd(l);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")mh(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,mh(h);for(var k=h.firstChild;k;){var $=k.nextSibling,K=k.nodeName;k[_t]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=$}}else h==="body"&&mh(o.ownerDocument.body);h=E}while(h);hd(l)}function wj(o,l){var h=o;o=0;do{var v=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=v}while(h)}function gx(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":gx(h),ot(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function Y8(o,l,h,v){for(;o.nodeType===1;){var E=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[_t])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var k=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=Ea(o.nextSibling),o===null)break}return null}function K8(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Ea(o.nextSibling),o===null))return null;return o}function Sj(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Ea(o.nextSibling),o===null))return null;return o}function vx(o){return o.data==="$?"||o.data==="$~"}function yx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function W8(o,l){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||h.readyState!=="loading")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Ea(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var bx=null;function Ej(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(l===0)return Ea(o.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}o=o.nextSibling}return null}function Aj(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return o;l--}else h!=="/$"&&h!=="/&"||l++}o=o.previousSibling}return null}function Tj(o,l,h){switch(l=yg(h),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function mh(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ot(o)}var Aa=new Map,kj=new Set;function bg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var fs=ae.d;ae.d={f:V8,r:Z8,D:X8,C:J8,L:Q8,m:eU,X:nU,S:tU,M:rU};function V8(){var o=fs.f(),l=ug();return o||l}function Z8(o){var l=Tt(o);l!==null&&l.tag===5&&l.type==="form"?Gk(l):fs.r(o)}var ud=typeof document>"u"?null:document;function Oj(o,l,h){var v=ud;if(v&&typeof l=="string"&&l){var E=dn(l);E='link[rel="'+o+'"][href="'+E+'"]',typeof h=="string"&&(E+='[crossorigin="'+h+'"]'),kj.has(E)||(kj.add(E),o={rel:o,crossOrigin:h,href:l},v.querySelector(E)===null&&(l=v.createElement("link"),Mr(l,"link",o),kt(l),v.head.appendChild(l)))}}function X8(o){fs.D(o),Oj("dns-prefetch",o,null)}function J8(o,l){fs.C(o,l),Oj("preconnect",o,l)}function Q8(o,l,h){fs.L(o,l,h);var v=ud;if(v&&o&&l){var E='link[rel="preload"][as="'+dn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(E+='[imagesrcset="'+dn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(E+='[imagesizes="'+dn(h.imageSizes)+'"]')):E+='[href="'+dn(o)+'"]';var k=E;switch(l){case"style":k=dd(o);break;case"script":k=fd(o)}Aa.has(k)||(o=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),Aa.set(k,o),v.querySelector(E)!==null||l==="style"&&v.querySelector(ph(k))||l==="script"&&v.querySelector(gh(k))||(l=v.createElement("link"),Mr(l,"link",o),kt(l),v.head.appendChild(l)))}}function eU(o,l){fs.m(o,l);var h=ud;if(h&&o){var v=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+dn(v)+'"][href="'+dn(o)+'"]',k=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=fd(o)}if(!Aa.has(k)&&(o=p({rel:"modulepreload",href:o},l),Aa.set(k,o),h.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(gh(k)))return}v=h.createElement("link"),Mr(v,"link",o),kt(v),h.head.appendChild(v)}}}function tU(o,l,h){fs.S(o,l,h);var v=ud;if(v&&o){var E=ir(v).hoistableStyles,k=dd(o);l=l||"default";var $=E.get(k);if(!$){var K={loading:0,preload:null};if($=v.querySelector(ph(k)))K.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},h),(h=Aa.get(k))&&_x(o,h);var oe=$=v.createElement("link");kt(oe),Mr(oe,"link",o),oe._p=new Promise(function(Se,je){oe.onload=Se,oe.onerror=je}),oe.addEventListener("load",function(){K.loading|=1}),oe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,_g($,l,v)}$={type:"stylesheet",instance:$,count:1,state:K},E.set(k,$)}}}function nU(o,l){fs.X(o,l);var h=ud;if(h&&o){var v=ir(h).hoistableScripts,E=fd(o),k=v.get(E);k||(k=h.querySelector(gh(E)),k||(o=p({src:o,async:!0},l),(l=Aa.get(E))&&xx(o,l),k=h.createElement("script"),kt(k),Mr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function rU(o,l){fs.M(o,l);var h=ud;if(h&&o){var v=ir(h).hoistableScripts,E=fd(o),k=v.get(E);k||(k=h.querySelector(gh(E)),k||(o=p({src:o,async:!0,type:"module"},l),(l=Aa.get(E))&&xx(o,l),k=h.createElement("script"),kt(k),Mr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function jj(o,l,h,v){var E=(E=W.current)?bg(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=dd(h.href),h=ir(E).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=dd(h.href);var k=ir(E).hoistableStyles,$=k.get(o);if($||(E=E.ownerDocument||E,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,$),(k=E.querySelector(ph(o)))&&!k._p&&($.instance=k,$.state.loading=5),Aa.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Aa.set(o,h),k||iU(E,o,h,$.state))),l&&v===null)throw Error(r(528,""));return $}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=fd(h),h=ir(E).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function dd(o){return'href="'+dn(o)+'"'}function ph(o){return'link[rel="stylesheet"]['+o+"]"}function Cj(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function iU(o,l,h,v){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=o.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Mr(l,"link",h),kt(l),o.head.appendChild(l))}function fd(o){return'[src="'+dn(o)+'"]'}function gh(o){return"script[async]"+o}function Nj(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=o.querySelector('style[data-href~="'+dn(h.href)+'"]');if(v)return l.instance=v,kt(v),v;var E=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),kt(v),Mr(v,"style",E),_g(v,h.precedence,o),l.instance=v;case"stylesheet":E=dd(h.href);var k=o.querySelector(ph(E));if(k)return l.state.loading|=4,l.instance=k,kt(k),k;v=Cj(h),(E=Aa.get(E))&&_x(v,E),k=(o.ownerDocument||o).createElement("link"),kt(k);var $=k;return $._p=new Promise(function(K,oe){$.onload=K,$.onerror=oe}),Mr(k,"link",v),l.state.loading|=4,_g(k,h.precedence,o),l.instance=k;case"script":return k=fd(h.src),(E=o.querySelector(gh(k)))?(l.instance=E,kt(E),E):(v=h,(E=Aa.get(k))&&(v=p({},h),xx(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),kt(E),Mr(E,"link",v),o.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,_g(v,h.precedence,o));return l.instance}function _g(o,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,k=E,$=0;$<v.length;$++){var K=v[$];if(K.dataset.precedence===l)k=K;else if(k!==E)break}k?k.parentNode.insertBefore(o,k.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function _x(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function xx(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var xg=null;function Mj(o,l,h){if(xg===null){var v=new Map,E=xg=new Map;E.set(h,v)}else E=xg,v=E.get(h),v||(v=new Map,E.set(h,v));if(v.has(o))return v;for(v.set(o,null),h=h.getElementsByTagName(o),E=0;E<h.length;E++){var k=h[E];if(!(k[_t]||k[gn]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var $=k.getAttribute(l)||"";$=o+$;var K=v.get($);K?K.push(k):v.set($,[k])}}return v}function Dj(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function aU(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Pj(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function oU(o,l,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var E=dd(v.href),k=l.querySelector(ph(E));if(k){l=k._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=wg.bind(o),l.then(o,o)),h.state.loading|=4,h.instance=k,kt(k);return}k=l.ownerDocument||l,v=Cj(v),(E=Aa.get(E))&&_x(v,E),k=k.createElement("link"),kt(k);var $=k;$._p=new Promise(function(K,oe){$.onload=K,$.onerror=oe}),Mr(k,"link",v),h.instance=k}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=wg.bind(o),l.addEventListener("load",h),l.addEventListener("error",h))}}var wx=0;function sU(o,l){return o.stylesheets&&o.count===0&&Eg(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var v=setTimeout(function(){if(o.stylesheets&&Eg(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4+l);0<o.imgBytes&&wx===0&&(wx=62500*U8());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Eg(o,o.stylesheets),o.unsuspend)){var k=o.unsuspend;o.unsuspend=null,k()}},(o.imgBytes>wx?50:800)+l);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(E)}}:null}function wg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Sg=null;function Eg(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Sg=new Map,l.forEach(lU,o),Sg=null,wg.call(o))}function lU(o,l){if(!(l.state.loading&4)){var h=Sg.get(o);if(h)var v=h.get(null);else{h=new Map,Sg.set(o,h);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<E.length;k++){var $=E[k];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(h.set($.dataset.precedence,$),v=$)}v&&h.set(null,v)}E=l.instance,$=E.getAttribute("data-precedence"),k=h.get($)||v,k===v&&h.set(null,E),h.set($,E),this.count++,v=wg.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),k?k.parentNode.insertBefore(E,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),l.state.loading|=4}}var vh={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function cU(o,l,h,v,E,k,$,K,oe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.hiddenUpdates=Ql(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=k,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function Rj(o,l,h,v,E,k,$,K,oe,Se,je,Pe){return o=new cU(o,l,h,$,oe,Se,je,Pe,K),l=1,k===!0&&(l|=24),k=qr(3,null,null,l),o.current=k,k.stateNode=o,l=t_(),l.refCount++,o.pooledCache=l,l.refCount++,k.memoizedState={element:v,isDehydrated:h,cache:l},a_(k),o}function Lj(o){return o?(o=Jo,o):Jo}function $j(o,l,h,v,E,k){E=Lj(E),v.context===null?v.context=E:v.pendingContext=E,v=pl(l),v.payload={element:h},k=k===void 0?null:k,k!==null&&(v.callback=k),h=gl(o,v,l),h!==null&&(Ti(h,o,l),Vf(h,o,l))}function Ij(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Sx(o,l){Ij(o,l),(o=o.alternate)&&Ij(o,l)}function Bj(o){if(o.tag===13||o.tag===31){var l=xa(o,67108864);l!==null&&Ti(l,o,67108864),Sx(o,67108864)}}function zj(o){if(o.tag===13||o.tag===31){var l=Ki();l=rr(l);var h=xa(o,l);h!==null&&Ti(h,o,l),Sx(o,l)}}var Ag=!0;function uU(o,l,h,v){var E=J.T;J.T=null;var k=ae.p;try{ae.p=2,Ex(o,l,h,v)}finally{ae.p=k,J.T=E}}function dU(o,l,h,v){var E=J.T;J.T=null;var k=ae.p;try{ae.p=8,Ex(o,l,h,v)}finally{ae.p=k,J.T=E}}function Ex(o,l,h,v){if(Ag){var E=Ax(v);if(E===null)ux(o,l,v,Tg,h),Hj(o,v);else if(hU(E,o,l,h,v))v.stopPropagation();else if(Hj(o,v),l&4&&-1<fU.indexOf(o)){for(;E!==null;){var k=Tt(E);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var $=mi(k.pendingLanes);if($!==0){var K=k;for(K.pendingLanes|=2,K.entangledLanes|=2;$;){var oe=1<<31-An($);K.entanglements[1]|=oe,$&=~oe}Do(k),(Bt&6)===0&&(lg=ze()+500,dh(0))}}break;case 31:case 13:K=xa(k,2),K!==null&&Ti(K,k,2),ug(),Sx(k,2)}if(k=Ax(v),k===null&&ux(o,l,v,Tg,h),k===E)break;E=k}E!==null&&v.stopPropagation()}else ux(o,l,v,null,h)}}function Ax(o){return o=cc(o),Tx(o)}var Tg=null;function Tx(o){if(Tg=null,o=gt(o),o!==null){var l=a(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=s(l),o!==null)return o;o=null}else if(h===31){if(o=c(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Tg=o,null}function Uj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case ut:return 2;case it:return 8;case tn:case Kn:return 32;case zn:return 268435456;default:return 32}default:return 32}}var kx=!1,kl=null,Ol=null,jl=null,yh=new Map,bh=new Map,Cl=[],fU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hj(o,l){switch(o){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":yh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(l.pointerId)}}function _h(o,l,h,v,E,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:k,targetContainers:[E]},l!==null&&(l=Tt(l),l!==null&&Bj(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),o)}function hU(o,l,h,v,E){switch(l){case"focusin":return kl=_h(kl,o,l,h,v,E),!0;case"dragenter":return Ol=_h(Ol,o,l,h,v,E),!0;case"mouseover":return jl=_h(jl,o,l,h,v,E),!0;case"pointerover":var k=E.pointerId;return yh.set(k,_h(yh.get(k)||null,o,l,h,v,E)),!0;case"gotpointercapture":return k=E.pointerId,bh.set(k,_h(bh.get(k)||null,o,l,h,v,E)),!0}return!1}function Fj(o){var l=gt(o.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=s(h),l!==null){o.blockedOn=l,pi(o.priority,function(){zj(h)});return}}else if(l===31){if(l=c(h),l!==null){o.blockedOn=l,pi(o.priority,function(){zj(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function kg(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Ax(o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);Nu=v,h.target.dispatchEvent(v),Nu=null}else return l=Tt(h),l!==null&&Bj(l),o.blockedOn=h,!1;l.shift()}return!0}function Gj(o,l,h){kg(o)&&h.delete(l)}function mU(){kx=!1,kl!==null&&kg(kl)&&(kl=null),Ol!==null&&kg(Ol)&&(Ol=null),jl!==null&&kg(jl)&&(jl=null),yh.forEach(Gj),bh.forEach(Gj)}function Og(o,l){o.blockedOn===l&&(o.blockedOn=null,kx||(kx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mU)))}var jg=null;function qj(o){jg!==o&&(jg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jg===o&&(jg=null);for(var l=0;l<o.length;l+=3){var h=o[l],v=o[l+1],E=o[l+2];if(typeof v!="function"){if(Tx(v||h)===null)continue;break}var k=Tt(h);k!==null&&(o.splice(l,3),l-=3,A_(k,{pending:!0,data:E,method:h.method,action:v},v,E))}}))}function hd(o){function l(oe){return Og(oe,o)}kl!==null&&Og(kl,o),Ol!==null&&Og(Ol,o),jl!==null&&Og(jl,o),yh.forEach(l),bh.forEach(l);for(var h=0;h<Cl.length;h++){var v=Cl[h];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Cl.length&&(h=Cl[0],h.blockedOn===null);)Fj(h),h.blockedOn===null&&Cl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var E=h[v],k=h[v+1],$=E[Hn]||null;if(typeof k=="function")$||qj(h);else if($){var K=null;if(k&&k.hasAttribute("formAction")){if(E=k,$=k[Hn]||null)K=$.formAction;else if(Tx(E)!==null)continue}else K=$.action;typeof K=="function"?h[v+1]=K:(h.splice(v,3),v-=3),qj(h)}}}function Yj(){function o(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function($){return E=$})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function Ox(o){this._internalRoot=o}Cg.prototype.render=Ox.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,v=Ki();$j(h,v,o,l,null,null)},Cg.prototype.unmount=Ox.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;$j(o.current,2,null,o,null,null),ug(),l[Ii]=null}};function Cg(o){this._internalRoot=o}Cg.prototype.unstable_scheduleHydration=function(o){if(o){var l=Yo();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Cl.length&&l!==0&&l<Cl[h].priority;h++);Cl.splice(h,0,o),h===0&&Fj(o)}};var Kj=t.version;if(Kj!=="19.2.1")throw Error(r(527,Kj,"19.2.1"));ae.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var pU={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{En=Ng.inject(pU),It=Ng}catch{}}return wh.createRoot=function(o,l){if(!i(o))throw Error(r(299));var h=!1,v="",E=eO,k=tO,$=nO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError)),l=Rj(o,1,!1,null,null,h,v,null,E,k,$,Yj),o[Ii]=l.current,cx(o),new Ox(l)},wh.hydrateRoot=function(o,l,h){if(!i(o))throw Error(r(299));var v=!1,E="",k=eO,$=tO,K=nO,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&($=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError),h.formState!==void 0&&(oe=h.formState)),l=Rj(o,1,!0,l,h??null,v,E,oe,k,$,K,Yj),l.context=Lj(null),h=l.current,v=Ki(),v=rr(v),E=pl(v),E.callback=null,gl(h,E,v),h=v,l.current.lanes=h,qa(l,h),Do(l),o[Ii]=l.current,cx(o),new Cg(l)},wh.version="19.2.1",wh}var rC;function AU(){if(rC)return Nx.exports;rC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nx.exports=EU(),Nx.exports}var TU=AU();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iC="popstate";function kU(e={}){function t(i,a){let{pathname:s="/",search:c="",hash:d=""}=Su(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),bS("",{pathname:s,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:nm(a))}function r(i,a){$a(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return jU(t,n,r,e)}function jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $a(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OU(){return Math.random().toString(36).substring(2,10)}function aC(e,t){return{usr:e.state,key:e.key,idx:t}}function bS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Su(t):t,state:n,key:t&&t.key||r||OU()}}function nm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Su(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function jU(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",d=null,f=m();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function m(){return(s.state||{idx:null}).idx}function p(){c="POP";let S=m(),j=S==null?null:S-f;f=S,d&&d({action:c,location:T.location,delta:j})}function y(S,j){c="PUSH";let D=bS(T.location,S,j);n&&n(D,S),f=m()+1;let O=aC(D,f),M=T.createHref(D);try{s.pushState(O,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}a&&d&&d({action:c,location:T.location,delta:1})}function b(S,j){c="REPLACE";let D=bS(T.location,S,j);n&&n(D,S),f=m();let O=aC(D,f),M=T.createHref(D);s.replaceState(O,"",M),a&&d&&d({action:c,location:T.location,delta:0})}function w(S){return CU(S)}let T={get action(){return c},get location(){return e(i,s)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(iC,p),d=S,()=>{i.removeEventListener(iC,p),d=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:b,go(S){return s.go(S)}};return T}function CU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),jn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function O3(e,t,n="/"){return NU(e,t,n,!1)}function NU(e,t,n,r){let i=typeof t=="string"?Su(t):t,a=js(i.pathname||"/",n);if(a==null)return null;let s=j3(e);MU(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let f=FU(a);c=UU(s[d],f,r)}return c}function j3(e,t=[],n=[],r="",i=!1){let a=(s,c,d=i,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;jn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Ts([r,m.relativePath]),y=n.concat(m);s.children&&s.children.length>0&&(jn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),j3(s.children,t,y,p,d)),!(s.path==null&&!s.index)&&t.push({path:p,score:BU(p,s.index),routesMeta:y})};return e.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))a(s,c);else for(let d of C3(s.path))a(s,c,!0,d)}),t}function C3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=C3(r.join("/")),c=[];return c.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...s),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function MU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DU=/^:[\w-]+$/,PU=3,RU=2,LU=1,$U=10,IU=-2,oC=e=>e==="*";function BU(e,t){let n=e.split("/"),r=n.length;return n.some(oC)&&(r+=IU),t&&(r+=RU),n.filter(i=>!oC(i)).reduce((i,a)=>i+(DU.test(a)?PU:a===""?LU:$U),r)}function zU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function UU(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=lv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=lv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Ts([a,p.pathname]),pathnameBase:WU(Ts([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Ts([a,p.pathnameBase]))}return s}function lv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=HU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let w=c[y]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[y];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function HU(e,t=!1,n=!0){$a(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function FU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function js(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var GU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qU=e=>GU.test(e);function YU(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Su(e):e,a;if(n)if(qU(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),$a(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=sC(n.substring(1),"/"):a=sC(n,t)}else a=t;return{pathname:a,search:VU(r),hash:ZU(i)}}function sC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function N3(e){let t=KU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function M3(e,t,n,r=!1){let i;typeof e=="string"?i=Su(e):(i={...e},jn(!i.pathname||!i.pathname.includes("?"),Rx("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),Rx("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),Rx("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}c=p>=0?t[p]:"/"}let d=YU(i,c),f=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ts=e=>e.join("/").replace(/\/\/+/g,"/"),WU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function JU(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D3=["POST","PUT","PATCH","DELETE"];new Set(D3);var QU=["GET",...D3];new Set(QU);var sf=A.createContext(null);sf.displayName="DataRouter";var Ey=A.createContext(null);Ey.displayName="DataRouterState";A.createContext(!1);var P3=A.createContext({isTransitioning:!1});P3.displayName="ViewTransition";var eH=A.createContext(new Map);eH.displayName="Fetchers";var tH=A.createContext(null);tH.displayName="Await";var bo=A.createContext(null);bo.displayName="Navigation";var Pm=A.createContext(null);Pm.displayName="Location";var $s=A.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var s2=A.createContext(null);s2.displayName="RouteError";function nH(e,{relative:t}={}){jn(Rm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(bo),{hash:i,pathname:a,search:s}=Lm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Ts([n,a])),r.createHref({pathname:c,search:s,hash:i})}function Rm(){return A.useContext(Pm)!=null}function Kl(){return jn(Rm(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Pm).location}var R3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L3(e){A.useContext(bo).static||A.useLayoutEffect(e)}function $3(){let{isDataRoute:e}=A.useContext($s);return e?pH():rH()}function rH(){jn(Rm(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(sf),{basename:t,navigator:n}=A.useContext(bo),{matches:r}=A.useContext($s),{pathname:i}=Kl(),a=JSON.stringify(N3(r)),s=A.useRef(!1);return L3(()=>{s.current=!0}),A.useCallback((d,f={})=>{if($a(s.current,R3),!s.current)return;if(typeof d=="number"){n.go(d);return}let m=M3(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ts([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}A.createContext(null);function Lm(e,{relative:t}={}){let{matches:n}=A.useContext($s),{pathname:r}=Kl(),i=JSON.stringify(N3(n));return A.useMemo(()=>M3(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function iH(e,t){return I3(e,t)}function I3(e,t,n,r,i){jn(Rm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(bo),{matches:s}=A.useContext($s),c=s[s.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let D=p&&p.path||"";B3(f,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Kl(),b;if(t){let D=typeof t=="string"?Su(t):t;jn(m==="/"||D.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=y;let w=b.pathname||"/",T=w;if(m!=="/"){let D=m.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=O3(e,{pathname:T});$a(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),$a(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=cH(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Ts([m,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:Ts([m,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,n,r,i);return t&&j?A.createElement(Pm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function aH(){let e=mH(),t=XU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,s)}var oH=A.createElement(aH,null),sH=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement($s.Provider,{value:this.props.routeContext},A.createElement(s2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lH({routeContext:e,match:t,children:n}){let r=A.useContext(sf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement($s.Provider,{value:e},n)}function cH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let m=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);jn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:b}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JU(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,y)=>{let b,w=!1,T=null,S=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,T=p.route.errorElement||oH,c&&(d<0&&y===0?(B3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):d===y&&(w=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,y+1)),D=()=>{let O;return b?O=T:w?O=S:p.route.Component?O=A.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,A.createElement(lH,{match:p,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(sH,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:f}):D()},null)}function l2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uH(e){let t=A.useContext(sf);return jn(t,l2(e)),t}function dH(e){let t=A.useContext(Ey);return jn(t,l2(e)),t}function fH(e){let t=A.useContext($s);return jn(t,l2(e)),t}function c2(e){let t=fH(e),n=t.matches[t.matches.length-1];return jn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hH(){return c2("useRouteId")}function mH(){let e=A.useContext(s2),t=dH("useRouteError"),n=c2("useRouteError");return e!==void 0?e:t.errors?.[n]}function pH(){let{router:e}=uH("useNavigate"),t=c2("useNavigate"),n=A.useRef(!1);return L3(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{$a(n.current,R3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var lC={};function B3(e,t,n){!t&&!lC[e]&&(lC[e]=!0,$a(!1,n))}A.memo(gH);function gH({routes:e,future:t,state:n,unstable_onError:r}){return I3(e,void 0,n,r,t)}function _S(e){jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vH({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){jn(!Rm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[c,i,a,s]);typeof n=="string"&&(n=Su(n));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:b="default"}=n,w=A.useMemo(()=>{let T=js(f,c);return T==null?null:{location:{pathname:T,search:m,hash:p,state:y,key:b},navigationType:r}},[c,f,m,p,y,b,r]);return $a(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(bo.Provider,{value:d},A.createElement(Pm.Provider,{children:t,value:w}))}function yH({children:e,location:t}){return iH(xS(e),t)}function xS(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let a=[...t,i];if(r.type===A.Fragment){n.push.apply(n,xS(r.props.children,a));return}jn(r.type===_S,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=xS(r.props.children,a)),n.push(s)}),n}var F0="get",G0="application/x-www-form-urlencoded";function Ay(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function bH(e){return Ay(e)&&e.tagName.toLowerCase()==="button"}function _H(e){return Ay(e)&&e.tagName.toLowerCase()==="form"}function xH(e){return Ay(e)&&e.tagName.toLowerCase()==="input"}function wH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SH(e,t){return e.button===0&&(!t||t==="_self")&&!wH(e)}var Mg=null;function EH(){if(Mg===null)try{new FormData(document.createElement("form"),0),Mg=!1}catch{Mg=!0}return Mg}var AH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lx(e){return e!=null&&!AH.has(e)?($a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${G0}"`),null):e}function TH(e,t){let n,r,i,a,s;if(_H(e)){let c=e.getAttribute("action");r=c?js(c,t):null,n=e.getAttribute("method")||F0,i=Lx(e.getAttribute("enctype"))||G0,a=new FormData(e)}else if(bH(e)||xH(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(r=d?js(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||F0,i=Lx(e.getAttribute("formenctype"))||Lx(c.getAttribute("enctype"))||G0,a=new FormData(c,e),!EH()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(Ay(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=F0,r=null,i=G0,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kH(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&js(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function OH(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CH(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await OH(a,n);return s.links?s.links():[]}return[]}));return PH(r.flat(1).filter(jH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cC(e,t,n,r,i,a){let s=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?t.filter((d,f)=>s(d,f)||c(d,f)):a==="data"?t.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(s(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function NH(e,t,{includeHydrateFallback:n}={}){return MH(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function MH(e){return[...new Set(e)]}function DH(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function PH(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(DH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function z3(){let e=A.useContext(sf);return u2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RH(){let e=A.useContext(Ey);return u2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d2=A.createContext(void 0);d2.displayName="FrameworkContext";function U3(){let e=A.useContext(d2);return u2(e,"You must render this element inside a <HydratedRouter> element"),e}function LH(e,t){let n=A.useContext(d2),[r,i]=A.useState(!1),[a,s]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let T=j=>{j.forEach(D=>{s(D.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),A.useEffect(()=>{if(r){let T=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(T)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Sh(c,b),onBlur:Sh(d,w),onMouseEnter:Sh(f,b),onMouseLeave:Sh(m,w),onTouchStart:Sh(p,b)}]:[!1,y,{}]}function Sh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $H({page:e,...t}){let{router:n}=z3(),r=A.useMemo(()=>O3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(BH,{page:e,matches:r,...t}):null}function IH(e){let{manifest:t,routeModules:n}=U3(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return CH(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function BH({page:e,matches:t,...n}){let r=Kl(),{manifest:i,routeModules:a}=U3(),{basename:s}=z3(),{loaderData:c,matches:d}=RH(),f=A.useMemo(()=>cC(e,t,d,i,r,"data"),[e,t,d,i,r]),m=A.useMemo(()=>cC(e,t,d,i,r,"assets"),[e,t,d,i,r]),p=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,T=!1;if(t.forEach(j=>{let D=i.routes[j.route.id];!D||!D.hasLoader||(!f.some(O=>O.route.id===j.route.id)&&j.route.id in c&&a[j.route.id]?.shouldRevalidate||D.hasClientLoader?T=!0:w.add(j.route.id))}),w.size===0)return[];let S=kH(e,s,"data");return T&&w.size>0&&S.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[s,c,r,i,f,t,e,a]),y=A.useMemo(()=>NH(m,i),[m,i]),b=IH(m);return A.createElement(A.Fragment,null,p.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:T})=>A.createElement("link",{key:w,nonce:n.nonce,...T})))}function zH(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var H3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H3&&(window.__reactRouterVersion="7.10.1")}catch{}function UH({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=kU({window:r,v5Compat:!0}));let a=i.current,[s,c]=A.useState({action:a.action,location:a.location}),d=A.useCallback(f=>{n===!1?c(f):A.startTransition(()=>c(f))},[n]);return A.useLayoutEffect(()=>a.listen(d),[a,d]),A.createElement(vH,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}var F3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G3=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,...y},b){let{basename:w,unstable_useTransitions:T}=A.useContext(bo),S=typeof f=="string"&&F3.test(f),j,D=!1;if(typeof f=="string"&&S&&(j=f,H3))try{let V=new URL(window.location.href),H=f.startsWith("//")?new URL(V.protocol+f):new URL(f),U=js(H.pathname,w);H.origin===V.origin&&U!=null?f=U+H.search+H.hash:D=!0}catch{$a(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=nH(f,{relative:i}),[M,C,R]=LH(r,y),I=qH(f,{replace:s,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:T});function z(V){t&&t(V),V.defaultPrevented||I(V)}let q=A.createElement("a",{...y,...R,href:j||O,onClick:D||a?t:z,ref:zH(b,C),target:d,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?A.createElement(A.Fragment,null,q,A.createElement($H,{page:O})):q});G3.displayName="Link";var HH=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:d,...f},m){let p=Lm(s,{relative:f.relative}),y=Kl(),b=A.useContext(Ey),{navigator:w,basename:T}=A.useContext(bo),S=b!=null&&ZH(p)&&c===!0,j=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,D=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&T&&(O=js(O,T)||O);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let C=D===j||!i&&D.startsWith(j)&&D.charAt(M)==="/",R=O!=null&&(O===j||!i&&O.startsWith(j)&&O.charAt(j.length)==="/"),I={isActive:C,isPending:R,isTransitioning:S},z=C?t:void 0,q;typeof r=="function"?q=r(I):q=[r,C?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(I):a;return A.createElement(G3,{...f,"aria-current":z,className:q,ref:m,style:V,to:s,viewTransition:c},typeof d=="function"?d(I):d)});HH.displayName="NavLink";var FH=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=F0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,...y},b)=>{let{unstable_useTransitions:w}=A.useContext(bo),T=WH(),S=VH(c,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&F3.test(c),O=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let C=M.nativeEvent.submitter,R=C?.getAttribute("formmethod")||s,I=()=>T(C||M.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});w&&n!==!1?A.startTransition(()=>I()):I()};return A.createElement("form",{ref:b,method:j,action:S,onSubmit:r?d:O,...y,"data-discover":!D&&e==="render"?"true":void 0})});FH.displayName="Form";function GH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q3(e){let t=A.useContext(sf);return jn(t,GH(e)),t}function qH(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:c}={}){let d=$3(),f=Kl(),m=Lm(e,{relative:a});return A.useCallback(p=>{if(SH(p,t)){p.preventDefault();let y=n!==void 0?n:nm(f)===nm(m),b=()=>d(e,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:s});c?A.startTransition(()=>b()):b()}},[f,d,m,n,r,t,e,i,a,s,c])}var YH=0,KH=()=>`__${String(++YH)}__`;function WH(){let{router:e}=q3("useSubmit"),{basename:t}=A.useContext(bo),n=hH(),r=e.fetch,i=e.navigate;return A.useCallback(async(a,s={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=TH(a,t);if(s.navigate===!1){let y=s.fetcherKey||KH();await r(y,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function VH(e,{relative:t}={}){let{basename:n}=A.useContext(bo),r=A.useContext($s);jn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Lm(e||".",{relative:t})},s=Kl();if(e==null){a.search=s.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ts([n,a.pathname])),nm(a)}function ZH(e,{relative:t}={}){let n=A.useContext(P3);jn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q3("useViewTransitionState"),i=Lm(e,{relative:t});if(!n.isTransitioning)return!1;let a=js(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lv(i.pathname,s)!=null||lv(i.pathname,a)!=null}var lf=k3();const XH=Pi(lf);let JH={data:""},QH=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||JH,eF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tF=/\/\*[^]*?\*\/|  +/g,uC=/\n+/g,Ll=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Ll(s,a):a+"{"+Ll(s,a[1]=="k"?"":t)+"}":typeof s=="object"?r+=Ll(s,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ll.p?Ll.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},hs={},Y3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Y3(e[n]);return t}return e},nF=(e,t,n,r,i)=>{let a=Y3(e),s=hs[a]||(hs[a]=(d=>{let f=0,m=11;for(;f<d.length;)m=101*m+d.charCodeAt(f++)>>>0;return"go"+m})(a));if(!hs[s]){let d=a!==e?e:(f=>{let m,p,y=[{}];for(;m=eF.exec(f.replace(tF,""));)m[4]?y.shift():m[3]?(p=m[3].replace(uC," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][m[1]]=m[2].replace(uC," ").trim();return y[0]})(e);hs[s]=Ll(i?{["@keyframes "+s]:d}:d,n?"":"."+s)}let c=n&&hs.g?hs.g:null;return n&&(hs.g=hs[s]),((d,f,m,p)=>{p?f.data=f.data.replace(p,d):f.data.indexOf(d)===-1&&(f.data=m?d+f.data:f.data+d)})(hs[s],t,r,c),s},rF=(e,t,n)=>e.reduce((r,i,a)=>{let s=t[a];if(s&&s.call){let c=s(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;s=d?"."+d:c&&typeof c=="object"?c.props?"":Ll(c,""):c===!1?"":c}return r+i+(s??"")},"");function Ty(e){let t=this||{},n=e.call?e(t.p):e;return nF(n.unshift?n.raw?rF(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,QH(t.target),t.g,t.o,t.k)}let K3,wS,SS;Ty.bind({g:1});let Cs=Ty.bind({k:1});function iF(e,t,n,r){Ll.p=t,K3=e,wS=n,SS=r}function Wl(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let c=Object.assign({},a),d=c.className||i.className;n.p=Object.assign({theme:wS&&wS()},c),n.o=/ *go\d+/.test(d),c.className=Ty.apply(n,r)+(d?" "+d:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),SS&&f[0]&&SS(c),K3(f,c)}return i}}var aF=e=>typeof e=="function",cv=(e,t)=>aF(e)?e(t):e,oF=(()=>{let e=0;return()=>(++e).toString()})(),W3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),sF=20,f2="default",V3=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return V3(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},q0=[],Z3={toasts:[],pausedAt:void 0,settings:{toastLimit:sF}},Io={},X3=(e,t=f2)=>{Io[t]=V3(Io[t]||Z3,e),q0.forEach(([n,r])=>{n===t&&r(Io[t])})},J3=e=>Object.keys(Io).forEach(t=>X3(e,t)),lF=e=>Object.keys(Io).find(t=>Io[t].toasts.some(n=>n.id===e)),ky=(e=f2)=>t=>{X3(t,e)},cF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uF=(e={},t=f2)=>{let[n,r]=A.useState(Io[t]||Z3),i=A.useRef(Io[t]);A.useEffect(()=>(i.current!==Io[t]&&r(Io[t]),q0.push([t,r]),()=>{let s=q0.findIndex(([c])=>c===t);s>-1&&q0.splice(s,1)}),[t]);let a=n.toasts.map(s=>{var c,d,f;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((c=e[s.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:s.duration||((d=e[s.type])==null?void 0:d.duration)||e?.duration||cF[s.type],style:{...e.style,...(f=e[s.type])==null?void 0:f.style,...s.style}}});return{...n,toasts:a}},dF=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||oF()}),$m=e=>(t,n)=>{let r=dF(t,e,n);return ky(r.toasterId||lF(r.id))({type:2,toast:r}),r.id},ur=(e,t)=>$m("blank")(e,t);ur.error=$m("error");ur.success=$m("success");ur.loading=$m("loading");ur.custom=$m("custom");ur.dismiss=(e,t)=>{let n={type:3,toastId:e};t?ky(t)(n):J3(n)};ur.dismissAll=e=>ur.dismiss(void 0,e);ur.remove=(e,t)=>{let n={type:4,toastId:e};t?ky(t)(n):J3(n)};ur.removeAll=e=>ur.remove(void 0,e);ur.promise=(e,t,n)=>{let r=ur.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?cv(t.success,i):void 0;return a?ur.success(a,{id:r,...n,...n?.success}):ur.dismiss(r),i}).catch(i=>{let a=t.error?cv(t.error,i):void 0;a?ur.error(a,{id:r,...n,...n?.error}):ur.dismiss(r)}),e};var fF=1e3,hF=(e,t="default")=>{let{toasts:n,pausedAt:r}=uF(e,t),i=A.useRef(new Map).current,a=A.useCallback((p,y=fF)=>{if(i.has(p))return;let b=setTimeout(()=>{i.delete(p),s({type:4,toastId:p})},y);i.set(p,b)},[]);A.useEffect(()=>{if(r)return;let p=Date.now(),y=n.map(b=>{if(b.duration===1/0)return;let w=(b.duration||0)+b.pauseDuration-(p-b.createdAt);if(w<0){b.visible&&ur.dismiss(b.id);return}return setTimeout(()=>ur.dismiss(b.id,t),w)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let s=A.useCallback(ky(t),[t]),c=A.useCallback(()=>{s({type:5,time:Date.now()})},[s]),d=A.useCallback((p,y)=>{s({type:1,toast:{id:p,height:y}})},[s]),f=A.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),m=A.useCallback((p,y)=>{let{reverseOrder:b=!1,gutter:w=8,defaultPosition:T}=y||{},S=n.filter(O=>(O.position||T)===(p.position||T)&&O.height),j=S.findIndex(O=>O.id===p.id),D=S.filter((O,M)=>M<j&&O.visible).length;return S.filter(O=>O.visible).slice(...b?[D+1]:[0,D]).reduce((O,M)=>O+(M.height||0)+w,0)},[n]);return A.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let y=i.get(p.id);y&&(clearTimeout(y),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:d,startPause:c,endPause:f,calculateOffset:m}}},mF=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pF=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gF=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vF=Wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yF=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bF=Wl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${yF} 1s linear infinite;
`,_F=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xF=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wF=Wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_F} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SF=Wl("div")`
  position: absolute;
`,EF=Wl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,AF=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TF=Wl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${AF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kF=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?A.createElement(TF,null,t):t:n==="blank"?null:A.createElement(EF,null,A.createElement(bF,{...r}),n!=="loading"&&A.createElement(SF,null,n==="error"?A.createElement(vF,{...r}):A.createElement(wF,{...r})))},OF=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jF=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,CF="0%{opacity:0;} 100%{opacity:1;}",NF="0%{opacity:1;} 100%{opacity:0;}",MF=Wl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DF=Wl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,PF=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=W3()?[CF,NF]:[OF(n),jF(n)];return{animation:t?`${Cs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RF=A.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?PF(e.position||t||"top-center",e.visible):{opacity:0},a=A.createElement(kF,{toast:e}),s=A.createElement(DF,{...e.ariaProps},cv(e.message,e));return A.createElement(MF,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:s}):A.createElement(A.Fragment,null,a,s))});iF(A.createElement);var LF=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=A.useCallback(s=>{if(s){let c=()=>{let d=s.getBoundingClientRect().height;r(e,d)};c(),new MutationObserver(c).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return A.createElement("div",{ref:a,className:t,style:n},i)},$F=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:W3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},IF=Ty`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dg=16,Q3=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:s,containerClassName:c})=>{let{toasts:d,handlers:f}=hF(n,a);return A.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Dg,left:Dg,right:Dg,bottom:Dg,pointerEvents:"none",...s},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let p=m.position||t,y=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),b=$F(p,y);return A.createElement(LF,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?IF:"",style:b},m.type==="custom"?cv(m.message,m):i?i(m):A.createElement(RF,{toast:m,position:p}))}))},BF=ur;function zF(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),s=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+s-1524.5}const UF=864e5;function HF(e){const t=(e-24405875e-1)*UF;return new Date(t)}function FF(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function GF(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),s=Math.floor(365.25*a),c=Math.floor((i-s)/30.6001),d=i-s-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,d]}const Xh=Math.PI,tu=Xh/180,qF=180/Xh,YF=86400;function KF(e){return e%=360,e<0?e+360:e}function WF(e,t){return(e-t+540)%360-180}function dC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function VF(e){const[t,n]=GF(e);return e+FF(t,Math.round(n))/YF}function fC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[s,c,d]of e[i])a+=s*Math.cos(c+d*t);n+=a*r,r*=t}return n*1e-8}function ZF(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*tu,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*tu,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*tu,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*tu,s=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*tu,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let d=0,f=0;for(const[m,p,y,b,w,T,S,j,D]of c){const O=m*n+p*r+y*i+b*a+w*s;d+=(T+S*t)*Math.sin(O),f+=(j+D*t)*Math.cos(O)}return d*=1e-4,f*=1e-4,{dpsi:d,deps:f}}function Pg(e){const t=VF(e),n=(t-2451545)/365250,r=fC(hC.L,n),i=fC(hC.R,n);let a=r+Xh;a>2*Xh&&(a-=2*Xh);const{dpsi:s}=ZF(t),c=s/3600*tu,d=20.4898/(3600*i),f=a+c-d*tu;return KF(f*qF)}function lr(e,t,n){const r=(t%360+360)%360,i=zF(e,1,1),a=Pg(i);let s=r-a;s<0&&(s+=360);let c=i+s/.98564736;const d=1e-6,f=5e-6;for(let y=0;y<25;y++){const b=Pg(c),w=WF(r,b);if(Math.abs(w)<d)break;const T=Pg(c+f),S=Pg(c-f),j=dC(T,b),D=dC(S,b),O=(j-D)/(2*f);c+=w/O}const m=HF(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const y=n/15-9;if(Math.abs(y)>1e-12)return new Date(p.getTime()+y*36e5)}return p}const hC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},di=["","","","","","","","","",""],Mi=["","","","","","","","","","","",""],Ra={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},ca={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},XF=["","","","","","","","","",""],JF=["","","","","","","","","","","",""],QF=["","","","","","","","","","","","","","","","","","","",""],eG=["","","","","","","","","","","","","","","","","","","","","","","",""],Oy=new Set(di),h2=new Set(Mi),jy={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},m2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g2={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},e$={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},mC=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],tG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},nG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function rG(e,t=127.5){return(pt(e,t)||"").charAt(0)}const pC=new Map;function t$(e,t=127.5){const n=`${e}@${t}`,r=pC.get(n);if(r)return r;const i=lr(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return pC.set(n,i),i}const iG=(e,t)=>(e%t+t)%t,n$=e=>e instanceof Date&&!Number.isNaN(e.getTime());function r$(e,t=127.5){if(!n$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=t$(n,t),i=e<r?n-1:n,a=iG(i-4,60);return{useYear:i,index60Num:a}}function pt(e,t=127.5){const{index60Num:n}=r$(e,t);return p2[n]}const aG=[2,4,6,8,0,2,4,6,8,0];function oG(e,t=127.5){const n=new Array(12);return n[0]=t$(e,t),n[1]=lr(e,345,t),n[2]=lr(e,15,t),n[3]=lr(e,45,t),n[4]=lr(e,75,t),n[5]=lr(e,105,t),n[6]=lr(e,135,t),n[7]=lr(e,165,t),n[8]=lr(e,195,t),n[9]=lr(e,225,t),n[10]=lr(e,255,t),n[11]=lr(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function sG(e,t=127.5){const{useYear:n}=r$(e,t),r=oG(n,t);let i=0;for(let s=0;s<12;s++)e>=r[s]&&(i=s);return{monthIndex:i+1,useYear:n,boundaries:r}}function lG(e,t=127.5){const n=rG(e,t),r=Ra..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return aG[r]}function cG(e,t,n=127.5){return(lG(e,n)+(t-1))%10}function Mt(e,t=127.5){if(!n$(e))return"";const{monthIndex:n}=sG(e,t),r=(2+(n-1))%12,i=Ra.[r],a=cG(e,n,t);return Ra.[a]+i}const i$=(e,t)=>(e%t+t)%t;function a$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const s=Math.floor(e/100),c=2-s+Math.floor(s/4),d=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+d+c-1524.5}function uG(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=o$(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function dG(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}const uv={JDN:2445731,idx:0};function At(e,t){const n=uG(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=a$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),s=i$(a-uv.JDN+uv.idx,60),c=p2[s];if(!c)throw new Error(`getDayGanZhi: idx=${s} out of range (jdn=${a}, jd=${i})`);return c}function fG(e,t){const n=new Date(e),r=dG(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=a$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),s=Math.floor(a+.5),c=i$(s-uv.JDN+uv.idx,60),d=p2[c];if(!d)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${s}, jd=${a})`);return d}function o$(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<mC.length;n++){const{branch:r,start:i,end:a}=mC[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function hG(e,t,n,r){const i=di.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const s=e.getHours();return(r===""||r==="/"&&s>=3)&&(n===0||n===1)&&(a=(a+2)%10),di[a]}function Ia(e,t,n){e instanceof Date||(e=new Date(e));const r=o$(e),i=Mi.indexOf(r),s=(n??At(e,t)).charAt(0);return hG(e,s,i,t)+r}const gC=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,i,c);return c},mG=(e=>e?gC(e):gC),pG=e=>e;function gG(e,t=pG){const n=cn.useSyncExternalStore(e.subscribe,cn.useCallback(()=>t(e.getState()),[e,t]),cn.useCallback(()=>t(e.getInitialState()),[e,t]));return cn.useDebugValue(n),n}const vC=e=>{const t=mG(e),n=r=>gG(t,r);return Object.assign(n,t),n},Im=(e=>e?vC(e):vC);function vG(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const s=d=>d===null?null:JSON.parse(d,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(s):s(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const ES=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ES(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ES(r)(n)}}}},yG=(e,t)=>(n,r,i)=>{let a={storage:vG(()=>localStorage),partialize:T=>T,version:0,merge:(T,S)=>({...S,...T}),...t},s=!1;const c=new Set,d=new Set;let f=a.storage;if(!f)return e((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...T)},r,i);const m=()=>{const T=a.partialize({...r()});return f.setItem(a.name,{state:T,version:a.version})},p=i.setState;i.setState=(T,S)=>(p(T,S),m());const y=e((...T)=>(n(...T),m()),r,i);i.getInitialState=()=>y;let b;const w=()=>{var T,S;if(!f)return;s=!1,c.forEach(D=>{var O;return D((O=r())!=null?O:y)});const j=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(T=r())!=null?T:y))||void 0;return ES(f.getItem.bind(f))(a.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==a.version){if(a.migrate){const O=a.migrate(D.state,D.version);return O instanceof Promise?O.then(M=>[!0,M]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var O;const[M,C]=D;if(b=a.merge(C,(O=r())!=null?O:y),n(b,!0),M)return m()}).then(()=>{j?.(b,void 0),b=r(),s=!0,d.forEach(D=>D(b))}).catch(D=>{j?.(void 0,D)})};return i.persist={setOptions:T=>{a={...a,...T},T.storage&&(f=T.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>s,onHydrate:T=>(c.add(T),()=>{c.delete(T)}),onFinishHydration:T=>(d.add(T),()=>{d.delete(T)})},a.skipHydration||w(),b||y},s$=yG;var ms={},Rg={},AS=function(e,t){return AS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},AS(e,t)};function l$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");AS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var dv=function(){return dv=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},dv.apply(this,arguments)};function cf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function c$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u$(e,t){return function(n,r){t(n,r,e)}}function d$(e,t,n,r,i,a){function s(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,y=!1,b=n.length-1;b>=0;b--){var w={};for(var T in r)w[T]=T==="access"?{}:r[T];for(var T in r.access)w.access[T]=r.access[T];w.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(j||null))};var S=(0,n[b])(c==="accessor"?{get:m.get,set:m.set}:m[d],w);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=s(S.get))&&(m.get=p),(p=s(S.set))&&(m.set=p),(p=s(S.init))&&i.unshift(p)}else(p=s(S))&&(c==="field"?i.unshift(p):m[d]=p)}f&&Object.defineProperty(f,r.name,m),y=!0}function f$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h$(e){return typeof e=="symbol"?e:"".concat(e)}function m$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ve(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(m){try{f(r.next(m))}catch(p){s(p)}}function d(m){try{f(r.throw(m))}catch(p){s(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})}function g$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Cy=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function v$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Cy(t,e,n)}function fv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function y$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v2(arguments[t]));return e}function b$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,i++)r[i]=a[s];return r}function _$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Gd(e){return this instanceof Gd?(this.v=e,this):new Gd(e)}function x$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(w){return Promise.resolve(w).then(b,p)}}function c(b,w){r[b]&&(i[b]=function(T){return new Promise(function(S,j){a.push([b,T,S,j])>1||d(b,T)})},w&&(i[b]=w(i[b])))}function d(b,w){try{f(r[b](w))}catch(T){y(a[0][3],T)}}function f(b){b.value instanceof Gd?Promise.resolve(b.value.v).then(m,p):y(a[0][2],b)}function m(b){d("next",b)}function p(b){d("throw",b)}function y(b,w){b(w),a.shift(),a.length&&d(a[0][0],a[0][1])}}function w$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:Gd(e[i](s)),done:!1}:a?a(s):s}:a}}function S$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof fv=="function"?fv(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},s)}}function E$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bG=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},TS=function(e){return TS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},TS(e)};function A$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=TS(e),r=0;r<n.length;r++)n[r]!=="default"&&Cy(t,e,n[r]);return bG(t,e),t}function T$(e){return e&&e.__esModule?e:{default:e}}function k$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function O$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function j$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function C$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var _G=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function N$(e){function t(a){e.error=e.hasError?new _G(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function M$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,s){return r?t?".jsx":".js":i&&(!a||!s)?n:i+a+"."+s.toLowerCase()+"js"}):e}const xG={__extends:l$,__assign:dv,__rest:cf,__decorate:c$,__param:u$,__esDecorate:d$,__runInitializers:f$,__propKey:h$,__setFunctionName:m$,__metadata:p$,__awaiter:Ve,__generator:g$,__createBinding:Cy,__exportStar:v$,__values:fv,__read:v2,__spread:y$,__spreadArrays:b$,__spreadArray:_$,__await:Gd,__asyncGenerator:x$,__asyncDelegator:w$,__asyncValues:S$,__makeTemplateObject:E$,__importStar:A$,__importDefault:T$,__classPrivateFieldGet:k$,__classPrivateFieldSet:O$,__classPrivateFieldIn:j$,__addDisposableResource:C$,__disposeResources:N$,__rewriteRelativeImportExtension:M$},wG=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:C$,get __assign(){return dv},__asyncDelegator:w$,__asyncGenerator:x$,__asyncValues:S$,__await:Gd,__awaiter:Ve,__classPrivateFieldGet:k$,__classPrivateFieldIn:j$,__classPrivateFieldSet:O$,__createBinding:Cy,__decorate:c$,__disposeResources:N$,__esDecorate:d$,__exportStar:v$,__extends:l$,__generator:g$,__importDefault:T$,__importStar:A$,__makeTemplateObject:E$,__metadata:p$,__param:u$,__propKey:h$,__read:v2,__rest:cf,__rewriteRelativeImportExtension:M$,__runInitializers:f$,__setFunctionName:m$,__spread:y$,__spreadArray:_$,__spreadArrays:b$,__values:fv,default:xG},Symbol.toStringTag,{value:"Module"})),SG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Ny=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},D$=class extends Ny{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},kS=class extends Ny{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},OS=class extends Ny{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var hv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hv||(hv={}));class EG{constructor(t,{headers:n={},customFetch:r,region:i=hv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=SG(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ve(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:c,method:d,body:f,signal:m,timeout:p}=r;let y={},{region:b}=r;b||(b=this.region);const w=new URL(`${this.url}/${n}`);b&&b!=="any"&&(y["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let T;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(y["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(y["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let S=m;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),m?(S=s.signal,m.addEventListener("abort",()=>s.abort())):S=s.signal);const j=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:T,signal:S}).catch(C=>{throw new D$(C)}),D=j.headers.get("x-relay-error");if(D&&D==="true")throw new kS(j);if(!j.ok)throw new OS(j);let O=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield j.json():O==="application/octet-stream"||O==="application/pdf"?M=yield j.blob():O==="text/event-stream"?M=j:O==="multipart/form-data"?M=yield j.formData():M=yield j.text(),{data:M,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof OS||c instanceof kS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const AG=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return hv},FunctionsClient:EG,FunctionsError:Ny,FunctionsFetchError:D$,FunctionsHttpError:OS,FunctionsRelayError:kS},Symbol.toStringTag,{value:"Module"})),P$=Dm(AG);var Kr={};const uf=Dm(wG);var Lg={},$g={},Ig={},Bg={},zg={},Ug={},yC;function R$(){if(yC)return Ug;yC=1,Object.defineProperty(Ug,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ug.default=e,Ug}var bC;function L$(){if(bC)return zg;bC=1,Object.defineProperty(zg,"__esModule",{value:!0});const t=uf.__importDefault(R$());let n=class{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,p,y;let b=null,w=null,T=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const C=await d.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=C:w=JSON.parse(C))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),M=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&M&&M.length>1&&(T=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,T=null,S=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const O=await d.text();try{b=JSON.parse(O),Array.isArray(b)&&d.status===404&&(w=[],b=null,S=200,j="OK")}catch{d.status===404&&O===""?(S=204,j="No Content"):b={message:O}}if(b&&this.isMaybeSingle&&(!((y=b?.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,S=200,j="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:w,count:T,status:S,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,m,p,y,b,w;let T="";const S=d?.cause;if(S){const j=(f=S?.message)!==null&&f!==void 0?f:"",D=(m=S?.code)!==null&&m!==void 0?m:"";T=`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,T+=`

Caused by: ${(y=S?.name)!==null&&y!==void 0?y:"Error"}: ${j}`,D&&(T+=` (${D})`),S?.stack&&(T+=`
${S.stack}`)}else T=(b=d?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return zg.default=n,zg}var _C;function $$(){if(_C)return Bg;_C=1,Object.defineProperty(Bg,"__esModule",{value:!0});const t=uf.__importDefault(L$());let n=class extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:c=s}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,s?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Bg.default=n,Bg}var xC;function y2(){if(xC)return Ig;xC=1,Object.defineProperty(Ig,"__esModule",{value:!0});const t=uf.__importDefault($$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const c=Array.from(new Set(s)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${s}`),this}match(a){return Object.entries(a).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(a,s,c){return this.url.searchParams.append(a,`not.${s}.${c}`),this}or(a,{foreignTable:s,referencedTable:c=s}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,s,c){return this.url.searchParams.append(a,`${s}.${c}`),this}};return Ig.default=r,Ig}var wC;function I$(){if(wC)return $g;wC=1,Object.defineProperty($g,"__esModule",{value:!0});const t=uf.__importDefault(y2());let n=class{constructor(i,{headers:a={},schema:s,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=c}select(i,a){const{head:s=!1,count:c}=a??{},d=s?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var s;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return $g.default=n,$g}var SC;function TG(){if(SC)return Lg;SC=1,Object.defineProperty(Lg,"__esModule",{value:!0});const e=uf,t=e.__importDefault(I$()),n=e.__importDefault(y2());let r=class B${constructor(a,{headers:s={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(s),this.schemaName=c,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new B$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:c=!1,get:d=!1,count:f}={}){var m;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;c||d?(p=c?"HEAD":"GET",Object.entries(s).filter(([T,S])=>S!==void 0).map(([T,S])=>[T,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([T,S])=>{y.searchParams.append(T,S)})):(p="POST",b=s);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:p,url:y,headers:w,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Lg.default=r,Lg}var EC;function z$(){if(EC)return Kr;EC=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.PostgrestError=Kr.PostgrestBuilder=Kr.PostgrestTransformBuilder=Kr.PostgrestFilterBuilder=Kr.PostgrestQueryBuilder=Kr.PostgrestClient=void 0;const e=uf,t=e.__importDefault(TG());Kr.PostgrestClient=t.default;const n=e.__importDefault(I$());Kr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(y2());Kr.PostgrestFilterBuilder=r.default;const i=e.__importDefault($$());Kr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(L$());Kr.PostgrestBuilder=a.default;const s=e.__importDefault(R$());return Kr.PostgrestError=s.default,Kr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},Kr}class U${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kG="2.86.2",OG=`realtime-js/${kG}`,H$="1.0.0",jG="2.0.0",AC=H$,jS=1e4,CG=1e3,NG=100;var nu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nu||(nu={}));var Qn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qn||(Qn={}));var oo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oo||(oo={}));var CS;(function(e){e.websocket="websocket"})(CS||(CS={}));var ru;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ru||(ru={}));class MG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,a;const s=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(b),T=0;w.setUint8(T++,this.KINDS.userBroadcastPush),w.setUint8(T++,d.length),w.setUint8(T++,c.length),w.setUint8(T++,s.length),w.setUint8(T++,f.length),w.setUint8(T++,p.length),w.setUint8(T++,n),Array.from(d,j=>w.setUint8(T++,j.charCodeAt(0))),Array.from(c,j=>w.setUint8(T++,j.charCodeAt(0))),Array.from(s,j=>w.setUint8(T++,j.charCodeAt(0))),Array.from(f,j=>w.setUint8(T++,j.charCodeAt(0))),Array.from(p,j=>w.setUint8(T++,j.charCodeAt(0)));var S=new Uint8Array(b.byteLength+r.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(r),b.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,s,c,d]=r;return n({join_ref:i,ref:a,topic:s,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const m=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+s));d=d+s;const y=t.slice(d,t.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,w={type:this.BROADCAST_EVENT,event:m,payload:b};return s>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class F${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rn||(rn={}));const TC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=DG(s,e,t,i),a),{}):{}},DG=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,s=n[e];return a&&!r.includes(a)?G$(a,s):NS(s)},G$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $G(t,n)}switch(e){case rn.bool:return PG(t);case rn.float4:case rn.float8:case rn.int2:case rn.int4:case rn.int8:case rn.numeric:case rn.oid:return RG(t);case rn.json:case rn.jsonb:return LG(t);case rn.timestamp:return IG(t);case rn.abstime:case rn.date:case rn.daterange:case rn.int4range:case rn.int8range:case rn.money:case rn.reltime:case rn.text:case rn.time:case rn.timestamptz:case rn.timetz:case rn.tsrange:case rn.tstzrange:return NS(t);default:return NS(t)}},NS=e=>e,PG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},LG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$G=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(c=>G$(t,c))}return e},IG=e=>typeof e=="string"?e.replace(" ","T"):e,q$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class $x{constructor(t,n,r={},i=jS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var MS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(MS||(MS={}));let Y$=class Y0{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Y0.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=Y0.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Y0.syncDiff(this.state,i,a,s),c())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),s=this.transformState(n),c={},d={};return this.map(a,(f,m)=>{s[f]||(d[f]=m)}),this.map(s,(f,m)=>{const p=a[f];if(p){const y=m.map(S=>S.presence_ref),b=p.map(S=>S.presence_ref),w=m.filter(S=>b.indexOf(S.presence_ref)<0),T=p.filter(S=>y.indexOf(S.presence_ref)<0);w.length>0&&(c[f]=w),T.length>0&&(d[f]=T)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(b=>b.presence_ref),y=m.filter(b=>p.indexOf(b.presence_ref)<0);t[c].unshift(...y)}r(c,m,d)}),this.map(s,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var DS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(DS||(DS={}));var Id;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Id||(Id={}));var Lo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lo||(Lo={}));const BG=Qn;let K$=class W${constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $x(this,oo.join,this.params,this.timeout),this.rejoinTimer=new F$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new Y$(this),this.broadcastEndpointURL=q$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qn.closed){const{config:{broadcast:s,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Id.PRESENCE]&&this.bindings[Id.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:s,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Lo.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Lo.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){t?.(Lo.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(w=T?.length)!==null&&w!==void 0?w:0,j=[];for(let D=0;D<S;D++){const O=T[D],{filter:{event:M,schema:C,table:R,filter:I}}=O,z=b&&b[D];if(z&&z.event===M&&z.schema===C&&z.table===R&&z.filter===I)j.push(Object.assign(Object.assign({},O),{id:z.id}));else{this.unsubscribe(),this.state=Qn.errored,t?.(Lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Lo.SUBSCRIBED);return}}).receive("error",b=>{this.state=Qn.errored,t?.(Lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Qn.joined&&t===Id.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new $x(this,oo.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $x(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>NG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=oo;if(r&&[c,d,f,m].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,T,S;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(T=b.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(b=>b.callback(y,r)):(a=this.bindings[s])===null||a===void 0||a.filter(b=>{var w,T,S,j,D,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const M=b.id,C=(w=b.filter)===null||w===void 0?void 0:w.event;return M&&((T=n.ids)===null||T===void 0?void 0:T.includes(M))&&(C==="*"||C?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(D=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return M==="*"||M===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:T,table:S,commit_timestamp:j,type:D,errors:O}=w;y=Object.assign(Object.assign({},{schema:T,table:S,commit_timestamp:j,eventType:D,new:{},old:{},errors:O}),this._getPayloadRecords(w))}b.callback(y,r)})}_isClosed(){return this.state===Qn.closed}_isJoined(){return this.state===Qn.joined}_isJoining(){return this.state===Qn.joining}_isLeaving(){return this.state===Qn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&W$.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oo.close,{},t)}_onError(t){this._on(oo.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=TC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=TC(t.columns,t.old_record)),n}};const Ix=()=>{},Hg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zG=[1e3,2e3,5e3,1e4],UG=1e4,HG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let FG=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jS,this.transport=null,this.heartbeatIntervalMs=Hg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ix,this.ref=0,this.reconnectTimer=null,this.vsn=AC,this.logger=Ix,this.conn=null,this.sendBuffer=[],this.serializer=new MG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${CS.websocket}`,this.httpEndpoint=q$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case nu.connecting:return ru.Connecting;case nu.open:return ru.Open;case nu.closing:return ru.Closing;default:return ru.Closed}}isConnected(){return this.connectionState()===ru.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new K$(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(CG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Hg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,c=s?`(${s})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===nu.open||this.conn.readyState===nu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(oo.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([HG],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:OG};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(oo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new F$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,s,c,d,f,m,p,y,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:jS,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Hg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Ix,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:AC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>zG[w-1]||UG),this.vsn){case H$:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((w,T)=>T(JSON.stringify(w))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((w,T)=>T(JSON.parse(w)));break;case jG:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const GG=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:BG,get REALTIME_LISTEN_TYPES(){return Id},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return DS},get REALTIME_PRESENCE_LISTEN_EVENTS(){return MS},get REALTIME_SUBSCRIBE_STATES(){return Lo},RealtimeChannel:K$,RealtimeClient:FG,RealtimePresence:Y$,WebSocketFactory:U$},Symbol.toStringTag,{value:"Module"})),V$=Dm(GG);class Bm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Z$ extends Bm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mv extends Bm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const b2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qG=()=>Response,PS=e=>{if(Array.isArray(e))return e.map(n=>PS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=PS(r)}),t},YG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},KG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Bx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},WG=(e,t,n)=>Ve(void 0,void 0,void 0,function*(){const r=yield qG();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,s=i?.statusCode||a+"";t(new Z$(Bx(i),a,s))}).catch(i=>{t(new mv(Bx(i),i))}):t(new mv(Bx(e),e))}),VG=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(YG(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function zm(e,t,n,r,i,a){return Ve(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,VG(t,r,i,a)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>WG(d,c,r))})})}function rm(e,t,n,r){return Ve(this,void 0,void 0,function*(){return zm(e,"GET",t,n,r)})}function ao(e,t,n,r,i){return Ve(this,void 0,void 0,function*(){return zm(e,"POST",t,r,i,n)})}function RS(e,t,n,r,i){return Ve(this,void 0,void 0,function*(){return zm(e,"PUT",t,r,i,n)})}function ZG(e,t,n,r){return Ve(this,void 0,void 0,function*(){return zm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _2(e,t,n,r,i){return Ve(this,void 0,void 0,function*(){return zm(e,"DELETE",t,r,i,n)})}class XG{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bn(t))return{data:null,error:t};throw t}})}}var X$;class JG{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[X$]="BlobDownloadBuilder",this.promise=null}asStream(){return new XG(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bn(t))return{data:null,error:t};throw t}})}}X$=Symbol.toStringTag;const QG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eq{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=b2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ve(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},kC),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?RS:ao)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ve(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:kC.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield RS(this.fetch,c.toString(),d,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(bn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield ao(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),c=s.searchParams.get("token");if(!c)throw new Bm("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield ao(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ao(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ve(this,void 0,void 0,function*(){try{const i=yield ao(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),s=a?`?${a}`:"",c=this._getFinalPath(t),d=()=>rm(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0});return new JG(d,this.shouldThrowOnError)}info(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield rm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:PS(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}exists(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ZG(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r)&&r instanceof mv){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield _2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ve(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},QG),n),{prefix:t||""});return{data:yield ao(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ve(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ao(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const J$="2.86.2",Q$={"X-Client-Info":`storage-js/${J$}`};class tq{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Q$),n),this.fetch=b2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ve(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield rm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield rm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ve(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ve(this,void 0,void 0,function*(){try{return{data:yield RS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield _2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var im=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nq(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function rq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function iq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const c=nq(e.baseUrl,r,i),d=await rq(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...s},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),y=p&&m?JSON.parse(m):m;if(!f.ok){const b=p?y:void 0,w=b?.error;throw new im(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:b})}return{status:f.status,headers:f.headers,data:y}}}}function Fg(e){return e.join("")}var aq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Fg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fg(e.namespace)}`}),!0}catch(t){if(t instanceof im&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof im&&n.status===409)return;throw n}}};function md(e){return e.join("")}var oq=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof im&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof im&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},sq=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=iq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new aq(this.client,t),this.tableOps=new oq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class eI{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Q$),n),this.fetch=b2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ve(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield rm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield _2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}from(t){if(!KG(t))throw new Bm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new sq({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ve(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const x2={"X-Client-Info":`storage-js/${J$}`,"Content-Type":"application/json"};class w2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ci(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class K0 extends w2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tI extends w2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var LS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(LS||(LS={}));const My=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lq=()=>Response,nI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cq=e=>Array.from(new Float32Array(e)),uq=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},OC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dq=(e,t,n)=>Ve(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const c=s?.statusCode||s?.code||i+"";t(new K0(OC(s),i,c))}).catch(()=>{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new K0(c,i,s))});else{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new K0(c,i,s))}}else t(new tI(OC(e),e))}),fq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(nI(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function hq(e,t,n,r,i,a){return Ve(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,fq(t,r,i,a)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>s(d)).catch(d=>dq(d,c,r))})})}function ea(e,t,n,r,i){return Ve(this,void 0,void 0,function*(){return hq(e,"POST",t,r,i,n)})}class rI{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},x2),n),this.fetch=My(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ve(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ve(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ve(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ci(r))return{data:null,error:r};throw r}})}}class iI{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},x2),n),this.fetch=My(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ve(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ea(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}getVectors(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}listVectors(t){return Ve(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ea(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ve(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ea(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}}class aI{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},x2),n),this.fetch=My(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}getBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}listBuckets(){return Ve(this,arguments,void 0,function*(t={}){try{return{data:yield ea(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ve(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}})}}class oI extends aI{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new sI(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ve(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ve(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ve(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ve(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class sI extends rI{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ve(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ve(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ve(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ve(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new lI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class lI extends iI{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ve(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ve(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ve(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ve(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ve(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mq extends tq{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new eq(this.url,this.headers,t,this.fetch)}get vectors(){return new oI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eI(this.url+"/iceberg",this.headers,this.fetch)}}const pq=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:eI,StorageApiError:Z$,StorageClient:mq,StorageError:Bm,StorageUnknownError:mv,StorageVectorsApiError:K0,StorageVectorsClient:oI,StorageVectorsError:w2,get StorageVectorsErrorCode(){return LS},StorageVectorsUnknownError:tI,VectorBucketApi:aI,VectorBucketScope:sI,VectorDataApi:iI,VectorIndexApi:rI,VectorIndexScope:lI,isPlainObject:nI,isStorageError:bn,isStorageVectorsError:Ci,normalizeToFloat32:cq,resolveFetch:My,resolveResponse:lq,validateVectorDimension:uq},Symbol.toStringTag,{value:"Module"})),gq=Dm(pq);var zx={},Eh={},jC;function vq(){return jC||(jC=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.version=void 0,Eh.version="2.86.2"),Eh}var CC;function yq(){return CC||(CC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=vq();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(zx)),zx}var Ux={},NC;function bq(){return NC||(NC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,s)=>{const c=(0,e.resolveFetch)(s),d=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const y=(p=await a())!==null&&p!==void 0?p:i;let b=new d(m?.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${y}`),c(f,Object.assign(Object.assign({},m),{headers:b}))}};e.fetchWithAuth=r})(Ux)),Ux}var ps={},MC;function _q(){if(MC)return ps;MC=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.isBrowser=void 0,ps.uuid=e,ps.ensureTrailingSlash=t,ps.applySettingDefaults=r,ps.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var s=Math.random()*16|0,c=a=="x"?s:s&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ps.isBrowser=n;function r(a,s){var c,d;const{db:f,auth:m,realtime:p,global:y}=a,{db:b,auth:w,realtime:T,global:S}=s,j={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},w),m),realtime:Object.assign(Object.assign({},T),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),y),{headers:Object.assign(Object.assign({},(c=S?.headers)!==null&&c!==void 0?c:{}),(d=y?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const s=a?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ps}var Ah={};const cI="2.86.2",kd=30*1e3,$S=3,Hx=$S*kd,xq="http://localhost:9999",wq="supabase.auth.token",Sq={"X-Client-Info":`gotrue-js/${cI}`},IS="X-Supabase-Api-Version",uI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Eq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Aq=600*1e3;let qd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let dI=class extends qd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function fI(e){return Qe(e)&&e.name==="AuthApiError"}let $l=class extends qd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Is=class extends qd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ki=class extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function hI(e){return Qe(e)&&e.name==="AuthSessionMissingError"}let Wc=class extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hh=class extends Is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Fh=class extends Is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function mI(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}let BS=class extends Is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},pv=class extends Is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function W0(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}let zS=class extends Is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Tq(e){return Qe(e)&&e.name==="AuthWeakPasswordError"}let gv=class extends Is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const vv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DC=` 	
\r=`.split(""),kq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<DC.length;t+=1)e[DC[t].charCodeAt(0)]=-2;for(let t=0;t<vv.length;t+=1)e[vv[t].charCodeAt(0)]=t;return e})();function PC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vv[r]),t.queuedBits-=6}}function pI(e,t,n){const r=kq[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function RC(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Cq(s,r,n)};for(let s=0;s<e.length;s+=1)pI(e.charCodeAt(s),i,a);return t.join("")}function Oq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Oq(r,t)}}function Cq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Bd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)pI(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Nq(e){const t=[];return jq(e,n=>t.push(n)),new Uint8Array(t)}function iu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>PC(i,n,r)),PC(null,n,r),t.join("")}function Mq(e){return Math.round(Date.now()/1e3)+e}function Dq(){return Symbol("auth-callback")}const Rr=()=>typeof window<"u"&&typeof document<"u",Bc={tested:!1,writable:!1},gI=()=>{if(!Rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bc.tested)return Bc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bc.tested=!0,Bc.writable=!0}catch{Bc.tested=!0,Bc.writable=!1}return Bc.writable};function Pq(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const vI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Od=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},zc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dr=async(e,t)=>{await e.removeItem(t)};class Dy{constructor(){this.promise=new Dy.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Dy.promiseConstructor=Promise;function Fx(e){const t=e.split(".");if(t.length!==3)throw new gv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Eq.test(t[r]))throw new gv("JWT not in base64url format");return{header:JSON.parse(RC(t[0])),payload:JSON.parse(RC(t[1])),signature:Bd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Lq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $q(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){r(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Iq(e){return("0"+e.toString(16)).substr(-2)}function Bq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Iq).join("")}async function zq(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Uq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await zq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(e,t,n=!1){const r=Bq();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Od(e,`${t}-code-verifier`,i);const a=await Uq(r);return[a,r===a?"plain":"s256"]}const Hq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fq(e){const t=e.headers.get(IS);if(!t||!t.match(Hq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Gq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gd(e){if(!Yq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kq(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function LC(e){return JSON.parse(JSON.stringify(e))}const Vc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wq=[502,503,504];async function $C(e){var t;if(!Rq(e))throw new pv(Vc(e),0);if(Wq.includes(e.status))throw new pv(Vc(e),e.status);let n;try{n=await e.json()}catch(a){throw new $l(Vc(a),a)}let r;const i=Fq(e);if(i&&i.getTime()>=uI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zS(Vc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ki}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new zS(Vc(n),e.status,n.weak_password.reasons);throw new dI(Vc(n),e.status||500,r)}const Vq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function lt(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[IS]||(a[IS]=uI["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await Zq(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function Zq(e,t,n,r,i,a){const s=Vq(t,r,i,a);let c;try{c=await e(n,Object.assign({},s))}catch(d){throw console.error(d),new pv(Vc(d),0)}if(c.ok||await $C(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await $C(d)}}function ro(e){var t;let n=null;Qq(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Mq(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function IC(e){const t=ro(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Il(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xq(e){return{data:e,error:null}}function Jq(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=cf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function BC(e){return e}function Qq(e){return e.access_token&&e.refresh_token&&e.expires_in}const V0=["global","local","others"];let S2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=vI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=V0[0]){if(V0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${V0.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Il})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Jq,redirectTo:n?.redirectTo})}catch(n){if(Qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Il})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:BC});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const T=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){gd(t);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Il})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){gd(t);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Il})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){gd(t);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Il})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){gd(t.userId);try{const{data:n,error:r}=await lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){gd(t.userId),gd(t.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:BC});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const T=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}};function zC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Zc={debug:!!(globalThis&&gI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let yI=class extends E2{};class eY extends E2{}async function bI(e,t,n){Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const UC={};async function tY(e,t,n){var r;const i=(r=UC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((s,c)=>{setTimeout(()=>{c(new eY(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await n());return UC[e]=a.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await a}function nY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _I(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rY(e){return parseInt(e,16)}function iY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function aY(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:c,requestId:d,resources:f,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=_I(e.address),w=m?`${m}://${r}`:r,T=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${b}

${T}`;let j=`URI: ${p}
Version: ${y}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let D=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);D+=`
- ${O}`}j+=D}return`${S}
${j}`}class er extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class yv extends er{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function oY({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(xI(s)){if(a.rp.id!==s)return new er({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sY({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(xI(r)){if(n.rpId!==r)return new er({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lY{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cY=new lY;function uY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=cf(e,["challenge","user","excludeCredentials"]),a=Bd(t).buffer,s=Object.assign(Object.assign({},n),{id:Bd(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Bd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function dY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=cf(e,["challenge","allowCredentials"]),i=Bd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const c=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},c),{id:Bd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function fY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:iu(new Uint8Array(e.response.attestationObject)),clientDataJSON:iu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:iu(new Uint8Array(i.authenticatorData)),clientDataJSON:iu(new Uint8Array(i.clientDataJSON)),signature:iu(new Uint8Array(i.signature)),userHandle:i.userHandle?iu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function HC(){var e,t;return!!(Rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yv("Browser returned unexpected credential type",t)}:{data:null,error:new yv("Empty credential response",t)}}catch(t){return{data:null,error:oY({error:t,options:e})}}}async function pY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yv("Browser returned unexpected credential type",t)}:{data:null,error:new yv("Empty credential response",t)}}catch(t){return{data:null,error:sY({error:t,options:e})}}}const gY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(t(s)){const c=r[a];t(c)?r[a]=bv(c,s):r[a]=bv(s)}else r[a]=s}return r}function yY(e,t){return bv(gY,e,t||{})}function bY(e,t){return bv(vY,e,t||{})}class _Y{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:c};const d=i??cY.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=yY(s.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await mY({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=bY(s.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await pY(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new $l("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new qd("rpId is required for WebAuthn authentication")};try{if(!HC())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:c};const{webauthn:d}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new $l("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new qd("rpId is required for WebAuthn registration")};try{if(!HC())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:s.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new $l("Unexpected error in register",s)}}}}nY();const xY={url:xq,storageKey:wq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function FC(e,t,n){return await n()}const vd={};let A2=class US{get jwks(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},xY),t);if(this.storageKey=a.storageKey,this.instanceID=(n=US.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,US.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Rr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new S2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=vI(a.fetch),this.lock=a.lock||FC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Rr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=bI:this.lock=FC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _Y(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:gI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=zC(this.memoryStorage)),Rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Rr()&&(n=Pq(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Rr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),mI(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qe(n)?this._returnResult({error:n}):this._returnResult({error:new $l("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ro}),{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:y}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await pd(this.storage,this.storageKey)),a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:w},xform:ro})}else if("phone"in t){const{phone:m,password:p,options:y}=t;a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:ro})}else throw new Hh("You must provide either an email or phone number and a password");const{data:s,error:c}=a;if(c||!s)return await Dr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:c}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:IC})}else if("phone"in t){const{phone:a,password:s,options:c}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:IC})}else throw new Hh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Wc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,s,c,d,f,m,p,y;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:T,wallet:S,statement:j,options:D}=t;let O;if(Rr())if(typeof S=="object")O=S;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")O=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const M=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),C=await O.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=_I(C[0]);let I=(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const q=await O.request({method:"eth_chainId"});I=rY(q)}const z={domain:M.host,address:R,statement:j,uri:M.href,version:"1",chainId:I,nonce:(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=aY(z),w=await O.request({method:"personal_sign",params:[iY(b),R]})}try{const{data:T,error:S}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ro});if(S)throw S;if(!T||!T.session||!T.user){const j=new Wc;return this._returnResult({data:{user:null,session:null},error:j})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(Qe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var n,r,i,a,s,c,d,f,m,p,y,b;let w,T;if("message"in t)w=t.message,T=t.signature;else{const{chain:S,wallet:j,statement:D,options:O}=t;let M;if(Rr())if(typeof j=="object")M=j;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))M=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const R=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),D?{statement:D}:null));let I;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")I=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)I=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)w=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),T=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((s=O?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const R=await M.signMessage(new TextEncoder().encode(w),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=R}}try{const{data:S,error:j}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:iu(T)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ro});if(j)throw j;if(!S||!S.session||!S.user){const D=new Wc;return this._returnResult({data:{user:null,session:null},error:D})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(Qe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await zc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ro});if(await Dr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const c=new Wc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=t,c=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ro}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Wc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,s;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await pd(this.storage,this.storageKey));const{error:p}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Hh("You must provide either an email or phone number.")}catch(c){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:c}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ro});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,f=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await pd(this.storage,this.storageKey));const f=await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Xq});return!((a=f.data)===null||a===void 0)&&a.url&&Rr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ki;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:s}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:s,error:c}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new Hh("You must provide either an email or phone number and a type")}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Hx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await zc(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Gx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Kq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Il}):await this._useSession(async n=>{var r,i,a;const{data:s,error:c}=n;if(c)throw c;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ki}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Il})})}catch(n){if(Qe(n))return hI(n)&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ki;const s=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await pd(this.storage,this.storageKey));const{data:f,error:m}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:Il});if(m)throw m;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ki;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=Fx(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:c}=n;if(c)throw c;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ki;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Rr())throw new Fh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new BS("No code detected.");const{data:D,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:d,token_type:f}=t;if(!a||!c||!s||!f)throw new Fh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;d&&(y=parseInt(d));const b=y-m;b*1e3<=kd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const w=y-p;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,m);const{data:T,error:S}=await this._getUser(a);if(S)throw S;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:s,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await zc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(fI(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Dq(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pd(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,c,d,f,m;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Rr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:c,token:d,access_token:f,nonce:m}=t,p=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ro}),{data:y,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Wc}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(i){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $q(async i=>(i>0&&await Lq(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ro})),(i,a)=>{const s=200*Math.pow(2,i);return a&&W0(a)&&Date.now()+s-r<kd})}catch(r){if(this._debug(n,"error",r),Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Rr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await zc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await zc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Od(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:Gx()}else if(i&&!i.user&&!i.user){const s=await zc(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Dr(this.storage,this.storageKey+"-user"),await Od(this.storage,this.storageKey,i)):i.user=Gx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Hx;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Hx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),W0(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dy;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ki;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Qe(a)){const s={data:null,error:a};return W0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Od(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=LC(i);await Od(this.storage,this.storageKey,a)}else{const i=LC(n);await Od(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/kd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kd}ms, refresh threshold is ${$S} ticks`),i<=$S&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof E2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await pd(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fY(t.webauthn.credential_response):hY(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:uY(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:dY(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Fx(r.access_token);let s=null;a.aal&&(s=a.aal);let c=s;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ki})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ki});const s=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Rr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ki});const s=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Rr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ki})})}catch(t){if(Qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ki})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+Aq>i)return r;const{data:a,error:s}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});r=b.session.access_token}const{header:i,payload:a,signature:s,raw:{header:c,payload:d}}=Fx(r);n?.allowExpired||Gq(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:s},error:null}}const m=qq(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,s,Nq(`${c}.${d}`)))throw new gv("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}};A2.nextInstanceID={};const wY=S2,SY=A2,EY=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:wY,AuthApiError:dI,AuthClient:SY,AuthError:qd,AuthImplicitGrantRedirectError:Fh,AuthInvalidCredentialsError:Hh,AuthInvalidJwtError:gv,AuthInvalidTokenResponseError:Wc,AuthPKCEGrantCodeExchangeError:BS,AuthRetryableFetchError:pv,AuthSessionMissingError:ki,AuthUnknownError:$l,AuthWeakPasswordError:zS,CustomAuthError:Is,GoTrueAdminApi:S2,GoTrueClient:A2,NavigatorLockAcquireTimeoutError:yI,SIGN_OUT_SCOPES:V0,isAuthApiError:fI,isAuthError:Qe,isAuthImplicitGrantRedirectError:mI,isAuthRetryableFetchError:W0,isAuthSessionMissingError:hI,isAuthWeakPasswordError:Tq,lockInternals:Zc,navigatorLock:bI,processLock:tY},Symbol.toStringTag,{value:"Module"})),wI=Dm(EY);var GC;function AY(){if(GC)return Ah;GC=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.SupabaseAuthClient=void 0;const e=wI;let t=class extends e.AuthClient{constructor(r){super(r)}};return Ah.SupabaseAuthClient=t,Ah}var qC;function YC(){if(qC)return Rg;qC=1,Object.defineProperty(Rg,"__esModule",{value:!0});const e=P$,t=z$(),n=V$,r=gq,i=yq(),a=bq(),s=_q(),c=AY();class d{constructor(m,p,y){var b,w,T;this.supabaseUrl=m,this.supabaseKey=p;const S=(0,s.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,D={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,s.applySettingDefaults)(y??{},D);this.storageKey=(b=O.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(w=O.global.headers)!==null&&w!==void 0?w:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(M,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((T=O.auth)!==null&&T!==void 0?T:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,y?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,y)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:w,storageKey:T,flowType:S,lock:j,debug:D,throwOnError:O},M,C){const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},R),M),storageKey:T,autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:w,flowType:S,lock:j,debug:D,throwOnError:O,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,y)=>{this._handleTokenChanged(p,"CLIENT",y?.access_token)})}_handleTokenChanged(m,p,y){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Rg.default=d,Rg}var KC;function TY(){return KC||(KC=1,(function(e){var t=ms&&ms.__createBinding||(Object.create?(function(m,p,y,b){b===void 0&&(b=y);var w=Object.getOwnPropertyDescriptor(p,y);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(m,b,w)}):(function(m,p,y,b){b===void 0&&(b=y),m[b]=p[y]})),n=ms&&ms.__exportStar||function(m,p){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(p,y)&&t(p,m,y)},r=ms&&ms.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(YC());n(wI,e);var a=z$();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var s=P$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return s.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return s.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return s.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return s.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return s.FunctionRegion}}),n(V$,e);var c=YC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const d=(m,p,y)=>new i.default(m,p,y);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ms)),ms}var SI=TY();const EI=Pi(SI),kY=o2({__proto__:null,default:EI},[SI]),{PostgrestError:Pwe,FunctionsHttpError:Rwe,FunctionsFetchError:Lwe,FunctionsRelayError:$we,FunctionsError:Iwe,FunctionRegion:Bwe,SupabaseClient:zwe,createClient:OY,GoTrueAdminApi:Uwe,GoTrueClient:Hwe,AuthAdminApi:Fwe,AuthClient:Gwe,navigatorLock:qwe,NavigatorLockAcquireTimeoutError:Ywe,lockInternals:Kwe,processLock:Wwe,SIGN_OUT_SCOPES:Vwe,AuthError:Zwe,AuthApiError:Xwe,AuthUnknownError:Jwe,CustomAuthError:Qwe,AuthSessionMissingError:e1e,AuthInvalidTokenResponseError:t1e,AuthInvalidCredentialsError:n1e,AuthImplicitGrantRedirectError:r1e,AuthPKCEGrantCodeExchangeError:i1e,AuthRetryableFetchError:a1e,AuthWeakPasswordError:o1e,AuthInvalidJwtError:s1e,isAuthError:l1e,isAuthApiError:c1e,isAuthSessionMissingError:u1e,isAuthImplicitGrantRedirectError:d1e,isAuthRetryableFetchError:f1e,isAuthWeakPasswordError:h1e,RealtimePresence:m1e,RealtimeChannel:p1e,RealtimeClient:g1e,REALTIME_LISTEN_TYPES:v1e,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:y1e,REALTIME_PRESENCE_LISTEN_EVENTS:b1e,REALTIME_SUBSCRIBE_STATES:_1e,REALTIME_CHANNEL_STATES:x1e}=EI||kY,Ze=OY("https://jouhybyquybxbnqztxum.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),AI="settings_v1",HS=()=>{try{typeof window<"u"&&window.localStorage.removeItem(AI)}catch{}},lu={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},WC=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],jY=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&WC.includes(r)):[],n=WC.filter(r=>!t.includes(r));return[...t,...n]},zd=e=>({...lu,...e,sectionOrder:jY(e.sectionOrder)}),CY=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return zd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return zd(n.settings)}}return zd(e??{})},NY=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};HS();const Er=Im()(s$((e,t)=>({settings:lu,syncing:!1,loaded:!1,setSettings:n=>e({settings:zd(n)}),setKey:(n,r)=>e({settings:zd({...t().settings,[n]:r})}),reset:()=>e({settings:lu}),loadFromServer:async()=>{try{e({syncing:!0}),HS();const{data:{user:n},error:r}=await Ze.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Ze.from("user_settings").select("payload").eq("user_id",n.id).single();if(a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const s=CY(i.payload);e({settings:s,syncing:!1,loaded:!0}),NY(i.payload)&&await Ze.from("user_settings").upsert({user_id:n.id,payload:s,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),HS();const{data:{user:r},error:i}=await Ze.auth.getUser();if(i||!r){e({syncing:!1});return}const a=zd(t().settings),{error:s}=await Ze.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});s&&console.error("saveToServer(settings) error:",s),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:AI,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function FS(e){const t=di.indexOf(e);if(t!==-1)return di[t];const n=ca..indexOf(e);return n!==-1?di[n]:null}function TI(e){const t=Mi.indexOf(e);if(t!==-1)return Mi[t];const n=ca..indexOf(e);return n!==-1?Mi[n]:null}function VC(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function sa(e,t,n){if(t==="stem"){const r=FS(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=di.indexOf(r),a=i>=0?XF[i]:void 0;return VC(a,n)}else{const r=TI(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=Mi.indexOf(r),a=i>=0?JF[i]:void 0;return VC(a,n)}}function li(e,t){const n=FS(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=FS(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return tG[n][r]}if(t.branch){const r=TI(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return nG[n][r]}throw new Error("getSipSin: stem or branch required")}const Py={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Ry={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function Gh({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const s=(r==="hgc"?Ry:Py)[e]??[],c=n==="main"?[s[2]]:s,d=i==="white",f=d?"text-white":"text-neutral-800 dark:text-white",m=d?"border-white":"border-neutral-800 dark: border-neutral-200",p=d?"text-yellow-900":"text-red-600 dark:text-yellow-300";return _.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((y,b)=>y==="(-)"||a?_.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},b):_.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||b===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[y," (",li(t,{stem:y}),")"]},b))})}const Um=Im(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),T2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},kI=Object.fromEntries(Object.entries(T2).map(([e,t])=>[t,e])),k2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},OI=Object.fromEntries(Object.entries(k2).map(([e,t])=>[t,e]));function ZC(e){return Ra..includes(e)}function XC(e){return Ra..includes(e)}function MY(e){return ca..includes(e)}function DY(e){return ca..includes(e)}function JC(e,t,n){return n===""?t==="stem"?T2[e]??e:k2[e]??e:t==="stem"?kI[e]??e:OI[e]??e}function QC(e){const t=kI[e]??e;return MY(t)?t:""}function PY(e){const t=OI[e]??e;return DY(t)?t:""}function RY(e){if(ZC(e))return e;const t=T2[e]??e;return ZC(t)?t:""}function LY(e){if(XC(e))return e;const t=k2[e]??e;return XC(t)?t:""}const $Y=new Set(["","","","","","","","","",""]),IY=new Set(["","","","","","","","","","","",""]),BY=e=>$Y.has(e),zY=e=>IY.has(e);function Cd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:s=!0,hideHiddenStems:c=!1,size:d="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Um(),y=m&&!p,b=t.charAt(0),w=t.charAt(1),T=JC(b,"stem",r.charType),S=JC(w,"branch",r.charType),j=QC(b),D=PY(w),O=QC(n),M=LY(w),C=RY(n),R=r.showSipSin?li(O,{stem:j}):null,I=!s&&r.showSipSin?li(O,{branch:D}):null,z=r.thinEum&&BY(b)?"font-thin":"font-bold",q=r.thinEum&&zY(w)?"font-thin":"font-bold",V={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!c&&!!r.hiddenStem,U=r.hiddenStem==="regular"?"main":"all",Z=r.hiddenStemMode==="hgc"?"hgc":"classic",re=f==="white",ve=re?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",J=re?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",ae=re?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ne=re?"text-neutral-500":"text-neutral-400",ce=re?"text-neutral-500":"text-neutral-400",{settings:te}=Er(),Y=y?`bg-white ${ae}`:`${sa(j,"stem",te)} ${ae}`,B=y?`bg-white ${ae}`:`${sa(D,"branch",te)} ${ae}`,X=y?"text-black":te.difficultyMode?te.theme==="light"?"text-neutral-900":"text-black":"text-white",ee=y?"text-black":te.difficultyMode?te.theme==="light"?"text-neutral-900":"text-black":"text-white";return _.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${ve}`,children:[_.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${J} text-nowrap`,children:e}),_.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[R&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ne} text-nowrap`,children:m&&!p?"-":R}),_.jsx("div",{className:`${V[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${Y}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${X} ${z}`,children:y?"-":T})}),_.jsx("div",{className:`${V[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${ee} ${q}`,children:y?"-":S})}),H&&_.jsx(Gh,{branch:M,dayStem:C,mode:U,mapping:Z,isUnknownTime:m&&!p&&(e===""||e==="")}),I&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ce}`,children:m&&!p?"-":I}),r.showSibiUnseong&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const UY=new Set(ca.);function HY(e){return Oy.has(e)?e:UY.has(e)?jy[e]:""}function FY({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,s=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return _.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[_.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),_.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&_.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:s}).map((d,f)=>_.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function GY(){const e=Er(w=>w.settings),[t,n]=A.useState(new Date),[r,i]=A.useState(!0),[a,s]=A.useState("/"),[c,d]=A.useState(!1);A.useEffect(()=>{if(!r)return;const w=setInterval(()=>n(new Date),1e3);return()=>clearInterval(w)},[r]);const f=pt(t),m=Mt(t),p=At(t,a),y=Ia(t,"/"),b=HY(p.charAt(0));return _.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:_.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[_.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",KY(t)]})]}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsxs("select",{value:a,onChange:w=>s(w.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"",children:" ( 23)"}),_.jsx("option",{value:"/",children:"/ ()"}),_.jsx("option",{value:"",children:" ( 3)"})]}),_.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),_.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?_.jsx(FY,{label:"",settings:e,hideBranchSipSin:!0}):_.jsx(Cd,{label:"",gz:y,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Cd,{label:"",gz:p,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Cd,{label:"",gz:m,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Cd,{label:"",gz:f,dayStem:b,settings:e,hideBranchSipSin:!0})]}),_.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[_.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),_.jsx("input",{type:"datetime-local",value:qY(t),disabled:r,onChange:w=>{const T=YY(w.target.value);T&&n(T)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),_.jsx("button",{onClick:()=>d(w=>!w),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function qY(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function YY(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[s,c]=n.split(":").map(Number),d=new Date(r,i-1,a,s,c);return Number.isNaN(d.getTime())?null:d}function KY(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}const Pr=[];for(let e=0;e<256;++e)Pr.push((e+256).toString(16).slice(1));function WY(e,t=0){return(Pr[e[t+0]]+Pr[e[t+1]]+Pr[e[t+2]]+Pr[e[t+3]]+"-"+Pr[e[t+4]]+Pr[e[t+5]]+"-"+Pr[e[t+6]]+Pr[e[t+7]]+"-"+Pr[e[t+8]]+Pr[e[t+9]]+"-"+Pr[e[t+10]]+Pr[e[t+11]]+Pr[e[t+12]]+Pr[e[t+13]]+Pr[e[t+14]]+Pr[e[t+15]]).toLowerCase()}let qx;const VY=new Uint8Array(16);function ZY(){if(!qx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qx=crypto.getRandomValues.bind(crypto)}return qx(VY)}const XY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eN={randomUUID:XY};function jI(e,t,n){if(eN.randomUUID&&!e)return eN.randomUUID();e=e||{};const r=e.random??e.rng?.()??ZY();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,WY(r)}var qh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var JY=qh.exports,tN;function QY(){return tN||(tN=1,(function(e,t){(function(n,r){r(t)})(JY,(function(n){var r="1.9.4";function i(u){var g,x,N,P;for(x=1,N=arguments.length;x<N;x++){P=arguments[x];for(g in P)u[g]=P[g]}return u}var a=Object.create||(function(){function u(){}return function(g){return u.prototype=g,new u}})();function s(u,g){var x=Array.prototype.slice;if(u.bind)return u.bind.apply(u,x.call(arguments,1));var N=x.call(arguments,2);return function(){return u.apply(g,N.length?N.concat(x.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function f(u,g,x){var N,P,F,ie;return ie=function(){N=!1,P&&(F.apply(x,P),P=!1)},F=function(){N?P=arguments:(u.apply(x,arguments),setTimeout(ie,g),N=!0)},F}function m(u,g,x){var N=g[1],P=g[0],F=N-P;return u===N&&x?u:((u-P)%F+F)%F+P}function p(){return!1}function y(u,g){if(g===!1)return u;var x=Math.pow(10,g===void 0?6:g);return Math.round(u*x)/x}function b(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function w(u){return b(u).split(/\s+/)}function T(u,g){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var x in g)u.options[x]=g[x];return u.options}function S(u,g,x){var N=[];for(var P in u)N.push(encodeURIComponent(x?P.toUpperCase():P)+"="+encodeURIComponent(u[P]));return(!g||g.indexOf("?")===-1?"?":"&")+N.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function D(u,g){return u.replace(j,function(x,N){var P=g[N];if(P===void 0)throw new Error("No value provided for variable "+x);return typeof P=="function"&&(P=P(g)),P})}var O=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function M(u,g){for(var x=0;x<u.length;x++)if(u[x]===g)return x;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var I=0;function z(u){var g=+new Date,x=Math.max(0,16-(g-I));return I=g+x,window.setTimeout(u,x)}var q=window.requestAnimationFrame||R("RequestAnimationFrame")||z,V=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function H(u,g,x){if(x&&q===z)u.call(g);else return q.call(window,s(u,g))}function U(u){u&&V.call(window,u)}var Z={__proto__:null,extend:i,create:a,bind:s,get lastId(){return c},stamp:d,throttle:f,wrapNum:m,falseFn:p,formatNum:y,trim:b,splitWords:w,setOptions:T,getParamString:S,template:D,isArray:O,indexOf:M,emptyImageUrl:C,requestFn:q,cancelFn:V,requestAnimFrame:H,cancelAnimFrame:U};function re(){}re.extend=function(u){var g=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=g.__super__=this.prototype,N=a(x);N.constructor=g,g.prototype=N;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(g[P]=this[P]);return u.statics&&i(g,u.statics),u.includes&&(ve(u.includes),i.apply(null,[N].concat(u.includes))),i(N,u),delete N.statics,delete N.includes,N.options&&(N.options=x.options?a(x.options):{},i(N.options,u.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ie=N._initHooks.length;F<ie;F++)N._initHooks[F].call(this)}},g},re.include=function(u){var g=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},re.mergeOptions=function(u){return i(this.prototype.options,u),this},re.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),x=typeof u=="function"?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function ve(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=O(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(u,g,x){if(typeof u=="object")for(var N in u)this._on(N,u[N],g);else{u=w(u);for(var P=0,F=u.length;P<F;P++)this._on(u[P],g,x)}return this},off:function(u,g,x){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var N in u)this._off(N,u[N],g);else{u=w(u);for(var P=arguments.length===1,F=0,ie=u.length;F<ie;F++)P?this._off(u[F]):this._off(u[F],g,x)}return this},_on:function(u,g,x,N){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(u,g,x)===!1){x===this&&(x=void 0);var P={fn:g,ctx:x};N&&(P.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(P)}},_off:function(u,g,x){var N,P,F;if(this._events&&(N=this._events[u],!!N)){if(arguments.length===1){if(this._firingCount)for(P=0,F=N.length;P<F;P++)N[P].fn=p;delete this._events[u];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var ie=this._listens(u,g,x);if(ie!==!1){var pe=N[ie];this._firingCount&&(pe.fn=p,this._events[u]=N=N.slice()),N.splice(ie,1)}}},fire:function(u,g,x){if(!this.listens(u,x))return this;var N=i({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var P=this._events[u];if(P){this._firingCount=this._firingCount+1||1;for(var F=0,ie=P.length;F<ie;F++){var pe=P[F],Ee=pe.fn;pe.once&&this.off(u,Ee,pe.ctx),Ee.call(pe.ctx||this,N)}this._firingCount--}}return x&&this._propagateEvent(N),this},listens:function(u,g,x,N){typeof u!="string"&&console.warn('"string" type argument expected');var P=g;typeof g!="function"&&(N=!!g,P=void 0,x=void 0);var F=this._events&&this._events[u];if(F&&F.length&&this._listens(u,P,x)!==!1)return!0;if(N){for(var ie in this._eventParents)if(this._eventParents[ie].listens(u,g,x,N))return!0}return!1},_listens:function(u,g,x){if(!this._events)return!1;var N=this._events[u]||[];if(!g)return!!N.length;x===this&&(x=void 0);for(var P=0,F=N.length;P<F;P++)if(N[P].fn===g&&N[P].ctx===x)return P;return!1},once:function(u,g,x){if(typeof u=="object")for(var N in u)this._on(N,u[N],g,!0);else{u=w(u);for(var P=0,F=u.length;P<F;P++)this._on(u[P],g,x,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var ae=re.extend(J);function ne(u,g,x){this.x=x?Math.round(u):u,this.y=x?Math.round(g):g}var ce=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(u){return this.clone()._add(te(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(te(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ne(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ne(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(u){u=te(u);var g=u.x-this.x,x=u.y-this.y;return Math.sqrt(g*g+x*x)},equals:function(u){return u=te(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=te(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function te(u,g,x){return u instanceof ne?u:O(u)?new ne(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ne(u.x,u.y):new ne(u,g,x)}function Y(u,g){if(u)for(var x=g?[u,g]:u,N=0,P=x.length;N<P;N++)this.extend(x[N])}Y.prototype={extend:function(u){var g,x;if(!u)return this;if(u instanceof ne||typeof u[0]=="number"||"x"in u)g=x=te(u);else if(u=B(u),g=u.min,x=u.max,!g||!x)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=x.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(u){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,x;return typeof u[0]=="number"||u instanceof ne?u=te(u):u=B(u),u instanceof Y?(g=u.min,x=u.max):g=x=u,g.x>=this.min.x&&x.x<=this.max.x&&g.y>=this.min.y&&x.y<=this.max.y},intersects:function(u){u=B(u);var g=this.min,x=this.max,N=u.min,P=u.max,F=P.x>=g.x&&N.x<=x.x,ie=P.y>=g.y&&N.y<=x.y;return F&&ie},overlaps:function(u){u=B(u);var g=this.min,x=this.max,N=u.min,P=u.max,F=P.x>g.x&&N.x<x.x,ie=P.y>g.y&&N.y<x.y;return F&&ie},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var g=this.min,x=this.max,N=Math.abs(g.x-x.x)*u,P=Math.abs(g.y-x.y)*u;return B(te(g.x-N,g.y-P),te(x.x+N,x.y+P))},equals:function(u){return u?(u=B(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function B(u,g){return!u||u instanceof Y?u:new Y(u,g)}function X(u,g){if(u)for(var x=g?[u,g]:u,N=0,P=x.length;N<P;N++)this.extend(x[N])}X.prototype={extend:function(u){var g=this._southWest,x=this._northEast,N,P;if(u instanceof G)N=u,P=u;else if(u instanceof X){if(N=u._southWest,P=u._northEast,!N||!P)return this}else return u?this.extend(W(u)||ee(u)):this;return!g&&!x?(this._southWest=new G(N.lat,N.lng),this._northEast=new G(P.lat,P.lng)):(g.lat=Math.min(N.lat,g.lat),g.lng=Math.min(N.lng,g.lng),x.lat=Math.max(P.lat,x.lat),x.lng=Math.max(P.lng,x.lng)),this},pad:function(u){var g=this._southWest,x=this._northEast,N=Math.abs(g.lat-x.lat)*u,P=Math.abs(g.lng-x.lng)*u;return new X(new G(g.lat-N,g.lng-P),new G(x.lat+N,x.lng+P))},getCenter:function(){return new G((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new G(this.getNorth(),this.getWest())},getSouthEast:function(){return new G(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof G||"lat"in u?u=W(u):u=ee(u);var g=this._southWest,x=this._northEast,N,P;return u instanceof X?(N=u.getSouthWest(),P=u.getNorthEast()):N=P=u,N.lat>=g.lat&&P.lat<=x.lat&&N.lng>=g.lng&&P.lng<=x.lng},intersects:function(u){u=ee(u);var g=this._southWest,x=this._northEast,N=u.getSouthWest(),P=u.getNorthEast(),F=P.lat>=g.lat&&N.lat<=x.lat,ie=P.lng>=g.lng&&N.lng<=x.lng;return F&&ie},overlaps:function(u){u=ee(u);var g=this._southWest,x=this._northEast,N=u.getSouthWest(),P=u.getNorthEast(),F=P.lat>g.lat&&N.lat<x.lat,ie=P.lng>g.lng&&N.lng<x.lng;return F&&ie},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return u?(u=ee(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(u,g){return u instanceof X?u:new X(u,g)}function G(u,g,x){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,x!==void 0&&(this.alt=+x)}G.prototype={equals:function(u,g){if(!u)return!1;u=W(u);var x=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return x<=(g===void 0?1e-9:g)},toString:function(u){return"LatLng("+y(this.lat,u)+", "+y(this.lng,u)+")"},distanceTo:function(u){return fe.distance(this,W(u))},wrap:function(){return fe.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,x=g/Math.cos(Math.PI/180*this.lat);return ee([this.lat-g,this.lng-x],[this.lat+g,this.lng+x])},clone:function(){return new G(this.lat,this.lng,this.alt)}};function W(u,g,x){return u instanceof G?u:O(u)&&typeof u[0]!="object"?u.length===3?new G(u[0],u[1],u[2]):u.length===2?new G(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new G(u.lat,"lng"in u?u.lng:u.lon,u.alt):g===void 0?null:new G(u,g,x)}var le={latLngToPoint:function(u,g){var x=this.projection.project(u),N=this.scale(g);return this.transformation._transform(x,N)},pointToLatLng:function(u,g){var x=this.scale(g),N=this.transformation.untransform(u,x);return this.projection.unproject(N)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,x=this.scale(u),N=this.transformation.transform(g.min,x),P=this.transformation.transform(g.max,x);return new Y(N,P)},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,x=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,N=u.alt;return new G(x,g,N)},wrapLatLngBounds:function(u){var g=u.getCenter(),x=this.wrapLatLng(g),N=g.lat-x.lat,P=g.lng-x.lng;if(N===0&&P===0)return u;var F=u.getSouthWest(),ie=u.getNorthEast(),pe=new G(F.lat-N,F.lng-P),Ee=new G(ie.lat-N,ie.lng-P);return new X(pe,Ee)}},fe=i({},le,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var x=Math.PI/180,N=u.lat*x,P=g.lat*x,F=Math.sin((g.lat-u.lat)*x/2),ie=Math.sin((g.lng-u.lng)*x/2),pe=F*F+Math.cos(N)*Math.cos(P)*ie*ie,Ee=2*Math.atan2(Math.sqrt(pe),Math.sqrt(1-pe));return this.R*Ee}}),Q=6378137,de={R:Q,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,x=this.MAX_LATITUDE,N=Math.max(Math.min(x,u.lat),-x),P=Math.sin(N*g);return new ne(this.R*u.lng*g,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(u){var g=180/Math.PI;return new G((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:(function(){var u=Q*Math.PI;return new Y([-u,-u],[u,u])})()};function we(u,g,x,N){if(O(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=g,this._c=x,this._d=N}we.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return g=g||1,u.x=g*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return g=g||1,new ne((u.x/g-this._b)/this._a,(u.y/g-this._d)/this._c)}};function se(u,g,x,N){return new we(u,g,x,N)}var Ce=i({},fe,{code:"EPSG:3857",projection:de,transformation:(function(){var u=.5/(Math.PI*de.R);return se(u,.5,-u,.5)})()}),be=i({},Ce,{code:"EPSG:900913"});function Le(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Me(u,g){var x="",N,P,F,ie,pe,Ee;for(N=0,F=u.length;N<F;N++){for(pe=u[N],P=0,ie=pe.length;P<ie;P++)Ee=pe[P],x+=(P?"L":"M")+Ee.x+" "+Ee.y;x+=g?Xe.svg?"z":"x":""}return x||"M0 0"}var $e=document.documentElement.style,Be="ActiveXObject"in window,ye=Be&&!document.addEventListener,Ie="msLaunchUri"in navigator&&!("documentMode"in document),he=rr("webkit"),ge=rr("android"),Ue=rr("android 2")||rr("android 3"),ze=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),He=ge&&rr("Google")&&ze<537&&!("AudioNode"in window),ut=!!window.opera,it=!Ie&&rr("chrome"),tn=rr("gecko")&&!he&&!ut&&!Be,Kn=!it&&rr("safari"),zn=rr("phantom"),Ur="OTransition"in $e,ti=navigator.platform.indexOf("Win")===0,En=Be&&"transition"in $e,It="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ue,Nn="MozPerspective"in $e,An=!window.L_DISABLE_3D&&(En||It||Nn)&&!Ur&&!zn,$i=typeof orientation<"u"||rr("mobile"),Ks=$i&&he,Ga=$i&&It,Un=!window.PointerEvent&&window.MSPointerEvent,Wn=!!(window.PointerEvent||Un),_o="ontouchstart"in window||!!window.TouchEvent,mi=!window.L_NO_TOUCH&&(_o||Wn),Hr=$i&&ut,fa=$i&&tn,Ws=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jl=(function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",p,g),window.removeEventListener("testPassiveEventSupport",p,g)}catch{}return u})(),Ql=(function(){return!!document.createElement("canvas").getContext})(),qa=!!(document.createElementNS&&Le("svg").createSVGRect),ec=!!qa&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Vs=!qa&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),tc=navigator.platform.indexOf("Mac")===0,nc=navigator.platform.indexOf("Linux")===0;function rr(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Xe={ie:Be,ielt9:ye,edge:Ie,webkit:he,android:ge,android23:Ue,androidStock:He,opera:ut,chrome:it,gecko:tn,safari:Kn,phantom:zn,opera12:Ur,win:ti,ie3d:En,webkit3d:It,gecko3d:Nn,any3d:An,mobile:$i,mobileWebkit:Ks,mobileWebkit3d:Ga,msPointer:Un,pointer:Wn,touch:mi,touchNative:_o,mobileOpera:Hr,mobileGecko:fa,retina:Ws,passiveEvents:Jl,canvas:Ql,svg:qa,vml:Vs,inlineSvg:ec,mac:tc,linux:nc},Yo=Xe.msPointer?"MSPointerDown":"pointerdown",pi=Xe.msPointer?"MSPointerMove":"pointermove",Fr=Xe.msPointer?"MSPointerUp":"pointerup",gn=Xe.msPointer?"MSPointerCancel":"pointercancel",Hn={touchstart:Yo,touchmove:pi,touchend:Fr,touchcancel:gn},Ii={touchstart:ir,touchmove:bt,touchend:bt,touchcancel:bt},ha={},_e=!1;function Ye(u,g,x){return g==="touchstart"&&Tt(),Ii[g]?(x=Ii[g].bind(this,x),u.addEventListener(Hn[g],x,!1),x):(console.warn("wrong event specified:",g),p)}function ht(u,g,x){if(!Hn[g]){console.warn("wrong event specified:",g);return}u.removeEventListener(Hn[g],x,!1)}function _t(u){ha[u.pointerId]=u}function ot(u){ha[u.pointerId]&&(ha[u.pointerId]=u)}function gt(u){delete ha[u.pointerId]}function Tt(){_e||(document.addEventListener(Yo,_t,!0),document.addEventListener(pi,ot,!0),document.addEventListener(Fr,gt,!0),document.addEventListener(gn,gt,!0),_e=!0)}function bt(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var x in ha)g.touches.push(ha[x]);g.changedTouches=[g],u(g)}}function ir(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Mn(g),bt(u,g)}function kt(u){var g={},x,N;for(N in u)x=u[N],g[N]=x&&x.bind?x.bind(u):x;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Zs=200;function rc(u,g){u.addEventListener("dblclick",g);var x=0,N;function P(F){if(F.detail!==1){N=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ie=dc(F);if(!(ie.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ie.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var pe=Date.now();pe-x<=Zs?(N++,N===2&&g(kt(F))):N=1,x=pe}}}return u.addEventListener("click",P),{dblclick:g,simDblclick:P}}function ma(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}var Or=sc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ko=sc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ic=Ko==="webkitTransition"||Ko==="OTransition"?Ko+"End":"transitionend";function ac(u){return typeof u=="string"?document.getElementById(u):u}function oc(u,g){var x=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!x||x==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(u,null);x=N?N[g]:null}return x==="auto"?null:x}function xt(u,g,x){var N=document.createElement(u);return N.className=g||"",x&&x.appendChild(N),N}function Kt(u){var g=u.parentNode;g&&g.removeChild(u)}function gi(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function ar(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function Wo(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function Af(u,g){if(u.classList!==void 0)return u.classList.contains(g);var x=Ou(u);return x.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(x)}function dt(u,g){if(u.classList!==void 0)for(var x=w(g),N=0,P=x.length;N<P;N++)u.classList.add(x[N]);else if(!Af(u,g)){var F=Ou(u);Xs(u,(F?F+" ":"")+g)}}function vn(u,g){u.classList!==void 0?u.classList.remove(g):Xs(u,b((" "+Ou(u)+" ").replace(" "+g+" "," ")))}function Xs(u,g){u.className.baseVal===void 0?u.className=g:u.className.baseVal=g}function Ou(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function dn(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&Tf(u,g)}function Tf(u,g){var x=!1,N="DXImageTransform.Microsoft.Alpha";try{x=u.filters.item(N)}catch{if(g===1)return}g=Math.round(g*100),x?(x.Enabled=g!==100,x.Opacity=g):u.style.filter+=" progid:"+N+"(opacity="+g+")"}function sc(u){for(var g=document.documentElement.style,x=0;x<u.length;x++)if(u[x]in g)return u[x];return!1}function Ya(u,g,x){var N=g||new ne(0,0);u.style[Or]=(Xe.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(x?" scale("+x+")":"")}function Jt(u,g){u._leaflet_pos=g,Xe.any3d?Ya(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function xo(u){return u._leaflet_pos||new ne(0,0)}var Js,pa,kf;if("onselectstart"in document)Js=function(){ct(window,"selectstart",Mn)},pa=function(){Ut(window,"selectstart",Mn)};else{var Qs=sc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Js=function(){if(Qs){var u=document.documentElement.style;kf=u[Qs],u[Qs]="none"}},pa=function(){Qs&&(document.documentElement.style[Qs]=kf,kf=void 0)}}function ju(){ct(window,"dragstart",Mn)}function lc(){Ut(window,"dragstart",Mn)}var Cu,Of;function el(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(vi(),Cu=u,Of=u.style.outlineStyle,u.style.outlineStyle="none",ct(window,"keydown",vi))}function vi(){Cu&&(Cu.style.outlineStyle=Of,Cu=void 0,Of=void 0,Ut(window,"keydown",vi))}function Nu(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function cc(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var tl={__proto__:null,TRANSFORM:Or,TRANSITION:Ko,TRANSITION_END:ic,get:ac,getStyle:oc,create:xt,remove:Kt,empty:gi,toFront:ar,toBack:Wo,hasClass:Af,addClass:dt,removeClass:vn,setClass:Xs,getClass:Ou,setOpacity:dn,testProp:sc,setTransform:Ya,setPosition:Jt,getPosition:xo,get disableTextSelection(){return Js},get enableTextSelection(){return pa},disableImageDrag:ju,enableImageDrag:lc,preventOutline:el,restoreOutline:vi,getSizedParentNode:Nu,getScale:cc};function ct(u,g,x,N){if(g&&typeof g=="object")for(var P in g)zi(u,P,g[P],x);else{g=w(g);for(var F=0,ie=g.length;F<ie;F++)zi(u,g[F],x,N)}return this}var Bi="_leaflet_events";function Ut(u,g,x,N){if(arguments.length===1)jf(u),delete u[Bi];else if(g&&typeof g=="object")for(var P in g)uc(u,P,g[P],x);else if(g=w(g),arguments.length===2)jf(u,function(pe){return M(g,pe)!==-1});else for(var F=0,ie=g.length;F<ie;F++)uc(u,g[F],x,N);return this}function jf(u,g){for(var x in u[Bi]){var N=x.split(/\d/)[0];(!g||g(N))&&uc(u,N,null,null,x)}}var Vo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zi(u,g,x,N){var P=g+d(x)+(N?"_"+d(N):"");if(u[Bi]&&u[Bi][P])return this;var F=function(pe){return x.call(N||u,pe||window.event)},ie=F;!Xe.touchNative&&Xe.pointer&&g.indexOf("touch")===0?F=Ye(u,g,F):Xe.touch&&g==="dblclick"?F=rc(u,F):"addEventListener"in u?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?u.addEventListener(Vo[g]||g,F,Xe.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(F=function(pe){pe=pe||window.event,Ka(u,pe)&&ie(pe)},u.addEventListener(Vo[g],F,!1)):u.addEventListener(g,ie,!1):u.attachEvent("on"+g,F),u[Bi]=u[Bi]||{},u[Bi][P]=F}function uc(u,g,x,N,P){P=P||g+d(x)+(N?"_"+d(N):"");var F=u[Bi]&&u[Bi][P];if(!F)return this;!Xe.touchNative&&Xe.pointer&&g.indexOf("touch")===0?ht(u,g,F):Xe.touch&&g==="dblclick"?ma(u,F):"removeEventListener"in u?u.removeEventListener(Vo[g]||g,F,!1):u.detachEvent("on"+g,F),u[Bi][P]=null}function Ui(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function ga(u){return zi(u,"wheel",Ui),this}function Zo(u){return ct(u,"mousedown touchstart dblclick contextmenu",Ui),u._leaflet_disable_click=!0,this}function Mn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function wo(u){return Mn(u),Ui(u),this}function dc(u){if(u.composedPath)return u.composedPath();for(var g=[],x=u.target;x;)g.push(x),x=x.parentNode;return g}function fc(u,g){if(!g)return new ne(u.clientX,u.clientY);var x=cc(g),N=x.boundingClientRect;return new ne((u.clientX-N.left)/x.x-g.clientLeft,(u.clientY-N.top)/x.y-g.clientTop)}var pp=Xe.linux&&Xe.chrome?window.devicePixelRatio:Xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function jr(u){return Xe.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/pp:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Ka(u,g){var x=g.relatedTarget;if(!x)return!0;try{for(;x&&x!==u;)x=x.parentNode}catch{return!1}return x!==u}var Mu={__proto__:null,on:ct,off:Ut,stopPropagation:Ui,disableScrollPropagation:ga,disableClickPropagation:Zo,preventDefault:Mn,stop:wo,getPropagationPath:dc,getMousePosition:fc,getWheelDelta:jr,isExternalTarget:Ka,addListener:ct,removeListener:Ut},nl=ae.extend({run:function(u,g,x,N){this.stop(),this._el=u,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=xo(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,x=this._duration*1e3;g<x?this._runFrame(this._easeOut(g/x),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var x=this._startPos.add(this._offset.multiplyBy(u));g&&x._round(),Jt(this._el,x),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Ot=ae.extend({options:{crs:Ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=T(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(W(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ko&&Xe.any3d&&!Xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,ic,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,x){if(g=g===void 0?this._zoom:this._limitZoom(g),u=this._limitCenter(W(u),g,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=i({animate:x.animate},x.zoom),x.pan=i({animate:x.animate,duration:x.duration},x.pan));var N=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,x.zoom):this._tryAnimatedPan(u,x.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(u,g,x.pan&&x.pan.noMoveStart),this},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return u=u||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,g)},zoomOut:function(u,g){return u=u||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,g)},setZoomAround:function(u,g,x){var N=this.getZoomScale(g),P=this.getSize().divideBy(2),F=u instanceof ne?u:this.latLngToContainerPoint(u),ie=F.subtract(P).multiplyBy(1-1/N),pe=this.containerPointToLatLng(P.add(ie));return this.setView(pe,g,{zoom:x})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():ee(u);var x=te(g.paddingTopLeft||g.padding||[0,0]),N=te(g.paddingBottomRight||g.padding||[0,0]),P=this.getBoundsZoom(u,!1,x.add(N));if(P=typeof g.maxZoom=="number"?Math.min(g.maxZoom,P):P,P===1/0)return{center:u.getCenter(),zoom:P};var F=N.subtract(x).divideBy(2),ie=this.project(u.getSouthWest(),P),pe=this.project(u.getNorthEast(),P),Ee=this.unproject(ie.add(pe).divideBy(2).add(F),P);return{center:Ee,zoom:P}},fitBounds:function(u,g){if(u=ee(u),!u.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(u,g);return this.setView(x.center,x.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(u=te(u).round(),g=g||{},!u.x&&!u.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,x,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,x){if(x=x||{},x.animate===!1||!Xe.any3d)return this.setView(u,g,x);this._stop();var N=this.project(this.getCenter()),P=this.project(u),F=this.getSize(),ie=this._zoom;u=W(u),g=g===void 0?ie:g;var pe=Math.max(F.x,F.y),Ee=pe*this.getZoomScale(ie,g),De=P.distanceTo(N)||1,Ge=1.42,et=Ge*Ge;function vt(Tn){var Xa=Tn?-1:1,es=Tn?Ee:pe,Gf=Ee*Ee-pe*pe+Xa*et*et*De*De,Oc=2*es*et*De,jc=Gf/Oc,No=Math.sqrt(jc*jc+1)-jc,Ja=No<1e-9?-18:Math.log(No);return Ja}function or(Tn){return(Math.exp(Tn)-Math.exp(-Tn))/2}function Dn(Tn){return(Math.exp(Tn)+Math.exp(-Tn))/2}function ri(Tn){return or(Tn)/Dn(Tn)}var Dt=vt(0);function Pt(Tn){return pe*(Dn(Dt)/Dn(Dt+Ge*Tn))}function wt(Tn){return pe*(Dn(Dt)*ri(Dt+Ge*Tn)-or(Dt))/et}function jo(Tn){return 1-Math.pow(1-Tn,1.5)}var xi=Date.now(),Yu=(vt(1)-Dt)/Ge,Co=x.duration?1e3*x.duration:1e3*Yu*.8;function Ff(){var Tn=(Date.now()-xi)/Co,Xa=jo(Tn)*Yu;Tn<=1?(this._flyToFrame=H(Ff,this),this._move(this.unproject(N.add(P.subtract(N).multiplyBy(wt(Xa)/De)),ie),this.getScaleZoom(pe/Pt(Xa),ie),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),Ff.call(this),this},flyToBounds:function(u,g){var x=this._getBoundsCenterZoom(u,g);return this.flyTo(x.center,x.zoom,g)},setMaxBounds:function(u){return u=ee(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var x=this.getCenter(),N=this._limitCenter(x,this._zoom,ee(u));return x.equals(N)||this.panTo(N,g),this._enforcingBounds=!1,this},panInside:function(u,g){g=g||{};var x=te(g.paddingTopLeft||g.padding||[0,0]),N=te(g.paddingBottomRight||g.padding||[0,0]),P=this.project(this.getCenter()),F=this.project(u),ie=this.getPixelBounds(),pe=B([ie.min.add(x),ie.max.subtract(N)]),Ee=pe.getSize();if(!pe.contains(F)){this._enforcingBounds=!0;var De=F.subtract(pe.getCenter()),Ge=pe.extend(F).getSize().subtract(Ee);P.x+=De.x<0?-Ge.x:Ge.x,P.y+=De.y<0?-Ge.y:Ge.y,this.panTo(this.unproject(P),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),N=g.divideBy(2).round(),P=x.divideBy(2).round(),F=N.subtract(P);return!F.x&&!F.y?this:(u.animate&&u.pan?this.panBy(F):(u.pan&&this._rawPanBy(F),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=s(this._handleGeolocationResponse,this),x=s(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,x,u):navigator.geolocation.getCurrentPosition(g,x,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,x=u.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var g=u.coords.latitude,x=u.coords.longitude,N=new G(g,x),P=N.toBounds(u.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ie=this.getBoundsZoom(P);this.setView(N,F.maxZoom?Math.min(ie,F.maxZoom):ie)}var pe={latlng:N,bounds:P,timestamp:u.timestamp};for(var Ee in u.coords)typeof u.coords[Ee]=="number"&&(pe[Ee]=u.coords[Ee]);this.fire("locationfound",pe)}},addHandler:function(u,g){if(!g)return this;var x=this[u]=new g(this);return this._handlers.push(x),this.options[u]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Kt(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var x="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),N=xt("div",x,g||this._mapPane);return u&&(this._panes[u]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),g=this.unproject(u.getBottomLeft()),x=this.unproject(u.getTopRight());return new X(g,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,x){u=ee(u),x=te(x||[0,0]);var N=this.getZoom()||0,P=this.getMinZoom(),F=this.getMaxZoom(),ie=u.getNorthWest(),pe=u.getSouthEast(),Ee=this.getSize().subtract(x),De=B(this.project(pe,N),this.project(ie,N)).getSize(),Ge=Xe.any3d?this.options.zoomSnap:1,et=Ee.x/De.x,vt=Ee.y/De.y,or=g?Math.max(et,vt):Math.min(et,vt);return N=this.getScaleZoom(or,N),Ge&&(N=Math.round(N/(Ge/100))*(Ge/100),N=g?Math.ceil(N/Ge)*Ge:Math.floor(N/Ge)*Ge),Math.max(P,Math.min(F,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var x=this._getTopLeftPoint(u,g);return new Y(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var x=this.options.crs;return g=g===void 0?this._zoom:g,x.scale(u)/x.scale(g)},getScaleZoom:function(u,g){var x=this.options.crs;g=g===void 0?this._zoom:g;var N=x.zoom(u*x.scale(g));return isNaN(N)?1/0:N},project:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(W(u),g)},unproject:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(te(u),g)},layerPointToLatLng:function(u){var g=te(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){var g=this.project(W(u))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(W(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(ee(u))},distance:function(u,g){return this.options.crs.distance(W(u),W(g))},containerPointToLayerPoint:function(u){return te(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return te(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(te(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(u)))},mouseEventToContainerPoint:function(u){return fc(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=ac(u);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xe.any3d,dt(u,"leaflet-container"+(Xe.touch?" leaflet-touch":"")+(Xe.retina?" leaflet-retina":"")+(Xe.ielt9?" leaflet-oldie":"")+(Xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=oc(u,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Jt(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(u.markerPane,"leaflet-zoom-hide"),dt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,x){Jt(this._mapPane,new ne(0,0));var N=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var P=this._zoom!==g;this._moveStart(P,x)._move(u,g)._moveEnd(P),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,x,N){g===void 0&&(g=this._zoom);var P=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),N?x&&x.pinch&&this.fire("zoom",x):((P||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Jt(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var g=u?Ut:ct;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Xe.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var x=[],N,P=g==="mouseout"||g==="mouseover",F=u.target||u.srcElement,ie=!1;F;){if(N=this._targets[d(F)],N&&(g==="click"||g==="preclick")&&this._draggableMoved(N)){ie=!0;break}if(N&&N.listens(g,!0)&&(P&&!Ka(F,u)||(x.push(N),P))||F===this._container)break;F=F.parentNode}return!x.length&&!ie&&!P&&this.listens(g,!0)&&(x=[this]),x},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(g))){var x=u.type;x==="mousedown"&&el(g),this._fireDOMEvent(u,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,x){if(u.type==="click"){var N=i({},u);N.type="preclick",this._fireDOMEvent(N,N.type,x)}var P=this._findEventTargets(u,g);if(x){for(var F=[],ie=0;ie<x.length;ie++)x[ie].listens(g,!0)&&F.push(x[ie]);P=F.concat(P)}if(P.length){g==="contextmenu"&&Mn(u);var pe=P[0],Ee={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var De=pe.getLatLng&&(!pe._radius||pe._radius<=10);Ee.containerPoint=De?this.latLngToContainerPoint(pe.getLatLng()):this.mouseEventToContainerPoint(u),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=De?pe.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ie=0;ie<P.length;ie++)if(P[ie].fire(g,Ee,!0),Ee.originalEvent._stopped||P[ie].options.bubblingMouseEvents===!1&&M(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return xo(this._mapPane)||new ne(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){var x=u&&g!==void 0?this._getNewPixelOrigin(u,g):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var x=this.getSize()._divideBy(2);return this.project(u,g)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,x){var N=this._getNewPixelOrigin(x,g);return this.project(u,g)._subtract(N)},_latLngBoundsToNewLayerBounds:function(u,g,x){var N=this._getNewPixelOrigin(x,g);return B([this.project(u.getSouthWest(),g)._subtract(N),this.project(u.getNorthWest(),g)._subtract(N),this.project(u.getSouthEast(),g)._subtract(N),this.project(u.getNorthEast(),g)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,x){if(!x)return u;var N=this.project(u,g),P=this.getSize().divideBy(2),F=new Y(N.subtract(P),N.add(P)),ie=this._getBoundsOffset(F,x,g);return Math.abs(ie.x)<=1&&Math.abs(ie.y)<=1?u:this.unproject(N.add(ie),g)},_limitOffset:function(u,g){if(!g)return u;var x=this.getPixelBounds(),N=new Y(x.min.add(u),x.max.add(u));return u.add(this._getBoundsOffset(N,g))},_getBoundsOffset:function(u,g,x){var N=B(this.project(g.getNorthEast(),x),this.project(g.getSouthWest(),x)),P=N.min.subtract(u.min),F=N.max.subtract(u.max),ie=this._rebound(P.x,-F.x),pe=this._rebound(P.y,-F.y);return new ne(ie,pe)},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),x=this.getMaxZoom(),N=Xe.any3d?this.options.zoomSnap:1;return N&&(u=Math.round(u/N)*N),Math.max(g,Math.min(x,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var x=this._getCenterOffset(u)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,g),!0)},_createAnimProxy:function(){var u=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var x=Or,N=this._proxy.style[x];Ya(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),N===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();Ya(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(g),P=this._getCenterOffset(u)._divideBy(1-1/N);return x.animate!==!0&&!this.getSize().contains(P)?!1:(H(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(u,g,!0)},this),!0)},_animateZoom:function(u,g,x,N){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Cf(u,g){return new Ot(u,g)}var ni=re.extend({options:{position:"topright"},initialize:function(u){T(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),x=this.getPosition(),N=u._controlCorners[x];return dt(g,"leaflet-control"),x.indexOf("bottom")!==-1?N.insertBefore(g,N.firstChild):N.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Wa=function(u){return new ni(u)};Ot.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",x=this._controlContainer=xt("div",g+"control-container",this._container);function N(P,F){var ie=g+P+" "+g+F;u[P+F]=xt("div",ie,x)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Kt(this._controlCorners[u]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hc=ni.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,x,N){return x<N?-1:N<x?1:0}},initialize:function(u,g,x){T(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in u)this._addLayer(u[N],N);for(N in g)this._addLayer(g[N],N,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ni.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):vn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=xt("div",u),x=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Zo(g),ga(g);var N=this._section=xt("section",u+"-list");x&&(this._map.on("click",this.collapse,this),ct(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=xt("a",u+"-toggle",g);P.href="#",P.title="Layers",P.setAttribute("role","button"),ct(P,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){Mn(F),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=xt("div",u+"-base",N),this._separator=xt("div",u+"-separator",N),this._overlaysList=xt("div",u+"-overlays",N),g.appendChild(N)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,x){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:x}),this.options.sortLayers&&this._layers.sort(s(function(N,P){return this.options.sortFunction(N.layer,P.layer,N.name,P.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gi(this._baseLayersList),gi(this._overlaysList),this._layerControlInputs=[];var u,g,x,N,P=0;for(x=0;x<this._layers.length;x++)N=this._layers[x],this._addItem(N),g=g||N.overlay,u=u||!N.overlay,P+=N.overlay?0:1;return this.options.hideSingleBase&&(u=u&&P>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(d(u.target)),x=g.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;x&&this._map.fire(x,g)},_createRadioElement:function(u,g){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=x,N.firstChild},_addItem:function(u){var g=document.createElement("label"),x=this._map.hasLayer(u.layer),N;u.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=x):N=this._createRadioElement("leaflet-base-layers_"+d(this),x),this._layerControlInputs.push(N),N.layerId=d(u.layer),ct(N,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+u.name;var F=document.createElement("span");g.appendChild(F),F.appendChild(N),F.appendChild(P);var ie=u.overlay?this._overlaysList:this._baseLayersList;return ie.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,g,x,N=[],P=[];this._handlingClick=!0;for(var F=u.length-1;F>=0;F--)g=u[F],x=this._getLayer(g.layerId).layer,g.checked?N.push(x):g.checked||P.push(x);for(F=0;F<P.length;F++)this._map.hasLayer(P[F])&&this._map.removeLayer(P[F]);for(F=0;F<N.length;F++)this._map.hasLayer(N[F])||this._map.addLayer(N[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,g,x,N=this._map.getZoom(),P=u.length-1;P>=0;P--)g=u[P],x=this._getLayer(g.layerId).layer,g.disabled=x.options.minZoom!==void 0&&N<x.options.minZoom||x.options.maxZoom!==void 0&&N>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,ct(u,"click",Mn),this.expand();var g=this;setTimeout(function(){Ut(u,"click",Mn),g._preventClick=!1})}}),gp=function(u,g,x){return new hc(u,g,x)},Nf=ni.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",x=xt("div",g+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,g+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,g+"-out",x,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,x,N,P){var F=xt("a",x,N);return F.innerHTML=u,F.href="#",F.title=g,F.setAttribute("role","button"),F.setAttribute("aria-label",g),Zo(F),ct(F,"click",wo),ct(F,"click",P,this),ct(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";vn(this._zoomInButton,g),vn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(dt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(dt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ot.mergeOptions({zoomControl:!0}),Ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Nf,this.addControl(this.zoomControl))});var Bb=function(u){return new Nf(u)},vp=ni.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",x=xt("div",g),N=this.options;return this._addScales(N,g+"-line",x),u.on(N.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),x},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,x){u.metric&&(this._mScale=xt("div",g,x)),u.imperial&&(this._iScale=xt("div",g,x))},_update:function(){var u=this._map,g=u.getSize().y/2,x=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(x)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u),x=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,x,g/u)},_updateImperial:function(u){var g=u*3.2808399,x,N,P;g>5280?(x=g/5280,N=this._getRoundNum(x),this._updateScale(this._iScale,N+" mi",N/x)):(P=this._getRoundNum(g),this._updateScale(this._iScale,P+" ft",P/g))},_updateScale:function(u,g,x){u.style.width=Math.round(this.options.maxWidth*x)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),x=u/g;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,g*x}}),Mf=function(u){return new vp(u)},zb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Df=ni.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xe.inlineSvg?zb+" ":"")+"Leaflet</a>"},initialize:function(u){T(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),Zo(this._container);for(var g in u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var x=[];this.options.prefix&&x.push(this.options.prefix),u.length&&x.push(u.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});Ot.mergeOptions({attributionControl:!0}),Ot.addInitHook(function(){this.options.attributionControl&&new Df().addTo(this)});var Ub=function(u){return new Df(u)};ni.Layers=hc,ni.Zoom=Nf,ni.Scale=vp,ni.Attribution=Df,Wa.layers=gp,Wa.zoom=Bb,Wa.scale=Mf,Wa.attribution=Ub;var va=re.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});va.addTo=function(u,g){return u.addHandler(g,this),this};var Hb={Events:J},Pf=Xe.touch?"touchstart mousedown":"mousedown",So=ae.extend({options:{clickTolerance:3},initialize:function(u,g,x,N){T(this,N),this._element=u,this._dragStartTarget=g||u,this._preventOutline=x},enable:function(){this._enabled||(ct(this._dragStartTarget,Pf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(So._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,Pf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Af(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){So._dragging===this&&this.finishDrag();return}if(!(So._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(So._dragging=this,this._preventOutline&&el(this._element),ju(),Js(),!this._moving)){this.fire("down");var g=u.touches?u.touches[0]:u,x=Nu(this._element);this._startPoint=new ne(g.clientX,g.clientY),this._startPos=xo(this._element),this._parentScale=cc(x);var N=u.type==="mousedown";ct(document,N?"mousemove":"touchmove",this._onMove,this),ct(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var g=u.touches&&u.touches.length===1?u.touches[0]:u,x=new ne(g.clientX,g.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,Mn(u),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Jt(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){vn(document.body,"leaflet-dragging"),this._lastTarget&&(vn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),lc(),pa();var g=this._moved&&this._moving;this._moving=!1,So._dragging=!1,g&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function yp(u,g,x){var N,P=[1,4,2,8],F,ie,pe,Ee,De,Ge,et,vt;for(F=0,Ge=u.length;F<Ge;F++)u[F]._code=Xo(u[F],g);for(pe=0;pe<4;pe++){for(et=P[pe],N=[],F=0,Ge=u.length,ie=Ge-1;F<Ge;ie=F++)Ee=u[F],De=u[ie],Ee._code&et?De._code&et||(vt=Du(De,Ee,et,g,x),vt._code=Xo(vt,g),N.push(vt)):(De._code&et&&(vt=Du(De,Ee,et,g,x),vt._code=Xo(vt,g),N.push(vt)),N.push(Ee));u=N}return u}function bp(u,g){var x,N,P,F,ie,pe,Ee,De,Ge;if(!u||u.length===0)throw new Error("latlngs not passed");yi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var et=W([0,0]),vt=ee(u),or=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());or<1700&&(et=Rf(u));var Dn=u.length,ri=[];for(x=0;x<Dn;x++){var Dt=W(u[x]);ri.push(g.project(W([Dt.lat-et.lat,Dt.lng-et.lng])))}for(pe=Ee=De=0,x=0,N=Dn-1;x<Dn;N=x++)P=ri[x],F=ri[N],ie=P.y*F.x-F.y*P.x,Ee+=(P.x+F.x)*ie,De+=(P.y+F.y)*ie,pe+=ie*3;pe===0?Ge=ri[0]:Ge=[Ee/pe,De/pe];var Pt=g.unproject(te(Ge));return W([Pt.lat+et.lat,Pt.lng+et.lng])}function Rf(u){for(var g=0,x=0,N=0,P=0;P<u.length;P++){var F=W(u[P]);g+=F.lat,x+=F.lng,N++}return W([g/N,x/N])}var Lf={__proto__:null,clipPolygon:yp,polygonCenter:bp,centroid:Rf};function _p(u,g){if(!g||!u.length)return u.slice();var x=g*g;return u=Gb(u,x),u=wp(u,x),u}function xp(u,g,x){return Math.sqrt(mc(u,g,x,!0))}function Fb(u,g,x){return mc(u,g,x)}function wp(u,g){var x=u.length,N=typeof Uint8Array<"u"?Uint8Array:Array,P=new N(x);P[0]=P[x-1]=1,$f(u,P,g,0,x-1);var F,ie=[];for(F=0;F<x;F++)P[F]&&ie.push(u[F]);return ie}function $f(u,g,x,N,P){var F=0,ie,pe,Ee;for(pe=N+1;pe<=P-1;pe++)Ee=mc(u[pe],u[N],u[P],!0),Ee>F&&(ie=pe,F=Ee);F>x&&(g[ie]=1,$f(u,g,x,N,ie),$f(u,g,x,ie,P))}function Gb(u,g){for(var x=[u[0]],N=1,P=0,F=u.length;N<F;N++)qb(u[N],u[P])>g&&(x.push(u[N]),P=N);return P<F-1&&x.push(u[F-1]),x}var Sp;function Ep(u,g,x,N,P){var F=N?Sp:Xo(u,x),ie=Xo(g,x),pe,Ee,De;for(Sp=ie;;){if(!(F|ie))return[u,g];if(F&ie)return!1;pe=F||ie,Ee=Du(u,g,pe,x,P),De=Xo(Ee,x),pe===F?(u=Ee,F=De):(g=Ee,ie=De)}}function Du(u,g,x,N,P){var F=g.x-u.x,ie=g.y-u.y,pe=N.min,Ee=N.max,De,Ge;return x&8?(De=u.x+F*(Ee.y-u.y)/ie,Ge=Ee.y):x&4?(De=u.x+F*(pe.y-u.y)/ie,Ge=pe.y):x&2?(De=Ee.x,Ge=u.y+ie*(Ee.x-u.x)/F):x&1&&(De=pe.x,Ge=u.y+ie*(pe.x-u.x)/F),new ne(De,Ge,P)}function Xo(u,g){var x=0;return u.x<g.min.x?x|=1:u.x>g.max.x&&(x|=2),u.y<g.min.y?x|=4:u.y>g.max.y&&(x|=8),x}function qb(u,g){var x=g.x-u.x,N=g.y-u.y;return x*x+N*N}function mc(u,g,x,N){var P=g.x,F=g.y,ie=x.x-P,pe=x.y-F,Ee=ie*ie+pe*pe,De;return Ee>0&&(De=((u.x-P)*ie+(u.y-F)*pe)/Ee,De>1?(P=x.x,F=x.y):De>0&&(P+=ie*De,F+=pe*De)),ie=u.x-P,pe=u.y-F,N?ie*ie+pe*pe:new ne(P,F)}function yi(u){return!O(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Pu(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(u)}function rl(u,g){var x,N,P,F,ie,pe,Ee,De;if(!u||u.length===0)throw new Error("latlngs not passed");yi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ge=W([0,0]),et=ee(u),vt=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());vt<1700&&(Ge=Rf(u));var or=u.length,Dn=[];for(x=0;x<or;x++){var ri=W(u[x]);Dn.push(g.project(W([ri.lat-Ge.lat,ri.lng-Ge.lng])))}for(x=0,N=0;x<or-1;x++)N+=Dn[x].distanceTo(Dn[x+1])/2;if(N===0)De=Dn[0];else for(x=0,F=0;x<or-1;x++)if(ie=Dn[x],pe=Dn[x+1],P=ie.distanceTo(pe),F+=P,F>N){Ee=(F-N)/P,De=[pe.x-Ee*(pe.x-ie.x),pe.y-Ee*(pe.y-ie.y)];break}var Dt=g.unproject(te(De));return W([Dt.lat+Ge.lat,Dt.lng+Ge.lng])}var Yb={__proto__:null,simplify:_p,pointToSegmentDistance:xp,closestPointOnSegment:Fb,clipSegment:Ep,_getEdgeIntersection:Du,_getBitCode:Xo,_sqClosestPointOnSegment:mc,isFlat:yi,_flat:Pu,polylineCenter:rl},Ru={project:function(u){return new ne(u.lng,u.lat)},unproject:function(u){return new G(u.y,u.x)},bounds:new Y([-180,-90],[180,90])},Lu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var g=Math.PI/180,x=this.R,N=u.lat*g,P=this.R_MINOR/x,F=Math.sqrt(1-P*P),ie=F*Math.sin(N),pe=Math.tan(Math.PI/4-N/2)/Math.pow((1-ie)/(1+ie),F/2);return N=-x*Math.log(Math.max(pe,1e-10)),new ne(u.lng*g*x,N)},unproject:function(u){for(var g=180/Math.PI,x=this.R,N=this.R_MINOR/x,P=Math.sqrt(1-N*N),F=Math.exp(-u.y/x),ie=Math.PI/2-2*Math.atan(F),pe=0,Ee=.1,De;pe<15&&Math.abs(Ee)>1e-7;pe++)De=P*Math.sin(ie),De=Math.pow((1-De)/(1+De),P/2),Ee=Math.PI/2-2*Math.atan(F*De)-ie,ie+=Ee;return new G(ie*g,u.x*g/x)}},Ap={__proto__:null,LonLat:Ru,Mercator:Lu,SphericalMercator:de},Tp=i({},fe,{code:"EPSG:3395",projection:Lu,transformation:(function(){var u=.5/(Math.PI*Lu.R);return se(u,.5,-u,.5)})()}),If=i({},fe,{code:"EPSG:4326",projection:Ru,transformation:se(1/180,1,-1/180,.5)}),il=i({},le,{projection:Ru,transformation:se(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var x=g.lng-u.lng,N=g.lat-u.lat;return Math.sqrt(x*x+N*N)},infinite:!0});le.Earth=fe,le.EPSG3395=Tp,le.EPSG3857=Ce,le.EPSG900913=be,le.EPSG4326=If,le.Simple=il;var Hi=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var x=this.getEvents();g.on(x,this),this.once("remove",function(){g.off(x,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Ot.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(u);return this._layers[g]?this:(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var g=d(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,g){for(var x in this._layers)u.call(g,this._layers[x]);return this},_addLayers:function(u){u=u?O(u)?u:[u]:[];for(var g=0,x=u.length;g<x;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=d(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,x=this._getZoomSpan();for(var N in this._zoomBoundLayers){var P=this._zoomBoundLayers[N].options;u=P.minZoom===void 0?u:Math.min(u,P.minZoom),g=P.maxZoom===void 0?g:Math.max(g,P.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var al=Hi.extend({initialize:function(u,g){T(this,g),this._layers={};var x,N;if(u)for(x=0,N=u.length;x<N;x++)this.addLayer(u[x])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){var g=typeof u=="number"?u:this.getLayerId(u);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var g=Array.prototype.slice.call(arguments,1),x,N;for(x in this._layers)N=this._layers[x],N[u]&&N[u].apply(N,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var x in this._layers)u.call(g,this._layers[x]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),Kb=function(u,g){return new al(u,g)},ya=al.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),al.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),al.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new X;for(var g in this._layers){var x=this._layers[g];u.extend(x.getBounds?x.getBounds():x.getLatLng())}return u}}),kp=function(u,g){return new ya(u,g)},ba=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){T(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var x=this._getIconUrl(u);if(!x){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(x,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(N,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(u,g){var x=this.options,N=x[g+"Size"];typeof N=="number"&&(N=[N,N]);var P=te(N),F=te(g==="shadow"&&x.shadowAnchor||x.iconAnchor||P&&P.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(x.className||""),F&&(u.style.marginLeft=-F.x+"px",u.style.marginTop=-F.y+"px"),P&&(u.style.width=P.x+"px",u.style.height=P.y+"px")},_createImg:function(u,g){return g=g||document.createElement("img"),g.src=u,g},_getIconUrl:function(u){return Xe.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function pc(u){return new ba(u)}var gc=ba.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof gc.imagePath!="string"&&(gc.imagePath=this._detectIconPath()),(this.options.imagePath||gc.imagePath)+ba.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(x,N,P){var F=N.exec(x);return F&&F[P]};return u=g(u,/^url\((['"])?(.+)\1\)$/,2),u&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=xt("div","leaflet-default-icon-path",document.body),g=oc(u,"background-image")||oc(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g),g)return g;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),vc=va.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new So(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,x=g._map,N=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,F=xo(g._icon),ie=x.getPixelBounds(),pe=x.getPixelOrigin(),Ee=B(ie.min._subtract(pe).add(P),ie.max._subtract(pe).subtract(P));if(!Ee.contains(F)){var De=te((Math.max(Ee.max.x,F.x)-Ee.max.x)/(ie.max.x-Ee.max.x)-(Math.min(Ee.min.x,F.x)-Ee.min.x)/(ie.min.x-Ee.min.x),(Math.max(Ee.max.y,F.y)-Ee.max.y)/(ie.max.y-Ee.max.y)-(Math.min(Ee.min.y,F.y)-Ee.min.y)/(ie.min.y-Ee.min.y)).multiplyBy(N);x.panBy(De,{animate:!1}),this._draggable._newPos._add(De),this._draggable._startPos._add(De),Jt(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=H(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,x=g._shadow,N=xo(g._icon),P=g._map.layerPointToLatLng(N);x&&Jt(x,N),g._latlng=P,u.latlng=P,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),yc=Hi.extend({options:{icon:new gc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){T(this,g),this._latlng=W(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=u.icon.createIcon(this._icon),N=!1;x!==this._icon&&(this._icon&&this._removeIcon(),N=!0,u.title&&(x.title=u.title),x.tagName==="IMG"&&(x.alt=u.alt||"")),dt(x,g),u.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(x,"focus",this._panOnFocus,this);var P=u.icon.createShadow(this._shadow),F=!1;P!==this._shadow&&(this._removeShadow(),F=!0),P&&(dt(P,g),P.alt=""),this._shadow=P,u.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&F&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Jt(this._icon,u),this._shadow&&Jt(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vc)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vc(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&dn(this._icon,u),this._shadow&&dn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,x=g.iconSize?te(g.iconSize):te(0,0),N=g.iconAnchor?te(g.iconAnchor):te(0,0);u.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:x.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Op(u,g){return new yc(u,g)}var _a=Hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return T(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ol=_a.extend({options:{fill:!0,radius:10},initialize:function(u,g){T(this,g),this._latlng=W(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return _a.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,x=this._clickTolerance(),N=[u+x,g+x];this._pxBounds=new Y(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jp(u,g){return new ol(u,g)}var $u=ol.extend({initialize:function(u,g,x){if(typeof g=="number"&&(g=i({},x,{radius:g})),T(this,g),this._latlng=W(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:_a.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,x=this._map,N=x.options.crs;if(N.distance===fe.distance){var P=Math.PI/180,F=this._mRadius/fe.R/P,ie=x.project([g+F,u]),pe=x.project([g-F,u]),Ee=ie.add(pe).divideBy(2),De=x.unproject(Ee).lat,Ge=Math.acos((Math.cos(F*P)-Math.sin(g*P)*Math.sin(De*P))/(Math.cos(g*P)*Math.cos(De*P)))/P;(isNaN(Ge)||Ge===0)&&(Ge=F/Math.cos(Math.PI/180*g)),this._point=Ee.subtract(x.getPixelOrigin()),this._radius=isNaN(Ge)?0:Ee.x-x.project([De,u-Ge]).x,this._radiusY=Ee.y-ie.y}else{var et=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(et).x}this._updateBounds()}});function Cp(u,g,x){return new $u(u,g,x)}var Va=_a.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){T(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var g=1/0,x=null,N=mc,P,F,ie=0,pe=this._parts.length;ie<pe;ie++)for(var Ee=this._parts[ie],De=1,Ge=Ee.length;De<Ge;De++){P=Ee[De-1],F=Ee[De];var et=N(u,P,F,!0);et<g&&(g=et,x=N(u,P,F))}return x&&(x.distance=Math.sqrt(g)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=W(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new X,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],x=yi(u),N=0,P=u.length;N<P;N++)x?(g[N]=W(u[N]),this._bounds.extend(g[N])):g[N]=this._convertLatLngs(u[N]);return g},_project:function(){var u=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new ne(u,u);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,x){var N=u[0]instanceof G,P=u.length,F,ie;if(N){for(ie=[],F=0;F<P;F++)ie[F]=this._map.latLngToLayerPoint(u[F]),x.extend(ie[F]);g.push(ie)}else for(F=0;F<P;F++)this._projectLatlngs(u[F],g,x)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,x,N,P,F,ie,pe,Ee;for(x=0,P=0,F=this._rings.length;x<F;x++)for(Ee=this._rings[x],N=0,ie=Ee.length;N<ie-1;N++)pe=Ep(Ee[N],Ee[N+1],u,N,!0),pe&&(g[P]=g[P]||[],g[P].push(pe[0]),(pe[1]!==Ee[N+1]||N===ie-2)&&(g[P].push(pe[1]),P++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,x=0,N=u.length;x<N;x++)u[x]=_p(u[x],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var x,N,P,F,ie,pe,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(x=0,F=this._parts.length;x<F;x++)for(pe=this._parts[x],N=0,ie=pe.length,P=ie-1;N<ie;P=N++)if(!(!g&&N===0)&&xp(u,pe[P],pe[N])<=Ee)return!0;return!1}});function Wb(u,g){return new Va(u,g)}Va._flat=Pu;var sl=Va.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=Va.prototype._convertLatLngs.call(this,u),x=g.length;return x>=2&&g[0]instanceof G&&g[0].equals(g[x-1])&&g.pop(),g},_setLatLngs:function(u){Va.prototype._setLatLngs.call(this,u),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,x=new ne(g,g);if(u=new Y(u.min.subtract(x),u.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,P=this._rings.length,F;N<P;N++)F=yp(this._rings[N],u,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var g=!1,x,N,P,F,ie,pe,Ee,De;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(F=0,Ee=this._parts.length;F<Ee;F++)for(x=this._parts[F],ie=0,De=x.length,pe=De-1;ie<De;pe=ie++)N=x[ie],P=x[pe],N.y>u.y!=P.y>u.y&&u.x<(P.x-N.x)*(u.y-N.y)/(P.y-N.y)+N.x&&(g=!g);return g||Va.prototype._containsPoint.call(this,u,!0)}});function Vb(u,g){return new sl(u,g)}var Za=ya.extend({initialize:function(u,g){T(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var g=O(u)?u:u.features,x,N,P;if(g){for(x=0,N=g.length;x<N;x++)P=g[x],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var F=this.options;if(F.filter&&!F.filter(u))return this;var ie=pr(u,F);return ie?(ie.feature=zu(u),ie.defaultOptions=ie.options,this.resetStyle(ie),F.onEachFeature&&F.onEachFeature(u,ie),this.addLayer(ie)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&(typeof g=="function"&&(g=g(u.feature)),u.setStyle(g))}});function pr(u,g){var x=u.type==="Feature"?u.geometry:u,N=x?x.coordinates:null,P=[],F=g&&g.pointToLayer,ie=g&&g.coordsToLatLng||Iu,pe,Ee,De,Ge;if(!N&&!x)return null;switch(x.type){case"Point":return pe=ie(N),ll(F,u,pe,g);case"MultiPoint":for(De=0,Ge=N.length;De<Ge;De++)pe=ie(N[De]),P.push(ll(F,u,pe,g));return new ya(P);case"LineString":case"MultiLineString":return Ee=bc(N,x.type==="LineString"?0:1,ie),new Va(Ee,g);case"Polygon":case"MultiPolygon":return Ee=bc(N,x.type==="Polygon"?1:2,ie),new sl(Ee,g);case"GeometryCollection":for(De=0,Ge=x.geometries.length;De<Ge;De++){var et=pr({geometry:x.geometries[De],type:"Feature",properties:u.properties},g);et&&P.push(et)}return new ya(P);case"FeatureCollection":for(De=0,Ge=x.features.length;De<Ge;De++){var vt=pr(x.features[De],g);vt&&P.push(vt)}return new ya(P);default:throw new Error("Invalid GeoJSON object.")}}function ll(u,g,x,N){return u?u(g,x):new yc(x,N&&N.markersInheritOptions&&N)}function Iu(u){return new G(u[1],u[0],u[2])}function bc(u,g,x){for(var N=[],P=0,F=u.length,ie;P<F;P++)ie=g?bc(u[P],g-1,x):(x||Iu)(u[P]),N.push(ie);return N}function Bu(u,g){return u=W(u),u.alt!==void 0?[y(u.lng,g),y(u.lat,g),y(u.alt,g)]:[y(u.lng,g),y(u.lat,g)]}function _c(u,g,x,N){for(var P=[],F=0,ie=u.length;F<ie;F++)P.push(g?_c(u[F],yi(u[F])?0:g-1,x,N):Bu(u[F],N));return!g&&x&&P.length>0&&P.push(P[0].slice()),P}function Eo(u,g){return u.feature?i({},u.feature,{geometry:g}):zu(g)}function zu(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Ao={toGeoJSON:function(u){return Eo(this,{type:"Point",coordinates:Bu(this.getLatLng(),u)})}};yc.include(Ao),$u.include(Ao),ol.include(Ao),Va.include({toGeoJSON:function(u){var g=!yi(this._latlngs),x=_c(this._latlngs,g?1:0,!1,u);return Eo(this,{type:(g?"Multi":"")+"LineString",coordinates:x})}}),sl.include({toGeoJSON:function(u){var g=!yi(this._latlngs),x=g&&!yi(this._latlngs[0]),N=_c(this._latlngs,x?2:g?1:0,!0,u);return g||(N=[N]),Eo(this,{type:(x?"Multi":"")+"Polygon",coordinates:N})}}),al.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(x){g.push(x.toGeoJSON(u).geometry.coordinates)}),Eo(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(u);var x=g==="GeometryCollection",N=[];return this.eachLayer(function(P){if(P.toGeoJSON){var F=P.toGeoJSON(u);if(x)N.push(F.geometry);else{var ie=zu(F);ie.type==="FeatureCollection"?N.push.apply(N,ie.features):N.push(ie)}}}),x?Eo(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function Uu(u,g){return new Za(u,g)}var xc=Uu,cl=Hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,x){this._url=u,this._bounds=ee(g),T(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&ar(this._image),this},bringToBack:function(){return this._map&&Wo(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=ee(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",g=this._image=u?this._url:xt("img");if(dt(g,"leaflet-image-layer"),this._zoomAnimated&&dt(g,"leaflet-zoom-animated"),this.options.className&&dt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onload=s(this.fire,this,"load"),g.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Ya(this._image,x,g)},_reset:function(){var u=this._image,g=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=g.getSize();Jt(u,g.min),u.style.width=x.x+"px",u.style.height=x.y+"px"},_updateOpacity:function(){dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Np=function(u,g,x){return new cl(u,g,x)},To=cl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",g=this._image=u?this._url:xt("video");if(dt(g,"leaflet-image-layer"),this._zoomAnimated&&dt(g,"leaflet-zoom-animated"),this.options.className&&dt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onloadeddata=s(this.fire,this,"load"),u){for(var x=g.getElementsByTagName("source"),N=[],P=0;P<x.length;P++)N.push(x[P].src);this._url=x.length>0?N:[g.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ie=xt("source");ie.src=this._url[F],g.appendChild(ie)}}});function ul(u,g,x){return new To(u,g,x)}var Hu=cl.extend({_initImage:function(){var u=this._image=this._url;dt(u,"leaflet-image-layer"),this._zoomAnimated&&dt(u,"leaflet-zoom-animated"),this.options.className&&dt(u,this.options.className),u.onselectstart=p,u.onmousemove=p}});function Mp(u,g,x){return new Hu(u,g,x)}var gr=Hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof G||O(u))?(this._latlng=W(u),T(this,g)):(T(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&dn(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(dn(this._container,0),this._removeTimeout=setTimeout(s(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(vn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=W(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ar(this._container),this},bringToBack:function(){return this._map&&Wo(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof ya){g=null;var x=this._source._layers;for(var N in x)if(x[N]._map){g=x[N];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else if(g.getBounds)u=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=te(this.options.offset),x=this._getAnchor();this._zoomAnimated?Jt(this._container,u.add(x)):g=g.add(u).add(x);var N=this._containerBottom=-g.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=N+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});Ot.include({_initOverlay:function(u,g,x,N){var P=g;return P instanceof u||(P=new u(N).setContent(g)),x&&P.setLatLng(x),P}}),Hi.include({_initOverlay:function(u,g,x,N){var P=x;return P instanceof u?(T(P,N),P._source=this):(P=g&&!N?g:new u(N,this),P.setContent(x)),P}});var wc=gr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,gr.prototype.openOn.call(this,u)},onAdd:function(u){gr.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _a||this._source.on("preclick",Ui))},onRemove:function(u){gr.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _a||this._source.off("preclick",Ui))},getEvents:function(){var u=gr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=xt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=xt("div",u+"-content-wrapper",g);if(this._contentNode=xt("div",u+"-content",x),Zo(g),ga(this._contentNode),ct(g,"contextmenu",Ui),this._tipContainer=xt("div",u+"-tip-container",g),this._tip=xt("div",u+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=xt("a",u+"-close-button",g);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',ct(N,"click",function(P){Mn(P),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var x=u.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),g.width=x+1+"px",g.whiteSpace="",g.height="";var N=u.offsetHeight,P=this.options.maxHeight,F="leaflet-popup-scrolled";P&&N>P?(g.height=P+"px",dt(u,F)):vn(u,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),x=this._getAnchor();Jt(this._container,g.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,g=parseInt(oc(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+g,N=this._containerWidth,P=new ne(this._containerLeft,-x-this._containerBottom);P._add(xo(this._container));var F=u.layerPointToContainerPoint(P),ie=te(this.options.autoPanPadding),pe=te(this.options.autoPanPaddingTopLeft||ie),Ee=te(this.options.autoPanPaddingBottomRight||ie),De=u.getSize(),Ge=0,et=0;F.x+N+Ee.x>De.x&&(Ge=F.x+N-De.x+Ee.x),F.x-Ge-pe.x<0&&(Ge=F.x-pe.x),F.y+x+Ee.y>De.y&&(et=F.y+x-De.y+Ee.y),F.y-et-pe.y<0&&(et=F.y-pe.y),(Ge||et)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Ge,et]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Dp=function(u,g){return new wc(u,g)};Ot.mergeOptions({closePopupOnClick:!0}),Ot.include({openPopup:function(u,g,x){return this._initOverlay(wc,u,g,x).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Hi.include({bindPopup:function(u,g){return this._popup=this._initOverlay(wc,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ya||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){wo(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof _a)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Sc=gr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){gr.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){gr.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=gr.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",g=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,x,N=this._map,P=this._container,F=N.latLngToContainerPoint(N.getCenter()),ie=N.layerPointToContainerPoint(u),pe=this.options.direction,Ee=P.offsetWidth,De=P.offsetHeight,Ge=te(this.options.offset),et=this._getAnchor();pe==="top"?(g=Ee/2,x=De):pe==="bottom"?(g=Ee/2,x=0):pe==="center"?(g=Ee/2,x=De/2):pe==="right"?(g=0,x=De/2):pe==="left"?(g=Ee,x=De/2):ie.x<F.x?(pe="right",g=0,x=De/2):(pe="left",g=Ee+(Ge.x+et.x)*2,x=De/2),u=u.subtract(te(g,x,!0)).add(Ge).add(et),vn(P,"leaflet-tooltip-right"),vn(P,"leaflet-tooltip-left"),vn(P,"leaflet-tooltip-top"),vn(P,"leaflet-tooltip-bottom"),dt(P,"leaflet-tooltip-"+pe),Jt(P,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&dn(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zb=function(u,g){return new Sc(u,g)};Ot.include({openTooltip:function(u,g,x){return this._initOverlay(Sc,u,g,x).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Hi.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sc,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var g=u?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[g](x),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ya||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&(ct(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),ct(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var g=u.latlng,x,N;this._tooltip.options.sticky&&u.originalEvent&&(x=this._map.mouseEventToContainerPoint(u.originalEvent),N=this._map.containerPointToLayerPoint(x),g=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(g)}});var Pp=ba.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&u.tagName==="DIV"?u:document.createElement("div"),x=this.options;if(x.html instanceof Element?(gi(g),g.appendChild(x.html)):g.innerHTML=x.html!==!1?x.html:"",x.bgPos){var N=te(x.bgPos);g.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Xb(u){return new Pp(u)}ba.Default=gc;var dl=Hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){T(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Kt(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ne?u:new ne(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var g=this.getPane().children,x=-u(-1/0,1/0),N=0,P=g.length,F;N<P;N++)F=g[N].style.zIndex,g[N]!==this._container&&F&&(x=u(x,+F));isFinite(x)&&(this.options.zIndex=x+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xe.ielt9){dn(this._container,this.options.opacity);var u=+new Date,g=!1,x=!1;for(var N in this._tiles){var P=this._tiles[N];if(!(!P.current||!P.loaded)){var F=Math.min(1,(u-P.loaded)/200);dn(P.el,F),F<1?g=!0:(P.active?x=!0:this._onOpaqueTile(P),P.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),g&&(U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(u!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===u?(this._levels[x].el.style.zIndex=g-Math.abs(u-x),this._onUpdateLevel(x)):(Kt(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var N=this._levels[u],P=this._map;return N||(N=this._levels[u]={},N.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=g,N.origin=P.project(P.unproject(P.getPixelOrigin()),u).round(),N.zoom=u,this._setZoomTransform(N,P.getCenter(),P.getZoom()),p(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var u,g,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)g=this._tiles[u],g.retain=g.current;for(u in this._tiles)if(g=this._tiles[u],g.current&&!g.active){var N=g.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Kt(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,x,N){var P=Math.floor(u/2),F=Math.floor(g/2),ie=x-1,pe=new ne(+P,+F);pe.z=+ie;var Ee=this._tileCoordsToKey(pe),De=this._tiles[Ee];return De&&De.active?(De.retain=!0,!0):(De&&De.loaded&&(De.retain=!0),ie>N?this._retainParent(P,F,ie,N):!1)},_retainChildren:function(u,g,x,N){for(var P=2*u;P<2*u+2;P++)for(var F=2*g;F<2*g+2;F++){var ie=new ne(P,F);ie.z=x+1;var pe=this._tileCoordsToKey(ie),Ee=this._tiles[pe];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);x+1<N&&this._retainChildren(P,F,x+1,N)}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return g.minNativeZoom!==void 0&&u<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,x,N){var P=Math.round(g);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var F=this.options.updateWhenZooming&&P!==this._tileZoom;(!N||F)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(u),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var x in this._levels)this._setZoomTransform(this._levels[x],u,g)},_setZoomTransform:function(u,g,x){var N=this._map.getZoomScale(x,u.zoom),P=u.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(g,x)).round();Xe.any3d?Ya(u.el,P,N):Jt(u.el,P)},_resetGrid:function(){var u=this._map,g=u.options.crs,x=this._tileSize=this.getTileSize(),N=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],N).x/x.x),Math.ceil(u.project([0,g.wrapLng[1]],N).x/x.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],N).y/x.x),Math.ceil(u.project([g.wrapLat[1],0],N).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,x=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),N=g.getZoomScale(x,this._tileZoom),P=g.project(u,this._tileZoom).floor(),F=g.getSize().divideBy(N*2);return new Y(P.subtract(F),P.add(F))},_update:function(u){var g=this._map;if(g){var x=this._clampZoom(g.getZoom());if(u===void 0&&(u=g.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(u),P=this._pxBoundsToTileRange(N),F=P.getCenter(),ie=[],pe=this.options.keepBuffer,Ee=new Y(P.getBottomLeft().subtract([pe,-pe]),P.getTopRight().add([pe,-pe]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var De in this._tiles){var Ge=this._tiles[De].coords;(Ge.z!==this._tileZoom||!Ee.contains(new ne(Ge.x,Ge.y)))&&(this._tiles[De].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(u,x);return}for(var et=P.min.y;et<=P.max.y;et++)for(var vt=P.min.x;vt<=P.max.x;vt++){var or=new ne(vt,et);if(or.z=this._tileZoom,!!this._isValidTile(or)){var Dn=this._tiles[this._tileCoordsToKey(or)];Dn?Dn.current=!0:ie.push(or)}}if(ie.sort(function(Dt,Pt){return Dt.distanceTo(F)-Pt.distanceTo(F)}),ie.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ri=document.createDocumentFragment();for(vt=0;vt<ie.length;vt++)this._addTile(ie[vt],ri);this._level.el.appendChild(ri)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var x=this._globalTileRange;if(!g.wrapLng&&(u.x<x.min.x||u.x>x.max.x)||!g.wrapLat&&(u.y<x.min.y||u.y>x.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(u);return ee(this.options.bounds).overlaps(N)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,x=this.getTileSize(),N=u.scaleBy(x),P=N.add(x),F=g.unproject(N,u.z),ie=g.unproject(P,u.z);return[F,ie]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),x=new X(g[0],g[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),x=new ne(+g[0],+g[1]);return x.z=+g[2],x},_removeTile:function(u){var g=this._tiles[u];g&&(Kt(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){dt(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=p,u.onmousemove=p,Xe.ielt9&&this.options.opacity<1&&dn(u,this.options.opacity)},_addTile:function(u,g){var x=this._getTilePos(u),N=this._tileCoordsToKey(u),P=this.createTile(this._wrapCoords(u),s(this._tileReady,this,u));this._initTile(P),this.createTile.length<2&&H(s(this._tileReady,this,u,null,P)),Jt(P,x),this._tiles[N]={el:P,coords:u,current:!0},g.appendChild(P),this.fire("tileloadstart",{tile:P,coords:u})},_tileReady:function(u,g,x){g&&this.fire("tileerror",{error:g,tile:x,coords:u});var N=this._tileCoordsToKey(u);x=this._tiles[N],x&&(x.loaded=+new Date,this._map._fadeAnimated?(dn(x.el,0),U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),g||(dt(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xe.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new ne(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new Y(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Rp(u){return new dl(u)}var ko=dl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,g=T(this,g),g.detectRetina&&Xe.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&g===void 0&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var x=document.createElement("img");return ct(x,"load",s(this._tileOnLoad,this,g,x)),ct(x,"error",s(this._tileOnError,this,g,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(u),x},getTileUrl:function(u){var g={r:Xe.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=x),g["-y"]=x}return D(this._url,i(g,this.options))},_tileOnLoad:function(u,g){Xe.ielt9?setTimeout(s(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,x){var N=this.options.errorTileUrl;N&&g.getAttribute("src")!==N&&(g.src=N),u(x,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,g=this.options.maxZoom,x=this.options.zoomReverse,N=this.options.zoomOffset;return x&&(u=g-u),u+N},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(g=this._tiles[u].el,g.onload=p,g.onerror=p,!g.complete)){g.src=C;var x=this._tiles[u].coords;Kt(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:x})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",C),dl.prototype._removeTile.call(this,u)},_tileReady:function(u,g,x){if(!(!this._map||x&&x.getAttribute("src")===C))return dl.prototype._tileReady.call(this,u,g,x)}});function bi(u,g){return new ko(u,g)}var Ec=ko.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var x=i({},this.defaultWmsParams);for(var N in g)N in this.options||(x[N]=g[N]);g=T(this,g);var P=g.detectRetina&&Xe.retina?2:1,F=this.getTileSize();x.width=F.x*P,x.height=F.y*P,this.wmsParams=x},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ko.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),x=this._crs,N=B(x.project(g[0]),x.project(g[1])),P=N.min,F=N.max,ie=(this._wmsVersion>=1.3&&this._crs===If?[P.y,P.x,F.y,F.x]:[P.x,P.y,F.x,F.y]).join(","),pe=ko.prototype.getTileUrl.call(this,u);return pe+S(this.wmsParams,pe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ie},setParams:function(u,g){return i(this.wmsParams,u),g||this.redraw(),this}});function _i(u,g){return new Ec(u,g)}ko.WMS=Ec,bi.wms=_i;var Gr=Hi.extend({options:{padding:.1},initialize:function(u){T(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var x=this._map.getZoomScale(g,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,g),F=N.multiplyBy(-x).add(P).subtract(this._map._getNewPixelOrigin(u,g));Xe.any3d?Ya(this._container,F,x):Jt(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),x=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new Y(x,x.add(g.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fu=Gr.extend({options:{tolerance:0},getEvents:function(){var u=Gr.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");ct(u,"mousemove",this._onMouseMove,this),ct(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Kt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var g in this._layers)u=this._layers[g],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gr.prototype._update.call(this);var u=this._bounds,g=this._container,x=u.getSize(),N=Xe.retina?2:1;Jt(g,u.min),g.width=N*x.x,g.height=N*x.y,g.style.width=x.x+"px",g.style.height=x.y+"px",Xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Gr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,x=g.next,N=g.prev;x?x.prev=N:this._drawLast=N,N?N.next=x:this._drawFirst=x,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var g=u.options.dashArray.split(/[, ]+/),x=[],N,P;for(P=0;P<g.length;P++){if(N=Number(g[P]),isNaN(N))return;x.push(N)}u.options._dashArray=x}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var x=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)u=N.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var x,N,P,F,ie=u._parts,pe=ie.length,Ee=this._ctx;if(pe){for(Ee.beginPath(),x=0;x<pe;x++){for(N=0,P=ie[x].length;N<P;N++)F=ie[x][N],Ee[N?"lineTo":"moveTo"](F.x,F.y);g&&Ee.closePath()}this._fillStroke(Ee,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var g=u._point,x=this._ctx,N=Math.max(Math.round(u._radius),1),P=(Math.max(Math.round(u._radiusY),1)||N)/N;P!==1&&(x.save(),x.scale(1,P)),x.beginPath(),x.arc(g.x,g.y/P,N,0,Math.PI*2,!1),P!==1&&x.restore(),this._fillStroke(x,u)}},_fillStroke:function(u,g){var x=g.options;x.fill&&(u.globalAlpha=x.fillOpacity,u.fillStyle=x.fillColor||x.color,u.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=x.opacity,u.lineWidth=x.weight,u.strokeStyle=x.color,u.lineCap=x.lineCap,u.lineJoin=x.lineJoin,u.stroke())},_onClick:function(u){for(var g=this._map.mouseEventToLayerPoint(u),x,N,P=this._drawFirst;P;P=P.next)x=P.layer,x.options.interactive&&x._containsPoint(g)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(x))&&(N=x);this._fireEvent(N?[N]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&(vn(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var x,N,P=this._drawFirst;P;P=P.next)x=P.layer,x.options.interactive&&x._containsPoint(g)&&(N=x);N!==this._hoveredLayer&&(this._handleMouseOut(u),N&&(dt(this._container,"leaflet-interactive"),this._fireEvent([N],u,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,x){this._map._fireDOMEvent(g,x||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var x=g.next,N=g.prev;if(x)x.prev=N;else return;N?N.next=x:x&&(this._drawFirst=x),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var x=g.next,N=g.prev;if(N)N.next=x;else return;x?x.prev=N:N&&(this._drawLast=N),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function Ac(u){return Xe.canvas?new Fu(u):null}var Oo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Bf={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gr.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=Oo("shape");dt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=Oo("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;Kt(g),u.removeInteractiveTarget(g),delete this._layers[d(u)]},_updateStyle:function(u){var g=u._stroke,x=u._fill,N=u.options,P=u._container;P.stroked=!!N.stroke,P.filled=!!N.fill,N.stroke?(g||(g=u._stroke=Oo("stroke")),P.appendChild(g),g.weight=N.weight+"px",g.color=N.color,g.opacity=N.opacity,N.dashArray?g.dashStyle=O(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=N.lineCap.replace("butt","flat"),g.joinstyle=N.lineJoin):g&&(P.removeChild(g),u._stroke=null),N.fill?(x||(x=u._fill=Oo("fill")),P.appendChild(x),x.color=N.fillColor||N.color,x.opacity=N.fillOpacity):x&&(P.removeChild(x),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),x=Math.round(u._radius),N=Math.round(u._radiusY||x);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+x+","+N+" 0,"+65535*360)},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){ar(u._container)},_bringToBack:function(u){Wo(u._container)}},xa=Xe.vml?Oo:Le,fl=Gr.extend({_initContainer:function(){this._container=xa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gr.prototype._update.call(this);var u=this._bounds,g=u.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,x.setAttribute("width",g.x),x.setAttribute("height",g.y)),Jt(x,u.min),x.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=xa("path");u.options.className&&dt(g,u.options.className),u.options.interactive&&dt(g,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Kt(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,x=u.options;g&&(x.stroke?(g.setAttribute("stroke",x.color),g.setAttribute("stroke-opacity",x.opacity),g.setAttribute("stroke-width",x.weight),g.setAttribute("stroke-linecap",x.lineCap),g.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?g.setAttribute("stroke-dasharray",x.dashArray):g.removeAttribute("stroke-dasharray"),x.dashOffset?g.setAttribute("stroke-dashoffset",x.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),x.fill?(g.setAttribute("fill",x.fillColor||x.color),g.setAttribute("fill-opacity",x.fillOpacity),g.setAttribute("fill-rule",x.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,Me(u._parts,g))},_updateCircle:function(u){var g=u._point,x=Math.max(Math.round(u._radius),1),N=Math.max(Math.round(u._radiusY),1)||x,P="a"+x+","+N+" 0 1,0 ",F=u._empty()?"M0 0":"M"+(g.x-x)+","+g.y+P+x*2+",0 "+P+-x*2+",0 ";this._setPath(u,F)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){ar(u._path)},_bringToBack:function(u){Wo(u._path)}});Xe.vml&&fl.include(Bf);function Tc(u){return Xe.svg||Xe.vml?new fl(u):null}Ot.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var g=this._paneRenderers[u];return g===void 0&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&Ac(u)||Tc(u)}});var Jo=sl.extend({initialize:function(u,g){sl.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=ee(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function Jb(u,g){return new Jo(u,g)}fl.create=xa,fl.pointsToPath=Me,Za.geometryToLayer=pr,Za.coordsToLatLng=Iu,Za.coordsToLatLngs=bc,Za.latLngToCoords=Bu,Za.latLngsToCoords=_c,Za.getFeature=Eo,Za.asFeature=zu,Ot.mergeOptions({boxZoom:!0});var qr=va.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Js(),ju(),this._startPoint=this._map.mouseEventToContainerPoint(u),ct(document,{contextmenu:wo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new Y(this._point,this._startPoint),x=g.getSize();Jt(this._box,g.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(Kt(this._box),vn(this._container,"leaflet-crosshair")),pa(),lc(),Ut(document,{contextmenu:wo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var g=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ot.addInitHook("addHandler","boxZoom",qr),Ot.mergeOptions({doubleClickZoom:!0});var Gu=va.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,x=g.getZoom(),N=g.options.zoomDelta,P=u.originalEvent.shiftKey?x-N:x+N;g.options.doubleClickZoom==="center"?g.setZoom(P):g.setZoomAround(u.containerPoint,P)}});Ot.addInitHook("addHandler","doubleClickZoom",Gu),Ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wa=va.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new So(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vn(this._map._container,"leaflet-grab"),vn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=ee(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),x=this._initialWorldOffset,N=this._draggable._newPos.x,P=(N-g+x)%u+g-x,F=(N+g+x)%u-g-x,ie=Math.abs(P+x)<Math.abs(F+x)?P:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ie},_onDragEnd:function(u){var g=this._map,x=g.options,N=!x.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),N)g.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ie=x.easeLinearity,pe=P.multiplyBy(ie/F),Ee=pe.distanceTo([0,0]),De=Math.min(x.inertiaMaxSpeed,Ee),Ge=pe.multiplyBy(De/Ee),et=De/(x.inertiaDeceleration*ie),vt=Ge.multiplyBy(-et/2).round();!vt.x&&!vt.y?g.fire("moveend"):(vt=g._limitOffset(vt,g.options.maxBounds),H(function(){g.panBy(vt,{duration:et,easeLinearity:ie,noMoveStart:!0,animate:!0})}))}}});Ot.addInitHook("addHandler","dragging",wa),Ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zf=va.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),ct(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,x=u.scrollTop||g.scrollTop,N=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(N,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var g=this._panKeys={},x=this.keyCodes,N,P;for(N=0,P=x.left.length;N<P;N++)g[x.left[N]]=[-1*u,0];for(N=0,P=x.right.length;N<P;N++)g[x.right[N]]=[u,0];for(N=0,P=x.down.length;N<P;N++)g[x.down[N]]=[0,u];for(N=0,P=x.up.length;N<P;N++)g[x.up[N]]=[0,-1*u]},_setZoomDelta:function(u){var g=this._zoomKeys={},x=this.keyCodes,N,P;for(N=0,P=x.zoomIn.length;N<P;N++)g[x.zoomIn[N]]=u;for(N=0,P=x.zoomOut.length;N<P;N++)g[x.zoomOut[N]]=-u},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var g=u.keyCode,x=this._map,N;if(g in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(N=this._panKeys[g],u.shiftKey&&(N=te(N).multiplyBy(3)),x.options.maxBounds&&(N=x._limitOffset(te(N),x.options.maxBounds)),x.options.worldCopyJump){var P=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(N)));x.panTo(P)}else x.panBy(N)}else if(g in this._zoomKeys)x.setZoom(x.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;wo(u)}}});Ot.addInitHook("addHandler","keyboard",zf),Ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var kc=va.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=jr(u),x=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var N=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),N),wo(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),x=this._map.options.zoomSnap||0;u._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,F=x?Math.ceil(P/x)*x:P,ie=u._limitZoom(g+(this._delta>0?F:-F))-g;this._delta=0,this._startTime=null,ie&&(u.options.scrollWheelZoom==="center"?u.setZoom(g+ie):u.setZoomAround(this._lastMousePos,g+ie))}});Ot.addInitHook("addHandler","scrollWheelZoom",kc);var Qo=600;Ot.mergeOptions({tapHold:Xe.touchNative&&Xe.safari&&Xe.mobile,tapTolerance:15});var qu=va.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var g=u.touches[0];this._startPos=this._newPos=new ne(g.clientX,g.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",Mn),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),Qo),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Ut(document,"touchend",Mn),Ut(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new ne(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var x=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});x._simulated=!0,g.target.dispatchEvent(x)}});Ot.addInitHook("addHandler","tapHold",qu),Ot.mergeOptions({touchZoom:Xe.touch,bounceAtZoomLimits:!0});var Uf=va.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vn(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(!(!u.touches||u.touches.length!==2||g._animatingZoom||this._zooming)){var x=g.mouseEventToContainerPoint(u.touches[0]),N=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(x.add(N)._divideBy(2))),this._startDist=x.distanceTo(N),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),Mn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var g=this._map,x=g.mouseEventToContainerPoint(u.touches[0]),N=g.mouseEventToContainerPoint(u.touches[1]),P=x.distanceTo(N)/this._startDist;if(this._zoom=g.getScaleZoom(P,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&P<1||this._zoom>g.getMaxZoom()&&P>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var F=x._add(N)._divideBy(2)._subtract(this._centerPoint);if(P===1&&F.x===0&&F.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ie=s(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ie,this,!0),Mn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ot.addInitHook("addHandler","touchZoom",Uf),Ot.BoxZoom=qr,Ot.DoubleClickZoom=Gu,Ot.Drag=wa,Ot.Keyboard=zf,Ot.ScrollWheelZoom=kc,Ot.TapHold=qu,Ot.TouchZoom=Uf,n.Bounds=Y,n.Browser=Xe,n.CRS=le,n.Canvas=Fu,n.Circle=$u,n.CircleMarker=ol,n.Class=re,n.Control=ni,n.DivIcon=Pp,n.DivOverlay=gr,n.DomEvent=Mu,n.DomUtil=tl,n.Draggable=So,n.Evented=ae,n.FeatureGroup=ya,n.GeoJSON=Za,n.GridLayer=dl,n.Handler=va,n.Icon=ba,n.ImageOverlay=cl,n.LatLng=G,n.LatLngBounds=X,n.Layer=Hi,n.LayerGroup=al,n.LineUtil=Yb,n.Map=Ot,n.Marker=yc,n.Mixin=Hb,n.Path=_a,n.Point=ne,n.PolyUtil=Lf,n.Polygon=sl,n.Polyline=Va,n.Popup=wc,n.PosAnimation=nl,n.Projection=Ap,n.Rectangle=Jo,n.Renderer=Gr,n.SVG=fl,n.SVGOverlay=Hu,n.TileLayer=ko,n.Tooltip=Sc,n.Transformation=we,n.Util=Z,n.VideoOverlay=To,n.bind=s,n.bounds=B,n.canvas=Ac,n.circle=Cp,n.circleMarker=jp,n.control=Wa,n.divIcon=Xb,n.extend=i,n.featureGroup=kp,n.geoJSON=Uu,n.geoJson=xc,n.gridLayer=Rp,n.icon=pc,n.imageOverlay=Np,n.latLng=W,n.latLngBounds=ee,n.layerGroup=Kb,n.map=Cf,n.marker=Op,n.point=te,n.polygon=Vb,n.polyline=Wb,n.popup=Dp,n.rectangle=Jb,n.setOptions=T,n.stamp=d,n.svg=Tc,n.svgOverlay=Mp,n.tileLayer=bi,n.tooltip=Zb,n.transformation=se,n.version=r,n.videoOverlay=ul;var Hf=window.L;n.noConflict=function(){return window.L=Hf,this},window.L=n}))})(qh,qh.exports)),qh.exports}var eK=QY();const Yx=Pi(eK),Gg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Uc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function tK(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:s,suggestionsId:c,mapId:d}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=Uc(n),p=Uc(t),y=Uc(r),b=Uc(a),w=Uc(s),T=Uc(c),S=i?Uc(i):null;let j=null,D=null,O=null;const M=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",C=U=>{M(U)&&document.activeElement!==w&&(U.preventDefault(),U.stopPropagation(),w.focus())},R=()=>{y.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=Yx.map(d,{keyboard:!1}).setView([f.lat,f.lon],11),Yx.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),y.addEventListener("keydown",C,!0),y.addEventListener("keyup",C,!0),w.focus()},I=()=>{y.style.display="none",w.value="",T.innerHTML="",O&&(window.clearTimeout(O),O=null),y.removeEventListener("keydown",C,!0),y.removeEventListener("keyup",C,!0)},z=U=>{const Z=U.dataset.name??"",re=Number(U.dataset.lat??""),ve=Number(U.dataset.lon??"");!Number.isFinite(re)||!Number.isFinite(ve)||!j||(D?D.setLatLng([re,ve]):D=Yx.marker([re,ve]).addTo(j),j.flyTo([re,ve],14,{duration:.5}),m.value=Z,m.dataset.lat=String(re),m.dataset.lon=String(ve),e.onSelected?.({name:Z,lat:re,lon:ve}),T.innerHTML="",I())},q=()=>{O&&window.clearTimeout(O);const U=w.value.trim();if(!U){T.innerHTML="";return}O=window.setTimeout(async()=>{try{const Z="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),re=await fetch(Z,{headers:{Accept:"application/json"}});if(!re.ok)throw new Error(`HTTP ${re.status}`);const ve=await re.json();if(!Array.isArray(ve)||ve.length===0){T.innerHTML='<li style="padding:8px"> </li>';return}const J=ve.slice(0,12).map((ae,ne)=>{const ce=ae.display_name.split(",").slice(0,3).map(B=>B.trim()).join("  "),te="padding:8px;cursor:pointer;outline:none;",Y=ne===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Gg(ce)}"
                    data-lat="${Gg(ae.lat)}"
                    data-lon="${Gg(ae.lon)}"
                    data-active="${ne===0?"1":"0"}"
                    style="${te}${Y}"
                  >${Gg(ce)}</li>`}).join("");T.innerHTML=J}catch(Z){console.error(Z),T.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},V=U=>{const Z=U.target;Z.tagName==="LI"&&z(Z)},H=U=>{if(U.key==="Enter"){const Z=T.querySelector('li[data-active="1"]')??T.querySelector("li");Z&&z(Z)}};return p.addEventListener("click",R),b.addEventListener("click",I),S&&S.addEventListener("click",I),w.addEventListener("input",q),w.addEventListener("keydown",H),T.addEventListener("click",V),()=>{p.removeEventListener("click",R),b.removeEventListener("click",I),S&&S.removeEventListener("click",I),w.removeEventListener("input",q),w.removeEventListener("keydown",H),T.removeEventListener("click",V),y.removeEventListener("keydown",C,!0),y.removeEventListener("keyup",C,!0),O&&(window.clearTimeout(O),O=null),j&&(j.remove(),j=null)}}function yd(){return document.getElementById("suggestions")}function Z0(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Kx(e,t){const n=Z0(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(s=>{s.tabIndex=-1,s.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}function CI({onSelect:e,placeholderText:t="",buttonStyle:n,value:r}){const[i,a]=A.useState(t),[s,c]=A.useState(!1),[d,f]=A.useState(r??""),m=A.useRef(null),p=A.useRef(null),y=A.useRef(null),b=A.useRef(null);return A.useEffect(()=>{r!==void 0&&f(r)},[r]),A.useEffect(()=>{if(!s)return;const w=tK({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:q=>{a(""),f(q.name),m.current&&(m.current.value=q.name),p.current&&(p.current.value=String(q.lat)),y.current&&(y.current.value=String(q.lon)),e?.(q),c(!1)}}),T=document.getElementById("inputBirthPlaceBtn");T&&T.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const S=document.getElementById("mapModal"),j=document.getElementById("searchBox"),D=yd();setTimeout(()=>j?.focus(),0);const O='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',M=q=>{if(q.key==="Escape"){q.preventDefault(),c(!1);return}if(q.key!=="Tab")return;const V=yd();if(V&&V.contains(document.activeElement))return;const H=Array.from(S.querySelectorAll(O)).filter(ve=>!ve.hasAttribute("disabled")&&ve.tabIndex!==-1);if(H.length===0)return;const U=H[0],Z=H[H.length-1],re=document.activeElement;q.shiftKey?(re===U||!S.contains(re))&&(q.preventDefault(),Z.focus()):(re===Z||!S.contains(re))&&(q.preventDefault(),U.focus())};S.addEventListener("keydown",M);const C=q=>{if(q.key!=="ArrowDown")return;const V=yd();!V||Z0(V).length===0||q.preventDefault()};j?.addEventListener("keydown",C);const R=q=>{if(q.target.value.trim()===""){const H=yd();H&&(H.innerHTML="")}};j?.addEventListener("input",R);const I=q=>{const V=yd();if(!V)return;const H=Z0(V);if(H.length===0)return;const U=document.activeElement,Z=U?H.indexOf(U):-1;if(Z===-1)return;const re=ve=>{q.preventDefault(),Kx(V,Z+ve)};switch(q.key){case"Tab":q.preventDefault(),re(q.shiftKey?-1:1);break;case"ArrowDown":q.preventDefault(),re(1);break;case"ArrowUp":q.preventDefault(),re(-1);break;case"Home":q.preventDefault(),Kx(V,0);break;case"End":q.preventDefault(),Kx(V,H.length-1);break;case"Enter":case" ":q.preventDefault(),U.click();break;case"Backspace":q.preventDefault(),V.innerHTML="",j?.focus();break}q.stopPropagation()};let z=null;return D&&(D.addEventListener("keydown",I),z=new MutationObserver(()=>{const q=yd();!q||Z0(q).length}),z.observe(D,{childList:!0,subtree:!1})),()=>{S.removeEventListener("keydown",M),j?.removeEventListener("keydown",C),j?.removeEventListener("input",R),D&&D.removeEventListener("keydown",I),z?.disconnect(),w?.()}},[s,e]),A.useEffect(()=>{s||setTimeout(()=>b.current?.focus(),0)},[s]),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:d&&d.trim()!==""?d:t}),_.jsx("button",{ref:b,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>c(!0),"aria-haspopup":"dialog","aria-expanded":s,"aria-controls":"mapModal",children:i}),_.jsx("input",{ref:m,type:"hidden",name:"birthPlace_name",defaultValue:""}),_.jsx("input",{ref:p,type:"hidden",name:"birthPlace_lat",defaultValue:""}),_.jsx("input",{ref:y,type:"hidden",name:"birthPlace_lon",defaultValue:""}),s&&_.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:_.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("div",{id:"mapModalTitle",className:"font-bold",children:""}),_.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>c(!1),children:""})]}),_.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"searchBox",placeholder:":   / seoul /  / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),_.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),_.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:_.jsx("div",{id:"map",className:"h-full w-full"})}),_.jsxs("div",{className:"gap-2 p-3",children:[_.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[_.jsxs("p",{className:"flex mb-1",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:" ,  ."})]}),_.jsxs("p",{className:"flex",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:"       ,   ."})]})]}),_.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function xr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nK=typeof Symbol=="function"&&Symbol.observable||"@@observable",nN=nK,Wx=()=>Math.random().toString(36).substring(7).split("").join("."),rK={INIT:`@@redux/INIT${Wx()}`,REPLACE:`@@redux/REPLACE${Wx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wx()}`},_v=rK;function O2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function j2(e,t,n){if(typeof e!="function")throw new Error(xr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xr(1));return n(j2)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,d=!1;function f(){s===a&&(s=new Map,a.forEach((S,j)=>{s.set(j,S)}))}function m(){if(d)throw new Error(xr(3));return i}function p(S){if(typeof S!="function")throw new Error(xr(4));if(d)throw new Error(xr(5));let j=!0;f();const D=c++;return s.set(D,S),function(){if(j){if(d)throw new Error(xr(6));j=!1,f(),s.delete(D),a=null}}}function y(S){if(!O2(S))throw new Error(xr(7));if(typeof S.type>"u")throw new Error(xr(8));if(typeof S.type!="string")throw new Error(xr(17));if(d)throw new Error(xr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=s).forEach(D=>{D()}),S}function b(S){if(typeof S!="function")throw new Error(xr(10));r=S,y({type:_v.REPLACE})}function w(){const S=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(xr(11));function D(){const M=j;M.next&&M.next(m())}return D(),{unsubscribe:S(D)}},[nN](){return this}}}return y({type:_v.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:b,[nN]:w}}function iK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:_v.INIT})>"u")throw new Error(xr(12));if(typeof n(void 0,{type:_v.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xr(13))})}function NI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{iK(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],b=s[p],w=y(b,c);if(typeof w>"u")throw c&&c.type,new Error(xr(14));f[p]=w,d=d||w!==b}return d=d||r.length!==Object.keys(s).length,d?f:s}}function rN(e,t){return function(...n){return t(e.apply(this,n))}}function iN(e,t){if(typeof e=="function")return rN(e,t);if(typeof e!="object"||e===null)throw new Error(xr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=rN(i,t))}return n}function am(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function MI(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(xr(15))};const s={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(s));return a=am(...c)(i.dispatch),{...i,dispatch:a}}}function DI(e){return O2(e)&&"type"in e&&typeof e.type=="string"}var Vx={exports:{}},Zx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function aK(){if(aN)return Zx;aN=1;var e=of();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,c=e.useDebugValue;return Zx.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=s(function(){function S(C){if(!j){if(j=!0,D=C,C=p(C),y!==void 0&&w.hasValue){var R=w.value;if(y(R,C))return O=R}return O=C}if(R=O,n(D,C))return R;var I=p(C);return y!==void 0&&y(R,I)?(D=C,R):(D=C,O=I)}var j=!1,D,O,M=m===void 0?null:m;return[function(){return S(f())},M===null?void 0:function(){return S(M())}]},[f,m,p,y]);var T=r(d,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=T},[T]),c(T),T},Zx}var oN;function oK(){return oN||(oN=1,Vx.exports=aK()),Vx.exports}oK();var sK=A.version.startsWith("19"),lK=Symbol.for(sK?"react.transitional.element":"react.element"),cK=Symbol.for("react.portal"),uK=Symbol.for("react.fragment"),dK=Symbol.for("react.strict_mode"),fK=Symbol.for("react.profiler"),hK=Symbol.for("react.consumer"),mK=Symbol.for("react.context"),PI=Symbol.for("react.forward_ref"),pK=Symbol.for("react.suspense"),gK=Symbol.for("react.suspense_list"),C2=Symbol.for("react.memo"),vK=Symbol.for("react.lazy"),yK=PI,bK=C2;function _K(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case lK:switch(e=e.type,e){case uK:case fK:case dK:case pK:case gK:return e;default:switch(e=e&&e.$$typeof,e){case mK:case PI:case vK:case C2:return e;case hK:return e;default:return t}}case cK:return t}}}function xK(e){return _K(e)===C2}function wK(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let c=!1,d,f,m,p,y;function b(D,O){return d=D,f=O,m=e(d,f),p=t(r,f),y=n(m,p,f),c=!0,y}function w(){return m=e(d,f),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function T(){return e.dependsOnOwnProps&&(m=e(d,f)),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function S(){const D=e(d,f),O=!s(D,m);return m=D,O&&(y=n(m,p,f)),y}function j(D,O){const M=!a(O,f),C=!i(D,d,O,f);return d=D,f=O,M&&C?w():M?T():C?S():y}return function(O,M){return c?j(O,M):b(O,M)}}function SK(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),s=n(e,i),c=r(e,i);return wK(a,s,c,e,i)}function EK(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function GS(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function sN(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function RI(e,t){return function(r,{displayName:i}){const a=function(c,d){return a.dependsOnOwnProps?a.mapToProps(c,d):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,d){a.mapToProps=e,a.dependsOnOwnProps=sN(e);let f=a(c,d);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=sN(f),f=a(c,d)),f},a}}function N2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function AK(e){return e&&typeof e=="object"?GS(t=>EK(e,t)):e?typeof e=="function"?RI(e):N2(e,"mapDispatchToProps"):GS(t=>({dispatch:t}))}function TK(e){return e?typeof e=="function"?RI(e):N2(e,"mapStateToProps"):GS(()=>({}))}function kK(e,t,n){return{...n,...e,...t}}function OK(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,s;return function(d,f,m){const p=e(d,f,m);return a?i(p,s)||(s=p):(a=!0,s=p),s}}}function jK(e){return e?typeof e=="function"?OK(e):N2(e,"mergeProps"):()=>kK}function CK(e){e()}function NK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lN={notify(){},get:()=>[]};function LI(e,t){let n,r=lN,i=0,a=!1;function s(T){m();const S=r.subscribe(T);let j=!1;return()=>{j||(j=!0,S(),p())}}function c(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(d):e.subscribe(d),r=NK())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lN)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const w={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var MK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DK=MK(),PK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",RK=PK(),LK=()=>DK||RK?A.useLayoutEffect:A.useEffect,xv=LK();function cN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function X0(e,t){if(cN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!cN(e[n[i]],t[n[i]]))return!1;return!0}var $K={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},IK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},BK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$I={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zK={[yK]:BK,[bK]:$I};function uN(e){return xK(e)?$I:zK[e.$$typeof]||$K}var UK=Object.defineProperty,HK=Object.getOwnPropertyNames,dN=Object.getOwnPropertySymbols,FK=Object.getOwnPropertyDescriptor,GK=Object.getPrototypeOf,fN=Object.prototype;function qS(e,t){if(typeof t!="string"){if(fN){const a=GK(t);a&&a!==fN&&qS(e,a)}let n=HK(t);dN&&(n=n.concat(dN(t)));const r=uN(e),i=uN(t);for(let a=0;a<n.length;++a){const s=n[a];if(!IK[s]&&!(i&&i[s])&&!(r&&r[s])){const c=FK(t,s);try{UK(e,s,c)}catch{}}}}return e}var qK=Symbol.for("react-redux-context"),YK=typeof globalThis<"u"?globalThis:{};function KK(){if(!A.createContext)return{};const e=YK[qK]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var II=KK(),WK=[null,null];function VK(e,t,n){xv(()=>e(...t),n)}function ZK(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function XK(e,t,n,r,i,a,s,c,d,f,m){if(!e)return()=>{};let p=!1,y=null;const b=()=>{if(p||!c.current)return;const T=t.getState();let S,j;try{S=r(T,i.current)}catch(D){j=D,y=D}j||(y=null),S===a.current?s.current||f():(a.current=S,d.current=S,s.current=!0,m())};return n.onStateChange=b,n.trySubscribe(),b(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function JK(e,t){return e===t}function QK(e,t,n,{pure:r,areStatesEqual:i=JK,areOwnPropsEqual:a=X0,areStatePropsEqual:s=X0,areMergedPropsEqual:c=X0,forwardRef:d=!1,context:f=II}={}){const m=f,p=TK(e),y=AK(t),b=jK(n),w=!!e;return S=>{const j=S.displayName||S.name||"Component",D=`Connect(${j})`,O={shouldHandleStateChanges:w,displayName:D,wrappedComponentName:j,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:y,initMergeProps:b,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:c};function M(I){const[z,q,V]=A.useMemo(()=>{const{reactReduxForwardedRef:se,...Ce}=I;return[I.context,se,Ce]},[I]),H=A.useMemo(()=>{let se=m;return z?.Consumer,se},[z,m]),U=A.useContext(H),Z=!!I.store&&!!I.store.getState&&!!I.store.dispatch,re=!!U&&!!U.store,ve=Z?I.store:U.store,J=re?U.getServerState:ve.getState,ae=A.useMemo(()=>SK(ve.dispatch,O),[ve]),[ne,ce]=A.useMemo(()=>{if(!w)return WK;const se=LI(ve,Z?void 0:U.subscription),Ce=se.notifyNestedSubs.bind(se);return[se,Ce]},[ve,Z,U]),te=A.useMemo(()=>Z?U:{...U,subscription:ne},[Z,U,ne]),Y=A.useRef(void 0),B=A.useRef(V),X=A.useRef(void 0),ee=A.useRef(!1),G=A.useRef(!1),W=A.useRef(void 0);xv(()=>(G.current=!0,()=>{G.current=!1}),[]);const le=A.useMemo(()=>()=>X.current&&V===B.current?X.current:ae(ve.getState(),V),[ve,V]),fe=A.useMemo(()=>Ce=>ne?XK(w,ve,ne,ae,B,Y,ee,G,X,ce,Ce):()=>{},[ne]);VK(ZK,[B,Y,ee,V,X,ce]);let Q;try{Q=A.useSyncExternalStore(fe,le,J?()=>ae(J(),V):le)}catch(se){throw W.current&&(se.message+=`
The error may be correlated with this previous error:
${W.current.stack}

`),se}xv(()=>{W.current=void 0,X.current=void 0,Y.current=Q});const de=A.useMemo(()=>A.createElement(S,{...Q,ref:q}),[q,S,Q]);return A.useMemo(()=>w?A.createElement(H.Provider,{value:te},de):de,[H,de,te])}const R=A.memo(M);if(R.WrappedComponent=S,R.displayName=M.displayName=D,d){const z=A.forwardRef(function(V,H){return A.createElement(R,{...V,reactReduxForwardedRef:H})});return z.displayName=D,z.WrappedComponent=S,qS(z,S)}return qS(R,S)}}var BI=QK;function eW(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const d=LI(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);xv(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=n||II;return A.createElement(c.Provider,{value:a},t)}var zI=eW,tW="Invariant failed";function nW(e,t){throw new Error(tW)}var fo=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,s=r-a,c=i-n,d={top:n,right:r,bottom:i,left:a,width:s,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return d},M2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},hN=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},rW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Xx={top:0,right:0,bottom:0,left:0},D2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Xx:r,a=t.border,s=a===void 0?Xx:a,c=t.padding,d=c===void 0?Xx:c,f=fo(M2(n,i)),m=fo(hN(n,s)),p=fo(hN(m,d));return{marginBox:f,borderBox:fo(n),paddingBox:m,contentBox:p,margin:i,border:s,padding:d}},Ta=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&nW(),i},iW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},wv=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,s=t.padding,c=rW(r,n);return D2({borderBox:c,border:i,margin:a,padding:s})},Sv=function(t,n){return n===void 0&&(n=iW()),wv(t,n)},UI=function(t,n){var r={top:Ta(n.marginTop),right:Ta(n.marginRight),bottom:Ta(n.marginBottom),left:Ta(n.marginLeft)},i={top:Ta(n.paddingTop),right:Ta(n.paddingRight),bottom:Ta(n.paddingBottom),left:Ta(n.paddingLeft)},a={top:Ta(n.borderTopWidth),right:Ta(n.borderRightWidth),bottom:Ta(n.borderBottomWidth),left:Ta(n.borderLeftWidth)};return D2({borderBox:t,margin:r,padding:i,border:a})},HI=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return UI(n,r)},om=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function FI(e,t){}FI.bind(null,"warn");FI.bind(null,"error");function zl(){}function aW(e,t){return{...e,...t}}function ja(e,t,n){const r=t.map(i=>{const a=aW(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const oW="Invariant failed";class Av extends Error{}Av.prototype.toString=function(){return this.message};function Fe(e,t){throw new Av(oW)}class sW extends cn.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=zl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Av&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ja(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Av){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const lW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Tv=e=>e+1,cW=e=>`
  You have lifted an item in position ${Tv(e.source.index)}
`,GI=(e,t)=>{const n=e.droppableId===t.droppableId,r=Tv(e.index),i=Tv(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},qI=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,uW=e=>{const t=e.destination;if(t)return GI(e.source,t);const n=e.combine;return n?qI(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},mN=e=>`
  The item has returned to its starting position
  of ${Tv(e.index)}
`,dW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${mN(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${GI(e.source,t)}
    `:n?`
      You have dropped the item.
      ${qI(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${mN(e.source)}
  `},J0={dragHandleUsageInstructions:lW,onDragStart:cW,onDragUpdate:uW,onDragEnd:dW};function fW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function YI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!fW(e[n],t[n]))return!1;return!0}function Nt(e,t){const n=A.useState(()=>({inputs:t,result:e()}))[0],r=A.useRef(!0),i=A.useRef(n),s=r.current||!!(t&&i.current.inputs&&YI(t,i.current.inputs))?i.current:{inputs:t,result:e()};return A.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function tt(e,t){return Nt(()=>e,t)}const Ar={x:0,y:0},$r=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),na=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ul=(e,t)=>e.x===t.x&&e.y===t.y,df=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),pu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},sm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),pN=(e,t)=>Math.min(...t.map(n=>sm(e,n))),KI=e=>t=>({x:e(t.x),y:e(t.y)});var hW=(e,t)=>{const n=fo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Hm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),gN=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],mW={top:0,right:0,bottom:0,left:0},pW=(e,t)=>t?Hm(e,t.scroll.diff.displacement):e,gW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,vW=(e,t)=>t&&t.shouldClipSubject?hW(t.pageMarginBox,e):fo(e);var Yd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=pW(e.marginBox,r),a=gW(i,n,t),s=vW(a,r);return{page:e,withPlaceholder:t,active:s}},P2=(e,t)=>{e.frame||Fe();const n=e.frame,r=na(t,n.scroll.initial),i=df(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Yd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:s}};function Sr(e,t=YI){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const WI=Sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),VI=Sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Ly=Sr(e=>Object.values(e)),yW=Sr(e=>Object.values(e));var ff=Sr((e,t)=>yW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function R2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function $y(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Iy=Sr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),bW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!R2(i))return null;function s(b){const w={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return{...i,at:w}}const c=i.displaced.all,d=c.length?c[0]:null;if(e)return d?s(d):null;const f=Iy(t,r);if(!d){if(!f.length)return null;const b=f[f.length-1];return s(b.descriptor.id)}const m=f.findIndex(b=>b.descriptor.id===d);m===-1&&Fe();const p=m-1;if(p<0)return null;const y=f[p];return s(y.descriptor.id)},hf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ZI={point:Ar,value:0},lm={invisible:{},visible:{},all:[]},_W={displaced:lm,displacedBy:ZI,at:null};var La=(e,t)=>n=>e<=n&&n<=t,XI=e=>{const t=La(e.top,e.bottom),n=La(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(a&&s)return!0;const d=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return d&&f?!0:d&&s||f&&a}},xW=e=>{const t=La(e.top,e.bottom),n=La(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const L2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},JI={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var wW=e=>t=>{const n=La(t.top,t.bottom),r=La(t.left,t.right);return i=>e===L2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const SW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Ar;return Hm(e,n)},EW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,AW=(e,t,n)=>n(t)(e),$2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?SW(e,t):e;return EW(a,t,i)&&AW(a,n,i)},TW=e=>$2({...e,isVisibleThroughFrameFn:XI}),QI=e=>$2({...e,isVisibleThroughFrameFn:xW}),kW=e=>$2({...e,isVisibleThroughFrameFn:wW(e.destination.axis)}),OW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function jW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return fo(M2(n,r))}function cm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,d){const f=jW(d,n),m=d.descriptor.id;if(c.all.push(m),!TW({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const y=OW(m,a,i),b={draggableId:m,shouldAnimate:y};return c.visible[m]=b,c},{all:[],visible:{},invisible:{}})}function CW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function vN({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=CW(e,{inHomeList:t});return{displaced:lm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function kv({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:s,forceShouldAnimate:c}){const d=hf(e,n);if(s==null)return vN({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const f=t.find(w=>w.descriptor.index===s);if(!f)return vN({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const m=Iy(e,t),p=t.indexOf(f),y=m.slice(p);return{displaced:cm({afterDragging:y,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Fl(e,t){return!!t.effected[e]}var NW=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return Fl(a,i)?e?c:c-1:e?c+1:c},MW=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,s=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=t?c:c+1;return a<s||a>d?null:a},DW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:s,viewport:c,afterCritical:d})=>{const f=s.at;if(f||Fe(),f.type==="REORDER"){const p=MW({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:kv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:p})}const m=NW({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:f.combine,afterCritical:d});return m==null?null:kv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:m})},PW=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Fl(n,t)?i?Ar:df(r.point):i?r.point:Ar},RW=({afterCritical:e,impact:t,draggables:n})=>{const r=$y(t);r||Fe();const i=r.draggableId,a=n[i].page.borderBox.center,s=PW({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return $r(a,s)};const eB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,LW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,I2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,yN=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.end]+eB(e,n),I2(e,t.marginBox,n)),bN=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.start]-LW(e,n),I2(e,t.marginBox,n)),$W=({axis:e,moveInto:t,isMoving:n})=>pu(e.line,t.contentBox[e.start]+eB(e,n),I2(e,t.contentBox,n));var IW=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=ff(r.descriptor.id,n),s=t.page,c=r.axis;if(!a.length)return $W({axis:c,moveInto:r.page,isMoving:s});const{displaced:d,displacedBy:f}=e,m=d.all[0];if(m){const y=n[m];if(Fl(m,i))return bN({axis:c,moveRelativeTo:y.page,isMoving:s});const b=wv(y.page,f.point);return bN({axis:c,moveRelativeTo:b,isMoving:s})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Fl(p.descriptor.id,i)){const y=wv(p.page,df(i.displacedBy.point));return yN({axis:c,moveRelativeTo:y,isMoving:s})}return yN({axis:c,moveRelativeTo:p.page,isMoving:s})},YS=(e,t)=>{const n=e.frame;return n?$r(t,n.scroll.diff.displacement):t};const BW=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,s=e.at;return!n||!s?a:s.type==="REORDER"?IW({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):RW({impact:e,draggables:r,afterCritical:i})};var By=e=>{const t=BW(e),n=e.droppable;return n?YS(n,t):t},tB=(e,t)=>{const n=na(t,e.scroll.initial),r=df(n);return{frame:fo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function _N(e,t){return e.map(n=>t[n])}function zW(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var UW=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=tB(t,$r(t.scroll.current,i)),s=n.frame?P2(n,$r(n.frame.scroll.current,i)):n,c=e.displaced,d=cm({afterDragging:_N(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=cm({afterDragging:_N(c.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},y=[c,d,f];return c.all.forEach(w=>{const T=zW(w,y);if(T){p[w]=T;return}m[w]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},HW=(e,t)=>$r(e.scroll.diff.displacement,t),B2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=HW(n,e),i=na(r,t.page.borderBox.center);return $r(t.client.borderBox.center,i)},nB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const s=na(n,e.page.borderBox.center),d={target:Hm(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return a?kW(d):QI(d)},FW=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:c,afterCritical:d})=>{if(!n.isEnabled)return null;const f=ff(n.descriptor.id,r),m=hf(t,n),p=bW({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||DW({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:d});if(!p)return null;const y=By({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:d});if(nB({draggable:t,destination:n,newPageBorderBoxCenter:y,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:B2({pageBorderBoxCenter:y,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const w=na(y,s),T=UW({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:w});return{clientSelection:c,impact:T,scrollJumpRequest:w}};const ai=e=>{const t=e.subject.active;return t||Fe(),t};var GW=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const s=n.axis,c=La(a[s.start],a[s.end]),d=Ly(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>XI(i.frame)(ai(m))).filter(m=>{const p=ai(m);return e?a[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<a[s.crossAxisStart]}).filter(m=>{const p=ai(m),y=La(p[s.start],p[s.end]);return c(p[s.start])||c(p[s.end])||y(a[s.start])||y(a[s.end])}).sort((m,p)=>{const y=ai(m)[s.crossAxisStart],b=ai(p)[s.crossAxisStart];return e?y-b:b-y}).filter((m,p,y)=>ai(m)[s.crossAxisStart]===ai(y[0])[s.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(m=>La(ai(m)[s.start],ai(m)[s.end])(t[s.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>ai(m)[s.start]-ai(p)[s.start])[0]:d.sort((m,p)=>{const y=pN(t,gN(ai(m))),b=pN(t,gN(ai(p)));return y!==b?y-b:ai(m)[s.start]-ai(p)[s.start]})[0]};const xN=(e,t)=>{const n=e.page.borderBox.center;return Fl(e.descriptor.id,t)?na(n,t.displacedBy.point):n},qW=(e,t)=>{const n=e.page.borderBox;return Fl(e.descriptor.id,t)?Hm(n,df(t.displacedBy.point)):n};var YW=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>QI({target:qW(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,c)=>{const d=sm(e,YS(n,xN(s,i))),f=sm(e,YS(n,xN(c,i)));return d<f?-1:f<d?1:s.descriptor.index-c.descriptor.index})[0]||null,Fm=Sr(function(t,n){const r=n[t.line];return{value:r,point:pu(t.line,r)}});const KW=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return pu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],d=ff(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return d<=0?null:pu(r.line,d)},rB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),iB=(e,t,n)=>{const r=e.frame;hf(t,e)&&Fe(),e.subject.withPlaceholder&&Fe();const i=Fm(e.axis,t.displaceBy).point,a=KW(e,i,n),s={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Yd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?$r(r.scroll.max,a):r.scroll.max,d=rB(r,c),f=Yd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:d});return{...e,subject:f,frame:d}},WW=e=>{const t=e.subject.withPlaceholder;t||Fe();const n=e.frame;if(!n){const s=Yd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||Fe();const i=rB(n,r),a=Yd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var VW=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:s,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:lm,displacedBy:ZI,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},y=By({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),b=hf(r,a)?a:iB(a,r,i);return nB({draggable:r,destination:b,newPageBorderBoxCenter:y,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const d=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||d?p:p+1})(),m=Fm(a.axis,r.displaceBy);return kv({draggable:r,insideDestination:n,destination:a,viewport:s,displacedBy:m,last:lm,index:f})},ZW=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:s,afterCritical:c})=>{const d=GW({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:s});if(!d)return null;const f=ff(d.descriptor.id,i),m=YW({pageBorderBoxCenter:t,viewport:s,destination:d,insideDestination:f,afterCritical:c}),p=VW({previousPageBorderBoxCenter:t,destination:d,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:s,afterCritical:c});if(!p)return null;const y=By({impact:p,draggable:n,droppable:d,draggables:i,afterCritical:c});return{clientSelection:B2({pageBorderBoxCenter:y,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},ia=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const XW=(e,t)=>{const n=ia(e);return n?t[n]:null};var JW=({state:e,type:t})=>{const n=XW(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,s=a.axis.direction,c=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:y}=e.dimensions;return c?FW({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):ZW({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:y,viewport:e.viewport,afterCritical:e.afterCritical})};function Xc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function aB(e){const t=La(e.top,e.bottom),n=La(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function QW(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function eV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const s=a.axis,c=pu(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:sm(r,c)}}).sort((a,s)=>s.distance-a.distance);return i[0]?i[0].id:null}function tV({pageBorderBox:e,draggable:t,droppables:n}){const r=Ly(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!QW(e,a))return!1;if(aB(a)(e.center))return!0;const s=i.axis,c=a.center[s.crossAxisLine],d=e[s.crossAxisStart],f=e[s.crossAxisEnd],m=La(a[s.crossAxisStart],a[s.crossAxisEnd]),p=m(d),y=m(f);return!p&&!y?!0:p?d<c:f>c});return r.length?r.length===1?r[0].descriptor.id:eV({pageBorderBox:e,draggable:t,candidates:r}):null}const oB=(e,t)=>fo(Hm(e,t));var nV=(e,t)=>{const n=e.frame;return n?oB(t,n.scroll.diff.value):t};function sB({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function rV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var iV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:s})=>{const c=n.axis,d=Fm(n.axis,t.displaceBy),f=d.value,m=e[c.start],p=e[c.end],b=Iy(t,r).find(T=>{const S=T.descriptor.id,j=T.page.borderBox.center[c.line],D=Fl(S,s),O=sB({displaced:i,id:S});return D?O?p<=j:m<j-f:O?p<=j+f:m<j})||null,w=rV({draggable:t,closest:b,inHomeList:hf(t,n)});return kv({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:d,index:w})};const aV=4;var oV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const s=r.axis,c=Fm(r.axis,e.displaceBy),d=c.value,f=t[s.start],m=t[s.end],y=Iy(e,i).find(w=>{const T=w.descriptor.id,S=w.page.borderBox,D=S[s.size]/aV,O=Fl(T,a),M=sB({displaced:n.displaced,id:T});return O?M?m>S[s.start]+D&&m<S[s.end]-D:f>S[s.start]-d+D&&f<S[s.end]-d-D:M?m>S[s.start]+d+D&&m<S[s.end]+d-D:f>S[s.start]+D&&f<S[s.end]-D});return y?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:r.descriptor.id}}}:null},lB=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:s})=>{const c=oB(t.page.borderBox,e),d=tV({pageBorderBox:c,draggable:t,droppables:r});if(!d)return _W;const f=r[d],m=ff(f.descriptor.id,n),p=nV(f,c);return oV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:s})||iV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:s})},z2=(e,t)=>({...e,[t.descriptor.id]:t});const sV=({previousImpact:e,impact:t,droppables:n})=>{const r=ia(e),i=ia(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const s=WW(a);return z2(n,s)};var lV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=sV({previousImpact:r,impact:i,droppables:n}),s=ia(i);if(!s)return a;const c=n[s];if(hf(e,c)||c.subject.withPlaceholder)return a;const d=iB(c,e,t);return z2(a,d)},Jh=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const s=r||e.viewport,c=n||e.dimensions,d=t||e.current.client.selection,f=na(d,e.initial.client.selection),m={offset:f,selection:d,borderBoxCenter:$r(e.initial.client.borderBoxCenter,f)},p={selection:$r(m.selection,s.scroll.current),borderBoxCenter:$r(m.borderBoxCenter,s.scroll.current),offset:$r(m.offset,s.scroll.diff.value)},y={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:s,current:y};const b=c.draggables[e.critical.draggable.id],w=i||lB({pageOffset:p.offset,draggable:b,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),T=lV({draggable:b,impact:w,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:y,dimensions:{draggables:c.draggables,droppables:T},impact:w,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function cV(e,t){return e.map(n=>t[n])}var cB=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,s=cV(a.all,n),c=cm({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},uB=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const s=By({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return B2({pageBorderBoxCenter:s,draggable:t,viewport:i})},dB=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Fe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:s,droppables:c}=a,d=s[e.critical.draggable.id],f=ia(r);f||Fe();const m=c[f],p=cB({impact:r,viewport:i,destination:m,draggables:s}),y=uB({impact:p,draggable:d,droppable:m,draggables:s,viewport:i,afterCritical:e.afterCritical});return Jh({impact:p,clientSelection:y,state:e,dimensions:a,viewport:i})},uV=e=>({index:e.index,droppableId:e.droppableId}),fB=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Fm(t.axis,e.displaceBy),a=ff(t.descriptor.id,n),s=a.indexOf(e);s===-1&&Fe();const c=a.slice(s+1),d=c.reduce((y,b)=>(y[b.descriptor.id]=!0,y),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:d};return{impact:{displaced:cm({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:uV(e.descriptor)}},afterCritical:f}},dV=(e,t)=>({draggables:e.draggables,droppables:z2(e.droppables,t)}),fV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=wv(e.client,t),i=Sv(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},hV=e=>{const t=e.frame;return t||Fe(),t},mV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,s=t[a],d=hV(s).scroll.diff.value,f=$r(r,d);return fV({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},pV=({state:e,published:t})=>{const n=t.modified.map(j=>{const D=e.dimensions.droppables[j.droppableId];return P2(D,j.scroll)}),r={...e.dimensions.droppables,...WI(n)},i=VI(mV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const s={droppables:r,draggables:a},c=ia(e.impact),d=c?s.droppables[c]:null,f=s.draggables[e.critical.draggable.id],m=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:y}=fB({draggable:f,home:m,draggables:a,viewport:e.viewport}),b=d&&d.isCombineEnabled?e.impact:p,w=lB({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:b,viewport:e.viewport,afterCritical:y}),T={...e,phase:"DRAGGING",impact:w,onLiftImpact:p,dimensions:s,afterCritical:y,forceShouldAnimate:!1};return e.phase==="COLLECTING"?T:{...T,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const KS=e=>e.movementMode==="SNAP",Jx=(e,t,n)=>{const r=dV(e.dimensions,t);return!KS(e)||n?Jh({state:e,dimensions:r}):dB({state:e,dimensions:r})};function Qx(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const wN={phase:"IDLE",completed:null,shouldFlush:!1};var gV=(e=wN,t)=>{if(t.type==="FLUSH")return{...wN,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Fe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:s}=t.payload,c=a.draggables[n.draggable.id],d=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:Ar},m={client:f,page:{selection:$r(f.selection,i.scroll.initial),borderBoxCenter:$r(f.selection,i.scroll.initial),offset:$r(f.selection,i.scroll.diff.value)}},p=Ly(a.droppables).every(T=>!T.isFixedOnPage),{impact:y,afterCritical:b}=fB({draggable:c,home:d,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:y,afterCritical:b,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Fe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Fe(),pV({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Xc(e)||Fe();const{client:n}=t.payload;return Ul(n,e.current.client.selection)?e:Jh({state:e,clientSelection:n,impact:KS(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Qx(e);Xc(e)||Fe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=P2(i,r);return Jx(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xc(e)||Fe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Fe(),i.isEnabled===r&&Fe();const a={...i,isEnabled:r};return Jx(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xc(e)||Fe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Fe(),i.isCombineEnabled===r&&Fe();const a={...i,isCombineEnabled:r};return Jx(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Xc(e)||Fe(),e.isWindowScrollAllowed||Fe();const n=t.payload.newScroll;if(Ul(e.viewport.scroll.current,n))return Qx(e);const r=tB(e.viewport,n);return KS(e)?dB({state:e,viewport:r}):Jh({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Xc(e))return e;const n=t.payload.maxScroll;if(Ul(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Fe();const n=JW({state:e,type:t.type});return n?Jh({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Fe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Fe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ft(e,t){return e instanceof Object&&"type"in e&&e.type===t}const vV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),yV=e=>({type:"LIFT",payload:e}),bV=e=>({type:"INITIAL_PUBLISH",payload:e}),_V=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),xV=()=>({type:"COLLECTION_STARTING",payload:null}),wV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),SV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),EV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),hB=e=>({type:"MOVE",payload:e}),AV=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),TV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),kV=()=>({type:"MOVE_UP",payload:null}),OV=()=>({type:"MOVE_DOWN",payload:null}),jV=()=>({type:"MOVE_RIGHT",payload:null}),CV=()=>({type:"MOVE_LEFT",payload:null}),U2=()=>({type:"FLUSH",payload:null}),NV=e=>({type:"DROP_ANIMATE",payload:e}),H2=e=>({type:"DROP_COMPLETE",payload:e}),mB=e=>({type:"DROP",payload:e}),MV=e=>({type:"DROP_PENDING",payload:e}),pB=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var DV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Ft(i,"LIFT")){r(i);return}const{id:a,clientSelection:s,movementMode:c}=i.payload,d=t();d.phase==="DROP_ANIMATING"&&n(H2({completed:d.completed})),t().phase!=="IDLE"&&Fe(),n(U2()),n(vV({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:y,viewport:b}=e.startPublishing(m);n(bV({critical:p,dimensions:y,clientSelection:s,movementMode:c,viewport:b}))},PV=e=>()=>t=>n=>{Ft(n,"INITIAL_PUBLISH")&&e.dragging(),Ft(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ft(n,"FLUSH")||Ft(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const F2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},um={opacity:{drop:0,combining:.7},scale:{drop:.75}},gB={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hc=`${gB.outOfTheWay}s ${F2.outOfTheWay}`,Qh={fluid:`opacity ${Hc}`,snap:`transform ${Hc}, opacity ${Hc}`,drop:e=>{const t=`${e}s ${F2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Hc}`,placeholder:`height ${Hc}, width ${Hc}, margin ${Hc}`},SN=e=>Ul(e,Ar)?void 0:`translate(${e.x}px, ${e.y}px)`,WS={moveTo:SN,drop:(e,t)=>{const n=SN(e);if(n)return t?`${n} scale(${um.scale.drop})`:n}},{minDropTime:VS,maxDropTime:vB}=gB,RV=vB-VS,EN=1500,LV=.6;var $V=({current:e,destination:t,reason:n})=>{const r=sm(e,t);if(r<=0)return VS;if(r>=EN)return vB;const i=r/EN,a=VS+RV*i,s=n==="CANCEL"?a*LV:a;return Number(s.toFixed(2))},IV=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:s}=n,c=ia(e),d=c?s[c]:null,f=s[t.descriptor.droppableId],m=uB({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:d||f,viewport:r});return na(m,t.client.borderBox.center)},BV=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:cB({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:lm},didDropInsideDroppable:!0};const zV=({getState:e,dispatch:t})=>n=>r=>{if(!Ft(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(MV({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Fe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Fe();const c=i.critical,d=i.dimensions,f=d.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=BV({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),y=p?R2(m):null,b=p?$y(m):null,w={index:c.draggable.index,droppableId:c.droppable.id},T={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:a,mode:i.movementMode,destination:y,combine:b},S=IV({impact:m,draggable:f,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:T,impact:m};if(!(!Ul(i.current.client.offset,S)||!!T.combine)){t(H2({completed:j}));return}const O=$V({current:i.current.client.offset,destination:S,reason:a});t(NV({newHomeClientOffset:S,dropDuration:O,completed:j}))};var yB=()=>({x:window.pageXOffset,y:window.pageYOffset});function UV(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function HV({onWindowScroll:e}){function t(){e(yB())}const n=om(t),r=UV(n);let i=zl;function a(){return i!==zl}function s(){a()&&Fe(),i=ja(window,[r])}function c(){a()||Fe(),n.cancel(),i(),i=zl}return{start:s,stop:c,isActive:a}}const FV=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH"),GV=e=>{const t=HV({onWindowScroll:n=>{e.dispatch(AV({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ft(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&FV(r)&&t.stop(),n(r)}};var qV=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},YV=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Fe();const[s]=e.splice(a,1);s.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),s={timerId:a,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const KV=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,WV=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,VV=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Th=(e,t)=>{t()},qg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ew(e,t,n,r){if(!e){n(r(t));return}const i=qV(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var ZV=(e,t)=>{const n=YV();let r=null;const i=(p,y)=>{r&&Fe(),Th("onBeforeCapture",()=>{const b=e().onBeforeCapture;b&&b({draggableId:p,mode:y})})},a=(p,y)=>{r&&Fe(),Th("onBeforeDragStart",()=>{const b=e().onBeforeDragStart;b&&b(qg(p,y))})},s=(p,y)=>{r&&Fe();const b=qg(p,y);r={mode:y,lastCritical:p,lastLocation:b.source,lastCombine:null},n.add(()=>{Th("onDragStart",()=>ew(e().onDragStart,b,t,J0.onDragStart))})},c=(p,y)=>{const b=R2(y),w=$y(y);r||Fe();const T=!VV(p,r.lastCritical);T&&(r.lastCritical=p);const S=!KV(r.lastLocation,b);S&&(r.lastLocation=b);const j=!WV(r.lastCombine,w);if(j&&(r.lastCombine=w),!T&&!S&&!j)return;const D={...qg(p,r.mode),combine:w,destination:b};n.add(()=>{Th("onDragUpdate",()=>ew(e().onDragUpdate,D,t,J0.onDragUpdate))})},d=()=>{r||Fe(),n.flush()},f=p=>{r||Fe(),r=null,Th("onDragEnd",()=>ew(e().onDragEnd,p,t,J0.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:s,update:c,flush:d,drop:f,abort:()=>{if(!r)return;const p={...qg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},XV=(e,t)=>{const n=ZV(e,t);return r=>i=>a=>{if(Ft(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Ft(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Ft(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Ft(a,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const JV=e=>t=>n=>{if(!Ft(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Fe(),e.dispatch(H2({completed:r.completed}))},QV=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Ft(a,"FLUSH")||Ft(a,"DROP_COMPLETE")||Ft(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Ft(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(pB())}};n=requestAnimationFrame(()=>{n=null,t=ja(window,[s])})}};var eZ=e=>()=>t=>n=>{(Ft(n,"DROP_COMPLETE")||Ft(n,"FLUSH")||Ft(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},tZ=e=>{let t=!1;return()=>n=>r=>{if(Ft(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ft(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ft(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const nZ=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH");var rZ=e=>t=>n=>r=>{if(nZ(r)){e.stop(),n(r);return}if(Ft(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Fe(),e.start(i);return}n(r),e.scroll(t.getState())};const iZ=e=>t=>n=>{if(t(n),!Ft(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(mB({reason:r.reason})))},aZ=am;var oZ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>j2(gV,aZ(MI(PV(n),eZ(e),DV(e),zV,JV,QV,iZ,rZ(a),GV,tZ(t),XV(r,i))));const tw=()=>({additions:{},removals:{},modified:{}});function sZ({registry:e,callbacks:t}){let n=tw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:d,removals:f,modified:m}=n,p=Object.keys(d).map(w=>e.draggable.getById(w).getDimension(Ar)).sort((w,T)=>w.descriptor.index-T.descriptor.index),y=Object.keys(m).map(w=>{const S=e.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:S}}),b={additions:p,removals:Object.keys(f),modified:y};n=tw(),t.publish(b)}))};return{add:d=>{const f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:d=>{const f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=tw())}}}var bB=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=na({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},_B=()=>{const e=document.documentElement;return e||Fe(),e},xB=()=>{const e=_B();return bB({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},lZ=()=>{const e=yB(),t=xB(),n=e.y,r=e.x,i=_B(),a=i.clientWidth,s=i.clientHeight,c=r+a,d=n+s;return{frame:fo({top:n,left:r,right:c,bottom:d}),scroll:{initial:e,current:e,max:t,diff:{value:Ar,displacement:Ar}}}},cZ=({critical:e,scrollOptions:t,registry:n})=>{const r=lZ(),i=r.scroll.current,a=e.droppable,s=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:VI(c),droppables:WI(s)},critical:e,viewport:r}};function AN(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var uZ=(e,t)=>{let n=null;const r=sZ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(y,b)=>{e.droppable.exists(y)||Fe(),n&&t.updateDroppableIsEnabled({id:y,isEnabled:b})},a=(y,b)=>{n&&(e.droppable.exists(y)||Fe(),t.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:b}))},s=(y,b)=>{n&&(e.droppable.exists(y)||Fe(),t.updateDroppableScroll({id:y,newScroll:b}))},c=(y,b)=>{n&&e.droppable.getById(y).callbacks.scroll(b)},d=()=>{if(!n)return;r.stop();const y=n.critical.droppable;e.droppable.getAllByType(y.type).forEach(b=>b.callbacks.dragStopped()),n.unsubscribe(),n=null},f=y=>{n||Fe();const b=n.critical.draggable;y.type==="ADDITION"&&AN(e,b,y.value)&&r.add(y.value),y.type==="REMOVAL"&&AN(e,b,y.value)&&r.remove(y.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:s,startPublishing:y=>{n&&Fe();const b=e.draggable.getById(y.draggableId),w=e.droppable.getById(b.descriptor.droppableId),T={draggable:b.descriptor,droppable:w.descriptor},S=e.subscribe(f);return n={critical:T,unsubscribe:S},cZ({critical:T,registry:e,scrollOptions:y.scrollOptions})},stopPublishing:d}},wB=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",dZ=e=>{window.scrollBy(e.x,e.y)};const fZ=Sr(e=>Ly(e).filter(t=>!(!t.isEnabled||!t.frame))),hZ=(e,t)=>fZ(t).find(r=>(r.frame||Fe(),aB(r.frame.pageMarginBox)(e)))||null;var mZ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return hZ(e,n)};const dm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var pZ=(e,t,n=()=>dm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},SB=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},G2=1,gZ=(e,t,n=()=>dm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return G2;const a=1-SB({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(a);return Math.ceil(s)},vZ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,s=t,c=a,f=Date.now()-s;if(f>=a)return e;if(f<i)return G2;const m=SB({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},TN=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=gZ(e,t,i);return a===0?0:r?Math.max(vZ(a,n,i),G2):a},kN=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=pZ(e,r,a);return t[r.end]<t[r.start]?TN({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*TN({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},yZ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const bZ=KI(e=>e===0?0:e);var EB=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=kN({container:t,distanceToEdges:s,dragStartTime:e,axis:L2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=kN({container:t,distanceToEdges:s,dragStartTime:e,axis:JI,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=bZ({x:d,y:c});if(Ul(f,Ar))return null;const m=yZ({container:t,subject:n,proposedScroll:f});return m?Ul(m,Ar)?null:m:null};const _Z=KI(e=>e===0?0:e>0?1:-1),q2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=$r(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Ul(a,Ar)?null:a}})(),AB=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=_Z(n),a=q2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Y2=(e,t)=>AB({current:e.scroll.current,max:e.scroll.max,change:t}),xZ=(e,t)=>{if(!Y2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return q2({current:r,max:n,change:t})},K2=(e,t)=>{const n=e.frame;return n?AB({current:n.scroll.current,max:n.scroll.max,change:t}):!1},wZ=(e,t)=>{const n=e.frame;return!n||!K2(e,t)?null:q2({current:n.scroll.current,max:n.scroll.max,change:t})};var SZ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=EB({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&Y2(e,s)?s:null},EZ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=e.frame;if(!s)return null;const c=EB({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&K2(e,c)?c:null},ON=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const s=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,y=SZ({dragStartTime:t,viewport:p,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(y){r(y);return}}const f=mZ({center:s,destination:ia(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=EZ({dragStartTime:t,droppable:f,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},AZ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>dm})=>{const r=om(e),i=om(t);let a=null;const s=f=>{a||Fe();const{shouldUseTimeDampening:m,dragStartTime:p}=a;ON({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Fe();const m=Date.now();let p=!1;const y=()=>{p=!0};ON({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&s(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:s}},TZ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,d)=>{const f=$r(c.current.client.selection,d);e({client:f})},i=(c,d)=>{if(!K2(c,d))return d;const f=wZ(c,d);if(!f)return t(c.descriptor.id,d),null;const m=na(d,f);return t(c.descriptor.id,m),na(d,m)},a=(c,d,f)=>{if(!c||!Y2(d,f))return f;const m=xZ(d,f);if(!m)return n(f),null;const p=na(f,m);return n(p),na(f,p)};return c=>{const d=c.scrollJumpRequest;if(!d)return;const f=ia(c.impact);f||Fe();const m=i(c.dimensions.droppables[f],d);if(!m)return;const p=c.viewport,y=a(c.isWindowScrollAllowed,p,m);y&&r(c,y)}},kZ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=AZ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=TZ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:d=>{if(!(r().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&a(d)}},start:i.start,stop:i.stop}};const Kd="data-rfd",Wd=(()=>{const e=`${Kd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),ZS=(()=>{const e=`${Kd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),OZ=(()=>{const e=`${Kd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),jN={contextId:`${Kd}-scroll-container-context-id`},jZ=e=>t=>`[${t}="${e}"]`,kh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),CZ="pointer-events: none;";var NZ=e=>{const t=jZ(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Wd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:CZ,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${Qh.outOfTheWay};
    `;return{selector:t(ZS.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(OZ.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:kh(s,"always"),resting:kh(s,"resting"),dragging:kh(s,"dragging"),dropAnimating:kh(s,"dropAnimating"),userCancel:kh(s,"userCancel")}};const aa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,nw=()=>{const e=document.querySelector("head");return e||Fe(),e},CN=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function MZ(e,t){const n=Nt(()=>NZ(e),[e]),r=A.useRef(null),i=A.useRef(null),a=tt(Sr(p=>{const y=i.current;y||Fe(),y.textContent=p}),[]),s=tt(p=>{const y=r.current;y||Fe(),y.textContent=p},[]);aa(()=>{!r.current&&!i.current||Fe();const p=CN(t),y=CN(t);return r.current=p,i.current=y,p.setAttribute(`${Kd}-always`,e),y.setAttribute(`${Kd}-dynamic`,e),nw().appendChild(p),nw().appendChild(y),s(n.always),a(n.resting),()=>{const b=w=>{const T=w.current;T||Fe(),nw().removeChild(T),w.current=null};b(r),b(i)}},[t,s,a,n.always,n.resting,e]);const c=tt(()=>a(n.dragging),[a,n.dragging]),d=tt(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=tt(()=>{i.current&&a(n.resting)},[a,n.resting]);return Nt(()=>({dragging:c,dropping:d,resting:f}),[c,d,f])}function TB(e,t){return Array.from(e.querySelectorAll(t))}var kB=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function zy(e){return e instanceof kB(e).HTMLElement}function DZ(e,t){const n=`[${Wd.contextId}="${e}"]`,r=TB(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Wd.draggableId)===t);return!i||!zy(i)?null:i}function PZ(e){const t=A.useRef({}),n=A.useRef(null),r=A.useRef(null),i=A.useRef(!1),a=tt(function(y,b){const w={id:y,focus:b};return t.current[y]=w,function(){const S=t.current;S[y]!==w&&delete S[y]}},[]),s=tt(function(y){const b=DZ(e,y);b&&b!==document.activeElement&&b.focus()},[e]),c=tt(function(y,b){n.current===y&&(n.current=b)},[]),d=tt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const y=n.current;y&&s(y)}))},[s]),f=tt(function(y){n.current=null;const b=document.activeElement;b&&b.getAttribute(Wd.draggableId)===y&&(n.current=y)},[]);return aa(()=>(i.current=!0,function(){i.current=!1;const y=r.current;y&&cancelAnimationFrame(y)}),[]),Nt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[a,f,d,c])}function RZ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const b=t.indexOf(p);b!==-1&&t.splice(b,1)}}function r(p){t.length&&t.forEach(y=>y(p))}function i(p){return e.draggables[p]||null}function a(p){const y=i(p);return y||Fe(),y}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,y)=>{const b=e.draggables[y.descriptor.id];b&&b.uniqueId===p.uniqueId&&(delete e.draggables[y.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const y=p.descriptor.id,b=i(y);b&&p.uniqueId===b.uniqueId&&(delete e.draggables[y],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(y=>y.descriptor.type===p)};function c(p){return e.droppables[p]||null}function d(p){const y=c(p);return y||Fe(),y}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const y=c(p.descriptor.id);y&&p.uniqueId===y.uniqueId&&delete e.droppables[p.descriptor.id]},getById:d,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(y=>y.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:f,subscribe:n,clean:m}}function LZ(){const e=Nt(RZ,[]);return A.useEffect(()=>function(){e.clean()},[e]),e}var W2=cn.createContext(null),Ov=()=>{const e=document.body;return e||Fe(),e};const $Z={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},IZ=e=>`rfd-announcement-${e}`;function BZ(e){const t=Nt(()=>IZ(e),[e]),n=A.useRef(null);return A.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ev(a.style,$Z),Ov().appendChild(a),function(){setTimeout(function(){const d=Ov();d.contains(a)&&d.removeChild(a),a===n.current&&(n.current=null)})}},[t]),tt(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const zZ={separator:"::"};function V2(e,t=zZ){const n=cn.useId();return Nt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function UZ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function HZ({contextId:e,text:t}){const n=V2("hidden-text",{separator:"-"}),r=Nt(()=>UZ({contextId:e,uniqueId:n}),[n,e]);return A.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Ov().appendChild(a),function(){const c=Ov();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var Uy=cn.createContext(null);function OB(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),t}function FZ(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Fe();const c={abandon:s};return e=c,c}function i(){e||Fe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function fm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const GZ=9,qZ=13,Z2=27,jB=32,YZ=33,KZ=34,WZ=35,VZ=36,ZZ=37,XZ=38,JZ=39,QZ=40,eX={[qZ]:!0,[GZ]:!0};var CB=e=>{eX[e.keyCode]&&e.preventDefault()};const Hy=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),NB=0,NN=5;function tX(e,t){return Math.abs(t.x-e.x)>=NN||Math.abs(t.y-e.y)>=NN}const MN={type:"IDLE"};function nX({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:s,clientY:c}=i;if(a!==NB)return;const d={x:s,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Fe();const m=f.point;if(!tX(m,d))return;i.preventDefault();const p=f.actions.fluidLift(d);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===Z2){i.preventDefault(),e();return}CB(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Fe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Hy,fn:e}]}function rX(e){const t=A.useRef(MN),n=A.useRef(zl),r=Nt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==NB||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const y=e.findClosestDraggableId(p);if(!y)return;const b=e.tryGetLock(y,s,{sourceEvent:p});if(!b)return;p.preventDefault();const w={x:p.clientX,y:p.clientY};n.current(),f(b,w)}}),[e]),i=Nt(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const y=e.findOptionsForDraggable(p);y&&(y.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=tt(function(){const p={passive:!1,capture:!0};n.current=ja(window,[i,r],p)},[i,r]),s=tt(()=>{t.current.type!=="IDLE"&&(t.current=MN,n.current(),a())},[a]),c=tt(()=>{const m=t.current;s(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[s]),d=tt(function(){const p={capture:!0,passive:!1},y=nX({cancel:c,completed:s,getPhase:()=>t.current,setPhase:b=>{t.current=b}});n.current=ja(window,y,p)},[c,s]),f=tt(function(p,y){t.current.type!=="IDLE"&&Fe(),t.current={type:"PENDING",point:y,actions:p},d()},[d]);aa(function(){return a(),function(){n.current()}},[a])}function iX(){}const aX={[KZ]:!0,[YZ]:!0,[VZ]:!0,[WZ]:!0};function oX(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Z2){i.preventDefault(),n();return}if(i.keyCode===jB){i.preventDefault(),r();return}if(i.keyCode===QZ){i.preventDefault(),e.moveDown();return}if(i.keyCode===XZ){i.preventDefault(),e.moveUp();return}if(i.keyCode===JZ){i.preventDefault(),e.moveRight();return}if(i.keyCode===ZZ){i.preventDefault(),e.moveLeft();return}if(aX[i.keyCode]){i.preventDefault();return}CB(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Hy,fn:n}]}function sX(e){const t=A.useRef(iX),n=Nt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==jB)return;const s=e.findClosestDraggableId(a);if(!s)return;const c=e.tryGetLock(s,m,{sourceEvent:a});if(!c)return;a.preventDefault();let d=!0;const f=c.snapLift();t.current();function m(){d||Fe(),d=!1,t.current(),r()}t.current=ja(window,oX(f,m),{capture:!0,passive:!1})}}),[e]),r=tt(function(){const a={passive:!1,capture:!0};t.current=ja(window,[n],a)},[n]);aa(function(){return r(),function(){t.current()}},[r])}const rw={type:"IDLE"},lX=120,cX=.15;function uX({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Z2&&n.preventDefault(),e()}},{eventName:Hy,fn:e}]}function dX({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:s}=r.touches[0],c={x:a,y:s};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Fe();const a=r.touches[0];if(!a||!(a.force>=cX))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Hy,fn:e}]}function fX(e){const t=A.useRef(rw),n=A.useRef(zl),r=tt(function(){return t.current},[]),i=tt(function(b){t.current=b},[]),a=Nt(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const w=e.findClosestDraggableId(b);if(!w)return;const T=e.tryGetLock(w,c,{sourceEvent:b});if(!T)return;const S=b.touches[0],{clientX:j,clientY:D}=S,O={x:j,y:D};n.current(),p(T,O)}}),[e]),s=tt(function(){const b={capture:!0,passive:!1};n.current=ja(window,[a],b)},[a]),c=tt(()=>{const y=t.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(rw),n.current(),s())},[s,i]),d=tt(()=>{const y=t.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),f=tt(function(){const b={capture:!0,passive:!1},w={cancel:d,completed:c,getPhase:r},T=ja(window,dX(w),b),S=ja(window,uX(w),b);n.current=function(){T(),S()}},[d,r,c]),m=tt(function(){const b=r();b.type!=="PENDING"&&Fe();const w=b.actions.fluidLift(b.point);i({type:"DRAGGING",actions:w,hasMoved:!1})},[r,i]),p=tt(function(b,w){r().type!=="IDLE"&&Fe();const T=setTimeout(m,lX);i({type:"PENDING",point:w,actions:b,longPressTimerId:T}),f()},[f,r,i,m]);aa(function(){return s(),function(){n.current();const w=r();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),i(rw))}},[r,s,i]),aa(function(){return ja(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const hX=["input","button","textarea","select","option","optgroup","video","audio"];function MB(e,t){if(t==null)return!1;if(hX.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:MB(e,t.parentElement)}function mX(e,t){const n=t.target;return zy(n)?MB(e,n):!1}var pX=e=>fo(e.getBoundingClientRect()).center;function gX(e){return e instanceof kB(e).Element}const vX=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function DB(e,t){return e==null?null:e[vX](t)?e:DB(e.parentElement,t)}function yX(e,t){return e.closest?e.closest(t):DB(e,t)}function bX(e){return`[${Wd.contextId}="${e}"]`}function _X(e,t){const n=t.target;if(!gX(n))return null;const r=bX(e),i=yX(n,r);return!i||!zy(i)?null:i}function xX(e,t){const n=_X(e,t);return n?n.getAttribute(Wd.draggableId):null}function wX(e,t){const n=`[${ZS.contextId}="${e}"]`,i=TB(document,n).find(a=>a.getAttribute(ZS.id)===t);return!i||!zy(i)?null:i}function SX(e){e.preventDefault()}function Yg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function PB({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!wB(t.getState(),r))}function EX({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:s}){if(!PB({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const d=r.draggable.getById(i),f=wX(t,d.descriptor.id);if(!f||s&&!d.options.canDragInteractiveElements&&mX(f,s))return null;const m=e.claim(a||zl);let p="PRE_DRAG";function y(){return d.options.shouldRespectForcePress}function b(){return e.isActive(m)}function w(C,R){Yg({expected:C,phase:p,isLockActive:b,shouldWarn:!0})&&n.dispatch(R())}const T=w.bind(null,"DRAGGING");function S(C){function R(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(R(),Fe()),n.dispatch(yV(C.liftActionArgs)),p="DRAGGING";function I(z,q={shouldBlockNextClick:!1}){if(C.cleanup(),q.shouldBlockNextClick){const V=ja(window,[{eventName:"click",fn:SX,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(V)}R(),n.dispatch(mB({reason:z}))}return{isActive:()=>Yg({expected:"DRAGGING",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,drop:z=>I("DROP",z),cancel:z=>I("CANCEL",z),...C.actions}}function j(C){const R=om(z=>{T(()=>hB({client:z}))});return{...S({liftActionArgs:{id:i,clientSelection:C,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function D(){const C={moveUp:()=>T(kV),moveRight:()=>T(jV),moveDown:()=>T(OV),moveLeft:()=>T(CV)};return S({liftActionArgs:{id:i,clientSelection:pX(f),movementMode:"SNAP"},cleanup:zl,actions:C})}function O(){Yg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!0})&&e.release()}return{isActive:()=>Yg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:j,snapLift:D,abort:O}}const AX=[rX,sX,fX];function TX({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?AX:[],...r||[]],s=A.useState(()=>FZ())[0],c=tt(function(S,j){fm(S)&&!fm(j)&&s.tryAbandon()},[s]);aa(function(){let S=t.getState();return t.subscribe(()=>{const D=t.getState();c(S,D),S=D})},[s,t,c]),aa(()=>s.tryAbandon,[s.tryAbandon]);const d=tt(T=>PB({lockAPI:s,registry:n,store:t,draggableId:T}),[s,n,t]),f=tt((T,S,j)=>EX({lockAPI:s,registry:n,contextId:e,store:t,draggableId:T,forceSensorStop:S||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,s,n,t]),m=tt(T=>xX(e,T),[e]),p=tt(T=>{const S=n.draggable.findById(T);return S?S.options:null},[n.draggable]),y=tt(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(U2()))},[s,t]),b=tt(()=>s.isClaimed(),[s]),w=Nt(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:y,isLockClaimed:b}),[d,f,m,p,y,b]);for(let T=0;T<a.length;T++)a[T](w)}const kX=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};lf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),OX=e=>({...dm,...e.autoScrollerOptions,durationDampening:{...dm.durationDampening,...e.autoScrollerOptions}});function Oh(e){return e.current||Fe(),e.current}function jX(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,s=A.useRef(null),c=OB(e),d=tt(()=>kX(c.current),[c]),f=tt(()=>OX(c.current),[c]),m=BZ(t),p=HZ({contextId:t,text:a}),y=MZ(t,i),b=tt(V=>{Oh(s).dispatch(V)},[]),w=Nt(()=>iN({publishWhileDragging:_V,updateDroppableScroll:wV,updateDroppableIsEnabled:SV,updateDroppableIsCombineEnabled:EV,collectionStarting:xV},b),[b]),T=LZ(),S=Nt(()=>uZ(T,w),[T,w]),j=Nt(()=>kZ({scrollWindow:dZ,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:f,...iN({move:hB},b)}),[S.scrollDroppable,b,f]),D=PZ(t),O=Nt(()=>oZ({announce:m,autoScroller:j,dimensionMarshal:S,focusMarshal:D,getResponders:d,styleMarshal:y}),[m,j,S,D,d,y]);s.current=O;const M=tt(()=>{const V=Oh(s);V.getState().phase!=="IDLE"&&V.dispatch(U2())},[]),C=tt(()=>{const V=Oh(s).getState();return V.phase==="DROP_ANIMATING"?!0:V.phase==="IDLE"?!1:V.isDragging},[]),R=Nt(()=>({isDragging:C,tryAbort:M}),[C,M]);n(R);const I=tt(V=>wB(Oh(s).getState(),V),[]),z=tt(()=>Xc(Oh(s).getState()),[]),q=Nt(()=>({marshal:S,focus:D,contextId:t,canLift:I,isMovementAllowed:z,dragHandleUsageInstructionsId:p,registry:T}),[t,S,p,D,I,z,T]);return TX({contextId:t,store:O,registry:T,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),A.useEffect(()=>M,[M]),cn.createElement(Uy.Provider,{value:q},cn.createElement(zI,{context:W2,store:O},e.children))}function CX(){return cn.useId()}function Gm(e){const t=CX(),n=e.dragHandleUsageInstructions||J0.dragHandleUsageInstructions;return cn.createElement(sW,null,r=>cn.createElement(jX,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const DN={dragging:5e3,dropAnimating:4500},NX=(e,t)=>t?Qh.drop(t.duration):e?Qh.snap:Qh.fluid,MX=(e,t)=>{if(e)return t?um.opacity.drop:um.opacity.combining},DX=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function PX(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,s=!!i,c=DX(e),d=!!a,f=d?WS.drop(r,s):WS.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:NX(c,a),transform:f,opacity:MX(s,d),zIndex:d?DN.dropAnimating:DN.dragging,pointerEvents:"none"}}function RX(e){return{transform:WS.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function LX(e){return e.type==="DRAGGING"?PX(e):RX(e)}function $X(e,t,n=Ar){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=UI(i,r),s=Sv(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},d={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:d,client:a,page:s}}function IX(e){const t=V2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}=e,d=Nt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}),[a,c,s]),f=tt(b=>{const w=i();return w||Fe(),$X(n,w,b)},[n,i]),m=Nt(()=>({uniqueId:t,descriptor:n,options:d,getDimension:f}),[n,f,d,t]),p=A.useRef(m),y=A.useRef(!0);aa(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),aa(()=>{if(y.current){y.current=!1;return}const b=p.current;p.current=m,r.draggable.update(m,b)},[m,r.draggable])}var X2=cn.createContext(null);function jv(e){const t=A.useContext(e);return t||Fe(),t}function BX(e){e.preventDefault()}const zX=e=>{const t=A.useRef(null),n=tt((R=null)=>{t.current=R},[]),r=tt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=jv(Uy),{type:c,droppableId:d}=jv(X2),f=Nt(()=>({id:e.draggableId,index:e.index,type:c,droppableId:d}),[e.draggableId,e.index,c,d]),{children:m,draggableId:p,isEnabled:y,shouldRespectForcePress:b,canDragInteractiveElements:w,isClone:T,mapped:S,dropAnimationFinished:j}=e;if(!T){const R=Nt(()=>({descriptor:f,registry:s,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:b,isEnabled:y}),[f,s,r,w,b,y]);IX(R)}const D=Nt(()=>y?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:BX}:null,[i,a,p,y]),O=tt(R=>{S.type==="DRAGGING"&&S.dropping&&R.propertyName==="transform"&&lf.flushSync(j)},[j,S]),M=Nt(()=>{const R=LX(S),I=S.type==="DRAGGING"&&S.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:R,onTransitionEnd:I},dragHandleProps:D}},[i,D,p,S,O,n]),C=Nt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return cn.createElement(cn.Fragment,null,m(M,S.snapshot,C))};var RB=(e,t)=>e===t,LB=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const UX=e=>e.combine?e.combine.draggableId:null,HX=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function FX(){const e=Sr((i,a)=>({x:i,y:a})),t=Sr((i,a,s=null,c=null,d=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!d,dropAnimation:d,mode:i,draggingOver:s,combineWith:c,combineTargetFor:null})),n=Sr((i,a,s,c,d=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:a,offset:i,dimension:s,forceShouldAnimate:m,snapshot:t(a,c,d,f,null)}}));return(i,a)=>{if(fm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const s=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],d=ia(i.impact),f=HX(i.impact),m=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,c,a.isClone,d,f,m)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==a.draggableId)return null;const c=a.isClone,d=i.dimensions.draggables[a.draggableId],f=s.result,m=f.mode,p=LB(f),y=UX(f),w={duration:i.dropDuration,curve:F2.drop,moveTo:i.newHomeClientOffset,opacity:y?um.opacity.drop:null,scale:y?um.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:d,dropping:w,draggingOver:p,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,y,w)}}}return null}}function $B(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const GX={mapped:{type:"SECONDARY",offset:Ar,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:$B(null)}};function qX(){const e=Sr((s,c)=>({x:s,y:c})),t=Sr($B),n=Sr((s,c=null,d)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}})),r=s=>s?n(Ar,s,!0):null,i=(s,c,d,f)=>{const m=d.displaced.visible[s],p=!!(f.inVirtualList&&f.effected[s]),y=$y(d),b=y&&y.draggableId===s?c:null;if(!m){if(!p)return r(b);if(d.displaced.invisible[s])return null;const S=df(f.displacedBy.point),j=e(S.x,S.y);return n(j,b,!0)}if(p)return r(b);const w=d.displacedBy.point,T=e(w.x,w.y);return n(T,b,m.shouldAnimate)};return(s,c)=>{if(fm(s))return s.critical.draggable.id===c.draggableId?null:i(c.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const d=s.completed;return d.result.draggableId===c.draggableId?null:i(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const YX=()=>{const e=FX(),t=qX();return(r,i)=>e(r,i)||t(r,i)||GX},KX={dropAnimationFinished:pB},WX=BI(YX,KX,null,{context:W2,areStatePropsEqual:RB})(zX);function IB(e){return jv(X2).isUsingCloneFor===e.draggableId&&!e.isClone?null:cn.createElement(WX,e)}function Vd(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return cn.createElement(IB,Ev({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const BB=e=>t=>e===t,VX=BB("scroll"),ZX=BB("auto"),PN=(e,t)=>t(e.overflowX)||t(e.overflowY),XX=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return PN(n,VX)||PN(n,ZX)},JX=()=>!1,zB=e=>e==null?null:e===document.body?JX()?e:null:e===document.documentElement?null:XX(e)?e:zB(e.parentElement);var XS=e=>({x:e.scrollLeft,y:e.scrollTop});const UB=e=>e?window.getComputedStyle(e).position==="fixed"?!0:UB(e.parentElement):!1;var QX=e=>{const t=zB(e),n=UB(e);return{closestScrollable:t,isFixedOnPage:n}},eJ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:s,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:y,client:b}=c,w=bB({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:b,scrollSize:y,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:w,diff:{value:Ar,displacement:Ar}}}})(),f=i==="vertical"?L2:JI,m=Yd({page:s,withPlaceholder:null,axis:f,frame:d});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:s,frame:d,subject:m}};const tJ=(e,t)=>{const n=HI(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,s=i+t.scrollWidth,d=M2({top:r,right:s,bottom:a,left:i},n.border);return D2({borderBox:d,margin:n.margin,border:n.border,padding:n.padding})};var nJ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:c})=>{const d=n.closestScrollable,f=tJ(e,d),m=Sv(f,r),p=(()=>{if(!d)return null;const b=HI(d),w={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:b,page:Sv(b,r),scroll:XS(d),scrollSize:w,shouldClipSubject:c}})();return eJ({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const rJ={passive:!1},iJ={passive:!0};var RN=e=>e.shouldPublishImmediately?rJ:iJ;const Kg=e=>e&&e.env.closestScrollable||null;function aJ(e){const t=A.useRef(null),n=jv(Uy),r=V2("droppable"),{registry:i,marshal:a}=n,s=OB(e),c=Nt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=A.useRef(c),f=Nt(()=>Sr((M,C)=>{t.current||Fe();const R={x:M,y:C};a.updateDroppableScroll(c.id,R)}),[c.id,a]),m=tt(()=>{const M=t.current;return!M||!M.env.closestScrollable?Ar:XS(M.env.closestScrollable)},[]),p=tt(()=>{const M=m();f(M.x,M.y)},[m,f]),y=Nt(()=>om(p),[p]),b=tt(()=>{const M=t.current,C=Kg(M);if(M&&C||Fe(),M.scrollOptions.shouldPublishImmediately){p();return}y()},[y,p]),w=tt((M,C)=>{t.current&&Fe();const R=s.current,I=R.getDroppableRef();I||Fe();const z=QX(I),q={ref:I,descriptor:c,env:z,scrollOptions:C};t.current=q;const V=nJ({ref:I,descriptor:c,env:z,windowScroll:M,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),H=z.closestScrollable;return H&&(H.setAttribute(jN.contextId,n.contextId),H.addEventListener("scroll",b,RN(q.scrollOptions))),V},[n.contextId,c,b,s]),T=tt(()=>{const M=t.current,C=Kg(M);return M&&C||Fe(),XS(C)},[]),S=tt(()=>{const M=t.current;M||Fe();const C=Kg(M);t.current=null,C&&(y.cancel(),C.removeAttribute(jN.contextId),C.removeEventListener("scroll",b,RN(M.scrollOptions)))},[b,y]),j=tt(M=>{const C=t.current;C||Fe();const R=Kg(C);R||Fe(),R.scrollTop+=M.y,R.scrollLeft+=M.x},[]),D=Nt(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:T,dragStopped:S,scroll:j}),[S,w,T,j]),O=Nt(()=>({uniqueId:r,descriptor:c,callbacks:D}),[D,c,r]);aa(()=>(d.current=O.descriptor,i.droppable.register(O),()=>{t.current&&S(),i.droppable.unregister(O)}),[D,c,S,O,a,i.droppable]),aa(()=>{t.current&&a.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),aa(()=>{t.current&&a.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function iw(){}const LN={width:0,height:0,margin:mW},oJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?LN:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},sJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=oJ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Qh.placeholder:null}},lJ=e=>{const t=A.useRef(null),n=tt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:s}=e,[c,d]=A.useState(e.animate==="open");A.useEffect(()=>c?r!=="open"?(n(),d(!1),iw):t.current?iw:(t.current=setTimeout(()=>{t.current=null,d(!1)}),n):iw,[r,c,n]);const f=tt(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=sJ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return cn.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":s,onTransitionEnd:f,ref:e.innerRef})};var cJ=cn.memo(lJ);class uJ extends cn.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const dJ=e=>{const t=A.useContext(Uy);t||Fe();const{contextId:n,isMovementAllowed:r}=t,i=A.useRef(null),a=A.useRef(null),{children:s,droppableId:c,type:d,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:y,isCombineEnabled:b,snapshot:w,useClone:T,updateViewportMaxScroll:S,getContainerForClone:j}=e,D=tt(()=>i.current,[]),O=tt((H=null)=>{i.current=H},[]);tt(()=>a.current,[]);const M=tt((H=null)=>{a.current=H},[]),C=tt(()=>{r()&&S({maxScroll:xB()})},[r,S]);aJ({droppableId:c,type:d,mode:f,direction:m,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:D});const R=Nt(()=>cn.createElement(uJ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:U,animate:Z})=>cn.createElement(cJ,{placeholder:U,onClose:H,innerRef:M,animate:Z,contextId:n,onTransitionEnd:C})),[n,C,e.placeholder,e.shouldAnimatePlaceholder,M]),I=Nt(()=>({innerRef:O,placeholder:R,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,R,O]),z=T?T.dragging.draggableId:null,q=Nt(()=>({droppableId:c,type:d,isUsingCloneFor:z}),[c,z,d]);function V(){if(!T)return null;const{dragging:H,render:U}=T,Z=cn.createElement(IB,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(re,ve)=>U(re,ve,H));return XH.createPortal(Z,j())}return cn.createElement(X2.Provider,{value:q},s(I,w),V())};function fJ(){return document.body||Fe(),document.body}const $N={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:fJ},HB=e=>{let t={...e},n;for(n in $N)e[n]===void 0&&(t={...t,[n]:$N[n]});return t},aw=(e,t)=>e===t.droppable.type,IN=(e,t)=>t.draggables[e.draggable.id],hJ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Sr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Sr((a,s,c,d,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const w=m?{render:m,dragging:n(f.descriptor)}:null,T={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:T,useClone:w}}if(!s)return t;if(!d)return e;const b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(a,s)=>{const c=HB(s),d=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(fm(a)){const y=a.critical;if(!aw(f,y))return t;const b=IN(y,a.dimensions),w=ia(a.impact)===d;return r(d,m,w,w,b,p)}if(a.phase==="DROP_ANIMATING"){const y=a.completed;if(!aw(f,y.critical))return t;const b=IN(y.critical,a.dimensions);return r(d,m,LB(y.result)===d,ia(y.impact)===d,b,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const y=a.completed;if(!aw(f,y.critical))return t;const b=ia(y.impact)===d,w=!!(y.impact.at&&y.impact.at.type==="COMBINE"),T=y.critical.droppable.id===d;return b?w?e:t:T?e:t}return t}},mJ={updateViewportMaxScroll:TV},cu=BI(hJ,mJ,(e,t,n)=>({...HB(n),...e,...t}),{context:W2,areStatePropsEqual:RB})(dJ),pJ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Cv(e,t,n){const r=pJ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function gJ(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),d=(a-12)/24+s/1440+c/86400,f=2*Math.PI/365*(i-1+d);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function vJ(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Eu(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=vJ(i),s=4*(i-a),c=gJ(r);return new Date(r.getTime()+(s+c)*60*1e3)}var Q0={exports:{}},yJ=Q0.exports,BN;function bJ(){return BN||(BN=1,(function(e,t){(function(n,r){e.exports=r()})(yJ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(a,s,c){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),s=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=s.default,n.exports=r.default},function(n,r,i){function a(Z){return Z&&Z.__esModule?Z:{default:Z}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(2),c=a(s),d=i(3),f=a(d),m=i(4),p=a(m),y=i(5),b=a(y),w=i(6),T=a(w),S=i(7),j=a(S),D=i(8),O=a(D),M=i(9),C=a(M),R=i(10),I=a(R),z=i(11),q=a(z),V=i(12),H=a(V),U={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:b.default,animals:T.default,lunarTerm:j.default,lTermInfo:O.default,nStr1:C.default,nStr2:I.default,nStr3:q.default,nStr4:H.default,lYearDays:function(Z){var re,ve=348;for(re=32768;re>8;re>>=1)ve+=U.lunarInfo[Z-1900]&re?1:0;return ve+U.leapDays(Z)},leapMonth:function(Z){return 15&U.lunarInfo[Z-1900]},leapDays:function(Z){return U.leapMonth(Z)?65536&U.lunarInfo[Z-1900]?30:29:0},monthDays:function(Z,re){return re>12||re<1?-1:U.lunarInfo[Z-1900]&65536>>re?30:29},solarDays:function(Z,re){if(re>12||re<1)return-1;var ve=re-1;return ve==1?Z%4==0&&Z%100!=0||Z%400==0?29:28:U.solarMonth[ve]},toGanZhi:function(Z){return U.gan[Z%10]+U.zhi[Z%12]},getTerm:function(Z,re){if(Z<1900||Z>2100||re<1||re>24)return-1;var ve=U.lTermInfo[Z-1900],J=[parseInt("0x"+ve.substr(0,5)).toString(),parseInt("0x"+ve.substr(5,5)).toString(),parseInt("0x"+ve.substr(10,5)).toString(),parseInt("0x"+ve.substr(15,5)).toString(),parseInt("0x"+ve.substr(20,5)).toString(),parseInt("0x"+ve.substr(25,5)).toString()],ae=[J[0].substr(0,1),J[0].substr(1,2),J[0].substr(3,1),J[0].substr(4,2),J[1].substr(0,1),J[1].substr(1,2),J[1].substr(3,1),J[1].substr(4,2),J[2].substr(0,1),J[2].substr(1,2),J[2].substr(3,1),J[2].substr(4,2),J[3].substr(0,1),J[3].substr(1,2),J[3].substr(3,1),J[3].substr(4,2),J[4].substr(0,1),J[4].substr(1,2),J[4].substr(3,1),J[4].substr(4,2),J[5].substr(0,1),J[5].substr(1,2),J[5].substr(3,1),J[5].substr(4,2)];return parseInt(ae[re-1])},toChinaYear:function(Z){var re=parseInt(Z/1e3),ve=parseInt(Z%1e3/100),J=parseInt(Z%100/10),ae=Z%10;return U.nStr4[re]+U.nStr4[ve]+U.nStr4[J]+U.nStr4[ae]+""},toChinaMonth:function(Z){if(Z>12||Z<1)return-1;var re=U.nStr3[Z-1];return re+=""},toChinaDay:function(Z){var re;switch(Z){case 10:re="";break;case 20:re="";break;case 30:re="";break;default:re=U.nStr2[Math.floor(Z/10)],re+=U.nStr1[Z%10]}return re},getAnimal:function(Z){return U.animals[(Z-4)%12]},solar2lunar:function(ce,te,Y){if(ce<1900||ce>2100||ce==1900&&te==1&&Y<31)return-1;if(ce)var J=new Date(ce,parseInt(te)-1,Y);else var J=new Date;var ae,fe=0,ne=0,ce=J.getFullYear(),te=J.getMonth()+1,Y=J.getDate(),B=(Date.UTC(J.getFullYear(),J.getMonth(),J.getDate())-Date.UTC(1900,0,31))/864e5;for(ae=1900;ae<2101&&B>0;ae++)ne=U.lYearDays(ae),B-=ne;B<0&&(B+=ne,ae--);var X=new Date,ee=!1;X.getFullYear()==ce&&X.getMonth()+1==te&&X.getDate()==Y&&(ee=!0);var G=J.getDay(),W=U.nStr1[G];G==0&&(G=7);var le=ae,fe=U.leapMonth(ae),Q=!1;for(ae=1;ae<13&&B>0;ae++)fe>0&&ae==fe+1&&Q==0?(--ae,Q=!0,ne=U.leapDays(le)):ne=U.monthDays(le,ae),Q==1&&ae==fe+1&&(Q=!1),B-=ne;B==0&&fe>0&&ae==fe+1&&(Q?Q=!1:(Q=!0,--ae)),B<0&&(B+=ne,--ae);var de=ae,we=B+1,se=te-1,Ce=U.getTerm(ce,3),be=U.toGanZhi(ce-4),Le=new Date(ce,1,Ce).getTime();new Date(ce,se,Y).getTime()<Le&&(be=U.toGanZhi(ce-5));var Me=U.getTerm(ce,2*te-1),$e=U.getTerm(ce,2*te),Be=U.toGanZhi(12*(ce-1900)+te+11);Y>=Me&&(Be=U.toGanZhi(12*(ce-1900)+te+12));var ye=!1,Ie="";Me==Y&&(ye=!0,Ie=U.lunarTerm[2*te-2]),$e==Y&&(ye=!0,Ie=U.lunarTerm[2*te-1]);var he=Date.UTC(ce,se,1,0,0,0,0)/864e5+25567+10,ge=U.toGanZhi(he+Y-1);return{lYear:le,lMonth:de,lDay:we,animal:U.getAnimal(le),yearCn:U.toChinaYear(le),monthCn:(Q&&fe===de?"":"")+U.toChinaMonth(de),dayCn:U.toChinaDay(we),cYear:ce,cMonth:te,cDay:Y,gzYear:be,gzMonth:Be,gzDay:ge,isToday:ee,isLeap:Q,nWeek:G,ncWeek:""+W,isTerm:ye,term:Ie}},lunar2solar:function(Z,re,ve,J){var ae=U.leapMonth(Z);if(U.leapDays(Z),J&&ae!=re||Z==2100&&re==12&&ve>1||Z==1900&&re==1&&ve<31)return-1;var ne=U.monthDays(Z,re);if(Z<1900||Z>2100||ve>ne)return-1;for(var ce=0,te=1900;te<Z;te++)ce+=U.lYearDays(te);for(var Y=0,B=!1,te=1;te<re;te++)Y=U.leapMonth(Z),B||Y<=te&&Y>0&&(ce+=U.leapDays(Z),B=!0),ce+=U.monthDays(Z,te);J&&(ce+=ne);var X=Date.UTC(1900,1,30,0,0,0),ee=new Date(864e5*(ce+ve-31)+X),G=ee.getUTCFullYear(),W=ee.getUTCMonth()+1,le=ee.getUTCDate();return U.solar2lunar(G,W,le)}};r.default=U,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(Q0)),Q0.exports}var FB=bJ();const _J=Pi(FB),J2=o2({__proto__:null,default:_J},[FB]);function JS(e){return typeof e=="object"&&e!==null}function xJ(e){if(!JS(e))throw new Error("Invalid lunar2solar result");const t=e,n=t.cYear,r=t.cMonth,i=t.cDay;if(typeof n!="number"||typeof r!="number"||typeof i!="number")throw new Error("Invalid lunar2solar fields");const a=t.isLeap;return{cYear:n,cMonth:r,cDay:i,isLeap:typeof a=="boolean"?a:void 0}}function wJ(e){const t=JS(e)&&"default"in e?e.default:e;if(!JS(t))throw new Error("solarlunar module invalid");const n=t.lunar2solar;if(typeof n!="function")throw new Error("solarlunar.lunar2solar not found");return(r,i,a)=>xJ(n(r,i,a,!1))}const SJ=wJ(J2);function Fy(e){const t=e.mingSikType??"/";let n=Number(e.birthDay.slice(0,4)),r=Number(e.birthDay.slice(4,6)),i=Number(e.birthDay.slice(6,8));if(e.calendarType==="lunar"){const D=SJ(n,r,i);n=D.cYear,r=D.cMonth,i=D.cDay}const a=!e.birthTime||e.birthTime==="",s=a?4:Number(e.birthTime.slice(0,2)),c=a?30:Number(e.birthTime.slice(2,4)),d=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,f=new Date(n,r-1,i,s,c,0,0),m=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",p=Eu(f,d,m),y=a?"":p.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),b=pt(p,d),w=Mt(p,d),T=At(p,t),S=a?null:Ia(p,t),j=[` : ${b} ${w} ${T}`,S?`${S}`:null].filter(Boolean).join(" ");return{corrected:p,correctedLocal:y,ganji:j}}function Q2(e){const t=(e??"").trim();return t?t===""||t.toLowerCase()==="female"||t==="2"||t.toUpperCase()==="F"?"":(t===""||t.toLowerCase()==="male"||t==="1"||t.toUpperCase()==="M",""):""}function zN(e){if(!e)return null;const t=e.match(/(|||||||||)(|||||||||||)/);if(t)return t[1];const n=e.split(/\s+/).find(r=>r.endsWith(""));return n&&n.length>0?n.charAt(0):null}function UN(e){const t=Q2(e.gender),n=zN(e.ganjiText)??zN(e.ganji);if(!n)return"forward";const i=["","","","",""].includes(n),a=t==="";return i&&!a||!i&&a?"forward":"backward"}function EJ(e){const t=e.dateObj instanceof Date?e.dateObj:e.dateObj?new Date(e.dateObj):new Date,n=e.corrected instanceof Date?e.corrected:e.corrected?new Date(e.corrected):new Date(NaN),r={...e,dateObj:t,corrected:n};try{const i=Fy(r),a={...r,...i},s=UN(a);return{...a,dir:s}}catch(i){console.error("[useMyeongSikStore] recalcGanjiSnapshot error:",i);const a=UN(r);return{...r,dir:a}}}function AJ(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:e.birth_day??"",birthTime:e.birth_time??"",gender:Q2(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};return EJ(i)}function Wg(e,t){const n=e.birthPlace??{name:"",lat:0,lon:127.5},r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:e.birthDay??null,birth_time:e.birthTime??null,gender:Q2(e.gender),birth_place_name:n.name??null,birth_place_lat:typeof n.lat=="number"?n.lat:null,birth_place_lon:typeof n.lon=="number"?n.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:e.folder??null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,favorite:e.favorite??!1,sort_order:r,updated_at:new Date().toISOString()}}const ho=Im((e,t)=>({currentId:null,list:[],loading:!0,setCurrent:n=>e({currentId:n}),loadFromServer:async()=>{e({loading:!0});const{data:{user:n},error:r}=await Ze.auth.getUser();if(r||!n){console.error("loadFromServer: user not found / error",r),e({list:[],currentId:null,loading:!1});return}const a=await Ze.from("myeongsik").select("id, user_id, name, birth_day, birth_time, gender, birth_place_name, birth_place_lat, birth_place_lon, relationship, memo, folder, ming_sik_type, day_change_rule, favorite, created_at, updated_at"+", sort_order").order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1}),s=a.data,c=a.error;if(c||!s){console.error("loadFromServer error:",c),e({loading:!1});return}const f=s.filter(y=>y.user_id===n.id).map(AJ),m=t().currentId,p=m&&f.some(y=>y.id===m)?m:f[0]?.id??null;e({list:f,currentId:p,loading:!1})},migrateLocalToServer:async()=>{if(typeof window>"u")return;const n=window.localStorage.getItem("myeongsik-list");if(!n)return;let r;try{r=JSON.parse(n)}catch(w){console.error("migrateLocalToServer: JSON parse error",w),window.localStorage.removeItem("myeongsik-list");return}const i=r.state??{},a=Array.isArray(i.list)?i.list:[];if(a.length===0){window.localStorage.removeItem("myeongsik-list");return}const{data:{user:s},error:c}=await Ze.auth.getUser();if(c||!s){console.warn("migrateLocalToServer: no user, skip");return}const{data:d,error:f}=await Ze.from("myeongsik").select("id").eq("user_id",s.id);if(f){console.error("migrateLocalToServer: fetch existing ids error",f);return}const m=new Set((d??[]).map(w=>w.id)),p=a.filter(w=>!!w&&!m.has(w.id));if(p.length===0){window.localStorage.removeItem("myeongsik-list");return}const y=p.map(w=>Wg(w,s.id)),{error:b}=await Ze.from("myeongsik").upsert(y,{onConflict:"id"});if(b){console.error("migrateLocalToServer upsert error:",b);return}window.localStorage.removeItem("myeongsik-list")},add:async n=>{const r=(t().list.length||0)+1,i={...n,sortOrder:n.sortOrder??r},{data:{user:a},error:s}=await Ze.auth.getUser();if(s||!a){console.error("add: user not found",s);return}e(f=>({list:[...f.list,i],currentId:f.currentId??i.id}));const c=Wg(i,a.id),{error:d}=await Ze.from("myeongsik").upsert(c,{onConflict:"id"});d&&console.error("add upsert error:",d)},update:async(n,r)=>{const i=t().list.find(m=>m.id===n);if(!i)return;const a={...i,...r};e(m=>({list:m.list.map(p=>p.id===n?a:p)}));const{data:{user:s},error:c}=await Ze.auth.getUser();if(c||!s){console.error("update: user not found",c);return}const d=Wg(a,s.id),{error:f}=await Ze.from("myeongsik").update(d).eq("id",n);f&&console.error("update error:",f)},remove:async n=>{e(i=>{const a=i.list.filter(c=>c.id!==n),s=i.currentId===n?a[0]?.id??null:i.currentId;return{list:a,currentId:s}});const{error:r}=await Ze.from("myeongsik").delete().eq("id",n);r&&console.error("remove error:",r)},reorder:async n=>{const r=n.map((d,f)=>({...d,sortOrder:f+1}));e({list:r});const{data:{user:i},error:a}=await Ze.auth.getUser();if(a||!i){console.error("reorder: user not found",a);return}const s=r.map(d=>Wg(d,i.id)),{error:c}=await Ze.from("myeongsik").upsert(s,{onConflict:"id"});c&&console.error("reorder upsert error:",c)},clear:()=>{e({currentId:null,list:[]})}})),HN="__custom__",FN=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],GB=({value:e,onChange:t})=>{const[n,r]=A.useState(FN),[i,a]=A.useState(""),[s,c]=A.useState(!1),[d,f]=A.useState(""),[m,p]=A.useState(!1),{list:y}=ho(),w=y.some(O=>O.relationship==="")?n.filter(O=>O.value!==""):n;A.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=O=>{const M=O.target.value;M===HN?(c(!0),a(""),t?.("")):(c(!1),f(""),a(M),t?.(M))};A.useEffect(()=>{const O=localStorage.getItem("relationshipOptions");O&&r(JSON.parse(O))},[]),A.useEffect(()=>{(async()=>{const{data:{user:M},error:C}=await Ze.auth.getUser();if(C||!M)return;const{data:R,error:I}=await Ze.from("user_settings").select("payload").eq("user_id",M.id).single();if(I&&I.code!=="PGRST116"){console.error("load relationships settings error",I.message);return}const z=R?.payload?.relationshipOptions;if(!Array.isArray(z))return;const q=z.map(V=>V&&typeof V=="object"&&typeof V.value=="string"&&typeof V.label=="string"?{value:V.value,label:V.label}:typeof V=="string"?{value:V,label:V}:null).filter(V=>!!V);q.length&&r(V=>{const H=new Set,U=[...q,...V,...FN].filter(Z=>H.has(Z.value)?!1:(H.add(Z.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(U)),U})})()},[]),A.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:M},error:C}=await Ze.auth.getUser();if(C||!M)return;const{data:R,error:I}=await Ze.from("user_settings").select("payload").eq("user_id",M.id).single();if(I&&I.code!=="PGRST116"){console.error("load relationships settings error",I.message);return}const z={...R?.payload??{},relationshipOptions:n},{error:q}=await Ze.from("user_settings").upsert({user_id:M.id,payload:z,updated_at:new Date().toISOString()});q&&console.error("save relationships settings error",q.message)})()},[n]);const S=()=>{const O=d.trim();if(!O)return;const M={value:O,label:O};r(C=>[...C,M]),a(O),t?.(O),f(""),c(!1)},j=O=>{r(n.filter(M=>M.value!==O)),i===O&&a("")},D=O=>{if(!O.destination)return;const M=Array.from(n),[C]=M.splice(O.source.index,1);M.splice(O.destination.index,0,C),r(M)};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"rel_set flex items-center gap-2",children:[_.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[_.jsx("option",{value:"",hidden:!0,children:""}),w.map(O=>_.jsx("option",{value:O.value,children:O.label},O.value)),_.jsx("option",{value:HN,children:" "})]}),_.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),s&&!m&&_.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[_.jsx("input",{type:"text",placeholder:" ",value:d,onChange:O=>f(O.target.value)}),_.jsx("button",{type:"button",onClick:S,className:"btn_style",children:""})]}),m&&_.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2",children:" "}),_.jsx(Gm,{onDragEnd:D,children:_.jsx(cu,{droppableId:"relList",children:O=>_.jsxs("ul",{ref:O.innerRef,...O.droppableProps,className:"space-y-1",children:[n.map((M,C)=>_.jsx(Vd,{draggableId:M.value,index:C,children:R=>_.jsxs("li",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[_.jsx("span",{className:"cursor-grab mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:M.label}),_.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(M.value),children:""})]})},M.value)),O.placeholder]})})}),_.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},On=" ",qB=["","","","","",""],YB="ms_folders",KB="ms_folder_order",GN="ms_folder_favs",QS="ms_disabled_presets",gu="myeoun:folder-updated";function uu(e){if(e!==On)return e||void 0}function Gy(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function eA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function TJ(){const e=Gy(QS);return qB.filter(t=>!e.includes(t))}function tA(){return Gy(YB)}function nA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];eA(YB,t),typeof window<"u"&&window.dispatchEvent(new Event(gu))}function ev(){const e=TJ(),t=tA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function kJ(){return[On,...ev()]}function WB(e){const t=e.trim();if(!t||t===On)return;const n=tA();if(n.includes(t))return;const r=[...n,t];nA(r)}function OJ(e){const t=tA(),n=t.filter(r=>r!==e);n.length!==t.length&&nA(n)}function jJ(e){const t=Gy(QS);if(t.includes(e))return;const n=[...t,e];eA(QS,n),typeof window<"u"&&window.dispatchEvent(new Event(gu))}function tv(){return Gy(KB)}function Nd(e){eA(KB,e),typeof window<"u"&&window.dispatchEvent(new Event(gu))}function Yh(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function CJ(e){return Array.from(new Set(e))}function Vg(e){const t=e.filter(n=>n!==On);return{rest:t,withUnassigned:[On,...t]}}function NJ(e,t){return Yh(t,e)}function MJ({value:e,onChange:t}){const[n,r]=A.useState([On]),[i,a]=A.useState(!1),[s,c]=A.useState(""),[d,f]=A.useState(!1),m=A.useCallback(async S=>{const{data:{user:j},error:D}=await Ze.auth.getUser();if(D||!j)return;const O=S.map((C,R)=>({user_id:j.id,folder_name:C,sort_order:R+1,updated_at:new Date().toISOString()})),{error:M}=await Ze.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});M&&console.error("save folder order error",M.message)},[]),p=A.useCallback(()=>{if(typeof window>"u")return;const S=CJ(kJ()),j=S.includes(On)?S:[On,...S],{rest:D}=Vg(j),O=tv(),M=NJ(O,D),C=[On,...M];r(C),O.length===M.length&&O.every((I,z)=>I===M[z])||(Nd(M),m(M))},[m]);A.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(gu,S),()=>window.removeEventListener(gu,S)}},[p]);const y=A.useMemo(()=>e||On,[e]),b=S=>{const{rest:j}=Vg(S);Nd(j),m(j)},w=S=>{const{source:j,destination:D}=S;if(!D||D.index===j.index)return;const{rest:O}=Vg(n),M=Array.from(O),[C]=M.splice(j.index,1);M.splice(D.index,0,C);const R=[On,...M];r(R),b(R)},T=S=>{const j=uu(S);j&&(WB(j),p())};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":y,onChange:S=>{const j=S.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(uu(j))},children:[n.map(S=>_.jsx("option",{value:S,children:S},S)),_.jsx("option",{value:"__custom__",children:"+   "})]}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(S=>!S),children:d?" ":" "})]}),i&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"text",value:s,onChange:S=>c(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=s.trim();S&&(T(S),t(uu(S)),a(!1),c(""))},children:""})]}),d&&_.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),_.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[_.jsx("span",{className:"opacity-60 select-none",children:""}),_.jsxs("span",{className:"flex-1 px-2",children:[On," ()"]})]}),_.jsx(Gm,{onDragEnd:w,children:_.jsx(cu,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>_.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[Vg(n).rest.map((j,D)=>_.jsx(Vd,{draggableId:j,index:D,children:O=>_.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[_.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),S.placeholder]})})})]}),_.jsxs("p",{className:"text-xs text-gray-500",children:['   "',On,'" .      .']})]})}function VB({message:e,onClose:t,ms:n=2e3}){return A.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),_.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}function qy(e){return typeof e=="object"&&e!==null}function DJ(e){return qy(e)&&"default"in e}function PJ(e){return qy(e)&&typeof e.lunar2solar=="function"}function RJ(e){if(!qy(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function LJ(e){const t=DJ(e)?e.default:e;if(!PJ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,s);return RJ(c)}}}const $J=LJ(J2);function Jr(e,t,n,r=4,i=0){const a=$J.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const jh=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:" ",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:" ",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Ch=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Zg=["","/",""],Xg=["",""];function ow(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function sw(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function IJ({onSave:e,onClose:t}){const{add:n}=ho(),[r,i]=A.useState(0),[a,s]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[c,d]=A.useState(null),[f,m]=A.useState(!1),[p,y]=A.useState(!1),b=jh[r],w=M=>d(M);A.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(b.key)){const C=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(C){C.focus();return}}if(b.key==="mingSikType"){const C=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(C){C.focus();return}}if(b.key==="gender"){const C=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(C){C.focus();return}}if(a.birthPlace||p){const C=()=>{const R=document.querySelector(".current-step form button[type='submit']");R&&R.focus()};C(),setTimeout(C,0)}else{const C=document.getElementById("inputBirthPlaceBtn");C&&C.focus()}if(b.key==="relationship"){setTimeout(()=>{const C=document.querySelector(".current-step select");C&&C.focus()},0);return}if(b.key==="folder"){setTimeout(()=>{const C=document.querySelector(".current-step select");C&&C.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[p,r,b.key,a.birthPlace]);const T=A.useMemo(()=>{if(a.calendarType!=="lunar"||!a.birthDay||a.birthDay.length!==8)return null;try{const M=Number(a.birthDay.slice(0,4)),C=Number(a.birthDay.slice(4,6)),R=Number(a.birthDay.slice(6,8)),I=Jr(M,C,R);return`  ${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`}catch(M){const C=M instanceof Error?M.message:void 0;return`  ${C?`: ${C}`:""}`}},[a.calendarType,a.birthDay]),S=()=>{const M=jh[r];if(M.key==="name"&&(a.name||(s({...a,name:""}),w("   '' ."))),M.key==="birthDay"){const C=/^\d{8}$/;if(!a.birthDay||!C.test(a.birthDay))return w(" YYYYMMDD  ."),!1;const R=Number(a.birthDay.substring(0,4)),I=Number(a.birthDay.substring(4,6)),z=Number(a.birthDay.substring(6,8));if(R<1900||R>2100)return w("  1900~2100  ."),!1;if(I<1||I>12)return w("  01~12  ."),!1;if(z<1||z>31)return w("  01~31  ."),!1;if(a.calendarType==="solar"){const q=new Date(R,I-1,z);if(q.getFullYear()!==R||q.getMonth()+1!==I||q.getDate()!==z)return w("  ."),!1}else try{Jr(R,I,z)}catch(q){return w(q instanceof Error?q.message:"   ."),!1}}if(M.key==="birthTime"){if(!a.birthTime&&!f)return w("   ''  ."),!1;if(a.birthTime){const C=Number(a.birthTime);if(Number.isNaN(C)||C<0||C>2359)return w("  00002359  ."),!1;const R=Number(a.birthTime.slice(0,2)),I=Number(a.birthTime.slice(2,4));if(R>23||I>59)return w("  00002359  ."),!1}}return M.key==="birthPlace"&&!a.birthPlace&&!p?(w("   ''  ."),!1):!0},j=()=>{if(!S())return;if(r<jh.length-1){i(r+1);return}const M=uu(a.folder),C=!a.birthTime||a.birthTime==="",R=!a.birthPlace||typeof a.birthPlace=="object"&&a.birthPlace.name==="";let I=Number(a.birthDay.slice(0,4)),z=Number(a.birthDay.slice(4,6)),q=Number(a.birthDay.slice(6,8));if(a.calendarType==="lunar"){const W=Jr(I,z,q);I=W.getFullYear(),z=W.getMonth()+1,q=W.getDate()}const V=C?4:Number(a.birthTime.slice(0,2)),H=C?30:Number(a.birthTime.slice(2,4)),U=new Date(I,z-1,q,V,H,0,0),Z=p||!a.birthPlace||a.birthPlace.lon===0?127.5:a.birthPlace.lon,re=Eu(U,Z,R),ve=a.mingSikType??"/",J=C?"":re.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),ae=pt(re,Z),ne=Mt(re,Z),ce=At(re,ve),te=C?null:Ia(re,ve),Y=[` : ${ae} ${ne} ${ce}`,te?`${te}`:null].filter(Boolean).join(" ");function B(W,le){const Q=["","","","","","","","","",""].includes(W),de=le==="";return Q?de?"forward":"backward":de?"backward":"forward"}const X=ae.charAt(0),ee=B(X,a.gender??""),G={id:jI(),name:a.name?.trim()||"",birthDay:a.birthDay||"",birthTime:C?"":a.birthTime||"",gender:a.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",folder:M,correctedLocal:J,ganji:Y,calendarType:a.calendarType??"solar",dir:ee,corrected:re,dateObj:a.dateObj||new Date,dayStem:a.dayStem||"",ganjiText:a.ganjiText||"   "};n(G),e(G),d(" !"),s({gender:"",mingSikType:"/",calendarType:"solar"}),m(!1),y(!1),i(0)},D=M=>{if(M.key!=="Enter")return;const C=M.target,R=C.getAttribute("role");if(R==="radio"||R==="checkbox")return;const I=document.getElementById("mapModal");if(I&&I.contains(C))return;const z=C.tagName.toLowerCase(),q=C instanceof HTMLInputElement?C.type:"";if(z==="textarea"){if(M.shiftKey)return;M.preventDefault(),j();return}if(q==="radio"||q==="checkbox"){M.preventDefault(),C instanceof HTMLInputElement&&C.click();return}z==="button"&&C.type!=="submit"||(M.preventDefault(),j())},O=M=>{switch(M){case"birthPlace":return p?"":a.birthPlace?.name||"";case"birthTime":return f?"":a.birthTime||"";case"folder":return a.folder?String(a.folder):On;default:{const R=a[M];return typeof R=="string"?R:R!=null?String(R):""}}};return _.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[c&&_.jsx(VB,{message:c,onClose:()=>d(null)}),jh.slice(0,r).map((M,C)=>_.jsxs("button",{onClick:()=>i(C),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[_.jsx("span",{className:"font-semibold",children:M.label}),_.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:O(M.key)})]},M.key)),_.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:_.jsxs("form",{onSubmit:M=>{M.preventDefault(),j()},onKeyDown:D,children:[_.jsx("label",{className:"block mb-2 font-bold",children:b.label}),b.key==="name"&&_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.name||"",onChange:M=>s({...a,name:M.target.value})}),b.key==="birthDay"&&_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-1 items-center",children:[_.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.birthDay||"",onChange:M=>{const C=M.target.value.replace(/\D/g,"");s({...a,birthDay:C.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:Ch.map(({value:M,label:C,id:R})=>{const I=a.calendarType===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:R,name:"calendarType",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:R,id:`${R}_lbl`,role:"radio","aria-checked":I,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":I?"true":"false",onKeyDown:z=>{if(z.stopPropagation(),z.key===" "||z.key==="Enter"){z.preventDefault(),s({...a,calendarType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(z.key))return;z.preventDefault();const V=Ch.findIndex(Z=>Z.value===a.calendarType),H=ow(V<0?0:V,Ch.length,z.key),U=Ch[H].value;s({...a,calendarType:U}),sw(`${Ch[H].id}_lbl`)},onClick:z=>{z.preventDefault(),s({...a,calendarType:M})},children:C})]},M)})})]}),a.calendarType==="lunar"&&_.jsx("div",{className:"flex items-center justify-end",children:_.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:T})}),a.birthDay&&a.birthDay.length===8&&(()=>{const M=Number(a.birthDay.slice(0,4)),C=Number(a.birthDay.slice(4,6)),R=Number(a.birthDay.slice(6,8));return Cv(M,C,R)?_.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:" ."}):null})()]}),b.key==="birthTime"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:f?"":a.birthTime||"",onChange:M=>{const C=M.target.value.replace(/\D/g,"");s({...a,birthTime:C.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:f}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":f,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":f?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),m(!f))},onClick:M=>{M.preventDefault(),m(!f)},children:""})]})]}),b.key==="mingSikType"&&_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:Zg.map(M=>{const C=`ming_${M}`,R=(a.mingSikType??"/")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:C,name:"mingSikType",type:"radio",style:{display:"none"}}),_.jsxs("label",{htmlFor:C,id:`${C}_lbl`,role:"radio","aria-checked":R,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":R?"true":"false",onKeyDown:I=>{if(I.stopPropagation(),I.key===" "||I.key==="Enter"){I.preventDefault(),s({...a,mingSikType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(I.key))return;I.preventDefault();const q=a.mingSikType??"/",V=Zg.indexOf(q),H=ow(V,Zg.length,I.key),U=Zg[H];s({...a,mingSikType:U}),sw(`ming_${U}_lbl`)},onClick:I=>{I.preventDefault(),s({...a,mingSikType:M})},children:[M,""]})]},M)})}),b.key==="gender"&&_.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:Xg.map(M=>{const C=`gender_${M}`,R=(a.gender??"")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:C,name:"gender",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:C,id:`${C}_lbl`,role:"radio","aria-checked":R,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":R?"true":"false",onKeyDown:I=>{if(I.stopPropagation(),I.key===" "||I.key==="Enter"){I.preventDefault(),s({...a,gender:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(I.key))return;I.preventDefault();const q=a.gender??"",V=Xg.indexOf(q),H=ow(V,Xg.length,I.key),U=Xg[H];s({...a,gender:U}),sw(`gender_${U}_lbl`)},onClick:I=>{I.preventDefault(),s({...a,gender:M})},children:M})]},M)})}),b.key==="birthPlace"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx(CI,{onSelect:M=>s({...a,birthPlace:M}),value:p?"":a.birthPlace?.name??""}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":p,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":p?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),y(!p))},onClick:M=>{M.preventDefault(),y(!p)},children:""})]})]}),b.key==="relationship"&&_.jsx(GB,{value:a.relationship||"",onChange:M=>s({...a,relationship:M})}),b.key==="folder"&&_.jsx(MJ,{value:uu(a.folder),onChange:M=>s({...a,folder:M})}),b.key==="memo"&&_.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.memo||"",onChange:M=>s({...a,memo:M.target.value})}),_.jsxs("div",{className:"flex justify-between gap-2",children:[_.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),_.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:r===jh.length-1?"":""})]})]})})]})}var Jg={},qN;function BJ(){if(qN)return Jg;qN=1,Jg.match=a,Jg.parse=s;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return s(m).some(function(y){var b=y.inverse,w=y.type==="all"||p.type===y.type;if(w&&b||!(w||b))return!1;var T=y.expressions.every(function(S){var j=S.feature,D=S.modifier,O=S.value,M=p[j];if(!M)return!1;switch(j){case"orientation":case"scan":return M.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),M=f(M);break;case"resolution":O=d(O),M=d(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),M=c(M);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,M=parseInt(M,10)||0;break}switch(D){case"min":return M>=O;case"max":return M<=O;default:return M===O}});return T&&!b||!T&&b})}function s(m){return m.split(",").map(function(p){p=p.trim();var y=p.match(e),b=y[1],w=y[2],T=y[3]||"",S={};return S.inverse=!!b&&b.toLowerCase()==="not",S.type=w?w.toLowerCase():"all",T=T.match(/\([^\)]+\)/g)||[],S.expressions=T.map(function(j){var D=j.match(t),O=D[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:D[2]}}),S})}function c(m){var p=Number(m),y;return p||(y=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=y[1]/y[2]),p}function d(m){var p=parseFloat(m),y=String(m).match(i)[1];switch(y){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),y=String(m).match(r)[1];switch(y){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return Jg}var lw,YN;function zJ(){if(YN)return lw;YN=1;var e=BJ().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,s){var c=this,d;t&&!s&&(d=t.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=y;function f(b){d&&d.addListener(b)}function m(b){d&&d.removeListener(b)}function p(b){c.matches=b.matches,c.media=b.media}function y(){d&&d.removeListener(p)}}function r(i,a,s){return new n(i,a,s)}return lw=r,lw}var UJ=zJ();const HJ=Pi(UJ);var FJ=/[A-Z]/g,GJ=/^ms-/,cw={};function qJ(e){return"-"+e.toLowerCase()}function ZB(e){if(cw.hasOwnProperty(e))return cw[e];var t=e.replace(FJ,qJ);return cw[e]=GJ.test(t)?"-"+t:t}function YJ(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const s=n[a];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var uw={exports:{}},dw,KN;function KJ(){if(KN)return dw;KN=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dw=e,dw}var fw,WN;function WJ(){if(WN)return fw;WN=1;var e=KJ();function t(){}function n(){}return n.resetWarningCache=t,fw=function(){function r(s,c,d,f,m,p){if(p!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},fw}var VN;function VJ(){return VN||(VN=1,uw.exports=WJ()()),uw.exports}var ZJ=VJ();const zt=Pi(ZJ),si=zt.oneOfType([zt.string,zt.number]),XB={all:zt.bool,grid:zt.bool,aural:zt.bool,braille:zt.bool,handheld:zt.bool,print:zt.bool,projection:zt.bool,screen:zt.bool,tty:zt.bool,tv:zt.bool,embossed:zt.bool},XJ={orientation:zt.oneOf(["portrait","landscape"]),scan:zt.oneOf(["progressive","interlace"]),aspectRatio:zt.string,deviceAspectRatio:zt.string,height:si,deviceHeight:si,width:si,deviceWidth:si,color:zt.bool,colorIndex:zt.bool,monochrome:zt.bool,resolution:si,type:Object.keys(XB)},{type:w1e,...JJ}=XJ,QJ={minAspectRatio:zt.string,maxAspectRatio:zt.string,minDeviceAspectRatio:zt.string,maxDeviceAspectRatio:zt.string,minHeight:si,maxHeight:si,minDeviceHeight:si,maxDeviceHeight:si,minWidth:si,maxWidth:si,minDeviceWidth:si,maxDeviceWidth:si,minColor:zt.number,maxColor:zt.number,minColorIndex:zt.number,maxColorIndex:zt.number,minMonochrome:zt.number,maxMonochrome:zt.number,minResolution:si,maxResolution:si,...JJ},eQ={...XB,...QJ};var tQ={all:eQ};const nQ=e=>`not ${e}`,rQ=(e,t)=>{const n=ZB(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?nQ(n):`(${n}: ${t})`},iQ=e=>e.join(" and "),aQ=e=>{const t=[];return Object.keys(tQ.all).forEach(n=>{const r=e[n];r!=null&&t.push(rQ(n,r))}),iQ(t)},oQ=A.createContext(void 0),sQ=e=>e.query||aQ(e),ZN=e=>e?Object.keys(e).reduce((n,r)=>(n[ZB(r)]=e[r],n),{}):void 0,JB=()=>{const e=A.useRef(!1);return A.useEffect(()=>{e.current=!0},[]),e.current},lQ=e=>{const t=A.useContext(oQ),n=()=>ZN(e)||ZN(t),[r,i]=A.useState(n);return A.useEffect(()=>{const a=n();YJ(r,a)||i(a)},[e,t]),r},cQ=e=>{const t=()=>sQ(e),[n,r]=A.useState(t);return A.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},uQ=(e,t)=>{const n=()=>HJ(e,t||{},!!t),[r,i]=A.useState(n),a=JB();return A.useEffect(()=>{if(a){const s=n();return i(s),()=>{s&&s.dispose()}}},[e,t]),r},dQ=e=>{const[t,n]=A.useState(e.matches);return A.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},fQ=(e,t,n)=>{const r=lQ(t),i=cQ(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=uQ(i,r),s=dQ(a);return JB(),A.useEffect(()=>{},[s]),A.useEffect(()=>()=>{a&&a.dispose()},[]),s},QB=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${di[t%10]}${Mi[t%12]}`);return e})();function hQ(e){const t=QB.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t}function Nv(e,t,n=1){const r=hQ(e),i=t==="forward"?n:-n;return QB[(r+i+60*1e3)%60]}const mQ=60*1e3,pQ=60*mQ,gQ=24*pQ;function vQ(e,t){const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))}function eE(e){const t=new Date(e);return t.setSeconds(0,0),t}function yQ(e,t,n){const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const s=new Date(a);s.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),d=s.getTime()-e.getTime();return t==="backward"?c:d}function e5(e,t,n,r=120,i="/"){const a=eE(e),s=yQ(a,n,i),c=eE(new Date(a.getTime()+s*120)),d=vQ(e,r).getTime(),f=[];let m=Nv(t,n,1);for(let p=c.getTime();p<=d;p+=10*gQ)f.push({at:new Date(p),gz:m}),m=Nv(m,n,1);return{firstChange:c,events:f}}function t5(e,t){const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n}function n5(e,t,n,r){const i=t5(r,n);let a=t;const s=[];for(const c of e.events){const d=c.gz.charAt(1);i(d)&&(a=Nv(a,n,1),s.push({at:c.at,gz:a}))}return{events:s}}function mo(e){const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:lr(t,c.deg)})).concat([{name:r.name,date:lr(t+1,r.deg)},{name:"",date:lr(t+1,285)}]),a=lr(t,315),s=lr(t+1,315);return i.filter(c=>c.date>=a&&c.date<s).sort((c,d)=>c.date.getTime()-d.date.getTime())}const bQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_Q={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},xQ=e=>bQ[e]??("".includes(e)?e:null),wQ=e=>_Q[e]??("".includes(e)?e:null);function XN(e){const t=xQ(e[0]),n=wQ(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`}function qm(e,t,n,r=120,i){function a(O){return O instanceof Date||(O=new Date(O)),Math.floor((O.getHours()+1)%24/2)}function s(O){return["","","","","","","","","","","",""][a(O)]}function c(O,M,C){const R=O.charAt(0),I=O.charAt(1),z=di.indexOf(R),q=Mi.indexOf(I),V=M==="forward"?C:-C,H=(z+V%10+10)%10,U=(q+V%12+12)%12;return di[H]+Mi[U]}const d=mo(e).sort((O,M)=>O.date.getTime()-M.date.getTime());let f;if(n==="forward"){const O=d.findIndex(M=>M.date>=e);O>=0&&(f=d[O].date)}else{const O=d.filter(M=>M.date<=e);O.length&&(f=O[O.length-1].date)}function m(O,M){const C=s(O),R={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},I=R[C],z=(I+2)%24,q=new Date(O);if(q.setSeconds(0,0),n==="backward"&&M){const H=s(M),U=R[H],Z=new Date(M);return Z.setHours(U,0,0,0),Z}if(n==="forward"&&M){const H=s(M),U=R[H],Z=new Date(M);if(Z.setHours(U,0,0,0),Z>q)return Z}const V=new Date(q);return n==="forward"?(V.setHours(z,0,0,0),V<=q&&V.setDate(V.getDate()+1)):(V.setHours(I,0,0,0),V>=q&&V.setDate(V.getDate()-1)),V}new Date(e).setSeconds(0,0);const y=XN(Mt(e,127.5)),b=m(e,f),w=Math.floor(n==="forward"?(b.getTime()-e.getTime())/6e4:(e.getTime()-b.getTime())/6e4),T=Math.round(w/120*(14400*60*1e3));let S=new Date(e.getTime()+T);try{const O=XN(Mt(e,i));(n==="forward"&&y!==O||n==="backward"&&y!==O)&&(S=new Date(e.getTime()+6e4))}catch{}const j=r/10,D=[];for(let O=0;O<j;O++){const M=new Date(S);M.setFullYear(M.getFullYear()+O*10),M.setSeconds(0,0);const C=c(t,n,O+1);D.push({at:M,gz:C})}return{natalMonthPillar:t,firstChange:S,mPillars:[],events:D}}function SQ(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))}function r5(e,t,n,r,i){const a=t5(r,n);let s=t;const c=[];for(const d of e.events){const f=d.gz.charAt(1);a(f)&&(s=Nv(s,n,1),c.push({at:d.at,gz:s,age:SQ(i,d.at)}))}return{events:c}}function EQ(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)}function Yy(e){const t=EQ(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Eu(t,e.birthPlace?.lon??null,n);return eE(r)}function rA(e,t){const n=e.birthPlace?.lon??127.5,r=Yy(e),i=At(r,t),a=Ia(r,t,i.charAt(0));return{year:pt(r,n),month:Mt(r,n),day:i,hour:a}}const AQ=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${di[t%10]}${Mi[t%12]}`);return e})(),TQ=e=>AQ.indexOf(e),hw=e=>{if(TQ(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function iA(e){return typeof e=="object"&&e!==null}function kQ(e){return iA(e)&&"default"in e}function OQ(e){return iA(e)&&typeof e.lunar2solar=="function"}function jQ(e){if(!iA(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function CQ(e){const t=kQ(e)?e.default:e;if(!OQ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,!!s);return jQ(c)}}}const NQ=CQ(J2),JN=e=>e<10?`0${e}`:`${e}`;function aA(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8||r!=="lunar")return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}try{const f=NQ.lunar2solar(i,a,s,d),m=`${f.cYear}${JN(f.cMonth)}${JN(f.cDay)}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}}function MQ(e,t="/"){const n=A.useMemo(()=>aA(e),[e]),r=A.useMemo(()=>Yy(n),[n]),i=A.useMemo(()=>rA(n,t),[n,t]);return A.useMemo(()=>{const a=qm(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),s=new Date;function c(O,M){let C=null;const R=M.getTime();for(const I of O)if(I.at.getTime()<=R)C=I;else break;return C}const d=c(a.events,s)?.gz??i.month,f=hw(d),m=s.getFullYear(),p=lr(m,315),b=p&&s>=p?m:m-1,w=pt(new Date(b,1,10,0,0,0),127.5),T=hw(w),S=Mt(s,127.5),j=hw(S),D=[];return j&&D.push({key:"wolun",label:"",data:j}),T&&D.push({key:"seun",label:"",data:T}),f&&D.push({key:"daeun",label:"",data:f}),D},[r,n.dir,i.month,n.birthPlace?.lon])}function em(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function QN(e){return e<10?`0${e}`:`${e}`}function tE(e){return`${QN(e.getHours())}:${QN(e.getMinutes())}`}const Di=Im()(s$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,s=pt(n,a),c=Mt(n,a),d=At(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:s,monthGZ:c,dayGZ:d,setDate:f=>{const{rule:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({date:f,yearGZ:pt(f,y),monthGZ:Mt(f,y),dayGZ:At(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,y=typeof m=="number"?m:void 0;e({date:p,yearGZ:pt(p,y),monthGZ:Mt(p,y),dayGZ:At(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:Mt(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({rule:f,yearGZ:pt(m,y),monthGZ:Mt(m,y),dayGZ:At(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),y=typeof f=="number"?f:void 0;e({lon:f,yearGZ:pt(m,y),monthGZ:Mt(m,y),dayGZ:At(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:y}=t(),b=typeof y=="number"?y:void 0;e({date:f.at,scope:m,yearGZ:pt(f.at,b),monthGZ:Mt(f.at,b),dayGZ:At(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Au={Classic:"",Modern:""};function sn(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function DQ(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function PQ(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function RQ(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function LQ(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function ln(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?DQ(t,n):PQ(t,n):i?RQ(t,n):LQ(t,n)}function Ym(e,t="/",n=100){const r=A.useMemo(()=>aA(e),[e]),i=A.useMemo(()=>Yy(r),[r]),a=A.useMemo(()=>rA(r,t),[r,t]),s=(c,d)=>{const f=d.getFullYear()-c.getFullYear(),m=d.getMonth()-c.getMonth(),p=d.getDate()-c.getDate(),y=m<0||m===0&&p<0?f-1:f;return Math.max(0,y)};return A.useMemo(()=>qm(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(d=>({...d,age:s(i,d.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function mw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function $Q(e,t){if(!Array.isArray(e)||e.length===0||!mw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const s=n[a],c=n[a+1];if(!mw(s.at))continue;if(t.getTime()>=s.at.getTime()&&(!c||mw(c.at)&&t.getTime()<c.at.getTime()))return{gz:s.gz??"",at:s.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function oA(e,t,n){const{date:r,rule:i,lon:a}=Di(),s=A.useMemo(()=>n??r??new Date,[n,r]),c=Ym(e,e?.mingSikType),{gz:d}=$Q(c,s);return A.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:d,at:s},se:{gz:pt(s,f),at:s},wol:{gz:Mt(s,f),at:s},il:{gz:At(s,m),at:s}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[s,i,a,e,t,d])}const sA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},IQ=Object.fromEntries(Object.entries(sA).map(([e,t])=>[t,e])),BQ=Object.fromEntries(Object.entries(lA).map(([e,t])=>[t,e])),zQ=new Set(["","","","","","","","","",""]),UQ=new Set(["","","","","","","","","","","",""]),HQ=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],FQ=(()=>{const e={};for(const t of HQ){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})();function GQ(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}const qQ={:1,:2,:3};function YQ(e){return e.includes("")?3:e.includes("")?2:(e.includes(""),1)}const KQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function WQ(e){switch(KQ[e]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function VQ({data:e,hourTable:t}){const{date:n}=Di(),r=Er(W=>W.settings),i=r.showNabeum??!0,a=e.mingSikType??t??"/",s=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:c,solarM:d,solarD:f}=A.useMemo(()=>{let W=Number(e.birthDay?.slice(0,4)??2e3),le=Number(e.birthDay?.slice(4,6)??1),fe=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Q=Jr(W,le,fe);W=Q.getFullYear(),le=Q.getMonth()+1,fe=Q.getDate()}return{solarY:W,solarM:le,solarD:fe}},[e.birthDay,e.calendarType]),[m,p]=A.useState(!1);A.useEffect(()=>{c&&d&&f&&p(Cv(c,d,f))},[c,d,f]);const y=!e.birthTime||e.birthTime==="";function b(W,le){const fe=!W.birthTime||W.birthTime==="";let Q=Number(W.birthDay.slice(0,4)),de=Number(W.birthDay.slice(4,6)),we=Number(W.birthDay.slice(6,8));if(W.calendarType==="lunar"){const He=Jr(Q,de,we);Q=He.getFullYear(),de=He.getMonth()+1,we=He.getDate()}const se=fe?4:Number(W.birthTime.slice(0,2)),Ce=fe?30:Number(W.birthTime.slice(2,4)),be=new Date(Q,de-1,we,se,Ce,0,0),Le=!W.birthPlace||W.birthPlace.name===""||!W.birthPlace.lon,Me=Le?127.5:W.birthPlace.lon,$e=W.corrected instanceof Date&&!Number.isNaN(W.corrected.getTime());let Be;$e?Be=W.corrected:Le?Be=be:Be=Eu(be,Me,fe);const ye=le?new Date(Be.getTime()-3600*1e3):Be,Ie=W.mingSikType??"/",he=pt(ye,Me),ge=Mt(ye,Me),Ue=At(ye,Ie),ze=fe?null:Ia(ye,Ie);return{corrected:ye,year:{stem:he.charAt(0),branch:he.charAt(1)},month:{stem:ge.charAt(0),branch:ge.charAt(1)},day:{stem:Ue.charAt(0),branch:Ue.charAt(1)},hour:ze?{stem:ze.charAt(0),branch:ze.charAt(1)}:null}}const[w,T]=A.useState(()=>b(e,m));A.useEffect(()=>{T(b(e,m))},[e,m]);const S=ZQ(e.correctedLocal,w.corrected,y),j=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,D=w.day.stem,[O,M]=A.useState(null),[C,R]=A.useState(()=>e.mingSikType==="");A.useEffect(()=>{M(null),R(e.mingSikType==="")},[j,e.mingSikType]);const I=A.useMemo(()=>(C?g2:e$)[D]??[],[C,D]),z=O??w.hour,q=r.sinsalBase===""?w.day.branch:w.year.branch,V=Um(W=>W.setManualHour),H=(W,le)=>{const fe={stem:W,branch:le};M(fe),V(fe)},U=W=>r.showSibiUnseong?sn(D,W):null,Z=W=>r.showSibiSinsal?ln({baseBranch:q,targetBranch:W,era:pw(r.sinsalMode),gaehwa:r.sinsalBloom}):null,re=MQ(e,a),ve=fQ({query:"(min-width: 992px)"}),J=r.hiddenStem==="regular"?"main":"all",ae=r.exposure,ne=ae===""?0:qQ[ae],ce=ne===0?[]:re.filter(W=>YQ(W.label)<=ne),te=Cv(c,d,f),Y=()=>p(W=>!W),B=oA(e,t,n),X=B.dae.gz,ee=B.se.gz,G=B.wol.gz;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",_.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),te&&_.jsxs("button",{onClick:Y,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${m?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",m?"ON":"OFF"]})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[JQ(e.birthDay,e.birthTime),e.birthPlace?.name?`  ${": "+e.birthPlace.name}`:""]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[": ",S]})]}),_.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[" : ",s.toFixed(2),"  ",a," "]})]}),_.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ce.length===0?"grid-cols-1":ce.length===1?"grid-cols-[2fr_8fr]":ce.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ce.length>0&&(ve?_.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-2 p-3 ${ce.length===1?"grid-cols-1":ce.length===2?"grid-cols-2":"grid-cols-3"}`,children:ce.map(W=>{let le=W.data.stem,fe=W.data.branch;W.label.includes("")&&X&&(le=X.charAt(0),fe=X.charAt(1)),W.label.includes("")&&ee&&(le=ee.charAt(0),fe=ee.charAt(1)),W.label.includes("")&&G&&(le=G.charAt(0),fe=G.charAt(1));const Q=U(fe),de=Z(fe);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:le})}),_.jsx(Ml,{value:le,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:fe,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:fe,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Q}),r.showSibiSinsal&&_.jsx("div",{children:de}),i&&_.jsx(Qg,{stem:le,branch:fe})]})]})]},W.key)})})})]}):_.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-1 p-0 ${ce.length===1?"grid-cols-1":ce.length===2?"grid-cols-2":"grid-cols-3"}`,children:ce.map(W=>{let le=W.data.stem,fe=W.data.branch;W.label.includes("")&&X&&(le=X.charAt(0),fe=X.charAt(1)),W.label.includes("")&&ee&&(le=ee.charAt(0),fe=ee.charAt(1)),W.label.includes("")&&G&&(le=G.charAt(0),fe=G.charAt(1));const Q=U(fe),de=Z(fe);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:le})}),_.jsx(Ml,{value:le,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:fe,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:fe,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Q}),r.showSibiSinsal&&_.jsx("div",{children:de}),i&&_.jsx(Qg,{stem:le,branch:fe})]})]})]},W.key)})})})]})),ve?_.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"",data:z},{key:"day",label:"",data:w.day},{key:"month",label:"",data:w.month},{key:"year",label:"",data:w.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:W.data.stem})}),_.jsx(Ml,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:sn(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:ln({baseBranch:r.sinsalBase===""?w.day.branch:w.year.branch,targetBranch:W.data.branch,era:pw(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(Qg,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]},W.key))})})]}):_.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"px-1 pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"",data:z},{key:"day",label:"",data:w.day},{key:"month",label:"",data:w.month},{key:"year",label:"",data:w.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:W.data.stem})}),_.jsx(Ml,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:sn(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:ln({baseBranch:r.sinsalBase===""?w.day.branch:w.year.branch,targetBranch:W.data.branch,era:pw(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(Qg,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:" "})})]},W.key))})})]})]}),y&&_.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),_.jsx("button",{onClick:()=>R(W=>!W),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:C?" : ":" : "})]}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.map(W=>{const le=W.charAt(0),fe=W.charAt(1),Q=O?.stem===le&&O?.branch===fe;return _.jsx("button",{onClick:()=>H(le,fe),className:`p-2 text-xs rounded border cursor-pointer ${Q?WQ(fe):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${W} ( )`,children:W},W)})})]})]})}function ZQ(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":tE(i)}function Qg({stem:e,branch:t}){const n=sA[e]??e,r=lA[t]??t,i=`${n}${r}`,a=FQ[i];if(!a)return null;const s=GQ(a.elem);return _.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${s} border border-white/10 text-nowrap`,title:`${a.label}  ${a.elem}`,children:a.label})}function XQ(e){return qy(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function pw(e){const t=Au;return XQ(t)?e==="classic"?t.Classic:t.Modern:e}function Ml({value:e,kind:t,charType:n,thinEum:r}){const{settings:i}=Er(),a=sa(e,t,i),s=n===""?t==="stem"?sA[e]??e:lA[e]??e:t==="stem"?IQ[e]??e:BQ[e]??e,c=t==="stem"?zQ.has(e):UQ.has(e),d=r&&c?"font-thin":"font-bold";return _.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${a}
                  flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:_.jsx("span",{className:`text-[24px] md:text-2xl ${d}`,children:s})})}function JQ(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||t===""||!/^\d{4}$/.test(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Gl(e){const t=Number(e.birthDay?.slice(0,4)),n=Number(e.birthDay?.slice(4,6))-1,r=Number(e.birthDay?.slice(6,8)),i=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(0,2)),a=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(2,4)),s=new Date(t,n,r,i,a,0,0);if(isNaN(s.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="";return Eu(s,e.birthPlace?.lon??127.5,c)}function Ky(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let s=0;s<n-1;s+=1){const c=e[s].at.getTime(),d=e[s+1].at.getTime();if(a>=c&&a<d)return s}return 0}const i5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},a5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},QQ=Object.fromEntries(Object.entries(i5).map(([e,t])=>[t,e])),eee=Object.fromEntries(Object.entries(a5).map(([e,t])=>[t,e]));function eM(e,t,n){return n===""?t==="stem"?i5[e]??e:a5[e]??e:t==="stem"?QQ[e]??e:eee[e]??e}const tee=new Set(["","","","","","","","","",""]),nee=new Set(["","","","","","","","","","","",""]);function tM(e,t){return t==="stem"?tee.has(e):nee.has(e)}function ree(e){return typeof e=="object"&&e!==null}function iee(e){return ree(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function aee(e){const t=Au;return iee(t)?e==="classic"?t.Classic:t.Modern:e}const oee=!1,nM=e=>e<10?`0${e}`:`${e}`;function see(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${nM(f.getMonth()+1)}${nM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function lee({data:e}){const t=Ym(e),n=A.useMemo(()=>{const C=see(e);return Gl(C)},[e]),r=A.useMemo(()=>{const C=e.mingSikType??"/";return At(n,C).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=Di(),s=A.useMemo(()=>Ky(t,i),[t,i]),c=Er(C=>C.settings),{charType:d,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:y,sinsalBase:b,sinsalMode:w,sinsalBloom:T}=c,S=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,j=e.mingSikType??"/",D=b===""?At(n,j).charAt(1):pt(n,S).charAt(1),O=C=>p?sn(r,C):null,M=C=>y?ln({baseBranch:D,targetBranch:C,era:aee(w),gaehwa:!!T}):null;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((C,R)=>{const I=C.gz.charAt(0),z=C.gz.charAt(1),q=cee(n,C.at),V=R===s,H=eM(I,"stem",d),U=eM(z,"branch",d),Z=tM(I,"stem"),re=tM(z,"branch"),ve=f&&Z?"font-thin":"font-bold",J=f&&re?"font-thin":"font-bold",ae=O(z),ne=M(z);return _.jsxs("div",{onClick:()=>a(C,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${V?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${C.gz}  ${C.at.toLocaleDateString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(r,{stem:I})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa(I,"stem",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${ve}`,children:H})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa(z,"branch",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:U})}),m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(r,{branch:z})}),(p||y)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&_.jsx("div",{children:ae}),y&&_.jsx("div",{children:ne})]})]})]},`${C.gz}-${R}`)})})]})}function cee(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Wy(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",s=typeof n.birthMinute=="number";if(r||!(i||a||s)){const d=new Date(t);return d.setDate(d.getDate()+1),d.setHours(4,30,0,0),d}return t}const o5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},s5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},uee=Object.fromEntries(Object.entries(o5).map(([e,t])=>[t,e])),dee=Object.fromEntries(Object.entries(s5).map(([e,t])=>[t,e]));function rM(e,t,n){return n===""?t==="stem"?o5[e]??e:s5[e]??e:t==="stem"?uee[e]??e:dee[e]??e}const fee=new Set(["","","","","","","","","",""]),hee=new Set(["","","","","","","","","","","",""]);function iM(e,t){return t==="stem"?fee.has(e):hee.has(e)}function mee(e){return typeof e=="object"&&e!==null}function pee(e){return mee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function gee(e){const t=Au;return pee(t)?e==="classic"?t.Classic:t.Modern:e}function gw(e){return new Date(e,6,2,12,0,0,0)}function vee(e,t){return t-e+1}const yee=!1,aM=e=>e<10?`0${e}`:`${e}`;function bee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${aM(f.getMonth()+1)}${aM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function _ee({data:e,list:t,onSelect:n}){const r=Er(I=>I.settings),{date:i,setFromEvent:a}=Di(),[s,c]=A.useState(()=>t);A.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const d=Gl(e),f=A.useMemo(()=>Wy(e,d),[e,d]),m=A.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,y=A.useMemo(()=>{if(!i)return[];const I=i.getFullYear(),z=gw(I),q=pt(z,p);return[{at:z,gz:q}]},[i,p]),b=t.length>0?t:s.length>0?s:y,w=A.useMemo(()=>[...b].sort((I,z)=>I.at.getTime()-z.at.getTime()),[b]),T=A.useMemo(()=>{if(w.length===0)return 0;const I=Ky(w,i);return I<0?0:I>=w.length?w.length-1:I},[w,i]),[S,j]=A.useState(null);A.useEffect(()=>{j(null)},[i,w]);const D=S??T,O=A.useMemo(()=>{const I=bee(e);return Gl(I)},[e]),M=e.mingSikType??"/",C=A.useMemo(()=>At(O,M).charAt(0),[O,M]),R=A.useMemo(()=>r.sinsalBase===""?At(f,M).charAt(1):pt(f,p).charAt(1),[f,M,p,r.sinsalBase]);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((I,z)=>{const q=I.at.getFullYear(),V=gw(q),H=pt(V,p),U=H.charAt(0),Z=H.charAt(1),re=z===D,ve=rM(U,"stem",r.charType),J=rM(Z,"branch",r.charType),ae=iM(U,"stem"),ne=iM(Z,"branch"),ce=r.thinEum&&ae?"font-thin":"font-bold",te=r.thinEum&&ne?"font-thin":"font-bold",Y=r.showSibiUnseong?sn(C,Z):null,B=r.showSibiSinsal?ln({baseBranch:R,targetBranch:Z,era:gee(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,X=vee(m,q);return _.jsxs("div",{onClick:()=>{if(z===0){j(z);return}j(z);const ee=gw(q),G=pt(ee,p);a({at:ee,gz:G},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(q)):Promise.resolve().then(()=>n(q)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${re?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${H}  ${I.at.toLocaleDateString()}  ${X}`,children:[_.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[X,""]}),_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(C,{stem:U})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${sa(U,"stem",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${ce}`,children:ve})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${sa(Z,"branch",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${te}`,children:J})}),r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(C,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&Y&&_.jsx("div",{children:Y}),r.showSibiSinsal&&B&&_.jsx("div",{children:B})]})]})]},`${q}-${I.gz||z}`)})})]})}const xee=new Set(["","","","","","","","","","","",""]);function wee(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...mo(new Date(n-1,5,15,12,0))??[],...mo(new Date(n,5,15,12,0))??[],...mo(new Date(n+1,5,15,12,0))??[]].map(d=>({name:String(d.name),date:new Date(d.date)})).sort((d,f)=>d.date.getTime()-f.date.getTime()).filter(d=>xee.has(d.name));let a=i.findIndex((d,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const s=i[a],c=i[a+1];return{start:new Date(s.date.getFullYear(),s.date.getMonth(),s.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:s,next:c}}const l5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},c5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},See=Object.fromEntries(Object.entries(l5).map(([e,t])=>[t,e])),Eee=Object.fromEntries(Object.entries(c5).map(([e,t])=>[t,e]));function oM(e,t,n){return n===""?t==="stem"?l5[e]??e:c5[e]??e:t==="stem"?See[e]??e:Eee[e]??e}const Aee=new Set(["","","","","","","","","",""]),Tee=new Set(["","","","","","","","","","","",""]);function sM(e,t){return t==="stem"?Aee.has(e):Tee.has(e)}function kee(e){return typeof e=="object"&&e!==null}function Oee(e){return kee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function jee(e){const t=Au;return Oee(t)?e==="classic"?t.Classic:t.Modern:e}const Cee=new Set(["","","","","","","","","","","",""]);function Nee(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Mee(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function vw(e){return new Date(e,5,15,12,0,0,0)}function Dee(e){const n=[...mo(vw(e-1))??[],...mo(vw(e))??[],...mo(vw(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,d)=>c.date.getTime()-d.date.getTime()).filter(c=>Cee.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const s=[];for(let c=0;c<12;c++){const d=n[a+c];if(!d)break;const f=new Date(d.date),m=Nee(f);s.push({name:d.name,termAt:f,at00:m})}return s}const Pee=!1,lM=e=>e<10?`0${e}`:`${e}`;function Ree(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${lM(f.getMonth()+1)}${lM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Lee({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=Er(S=>S.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,s=Gl(e),c=A.useMemo(()=>Wy(e,s),[e,s]),d=A.useMemo(()=>{const S=Ree(e);return Gl(S)},[e]),f=e.mingSikType??"/",m=A.useMemo(()=>At(d,f).charAt(0),[d,f]),p=i.sinsalBase===""?At(c,f).charAt(1):pt(c,a).charAt(1),y=A.useMemo(()=>t?Dee(t).map(j=>{const D=j.termAt,O=new Date(j.termAt.getTime()+1860*1e3),M=Mt(O,a);return{at:D,gz:M,term:j.name,termAt:j.termAt}}):[],[t,a]),{date:b,setFromEvent:w}=Di(),T=Ky(y,b);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:y.map((S,j)=>{const D=S.gz.charAt(0),O=S.gz.charAt(1),M=`${Mee(S.at)}`,C=j===T,R=oM(D,"stem",i.charType),I=oM(O,"branch",i.charType),z=sM(D,"stem"),q=sM(O,"branch"),V=i.thinEum&&z?"font-thin":"font-bold",H=i.thinEum&&q?"font-thin":"font-bold",U=i.showSibiUnseong?sn(m,O):null,Z=i.showSibiSinsal?ln({baseBranch:p,targetBranch:O,era:jee(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return _.jsxs("div",{onClick:()=>{r(S.at);const re=new Date(S.at),{start:ve}=wee(re);n?.(ve.getFullYear(),ve.getMonth()),w({at:re,gz:Mt(re,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${C?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${S.term}   ${S.gz}  ${S.termAt.toLocaleString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(m,{stem:D})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa(D,"stem",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${V}`,children:R})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa(O,"branch",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${H}`,children:I})}),i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(m,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&U&&_.jsx("div",{children:U}),i.showSibiSinsal&&Z&&_.jsx("div",{children:Z})]}),_.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:S.term})]})]},`${S.term}-${S.at.toISOString()}`)})})]})}const u5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},d5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$ee=Object.fromEntries(Object.entries(u5).map(([e,t])=>[t,e])),Iee=Object.fromEntries(Object.entries(d5).map(([e,t])=>[t,e]));function cM(e,t,n){return n===""?t==="stem"?u5[e]??e:d5[e]??e:t==="stem"?$ee[e]??e:Iee[e]??e}const Bee=new Set(["","","","","","","","","",""]),zee=new Set(["","","","","","","","","","","",""]);function uM(e,t){return t==="stem"?Bee.has(e):zee.has(e)}function Uee(e){return typeof e=="object"&&e!==null}function Hee(e){return Uee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Fee(e){const t=Au;return Hee(t)?e==="classic"?t.Classic:t.Modern:e}const Gee=!1,dM=e=>e<10?`0${e}`:`${e}`;function qee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=Jr(i,a,s,0,0),d=`${c.getFullYear()}${dM(c.getMonth()+1)}${dM(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}function Yee(e,t){return new Date(e,t,15,12,0,0,0)}function yw(e){const t=new Date(e);return t.setHours(23,59,0,0),t}const Kee=new Set(["","","","","","","","","","","",""]);function f5(e){return[...mo(new Date(e-1,5,15,12,0))??[],...mo(new Date(e,5,15,12,0))??[],...mo(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime())}function Wee(e){const t=f5(e.getFullYear()),n=t.filter(s=>Kee.has(s.name));if(n.length<12){const s=t.findIndex(f=>f.date>e),c=t[Math.max(0,s-1)],d=t[Math.min(t.length-1,s)];return{start:new Date(c.date),end:new Date(d.date),cur:c,next:d}}let r=n.findIndex(s=>s.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}}function Vee({data:e,year:t,month:n,selectedMonth:r}){const i=Er(q=>q.settings),a=i.ilunRule||"/",s=e?Gl(e):null,c=e&&s?Wy(e,s):null,d=A.useMemo(()=>{const q=qee(e);return Gl(q)},[e]),f=A.useMemo(()=>d?At(d,a).charAt(0):void 0,[d,a]),m=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,p=e&&c?i.sinsalBase===""?At(c,a).charAt(1):pt(c,m).charAt(1):null,{date:y,setFromEvent:b}=Di(),w=A.useMemo(()=>Yee(t,n),[t,n]),T=A.useMemo(()=>y?yw(new Date(y)):null,[y]),S=A.useMemo(()=>r?yw(r):null,[r]),j=A.useMemo(()=>T??S??w,[T,S,w]),{start:D,end:O,cur:M,next:C}=A.useMemo(()=>Wee(j),[j]),R=A.useMemo(()=>{const q=[],V=new Date(D);for(;V<O;)q.push(new Date(V)),V.setDate(V.getDate()+1);return q},[D,O]),I=A.useMemo(()=>{const q=f5(j.getFullYear()),V=q.filter(U=>U.date>=D&&U.date<O),H=q.find(U=>U.date>=O);return H?[...V,H]:V},[j,D,O]),z=A.useMemo(()=>{const q=[];let V=[];const H=new Date(D).getDay();for(let U=0;U<H;U++)V.push(null);for(const U of R)V.length===7&&(q.push(V),V=[]),V.push(U);for(;V.length<7;)V.push(null);return q.push(V),q},[R,D]);return _.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:_.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[M?.name?_.jsxs(_.Fragment,{children:[M.name," ~ ",C?.name??""]}):`${t} ${n}`,I.length>0&&_.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",I.map((q,V)=>_.jsxs("span",{children:[q.name," ",Zee(q.date),V<I.length-1?"  ":""]},`${q.name}_${q.date.getTime()}_${V}`)),"]"]})]})}),_.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(q=>_.jsx("div",{className:"py-1",children:q},q))}),_.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:z.map((q,V)=>q.map((H,U)=>{if(!H)return _.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${V}-${U}`);const Z=yw(H),re=new Date,ve=Z.getFullYear()===re.getFullYear()&&Z.getMonth()===re.getMonth()&&Z.getDate()===re.getDate(),ae=!!T&&Z.getFullYear()===T.getFullYear()&&Z.getMonth()===T.getMonth()&&Z.getDate()===T.getDate()||!T&&ve,ne=fG(Z,a),ce=ne.charAt(0),te=ne.charAt(1),Y=cM(ce,"stem",i.charType),B=cM(te,"branch",i.charType),X=i.thinEum&&uM(ce,"stem")?"font-thin":"font-bold",ee=i.thinEum&&uM(te,"branch")?"font-thin":"font-bold",G=!!f&&i.showSipSin,W=!!f&&i.showSibiUnseong,le=!!f&&p!=null&&i.showSibiSinsal,fe=G?li(f,{stem:ce}):"",Q=G?li(f,{branch:te}):"",de=W?sn(f,te):"",we=le?ln({baseBranch:p,targetBranch:te,era:Fee(i.sinsalMode),gaehwa:!!i.sinsalBloom}):"",se=I.find(Ce=>Ce.date.getFullYear()===Z.getFullYear()&&Ce.date.getMonth()===Z.getMonth()&&Ce.date.getDate()===Z.getDate());return _.jsxs("div",{onClick:()=>b({at:Z},""),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${ae?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${ne} (${Z.toLocaleDateString()})`,children:[_.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[_.jsx("span",{children:Z.getDate()}),se&&_.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:se.name})]}),G&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:fe}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${sa(ce,"stem",i)}`,children:_.jsx("span",{className:X,children:Y})}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${sa(te,"branch",i)}`,children:_.jsx("span",{className:ee,children:B})}),G&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Q}),(W||le)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[W&&de&&_.jsx("div",{children:de}),le&&we&&_.jsx("div",{children:we})]})]},H.toISOString())}))})]})}function Zee(e){if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const s of t)s.type==="month"&&(n=s.value),s.type==="day"&&(r=s.value),s.type==="hour"&&(i=s.value),s.type==="minute"&&(a=s.value);return`${n}/${r} ${i}:${a}`}function fM(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const s=lr(a,315);let c=a;new Date<s&&(c=a-1);const f=pt(new Date(c,1,10));i.push({at:s,gz:f})}return i}function Xee({data:e}){const t=Ym(e),[n,r]=A.useState(null),[i,a]=A.useState(null),[s,c]=A.useState("il"),[d,f]=A.useState(null);A.useEffect(()=>{if(!t.length)return;const w=new Date,T=t.findIndex((S,j)=>{const D=t[j+1]?.at;return w>=S.at&&(!D||w<D)});T!==-1&&r(T)},[t]),A.useEffect(()=>{if(n===null)return;const w=t[n],T=t[n+1];if(!w)return;const S=fM(w,T),j=new Date;S.findIndex((O,M)=>{const C=S[M+1]?.at;return j>=O.at&&(!C||j<C)})!==-1&&a({year:j.getFullYear(),month:j.getMonth()})},[n,t]);const m=oA(e),{date:p}=Di(),y=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),b=A.useMemo(()=>{if(!m?.dae?.gz)return[];const w=t.findIndex((j,D)=>{const O=t[D+1]?.at;return m.dae.at>=j.at&&(!O||m.dae.at<O)});if(w===-1)return[];const T=t[w],S=t[w+1];return fM(T,S)},[t,m?.dae]);return _.jsxs("div",{className:"w-full space-y-4",children:[_.jsx(lee,{data:e}),s==="se"||s==="wol"||s==="il"?_.jsx(_ee,{data:e,list:b,onSelect:()=>{c("wol")}}):null,s==="wol"||s==="il"?_.jsx(Lee,{data:e,activeYear:y,onSelect:(w,T)=>{a({year:w,month:T}),c("il")},onSelectMonth:f}):null,s==="il"&&i&&_.jsx(Vee,{data:e,year:i.year,month:i.month+1,hourTable:e?.mingSikType,selectedMonth:d})]})}const Jee=new Set(QF),Qee=new Set(eG);function hM(e){return typeof e=="string"&&e.length>=2&&Jee.has(e[0])&&Qee.has(e[1])}function Wi(e,...t){if(hM(e))return e;for(const n of t)if(hM(n))return n;return""}const ete={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22},h5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function mM(e){return!!e&&Ra..includes(e)}function nte(e){return h5[e]??e}function pM(e){return tte[e]??e}function rte(e){if(mM(e))return e;const t=h5[e];return mM(t)?t:""}function ite(e){return typeof e=="object"&&e!==null&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function ate(e){const t=Au;return ite(t)?e==="classic"?t.Classic??t.classic:t.Modern??t.modern:e}function e0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function ote({data:e}){const t=Er(V=>V.settings),{manualHour:n}=Um(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:s,sinsalBloom:c}=t,{date:d}=Di(),f=A.useMemo(()=>aA(e),[e]),m=A.useMemo(()=>Yy(f),[f]),p=A.useMemo(()=>rA(f,"/"),[f]),y=A.useMemo(()=>rte(p.day?.charAt(0)??""),[p.day]),b=!e.birthTime||e.birthTime==="",w=A.useMemo(()=>e5(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),T=A.useMemo(()=>n5(w,p.day,e.dir??"forward",""),[w,p.day,e.dir]),S=A.useMemo(()=>qm(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),j=A.useMemo(()=>r5(S,p.year,e.dir??"forward","",m),[S,p.year,e.dir,m]),D=A.useMemo(()=>{const V=w?.events?.[0];return V?{at:V.at,from:Wi(p.hour),to:Wi(V.gz)}:null},[w?.events,p.hour]),O=A.useMemo(()=>{const V=S?.events?.[0];return S?.firstChange?{at:S.firstChange,from:Wi(p.month),to:Wi(V?.gz??p.month)}:null},[S?.firstChange,S?.events,p.month]),M=A.useMemo(()=>{const V=b?n?n.stem+n.branch:"":Wi(e0(w.events,d)?.gz,p.hour);let H;if(b&&n){const U=d.getFullYear(),Z=d.getMonth(),re=d.getDate(),ve=ete[n.branch]??0,J=new Date(U,Z,re,ve,0),ae=At(J,e.mingSikType??"/");H=Wi(ae,p.day)}else H=Wi(e0(T.events,d)?.gz,p.day);return{si:V,il:H,wl:Wi(e0(S.events,d)?.gz,p.month),yn:Wi(e0(j.events,d)?.gz,p.year)}},[d,w.events,T.events,S.events,j.events,p,b,n,e.mingSikType]),C=A.useMemo(()=>({si:Wi(Ia(d,"/")),il:Wi(At(d,"/")),wl:Wi(Mt(d)),yn:Wi(pt(d))}),[d]),R=A.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),I=A.useMemo(()=>ate(s),[s]),z=V=>{if(!V)return{unseong:"",shinsal:""};const H=nte(y),U=pM(V.charAt(1)),Z=pM(R);return{unseong:r&&sn(H,U)||"",shinsal:i&&ln({baseBranch:Z,targetBranch:U,era:I,gaehwa:!!c})||""}},q=(V,H,U="myoun")=>{const Z=H,{unseong:re,shinsal:ve}=H?z(H):{unseong:"",shinsal:""},J=U==="myoun"&&b&&(V===""||V==="");return _.jsx(Cd,{label:V,gz:Z,dayStem:y,settings:t,unseongText:H?re:"",shinsalText:H?ve:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:J},`${U}-${V}`)};return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[_.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:_.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",em(m),")"]})]})}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",M.si,"myoun"),q("",M.il,"myoun"),q("",M.wl,"myoun"),q("",M.yn,"myoun")]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",C.si,"live"),q("",C.il,"live"),q("",C.wl,"live"),q("",C.yn,"live")]})]})]}),_.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[_.jsx("div",{className:"font-semibold",children:"  "}),_.jsxs("div",{children:[":"," ",D?`${em(D.at)} (${D.from}  ${D.to})`:" "]}),_.jsxs("div",{children:[":"," ",O?`${em(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const gM=["","","","","","","","","",""],ste={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},cte={:"",:"",:"",:"",:""},ute={:"",:"",:"",:"",:""},dte={:"",:"",:"",:"",:""},fte={:"",:"",:"",:"",:""};function hte(e,t){switch(e){case"":return t;case"":return cte[t];case"":return dte[t];case"":return fte[t];case"":return ute[t];default:return t}}function mte({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:s}){const c=i,d=a,f=c/2,m=d/2,p=Math.min(c,d)*.37,y=A.useMemo(()=>{const O=(r??"").charAt(0);return lte[O]??null},[r]),b=O=>Math.PI/2+2*-Math.PI*O/5,w=A.useMemo(()=>e.map((O,M)=>({...O,x:f+p*Math.cos(b(M)),y:m-p*Math.sin(b(M))})),[e,f,m,p]),[T,S]=A.useState(0),j=A.useRef(""),D=A.useMemo(()=>{const O=e.map(R=>`${R.name}:${R.value}`).join(","),M=gM.map(R=>`${R}:${t?.[R]??0}`).join(","),C=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[s??"",O,M,C,r??""].join("||")},[s,e,t,r,n]);return A.useEffect(()=>{D!==j.current&&(j.current=D,S(O=>O+1))},[D]),_.jsx("div",{className:"w-full",children:_.jsxs("svg",{width:c,height:d,className:"mx-auto pt-2",children:[w.map((O,M)=>{const C=w[(M+2)%5];return _.jsx("line",{x1:O.x,y1:O.y,x2:C.x,y2:C.y,stroke:"#94a3b8",strokeWidth:1},`line-${M}`)}),w.map((O,M)=>{const C=w[(M+1)%5],R=(O.x+C.x)/2,I=(O.y+C.y)/2,z=R-f,q=I-m,V=1.5,H=f+z*V,U=m+q*V;return _.jsx("path",{d:`M${O.x},${O.y} Q${H},${U} ${C.x},${C.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${M}`)}),_.jsx("defs",{children:_.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:_.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),w.map(O=>{const M=O.name,C=y?hte(M,y):null,R=C?gM.filter(I=>ste[I]===C).map(I=>[I,t?.[I]??0]):[];return _.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[_.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),_.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),R.map(([I,z],q)=>_.jsxs("text",{textAnchor:"middle",dy:8+q*11,fontSize:10,className:"fill-white",children:[I," ",Math.round(z)]},I))]},`${O.name}-${O.value}`)})]},T)})}const pte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function cA(e){return Math.max(0,Math.min(100,e))}function m5(e){const t=cA(e);return pte.find(r=>t>=r.min&&t<r.max)?.name??""}const gte=[10,20,35,45,55,65,80];function vte({value:e}){const t=A.useMemo(()=>cA(e),[e]),n=A.useMemo(()=>m5(t),[t]);return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:""}),_.jsx("span",{children:""}),_.jsx("span",{children:""})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[gte.map(r=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}const ys=["","","",""],t0={year:0,month:1,day:2,hour:3},bw="",yte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function qe(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=yte[r[1]]??r[1],a=p5[r[2]]??r[2];return`${i}${a}`}return""}const Mv=e=>e&&e.length>=1?e[0]:"",bs=e=>e&&e.length>=2?e[1]:"",uA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],dA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],fA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],hA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],mA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],pA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],gA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],vA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],vM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],yA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],bA=[{pair:["",""],label:""}],bte=new Set(["","","",""]),hm=new Set(["","","",""]),Vy=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],Zy=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}];function In(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function an(e,t){e.includes(t)||e.push(t)}const Fc=e=>[...e].sort((t,n)=>t-n).map(t=>ys[t]).join("X"),_w=(e,t)=>e===0&&t===3||e===3&&t===0;function yM(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),s=Math.max(r,i);a===0&&s===3||n.push([a,s])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),s=Math.abs(i[0]-i[1]);return a!==s?a-s:0})}function _te(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],s=n[i];a===0&&s===3||t.push([a,s])}return t}const g5=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function xte(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const wte=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function v5(e){for(const t of wte){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!xte(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=y5(e.jijiHyeong),e}const bM=["","","",""];function y5(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function _A(e,t={}){const{emitGanjiAmhap:n=!0}=t,r=e.map(qe),i=r.map(y=>Mv(y)),a=r.map(y=>bs(y)),c={title:r.map((y,b)=>`${y}${["","","",""][b]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},d=(y,b,w,T)=>{const S=i.flatMap((D,O)=>D===y?[O]:[]),j=i.flatMap((D,O)=>D===b?[O]:[]);for(const D of S)for(const O of j)D!==O&&Math.abs(D-O)===1&&an(T,`#${Fc([D,O])}_${w}`)};uA.forEach(({pair:[y,b],label:w})=>d(y,b,w,c.cheonganHap)),dA.forEach(({pair:[y,b],label:w})=>d(y,b,w,c.cheonganChung));const f=y=>{const b=new Set,w=[];for(const T of y)for(let S=0;S<a.length;S++)if(a[S]===T&&!b.has(S)){b.add(S),w.push(S);break}return w};Vy.forEach(({name:y,members:b,wang:w})=>{const T=b.filter(j=>a.includes(j)),S=new Set(T).size;if(S===3){const j=f(b);j.length===3&&an(c.jijiSamhap,`#${Fc(j)}_${y}`)}else if(S===2){if(!T.includes(w))return;const[j,D]=T,O=a.flatMap((I,z)=>I===j?[z]:[]),M=a.flatMap((I,z)=>I===D?[z]:[]),C=yM(O,M),R=C.length>1;for(const[I,z]of C){const q=_w(I,z),V=`#${Fc([I,z])}_${j}${D}${R?"":q?`_${bw}`:""}`;an(c.jijiSamhap,V)}}}),Zy.forEach(({name:y,members:b})=>{const w=b.filter(S=>a.includes(S));if(new Set(w).size===3){const S=f(b);S.length===3&&an(c.jijiBanghap,`#${Fc(S)}_${y}`)}});const m=(y,b,w,T)=>{const S=a.flatMap((M,C)=>M===y?[C]:[]),j=a.flatMap((M,C)=>M===b?[C]:[]),D=yM(S,j),O=D.length>1;for(const[M,C]of D){const R=_w(M,C),I=`#${Fc([M,C])}_${w}${O?"":R?`_${bw}`:""}`;an(T,I)}};if(fA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiYukhap)),hA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiChung)),mA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiPa)),pA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiHae)),gA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiWonjin)),vA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiGwimun)),[["","",""],["","",""]].forEach(y=>{const b=[],w=new Set;if(y.forEach(T=>{a.forEach((S,j)=>{S===T&&(b.push(j),w.add(T))})}),w.size===3){const T=Array.from(new Set(b)).sort((S,j)=>S-j);an(c.jijiHyeong,`#${Fc(T)}_${y.join("")}`)}}),yA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiHyeong)),bA.forEach(({pair:[y,b],label:w})=>m(y,b,w,c.jijiHyeong)),["","","",""].forEach(y=>{const b=a.flatMap((S,j)=>S===y?[j]:[]),w=_te(b),T=w.length>1;for(const[S,j]of w){const D=_w(S,j),O=`#${Fc([S,j])}_${y}${y}${T?"":D?`_${bw}`:""}`;an(c.jijiHyeong,O)}}),[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}].forEach(({pair:[y,b],label:w})=>m(y,b,w,c.amhap)),n)for(let y=0;y<4;y++){const b=r[y]??"";if(b.length<2)continue;const w=`${b[0]}${b[1]}`;hm.has(w)&&an(c.ganjiAmhap,`#${g5(ys[y])}_${w}`)}return c.jijiHyeong=y5(c.jijiHyeong),v5(c)}function Vr(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[qe(e.natal[0]??""),qe(e.natal[1]??""),qe(e.natal[2]??""),qe(e.natal[3]??"")],a=[qe(e.daewoon??""),qe(e.sewoon??""),qe(e.wolwoon??"")].some(m=>m.length>=2),s={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(n&&a)for(let m=0;m<4;m++){const p=r[m]??"";if(p.length<2)continue;const y=`${p[0]}${p[1]}`;hm.has(y)&&an(s.ganjiAmhap,`#${g5(ys[m])}_${y}`)}const c=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,f=!1;for(const[m,p]of c){if(!p)continue;const y=qe(p);if(!y||y.length<2)continue;const b=Mv(y),w=bs(y);{const j=`${b}${w}`;hm.has(j)&&an(s.ganjiAmhap,`#${m}_${j}`)}for(let j=0;j<4;j++){const D=r[j]??"";if(D.length<2)continue;const O=ys[j],M=Mv(D),C=bs(D),R=In(uA,b,M);R&&an(s.cheonganHap,`#${m}X${O}_${R}`);const I=In(dA,b,M);I&&an(s.cheonganChung,`#${m}X${O}_${I}`);const z=In(fA,w,C);z&&an(s.jijiYukhap,`#${m}X${O}_${z}`);const q=In(hA,w,C);q&&an(s.jijiChung,`#${m}X${O}_${q}`);const V=In(mA,w,C);V&&an(s.jijiPa,`#${m}X${O}_${V}`);const H=In(pA,w,C);H&&an(s.jijiHae,`#${m}X${O}_${H}`);const U=In(gA,w,C);U&&an(s.jijiWonjin,`#${m}X${O}_${U}`);const Z=In(vA,w,C);Z&&an(s.jijiGwimun,`#${m}X${O}_${Z}`);const re=In(yA,w,C);if(re)an(s.jijiHyeong,`#${m}X${O}_${re}`);else{const ae=In(bA,w,C);ae?an(s.jijiHyeong,`#${m}X${O}_${ae}`):w===C&&bte.has(w)&&an(s.jijiHyeong,`#${m}X${O}_${w}${C}`)}const J=In([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],w,C);J&&an(s.amhap,`#${m}X${O}_${J}`)}const T=r.map(j=>{const D=bs(j??"");return p5[D]??D});for(const j of Vy){if(!j.members.includes(w))continue;const D=j.members.filter(M=>M!==w),O=T.map((M,C)=>({b:M,pos:ys[C]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,C]=O.map(R=>R.pos).sort((R,I)=>["","","",""].indexOf(R)-["","","",""].indexOf(I));an(s.jijiSamhap,`#${m}X${M}X${C}_(${j.name})`)}}const S=[...r.map((j,D)=>({b:bs(j),pos:ys[D]}))];for(const j of Zy){const D=S.filter(O=>j.members.includes(O.b));if(new Set(D.map(O=>O.b)).size===3){const O=D.map(M=>M.pos).join("X");an(s.jijiBanghap,`#${O}_(${j.name})`)}}for(const j of vM){if(!j.members.includes(w))continue;const D=j.members.filter(M=>M!==w),O=T.map((M,C)=>({b:M,pos:ys[C]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,C]=O.map(R=>R.pos).sort((R,I)=>["","","",""].indexOf(R)-["","","",""].indexOf(I));an(s.jijiHyeong,`#${m}X${M}X${C}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(f=!0)}}}{const m=[],p=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,b]of p){const w=qe(b??"");w.length>=2&&m.push({kind:y,b:bs(w)})}if(m.length>=2){const y=r.map((b,w)=>({pos:ys[w],b:bs(b)}));for(const b of vM)for(let w=0;w<m.length;w++)for(let T=w+1;T<m.length;T++){const S=m[w],j=m[T];for(const D of y){const O=new Set([D.b,S.b,j.b]);if(O.size===3&&b.members.every(M=>O.has(M))){const M=[S.kind,j.kind].sort((R,I)=>bM.indexOf(R)-bM.indexOf(I)).join("X"),C=`${D.pos}X${M}`;an(s.jijiHyeong,`#${C}_${b.name}`),b.name===""&&(d=!0),b.name===""&&(f=!0)}}}}}return(d||f)&&(s.jijiHyeong=s.jijiHyeong.filter(m=>!(d&&/(||)/.test(m)||f&&/(||)/.test(m)))),v5(s)}function Ste(e,t){const r=e.map(qe).map(d=>bs(d)),i=t0.month,a=r[i],s=d=>{const f=[];for(let m=0;m<4;m++){const p=r[m];p&&d.has(p)&&f.push(m)}return f},c=d=>{const f=[...d].sort((m,p)=>m-p);return f.length===3&&f[0]+1===f[1]&&f[1]+1===f[2]};for(const d of Vy){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?10:8:t[d.out]+=5:t[d.out]+=3}if(m.length===2&&m.includes(i)){const p=m[0]===i?m[1]:m[0],y=a===d.wang;p===t0.day&&y?t[d.out]+=8:p===t0.year&&y?t[d.out]+=6:p===t0.hour&&(t[d.out]+=y?4:2)}}for(const d of Zy){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?8:6:t[d.out]+=4:t[d.out]+=2}}}function _M(e){const t=["","","",""],n=e.map(qe),r=n.map(c=>Mv(c)),i=n.map(c=>bs(c)),a=new Map,s=new Map;for(let c=0;c<4;c++){const d=r[c],f=i[c];d.includes(d)&&a.set(d,[...a.get(d)??[],c]),f.includes(f)&&s.set(f,[...s.get(f)??[],c])}return{stemsByPos:r,brsByPos:i,stemPos:a,brPos:s,names:t}}function Xt(e){return ys[e]}function Wr(e,t){t&&(e.includes(t)||e.push(t))}function Ete(e,t){const n=_M(e),r=_M(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]};for(let c=0;c<4;c++){const d=n.stemsByPos[c],f=n.brsByPos[c];for(let m=0;m<4;m++){const p=r.stemsByPos[m],y=r.brsByPos[m],b=In(uA,d,p);b&&Wr(i.,`${Xt(c)}X${Xt(m)} ${b}`);const w=In(dA,d,p);w&&Wr(i.,`${Xt(c)}X${Xt(m)} ${w}`);const T=In(fA,f,y);T&&Wr(i.,`${Xt(c)}X${Xt(m)} ${T}`);const S=In(hA,f,y);S&&Wr(i.,`${Xt(c)}X${Xt(m)} ${S}`);const j=In(mA,f,y);j&&Wr(i.,`${Xt(c)}X${Xt(m)} ${j}`);const D=In(pA,f,y);D&&Wr(i.,`${Xt(c)}X${Xt(m)} ${D}`);const O=In(gA,f,y);O&&Wr(i.,`${Xt(c)}X${Xt(m)} ${O}`);const M=In(vA,f,y);M&&Wr(i.,`${Xt(c)}X${Xt(m)} ${M}`);const R=In([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],f,y);R&&Wr(i.,`${Xt(c)}X${Xt(m)} ${R}`);const I=`${d}${y}`,z=`${p}${f}`;hm.has(I)&&Wr(i.,`${Xt(c)}X${Xt(m)} ${I}`),hm.has(z)&&Wr(i.,`${Xt(m)}X${Xt(c)} ${z}`);const q=In(yA,f,y);if(q)Wr(i.,`${Xt(c)}X${Xt(m)} ${q}`);else{const V=In(bA,f,y);V&&Wr(i.,`${Xt(c)}X${Xt(m)} ${V}`)}}}const a=new Set(n.brsByPos.filter(Boolean)),s=new Set(r.brsByPos.filter(Boolean));for(const c of Vy){if(c.members.every(m=>a.has(m)||s.has(m))){const m=c.members.filter(y=>a.has(y)).length,p=c.members.filter(y=>s.has(y)).length;m>=1&&p>=1&&Wr(i.,`${c.name}`)}const f=c.members.filter(m=>a.has(m)||s.has(m));if(f.length===2&&f.includes(c.wang)){const m=f.some(y=>a.has(y)),p=f.some(y=>s.has(y));if(m&&p){const[y,b]=f.sort(),w=n.brPos.get(y)?.[0]??n.brPos.get(b)?.[0],T=r.brPos.get(y)?.[0]??r.brPos.get(b)?.[0];w!=null&&T!=null&&Wr(i.,`${Xt(w)}X${Xt(T)} ${y}${b}`)}}}for(const c of Zy)if(c.members.every(f=>a.has(f)||s.has(f))){const f=c.members.filter(p=>a.has(p)).length,m=c.members.filter(p=>s.has(p)).length;f>=1&&m>=1&&Wr(i.,`${c.name}`)}return Object.keys(i).forEach(c=>i[c].sort()),i}function Nh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function to({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const s=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],d=s?c.filter(p=>p!=="#"):c,m=d.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[_.jsx("div",{className:m,children:e}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Nh(p,"natal"),children:p},`natal-${y}`)),n.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Nh(p,"dae"),children:p},`dae-${y}`)),r.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Nh(p,"se"),children:p},`se-${y}`)),i.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Nh(p,"wol"),children:p},`wol-${y}`)),a.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Nh(p,"il"),children:p},`il-${y}`))]})]})}function nE(e){return Array.isArray(e)?e:[]}function n0(e,t){const n=new Set(nE(e));return nE(t).filter(i=>!n.has(i))}function Ate({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const s=_A(e),c=Vr({natal:e}),d=t?Vr({natal:e,daewoon:t}):c,f=n?Vr({natal:e,daewoon:t,sewoon:n}):d,m=r?Vr({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?Vr({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,y=T=>({natal:nE(s[T]),dae:n0(c[T],d[T]),se:n0(d[T],f[T]),wol:n0(f[T],m[T]),il:n0(m[T],p[T])}),b={cheonganHap:y("cheonganHap"),cheonganChung:y("cheonganChung"),jijiSamhap:y("jijiSamhap"),jijiBanghap:y("jijiBanghap"),jijiYukhap:y("jijiYukhap"),amhap:y("amhap"),ganjiAmhap:y("ganjiAmhap"),jijiChung:y("jijiChung"),jijiHyeong:y("jijiHyeong"),jijiPa:y("jijiPa"),jijiHae:y("jijiHae")},w=T=>a===""?{natal:T.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:T.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:""}),_.jsx(to,{label:"",...w(b.cheonganHap)}),_.jsx(to,{label:"",...w(b.cheonganChung)}),_.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),_.jsx(to,{label:"",...w(b.jijiSamhap)}),_.jsx(to,{label:"",...w(b.jijiBanghap)}),_.jsx(to,{label:"",...w(b.jijiYukhap)}),_.jsx(to,{label:"",...w(b.amhap)}),_.jsx(to,{label:"",...w(b.ganjiAmhap)}),_.jsx(to,{label:"",...w(b.jijiChung)}),_.jsx(to,{label:"",...w(b.jijiHyeong)}),_.jsx(to,{label:"",...w(b.jijiPa)}),_.jsx(to,{label:"",...w(b.jijiHae)})]})}const Tte={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},kte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function b5(e){const t=kte[e]??"";return Tte[t]}const _5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ote={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Km={:"",:"",:"",:"",:""},mm={:"",:"",:"",:"",:""},mf={:"",:"",:"",:"",:""},jte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],Cte={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}};function xA(e){return Math.max(0,Math.min(100,e))}function Zd(e,t,n){return Math.max(t,Math.min(n,e))}function Nte(e){const t=xA(e);return jte.find(n=>t>=n.min&&t<n.max)?.name??""}function Mte(e){const t=e?.[2]?.charAt(0)??"";return _5[t]??null}function Dte(e){return(e?.[1]?.charAt(1)??"")||null}function Xy(e){const t=Object.entries(mf);for(const[n,r]of t)if(r===e)return n;return""}function Pte(e){return e?{peer:e,resource:mm[e],leak:Km[e],wealth:mf[e],officer:Xy(e)}:null}function Rte(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=_5[r],s=Ote[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t}function Lte(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={:0,:0,:0,:0,:0};return Object.keys(e).forEach(r=>{n[r]=e[r]/t*100}),n}function $te(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return xA((n("")+n(""))/t*100)}function Ite(e,t){return!e||!t?null:t===e?"":Km[e]===t?"":mf[e]===t?"":Xy(e)===t?"":mm[e]===t?"":null}const xw=24,Bte=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function zte(e){for(const[t,n]of Bte)if(e>=t)return n;return 1}const Dv=20,xM=(e,t)=>Zd((Dv-(t[e]??0))/Dv,0,1),wM=(e,t)=>Zd(((t[e]??0)-Dv)/Dv,0,1);function Ute(e,t,n,r){const i=Ite(e,n);if(!e||!i)return 0;const a=Zd((50-t)/50,0,1),s=Zd((t-50)/50,0,1),c=xM(n,r),d=wM(n,r),f=xM(e,r),m=wM(e,r),p=6.5;let y=0;if(a>0)switch(i){case"":y=+(.3+.4*f+.15*c)*a;break;case"":y=+(.18+.45*f)*a;break;case"":y=-(.08+.2*(1-c)+.1*m)*a;break;case"":y=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":y=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(s>0)switch(i){case"":y=-(.25+.25*(1-c)+.2*m)*s;break;case"":y=-(.28+.2*m)*s;break;case"":y=+(.18+.2*c+.15*m)*s;break;case"":y=+(.22+.25*c+.1*m)*s;break;case"":y=+(.2+.2*c)*s;break}else switch(i){case"":y=.08*(f+c);break;case"":y=.05*f-.03*m;break;case"":y=.02*c-.02*d;break;case"":y=.01*c-.06*d;break;case"":y=-.05*(1-c);break}return Math.round(p*y*10)/10}function Hte(e,t,n,r){const i=["","",""].includes(t),a=["","","",""].includes(t),s={:0,:0,:0,:0,:0};if(i){const c=Km[e],d=mf[e],f=Xy(e);s[c]+=28,s[d]+=22,s[f]+=20,r.get(c)?.push(":    ()"),r.get(d)?.push(":     "),r.get(f)?.push(":     ")}if(a){const c=mm[e],d=e;s[c]+=28,s[d]+=22,r.get(c)?.push(":     "),r.get(d)?.push(":     ")}return s}function SM(e,t){if(!e)return{:0,:0,:0,:0,:0};const n=Cte[e]??{temp:"mild",wet:"normal"},r={:0,:0,:0,:0,:0};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function EM(e,t){const n={:0,:0,:0,:0,:0},r=["","","","",""];for(const i of r){const a=mf[i],s=Math.max(0,(e[i]??0)-(e[a]??0));if(s<=0)continue;const c=Km[i],d=Math.round(s*.35);d>0&&(n[c]+=d,t.get(c)?.push(`: ${i}${a} `))}return n}function AM(e,t){const n={:0,:0,:0,:0,:0},r=Object.entries(e),i=Math.min(...r.map(([,s])=>s)),a=r.filter(([,s])=>s<=Math.max(6,i));for(const[s]of a)n[s]+=12,t.get(s)?.push(":  ");return n}function TM(e,t){const n=Mte(e),r=Dte(e),i=Rte(e),a=Lte(i);let s=$te(t);if(s==null)if(!n)s=50;else{const H=n,U=mm[n],Z=Object.values(i).reduce((re,ve)=>re+ve,0)||1;s=xA(((i[H]??0)+(i[U]??0))/Z*100)}const c=Nte(s),d={:0,:0,:0,:0,:0},f=new Map(["","","","",""].map(H=>[H,[]]));if(n){const H=Hte(n,c,i,f);Object.keys(d).forEach(U=>{d[U]+=H[U]??0})}const m=SM(r,f);Object.keys(d).forEach(H=>{d[H]+=m[H]??0});const p=EM(i,f);Object.keys(d).forEach(H=>{d[H]+=p[H]??0});const y=AM(i,f);Object.keys(d).forEach(H=>{d[H]+=y[H]??0});const b=Pte(n),w={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)w[H.name]=H.value;if(s>=45&&s<=55&&b){const H=w.>=30||w.>=Math.max(w.,w.,w.,w.)+5;s<=50?(d[b.resource]+=14,f.get(b.resource)?.push(": -"),d[b.peer]+=10,f.get(b.peer)?.push(": -"),d[b.leak]+=6,f.get(b.leak)?.push(": -"),d[b.wealth]+=3,f.get(b.wealth)?.push(": -"),H&&b.officer&&(d[b.officer]=Math.round(d[b.officer]*.8*10)/10,f.get(b.officer)?.push(":   "))):(d[b.leak]+=14,f.get(b.leak)?.push(": -"),d[b.wealth]+=10,f.get(b.wealth)?.push(": -"),b.officer&&(d[b.officer]+=6,f.get(b.officer)?.push(": -")),d[b.resource]+=3,f.get(b.resource)?.push(": -"))}["","","","",""].forEach(H=>{const U=Ute(n,s,H,a);d[H]=Zd(Math.round((d[H]+U)*10)/10,0,999)});const S=s<50;["","","","",""].forEach(H=>{const U=a[H]??0,Z=S&&n===H;if(U>=xw&&!Z){const re=zte(U);d[H]=Math.round(d[H]*re*10)/10;const ve=Math.min(14,Math.max(0,Math.ceil((U-xw)*.5)));ve>0&&(d[H]=Zd(d[H]-ve,0,999)),f.get(H)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const H=Km[n],U=mf[n],Z=Xy(n),re=n,ve=mm[n];j[H].push(""),j[U].push(""),j[Z].push(""),j[re].push(""),j[ve].push("")}const D={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=H=>{const U=a[H]??0;return U>=xw&&!(S&&n===H)?U>=55?4:U>=45?3:2:D[H]?0:1},M=SM(r,new Map),C=EM(i,new Map),R=AM(i,new Map),I=Object.keys(d).map(H=>({element:H,score:Math.round(d[H]*10)/10,via:Fte(H,M,C,R),reasons:(f.get(H)??[]).slice(),tenGodHints:j[H]})).sort((H,U)=>{const Z=O(H.element),re=O(U.element);return Z!==re?Z-re:U.score!==H.score?U.score-H.score:H.element.localeCompare(U.element)}),z=Gte(c,M,C,R),q={:0,:0,:0,:0,:0},V=t?t.reduce((H,U)=>(H[U.name]=U.value,H),{...q}):void 0;return{chosenType:z,ordered:I,debug:{band:c,overallPct:s,elementScore:i,tenGodTotals:V,monthBranch:r??void 0}}}function Fte(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Gte(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),s=a(t),c=a(n),d=a(r);return s>Math.max(c,d)?"":c>=d?"":""}const qte=Object.fromEntries(ca..map((e,t)=>[e,di[t]])),Yte=Object.fromEntries(di.map((e,t)=>[e,ca.[t]])),Kte=Object.fromEntries(ca..map((e,t)=>[e,Mi[t]])),Wte=Object.fromEntries(Mi.map((e,t)=>[e,ca.[t]])),Vte=e=>qte[e]??e,Zte=e=>Kte[e]??e,Xte=e=>Yte[e]??e,Jte=e=>Wte[e]??e;function Qte(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Vte(n):Xte(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function wA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Zte(n):Jte(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const ene={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},x5={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},nne={...x5,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},kM=Qte(ene),OM=wA(tne);wA(x5);wA(nne);const rne=["","","","",""],kn={2:4,1:3,3:2,0:1};function r0(e,t,n="classic"){const r=Ji(t),i=on(t),a=(n==="hgc"?Ry:Py)[i]??[];return[r,...a].includes(e)}const Md={1:4,2:3,0:2,3:1},w5=new Set(Object.keys(jy)),S5=new Set(Object.keys(m2)),ine=e=>e.slice(0,1),ane=e=>e.slice(-1);function Ss(e){return Oy.has(e)?e:w5.has(e)?jy[e]??e:e}function ei(e){return h2.has(e)?e:S5.has(e)?m2[e]??e:e}function Ji(e){return Ss(ine(e))}function on(e){return ei(ane(e))}const Oe={year:0,month:1,day:2,hour:3};function ww(e,t){const n=ei(e),r=[Oe.day,Oe.month,Oe.hour,Oe.year];for(const i of r)if(on(t[i])===n)return{pos:i,weight:kn[i]??0};return null}function SA(e,t,n){return on(t[n])===ei(e)?{pos:n,weight:kn[n]}:null}function one(e,t){const n=Ss(e),r=[Oe.day,Oe.month,Oe.hour,Oe.year];for(const i of r)if(Ji(t[i])===n)return{pos:i,weight:kn[i]??0};return null}const sne=/^#(|||)X\1_/,lne=e=>sne.test(e);function jM(e){const t=new Map;for(const n of e){if(lne(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function i0(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const vu=e=>e===0?"":e===1?"":e===2?"":"",pf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",cne=(e,t)=>`#X${vu(t)}_${e}`,E5=(e,t)=>t===Oe.month?`#_${e}`:`#X${vu(t)}_${e}`,Ud=(e,t,n)=>`#${vu(t)}X${vu(n)}_${e}`,une=(e,t)=>`#${e==="day"?"":""}X${vu(t)}_`,Po=e=>`#_${e}`,a0=(e,t)=>`#${vu(t)}_${e}`,bd=(e,t)=>`#X${pf(t)}_${e}`,Mh=(e,t)=>`#X${pf(t)}_${e}`,Sw=(e,t,n)=>`#${pf(t)}X${vu(n)}_${e}`,dne=(e,t)=>`#${t==="day"?"":""}X${pf(e)}_`,fne=(e,t)=>`#${t==="day"?"":""}X${pf(e)}_`,CM=(e,t)=>`#X${pf(e)}_${t}`;function hne(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Oy.has(i)||w5.has(i))&&(n=Ss(i)),(h2.has(i)||S5.has(i))&&(r=ei(i));return n&&r?{stem:n,branch:r}:null}function Ew(e){return e.map(on)}const Cn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ei(t),(Array.isArray(n)?n:[n]).map(ei)])),mne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),A5=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),T5=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),k5=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ene=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ane=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),One=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),O5=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jne=k5,Cne=A5,Nne=O5,Mne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dne=T5,Pne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lne=Cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),j5=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>ei(t.trim())).filter(Boolean),Ha=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ei(t),(Array.isArray(n)?n:[n]).map(r=>ei(r))])),NM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},MM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},DM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},PM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$ne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),RM=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jy=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ei(t),j5(n)])),Ine=Jy({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bne=Jy({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zne=Jy({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Une=Jy({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hne=Ha({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Fne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yne=Ha({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),LM=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Ss(t),j5(n)])),Xne=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$M=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jne=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qne=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ere=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),IM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ire=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),are=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),BM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ure=Sn({:"",:"",:"",:""}),dre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),UM=Sn({:"",:"",:""}),HM=Sn({:"",:"",:""}),fre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),FM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),GM=Sn({:"",:"",:"",:"",:"",:"",:""}),Aw=[["",""],["",""],["",""],["",""],["",""],["",""]],Tw=[["",""],["",""],["",""],["",""],["",""],["",""]],hre=new Set(["","","",""]),qM=[["",""],["",""]],mre=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Dh(e,t,n){const r=ei(t),i=ei(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return!0;return!1}function YM(e,t,n){const r=ei(t),i=ei(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return`${a}${s}`;return`${r}${i}`}function o0(e){for(const t of mre)if(t.set.has(e))return t.voids;return null}function kw(e){const t=ei(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}function Wm(e,t){e.push(t)}function Ow(e,t,n,r,i=0){const a=Md[n]>=Md[r]?n:r,s=Ud(t,n,r);e.push({name:s,weight:kn[a]+i,pos:a})}function hn(e,t,n,r,i){const a=on(e[Oe.year]),s=t[a];if(!s)return;const c=n==="MONTH"?[Oe.month]:n==="DAY"?[Oe.day]:n==="HOUR"?[Oe.hour]:[Oe.year,Oe.month,Oe.day,Oe.hour];for(const d of s)for(const f of c){const m=SA(d,e,f);m&&Wm(i,{name:Ud(r,Oe.year,f),weight:m.weight,pos:f})}}function s0(e,t,n,r){const i=on(e[Oe.month]),a=t[i];if(!a)return;const s=Ss(a),c=one(s,e);c&&Wm(r,{name:E5(n,c.pos),weight:c.weight,pos:c.pos})}function Vi(e,t,n,r,i="ALL"){const a=on(e[Oe.month]),s=t[a];if(!s)return;const c=i==="YEAR"?[Oe.year]:i==="DAY"?[Oe.day]:i==="HOUR"?[Oe.hour]:i==="DAY_HOUR"?[Oe.day,Oe.hour]:[Oe.year,Oe.month,Oe.day,Oe.hour];for(const d of s)for(const f of c){const m=SA(d,e,f);if(!m)continue;const p=f===Oe.month?`#_${n}`:E5(n,f);Wm(r,{name:p,weight:m.weight,pos:f})}}function l0(e,t,n,r){const i=on(e[Oe.month]),a=t[i];if(!a)return;const s=e[Oe.day];a.includes(s)&&Wm(r,{name:Ud(n,Oe.month,Oe.day),weight:kn[Oe.day],pos:Oe.day})}function nn(e,t,n,r,i){const a=Ji(e[Oe.day]),s=t[a];if(!s)return;const c=i==="DAY"?[Oe.day]:i==="HOUR"?[Oe.hour]:[Oe.year,Oe.month,Oe.day,Oe.hour];for(const d of s)for(const f of c){const m=SA(d,e,f);m&&Wm(r,{name:cne(n,f),weight:m.weight,pos:f})}}function Oi({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const s=Ji(e[Oe.day]),c=on(e[Oe.day]),d=on(e[Oe.month]),f=on(e[Oe.year]),m=Ew(e),p=[],y=[],b=new Set(["","","",""]);if(hn(e,mne,"MONTH","",y),hn(e,A5,"DAY","",y),hn(e,gne,"MONTH","",y),hn(e,vne,"MONTH","",y),hn(e,yne,"ALL","",y),hn(e,bne,"HOUR","",y),hn(e,_ne,"ALL","",y),hn(e,xne,"ALL","",y),hn(e,wne,"ALL","",y),hn(e,k5,"ALL","",y),hn(e,Sne,"ALL","",y),hn(e,Ene,"ALL","",y),hn(e,Ane,"ALL","",y),hn(e,Tne,"ALL","",y),hn(e,kne,"ALL","",y),hn(e,One,"ALL","",y),hn(e,O5,"ALL","",y),hn(e,jne,"ALL","",y),hn(e,Cne,"ALL","",y),hn(e,Nne,"ALL","",y),hn(e,Mne,"ALL","",y),hn(e,Dne,"ALL","",y),hn(e,Pne,"ALL","",y),hn(e,Rne,"ALL","",y),hn(e,Lne,"ALL","",y),s0(e,NM,"",p),s0(e,MM,"",p),s0(e,DM,"",p),s0(e,PM,"",p),Vi(e,$ne,"",y,"ALL"),Vi(e,RM,"",y,"YEAR"),Vi(e,RM,"",y,"DAY"),l0(e,Ine,"",p),l0(e,Bne,"",y),l0(e,zne,"",y),l0(e,Une,"",p),Vi(e,Hne,"",y,"ALL"),Vi(e,Fne,"",y,"ALL"),Vi(e,Gne,"",y,"ALL"),Vi(e,qne,"",y,"ALL"),Vi(e,Yne,"",y,"ALL"),Vi(e,LM,"",p,"ALL"),Vi(e,Kne,"",p,"DAY_HOUR"),Vi(e,Wne,"",p,"DAY_HOUR"),Vi(e,Vne,"",p,"ALL"),Vi(e,Zne,"",p,"ALL"),nn(e,Xne,"",p,"ALL"),nn(e,$M,"",p,"ALL"),nn(e,Jne,"",p,"ALL"),nn(e,Qne,"",p,"ALL"),nn(e,ere,"",p,"ALL"),nn(e,tre,"",p,"ALL"),nn(e,nre,"",p,"ALL"),nn(e,IM,"",p,"ALL"),nn(e,rre,"",p,"ALL"),nn(e,ire,"",p,"ALL"),nn(e,are,"",p,"ALL"),nn(e,ore,"",p,"ALL"),nn(e,sre,"",p,"ALL"),nn(e,BM,"",y,"ALL"),nn(e,lre,"",y,"ALL"),nn(e,cre,"",y,"ALL"),nn(e,zM,"",y,"DAY"),nn(e,zM,"",y,"HOUR"),nn(e,UM,"",y,"DAY"),nn(e,UM,"",y,"HOUR"),nn(e,HM,"",y,"DAY"),nn(e,HM,"",y,"HOUR"),nn(e,ure,"",y,"DAY"),nn(e,dre,"",y,"ALL"),nn(e,fre,"",p,"ALL"),nn(e,FM,"",y,"ALL"),b.has(e[Oe.day])){y.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day});for(const te of[Oe.year,Oe.month,Oe.hour])e[te]===e[Oe.day]&&y.push({name:a0("",te),weight:kn[te],pos:te})}const T=GM[s];if(T)for(const te of[Oe.year,Oe.month,Oe.day,Oe.hour]){const Y=Ji(e[te]),B=on(e[te]);Y===s&&T.includes(B)&&y.push({name:a0("",te),weight:kn[te],pos:te})}for(const[te,Y]of qM){const B=ww(te,e),X=ww(Y,e);B&&X&&Ow(y,"",B.pos,X.pos)}{const te=new Set(["",""]),Y=new Set(["","","",""]);for(let B=0;B<=3;B++){const X=Ji(e[B]),ee=on(e[B]);(te.has(X)||Y.has(ee))&&y.push({name:a0("",B),weight:kn[B],pos:B})}}{const te=Ji(e[Oe.day]),Y=e[Oe.hour],B=(X,ee)=>X.includes(te)&&ee.includes(Y);B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour})}{const te=Ew(e);["","","",""].every(B=>te.includes(B))&&p.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day})}{const te=e[Oe.day],Y=e[Oe.hour];(te===""&&Y===""||te===""&&Y==="")&&y.push({name:Ud("",Oe.day,Oe.hour),weight:kn[Oe.hour],pos:Oe.hour})}{const te=on(e[Oe.year]),Y=new Set(Ew(e).slice(1)),B=(X,ee)=>X.every(G=>Y.has(G))&&te===ee;(B(["","",""],"")||B(["","",""],"")||B(["","",""],"")||B(["","",""],""))&&p.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day})}["",""].includes(e[Oe.day])&&p.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day});{const te=Ji(e[Oe.day]),B={:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""}}[te],X=e.some(W=>on(W)===B.rok),G=Ji(e[Oe.hour])===B.maStem;X&&G&&p.push({name:Ud("",Oe.day,Oe.hour),weight:kn[Oe.hour],pos:Oe.hour})}{const te=Ji(e[Oe.day]),Y=on(e[Oe.day]),B=on(e[Oe.hour]),ee={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[te];if(ee){const G=Y===ee.rok,W=B===ee.ma,le=r0(ee.rokStem,e[Oe.day],"classic")||r0(ee.rokStem,e[Oe.hour],"classic"),fe=r0(ee.maStem,e[Oe.day],"classic")||r0(ee.maStem,e[Oe.hour],"classic");G&&W&&(le||fe)&&p.push({name:Ud("",Oe.day,Oe.hour),weight:kn[Oe.hour],pos:Oe.hour})}}{const te=new Set(["","","","","",""]),Y=e.map(Ji),B=e.map(on),X=Y.concat(B).filter(le=>te.has(le)).length,ee=t?Ji(t):"",G=t?on(t):"",W=te.has(ee)||te.has(G);(X>=4||X===3&&W)&&y.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day})}{const te=new Set(["",""]),Y=new Set(["",""]);for(let B=0;B<=3;B++){const X=Ji(e[B]),ee=on(e[B]);(te.has(X)||Y.has(ee))&&y.push({name:a0("",B),weight:kn[B],pos:B})}}{const te=[[Oe.year,Oe.month],[Oe.year,Oe.day],[Oe.month,Oe.day],[Oe.month,Oe.hour],[Oe.day,Oe.hour]];for(const[Y,B]of te){const X=on(e[Y]),ee=on(e[B]);if(Dh(Aw,X,ee)){const G=YM(Aw,X,ee);Ow(y,`${G}`,Y,B)}}}{const te=[[Oe.year,Oe.month,0],[Oe.month,Oe.day,1],[Oe.month,Oe.hour,0],[Oe.day,Oe.hour,0]];for(const[Y,B,X]of te){const ee=on(e[Y]),G=on(e[B]);if(Dh(Tw,ee,G)){const W=YM(Tw,ee,G),le=(X?1:0)+(hre.has(ee+G)?1:0);Ow(y,`${W}`,Y,B,le)}}}function S(te){const Y=te.lastIndexOf("_");return Y>=0?te.slice(Y+1):te}const j=new Set(["",""]);function D(te){return j.has(te)?!0:te.endsWith("")||te.endsWith("")}function O(te){const Y=new Map;for(const X of te){const ee=S(X.name);Y.has(ee)||Y.set(ee,[]),Y.get(ee).push(X)}const B=[];for(const[X,ee]of Y)if(D(X))B.push(...ee);else{const G=ee.sort((W,le)=>Md[W.pos]!==Md[le.pos]?Md[le.pos]-Md[W.pos]:le.weight-W.weight)[0];B.push(G)}return B}const M=o0(e[Oe.day]),C=o0(e[Oe.year]);{const te=(a?.voidBasis??"day")==="day"?M:C;if(te){const[Y,B]=te.map(ei),X=[Oe.year,Oe.month,Oe.day,Oe.hour];for(const ee of X){const G=on(e[ee]);(G===Y||G===B)&&y.push({name:une(a?.voidBasis??"day",ee),weight:kn[ee],pos:ee})}}}const R=O(jM(p)),I=O(jM(y)),z={si:[],il:[],yeon:[],wol:[]},q={si:[],il:[],yeon:[],wol:[]};for(const te of R)z[i0(te.pos)].push(te.name);for(const te of I)q[i0(te.pos)].push(te.name);const V=[],H=[],U=[],Z=[],re=[],ve=[],J=[],ae=[];function ne(te,Y){te.includes(Y)||te.push(Y)}function ce(te,Y){const B=hne(Y);if(!B)return;const X=B.branch,ee=B.stem;let G,W;switch(te){case"dae":G=V,W=re;break;case"se":G=H,W=ve;break;case"wol":G=U,W=J;break;case"il":G=Z,W=ae;break;default:return}Ss(NM[d])===ee&&ne(G,Mh("",te)),Ss(MM[d])===ee&&ne(G,Mh("",te)),Ss(DM[d])===ee&&ne(G,Mh("",te)),Ss(PM[d])===ee&&ne(G,Mh("",te)),LM[d]?.includes(X)&&ne(G,Mh("",te)),$M[s]?.includes(X)&&ne(G,bd("",te)),IM[s]?.includes(X)&&ne(G,bd("",te)),BM[s]?.includes(X)&&ne(W,bd("",te)),FM[s]?.includes(X)&&ne(W,bd("",te)),GM[s]?.includes(X)&&ne(W,bd("",te)),te==="se"&&(pne[f]?.includes(X)&&ne(W,CM(te,"")),T5[f]?.includes(X)&&ne(W,CM(te,"")));for(const fe of m)if(Dh(qM,X,fe)){const Q=ww(fe,e)?.pos;Q!==void 0&&ne(W,Sw("",te,Q));break}new Set(["",""]).has(s)&&new Set(["","","",""]).has(X)&&ne(W,bd("",te));const le=(a?.voidBasis??"day")==="day"?M:C;le&&(X===le[0]||X===le[1])&&ne(W,dne(te,a?.voidBasis??"day"));for(let fe=0;fe<=3;fe++){const Q=on(e[fe]);Dh(Aw,X,Q)&&ne(W,Sw("",te,fe)),Dh(Tw,X,Q)&&ne(W,Sw("",te,fe))}if(te==="se"){const fe=(a?.samjaeBasis??"day")==="day"?c:f,Q=fe?kw(fe):null;Q&&Q.includes(X)&&ne(W,fne(te,a?.samjaeBasis??"day"))}}return ce("dae",t??null),ce("se",n??null),ce("wol",r??null),ce("il",i??null),{good:{si:[],il:[],yeon:[],wol:[],...(()=>{const te={si:[],il:[],yeon:[],wol:[]};for(const Y of R)te[i0(Y.pos)].push(Y.name);return te})(),dae:V,se:H,wolun:U,ilun:Z},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const te={si:[],il:[],yeon:[],wol:[]};for(const Y of I)te[i0(Y.pos)].push(Y.name);return te})(),dae:re,se:ve,wolun:J,ilun:ae},meta:{voidPair:{day:o0(e[Oe.day])??void 0,year:o0(e[Oe.year])??void 0},samjaeYears:{day:kw(c)??void 0,year:kw(f)??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function pre(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function gre({items:e,source:t}){const n=e.length>0?e:["#"];return _.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+pre(r,t),children:r},`${t}-${i}-${r}`))})}function KM({title:e,rows:t}){return _.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[_.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[_.jsx("div",{className:i,children:n.label}),_.jsx(gre,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function vre({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:s}=Er(),[c,d]=A.useState(""),[f,m]=A.useState("");A.useEffect(()=>{s.sinsalBase===""?(d(""),m("")):(d(""),m(""))},[s.sinsalBase]);const p=A.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),y=A.useMemo(()=>Oi({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:b,bad:w,meta:T}=y,S=V=>V.map(H=>H==="#"?H:` ${H}`),j=(V,H)=>{const U=["natal"];return H===""&&U.push("natal"),H===""&&U.push("natal","dae"),H===""&&U.push("natal","dae","se"),H===""&&U.push("natal","dae","se","wol"),H===""&&U.push("natal","dae","se","wol","il"),V.filter(Z=>U.includes(Z.source))},D=[{label:"",items:S(b.si),source:"natal"},{label:"",items:S(b.il),source:"natal"},{label:"",items:S(b.wol),source:"natal"},{label:"",items:S(b.yeon),source:"natal"},{label:"",items:b.dae,source:"dae"},{label:"",items:b.se,source:"se"},{label:"",items:b.wolun,source:"wol"},{label:"",items:b.ilun,source:"il"}],O=[{label:"",items:S(w.si),source:"natal"},{label:"",items:S(w.il),source:"natal"},{label:"",items:S(w.wol),source:"natal"},{label:"",items:S(w.yeon),source:"natal"},{label:"",items:w.dae,source:"dae"},{label:"",items:w.se,source:"se"},{label:"",items:w.wolun,source:"wol"},{label:"",items:w.ilun,source:"il"}],M=j(D,a),C=j(O,a),R=T.voidPair.day?`(${T.voidPair.day.join("")})`:"()",I=T.voidPair.year?`(${T.voidPair.year.join("")})`:"()",z=T.samjaeYears.day?`(${T.samjaeYears.day.join("")})`:"()",q=T.samjaeYears.year?`(${T.samjaeYears.year.join("")})`:"()";return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:R}),_.jsx("option",{value:"",children:I})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:f,onChange:V=>m(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:z}),_.jsx("option",{value:"",children:q})]})]})]}),_.jsxs("div",{className:"desk:flex",children:[_.jsx(KM,{title:"()",rows:M}),_.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),_.jsx(KM,{title:"()",rows:C})]})]})}const Ca={year:0,month:1,day:2,hour:3},C5={[Ca.year]:.3,[Ca.month]:.5,[Ca.day]:.3,[Ca.hour]:.3},N5={[Ca.year]:.15,[Ca.month]:.2,[Ca.day]:0,[Ca.hour]:.15},yre=e=>h2.has(e)?e:m2[e]??e,bre=e=>Oy.has(e)?e:jy[e]??e,_re=e=>typeof e=="string"&&e.length>=2?yre(e.slice(-1)):"",xre=e=>typeof e=="string"&&e.length>=1?bre(e.slice(0,1)):"",Ln=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),wre={:Ln(2,0,.5,2),:Ln(2,0,0,2),:Ln(2,0,0,2),:Ln(0,2,2,0),:Ln(0,2,2,0),:Ln(0,2,1,2),:Ln(0,2,2,.5),:Ln(0,2,2,0),:Ln(0,2,2,1),:Ln(2,0,0,2),:Ln(2,0,0,2),:Ln(2,0,1,1)},Sre={:Ln(0,1,1,0),:Ln(0,1,1,0),:Ln(0,2,2,0),:Ln(0,2,2,0),:Ln(0,0,1,0),:Ln(0,0,0,1),:Ln(1,0,0,1),:Ln(1,0,0,1),:Ln(2,0,0,2),:Ln(2,0,0,2)},WM=e=>Math.max(0,Math.min(100,e));function VM(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Ere(e){let t=0,n=0,r=0,i=0;return[Ca.year,Ca.month,Ca.day,Ca.hour].forEach(a=>{const s=wre[_re(e[a])],c=Sre[xre(e[a])],d=C5[a],f=N5[a];d>0&&s&&(t+=s.han*d,n+=s.nan*d,r+=s.jo*d,i+=s.seup*d),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function Are(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Tre(e){const t=Are(e);return A.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Ere(t),s=VM(n,r),c=VM(a,i);return{hanNanPct:WM(s),joSeupPct:WM(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:C5,stem:N5}}},[t])}function ZM({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=A.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),s=[10,20,35,45,55,65,80];return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:n}),_.jsx("span",{children:r}),_.jsx("span",{children:i})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[s.map(c=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function kre({natal:e}){const{hanNanPct:t,joSeupPct:n}=Tre(e);return _.jsxs("div",{className:"flex gap-2",children:[_.jsx(ZM,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),_.jsx(ZM,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Ore=Object.fromEntries(ca..map((e,t)=>[e,di[t]])),jre=Object.fromEntries(di.map((e,t)=>[e,ca.[t]])),Cre=Object.fromEntries(ca..map((e,t)=>[e,Mi[t]])),Nre=Object.fromEntries(Mi.map((e,t)=>[e,ca.[t]])),Mre=e=>Ore[e]??e,Dre=e=>Cre[e]??e,Pre=e=>jre[e]??e,Rre=e=>Nre[e]??e;function M5(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Mre(r)}${Dre(i)}`:`${Pre(r)}${Rre(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const D5={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Lre={...D5,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},$re=M5(D5),Ire=M5(Lre),Bre={:"",:"",:"",:"",:""},zre={:"",:"",:"",:"",:""},Ure={:"",:"",:"",:"",:""},Hre={:"",:"",:"",:"",:""},Fre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qre=e=>Fre[e]??e,Yre=e=>Gre[e]??e;function P5(e){return!e||e.length<2?"":`${qre(e[0])}${Yre(e[1])}`}const R5=e=>e&&e.length>=1?e[0]:"",L5=e=>e&&e.length>=2?e[1]:"";function $5(e){return{:e,:Bre[e],:zre[e],:Ure[e],:Hre[e]}}const I5={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Kre(e,t){const n=(e??[]).slice(0,4).map(P5);if(n.length!==4||n.some(y=>y.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=R5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(y=>L5(y)),s={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=I5[r]??[],d=a[1];c.includes(d)&&(s..=!0,s..=!0);const f=a[2];c.includes(f)&&(s..=!0,s..=!0);const m=$5(i).,p=t[m]??0;return s..=p>=30,{flags:s,monthBranch:d,dayEl:i}}function B5(e,t){const n=(e??[]).slice(0,4).map(P5);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const w={:!1,:!1,:!1};return{flags:{:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w}},monthBranch:"",dayEl:""}}const r=R5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(w=>L5(w)),s={:!1,:!1,:!1},c={:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s}},d=I5[r]??[],f=a[1];d.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];d.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=$5(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const Wre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Vre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jre=e=>Wre[e]??e,Qre=e=>Vre[e]??e;function eie(e){return!e||e.length<2?"":`${Jre(e[0])}${Qre(e[1])}`}function Gc(e){return kM[e]??kM[Zre[e]??""]}function qc(e){return OM[e]??OM[Xre[e]??""]}const jw=["year","month","day","hour"],tie={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},nie={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},rie=new Set(["","","","",""]),iie=new Set(["","","","","",""]),aie=new Set(["","","",""]),Cw=e=>rie.has(e)?"":"",Nw=e=>{const t=iie.has(e)?"":"";return aie.has(e)?t===""?"":"":t};function XM(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,d)=>c+d,0);if(i===0)return r;const a=n.map((c,d)=>({i:d,frac:c-Math.floor(c+.5)})).sort((c,d)=>d.frac-c.frac),s=r.slice();if(i>0)for(let c=0;c<i;c++)s[a[c].i]+=1;else for(let c=0;c<-i;c++)s[a[a.length-1-c].i]-=1;return s}function oie(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const c0={:.15,:.1,:-.15,:-.2,:-.25},Pv={:"",:"",:"",:"",:""},z5={:"",:"",:"",:"",:""},pm={:"",:"",:"",:"",:""},sie={:"",:"",:"",:"",:""};function u0(e,t){return e===t?"":Pv[t]===e?"":Pv[e]===t?"":pm[e]===t?"":pm[t]===e?"":""}const Dl=e=>e&&e.length>=1?e[0]:"",Yc=e=>e&&e.length>=2?e[1]:"";function lie(e,t){const n=e.reduce((d,f)=>d+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(d=>d/n*t),i=r.map(d=>Math.floor(d));let a=t-i.reduce((d,f)=>d+f,0);const s=r.map((d,f)=>({i:f,frac:d-Math.floor(d)})).sort((d,f)=>f.frac-d.frac),c=i.slice();for(let d=0;d<s.length&&a>0;d++)c[s[d].i]+=1,a-=1;return c}function JM(e,t){switch(e){case"":return t;case"":return Pv[t];case"":return pm[t];case"":return sie[t];case"":return z5[t];default:return t}}function rE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:s,luck:c}=e,d=s==="modern"?tie:nie,f=r==="classic"?Ire:$re,m={:0,:0,:0,:0,:0},p={},y={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},b=(t??[]).slice(0,4).map(eie),w=b.length===4&&b[0]&&b[0].length>=2&&b[1]&&b[1].length>=2&&b[2]&&b[2].length>=2,T={totalsSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},perStemAugBare:{},perStemAugFull:{}};if(!w){const G=["","","","",""].map(W=>({name:W,value:0,color:"#999999"}));return{overlay:T,totals:G,perTenGod:{:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},PerTenGodSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},elementScoreRaw:m,deukFlags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}const S=Dl(b[2]),j=n??S,D=j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":"",O=[{val:0},{val:0},{val:0},{val:0}],M=[[],[],[],[]];for(const G of b){if(!G)continue;const W=G.charAt(0),le=G.charAt(1);p[W]=(p[W]??0)+50;const fe=y[le];fe&&(p[fe]=(p[fe]??0)+50)}for(let G=0;G<4;G++){const W=b[G];if(!W||W.length<2)continue;const le=jw[G],fe=Dl(W),Q=Yc(W),de=d[le],we=Gc(fe);we&&(m[we]+=de.stem,O[G]={stem:fe,el:we,pol:Cw(fe),val:de.stem});const se=qc(Q);se&&(m[se]+=de.branch,M[G].push({el:se,pol:Nw(Q),val:de.branch}))}for(let G=0;G<4;G++){const W=b[G];if(!W||W.length<2)continue;const le=jw[G],fe=f[W]??0;if(fe===0)continue;const Q=Dl(W),de=Gc(Q);if(!de)continue;const we=d[le].stem*fe;m[de]+=we,O[G].val+=we}for(let G=0;G<4;G++){const W=b[G];if(!W||W.length<2)continue;const le=Yc(W),fe=qc(le);if(!fe)continue;const Q=d[jw[G]].branch,de=Nw(le);let we=0;const se=[G];G-1>=0&&se.push(G-1),G+1<=3&&se.push(G+1),G-2>=0&&se.push(G-2),G+2<=3&&se.push(G+2);const Ce=Array.from(new Set(se));for(const be of Ce){if(!b[be]||b[be].length<2)continue;const Le=Dl(b[be]),Me=Gc(Le);if(!Me||Me!==fe)continue;const $e=Cw(Le)===de,Be=Math.abs(be-G),ye=oie(Be,$e);we+=Q*ye}we!==0&&(m[fe]+=we,M[G].push({el:fe,pol:de,val:we}))}for(let G=0;G<4;G++){const W=b[G];if(!W||W.length<2)continue;const le=Dl(W),fe=Gc(le);if(!fe)continue;let Q=0;const de=Yc(b[G]),we=qc(de);we&&(Q+=c0[u0(fe,we)]);const se=G===0?[1]:G===3?[2]:[G-1,G+1];for(const be of se){const Le=Dl(b[be]),Me=Gc(Le);Me&&(Q+=c0[u0(fe,Me)])}const Ce=O[G].val;if(Ce!==0&&Q!==0){const be=Math.round(Ce*(1+Q)*10)/10,Le=be-Ce;m[fe]+=Le,O[G].val=be}}for(let G=0;G<4;G++){const W=b[G];if(!W||W.length<2)continue;const le=Yc(W),fe=qc(le);if(!fe)continue;let Q=0;const de=Dl(b[G]),we=Gc(de);we&&(Q+=c0[u0(fe,we)]);const se=G===0?[1]:G===3?[2]:[G-1,G+1];for(const be of se){if(!b[be]||b[be].length<2)continue;const Le=Yc(b[be]),Me=qc(Le);Me&&(Q+=c0[u0(fe,Me)])}const Ce=M[G].reduce((be,Le)=>be+Le.val,0);if(Ce!==0&&Q!==0){const Le=Math.round(Ce*(1+Q)*10)/10-Ce;m[fe]+=Le,M[G].length>0&&(M[G][0].val+=Le)}}a&&Ste(b,m);const C={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},R=[];if(!(!c||c.tab==="")){let G=function(W,le){const fe=W?qe(W):"";if(!fe||fe.length<2)return;const Q=Dl(fe),de=Yc(fe),we=Gc(Q),se=qc(de),Ce=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),be=C[le];if(we){const Le=Math.round(Ce*be.stem);m[we]+=Le,R.push({stem:Q,el:we,pol:Cw(Q),val:Le})}if(se){const Le=Math.round(Ce*be.branch);m[se]+=Le,R.push({el:se,pol:Nw(de),val:Le})}};G(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&G(c.se,"se"),(c.tab===""||c.tab==="")&&G(c.wol,"wol"),c.tab===""&&G(c.il,"il")}const I={:0,:0,:0,:0,:0};Object.entries(m).forEach(([G,W])=>{const le=Z(G,D);I[le]+=W});const z=["","","","",""],q=XM(z.map(G=>I[G])),V=b5(j),H=z.map((G,W)=>({name:G,value:q[W],color:V[G]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Z(G,W){return G===W?"":Pv[W]===G?"":pm[W]===G?"":pm[G]===W?"":z5[W]===G?"":""}function re(G,W){switch(Z(G,D)){case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break}}Object.entries(m).forEach(([G,W])=>{W>0&&re(G,W)});const ve={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const G of z){const W=H.find(se=>se.name===G)?.value??0,le=ve[G].a,fe=ve[G].b,Q=U[le]??0,de=U[fe]??0,we=Q+de;if(we>0){const se=Math.floor(W*Q/we+.5),Ce=W-se;ve[G].aVal=se,ve[G].bVal=Ce}else ve[G].aVal=Math.floor(W/2+.5),ve[G].bVal=W-ve[G].aVal}const{flags:J}=Kre(b,m),ae={};O.forEach(G=>{if(G.stem&&G.el&&G.val){const W=`${G.stem}${G.el}`;ae[W]=(ae[W]??0)+G.val}});for(let G=0;G<4;G++){const W=b[G];if(!W||W.length<2)continue;const le=Yc(W),fe=y[le],Q=qc(le);if(!fe||!Q)continue;const de=`${fe}${Q}`,we=M[G].reduce((se,Ce)=>se+Ce.val,0);ae[de]=(ae[de]??0)+we}const ne=["","","","","","","","","",""],ce={};ne.forEach(G=>{ce[G]=0}),z.forEach(G=>{const W=H.find(Ce=>Ce.name===G)?.value??0,le=JM(G,D),fe=Object.entries(ae).filter(([Ce])=>Ce.endsWith(le)),Q=fe.map(([Ce])=>Ce),de=fe.map(([,Ce])=>Ce),we=Math.max(0,Math.round(W*10)),se=lie(de.length?de:[1,1],we);if(Q.length===2)ce[Q[0]]=(se[0]??Math.round(we/2))/10,ce[Q[1]]=(se[1]??we-(se[0]??0))/10;else if(Q.length===1)ce[Q[0]]=we/10;else{const Ce=le===""?["",""]:le===""?["",""]:le===""?["",""]:le===""?["",""]:["",""],be=Math.floor(we/2),Le=we-be;ce[Ce[0]]+=be/10,ce[Ce[1]]+=Le/10}});const te=["","","","",""],Y={:0,:0,:0,:0,:0};for(const G of H){const W=JM(G.name,D);Y[W]+=G.value}const B=XM(te.map(G=>Y[G])),X={:B[0],:B[1],:B[2],:B[3],:B[4]};return i&&console.log({elementScore:m,totals:H,perTenGod:ve,perStemRaw:ae,perStemElementScaled:ce,elementPercent100:X}),{overlay:{totalsSub:U,perStemAugBare:ae,perStemAugFull:ce},totals:H,perTenGod:ve,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:m,deukFlags:J,perStemElement:ae,perStemElementScaled:ce,elementPercent100:X}}function cie(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,d)=>c+d,0);const s=n.map((c,d)=>({i:d,f:c-Math.round(c)})).sort((c,d)=>d.f-c.f);for(let c=0;c<s.length&&a>0;c++)r[s[c].i]+=1,a-=1;return r}const QM=["","","","",""];function uie(e,t){const n=[qe(e[0]??""),qe(e[1]??""),qe(e[2]??""),qe(e[3]??"")],{elementScoreRaw:r}=rE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=QM.map(c=>r[c]??0),a=cie(i),s={:0,:0,:0,:0,:0};return QM.forEach((c,d)=>{s[c]=a[d]}),s}function U5(e,t){const n=uie(e,t),r=qe(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const s={:"",:"",:"",:"",:""},c=n[a]??0,d=n[s[a]]??0;return c+d*.7}const d0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},h0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},die=["","","","",""];function eD(e){return die.includes(e)}const fie={:"",:"",:"",:"",:""},hie={:"",:"",:"",:"",:""},mie={:"",:"",:"",:"",:""},pie={:"",:"",:"",:"",:""},iE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gie=["","","","","","","","","",""],vie={natal:50,dae:30,se:20,wol:7,il:3};function Rv(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(d0[t])return d0[t];if(["","","","","","","","","","","",""].includes(t))return h0[t]??null;if(f0[t])return h0[f0[t]]??null;const n=t.charAt(0);return d0[n]?d0[n]:["","","","","","","","","",""].includes(n)?n:f0[n]?h0[f0[n]]??null:["","","","","","","","","","","",""].includes(n)?h0[n]??null:null}function yie(e,t){const n=iE[e],r=iE[t];if(!n||!r)return"";let i;r===n?i="":r===fie[n]?i="":r===hie[n]?i="":r===mie[n]?i="":r===pie[n]?i="":i="";const a=eD(e)===eD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Lv(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function tD(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Rv(r);if(!a)continue;const s=yie(t,a);n[s]+=i}return Lv(n)}function bie(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function nD(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Rv(n);i&&(t[i]=(t[i]??0)+r)}return t}function rD(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of gie){const i=iE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function iD(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function _ie(e,t){const n=t?.dae?m0(t.dae):{},r=t?.se?m0(t.se):{},i=t?.wol?m0(t.wol):{},a=t?.il?m0(t.il):{},s={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=vie[f];if(!m||Object.keys(m).length===0)continue;const y=Lv(m);for(const[b,w]of Object.entries(y))s[b]=(s[b]??0)+w*p}const d=Object.values(s).reduce((f,m)=>f+m,0);if(d>0)for(const f of Object.keys(s))s[f]=s[f]/d*100;return s}function xie(e){if(!e)return[];const t=Rv(e.charAt(0)),n=Rv(e.charAt(1));return[t,n].filter(Boolean)}function m0(e){const t=xie(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function H5(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[qe(t[0]??""),qe(t[1]??""),qe(t[2]??""),qe(t[3]??"")],s=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:d}=lu,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?qe(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?qe(r.se):void 0,wol:(n===""||n==="")&&r.wol?qe(r.wol):void 0,il:n===""&&r.il?qe(r.il):void 0}:{tab:n},p=rE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),y=rE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),b=nD(p.perStemElementScaled),w=n===""?b:_ie(b,r),T=Lv(w),S=tD(w,s),j=bie(S),D=rD(T),O=nD(y.perStemElementScaled),M=tD(O,s),C=Lv(O),R=rD(C);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:s,mergedStems:T,perTenGodSub:S,perTenGod:j,overlay:{totalsSub:S,perStemAugBare:w,perStemAugFull:D},natalFixed:{elementScoreRaw:iD(y.elementScoreRaw),elementPercent100:iD(y.elementPercent100),totalsSub:M,overlay:{totalsSub:M,perStemAugBare:O,perStemAugFull:R}}}}const Na={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Bo={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},wie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ma(e){return["","","","",""].includes(e)}function Sie(e){return["","","","","",""].includes(e)}const F5={:"",:"",:"",:"",:""},EA={:"",:"",:"",:"",:""},G5={:"",:"",:"",:"",:""},q5={:"",:"",:"",:"",:""},Mw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,Oa=e=>e&&e.length>=1?e.charAt(0):"",qn=e=>e&&e.length>=2?e.charAt(1):"",Eie=e=>Array.from(new Set(e)),Aie={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:16},:{stem:"",w:7},:{stem:"",w:16}}},Tie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function kie(e,t){const n=Tie[e];if(!n)return!1;const i=mo(t).find(c=>c.name===n);if(!i)return!1;const a=new Date(i.date);return Math.floor((t.getTime()-a.getTime())/(1e3*60*60*24))<=12}const Oie={:["","",""],:["","",""],:["","",""],:["","",""]};function jie(e,t){const n=Oie[e];return n?n.filter(r=>r!==e).every(r=>t.includes(r)):!1}function so(e,t){const n=Na[e],r=Na[t];if(!n||!r)return"";let i;r===n?i="":r===F5[n]?i="":r===EA[n]?i="":r===G5[n]?i="":r===q5[n]?i="":i="";const a=Ma(e)===Ma(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Cie(e,t){const n=Na[e],r=Bo[t];if(!n||!r)return"";let i;r===n?i="":r===F5[n]?i="":r===EA[n]?i="":r===G5[n]?i="":r===q5[n]?i="":i="";const a=Ma(e)===Sie(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Nie(e){return{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[e]??""}function aE(e,t){const n=Nie(e),r=Ma(e),i={:"",:"",:"",:"",:""},a={:"",:"",:"",:"",:""};let s;t===n?s="":i[n]===t?s="":i[t]===n?s="":a[n]===t?s="":a[t]===n?s="":s="";const c=r===Ma(Mie(t));switch(s){case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":""}}function Mie(e){return{:"",:"",:"",:"",:""}[e]}const Dw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Y5={:"",:"",:"",:"",:""},K5={:"",:"",:"",:""},Die=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],Pie=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=Oa(n),i=qn(n),a=Na[r],s=Bo[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t};function Rie(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,s,c,d]=(t??[]).slice(0,4),f=[Oa(a),Oa(s),Oa(c),Oa(d)].filter(Boolean),m=[qn(a),qn(s),qn(c),qn(d)].filter(Boolean),p=Na[n],y=f.map(ge=>so(n,ge)),b=[],w=ge=>f.filter(Ue=>Ue===ge).length,T=ge=>m.filter(Ue=>Ue===ge).length,S=ge=>ge.every(Ue=>m.includes(Ue)),j=ge=>y.some(Ue=>ge.includes(Ue)),D=Oa(s),O=ge=>Ma(ge),M=()=>{const ge=f.map(Ue=>Na[Ue]);return ge.length===4&&ge.every(Ue=>Ue===ge[0])},C=()=>{if(f.length!==4)return!1;const ge=f.map(O),Ue=ge[0]&&!ge[1]&&ge[2]&&!ge[3],ze=!ge[0]&&ge[1]&&!ge[2]&&ge[3];return Ue||ze};Ma(n)&&Y5[n]===r&&b.push("");const R=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[ge,Ue]of R)if(n===ge&&r===Ue){b.push("");break}!Ma(n)&&K5[n]===r&&b.push("");const I=Dw[n];I&&qn(c)===I&&p===Bo[qn(c)]&&b.push(""),I&&qn(d)===I&&p===Bo[qn(d)]&&b.push("");const z=[a,s,c,d].map(Fie),q=[a,s,c,d].map(Gie);for(const ge of z);for(const ge of q);const V=i==="hgc"?Ry:Py;function H(ge){return(V[ge]??[]).filter(Ue=>["","","","","","","","","",""].includes(Ue))}const U=[a,s,c,d].filter(Boolean),re=U.flatMap(ge=>[ge.charAt(0),ge.charAt(1)]).flatMap(ge=>{try{if(["","","","","","","","","",""].includes(ge))return[so(n,ge)];if(["","","","","","","","","","","",""].includes(ge)){const Ue=Cie(n,ge),ze=H(ge).map(He=>so(n,He));return[Ue,...ze]}return[]}catch{return[]}}),ve=ge=>re.some(Ue=>ge.includes(Ue)),J=(ge,Ue)=>{const ze=[],He=[];for(const it of U){const tn=it.charAt(0),Kn=it.charAt(1);ze.push(so(n,tn));const zn=Bo[Kn];zn?He.push(aE(n,zn)):He.push(null)}const ut=(it,tn)=>!!it&&!!tn&&(ge.includes(it)&&Ue.includes(tn)||Ue.includes(it)&&ge.includes(tn));for(let it=0;it<ze.length;it++)if(ut(ze[it],He[it]))return!0;for(let it=0;it<ze.length-1;it++)if(ut(ze[it],ze[it+1])||ut(He[it],He[it+1]))return!0;return!1},ae={:["",""],:["",""],:["",""],:["",""]};ve([...ae.])&&ve([...ae.])&&J([...ae.],[...ae.])&&b.push(""),ve([...ae.])&&ve([...ae.])&&J([...ae.],[...ae.])&&b.push("");const ne=ge=>y.filter(Ue=>ge.includes(Ue)).length,ce=ne(["",""]),te=ne([""]),Y=ne([""]),B=ne(["",""]),X=ne(["",""]),ee=ne(["",""]);te>=1&&ce>=1&&ce>=te&&Y<=te&&b.push("");const G=ne([""]);G>=1&&B>=1&&G>=B&&b.push(""),y.includes("")&&B>=1&&b.push("");const le=Pie(t),fe=Object.entries(le).sort((ge,Ue)=>Ue[1]-ge[1]),Q=fe[0];if(Q&&Q[1]>=60&&b.push(`(${Q[0]})`),fe.length>=2){const[ge,Ue]=fe[0],[,ze]=fe[1];Ue>=75&&Ue-ze>=12&&p!==ge&&b.push(`(${ge})`)}for(const ge of Die){const Ue=f.includes(ge.a),ze=f.includes(ge.b);if(!Ue||!ze)continue;const He=ge.to,ut=le[He]??0,it=Na[ge.a],tn=Na[ge.b],Kn=Math.max(le[it]??0,le[tn]??0),zn=Bo[r]===He,ti=Object.entries(le).sort((It,Nn)=>Nn[1]-It[1])[0]?.[0]===He;let En=!1;ut>=60&&(zn||ti)&&Kn<=20&&ut-Kn>=20&&(b.push(`(${He})`),En=!0),!En&&ut>=50&&(zn||ti)&&Kn<=25&&(b.push(`(${He})`),En=!0),!En&&ut>=35&&b.push(`(${He})`)}const de=`${Oa(d)}${qn(d)}`;["",""].includes(n)&&["","",""].includes(de)&&b.push(""),["","","",""].includes(qn(d))&&b.push(""),["",""].includes(n)&&(qn(c)===""||qn(s)==="")&&!m.includes("")&&b.push("");const we=f.some(ge=>ge===""||ge===""),se=m.some(ge=>ge===""||ge==="");["",""].includes(qn(c))&&!we&&!se&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push("");const Ce=Object.values(le).sort((ge,Ue)=>Ue-ge);Ce.length>=3&&Ce[0]-Ce[2]<=8&&Ce[0]+Ce[1]+Ce[2]>=80&&b.push(""),X>=1&&ee>=1&&Math.abs(X-ee)<=1&&b.push(""),S(["","","",""])&&b.push(""),S(["","","",""])&&b.push(""),S(["","","",""])&&b.push(""),m.length===4&&m.every(ge=>ge===m[0])&&b.push(""),f.length===4&&M()&&C()&&b.push(""),t.every(ge=>ge&&ge===t[0])&&b.push(""),f.length===4&&f.every(ge=>ge===f[0])&&m.length===4&&m.every(ge=>ge===m[0])&&b.push(""),ce>=1&&(qn(c)===Dw[n]||qn(d)===Dw[n])&&b.push(""),w("")>=3&&S(["","",""])&&["","",""].includes(qn(c))&&b.push("");const Le=n===""||n==="",Me=[["","",""],["","",""]],$e=[["","",""],["","",""]];Le&&(Me.some(ge=>S(ge))||$e.some(ge=>S(ge)))&&b.push("");const Be=new Set(["","","","","",""]),ye=`${Oa(c)}${qn(c)}`;if(Be.has(ye)&&T("")>=2&&(j(["",""])||m.includes("")||m.includes("")||j(["",""])||b.push("")),new Set(["","","","","",""]).has(ye)&&T("")>=2&&m.includes("")&&b.push(""),n===""&&`${Oa(d)}${qn(d)}`==""){const ge=so(n,D);!["","","",""].includes(ge)&&j(["",""])&&!m.includes("")&&!m.includes("")&&b.push("")}return new Set(["","",""]).has(ye)&&`${Oa(d)}${qn(d)}`==""&&!m.includes("")&&!j(["",""])&&b.push(""),ye===""&&T("")+T("")>=2&&b.push(""),(ye===""||ye==="")&&T("")>=2&&!j(["",""])&&!m.includes("")&&b.push(""),n===""&&S(["","",""])&&b.push(""),ye===""&&`${Oa(d)}${qn(d)}`==""&&b.push(""),Eie(b)}function Lie(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:s=[],isNeutralized:c,mapping:d}=e,f=[],m=Aie[n];if(!m)return{:"-",:"-",:"-",:"-",:"-",:[],reason:["  "]};const p={:m.?{stem:Mw(m..stem),w:m..w}:void 0,:m.?{stem:Mw(m..stem),w:m..w}:void 0,:{stem:Mw(m..stem),w:m..w}},y=p..stem;let b=y;if(["","","",""].includes(n))b=p..stem,f.push(":   ");else if(["","","",""].includes(n)){const z=[];p.&&z.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),p.&&z.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),z.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)});const q=z.filter(V=>V.emitted);q.length===1?(b=q[0].stem,f.push(`: ${q[0].from}  `)):q.length>1?(q.sort((V,H)=>H.w-V.w),b=q[0].stem,f.push(`:      ${q[0].from} `)):(b=p..stem,f.push(":    "))}else["","","",""].includes(n)&&(jie(n,s)&&p.?(b=p..stem,f.push(":     ")):kie(n,r)&&p.?(b=p..stem,f.push(":  +12    ")):(b=p..stem,f.push(":  +12    ")));const w=b;let T="";const S=Na[w];if(S){const z=Object.entries(EA).find(([,q])=>q===S)?.[0]??null;z&&(T=Object.entries(Na).find(([V,H])=>H===z&&Ma(V)===Ma(w))?.[0]??"")}c?.(w)&&f.push(":   / ");let j="-";const D=so(t,w),M=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]].some(([z,q])=>z===t&&q===n),C=Ma(t)&&Y5[t]===n,R=!Ma(t)&&K5[t]===n;D===""||D===""?M?(j="",f.push(": /   ")):C?(j="",f.push(":    ")):R?(j="",f.push(":    ")):f.push(": /  "):D===""?j="()":j={:"",:"",:"",:"",:"",:"",:"",:""}[D]??"-";const I=Rie({pillars:i,dayStem:t,monthBranch:n,mapping:d});return{:y,:b,:w,:T,:j,:I,reason:f}}const Re=(e,t)=>`${e}+${t}`,oi=(e,t,n)=>`${e}+${t}+${n}`,$ie={[Re("","")]:[""],[oi("","","")]:void 0,[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[oi("","","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""]},Iie={[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:["",""]};function Bie(){const e={},t={},n=/[]/g;for(const[r,i]of Object.entries($ie)){if(!i)continue;const a=r.match(n);if(!a||a.length<2)continue;const[s,c]=a;e[r]=i.map(d=>`${s}X${c}_${d}`)}for(const[r,i]of Object.entries(Iie)){if(!i)continue;const a=r.match(n);if(!a||a.length<3)continue;const[s,c,d]=a;t[r]=i.map(f=>`${s}X${c}X${d}_${f}`)}return{newPairs:e,newTris:t}}const{newPairs:Pw,newTris:Rw}=Bie();function zie(e){const[t,n,r,i]=e,a=b=>Oa(b),s=a(i),c=a(r),d=a(n),f=a(t),m=[],p=[[s,c],[c,d],[d,f]];for(const[b,w]of p){if(!b||!w)continue;const T=Re(b,w),S=Pw[T];S&&S.length&&m.push(...S);const j=Re(w,b);j!==T&&Pw[j]&&m.push(...Pw[j])}const y=[[s,c,d],[c,d,f]];for(const[b,w,T]of y){if(!b||!w||!T)continue;const S=oi(b,w,T),j=Rw[S];j&&j.length&&m.push(...j);const D=oi(T,w,b);D!==S&&Rw[D]&&m.push(...Rw[D])}return Array.from(new Set(m))}const Uie={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Hie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Fie(e){return e?.charAt(0)??""}function Gie(e){return e?.charAt(1)??""}function qie(e,t,n){const[r,i,a,s]=(e??[]).slice(0,4),c=he=>(he?.length??0)>=1?he.charAt(0):"",d=he=>(he?.length??0)>=2?he.charAt(1):"",f=[r,i,a,s].map(c).filter(Boolean),m=[r,i,a,s].map(d).filter(Boolean),p=c(a),y=Uie[p]??!1,b=new Set,w=t==="classic"?Py:Ry,T=new Set(["","","","","","","","","",""]),S=he=>(w[he]??[]).filter(ge=>T.has(ge)),j=(he,ge)=>{const Ue=Bo[ge];if(!Ue)throw new Error(`Unknown branch main element: ${ge}`);return aE(he,Ue)},D={:0,:0,:0,:0,:0};for(const he of f){const ge=Na[he];ge&&(D[ge]+=10)}const O=[];for(const he of m){const ge=wie[he];ge&&O.push(ge);const Ue=Bo[he];Ue&&(D[Ue]+=6)}const C=[...f,...O].map(he=>so(p,he)),R={:["",""],:["",""],:["",""],:["",""],:["",""]},I=he=>C.filter(ge=>ge===he).length,z=he=>C.filter(ge=>R[he].includes(ge)).length,q=m[1],V=!!p&&Hie[p]===q,H=n.elementPercent100;H.>=20&&H.>=20&&H.>=15&&b.add("");const U=[r,i,a,s].filter(Boolean),Z=[];for(const he of U){const ge=he.charAt(0),Ue=he.charAt(1);Z.push(so(p,ge)),Z.push(j(p,Ue))}const re=(he,ge)=>{const Ue=(ze,He)=>!!ze&&!!He&&he.includes(ze)&&ge.includes(He)||ge.includes(ze)&&he.includes(He);for(let ze=0;ze+1<Z.length;ze+=2)if(Ue(Z[ze],Z[ze+1]))return!0;return!1},ve=he=>Z.some(ge=>he.includes(ge)),J=I("")+I(""),ae=I(""),ne=z(""),ce=z(""),te=re(["",""],["",""]);if((ae>=1||J>=2)&&ne>=1&&J>ne&&ce<=1&&te&&b.add(""),ve(R.)&&ve(R.)&&re(R.,R.)){const he=C.includes("");b.add(he?"":"")}z("")>=2&&z("")>=2&&Math.abs(z("")-z(""))<=1&&z("")<=1&&z("")<=1&&b.add("");const Y=I(""),B=I(""),X=I("")+I(""),ee=I("")+I(""),G=z("");B>=2&&X>=1&&D.+D.>=20&&b.add(""),B>=2&&ee>=1&&D.+D.>=20&&b.add(""),B>=2&&ee>=1&&D.+D.>=20&&re([""],["",""])&&G<=1&&b.add(""),Y>=2&&ee>=1&&D.+D.>=20&&re([""],["",""])&&G<=1&&b.add("");const W=(he,ge)=>{const Ue=Na[he],ze=Bo[ge];return!!Ue&&!!ze&&Ue===ze},le=[r,i,a,s].filter(Boolean),fe=d(a),Q=W(p,fe),de=le.map(he=>he.charAt(0)).filter(he=>["",""].includes(so(p,he)));let we=!1;for(const he of le){const ge=he.charAt(0),Ue=he.charAt(1);if(de.includes(ge)&&W(ge,Ue)){we=!0;break}}Q&&we&&b.add(""),z("")>=3&&z("")>=.5*(z("")+z("")+z("")+z(""))&&b.add(""),z("")>=3&&z("")>=.5*(z("")+z("")+z("")+z(""))&&b.add(""),z("")>=3&&z("")>=1&&b.add(""),z("")>=3&&z("")+z("")<=1&&b.add("");const se=I("");z("")+z("")>=2&&se===1&&z("")>=1&&b.add(""),se>=2&&X+z("")>=3&&b.add("");const Ce=Y+B;(Y>=2||Ce>=2)&&ee>=1&&Ce>ee&&b.add(""),B>=2&&ee>=1&&Ce>ee&&b.add("");const be=I(""),Le=I("");be>=2&&se+Le>=1&&b.add(""),be>=2&&se+Le===0&&b.add(""),y&&be>=2&&se>=1&&b.add(""),!y&&be>=2&&se>=1&&b.add(""),I("")>=2&&I("")>=1&&b.add(""),I("")>=1&&I("")>=1&&re([""],[""])&&b.add(""),V&&se>=1&&z("")+z("")>=2&&b.add("");const Me=[d(r),d(i),d(a),d(s)].filter(Boolean),$e=[r?.charAt(0),i?.charAt(0),s?.charAt(0)].filter(Boolean),Be=new Set($e.map(he=>so(p,he))),ye=new Set(Me.flatMap(he=>{const ge=Bo[he];return ge?[aE(p,ge)]:[]})),Ie=new Set(Me.flatMap(he=>S(he).map(ge=>so(p,ge))));return["","","","",""].forEach(he=>{const ge=R[he],Ue=ge.some(ut=>Be.has(ut)),ze=ge.some(ut=>ye.has(ut)),He=ge.some(ut=>Ie.has(ut));!Ue&&!ze&&!He?b.add(`${he}`):!Ue&&!ze&&He&&b.add(`${he}`)}),Array.from(b)}function Yie(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:s,mapping:c,unified:d}=e,[f,m,p,y]=t,b=re=>re&&re.length>=1?re.charAt(0):"",w=re=>re&&re.length>=2?re.charAt(1):"",T=w(m),S=b(p),j=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,D=[b(f),b(m),b(p),b(y)].filter(re=>!!(re&&re.length===1)),O=[w(f),w(p),w(y)].filter(re=>!!(re&&re.length===1)),M=Lie({dayStem:S,monthBranch:T,date:j,pillars:t,emittedStems:i??D,otherBranches:a??O,isNeutralized:s,mapping:c}),C=[` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`],R=[` : ${M.||"-"}`],I=Array.isArray(M.)&&M..length>0?M..map(re=>` : ${re}`):[" : -"],z=zie(t),q=[...z.length?z.map(re=>`${re}`):[]],H=[...qie(t,c,d)],U=({text:re,color:ve})=>{const J={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return _.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${J[ve]}`,title:re,children:re})},Z=({children:re})=>_.jsx("li",{className:"!flex flex-wrap gap-1 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:re});return _.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${C.join(",")}|${R.join(",")}|${I.join(",")}`,children:[_.jsx("div",{className:"font-bold text-base",children:"   "}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx(Z,{children:C.map(re=>_.jsx(U,{text:re,color:"violet"},re))}),_.jsx(Z,{children:R.map(re=>_.jsx(U,{text:re,color:"amber"},re))}),_.jsx(Z,{children:I.map(re=>_.jsx(U,{text:re,color:"blue"},re))}),_.jsx(Z,{children:q.map(re=>_.jsx(U,{text:re,color:"green"},re))}),_.jsx(Z,{children:H.map(re=>_.jsx(U,{text:re,color:"red"},re))})]}),M.reason.length>0&&_.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[" ",M.reason.join(" / ")]})]})}const Dd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},W5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Kie=["","","","",""];function aD(e){return Kie.includes(e)}const Wie={:"",:"",:"",:"",:""},Vie={:"",:"",:"",:"",:""},Zie={:"",:"",:"",:"",:""},Xie={:"",:"",:"",:"",:""};function gm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Dd[t])return Dd[t];if(["","","","","","","","","","","",""].includes(t))return p0[t]??null;if(Pd[t])return p0[Pd[t]]??null;const n=t.charAt(0);return Dd[n]?Dd[n]:["","","","","","","","","",""].includes(n)?n:Pd[n]?p0[Pd[n]]??null:["","","","","","","","","","","",""].includes(n)?p0[n]??null:null}function Jie(e,t){const n=Xd[e],r=Xd[t];if(!n||!r)return"";let i;r===n?i="":r===Wie[n]?i="":r===Vie[n]?i="":r===Zie[n]?i="":r===Xie[n]?i="":i="";const a=aD(e)===aD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Qie(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Qy(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function eae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Xd[gm(n)];i&&r>0&&(t[i]+=r)}return Qy(t)}function tae(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=gm(r);if(!a)continue;const s=Jie(t,a);n[s]+=i}return n}function nae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Qie(n);t[i]+=r}return Qy(t)}function Lw(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);return r?`${Dd[r[1]]}${Pd[r[2]]}`:""}function oD(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${Dd[s[1]]}${Pd[s[2]]}`:r<=2?"--":""})}function rae(e,t){const n={:!1,:!1,:!1,:!1,:!1};for(const r of e){if(!r)continue;const i=Xd[r.charAt(0)];i&&(n[i]=!0);{const a=W5[r.charAt(1)];a&&(n[a]=!0)}}return n}function iae(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Xd[n.charAt(0)],i=W5[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function $w(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const aae=["","","","","","","","","",""];function oae(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=gm(n);i&&(t[i]=(t[i]??0)+r)}return t}function sae(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of aae){const i=Xd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const lae={natal:50,dae:30,se:20,wol:7,il:3};function cae(e){const t={};for(const{kind:r,bare:i}of e){const a=lae[r]??0;if(a<=0)continue;const s=Qy(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function uae(e){if(!e)return[];const t=gm(e.charAt(0)),n=gm(e.charAt(1));return[t,n].filter(Boolean)}function g0(e){const t=uae(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function dae({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=Er(be=>be.settings),[a,s]=A.useState("   "),[c,d]=A.useState(""),[f,m]=A.useState(!0),{date:p,yearGZ:y,monthGZ:b,dayGZ:w}=Di(),T=A.useMemo(()=>qe(y),[y]),S=A.useMemo(()=>qe(b),[b]),j=A.useMemo(()=>qe(w),[w]),D=Ym(e,e?.mingSikType),O=A.useMemo(()=>{if(!D?.length)return 0;const be=D.findIndex((Le,Me)=>{const $e=D[Me+1]?.at;return p>=Le.at&&(!$e||p<$e)});return be!==-1?be:p<D[0].at?0:D.length-1},[D,p]),M=A.useMemo(()=>{const be=r??D?.[O]?.gz??"";return qe(be)||null},[r,D,O]),{manualHour:C}=Um(),R=e.mingSikType??"/",I=A.useMemo(()=>oD(t),[t]),z=A.useMemo(()=>oD(n),[n]),q=A.useMemo(()=>{const be=[...I];return(!be[3]||be[3]==="")&&C&&(be[3]=C.stem+C.branch),be},[I,C]),V=A.useMemo(()=>{const be=[...z];return(!be[3]||be[3]==="")&&C&&(be[3]=C.stem+C.branch),be},[z,C]),H=A.useMemo(()=>{const be=Number(e.birthDay?.slice(0,4)),Le=Number(e.birthDay?.slice(4,6)),Me=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(be)||!Number.isFinite(Le)||!Number.isFinite(Me))return null;const $e=new Date(be,Le-1,Me,12,0,0,0),Be=Lw(pt($e)||""),ye=Lw(Mt($e)||""),Ie=Lw(At($e,R)||"");return[Be,ye,Ie,""]},[e.birthDay,R]),U=$w(q),Z=$w(V),[re]=A.useState("solar"),ve=re==="lunar"?Z?"lunar":U?"solar":"lunar":U?"solar":Z?"lunar":"solar",J=A.useMemo(()=>{const Le=[...ve==="lunar"?Z?V:U?q:H??["","","",""]:U?q:Z?V:H??["","","",""]];return(!Le[3]||Le[3]==="")&&C&&(Le[3]=C.stem+C.branch),Le},[ve,U,Z,q,V,H,C]),ae=A.useMemo(()=>C?C.stem+C.branch:J[3]||"",[C,J]),ne=A.useMemo(()=>({dae:c!==""?M??null:null,se:c===""||c===""||c===""?T??null:null,wol:c===""||c===""?S??null:null,il:c===""?j??null:null}),[c,M,T,S,j]),ce=A.useMemo(()=>H5({natal:J,tab:c,chain:ne,hourKey:ae}),[J,c,ne,ae]),te=A.useMemo(()=>{if(!ce)return null;const be=oae(ce.perStemElementScaled),Le=ne.dae?g0(ne.dae):{},Me=ne.se?g0(ne.se):{},$e=ne.wol?g0(ne.wol):{},Be=ne.il?g0(ne.il):{},ye=cae([{kind:"natal",bare:be},{kind:"dae",bare:Le},{kind:"se",bare:Me},{kind:"wol",bare:$e},{kind:"il",bare:Be}]),Ie=Qy(ye),he=sae(Ie),ge=tae(ye,ce.dayStem),Ue=nae(ge),ze=eae(ye);return{perStemAugBare:ye,perStemAugFull:he,elemPct100:ze,totalsMain:Ue,totalsSub:ge}},[ce,ne]),Y=A.useMemo(()=>rae(J),[J]),B=A.useMemo(()=>["","","","",""].some(be=>!Y[be]),[Y]),X=te?.elemPct100??ce?.elementPercent100??iae(J),ee=A.useMemo(()=>{if(!ce||!te)return[];const be=b5(ce.dayStem);return Object.entries(te.totalsMain).map(([Le,Me])=>({name:Le,value:Me,color:be[Le]}))},[ce,te]),G=te?.elemPct100??{:0,:0,:0,:0,:0},W=te?.totalsSub??null,le=A.useMemo(()=>C?C.stem+C.branch:J[3]||"",[C,J]),fe=A.useMemo(()=>[c,M??"",T??"",S??"",j??"",p?.toISOString?.()??"",le].join("|"),[c,M,T,S,j,p,le]),Q=A.useMemo(()=>{const be=W?Object.entries(W).sort(([Me],[$e])=>Me.localeCompare($e)).map(([Me,$e])=>`${Me}:${$e}`).join(","):"none",Le=ee.map(Me=>`${Me.name}:${Me.value}`).join(",");return`${fe}||${J.join("")}||${Le}||${be}`},[fe,J,ee,W]),de=typeof TM=="function"?TM(J,ce?.totals):null,we=A.useMemo(()=>{const Le=(de?.ordered??[]).map(Be=>{const ye=Be.element??"",Ie=/||wood/i.test(ye)?"":/||fire/i.test(ye)?"":/||earth/i.test(ye)?"":/||metal/i.test(ye)?"":/||water/i.test(ye)?"":null,he=typeof Be.score=="number"?Be.score:Ie?X[Ie]??0:0,ge=Array.isArray(Be.reasons)?Be.reasons:[];return{element:ye,elNorm:Ie,score:he,reasons:ge}}),Me=Be=>Be?Y[Be]:!1,$e=f?Le.map(Be=>Be.elNorm&&!Me(Be.elNorm)?{...Be,score:0,reasons:[...Be.reasons,":    0"]}:Be):Le;return $e.sort((Be,ye)=>{const Ie=Me(Be.elNorm)?1:0,he=Me(ye.elNorm)?1:0;return f&&Ie!==he?he-Ie:(ye.score??0)!==(Be.score??0)?(ye.score??0)-(Be.score??0):(Be.elNorm??Be.element).localeCompare(ye.elNorm??ye.element)}),$e},[de,f,X,Y]),se=A.useMemo(()=>Math.max(0,...we.map(be=>Number.isFinite(be.score)?be.score:0)),[we]);function Ce(be){return U5(be,{criteriaMode:"modern",useHarmonyOverlay:!0})}return $w(J)?_.jsxs("div",{className:"space-y-4 mb-4",children:[_.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:rne.map(be=>_.jsx("button",{onClick:()=>d(be),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(c===be?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:be},be))}),_.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["  ","   ","",""].map(be=>_.jsx("button",{onClick:()=>s(be),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(a===be?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:be},be))}),a===""&&_.jsx(Ate,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:S||void 0,ilwoon:j||void 0,tab:c},`harm-${c}-${le}`),a==="   "&&_.jsxs("div",{className:"space-y-4",children:[_.jsx(mte,{data:ee,revKey:Q,perStemElementScaled:te?.perStemAugFull,elementPercent:G,dayStem:J[2]?.charAt(0)??null},`pentagon-${Q}`),_.jsx(vte,{value:Ce(J)}),_.jsx(kre,{natal:J}),_.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"text-sm font-bold",children:" "}),B&&_.jsxs("button",{type:"button",onClick:()=>m(be=>!be),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${f?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":f,children:[": ",f?"ON":"OFF"]})]}),_.jsx("ul",{className:"space-y-2",children:we.map((be,Le)=>_.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Le+1,""]}),_.jsx("span",{className:"text-sm font-semibold",children:be.element})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:_.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${se>0?Math.max(2,Math.min(100,Math.round((be.score??0)/se*100))):12}%`},title:` ${be.score}`})}),_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(be.reasons??[]).map((Me,$e)=>_.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Me},$e))})]})]},be.elNorm??be.element))})]})]}),a===""&&_.jsx(vre,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:S||void 0,ilwoon:j||void 0,tab:c},`shin-${c}-${le}`),a==="  "&&_.jsx(Yie,{unified:ce,pillars:J,tab:c,mapping:i.hiddenStemMode},`gyeok-${c}-${le}`)]}):_.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const fae=!1,sD=e=>e<10?`0${e}`:`${e}`,hae=e=>typeof e=="string"&&e.length>=2,mae=e=>Array.isArray(e)&&e.length===4&&e.every(hae);function pae(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${sD(f.getMonth()+1)}${sD(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function gae({data:e}){const[t,n]=A.useState("un"),r=A.useMemo(()=>{try{const c=pae(e);return Gl(c)}catch{return new Date}},[e]),i=A.useMemo(()=>Wy(e,r),[e,r]),a=!e.birthTime||e.birthTime==="",s=A.useMemo(()=>{try{const c=pt(i,e.birthPlace?.lon),d=Mt(i,e.birthPlace?.lon),f=At(i,e.mingSikType),m=a?"":Ia(i,e.mingSikType);return[c,d,f,m]}catch{return[]}},[i,e?.mingSikType,e?.birthPlace?.lon,a]);return _.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[_.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&_.jsx(Xee,{data:e}),t==="myoun"&&_.jsx(ote,{data:e}),t==="report"&&_.jsx(dae,{data:e,pillars:mae(s)?s:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),lD=e=>{const t=yae(e);return t.charAt(0).toUpperCase()+t.slice(1)},V5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),bae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _ae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},d)=>A.createElement("svg",{ref:d,..._ae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:V5("lucide",i),...!a&&!bae(c)&&{"aria-hidden":"true"},...c},[...s.map(([f,m])=>A.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(xae,{ref:a,iconNode:t,className:V5(`lucide-${vae(lD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=lD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sae=ua("chevron-down",wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Aae=ua("chevron-up",Eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kae=ua("circle-x",Tae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],jae=ua("heart-handshake",Oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Nae=ua("house",Cae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dae=ua("log-out",Mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Rae=ua("menu",Pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$ae=ua("plus",Lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bae=ua("settings",Iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],Uae=ua("square-user",zae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cD=ua("star",Hae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Gae=ua("user-plus",Fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z5=ua("x",qae);function Yae({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){return _.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:_.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[_.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Rae,{size:22})}),_.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:t,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Gae,{size:18})}),_.jsx("button",{type:"button",onClick:n,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Uae,{size:18})})]})]})})}function Kae(e){A.useEffect(()=>{const t=e??A3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");T3(t),e&&H0(e)},[e])}const X5=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Wae(e){return typeof e=="string"&&X5.includes(e)}function Iw(e){const t=Array.isArray(e)?e.filter(Wae):[],n=X5.filter(r=>!t.includes(r));return[...t,...n]}function Vae({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=Er(),a=A.useMemo(()=>Iw(n.sectionOrder),[n.sectionOrder]),s=A.useMemo(()=>({...lu,...n,sectionOrder:Iw(n.sectionOrder)}),[n]),[c,d]=A.useState(a),[f,m]=A.useState(s),[p,y]=A.useState(null),[b,w]=A.useState(!1),T=A.useCallback(()=>y(null),[]),S=f.theme??n.theme??"dark";Kae(S),A.useEffect(()=>{H0(S)},[S]),A.useEffect(()=>{if(!e)return;const C=Iw(n.sectionOrder);b||(m({...lu,...n,sectionOrder:C}),d(C),w(!1))},[e,n,b]);const j=(C,R)=>{m(I=>{const z={...I,[C]:R};return C==="theme"&&H0(R),w(!0),z})},D=()=>{const C={...lu,...f,sectionOrder:c};try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}r(C),C.theme&&H0(C.theme),i(!0),y(" "),w(!1),t()},O=C=>{const{destination:R,source:I}=C;if(!R||R.index===I.index)return;const z=Array.from(c),[q]=z.splice(I.index,1);z.splice(R.index,0,q),d(z)},M=C=>{switch(C){case"theme":return _.jsx(no,{title:"",children:_.jsx(Zae,{value:f.theme??"dark",onChange:R=>j("theme",R)})});case"hiddenStem":return _.jsx(no,{title:"  ",children:_.jsx(_d,{value:f.hiddenStem,onChange:R=>j("hiddenStem",R),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return _.jsx(no,{title:" ",children:_.jsx(_d,{value:f.hiddenStemMode,onChange:R=>j("hiddenStemMode",R),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return _.jsx(no,{title:"",children:_.jsx(_d,{value:f.sinsalMode,onChange:R=>j("sinsalMode",R),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return _.jsx(no,{title:"",children:_.jsx(_d,{value:f.sinsalBase,onChange:R=>j("sinsalBase",R),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return _.jsx(no,{title:" ",children:_.jsx(Kc,{label:" ",checked:!!f.sinsalBloom,onChange:R=>j("sinsalBloom",R)})});case"exposure":return _.jsx(no,{title:" ",children:_.jsx(_d,{value:f.exposure,onChange:R=>j("exposure",R),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return _.jsx(no,{title:" ",children:_.jsx(_d,{value:f.charType,onChange:R=>j("charType",R),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return _.jsx(no,{title:" ",children:_.jsx(Kc,{label:" ",checked:!!f.thinEum,onChange:R=>j("thinEum",R)})});case"visibility":return _.jsx(no,{title:" ",children:_.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[_.jsx(Kc,{label:" ",checked:!!f.showSipSin,onChange:R=>j("showSipSin",R)}),_.jsx(Kc,{label:" ",checked:!!f.showSibiUnseong,onChange:R=>j("showSibiUnseong",R)}),_.jsx(Kc,{label:" ",checked:!!f.showSibiSinsal,onChange:R=>j("showSibiSinsal",R)}),_.jsx(Kc,{label:" ",checked:!!f.showNabeum,onChange:R=>j("showNabeum",R)})]})});case"difficultyMode":return _.jsx(no,{title:" UP ver.",children:_.jsx(Kc,{label:" UP ",checked:!!f.difficultyMode,onChange:R=>j("difficultyMode",R)})});default:return null}};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[_.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"text-lg font-bold",children:""}),_.jsx("button",{onClick:D,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&_.jsx(Gm,{onDragEnd:O,children:_.jsx(cu,{droppableId:"settings-sections",children:C=>_.jsxs("ul",{ref:C.innerRef,...C.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[c.map((R,I)=>_.jsx(Vd,{draggableId:R,index:I,children:z=>_.jsxs("li",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsx("div",{className:"flex-1 min-w-0",children:M(R)})]})},R)),C.placeholder]})})})]}),p&&_.jsx(VB,{message:p,onClose:T,ms:1800})]})}function Zae({value:e,onChange:t}){const n=e==="dark";return _.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[_.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),_.jsx("span",{children:n?"":""})]})}function no({title:e,children:t}){return _.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),_.jsx("div",{className:"flex justify-center",children:t})]})}function _d({value:e,onChange:t,options:n}){return _.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return _.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function Kc({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return _.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[_.jsx("span",{children:e}),_.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),_.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function Xae({onShowToday:e,onShowCouple:t}){const[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),d=async()=>{if(!i){a(!0);try{await Ze.auth.signOut(),window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:_.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[_.jsx(v0,{icon:_.jsx(Nae,{size:22}),label:" ",onClick:e}),_.jsx(v0,{icon:_.jsx(jae,{size:22}),label:"",onClick:t}),_.jsx(v0,{icon:_.jsx(Bae,{size:22}),label:"",onClick:()=>r(!0)}),_.jsx(v0,{icon:_.jsx(Dae,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),_.jsx(Vae,{open:n,onClose:()=>r(!1)}),s&&_.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[_.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),d()},children:""})]})]})})]})}function v0({icon:e,label:t,onClick:n,disabled:r}){return _.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,_.jsx("span",{className:"mt-1",children:t})]})}function Jae(e,t){const[n,r]=A.useState(()=>{if(typeof window>"u")return{};try{const z=localStorage.getItem(GN);return z?JSON.parse(z):{}}catch{return{}}});A.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(GN,JSON.stringify(n))}catch{}},[n]);const[i,a]=A.useState({}),[s,c]=A.useState({}),[d,f]=A.useState(""),[m,p]=A.useState(!1),[y,b]=A.useState(()=>{const z=ev(),q=tv();return q.length?Yh(z,q):z}),w=A.useRef(!1),T=A.useRef(!1);A.useEffect(()=>{(async()=>{if(m)return;const{data:{user:q},error:V}=await Ze.auth.getUser();if(V||!q)return;try{if(!T.current){const{data:J,error:ae}=await Ze.from("user_custom_folders").select("folder_name").eq("user_id",q.id);if(ae?.code==="PGRST205")T.current=!0;else if(!ae&&J){const ne=J.map(ce=>ce.folder_name?ce.folder_name.trim():"").filter(ce=>ce!=="");nA(ne)}else ae&&console.error("load custom folders from server error:",ae)}}catch(J){console.error("load custom folders exception:",J)}const{data:H,error:U}=await Ze.from("user_folder_order").select("folder_name, sort_order").eq("user_id",q.id).order("sort_order",{ascending:!0,nullsFirst:!0});if(U){console.error("load folder order from server error:",U),p(!0);return}const Z=ev(),re=(H??[]).map(J=>J.folder_name?String(J.folder_name):"").filter(J=>J.trim()!==""),ve=re.length?Yh(Z,re):Yh(Z,tv());b(ve),re.length&&Nd(re),p(!0)})()},[m]);const S=A.useCallback(async z=>{const{data:{user:q},error:V}=await Ze.auth.getUser();if(V||!q)return;const H=z.filter(Z=>typeof Z=="string"&&Z.trim()!=="").map((Z,re)=>({user_id:q.id,folder_name:Z.trim(),sort_order:re+1,updated_at:new Date().toISOString()}));if(!H.length){await Ze.from("user_folder_order").delete().eq("user_id",q.id);return}const{error:U}=await Ze.from("user_folder_order").upsert(H,{onConflict:"user_id,folder_name"});U&&console.error("save folder order to server error:",U)},[]),j=A.useCallback(async z=>{if(T.current)return;const{data:{user:q},error:V}=await Ze.auth.getUser();if(V||!q)return;const{error:H}=await Ze.from("user_custom_folders").upsert({user_id:q.id,folder_name:z,updated_at:new Date().toISOString()});H&&(H.code==="PGRST205"?T.current=!0:console.error("save custom folder error:",H))},[]),D=A.useCallback(async z=>{if(T.current)return;const{data:{user:q},error:V}=await Ze.auth.getUser();if(V||!q)return;const{error:H}=await Ze.from("user_custom_folders").delete().eq("user_id",q.id).eq("folder_name",z);H&&(H.code==="PGRST205"?T.current=!0:console.error("delete custom folder error:",H))},[]);A.useEffect(()=>{if(typeof window>"u")return;const z=()=>{if(w.current){w.current=!1;return}const q=ev(),V=tv(),H=V.length?Yh(q,V):q;b(H)};return window.addEventListener(gu,z),()=>window.removeEventListener(gu,z)},[]),A.useEffect(()=>{a(z=>{const q={...z};for(const V of y)q[V]===void 0&&(q[V]=!0);return q})},[y]);const{grouped:O,unassignedItems:M}=A.useMemo(()=>{const z={};y.forEach(H=>{z[H]=[]});const q=[],V=new Set;for(const H of e){if(!H.id||V.has(H.id))continue;const U=H.folder;U&&y.includes(U)?z[U].push(H):q.push(H),V.add(H.id)}return{grouped:z,unassignedItems:q}},[e,y]),C=A.useCallback(z=>{const{source:q,destination:V,type:H}=z;if(!V||H!=="FOLDER")return;const U=q.index,Z=V.index;U!==Z&&b(re=>{if(!re.length)return re;const ve=[...re],[J]=ve.splice(U,1);return ve.splice(Z,0,J),w.current=!0,Nd(ve),S(ve),ve})},[S]);return{folderFavMap:n,setFolderFavMap:r,folderOpenMap:i,setFolderOpenMap:a,memoOpenMap:s,setMemoOpenMap:c,newFolderName:d,setNewFolderName:f,orderedFolders:y,grouped:O,unassignedItems:M,handleDragEnd:C,createFolder:z=>{const q=z.trim();!q||q===On||(WB(q),j(q),b(V=>{if(V.includes(q))return V;const H=[...V,q];return Nd(H),S(H),S(H),H}))},deleteFolder:z=>{e.forEach(q=>{q.folder===z&&t(q.id,{folder:void 0})}),r(q=>{const V={...q};return delete V[z],V}),b(q=>{const V=q.filter(H=>H!==z);return Nd(V),S(V),S(V),(async()=>{const{data:{user:H},error:U}=await Ze.auth.getUser();U||!H||await Ze.from("user_folder_order").delete().eq("user_id",H.id).eq("folder_name",z)})(),V}),qB.includes(z)?jJ(z):(OJ(z),D(z))},UNASSIGNED_LABEL:On}}function uD(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===""?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function Qae(e){if(!e)return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=s=>t.find(c=>s.some(d=>c.endsWith(d))),r=n(["","",""]),i=n(["","","",""]);return t.length===1||!n(["","","","","","",""])&&!n(["","","","",""])?e:r&&i?`${r} ${i}`:r||e}function oE(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function eoe(e,t,n){if(n)return"";if((e??"").trim()){const a=new Date(t);return tE(a)}const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":tE(i)}const toe="list:__unassigned__",noe=e=>`list:${e}`,dD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},roe="myeoun:folder-updated",fD=()=>{typeof window>"u"||window.dispatchEvent(new Event(roe))};function ioe(e){const t=oE(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Cv(r,i,a)||!e.birthTime||e.birthTime==="")return t;const s=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),d=s-1<0?23:s-1,f=String(d).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;new Date(m.getTime()-3600*1e3);const p=Fy({...e,birthTime:f});return oE({...e,...p})}function aoe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:s,remove:c,update:d,reorder:f}=ho(),{folderFavMap:m,setFolderFavMap:p,folderOpenMap:y,setFolderOpenMap:b,memoOpenMap:w,setMemoOpenMap:T,newFolderName:S,setNewFolderName:j,orderedFolders:D,grouped:O,unassignedItems:M,handleDragEnd:C,createFolder:R,deleteFolder:I,UNASSIGNED_LABEL:z}=Jae(s,d),[q,V]=A.useState(""),[H,U]=A.useState("name"),Z=/\S/.test(q),{filteredUnassigned:re,filteredGrouped:ve,totalMatches:J}=A.useMemo(()=>{const B=Q=>Q.toLowerCase().replace(/\s+/g," ").trim();if(!Z)return{filteredUnassigned:M,filteredGrouped:O,totalMatches:M.length+Object.values(O).reduce((Q,de)=>Q+de.length,0)};const X=B(q),ee=Q=>{const de=String(Q.birthDay??"").trim();let we="",se="",Ce="";if(/^\d{8}$/.test(de))we=de.slice(0,4),se=de.slice(4,6),Ce=de.slice(6,8);else{const Be=new Date(de);if(!Number.isNaN(Be.getTime())){const ye=Be.getFullYear(),Ie=Be.getMonth()+1,he=Be.getDate();we=String(ye).padStart(4,"0"),se=String(Ie).padStart(2,"0"),Ce=String(he).padStart(2,"0")}}const be=we&&se&&Ce?`${we}${se}${Ce}`:"",Le=we&&se&&Ce?`${we}-${se}-${Ce}`:"",Me=we&&se&&Ce?`${we}.${se}.${Ce}`:"",$e=uD(Q.birthDay,Q.birthTime);return B([be,Le,Me,$e].filter(Boolean).join(" "))},G=Q=>H==="name"?B(Q.name??"").includes(X):H==="ganji"?B(oE(Q)??"").includes(X):ee(Q).includes(X),W=M.filter(G),le={};let fe=W.length;for(const Q of D){const de=(O[Q]||[]).filter(G);le[Q]=de,fe+=de.length}return{filteredUnassigned:W,filteredGrouped:le,totalMatches:fe}},[q,H,Z,M,O,D]),ae=A.useRef(null),ne=A.useRef(null);A.useEffect(()=>{if(ne.current==null)return;const B=ae.current;B&&(B.scrollTop=ne.current,ne.current=null)},[s,D]);const ce=B=>({...B,transition:B?.transform?"transform 0.15s ease":"none"}),te=(B,X)=>{const ee=ioe(B),G=Qae(B.birthPlace?.name),W=`item:${B.id}`,le=!!w[B.id],fe=B.gender===""?"":B.gender===""?"":B.gender,Q=!B.birthTime||B.birthTime==="",de=eoe(B.correctedLocal,B.corrected,Q),we=String(B.birthDay).trim();let se=NaN;if(/^\d{8}$/.test(we)){const Me=`${we.slice(0,4)}-${we.slice(4,6)}-${we.slice(6,8)}`,$e=new Date(Me);Number.isNaN($e.getTime())||(se=$e.getFullYear())}else{const Me=new Date(we);Number.isNaN(Me.getTime())||(se=Me.getFullYear())}function Ce(Me,$e){return Number.isNaN(Me)?0:$e-Me+1}const be=new Date().getFullYear(),Le=Ce(se,be);return _.jsx(Vd,{draggableId:W,index:X,isDragDisabled:Z,children:Me=>_.jsx("li",{ref:Me.innerRef,...Me.draggableProps,...Me.dragHandleProps,style:ce(Me.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:_.jsxs("div",{className:"p-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[B.name," (",Le,", ",fe,")"]}),_.jsx("span",{className:"opacity-40",children:""}),_.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:B.relationship?B.relationship:" "}),_.jsx("span",{className:"ml-auto opacity-50 select-none",children:""})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[uD(B.birthDay,B.birthTime),","," ",B.calendarType==="lunar"?"":""]}),(G||de)&&_.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[G,de&&_.jsxs("span",{className:"opacity-70",children:[" "," "," ",Q?"":de]})]}),ee&&_.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:ee}),B.memo&&B.memo.trim()!==""&&_.jsxs("div",{children:[_.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:$e=>{$e.stopPropagation(),T(Be=>({...Be,[B.id]:!Be[B.id]}))},children:le?" ":" "}),_.jsx("div",{className:le?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:B.memo})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[_.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:B.folder??z,onClick:$e=>$e.stopPropagation(),onChange:$e=>{$e.stopPropagation();const Be=$e.target.value,ye=Be===z?void 0:Be;d(B.id,{folder:ye})},children:[z,...D].map($e=>_.jsx("option",{value:$e,children:$e},$e))}),_.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:B.mingSikType??"/",onClick:$e=>$e.stopPropagation(),onChange:$e=>{$e.stopPropagation();const Be=$e.target.value,ye={...B,mingSikType:Be},Ie=Fy(ye);d(B.id,{mingSikType:Be,...Ie}),n({...ye,...Ie}),t()},children:[_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"/",children:"/"}),_.jsx("option",{value:"",children:""})]})]}),_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:$e=>{$e.stopPropagation(),n(B),t()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:""}),_.jsx("button",{onClick:$e=>{$e.stopPropagation(),i?.(B)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:""}),_.jsx("button",{onClick:$e=>{$e.stopPropagation(),confirm(`'${B.name}'  ?`)&&(c(B.id),a&&a())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:""}),_.jsx("button",{type:"button",onClick:$e=>{$e.stopPropagation();const Be=!B.favorite;d(B.id,{favorite:Be});const ye=B.folder??"__unassigned__",Ie={__unassigned__:[]};D.forEach(ze=>{Ie[ze]=[]}),s.forEach(ze=>{const He=ze.folder??"__unassigned__";Ie[He]||(Ie[He]=[]),Ie[He].push(ze)});const ge=(Ie[ye]??[]).filter(ze=>ze.id!==B.id);Be?Ie[ye]=[{...B,favorite:Be},...ge]:Ie[ye]=[...ge,{...B,favorite:Be}];const Ue=[...Ie.__unassigned__,...D.flatMap(ze=>Ie[ze]??[])];f(Ue)},className:`ml-auto p-1 rounded cursor-pointer ${B.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(cD,{size:16,fill:B.favorite?"currentColor":"none"})})]})]})})},W)},Y=B=>{const{type:X,source:ee,destination:G,draggableId:W}=B;if(!G||Z)return;const le=ae.current;if(le&&(ne.current=le.scrollTop),X==="FOLDER"){C(B);return}if(X==="ITEM"){if(!W.replace(/^item:/,""))return;const Q=dD(ee.droppableId),de=dD(G.droppableId),we=Q??"__unassigned__",se=de??"__unassigned__",Ce={__unassigned__:[...M]};D.forEach(ye=>{Ce[ye]=[...O[ye]||[]]});const be=Ce[we]??[];if(!be[ee.index])return;const[Le]=be.splice(ee.index,1),Me={...Le,folder:de??void 0},$e=Ce[se]??[];$e.splice(G.index,0,Me),Ce[we]=be,Ce[se]=$e;const Be=[...Ce.__unassigned__,...D.flatMap(ye=>Ce[ye]??[])];f(Be)}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[_.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("h2",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:()=>{r(),t()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[_.jsx($ae,{size:16})," "]}),_.jsx("button",{onClick:t,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:_.jsx(Z5,{size:22})})]})]}),_.jsx(Gm,{onDragEnd:Y,children:_.jsxs("div",{ref:ae,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[_.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{value:H,onChange:B=>U(B.target.value),className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"name",children:""}),_.jsx("option",{value:"ganji",children:""}),_.jsx("option",{value:"birth",children:""})]}),_.jsxs("div",{className:"relative flex-1",children:[_.jsx("input",{type:"text",value:q,onChange:B=>V(B.target.value),placeholder:H==="name"?" ":H==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:`w-full pl-7 pr-8 py-1 h-30 rounded
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-[16px] text-neutral-900 dark:text-neutral-100
                               placeholder-neutral-400 dark:placeholder-neutral-500
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`}),q&&_.jsx("button",{type:"button",onClick:()=>V(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:_.jsx(kae,{size:16})})]}),Z&&_.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[J,""]})]})}),_.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[_.jsx("input",{type:"text",value:S,onChange:B=>j(B.target.value),placeholder:"  ",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:B=>B.stopPropagation()}),_.jsx("button",{type:"button",className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClick:B=>{B.stopPropagation();const X=S.trim();X&&(R(X),j(""),fD())},children:""})]}),_.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:Z?"   .":"/      ."}),_.jsx(cu,{droppableId:toe,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Z,children:B=>{const X=re;return _.jsx("div",{ref:B.innerRef,...B.droppableProps,className:"mb-6",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[X.map((ee,G)=>te(ee,G)),B.placeholder]})})}}),_.jsx(cu,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Z,children:B=>_.jsxs("div",{ref:B.innerRef,...B.droppableProps,children:[D.map((X,ee)=>{const G=noe(X),W=ve[X]||[],le=!!y[X],fe=!!m[X];return _.jsx(Vd,{draggableId:`folder-${X}`,index:ee,isDragDisabled:Z,children:Q=>_.jsxs("div",{ref:Q.innerRef,...Q.draggableProps,...Q.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[_.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:de=>{de.stopPropagation(),b(we=>({...we,[X]:!le}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[le?_.jsx(Aae,{size:16}):_.jsx(Sae,{size:16}),_.jsx("span",{className:"text-sm font-semibold",children:X})]}),_.jsx("button",{type:"button",onClick:de=>{de.stopPropagation(),p(we=>({...we,[X]:!we[X]}))},className:`p-1 rounded cursor-pointer ${fe?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(cD,{size:16,fill:fe?"currentColor":"none"})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"opacity-60 text-xs",children:[W.length,""]}),_.jsx("button",{type:"button",onClick:de=>{if(de.stopPropagation(),m[X]){alert(`'${X}'    .
   .`);return}confirm(`'${X}'  ?
(   )`)&&(I(X),fD())},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:""})]})]}),le&&_.jsx(cu,{droppableId:G,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Z,children:de=>_.jsx("div",{ref:de.innerRef,...de.droppableProps,className:"mt-2",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[W.map((we,se)=>te(we,se)),de.placeholder]})})})]})},`folder-${X}`)}),B.placeholder]})})]})})]})]})}const hD="ms_folders",Bw="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ooe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",soe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",gs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",loe="text-xs text-neutral-500 dark:text-neutral-400",y0="accent-violet-600 dark:accent-violet-400",mD="accent-violet-600 dark:accent-violet-400",eb="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",coe=`${eb} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,uoe=`${eb} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,pD=`${eb} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,doe=`${eb} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function foe({item:e,onClose:t}){const{list:n,update:r,remove:i}=ho(),[a,s]=A.useState(!1),[c,d]=A.useState({...e,calendarType:e.calendarType??"solar"}),[f,m]=A.useState(!e.birthTime||e.birthTime===""),[p,y]=A.useState(!e.birthPlace||e.birthPlace.name===""),b=A.useMemo(()=>["","","","","",""],[]),[w,T]=A.useState([]);A.useEffect(()=>{try{const C=JSON.parse(localStorage.getItem(hD)||"[]");Array.isArray(C)&&T(C)}catch{}},[]);const S=A.useMemo(()=>{const C=Array.from(new Set(n.map(z=>z.folder).filter(Boolean))),R=new Set([...b,...w,...C]),I=Array.from(R).sort((z,q)=>z.localeCompare(q));return[On,...I]},[n,w,b]),j=()=>{d({...e,calendarType:e.calendarType??"solar"}),m(!e.birthTime||e.birthTime===""),y(!e.birthPlace||e.birthPlace.name==="")},D=()=>{if(!c.name||c.name.trim()==="")return" .";if(!c.birthDay||!/^\d{8}$/.test(c.birthDay))return" YYYYMMDD  .";const C=Number(c.birthDay.slice(0,4)),R=Number(c.birthDay.slice(4,6)),I=Number(c.birthDay.slice(6,8));if(c.calendarType==="lunar")try{Jr(C,R,I)}catch(z){return z instanceof Error?z.message:"   ."}else{const z=new Date(C,R-1,I);if(z.getFullYear()!==C||z.getMonth()+1!==R||z.getDate()!==I)return"   ."}if(!f){if(!c.birthTime||!/^\d{4}$/.test(c.birthTime))return"  00002359 (4) .";const z=Number(c.birthTime.slice(0,2)),q=Number(c.birthTime.slice(2,4));if(z<0||z>23||q<0||q>59)return"  00002359  ."}return!p&&!c.birthPlace?"   '' .":null},O=()=>{const C=D();if(C){alert(C);return}const R=Number(c.birthDay.slice(0,4)),I=Number(c.birthDay.slice(4,6)),z=Number(c.birthDay.slice(6,8));let q=R,V=I,H=z;if(c.calendarType==="lunar"){const W=Jr(R,I,z);q=W.getFullYear(),V=W.getMonth()+1,H=W.getDate()}const U=f?4:Number((c.birthTime??"0430").slice(0,2)),Z=f?30:Number((c.birthTime??"0430").slice(2,4)),re=p||!c.birthPlace||c.birthPlace.lon===0?127.5:c.birthPlace.lon,ve=new Date(q,V-1,H,U,Z,0,0),J=!c.birthPlace||typeof c.birthPlace=="object"&&c.birthPlace.name==="",ae=Eu(ve,re,J),ce=pt(ae,re).charAt(0),Y=((W,le)=>{const Q=["","","","","","","","","",""].includes(W),de=(le??"")==="";return Q?de?"forward":"backward":de?"backward":"forward"})(ce,c.gender??""),B=uu(c.folder===On?void 0:c.folder),X={...e,name:(c.name??"").trim()||"",birthDay:c.birthDay,birthTime:f?"":c.birthTime??"0430",gender:c.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:c.birthPlace??{name:"",lat:0,lon:127.5},relationship:c.relationship??"",memo:c.memo??"",folder:B,calendarType:c.calendarType??"solar",mingSikType:c.mingSikType??"/",DayChangeRule:(c.mingSikType??"/")===""?"":"",dir:Y,corrected:ae,correctedLocal:"",ganji:""},ee=Fy(X),G={...X,...ee};if(G.folder&&!b.includes(G.folder)&&!w.includes(G.folder)){const W=[...w,G.folder];T(W),localStorage.setItem(hD,JSON.stringify(W))}r(e.id,G),s(!1),t&&t()},M=()=>{confirm(`'${e.name}'  ?`)&&i(e.id)};return a?_.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[_.jsx("h3",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("input",{className:Bw,value:c.name||"",onChange:C=>d({...c,name:C.target.value}),placeholder:""})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:gs,children:" (YYYYMMDD)"}),_.jsx("input",{className:Bw,value:c.birthDay||"",onChange:C=>d({...c,birthDay:C.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),_.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:y0,name:"calendarType",checked:c.calendarType==="solar",onChange:()=>d({...c,calendarType:"solar"}),id:"editor_calendar_solar"}),_.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:y0,name:"calendarType",checked:c.calendarType==="lunar",onChange:()=>d({...c,calendarType:"lunar"}),id:"editor_calendar_lunar"}),_.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),c.calendarType==="lunar"&&c.birthDay?.length===8&&_.jsx("span",{className:loe,children:(()=>{try{const C=Number(c.birthDay.slice(0,4)),R=Number(c.birthDay.slice(4,6)),I=Number(c.birthDay.slice(6,8)),z=Jr(C,R,I);return`  ${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}-${String(z.getDate()).padStart(2,"0")}`}catch(C){const R=C instanceof Error?C.message:void 0;return`  ${R?`: ${R}`:""}`}})()})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:"  (HHMM)"}),_.jsx("input",{className:`${Bw} disabled:opacity-50`,value:f?"":c.birthTime||"",onChange:C=>d({...c,birthTime:C.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:f}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:mD,checked:f,onChange:C=>m(C.target.checked),id:"editor_birthTimeX"}),_.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:gs,children:" "}),_.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(C=>{const R=`editor_ming_${C}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:y0,name:"mingSikType",checked:(c.mingSikType??"")===C,onChange:()=>d({...c,mingSikType:C}),id:R}),_.jsx("label",{htmlFor:R,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:C})]},C)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(C=>{const R=`editor_gender_${C}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:y0,name:"gender",value:C,checked:c.gender===C,onChange:I=>d({...c,gender:I.target.value}),id:R}),_.jsx("label",{htmlFor:R,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:C})]},C)})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:" "}),_.jsx(CI,{onSelect:C=>d({...c,birthPlace:C}),value:p?"":c.birthPlace?.name??""}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:mD,checked:p,onChange:C=>y(C.target.checked),id:"editor_birthPlaceX"}),_.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx(GB,{value:c.relationship||"",onChange:C=>d({...c,relationship:C})})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("select",{className:ooe,value:c.folder??On,onChange:C=>{const R=C.target.value;d(R===On?{...c,folder:void 0}:{...c,folder:R})},children:S.map(C=>_.jsx("option",{value:C===On?On:C,children:C},C))})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("textarea",{className:soe,value:c.memo||"",onChange:C=>d({...c,memo:C.target.value}),placeholder:" "})]}),_.jsxs("div",{className:"flex gap-2 justify-end",children:[_.jsx("button",{className:pD,onClick:()=>{j(),s(!1)},children:""}),_.jsx("button",{className:doe,onClick:O,children:""})]})]}):_.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:coe,onClick:()=>s(!0),children:""}),_.jsx("button",{className:uoe,onClick:M,children:""}),t&&_.jsx("button",{className:pD,onClick:t,children:""})]})]}),_.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[_.jsxs("div",{children:[": ",e.gender]}),_.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),_.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),_.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),_.jsxs("div",{children:[": ",e.relationship||"-"]}),_.jsxs("div",{children:[": ",e.folder??On]})]}),e.ganji&&_.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&_.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[_.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function hoe({children:e}){const t=Kl(),n=$3(),[r,i]=A.useState(!1),a=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return _.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[_.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${r?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[_.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"desk:block hidden",children:""}),_.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>i(!1),children:""})]}),_.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:a.map(s=>{const c=t.pathname.startsWith(s.href);return _.jsx("a",{href:s.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${c?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:s.label},s.href)})})]}),_.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[_.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[_.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>i(!0),children:""}),_.jsx("div",{className:"font-semibold",children:" "}),_.jsx("button",{className:"text-sm text-neutral-400 hover:text-white",onClick:()=>n("/"),children:" "})]}),_.jsx("div",{className:"flex-1",children:e})]})]})}function moe(){const[e,t]=A.useState(null),[n,r]=A.useState(!0);return A.useEffect(()=>{(async()=>{const{data:a}=await Ze.auth.getUser(),s=a.user?.id;if(!s){t(null),r(!1);return}const{data:c}=await Ze.from("admin_roles").select("role").eq("user_id",s).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function poe({allow:e,children:t}){const{role:n,loading:r}=moe();return r?_.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?_.jsx("div",{className:"text-red-400 p-6",children:" ."}):_.jsx(_.Fragment,{children:t})}function J5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=J5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=J5(e))&&(r&&(r+=" "),r+=t);return r}var goe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AA(e){if(typeof e!="string")return!1;var t=goe;return t.includes(e)}var voe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yoe=new Set(voe);function Q5(e){return typeof e!="string"?!1:yoe.has(e)}function e4(e){return typeof e=="string"&&e.startsWith("data-")}function go(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Q5(n)||e4(n))&&(t[n]=e[n]);return t}function tb(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return go(t)}return typeof e=="object"&&!Array.isArray(e)?go(e):null}function Ba(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Q5(n)||e4(n)||AA(n))&&(t[n]=e[n]);return t}function boe(e){return e==null?null:A.isValidElement(e)?Ba(e.props):typeof e=="object"&&!Array.isArray(e)?Ba(e):null}var _oe=["children","width","height","viewBox","className","style","title","desc"];function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sE.apply(null,arguments)}function xoe(e,t){if(e==null)return{};var n,r,i=woe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function woe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var t4=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:d,desc:f}=e,m=xoe(e,_oe),p=a||{width:r,height:i,x:0,y:0},y=pn("recharts-surface",s);return A.createElement("svg",sE({},Ba(m),{className:y,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),Soe=["children","className"];function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lE.apply(null,arguments)}function Eoe(e,t){if(e==null)return{};var n,r,i=Aoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ho=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Eoe(e,Soe),a=pn("recharts-layer",r);return A.createElement("g",lE({className:a},Ba(i),{ref:t}),n)}),Toe=A.createContext(null);function $n(e){return function(){return e}}const cE=Math.PI,uE=2*cE,Jc=1e-6,koe=uE-Jc;function n4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ooe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class joe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n4:Ooe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=r-t,f=i-n,m=s-t,p=c-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Jc)if(!(Math.abs(p*d-f*m)>Jc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-s,w=i-c,T=d*d+f*f,S=b*b+w*w,j=Math.sqrt(T),D=Math.sqrt(y),O=a*Math.tan((cE-Math.acos((T+y-S)/(2*j*D)))/2),M=O/D,C=O/j;Math.abs(M-1)>Jc&&this._append`L${t+M*m},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*b>m*w)},${this._x1=t+C*d},${this._y1=n+C*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=t+c,m=n+d,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Jc||Math.abs(this._y1-m)>Jc)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%uE+uE),y>koe?this._append`A${r},${r},0,1,${p},${t-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:y>Jc&&this._append`A${r},${r},0,${+(y>=cE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function r4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new joe(t)}function TA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function i4(e){this._context=e}i4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nb(e){return new i4(e)}function a4(e){return e[0]}function o4(e){return e[1]}function s4(e,t){var n=$n(!0),r=null,i=nb,a=null,s=r4(c);e=typeof e=="function"?e:e===void 0?a4:$n(e),t=typeof t=="function"?t:t===void 0?o4:$n(t);function c(d){var f,m=(d=TA(d)).length,p,y=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(p,f,d),+t(p,f,d));if(b)return a=null,b+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:$n(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:$n(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:$n(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function b0(e,t,n){var r=null,i=$n(!0),a=null,s=nb,c=null,d=r4(f);e=typeof e=="function"?e:e===void 0?a4:$n(+e),t=typeof t=="function"?t:$n(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?o4:$n(+n);function f(p){var y,b,w,T=(p=TA(p)).length,S,j=!1,D,O=new Array(T),M=new Array(T);for(a==null&&(c=s(D=d())),y=0;y<=T;++y){if(!(y<T&&i(S=p[y],y,p))===j)if(j=!j)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=y-1;w>=b;--w)c.point(O[w],M[w]);c.lineEnd(),c.areaEnd()}j&&(O[y]=+e(S,y,p),M[y]=+t(S,y,p),c.point(r?+r(S,y,p):O[y],n?+n(S,y,p):M[y]))}if(D)return c=null,D+""||null}function m(){return s4().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:$n(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:$n(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:$n(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:$n(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:$n(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:$n(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:$n(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(c=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=c=null:c=s(a=p),f):a},f}class l4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Coe(e){return new l4(e,!0)}function Noe(e){return new l4(e,!1)}function $v(){}function Iv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function c4(e){this._context=e}c4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Moe(e){return new c4(e)}function u4(e){this._context=e}u4.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Iv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Doe(e){return new u4(e)}function d4(e){this._context=e}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Iv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Poe(e){return new d4(e)}function f4(e){this._context=e}f4.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Roe(e){return new f4(e)}function gD(e){return e<0?-1:1}function vD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(gD(a)+gD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function yD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function zw(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function Bv(e){this._context=e}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zw(this,this._t0,yD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zw(this,yD(this,n=vD(this,e,t)),n);break;default:zw(this,this._t0,n=vD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function h4(e){this._context=new m4(e)}(h4.prototype=Object.create(Bv.prototype)).point=function(e,t){Bv.prototype.point.call(this,t,e)};function m4(e){this._context=e}m4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Loe(e){return new Bv(e)}function $oe(e){return new h4(e)}function p4(e){this._context=e}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=bD(e),i=bD(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Ioe(e){return new p4(e)}function rb(e,t){this._context=e,this._t=t}rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Boe(e){return new rb(e,.5)}function zoe(e){return new rb(e,0)}function Uoe(e){return new rb(e,1)}function Jd(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Hoe(e,t){return e[t]}function Foe(e){const t=[];return t.key=e,t}function Goe(){var e=$n([]),t=dE,n=Jd,r=Hoe;function i(a){var s=Array.from(e.apply(this,arguments),Foe),c,d=s.length,f=-1,m;for(const p of a)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(p,s[c].key,f,a)]).data=p;for(c=0,m=TA(t(s));c<d;++c)s[m[c]].index=c;return n(s,m),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:$n(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:$n(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?dE:typeof a=="function"?a:$n(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Jd,i):n},i}function qoe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Jd(e,t)}}function Yoe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Jd(e,t)}}function Koe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,d=0,f=0;c<s;++c){for(var m=e[t[c]],p=m[r][1]||0,y=m[r-1][1]||0,b=(p-y)/2,w=0;w<c;++w){var T=e[t[w]],S=T[r][1]||0,j=T[r-1][1]||0;b+=S-j}d+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Jd(e,t)}}var Uw={},Hw={},_D;function Woe(){return _D||(_D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Hw)),Hw}var Fw={},xD;function g4(){return xD||(xD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Fw)),Fw}var Gw={},wD;function kA(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Gw)),Gw}var qw={},Yw={},SD;function Voe(){return SD||(SD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Yw)),Yw}var ED;function OA(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Voe(),n=kA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<s;){const p=i[c];f?p==="\\"&&c+1<s?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(d),d=""):d+=p:p==="["?(m=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,c++}return d&&a.push(d),a}e.toPath=r})(qw)),qw}var AD;function jA(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Woe(),n=g4(),r=kA(),i=OA();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return s(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function s(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}e.get=a})(Uw)),Uw}var Kw,TD;function Zoe(){return TD||(TD=1,Kw=jA().get),Kw}var Xoe=Zoe();const ib=Pi(Xoe);var Da=e=>e===0?0:e>0?1:-1,vo=e=>typeof e=="number"&&e!=+e,Ns=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!vo(e),Fo=e=>nt(e)||typeof e=="string",Joe=0,vm=e=>{var t=++Joe;return"".concat(e||"").concat(t)},ql=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return r;var a;if(Ns(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return vo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},v4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function $o(e,t,n){return nt(e)&&nt(t)?e+n*(t-e):t}function y4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ib(r,t))===n)}var Br=e=>e===null||typeof e>"u",CA=e=>Br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Qoe(e){return e!=null}function Vm(){}var b4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,NA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{AA(i)&&(r[i]=(a=>n[i](n,a)))}),r},ese=(e,t,n)=>r=>(e(t,n,r),null),tse=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];AA(i)&&typeof a=="function"&&(r||(r={}),r[i]=ese(a,t,n))}),r};function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){rse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rse(e,t,n){return(t=ise(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ise(e){var t=ase(e,"string");return typeof t=="symbol"?t:t+""}function ase(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function da(e,t){var n=nse({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}var Ww={},Vw={},OD;function ose(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(Vw)),Vw}var Zw={},jD;function _4(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Zw)),Zw}var Xw={},Jw={},Qw={},CD;function sse(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Qw)),Qw}var ND;function MA(){return ND||(ND=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sse();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Jw)),Jw}var e1={},MD;function lse(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(e1)),e1}var DD;function cse(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA(),n=lse();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Xw)),Xw}var t1={},n1={},PD;function use(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(n1)),n1}var r1={},i1={},a1={},o1={},RD;function x4(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(o1)),o1}var s1={},LD;function w4(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(s1)),s1}var l1={},$D;function S4(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(l1)),l1}var ID;function dse(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x4(),n=w4(),r=S4();function i(m,p,y){return typeof y!="function"?i(m,p,()=>{}):a(m,p,function b(w,T,S,j,D,O){const M=y(w,T,S,j,D,O);return M!==void 0?!!M:a(w,T,b,O)},new Map)}function a(m,p,y,b){if(p===m)return!0;switch(typeof p){case"object":return s(m,p,y,b);case"function":return Object.keys(p).length>0?a(m,{...p},y,b):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function s(m,p,y,b){if(p==null)return!0;if(Array.isArray(p))return d(m,p,y,b);if(p instanceof Map)return c(m,p,y,b);if(p instanceof Set)return f(m,p,y,b);const w=Object.keys(p);if(m==null)return w.length===0;if(w.length===0)return!0;if(b?.has(p))return b.get(p)===m;b?.set(p,m);try{for(let T=0;T<w.length;T++){const S=w[T];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!y(m[S],p[S],S,m,p,b))return!1}return!0}finally{b?.delete(p)}}function c(m,p,y,b){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,T]of p.entries()){const S=m.get(w);if(y(S,T,w,m,p,b)===!1)return!1}return!0}function d(m,p,y,b){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let T=0;T<p.length;T++){const S=p[T];let j=!1;for(let D=0;D<m.length;D++){if(w.has(D))continue;const O=m[D];let M=!1;if(y(O,S,T,m,p,b)&&(M=!0),M){w.add(D),j=!0;break}}if(!j)return!1}return!0}function f(m,p,y,b){return p.size===0?!0:m instanceof Set?d([...m],[...p],y,b):!1}e.isMatchWith=i,e.isSetMatch=f})(a1)),a1}var BD;function E4(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dse();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(i1)),i1}var c1={},u1={},d1={},zD;function fse(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(d1)),d1}var f1={},UD;function A4(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(f1)),f1}var h1={},HD;function T4(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",T="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",C="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",z="[object BigInt64Array]",q="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=T,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=V,e.functionTag=p,e.int16ArrayTag=R,e.int32ArrayTag=I,e.int8ArrayTag=C,e.mapTag=d,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=D,e.uint32ArrayTag=O,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(h1)),h1}var m1={},FD;function hse(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(m1)),m1}var GD;function k4(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fse(),n=A4(),r=T4(),i=w4(),a=hse();function s(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,y,b=new Map,w=void 0){const T=w?.(m,p,y,b);if(T!==void 0)return T;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const S=new Array(m.length);b.set(m,S);for(let j=0;j<m.length;j++)S[j]=c(m[j],j,y,b,w);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;b.set(m,S);for(const[j,D]of m)S.set(j,c(D,j,y,b,w));return S}if(m instanceof Set){const S=new Set;b.set(m,S);for(const j of m)S.add(c(j,void 0,y,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,S);for(let j=0;j<m.length;j++)S[j]=c(m[j],j,y,b,w);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,S),d(S,m,y,b,w),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return b.set(m,S),d(S,m,y,b,w),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return b.set(m,S),d(S,m,y,b,w),S}if(m instanceof Error){const S=new m.constructor;return b.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,y,b,w),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return b.set(m,S),d(S,m,y,b,w),S}if(m instanceof Number){const S=new Number(m.valueOf());return b.set(m,S),d(S,m,y,b,w),S}if(m instanceof String){const S=new String(m.valueOf());return b.set(m,S),d(S,m,y,b,w),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return b.set(m,S),d(S,m,y,b,w),S}return m}function d(m,p,y=m,b,w){const T=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<T.length;S++){const j=T[S],D=Object.getOwnPropertyDescriptor(m,j);(D==null||D.writable)&&(m[j]=c(p[j],j,y,b,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(u1)),u1}var qD;function mse(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(c1)),c1}var YD;function pse(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E4(),n=mse();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(r1)),r1}var p1={},g1={},v1={},KD;function gse(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4(),n=T4();function r(i,a){return t.cloneDeepWith(i,(s,c,d,f)=>{const m=a?.(s,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(v1)),v1}var WD;function vse(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gse();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(g1)),g1}var y1={},b1={},VD;function O4(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(b1)),b1}var _1={},ZD;function yse(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A4();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(_1)),_1}var XD;function bse(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g4(),n=O4(),r=yse(),i=OA();function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&s?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=s;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(y1)),y1}var JD;function _se(){return JD||(JD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E4(),n=kA(),r=vse(),i=jA(),a=bse();function s(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=s})(p1)),p1}var QD;function xse(){return QD||(QD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_4(),n=use(),r=pse(),i=_se();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(t1)),t1}var eP;function wse(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ose(),n=_4(),r=cse(),i=xse();function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(Ww)),Ww}var x1,tP;function Sse(){return tP||(tP=1,x1=wse().uniqBy),x1}var Ese=Sse();const nP=Pi(Ese);function Ase(e,t,n){return t===!0?nP(e,n):typeof t=="function"?nP(e,t):e}var w1={exports:{}},S1={},E1={exports:{}},A1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function Tse(){if(rP)return A1;rP=1;var e=of();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function c(p,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),T=w[0].inst,S=w[1];return a(function(){T.value=b,T.getSnapshot=y,d(T)&&S({inst:T})},[p,b,y]),i(function(){return d(T)&&S({inst:T}),p(function(){d(T)&&S({inst:T})})},[p]),s(b),b}function d(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return A1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,A1}var iP;function kse(){return iP||(iP=1,E1.exports=Tse()),E1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP;function Ose(){if(aP)return S1;aP=1;var e=of(),t=kse();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,d=e.useDebugValue;return S1.useSyncExternalStoreWithSelector=function(f,m,p,y,b){var w=a(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=c(function(){function j(R){if(!D){if(D=!0,O=R,R=y(R),b!==void 0&&T.hasValue){var I=T.value;if(b(I,R))return M=I}return M=R}if(I=M,r(O,R))return I;var z=y(R);return b!==void 0&&b(I,z)?(O=R,I):(O=R,M=z)}var D=!1,O,M,C=p===void 0?null:p;return[function(){return j(m())},C===null?void 0:function(){return j(C())}]},[m,p,y,b]);var S=i(f,w[0],w[1]);return s(function(){T.hasValue=!0,T.value=S},[S]),d(S),S},S1}var oP;function jse(){return oP||(oP=1,w1.exports=Ose()),w1.exports}var Cse=jse(),DA=A.createContext(null),Nse=e=>e,Tr=()=>{var e=A.useContext(DA);return e?e.store.dispatch:Nse},nv=()=>{},Mse=()=>nv,Dse=(e,t)=>e===t;function at(e){var t=A.useContext(DA);return Cse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Mse,t?t.store.getState:nv,t?t.store.getState:nv,t?e:nv,Dse)}function Pse(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Rse(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Lse(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var sP=e=>Array.isArray(e)?e:[e];function $se(e){const t=Array.isArray(e[0])?e[0]:e;return Lse(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ise(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Bse=class{constructor(e){this.value=e}deref(){return this.value}},zse=typeof WeakRef<"u"?WeakRef:Bse,Use=0,lP=1;function _0(){return{s:Use,v:void 0,o:null,p:null}}function j4(e,t={}){let n=_0();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let c=n;const{length:d}=arguments;for(let p=0,y=d;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const T=w.get(b);T===void 0?(c=_0(),w.set(b,c)):c=T}else{let w=c.p;w===null&&(c.p=w=new Map);const T=w.get(b);T===void 0?(c=_0(),w.set(b,c)):c=T}}const f=c;let m;if(c.s===lP)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new zse(m):m}return f.s=lP,f.v=m,m}return s.clearCache=()=>{n=_0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Hse(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Pse(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:y=[],argsMemoize:b=j4,argsMemoizeOptions:w=[]}=m,T=sP(y),S=sP(w),j=$se(i),D=p(function(){return a++,f.apply(null,arguments)},...T),O=b(function(){s++;const C=Ise(j,arguments);return c=D.apply(null,C),c},...S);return Object.assign(O,{resultFunc:f,memoizedResultFunc:D,dependencies:j,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ke=Hse(j4),Fse=Object.assign((e,t=ke)=>{Rse(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>Fse}),T1={},k1={},O1={},cP;function Gse(){return cP||(cP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(O1)),O1}var j1={},C1={},uP;function C4(){return uP||(uP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(C1)),C1}var dP;function qse(){return dP||(dP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(j1)),j1}var fP;function Yse(){return fP||(fP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gse(),n=qse(),r=OA();function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const f=(b,w)=>{let T=b;for(let S=0;S<w.length&&T!=null;++S)T=T[w[S]];return T},m=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:f(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?f(w,b):typeof w=="object"?w[b]:w,p=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(w=>m(w,b))})).slice().sort((b,w)=>{for(let T=0;T<p.length;T++){const S=t.compareValues(b.criteria[T],w.criteria[T],c[T]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=i})(k1)),k1}var N1={},hP;function Kse(){return hP||(hP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?s(m,d+1):i.push(m)}};return s(n,0),i}e.flatten=t})(N1)),N1}var M1={},mP;function N4(){return mP||(mP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4(),n=MA(),r=x4(),i=S4();function a(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],s):!1}e.isIterateeCall=a})(M1)),M1}var pP;function Wse(){return pP||(pP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yse(),n=Kse(),r=N4();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(T1)),T1}var D1,gP;function Vse(){return gP||(gP=1,D1=Wse().sortBy),D1}var Zse=Vse();const ab=Pi(Zse);var M4=e=>e.legend.settings,Xse=e=>e.legend.size,Jse=e=>e.legend.payload;ke([Jse,M4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ab(r,n):r});var x0=1;function Qse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>x0||Math.abs(s.left-t.left)>x0||Math.abs(s.top-t.top)>x0||Math.abs(s.width-t.width)>x0)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var D4=Symbol.for("immer-nothing"),vP=Symbol.for("immer-draftable"),fi=Symbol.for("immer-state");function lo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ra=Object,Qd=ra.getPrototypeOf,zv="constructor",ob="prototype",fE="configurable",Uv="enumerable",rv="writable",ym="value",Ms=e=>!!e&&!!e[fi];function yo(e){return e?P4(e)||sb(e)||!!e[vP]||!!e[zv]?.[vP]||lb(e)||cb(e):!1}var ele=ra[ob][zv].toString(),yP=new WeakMap;function P4(e){if(!e||!PA(e))return!1;const t=Qd(e);if(t===null||t===ra[ob])return!0;const n=ra.hasOwnProperty.call(t,zv)&&t[zv];if(n===Object)return!0;if(!jd(n))return!1;let r=yP.get(n);return r===void 0&&(r=Function.toString.call(n),yP.set(n,r)),r===ele}function Zm(e,t,n=!0){Xm(e)===0?(n?Reflect.ownKeys(e):ra.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Xm(e){const t=e[fi];return t?t.type_:sb(e)?1:lb(e)?2:cb(e)?3:0}var bP=(e,t,n=Xm(e))=>n===2?e.has(t):ra[ob].hasOwnProperty.call(e,t),hE=(e,t,n=Xm(e))=>n===2?e.get(t):e[t],Hv=(e,t,n,r=Xm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function tle(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var sb=Array.isArray,lb=e=>e instanceof Map,cb=e=>e instanceof Set,PA=e=>typeof e=="object",jd=e=>typeof e=="function",P1=e=>typeof e=="boolean",_s=e=>e.copy_||e.base_,RA=e=>e.modified_?e.copy_:e.base_;function mE(e,t){if(lb(e))return new Map(e);if(cb(e))return new Set(e);if(sb(e))return Array[ob].slice.call(e);const n=P4(e);if(t===!0||t==="class_only"&&!n){const r=ra.getOwnPropertyDescriptors(e);delete r[fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c[rv]===!1&&(c[rv]=!0,c[fE]=!0),(c.get||c.set)&&(r[s]={[fE]:!0,[rv]:!0,[Uv]:c[Uv],[ym]:e[s]})}return ra.create(Qd(e),r)}else{const r=Qd(e);if(r!==null&&n)return{...e};const i=ra.create(r);return ra.assign(i,e)}}function LA(e,t=!1){return ub(e)||Ms(e)||!yo(e)||(Xm(e)>1&&ra.defineProperties(e,{set:w0,add:w0,clear:w0,delete:w0}),ra.freeze(e),t&&Zm(e,(n,r)=>{LA(r,!0)},!1)),e}function nle(){lo(2)}var w0={[ym]:nle};function ub(e){return e===null||!PA(e)?!0:ra.isFrozen(e)}var Fv="MapSet",pE="Patches",R4={};function ef(e){const t=R4[e];return t||lo(0,e),t}var rle=e=>!!R4[e],bm,L4=()=>bm,ile=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rle(Fv)?ef(Fv):void 0});function _P(e,t){t&&(e.patchPlugin_=ef(pE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gE(e){vE(e),e.drafts_.forEach(ale),e.drafts_=null}function vE(e){e===bm&&(bm=e.parent_)}var xP=e=>bm=ile(bm,e);function ale(e){const t=e[fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[fi].modified_&&(gE(t),lo(4)),yo(e)&&(e=SP(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[fi].base_,e,t)}else e=SP(t,n);return ole(t,e,!0),gE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==D4?e:void 0}function SP(e,t){if(ub(t))return t;const n=t[fi];if(!n)return $A(t,e.handledSet_,e);if(!db(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);B4(n,e)}return n.copy_}function ole(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&LA(t,n)}function $4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var db=(e,t)=>e.scope_===t,sle=[];function I4(e,t,n,r){const i=_s(e),a=e.type_;if(r!==void 0&&hE(i,r,a)===t){Hv(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Zm(i,(d,f)=>{if(Ms(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const s=e.draftLocations_.get(t)??sle;for(const c of s)Hv(i,c,n,a)}function lle(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!db(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=RA(a);I4(e,a.draft_??a,s,n),B4(a,i)})}function B4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}$4(e)}}function cle(e,t,n){const{scope_:r}=e;if(Ms(n)){const i=n[fi];db(i,r)&&i.callbacks_.push(function(){iv(e);const s=RA(i);I4(e,n,s,t)})}else yo(n)&&e.callbacks_.push(function(){const a=_s(e);hE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$A(hE(e.copy_,t,e.type_),r.handledSet_,r)})}function $A(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(e)||t.has(e)||!yo(e)||ub(e)||(t.add(e),Zm(e,(r,i)=>{if(Ms(i)){const a=i[fi];if(db(a,n)){const s=RA(a);Hv(e,r,s,e.type_),$4(a)}}else yo(i)&&$A(i,t,n)})),e}function ule(e,t){const n=sb(e),r={type_:n?1:0,scope_:t?t.scope_:L4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=IA;n&&(i=[r],a=_m);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,[c,r]}var IA={get(e,t){if(t===fi)return e;const n=_s(e);if(!bP(n,t,e.type_))return dle(e,n,t);const r=n[t];if(e.finalized_||!yo(r))return r;if(r===R1(e.base_,t)){iv(e);const i=e.type_===1?+t:t,a=bE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in _s(e)},ownKeys(e){return Reflect.ownKeys(_s(e))},set(e,t,n){const r=z4(_s(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=R1(_s(e),t),a=i?.[fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(tle(n,i)&&(n!==void 0||bP(e.base_,t,e.type_)))return!0;iv(e),yE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),cle(e,t,n)),!0},deleteProperty(e,t){return iv(e),R1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=_s(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[rv]:!0,[fE]:e.type_!==1||t!=="length",[Uv]:r[Uv],[ym]:n[t]}},defineProperty(){lo(11)},getPrototypeOf(e){return Qd(e.base_)},setPrototypeOf(){lo(12)}},_m={};Zm(IA,(e,t)=>{_m[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});_m.deleteProperty=function(e,t){return _m.set.call(this,e,t,void 0)};_m.set=function(e,t,n){return IA.set.call(this,e[0],t,n,e[0])};function R1(e,t){const n=e[fi];return(n?_s(n):e)[t]}function dle(e,t,n){const r=z4(t,n);return r?ym in r?r[ym]:r.get?.call(e.draft_):void 0}function z4(e,t){if(!(t in e))return;let n=Qd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Qd(n)}}function yE(e){e.modified_||(e.modified_=!0,e.parent_&&yE(e.parent_))}function iv(e){e.copy_||(e.assigned_=new Map,e.copy_=mE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(jd(n)&&!jd(r)){const s=r;r=n;const c=this;return function(f=s,...m){return c.produce(f,p=>r.call(this,p,...m))}}jd(r)||lo(6),i!==void 0&&!jd(i)&&lo(7);let a;if(yo(n)){const s=xP(this),c=bE(s,n,void 0);let d=!0;try{a=r(c),d=!1}finally{d?gE(s):vE(s)}return _P(s,i),wP(a,s)}else if(!n||!PA(n)){if(a=r(n),a===void 0&&(a=n),a===D4&&(a=void 0),this.autoFreeze_&&LA(a,!0),i){const s=[],c=[];ef(pE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:c}),i(s,c)}return a}else lo(1,n)},this.produceWithPatches=(n,r)=>{if(jd(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,a;return[this.produce(n,r,(c,d)=>{i=c,a=d}),i,a]},P1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),P1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),P1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yo(t)||lo(8),Ms(t)&&(t=po(t));const n=xP(this),r=bE(n,t,void 0);return r[fi].isManual_=!0,vE(n),r}finishDraft(t,n){const r=t&&t[fi];(!r||!r.isManual_)&&lo(9);const{scope_:i}=r;return _P(i,n),wP(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ef(pE).applyPatches_;return Ms(t)?i(t,n):this.produce(t,a=>i(a,n))}};function bE(e,t,n,r){const[i,a]=lb(t)?ef(Fv).proxyMap_(t,n):cb(t)?ef(Fv).proxySet_(t,n):ule(t,n);return(n?.scope_??L4()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?lle(n,a,r):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function po(e){return Ms(e)||lo(10,e),U4(e)}function U4(e){if(!yo(e)||ub(e))return e;const t=e[fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=mE(e,!0);return Zm(n,(i,a)=>{Hv(n,i,U4(a))},r),t&&(t.finalized_=!1),n}var hle=new fle,H4=hle.produce;function F4(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var mle=F4(),ple=F4,gle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?am:am.apply(null,arguments)};function za(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(oa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>DI(r)&&r.type===e,n}var G4=class Kh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kh.prototype)}static get[Symbol.species](){return Kh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kh(...t[0].concat(this)):new Kh(...t.concat(this))}};function EP(e){return yo(e)?H4(e,()=>{}):e}function S0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function vle(e){return typeof e=="boolean"}var yle=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new G4;return n&&(vle(n)?s.push(mle):s.push(ple(n.extraArgument))),s},q4="RTK_autoBatch",xn=()=>e=>({payload:e,meta:{[q4]:!0}}),AP=e=>t=>{setTimeout(t,e)},Y4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AP(10):e.type==="callback"?e.queueNotification:AP(e.timeout),f=()=>{s=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[q4],a=!i,a&&(s||(s=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},ble=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new G4(e);return r&&i.push(Y4(typeof r=="object"?r:void 0)),i};function _le(e){const t=yle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(O2(n))c=NI(n);else throw new Error(oa(1));let d;typeof r=="function"?d=r(t):d=t();let f=am;i&&(f=gle({trace:!1,...typeof i=="object"&&i}));const m=MI(...d),p=ble(m);let y=typeof s=="function"?s(p):p();const b=f(...y);return j2(c,a,b)}function K4(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(oa(28));if(c in t)throw new Error(oa(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function xle(e){return typeof e=="function"}function wle(e,t){let[n,r,i]=K4(t),a;if(xle(e))a=()=>EP(e());else{const c=EP(e);a=()=>c}function s(c=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(Ms(m)){const b=p(m,d);return b===void 0?m:b}else{if(yo(m))return H4(m,y=>p(y,d));{const y=p(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return s.getInitialState=a,s}var Sle="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ele=(e=21)=>{let t="",n=e;for(;n--;)t+=Sle[Math.random()*64|0];return t},Ale=Symbol.for("rtk-slice-createasyncthunk");function Tle(e,t){return`${e}/${t}`}function kle({creators:e}={}){const t=e?.asyncThunk?.[Ale];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(oa(11));const s=(typeof r.reducers=="function"?r.reducers(jle()):r.reducers)||{},c=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,M){const C=typeof O=="string"?O:O.type;if(!C)throw new Error(oa(12));if(C in d.sliceCaseReducersByType)throw new Error(oa(13));return d.sliceCaseReducersByType[C]=M,f},addMatcher(O,M){return d.sliceMatchers.push({matcher:O,reducer:M}),f},exposeAction(O,M){return d.actionCreators[O]=M,f},exposeCaseReducer(O,M){return d.sliceCaseReducersByName[O]=M,f}};c.forEach(O=>{const M=s[O],C={reducerName:O,type:Tle(i,O),createNotation:typeof r.reducers=="function"};Nle(M)?Dle(C,M,f,t):Cle(C,M,f)});function m(){const[O={},M=[],C=void 0]=typeof r.extraReducers=="function"?K4(r.extraReducers):[r.extraReducers],R={...O,...d.sliceCaseReducersByType};return wle(r.initialState,I=>{for(let z in R)I.addCase(z,R[z]);for(let z of d.sliceMatchers)I.addMatcher(z.matcher,z.reducer);for(let z of M)I.addMatcher(z.matcher,z.reducer);C&&I.addDefaultCase(C)})}const p=O=>O,y=new Map,b=new WeakMap;let w;function T(O,M){return w||(w=m()),w(O,M)}function S(){return w||(w=m()),w.getInitialState()}function j(O,M=!1){function C(I){let z=I[O];return typeof z>"u"&&M&&(z=S0(b,C,S)),z}function R(I=p){const z=S0(y,M,()=>new WeakMap);return S0(z,I,()=>{const q={};for(const[V,H]of Object.entries(r.selectors??{}))q[V]=Ole(H,I,()=>S0(b,I,S),M);return q})}return{reducerPath:O,getSelectors:R,get selectors(){return R(C)},selectSlice:C}}const D={name:i,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...j(a),injectInto(O,{reducerPath:M,...C}={}){const R=M??a;return O.inject({reducerPath:R,reducer:T},C),{...D,...j(R,!0)}}};return D}}function Ole(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var Ri=kle();function jle(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Cle({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Mle(r))throw new Error(oa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?za(e,s):za(e))}function Nle(e){return e._reducerDefinitionType==="asyncThunk"}function Mle(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Dle({type:e,reducerName:t},n,r,i){if(!i)throw new Error(oa(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:s||E0,pending:c||E0,rejected:d||E0,settled:f||E0})}function E0(){}var Ple="task",W4="listener",V4="completed",BA="cancelled",Rle=`task-${BA}`,Lle=`task-${V4}`,_E=`${W4}-${BA}`,$le=`${W4}-${V4}`,fb=class{constructor(e){this.code=e,this.message=`${Ple} ${BA} (reason: ${e})`}name="TaskAbortError";message},zA=(e,t)=>{if(typeof e!="function")throw new TypeError(oa(32))},Gv=()=>{},Z4=(e,t=Gv)=>(e.catch(t),e),X4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),du=e=>{if(e.aborted)throw new fb(e.reason)};function J4(e,t){let n=Gv;return new Promise((r,i)=>{const a=()=>i(new fb(e.reason));if(e.aborted){a();return}n=X4(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Gv})}var Ile=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof fb?"cancelled":"rejected",error:n}}finally{t?.()}},qv=e=>t=>Z4(J4(e,t).then(n=>(du(e),n))),Q4=e=>{const t=qv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Hd}=Object,TP={},hb="listenerMiddleware",Ble=(e,t)=>{const n=r=>X4(e,()=>r.abort(e.reason));return(r,i)=>{zA(r);const a=new AbortController;n(a);const s=Ile(async()=>{du(e),du(a.signal);const c=await r({pause:qv(a.signal),delay:Q4(a.signal),signal:a.signal});return du(a.signal),c},()=>a.abort(Lle));return i?.autoJoin&&t.push(s.catch(Gv)),{result:qv(e)(s),cancel(){a.abort(Rle)}}}},zle=(e,t)=>{const n=async(r,i)=>{du(t);let a=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:r,effect:(p,y)=>{y.unsubscribe(),d([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await J4(t,Promise.race(c));return du(t),d}finally{a()}};return(r,i)=>Z4(n(r,i))},e7=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=za(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(oa(21));return zA(a),{predicate:i,type:t,effect:a}},t7=Hd(e=>{const{type:t,predicate:n,effect:r}=e7(e);return{id:Ele(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(oa(22))}}},{withTypes:()=>t7}),kP=(e,t)=>{const{type:n,effect:r,predicate:i}=e7(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},xE=e=>{e.pending.forEach(t=>{t.abort(_E)})},Ule=(e,t)=>()=>{for(const n of t.keys())xE(n);e.clear()},OP=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},n7=Hd(za(`${hb}/add`),{withTypes:()=>n7}),Hle=za(`${hb}/removeAll`),r7=Hd(za(`${hb}/remove`),{withTypes:()=>r7}),Fle=(...e)=>{console.error(`${hb}/error`,...e)},Jm=(e={})=>{const t=new Map,n=new Map,r=b=>{const w=n.get(b)??0;n.set(b,w+1)},i=b=>{const w=n.get(b)??1;w===1?n.delete(b):n.set(b,w-1)},{extra:a,onError:s=Fle}=e;zA(s);const c=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),w=>{b.unsubscribe(),w?.cancelActive&&xE(b)}),d=b=>{const w=kP(t,b)??t7(b);return c(w)};Hd(d,{withTypes:()=>d});const f=b=>{const w=kP(t,b);return w&&(w.unsubscribe(),b.cancelActive&&xE(w)),!!w};Hd(f,{withTypes:()=>f});const m=async(b,w,T,S)=>{const j=new AbortController,D=zle(d,j.signal),O=[];try{b.pending.add(j),r(b),await Promise.resolve(b.effect(w,Hd({},T,{getOriginalState:S,condition:(M,C)=>D(M,C).then(Boolean),take:D,delay:Q4(j.signal),pause:qv(j.signal),extra:a,signal:j.signal,fork:Ble(j.signal,O),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,C,R)=>{M!==j&&(M.abort(_E),R.delete(M))})},cancel:()=>{j.abort(_E),b.pending.delete(j)},throwIfCancelled:()=>{du(j.signal)}})))}catch(M){M instanceof fb||OP(s,M,{raisedBy:"effect"})}finally{await Promise.all(O),j.abort($le),i(b),b.pending.delete(j)}},p=Ule(t,n);return{middleware:b=>w=>T=>{if(!DI(T))return w(T);if(n7.match(T))return d(T.payload);if(Hle.match(T)){p();return}if(r7.match(T))return f(T.payload);let S=b.getState();const j=()=>{if(S===TP)throw new Error(oa(23));return S};let D;try{if(D=w(T),t.size>0){const O=b.getState(),M=Array.from(t.values());for(const C of M){let R=!1;try{R=C.predicate(T,O,S)}catch(I){R=!1,OP(s,I,{raisedBy:"predicate"})}R&&m(C,T,b,j)}}}finally{S=TP}return D},startListening:d,stopListening:f,clearListeners:p}};function oa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Gle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i7=Ri({name:"chartLayout",initialState:Gle,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qle,setLayout:Yle,setChartSize:Kle,setScale:Wle}=i7.actions,Vle=i7.reducer;function a7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){Zle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zle(e,t,n){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xle(e){var t=Jle(e,"string");return typeof t=="symbol"?t:t+""}function Jle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t,n){return Br(e)||Br(t)?n:Fo(t)?ib(e,t,n):typeof t=="function"?t(e):n}var Qle=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&nt(e[a]))return Rd(Rd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&nt(e[s]))return Rd(Rd({},e),{},{[s]:e[s]+(i||0)})}return e},Bs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",o7=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(n),s},s7=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:b}=e;if(!s)return null;var w=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,T=i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(T=b==="angleAxis"&&a&&a.length>=2?Da(a[0]-a[1])*2*T:T,p||y){var S=(p||y||[]).map((j,D)=>{var O=r?r.indexOf(j):j;return{coordinate:s(O)+T,value:j,offset:T,index:D}});return S.filter(j=>!vo(j.coordinate))}return d&&f?f.map((j,D)=>({coordinate:s(j)+T,value:j,index:D,offset:T})):s.ticks&&m!=null?s.ticks(m).map((j,D)=>({coordinate:s(j)+T,value:j,offset:T,index:D})):s.domain().map((j,D)=>({coordinate:s(j)+T,value:r?r[j]:j,index:D,offset:T}))},CP=1e-4,ece=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-CP,a=Math.max(r[0],r[1])+CP,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},tce=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=vo(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},nce=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=vo(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},rce={sign:tce,expand:qoe,none:Jd,silhouette:Yoe,wiggle:Koe,positive:nce},ice=(e,t,n)=>{var r=rce[n],i=Goe().keys(t).value((a,s)=>Number(Qr(a,s,0))).order(dE).offset(r);return i(e)};function ace(e){return e==null?void 0:String(e)}function NP(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Br(i[t.dataKey])){var c=y4(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Qr(i,Br(s)?t.dataKey:s);return Br(d)?null:t.scale(d)}var oce=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},sce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],lce=(e,t,n)=>{if(e!=null)return sce(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((d,f)=>{var m=a7(f,t,n),p=oce(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},MP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ab(t,m=>m.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],f=i[s-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function PP(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Rd(Rd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function l7(e,t){if(e)return String(e);if(typeof t=="string")return t}var cce=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},uce=(e,t)=>t==="centric"?e.angle:e.radius,zs=e=>e.layout.width,Us=e=>e.layout.height,dce=e=>e.layout.scale,c7=e=>e.layout.margin,mb=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pb=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fce="data-recharts-item-index",hce="data-recharts-item-data-key",Qm=60;function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){mce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mce(e,t,n){return(t=pce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pce(e){var t=gce(e,"string");return typeof t=="symbol"?t:t+""}function gce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vce=e=>e.brush.height;function yce(e){var t=pb(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Qm;return n+i}return n},0)}function bce(e){var t=pb(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Qm;return n+i}return n},0)}function _ce(e){var t=mb(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function xce(e){var t=mb(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var zr=ke([zs,Us,c7,vce,yce,bce,_ce,xce,M4,Xse],(e,t,n,r,i,a,s,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+c},y=A0(A0({},p),m),b=y.bottom;y.bottom+=r,y=Qle(y,d,f);var w=e-y.left-y.right,T=t-y.top-y.bottom;return A0(A0({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(T,0)})}),wce=ke(zr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),u7=ke(zs,Us,(e,t)=>({x:0,y:0,width:e,height:t})),Sce=A.createContext(null),Li=()=>A.useContext(Sce)!=null,gb=e=>e.brush,vb=ke([gb,zr,c7],(e,t,n)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:nt(e.width)?e.width:t.width})),L1={},$1={},I1={},LP;function Ece(){return LP||(LP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},p=()=>{f&&m(),T()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},T=()=>{w(),s=void 0,c=null},S=()=>{m()},j=function(...D){if(i?.aborted)return;s=this,c=D;const O=y==null;b(),d&&O&&m()};return j.schedule=b,j.cancel=T,j.flush=S,i?.addEventListener("abort",T,{once:!0}),j}e.debounce=t})(I1)),I1}var $P;function Ace(){return $P||($P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ece();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const y=t.debounce(function(...T){m=r.apply(this,T),p=null},i,{edges:f}),b=function(...T){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,T),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,T),m)},w=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=w,b}e.debounce=n})($1)),$1}var IP;function Tce(){return IP||(IP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ace();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(L1)),L1}var B1,BP;function kce(){return BP||(BP=1,B1=Tce().throttle),B1}var Oce=kce();const jce=Pi(Oce);var Kv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},d7=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,c=Ns(r)?e:Number(r),d=Ns(i)?t:Number(i);return a&&a>0&&(c?d=c/a:d&&(c=d*a),s&&d!=null&&d>s&&(d=s)),{calculatedWidth:c,calculatedHeight:d}},Cce={width:0,height:0,overflow:"visible"},Nce={width:0,overflowX:"visible"},Mce={height:0,overflowY:"visible"},Dce={},Pce=e=>{var{width:t,height:n}=e,r=Ns(t),i=Ns(n);return r&&i?Cce:r?Nce:i?Mce:Dce};function Rce(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Bn(e){return Number.isFinite(e)}function Go(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(null,arguments)}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){Lce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lce(e,t,n){return(t=$ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ce(e){var t=Ice(e,"string");return typeof t=="symbol"?t:t+""}function Ice(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f7=A.createContext({width:-1,height:-1});function Bce(e){return Go(e.width)&&Go(e.height)}function h7(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return Bce(i)?A.createElement(f7.Provider,{value:i},t):null}var UA=()=>A.useContext(f7),zce=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:y,onResize:b,style:w={}}=e,T=A.useRef(null),S=A.useRef();S.current=b,A.useImperativeHandle(t,()=>T.current);var[j,D]=A.useState({containerWidth:r.width,containerHeight:r.height}),O=A.useCallback((z,q)=>{D(V=>{var H=Math.round(z),U=Math.round(q);return V.containerWidth===H&&V.containerHeight===U?V:{containerWidth:H,containerHeight:U}})},[]);A.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return Vm;var z=U=>{var Z,{width:re,height:ve}=U[0].contentRect;O(re,ve),(Z=S.current)===null||Z===void 0||Z.call(S,re,ve)};m>0&&(z=jce(z,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(z),{width:V,height:H}=T.current.getBoundingClientRect();return O(V,H),q.observe(T.current),()=>{q.disconnect()}},[O,m]);var{containerWidth:M,containerHeight:C}=j;Kv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:I}=d7(M,C,{width:i,height:a,aspect:n,maxHeight:d});return Kv(R!=null&&R>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,I,i,a,s,c,n),A.createElement("div",{id:p?"".concat(p):void 0,className:pn("recharts-responsive-container",y),style:UP(UP({},w),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:T},A.createElement("div",{style:Pce({width:i,height:a})},A.createElement(h7,{width:R,height:I},f)))}),Uce=A.forwardRef((e,t)=>{var n=UA();if(Go(n.width)&&Go(n.height))return e.children;var{width:r,height:i}=Rce({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=d7(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return nt(a)&&nt(s)?A.createElement(h7,{width:a,height:s},e.children):A.createElement(zce,wE({},e,{width:r,height:i,ref:t}))});function m7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var yb=()=>{var e,t=Li(),n=at(wce),r=at(vb),i=(e=at(gb))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Hce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},p7=()=>{var e;return(e=at(zr))!==null&&e!==void 0?e:Hce},g7=()=>at(zs),v7=()=>at(Us),un=e=>e.layout.layoutType,ep=()=>at(un),Fce=()=>{var e=ep();if(e==="horizontal"||e==="vertical")return e},Gce=()=>{var e=ep();return e!==void 0},bb=e=>{var t=Tr(),n=Li(),{width:r,height:i}=e,a=UA(),s=r,c=i;return a&&(s=a.width>0?a.width:r,c=a.height>0?a.height:i),A.useEffect(()=>{!n&&Go(s)&&Go(c)&&t(Kle({width:s,height:c}))},[t,n,s,c]),null},y7=Symbol.for("immer-nothing"),HP=Symbol.for("immer-draftable"),la=Symbol.for("immer-state");function co(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xm=Object.getPrototypeOf;function tf(e){return!!e&&!!e[la]}function yu(e){return e?b7(e)||Array.isArray(e)||!!e[HP]||!!e.constructor?.[HP]||tp(e)||xb(e):!1}var qce=Object.prototype.constructor.toString(),FP=new WeakMap;function b7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=FP.get(n);return r===void 0&&(r=Function.toString.call(n),FP.set(n,r)),r===qce}function Wv(e,t,n=!0){_b(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function _b(e){const t=e[la];return t?t.type_:Array.isArray(e)?1:tp(e)?2:xb(e)?3:0}function SE(e,t){return _b(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _7(e,t,n){const r=_b(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Yce(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tp(e){return e instanceof Map}function xb(e){return e instanceof Set}function Qc(e){return e.copy_||e.base_}function EE(e,t){if(tp(e))return new Map(e);if(xb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=b7(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[la];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(xm(e),r)}else{const r=xm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function HA(e,t=!1){return wb(e)||tf(e)||!yu(e)||(_b(e)>1&&Object.defineProperties(e,{set:T0,add:T0,clear:T0,delete:T0}),Object.freeze(e),t&&Object.values(e).forEach(n=>HA(n,!0))),e}function Kce(){co(2)}var T0={value:Kce};function wb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Wce={};function bu(e){const t=Wce[e];return t||co(0,e),t}var wm;function x7(){return wm}function Vce(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GP(e,t){t&&(bu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function AE(e){TE(e),e.drafts_.forEach(Zce),e.drafts_=null}function TE(e){e===wm&&(wm=e.parent_)}function qP(e){return wm=Vce(wm,e)}function Zce(e){const t=e[la];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function YP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[la].modified_&&(AE(t),co(4)),yu(e)&&(e=Vv(t,e),t.parent_||Zv(t,e)),t.patches_&&bu("Patches").generateReplacementPatches_(n[la].base_,e,t.patches_,t.inversePatches_)):e=Vv(t,n,[]),AE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==y7?e:void 0}function Vv(e,t,n){if(wb(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[la];if(!i)return Wv(t,(a,s)=>KP(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Zv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,c=!1;i.type_===3&&(s=new Set(a),a.clear(),c=!0),Wv(s,(d,f)=>KP(e,i,a,d,f,n,c),r),Zv(e,a,!1),n&&e.patches_&&bu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function KP(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const c=wb(i);if(!(c&&!s)){if(tf(i)){const d=a&&t&&t.type_!==3&&!SE(t.assigned_,r)?a.concat(r):void 0,f=Vv(e,i,d);if(_7(n,r,f),tf(f))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(yu(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;Vv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(tp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zv(e,i)}}}function Zv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&HA(t,n)}function Xce(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:x7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=FA;n&&(i=[r],a=Sm);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var FA={get(e,t){if(t===la)return e;const n=Qc(e);if(!SE(n,t))return Jce(e,n,t);const r=n[t];return e.finalized_||!yu(r)?r:r===z1(e.base_,t)?(U1(e),e.copy_[t]=OE(r,e)):r},has(e,t){return t in Qc(e)},ownKeys(e){return Reflect.ownKeys(Qc(e))},set(e,t,n){const r=w7(Qc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=z1(Qc(e),t),a=i?.[la];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Yce(n,i)&&(n!==void 0||SE(e.base_,t)))return!0;U1(e),kE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return z1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,U1(e),kE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){co(11)},getPrototypeOf(e){return xm(e.base_)},setPrototypeOf(){co(12)}},Sm={};Wv(FA,(e,t)=>{Sm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sm.deleteProperty=function(e,t){return Sm.set.call(this,e,t,void 0)};Sm.set=function(e,t,n){return FA.set.call(this,e[0],t,n,e[0])};function z1(e,t){const n=e[la];return(n?Qc(n):e)[t]}function Jce(e,t,n){const r=w7(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function w7(e,t){if(!(t in e))return;let n=xm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xm(n)}}function kE(e){e.modified_||(e.modified_=!0,e.parent_&&kE(e.parent_))}function U1(e){e.copy_||(e.copy_=EE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Qce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(d=a,...f){return s.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&co(6),r!==void 0&&typeof r!="function"&&co(7);let i;if(yu(t)){const a=qP(this),s=OE(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?AE(a):TE(a)}return GP(a,r),YP(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===y7&&(i=void 0),this.autoFreeze_&&HA(i,!0),r){const a=[],s=[];bu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else co(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yu(e)||co(8),tf(e)&&(e=eue(e));const t=qP(this),n=OE(e,void 0);return n[la].isManual_=!0,TE(t),n}finishDraft(e,t){const n=e&&e[la];(!n||!n.isManual_)&&co(9);const{scope_:r}=n;return GP(r,t),YP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=bu("Patches").applyPatches_;return tf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function OE(e,t){const n=tp(e)?bu("MapSet").proxyMap_(e,t):xb(e)?bu("MapSet").proxySet_(e,t):Xce(e,t);return(t?t.scope_:x7()).drafts_.push(n),n}function eue(e){return tf(e)||co(10,e),S7(e)}function S7(e){if(!yu(e)||wb(e))return e;const t=e[la];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=EE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=EE(e,!0);return Wv(n,(i,a)=>{_7(n,i,S7(a))},r),t&&(t.finalized_=!1),n}var tue=new Qce;tue.produce;var nue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},E7=Ri({name:"legend",initialState:nue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:xn()},removeLegendPayload:{reducer(e,t){var n=po(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:xn()}}}),{setLegendSize:E1e,setLegendSettings:A1e,addLegendPayload:rue,replaceLegendPayload:iue,removeLegendPayload:aue}=E7.actions,oue=E7.reducer;function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(null,arguments)}function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){sue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sue(e,t,n){return(t=lue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lue(e){var t=cue(e,"string");return typeof t=="symbol"?t:t+""}function cue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uue(e){return Array.isArray(e)&&Fo(e[0])&&Fo(e[1])?e.join(" ~ "):e}var due=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,b=()=>{if(a&&a.length){var C={padding:0,margin:0},R=(c?ab(a,c):a).map((I,z)=>{if(I.type==="none")return null;var q=I.formatter||s||uue,{value:V,name:H}=I,U=V,Z=H;if(q){var re=q(V,H,I,z,a);if(Array.isArray(re))[U,Z]=re;else if(re!=null)U=re;else return null}var ve=H1({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:ve},Fo(Z)?A.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Fo(Z)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},U),A.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:C},R)}return null},w=H1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=H1({margin:0},i),S=!Br(m),j=S?m:"",D=pn("recharts-default-tooltip",d),O=pn("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(j=p(m,a));var M=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",jE({className:D,style:w},M),A.createElement("p",{className:O,style:T},A.isValidElement(j)?j:"".concat(j)),b())},Ph="recharts-tooltip-wrapper",fue={visibility:"hidden"};function hue(e){var{coordinate:t,translateX:n,translateY:r}=e;return pn(Ph,{["".concat(Ph,"-right")]:nt(n)&&t&&nt(t.x)&&n>=t.x,["".concat(Ph,"-left")]:nt(n)&&t&&nt(t.x)&&n<t.x,["".concat(Ph,"-bottom")]:nt(r)&&t&&nt(t.y)&&r>=t.y,["".concat(Ph,"-top")]:nt(r)&&t&&nt(t.y)&&r<t.y})}function VP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&nt(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?m:p;var y=d[r];if(y==null)return 0;if(s[r]){var b=m,w=y;return b<w?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var T=p+c,S=y+f;return T>S?Math.max(m,y):Math.max(p,y)}function mue(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function pue(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,f,m,p;return s.height>0&&s.width>0&&n?(m=VP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),p=VP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=mue({translateX:m,translateY:p,useTranslate3d:c})):f=fue,{cssProperties:f,cssClasses:hue({translateX:m,translateY:p,coordinate:n})}}function ZP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(n),!0).forEach(function(r){CE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CE(e,t,n){return(t=gue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yue extends A.PureComponent{constructor(){super(...arguments),CE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),CE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:T,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:D,cssProperties:O}=pue({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:T.height,width:T.width},useTranslate3d:y,viewBox:b}),M=j?{}:k0(k0({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),C=k0(k0({},M),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:C,ref:S},a)}}var A7=()=>{var e;return(e=at(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NE.apply(null,arguments)}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(r){bue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bue(e,t,n){return(t=_ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ue(e){var t=xue(e,"string");return typeof t=="symbol"?t:t+""}function xue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QP={curveBasisClosed:Doe,curveBasisOpen:Poe,curveBasis:Moe,curveBumpX:Coe,curveBumpY:Noe,curveLinearClosed:Roe,curveLinear:nb,curveMonotoneX:Loe,curveMonotoneY:$oe,curveNatural:Ioe,curveStep:Boe,curveStepAfter:Uoe,curveStepBefore:zoe},Xv=e=>Bn(e.x)&&Bn(e.y),eR=e=>e.base!=null&&Xv(e.base)&&Xv(e),Rh=e=>e.x,Lh=e=>e.y,wue=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(CA(e));return(n==="curveMonotone"||n==="curveBump")&&t?QP["".concat(n).concat(t==="vertical"?"Y":"X")]:QP[n]||nb},Sue=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=wue(t,i),c=a?n.filter(Xv):n,d;if(Array.isArray(r)){var f=n.map((b,w)=>JP(JP({},b),{},{base:r[w]}));i==="vertical"?d=b0().y(Lh).x1(Rh).x0(b=>b.base.x):d=b0().x(Rh).y1(Lh).y0(b=>b.base.y);var m=d.defined(eR).curve(s),p=a?f.filter(eR):f;return m(p)}i==="vertical"&&nt(r)?d=b0().y(Lh).x1(Rh).x0(r):nt(r)?d=b0().x(Rh).y1(Lh).y0(r):d=s4().x(Rh).y(Lh);var y=d.defined(Xv).curve(s);return y(c)},av=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Sue(e):r;return A.createElement("path",NE({},go(e),NA(e),{className:pn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Eue=["x","y","top","left","width","height","className"];function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ME.apply(null,arguments)}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){Tue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tue(e,t,n){return(t=kue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jue(e,t){if(e==null)return{};var n,r,i=Cue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nue=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Mue=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,d=jue(e,Eue),f=Aue({x:t,y:n,top:r,left:i,width:a,height:s},d);return!nt(t)||!nt(n)||!nt(a)||!nt(s)||!nt(r)||!nt(i)?null:A.createElement("path",ME({},Ba(f),{className:pn("recharts-cross",c),d:Nue(t,n,a,s,r,i)}))};function Due(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(r){Pue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pue(e,t,n){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rue(e){var t=Lue(e,"string");return typeof t=="symbol"?t:t+""}function Lue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Iue=(e,t,n)=>e.map(r=>"".concat($ue(r)," ").concat(t,"ms ").concat(n)).join(","),Bue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Em=(e,t)=>Object.keys(t).reduce((n,r)=>rR(rR({},n),{},{[r]:e(r,t[r])}),{});function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){zue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zue(e,t,n){return(t=Uue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uue(e){var t=Hue(e,"string");return typeof t=="symbol"?t:t+""}function Hue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jv=(e,t,n)=>e+(t-e)*n,DE=e=>{var{from:t,to:n}=e;return t!==n},T7=(e,t,n)=>{var r=Em((i,a)=>{if(DE(a)){var[s,c]=e(a.from,a.to,a.velocity);return cr(cr({},a),{},{from:s,velocity:c})}return a},t);return n<1?Em((i,a)=>DE(a)?cr(cr({},a),{},{velocity:Jv(a.velocity,r[i].velocity,n),from:Jv(a.from,r[i].from,n)}):a,t):T7(e,r,n-1)};function Fue(e,t,n,r,i,a){var s,c=r.reduce((y,b)=>cr(cr({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>Em((y,b)=>b.from,c),f=()=>!Object.values(c).filter(DE).length,m=null,p=y=>{s||(s=y);var b=y-s,w=b/n.dt;c=T7(n,c,w),i(cr(cr(cr({},e),t),d())),s=y,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function Gue(e,t,n,r,i,a,s){var c=null,d=i.reduce((p,y)=>cr(cr({},p),{},{[y]:[e[y],t[y]]}),{}),f,m=p=>{f||(f=p);var y=(p-f)/r,b=Em((T,S)=>Jv(...S,n(y)),d);if(a(cr(cr(cr({},e),t),b)),y<1)c=s.setTimeout(m);else{var w=Em((T,S)=>Jv(...S,n(1)),d);a(cr(cr(cr({},e),t),w))}};return()=>(c=s.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const que=(e,t,n,r,i,a)=>{var s=Bue(e,t);return n==null?()=>(i(cr(cr({},e),t)),()=>{}):n.isStepper===!0?Fue(e,t,n,s,i,a):Gue(e,t,n,r,s,i,a)};var Qv=1e-4,k7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],O7=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),aR=(e,t)=>n=>{var r=k7(e,t);return O7(r,n)},Yue=(e,t)=>n=>{var r=k7(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return O7(i,n)},Kue=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Wue=(e,t,n,r)=>{var i=aR(e,n),a=aR(t,r),s=Yue(e,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,y=0;y<8;++y){var b=i(p)-m,w=s(p);if(Math.abs(b-m)<Qv||w<Qv)return a(p);p=c(p-b/w)}return a(p)};return d.isStepper=!1,d},oR=function(){return Wue(...Kue(...arguments))},Vue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,d)=>{var f=-(s-c)*n,m=d*r,p=d+(f-m)*i/1e3,y=d*i/1e3+s;return Math.abs(y-c)<Qv&&Math.abs(p)<Qv?[c,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},Zue=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oR(e);case"spring":return Vue();default:if(e.split("(")[0]==="cubic-bezier")return oR(e)}return typeof e=="function"?e:null};function Xue(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...f]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Jue{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Que(){return Xue(new Jue)}var ede=A.createContext(Que);function tde(e,t){var n=A.useContext(ede);return A.useMemo(()=>t??n(e),[e,t,n])}var nde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gf={devToolsEnabled:!1,isSsr:nde()},rde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sR={t:0},F1={t:1};function j7(e){var t=da(e,rde),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=n==="auto"?!gf.isSsr:n,p=tde(t.animationId,t.animationManager),[y,b]=A.useState(m?sR:F1),w=A.useRef(null);return A.useEffect(()=>{m||b(F1)},[m]),A.useEffect(()=>{if(!m||!r)return Vm;var T=que(sR,F1,Zue(a),i,b,p.getTimeoutController()),S=()=>{w.current=T()};return p.start([d,s,S,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,a,s,d,c,p]),f(y.t)}function C7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(vm(t)),r=A.useRef(e);return r.current!==e&&(n.current=vm(t),r.current=e),n.current}var ide=["radius"],ade=["radius"];function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){ode(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ode(e,t,n){return(t=sde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sde(e){var t=lde(e,"string");return typeof t=="symbol"?t:t+""}function lde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}function uR(e,t){if(e==null)return{};var n,r,i=cde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dR=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+s*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+s*m[1])),f+="L ".concat(e+n,",").concat(t+r-s*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-s*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);f="M ".concat(e,",").concat(t+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(t,`
            L `).concat(e+n-c*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n,",").concat(t+s*b,`
            L `).concat(e+n,",").concat(t+r-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n-c*b,",").concat(t+r,`
            L `).concat(e+c*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(t+r-s*b," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},fR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ude=e=>{var t=da(e,fR),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ae=n.current.getTotalLength();ae&&i(ae)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:f,className:m}=t,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:T}=t,S=A.useRef(c),j=A.useRef(d),D=A.useRef(a),O=A.useRef(s),M=A.useMemo(()=>({x:a,y:s,width:c,height:d,radius:f}),[a,s,c,d,f]),C=C7(M,"rectangle-");if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var R=pn("recharts-rectangle",m);if(!T){var I=Ba(t),{radius:z}=I,q=uR(I,ide);return A.createElement("path",ey({},q,{radius:typeof f=="number"?f:void 0,className:R,d:dR(a,s,c,d,f)}))}var V=S.current,H=j.current,U=D.current,Z=O.current,re="0px ".concat(r===-1?1:r,"px"),ve="".concat(r,"px 0px"),J=Iue(["strokeDasharray"],y,typeof p=="string"?p:fR.animationEasing);return A.createElement(j7,{animationId:C,key:C,canBegin:r>0,duration:y,easing:p,isActive:T,begin:b},ae=>{var ne=$o(V,c,ae),ce=$o(H,d,ae),te=$o(U,a,ae),Y=$o(Z,s,ae);n.current&&(S.current=ne,j.current=ce,D.current=te,O.current=Y);var B;w?ae>0?B={transition:J,strokeDasharray:ve}:B={strokeDasharray:re}:B={strokeDasharray:ve};var X=Ba(t),{radius:ee}=X,G=uR(X,ade);return A.createElement("path",ey({},G,{radius:typeof f=="number"?f:void 0,className:R,d:dR(te,Y,ne,ce,f),ref:n,style:cR(cR({},B),t.style)}))})};function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){dde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dde(e,t,n){return(t=fde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fde(e){var t=hde(e,"string");return typeof t=="symbol"?t:t+""}function hde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ty=Math.PI/180,mde=e=>e*180/Math.PI,Ir=(e,t,n,r)=>({x:e+Math.cos(-ty*r)*n,y:t+Math.sin(-ty*r)*n}),pde=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gde=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},vde=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=gde({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:s,angle:mde(d),angleInRadian:d}},yde=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},bde=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},_de=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=vde({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:f}=yde(t),m=a,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?mR(mR({},t),{},{radius:i,angle:bde(m,t)}):null};function N7(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Ir(t,n,r,i),c=Ir(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PE.apply(null,arguments)}var xde=(e,t)=>{var n=Da(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},O0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,f=c*(s?1:-1)+r,m=Math.asin(c/f)/ty,p=d?i:i+a*m,y=Ir(t,n,f,p),b=Ir(t,n,r,p),w=d?i-a*m:i,T=Ir(t,n,f*Math.cos(m*ty),w);return{center:y,circleTangency:b,lineTangency:T,theta:m}},M7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=xde(a,s),d=a+c,f=Ir(t,n,i,a),m=Ir(t,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=Ir(t,n,r,a),b=Ir(t,n,r,d);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},wde=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Da(f-d),{circleTangency:p,lineTangency:y,theta:b}=O0({cx:t,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:T,theta:S}=O0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-b-S;if(j<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):M7({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var D="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:M,theta:C}=O0({cx:t,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:R,lineTangency:I,theta:z}=O0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),q=c?Math.abs(d-f):Math.abs(d-f)-C-z;if(q<0&&a===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},Sde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ede=e=>{var t=da(e,Sde),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var y=pn("recharts-sector",p),b=a-i,w=ql(s,b,0,!0),T;return w>0&&Math.abs(f-m)<360?T=wde({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):T=M7({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),A.createElement("path",PE({},Ba(t),{className:y,d:T}))};function Ade(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(b4(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:c}=t,d=Ir(r,i,a,c),f=Ir(r,i,s,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return N7(t)}}var G1={},q1={},Y1={},pR;function Tde(){return pR||(pR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Y1)),Y1}var gR;function kde(){return gR||(gR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tde();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(q1)),q1}var vR;function Ode(){return vR||(vR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N4(),n=kde();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=s;return d}e.range=r})(G1)),G1}var K1,yR;function jde(){return yR||(yR=1,K1=Ode().range),K1}var Cde=jde();const D7=Pi(Cde);function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GA(e){let t,n,r;e.length!==2?(t=Hl,n=(c,d)=>Hl(e(c),d),r=(c,d)=>e(c)-d):(t=e===Hl||e===Nde?e:Mde,n=e,r=e);function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:s,right:a}}function Mde(){return 0}function P7(e){return e===null?NaN:+e}function*Dde(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Pde=GA(Hl),np=Pde.right;GA(P7).center;class bR extends Map{constructor(t,n=$de){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(_R(this,t))}has(t){return super.has(_R(this,t))}set(t,n){return super.set(Rde(this,t),n)}delete(t){return super.delete(Lde(this,t))}}function _R({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Rde({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Lde({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $de(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ide(e=Hl){if(e===Hl)return R7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function R7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Bde=Math.sqrt(50),zde=Math.sqrt(10),Ude=Math.sqrt(2);function ny(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Bde?10:a>=zde?5:a>=Ude?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?ny(e,t,n*2):[c,d,f]}function RE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?ny(t,e,n):ny(e,t,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(a-f)/-s;else for(let f=0;f<c;++f)d[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function LE(e,t,n){return t=+t,e=+e,n=+n,ny(e,t,n)[2]}function $E(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?LE(t,e,n):LE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function L7(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?R7:Ide(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(t-f*p/d+y)),w=Math.min(r,Math.floor(t+(d-f)*p/d+y));L7(e,t,b,w,i)}const a=e[t];let s=n,c=r;for($h(e,n,t),i(e[r],a)>0&&$h(e,n,r);s<c;){for($h(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?$h(e,n,c):(++c,$h(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function $h(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Hde(e,t,n){if(e=Float64Array.from(Dde(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return wR(e);if(t>=1)return xR(e);var r,i=(r-1)*t,a=Math.floor(i),s=xR(L7(e,a).subarray(0,a+1)),c=wR(e.subarray(a+1));return s+(c-s)*(i-a)}}function Fde(e,t,n=P7){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function Gde(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const IE=Symbol("implicit");function qA(){var e=new bR,t=[],n=[],r=IE;function i(a){let s=e.get(a);if(s===void 0){if(r!==IE)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new bR;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qA(t,n).unknown(r)},Fa.apply(i,arguments),i}function YA(){var e=qA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var y=t().length,b=i<r,w=b?i:r,T=b?r:i;a=(T-w)/Math.max(1,y-d+f*2),c&&(a=Math.floor(a)),w+=(T-w-a*(y-d))*m,s=a*(1-d),c&&(w=Math.round(w),s=Math.round(s));var S=Gde(y).map(function(j){return w+a*j});return n(b?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,p()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return YA(t(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Fa.apply(p(),arguments)}function $7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $7(t())},e}function qde(){return $7(YA.apply(null,arguments).paddingInner(1))}function KA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function I7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rp(){}var Am=.7,ry=1/Am,Fd="\\s*([+-]?\\d+)\\s*",Tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yde=/^#([0-9a-f]{3,8})$/,Kde=new RegExp(`^rgb\\(${Fd},${Fd},${Fd}\\)$`),Wde=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),Vde=new RegExp(`^rgba\\(${Fd},${Fd},${Fd},${Tm}\\)$`),Zde=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${Tm}\\)$`),Xde=new RegExp(`^hsl\\(${Tm},${Uo},${Uo}\\)$`),Jde=new RegExp(`^hsla\\(${Tm},${Uo},${Uo},${Tm}\\)$`),SR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KA(rp,km,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ER,formatHex:ER,formatHex8:Qde,formatHsl:efe,formatRgb:AR,toString:AR});function ER(){return this.rgb().formatHex()}function Qde(){return this.rgb().formatHex8()}function efe(){return B7(this).formatHsl()}function AR(){return this.rgb().formatRgb()}function km(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Yde.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?TR(t):n===3?new Ni(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?j0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?j0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kde.exec(e))?new Ni(t[1],t[2],t[3],1):(t=Wde.exec(e))?new Ni(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vde.exec(e))?j0(t[1],t[2],t[3],t[4]):(t=Zde.exec(e))?j0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xde.exec(e))?jR(t[1],t[2]/100,t[3]/100,1):(t=Jde.exec(e))?jR(t[1],t[2]/100,t[3]/100,t[4]):SR.hasOwnProperty(e)?TR(SR[e]):e==="transparent"?new Ni(NaN,NaN,NaN,0):null}function TR(e){return new Ni(e>>16&255,e>>8&255,e&255,1)}function j0(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ni(e,t,n,r)}function tfe(e){return e instanceof rp||(e=km(e)),e?(e=e.rgb(),new Ni(e.r,e.g,e.b,e.opacity)):new Ni}function BE(e,t,n,r){return arguments.length===1?tfe(e):new Ni(e,t,n,r??1)}function Ni(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}KA(Ni,BE,I7(rp,{brighter(e){return e=e==null?ry:Math.pow(ry,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Am:Math.pow(Am,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ni(fu(this.r),fu(this.g),fu(this.b),iy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kR,formatHex:kR,formatHex8:nfe,formatRgb:OR,toString:OR}));function kR(){return`#${au(this.r)}${au(this.g)}${au(this.b)}`}function nfe(){return`#${au(this.r)}${au(this.g)}${au(this.b)}${au((isNaN(this.opacity)?1:this.opacity)*255)}`}function OR(){const e=iy(this.opacity);return`${e===1?"rgb(":"rgba("}${fu(this.r)}, ${fu(this.g)}, ${fu(this.b)}${e===1?")":`, ${e})`}`}function iy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function au(e){return e=fu(e),(e<16?"0":"")+e.toString(16)}function jR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uo(e,t,n,r)}function B7(e){if(e instanceof uo)return new uo(e.h,e.s,e.l,e.opacity);if(e instanceof rp||(e=km(e)),!e)return new uo;if(e instanceof uo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,d=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new uo(s,c,d,e.opacity)}function rfe(e,t,n,r){return arguments.length===1?B7(e):new uo(e,t,n,r??1)}function uo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}KA(uo,rfe,I7(rp,{brighter(e){return e=e==null?ry:Math.pow(ry,e),new uo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Am:Math.pow(Am,e),new uo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ni(W1(e>=240?e-240:e+120,i,r),W1(e,i,r),W1(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new uo(CR(this.h),C0(this.s),C0(this.l),iy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=iy(this.opacity);return`${e===1?"hsl(":"hsla("}${CR(this.h)}, ${C0(this.s)*100}%, ${C0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CR(e){return e=(e||0)%360,e<0?e+360:e}function C0(e){return Math.max(0,Math.min(1,e||0))}function W1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const WA=e=>()=>e;function ife(e,t){return function(n){return e+n*t}}function afe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ofe(e){return(e=+e)==1?z7:function(t,n){return n-t?afe(t,n,e):WA(isNaN(t)?n:t)}}function z7(e,t){var n=t-e;return n?ife(e,n):WA(isNaN(e)?t:e)}const NR=(function e(t){var n=ofe(t);function r(i,a){var s=n((i=BE(i)).r,(a=BE(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=z7(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function sfe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function lfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cfe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=vf(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function ufe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ay(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dfe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var zE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V1=new RegExp(zE.source,"g");function ffe(e){return function(){return e}}function hfe(e){return function(t){return e(t)+""}}function mfe(e,t){var n=zE.lastIndex=V1.lastIndex=0,r,i,a,s=-1,c=[],d=[];for(e=e+"",t=t+"";(r=zE.exec(e))&&(i=V1.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:ay(r,i)})),n=V1.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?hfe(d[0].x):ffe(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function vf(e,t){var n=typeof t,r;return t==null||n==="boolean"?WA(t):(n==="number"?ay:n==="string"?(r=km(t))?(t=r,NR):mfe:t instanceof km?NR:t instanceof Date?ufe:lfe(t)?sfe:Array.isArray(t)?cfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dfe:ay)(e,t)}function VA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pfe(e,t){t===void 0&&(t=e,e=vf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function gfe(e){return function(){return e}}function oy(e){return+e}var MR=[0,1];function ci(e){return e}function UE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gfe(isNaN(t)?NaN:.5)}function vfe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function yfe(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=UE(i,r),a=n(s,a)):(r=UE(r,i),a=n(a,s)),function(c){return a(r(c))}}function bfe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=UE(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var d=np(e,c,1,r)-1;return a[d](i[d](c))}}function ip(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sb(){var e=MR,t=MR,n=vf,r,i,a,s=ci,c,d,f;function m(){var y=Math.min(e.length,t.length);return s!==ci&&(s=vfe(e[0],e[y-1])),c=y>2?bfe:yfe,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(d||(d=c(e.map(r),t,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=c(t,e.map(r),ay)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,oy),m()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=VA,m()},p.clamp=function(y){return arguments.length?(s=y?!0:ci,m()):s!==ci},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,m()}}function ZA(){return Sb()(ci,ci)}function _fe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nf(e){return e=sy(Math.abs(e)),e?e[1]:NaN}function xfe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function wfe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Sfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Om(e){if(!(t=Sfe.exec(e)))throw new Error("invalid format: "+e);var t;return new XA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Om.prototype=XA.prototype;function XA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Efe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var U7;function Afe(e,t){var n=sy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(U7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+sy(e,Math.max(0,t+a-1))[0]}function DR(e,t){var n=sy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const PR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_fe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DR(e*100,t),r:DR,s:Afe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RR(e){return e}var LR=Array.prototype.map,$R=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tfe(e){var t=e.grouping===void 0||e.thousands===void 0?RR:xfe(LR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?RR:wfe(LR.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Om(p);var y=p.fill,b=p.align,w=p.sign,T=p.symbol,S=p.zero,j=p.width,D=p.comma,O=p.precision,M=p.trim,C=p.type;C==="n"?(D=!0,C="g"):PR[C]||(O===void 0&&(O=12),M=!0,C="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var R=T==="$"?n:T==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=T==="$"?r:/[%p]/.test(C)?s:"",z=PR[C],q=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function V(H){var U=R,Z=I,re,ve,J;if(C==="c")Z=z(H)+Z,H="";else{H=+H;var ae=H<0||1/H<0;if(H=isNaN(H)?d:z(Math.abs(H),O),M&&(H=Efe(H)),ae&&+H==0&&w!=="+"&&(ae=!1),U=(ae?w==="("?w:c:w==="-"||w==="("?"":w)+U,Z=(C==="s"?$R[8+U7/3]:"")+Z+(ae&&w==="("?")":""),q){for(re=-1,ve=H.length;++re<ve;)if(J=H.charCodeAt(re),48>J||J>57){Z=(J===46?i+H.slice(re+1):H.slice(re))+Z,H=H.slice(0,re);break}}}D&&!S&&(H=t(H,1/0));var ne=U.length+H.length+Z.length,ce=ne<j?new Array(j-ne+1).join(y):"";switch(D&&S&&(H=t(ce+H,ce.length?j-Z.length:1/0),ce=""),b){case"<":H=U+H+Z+ce;break;case"=":H=U+ce+H+Z;break;case"^":H=ce.slice(0,ne=ce.length>>1)+U+H+Z+ce.slice(ne);break;default:H=ce+U+H+Z;break}return a(H)}return V.toString=function(){return p+""},V}function m(p,y){var b=f((p=Om(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(nf(y)/3)))*3,T=Math.pow(10,-w),S=$R[8+w/3];return function(j){return b(T*j)+S}}return{format:f,formatPrefix:m}}var N0,JA,H7;kfe({thousands:",",grouping:[3],currency:["$",""]});function kfe(e){return N0=Tfe(e),JA=N0.format,H7=N0.formatPrefix,N0}function Ofe(e){return Math.max(0,-nf(Math.abs(e)))}function jfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nf(t)/3)))*3-nf(Math.abs(e)))}function Cfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nf(t)-nf(e))+1}function F7(e,t,n,r){var i=$E(e,t,n),a;switch(r=Om(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=jfe(i,s))&&(r.precision=a),H7(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Cfe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ofe(i))&&(r.precision=a-(r.type==="%")*2);break}}return JA(r)}function Vl(e){var t=e.domain;return e.ticks=function(n){var r=t();return RE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return F7(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],d,f,m=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=LE(s,c,n),f===d)return r[i]=s,r[a]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function G7(){var e=ZA();return e.copy=function(){return ip(e,G7())},Fa.apply(e,arguments),Vl(e)}function q7(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,oy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return q7(e).unknown(t)},e=arguments.length?Array.from(e,oy):[0,1],Vl(n)}function Y7(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function IR(e){return Math.log(e)}function BR(e){return Math.exp(e)}function Nfe(e){return-Math.log(-e)}function Mfe(e){return-Math.exp(-e)}function Dfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Pfe(e){return e===10?Dfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Rfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zR(e){return(t,n)=>-e(-t,n)}function QA(e){const t=e(IR,BR),n=t.domain;let r=10,i,a;function s(){return i=Rfe(r),a=Pfe(r),n()[0]<0?(i=zR(i),a=zR(a),e(Nfe,Mfe)):e(IR,BR),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),b=i(m),w,T;const S=c==null?10:+c;let j=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(w=1;w<r;++w)if(T=y<0?w/a(-y):w*a(y),!(T<f)){if(T>m)break;j.push(T)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(T=y>0?w/a(-y):w*a(y),!(T<f)){if(T>m)break;j.push(T)}j.length*2<S&&(j=RE(f,m,S))}else j=RE(y,b,Math.min(b-y,S)).map(a);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Om(d)).precision==null&&(d.trim=!0),d=JA(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},t.nice=()=>n(Y7(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function K7(){const e=QA(Sb()).domain([1,10]);return e.copy=()=>ip(e,K7()).base(e.base()),Fa.apply(e,arguments),e}function UR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eT(e){var t=1,n=e(UR(t),HR(t));return n.constant=function(r){return arguments.length?e(UR(t=+r),HR(t)):t},Vl(n)}function W7(){var e=eT(Sb());return e.copy=function(){return ip(e,W7()).constant(e.constant())},Fa.apply(e,arguments)}function FR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $fe(e){return e<0?-e*e:e*e}function tT(e){var t=e(ci,ci),n=1;function r(){return n===1?e(ci,ci):n===.5?e(Lfe,$fe):e(FR(n),FR(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Vl(t)}function nT(){var e=tT(Sb());return e.copy=function(){return ip(e,nT()).exponent(e.exponent())},Fa.apply(e,arguments),e}function Ife(){return nT.apply(null,arguments).exponent(.5)}function GR(e){return Math.sign(e)*e*e}function Bfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function V7(){var e=ZA(),t=[0,1],n=!1,r;function i(a){var s=Bfe(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(GR(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,oy)).map(GR)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V7(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Fa.apply(i,arguments),Vl(i)}function Z7(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=Fde(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[np(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Hl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Z7().domain(e).range(t).unknown(r)},Fa.apply(a,arguments)}function X7(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[np(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return X7().domain([e,t]).range(i).unknown(a)},Fa.apply(Vl(s),arguments)}function J7(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[np(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return J7().domain(e).range(t).unknown(n)},Fa.apply(i,arguments)}const Z1=new Date,X1=new Date;function dr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<s);return d},i.filter=a=>dr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Z1.setTime(+a),X1.setTime(+s),e(Z1),e(X1),Math.floor(n(Z1,X1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ly=dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ly.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ly);ly.range;const Es=1e3,Pa=Es*60,As=Pa*60,Ds=As*24,rT=Ds*7,qR=Ds*30,J1=Ds*365,ou=dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCSeconds());ou.range;const iT=dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getMinutes());iT.range;const aT=dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCMinutes());aT.range;const oT=dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es-e.getMinutes()*Pa)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getHours());oT.range;const sT=dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getUTCHours());sT.range;const ap=dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pa)/Ds,e=>e.getDate()-1);ap.range;const Eb=dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>e.getUTCDate()-1);Eb.range;const Q7=dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>Math.floor(e/Ds));Q7.range;function Tu(e){return dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/rT)}const Ab=Tu(0),cy=Tu(1),zfe=Tu(2),Ufe=Tu(3),rf=Tu(4),Hfe=Tu(5),Ffe=Tu(6);Ab.range;cy.range;zfe.range;Ufe.range;rf.range;Hfe.range;Ffe.range;function ku(e){return dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rT)}const Tb=ku(0),uy=ku(1),Gfe=ku(2),qfe=ku(3),af=ku(4),Yfe=ku(5),Kfe=ku(6);Tb.range;uy.range;Gfe.range;qfe.range;af.range;Yfe.range;Kfe.range;const lT=dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lT.range;const cT=dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cT.range;const Ps=dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ps.range;const Rs=dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rs.range;function e6(e,t,n,r,i,a){const s=[[ou,1,Es],[ou,5,5*Es],[ou,15,15*Es],[ou,30,30*Es],[a,1,Pa],[a,5,5*Pa],[a,15,15*Pa],[a,30,30*Pa],[i,1,As],[i,3,3*As],[i,6,6*As],[i,12,12*As],[r,1,Ds],[r,2,2*Ds],[n,1,rT],[t,1,qR],[t,3,3*qR],[e,1,J1]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),w=b?b.range(f,+m+1):[];return y?w.reverse():w}function d(f,m,p){const y=Math.abs(m-f)/p,b=GA(([,,S])=>S).right(s,y);if(b===s.length)return e.every($E(f/J1,m/J1,p));if(b===0)return ly.every(Math.max($E(f,m,p),1));const[w,T]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return w.every(T)}return[c,d]}const[Wfe,Vfe]=e6(Rs,cT,Tb,Q7,sT,aT),[Zfe,Xfe]=e6(Ps,lT,Ab,ap,oT,iT);function Q1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function eS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ih(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Jfe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=Bh(i),m=zh(i),p=Bh(a),y=zh(a),b=Bh(s),w=zh(s),T=Bh(c),S=zh(c),j=Bh(d),D=zh(d),O={a:ae,A:ne,b:ce,B:te,c:null,d:XR,e:XR,f:xhe,g:Nhe,G:Dhe,H:yhe,I:bhe,j:_he,L:t6,m:whe,M:She,p:Y,q:B,Q:eL,s:tL,S:Ehe,u:Ahe,U:The,V:khe,w:Ohe,W:jhe,x:null,X:null,y:Che,Y:Mhe,Z:Phe,"%":QR},M={a:X,A:ee,b:G,B:W,c:null,d:JR,e:JR,f:Ihe,g:Whe,G:Zhe,H:Rhe,I:Lhe,j:$he,L:r6,m:Bhe,M:zhe,p:le,q:fe,Q:eL,s:tL,S:Uhe,u:Hhe,U:Fhe,V:Ghe,w:qhe,W:Yhe,x:null,X:null,y:Khe,Y:Vhe,Z:Xhe,"%":QR},C={a:V,A:H,b:U,B:Z,c:re,d:VR,e:VR,f:mhe,g:WR,G:KR,H:ZR,I:ZR,j:uhe,L:hhe,m:che,M:dhe,p:q,q:lhe,Q:ghe,s:vhe,S:fhe,u:rhe,U:ihe,V:ahe,w:nhe,W:ohe,x:ve,X:J,y:WR,Y:KR,Z:she,"%":phe};O.x=R(n,O),O.X=R(r,O),O.c=R(t,O),M.x=R(n,M),M.X=R(r,M),M.c=R(t,M);function R(Q,de){return function(we){var se=[],Ce=-1,be=0,Le=Q.length,Me,$e,Be;for(we instanceof Date||(we=new Date(+we));++Ce<Le;)Q.charCodeAt(Ce)===37&&(se.push(Q.slice(be,Ce)),($e=YR[Me=Q.charAt(++Ce)])!=null?Me=Q.charAt(++Ce):$e=Me==="e"?" ":"0",(Be=de[Me])&&(Me=Be(we,$e)),se.push(Me),be=Ce+1);return se.push(Q.slice(be,Ce)),se.join("")}}function I(Q,de){return function(we){var se=Ih(1900,void 0,1),Ce=z(se,Q,we+="",0),be,Le;if(Ce!=we.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(de&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(be=eS(Ih(se.y,0,1)),Le=be.getUTCDay(),be=Le>4||Le===0?uy.ceil(be):uy(be),be=Eb.offset(be,(se.V-1)*7),se.y=be.getUTCFullYear(),se.m=be.getUTCMonth(),se.d=be.getUTCDate()+(se.w+6)%7):(be=Q1(Ih(se.y,0,1)),Le=be.getDay(),be=Le>4||Le===0?cy.ceil(be):cy(be),be=ap.offset(be,(se.V-1)*7),se.y=be.getFullYear(),se.m=be.getMonth(),se.d=be.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Le="Z"in se?eS(Ih(se.y,0,1)).getUTCDay():Q1(Ih(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Le+5)%7:se.w+se.U*7-(Le+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,eS(se)):Q1(se)}}function z(Q,de,we,se){for(var Ce=0,be=de.length,Le=we.length,Me,$e;Ce<be;){if(se>=Le)return-1;if(Me=de.charCodeAt(Ce++),Me===37){if(Me=de.charAt(Ce++),$e=C[Me in YR?de.charAt(Ce++):Me],!$e||(se=$e(Q,we,se))<0)return-1}else if(Me!=we.charCodeAt(se++))return-1}return se}function q(Q,de,we){var se=f.exec(de.slice(we));return se?(Q.p=m.get(se[0].toLowerCase()),we+se[0].length):-1}function V(Q,de,we){var se=b.exec(de.slice(we));return se?(Q.w=w.get(se[0].toLowerCase()),we+se[0].length):-1}function H(Q,de,we){var se=p.exec(de.slice(we));return se?(Q.w=y.get(se[0].toLowerCase()),we+se[0].length):-1}function U(Q,de,we){var se=j.exec(de.slice(we));return se?(Q.m=D.get(se[0].toLowerCase()),we+se[0].length):-1}function Z(Q,de,we){var se=T.exec(de.slice(we));return se?(Q.m=S.get(se[0].toLowerCase()),we+se[0].length):-1}function re(Q,de,we){return z(Q,t,de,we)}function ve(Q,de,we){return z(Q,n,de,we)}function J(Q,de,we){return z(Q,r,de,we)}function ae(Q){return s[Q.getDay()]}function ne(Q){return a[Q.getDay()]}function ce(Q){return d[Q.getMonth()]}function te(Q){return c[Q.getMonth()]}function Y(Q){return i[+(Q.getHours()>=12)]}function B(Q){return 1+~~(Q.getMonth()/3)}function X(Q){return s[Q.getUTCDay()]}function ee(Q){return a[Q.getUTCDay()]}function G(Q){return d[Q.getUTCMonth()]}function W(Q){return c[Q.getUTCMonth()]}function le(Q){return i[+(Q.getUTCHours()>=12)]}function fe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var de=R(Q+="",O);return de.toString=function(){return Q},de},parse:function(Q){var de=I(Q+="",!1);return de.toString=function(){return Q},de},utcFormat:function(Q){var de=R(Q+="",M);return de.toString=function(){return Q},de},utcParse:function(Q){var de=I(Q+="",!0);return de.toString=function(){return Q},de}}}var YR={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,Qfe=/^%/,ehe=/[\\^$*+?|[\]().{}]/g;function $t(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function the(e){return e.replace(ehe,"\\$&")}function Bh(e){return new RegExp("^(?:"+e.map(the).join("|")+")","i")}function zh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nhe(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rhe(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ihe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ahe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ohe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function KR(e,t,n){var r=kr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function WR(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function she(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lhe(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function che(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function VR(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uhe(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ZR(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dhe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fhe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hhe(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mhe(e,t,n){var r=kr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function phe(e,t,n){var r=Qfe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ghe(e,t,n){var r=kr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vhe(e,t,n){var r=kr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function XR(e,t){return $t(e.getDate(),t,2)}function yhe(e,t){return $t(e.getHours(),t,2)}function bhe(e,t){return $t(e.getHours()%12||12,t,2)}function _he(e,t){return $t(1+ap.count(Ps(e),e),t,3)}function t6(e,t){return $t(e.getMilliseconds(),t,3)}function xhe(e,t){return t6(e,t)+"000"}function whe(e,t){return $t(e.getMonth()+1,t,2)}function She(e,t){return $t(e.getMinutes(),t,2)}function Ehe(e,t){return $t(e.getSeconds(),t,2)}function Ahe(e){var t=e.getDay();return t===0?7:t}function The(e,t){return $t(Ab.count(Ps(e)-1,e),t,2)}function n6(e){var t=e.getDay();return t>=4||t===0?rf(e):rf.ceil(e)}function khe(e,t){return e=n6(e),$t(rf.count(Ps(e),e)+(Ps(e).getDay()===4),t,2)}function Ohe(e){return e.getDay()}function jhe(e,t){return $t(cy.count(Ps(e)-1,e),t,2)}function Che(e,t){return $t(e.getFullYear()%100,t,2)}function Nhe(e,t){return e=n6(e),$t(e.getFullYear()%100,t,2)}function Mhe(e,t){return $t(e.getFullYear()%1e4,t,4)}function Dhe(e,t){var n=e.getDay();return e=n>=4||n===0?rf(e):rf.ceil(e),$t(e.getFullYear()%1e4,t,4)}function Phe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function JR(e,t){return $t(e.getUTCDate(),t,2)}function Rhe(e,t){return $t(e.getUTCHours(),t,2)}function Lhe(e,t){return $t(e.getUTCHours()%12||12,t,2)}function $he(e,t){return $t(1+Eb.count(Rs(e),e),t,3)}function r6(e,t){return $t(e.getUTCMilliseconds(),t,3)}function Ihe(e,t){return r6(e,t)+"000"}function Bhe(e,t){return $t(e.getUTCMonth()+1,t,2)}function zhe(e,t){return $t(e.getUTCMinutes(),t,2)}function Uhe(e,t){return $t(e.getUTCSeconds(),t,2)}function Hhe(e){var t=e.getUTCDay();return t===0?7:t}function Fhe(e,t){return $t(Tb.count(Rs(e)-1,e),t,2)}function i6(e){var t=e.getUTCDay();return t>=4||t===0?af(e):af.ceil(e)}function Ghe(e,t){return e=i6(e),$t(af.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function qhe(e){return e.getUTCDay()}function Yhe(e,t){return $t(uy.count(Rs(e)-1,e),t,2)}function Khe(e,t){return $t(e.getUTCFullYear()%100,t,2)}function Whe(e,t){return e=i6(e),$t(e.getUTCFullYear()%100,t,2)}function Vhe(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function Zhe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?af(e):af.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function Xhe(){return"+0000"}function QR(){return"%"}function eL(e){return+e}function tL(e){return Math.floor(+e/1e3)}var xd,a6,o6;Jhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jhe(e){return xd=Jfe(e),a6=xd.format,xd.parse,o6=xd.utcFormat,xd.utcParse,xd}function Qhe(e){return new Date(e)}function eme(e){return e instanceof Date?+e:+new Date(+e)}function uT(e,t,n,r,i,a,s,c,d,f){var m=ZA(),p=m.invert,y=m.domain,b=f(".%L"),w=f(":%S"),T=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),D=f("%b %d"),O=f("%B"),M=f("%Y");function C(R){return(d(R)<R?b:c(R)<R?w:s(R)<R?T:a(R)<R?S:r(R)<R?i(R)<R?j:D:n(R)<R?O:M)(R)}return m.invert=function(R){return new Date(p(R))},m.domain=function(R){return arguments.length?y(Array.from(R,eme)):y().map(Qhe)},m.ticks=function(R){var I=y();return e(I[0],I[I.length-1],R??10)},m.tickFormat=function(R,I){return I==null?C:f(I)},m.nice=function(R){var I=y();return(!R||typeof R.range!="function")&&(R=t(I[0],I[I.length-1],R??10)),R?y(Y7(I,R)):m},m.copy=function(){return ip(m,uT(e,t,n,r,i,a,s,c,d,f))},m}function tme(){return Fa.apply(uT(Zfe,Xfe,Ps,lT,Ab,ap,oT,iT,ou,a6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nme(){return Fa.apply(uT(Wfe,Vfe,Rs,cT,Tb,Eb,sT,aT,ou,o6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kb(){var e=0,t=1,n,r,i,a,s=ci,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:s(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(s=p,f):s};function m(p){return function(y){var b,w;return arguments.length?([b,w]=y,s=p(b,w),f):[s(0),s(1)]}}return f.range=m(vf),f.rangeRound=m(VA),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Zl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function s6(){var e=Vl(kb()(ci));return e.copy=function(){return Zl(e,s6())},Hs.apply(e,arguments)}function l6(){var e=QA(kb()).domain([1,10]);return e.copy=function(){return Zl(e,l6()).base(e.base())},Hs.apply(e,arguments)}function c6(){var e=eT(kb());return e.copy=function(){return Zl(e,c6()).constant(e.constant())},Hs.apply(e,arguments)}function dT(){var e=tT(kb());return e.copy=function(){return Zl(e,dT()).exponent(e.exponent())},Hs.apply(e,arguments)}function rme(){return dT.apply(null,arguments).exponent(.5)}function u6(){var e=[],t=ci;function n(r){if(r!=null&&!isNaN(r=+r))return t((np(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Hde(e,a/r))},n.copy=function(){return u6(t).domain(e)},Hs.apply(n,arguments)}function Ob(){var e=0,t=.5,n=1,r=1,i,a,s,c,d,f=ci,m,p=!1,y;function b(T){return isNaN(T=+T)?y:(T=.5+((T=+m(T))-a)*(r*T<r*a?c:d),f(p?Math.max(0,Math.min(1,T)):T))}b.domain=function(T){return arguments.length?([e,t,n]=T,i=m(e=+e),a=m(t=+t),s=m(n=+n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(T){return arguments.length?(p=!!T,b):p},b.interpolator=function(T){return arguments.length?(f=T,b):f};function w(T){return function(S){var j,D,O;return arguments.length?([j,D,O]=S,f=pfe(T,[j,D,O]),b):[f(0),f(.5),f(1)]}}return b.range=w(vf),b.rangeRound=w(VA),b.unknown=function(T){return arguments.length?(y=T,b):y},function(T){return m=T,i=T(e),a=T(t),s=T(n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function d6(){var e=Vl(Ob()(ci));return e.copy=function(){return Zl(e,d6())},Hs.apply(e,arguments)}function f6(){var e=QA(Ob()).domain([.1,1,10]);return e.copy=function(){return Zl(e,f6()).base(e.base())},Hs.apply(e,arguments)}function h6(){var e=eT(Ob());return e.copy=function(){return Zl(e,h6()).constant(e.constant())},Hs.apply(e,arguments)}function fT(){var e=tT(Ob());return e.copy=function(){return Zl(e,fT()).exponent(e.exponent())},Hs.apply(e,arguments)}function ime(){return fT.apply(null,arguments).exponent(.5)}const Wh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:YA,scaleDiverging:d6,scaleDivergingLog:f6,scaleDivergingPow:fT,scaleDivergingSqrt:ime,scaleDivergingSymlog:h6,scaleIdentity:q7,scaleImplicit:IE,scaleLinear:G7,scaleLog:K7,scaleOrdinal:qA,scalePoint:qde,scalePow:nT,scaleQuantile:Z7,scaleQuantize:X7,scaleRadial:V7,scaleSequential:s6,scaleSequentialLog:l6,scaleSequentialPow:dT,scaleSequentialQuantile:u6,scaleSequentialSqrt:rme,scaleSequentialSymlog:c6,scaleSqrt:Ife,scaleSymlog:W7,scaleThreshold:J7,scaleTime:tme,scaleUtc:nme,tickFormat:F7},Symbol.toStringTag,{value:"Module"}));var Xl=e=>e.chartData,ame=ke([Xl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hT=(e,t,n,r)=>r?ame(e):Xl(e);function Yl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Bn(t)&&Bn(n))return!0}return!1}function nL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function m6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Bn(n))i=n;else if(typeof n=="function")return;if(Bn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Yl(s))return s}}function ome(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Yl(r))return nL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(nt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&MP.test(i)){var d=MP.exec(i);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[0]-f}}else s=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(nt(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&DP.test(a)){var m=DP.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var y=[s,c];if(Yl(y))return t==null?y:nL(y,t,n)}}}var yf=1e9,sme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pT,wn=!0,Ua="[DecimalError] ",hu=Ua+"Invalid argument: ",mT=Ua+"Exponent out of range: ",bf=Math.floor,eu=Math.pow,lme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ta,wr=1e7,mn=7,p6=9007199254740991,dy=bf(p6/mn),Ke={};Ke.absoluteValue=Ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ke.comparedTo=Ke.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*mn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ke.dividedBy=Ke.div=function(e){return ks(this,new this.constructor(e))};Ke.dividedToIntegerBy=Ke.idiv=function(e){var t=this,n=t.constructor;return en(ks(t,new n(e),0,1),n.precision)};Ke.equals=Ke.eq=function(e){return!this.cmp(e)};Ke.exponent=function(){return nr(this)};Ke.greaterThan=Ke.gt=function(e){return this.cmp(e)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(e){return this.cmp(e)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(e){return this.cmp(e)<0};Ke.lessThanOrEqualTo=Ke.lte=function(e){return this.cmp(e)<1};Ke.logarithm=Ke.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ta))throw Error(Ua+"NaN");if(n.s<1)throw Error(Ua+(n.s?"NaN":"-Infinity"));return n.eq(ta)?new r(0):(wn=!1,t=ks(jm(n,a),jm(e,a),a),wn=!0,en(t,i))};Ke.minus=Ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y6(t,e):g6(t,(e.s=-e.s,e))};Ke.modulo=Ke.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ua+"NaN");return n.s?(wn=!1,t=ks(n,e,0,1).times(e),wn=!0,n.minus(t)):en(new r(n),i)};Ke.naturalExponential=Ke.exp=function(){return v6(this)};Ke.naturalLogarithm=Ke.ln=function(){return jm(this)};Ke.negated=Ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ke.plus=Ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g6(t,e):y6(t,(e.s=-e.s,e))};Ke.precision=Ke.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hu+e);if(t=nr(i)+1,r=i.d.length-1,n=r*mn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ke.squareRoot=Ke.sqrt=function(){var e,t,n,r,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ua+"NaN")}for(e=nr(c),wn=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=zo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(a=r,r=a.plus(ks(c,a,s+2)).times(.5),zo(a.d).slice(0,s)===(t=zo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(en(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return wn=!0,en(r,n)};Ke.times=Ke.mul=function(e){var t,n,r,i,a,s,c,d,f,m=this,p=m.constructor,y=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,d=y.length,f=b.length,d<f&&(a=y,y=b,b=a,s=d,d=f,f=s),a=[],s=d+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)c=a[i]+b[r]*y[i-r-1]+t,a[i--]=c%wr|0,t=c/wr|0;a[i]=(a[i]+t)%wr|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,wn?en(e,p.precision):e};Ke.toDecimalPlaces=Ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(qo(e,0,yf),t===void 0?t=r.rounding:qo(t,0,8),en(n,e+nr(n)+1,t))};Ke.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=_u(r,!0):(qo(e,0,yf),t===void 0?t=i.rounding:qo(t,0,8),r=en(new i(r),e+1,t),n=_u(r,!0,e+1)),n};Ke.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?_u(i):(qo(e,0,yf),t===void 0?t=a.rounding:qo(t,0,8),r=en(new a(i),e+nr(i)+1,t),n=_u(r.abs(),!1,e+nr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ke.toInteger=Ke.toint=function(){var e=this,t=e.constructor;return en(new t(e),nr(e)+1,t.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(e){var t,n,r,i,a,s,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(ta);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ua+"Infinity");return c}if(c.eq(ta))return c;if(r=d.precision,e.eq(ta))return en(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=m<0?-m:m)<=p6){for(i=new d(ta),t=Math.ceil(r/mn+4),wn=!1;n%2&&(i=i.times(c),iL(i.d,t)),n=bf(n/2),n!==0;)c=c.times(c),iL(c.d,t);return wn=!0,e.s<0?new d(ta).div(i):en(i,r)}}else if(a<0)throw Error(Ua+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,wn=!1,i=e.times(jm(c,r+f)),wn=!0,i=v6(i),i.s=a,i};Ke.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=nr(i),r=_u(i,n<=a.toExpNeg||n>=a.toExpPos)):(qo(e,1,yf),t===void 0?t=a.rounding:qo(t,0,8),i=en(new a(i),e,t),n=nr(i),r=_u(i,e<=n||n<=a.toExpNeg,e)),r};Ke.toSignificantDigits=Ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(qo(e,1,yf),t===void 0?t=r.rounding:qo(t,0,8)),en(new r(n),e,t)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nr(e),n=e.constructor;return _u(e,t<=n.toExpNeg||t>=n.toExpPos)};function g6(e,t){var n,r,i,a,s,c,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),wn?en(t,p):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=s,c=d.length),s=Math.ceil(p/mn),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/wr|0,d[a]%=wr;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,wn?en(t,p):t}function qo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(hu+e)}function zo(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=mn-r.length,n&&(a+=Pl(n)),a+=r;s=e[t],r=s+"",n=mn-r.length,n&&(a+=Pl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ks=(function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%wr|0,s=a/wr|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*wr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,d,f,m,p,y,b,w,T,S,j,D,O,M,C,R,I,z,q=r.constructor,V=r.s==i.s?1:-1,H=r.d,U=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(Ua+"Division by zero");for(d=r.e-i.e,I=U.length,C=H.length,b=new q(V),w=b.d=[],f=0;U[f]==(H[f]||0);)++f;if(U[f]>(H[f]||0)&&--d,a==null?D=a=q.precision:s?D=a+(nr(r)-nr(i))+1:D=a,D<0)return new q(0);if(D=D/mn+2|0,f=0,I==1)for(m=0,U=U[0],D++;(f<C||m)&&D--;f++)O=m*wr+(H[f]||0),w[f]=O/U|0,m=O%U|0;else{for(m=wr/(U[0]+1)|0,m>1&&(U=e(U,m),H=e(H,m),I=U.length,C=H.length),M=I,T=H.slice(0,I),S=T.length;S<I;)T[S++]=0;z=U.slice(),z.unshift(0),R=U[0],U[1]>=wr/2&&++R;do m=0,c=t(U,T,I,S),c<0?(j=T[0],I!=S&&(j=j*wr+(T[1]||0)),m=j/R|0,m>1?(m>=wr&&(m=wr-1),p=e(U,m),y=p.length,S=T.length,c=t(p,T,y,S),c==1&&(m--,n(p,I<y?z:U,y))):(m==0&&(c=m=1),p=U.slice()),y=p.length,y<S&&p.unshift(0),n(T,p,S),c==-1&&(S=T.length,c=t(U,T,I,S),c<1&&(m++,n(T,I<S?z:U,S))),S=T.length):c===0&&(m++,T=[0]),w[f++]=m,c&&T[0]?T[S++]=H[M]||0:(T=[H[M]],S=1);while((M++<C||T[0]!==void 0)&&D--)}return w[0]||w.shift(),b.e=d,en(b,s?a+nr(b)+1:a)}})();function v6(e,t){var n,r,i,a,s,c,d=0,f=0,m=e.constructor,p=m.precision;if(nr(e)>16)throw Error(mT+nr(e));if(!e.s)return new m(ta);for(wn=!1,c=p,s=new m(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(eu(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(ta),m.precision=c;;){if(i=en(i.times(e),c),n=n.times(++d),s=a.plus(ks(i,n,c)),zo(s.d).slice(0,c)===zo(a.d).slice(0,c)){for(;f--;)a=en(a.times(a),c);return m.precision=p,t==null?(wn=!0,en(a,p)):a}a=s}}function nr(e){for(var t=e.e*mn,n=e.d[0];n>=10;n/=10)t++;return t}function tS(e,t,n){if(t>e.LN10.sd())throw wn=!0,n&&(e.precision=n),Error(Ua+"LN10 precision limit exceeded");return en(new e(e.LN10),t)}function Pl(e){for(var t="";e--;)t+="0";return t}function jm(e,t){var n,r,i,a,s,c,d,f,m,p=1,y=10,b=e,w=b.d,T=b.constructor,S=T.precision;if(b.s<1)throw Error(Ua+(b.s?"NaN":"-Infinity"));if(b.eq(ta))return new T(0);if(t==null?(wn=!1,f=S):f=t,b.eq(10))return t==null&&(wn=!0),tS(T,f);if(f+=y,T.precision=f,n=zo(w),r=n.charAt(0),a=nr(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=zo(b.d),r=n.charAt(0),p++;a=nr(b),r>1?(b=new T("0."+n),a++):b=new T(r+"."+n.slice(1))}else return d=tS(T,f+2,S).times(a+""),b=jm(new T(r+"."+n.slice(1)),f-y).plus(d),T.precision=S,t==null?(wn=!0,en(b,S)):b;for(c=s=b=ks(b.minus(ta),b.plus(ta),f),m=en(b.times(b),f),i=3;;){if(s=en(s.times(m),f),d=c.plus(ks(s,new T(i),f)),zo(d.d).slice(0,f)===zo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(tS(T,f+2,S).times(a+""))),c=ks(c,new T(p),f),T.precision=S,t==null?(wn=!0,en(c,S)):c;c=d,i+=2}}function rL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=bf(n/mn),e.d=[],r=(n+1)%mn,n<0&&(r+=mn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=mn;r<i;)e.d.push(+t.slice(r,r+=mn));t=t.slice(r),r=mn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),wn&&(e.e>dy||e.e<-dy))throw Error(mT+n)}else e.s=0,e.e=0,e.d=[0];return e}function en(e,t,n){var r,i,a,s,c,d,f,m,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=mn,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/mn),a=p.length,m>=a)return e;for(f=a=p[m],s=1;a>=10;a/=10)s++;r%=mn,i=r-mn+s}if(n!==void 0&&(a=eu(10,s-i-1),c=f/a%10|0,d=t<0||p[m+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/eu(10,s-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=nr(e),p.length=1,t=t-a-1,p[0]=eu(10,(mn-t%mn)%mn),e.e=bf(-t/mn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=eu(10,mn-r),p[m]=i>0?(f/eu(10,s-i)%eu(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==wr&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=wr)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(wn&&(e.e>dy||e.e<-dy))throw Error(mT+nr(e));return e}function y6(e,t){var n,r,i,a,s,c,d,f,m,p,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),wn?en(t,b):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),s=f-r,s){for(m=s<0,m?(n=d,s=-s,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(b/mn),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}s=0}for(m&&(n=d,d=p,p=n,t.s=-t.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>s;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=wr-1;--d[a],d[i]+=wr}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,wn?en(t,b):t):new y(0)}function _u(e,t,n){var r,i=nr(e),a=zo(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Pl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Pl(-i-1)+a,n&&(r=n-s)>0&&(a+=Pl(r))):i>=s?(a+=Pl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Pl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Pl(r))),e.s<0?"-"+a:a}function iL(e,t){if(e.length>t)return e.length=t,!0}function b6(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return rL(s,a.toString())}else if(typeof a!="string")throw Error(hu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,lme.test(a))rL(s,a);else throw Error(hu+a)}if(i.prototype=Ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=b6,i.config=i.set=cme,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function cme(e){if(!e||typeof e!="object")throw Error(Ua+"Object expected");var t,n,r,i=["precision",1,yf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(bf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(hu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hu+n+": "+r);return this}var pT=b6(sme);ta=new pT(1);const Yt=pT;var ume=e=>e,_6={},x6=e=>e===_6,aL=e=>function t(){return arguments.length===0||arguments.length===1&&x6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},w6=(e,t)=>e===1?t:aL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==_6).length;return a>=e?t(...r):w6(e-a,aL(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var f=r.map(m=>x6(m)?c.shift():m);return t(...f,...c)}))}),dme=e=>w6(e.length,e),HE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fme=dme((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),hme=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return ume;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,d)=>d(c),a(...arguments))}},FE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function S6(e){var t;return e===0?t=1:t=Math.floor(new Yt(e).abs().log(10).toNumber())+1,t}function E6(e,t,n){for(var r=new Yt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var A6=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},T6=(e,t,n)=>{if(e.lte(0))return new Yt(0);var r=S6(e.toNumber()),i=new Yt(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new Yt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return t?new Yt(d.toNumber()):new Yt(Math.ceil(d.toNumber()))},mme=(e,t,n)=>{var r=new Yt(1),i=new Yt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Yt(10).pow(S6(e)-1),i=new Yt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Yt(Math.floor(e)))}else e===0?i=new Yt(Math.floor((t-1)/2)):n||(i=new Yt(Math.floor(e)));var s=Math.floor((t-1)/2),c=hme(fme(d=>i.add(new Yt(d-s).mul(r)).toNumber()),HE);return c(0,t)},k6=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var s=T6(new Yt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Yt(0):(c=new Yt(t).add(n).div(2),c=c.sub(new Yt(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new Yt(n).sub(c).div(s).toNumber()),m=d+f+1;return m>r?k6(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:s,tickMin:c.sub(new Yt(d).mul(s)),tickMax:c.add(new Yt(f).mul(s))})},pme=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[c,d]=A6([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...HE(0,i-1).map(()=>1/0)]:[...HE(0,i-1).map(()=>-1/0),d];return n>r?FE(f):f}if(c===d)return mme(c,i,a);var{step:m,tickMin:p,tickMax:y}=k6(c,d,s,a,0),b=E6(p,y.add(new Yt(.1).mul(m)),m);return n>r?FE(b):b},gme=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=A6([r,i]);if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var d=Math.max(n,2),f=T6(new Yt(c).sub(s).div(d-1),a,0),m=[...E6(new Yt(s),new Yt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?FE(m):m},vme=e=>e.rootProps.barCategoryGap,jb=e=>e.rootProps.stackOffset,O6=e=>e.rootProps.reverseStackOrder,gT=e=>e.options.chartName,vT=e=>e.rootProps.syncId,j6=e=>e.rootProps.syncMethod,yT=e=>e.options.eventEmitter,yme=e=>e.rootProps.baseValue,ui={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Qi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:xs.reversed,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:xs.type,unit:void 0},_me={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:Qi.type,unit:void 0},xme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wme={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:"category",unit:void 0},bT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xme:bme,_T=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?wme:_me,Nb=e=>e.polarOptions,xT=ke([zs,Us,zr],pde),C6=ke([Nb,xT],(e,t)=>{if(e!=null)return ql(e.innerRadius,t,0)}),N6=ke([Nb,xT],(e,t)=>{if(e!=null)return ql(e.outerRadius,t,t*.8)}),Sme=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},M6=ke([Nb],Sme);ke([bT,M6],Cb);var D6=ke([xT,C6,N6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ke([_T,D6],Cb);var P6=ke([un,Nb,C6,N6,zs,Us],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:f}=t;return{cx:ql(s,i,i/2),cy:ql(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),fr=(e,t)=>t,Mb=(e,t,n)=>n;function wT(e){return e?.id}function R6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=wT(c);f.forEach((p,y)=>{var b=a==null||i?y:String(Qr(p,a,null)),w=Qr(p,c.dataKey,0),T;s.has(b)?T=s.get(b):T={},Object.assign(T,{[m]:w}),s.set(b,T)})}}),Array.from(s.values())}function ST(e){return e.stackId!=null&&e.dataKey!=null}var Db=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Pb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Eme(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var hr=e=>{var t=un(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_f=e=>e.tooltip.settings.axisId;function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(n),!0).forEach(function(r){Ame(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ame(e,t,n){return(t=Tme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tme(e){var t=kme(e,"string");return typeof t=="symbol"?t:t+""}function kme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GE=[0,"auto"],br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},L6=(e,t)=>e.cartesianAxis.xAxis[t],Fs=(e,t)=>{var n=L6(e,t);return n??br},_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:GE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qm},$6=(e,t)=>e.cartesianAxis.yAxis[t],Gs=(e,t)=>{var n=$6(e,t);return n??_r},Ome={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ET=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Ome},hi=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Gs(e,n);case"zAxis":return ET(e,n);case"angleAxis":return bT(e,n);case"radiusAxis":return _T(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jme=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Gs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},op=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Gs(e,n);case"angleAxis":return bT(e,n);case"radiusAxis":return _T(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},I6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function B6(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var z6=e=>e.graphicalItems.cartesianItems,Cme=ke([fr,Mb],B6),U6=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),sp=ke([z6,hi,Cme],U6,{memoizeOptions:{resultEqualityCheck:Pb}}),H6=ke([sp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ST)),F6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Nme=ke([sp],F6),G6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Mme=ke([sp],G6,{memoizeOptions:{resultEqualityCheck:Pb}}),q6=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},AT=ke([Mme,hT],q6),Y6=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Qr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Qr(i,r)}))):e.map(r=>({value:r})),Rb=ke([AT,hi,sp],Y6);function K6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ov(e){if(Fo(e)||e instanceof Date){var t=Number(e);if(Bn(t))return t}}function sL(e){if(Array.isArray(e)){var t=[ov(e[0]),ov(e[1])];return Yl(t)?t:void 0}var n=ov(e);if(n!=null)return[n,n]}function Ls(e){return e.map(ov).filter(Qoe)}function Dme(e,t,n){return!n||typeof t!="number"||vo(t)?[]:n.length?Ls(n.flatMap(r=>{var i=Qr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Bn(a)||!Bn(s)))return[t-a,t+s]})):[]}var mr=e=>{var t=hr(e),n=_f(e);return op(e,t,n)},lp=ke([mr],e=>e?.dataKey),Pme=ke([H6,hT,mr],R6),W6=(e,t,n,r)=>{var i={},a=t.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[c,d]=s,f=r?[...d].reverse():d,m=f.map(wT);return[c,{stackedData:ice(e,m,n),graphicalItems:f}]}))},qE=ke([Pme,H6,jb,O6],W6),V6=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=lce(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Rme=ke([hi],e=>e.allowDataOverflow),TT=e=>{var t;if(e==null||!("domain"in e))return GE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ls(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:GE},Z6=ke([hi],TT),X6=ke([Z6,Rme],m6),Lme=ke([qE,Xl,fr,X6],V6,{memoizeOptions:{resultEqualityCheck:Db}}),kT=e=>e.errorBars,$me=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>K6(n,r)),hy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},J6=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(j=>K6(i,j)),y=Qr(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),b=Dme(c,y,p);if(b.length>=2){var w=Math.min(...b),T=Math.max(...b);(a==null||w<a)&&(a=w),(s==null||T>s)&&(s=T)}var S=sL(y);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=sL(Qr(c,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),s=s==null?d[1]:Math.max(s,d[1]))}),Bn(a)&&Bn(s))return[a,s]},Ime=ke([AT,hi,Nme,kT,fr],J6,{memoizeOptions:{resultEqualityCheck:Db}});function Bme(e){var{value:t}=e;if(Fo(t)||t instanceof Date)return t}var zme=(e,t,n)=>{var r=e.map(Bme).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&v4(r))?D7(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Q6=e=>e.referenceElements.dots,xf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ume=ke([Q6,fr,Mb],xf),e9=e=>e.referenceElements.areas,Hme=ke([e9,fr,Mb],xf),t9=e=>e.referenceElements.lines,Fme=ke([t9,fr,Mb],xf),n9=(e,t)=>{var n=Ls(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gme=ke(Ume,fr,n9),r9=(e,t)=>{var n=Ls(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qme=ke([Hme,fr],r9);function Yme(e){var t;if(e.x!=null)return Ls([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ls(n)}function Kme(e){var t;if(e.y!=null)return Ls([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ls(n)}var i9=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Yme(r):Kme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wme=ke([Fme,fr],i9),Vme=ke(Gme,Wme,qme,(e,t,n)=>hy(e,n,t)),a9=(e,t,n,r,i,a,s,c)=>{if(n!=null)return n;var d=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",f=d?hy(r,a,i):hy(a,i);return ome(t,f,e.allowDataOverflow)},Zme=ke([hi,Z6,X6,Lme,Ime,Vme,un,fr],a9,{memoizeOptions:{resultEqualityCheck:Db}}),Xme=[0,1],o9=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=e,f=Bs(t,a);if(f&&c==null){var m;return D7(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?zme(r,e,f):i==="expand"?Xme:s}},OT=ke([hi,un,AT,Rb,jb,fr,Zme],o9),s9=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(CA(a));return c in Wh?c:"point"}}},cp=ke([hi,un,I6,gT,fr],s9);function Jme(e){if(e!=null){if(e in Wh)return Wh[e]();var t="scale".concat(CA(e));if(t in Wh)return Wh[t]()}}function jT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Jme(t);if(i!=null){var a=i.domain(n).range(r);return ece(a),a}}}var l9=(e,t,n)=>{var r=TT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yl(e))return pme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Yl(e))return gme(e,t.tickCount,t.allowDecimals)}},CT=ke([OT,op,cp],l9),c9=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Yl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},Qme=ke([hi,OT,CT,fr],c9),epe=ke(Rb,hi,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ls(e.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),u9=ke(epe,un,vme,zr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Bn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ql(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),tpe=(e,t)=>{var n=Fs(e,t);return n==null||typeof n.padding!="string"?0:u9(e,"xAxis",t,n.padding)},npe=(e,t)=>{var n=Gs(e,t);return n==null||typeof n.padding!="string"?0:u9(e,"yAxis",t,n.padding)},rpe=ke(Fs,tpe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),ipe=ke(Gs,npe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),ape=ke([zr,rpe,vb,gb,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),ope=ke([zr,un,ipe,vb,gb,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),up=(e,t,n,r)=>{var i;switch(t){case"xAxis":return ape(e,n,r);case"yAxis":return ope(e,n,r);case"zAxis":return(i=ET(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return M6(e);case"radiusAxis":return D6(e,n);default:return}},d9=ke([hi,up],Cb),wf=ke([hi,cp,Qme,d9],jT);ke([sp,kT,fr],$me);function f9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Lb=(e,t)=>t,$b=(e,t,n)=>n,spe=ke(mb,Lb,$b,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(f9)),lpe=ke(pb,Lb,$b,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(f9)),h9=(e,t)=>({width:e.width,height:t.height}),cpe=(e,t)=>{var n=typeof t.width=="number"?t.width:Qm;return{width:n,height:e.height}},upe=ke(zr,Fs,h9),dpe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},fpe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},hpe=ke(Us,zr,spe,Lb,$b,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=h9(t,c);s==null&&(s=dpe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(f)*d.height,s+=(f?-1:1)*d.height}),a}),mpe=ke(zs,zr,lpe,Lb,$b,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=cpe(t,c);s==null&&(s=fpe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(f)*d.width,s+=(f?-1:1)*d.width}),a}),ppe=(e,t)=>{var n=Fs(e,t);if(n!=null)return hpe(e,n.orientation,n.mirror)},gpe=ke([zr,Fs,ppe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),vpe=(e,t)=>{var n=Gs(e,t);if(n!=null)return mpe(e,n.orientation,n.mirror)},ype=ke([zr,Gs,vpe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),bpe=ke(zr,Gs,(e,t)=>{var n=typeof t.width=="number"?t.width:Qm;return{width:n,height:e.height}}),m9=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=Bs(e,r),d=t.map(f=>f.value);if(s&&c&&a==="category"&&i&&v4(d))return d}},NT=ke([un,Rb,hi,fr],m9),p9=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Bs(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},MT=ke([un,Rb,op,fr],p9),lL=ke([un,jme,cp,wf,NT,MT,up,CT,fr],(e,t,n,r,i,a,s,c,d)=>{if(t!=null){var f=Bs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}}),_pe=(e,t,n,r,i,a,s,c,d)=>{if(!(t==null||r==null)){var f=Bs(e,d),{type:m,ticks:p,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/b:0;w=d==="angleAxis"&&a!=null&&a.length>=2?Da(a[0]-a[1])*2*w:w;var T=p||i;if(T){var S=T.map((j,D)=>{var O=s?s.indexOf(j):j;return{index:D,coordinate:r(O)+w,value:j,offset:w}});return S.filter(j=>Bn(j.coordinate))}return f&&c?c.map((j,D)=>({coordinate:r(j)+w,value:j,index:D,offset:w})).filter(j=>Bn(j.coordinate)):r.ticks?r.ticks(y).map(j=>({coordinate:r(j)+w,value:j,offset:w})):r.domain().map((j,D)=>({coordinate:r(j)+w,value:s?s[j]:j,index:D,offset:w}))}},g9=ke([un,op,cp,wf,CT,up,NT,MT,fr],_pe),xpe=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Bs(e,s),{tickCount:d}=t,f=0;return f=s==="angleAxis"&&r?.length>=2?Da(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},v9=ke([un,op,wf,up,NT,MT,fr],xpe),y9=ke(hi,wf,(e,t)=>{if(!(e==null||t==null))return fy(fy({},e),{},{scale:t})}),wpe=ke([hi,cp,OT,d9],jT);ke((e,t,n)=>ET(e,n),wpe,(e,t)=>{if(!(e==null||t==null))return fy(fy({},e),{},{scale:t})});var Spe=ke([un,mb,pb],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),b9=e=>e.options.defaultTooltipEventType,_9=e=>e.options.validateTooltipEventTypes;function x9(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function DT(e,t){var n=b9(e),r=_9(e);return x9(t,n,r)}function Epe(e){return at(t=>DT(t,e))}var w9=(e,t)=>{var n,r=Number(t);if(!(vo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Ape=e=>e.tooltip.settings,Bl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Tpe={itemInteraction:{click:Bl,hover:Bl},axisInteraction:{click:Bl,hover:Bl},keyboardInteraction:Bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S9=Ri({name:"tooltip",initialState:Tpe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:xn()},removeTooltipEntrySettings:{reducer(e,t){var n=po(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:xn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kpe,replaceTooltipEntrySettings:Ope,removeTooltipEntrySettings:jpe,setTooltipSettingsState:Cpe,setActiveMouseOverItemIndex:Npe,mouseLeaveItem:T1e,mouseLeaveChart:E9,setActiveClickItemIndex:k1e,setMouseOverAxisIndex:A9,setMouseClickAxisIndex:Mpe,setSyncInteraction:YE,setKeyboardInteraction:KE}=S9.actions,Dpe=S9.reducer;function cL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(n),!0).forEach(function(r){Ppe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ppe(e,t,n){return(t=Rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rpe(e){var t=Lpe(e,"string");return typeof t=="symbol"?t:t+""}function Lpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $pe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ipe(e){return e.index!=null}var T9=(e,t,n,r)=>{if(t==null)return Bl;var i=$pe(e,t,n);if(i==null)return Bl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Ipe(i)){if(a)return M0(M0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return M0(M0({},Bl),{},{coordinate:i.coordinate})};function Bpe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function zpe(e,t){var n=Bpe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Upe(e,t,n){if(n==null||t==null)return!0;var r=Qr(e,t);return r==null||!Yl(n)?!0:zpe(r,n)}var PT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Bn(a))return i;var s=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(s,Math.min(a,c)),f=t[d];return f==null||Upe(f,n,r)?String(d):null},k9=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var d=s[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},O9=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},dp=e=>e.options.tooltipPayloadSearcher,Sf=e=>e.tooltip;function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){Hpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hpe(e,t,n){return(t=Fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fpe(e){var t=Gpe(e,"string");return typeof t=="symbol"?t:t+""}function Gpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qpe(e,t){return e??t}var j9=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((y,b)=>{var w,{dataDefinedOnItem:T,settings:S}=b,j=qpe(T,c),D=Array.isArray(j)?a7(j,f,m):j,O=(w=S?.dataKey)!==null&&w!==void 0?w:r,M=S?.nameKey,C;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?C=y4(D,r,i):C=a(D,t,d,M),Array.isArray(C))C.forEach(I=>{var z=dL(dL({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});y.push(PP({tooltipEntrySettings:z,dataKey:I.dataKey,payload:I.payload,value:Qr(I.payload,I.dataKey),name:I.name}))});else{var R;y.push(PP({tooltipEntrySettings:S,dataKey:O,payload:C,value:Qr(C,O),name:(R=Qr(C,M))!==null&&R!==void 0?R:S?.name}))}return y},p)}},RT=ke([mr,un,I6,gT,hr],s9),Ype=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Kpe=ke([hr,_f],B6),fp=ke([Ype,mr,Kpe],U6,{memoizeOptions:{resultEqualityCheck:Pb}}),Wpe=ke([fp],e=>e.filter(ST)),Vpe=ke([fp],G6,{memoizeOptions:{resultEqualityCheck:Pb}}),Ef=ke([Vpe,Xl],q6),Zpe=ke([Wpe,Xl,mr],R6),LT=ke([Ef,mr,fp],Y6),C9=ke([mr],TT),Xpe=ke([mr],e=>e.allowDataOverflow),N9=ke([C9,Xpe],m6),Jpe=ke([fp],e=>e.filter(ST)),Qpe=ke([Zpe,Jpe,jb,O6],W6),ege=ke([Qpe,Xl,hr,N9],V6),tge=ke([fp],F6),nge=ke([Ef,mr,tge,kT,hr],J6,{memoizeOptions:{resultEqualityCheck:Db}}),rge=ke([Q6,hr,_f],xf),ige=ke([rge,hr],n9),age=ke([e9,hr,_f],xf),oge=ke([age,hr],r9),sge=ke([t9,hr,_f],xf),lge=ke([sge,hr],i9),cge=ke([ige,lge,oge],hy),uge=ke([mr,C9,N9,ege,nge,cge,un,hr],a9),hp=ke([mr,un,Ef,LT,jb,hr,uge],o9),dge=ke([hp,mr,RT],l9),fge=ke([mr,hp,dge,hr],c9),M9=e=>{var t=hr(e),n=_f(e),r=!1;return up(e,t,n,r)},D9=ke([mr,M9],Cb),P9=ke([mr,RT,fge,D9],jT),hge=ke([un,LT,mr,hr],m9),mge=ke([un,LT,mr,hr],p9),pge=(e,t,n,r,i,a,s,c)=>{if(t){var{type:d}=t,f=Bs(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?Da(i[0]-i[1])*2*p:p,f&&s?s.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},qs=ke([un,mr,RT,P9,M9,hge,mge,hr],pge),$T=ke([b9,_9,Ape],(e,t,n)=>x9(n.shared,e,t)),R9=e=>e.tooltip.settings.trigger,IT=e=>e.tooltip.settings.defaultIndex,mp=ke([Sf,$T,R9,IT],T9),Cm=ke([mp,Ef,lp,hp],PT),L9=ke([qs,Cm],w9),gge=ke([mp],e=>{if(e)return e.dataKey});ke([mp],e=>{if(e)return e.graphicalItemId});var $9=ke([Sf,$T,R9,IT],O9),vge=ke([zs,Us,un,zr,qs,IT,$9,dp],k9),yge=ke([mp,vge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bge=ke([mp],e=>e.active),_ge=ke([$9,Cm,Xl,lp,L9,dp,$T],j9),xge=ke([_ge],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){wge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wge(e,t,n){return(t=Sge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sge(e){var t=Ege(e,"string");return typeof t=="symbol"?t:t+""}function Ege(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Age=()=>at(mr),Tge=()=>{var e=Age(),t=at(qs),n=at(P9);return Yv(!e||!n?void 0:hL(hL({},e),{},{scale:n}),t)};function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(r){kge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kge(e,t,n){return(t=Oge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oge(e){var t=jge(e,"string");return typeof t=="symbol"?t:t+""}function jge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cge=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Nge=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return wd(wd(wd({},r),Ir(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=r;return wd(wd(wd({},r),Ir(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Mge(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var I9=(e,t,n,r,i)=>{var a,s=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(Da(m-f)!==Da(p-m)){var b=[];if(Da(p-m)===Da(i[1]-i[0])){y=p;var w=m+i[1]-i[0];b[0]=Math.min(w,(w+f)/2),b[1]=Math.max(w,(w+f)/2)}else{y=f;var T=p+i[1]-i[0];b[0]=Math.min(m,(T+m)/2),b[1]=Math.max(m,(T+m)/2)}var S=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:s}=n[d]);break}}else{var j=Math.min(f,p),D=Math.max(f,p);if(e>(j+m)/2&&e<=(D+m)/2){({index:s}=n[d]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:s}=t[O]);break}}return s},B9=()=>at(gT),BT=(e,t)=>t,z9=(e,t,n)=>n,zT=(e,t,n,r)=>r,Dge=ke(qs,e=>ab(e,t=>t.coordinate)),UT=ke([Sf,BT,z9,zT],T9),HT=ke([UT,Ef,lp,hp],PT),Pge=(e,t,n)=>{if(t!=null){var r=Sf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},U9=ke([Sf,BT,z9,zT],O9),my=ke([zs,Us,un,zr,qs,zT,U9,dp],k9),Rge=ke([UT,my],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),H9=ke([qs,HT],w9),Lge=ke([U9,HT,Xl,lp,H9,dp,BT],j9),$ge=ke([UT,HT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Ige=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&Mge(e,s)){var c=cce(e,t),d=I9(c,a,i,n,r),f=Cge(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Bge=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var c=_de(e,n);if(c){var d=uce(c,t),f=I9(d,s,a,r,i),m=Nge(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},zge=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Ige(e,t,r,i,a,s,c):Bge(e,t,n,r,i,a,s)},Uge=ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Hge=ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ui)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Eme}});function pL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(n),!0).forEach(function(r){Fge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fge(e,t,n){return(t=Gge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gge(e){var t=qge(e,"string");return typeof t=="symbol"?t:t+""}function qge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yge={},Kge={zIndexMap:Object.values(ui).reduce((e,t)=>gL(gL({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Yge)},Wge=new Set(Object.values(ui));function Vge(e){return Wge.has(e)}var F9=Ri({name:"zIndex",initialState:Kge,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Vge(n)&&delete e.zIndexMap[n])},prepare:xn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:xn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:xn()}}}),{registerZIndexPortal:Zge,unregisterZIndexPortal:Xge,registerZIndexPortalId:Jge,unregisterZIndexPortalId:Qge}=F9.actions,e0e=F9.reducer;function Ys(e){var{zIndex:t,children:n}=e,r=Gce(),i=r&&t!==void 0&&t!==0,a=Li(),s=Tr();A.useLayoutEffect(()=>i?(s(Zge({zIndex:t})),()=>{s(Xge({zIndex:t}))}):Vm,[s,t,i]);var c=at(f=>Uge(f,t,a));if(!i)return n;if(!c)return null;var d=document.getElementById(c);return d?lf.createPortal(n,d):null}function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WE.apply(null,arguments)}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){t0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t0e(e,t,n){return(t=n0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n0e(e){var t=r0e(e,"string");return typeof t=="symbol"?t:t+""}function r0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i0e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function a0e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,p=n,y=r,b=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var w,T,S;if(m==="ScatterChart")w=p,T=Mue,S=ui.cursorLine;else if(m==="BarChart")w=Due(c,p,a,s),T=ude,S=ui.cursorRectangle;else if(c==="radial"&&b4(p)){var{cx:j,cy:D,radius:O,startAngle:M,endAngle:C}=N7(p);w={cx:j,cy:D,startAngle:M,endAngle:C,innerRadius:O,outerRadius:O},T=Ede,S=ui.cursorLine}else w={points:Ade(c,p,a)},T=av,S=ui.cursorLine;var R=typeof d=="object"&&"className"in d?d.className:void 0,I=D0(D0(D0(D0({stroke:"#ccc",pointerEvents:"none"},a),w),tb(d)),{},{payload:y,payloadIndex:b,className:pn("recharts-tooltip-cursor",R)});return A.createElement(Ys,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},A.createElement(i0e,{cursor:d,cursorComp:T,cursorProps:I}))}function o0e(e){var t=Tge(),n=p7(),r=ep(),i=B9();return t==null||n==null||r==null||i==null?null:A.createElement(a0e,WE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var G9=A.createContext(null),s0e=()=>A.useContext(G9),nS={exports:{}},yL;function l0e(){return yL||(yL=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||d,y),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,w=new Array(b);y<b;y++)w[y]=p[y].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,b,w){var T=n?n+f:f;if(!this._events[T])return!1;var S=this._events[T],j=arguments.length,D,O;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,y),!0;case 5:return S.fn.call(S.context,m,p,y,b),!0;case 6:return S.fn.call(S.context,m,p,y,b,w),!0}for(O=1,D=new Array(j-1);O<j;O++)D[O-1]=arguments[O];S.fn.apply(S.context,D)}else{var M=S.length,C;for(O=0;O<M;O++)switch(S[O].once&&this.removeListener(f,S[O].fn,void 0,!0),j){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,m);break;case 3:S[O].fn.call(S[O].context,m,p);break;case 4:S[O].fn.call(S[O].context,m,p,y);break;default:if(!D)for(C=1,D=new Array(j-1);C<j;C++)D[C-1]=arguments[C];S[O].fn.apply(S[O].context,D)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var b=n?n+f:f;if(!this._events[b])return this;if(!m)return s(this,b),this;var w=this._events[b];if(w.fn)w.fn===m&&(!y||w.once)&&(!p||w.context===p)&&s(this,b);else{for(var T=0,S=[],j=w.length;T<j;T++)(w[T].fn!==m||y&&!w[T].once||p&&w[T].context!==p)&&S.push(w[T]);S.length?this._events[b]=S.length===1?S[0]:S:s(this,b)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(nS)),nS.exports}var c0e=l0e();const u0e=Pi(c0e);var Nm=new u0e,VE="recharts.syncEvent.tooltip",bL="recharts.syncEvent.brush";function d0e(e,t){if(t){var n=Number.parseInt(t,10);if(!vo(n))return e?.[n]}}var f0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},q9=Ri({name:"options",initialState:f0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),h0e=q9.reducer,{createEventEmitter:m0e}=q9.actions;function p0e(e){return e.tooltip.syncInteraction}var g0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Y9=Ri({name:"chartData",initialState:g0e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:_L,setDataStartEndIndexes:v0e,setComputedData:O1e}=Y9.actions,y0e=Y9.reducer,b0e=["x","y"];function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(r){_0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _0e(e,t,n){return(t=x0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x0e(e){var t=w0e(e,"string");return typeof t=="symbol"?t:t+""}function w0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S0e(e,t){if(e==null)return{};var n,r,i=E0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function A0e(){var e=at(vT),t=at(yT),n=Tr(),r=at(j6),i=at(qs),a=ep(),s=yb(),c=at(d=>d.rootProps.className);A.useEffect(()=>{if(e==null)return Vm;var d=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var y;if(s&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:w,y:T}=b,S=S0e(b,b0e),{x:j,y:D,width:O,height:M}=m.payload.sourceViewBox,C=Sd(Sd({},S),{},{x:s.x+(O?(w-j)/O:0)*s.width,y:s.y+(M?(T-D)/M:0)*s.height});n(Sd(Sd({},m),{},{payload:Sd(Sd({},m.payload),{},{coordinate:C})}))}else n(m);return}if(i!=null){var R;if(typeof r=="function"){var I={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},z=r(i,I);R=i[z]}else r==="value"&&(R=i.find(J=>String(J.value)===m.payload.label));var{coordinate:q}=m.payload;if(R==null||m.payload.active===!1||q==null||s==null){n(YE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:H}=q,U=Math.min(V,s.x+s.width),Z=Math.min(H,s.y+s.height),re={x:a==="horizontal"?R.coordinate:U,y:a==="horizontal"?Z:R.coordinate},ve=YE({active:m.payload.active,coordinate:re,dataKey:m.payload.dataKey,index:String(R.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(ve)}}};return Nm.on(VE,d),()=>{Nm.off(VE,d)}},[c,n,t,e,r,i,a,s])}function T0e(){var e=at(vT),t=at(yT),n=Tr();A.useEffect(()=>{if(e==null)return Vm;var r=(i,a,s)=>{t!==s&&e===i&&n(v0e(a))};return Nm.on(bL,r),()=>{Nm.off(bL,r)}},[n,t,e])}function k0e(){var e=Tr();A.useEffect(()=>{e(m0e())},[e]),A0e(),T0e()}function O0e(e,t,n,r,i,a){var s=at(b=>Pge(b,e,t)),c=at(yT),d=at(vT),f=at(j6),m=at(p0e),p=m?.active,y=yb();A.useEffect(()=>{if(!p&&d!=null&&c!=null){var b=YE({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Nm.emit(VE,d,b,c)}},[p,n,s,i,r,c,d,f,a,y])}function wL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(n),!0).forEach(function(r){j0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j0e(e,t,n){return(t=C0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C0e(e){var t=N0e(e,"string");return typeof t=="symbol"?t:t+""}function N0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0e(e){return e.dataKey}function D0e(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(due,t)}var EL=[],P0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function R0e(e){var t,n,r=da(e,P0e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:y,position:b,reverseDirection:w,useTranslate3d:T,wrapperStyle:S,cursor:j,shared:D,trigger:O,defaultIndex:M,portal:C,axisId:R}=r,I=Tr(),z=typeof M=="number"?String(M):M;A.useEffect(()=>{I(Cpe({shared:D,trigger:O,axisId:R,active:i,defaultIndex:z}))},[I,D,O,R,i,z]);var q=yb(),V=A7(),H=Epe(D),{activeIndex:U,isActive:Z}=(t=at(le=>$ge(le,H,O,z)))!==null&&t!==void 0?t:{},re=at(le=>Lge(le,H,O,z)),ve=at(le=>H9(le,H,O,z)),J=at(le=>Rge(le,H,O,z)),ae=re,ne=s0e(),ce=(n=i??Z)!==null&&n!==void 0?n:!1,[te,Y]=Qse([ae,ce]),B=H==="axis"?ve:void 0;O0e(H,O,J,B,U,ce);var X=C??ne;if(X==null||q==null||H==null)return null;var ee=ae??EL;ce||(ee=EL),f&&ee.length&&(ee=Ase(ee.filter(le=>le.value!=null&&(le.hide!==!0||r.includeHidden)),y,M0e));var G=ee.length>0,W=A.createElement(yue,{allowEscapeViewBox:a,animationDuration:s,animationEasing:c,isAnimationActive:m,active:ce,coordinate:J,hasPayload:G,offset:p,position:b,reverseDirection:w,useTranslate3d:T,viewBox:q,wrapperStyle:S,lastBoundingBox:te,innerRef:Y,hasPortalFromProps:!!C},D0e(d,SL(SL({},r),{},{payload:ee,label:B,active:ce,activeIndex:U,coordinate:J,accessibilityLayer:V})));return A.createElement(A.Fragment,null,lf.createPortal(W,X),ce&&A.createElement(o0e,{cursor:j,tooltipEventType:H,coordinate:J,payload:ee,index:U}))}function L0e(e,t,n){return(t=$0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class B0e{constructor(t){L0e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(r){U0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U0e(e,t,n){return(t=H0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H0e(e){var t=F0e(e,"string");return typeof t=="symbol"?t:t+""}function F0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0e={cacheSize:2e3,enableCache:!0},K9=z0e({},G0e),TL=new B0e(K9.cacheSize),q0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kL="recharts_measurement_span";function Y0e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var OL=(e,t)=>{try{var n=document.getElementById(kL);n||(n=document.createElement("span"),n.setAttribute("id",kL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,q0e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},tm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gf.isSsr)return{width:0,height:0};if(!K9.enableCache)return OL(t,n);var r=Y0e(t,n),i=TL.get(r);if(i)return i;var a=OL(t,n);return TL.set(r,a),a},jL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,W0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},V0e=Object.keys(W9),Ld="NaN";function Z0e(e,t){return e*W9[t]}class ji{static parse(t){var n,[,r,i]=(n=W0e.exec(t))!==null&&n!==void 0?n:[];return new ji(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vo(t)&&(this.unit=""),n!==""&&!K0e.test(n)&&(this.num=NaN,this.unit=""),V0e.includes(n)&&(this.num=Z0e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ji(NaN,""):new ji(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ji(NaN,""):new ji(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ji(NaN,""):new ji(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ji(NaN,""):new ji(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vo(this.num)}}function V9(e){if(e.includes(Ld))return Ld;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=jL.exec(t))!==null&&n!==void 0?n:[],s=ji.parse(r??""),c=ji.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return Ld;t=t.replace(jL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,y]=(f=CL.exec(t))!==null&&f!==void 0?f:[],b=ji.parse(m??""),w=ji.parse(y??""),T=p==="+"?b.add(w):b.subtract(w);if(T.isNaN())return Ld;t=t.replace(CL,T.toString())}return t}var NL=/\(([^()]*)\)/;function X0e(e){for(var t=e,n;(n=NL.exec(t))!=null;){var[,r]=n;t=t.replace(NL,V9(r))}return t}function J0e(e){var t=e.replace(/\s+/g,"");return t=X0e(t),t=V9(t),t}function Q0e(e){try{return J0e(e)}catch{return Ld}}function rS(e){var t=Q0e(e.slice(5,-1));return t===Ld?"":t}var eve=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tve=["dx","dy","angle","className","breakAll"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZE.apply(null,arguments)}function ML(e,t){if(e==null)return{};var n,r,i=nve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Z9=/[ \f\n\r\t\v\u2028\u2029]+/,X9=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Br(t)||(n?i=t.toString().split(""):i=t.toString().split(Z9));var a=i.map(c=>({word:c,width:tm(c,r).width})),s=n?0:tm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function rve(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var J9=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:c}=a,d=i[i.length-1];if(d&&c!=null&&(t==null||r||d.width+c+n<Number(t)))d.words.push(s),d.width+=c+n;else{var f={words:[s],width:c};i.push(f)}return i},[]),Q9=e=>e.reduce((t,n)=>t.width>n.width?t:n),ive="",DL=(e,t,n,r,i,a,s,c)=>{var d=e.slice(0,t),f=X9({breakAll:n,style:r,children:d+ive});if(!f)return[!1,[]];var m=J9(f.wordsWithComputedWidth,a,s,c),p=m.length>i||Q9(m).width>Number(a);return[p,m]},ave=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=e,f=nt(a),m=String(s),p=J9(t,r,n,i);if(!f||i)return p;var y=p.length>a||Q9(p).width>Number(r);if(!y)return p;for(var b=0,w=m.length-1,T=0,S;b<=w&&T<=m.length-1;){var j=Math.floor((b+w)/2),D=j-1,[O,M]=DL(m,D,d,c,a,r,n,i),[C]=DL(m,j,d,c,a,r,n,i);if(!O&&!C&&(b=j+1),O&&C&&(w=j-1),!O&&C){S=M;break}T++}return S||p},PL=e=>{var t=Br(e)?[]:e.toString().split(Z9);return[{words:t,width:void 0}]},ove=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!gf.isSsr){var c,d,f=X9({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return PL(r);return ave({breakAll:a,children:r,maxLines:s,style:i},c,d,t,!!n)}return PL(r)},ez="#808080",sve={angle:0,breakAll:!1,capHeight:"0.71em",fill:ez,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},FT=A.forwardRef((e,t)=>{var n=da(e,sve),{x:r,y:i,lineHeight:a,capHeight:s,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=ML(n,eve),y=A.useMemo(()=>ove({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:b,dy:w,angle:T,className:S,breakAll:j}=p,D=ML(p,tve);if(!Fo(r)||!Fo(i)||y.length===0)return null;var O=Number(r)+(nt(b)?b:0),M=Number(i)+(nt(w)?w:0);if(!Bn(O)||!Bn(M))return null;var C;switch(m){case"start":C=rS("calc(".concat(s,")"));break;case"middle":C=rS("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=rS("calc(".concat(y.length-1," * -").concat(a,")"));break}var R=[];if(d){var I=y[0].width,{width:z}=p;R.push("scale(".concat(nt(z)&&nt(I)?z/I:1,")"))}return T&&R.push("rotate(".concat(T,", ").concat(O,", ").concat(M,")")),R.length&&(D.transform=R.join(" ")),A.createElement("text",ZE({},Ba(D),{ref:t,x:O,y:M,className:pn("recharts-text",S),textAnchor:f,fill:c.includes("url")?ez:c}),y.map((q,V)=>{var H=q.words.join(j?"":" ");return A.createElement("tspan",{x:O,dy:V===0?C:a,key:"".concat(H,"-").concat(V)},H)}))});FT.displayName="Text";var lve=["labelRef"];function cve(e,t){if(e==null)return{};var n,r,i=uve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(r){dve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dve(e,t,n){return(t=fve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fve(e){var t=hve(e,"string");return typeof t=="symbol"?t:t+""}function hve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(null,arguments)}var tz=A.createContext(null),mve=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:c}=e,d=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return A.createElement(tz.Provider,{value:d},c)},nz=()=>{var e=A.useContext(tz),t=yb();return e||m7(t)},pve=A.createContext(null),gve=()=>{var e=A.useContext(pve),t=at(P6);return e||t},vve=e=>{var{value:t,formatter:n}=e,r=Br(e.children)?t:e.children;return typeof n=="function"?n(r):r},GT=e=>e!=null&&typeof e=="function",yve=(e,t)=>{var n=Da(t-e),r=Math.min(Math.abs(t-e),360);return n*r},bve=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:b}=i,w=(f+m)/2,T=yve(p,y),S=T>=0?1:-1,j,D;switch(t){case"insideStart":j=p+S*a,D=b;break;case"insideEnd":j=y-S*a,D=!b;break;case"end":j=y+S*a,D=b;break;default:throw new Error("Unsupported position ".concat(t))}D=T<=0?D:!D;var O=Ir(c,d,w,j),M=Ir(c,d,w,j+(D?1:-1)*359),C="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(D?0:1,`,
    `).concat(M.x,",").concat(M.y),R=Br(e.id)?vm("recharts-radial-line-"):e.id;return A.createElement("text",ws({},r,{dominantBaseline:"central",className:pn("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:R,d:C})),A.createElement("textPath",{xlinkHref:"#".concat(R)},n))},_ve=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=Ir(r,i,s+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:b,y:w}=Ir(r,i,y,f);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},XE=e=>"cx"in e&&nt(e.cx),xve=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!XE(n)&&(a=n);var{x:s,y:c,upperWidth:d,lowerWidth:f,height:m}=t,p=s,y=s+(d-f)/2,b=(p+y)/2,w=(d+f)/2,T=p+d/2,S=m>=0?1:-1,j=S*r,D=S>0?"end":"start",O=S>0?"start":"end",M=d>=0?1:-1,C=M*r,R=M>0?"end":"start",I=M>0?"start":"end";if(i==="top"){var z={x:p+d/2,y:c-j,textAnchor:"middle",verticalAnchor:D};return Yn(Yn({},z),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var q={x:y+f/2,y:c+m+j,textAnchor:"middle",verticalAnchor:O};return Yn(Yn({},q),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var V={x:b-C,y:c+m/2,textAnchor:R,verticalAnchor:"middle"};return Yn(Yn({},V),a?{width:Math.max(V.x-a.x,0),height:m}:{})}if(i==="right"){var H={x:b+w+C,y:c+m/2,textAnchor:I,verticalAnchor:"middle"};return Yn(Yn({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:m}:{})}var U=a?{width:w,height:m}:{};return i==="insideLeft"?Yn({x:b+C,y:c+m/2,textAnchor:I,verticalAnchor:"middle"},U):i==="insideRight"?Yn({x:b+w-C,y:c+m/2,textAnchor:R,verticalAnchor:"middle"},U):i==="insideTop"?Yn({x:p+d/2,y:c+j,textAnchor:"middle",verticalAnchor:O},U):i==="insideBottom"?Yn({x:y+f/2,y:c+m-j,textAnchor:"middle",verticalAnchor:D},U):i==="insideTopLeft"?Yn({x:p+C,y:c+j,textAnchor:I,verticalAnchor:O},U):i==="insideTopRight"?Yn({x:p+d-C,y:c+j,textAnchor:R,verticalAnchor:O},U):i==="insideBottomLeft"?Yn({x:y+C,y:c+m-j,textAnchor:I,verticalAnchor:D},U):i==="insideBottomRight"?Yn({x:y+f-C,y:c+m-j,textAnchor:R,verticalAnchor:D},U):i&&typeof i=="object"&&(nt(i.x)||Ns(i.x))&&(nt(i.y)||Ns(i.y))?Yn({x:s+ql(i.x,w),y:c+ql(i.y,m),textAnchor:"end",verticalAnchor:"end"},U):Yn({x:T,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},U)},wve={angle:0,offset:5,zIndex:ui.label,position:"middle",textBreakAll:!1};function Rl(e){var t=da(e,wve),{viewBox:n,position:r,value:i,children:a,content:s,className:c="",textBreakAll:d,labelRef:f}=t,m=gve(),p=nz(),y=r==="center"?p:m??p,b,w,T;if(n==null?b=y:XE(n)?b=n:b=m7(n),!b||Br(i)&&Br(a)&&!A.isValidElement(s)&&typeof s!="function")return null;var S=Yn(Yn({},t),{},{viewBox:b});if(A.isValidElement(s)){var{labelRef:j}=S,D=cve(S,lve);return A.cloneElement(s,D)}if(typeof s=="function"){if(w=A.createElement(s,S),A.isValidElement(w))return w}else w=vve(t);var O=Ba(t);if(XE(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return bve(t,r,w,O,b);T=_ve(b,t.offset,t.position)}else T=xve(t,b);return A.createElement(Ys,{zIndex:t.zIndex},A.createElement(FT,ws({ref:f,className:pn("recharts-label",c)},O,T,{textAnchor:rve(O.textAnchor)?O.textAnchor:T.textAnchor,breakAll:d}),w))}Rl.displayName="Label";var Sve=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Rl,ws({key:"label-implicit"},r)):Fo(e)?A.createElement(Rl,ws({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Rl?A.cloneElement(e,Yn({key:"label-implicit"},r)):A.createElement(Rl,ws({key:"label-implicit",content:e},r)):GT(e)?A.createElement(Rl,ws({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Rl,ws({},e,{key:"label-implicit"},r)):null};function Eve(e){var{label:t,labelRef:n}=e,r=nz();return Sve(t,r,n)||null}var iS={},aS={},LL;function Ave(){return LL||(LL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(aS)),aS}var oS={},$L;function Tve(){return $L||($L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(oS)),oS}var IL;function kve(){return IL||(IL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ave(),n=Tve(),r=MA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(iS)),iS}var sS,BL;function Ove(){return BL||(BL=1,sS=kve().last),sS}var jve=Ove();const Cve=Pi(jve);var Nve=["valueAccessor"],Mve=["dataKey","clockWise","id","textBreakAll","zIndex"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(null,arguments)}function zL(e,t){if(e==null)return{};var n,r,i=Dve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pve=e=>Array.isArray(e.value)?Cve(e.value):e.value,rz=A.createContext(void 0),Rve=rz.Provider,iz=A.createContext(void 0);iz.Provider;function Lve(){return A.useContext(rz)}function $ve(){return A.useContext(iz)}function sv(e){var{valueAccessor:t=Pve}=e,n=zL(e,Nve),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:c}=n,d=zL(n,Mve),f=Lve(),m=$ve(),p=f||m;return!p||!p.length?null:A.createElement(Ys,{zIndex:c??ui.label},A.createElement(Ho,{className:"recharts-label-list"},p.map((y,b)=>{var w,T=Br(r)?t(y,b):Qr(y&&y.payload,r),S=Br(a)?{}:{id:"".concat(a,"-").concat(b)};return A.createElement(Rl,py({key:"label-".concat(b)},Ba(y),d,S,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:T,textBreakAll:s,viewBox:y.viewBox,index:b,zIndex:0}))})))}sv.displayName="LabelList";function Ive(e){var{label:t}=e;return t?t===!0?A.createElement(sv,{key:"labelList-implicit"}):A.isValidElement(t)||GT(t)?A.createElement(sv,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(sv,py({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(null,arguments)}var az=e=>{var{cx:t,cy:n,r,className:i}=e,a=pn("recharts-dot",i);return nt(t)&&nt(n)&&nt(r)?A.createElement("circle",JE({},go(e),NA(e),{className:a,cx:t,cy:n,r})):null},Bve={radiusAxis:{},angleAxis:{}},oz=Ri({name:"polarAxis",initialState:Bve,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:j1e,removeRadiusAxis:C1e,addAngleAxis:N1e,removeAngleAxis:M1e}=oz.actions,zve=oz.reducer,lS={exports:{}},Ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UL;function Uve(){if(UL)return Ht;UL=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,T=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,D=e?Symbol.for("react.scope"):60119;function O(C){if(typeof C=="object"&&C!==null){var R=C.$$typeof;switch(R){case t:switch(C=C.type,C){case d:case f:case r:case a:case i:case p:return C;default:switch(C=C&&C.$$typeof,C){case c:case m:case w:case b:case s:return C;default:return R}}case n:return R}}}function M(C){return O(C)===f}return Ht.AsyncMode=d,Ht.ConcurrentMode=f,Ht.ContextConsumer=c,Ht.ContextProvider=s,Ht.Element=t,Ht.ForwardRef=m,Ht.Fragment=r,Ht.Lazy=w,Ht.Memo=b,Ht.Portal=n,Ht.Profiler=a,Ht.StrictMode=i,Ht.Suspense=p,Ht.isAsyncMode=function(C){return M(C)||O(C)===d},Ht.isConcurrentMode=M,Ht.isContextConsumer=function(C){return O(C)===c},Ht.isContextProvider=function(C){return O(C)===s},Ht.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Ht.isForwardRef=function(C){return O(C)===m},Ht.isFragment=function(C){return O(C)===r},Ht.isLazy=function(C){return O(C)===w},Ht.isMemo=function(C){return O(C)===b},Ht.isPortal=function(C){return O(C)===n},Ht.isProfiler=function(C){return O(C)===a},Ht.isStrictMode=function(C){return O(C)===i},Ht.isSuspense=function(C){return O(C)===p},Ht.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===f||C===a||C===i||C===p||C===y||typeof C=="object"&&C!==null&&(C.$$typeof===w||C.$$typeof===b||C.$$typeof===s||C.$$typeof===c||C.$$typeof===m||C.$$typeof===S||C.$$typeof===j||C.$$typeof===D||C.$$typeof===T)},Ht.typeOf=O,Ht}var HL;function Hve(){return HL||(HL=1,lS.exports=Uve()),lS.exports}Hve();var sz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Fve(e){var{tooltipEntrySettings:t}=e,n=Tr(),r=Li(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(kpe(t)):i.current!==t&&n(Ope({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(jpe(i.current)),i.current=null)},[n]),null}function Gve(e){var{legendPayload:t}=e,n=Tr(),r=Li(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(rue(t)):i.current!==t&&n(iue({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(aue(i.current)),i.current=null)},[n]),null}var cS,qve=()=>{var[e]=A.useState(()=>vm("uid-"));return e},Yve=(cS=_U.useId)!==null&&cS!==void 0?cS:qve;function lz(e,t){var n=Yve();return t||(e?"".concat(e,"-").concat(n):n)}var Kve=A.createContext(void 0),Wve=e=>{var{id:t,type:n,children:r}=e,i=lz("recharts-".concat(n),t);return A.createElement(Kve.Provider,{value:i},r(i))},Vve={cartesianItems:[],polarItems:[]},cz=Ri({name:"graphicalItems",initialState:Vve,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:xn()},removeCartesianGraphicalItem:{reducer(e,t){var n=po(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:xn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xn()},removePolarGraphicalItem:{reducer(e,t){var n=po(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:xn()}}}),{addCartesianGraphicalItem:Zve,replaceCartesianGraphicalItem:Xve,removeCartesianGraphicalItem:Jve,addPolarGraphicalItem:D1e,removePolarGraphicalItem:P1e}=cz.actions,Qve=cz.reducer,eye=e=>{var t=Tr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(Zve(e)):n.current!==e&&t(Xve({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(Jve(n.current)),n.current=null)},[t]),null},tye=A.memo(eye),nye=["points"];function FL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(n),!0).forEach(function(r){rye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rye(e,t,n){return(t=iye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iye(e){var t=aye(e,"string");return typeof t=="symbol"?t:t+""}function aye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(null,arguments)}function oye(e,t){if(e==null)return{};var n,r,i=sye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lye(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=pn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,c=oye(a,nye);return A.createElement(az,gy({},c,{className:i}))}function cye(e,t){return e==null?!1:t?!0:e.length===1}function uye(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:c,clipPathId:d,zIndex:f=ui.scatter}=e;if(!cye(t,n))return null;var m=sz(n),p=boe(n),y=t.map((w,T)=>{var S,j,D=uS(uS(uS({r:3},s),p),{},{index:T,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(j=w.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:w.value,payload:w.payload,points:t});return A.createElement(lye,{key:"dot-".concat(T),option:n,dotProps:D,className:i})}),b={};return c&&d!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),A.createElement(Ys,{zIndex:f},A.createElement(Ho,gy({className:r},b),y))}function GL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(n),!0).forEach(function(r){dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dye(e,t,n){return(t=fye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fye(e){var t=hye(e,"string");return typeof t=="symbol"?t:t+""}function hye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mye={xAxis:{},yAxis:{},zAxis:{}},uz=Ri({name:"cartesianAxis",initialState:mye,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:xn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:xn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:xn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=qL(qL({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:pye,replaceXAxis:gye,removeXAxis:vye,addYAxis:yye,replaceYAxis:bye,removeYAxis:_ye,addZAxis:R1e,replaceZAxis:L1e,removeZAxis:$1e,updateYAxisWidth:xye}=uz.actions,wye=uz.reducer,Sye=ke([zr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Eye=ke([Sye,zs,Us],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),qT=()=>at(Eye),Aye=()=>at(xge);function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(r){Tye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tye(e,t,n){return(t=kye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kye(e){var t=Oye(e,"string");return typeof t=="symbol"?t:t+""}function Oye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jye=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=dS(dS(dS({},c),tb(i)),NA(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,d):typeof i=="function"?f=i(d):f=A.createElement(az,d),A.createElement(Ho,{className:"recharts-active-dot",clipPath:s},f)};function KL(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=ui.activeDot}=e,c=at(Cm),d=Aye();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return Br(f)?null:A.createElement(Ys,{zIndex:s},A.createElement(jye,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Cye={},dz=Ri({name:"errorBars",initialState:Cye,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:I1e,replaceErrorBar:B1e,removeErrorBar:z1e}=dz.actions,Nye=dz.reducer;function fz(e,t){var n,r,i=at(f=>Fs(f,e)),a=at(f=>Gs(f,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:br.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:_r.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function Mye(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=qT(),{needClipX:a,needClipY:s,needClip:c}=fz(t,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?d:d-m/2,y:s?f:f-p/2,width:a?m:m*2,height:s?p:p*2}))}var Dye=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Pye(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function YT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Dye.has(r)){if(e[r]==null&&t[r]==null)continue;if(!X0(e[r],t[r]))return!1}else if(!Pye(e[r],t[r]))return!1;return!0}var Rye=e=>{var{chartData:t}=e,n=Tr(),r=Li();return A.useEffect(()=>r?()=>{}:(n(_L(t)),()=>{n(_L(void 0))}),[t,n,r]),null},WL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hz=Ri({name:"brush",initialState:WL,reducers:{setBrushSettings(e,t){return t.payload==null?WL:t.payload}}}),{setBrushSettings:U1e}=hz.actions,Lye=hz.reducer;function $ye(e,t,n){return(t=Iye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iye(e){var t=Bye(e,"string");return typeof t=="symbol"?t:t+""}function Bye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KT{static create(t){return new KT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}$ye(KT,"EPS",1e-4);function zye(e){return(e%180+180)%180}var Uye=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zye(i),s=a*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},Hye={dots:[],areas:[],lines:[]},mz=Ri({name:"referenceElements",initialState:Hye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=po(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=po(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=po(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:H1e,removeDot:F1e,addArea:G1e,removeArea:q1e,addLine:Y1e,removeLine:K1e}=mz.actions,Fye=mz.reducer,Gye=A.createContext(void 0),qye=e=>{var{children:t}=e,[n]=A.useState("".concat(vm("recharts"),"-clip")),r=qT();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return A.createElement(Gye.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function pz(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Yye(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Uye(r,n)}function Kye(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function vy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Wye(e,t){return pz(e,t+1)}function Vye(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,d=0,f=1,m=s,p=function(){var w=r?.[d];if(w===void 0)return{v:pz(r,f)};var T=d,S,j=()=>(S===void 0&&(S=n(w,T)),S),D=w.coordinate,O=d===0||vy(e,D,j,m,c);O||(d=0,m=s,f+=1),O&&(m=D+e*(j()/2+i),d+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(r){Zye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zye(e,t,n){return(t=Xye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xye(e){var t=Jye(e,"string");return typeof t=="symbol"?t:t+""}function Jye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qye(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:d}=t,f=function(y){var b=a[y],w,T=()=>(w===void 0&&(w=n(b,y)),w);if(y===s-1){var S=e*(b.coordinate+e*T()/2-d);a[y]=b=Zr(Zr({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else a[y]=b=Zr(Zr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=vy(e,b.tickCoord,T,c,d);j&&(d=b.tickCoord-e*(T()/2+i),a[y]=Zr(Zr({},b),{},{isShow:!0}))}},m=s-1;m>=0;m--)f(m);return a}function ebe(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:d,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),y=e*(m.coordinate+e*p/2-f);if(s[c-1]=m=Zr(Zr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var b=vy(e,m.tickCoord,()=>p,d,f);b&&(f=m.tickCoord-e*(p/2+i),s[c-1]=Zr(Zr({},m),{},{isShow:!0}))}}for(var w=a?c-1:c,T=function(D){var O=s[D],M,C=()=>(M===void 0&&(M=n(O,D)),M);if(D===0){var R=e*(O.coordinate-e*C()/2-d);s[D]=O=Zr(Zr({},O),{},{tickCoord:R<0?O.coordinate-R*e:O.coordinate})}else s[D]=O=Zr(Zr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var I=vy(e,O.tickCoord,C,d,f);I&&(d=O.tickCoord+e*(C()/2+i),s[D]=Zr(Zr({},O),{},{isShow:!0}))}},S=0;S<w;S++)T(S);return s}function WT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(nt(d)||gf.isSsr){var y;return(y=Wye(i,nt(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],w=c==="top"||c==="bottom"?"width":"height",T=m&&w==="width"?tm(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(O,M)=>{var C=typeof f=="function"?f(O.value,M):O.value;return w==="width"?Yye(tm(C,{fontSize:t,letterSpacing:n}),T,p):tm(C,{fontSize:t,letterSpacing:n})[w]},j=i.length>=2?Da(i[1].coordinate-i[0].coordinate):1,D=Kye(a,j,w);return d==="equidistantPreserveStart"?Vye(j,D,S,i,s):(d==="preserveStart"||d==="preserveStartEnd"?b=ebe(j,D,S,i,s,d==="preserveStartEnd"):b=Qye(j,D,S,i,s),b.filter(O=>O.isShow))}var tbe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>s&&(s=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=s+d+c+(n?r:0);return Math.round(f)}return 0},nbe=["axisLine","width","height","className","hide","ticks","axisType"];function rbe(e,t){if(e==null)return{};var n,r,i=ibe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ibe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(null,arguments)}function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(r){abe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function abe(e,t,n){return(t=obe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function obe(e){var t=sbe(e,"string");return typeof t=="symbol"?t:t+""}function sbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ui.axis};function lbe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=tr(tr(tr({},d),go(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!s||a==="bottom"&&s);f=tr(tr({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=tr(tr({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return A.createElement("line",xu({},f,{className:pn("recharts-cartesian-axis-line",ib(c,"className"))}))}function cbe(e,t,n,r,i,a,s,c,d){var f,m,p,y,b,w,T=c?-1:1,S=e.tickSize||s,j=nt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,y=n+ +!c*i,p=y-T*S,w=p-T*d,b=j;break;case"left":p=y=e.coordinate,m=t+ +!c*r,f=m-T*S,b=f-T*d,w=j;break;case"right":p=y=e.coordinate,m=t+ +c*r,f=m+T*S,b=f+T*d,w=j;break;default:f=m=e.coordinate,y=n+ +c*i,p=y+T*S,w=p+T*d,b=j;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x:b,y:w}}}function ube(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function dbe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function fbe(e){var{option:t,tickProps:n,value:r}=e,i,a=pn(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,tr(tr({},n),{},{className:a}));else if(typeof t=="function")i=t(tr(tr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=pn(s,t?.className)),i=A.createElement(FT,xu({},n,{className:s}),r)}return i}var hbe=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:y,y:b,width:w,height:T,tickSize:S,tickMargin:j,fontSize:D,letterSpacing:O,getTicksConfig:M,events:C,axisType:R}=e,I=WT(tr(tr({},M),{},{ticks:n}),D,O),z=ube(m,p),q=dbe(m,p),V=go(M),H=tb(r),U={};typeof i=="object"&&(U=i);var Z=tr(tr({},V),{},{fill:"none"},U),re=I.map(ae=>tr({entry:ae},cbe(ae,y,b,w,T,m,S,p,j))),ve=re.map(ae=>{var{entry:ne,line:ce}=ae;return A.createElement(Ho,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},i&&A.createElement("line",xu({},Z,ce,{className:pn("recharts-cartesian-axis-tick-line",ib(i,"className"))})))}),J=re.map((ae,ne)=>{var{entry:ce,tick:te}=ae,Y=tr(tr(tr(tr({textAnchor:z,verticalAnchor:q},V),{},{stroke:"none",fill:a},H),te),{},{index:ne,payload:ce,visibleTicksCount:I.length,tickFormatter:s,padding:d},f);return A.createElement(Ho,xu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},tse(C,ce,ne)),r&&A.createElement(fbe,{option:r,tickProps:Y,value:"".concat(typeof s=="function"?s(ce.value,ne):ce.value).concat(c||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},J.length>0&&A.createElement(Ys,{zIndex:ui.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},J)),ve.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},ve))}),mbe=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c,axisType:d}=e,f=rbe(e,nbe),[m,p]=A.useState(""),[y,b]=A.useState(""),w=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return tbe({ticks:w.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var T=A.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=j;var D=j[0];if(D){var O=window.getComputedStyle(D),M=O.fontSize,C=O.letterSpacing;(M!==m||C!==y)&&(p(M),b(C))}}},[m,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Ys,{zIndex:e.zIndex},A.createElement(Ho,{className:pn("recharts-cartesian-axis",a)},A.createElement(lbe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:go(e)}),A.createElement(hbe,{ref:T,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(mve,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(Eve,{label:e.label,labelRef:e.labelRef}),e.children)))}),VT=A.forwardRef((e,t)=>{var n=da(e,Os);return A.createElement(mbe,xu({},n,{ref:t}))});VT.displayName="CartesianAxis";var pbe=["x1","y1","x2","y2","key"],gbe=["offset"],vbe=["xAxisId","yAxisId"],ybe=["xAxisId","yAxisId"];function XL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(n),!0).forEach(function(r){bbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bbe(e,t,n){return(t=_be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _be(e){var t=xbe(e,"string");return typeof t=="symbol"?t:t+""}function xbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(null,arguments)}function yy(e,t){if(e==null)return{};var n,r,i=wbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sbe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=e;return A.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gz(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:c,y2:d,key:f}=n,m=yy(n,pbe),p=(i=go(m))!==null&&i!==void 0?i:{},{offset:y}=p,b=yy(p,gbe);r=A.createElement("line",su({},b,{x1:a,y1:s,x2:c,y2:d,fill:"none",key:f}))}return r}function Ebe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=yy(e,vbe),d=i.map((f,m)=>{var p=Xr(Xr({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return A.createElement(gz,{key:"line-".concat(m),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Abe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=yy(e,ybe),d=i.map((f,m)=>{var p=Xr(Xr({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return A.createElement(gz,{option:r,lineItemProps:p,key:"line-".concat(m)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Tbe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],w=b?i+s-p:f[y+1]-p;if(w<=0)return null;var T=y%t.length;return A.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:w,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function kbe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],w=b?i+s-p:f[y+1]-p;if(w<=0)return null;var T=y%n.length;return A.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:w,height:c,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Obe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return o7(WT(Xr(Xr(Xr({},Os),n),{},{ticks:s7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},jbe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return o7(WT(Xr(Xr(Xr({},Os),n),{},{ticks:s7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Cbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ui.grid};function vz(e){var t=g7(),n=v7(),r=p7(),i=Xr(Xr({},da(e,Cbe)),{},{x:nt(e.x)?e.x:r.left,y:nt(e.y)?e.y:r.top,width:nt(e.width)?e.width:r.width,height:nt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,w=Li(),T=at(q=>lL(q,"xAxis",a,w)),S=at(q=>lL(q,"yAxis",s,w));if(!Go(f)||!Go(m)||!nt(c)||!nt(d))return null;var j=i.verticalCoordinatesGenerator||Obe,D=i.horizontalCoordinatesGenerator||jbe,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof D=="function"){var C=y&&y.length,R=D({yAxis:S?Xr(Xr({},S),{},{ticks:C?y:S.ticks}):void 0,width:t??f,height:n??m,offset:r},C?!0:p);Kv(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(O=R)}if((!M||!M.length)&&typeof j=="function"){var I=b&&b.length,z=j({xAxis:T?Xr(Xr({},T),{},{ticks:I?b:T.ticks}):void 0,width:t??f,height:n??m,offset:r},I?!0:p);Kv(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(M=z)}return A.createElement(Ys,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Sbe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Tbe,su({},i,{horizontalPoints:O})),A.createElement(kbe,su({},i,{verticalPoints:M})),A.createElement(Ebe,su({},i,{offset:r,horizontalPoints:O,xAxis:T,yAxis:S})),A.createElement(Abe,su({},i,{offset:r,verticalPoints:M,xAxis:T,yAxis:S}))))}vz.displayName="CartesianGrid";function Nbe(e){var t=tb(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),c=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(c)||c<0)&&(c=r),{r:s,strokeWidth:c}}return{r:n,strokeWidth:r}}var yz=(e,t,n,r)=>y9(e,"xAxis",t,r),bz=(e,t,n,r)=>v9(e,"xAxis",t,r),_z=(e,t,n,r)=>y9(e,"yAxis",n,r),xz=(e,t,n,r)=>v9(e,"yAxis",n,r),Mbe=ke([un,yz,_z,bz,xz],(e,t,n,r,i)=>Bs(e,"xAxis")?Yv(t,r,!1):Yv(n,i,!1)),Dbe=(e,t,n,r,i)=>i,wz=ke([z6,Dbe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),Pbe=(e,t,n,r,i)=>{var a,s=wz(e,t,n,r,i);if(s!=null){var c=un(e),d=Bs(c,"xAxis"),f;if(d?f=qE(e,"yAxis",n,r):f=qE(e,"xAxis",t,r),f!=null){var{stackId:m}=s,p=wT(s);if(!(m==null||p==null)){var y=(a=f[m])===null||a===void 0?void 0:a.stackedData;return y?.find(b=>b.key===p)}}}},Rbe=ke([un,yz,_z,bz,xz,Pbe,hT,Mbe,wz,yme],(e,t,n,r,i,a,s,c,d,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=s;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:b}=d,w;if(b&&b.length>0?w=b:w=m?.slice(p,y+1),w!=null)return e_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:d,stackedData:a,displayedData:w,chartBaseValue:f,bandSize:c})}}),Lbe=["id"],$be=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}function Sz(e,t){if(e==null)return{};var n,r,i=Ibe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ibe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(r){Bbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bbe(e,t,n){return(t=zbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zbe(e){var t=Ube(e,"string");return typeof t=="symbol"?t:t+""}function Ube(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function by(e,t){return e&&e!=="none"?e:t}var Hbe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:by(r,i),value:l7(n,t),payload:e}]},Fbe=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:l7(s,t),hide:c,type:f,color:by(r,a),unit:d}};return A.createElement(Fve,{tooltipEntrySettings:m})});function Gbe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,c=go(r);return A.createElement(uye,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function qbe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,c,d={x:(s=a.x)!==null&&s!==void 0?s:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $d($d({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return A.createElement(Rve,{value:t?i:void 0},n)}function QL(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:c,stroke:d,connectNulls:f,isRange:m}=a,{id:p}=a,y=Sz(a,Lbe),b=go(y),w=Ba(y);return A.createElement(A.Fragment,null,t?.length>1&&A.createElement(Ho,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(av,mu({},w,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(av,mu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&A.createElement(av,mu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:n}))),A.createElement(Gbe,{points:t,props:y,clipPathId:i}))}function Ybe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!Bn(a)||!Bn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.x||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.x||0),d)),nt(d)?A.createElement("rect",{x:0,y:a<s?a:a-c,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function Kbe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!Bn(a)||!Bn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.y||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.y||0),d)),nt(d)?A.createElement("rect",{x:a<s?a:a-c,y:0,width:c,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function Wbe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?A.createElement(Ybe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):A.createElement(Kbe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Vbe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:b}=r,w=A.useMemo(()=>({points:s,baseLine:c}),[s,c]),T=C7(w,"recharts-area-"),S=Fce(),[j,D]=A.useState(!1),O=!j,M=A.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),C=A.useCallback(()=>{typeof y=="function"&&y(),D(!0)},[y]);if(S==null)return null;var R=i.current,I=a.current;return A.createElement(qbe,{showLabels:O,points:s},r.children,A.createElement(j7,{animationId:T,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:M,onAnimationStart:C,key:T},z=>{if(R){var q=R.length/s.length,V=z===1?s:s.map((U,Z)=>{var re=Math.floor(Z*q);if(R[re]){var ve=R[re];return $d($d({},U),{},{x:$o(ve.x,U.x,z),y:$o(ve.y,U.y,z)})}return U}),H;return nt(c)?H=$o(I,c,z):Br(c)||vo(c)?H=$o(I,0,z):H=c.map((U,Z)=>{var re=Math.floor(Z*q);if(Array.isArray(I)&&I[re]){var ve=I[re];return $d($d({},U),{},{x:$o(ve.x,U.x,z),y:$o(ve.y,U.y,z)})}return U}),z>0&&(i.current=V,a.current=H),A.createElement(QL,{points:V,baseLine:H,needClip:t,clipPathId:n,props:r})}return z>0&&(i.current=s,a.current=c),A.createElement(Ho,null,d&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(Wbe,{alpha:z,points:s,baseLine:c,layout:S,strokeWidth:r.strokeWidth}))),A.createElement(Ho,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(QL,{points:s,baseLine:c,needClip:t,clipPathId:n,props:r})))}),A.createElement(Ive,{label:r.label}))}function Zbe(e){var{needClip:t,clipPathId:n,props:r}=e,i=A.useRef(null),a=A.useRef();return A.createElement(Vbe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Xbe extends A.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:c,xAxisId:d,yAxisId:f,width:m,height:p,id:y,baseLine:b,zIndex:w}=this.props;if(t)return null;var T=pn("recharts-area",i),S=y,{r:j,strokeWidth:D}=Nbe(n),O=sz(n),M=j*2+D,C=c?"url(#clipPath-".concat(O?"":"dots-").concat(S,")"):void 0;return A.createElement(Ys,{zIndex:w},A.createElement(Ho,{className:T},c&&A.createElement("defs",null,A.createElement(Mye,{clipPathId:S,xAxisId:d,yAxisId:f}),!O&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:s-M/2,y:a-M/2,width:m+M,height:p+M}))),A.createElement(Zbe,{needClip:c,clipPathId:S,props:this.props})),A.createElement(KL,{points:r,mainColor:by(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}),this.props.isRange&&Array.isArray(b)&&A.createElement(KL,{points:b,mainColor:by(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}))}}var Ez={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ui.area};function Jbe(e){var t,n=da(e,Ez),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:p,isAnimationActive:y,legendType:b,stroke:w,xAxisId:T,yAxisId:S}=n,j=Sz(n,$be),D=ep(),O=B9(),{needClip:M}=fz(T,S),C=Li(),{points:R,isRange:I,baseLine:z}=(t=at(re=>Rbe(re,T,S,C,e.id)))!==null&&t!==void 0?t:{},q=qT();if(D!=="horizontal"&&D!=="vertical"||q==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:V,width:H,x:U,y:Z}=q;return!R||!R.length?null:A.createElement(Xbe,mu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:z,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:V,hide:p,layout:D,isAnimationActive:y==="auto"?!gf.isSsr:y,isRange:I,legendType:b,needClip:M,points:R,stroke:w,width:H,left:U,top:Z,xAxisId:T,yAxisId:S}))}var Qbe=(e,t,n,r,i)=>{var a=n??t;if(nt(a))return a;var s=e==="horizontal"?i:r,c=s.scale.domain();if(s.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function e_e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:b}=e,w=i&&i.length,T=Qbe(a,s,n,c,d),S=a==="horizontal",j=!1,D=f.map((M,C)=>{var R;w?R=i[m+C]:(R=Qr(M,r),Array.isArray(R)?j=!0:R=[T,R]);var I=R[1]==null||w&&!t&&Qr(M,r)==null;return S?{x:NP({axis:c,ticks:p,bandSize:b,entry:M,index:C}),y:I?null:d.scale(R[1]),value:R,payload:M}:{x:I?null:c.scale(R[1]),y:NP({axis:d,ticks:y,bandSize:b,entry:M,index:C}),value:R,payload:M}}),O;return w||j?O=D.map(M=>{var C=Array.isArray(M.value)?M.value[0]:null;return S?{x:M.x,y:C!=null&&M.y!=null?d.scale(C):null,payload:M.payload}:{x:C!=null?c.scale(C):null,y:M.y,payload:M.payload}}):O=S?d.scale(T):c.scale(T),{points:D,baseLine:O,isRange:j}}function t_e(e){var t=da(e,Ez),n=Li();return A.createElement(Wve,{id:t.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(Gve,{legendPayload:Hbe(t)}),A.createElement(Fbe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),A.createElement(tye,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:ace(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),A.createElement(Jbe,mu({},t,{id:r}))))}var Az=A.memo(t_e,YT);Az.displayName="Area";var n_e=["domain","range"],r_e=["domain","range"];function e3(e,t){if(e==null)return{};var n,r,i=i_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Tz(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=e3(e,n_e),{domain:a,range:s}=t,c=e3(t,r_e);return!t3(n,a)||!t3(r,s)?!1:YT(i,c)}var a_e=["dangerouslySetInnerHTML","ticks"],o_e=["id"];function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(null,arguments)}function n3(e,t){if(e==null)return{};var n,r,i=s_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function l_e(e){var t=Tr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(pye(e)):n.current!==e&&t(gye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(vye(n.current)),n.current=null)},[t]),null}var c_e=e=>{var{xAxisId:t,className:n}=e,r=at(u7),i=Li(),a="xAxis",s=at(S=>wf(S,a,t,i)),c=at(S=>g9(S,a,t,i)),d=at(S=>upe(S,t)),f=at(S=>gpe(S,t)),m=at(S=>L6(S,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,b=n3(e,a_e),{id:w}=m,T=n3(m,o_e);return A.createElement(VT,QE({},b,T,{scale:s,x:f.x,y:f.y,width:d.width,height:d.height,className:pn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},u_e={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,angle:br.angle,axisLine:Os.axisLine,height:br.height,hide:!1,includeHidden:br.includeHidden,interval:br.interval,minTickGap:br.minTickGap,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tick:br.tick,tickCount:br.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:br.type,xAxisId:0},d_e=e=>{var t=da(e,u_e);return A.createElement(A.Fragment,null,A.createElement(l_e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(c_e,t))},kz=A.memo(d_e,Tz);kz.displayName="XAxis";var f_e=["dangerouslySetInnerHTML","ticks"],h_e=["id"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(null,arguments)}function r3(e,t){if(e==null)return{};var n,r,i=m_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function p_e(e){var t=Tr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(yye(e)):n.current!==e&&t(bye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(_ye(n.current)),n.current=null)},[t]),null}var g_e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),s=A.useRef(null),c=at(u7),d=Li(),f=Tr(),m="yAxis",p=at(C=>wf(C,m,t,d)),y=at(C=>bpe(C,t)),b=at(C=>ype(C,t)),w=at(C=>g9(C,m,t,d)),T=at(C=>$6(C,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!y||GT(i)||A.isValidElement(i)||T==null)){var C=a.current;if(C){var R=C.getCalculatedWidth();Math.round(y.width)!==Math.round(R)&&f(xye({id:t,width:R}))}}},[w,y,f,i,t,r,T]),y==null||b==null||T==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,D=r3(e,f_e),{id:O}=T,M=r3(T,h_e);return A.createElement(VT,e2({},D,M,{ref:a,labelRef:s,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:pn("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w,axisType:m}))},v_e={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,angle:_r.angle,axisLine:Os.axisLine,hide:!1,includeHidden:_r.includeHidden,interval:_r.interval,minTickGap:_r.minTickGap,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:_r.type,width:_r.width,yAxisId:0},y_e=e=>{var t=da(e,v_e);return A.createElement(A.Fragment,null,A.createElement(p_e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(g_e,t))},Oz=A.memo(y_e,Tz);Oz.displayName="YAxis";var b_e=(e,t)=>t,ZT=ke([b_e,un,P6,hr,D9,qs,Dge,zr],zge),XT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},jz=za("mouseClick"),Cz=Jm();Cz.startListening({actionCreator:jz,effect:(e,t)=>{var n=e.payload,r=ZT(t.getState(),XT(n));r?.activeIndex!=null&&t.dispatch(Mpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var t2=za("mouseMove"),Nz=Jm(),P0=null;Nz.startListening({actionCreator:t2,effect:(e,t)=>{var n=e.payload;P0!==null&&cancelAnimationFrame(P0);var r=XT(n);P0=requestAnimationFrame(()=>{var i=t.getState(),a=DT(i,i.tooltip.settings.shared);if(a==="axis"){var s=ZT(i,r);s?.activeIndex!=null?t.dispatch(A9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(E9())}P0=null})}});var i3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Mz=Ri({name:"rootProps",initialState:i3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:i3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),__e=Mz.reducer,{updateOptions:x_e}=Mz.actions,Dz=Ri({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:W1e}=Dz.actions,w_e=Dz.reducer,Pz=za("keyDown"),Rz=za("focus"),JT=Jm();JT.startListening({actionCreator:Pz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=PT(i,Ef(n),lp(n),hp(n)),c=s==null?-1:Number(s);if(!(!Number.isFinite(c)||c<0)){var d=qs(n);if(a==="Enter"){var f=my(n,"axis","hover",String(i.index));t.dispatch(KE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=Spe(n),p=m==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,b=c+y*p;if(!(d==null||b>=d.length||b<0)){var w=my(n,"axis","hover",String(b));t.dispatch(KE({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});JT.startListening({actionCreator:Rz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=my(n,"axis","hover",String(a));t.dispatch(KE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ka=za("externalEvent"),Lz=Jm(),fS=new Map;Lz.startListening({actionCreator:ka,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=fS.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:yge(c),activeDataKey:gge(c),activeIndex:Cm(c),activeLabel:L9(c),activeTooltipIndex:Cm(c),isTooltipActive:bge(c)};n(d,r)}finally{fS.delete(i)}});fS.set(i,s)}}});var S_e=ke([Sf],e=>e.tooltipItemPayloads),E_e=ke([S_e,dp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),$z=za("touchMove"),Iz=Jm();Iz.startListening({actionCreator:$z,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=DT(r,r.tooltip.settings.shared);if(i==="axis"){var a=ZT(r,XT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(A9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(fce),m=(s=d.getAttribute(hce))!==null&&s!==void 0?s:void 0,p=E_e(t.getState(),f,m);t.dispatch(Npe({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var A_e=NI({brush:Lye,cartesianAxis:wye,chartData:y0e,errorBars:Nye,graphicalItems:Qve,layout:Vle,legend:oue,options:h0e,polarAxis:zve,polarOptions:w_e,referenceElements:Fye,rootProps:__e,tooltip:Dpe,zIndex:e0e}),T_e=function(t){return _le({reducer:A_e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Cz.middleware,Nz.middleware,JT.middleware,Lz.middleware,Iz.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Y4({type:"raf"}))},devTools:gf.devToolsEnabled})};function k_e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Li(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=T_e(t));var s=DA;return A.createElement(zI,{context:s,store:a.current},n)}function O_e(e){var{layout:t,margin:n}=e,r=Tr(),i=Li();return A.useEffect(()=>{i||(r(Yle(t)),r(qle(n)))},[r,i,t,n]),null}var j_e=A.memo(O_e,YT);function C_e(e){var t=Tr();return A.useEffect(()=>{t(x_e(e))},[t,e]),null}function a3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=lz("".concat(r).concat(t)),a=Tr();return A.useLayoutEffect(()=>(a(Jge({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Qge({zIndex:t,isPanorama:n}))}),[a,t,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function o3(e){var{children:t,isPanorama:n}=e,r=at(Hge);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(a3,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>A.createElement(a3,{key:s,zIndex:s,isPanorama:n})))}var N_e=["children"];function M_e(e,t){if(e==null)return{};var n,r,i=D_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}var P_e={width:"100%",height:"100%",display:"block"},R_e=A.forwardRef((e,t)=>{var n=g7(),r=v7(),i=A7();if(!Go(n)||!Go(r))return null;var{children:a,otherAttributes:s,title:c,desc:d}=e,f,m;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?m=s.role:m=i?"application":void 0),A.createElement(t4,_y({},s,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:P_e,ref:t}),a)}),L_e=e=>{var{children:t}=e,n=at(vb);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return A.createElement(t4,{width:r,height:i,x:s,y:a},t)},s3=A.forwardRef((e,t)=>{var{children:n}=e,r=M_e(e,N_e),i=Li();return i?A.createElement(L_e,null,A.createElement(o3,{isPanorama:!0},n)):A.createElement(R_e,_y({ref:t},r),A.createElement(o3,{isPanorama:!1},n))});function $_e(){var e=Tr(),[t,n]=A.useState(null),r=at(dce);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Bn(a)&&a!==r&&e(Wle(a))}},[t,e,r]),n}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(r){B_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B_e(e,t,n){return(t=z_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_e(e){var t=U_e(e,"string");return typeof t=="symbol"?t:t+""}function U_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(null,arguments)}var H_e=()=>(k0e(),null);function xy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var F_e=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,s]=A.useState({containerWidth:xy((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:xy((r=e.style)===null||r===void 0?void 0:r.height)}),c=A.useCallback((f,m)=>{s(p=>{var y=Math.round(f),b=Math.round(m);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),d=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var y=w=>{var{width:T,height:S}=w[0].contentRect;c(T,S)},b=new ResizeObserver(y);b.observe(f),i.current=b}},[t,c]);return A.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),A.createElement(A.Fragment,null,A.createElement(bb,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",wu({ref:d},e)))}),G_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:xy(n),containerHeight:xy(r)}),s=A.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();s(f,m)}},[t,s]);return A.createElement(A.Fragment,null,A.createElement(bb,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",wu({ref:c},e)))}),q_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(bb,{width:n,height:r}),A.createElement("div",wu({ref:t},e)))}),Y_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ns(n)||Ns(r)?A.createElement(G_e,wu({},e,{ref:t})):A.createElement(q_e,wu({},e,{ref:t}))});function K_e(e){return e===!0?F_e:Y_e}var W_e=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:T,style:S,width:j,responsive:D,dispatchTouchEvents:O=!0}=e,M=A.useRef(null),C=Tr(),[R,I]=A.useState(null),[z,q]=A.useState(null),V=$_e(),H=UA(),U=H?.width>0?H.width:j,Z=H?.height>0?H.height:i,re=A.useCallback(Q=>{V(Q),typeof t=="function"&&t(Q),I(Q),q(Q),Q!=null&&(M.current=Q)},[V,t,I,q]),ve=A.useCallback(Q=>{C(jz(Q)),C(ka({handler:a,reactEvent:Q}))},[C,a]),J=A.useCallback(Q=>{C(t2(Q)),C(ka({handler:f,reactEvent:Q}))},[C,f]),ae=A.useCallback(Q=>{C(E9()),C(ka({handler:m,reactEvent:Q}))},[C,m]),ne=A.useCallback(Q=>{C(t2(Q)),C(ka({handler:p,reactEvent:Q}))},[C,p]),ce=A.useCallback(()=>{C(Rz())},[C]),te=A.useCallback(Q=>{C(Pz(Q.key))},[C]),Y=A.useCallback(Q=>{C(ka({handler:s,reactEvent:Q}))},[C,s]),B=A.useCallback(Q=>{C(ka({handler:c,reactEvent:Q}))},[C,c]),X=A.useCallback(Q=>{C(ka({handler:d,reactEvent:Q}))},[C,d]),ee=A.useCallback(Q=>{C(ka({handler:y,reactEvent:Q}))},[C,y]),G=A.useCallback(Q=>{C(ka({handler:T,reactEvent:Q}))},[C,T]),W=A.useCallback(Q=>{O&&C($z(Q)),C(ka({handler:w,reactEvent:Q}))},[C,O,w]),le=A.useCallback(Q=>{C(ka({handler:b,reactEvent:Q}))},[C,b]),fe=K_e(D);return A.createElement(G9.Provider,{value:R},A.createElement(Toe.Provider,{value:z},A.createElement(fe,{width:U??S?.width,height:Z??S?.height,className:pn("recharts-wrapper",r),style:I_e({position:"relative",cursor:"default",width:U,height:Z},S),onClick:ve,onContextMenu:Y,onDoubleClick:B,onFocus:ce,onKeyDown:te,onMouseDown:X,onMouseEnter:J,onMouseLeave:ae,onMouseMove:ne,onMouseUp:ee,onTouchEnd:le,onTouchMove:W,onTouchStart:G,ref:re},A.createElement(H_e,null),n)))}),V_e=["width","height","responsive","children","className","style","compact","title","desc"];function Z_e(e,t){if(e==null)return{};var n,r,i=X_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J_e=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:c,compact:d,title:f,desc:m}=e,p=Z_e(e,V_e),y=go(p);return d?A.createElement(A.Fragment,null,A.createElement(bb,{width:n,height:r}),A.createElement(s3,{otherAttributes:y,title:f,desc:m},a)):A.createElement(W_e,{className:s,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(s3,{otherAttributes:y,title:f,desc:m,ref:t},A.createElement(qye,null,a)))});function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n2.apply(null,arguments)}var Q_e={top:5,right:5,bottom:5,left:5},exe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Q_e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},txe=A.forwardRef(function(t,n){var r,i=da(t.categoricalChartProps,exe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(k_e,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},A.createElement(Rye,{chartData:f.data}),A.createElement(j_e,{layout:i.layout,margin:i.margin}),A.createElement(C_e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(J_e,n2({},i,{ref:n})))}),nxe=["axis"],rxe=A.forwardRef((e,t)=>A.createElement(txe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nxe,tooltipPayloadSearcher:d0e,categoricalChartProps:e,ref:t}));function c3(){const[e,t]=A.useState(0),[n,r]=A.useState(0),[i,a]=A.useState(0),[s,c]=A.useState(0),[d,f]=A.useState([]),[m,p]=A.useState([]),y=A.useMemo(()=>{const S=new Date;return S.setHours(0,0,0,0),S},[]),b=A.useCallback(async()=>{const{count:S}=await Ze.from("profiles").select("*",{count:"exact",head:!0});t(S||0);const{count:j}=await Ze.from("myeongsik").select("*",{count:"exact",head:!0});r(j||0);const{count:D}=await Ze.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());a(D||0);const{count:O}=await Ze.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());c(O||0)},[y]),w=A.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:j}=await Ze.from("profiles").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const C=new Date(M.created_at).toISOString().slice(0,10);D[C]=(D[C]||0)+1});const O=Object.entries(D).map(([M,C])=>({day:M,count:C}));f(O)},[]),T=A.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:j}=await Ze.from("myeongsik").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const C=new Date(M.created_at).toISOString().slice(0,10);D[C]=(D[C]||0)+1});const O=Object.entries(D).map(([M,C])=>({day:M,count:C}));p(O)},[]);return A.useEffect(()=>{b(),w(),T()},[b,w,T]),_.jsx(poe,{allow:["admin","operator","viewer"],children:_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[_.jsx(R0,{label:" ",value:e}),_.jsx(R0,{label:"  ",value:n}),_.jsx(R0,{label:" ",value:i}),_.jsx(R0,{label:"  ",value:s})]}),_.jsxs("section",{className:"mb-10",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(u3,{data:d})]}),_.jsxs("section",{children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(u3,{data:m})]})]})})}function R0({label:e,value:t}){return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsx("div",{className:"text-neutral-400 text-sm",children:e}),_.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function u3({data:e}){return _.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2",children:_.jsx(Uce,{width:"100%",height:"100%",children:_.jsxs(rxe,{data:e,children:[_.jsx(vz,{strokeDasharray:"3 3",stroke:"#333"}),_.jsx(kz,{dataKey:"day",stroke:"#bbb"}),_.jsx(Oz,{stroke:"#bbb"}),_.jsx(R0e,{}),_.jsx(Az,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}const hS=20;function ixe(){const[e,t]=A.useState(""),[n,r]=A.useState(1),[i,a]=A.useState([]),[s,c]=A.useState([]),[d,f]=A.useState(!1),[m,p]=A.useState(null),y=A.useCallback(async()=>{f(!0),p(null);try{let S=Ze.from("myeongsik").select("user_id,name");if(e.trim()){const M=`%${e.trim()}%`;S=S.or(`name.ilike.${M},user_id.ilike.${M},birth_json->>birthDay.ilike.${M}`)}const{data:j,error:D}=await S;if(D)throw new Error(D.message);const O=Array.from(new Set((j||[]).map(M=>M.user_id).filter(Boolean)));a(O),r(1)}catch(S){p(S instanceof Error?S.message:"Unknown error")}f(!1)},[e]),b=A.useMemo(()=>{const S=(n-1)*hS;return i.slice(S,S+hS)},[n,i]),w=A.useMemo(()=>Math.max(1,Math.ceil(i.length/hS)),[i]),T=A.useCallback(async()=>{if(!b.length){c([]);return}f(!0),p(null);try{const S=b.length?b:["__NO_MATCH__"],{data:j}=await Ze.from("profiles").select("id,user_id,name,nickname,email").in("user_id",S),D={};(j||[]).forEach(C=>{const R=C.user_id||C.id;R&&(D[R]=C)});const{data:O}=await Ze.from("myeongsik").select("user_id, created_at").in("user_id",S).order("created_at",{ascending:!1}),M={};S.forEach(C=>{M[C]={user_id:C,profile:D[C]||null,myeongsikCount:0,lastCreatedAt:null}}),(O||[]).forEach(C=>{M[C.user_id].myeongsikCount++,M[C.user_id].lastCreatedAt||(M[C.user_id].lastCreatedAt=C.created_at)}),c(Object.values(M))}catch(S){p(S instanceof Error?S.message:"Error")}f(!1)},[b]);return A.useEffect(()=>{y()},[y]),A.useEffect(()=>{T()},[T]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),_.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:e,onChange:S=>t(S.target.value)}),m&&_.jsx("div",{className:"text-red-400 mb-2",children:m}),d&&_.jsx("div",{children:"Loading..."}),_.jsx("div",{className:"space-y-3",children:s.map(S=>{const j=S.profile?.name||S.profile?.nickname||S.profile?.email||"(no profile)";return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg cursor-pointer hover:bg-neutral-800",onClick:()=>location.href=`/admin/user/${S.user_id}`,children:[_.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"text-nowrap mr-2",children:j}),_.jsx("span",{className:"text-neutral-500 text-sm",children:S.user_id})]}),_.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",S.myeongsikCount,"",S.lastCreatedAt&&_.jsxs(_.Fragment,{children:["    ",new Date(S.lastCreatedAt).toLocaleString()]})]})]},S.user_id)})}),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{disabled:n<=1,onClick:()=>r(S=>S-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),_.jsxs("span",{children:[n," / ",w]}),_.jsx("button",{disabled:n>=w,onClick:()=>r(S=>S+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function axe({params:e}){const t=e.userId,[n,r]=A.useState(null),[i,a]=A.useState([]),[s,c]=A.useState(!1),d=A.useCallback(async()=>{const{data:S}=await Ze.from("profiles").select("*").eq("user_id",t).maybeSingle();r(S)},[t]),f=A.useCallback(async()=>{const{data:S}=await Ze.from("myeongsik").select("*").eq("user_id",t).order("created_at",{ascending:!1});a(S||[])},[t]);A.useEffect(()=>{d(),f()},[d,f]);const m=async()=>{c(!0),await Ze.from("profiles").insert({user_id:t,name:"",nickname:"",email:"",mgr_memo:""}),c(!1),d()},p=async()=>{n&&(c(!0),await Ze.from("profiles").update({name:n.name,nickname:n.nickname,email:n.email,mgr_memo:n.mgr_memo}).eq("user_id",t),c(!1),d())},y=async()=>{if(!n)return;const S=n.disabled_at?null:new Date().toISOString();await Ze.from("profiles").update({disabled_at:S}).eq("user_id",t),d()},b=async(S,j)=>{const D=j?null:new Date().toISOString();await Ze.from("myeongsik").update({deleted_at:D}).eq("id",S),f()},w=S=>{window.location.href=S},T=async S=>{try{const j=await Ze.auth.getSession();localStorage.setItem("admin_backup_session",JSON.stringify(j.data.session));const M=(await(await fetch("https://jouhybyquybxbnqztxum.supabase.co/functions/v1/impersonate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_user:S})})).json())?.data?.session;if(!M){alert(" ");return}await Ze.auth.setSession(M),window.location.href="/"}catch(j){console.error(j)}};return _.jsxs("div",{className:"p-6 text-white",children:[_.jsx("button",{className:"mb-4 underline",onClick:()=>w("/admin/user"),children:" Back to users"}),_.jsx("h1",{className:"text-2xl font-bold mb-4",children:"User Detail"}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h2",{className:"text-xl font-semibold",children:"Profile"}),_.jsx("button",{className:"px-3 py-2 bg-indigo-600 rounded",onClick:()=>T(t),children:"  "})]}),!n&&_.jsx("button",{onClick:m,className:"px-3 py-2 bg-blue-600 rounded",disabled:s,children:" "}),n&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.name??"",onChange:S=>r({...n,name:S.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.nickname??"",onChange:S=>r({...n,nickname:S.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Email"}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.email??"",onChange:S=>r({...n,email:S.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:" "}),_.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.mgr_memo??"",onChange:S=>r({...n,mgr_memo:S.target.value})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:p,className:"px-3 py-2 bg-green-600 rounded",disabled:s,children:""}),_.jsx("button",{onClick:y,className:`px-3 py-2 rounded ${n.disabled_at?"bg-yellow-600":"bg-gray-600"}`,children:n.disabled_at?" ":" "})]})]})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),i.map(S=>_.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:S.name||"(no name)"}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",S.birth_json?.birthDay??"-"," "," ",S.created_at?new Date(S.created_at).toLocaleString():"-"]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"px-2 py-1 border border-neutral-500 rounded",onClick:()=>w(`/admin/myeongsik/${S.id}`),children:""}),_.jsx("button",{className:`px-2 py-1 rounded ${S.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>b(S.id,S.deleted_at),children:S.deleted_at?"":""})]})]})},S.id)),i.length===0&&_.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function oxe({open:e,onClose:t,children:n}){return e?_.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:_.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[_.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),_.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const d3=50;function sxe(){const[e,t]=A.useState(null),[n,r]=A.useState(!1),[i,a]=A.useState([]),[s,c]=A.useState(1),[d,f]=A.useState("all"),[m,p]=A.useState("all"),[y,b]=A.useState("30"),[w,T]=A.useState(""),[S,j]=A.useState(!1),D=A.useCallback(async()=>{j(!0);const O=new Date;y!=="all"&&O.setDate(O.getDate()-Number(y));let M=Ze.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((s-1)*d3,s*d3-1);y!=="all"&&(M=M.gte("created_at",O.toISOString())),d!=="all"&&(M=M.eq("action",d)),m!=="all"&&(M=M.eq("actor_admin_id",m));const{data:C}=await M;let R=C||[];if(w.trim()!==""){const I=w.toLowerCase();R=R.filter(z=>(JSON.stringify(z).toLowerCase()+(z.payload?JSON.stringify(z.payload).toLowerCase():"")).includes(I))}a(R),j(!1)},[s,d,m,y,w]);return A.useEffect(()=>{D()},[D]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),_.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:d,onChange:O=>f(O.target.value),children:[_.jsx("option",{value:"all",children:" Action"}),_.jsx("option",{value:"delete_myeongsik",children:" "}),_.jsx("option",{value:"restore_myeongsik",children:" "}),_.jsx("option",{value:"update_profile",children:" "}),_.jsx("option",{value:"impersonate_user",children:""})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:O=>p(O.target.value),children:[_.jsx("option",{value:"all",children:" "}),_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"system",children:"System"})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:y,onChange:O=>b(O.target.value),children:[_.jsx("option",{value:"1",children:"24"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"30",children:"30"}),_.jsx("option",{value:"all",children:""})]}),_.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:w,onChange:O=>T(O.target.value)})]}),S?_.jsx("div",{children:"Loading..."}):i.map(O=>_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(O),r(!0)},children:[_.jsx("div",{className:"font-semibold text-lg",children:O.action}),_.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[_.jsxs("div",{children:["Actor: ",O.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",O.target_user_id||"-"]}),_.jsxs("div",{children:["Target Record: ",O.target_record_id||"-"]}),_.jsxs("div",{children:["Time: ",new Date(O.created_at).toLocaleString()]})]}),O.payload&&_.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(O.payload,null,2)})]},O.id)),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40",disabled:s===1,onClick:()=>c(O=>O-1),children:" "}),_.jsxs("span",{className:"text-neutral-400",children:["Page ",s]}),_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded",onClick:()=>c(O=>O+1),children:" "})]}),_.jsx(oxe,{open:n,onClose:()=>r(!1),children:e&&_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),_.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[_.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),_.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),_.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),_.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const lxe="".split(",").map(e=>e.trim()).filter(Boolean);function Bz(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1);if(A.useEffect(()=>{(async()=>{const{data:c}=await Ze.auth.getUser(),d=c.user?.id;r(!!d&&lxe.includes(d)),t(!0)})()},[]),!e)return _.jsx("div",{className:"p-6 text-white",children:"  .."});if(!n)return _.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=_.jsx(c3,{});if(i.startsWith("/admin/user/")){const s=i.replace("/admin/user/","");a=_.jsx(axe,{params:{userId:s}})}else i.startsWith("/admin/user")?a=_.jsx(ixe,{}):i.startsWith("/admin/logs")?a=_.jsx(sxe,{}):i.startsWith("/admin/dashboard")&&(a=_.jsx(c3,{}));return _.jsx(hoe,{children:a})}function cxe({pillarsA:e,pillarsB:t}){const n=Ete(e,t);return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?_.jsxs("div",{className:"flex gap-2 text-xs",children:[_.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),_.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,s)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},s))})]},r):null)]})}function uxe(e){return typeof e=="object"&&e!==null}const dxe=["","","","","","","","","","","","","","","","","","","",""],fxe=["","","","","","","","","","","","","","","","","","","","","","","",""],hxe=new Set(dxe),mxe=new Set(fxe);function f3(e){return typeof e=="string"&&e.length>=2&&hxe.has(e[0])&&mxe.has(e[1])}function _n(e,...t){if(f3(e))return e;for(const n of t)if(f3(n))return n;return""}function L0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function pxe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function h3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,s]=t,c=new Date(+n,+r-1,+i,+a,+s);return Number.isNaN(c.getTime())?null:c}function wy(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function gxe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const s=e;return typeof s.birthTime=="string"&&s.birthTime.length>=4&&(i=Number(s.birthTime.slice(0,2)),a=Number(s.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Ib(e){const{y:t,m:n,d:r}=gxe(e),i=e.corrected.getHours(),a=e.corrected.getMinutes();return e.calendarType==="lunar"?Jr(t,n,r,i,a):new Date(t,n-1,r,i,a)}function vxe(e){const t=Ib(e);return`${wy(e)}-${t.toISOString()}`}function Uh(e){const t=e;return typeof t.id=="string"&&t.id?t.id:vxe(e)}function yxe(e){return uxe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function bxe(e){const t=Au;return yxe(t)?e==="classic"?t.Classic:t.Modern:e}const mS="people_picker_order_v1";function _xe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function m3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=A.useState("");A.useEffect(()=>{e||a("")},[e]);const s=A.useMemo(()=>t.map(Uh),[t]),c=A.useMemo(()=>new Set(s),[s]),[d,f]=A.useState([]);A.useEffect(()=>{const T=localStorage.getItem(mS),S=T?JSON.parse(T):[],j=S.filter(O=>c.has(O)),D=[...j,...s.filter(O=>!j.includes(O))];f(D),JSON.stringify(D)!==JSON.stringify(S)&&localStorage.setItem(mS,JSON.stringify(D))},[s,c]);const m=T=>{f(T),localStorage.setItem(mS,JSON.stringify(T))},p=A.useMemo(()=>{const T=new Map(t.map(j=>[Uh(j),j])),S=[];for(const j of d){const D=T.get(j);D&&S.push(D)}return T.forEach((j,D)=>{d.includes(D)||S.push(j)}),S},[t,d]),y=A.useMemo(()=>{const T=i.trim().toLowerCase();return T?p.filter(S=>wy(S).toLowerCase().includes(T)):p},[p,i]),b=i.trim()==="",w=T=>{const{destination:S,source:j}=T;if(!S||!b||S.index===j.index)return;const D=y.map(Uh),O=_xe(D,j.index,S.index),C=p.map(Uh).filter(I=>!D.includes(I)),R=[...O,...C].filter((I,z,q)=>q.indexOf(I)===z);m(R)};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),_.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),_.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("input",{placeholder:" ",value:i,onChange:T=>a(T.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!b&&_.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"    "})]}),_.jsx(Gm,{onDragEnd:w,children:_.jsx(cu,{droppableId:"peopleList",children:T=>_.jsxs("ul",{ref:T.innerRef,...T.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[y.map((S,j)=>{const D=String(Uh(S)),O=Ib(S);return _.jsx(Vd,{draggableId:D,index:j,children:M=>_.jsx("li",{ref:M.innerRef,...M.draggableProps,...M.dragHandleProps,onClick:()=>n(S),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:wy(S)}),_.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:em(O)})]})]})})},D)}),T.placeholder]})})})]})]})}function pS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:s,sinsalBaseBranch:c,sinsalMode:d,sinsalBloom:f}){const m=T=>{const S=s.showSibiUnseong?sn(a,T):"",j=s.showSibiSinsal?ln({baseBranch:c,targetBranch:T,era:bxe(d),gaehwa:!!f}):"";return{unseongText:S||void 0,shinsalText:j||void 0}},p=_n(t).charAt(1),y=_n(n).charAt(1),b=_n(r).charAt(1),w=_n(i).charAt(1);return _.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[_.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),_.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",_n(t),p],["",_n(n),y],["",_n(r),b],["",_n(i),w]].map(([T,S,j])=>{const{unseongText:D,shinsalText:O}=m(j);return _.jsx(Cd,{label:T,gz:S,dayStem:a,settings:Er.getState().settings,unseongText:D,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${T}`)})})]})}function xxe(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),s=r("isFemale");return a===!0?"":s===!0?"":""}function Ed({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=Er(C=>C.settings),s=A.useMemo(()=>t?Ib(t):null,[t]),c=_n(s?Ia(s,"/"):void 0),d=_n(s?At(s,"/"):void 0),f=_n(s?Mt(s):void 0),m=_n(s?pt(s):void 0),p=A.useMemo(()=>d.charAt(0)||"",[d]),y=s,b=A.useMemo(()=>{const C=t?.birthPlace;return!C||C.name===""||!C.lon?127.5:C.lon},[t]),w=t?.mingSikType??"/",T=A.useMemo(()=>{const C=y?At(y,w).charAt(1):d.charAt(1)||"",R=y?pt(y,b).charAt(1):m.charAt(1)||"";return(a.sinsalBase??"")===""?C:R},[a.sinsalBase,y,w,b,d,m]),S=A.useMemo(()=>{if(n!==""||!s||!t)return null;try{const C=e5(s,c,t.dir,120,t.mingSikType),R=n5(C,d,t.dir,t.DayChangeRule),I=qm(s,f,t.dir,120,t?.birthPlace?.lon??127.5),z=r5(I,m,t.dir,t.DayChangeRule,s),q=r;return{si:_n(L0(C.events,q)?.gz,c),il:_n(L0(R.events,q)?.gz,d),wl:_n(L0(I.events,q)?.gz,f),yn:_n(L0(z.events,q)?.gz,m)}}catch{return null}},[n,s,c,d,f,m,r,t]),j=A.useMemo(()=>{if(n!=="")return null;const C=r;return{si:_n(Ia(C,"/")),il:_n(At(C,"/")),wl:_n(Mt(C)),yn:_n(pt(C))}},[n,r]),D=t?wy(t):"",O=s?em(s):"",M=t?xxe(t):"";return t?_.jsxs("div",{className:"space-y-2",children:[_.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:" ",children:" "}),_.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[_.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),_.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:D}),M&&_.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),O&&_.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:O})]}),n===""&&_.jsx(pS,{label:"",gzHour:c,gzDay:d,gzMonth:f,gzYear:m,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&S&&_.jsx(pS,{label:"",gzHour:S.si,gzDay:S.il,gzMonth:S.wl,gzYear:S.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&_.jsx(pS,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):_.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:_.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function wxe({people:e=[]}){const[t,n]=A.useState(),[r,i]=A.useState(),[a,s]=A.useState(!1),[c,d]=A.useState(!1),f=A.useRef(new Date),[m,p]=A.useState(()=>pxe(f.current)),y=A.useRef(h3(m)??f.current),b=A.useMemo(()=>{const O=h3(m);return O&&(y.current=O),y.current},[m]),[w,T]=A.useState(!1),[S,j]=A.useState(!1);function D(O){if(!O)return["","","",""];try{const M=Ib(O),C={hour:_n(Ia(M,"/")),day:_n(At(M,"/")),month:_n(Mt(M)),year:_n(pt(M))};return[C.year,C.month,C.day,C.hour]}catch{return["","","",""]}}return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[_.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[_.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[_.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:a,onChange:O=>s(O.target.checked),className:"accent-indigo-500"})," "]}),_.jsx("button",{onClick:()=>d(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?"  ":"  "})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),a&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),a&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),c&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),c&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)})]}),t&&r&&_.jsx("div",{className:"mt-4",children:_.jsx(cxe,{pillarsA:D(t),pillarsB:D(r)})}),_.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[_.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"/ "}),_.jsx("input",{type:"datetime-local",value:m,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),_.jsx(m3,{open:w,list:e||[],onSelect:O=>{n(O),T(!1)},onClose:()=>T(!1)}),_.jsx(m3,{open:S,list:e||[],onSelect:O=>{i(O),j(!1)},onClose:()=>j(!1)})]})}function Sxe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),i=async()=>{try{const{data:{user:a}}=await Ze.auth.getUser();if(!a){alert("  .");return}const s=a.id;await Ze.from("profiles").delete().eq("id",s),await Ze.from("myeongsik").delete().eq("user_id",s),await Ze.auth.admin.deleteUser(s),await Ze.auth.signOut(),alert(" ."),window.location.href="/"}catch(a){console.error(a),alert("   .")}};return _.jsxs(_.Fragment,{children:[_.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[_.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),_.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[_.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),_.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"( )     ,      ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsx("p",{className:"mb-2",children:"   ,  (,  )        ( ,  )"}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsx("p",{className:"mb-2",children:"                   "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsx("p",{className:"mb-2",children:"                 "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"          ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase        ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),_.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["         .",_.jsx("br",{}),"    ."]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),_.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function Exe({ms:e}){const{date:t,setDate:n}=Di();A.useEffect(()=>{n(new Date)},[e]);const r=oA(e),i=A.useMemo(()=>{const c=t??new Date,d=c.getFullYear(),f=String(c.getMonth()+1).padStart(2,"0"),m=String(c.getDate()).padStart(2,"0");return`${d}-${f}-${m}`},[t]),a=c=>{if(!c)return;const[d,f,m]=c.split("-"),p=Number(d),y=Number(f),b=Number(m);if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b))return;const w=t??new Date,T=w.getHours(),S=w.getMinutes(),j=new Date(p,y,0).getDate(),D=Math.min(b,j),O=new Date(p,y-1,D,T,S,0,0);Number.isNaN(O.getTime())||n(O)},s=A.useMemo(()=>{const c=e.ganji,d=r?.dae?.gz?`${r.dae.gz}`:null,f=r?.se?.gz?`${r.se.gz}`:null,m=r?.wol?.gz?`${r.wol.gz}`:null,p=[d,f,m].filter(Boolean).join(" ");return[c,p].filter(Boolean).join(" + ")},[e,r]);return _.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[s&&_.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:s}),_.jsx("div",{className:"grid grid-cols-1 gap-3",children:_.jsxs("label",{className:"w-full flex justify-center items-center",children:[_.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),_.jsx("input",{type:"date",value:i,onChange:c=>a(c.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const Axe=["23:0000:59","01:0002:59","03:0004:59","05:0006:59","07:0008:59","09:0010:59","11:0012:59","13:0014:59","15:0016:59","17:0018:59","19:0020:59","21:0022:59"];function Txe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function $0(e,t){return e&&t?`${e}${t}`:null}function p3(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}const kxe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},Oxe=Ra.,jxe=["","","","","","","","","","","",""];function g3(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=kxe[n],i=jxe.indexOf(t),a=(r+(i>=0?i:0))%10;return Oxe[a]}const Cxe=Ra..slice(),Nxe=["","","","","","","","","","","",""];function Ad(e,t){const r=(t===""?e$:g2)[e],i=t===""?Cxe:Nxe,a=Ra..reduce((s,c)=>(s[c]="",s),{});for(let s=0;s<12;s++)a[i[s]]=r[s];return a}const Mxe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Dxe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Pxe({open:e,onClose:t,onSave:n}){const{settings:r}=Er(),[i,a]=A.useState(null),[s,c]=A.useState({}),[d,f]=A.useState(null),[m,p]=A.useState(!0),[y,b]=A.useState(!0),[w,T]=A.useState(""),[S,j]=A.useState("male"),[D,O]=A.useState(null),[M,C]=A.useState(!1),[,R]=A.useState(null),[I,z]=A.useState(null),[q,V]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[H,U]=A.useState(!1),[Z,re]=A.useState(null),ve=ye=>{re(ye),setTimeout(()=>re(null),1800)},[J,ae]=A.useState(!1),[ne,ce]=A.useState(!1);A.useEffect(()=>{if(J){const ye=setTimeout(()=>ae(!1),2e3);return()=>clearTimeout(ye)}},[J]),A.useEffect(()=>{if(ne){const ye=setTimeout(()=>ce(!1),2e3);return()=>clearTimeout(ye)}},[ne]);const te=()=>{const ye=I!==null?D?.filter((Un,Wn)=>Wn===I)??[]:[];if(ye.length===0){alert("  .");return}const Ie=w===""?"/":"",he=ye[0],[ge,Ue,ze]=he.date.split("-").map(Number),He={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};let ut=0,it=0;if(he.hourSlots.length>0){const Un=he.hourSlots[0].branch,Wn=He[Un];Wn&&(ut=Wn.hh,it=Wn.mi)}const tn=new Date(ge,Ue-1,ze,ut,it),Kn=tn,zn="",Ur=S==="male"?"":"";function ti(Un,Wn){const mi=["","","","","","","","","",""].includes(Un),Hr=Wn==="";return mi?Hr?"forward":"backward":Hr?"backward":"forward"}const En=ti(he.year.charAt(0),Ur),It=pt(Kn,127.5),Nn=Mt(Kn,127.5),An=At(Kn,Ie),$i=Ia(Kn,Ie),Ks=[` : ${It} ${Nn} ${An}`,$i?`${$i}`:null].filter(Boolean).join(" "),Ga={id:jI(),name:"",birthDay:`${ge}${String(Ue).padStart(2,"0")}${String(ze).padStart(2,"0")}`,birthTime:`${String(ut).padStart(2,"0")}${String(it).padStart(2,"0")}`,gender:Ur,birthPlace:H?{name:"",lat:0,lon:127.5}:q.birthPlace??{name:"",lat:0,lon:127.5},relationship:q.relationship??"",memo:q.memo??"",folder:uu(q.folder),mingSikType:q.mingSikType??"/",DayChangeRule:q.mingSikType===""?"":"",calendarType:q.calendarType??"solar",yearGZ:he.year,monthGZ:he.month,dayGZ:he.day,hourGZ:he.hour,ganjiText:` : ${he.year} ${he.month} ${he.day} ${he.hour}`,ganji:Ks,dayStem:he.day.charAt(0),dateObj:tn,corrected:Kn,correctedLocal:zn,dir:En};lf.flushSync(()=>{ho.getState().add(Ga)}),n(Ga),re(" !"),V({gender:"",mingSikType:"/",calendarType:"solar"}),U(!1),t()},Y=m||y,B=!!(s.yearStem&&s.yearBranch),X=!!(s.dayStem&&s.dayBranch),ee=!Y||B||X,G=!!d&&d.endsWith("Stem"),W=!!d&&d.endsWith("Branch");function le(ye){return ye==="yearStem"?"yearBranch":ye==="yearBranch"?"yearStem":ye==="monthStem"?"monthBranch":ye==="monthBranch"?"monthStem":ye==="dayStem"?"dayBranch":ye==="dayBranch"?"dayStem":ye==="hourStem"?"hourBranch":"hourStem"}const fe=A.useCallback((ye,Ie)=>{if(!m||!ye.yearStem)return ye;const he={...ye},ge=g2[ye.yearStem];if(!ge)return he;const Ue=He=>ge.filter(ut=>ut.startsWith(He)),ze=He=>ge.find(ut=>ut.endsWith(He));if(Ie==="monthStem"&&he.monthStem){const He=Ue(he.monthStem).map(ut=>ut.slice(1));return He.length>=2?(a(He.slice(0,2)),f("monthBranch"),he):(He.length===1&&(he.monthBranch=He[0],a(null)),he)}if(Ie==="monthBranch"&&he.monthBranch){const He=ze(he.monthBranch);return He&&(he.monthStem=He.slice(0,1),a(null)),he}if(Ie==="yearStem"){if(he.monthStem&&!he.monthBranch){const He=Ue(he.monthStem).map(ut=>ut.slice(1));if(He.length>=2)return a(He.slice(0,2)),f("monthBranch"),he;He.length===1&&(he.monthBranch=He[0])}else if(he.monthBranch&&!he.monthStem){const He=ze(he.monthBranch);He&&(he.monthStem=He.slice(0,1))}}return he},[m,f]),Q=A.useCallback((ye,Ie)=>{if(!y||!ye.dayStem)return ye;const he={...ye},ge=Ad(ye.dayStem,w),Ue=He=>Object.entries(ge).find(([,ut])=>ut.startsWith(He)),ze=He=>ge[He];if(Ie==="hourStem"&&he.hourStem){const He=Ue(he.hourStem);return He&&(he.hourBranch=He[0]),he}if(Ie==="hourBranch"&&he.hourBranch){const He=ze(he.hourBranch);return He&&(he.hourStem=He.slice(0,1)),he}if(Ie==="dayStem"){if(he.hourStem&&!he.hourBranch){const He=Ue(he.hourStem);He&&(he.hourBranch=He[0])}else if(he.hourBranch&&!he.hourStem){const He=ze(he.hourBranch);He&&(he.hourStem=He.slice(0,1))}}return he},[y,w]),de=A.useCallback(ye=>!m||!ye.yearStem?!1:ye.monthBranch&&ye.monthStem?g3(ye.yearStem,ye.monthBranch)!==ye.monthStem:!1,[m]),we=A.useCallback(ye=>{if(!y||!ye.dayStem)return!1;if(ye.hourBranch&&ye.hourStem){const he=Ad(ye.dayStem,w)[ye.hourBranch];return he?he.slice(0,1)!==ye.hourStem:!1}return!1},[y,w]);A.useEffect(()=>{if(!(!y||!s.dayStem||!s.hourBranch)&&(s.hourBranch===""||s.hourBranch==="")){const Ie=Ad(s.dayStem,w)[s.hourBranch];Ie&&c(he=>({...he,hourStem:Ie.slice(0,1)}))}},[w,y,s.dayStem,s.hourBranch]);const se=A.useCallback(ye=>{if(!d)return;if(!ee&&!(d==="yearStem"||d==="yearBranch"||d==="dayStem"||d==="dayBranch")){R("/  :    ."),setTimeout(()=>R(null),1500);return}let he={...s,[d]:ye};(d==="yearStem"||d==="monthStem"||d==="monthBranch")&&(he=fe(he,d)),(d==="dayStem"||d==="hourStem"||d==="hourBranch")&&(he=Q(he,d)),c(he);let ge=!1;de(he)&&(p(!1),ge=!0),we(he)&&(b(!1),ge=!0),ge&&ve("/  .   ."),c(he),O(null);const Ue=le(d);f(Ue),setTimeout(()=>{const ze={...he};if(ze.yearStem&&ze.yearBranch&&!ze.monthStem){f("monthStem");return}if(ze.monthStem&&ze.monthBranch&&!ze.dayStem){f("dayStem");return}if(ze.dayStem&&ze.dayBranch&&!ze.hourStem){f("hourStem");return}},0)},[d,s,ee,fe,Q,de,we]),Ce=p3(s),be=A.useCallback(async()=>{if(O(null),R(null),!p3(s)){R("   .");return}const ye=$0(s.yearStem,s.yearBranch),Ie=$0(s.monthStem,s.monthBranch),he=$0(s.dayStem,s.dayBranch),ge=$0(s.hourStem,s.hourBranch),Ue=300,ze=[];C(!0);try{const He=new Date(1900,0,1,12,0,0),ut=new Date(2100,11,31,12,0,0);for(let it=He.getTime();it<=ut.getTime();it+=24*3600*1e3){const tn=new Date(it),Kn=w===""?"/":"",zn=pt(tn);if(zn!==ye)continue;const Ur=Mt(tn);if(Ur!==Ie)continue;const ti=At(tn,Kn);if(ti!==he)continue;const En=Ad(s.dayStem,w),It=[];for(let Nn=0;Nn<12;Nn++){const An=Ra.[Nn];En[An]===ge&&It.push({branch:An,time:Axe[Nn]})}if(It.length!==0&&(ze.push({date:Txe(tn),year:zn,month:Ur,day:ti,hour:ge,hourSlots:It}),ze.length>=Ue))break}ze.length===0&&R("  . (: 19002100)"),O(ze)}catch(He){He instanceof Error?R(He.message):R(String(He))}finally{C(!1)}},[s,w]),Le=()=>{c({}),O(null),R(null),f(null)},Me=ye=>{O(null),ye&&c(Ie=>{const he={...Ie};return he.yearStem&&he.monthBranch&&(he.monthStem=g3(he.yearStem,he.monthBranch)),he}),p(ye)},$e=ye=>{O(null),ye&&c(Ie=>{const he={...Ie};if(he.dayStem&&he.hourBranch){const Ue=Ad(he.dayStem,w)[he.hourBranch];Ue&&(he.hourStem=Ue.slice(0,1))}return he}),b(ye)};if(!e)return null;const Be=ye=>{if(O(null),T(ye),y&&s.dayStem&&s.hourBranch&&(s.hourBranch===""||s.hourBranch==="")){const he=Ad(s.dayStem,ye)[s.hourBranch];he&&c(ge=>({...ge,hourStem:he.slice(0,1)}))}};return _.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:_.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[_.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:_.jsx(Z5,{size:20})}),_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),_.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:"/"}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useWoldu",checked:m,onChange:ye=>Me(ye.target.checked)}),_.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useSidu",checked:y,onChange:ye=>$e(ye.target.checked)}),_.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:" "}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"jasi",checked:w==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"insi",checked:w==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"male",checked:S==="male",onChange:()=>j("male")}),_.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"female",checked:S==="female",onChange:()=>j("female")}),_.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]}),Y&&!ee&&_.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",_.jsx("br",{}),_.jsx("b",{children:""}),"  ",_.jsx("b",{children:""}),"  ."]}),_.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([ye,Ie])=>{const he=!ee&&!(ye==="yearStem"||ye==="yearBranch"||ye==="dayStem"||ye==="dayBranch"),ge=d===ye;return _.jsxs("button",{onClick:()=>!he&&f(ye),disabled:he,className:["border rounded p-2 text-center cursor-pointer",ge?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",he?"opacity-50 cursor-not-allowed":""].join(" "),children:[Ie,_.jsx("br",{}),_.jsx("span",{className:"font-bold",children:s[ye]??"-"})]},ye)})}),i&&i.length>0&&_.jsxs("div",{className:"mb-3",children:[_.jsx("p",{className:"text-sm mb-1",children:"  :"}),_.jsx("div",{className:"flex gap-2",children:i.map(ye=>_.jsx("button",{onClick:()=>{let Ie={...s,monthBranch:ye};a(null),Ie=fe(Ie,"monthBranch"),c(Ie),f("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:ye},ye))})]}),_.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:d?_.jsxs("div",{className:"w-full",children:[G&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ra..map(ye=>_.jsx("button",{onClick:()=>se(ye),className:`border rounded px-2 py-1 cursor-pointer ${sa(ye,"stem",r)}`,children:ye},ye))})]}),W&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ra..filter(ye=>{const Ie=le(d),he=s[Ie];return he?Dxe[ye]===Mxe[he]:!0}).map(ye=>_.jsx("button",{onClick:()=>se(ye),className:`border rounded px-2 py-1 cursor-pointer ${sa(ye,"branch",r)}`,children:ye},ye))})]})]}):_.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"    ."})}),_.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[_.jsx("span",{children:_.jsx("button",{type:"button",onClick:()=>{if(!Ce){ae(!0);return}be()},disabled:M,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:M?" ...":""})}),_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",onClick:Le,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),_.jsx("button",{type:"button",onClick:()=>{if((I!==null?D?.filter((Ie,he)=>he===I)??[]:[]).length===0){ce(!0);return}te()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),_.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:D?D.length===0?_.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):_.jsxs("table",{className:"w-full text-xs",children:[_.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""})]})}),_.jsx("tbody",{children:D.map((ye,Ie)=>_.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("td",{className:"p-1 text-center",children:_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Ie}`,checked:I===Ie,onChange:()=>z(Ie)}),_.jsx("label",{htmlFor:`selectRow-${Ie}`,children:"ON"})]})}),_.jsx("td",{className:"p-1 text-center",children:ye.date}),_.jsx("td",{className:"p-1 text-center",children:ye.year}),_.jsx("td",{className:"p-1 text-center",children:ye.month}),_.jsx("td",{className:"p-1 text-center",children:ye.day}),_.jsx("td",{className:"p-1 text-center",children:_.jsx("div",{className:"flex flex-wrap gap-1",children:ye.hourSlots.map((he,ge)=>_.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:_.jsx("b",{children:he.branch})},ge))})}),_.jsx("td",{className:"p-1 text-center",children:S==="male"?"":""})]},`${ye.date}-${Ie}`))})]}):_.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"   ."})}),Z&&_.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:_.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:Z})}),J&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),ne&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:[" .",_.jsx("br",{})," ,  ."]})})]})})}const zz=Im(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function Sy(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Jr(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),s=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,s,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Eu(c,d,i),m=e.mingSikType??"/",p=pt(f,d),y=Mt(f,d),b=At(f,m),w=i?null:Ia(f,m),T=qe(p),S=qe(y),j=qe(b),D=w?qe(w):"";return[T,S,j,D]}function Uz(e){const t=new Date(e.corrected),n=Sy(e),r=n[0].charAt(0),a=["","","","",""].includes(r),s=e.gender==="",c=s&&a||!s&&!a?"forward":"backward",d=qm(t,n[1],c,120,e.birthPlace?.lon??127.5),f=d.firstChange;if(!f)return[];const m=[];let p=qe(d.events[0]?.gz??n[1]);for(let y=0;y<10;y++){const b=new Date(f);if(b.setFullYear(b.getFullYear()+y*10),y>0){const w=d.events[y];w&&(p=qe(w.gz))}m.push(`${b.getFullYear()} ${String(b.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const Rxe=!1,v3=e=>e<10?`0${e}`:`${e}`;function Hz(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=Jr(i,a,s,0,0),d=`${c.getFullYear()}${v3(c.getMonth()+1)}${v3(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}const Vh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},I0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Lxe=["","","","",""];function y3(e){return Lxe.includes(e)}const Fz={:"",:"",:"",:"",:""},Gz={:"",:"",:"",:"",:""},qz={:"",:"",:"",:"",:""},Yz={:"",:"",:"",:"",:""};function r2(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Vh[t])return Vh[t];if(["","","","","","","","","","","",""].includes(t))return I0[t]??null;if(Zh[t])return I0[Zh[t]]??null;const n=t.charAt(0);return Vh[n]?Vh[n]:["","","","","","","","","",""].includes(n)?n:Zh[n]?I0[Zh[n]]??null:["","","","","","","","","","","",""].includes(n)?I0[n]??null:null}function $xe(e,t){const n=Mm[e],r=Mm[t];if(!n||!r)return"";let i;r===n?i="":r===Fz[n]?i="":r===Gz[n]?i="":r===qz[n]?i="":r===Yz[n]?i="":i="";const a=y3(e)===y3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Kz(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function Ixe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=r2(n);i&&(t[i]=(t[i]??0)+r)}return t}function Bxe(e){if(!e)return[];const t=r2(e.charAt(0)),n=r2(e.charAt(1));return[t,n].filter(Boolean)}function B0(e){const t=Bxe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Xi(e,t){return t===e?"":t===Fz[e]?"":t===Gz[e]?"":t===qz[e]?"":t===Yz[e]?"":""}const zxe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"}};function Uxe(e){if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Vh[t]??t,i=Zh[n]??n;return`${r}${i}`}function Lr(e){const t=Uxe(e),n=zxe[t];return n?{...n,code:t}:null}function Hxe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Mm[n];i&&(t[i]+=r)}return t}function Fxe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=$xe(t,r);n[a]+=i}return n}function Gxe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const qxe={natal:50,dae:30,se:20,wol:7,il:3};function Yxe(e){const t={};for(const{kind:r,bare:i}of e){const a=qxe[r]??0;if(a<=0)continue;const s=Kz(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function io(e,t,n){const r=Ixe(e.perStemElementScaled),i=t!==""&&n?.dae?B0(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?B0(n.se):{},s=(t===""||t==="")&&n?.wol?B0(n.wol):{},c=t===""&&n?.il?B0(n.il):{},d=Yxe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:s},{kind:"il",bare:c}]),f=Kz(d),m=Hxe(f),p=Fxe(f,e.dayStem),y=Gxe(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:y}}function Kxe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const gS=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),i2=e=>{if(Array.isArray(e)){const t=e.map(i2).filter(n=>!(n==null||Array.isArray(n)&&n.length===0||gS(n)&&Object.keys(n).length===0));return t.length>0?t:void 0}if(gS(e)){const t={};for(const[n,r]of Object.entries(e)){const i=i2(r);i!==void 0&&(Array.isArray(i)&&i.length===0||gS(i)&&Object.keys(i).length===0||(t[n]=i))}return Object.keys(t).length>0?t:void 0}if(e!=null)return e},Wxe=e=>{const t=i2(e);return t===void 0?"":typeof t=="string"||typeof t=="number"||typeof t=="boolean"?String(t):["```json",JSON.stringify(t,null,2),"```"].join(`
`)},Zi=(e,t)=>{const n=Wxe(t);return n?`## ${e}
${n}`:""};function Vxe(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:s,percent:c,category:d,topic:f,subTopic:m,relationMode:p,teacherMode:y}=e,b=[qe(n[0]??""),qe(n[1]??""),qe(n[2]??""),qe(n[3]??"")],w=Uz(t).slice(0,10),T=Vr({natal:b,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),S=Oi({natal:b,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:j,shinsalGaehwa:D,shinsalBase:O}=zz.getState(),M=O===""?b[0]?.charAt(1)??"":b[2]?.charAt(1)??"",C=io(s,a,r),R=C.elementPercent,I=C.totalsSub,{flags:z}=B5(b,s.elementScoreRaw),q=`${d} (${c.toFixed(1)}%)  ${[` ${z..||z..||z..||z..?"":""}`,` ${z..||z..||z..||z..?"":""}`,` ${z..||z..?"":""}`].join(", ")}`,V=!t.birthTime||t.birthTime==="";function H(B){const ee=Hz(B).birthDay??"",G=ee.slice(0,4),W=ee.slice(4,6),le=ee.slice(6,8);let fe="";if(B.corrected instanceof Date&&!isNaN(B.corrected.getTime())){const Q=String(B.corrected.getHours()).padStart(2,"0"),de=String(B.corrected.getMinutes()).padStart(2,"0");fe=V?"":`${Q}:${de}`}return`${G} ${W} ${le}  ${fe}`}function U(B,X){if(!X)return"()";const ee=[];return(B===""||B===""||B===""||B==="")&&X.dae&&ee.push(`:${qe(X.dae)}`),(B===""||B===""||B==="")&&X.se&&ee.push(`:${qe(X.se)}`),(B===""||B==="")&&X.wol&&ee.push(`:${qe(X.wol)}`),B===""&&X.il&&ee.push(`:${qe(X.il)}`),ee.length>0?ee.join(" / "):"()"}const Z=Kxe(b,t),re=s.dayStem,ve=Mm[re],J=[` : ${t.name??""} (${H(t)}) : ${t.gender}`,` ${b[0]} ${b[1]} ${b[2]}`+(b[3]?` ${b[3]}${!t.birthTime||t.birthTime===""?"()":""}`:""),`: ${U(a,r)}`].join(`
`),ae=[];if(ae.push(Zi("  (10)",w)),ae.push(Zi("",q)),ae.push(Zi("(  )",Object.fromEntries(Object.entries(s.natalFixed.elementPercent100).map(([B,X])=>[`${B}(${Xi(ve,B)})`,X])))),a!==""&&ae.push(Zi(`(=${a})`,Object.fromEntries(Object.entries(R).map(([B,X])=>[`${B}(${Xi(ve,B)})`,X])))),ae.push(Zi(" ( 10 100)",s.natalFixed.totalsSub)),a!==""&&ae.push(Zi(` ( 10=${a} 100)`,I)),ae.push(Zi("(+ )",a===""?b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,unseong:sn(b[2]?.charAt(0)??"",B.charAt(1))}).filter(Boolean):[...b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,unseong:sn(b[2]?.charAt(0)??"",B.charAt(1))}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,unseong:sn(b[2]?.charAt(0)??"",r.dae.charAt(1))}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,unseong:sn(b[2]?.charAt(0)??"",r.se.charAt(1))}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,unseong:sn(b[2]?.charAt(0)??"",r.wol.charAt(1))}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,unseong:sn(b[2]?.charAt(0)??"",r.il.charAt(1))}]:[]].filter(Boolean))),ae.push(Zi("(+  )",a===""?b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,shinsal:ln({baseBranch:M,targetBranch:B.charAt(1),era:j,gaehwa:D})}).filter(Boolean):[...b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,shinsal:ln({baseBranch:M,targetBranch:B.charAt(1),era:j,gaehwa:D})}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,shinsal:ln({baseBranch:M,targetBranch:r.dae.charAt(1),era:j,gaehwa:D})}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,shinsal:ln({baseBranch:M,targetBranch:r.se.charAt(1),era:j,gaehwa:D})}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,shinsal:ln({baseBranch:M,targetBranch:r.wol.charAt(1),era:j,gaehwa:D})}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,shinsal:ln({baseBranch:M,targetBranch:r.il.charAt(1),era:j,gaehwa:D})}]:[]].filter(Boolean))),ae.push(Zi("(+ )",a===""?b.map((B,X)=>{if(!B||X>=Z.length)return null;const ee=Lr(B);return ee?{pos:Z[X],gz:B,nabeum:ee.name,element:ee.element,code:ee.code}:{pos:Z[X],gz:B,nabeum:null}}).filter(Boolean):[...b.map((B,X)=>{if(!B||X>=Z.length)return null;const ee=Lr(B);return ee?{pos:Z[X],gz:B,nabeum:ee.name,element:ee.element,code:ee.code}:{pos:Z[X],gz:B,nabeum:null}}).filter(Boolean),...r?.dae?(()=>{const B=Lr(r.dae);return B?[{pos:"",gz:r.dae,nabeum:B.name,element:B.element,code:B.code}]:[]})():[],...(a===""||a===""||a==="")&&r?.se?(()=>{const B=Lr(r.se);return B?[{pos:"",gz:r.se,nabeum:B.name,element:B.element,code:B.code}]:[]})():[],...(a===""||a==="")&&r?.wol?(()=>{const B=Lr(r.wol);return B?[{pos:"",gz:r.wol,nabeum:B.name,element:B.element,code:B.code}]:[]})():[],...a===""&&r?.il?(()=>{const B=Lr(r.il);return B?[{pos:"",gz:r.il,nabeum:B.name,element:B.element,code:B.code}]:[]})():[]].filter(Boolean))),ae.push(Zi("()",_A(b.filter((B,X)=>X<Z.length)))),ae.push(Zi("( :  )",T)),a===""){const B=Oi({natal:b,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Zi("( )",{good:B.good,bad:B.bad,meta:B.meta}))}else ae.push(Zi(`( =${a})`,S));const ne=ae.filter(B=>B&&B.trim().length>0).join(`

`),ce=Jz({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:y}),te=["-----","  ","","1.       (////)  .","2.  ,        ."];ce&&te.push("","  ( )",ce);const Y=te.join(`
`);return[J,ne,Y].join(`

`)}function Zxe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const Xxe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function QT(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function Wz(e,t){const n=e[t],r=e[t+1];return r?QT(r):new Date(n.endYear+1,0,1)}function Vz(e,t,n,r){return e<r&&t>n}function Zz(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=QT(c),f=Wz(e,s);Vz(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function b3(e,t){return Zz(e,t,t)}function z0(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=QT(c),f=Wz(e,s);Vz(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function Xz(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function U0(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=Xz(e),s=pt(new Date(e-1,5,15)),c=pt(new Date(e,5,15)),d=pt(new Date(e+1,5,15));if(i<=a)s&&n.push(qe(s));else if(r>=a)c&&n.push(qe(c));else if(s&&n.push(qe(s)),c){const f=qe(c);n.includes(f)||n.push(f)}if(t===12&&d){const f=qe(d);n.includes(f)||n.push(f)}return n}function Jxe(e,t){const n=Xz(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}const Ro=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const d={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(y=>typeof y=="string"&&y.includes(n));p.length>0&&(d[f]=p)}if(Object.keys(d).length!==0)return d},i=r(e.good),a=r(e.bad),s={};return i&&(s.good=i),a&&(s.bad=a),s};function a2(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>a2(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(Xxe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=a2(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}const Qxe=e=>e==null?"":typeof e=="string"?e:JSON.stringify(e,null,2),yr=(e,t)=>{const n=a2(t);if(n===void 0)return"";const r=Qxe(n);return r.trim()?`## ${e}
${r}`:""},vs=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(s=>typeof s=="string"&&s.includes(t))));a.length>0&&(n[r]=a)}return n};function ewe(e){const{ms:t,natal:n,basis:r,unified:i,percent:a,category:s,selectedDaeList:c,daeList:d,seYears:f,wolMonths:m,ilDays:p,topic:y,subTopic:b,teacherMode:w}=e,T=[qe(n[0]??""),qe(n[1]??""),qe(n[2]??""),qe(n[3]??"")],S=!t.birthTime||t.birthTime==="",j=Zxe(T,t),D=i.dayStem,O=Mm[D],{shinsalEra:M,shinsalGaehwa:C,shinsalBase:R}=zz.getState(),I=R===""?T[0]?.charAt(1)??"":T[2]?.charAt(1)??"",{flags:z}=B5(T,i.elementScoreRaw),q=`${s} (${a.toFixed(1)}%)  ${[` ${z..||z..||z..||z..?"":""}`,` ${z..||z..||z..||z..?"":""}`,` ${z..||z..?"":""}`].join(", ")}`;function V(ne){const te=Hz(ne).birthDay??"",Y=te.slice(0,4),B=te.slice(4,6),X=te.slice(6,8);let ee="";if(ne.corrected instanceof Date&&!isNaN(ne.corrected.getTime())){const G=String(ne.corrected.getHours()).padStart(2,"0"),W=String(ne.corrected.getMinutes()).padStart(2,"0");ee=S?"":`${G}:${W}`}return`${Y} ${B} ${X}  ${ee}`}const H=[` : ${t.name??""} (${V(t)}) : ${t.gender}`,` ${T[0]} ${T[1]} ${T[2]}`+(T[3]?` ${T[3]}${!t.birthTime||t.birthTime===""?"()":""}`:"")].join(`
`),U=[];U.push(yr("",q)),U.push(yr("()",Object.fromEntries(Object.entries(i.natalFixed.elementPercent100).map(([ne,ce])=>[`${ne}(${Xi(O,ne)})`,ce])))),U.push(yr(" ( 10 100)",i.natalFixed.totalsSub)),U.push(yr("()",_A(T.filter((ne,ce)=>ce<j.length))));const Z=Oi({natal:T,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});if(U.push(yr("()",{good:Z.good,bad:Z.bad,meta:Z.meta})),U.push(yr("()",T.map((ne,ce)=>{if(!ne||ce>=j.length)return null;const te=Lr(ne);return te?{pos:j[ce],gz:ne,nabeum:te.name,element:te.element,code:te.code}:{pos:j[ce],gz:ne,nabeum:null}}).filter(Boolean))),U.push(yr("()",T.map((ne,ce)=>!ne||ce>=j.length?null:{pos:j[ce],gz:ne,unseong:sn(T[2]?.charAt(0)??"",ne.charAt(1))}).filter(Boolean))),U.push(yr("()",T.map((ne,ce)=>!ne||ce>=j.length?null:{pos:j[ce],gz:ne,shinsal:ln({baseBranch:I,targetBranch:ne.charAt(1),era:M,gaehwa:C})}).filter(Boolean))),d.length>0)for(const ne of c){const ce={dae:ne.gz,se:null,wol:null,il:null},te=io(i,"",ce),Y=Vr({natal:T,daewoon:ne.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0}),B=Oi({natal:T,daewoon:ne.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0,basis:r}),X=Lr(ne.gz),ee=sn(T[2]?.charAt(0)??"",ne.gz.charAt(1)),G=ln({baseBranch:I,targetBranch:ne.gz.charAt(1),era:M,gaehwa:C});U.push(yr(`${ne.age} ${ne.gz} (${ne.startYear}~${ne.endYear})`,{:Object.fromEntries(Object.entries(te.elementPercent).map(([W,le])=>[`${W}(${Xi(O,W)})`,le])),:te.totalsSub,:Y,:Ro(B,""),:X?{gz:ne.gz,nabeum:X.name,element:X.element,code:X.code}:null,:{pos:"",gz:ne.gz,unseong:ee},:{pos:"",gz:ne.gz,shinsal:G}}))}if(f.length>0){const ne=f[0],ce=f[f.length-1],te=Zz(d,ne,ce);if(te.length>0){const Y=ne,B=pt(new Date(Y,5,15)),X=qe(B||""),ee={:te.map(G=>{const W={dae:G.gz,se:X||null,wol:null,il:null},le=io(i,"",W),fe=Vr({natal:T,daewoon:G.gz,sewoon:X||void 0,wolwoon:void 0,ilwoon:void 0}),Q=Oi({natal:T,daewoon:G.gz,sewoon:X||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}),de=Lr(G.gz),we=sn(T[2]?.charAt(0)??"",G.gz.charAt(1)),se=ln({baseBranch:I,targetBranch:G.gz.charAt(1),era:M,gaehwa:C});return{:`${G.age} ${G.gz} (${G.startYear}~${G.endYear})`,:G.gz,:Object.fromEntries(Object.entries(le.elementPercent).map(([Ce,be])=>[`${Ce}(${Xi(O,Ce)})`,be])),:le.totalsSub,:vs(fe,""),:Ro(Q,""),:de?{gz:G.gz,nabeum:de.name,element:de.element,code:de.code}:null,:{pos:"",gz:G.gz,unseong:we},:{pos:"",gz:G.gz,shinsal:se}}})};U.push(yr("",ee))}for(const Y of f){const B=pt(new Date(Y,5,15)),X=b3(d,Y),ee=X.length>0?X[0]:null,G={dae:ee?ee.gz:null,se:qe(B||""),wol:null,il:null},W=io(i,"",G),le=Vr({natal:T,daewoon:ee?.gz,sewoon:qe(B||""),wolwoon:void 0,ilwoon:void 0}),fe=Oi({natal:T,daewoon:ee?.gz,sewoon:qe(B||""),wolwoon:void 0,ilwoon:void 0,basis:r}),Q=Lr(qe(B||"")),de=sn(T[2]?.charAt(0)??"",(B||"").charAt(1)),we=ln({baseBranch:I,targetBranch:(B||"").charAt(1),era:M,gaehwa:C}),se={:{:`${Y} ${qe(B||"")}`,:qe(B||""),:Object.fromEntries(Object.entries(W.elementPercent).map(([Ce,be])=>[`${Ce}(${Xi(O,Ce)})`,be])),:W.totalsSub,:vs(le,""),:Ro(fe,""),:Q?{gz:qe(B||""),nabeum:Q.name,element:Q.element,code:Q.code}:null,:{pos:"",gz:qe(B||""),unseong:de},:{pos:"",gz:qe(B||""),shinsal:we}}};U.push(yr(` ${Y}`,se))}}if(m.length>0){const ne=[],ce=new Map;for(const ee of m){const[G,W]=ee.split("-").map(Number);z0(d,G,W).forEach(de=>{ne.some(we=>we.gz===de.gz&&we.startYear===de.startYear)||ne.push(de)});const fe=Jxe(G,W);U0(G,W).forEach((de,we)=>{const se=fe[we]??fe[fe.length-1];ce.has(de)||ce.set(de,{year:se,month:W})})}const[te]=m[0].split("-").map(Number),Y=pt(new Date(te,5,15)),B=qe(Y||"");if(ne.length>0){const ee={:ne.map(G=>{const W={dae:G.gz,se:B||null,wol:null,il:null},le=io(i,"",W),fe=Vr({natal:T,daewoon:G.gz,sewoon:B||void 0,wolwoon:void 0,ilwoon:void 0}),Q=Oi({natal:T,daewoon:G.gz,sewoon:B||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}),de=Lr(G.gz),we=sn(T[2]?.charAt(0)??"",G.gz.charAt(1)),se=ln({baseBranch:I,targetBranch:G.gz.charAt(1),era:M,gaehwa:C});return{:`${G.age} ${G.gz} (${G.startYear}~${G.endYear})`,:G.gz,:Object.fromEntries(Object.entries(le.elementPercent).map(([Ce,be])=>[`${Ce}(${Xi(O,Ce)})`,be])),:le.totalsSub,:vs(fe,""),:Ro(Q,""),:de?{gz:G.gz,nabeum:de.name,element:de.element,code:de.code}:null,:{pos:"",gz:G.gz,unseong:we},:{pos:"",gz:G.gz,shinsal:se}}})};U.push(yr("",ee))}const X=Array.from(ce.keys());if(X.length>0){const ee={:X.map(G=>{const le=ce.get(G).year,Q=b3(d,le)[0]??ne[0]??null,de={dae:Q?Q.gz:null,se:G,wol:null,il:null},we=io(i,"",de),se=Vr({natal:T,daewoon:Q?.gz,sewoon:G,wolwoon:void 0,ilwoon:void 0}),Ce=Oi({natal:T,daewoon:Q?.gz,sewoon:G,wolwoon:void 0,ilwoon:void 0,basis:r}),be=Lr(G),Le=sn(T[2]?.charAt(0)??"",G.charAt(1)),Me=ln({baseBranch:I,targetBranch:G.charAt(1),era:M,gaehwa:C});return{:`${le} ${G}`,:G,:Object.fromEntries(Object.entries(we.elementPercent).map(([$e,Be])=>[`${$e}(${Xi(O,$e)})`,Be])),:we.totalsSub,:vs(se,""),:Ro(Ce,""),:be?{gz:G,nabeum:be.name,element:be.element,code:be.code}:null,:{pos:"",gz:G,unseong:Le},:{pos:"",gz:G,shinsal:Me}}})};U.push(yr("",ee))}for(const ee of m){const[G,W]=ee.split("-").map(Number),le=new Date(G,W-1,15),fe=Mt(le),Q=z0(d,G,W),de=Q.length>0?Q[0]:null,we=U0(G,W),se=we.length>0?we[we.length-1]:"",Ce={dae:de?de.gz:null,se:se||null,wol:qe(fe||""),il:null},be=io(i,"",Ce),Le=Vr({natal:T,daewoon:de?.gz,sewoon:se||void 0,wolwoon:qe(fe||""),ilwoon:void 0}),Me=Oi({natal:T,daewoon:de?.gz,sewoon:se||void 0,wolwoon:qe(fe||""),ilwoon:void 0,basis:r}),$e=Lr(qe(fe||"")),Be=sn(T[2]?.charAt(0)??"",(fe||"").charAt(1)),ye=ln({baseBranch:I,targetBranch:(fe||"").charAt(1),era:M,gaehwa:C}),Ie={:{:`${ee} ${qe(fe||"")}`,:qe(fe||""),:Object.fromEntries(Object.entries(be.elementPercent).map(([he,ge])=>[`${he}(${Xi(O,he)})`,ge])),:be.totalsSub,:vs(Le,""),:Ro(Me,""),:$e?{gz:qe(fe||""),nabeum:$e.name,element:$e.element,code:$e.code}:null,:{pos:"",gz:qe(fe||""),unseong:Be},:{pos:"",gz:qe(fe||""),shinsal:ye}}};U.push(yr(` ${ee}`,Ie))}}if(p.length>0){const ne=t.mingSikType??"/",[ce,te,Y]=p[0].split("-").map(Number),B=new Date(ce,te-1,Y,4,0);if(!isNaN(B.getTime())){const X=z0(d,ce,te),ee=X.length>0?X[0]:null,G=U0(ce,te),W=G.length>0?G[G.length-1]:"",le=Mt(new Date(ce,te-1,15)),fe=At(B,ne),Q=qe(le||""),de=qe(W||""),we=qe(fe||"");if(ee){const se={dae:ee.gz,se:de,wol:Q,il:we},Ce=io(i,"",se),be=Vr({natal:T,daewoon:ee.gz,sewoon:de,wolwoon:Q,ilwoon:we}),Le=Oi({natal:T,daewoon:ee.gz,sewoon:de,wolwoon:Q,ilwoon:we,basis:r}),Me=Lr(ee.gz),$e=sn(T[2]?.charAt(0)??"",ee.gz.charAt(1)),Be=ln({baseBranch:I,targetBranch:ee.gz.charAt(1),era:M,gaehwa:C});U.push(yr("",{:`${ee.age} ${ee.gz} (${ee.startYear}~${ee.endYear})`,:ee.gz,:Object.fromEntries(Object.entries(Ce.elementPercent).map(([ye,Ie])=>[`${ye}(${Xi(O,ye)})`,Ie])),:Ce.totalsSub,:vs(be,""),:Ro(Le,""),:Me?{gz:ee.gz,nabeum:Me.name,element:Me.element,code:Me.code}:null,:{pos:"",gz:ee.gz,unseong:$e},:{pos:"",gz:ee.gz,shinsal:Be}}))}if(de){const se={dae:ee?ee.gz:null,se:de,wol:Q,il:we},Ce=io(i,"",se),be=Vr({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we}),Le=Oi({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we,basis:r}),Me=Lr(de),$e=sn(T[2]?.charAt(0)??"",de.charAt(1)),Be=ln({baseBranch:I,targetBranch:de.charAt(1),era:M,gaehwa:C});U.push(yr("",{:`${ce} ${de}`,:de,:Object.fromEntries(Object.entries(Ce.elementPercent).map(([ye,Ie])=>[`${ye}(${Xi(O,ye)})`,Ie])),:Ce.totalsSub,:vs(be,""),:Ro(Le,""),:Me?{gz:de,nabeum:Me.name,element:Me.element,code:Me.code}:null,:{pos:"",gz:de,unseong:$e},:{pos:"",gz:de,shinsal:Be}}))}if(Q){const se={dae:ee?ee.gz:null,se:de,wol:Q,il:we},Ce=io(i,"",se),be=Vr({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we}),Le=Oi({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we,basis:r}),Me=Lr(Q),$e=sn(T[2]?.charAt(0)??"",Q.charAt(1)),Be=ln({baseBranch:I,targetBranch:Q.charAt(1),era:M,gaehwa:C});U.push(yr("",{:`${ce}-${String(te).padStart(2,"0")} ${Q}`,:Q,:Object.fromEntries(Object.entries(Ce.elementPercent).map(([ye,Ie])=>[`${ye}(${Xi(O,ye)})`,Ie])),:Ce.totalsSub,:vs(be,""),:Ro(Le,""),:Me?{gz:Q,nabeum:Me.name,element:Me.element,code:Me.code}:null,:{pos:"",gz:Q,unseong:$e},:{pos:"",gz:Q,shinsal:Be}}))}}for(const X of p){const[ee,G,W]=X.split("-").map(Number),le=new Date(ee,G-1,W,4,0);if(isNaN(le.getTime()))continue;const fe=z0(d,ee,G),Q=fe.length>0?fe[0]:null,de=U0(ee,G),we=de.length>0?de[de.length-1]:"",se=Mt(new Date(ee,G-1,15)),Ce=At(le,ne),be=qe(se||""),Le=qe(we||""),Me=qe(Ce||""),$e={dae:Q?Q.gz:null,se:Le||null,wol:be,il:Me},Be=io(i,"",$e),ye=Vr({natal:T,daewoon:Q?.gz,sewoon:Le||void 0,wolwoon:be||void 0,ilwoon:Me||void 0}),Ie=Oi({natal:T,daewoon:Q?.gz,sewoon:Le||void 0,wolwoon:be||void 0,ilwoon:Me||void 0,basis:r}),he=Lr(Me),ge=sn(T[2]?.charAt(0)??"",Me.charAt(1)),Ue=ln({baseBranch:I,targetBranch:Me.charAt(1),era:M,gaehwa:C}),ze={:{:`${X} ${Me}`,:Me,:Object.fromEntries(Object.entries(Be.elementPercent).map(([He,ut])=>[`${He}(${Xi(O,He)})`,ut])),:Be.totalsSub,:vs(ye,""),:Ro(Ie,""),:he?{gz:Me,nabeum:he.name,element:he.element,code:he.code}:null,:{pos:"",gz:Me,unseong:ge},:{pos:"",gz:Me,shinsal:Ue}}};U.push(yr(` ${X}`,ze))}}const re=U.filter(ne=>ne.trim().length>0).join(`

`),ve=Jz({topic:y,subTopic:b,timeMode:"single",teacherMode:w}),J=["-----","  ","","1.       (////)  .","2.  ,        ."];ve&&J.push("","  ( )",ve);const ae=J.join(`
`);return[H,re,ae].join(`

`)}function Jz(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:s}=e;if(!t)return"";const c=[];switch(s===!0?c.push("-   ,     (, ,   )  .","-         ,   .","-    .    .","-  ,     .","-    ,    .","- JSON/  ,     ."):c.push("- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."),r==="single"?i?c.push(`-    (${i})   ,         .`,"-   ,             ."):c.push("-    ,          ."):c.push("-  (///)  ,           .","-      ,    ,           ."),t){case"personality":{c.push("-    /  .","-  ,       ."),(!n||n==="overview"||n==="personality_basic")&&c.push("-        .","  1)   : /, , /,        ,      .","  2)   :    VS   ,   VS   ,  VS      .","  3) /:   ,     , /        .","  4)   : //  ,    ,       .","  5)  :     ,    ,       .","-          ."),n==="personality_shadow"&&c.push("-     ,              .","-           ."),n==="personality_relationshipStyle"&&c.push("-    ,   ,       /    ."),n==="personality_workStyle"&&c.push("-     ,     /      ."),n==="personality_stressPattern"&&c.push("-   ,    vs       .","-      (, , ) .");break}case"lifeFlow":{c.push("-         .","-   ,      .","-  , 20, 30    ,       .","-    ,        ."),n==="lifeFlow_turningPoint"&&c.push("-       ,        .");break}case"love":{c.push("-   //   .","-  ,   ,      ."),(!n||n==="overview"||n==="love_pattern")&&c.push("-      ,     ,       ."),n==="love_timing"&&c.push("-     ,    ,       ."),n==="love_partner"&&c.push("-    ,        ."),n==="love_current"&&c.push("-       ,     ,     ."),n==="love_breakup"&&c.push("- /   ,      ,     ."),n==="love_marriageChange"&&c.push("-          ."),a==="solo"?c.push("-  ' ,  /   ' .","-     ,      .","-    , /     ."):a==="couple"&&c.push("-  '  ,      ' .","-            .","-      /   .","-      ,        .");break}case"career":{c.push("-   ///  .","-    ,      ,     ."),(!n||n==="overview")&&c.push("-  / VS       ,    .","-    VS          ."),n==="career_aptitude"&&c.push("-   (: , ,  ,  )    ."),n==="career_mode"&&c.push("- , , ,        ."),n==="career_jobChange"&&c.push("- /   ,    ,    ."),n==="career_promotion"&&c.push("-     ,    (, ,  )  ."),(n==="career_study"||n==="career_exam")&&c.push("- /   ,        .");break}case"money":{c.push("-   //  .","-     ,  ,   ,   ."),(!n||n==="overview"||n==="money_flow")&&c.push("-   ( ,  ,  )   ."),n==="money_income"&&c.push("- , ,        ( , ,  )  ."),n==="money_spending"&&c.push("-   ,   ,        ."),(n==="money_saving"||n==="money_asset")&&c.push("-   ,        ,   ."),n==="money_debt"&&c.push("- /      ,       ."),n==="money_invest"&&c.push("- /   ,          ."),n==="money_bigEvent"&&c.push("- , ,         ,      .");break}case"family":{c.push("-   /   .","- ()  ()        ."),(!n||n==="overview"||n==="family_current")&&c.push("-        ,     ."),(n==="family_origin"||n==="family_parents")&&c.push("-     (, ,  )     ."),n==="family_siblings"&&c.push("-   (  , / ) ."),n==="family_children"&&c.push("-   ,            .");break}case"health":{c.push("-   /  .","-    ,   (, , ,  ) ."),(!n||n==="overview"||n==="health_overall")&&c.push("-   (:   /     )   ."),n==="health_physical"&&c.push("-    (, ,   )   ."),n==="health_mental"&&c.push("-    (, ,  ) ,        ."),n==="health_stress"&&c.push("-      ,      ."),n==="health_accident"&&c.push("- /   ,    ,   (, ,  )  .");break}case"move":{c.push("-   /  .","-    , ,     ."),(!n||n==="overview"||n==="move_chance")&&c.push("-    ,         ."),n==="move_timing"&&c.push("-    ,           ."),n==="move_targetHouse"&&c.push("-     ,   ,      ,      ."),n==="move_environment"&&c.push("- / (, ,  )     ."),n==="move_finance"&&c.push("- //      ,       .");break}case"social":{c.push("-   //  .","-  ,  ,      ."),(!n||n==="overview"||n==="social_overall")&&c.push("-       ."),n==="social_friend"&&c.push("-      ,      ."),n==="social_workspace"&&c.push("-      (, ,  ) ."),n==="social_network"&&c.push("-   (  vs   )    ,    ."),n==="social_conflict"&&c.push("-    ,  ,      ,    .");break}case"compat":{c.push("-   /   .","-  /  ,        ."),(!n||n==="overview"||n==="compat_overall")&&c.push("-     , //      ."),(n==="compat_love"||n==="compat_marriage")&&c.push("- /  ,  ,        ."),n==="compat_work"&&c.push("- /   ,  ,     ."),(n==="compat_family"||n==="compat_friend")&&c.push("- /       ,       .");break}case"risk":{c.push("-   /   .","-  ,        ."),(!n||n==="overview")&&c.push("- , , ,           ."),n==="risk_money"&&c.push("-   ( , ,   ) ,       ."),n==="risk_relationship"&&c.push("-      (, ,   )  ."),n==="risk_health"&&c.push("- /  ,        ."),n==="risk_lawsuit"&&c.push("-  //     ,         ."),n==="risk_burnout"&&c.push("- /    ,          .");break}case"meta":{c.push("-         .","-    ,         ,     ."),(n==="meta_structure"||!n||n==="overview")&&c.push("-     / ,     ."),n==="meta_cycle"&&c.push("- /   ,     ."),n==="meta_trigger"&&c.push("- , ,           ,   ."),n==="meta_usage"&&c.push("-         ,        .");break}}return c.join(`
`)}function twe({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=A.useMemo(()=>{const s=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${s}-${c}-${d}`},[e]),a=s=>{if(!s)return;const[c,d,f]=s.split("-"),m=Number(c),p=Number(d),y=Number(f),b=e.getHours(),w=e.getMinutes(),T=new Date(m,p,0).getDate(),S=Math.min(y,T),j=new Date(m,p-1,S,b,w);Number.isNaN(j.getTime())||t(j)};return _.jsx("input",{type:"date",value:i,onChange:s=>a(s.target.value),min:n,max:r,className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})}const vS={analysis:{label:"",desc:`-   ,   
- "     "  
- ST   `},teacher:{label:"",desc:`-   
-    
- ,     `},mentor:{label:"",desc:`-        
-   X,   X
-    ~~  `},speed:{label:"",desc:`-   
- 2~4  
-    `},dryHumor:{label:"",desc:`-   +  
-           `},softWarm:{label:"",desc:`-      
-    `},ect:{label:"",desc:"-    "}},nwe=["","","","",""],Qz={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},e8={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_3={personality:{label:"     "},lifeFlow:{label:"    "},love:{label:"    "},career:{label:"      "},money:{label:"      "},family:{label:"      "},health:{label:"      "},move:{label:"       "},social:{label:"     "},compat:{label:"   "},risk:{label:"    "},meta:{label:"    "},etc:{label:"  "}},x3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:"  "},{key:"personality_shadow",label:" "},{key:"personality_relationshipStyle",label:"  "},{key:"personality_workStyle",label:"  "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:" /"},{key:"love_partner",label:" "},{key:"love_current",label:" / "},{key:"love_breakup",label:"/ "},{key:"love_marriageChange",label:" "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs /"},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:"  "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:" "},{key:"money_asset",label:" "},{key:"money_debt",label:" "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"()"},{key:"family_current",label:" "},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:""},{key:"family_care",label:" "}],health:[{key:"overview",label:" "},{key:"health_overall",label:" "},{key:"health_physical",label:" "},{key:"health_mental",label:" "},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:"  "},{key:"move_timing",label:" "},{key:"move_chance",label:"  "},{key:"move_targetHouse",label:"   "},{key:"move_environment",label:" "},{key:"move_finance",label:" "}],social:[{key:"overview",label:" "},{key:"social_overall",label:"  "},{key:"social_friend",label:"  "},{key:"social_workspace",label:"  "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:"  "},{key:"compat_overall",label:"  "},{key:"compat_love",label:" "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:" "},{key:"compat_family",label:"  "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:" "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:"  "},{key:"meta_usage",label:"  "}],etc:[]};function Td(e){if(!e)return"";if(e.length===2)return e;const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Qz[r[1]],a=e8[r[2]];return i&&a?`${i}${a}`:""}return""}function w3(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function S3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${Qz[s[1]]}${e8[s[2]]}`:r<=2?"--":""})}function rwe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const[s,c]=A.useState("analysis"),[d,f]=A.useState(!1),[m,p]=A.useState(!1),{date:y,setDate:b}=Di();A.useEffect(()=>{b(new Date)},[e.id,b]);const{list:w,currentId:T}=ho.getState(),[S,j]=A.useState(""),[D,O]=A.useState("personality"),[M,C]=A.useState("overview"),R=A.useMemo(()=>S?w.find(_e=>_e.id===S)??null:null,[S,w]),[I,z]=A.useState(""),[q,V]=A.useState("solo");A.useEffect(()=>{D!=="love"&&D!=="compat"&&(V("solo"),j(""))},[D]);const[H,U]=A.useState(!1),[Z,re]=A.useState(""),[ve,J]=A.useState([]),[ae,ne]=A.useState(new Date().getFullYear()),[ce,te]=A.useState(new Date().getFullYear()),[Y,B]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[X,ee]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[G,W]=A.useState(()=>{const _e=new Date,Ye=_e.getFullYear(),ht=String(_e.getMonth()+1).padStart(2,"0"),_t=String(_e.getDate()).padStart(2,"0");return`${Ye}-${ht}-${_t}`}),[le,fe]=A.useState(()=>{const _e=new Date,Ye=_e.getFullYear(),ht=String(_e.getMonth()+1).padStart(2,"0"),_t=String(_e.getDate()).padStart(2,"0");return`${Ye}-${ht}-${_t}`}),Q=1e3*60*60*24;function de(_e,Ye){return(Ye.getFullYear()-_e.getFullYear())*12+(Ye.getMonth()-_e.getMonth())}function we(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}function se(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}-${String(_e.getDate()).padStart(2,"0")}`}const Ce=_e=>{ne(_e)},be=_e=>{te(_e)},Le=()=>{const _e=ae;let Ye=ce;Ye<_e&&(Ye=_e),Ye-_e>9&&(Ye=_e+9),te(Ye)},Me=()=>{let _e=ae;const Ye=ce;Ye<_e&&(_e=Ye),Ye-_e>9&&(_e=Ye-9),ne(_e)},$e=_e=>{B(_e)},Be=()=>{const[_e,Ye]=Y.split("-").map(Number),[ht,_t]=X.split("-").map(Number),ot=new Date(_e,Ye-1),gt=new Date(ht,_t-1);if(gt<ot){ee(we(ot));return}if(de(ot,gt)>11){const bt=new Date(ot);bt.setMonth(ot.getMonth()+11),ee(we(bt))}},ye=_e=>{ee(_e)},Ie=()=>{const[_e,Ye]=Y.split("-").map(Number),[ht,_t]=X.split("-").map(Number),ot=new Date(_e,Ye-1),gt=new Date(ht,_t-1);if(gt<ot){B(we(gt));return}if(de(ot,gt)>11){const bt=new Date(gt);bt.setMonth(gt.getMonth()-11),B(we(bt))}},he=_e=>{W(_e)},ge=()=>{if(!G||!le)return;const[_e,Ye,ht]=G.split("-").map(Number),[_t,ot,gt]=le.split("-").map(Number),Tt=new Date(_e,Ye-1,ht,4,0,0),bt=new Date(_t,ot-1,gt,4,0,0);if(bt<Tt){fe(se(Tt));return}if(Math.floor((bt.getTime()-Tt.getTime())/Q)>7){const kt=new Date(Tt);kt.setDate(Tt.getDate()+6),fe(se(kt))}},Ue=_e=>{fe(_e)},ze=()=>{if(!G||!le)return;const[_e,Ye,ht]=G.split("-").map(Number),[_t,ot,gt]=le.split("-").map(Number),Tt=new Date(_e,Ye-1,ht,4,0,0),bt=new Date(_t,ot-1,gt,4,0,0);if(Tt>bt){W(se(bt));return}if(Math.floor((bt.getTime()-Tt.getTime())/Q)>7){const kt=new Date(bt);kt.setDate(bt.getDate()-6),W(se(kt))}},He=e.mingSikType??"/",ut=A.useMemo(()=>{if(n)return{dae:n.dae??null,se:n.se??null,wol:n.wol??null,il:n.il??null};const _e=y??new Date,Ye=Td(pt(_e)||""),ht=Td(Mt(_e)||""),_t=Td(At(_e,He)||"");return{dae:null,se:Ye||null,wol:ht||null,il:_t||null}},[n,y,He]),it=Um.getState().manualHour,tn=A.useMemo(()=>S3(t),[t]),Kn=A.useMemo(()=>S3(i),[i]),zn=A.useMemo(()=>{const _e=[...tn];return(!_e[3]||_e[3]==="")&&it&&(_e[3]=it.stem+it.branch),_e},[tn,it]),Ur=A.useMemo(()=>{const _e=[...Kn];return(!_e[3]||_e[3]==="")&&it&&(_e[3]=it.stem+it.branch),_e},[Kn,it]),ti=A.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),Ye=Number(e.birthDay?.slice(4,6)),ht=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(Ye)||!Number.isFinite(ht))return null;const _t=new Date(_e,Ye-1,ht,12,4,0,0),ot=Td(pt(_t)||""),gt=Td(Mt(_t)||""),Tt=Td(At(_t,He)||"");return[ot,gt,Tt,""]},[e.birthDay,He]),En=w3(zn),It=w3(Ur),[Nn]=A.useState("solar"),An=Nn==="lunar"?It?"lunar":En?"solar":"lunar":En?"solar":It?"lunar":"solar",$i=A.useMemo(()=>{const Ye=[...An==="lunar"?It?Ur:En?zn:ti??["","","",""]:En?zn:It?Ur:ti??["","","",""]];return(!Ye[3]||Ye[3]==="")&&it&&(Ye[3]=it.stem+it.branch),Ye},[An,En,It,zn,Ur,ti,it]),Ks=A.useMemo(()=>it?it.stem+it.branch:$i[3]||"",[it,$i]);(!t||t.length===0)&&(t=Sy(e));const Ga=it?it.stem+it.branch:"",Un=A.useMemo(()=>{const _e=Sy(e);return Ga&&Ga.length===2&&(_e[3]=Ga),_e},[e,Ga]),Wn=A.useMemo(()=>H5({natal:Un,tab:I,chain:ut,hourKey:Ks}),[Un,I,ut,Ks]);function _o(_e){return U5(_e,{criteriaMode:"modern",useHarmonyOverlay:!0})}const mi=_o(Un),Hr=A.useMemo(()=>cA(mi),[mi]),fa=A.useMemo(()=>m5(Hr),[Hr]),Ws=A.useMemo(()=>{const _e=Uz(e).slice(0,10),Ye=e.birthDay?Number(e.birthDay.slice(0,4)):0;return _e.map((ht,_t)=>{const ot=ht.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),gt=ot?Number(ot[1]):0,Tt=ot?Number(ot[2]):1,bt=1,ir=ot?ot[3]:"",kt=Ye>0?iwe(Ye,gt):_t*10;return{gz:ir,age:kt,startYear:gt,startMonth:Tt,startDay:bt,endYear:gt+10}})},[e]),Jl=x3[D],Ql=A.useMemo(()=>e?Vxe({ms:e,natal:Un,chain:ut,basis:r,tab:I,unified:Wn,percent:Hr,category:fa,topic:D,subTopic:M,relationMode:q,teacherMode:m}):"",[e,r,a,I,ut,Wn,Hr,fa,Un,D,M,q,R,m]),qa=A.useMemo(()=>{if(!e||!H)return"";const _e=ve.map(ot=>Ws[ot]).filter(ot=>ot),Ye=Z===""?(()=>{const ot=[];for(let gt=ae;gt<=ce&&ot.length<10;gt++)ot.push(gt);return ot})():[],ht=Z===""?(()=>{const ot=[],[gt,Tt]=Y.split("-").map(Number),[bt,ir]=X.split("-").map(Number),kt=new Date(gt,Tt-1),Zs=new Date(bt,ir-1);for(;kt<=Zs&&ot.length<12;)ot.push(`${kt.getFullYear()}-${String(kt.getMonth()+1).padStart(2,"0")}`),kt.setMonth(kt.getMonth()+1);return ot})():[],_t=Z===""?(()=>{const ot=[],[gt,Tt,bt]=G.split("-").map(Number),[ir,kt,Zs]=le.split("-").map(Number),rc=new Date(gt,Tt-1,bt,4,0,0),ma=new Date(ir,kt-1,Zs,4,0,0);if(isNaN(rc.getTime())||isNaN(ma.getTime()))return ot;const Or=new Date(rc);for(;Or<=ma&&ot.length<31;){const Ko=Or.getFullYear(),ic=String(Or.getMonth()+1).padStart(2,"0"),ac=String(Or.getDate()).padStart(2,"0");ot.push(`${Ko}-${ic}-${ac}`),Or.setDate(Or.getDate()+1)}return ot})():[];return ewe({ms:e,natal:Un,basis:r,unified:Wn,percent:Hr,category:fa,selectedDaeList:_e,daeList:Ws,seYears:Ye,wolMonths:ht,ilDays:_t,topic:D,subTopic:M,teacherMode:m})},[e,H,Z,ve,Ws,ae,ce,Y,X,G,le,Un,r,a,Wn,Hr,fa,D,M,q,R,m]),ec=A.useMemo(()=>{if(q!=="couple"||!R)return"";const _e=R.name||"";let Ye="";if(R.birthDay&&R.birthDay.length===8){const gt=R.birthDay.slice(0,4),Tt=R.birthDay.slice(4,6),bt=R.birthDay.slice(6,8);Ye=`${gt}-${Tt}-${bt}`}else R.birthDay&&(Ye=R.birthDay);let ht="";if(R.birthTime&&R.birthTime.trim().length>0){const Tt=R.birthTime.trim().padEnd(4,"0").slice(0,4),bt=Tt.slice(0,2),ir=Tt.slice(2,4);ht=`${bt}:${ir}`}let _t="";R.birthPlace&&typeof R.birthPlace=="object"&&(_t=R.birthPlace.name||"");const ot=R.ganji||R.ganjiText||"";return["","","[  - () ]"," ",`-  : ${_e}`,`-  : ${Ye}`,`-   : ${ht}`,`-   : ${_t}`,`- ${ot}`,""," //,       ,","           .",""].join(`
`)},[q,R]),Vs=H?qa:Ql,tc=A.useMemo(()=>{switch(s){case"analysis":return`     .
`;case"teacher":return`    '' .
`;case"mentor":return`      .
`;case"speed":return`     .
`;case"dryHumor":return`   ,    .
`;case"softWarm":return`    .
`;default:return""}},[s]),nc=d?`   ,   .
`:"",rr=A.useMemo(()=>Vs||ec?`${Vs}${ec}
${tc}${nc}`:"",[tc,nc,Vs,ec]),[Xe,Yo]=A.useState(""),[pi,Fr]=A.useState([]);A.useEffect(()=>{Yo(""),Fr([])},[e.id]);const gn=A.useMemo(()=>{if(!rr)return"";if(pi.length===0)return rr;const _e=["","-----","     ","",...pi.map((Ye,ht)=>`${ht+1}. ${Ye}`)];return`${rr}
${_e.join(`
`)}`},[rr,pi]),[Hn,Ii]=A.useState(!1);async function ha(){if(gn)try{await navigator.clipboard.writeText(gn),Ii(!0),setTimeout(()=>Ii(!1),1200)}catch{Ii(!1)}}return e?_.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT  "}),_.jsx("button",{onClick:ha,className:`px-3 py-1 rounded-md text-xs cursor-pointer ${Hn?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:Hn?"!":" "})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[_.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),_.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(vS).map(_e=>_.jsx("button",{onClick:()=>c(_e),className:`flex-1 px-2 py-1 text-[10px] rounded border cursor-pointer ${s===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:vS[_e].label},_e))}),_.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:vS[s].desc}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"friendMode",checked:d,onChange:_e=>f(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"teacherMode",checked:m,onChange:_e=>p(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:"(/)"})]})]})]}),_.jsx("select",{value:D,onChange:_e=>{const Ye=_e.target.value;O(Ye);const ht=x3[Ye];ht.length>0?C(ht[0].key):C("overview"),Ye!=="love"&&Ye!=="compat"&&V("solo")},className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(_3).map(_e=>{const Ye=_3[_e];return _.jsx("option",{value:_e,children:Ye.label},_e)})}),Jl.length>0&&_.jsx("select",{value:M,onChange:_e=>C(_e.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Jl.map(_e=>_.jsx("option",{value:_e.key,children:_e.label},_e.key))})]}),(D==="love"||D==="compat")&&_.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:" "}),_.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[_.jsx("button",{type:"button",onClick:()=>V("solo"),className:`px-3 py-1 cursor-pointer ${q==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),_.jsx("button",{type:"button",onClick:()=>V("couple"),className:`px-3 py-1 cursor-pointer ${q==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),q==="couple"&&_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:"  "}),_.jsxs("select",{value:S,onChange:_e=>j(_e.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:"  "}),w.filter(_e=>_e.id!==T).map(_e=>_.jsxs("option",{value:_e.id,children:[_e.name||" "," ",_e.birthDay?`(${_e.birthDay})`:""]},_e.id))]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>U(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${H?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),_.jsx("button",{onClick:()=>U(!0),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${H?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:""})]}),!H&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[_.jsx("div",{className:"flex gap-1 flex-wrap",children:nwe.map(_e=>_.jsx("button",{onClick:()=>z(_e),className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${I===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:_e},_e))}),_.jsx(twe,{date:y,onChange:b})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsx("p",{children:"     ."}),_.jsx("p",{children:"  ,  ."}),_.jsx("p",{children:"   ,   ."})]})]}),H&&_.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[_.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(_e=>_.jsx("button",{onClick:()=>re(_e),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${Z===_e?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:_e},_e))}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),_.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:Ws.map((_e,Ye)=>_.jsxs("button",{onClick:()=>{J(ht=>ht.includes(Ye)?ht.filter(_t=>_t!==Ye):[...ht,Ye])},className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${ve.includes(Ye)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[_.jsx("div",{className:"font-mono",children:_e.gz}),_.jsxs("div",{className:"text-[10px] opacity-80",children:[_e.age," (",_e.startYear,"~",_e.endYear,")"]})]},Ye))})]}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",value:ae,onChange:_e=>Ce(Number(_e.target.value)),onBlur:Le,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"number",value:ce,onChange:_e=>be(Number(_e.target.value)),onBlur:Me,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",ce-ae+1,""]})]}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"month",value:Y,onChange:_e=>$e(_e.target.value),onBlur:Be,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"month",value:X,onChange:_e=>ye(_e.target.value),onBlur:Ie,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,Ye]=Y.split("-").map(Number),[ht,_t]=X.split("-").map(Number);return(ht-_e)*12+(_t-Ye)+1})(),""]})]}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"date",value:G,onChange:_e=>he(_e.target.value),onBlur:ge,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"date",value:le,onChange:_e=>Ue(_e.target.value),onBlur:ze,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,Ye,ht]=G.split("-").map(Number),[_t,ot,gt]=le.split("-").map(Number),Tt=new Date(_e,Ye-1,ht,4,0,0),bt=new Date(_t,ot-1,gt,4,0,0);return isNaN(Tt.getTime())||isNaN(bt.getTime())||bt<Tt?0:Math.floor((bt.getTime()-Tt.getTime())/Q)+1})(),""]})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsxs("p",{children:[" ",Z,"   ."]}),_.jsx("p",{children:"    ."})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),pi.length>0&&_.jsx("button",{type:"button",onClick:()=>Fr([]),className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),_.jsx("textarea",{value:Xe,onChange:_e=>Yo(_e.target.value),placeholder:" GPT     , ' '  .",rows:3,className:"w-full text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),_.jsxs("div",{className:"mb-4 text-center",children:[_.jsx("button",{type:"button",onClick:()=>{const _e=Xe.trim();_e&&(Fr(Ye=>[...Ye,_e]),Yo(""))},className:"w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer",children:" "}),pi.length>0&&_.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:[" "," ",pi.length,""]})]}),pi.length>0&&_.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:pi.map((_e,Ye)=>_.jsxs("li",{className:"flex gap-1 items-start",children:[_.jsxs("span",{className:"shrink-0",children:[Ye+1,"."]}),_.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:_e}),_.jsx("button",{type:"button",onClick:()=>{Fr(ht=>ht.filter((_t,ot)=>ot!==Ye))},className:"shrink-0 ml-2 text-[10px] text-red-500 hover:underline",children:""})]},Ye))})]}),_.jsx("textarea",{readOnly:!0,value:gn,placeholder:"   .",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):_.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"   ."})}function iwe(e,t){return t-e+1}function awe(e){const t=Di(i=>i.date),n=Di(i=>i.rule),r=Ym(e);return A.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Ky(r,t),a=i>=0?r[i]?.gz??null:null,s=pt(t),c=Mt(t),d=At(t,n);return{dae:a,se:s,wol:c,il:d}},[e,r,t,n])}function owe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(!1);A.useEffect(()=>{setTimeout(()=>t(!0),50),setTimeout(()=>r(!0),250),setTimeout(()=>a(!0),450)},[]);const m=async()=>{if(!d){BF.error(`   
  .`);return}const{error:p}=await Ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});p&&(console.error("Google Login Error:",p),alert("   ."))};return _.jsxs("main",{className:`flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[_.jsxs("div",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-16 text-center`,children:[_.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:""}),_.jsx("p",{className:"text-sm text-neutral-400",children:"    "})]}),_.jsxs("div",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[_.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),_.jsxs("p",{className:"mb-6 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",_.jsx("br",{}),"     "]}),_.jsx("div",{className:"mb-5 space-y-2",children:_.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:()=>f(!d),className:"mt-[2px]"}),_.jsxs("span",{children:["  .",_.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),_.jsxs("button",{type:"button",onClick:m,"aria-disabled":!d,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
            ${d?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-pointer"}`,children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),_.jsx("span",{children:"  "})]})]}),_.jsx(Q3,{position:"top-center",toastOptions:{duration:2e3}}),s&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:p=>p.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"( )     ,      ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsx("p",{className:"mb-2",children:"   ,  (,  )        ( ,  )"}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsx("p",{className:"mb-2",children:"                   "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsx("p",{className:"mb-2",children:"                 "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"          ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase        ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})})]})}const swe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function lwe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i]=A.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin")),a=ho(m=>m.migrateLocalToServer),s=ho(m=>m.loadFromServer),c=ho(m=>m.loading),d=Er(m=>m.loaded),f=Er(m=>m.loadFromServer);return A.useEffect(()=>{const m=Ze;(async()=>{const{data:b,error:w}=await m.auth.getSession();if(w){r(!1),t(!0);return}r(!!b.session),t(!0)})();const{data:{subscription:y}}=m.auth.onAuthStateChange((b,w)=>{r(!!w),t(!0)});return()=>{y.unsubscribe()}},[]),A.useEffect(()=>{n&&(async()=>(await a(),await s(),await f()))()},[n,a,s,f]),e?n?i?_.jsx(Bz,{}):d?c?_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(cwe,{isLoggedIn:n}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(owe,{}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})})}function cwe({isLoggedIn:e}){const{list:t}=ho(),[n,r]=A.useState(()=>t.length>0?t[0].id:""),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(null),[m,p]=A.useState(!1),[y,b]=A.useState(!1),[w,T]=A.useState(!1);A.useEffect(()=>{p(!0),b(!1)},[]);const S=A.useMemo(()=>t.find(re=>re.id===n)??t[0],[t,n]),j=t.length>0&&!!S&&typeof S.birthDay=="string",D=j?S:swe,O=A.useMemo(()=>Sy(D),[D]),M=awe(D),C=re=>typeof re=="string"&&re.length>=2,R=re=>Array.isArray(re)&&re.length===4&&re.every(C),I=()=>a(!0),{settings:z,loadFromServer:q,saveToServer:V,loaded:H}=Er();A.useEffect(()=>{e&&q()},[e,q]),A.useEffect(()=>{!e||!H||V()},[e,H,z,V]);const U=z.sinsalBase===""?"day":"year",Z=z.sinsalBase===""?"day":"year";return _.jsxs("div",{className:"min-h-screen pb-16",children:[_.jsx(Yae,{onOpenSidebar:()=>c(!0),onAddNew:I,onOpenCustom:()=>T(!0)}),_.jsx(Pxe,{open:w,onClose:()=>T(!1),onSave:re=>{r(re.id),p(!1),b(!1),c(!1)}}),_.jsx(Q3,{position:"top-center"}),_.jsx(aoe,{open:s,onClose:()=>c(!1),onView:re=>{r(re.id),c(!1),p(!1),b(!1);const ve=new Date;ve.setHours(12,0,0,0),Di.getState().setDate(ve),j&&S.id===re.id?(p(!1),b(!1),c(!1)):(r(re.id),c(!1),p(!1),b(!1))},onAddNew:I,onEdit:re=>{f(re),r(re.id),c(!1),p(!1),b(!1)},onDeleteView:()=>{const re=ho.getState().list[0]?.id??"";r(re),p(!0),b(!1)}}),m&&_.jsx(GY,{}),i&&_.jsxs(_.Fragment,{children:[_.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),_.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:_.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:_.jsx(IJ,{onSave:re=>{r(re.id),p(!1),b(!1),c(!1),requestAnimationFrame(()=>a(!1))},onClose:()=>a(!1)})})})]}),j&&!m&&!y&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(VQ,{data:S,hourTable:S.mingSikType??"/"})}),_.jsx(Exe,{ms:S}),_.jsx("div",{children:_.jsx(gae,{data:S})}),_.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:_.jsx(rwe,{ms:S,natal:R(O)?O:[],chain:M,basis:{voidBasis:U,samjaeBasis:Z},includeTenGod:!0,lunarPillars:[]})})]}),y&&_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(wxe,{people:t})}),d&&_.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:_.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:_.jsx(foe,{item:d,onClose:()=>{f(null)}})})}),_.jsx(Xae,{onShowToday:()=>{p(!0),b(!1)},onShowCouple:()=>{b(!0),p(!1)}}),_.jsx(Sxe,{})]})}TU.createRoot(document.getElementById("root")).render(_.jsx(A.StrictMode,{children:_.jsx(UH,{children:_.jsxs(yH,{children:[_.jsx(_S,{path:"/",element:_.jsx(lwe,{})}),_.jsx(_S,{path:"/admin",element:_.jsx(Bz,{})})]})})}));
