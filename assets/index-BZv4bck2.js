function m2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Im(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Lx={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function jU(){if(nN)return Sh;nN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Sh.Fragment=t,Sh.jsx=n,Sh.jsxs=n,Sh}var rN;function NU(){return rN||(rN=1,Lx.exports=jU()),Lx.exports}var _=NU();const LL="harim.theme",kS="harim.settings.v1";function IL(){try{const e=localStorage.getItem(LL);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(kS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function q0(e){try{localStorage.setItem(LL,e);const t=localStorage.getItem(kS),n=t?JSON.parse(t):{};localStorage.setItem(kS,JSON.stringify({...n,theme:e}))}catch{}}function $L(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=IL()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");$L(e)}catch{}})();var Ix={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function CU(){if(iN)return ft;iN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function j(q,K,X){this.props=q,this.context=K,this.refs=S,this.updater=X||x}j.prototype.isReactComponent={},j.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=j.prototype;function O(q,K,X){this.props=q,this.context=K,this.refs=S,this.updater=X||x}var M=O.prototype=new D;M.constructor=O,T(M,j.prototype),M.isPureReactComponent=!0;var N=Array.isArray;function I(){}var $={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function H(q,K,X){var re=X.ref;return{$$typeof:e,type:q,key:K,ref:re!==void 0?re:null,props:X}}function Z(q,K){return H(q.type,K,q.props)}function z(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function F(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return K[X]})}var Q=/\/+/g;function ee(q,K){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):K.toString(36)}function ye(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(I,I):(q.status="pending",q.then(function(K){q.status==="pending"&&(q.status="fulfilled",q.value=K)},function(K){q.status==="pending"&&(q.status="rejected",q.reason=K)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,K,X,re,V){var W=typeof q;(W==="undefined"||W==="boolean")&&(q=null);var ue=!1;if(q===null)ue=!0;else switch(W){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(q.$$typeof){case e:case t:ue=!0;break;case m:return ue=q._init,J(ue(q._payload),K,X,re,V)}}if(ue)return V=V(q),ue=re===""?"."+ee(q,0):re,N(V)?(X="",ue!=null&&(X=ue.replace(Q,"$&/")+"/"),J(V,K,X,"",function(se){return se})):V!=null&&(z(V)&&(V=Z(V,X+(V.key==null||q&&q.key===V.key?"":(""+V.key).replace(Q,"$&/")+"/")+ue)),K.push(V)),1;ue=0;var te=re===""?".":re+":";if(N(q))for(var Y=0;Y<q.length;Y++)re=q[Y],W=te+ee(re,Y),ue+=J(re,K,X,W,V);else if(Y=b(q),typeof Y=="function")for(q=Y.call(q),Y=0;!(re=q.next()).done;)re=re.value,W=te+ee(re,Y++),ue+=J(re,K,X,W,V);else if(W==="object"){if(typeof q.then=="function")return J(ye(q),K,X,re,V);throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ue}function le(q,K,X){if(q==null)return q;var re=[],V=0;return J(q,re,"","",function(W){return K.call(X,W,V++)}),re}function ae(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var he=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ne={map:le,forEach:function(q,K,X){le(q,function(){K.apply(this,arguments)},X)},count:function(q){var K=0;return le(q,function(){K++}),K},toArray:function(q){return le(q,function(K){return K})||[]},only:function(q){if(!z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return ft.Activity=p,ft.Children=ne,ft.Component=j,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=O,ft.StrictMode=r,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ft.__COMPILER_RUNTIME={__proto__:null,c:function(q){return $.H.useMemoCache(q)}},ft.cache=function(q){return function(){return q.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(q,K,X){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var re=T({},q.props),V=q.key;if(K!=null)for(W in K.key!==void 0&&(V=""+K.key),K)!B.call(K,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&K.ref===void 0||(re[W]=K[W]);var W=arguments.length-2;if(W===1)re.children=X;else if(1<W){for(var ue=Array(W),te=0;te<W;te++)ue[te]=arguments[te+2];re.children=ue}return H(q.type,V,re)},ft.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},ft.createElement=function(q,K,X){var re,V={},W=null;if(K!=null)for(re in K.key!==void 0&&(W=""+K.key),K)B.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(V[re]=K[re]);var ue=arguments.length-2;if(ue===1)V.children=X;else if(1<ue){for(var te=Array(ue),Y=0;Y<ue;Y++)te[Y]=arguments[Y+2];V.children=te}if(q&&q.defaultProps)for(re in ue=q.defaultProps,ue)V[re]===void 0&&(V[re]=ue[re]);return H(q,W,V)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(q){return{$$typeof:c,render:q}},ft.isValidElement=z,ft.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:ae}},ft.memo=function(q,K){return{$$typeof:f,type:q,compare:K===void 0?null:K}},ft.startTransition=function(q){var K=$.T,X={};$.T=X;try{var re=q(),V=$.S;V!==null&&V(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(I,he)}catch(W){he(W)}finally{K!==null&&X.types!==null&&(K.types=X.types),$.T=K}},ft.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ft.use=function(q){return $.H.use(q)},ft.useActionState=function(q,K,X){return $.H.useActionState(q,K,X)},ft.useCallback=function(q,K){return $.H.useCallback(q,K)},ft.useContext=function(q){return $.H.useContext(q)},ft.useDebugValue=function(){},ft.useDeferredValue=function(q,K){return $.H.useDeferredValue(q,K)},ft.useEffect=function(q,K){return $.H.useEffect(q,K)},ft.useEffectEvent=function(q){return $.H.useEffectEvent(q)},ft.useId=function(){return $.H.useId()},ft.useImperativeHandle=function(q,K,X){return $.H.useImperativeHandle(q,K,X)},ft.useInsertionEffect=function(q,K){return $.H.useInsertionEffect(q,K)},ft.useLayoutEffect=function(q,K){return $.H.useLayoutEffect(q,K)},ft.useMemo=function(q,K){return $.H.useMemo(q,K)},ft.useOptimistic=function(q,K){return $.H.useOptimistic(q,K)},ft.useReducer=function(q,K,X){return $.H.useReducer(q,K,X)},ft.useRef=function(q){return $.H.useRef(q)},ft.useState=function(q){return $.H.useState(q)},ft.useSyncExternalStore=function(q,K,X){return $.H.useSyncExternalStore(q,K,X)},ft.useTransition=function(){return $.H.useTransition()},ft.version="19.2.1",ft}var aN;function sf(){return aN||(aN=1,Ix.exports=CU()),Ix.exports}var A=sf();const hn=Pi(A),MU=m2({__proto__:null,default:hn},[A]);var $x={exports:{}},Eh={},Bx={exports:{}},zx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function DU(){return oN||(oN=1,(function(e){function t(J,le){var ae=J.length;J.push(le);e:for(;0<ae;){var he=ae-1>>>1,ne=J[he];if(0<i(ne,le))J[he]=le,J[ae]=ne,ae=he;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],ae=J.pop();if(ae!==le){J[0]=ae;e:for(var he=0,ne=J.length,q=ne>>>1;he<q;){var K=2*(he+1)-1,X=J[K],re=K+1,V=J[re];if(0>i(X,ae))re<ne&&0>i(V,X)?(J[he]=V,J[re]=ae,he=re):(J[he]=X,J[K]=ae,he=K);else if(re<ne&&0>i(V,ae))J[he]=V,J[re]=ae,he=re;else break e}}return le}function i(J,le){var ae=J.sortIndex-le.sortIndex;return ae!==0?ae:J.id-le.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],m=1,p=null,y=3,b=!1,x=!1,T=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(J){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=J)r(f),le.sortIndex=le.expirationTime,t(d,le);else break;le=n(f)}}function N(J){if(T=!1,M(J),!x)if(n(d)!==null)x=!0,I||(I=!0,F());else{var le=n(f);le!==null&&ye(N,le.startTime-J)}}var I=!1,$=-1,B=5,H=-1;function Z(){return S?!0:!(e.unstable_now()-H<B)}function z(){if(S=!1,I){var J=e.unstable_now();H=J;var le=!0;try{e:{x=!1,T&&(T=!1,D($),$=-1),b=!0;var ae=y;try{t:{for(M(J),p=n(d);p!==null&&!(p.expirationTime>J&&Z());){var he=p.callback;if(typeof he=="function"){p.callback=null,y=p.priorityLevel;var ne=he(p.expirationTime<=J);if(J=e.unstable_now(),typeof ne=="function"){p.callback=ne,M(J),le=!0;break t}p===n(d)&&r(d),M(J)}else r(d);p=n(d)}if(p!==null)le=!0;else{var q=n(f);q!==null&&ye(N,q.startTime-J),le=!1}}break e}finally{p=null,y=ae,b=!1}le=void 0}}finally{le?F():I=!1}}}var F;if(typeof O=="function")F=function(){O(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=z,F=function(){ee.postMessage(null)}}else F=function(){j(z,0)};function ye(J,le){$=j(function(){J(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(J){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var ae=y;y=le;try{return J()}finally{y=ae}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=y;y=J;try{return le()}finally{y=ae}},e.unstable_scheduleCallback=function(J,le,ae){var he=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?he+ae:he):ae=he,J){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ae+ne,J={id:m++,callback:le,priorityLevel:J,startTime:ae,expirationTime:ne,sortIndex:-1},ae>he?(J.sortIndex=ae,t(f,J),n(d)===null&&J===n(f)&&(T?(D($),$=-1):T=!0,ye(N,ae-he))):(J.sortIndex=ne,t(d,J),x||b||(x=!0,I||(I=!0,F()))),J},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(J){var le=y;return function(){var ae=y;y=le;try{return J.apply(this,arguments)}finally{y=ae}}}})(zx)),zx}var sN;function PU(){return sN||(sN=1,Bx.exports=DU()),Bx.exports}var Ux={exports:{}},Kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function RU(){if(lN)return Kr;lN=1;var e=sf();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,m)},Kr.flushSync=function(d){var f=s.T,m=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=f,r.p=m,r.d.f()}},Kr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Kr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Kr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Kr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Kr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Kr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Kr.requestFormReset=function(d){r.d.r(d)},Kr.unstable_batchedUpdates=function(d,f){return d(f)},Kr.useFormState=function(d,f,m){return s.H.useFormState(d,f,m)},Kr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Kr.version="19.2.1",Kr}var cN;function BL(){if(cN)return Ux.exports;cN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ux.exports=RU(),Ux.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function LU(){if(uN)return Eh;uN=1;var e=PU(),t=sf(),n=BL();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var h=o,v=l;;){var E=h.return;if(E===null)break;var k=E.alternate;if(k===null){if(v=E.return,v!==null){h=v;continue}break}if(E.child===k.child){for(k=E.child;k;){if(k===h)return d(E),o;if(k===v)return d(E),l;k=k.sibling}throw Error(r(188))}if(h.return!==v.return)h=E,v=k;else{for(var R=!1,G=E.child;G;){if(G===h){R=!0,h=E,v=k;break}if(G===v){R=!0,v=E,h=k;break}G=G.sibling}if(!R){for(G=k.child;G;){if(G===h){R=!0,h=k,v=E;break}if(G===v){R=!0,v=k,h=E;break}G=G.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function ee(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList";case H:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case O:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case M:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return l=o.displayName||null,l!==null?l:ee(o.type)||"Memo";case B:l=o._payload,o=o._init;try{return ee(o(l))}catch{}}return null}var ye=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},he=[],ne=-1;function q(o){return{current:o}}function K(o){0>ne||(o.current=he[ne],he[ne]=null,ne--)}function X(o,l){ne++,he[ne]=o.current,o.current=l}var re=q(null),V=q(null),W=q(null),ue=q(null);function te(o,l){switch(X(W,l),X(V,o),X(re,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?Aj(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=Aj(l),o=Tj(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}K(re),X(re,o)}function Y(){K(re),K(V),K(W)}function se(o){o.memoizedState!==null&&X(ue,o);var l=re.current,h=Tj(l,o.type);l!==h&&(X(V,o),X(re,h))}function Se(o){V.current===o&&(K(re),K(V)),ue.current===o&&(K(ue),bh._currentValue=ae)}var ce,Ne;function me(o){if(ce===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ce=l&&l[1]||"",Ne=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+o+Ne}var Te=!1;function De(o,l){if(!o||Te)return"";Te=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ke){var Ae=ke}Reflect.construct(o,[],Re)}else{try{Re.call()}catch(ke){Ae=ke}o.call(Re.prototype)}}else{try{throw Error()}catch(ke){Ae=ke}(Re=o())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ke){if(ke&&Ae&&typeof ke.stack=="string")return[ke.stack,Ae.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),R=k[0],G=k[1];if(R&&G){var oe=R.split(`
`),we=G.split(`
`);for(E=v=0;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;for(;E<we.length&&!we[E].includes("DetermineComponentFrameRoot");)E++;if(v===oe.length||E===we.length)for(v=oe.length-1,E=we.length-1;1<=v&&0<=E&&oe[v]!==we[E];)E--;for(;1<=v&&0<=E;v--,E--)if(oe[v]!==we[E]){if(v!==1||E!==1)do if(v--,E--,0>E||oe[v]!==we[E]){var Ce=`
`+oe[v].replace(" at new "," at ");return o.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",o.displayName)),Ce}while(1<=v&&0<=E);break}}}finally{Te=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?me(h):""}function Le(o,l){switch(o.tag){case 26:case 27:case 5:return me(o.type);case 16:return me("Lazy");case 13:return o.child!==l&&l!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return De(o.type,!1);case 11:return De(o.type.render,!1);case 1:return De(o.type,!0);case 31:return me("Activity");default:return""}}function Be(o){try{var l="",h=null;do l+=Le(o,h),h=o,o=o.return;while(o);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var ge=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,de=e.unstable_cancelCallback,pe=e.unstable_shouldYield,$e=e.unstable_requestPaint,ze=e.unstable_now,Fe=e.unstable_getCurrentPriorityLevel,ct=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,Dt=e.unstable_NormalPriority,_t=e.unstable_LowPriority,Pn=e.unstable_IdlePriority,Br=e.log,zr=e.unstable_setDisableYieldValue,Rn=null,qt=null;function rn(o){if(typeof Br=="function"&&zr(o),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Rn,o)}catch{}}var an=Math.clz32?Math.clz32:Jo,da=Math.log,Qs=Math.LN2;function Jo(o){return o>>>=0,o===0?32:31-(da(o)/Qs|0)|0}var Ur=256,Wn=262144,Hr=4194304;function Fr(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ga(o,l,h){var v=o.pendingLanes;if(v===0)return 0;var E=0,k=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var G=v&134217727;return G!==0?(v=G&~k,v!==0?E=Fr(v):(R&=G,R!==0?E=Fr(R):h||(h=G&~o,h!==0&&(E=Fr(h))))):(G=v&~k,G!==0?E=Fr(G):R!==0?E=Fr(R):h||(h=v&~o,h!==0&&(E=Fr(h)))),E===0?0:l!==0&&l!==E&&(l&k)===0&&(k=E&-E,h=l&-l,k>=h||k===32&&(h&4194048)!==0)?l:E}function _o(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function xo(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var o=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),o}function wo(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function fa(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function kf(o,l,h,v,E,k){var R=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var G=o.entanglements,oe=o.expirationTimes,we=o.hiddenUpdates;for(h=R&~h;0<h;){var Ce=31-an(h),Re=1<<Ce;G[Ce]=0,oe[Ce]=-1;var Ae=we[Ce];if(Ae!==null)for(we[Ce]=null,Ce=0;Ce<Ae.length;Ce++){var ke=Ae[Ce];ke!==null&&(ke.lane&=-536870913)}h&=~Re}v!==0&&ku(o,v,0),k!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=k&~(R&~l))}function ku(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var v=31-an(l);o.entangledLanes|=l,o.entanglements[v]=o.entanglements[v]|1073741824|h&261930}function So(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var v=31-an(h),E=1<<v;E&l|o[v]&l&&(o[v]|=l),h&=~E}}function Eo(o,l){var h=l&-l;return h=(h&42)!==0?1:Ar(h),(h&(o.suspendedLanes|l))!==0?0:h}function Ar(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xe(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ao(){var o=le.p;return o!==0?o:(o=window.event,o===void 0?32:Vj(o.type))}function el(o,l){var h=le.p;try{return le.p=o,l()}finally{le.p=h}}var ni=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ni,kn="__reactProps$"+ni,pi="__reactContainer$"+ni,gi="__reactEvents$"+ni,nc="__reactListeners$"+ni,rc="__reactHandles$"+ni,ic="__reactResources$"+ni,qa="__reactMarker$"+ni;function es(o){delete o[Yt],delete o[kn],delete o[gi],delete o[nc],delete o[rc]}function Ii(o){var l=o[Yt];if(l)return l;for(var h=o.parentNode;h;){if(l=h[pi]||h[Yt]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=Dj(o);o!==null;){if(h=o[Yt])return h;o=Dj(o)}return l}o=h,h=o.parentNode}return null}function To(o){if(o=o[Yt]||o[pi]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function ha(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function _e(o){var l=o[ic];return l||(l=o[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function He(o){o[qa]=!0}var ht=new Set,At={};function rt(o,l){mt(o,l),mt(o+"Capture",l)}function mt(o,l){for(At[o]=l,o=0;o<l.length;o++)ht.add(l[o])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},Gr={};function On(o){return ge.call(Gr,o)?!0:ge.call(Nt,o)?!1:jt.test(o)?Gr[o]=!0:(Nt[o]=!0,!1)}function vt(o,l,h){if(On(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function Bt(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function Tr(o,l,h,v){if(v===null)o.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+v)}}function on(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ya(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ac(o,l,h){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,k=v.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return E.call(this)},set:function(R){h=""+R,k.call(this,R)}}),Object.defineProperty(o,l,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ut(o){if(!o._valueTracker){var l=Ya(o)?"checked":"value";o._valueTracker=ac(o,l,""+o[l])}}function _n(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return o&&(v=Ya(o)?o.checked?"true":"false":o.value),o=v,o!==h?(l.setValue(o),!0):!1}function tl(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ou=/[\n"\\]/g;function pn(o){return o.replace(Ou,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Of(o,l,h,v,E,k,R,G){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),l!=null?R==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+on(l)):o.value!==""+on(l)&&(o.value=""+on(l)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),l!=null?Ka(o,R,on(l)):h!=null?Ka(o,R,on(h)):v!=null&&o.removeAttribute("value"),E==null&&k!=null&&(o.defaultChecked=!!k),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.name=""+on(G):o.removeAttribute("name")}function oc(o,l,h,v,E,k,R,G){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),l!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||l!=null)){ut(o);return}h=h!=null?""+on(h):"",l=l!=null?""+on(l):h,G||l===o.value||(o.value=l),o.defaultValue=l}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=G?o.checked:!!v,o.defaultChecked=!!v,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),ut(o)}function Ka(o,l,h){l==="number"&&tl(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function en(o,l,h,v){if(o=o.options,l){l={};for(var E=0;E<h.length;E++)l["$"+h[E]]=!0;for(h=0;h<o.length;h++)E=l.hasOwnProperty("$"+o[h].value),o[h].selected!==E&&(o[h].selected=E),E&&v&&(o[h].defaultSelected=!0)}else{for(h=""+on(h),l=null,E=0;E<o.length;E++){if(o[E].value===h){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}l!==null||o[E].disabled||(l=o[E])}l!==null&&(l.selected=!0)}}function ko(o,l,h){if(l!=null&&(l=""+on(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+on(h):""}function nl(o,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(r(92));if(ye(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=on(l),o.defaultValue=h,v=o.textContent,v===h&&v!==""&&v!==null&&(o.value=v),ut(o)}function ma(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var jf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(o,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":v?o.setProperty(l,h):typeof h!="number"||h===0||jf.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function ju(o,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in l)v=l[E],l.hasOwnProperty(E)&&h[E]!==v&&rl(o,E,v)}else for(var k in l)l.hasOwnProperty(k)&&rl(o,k,l[k])}function sc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(o){return Nf.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function vi(){}var Cu=null;function lc(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var al=null,lt=null;function $i(o){var l=To(o);if(l&&(o=l.stateNode)){var h=o[kn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Of(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+pn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==o&&v.form===o.form){var E=v[kn]||null;if(!E)throw Error(r(90));Of(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===o.form&&_n(v)}break e;case"textarea":ko(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&en(o,!!h.multiple,l,!1)}}}var Ht=!1;function Cf(o,l,h){if(Ht)return o(l,h);Ht=!0;try{var v=o(l);return v}finally{if(Ht=!1,(al!==null||lt!==null)&&(hg(),al&&(l=al,o=lt,lt=al=null,$i(l),o)))for(l=0;l<o.length;l++)$i(o[l])}}function ts(o,l){var h=o.stateNode;if(h===null)return null;var v=h[kn]||null;if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(Bi)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){cc=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{cc=!1}var pa=null,ns=null,Ln=null;function Oo(){if(Ln)return Ln;var o,l=ns,h=l.length,v,E="value"in pa?pa.value:pa.textContent,k=E.length;for(o=0;o<h&&l[o]===E[o];o++);var R=h-o;for(v=1;v<=R&&l[h-v]===E[k-v];v++);return Ln=E.slice(o,1<v?1-v:void 0)}function uc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function dc(){return!0}function yp(){return!1}function kr(o){function l(h,v,E,k,R){this._reactName=h,this._targetInst=E,this.type=v,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var G in o)o.hasOwnProperty(G)&&(h=o[G],this[G]=h?h(k):k[G]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?dc:yp,this.isPropagationStopped=yp,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),l}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=kr(Wa),ol=p({},Wa,{view:0,detail:0}),Tt=kr(ol),Mf,ri,Va,fc=p({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Va&&(Va&&o.type==="mousemove"?(Mf=o.screenX-Va.screenX,ri=o.screenY-Va.screenY):ri=Mf=0,Va=o),Mf)},movementY:function(o){return"movementY"in o?o.movementY:ri}}),bp=kr(fc),Df=p({},fc,{dataTransfer:0}),Yb=kr(Df),_p=p({},ol,{relatedTarget:0}),Pf=kr(_p),Kb=p({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Rf=kr(Kb),Wb=p({},Wa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ga=kr(Wb),Vb=p({},Wa,{data:0}),Lf=kr(Vb),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=wp[o])?!!l[o]:!1}function $f(){return If}var Sp=p({},ol,{key:function(o){if(o.key){var l=jo[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=uc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?xp[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(o){return o.type==="keypress"?uc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?uc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ep=kr(Sp),Zb=p({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=kr(Zb),Bf=p({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),Xb=kr(Bf),Tp=p({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=kr(Tp),Du=p({},fc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),rs=kr(Du),Jb=p({},Wa,{newState:0,oldState:0}),hc=kr(Jb),yi=[9,13,27,32],Pu=Bi&&"CompositionEvent"in window,sl=null;Bi&&"documentMode"in document&&(sl=document.documentMode);var Qb=Bi&&"TextEvent"in window&&!sl,Ru=Bi&&(!Pu||sl&&8<sl&&11>=sl),Lu=" ",Op=!1;function jp(o,l){switch(o){case"keyup":return yi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ll=!1;function Ui(o,l){switch(o){case"compositionend":return zf(l);case"keypress":return l.which!==32?null:(Op=!0,Lu);case"textInput":return o=l.data,o===Lu&&Op?null:o;default:return null}}function cl(o,l){if(ll)return o==="compositionend"||!Pu&&jp(o,l)?(o=Oo(),Ln=ns=pa=null,ll=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ru&&l.locale!=="ko"?null:l.data;default:return null}}var e_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function va(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!e_[o.type]:l==="textarea"}function Np(o,l,h,v){al?lt?lt.push(v):lt=[v]:al=v,l=_g(l,"onChange"),0<l.length&&(h=new Mu("onChange","change",null,h,v),o.push({event:h,listeners:l}))}var ya=null,mc=null;function pc(o){bj(o,0)}function gc(o){var l=ha(o);if(_n(l))return o}function vc(o,l){if(o==="change")return l}var Cp=!1;if(Bi){var ba;if(Bi){var ul="oninput"in document;if(!ul){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),ul=typeof Mp.oninput=="function"}ba=ul}else ba=!1;Cp=ba&&(!document.documentMode||9<document.documentMode)}function Iu(){ya&&(ya.detachEvent("onpropertychange",Dp),mc=ya=null)}function Dp(o){if(o.propertyName==="value"&&gc(mc)){var l=[];Np(l,mc,o,lc(o)),Cf(pc,l)}}function Za(o,l,h){o==="focusin"?(Iu(),ya=l,mc=h,ya.attachEvent("onpropertychange",Dp)):o==="focusout"&&Iu()}function t_(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return gc(mc)}function dl(o,l){if(o==="click")return gc(l)}function n_(o,l){if(o==="input"||o==="change")return gc(l)}function Xa(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var fr=typeof Object.is=="function"?Object.is:Xa;function fl(o,l){if(fr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var E=h[v];if(!ge.call(l,E)||!fr(o[E],l[E]))return!1}return!0}function $u(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function yc(o,l){var h=$u(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=l&&v>=l)return{node:h,offset:l-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$u(h)}}function Bu(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Bu(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function bc(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=tl(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=tl(o.document)}return l}function No(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var zu=Bi&&"documentMode"in document&&11>=document.documentMode,Co=null,Uu=null,_c=null,hl=!1;function Pp(o,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hl||Co==null||Co!==tl(v)||(v=Co,"selectionStart"in v&&No(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),_c&&fl(_c,v)||(_c=v,v=_g(Uu,"onSelect"),0<v.length&&(l=new Mu("onSelect","select",null,l,h),o.push({event:l,listeners:v}),l.target=Co)))}function Mo(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var ml={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionrun:Mo("Transition","TransitionRun"),transitionstart:Mo("Transition","TransitionStart"),transitioncancel:Mo("Transition","TransitionCancel"),transitionend:Mo("Transition","TransitionEnd")},Hu={},Rp={};Bi&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function hr(o){if(Hu[o])return Hu[o];if(!ml[o])return o;var l=ml[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Rp)return Hu[o]=l[h];return o}var xc=hr("animationend"),Lp=hr("animationiteration"),wc=hr("animationstart"),r_=hr("transitionrun"),Ip=hr("transitionstart"),i_=hr("transitioncancel"),pl=hr("transitionend"),$p=new Map,Do="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Do.push("scrollEnd");function bi(o,l){$p.set(o,l),rt(l,[o])}var Sc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},_i=[],qr=0,Fu=0;function Ec(){for(var o=qr,l=Fu=qr=0;l<o;){var h=_i[l];_i[l++]=null;var v=_i[l];_i[l++]=null;var E=_i[l];_i[l++]=null;var k=_i[l];if(_i[l++]=null,v!==null&&E!==null){var R=v.pending;R===null?E.next=E:(E.next=R.next,R.next=E),v.pending=E}k!==0&&gl(h,E,k)}}function Po(o,l,h,v){_i[qr++]=o,_i[qr++]=l,_i[qr++]=h,_i[qr++]=v,Fu|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Uf(o,l,h,v){return Po(o,l,h,v),Ac(o)}function _a(o,l){return Po(o,null,null,l),Ac(o)}function gl(o,l,h){o.lanes|=h;var v=o.alternate;v!==null&&(v.lanes|=h);for(var E=!1,k=o.return;k!==null;)k.childLanes|=h,v=k.alternate,v!==null&&(v.childLanes|=h),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(E=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,E&&l!==null&&(E=31-an(h),o=k.hiddenUpdates,v=o[E],v===null?o[E]=[l]:v.push(l),l.lane=h|536870912),k):null}function Ac(o){if(50<fh)throw fh=0,ox=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var is={};function a_(o,l,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(o,l,h,v){return new a_(o,l,h,v)}function Gu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function xa(o,l){var h=o.alternate;return h===null?(h=Yr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Hf(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Tc(o,l,h,v,E,k){var R=0;if(v=o,typeof o=="function")Gu(o)&&(R=1);else if(typeof o=="string")R=vU(o,h,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case H:return o=Yr(31,h,l,E),o.elementType=H,o.lanes=k,o;case T:return as(h.children,E,k,l);case S:R=8,E|=24;break;case j:return o=Yr(12,h,l,E|2),o.elementType=j,o.lanes=k,o;case N:return o=Yr(13,h,l,E),o.elementType=N,o.lanes=k,o;case I:return o=Yr(19,h,l,E),o.elementType=I,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:R=10;break e;case D:R=9;break e;case M:R=11;break e;case $:R=14;break e;case B:R=16,v=null;break e}R=29,h=Error(r(130,o===null?"null":typeof o,"")),v=null}return l=Yr(R,h,l,E),l.elementType=o,l.type=v,l.lanes=k,l}function as(o,l,h,v){return o=Yr(7,o,v,l),o.lanes=h,o}function qu(o,l,h){return o=Yr(6,o,null,l),o.lanes=h,o}function Ff(o){var l=Yr(18,null,null,0);return l.stateNode=o,l}function Gf(o,l,h){return l=Yr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var u=new WeakMap;function g(o,l){if(typeof o=="object"&&o!==null){var h=u.get(o);return h!==void 0?h:(l={value:o,source:l,stack:Be(l)},u.set(o,l),l)}return{value:o,source:l,stack:Be(l)}}var w=[],C=0,P=null,U=0,ie=[],be=0,Ee=null,Pe=1,qe="";function et(o,l){w[C++]=U,w[C++]=P,P=o,U=l}function yt(o,l,h){ie[be++]=Pe,ie[be++]=qe,ie[be++]=Ee,Ee=o;var v=Pe;o=qe;var E=32-an(v)-1;v&=~(1<<E),h+=1;var k=32-an(l)+E;if(30<k){var R=E-E%5;k=(v&(1<<R)-1).toString(32),v>>=R,E-=R,Pe=1<<32-an(l)+E|h<<E|v,qe=k+o}else Pe=1<<k|h<<E|v,qe=o}function rr(o){o.return!==null&&(et(o,1),yt(o,1,0))}function In(o){for(;o===P;)P=w[--C],w[C]=null,U=w[--C],w[C]=null;for(;o===Ee;)Ee=ie[--be],ie[be]=null,qe=ie[--be],ie[be]=null,Pe=ie[--be],ie[be]=null}function ii(o,l){ie[be++]=Pe,ie[be++]=qe,ie[be++]=Ee,Pe=l.id,qe=l.overflow,Ee=o}var Pt=null,Rt=null,xt=!1,Ro=null,xi=!1,Yu=Error(r(519));function Lo(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kc(g(l,o)),Yu}function qf(o){var l=o.stateNode,h=o.type,v=o.memoizedProps;switch(l[Yt]=o,l[kn]=v,h){case"dialog":St("cancel",l),St("close",l);break;case"iframe":case"object":case"embed":St("load",l);break;case"video":case"audio":for(h=0;h<mh.length;h++)St(mh[h],l);break;case"source":St("error",l);break;case"img":case"image":case"link":St("error",l),St("load",l);break;case"details":St("toggle",l);break;case"input":St("invalid",l),oc(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":St("invalid",l);break;case"textarea":St("invalid",l),nl(l,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||Sj(l.textContent,h)?(v.popover!=null&&(St("beforetoggle",l),St("toggle",l)),v.onScroll!=null&&St("scroll",l),v.onScrollEnd!=null&&St("scrollend",l),v.onClick!=null&&(l.onclick=vi),l=!0):l=!1,l||Lo(o,!0)}function jn(o){for(Pt=o.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Pt=Pt.return}}function Ja(o){if(o!==Pt)return!1;if(!xt)return jn(o),xt=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||xx(o.type,o.memoizedProps)),h=!h),h&&Rt&&Lo(o),jn(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rt=Mj(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rt=Mj(o)}else l===27?(l=Rt,Nl(o.type)?(o=Tx,Tx=null,Rt=o):Rt=l):Rt=Pt?Sa(o.stateNode.nextSibling):null;return!0}function os(){Rt=Pt=null,xt=!1}function Yf(){var o=Ro;return o!==null&&(Ai===null?Ai=o:Ai.push.apply(Ai,o),Ro=null),o}function kc(o){Ro===null?Ro=[o]:Ro.push(o)}var Oc=q(null),Io=null,Qa=null;function vl(o,l,h){X(Oc,l._currentValue),l._currentValue=h}function ss(o){o._currentValue=Oc.current,K(Oc)}function o_(o,l,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===h)break;o=o.return}}function s_(o,l,h,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var k=E.dependencies;if(k!==null){var R=E.child;k=k.firstContext;e:for(;k!==null;){var G=k;k=E;for(var oe=0;oe<l.length;oe++)if(G.context===l[oe]){k.lanes|=h,G=k.alternate,G!==null&&(G.lanes|=h),o_(k.return,h,o),v||(R=null);break e}k=G.next}}else if(E.tag===18){if(R=E.return,R===null)throw Error(r(341));R.lanes|=h,k=R.alternate,k!==null&&(k.lanes|=h),o_(R,h,o),R=null}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===o){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}}function Ku(o,l,h,v){o=null;for(var E=l,k=!1;E!==null;){if(!k){if((E.flags&524288)!==0)k=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var R=E.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var G=E.type;fr(E.pendingProps.value,R.value)||(o!==null?o.push(G):o=[G])}}else if(E===ue.current){if(R=E.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(bh):o=[bh])}E=E.return}o!==null&&s_(l,o,h,v),l.flags|=262144}function Bp(o){for(o=o.firstContext;o!==null;){if(!fr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function jc(o){Io=o,Qa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Or(o){return lk(Io,o)}function zp(o,l){return Io===null&&jc(o),lk(o,l)}function lk(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Qa===null){if(o===null)throw Error(r(308));Qa=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Qa=Qa.next=l;return h}var h8=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,v){o.push(v)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},m8=e.unstable_scheduleCallback,p8=e.unstable_NormalPriority,Vn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l_(){return{controller:new h8,data:new Map,refCount:0}}function Kf(o){o.refCount--,o.refCount===0&&m8(p8,function(){o.controller.abort()})}var Wf=null,c_=0,Wu=0,Vu=null;function g8(o,l){if(Wf===null){var h=Wf=[];c_=0,Wu=fx(),Vu={status:"pending",value:void 0,then:function(v){h.push(v)}}}return c_++,l.then(ck,ck),l}function ck(){if(--c_===0&&Wf!==null){Vu!==null&&(Vu.status="fulfilled");var o=Wf;Wf=null,Wu=0,Vu=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function v8(o,l){var h=[],v={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return o.then(function(){v.status="fulfilled",v.value=l;for(var E=0;E<h.length;E++)(0,h[E])(l)},function(E){for(v.status="rejected",v.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),v}var uk=J.S;J.S=function(o,l){KO=ze(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&g8(o,l),uk!==null&&uk(o,l)};var Nc=q(null);function u_(){var o=Nc.current;return o!==null?o:tn.pooledCache}function Up(o,l){l===null?X(Nc,Nc.current):X(Nc,l.pool)}function dk(){var o=u_();return o===null?null:{parent:Vn._currentValue,pool:o}}var Zu=Error(r(460)),d_=Error(r(474)),Hp=Error(r(542)),Fp={then:function(){}};function fk(o){return o=o.status,o==="fulfilled"||o==="rejected"}function hk(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(vi,vi),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,pk(o),o;default:if(typeof l.status=="string")l.then(vi,vi);else{if(o=tn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(v){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=v}},function(v){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,pk(o),o}throw Mc=l,Zu}}function Cc(o){try{var l=o._init;return l(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Mc=h,Zu):h}}var Mc=null;function mk(){if(Mc===null)throw Error(r(459));var o=Mc;return Mc=null,o}function pk(o){if(o===Zu||o===Hp)throw Error(r(483))}var Xu=null,Vf=0;function Gp(o){var l=Vf;return Vf+=1,Xu===null&&(Xu=[]),hk(Xu,o,l)}function Zf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function qp(o,l){throw l.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function gk(o){function l(ve,fe){if(o){var xe=ve.deletions;xe===null?(ve.deletions=[fe],ve.flags|=16):xe.push(fe)}}function h(ve,fe){if(!o)return null;for(;fe!==null;)l(ve,fe),fe=fe.sibling;return null}function v(ve){for(var fe=new Map;ve!==null;)ve.key!==null?fe.set(ve.key,ve):fe.set(ve.index,ve),ve=ve.sibling;return fe}function E(ve,fe){return ve=xa(ve,fe),ve.index=0,ve.sibling=null,ve}function k(ve,fe,xe){return ve.index=xe,o?(xe=ve.alternate,xe!==null?(xe=xe.index,xe<fe?(ve.flags|=67108866,fe):xe):(ve.flags|=67108866,fe)):(ve.flags|=1048576,fe)}function R(ve){return o&&ve.alternate===null&&(ve.flags|=67108866),ve}function G(ve,fe,xe,Me){return fe===null||fe.tag!==6?(fe=qu(xe,ve.mode,Me),fe.return=ve,fe):(fe=E(fe,xe),fe.return=ve,fe)}function oe(ve,fe,xe,Me){var it=xe.type;return it===T?Ce(ve,fe,xe.props.children,Me,xe.key):fe!==null&&(fe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===B&&Cc(it)===fe.type)?(fe=E(fe,xe.props),Zf(fe,xe),fe.return=ve,fe):(fe=Tc(xe.type,xe.key,xe.props,null,ve.mode,Me),Zf(fe,xe),fe.return=ve,fe)}function we(ve,fe,xe,Me){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==xe.containerInfo||fe.stateNode.implementation!==xe.implementation?(fe=Gf(xe,ve.mode,Me),fe.return=ve,fe):(fe=E(fe,xe.children||[]),fe.return=ve,fe)}function Ce(ve,fe,xe,Me,it){return fe===null||fe.tag!==7?(fe=as(xe,ve.mode,Me,it),fe.return=ve,fe):(fe=E(fe,xe),fe.return=ve,fe)}function Re(ve,fe,xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=qu(""+fe,ve.mode,xe),fe.return=ve,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return xe=Tc(fe.type,fe.key,fe.props,null,ve.mode,xe),Zf(xe,fe),xe.return=ve,xe;case x:return fe=Gf(fe,ve.mode,xe),fe.return=ve,fe;case B:return fe=Cc(fe),Re(ve,fe,xe)}if(ye(fe)||F(fe))return fe=as(fe,ve.mode,xe,null),fe.return=ve,fe;if(typeof fe.then=="function")return Re(ve,Gp(fe),xe);if(fe.$$typeof===O)return Re(ve,zp(ve,fe),xe);qp(ve,fe)}return null}function Ae(ve,fe,xe,Me){var it=fe!==null?fe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return it!==null?null:G(ve,fe,""+xe,Me);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return xe.key===it?oe(ve,fe,xe,Me):null;case x:return xe.key===it?we(ve,fe,xe,Me):null;case B:return xe=Cc(xe),Ae(ve,fe,xe,Me)}if(ye(xe)||F(xe))return it!==null?null:Ce(ve,fe,xe,Me,null);if(typeof xe.then=="function")return Ae(ve,fe,Gp(xe),Me);if(xe.$$typeof===O)return Ae(ve,fe,zp(ve,xe),Me);qp(ve,xe)}return null}function ke(ve,fe,xe,Me,it){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ve=ve.get(xe)||null,G(fe,ve,""+Me,it);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return ve=ve.get(Me.key===null?xe:Me.key)||null,oe(fe,ve,Me,it);case x:return ve=ve.get(Me.key===null?xe:Me.key)||null,we(fe,ve,Me,it);case B:return Me=Cc(Me),ke(ve,fe,xe,Me,it)}if(ye(Me)||F(Me))return ve=ve.get(xe)||null,Ce(fe,ve,Me,it,null);if(typeof Me.then=="function")return ke(ve,fe,xe,Gp(Me),it);if(Me.$$typeof===O)return ke(ve,fe,xe,zp(fe,Me),it);qp(fe,Me)}return null}function Ve(ve,fe,xe,Me){for(var it=null,Lt=null,Je=fe,bt=fe=0,Ot=null;Je!==null&&bt<xe.length;bt++){Je.index>bt?(Ot=Je,Je=null):Ot=Je.sibling;var It=Ae(ve,Je,xe[bt],Me);if(It===null){Je===null&&(Je=Ot);break}o&&Je&&It.alternate===null&&l(ve,Je),fe=k(It,fe,bt),Lt===null?it=It:Lt.sibling=It,Lt=It,Je=Ot}if(bt===xe.length)return h(ve,Je),xt&&et(ve,bt),it;if(Je===null){for(;bt<xe.length;bt++)Je=Re(ve,xe[bt],Me),Je!==null&&(fe=k(Je,fe,bt),Lt===null?it=Je:Lt.sibling=Je,Lt=Je);return xt&&et(ve,bt),it}for(Je=v(Je);bt<xe.length;bt++)Ot=ke(Je,ve,bt,xe[bt],Me),Ot!==null&&(o&&Ot.alternate!==null&&Je.delete(Ot.key===null?bt:Ot.key),fe=k(Ot,fe,bt),Lt===null?it=Ot:Lt.sibling=Ot,Lt=Ot);return o&&Je.forEach(function(Rl){return l(ve,Rl)}),xt&&et(ve,bt),it}function ot(ve,fe,xe,Me){if(xe==null)throw Error(r(151));for(var it=null,Lt=null,Je=fe,bt=fe=0,Ot=null,It=xe.next();Je!==null&&!It.done;bt++,It=xe.next()){Je.index>bt?(Ot=Je,Je=null):Ot=Je.sibling;var Rl=Ae(ve,Je,It.value,Me);if(Rl===null){Je===null&&(Je=Ot);break}o&&Je&&Rl.alternate===null&&l(ve,Je),fe=k(Rl,fe,bt),Lt===null?it=Rl:Lt.sibling=Rl,Lt=Rl,Je=Ot}if(It.done)return h(ve,Je),xt&&et(ve,bt),it;if(Je===null){for(;!It.done;bt++,It=xe.next())It=Re(ve,It.value,Me),It!==null&&(fe=k(It,fe,bt),Lt===null?it=It:Lt.sibling=It,Lt=It);return xt&&et(ve,bt),it}for(Je=v(Je);!It.done;bt++,It=xe.next())It=ke(Je,ve,bt,It.value,Me),It!==null&&(o&&It.alternate!==null&&Je.delete(It.key===null?bt:It.key),fe=k(It,fe,bt),Lt===null?it=It:Lt.sibling=It,Lt=It);return o&&Je.forEach(function(OU){return l(ve,OU)}),xt&&et(ve,bt),it}function Jt(ve,fe,xe,Me){if(typeof xe=="object"&&xe!==null&&xe.type===T&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:e:{for(var it=xe.key;fe!==null;){if(fe.key===it){if(it=xe.type,it===T){if(fe.tag===7){h(ve,fe.sibling),Me=E(fe,xe.props.children),Me.return=ve,ve=Me;break e}}else if(fe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===B&&Cc(it)===fe.type){h(ve,fe.sibling),Me=E(fe,xe.props),Zf(Me,xe),Me.return=ve,ve=Me;break e}h(ve,fe);break}else l(ve,fe);fe=fe.sibling}xe.type===T?(Me=as(xe.props.children,ve.mode,Me,xe.key),Me.return=ve,ve=Me):(Me=Tc(xe.type,xe.key,xe.props,null,ve.mode,Me),Zf(Me,xe),Me.return=ve,ve=Me)}return R(ve);case x:e:{for(it=xe.key;fe!==null;){if(fe.key===it)if(fe.tag===4&&fe.stateNode.containerInfo===xe.containerInfo&&fe.stateNode.implementation===xe.implementation){h(ve,fe.sibling),Me=E(fe,xe.children||[]),Me.return=ve,ve=Me;break e}else{h(ve,fe);break}else l(ve,fe);fe=fe.sibling}Me=Gf(xe,ve.mode,Me),Me.return=ve,ve=Me}return R(ve);case B:return xe=Cc(xe),Jt(ve,fe,xe,Me)}if(ye(xe))return Ve(ve,fe,xe,Me);if(F(xe)){if(it=F(xe),typeof it!="function")throw Error(r(150));return xe=it.call(xe),ot(ve,fe,xe,Me)}if(typeof xe.then=="function")return Jt(ve,fe,Gp(xe),Me);if(xe.$$typeof===O)return Jt(ve,fe,zp(ve,xe),Me);qp(ve,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,fe!==null&&fe.tag===6?(h(ve,fe.sibling),Me=E(fe,xe),Me.return=ve,ve=Me):(h(ve,fe),Me=qu(xe,ve.mode,Me),Me.return=ve,ve=Me),R(ve)):h(ve,fe)}return function(ve,fe,xe,Me){try{Vf=0;var it=Jt(ve,fe,xe,Me);return Xu=null,it}catch(Je){if(Je===Zu||Je===Hp)throw Je;var Lt=Yr(29,Je,null,ve.mode);return Lt.lanes=Me,Lt.return=ve,Lt}finally{}}}var Dc=gk(!0),vk=gk(!1),yl=!1;function f_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function h_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function bl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function _l(o,l,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(zt&2)!==0){var E=v.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),v.pending=l,l=Ac(o),gl(o,null,h),l}return Po(o,v,l,h),Ac(o)}function Xf(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,So(o,h)}}function m_(o,l){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var E=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var R={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?E=k=R:k=k.next=R,h=h.next}while(h!==null);k===null?E=k=l:k=k.next=l}else E=k=l;h={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var p_=!1;function Jf(){if(p_){var o=Vu;if(o!==null)throw o}}function Qf(o,l,h,v){p_=!1;var E=o.updateQueue;yl=!1;var k=E.firstBaseUpdate,R=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var oe=G,we=oe.next;oe.next=null,R===null?k=we:R.next=we,R=oe;var Ce=o.alternate;Ce!==null&&(Ce=Ce.updateQueue,G=Ce.lastBaseUpdate,G!==R&&(G===null?Ce.firstBaseUpdate=we:G.next=we,Ce.lastBaseUpdate=oe))}if(k!==null){var Re=E.baseState;R=0,Ce=we=oe=null,G=k;do{var Ae=G.lane&-536870913,ke=Ae!==G.lane;if(ke?(kt&Ae)===Ae:(v&Ae)===Ae){Ae!==0&&Ae===Wu&&(p_=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Ve=o,ot=G;Ae=l;var Jt=h;switch(ot.tag){case 1:if(Ve=ot.payload,typeof Ve=="function"){Re=Ve.call(Jt,Re,Ae);break e}Re=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=ot.payload,Ae=typeof Ve=="function"?Ve.call(Jt,Re,Ae):Ve,Ae==null)break e;Re=p({},Re,Ae);break e;case 2:yl=!0}}Ae=G.callback,Ae!==null&&(o.flags|=64,ke&&(o.flags|=8192),ke=E.callbacks,ke===null?E.callbacks=[Ae]:ke.push(Ae))}else ke={lane:Ae,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ce===null?(we=Ce=ke,oe=Re):Ce=Ce.next=ke,R|=Ae;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;ke=G,G=ke.next,ke.next=null,E.lastBaseUpdate=ke,E.shared.pending=null}}while(!0);Ce===null&&(oe=Re),E.baseState=oe,E.firstBaseUpdate=we,E.lastBaseUpdate=Ce,k===null&&(E.shared.lanes=0),Al|=R,o.lanes=R,o.memoizedState=Re}}function yk(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function bk(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)yk(h[o],l)}var Ju=q(null),Yp=q(0);function _k(o,l){o=gs,X(Yp,o),X(Ju,l),gs=o|l.baseLanes}function g_(){X(Yp,gs),X(Ju,Ju.current)}function v_(){gs=Yp.current,K(Ju),K(Yp)}var Hi=q(null),wa=null;function xl(o){var l=o.alternate;X(Gn,Gn.current&1),X(Hi,o),wa===null&&(l===null||Ju.current!==null||l.memoizedState!==null)&&(wa=o)}function y_(o){X(Gn,Gn.current),X(Hi,o),wa===null&&(wa=o)}function xk(o){o.tag===22?(X(Gn,Gn.current),X(Hi,o),wa===null&&(wa=o)):wl()}function wl(){X(Gn,Gn.current),X(Hi,Hi.current)}function Fi(o){K(Hi),wa===o&&(wa=null),K(Gn)}var Gn=q(0);function Kp(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Ex(h)||Ax(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ls=0,pt=null,Zt=null,Zn=null,Wp=!1,Qu=!1,Pc=!1,Vp=0,eh=0,ed=null,y8=0;function $n(){throw Error(r(321))}function b_(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!fr(o[h],l[h]))return!1;return!0}function __(o,l,h,v,E,k){return ls=k,pt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=o===null||o.memoizedState===null?iO:R_,Pc=!1,k=h(v,E),Pc=!1,Qu&&(k=Sk(l,h,v,E)),wk(o),k}function wk(o){J.H=rh;var l=Zt!==null&&Zt.next!==null;if(ls=0,Zn=Zt=pt=null,Wp=!1,eh=0,ed=null,l)throw Error(r(300));o===null||Xn||(o=o.dependencies,o!==null&&Bp(o)&&(Xn=!0))}function Sk(o,l,h,v){pt=o;var E=0;do{if(Qu&&(ed=null),eh=0,Qu=!1,25<=E)throw Error(r(301));if(E+=1,Zn=Zt=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}J.H=aO,k=l(h,v)}while(Qu);return k}function b8(){var o=J.H,l=o.useState()[0];return l=typeof l.then=="function"?th(l):l,o=o.useState()[0],(Zt!==null?Zt.memoizedState:null)!==o&&(pt.flags|=1024),l}function x_(){var o=Vp!==0;return Vp=0,o}function w_(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function S_(o){if(Wp){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Wp=!1}ls=0,Zn=Zt=pt=null,Qu=!1,eh=Vp=0,ed=null}function ai(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?pt.memoizedState=Zn=o:Zn=Zn.next=o,Zn}function qn(){if(Zt===null){var o=pt.alternate;o=o!==null?o.memoizedState:null}else o=Zt.next;var l=Zn===null?pt.memoizedState:Zn.next;if(l!==null)Zn=l,Zt=o;else{if(o===null)throw pt.alternate===null?Error(r(467)):Error(r(310));Zt=o,o={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Zn===null?pt.memoizedState=Zn=o:Zn=Zn.next=o}return Zn}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function th(o){var l=eh;return eh+=1,ed===null&&(ed=[]),o=hk(ed,o,l),l=pt,(Zn===null?l.memoizedState:Zn.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?iO:R_),o}function Xp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return th(o);if(o.$$typeof===O)return Or(o)}throw Error(r(438,String(o)))}function E_(o){var l=null,h=pt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=pt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Zp(),pt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),v=0;v<o;v++)h[v]=Z;return l.index++,h}function cs(o,l){return typeof l=="function"?l(o):l}function Jp(o){var l=qn();return A_(l,Zt,o)}function A_(o,l,h){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var E=o.baseQueue,k=v.pending;if(k!==null){if(E!==null){var R=E.next;E.next=k.next,k.next=R}l.baseQueue=E=k,v.pending=null}if(k=o.baseState,E===null)o.memoizedState=k;else{l=E.next;var G=R=null,oe=null,we=l,Ce=!1;do{var Re=we.lane&-536870913;if(Re!==we.lane?(kt&Re)===Re:(ls&Re)===Re){var Ae=we.revertLane;if(Ae===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Re===Wu&&(Ce=!0);else if((ls&Ae)===Ae){we=we.next,Ae===Wu&&(Ce=!0);continue}else Re={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(G=oe=Re,R=k):oe=oe.next=Re,pt.lanes|=Ae,Al|=Ae;Re=we.action,Pc&&h(k,Re),k=we.hasEagerState?we.eagerState:h(k,Re)}else Ae={lane:Re,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(G=oe=Ae,R=k):oe=oe.next=Ae,pt.lanes|=Re,Al|=Re;we=we.next}while(we!==null&&we!==l);if(oe===null?R=k:oe.next=G,!fr(k,o.memoizedState)&&(Xn=!0,Ce&&(h=Vu,h!==null)))throw h;o.memoizedState=k,o.baseState=R,o.baseQueue=oe,v.lastRenderedState=k}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function T_(o){var l=qn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var v=h.dispatch,E=h.pending,k=l.memoizedState;if(E!==null){h.pending=null;var R=E=E.next;do k=o(k,R.action),R=R.next;while(R!==E);fr(k,l.memoizedState)||(Xn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,v]}function Ek(o,l,h){var v=pt,E=qn(),k=xt;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=l();var R=!fr((Zt||E).memoizedState,h);if(R&&(E.memoizedState=h,Xn=!0),E=E.queue,j_(kk.bind(null,v,E,o),[o]),E.getSnapshot!==l||R||Zn!==null&&Zn.memoizedState.tag&1){if(v.flags|=2048,td(9,{destroy:void 0},Tk.bind(null,v,E,h,l),null),tn===null)throw Error(r(349));k||(ls&127)!==0||Ak(v,l,h)}return h}function Ak(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=pt.updateQueue,l===null?(l=Zp(),pt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Tk(o,l,h,v){l.value=h,l.getSnapshot=v,Ok(l)&&jk(o)}function kk(o,l,h){return h(function(){Ok(l)&&jk(o)})}function Ok(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!fr(o,h)}catch{return!0}}function jk(o){var l=_a(o,2);l!==null&&Ti(l,o,2)}function k_(o){var l=ai();if(typeof o=="function"){var h=o;if(o=h(),Pc){rn(!0);try{h()}finally{rn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:o},l}function Nk(o,l,h,v){return o.baseState=h,A_(o,Zt,typeof v=="function"?v:cs)}function _8(o,l,h,v,E){if(tg(o))throw Error(r(485));if(o=l.action,o!==null){var k={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){k.listeners.push(R)}};J.T!==null?h(!0):k.isTransition=!1,v(k),h=l.pending,h===null?(k.next=l.pending=k,Ck(l,k)):(k.next=h.next,l.pending=h.next=k)}}function Ck(o,l){var h=l.action,v=l.payload,E=o.state;if(l.isTransition){var k=J.T,R={};J.T=R;try{var G=h(E,v),oe=J.S;oe!==null&&oe(R,G),Mk(o,l,G)}catch(we){O_(o,l,we)}finally{k!==null&&R.types!==null&&(k.types=R.types),J.T=k}}else try{k=h(E,v),Mk(o,l,k)}catch(we){O_(o,l,we)}}function Mk(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){Dk(o,l,v)},function(v){return O_(o,l,v)}):Dk(o,l,h)}function Dk(o,l,h){l.status="fulfilled",l.value=h,Pk(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,Ck(o,h)))}function O_(o,l,h){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,Pk(l),l=l.next;while(l!==v)}o.action=null}function Pk(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Rk(o,l){return l}function Lk(o,l){if(xt){var h=tn.formState;if(h!==null){e:{var v=pt;if(xt){if(Rt){t:{for(var E=Rt,k=xi;E.nodeType!==8;){if(!k){E=null;break t}if(E=Sa(E.nextSibling),E===null){E=null;break t}}k=E.data,E=k==="F!"||k==="F"?E:null}if(E){Rt=Sa(E.nextSibling),v=E.data==="F!";break e}}Lo(v)}v=!1}v&&(l=h[0])}}return h=ai(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rk,lastRenderedState:l},h.queue=v,h=tO.bind(null,pt,v),v.dispatch=h,v=k_(!1),k=P_.bind(null,pt,!1,v.queue),v=ai(),E={state:l,dispatch:null,action:o,pending:null},v.queue=E,h=_8.bind(null,pt,E,k,h),E.dispatch=h,v.memoizedState=o,[l,h,!1]}function Ik(o){var l=qn();return $k(l,Zt,o)}function $k(o,l,h){if(l=A_(o,l,Rk)[0],o=Jp(cs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=th(l)}catch(R){throw R===Zu?Hp:R}else v=l;l=qn();var E=l.queue,k=E.dispatch;return h!==l.memoizedState&&(pt.flags|=2048,td(9,{destroy:void 0},x8.bind(null,E,h),null)),[v,k,o]}function x8(o,l){o.action=l}function Bk(o){var l=qn(),h=Zt;if(h!==null)return $k(l,h,o);qn(),l=l.memoizedState,h=qn();var v=h.queue.dispatch;return h.memoizedState=o,[l,v,!1]}function td(o,l,h,v){return o={tag:o,create:h,deps:v,inst:l,next:null},l=pt.updateQueue,l===null&&(l=Zp(),pt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,l.lastEffect=o),o}function zk(){return qn().memoizedState}function Qp(o,l,h,v){var E=ai();pt.flags|=o,E.memoizedState=td(1|l,{destroy:void 0},h,v===void 0?null:v)}function eg(o,l,h,v){var E=qn();v=v===void 0?null:v;var k=E.memoizedState.inst;Zt!==null&&v!==null&&b_(v,Zt.memoizedState.deps)?E.memoizedState=td(l,k,h,v):(pt.flags|=o,E.memoizedState=td(1|l,k,h,v))}function Uk(o,l){Qp(8390656,8,o,l)}function j_(o,l){eg(2048,8,o,l)}function w8(o){pt.flags|=4;var l=pt.updateQueue;if(l===null)l=Zp(),pt.updateQueue=l,l.events=[o];else{var h=l.events;h===null?l.events=[o]:h.push(o)}}function Hk(o){var l=qn().memoizedState;return w8({ref:l,nextImpl:o}),function(){if((zt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Fk(o,l){return eg(4,2,o,l)}function Gk(o,l){return eg(4,4,o,l)}function qk(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Yk(o,l,h){h=h!=null?h.concat([o]):null,eg(4,4,qk.bind(null,l,o),h)}function N_(){}function Kk(o,l){var h=qn();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&b_(l,v[1])?v[0]:(h.memoizedState=[o,l],o)}function Wk(o,l){var h=qn();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&b_(l,v[1]))return v[0];if(v=o(),Pc){rn(!0);try{o()}finally{rn(!1)}}return h.memoizedState=[v,l],v}function C_(o,l,h){return h===void 0||(ls&1073741824)!==0&&(kt&261930)===0?o.memoizedState=l:(o.memoizedState=h,o=VO(),pt.lanes|=o,Al|=o,h)}function Vk(o,l,h,v){return fr(h,l)?h:Ju.current!==null?(o=C_(o,h,v),fr(o,l)||(Xn=!0),o):(ls&42)===0||(ls&1073741824)!==0&&(kt&261930)===0?(Xn=!0,o.memoizedState=h):(o=VO(),pt.lanes|=o,Al|=o,l)}function Zk(o,l,h,v,E){var k=le.p;le.p=k!==0&&8>k?k:8;var R=J.T,G={};J.T=G,P_(o,!1,l,h);try{var oe=E(),we=J.S;if(we!==null&&we(G,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ce=v8(oe,v);nh(o,l,Ce,Yi(o))}else nh(o,l,v,Yi(o))}catch(Re){nh(o,l,{then:function(){},status:"rejected",reason:Re},Yi())}finally{le.p=k,R!==null&&G.types!==null&&(R.types=G.types),J.T=R}}function S8(){}function M_(o,l,h,v){if(o.tag!==5)throw Error(r(476));var E=Xk(o).queue;Zk(o,E,l,ae,h===null?S8:function(){return Jk(o),h(v)})}function Xk(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ae},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Jk(o){var l=Xk(o);l.next===null&&(l=o.alternate.memoizedState),nh(o,l.next.queue,{},Yi())}function D_(){return Or(bh)}function Qk(){return qn().memoizedState}function eO(){return qn().memoizedState}function E8(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=Yi();o=bl(h);var v=_l(l,o,h);v!==null&&(Ti(v,l,h),Xf(v,l,h)),l={cache:l_()},o.payload=l;return}l=l.return}}function A8(o,l,h){var v=Yi();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tg(o)?nO(l,h):(h=Uf(o,l,h,v),h!==null&&(Ti(h,o,v),rO(h,l,v)))}function tO(o,l,h){var v=Yi();nh(o,l,h,v)}function nh(o,l,h,v){var E={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(tg(o))nO(l,E);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var R=l.lastRenderedState,G=k(R,h);if(E.hasEagerState=!0,E.eagerState=G,fr(G,R))return Po(o,l,E,0),tn===null&&Ec(),!1}catch{}finally{}if(h=Uf(o,l,E,v),h!==null)return Ti(h,o,v),rO(h,l,v),!0}return!1}function P_(o,l,h,v){if(v={lane:2,revertLane:fx(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},tg(o)){if(l)throw Error(r(479))}else l=Uf(o,h,v,2),l!==null&&Ti(l,o,2)}function tg(o){var l=o.alternate;return o===pt||l!==null&&l===pt}function nO(o,l){Qu=Wp=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function rO(o,l,h){if((h&4194048)!==0){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,So(o,h)}}var rh={readContext:Or,use:Xp,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};rh.useEffectEvent=$n;var iO={readContext:Or,use:Xp,useCallback:function(o,l){return ai().memoizedState=[o,l===void 0?null:l],o},useContext:Or,useEffect:Uk,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,Qp(4194308,4,qk.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Qp(4194308,4,o,l)},useInsertionEffect:function(o,l){Qp(4,2,o,l)},useMemo:function(o,l){var h=ai();l=l===void 0?null:l;var v=o();if(Pc){rn(!0);try{o()}finally{rn(!1)}}return h.memoizedState=[v,l],v},useReducer:function(o,l,h){var v=ai();if(h!==void 0){var E=h(l);if(Pc){rn(!0);try{h(l)}finally{rn(!1)}}}else E=l;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=A8.bind(null,pt,o),[v.memoizedState,o]},useRef:function(o){var l=ai();return o={current:o},l.memoizedState=o},useState:function(o){o=k_(o);var l=o.queue,h=tO.bind(null,pt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:N_,useDeferredValue:function(o,l){var h=ai();return C_(h,o,l)},useTransition:function(){var o=k_(!1);return o=Zk.bind(null,pt,o.queue,!0,!1),ai().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var v=pt,E=ai();if(xt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),tn===null)throw Error(r(349));(kt&127)!==0||Ak(v,l,h)}E.memoizedState=h;var k={value:h,getSnapshot:l};return E.queue=k,Uk(kk.bind(null,v,k,o),[o]),v.flags|=2048,td(9,{destroy:void 0},Tk.bind(null,v,k,h,l),null),h},useId:function(){var o=ai(),l=tn.identifierPrefix;if(xt){var h=qe,v=Pe;h=(v&~(1<<32-an(v)-1)).toString(32)+h,l="_"+l+"R_"+h,h=Vp++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=y8++,l="_"+l+"r_"+h.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:D_,useFormState:Lk,useActionState:Lk,useOptimistic:function(o){var l=ai();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=P_.bind(null,pt,!0,h),h.dispatch=l,[o,l]},useMemoCache:E_,useCacheRefresh:function(){return ai().memoizedState=E8.bind(null,pt)},useEffectEvent:function(o){var l=ai(),h={impl:o};return l.memoizedState=h,function(){if((zt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},R_={readContext:Or,use:Xp,useCallback:Kk,useContext:Or,useEffect:j_,useImperativeHandle:Yk,useInsertionEffect:Fk,useLayoutEffect:Gk,useMemo:Wk,useReducer:Jp,useRef:zk,useState:function(){return Jp(cs)},useDebugValue:N_,useDeferredValue:function(o,l){var h=qn();return Vk(h,Zt.memoizedState,o,l)},useTransition:function(){var o=Jp(cs)[0],l=qn().memoizedState;return[typeof o=="boolean"?o:th(o),l]},useSyncExternalStore:Ek,useId:Qk,useHostTransitionStatus:D_,useFormState:Ik,useActionState:Ik,useOptimistic:function(o,l){var h=qn();return Nk(h,Zt,o,l)},useMemoCache:E_,useCacheRefresh:eO};R_.useEffectEvent=Hk;var aO={readContext:Or,use:Xp,useCallback:Kk,useContext:Or,useEffect:j_,useImperativeHandle:Yk,useInsertionEffect:Fk,useLayoutEffect:Gk,useMemo:Wk,useReducer:T_,useRef:zk,useState:function(){return T_(cs)},useDebugValue:N_,useDeferredValue:function(o,l){var h=qn();return Zt===null?C_(h,o,l):Vk(h,Zt.memoizedState,o,l)},useTransition:function(){var o=T_(cs)[0],l=qn().memoizedState;return[typeof o=="boolean"?o:th(o),l]},useSyncExternalStore:Ek,useId:Qk,useHostTransitionStatus:D_,useFormState:Bk,useActionState:Bk,useOptimistic:function(o,l){var h=qn();return Zt!==null?Nk(h,Zt,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:E_,useCacheRefresh:eO};aO.useEffectEvent=Hk;function L_(o,l,h,v){l=o.memoizedState,h=h(v,l),h=h==null?l:p({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var I_={enqueueSetState:function(o,l,h){o=o._reactInternals;var v=Yi(),E=bl(v);E.payload=l,h!=null&&(E.callback=h),l=_l(o,E,v),l!==null&&(Ti(l,o,v),Xf(l,o,v))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var v=Yi(),E=bl(v);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=_l(o,E,v),l!==null&&(Ti(l,o,v),Xf(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Yi(),v=bl(h);v.tag=2,l!=null&&(v.callback=l),l=_l(o,v,h),l!==null&&(Ti(l,o,h),Xf(l,o,h))}};function oO(o,l,h,v,E,k,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,k,R):l.prototype&&l.prototype.isPureReactComponent?!fl(h,v)||!fl(E,k):!0}function sO(o,l,h,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==o&&I_.enqueueReplaceState(l,l.state,null)}function Rc(o,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(o=o.defaultProps){h===l&&(h=p({},h));for(var E in o)h[E]===void 0&&(h[E]=o[E])}return h}function lO(o){Sc(o)}function cO(o){console.error(o)}function uO(o){Sc(o)}function ng(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function dO(o,l,h){try{var v=o.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function $_(o,l,h){return h=bl(h),h.tag=3,h.payload={element:null},h.callback=function(){ng(o,l)},h}function fO(o){return o=bl(o),o.tag=3,o}function hO(o,l,h,v){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var k=v.value;o.payload=function(){return E(k)},o.callback=function(){dO(l,h,v)}}var R=h.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){dO(l,h,v),typeof E!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var G=v.stack;this.componentDidCatch(v.value,{componentStack:G!==null?G:""})})}function T8(o,l,h,v,E){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&Ku(l,h,E,!0),h=Hi.current,h!==null){switch(h.tag){case 31:case 13:return wa===null?mg():h.alternate===null&&Bn===0&&(Bn=3),h.flags&=-257,h.flags|=65536,h.lanes=E,v===Fp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),cx(o,v,E)),!1;case 22:return h.flags|=65536,v===Fp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),cx(o,v,E)),!1}throw Error(r(435,h.tag))}return cx(o,v,E),mg(),!1}if(xt)return l=Hi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,v!==Yu&&(o=Error(r(422),{cause:v}),kc(g(o,h)))):(v!==Yu&&(l=Error(r(423),{cause:v}),kc(g(l,h))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=g(v,h),E=$_(o.stateNode,v,E),m_(o,E),Bn!==4&&(Bn=2)),!1;var k=Error(r(520),{cause:v});if(k=g(k,h),dh===null?dh=[k]:dh.push(k),Bn!==4&&(Bn=2),l===null)return!0;v=g(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=E&-E,h.lanes|=o,o=$_(h.stateNode,v,o),m_(h,o),!1;case 1:if(l=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Tl===null||!Tl.has(k))))return h.flags|=65536,E&=-E,h.lanes|=E,E=fO(E),hO(E,o,h,v),m_(h,E),!1}h=h.return}while(h!==null);return!1}var B_=Error(r(461)),Xn=!1;function jr(o,l,h,v){l.child=o===null?vk(l,null,h,v):Dc(l,o.child,h,v)}function mO(o,l,h,v,E){h=h.render;var k=l.ref;if("ref"in v){var R={};for(var G in v)G!=="ref"&&(R[G]=v[G])}else R=v;return jc(l),v=__(o,l,h,R,k,E),G=x_(),o!==null&&!Xn?(w_(o,l,E),us(o,l,E)):(xt&&G&&rr(l),l.flags|=1,jr(o,l,v,E),l.child)}function pO(o,l,h,v,E){if(o===null){var k=h.type;return typeof k=="function"&&!Gu(k)&&k.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=k,gO(o,l,k,v,E)):(o=Tc(h.type,null,v,l,l.mode,E),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,!K_(o,E)){var R=k.memoizedProps;if(h=h.compare,h=h!==null?h:fl,h(R,v)&&o.ref===l.ref)return us(o,l,E)}return l.flags|=1,o=xa(k,v),o.ref=l.ref,o.return=l,l.child=o}function gO(o,l,h,v,E){if(o!==null){var k=o.memoizedProps;if(fl(k,v)&&o.ref===l.ref)if(Xn=!1,l.pendingProps=v=k,K_(o,E))(o.flags&131072)!==0&&(Xn=!0);else return l.lanes=o.lanes,us(o,l,E)}return z_(o,l,h,v,E)}function vO(o,l,h,v){var E=v.children,k=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,o!==null){for(v=l.child=o.child,E=0;v!==null;)E=E|v.lanes|v.childLanes,v=v.sibling;v=E&~k}else v=0,l.child=null;return yO(o,l,k,h,v)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Up(l,k!==null?k.cachePool:null),k!==null?_k(l,k):g_(),xk(l);else return v=l.lanes=536870912,yO(o,l,k!==null?k.baseLanes|h:h,h,v)}else k!==null?(Up(l,k.cachePool),_k(l,k),wl(),l.memoizedState=null):(o!==null&&Up(l,null),g_(),wl());return jr(o,l,E,h),l.child}function ih(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function yO(o,l,h,v,E){var k=u_();return k=k===null?null:{parent:Vn._currentValue,pool:k},l.memoizedState={baseLanes:h,cachePool:k},o!==null&&Up(l,null),g_(),xk(l),o!==null&&Ku(o,l,v,!0),l.childLanes=E,null}function rg(o,l){return l=ag({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function bO(o,l,h){return Dc(l,o.child,null,h),o=rg(l,l.pendingProps),o.flags|=2,Fi(l),l.memoizedState=null,o}function k8(o,l,h){var v=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(xt){if(v.mode==="hidden")return o=rg(l,v),l.lanes=536870912,ih(null,o);if(y_(l),(o=Rt)?(o=Cj(o,xi),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:Pe,overflow:qe}:null,retryLane:536870912,hydrationErrors:null},h=Ff(o),h.return=l,l.child=h,Pt=l,Rt=null)):o=null,o===null)throw Lo(l);return l.lanes=536870912,null}return rg(l,v)}var k=o.memoizedState;if(k!==null){var R=k.dehydrated;if(y_(l),E)if(l.flags&256)l.flags&=-257,l=bO(o,l,h);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Xn||Ku(o,l,h,!1),E=(h&o.childLanes)!==0,Xn||E){if(v=tn,v!==null&&(R=Eo(v,h),R!==0&&R!==k.retryLane))throw k.retryLane=R,_a(o,R),Ti(v,o,R),B_;mg(),l=bO(o,l,h)}else o=k.treeContext,Rt=Sa(R.nextSibling),Pt=l,xt=!0,Ro=null,xi=!1,o!==null&&ii(l,o),l=rg(l,v),l.flags|=4096;return l}return o=xa(o.child,{mode:v.mode,children:v.children}),o.ref=l.ref,l.child=o,o.return=l,o}function ig(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function z_(o,l,h,v,E){return jc(l),h=__(o,l,h,v,void 0,E),v=x_(),o!==null&&!Xn?(w_(o,l,E),us(o,l,E)):(xt&&v&&rr(l),l.flags|=1,jr(o,l,h,E),l.child)}function _O(o,l,h,v,E,k){return jc(l),l.updateQueue=null,h=Sk(l,v,h,E),wk(o),v=x_(),o!==null&&!Xn?(w_(o,l,k),us(o,l,k)):(xt&&v&&rr(l),l.flags|=1,jr(o,l,h,k),l.child)}function xO(o,l,h,v,E){if(jc(l),l.stateNode===null){var k=is,R=h.contextType;typeof R=="object"&&R!==null&&(k=Or(R)),k=new h(v,k),l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=I_,l.stateNode=k,k._reactInternals=l,k=l.stateNode,k.props=v,k.state=l.memoizedState,k.refs={},f_(l),R=h.contextType,k.context=typeof R=="object"&&R!==null?Or(R):is,k.state=l.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(L_(l,h,R,v),k.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(R=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),R!==k.state&&I_.enqueueReplaceState(k,k.state,null),Qf(l,v,k,E),Jf(),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(o===null){k=l.stateNode;var G=l.memoizedProps,oe=Rc(h,G);k.props=oe;var we=k.context,Ce=h.contextType;R=is,typeof Ce=="object"&&Ce!==null&&(R=Or(Ce));var Re=h.getDerivedStateFromProps;Ce=typeof Re=="function"||typeof k.getSnapshotBeforeUpdate=="function",G=l.pendingProps!==G,Ce||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(G||we!==R)&&sO(l,k,v,R),yl=!1;var Ae=l.memoizedState;k.state=Ae,Qf(l,v,k,E),Jf(),we=l.memoizedState,G||Ae!==we||yl?(typeof Re=="function"&&(L_(l,h,Re,v),we=l.memoizedState),(oe=yl||oO(l,h,oe,v,Ae,we,R))?(Ce||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=we),k.props=v,k.state=we,k.context=R,v=oe):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{k=l.stateNode,h_(o,l),R=l.memoizedProps,Ce=Rc(h,R),k.props=Ce,Re=l.pendingProps,Ae=k.context,we=h.contextType,oe=is,typeof we=="object"&&we!==null&&(oe=Or(we)),G=h.getDerivedStateFromProps,(we=typeof G=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==Re||Ae!==oe)&&sO(l,k,v,oe),yl=!1,Ae=l.memoizedState,k.state=Ae,Qf(l,v,k,E),Jf();var ke=l.memoizedState;R!==Re||Ae!==ke||yl||o!==null&&o.dependencies!==null&&Bp(o.dependencies)?(typeof G=="function"&&(L_(l,h,G,v),ke=l.memoizedState),(Ce=yl||oO(l,h,Ce,v,Ae,ke,oe)||o!==null&&o.dependencies!==null&&Bp(o.dependencies))?(we||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,ke,oe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,ke,oe)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=ke),k.props=v,k.state=ke,k.context=oe,v=Ce):(typeof k.componentDidUpdate!="function"||R===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),v=!1)}return k=v,ig(o,l),v=(l.flags&128)!==0,k||v?(k=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:k.render(),l.flags|=1,o!==null&&v?(l.child=Dc(l,o.child,null,E),l.child=Dc(l,null,h,E)):jr(o,l,h,E),l.memoizedState=k.state,o=l.child):o=us(o,l,E),o}function wO(o,l,h,v){return os(),l.flags|=256,jr(o,l,h,v),l.child}var U_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H_(o){return{baseLanes:o,cachePool:dk()}}function F_(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=qi),o}function SO(o,l,h){var v=l.pendingProps,E=!1,k=(l.flags&128)!==0,R;if((R=k)||(R=o!==null&&o.memoizedState===null?!1:(Gn.current&2)!==0),R&&(E=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,o===null){if(xt){if(E?xl(l):wl(),(o=Rt)?(o=Cj(o,xi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:Pe,overflow:qe}:null,retryLane:536870912,hydrationErrors:null},h=Ff(o),h.return=l,l.child=h,Pt=l,Rt=null)):o=null,o===null)throw Lo(l);return Ax(o)?l.lanes=32:l.lanes=536870912,null}var G=v.children;return v=v.fallback,E?(wl(),E=l.mode,G=ag({mode:"hidden",children:G},E),v=as(v,E,h,null),G.return=l,v.return=l,G.sibling=v,l.child=G,v=l.child,v.memoizedState=H_(h),v.childLanes=F_(o,R,h),l.memoizedState=U_,ih(null,v)):(xl(l),G_(l,G))}var oe=o.memoizedState;if(oe!==null&&(G=oe.dehydrated,G!==null)){if(k)l.flags&256?(xl(l),l.flags&=-257,l=q_(o,l,h)):l.memoizedState!==null?(wl(),l.child=o.child,l.flags|=128,l=null):(wl(),G=v.fallback,E=l.mode,v=ag({mode:"visible",children:v.children},E),G=as(G,E,h,null),G.flags|=2,v.return=l,G.return=l,v.sibling=G,l.child=v,Dc(l,o.child,null,h),v=l.child,v.memoizedState=H_(h),v.childLanes=F_(o,R,h),l.memoizedState=U_,l=ih(null,v));else if(xl(l),Ax(G)){if(R=G.nextSibling&&G.nextSibling.dataset,R)var we=R.dgst;R=we,v=Error(r(419)),v.stack="",v.digest=R,kc({value:v,source:null,stack:null}),l=q_(o,l,h)}else if(Xn||Ku(o,l,h,!1),R=(h&o.childLanes)!==0,Xn||R){if(R=tn,R!==null&&(v=Eo(R,h),v!==0&&v!==oe.retryLane))throw oe.retryLane=v,_a(o,v),Ti(R,o,v),B_;Ex(G)||mg(),l=q_(o,l,h)}else Ex(G)?(l.flags|=192,l.child=o.child,l=null):(o=oe.treeContext,Rt=Sa(G.nextSibling),Pt=l,xt=!0,Ro=null,xi=!1,o!==null&&ii(l,o),l=G_(l,v.children),l.flags|=4096);return l}return E?(wl(),G=v.fallback,E=l.mode,oe=o.child,we=oe.sibling,v=xa(oe,{mode:"hidden",children:v.children}),v.subtreeFlags=oe.subtreeFlags&65011712,we!==null?G=xa(we,G):(G=as(G,E,h,null),G.flags|=2),G.return=l,v.return=l,v.sibling=G,l.child=v,ih(null,v),v=l.child,G=o.child.memoizedState,G===null?G=H_(h):(E=G.cachePool,E!==null?(oe=Vn._currentValue,E=E.parent!==oe?{parent:oe,pool:oe}:E):E=dk(),G={baseLanes:G.baseLanes|h,cachePool:E}),v.memoizedState=G,v.childLanes=F_(o,R,h),l.memoizedState=U_,ih(o.child,v)):(xl(l),h=o.child,o=h.sibling,h=xa(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,o!==null&&(R=l.deletions,R===null?(l.deletions=[o],l.flags|=16):R.push(o)),l.child=h,l.memoizedState=null,h)}function G_(o,l){return l=ag({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function ag(o,l){return o=Yr(22,o,null,l),o.lanes=0,o}function q_(o,l,h){return Dc(l,o.child,null,h),o=G_(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function EO(o,l,h){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),o_(o.return,l,h)}function Y_(o,l,h,v,E,k){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:E,treeForkCount:k}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=v,R.tail=h,R.tailMode=E,R.treeForkCount=k)}function AO(o,l,h){var v=l.pendingProps,E=v.revealOrder,k=v.tail;v=v.children;var R=Gn.current,G=(R&2)!==0;if(G?(R=R&1|2,l.flags|=128):R&=1,X(Gn,R),jr(o,l,v,h),v=xt?U:0,!G&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&EO(o,h,l);else if(o.tag===19)EO(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(h=l.child,E=null;h!==null;)o=h.alternate,o!==null&&Kp(o)===null&&(E=h),h=h.sibling;h=E,h===null?(E=l.child,l.child=null):(E=h.sibling,h.sibling=null),Y_(l,!1,E,h,k,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,E=l.child,l.child=null;E!==null;){if(o=E.alternate,o!==null&&Kp(o)===null){l.child=E;break}o=E.sibling,E.sibling=h,h=E,E=o}Y_(l,!0,h,null,k,v);break;case"together":Y_(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function us(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Al|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(Ku(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,h=xa(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=xa(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function K_(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Bp(o)))}function O8(o,l,h){switch(l.tag){case 3:te(l,l.stateNode.containerInfo),vl(l,Vn,o.memoizedState.cache),os();break;case 27:case 5:se(l);break;case 4:te(l,l.stateNode.containerInfo);break;case 10:vl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,y_(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(xl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?SO(o,l,h):(xl(l),o=us(o,l,h),o!==null?o.sibling:null);xl(l);break;case 19:var E=(o.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||(Ku(o,l,h,!1),v=(h&l.childLanes)!==0),E){if(v)return AO(o,l,h);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),X(Gn,Gn.current),v)break;return null;case 22:return l.lanes=0,vO(o,l,h,l.pendingProps);case 24:vl(l,Vn,o.memoizedState.cache)}return us(o,l,h)}function TO(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)Xn=!0;else{if(!K_(o,h)&&(l.flags&128)===0)return Xn=!1,O8(o,l,h);Xn=(o.flags&131072)!==0}else Xn=!1,xt&&(l.flags&1048576)!==0&&yt(l,U,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(o=Cc(l.elementType),l.type=o,typeof o=="function")Gu(o)?(v=Rc(o,v),l.tag=1,l=xO(null,l,o,v,h)):(l.tag=0,l=z_(null,l,o,v,h));else{if(o!=null){var E=o.$$typeof;if(E===M){l.tag=11,l=mO(null,l,o,v,h);break e}else if(E===$){l.tag=14,l=pO(null,l,o,v,h);break e}}throw l=ee(o)||o,Error(r(306,l,""))}}return l;case 0:return z_(o,l,l.type,l.pendingProps,h);case 1:return v=l.type,E=Rc(v,l.pendingProps),xO(o,l,v,E,h);case 3:e:{if(te(l,l.stateNode.containerInfo),o===null)throw Error(r(387));v=l.pendingProps;var k=l.memoizedState;E=k.element,h_(o,l),Qf(l,v,null,h);var R=l.memoizedState;if(v=R.cache,vl(l,Vn,v),v!==k.cache&&s_(l,[Vn],h,!0),Jf(),v=R.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){l=wO(o,l,v,h);break e}else if(v!==E){E=g(Error(r(424)),l),kc(E),l=wO(o,l,v,h);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Rt=Sa(o.firstChild),Pt=l,xt=!0,Ro=null,xi=!0,h=vk(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(os(),v===E){l=us(o,l,h);break e}jr(o,l,v,h)}l=l.child}return l;case 26:return ig(o,l),o===null?(h=Ij(l.type,null,l.pendingProps,null))?l.memoizedState=h:xt||(h=l.type,o=l.pendingProps,v=xg(W.current).createElement(h),v[Yt]=l,v[kn]=o,Nr(v,h,o),He(v),l.stateNode=v):l.memoizedState=Ij(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return se(l),o===null&&xt&&(v=l.stateNode=Pj(l.type,l.pendingProps,W.current),Pt=l,xi=!0,E=Rt,Nl(l.type)?(Tx=E,Rt=Sa(v.firstChild)):Rt=E),jr(o,l,l.pendingProps.children,h),ig(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&xt&&((E=v=Rt)&&(v=iU(v,l.type,l.pendingProps,xi),v!==null?(l.stateNode=v,Pt=l,Rt=Sa(v.firstChild),xi=!1,E=!0):E=!1),E||Lo(l)),se(l),E=l.type,k=l.pendingProps,R=o!==null?o.memoizedProps:null,v=k.children,xx(E,k)?v=null:R!==null&&xx(E,R)&&(l.flags|=32),l.memoizedState!==null&&(E=__(o,l,b8,null,null,h),bh._currentValue=E),ig(o,l),jr(o,l,v,h),l.child;case 6:return o===null&&xt&&((o=h=Rt)&&(h=aU(h,l.pendingProps,xi),h!==null?(l.stateNode=h,Pt=l,Rt=null,o=!0):o=!1),o||Lo(l)),null;case 13:return SO(o,l,h);case 4:return te(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=Dc(l,null,v,h):jr(o,l,v,h),l.child;case 11:return mO(o,l,l.type,l.pendingProps,h);case 7:return jr(o,l,l.pendingProps,h),l.child;case 8:return jr(o,l,l.pendingProps.children,h),l.child;case 12:return jr(o,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,vl(l,l.type,v.value),jr(o,l,v.children,h),l.child;case 9:return E=l.type._context,v=l.pendingProps.children,jc(l),E=Or(E),v=v(E),l.flags|=1,jr(o,l,v,h),l.child;case 14:return pO(o,l,l.type,l.pendingProps,h);case 15:return gO(o,l,l.type,l.pendingProps,h);case 19:return AO(o,l,h);case 31:return k8(o,l,h);case 22:return vO(o,l,h,l.pendingProps);case 24:return jc(l),v=Or(Vn),o===null?(E=u_(),E===null&&(E=tn,k=l_(),E.pooledCache=k,k.refCount++,k!==null&&(E.pooledCacheLanes|=h),E=k),l.memoizedState={parent:v,cache:E},f_(l),vl(l,Vn,E)):((o.lanes&h)!==0&&(h_(o,l),Qf(l,null,null,h),Jf()),E=o.memoizedState,k=l.memoizedState,E.parent!==v?(E={parent:v,cache:v},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),vl(l,Vn,v)):(v=k.cache,vl(l,Vn,v),v!==E.cache&&s_(l,[Vn],h,!0))),jr(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ds(o){o.flags|=4}function W_(o,l,h,v,E){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(QO())o.flags|=8192;else throw Mc=Fp,d_}else o.flags&=-16777217}function kO(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Hj(l))if(QO())o.flags|=8192;else throw Mc=Fp,d_}function og(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Qo():536870912,o.lanes|=l,ad|=l)}function ah(o,l){if(!xt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function gn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(l)for(var E=o.child;E!==null;)h|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)h|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=h,l}function j8(o,l,h){var v=l.pendingProps;switch(In(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(l),null;case 1:return gn(l),null;case 3:return h=l.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),ss(Vn),Y(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Ja(l)?ds(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yf())),gn(l),null;case 26:var E=l.type,k=l.memoizedState;return o===null?(ds(l),k!==null?(gn(l),kO(l,k)):(gn(l),W_(l,E,null,v,h))):k?k!==o.memoizedState?(ds(l),gn(l),kO(l,k)):(gn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==v&&ds(l),gn(l),W_(l,E,o,v,h)),null;case 27:if(Se(l),h=W.current,E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&ds(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return gn(l),null}o=re.current,Ja(l)?qf(l):(o=Pj(E,v,h),l.stateNode=o,ds(l))}return gn(l),null;case 5:if(Se(l),E=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&ds(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return gn(l),null}if(k=re.current,Ja(l))qf(l);else{var R=xg(W.current);switch(k){case 1:k=R.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:k=R.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":k=R.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":k=R.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":k=R.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?R.createElement("select",{is:v.is}):R.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?R.createElement(E,{is:v.is}):R.createElement(E)}}k[Yt]=l,k[kn]=v;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)k.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=k;e:switch(Nr(k,E,v),E){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&ds(l)}}return gn(l),W_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,h),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==v&&ds(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(o=W.current,Ja(l)){if(o=l.stateNode,h=l.memoizedProps,v=null,E=Pt,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Yt]=l,o=!!(o.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||Sj(o.nodeValue,h)),o||Lo(l,!0)}else o=xg(o).createTextNode(v),o[Yt]=l,l.stateNode=o}return gn(l),null;case 31:if(h=l.memoizedState,o===null||o.memoizedState!==null){if(v=Ja(l),h!==null){if(o===null){if(!v)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Yt]=l}else os(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gn(l),o=!1}else h=Yf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return l.flags&256?(Fi(l),l):(Fi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return gn(l),null;case 13:if(v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Ja(l),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Yt]=l}else os(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gn(l),E=!1}else E=Yf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Fi(l),l):(Fi(l),null)}return Fi(l),(l.flags&128)!==0?(l.lanes=h,l):(h=v!==null,o=o!==null&&o.memoizedState!==null,h&&(v=l.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==E&&(v.flags|=2048)),h!==o&&h&&(l.child.flags|=8192),og(l,l.updateQueue),gn(l),null);case 4:return Y(),o===null&&gx(l.stateNode.containerInfo),gn(l),null;case 10:return ss(l.type),gn(l),null;case 19:if(K(Gn),v=l.memoizedState,v===null)return gn(l),null;if(E=(l.flags&128)!==0,k=v.rendering,k===null)if(E)ah(v,!1);else{if(Bn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(k=Kp(o),k!==null){for(l.flags|=128,ah(v,!1),o=k.updateQueue,l.updateQueue=o,og(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)Hf(h,o),h=h.sibling;return X(Gn,Gn.current&1|2),xt&&et(l,v.treeForkCount),l.child}o=o.sibling}v.tail!==null&&ze()>dg&&(l.flags|=128,E=!0,ah(v,!1),l.lanes=4194304)}else{if(!E)if(o=Kp(k),o!==null){if(l.flags|=128,E=!0,o=o.updateQueue,l.updateQueue=o,og(l,o),ah(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!xt)return gn(l),null}else 2*ze()-v.renderingStartTime>dg&&h!==536870912&&(l.flags|=128,E=!0,ah(v,!1),l.lanes=4194304);v.isBackwards?(k.sibling=l.child,l.child=k):(o=v.last,o!==null?o.sibling=k:l.child=k,v.last=k)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ze(),o.sibling=null,h=Gn.current,X(Gn,E?h&1|2:h&1),xt&&et(l,v.treeForkCount),o):(gn(l),null);case 22:case 23:return Fi(l),v_(),v=l.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(gn(l),l.subtreeFlags&6&&(l.flags|=8192)):gn(l),h=l.updateQueue,h!==null&&og(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),o!==null&&K(Nc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),ss(Vn),gn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function N8(o,l){switch(In(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ss(Vn),Y(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Se(l),null;case 31:if(l.memoizedState!==null){if(Fi(l),l.alternate===null)throw Error(r(340));os()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Fi(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));os()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return K(Gn),null;case 4:return Y(),null;case 10:return ss(l.type),null;case 22:case 23:return Fi(l),v_(),o!==null&&K(Nc),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ss(Vn),null;case 25:return null;default:return null}}function OO(o,l){switch(In(l),l.tag){case 3:ss(Vn),Y();break;case 26:case 27:case 5:Se(l);break;case 4:Y();break;case 31:l.memoizedState!==null&&Fi(l);break;case 13:Fi(l);break;case 19:K(Gn);break;case 10:ss(l.type);break;case 22:case 23:Fi(l),v_(),o!==null&&K(Nc);break;case 24:ss(Vn)}}function oh(o,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var E=v.next;h=E;do{if((h.tag&o)===o){v=void 0;var k=h.create,R=h.inst;v=k(),R.destroy=v}h=h.next}while(h!==E)}}catch(G){Wt(l,l.return,G)}}function Sl(o,l,h){try{var v=l.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var k=E.next;v=k;do{if((v.tag&o)===o){var R=v.inst,G=R.destroy;if(G!==void 0){R.destroy=void 0,E=l;var oe=h,we=G;try{we()}catch(Ce){Wt(E,oe,Ce)}}}v=v.next}while(v!==k)}}catch(Ce){Wt(l,l.return,Ce)}}function jO(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{bk(l,h)}catch(v){Wt(o,o.return,v)}}}function NO(o,l,h){h.props=Rc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(v){Wt(o,l,v)}}function sh(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof h=="function"?o.refCleanup=h(v):h.current=v}}catch(E){Wt(o,l,E)}}function $o(o,l){var h=o.ref,v=o.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(E){Wt(o,l,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){Wt(o,l,E)}else h.current=null}function CO(o){var l=o.type,h=o.memoizedProps,v=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(E){Wt(o,o.return,E)}}function V_(o,l,h){try{var v=o.stateNode;J8(v,o.type,h,l),v[kn]=l}catch(E){Wt(o,o.return,E)}}function MO(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Nl(o.type)||o.tag===4}function Z_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||MO(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Nl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function X_(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=vi));else if(v!==4&&(v===27&&Nl(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(X_(o,l,h),o=o.sibling;o!==null;)X_(o,l,h),o=o.sibling}function sg(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(v!==4&&(v===27&&Nl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(sg(o,l,h),o=o.sibling;o!==null;)sg(o,l,h),o=o.sibling}function DO(o){var l=o.stateNode,h=o.memoizedProps;try{for(var v=o.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Nr(l,v,h),l[Yt]=o,l[kn]=h}catch(k){Wt(o,o.return,k)}}var fs=!1,Jn=!1,J_=!1,PO=typeof WeakSet=="function"?WeakSet:Set,mr=null;function C8(o,l){if(o=o.containerInfo,bx=Og,o=bc(o),No(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var E=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var R=0,G=-1,oe=-1,we=0,Ce=0,Re=o,Ae=null;t:for(;;){for(var ke;Re!==h||E!==0&&Re.nodeType!==3||(G=R+E),Re!==k||v!==0&&Re.nodeType!==3||(oe=R+v),Re.nodeType===3&&(R+=Re.nodeValue.length),(ke=Re.firstChild)!==null;)Ae=Re,Re=ke;for(;;){if(Re===o)break t;if(Ae===h&&++we===E&&(G=R),Ae===k&&++Ce===v&&(oe=R),(ke=Re.nextSibling)!==null)break;Re=Ae,Ae=Re.parentNode}Re=ke}h=G===-1||oe===-1?null:{start:G,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(_x={focusedElem:o,selectionRange:h},Og=!1,mr=l;mr!==null;)if(l=mr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,mr=o;else for(;mr!==null;){switch(l=mr,k=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)E=o[h],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,h=l,E=k.memoizedProps,k=k.memoizedState,v=h.stateNode;try{var Ve=Rc(h.type,E);o=v.getSnapshotBeforeUpdate(Ve,k),v.__reactInternalSnapshotBeforeUpdate=o}catch(ot){Wt(h,h.return,ot)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)Sx(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Sx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,mr=o;break}mr=l.return}}function RO(o,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:ms(o,h),v&4&&oh(5,h);break;case 1:if(ms(o,h),v&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch(R){Wt(h,h.return,R)}else{var E=Rc(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(E,l,o.__reactInternalSnapshotBeforeUpdate)}catch(R){Wt(h,h.return,R)}}v&64&&jO(h),v&512&&sh(h,h.return);break;case 3:if(ms(o,h),v&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{bk(o,l)}catch(R){Wt(h,h.return,R)}}break;case 27:l===null&&v&4&&DO(h);case 26:case 5:ms(o,h),l===null&&v&4&&CO(h),v&512&&sh(h,h.return);break;case 12:ms(o,h);break;case 31:ms(o,h),v&4&&$O(o,h);break;case 13:ms(o,h),v&4&&BO(o,h),v&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=z8.bind(null,h),oU(o,h))));break;case 22:if(v=h.memoizedState!==null||fs,!v){l=l!==null&&l.memoizedState!==null||Jn,E=fs;var k=Jn;fs=v,(Jn=l)&&!k?ps(o,h,(h.subtreeFlags&8772)!==0):ms(o,h),fs=E,Jn=k}break;case 30:break;default:ms(o,h)}}function LO(o){var l=o.alternate;l!==null&&(o.alternate=null,LO(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&es(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xn=null,wi=!1;function hs(o,l,h){for(h=h.child;h!==null;)IO(o,l,h),h=h.sibling}function IO(o,l,h){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Rn,h)}catch{}switch(h.tag){case 26:Jn||$o(h,l),hs(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Jn||$o(h,l);var v=xn,E=wi;Nl(h.type)&&(xn=h.stateNode,wi=!1),hs(o,l,h),gh(h.stateNode),xn=v,wi=E;break;case 5:Jn||$o(h,l);case 6:if(v=xn,E=wi,xn=null,hs(o,l,h),xn=v,wi=E,xn!==null)if(wi)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(h.stateNode)}catch(k){Wt(h,l,k)}else try{xn.removeChild(h.stateNode)}catch(k){Wt(h,l,k)}break;case 18:xn!==null&&(wi?(o=xn,jj(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),hd(o)):jj(xn,h.stateNode));break;case 4:v=xn,E=wi,xn=h.stateNode.containerInfo,wi=!0,hs(o,l,h),xn=v,wi=E;break;case 0:case 11:case 14:case 15:Sl(2,h,l),Jn||Sl(4,h,l),hs(o,l,h);break;case 1:Jn||($o(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&NO(h,l,v)),hs(o,l,h);break;case 21:hs(o,l,h);break;case 22:Jn=(v=Jn)||h.memoizedState!==null,hs(o,l,h),Jn=v;break;default:hs(o,l,h)}}function $O(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{hd(o)}catch(h){Wt(l,l.return,h)}}}function BO(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hd(o)}catch(h){Wt(l,l.return,h)}}function M8(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new PO),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new PO),l;default:throw Error(r(435,o.tag))}}function lg(o,l){var h=M8(o);l.forEach(function(v){if(!h.has(v)){h.add(v);var E=U8.bind(null,o,v);v.then(E,E)}})}function Si(o,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var E=h[v],k=o,R=l,G=R;e:for(;G!==null;){switch(G.tag){case 27:if(Nl(G.type)){xn=G.stateNode,wi=!1;break e}break;case 5:xn=G.stateNode,wi=!1;break e;case 3:case 4:xn=G.stateNode.containerInfo,wi=!0;break e}G=G.return}if(xn===null)throw Error(r(160));IO(k,R,E),xn=null,wi=!1,k=E.alternate,k!==null&&(k.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)zO(l,o),l=l.sibling}var eo=null;function zO(o,l){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Si(l,o),Ei(o),v&4&&(Sl(3,o,o.return),oh(3,o),Sl(5,o,o.return));break;case 1:Si(l,o),Ei(o),v&512&&(Jn||h===null||$o(h,h.return)),v&64&&fs&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var E=eo;if(Si(l,o),Ei(o),v&512&&(Jn||h===null||$o(h,h.return)),v&4){var k=h!==null?h.memoizedState:null;if(v=o.memoizedState,h===null)if(v===null)if(o.stateNode===null){e:{v=o.type,h=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":k=E.getElementsByTagName("title")[0],(!k||k[qa]||k[Yt]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=E.createElement(v),E.head.insertBefore(k,E.querySelector("head > title"))),Nr(k,v,h),k[Yt]=o,He(k),v=k;break e;case"link":var R=zj("link","href",E).get(v+(h.href||""));if(R){for(var G=0;G<R.length;G++)if(k=R[G],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){R.splice(G,1);break t}}k=E.createElement(v),Nr(k,v,h),E.head.appendChild(k);break;case"meta":if(R=zj("meta","content",E).get(v+(h.content||""))){for(G=0;G<R.length;G++)if(k=R[G],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){R.splice(G,1);break t}}k=E.createElement(v),Nr(k,v,h),E.head.appendChild(k);break;default:throw Error(r(468,v))}k[Yt]=o,He(k),v=k}o.stateNode=v}else Uj(E,o.type,o.stateNode);else o.stateNode=Bj(E,v,o.memoizedProps);else k!==v?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,v===null?Uj(E,o.type,o.stateNode):Bj(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&V_(o,o.memoizedProps,h.memoizedProps)}break;case 27:Si(l,o),Ei(o),v&512&&(Jn||h===null||$o(h,h.return)),h!==null&&v&4&&V_(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Si(l,o),Ei(o),v&512&&(Jn||h===null||$o(h,h.return)),o.flags&32){E=o.stateNode;try{ma(E,"")}catch(Ve){Wt(o,o.return,Ve)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,V_(o,E,h!==null?h.memoizedProps:E)),v&1024&&(J_=!0);break;case 6:if(Si(l,o),Ei(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,h=o.stateNode;try{h.nodeValue=v}catch(Ve){Wt(o,o.return,Ve)}}break;case 3:if(Eg=null,E=eo,eo=wg(l.containerInfo),Si(l,o),eo=E,Ei(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{hd(l.containerInfo)}catch(Ve){Wt(o,o.return,Ve)}J_&&(J_=!1,UO(o));break;case 4:v=eo,eo=wg(o.stateNode.containerInfo),Si(l,o),Ei(o),eo=v;break;case 12:Si(l,o),Ei(o);break;case 31:Si(l,o),Ei(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,lg(o,v)));break;case 13:Si(l,o),Ei(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(ug=ze()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,lg(o,v)));break;case 22:E=o.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,we=fs,Ce=Jn;if(fs=we||E,Jn=Ce||oe,Si(l,o),Jn=Ce,fs=we,Ei(o),v&8192)e:for(l=o.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(h===null||oe||fs||Jn||Lc(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){oe=h=l;try{if(k=oe.stateNode,E)R=k.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{G=oe.stateNode;var Re=oe.memoizedProps.style,Ae=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;G.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ve){Wt(oe,oe.return,Ve)}}}else if(l.tag===6){if(h===null){oe=l;try{oe.stateNode.nodeValue=E?"":oe.memoizedProps}catch(Ve){Wt(oe,oe.return,Ve)}}}else if(l.tag===18){if(h===null){oe=l;try{var ke=oe.stateNode;E?Nj(ke,!0):Nj(oe.stateNode,!1)}catch(Ve){Wt(oe,oe.return,Ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=o.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,lg(o,h))));break;case 19:Si(l,o),Ei(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,lg(o,v)));break;case 30:break;case 21:break;default:Si(l,o),Ei(o)}}function Ei(o){var l=o.flags;if(l&2){try{for(var h,v=o.return;v!==null;){if(MO(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var E=h.stateNode,k=Z_(o);sg(o,k,E);break;case 5:var R=h.stateNode;h.flags&32&&(ma(R,""),h.flags&=-33);var G=Z_(o);sg(o,G,R);break;case 3:case 4:var oe=h.stateNode.containerInfo,we=Z_(o);X_(o,we,oe);break;default:throw Error(r(161))}}catch(Ce){Wt(o,o.return,Ce)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function UO(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;UO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ms(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)RO(o,l.alternate,l),l=l.sibling}function Lc(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Sl(4,l,l.return),Lc(l);break;case 1:$o(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&NO(l,l.return,h),Lc(l);break;case 27:gh(l.stateNode);case 26:case 5:$o(l,l.return),Lc(l);break;case 22:l.memoizedState===null&&Lc(l);break;case 30:Lc(l);break;default:Lc(l)}o=o.sibling}}function ps(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,E=o,k=l,R=k.flags;switch(k.tag){case 0:case 11:case 15:ps(E,k,h),oh(4,k);break;case 1:if(ps(E,k,h),v=k,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(we){Wt(v,v.return,we)}if(v=k,E=v.updateQueue,E!==null){var G=v.stateNode;try{var oe=E.shared.hiddenCallbacks;if(oe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<oe.length;E++)yk(oe[E],G)}catch(we){Wt(v,v.return,we)}}h&&R&64&&jO(k),sh(k,k.return);break;case 27:DO(k);case 26:case 5:ps(E,k,h),h&&v===null&&R&4&&CO(k),sh(k,k.return);break;case 12:ps(E,k,h);break;case 31:ps(E,k,h),h&&R&4&&$O(E,k);break;case 13:ps(E,k,h),h&&R&4&&BO(E,k);break;case 22:k.memoizedState===null&&ps(E,k,h),sh(k,k.return);break;case 30:break;default:ps(E,k,h)}l=l.sibling}}function Q_(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Kf(h))}function ex(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Kf(o))}function to(o,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)HO(o,l,h,v),l=l.sibling}function HO(o,l,h,v){var E=l.flags;switch(l.tag){case 0:case 11:case 15:to(o,l,h,v),E&2048&&oh(9,l);break;case 1:to(o,l,h,v);break;case 3:to(o,l,h,v),E&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Kf(o)));break;case 12:if(E&2048){to(o,l,h,v),o=l.stateNode;try{var k=l.memoizedProps,R=k.id,G=k.onPostCommit;typeof G=="function"&&G(R,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(oe){Wt(l,l.return,oe)}}else to(o,l,h,v);break;case 31:to(o,l,h,v);break;case 13:to(o,l,h,v);break;case 23:break;case 22:k=l.stateNode,R=l.alternate,l.memoizedState!==null?k._visibility&2?to(o,l,h,v):lh(o,l):k._visibility&2?to(o,l,h,v):(k._visibility|=2,nd(o,l,h,v,(l.subtreeFlags&10256)!==0||!1)),E&2048&&Q_(R,l);break;case 24:to(o,l,h,v),E&2048&&ex(l.alternate,l);break;default:to(o,l,h,v)}}function nd(o,l,h,v,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var k=o,R=l,G=h,oe=v,we=R.flags;switch(R.tag){case 0:case 11:case 15:nd(k,R,G,oe,E),oh(8,R);break;case 23:break;case 22:var Ce=R.stateNode;R.memoizedState!==null?Ce._visibility&2?nd(k,R,G,oe,E):lh(k,R):(Ce._visibility|=2,nd(k,R,G,oe,E)),E&&we&2048&&Q_(R.alternate,R);break;case 24:nd(k,R,G,oe,E),E&&we&2048&&ex(R.alternate,R);break;default:nd(k,R,G,oe,E)}l=l.sibling}}function lh(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,v=l,E=v.flags;switch(v.tag){case 22:lh(h,v),E&2048&&Q_(v.alternate,v);break;case 24:lh(h,v),E&2048&&ex(v.alternate,v);break;default:lh(h,v)}l=l.sibling}}var ch=8192;function rd(o,l,h){if(o.subtreeFlags&ch)for(o=o.child;o!==null;)FO(o,l,h),o=o.sibling}function FO(o,l,h){switch(o.tag){case 26:rd(o,l,h),o.flags&ch&&o.memoizedState!==null&&yU(h,eo,o.memoizedState,o.memoizedProps);break;case 5:rd(o,l,h);break;case 3:case 4:var v=eo;eo=wg(o.stateNode.containerInfo),rd(o,l,h),eo=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=ch,ch=16777216,rd(o,l,h),ch=v):rd(o,l,h));break;default:rd(o,l,h)}}function GO(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function uh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];mr=v,YO(v,o)}GO(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qO(o),o=o.sibling}function qO(o){switch(o.tag){case 0:case 11:case 15:uh(o),o.flags&2048&&Sl(9,o,o.return);break;case 3:uh(o);break;case 12:uh(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,cg(o)):uh(o);break;default:uh(o)}}function cg(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];mr=v,YO(v,o)}GO(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Sl(8,l,l.return),cg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,cg(l));break;default:cg(l)}o=o.sibling}}function YO(o,l){for(;mr!==null;){var h=mr;switch(h.tag){case 0:case 11:case 15:Sl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Kf(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,mr=v;else e:for(h=o;mr!==null;){v=mr;var E=v.sibling,k=v.return;if(LO(v),v===h){mr=null;break e}if(E!==null){E.return=k,mr=E;break e}mr=k}}}var D8={getCacheForType:function(o){var l=Or(Vn),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h},cacheSignal:function(){return Or(Vn).controller.signal}},P8=typeof WeakMap=="function"?WeakMap:Map,zt=0,tn=null,wt=null,kt=0,Kt=0,Gi=null,El=!1,id=!1,tx=!1,gs=0,Bn=0,Al=0,Ic=0,nx=0,qi=0,ad=0,dh=null,Ai=null,rx=!1,ug=0,KO=0,dg=1/0,fg=null,Tl=null,ir=0,kl=null,od=null,vs=0,ix=0,ax=null,WO=null,fh=0,ox=null;function Yi(){return(zt&2)!==0&&kt!==0?kt&-kt:J.T!==null?fx():Ao()}function VO(){if(qi===0)if((kt&536870912)===0||xt){var o=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),qi=o}else qi=536870912;return o=Hi.current,o!==null&&(o.flags|=32),qi}function Ti(o,l,h){(o===tn&&(Kt===2||Kt===9)||o.cancelPendingCommit!==null)&&(sd(o,0),Ol(o,kt,qi,!1)),fa(o,h),((zt&2)===0||o!==tn)&&(o===tn&&((zt&2)===0&&(Ic|=h),Bn===4&&Ol(o,kt,qi,!1)),Bo(o))}function ZO(o,l,h){if((zt&6)!==0)throw Error(r(327));var v=!h&&(l&127)===0&&(l&o.expiredLanes)===0||_o(o,l),E=v?I8(o,l):lx(o,l,!0),k=v;do{if(E===0){id&&!v&&Ol(o,l,0,!1);break}else{if(h=o.current.alternate,k&&!R8(h)){E=lx(o,l,!1),k=!1;continue}if(E===2){if(k=l,o.errorRecoveryDisabledLanes&k)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var G=o;E=dh;var oe=G.current.memoizedState.isDehydrated;if(oe&&(sd(G,R).flags|=256),R=lx(G,R,!1),R!==2){if(tx&&!oe){G.errorRecoveryDisabledLanes|=k,Ic|=k,E=4;break e}k=Ai,Ai=E,k!==null&&(Ai===null?Ai=k:Ai.push.apply(Ai,k))}E=R}if(k=!1,E!==2)continue}}if(E===1){sd(o,0),Ol(o,l,0,!0);break}e:{switch(v=o,k=E,k){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ol(v,l,qi,!El);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=ug+300-ze(),10<E)){if(Ol(v,l,qi,!El),Ga(v,0,!0)!==0)break e;vs=l,v.timeoutHandle=kj(XO.bind(null,v,h,Ai,fg,rx,l,qi,Ic,ad,El,k,"Throttled",-0,0),E);break e}XO(v,h,Ai,fg,rx,l,qi,Ic,ad,El,k,null,-0,0)}}break}while(!0);Bo(o)}function XO(o,l,h,v,E,k,R,G,oe,we,Ce,Re,Ae,ke){if(o.timeoutHandle=-1,Re=l.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},FO(l,k,Re);var Ve=(k&62914560)===k?ug-ze():(k&4194048)===k?KO-ze():0;if(Ve=bU(Re,Ve),Ve!==null){vs=k,o.cancelPendingCommit=Ve(aj.bind(null,o,l,k,h,v,E,R,G,oe,Ce,Re,null,Ae,ke)),Ol(o,k,R,!we);return}}aj(o,l,k,h,v,E,R,G,oe)}function R8(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var E=h[v],k=E.getSnapshot;E=E.value;try{if(!fr(k(),E))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ol(o,l,h,v){l&=~nx,l&=~Ic,o.suspendedLanes|=l,o.pingedLanes&=~l,v&&(o.warmLanes|=l),v=o.expirationTimes;for(var E=l;0<E;){var k=31-an(E),R=1<<k;v[k]=-1,E&=~R}h!==0&&ku(o,h,l)}function hg(){return(zt&6)===0?(hh(0),!1):!0}function sx(){if(wt!==null){if(Kt===0)var o=wt.return;else o=wt,Qa=Io=null,S_(o),Xu=null,Vf=0,o=wt;for(;o!==null;)OO(o.alternate,o),o=o.return;wt=null}}function sd(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,tU(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),vs=0,sx(),tn=o,wt=h=xa(o.current,null),kt=l,Kt=0,Gi=null,El=!1,id=_o(o,l),tx=!1,ad=qi=nx=Ic=Al=Bn=0,Ai=dh=null,rx=!1,(l&8)!==0&&(l|=l&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=l;0<v;){var E=31-an(v),k=1<<E;l|=o[E],v&=~k}return gs=l,Ec(),h}function JO(o,l){pt=null,J.H=rh,l===Zu||l===Hp?(l=mk(),Kt=3):l===d_?(l=mk(),Kt=4):Kt=l===B_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Gi=l,wt===null&&(Bn=1,ng(o,g(l,o.current)))}function QO(){var o=Hi.current;return o===null?!0:(kt&4194048)===kt?wa===null:(kt&62914560)===kt||(kt&536870912)!==0?o===wa:!1}function ej(){var o=J.H;return J.H=rh,o===null?rh:o}function tj(){var o=J.A;return J.A=D8,o}function mg(){Bn=4,El||(kt&4194048)!==kt&&Hi.current!==null||(id=!0),(Al&134217727)===0&&(Ic&134217727)===0||tn===null||Ol(tn,kt,qi,!1)}function lx(o,l,h){var v=zt;zt|=2;var E=ej(),k=tj();(tn!==o||kt!==l)&&(fg=null,sd(o,l)),l=!1;var R=Bn;e:do try{if(Kt!==0&&wt!==null){var G=wt,oe=Gi;switch(Kt){case 8:sx(),R=6;break e;case 3:case 2:case 9:case 6:Hi.current===null&&(l=!0);var we=Kt;if(Kt=0,Gi=null,ld(o,G,oe,we),h&&id){R=0;break e}break;default:we=Kt,Kt=0,Gi=null,ld(o,G,oe,we)}}L8(),R=Bn;break}catch(Ce){JO(o,Ce)}while(!0);return l&&o.shellSuspendCounter++,Qa=Io=null,zt=v,J.H=E,J.A=k,wt===null&&(tn=null,kt=0,Ec()),R}function L8(){for(;wt!==null;)nj(wt)}function I8(o,l){var h=zt;zt|=2;var v=ej(),E=tj();tn!==o||kt!==l?(fg=null,dg=ze()+500,sd(o,l)):id=_o(o,l);e:do try{if(Kt!==0&&wt!==null){l=wt;var k=Gi;t:switch(Kt){case 1:Kt=0,Gi=null,ld(o,l,k,1);break;case 2:case 9:if(fk(k)){Kt=0,Gi=null,rj(l);break}l=function(){Kt!==2&&Kt!==9||tn!==o||(Kt=7),Bo(o)},k.then(l,l);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:fk(k)?(Kt=0,Gi=null,rj(l)):(Kt=0,Gi=null,ld(o,l,k,7));break;case 5:var R=null;switch(wt.tag){case 26:R=wt.memoizedState;case 5:case 27:var G=wt;if(R?Hj(R):G.stateNode.complete){Kt=0,Gi=null;var oe=G.sibling;if(oe!==null)wt=oe;else{var we=G.return;we!==null?(wt=we,pg(we)):wt=null}break t}}Kt=0,Gi=null,ld(o,l,k,5);break;case 6:Kt=0,Gi=null,ld(o,l,k,6);break;case 8:sx(),Bn=6;break e;default:throw Error(r(462))}}$8();break}catch(Ce){JO(o,Ce)}while(!0);return Qa=Io=null,J.H=v,J.A=E,zt=h,wt!==null?0:(tn=null,kt=0,Ec(),Bn)}function $8(){for(;wt!==null&&!pe();)nj(wt)}function nj(o){var l=TO(o.alternate,o,gs);o.memoizedProps=o.pendingProps,l===null?pg(o):wt=l}function rj(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=_O(h,l,l.pendingProps,l.type,void 0,kt);break;case 11:l=_O(h,l,l.pendingProps,l.type.render,l.ref,kt);break;case 5:S_(l);default:OO(h,l),l=wt=Hf(l,gs),l=TO(h,l,gs)}o.memoizedProps=o.pendingProps,l===null?pg(o):wt=l}function ld(o,l,h,v){Qa=Io=null,S_(l),Xu=null,Vf=0;var E=l.return;try{if(T8(o,E,l,h,kt)){Bn=1,ng(o,g(h,o.current)),wt=null;return}}catch(k){if(E!==null)throw wt=E,k;Bn=1,ng(o,g(h,o.current)),wt=null;return}l.flags&32768?(xt||v===1?o=!0:id||(kt&536870912)!==0?o=!1:(El=o=!0,(v===2||v===9||v===3||v===6)&&(v=Hi.current,v!==null&&v.tag===13&&(v.flags|=16384))),ij(l,o)):pg(l)}function pg(o){var l=o;do{if((l.flags&32768)!==0){ij(l,El);return}o=l.return;var h=j8(l.alternate,l,gs);if(h!==null){wt=h;return}if(l=l.sibling,l!==null){wt=l;return}wt=l=o}while(l!==null);Bn===0&&(Bn=5)}function ij(o,l){do{var h=N8(o.alternate,o);if(h!==null){h.flags&=32767,wt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){wt=o;return}wt=o=h}while(o!==null);Bn=6,wt=null}function aj(o,l,h,v,E,k,R,G,oe){o.cancelPendingCommit=null;do gg();while(ir!==0);if((zt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(k=l.lanes|l.childLanes,k|=Fu,kf(o,h,k,R,G,oe),o===tn&&(wt=tn=null,kt=0),od=l,kl=o,vs=h,ix=k,ax=E,WO=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,H8(Dt,function(){return uj(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,E=le.p,le.p=2,R=zt,zt|=4;try{C8(o,l,h)}finally{zt=R,le.p=E,J.T=v}}ir=1,oj(),sj(),lj()}}function oj(){if(ir===1){ir=0;var o=kl,l=od,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var v=le.p;le.p=2;var E=zt;zt|=4;try{zO(l,o);var k=_x,R=bc(o.containerInfo),G=k.focusedElem,oe=k.selectionRange;if(R!==G&&G&&G.ownerDocument&&Bu(G.ownerDocument.documentElement,G)){if(oe!==null&&No(G)){var we=oe.start,Ce=oe.end;if(Ce===void 0&&(Ce=we),"selectionStart"in G)G.selectionStart=we,G.selectionEnd=Math.min(Ce,G.value.length);else{var Re=G.ownerDocument||document,Ae=Re&&Re.defaultView||window;if(Ae.getSelection){var ke=Ae.getSelection(),Ve=G.textContent.length,ot=Math.min(oe.start,Ve),Jt=oe.end===void 0?ot:Math.min(oe.end,Ve);!ke.extend&&ot>Jt&&(R=Jt,Jt=ot,ot=R);var ve=yc(G,ot),fe=yc(G,Jt);if(ve&&fe&&(ke.rangeCount!==1||ke.anchorNode!==ve.node||ke.anchorOffset!==ve.offset||ke.focusNode!==fe.node||ke.focusOffset!==fe.offset)){var xe=Re.createRange();xe.setStart(ve.node,ve.offset),ke.removeAllRanges(),ot>Jt?(ke.addRange(xe),ke.extend(fe.node,fe.offset)):(xe.setEnd(fe.node,fe.offset),ke.addRange(xe))}}}}for(Re=[],ke=G;ke=ke.parentNode;)ke.nodeType===1&&Re.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Re.length;G++){var Me=Re[G];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}Og=!!bx,_x=bx=null}finally{zt=E,le.p=v,J.T=h}}o.current=l,ir=2}}function sj(){if(ir===2){ir=0;var o=kl,l=od,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var v=le.p;le.p=2;var E=zt;zt|=4;try{RO(o,l.alternate,l)}finally{zt=E,le.p=v,J.T=h}}ir=3}}function lj(){if(ir===4||ir===3){ir=0,$e();var o=kl,l=od,h=vs,v=WO;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ir=5:(ir=0,od=kl=null,cj(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Tl=null),Xe(h),l=l.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Rn,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=J.T,E=le.p,le.p=2,J.T=null;try{for(var k=o.onRecoverableError,R=0;R<v.length;R++){var G=v[R];k(G.value,{componentStack:G.stack})}}finally{J.T=l,le.p=E}}(vs&3)!==0&&gg(),Bo(o),E=o.pendingLanes,(h&261930)!==0&&(E&42)!==0?o===ox?fh++:(fh=0,ox=o):fh=0,hh(0)}}function cj(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Kf(l)))}function gg(){return oj(),sj(),lj(),uj()}function uj(){if(ir!==5)return!1;var o=kl,l=ix;ix=0;var h=Xe(vs),v=J.T,E=le.p;try{le.p=32>h?32:h,J.T=null,h=ax,ax=null;var k=kl,R=vs;if(ir=0,od=kl=null,vs=0,(zt&6)!==0)throw Error(r(331));var G=zt;if(zt|=4,qO(k.current),HO(k,k.current,R,h),zt=G,hh(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Rn,k)}catch{}return!0}finally{le.p=E,J.T=v,cj(o,l)}}function dj(o,l,h){l=g(h,l),l=$_(o.stateNode,l,2),o=_l(o,l,2),o!==null&&(fa(o,2),Bo(o))}function Wt(o,l,h){if(o.tag===3)dj(o,o,h);else for(;l!==null;){if(l.tag===3){dj(l,o,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Tl===null||!Tl.has(v))){o=g(h,o),h=fO(2),v=_l(l,h,2),v!==null&&(hO(h,v,l,o),fa(v,2),Bo(v));break}}l=l.return}}function cx(o,l,h){var v=o.pingCache;if(v===null){v=o.pingCache=new P8;var E=new Set;v.set(l,E)}else E=v.get(l),E===void 0&&(E=new Set,v.set(l,E));E.has(h)||(tx=!0,E.add(h),o=B8.bind(null,o,l,h),l.then(o,o))}function B8(o,l,h){var v=o.pingCache;v!==null&&v.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,tn===o&&(kt&h)===h&&(Bn===4||Bn===3&&(kt&62914560)===kt&&300>ze()-ug?(zt&2)===0&&sd(o,0):nx|=h,ad===kt&&(ad=0)),Bo(o)}function fj(o,l){l===0&&(l=Qo()),o=_a(o,l),o!==null&&(fa(o,l),Bo(o))}function z8(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),fj(o,h)}function U8(o,l){var h=0;switch(o.tag){case 31:case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(h=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),fj(o,h)}function H8(o,l){return Ue(o,l)}var vg=null,cd=null,ux=!1,yg=!1,dx=!1,jl=0;function Bo(o){o!==cd&&o.next===null&&(cd===null?vg=cd=o:cd=cd.next=o),yg=!0,ux||(ux=!0,G8())}function hh(o,l){if(!dx&&yg){dx=!0;do for(var h=!1,v=vg;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var k=0;else{var R=v.suspendedLanes,G=v.pingedLanes;k=(1<<31-an(42|o)+1)-1,k&=E&~(R&~G),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,gj(v,k))}else k=kt,k=Ga(v,v===tn?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||_o(v,k)||(h=!0,gj(v,k));v=v.next}while(h);dx=!1}}function F8(){hj()}function hj(){yg=ux=!1;var o=0;jl!==0&&eU()&&(o=jl);for(var l=ze(),h=null,v=vg;v!==null;){var E=v.next,k=mj(v,l);k===0?(v.next=null,h===null?vg=E:h.next=E,E===null&&(cd=h)):(h=v,(o!==0||(k&3)!==0)&&(yg=!0)),v=E}ir!==0&&ir!==5||hh(o),jl!==0&&(jl=0)}function mj(o,l){for(var h=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var R=31-an(k),G=1<<R,oe=E[R];oe===-1?((G&h)===0||(G&v)!==0)&&(E[R]=xo(G,l)):oe<=l&&(o.expiredLanes|=G),k&=~G}if(l=tn,h=kt,h=Ga(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,h===0||o===l&&(Kt===2||Kt===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&de(v),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||_o(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(v!==null&&de(v),Xe(h)){case 2:case 8:h=dt;break;case 32:h=Dt;break;case 268435456:h=Pn;break;default:h=Dt}return v=pj.bind(null,o),h=Ue(h,v),o.callbackPriority=l,o.callbackNode=h,l}return v!==null&&v!==null&&de(v),o.callbackPriority=2,o.callbackNode=null,2}function pj(o,l){if(ir!==0&&ir!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(gg()&&o.callbackNode!==h)return null;var v=kt;return v=Ga(o,o===tn?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(ZO(o,v,l),mj(o,ze()),o.callbackNode!=null&&o.callbackNode===h?pj.bind(null,o):null)}function gj(o,l){if(gg())return null;ZO(o,l,!0)}function G8(){nU(function(){(zt&6)!==0?Ue(ct,F8):hj()})}function fx(){if(jl===0){var o=Wu;o===0&&(o=Ur,Ur<<=1,(Ur&261888)===0&&(Ur=256)),jl=o}return jl}function vj(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:il(""+o)}function yj(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function q8(o,l,h,v,E){if(l==="submit"&&h&&h.stateNode===E){var k=vj((E[kn]||null).action),R=v.submitter;R&&(l=(l=R[kn]||null)?vj(l.formAction):R.getAttribute("formAction"),l!==null&&(k=l,R=null));var G=new Mu("action","action",null,v,E);o.push({event:G,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(jl!==0){var oe=R?yj(E,R):new FormData(E);M_(h,{pending:!0,data:oe,method:E.method,action:k},null,oe)}}else typeof k=="function"&&(G.preventDefault(),oe=R?yj(E,R):new FormData(E),M_(h,{pending:!0,data:oe,method:E.method,action:k},k,oe))},currentTarget:E}]})}}for(var hx=0;hx<Do.length;hx++){var mx=Do[hx],Y8=mx.toLowerCase(),K8=mx[0].toUpperCase()+mx.slice(1);bi(Y8,"on"+K8)}bi(xc,"onAnimationEnd"),bi(Lp,"onAnimationIteration"),bi(wc,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(r_,"onTransitionRun"),bi(Ip,"onTransitionStart"),bi(i_,"onTransitionCancel"),bi(pl,"onTransitionEnd"),mt("onMouseEnter",["mouseout","mouseover"]),mt("onMouseLeave",["mouseout","mouseover"]),mt("onPointerEnter",["pointerout","pointerover"]),mt("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mh));function bj(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],E=v.event;v=v.listeners;e:{var k=void 0;if(l)for(var R=v.length-1;0<=R;R--){var G=v[R],oe=G.instance,we=G.currentTarget;if(G=G.listener,oe!==k&&E.isPropagationStopped())break e;k=G,E.currentTarget=we;try{k(E)}catch(Ce){Sc(Ce)}E.currentTarget=null,k=oe}else for(R=0;R<v.length;R++){if(G=v[R],oe=G.instance,we=G.currentTarget,G=G.listener,oe!==k&&E.isPropagationStopped())break e;k=G,E.currentTarget=we;try{k(E)}catch(Ce){Sc(Ce)}E.currentTarget=null,k=oe}}}}function St(o,l){var h=l[gi];h===void 0&&(h=l[gi]=new Set);var v=o+"__bubble";h.has(v)||(_j(l,o,2,!1),h.add(v))}function px(o,l,h){var v=0;l&&(v|=4),_j(h,o,v,l)}var bg="_reactListening"+Math.random().toString(36).slice(2);function gx(o){if(!o[bg]){o[bg]=!0,ht.forEach(function(h){h!=="selectionchange"&&(W8.has(h)||px(h,!1,o),px(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[bg]||(l[bg]=!0,px("selectionchange",!1,l))}}function _j(o,l,h,v){switch(Vj(l)){case 2:var E=wU;break;case 8:E=SU;break;default:E=Cx}h=E.bind(null,l,h,o),E=void 0,!cc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(l,h,{capture:!0,passive:E}):o.addEventListener(l,h,!0):E!==void 0?o.addEventListener(l,h,{passive:E}):o.addEventListener(l,h,!1)}function vx(o,l,h,v,E){var k=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var R=v.tag;if(R===3||R===4){var G=v.stateNode.containerInfo;if(G===E)break;if(R===4)for(R=v.return;R!==null;){var oe=R.tag;if((oe===3||oe===4)&&R.stateNode.containerInfo===E)return;R=R.return}for(;G!==null;){if(R=Ii(G),R===null)return;if(oe=R.tag,oe===5||oe===6||oe===26||oe===27){v=k=R;continue e}G=G.parentNode}}v=v.return}Cf(function(){var we=k,Ce=lc(h),Re=[];e:{var Ae=$p.get(o);if(Ae!==void 0){var ke=Mu,Ve=o;switch(o){case"keypress":if(uc(h)===0)break e;case"keydown":case"keyup":ke=Ep;break;case"focusin":Ve="focus",ke=Pf;break;case"focusout":Ve="blur",ke=Pf;break;case"beforeblur":case"afterblur":ke=Pf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Yb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Xb;break;case xc:case Lp:case wc:ke=Rf;break;case pl:ke=kp;break;case"scroll":case"scrollend":ke=Tt;break;case"wheel":ke=rs;break;case"copy":case"cut":case"paste":ke=ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Ap;break;case"toggle":case"beforetoggle":ke=hc}var ot=(l&4)!==0,Jt=!ot&&(o==="scroll"||o==="scrollend"),ve=ot?Ae!==null?Ae+"Capture":null:Ae;ot=[];for(var fe=we,xe;fe!==null;){var Me=fe;if(xe=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||xe===null||ve===null||(Me=ts(fe,ve),Me!=null&&ot.push(ph(fe,Me,xe))),Jt)break;fe=fe.return}0<ot.length&&(Ae=new ke(Ae,Ve,null,h,Ce),Re.push({event:Ae,listeners:ot}))}}if((l&7)===0){e:{if(Ae=o==="mouseover"||o==="pointerover",ke=o==="mouseout"||o==="pointerout",Ae&&h!==Cu&&(Ve=h.relatedTarget||h.fromElement)&&(Ii(Ve)||Ve[pi]))break e;if((ke||Ae)&&(Ae=Ce.window===Ce?Ce:(Ae=Ce.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,ke?(Ve=h.relatedTarget||h.toElement,ke=we,Ve=Ve?Ii(Ve):null,Ve!==null&&(Jt=a(Ve),ot=Ve.tag,Ve!==Jt||ot!==5&&ot!==27&&ot!==6)&&(Ve=null)):(ke=null,Ve=we),ke!==Ve)){if(ot=bp,Me="onMouseLeave",ve="onMouseEnter",fe="mouse",(o==="pointerout"||o==="pointerover")&&(ot=Ap,Me="onPointerLeave",ve="onPointerEnter",fe="pointer"),Jt=ke==null?Ae:ha(ke),xe=Ve==null?Ae:ha(Ve),Ae=new ot(Me,fe+"leave",ke,h,Ce),Ae.target=Jt,Ae.relatedTarget=xe,Me=null,Ii(Ce)===we&&(ot=new ot(ve,fe+"enter",Ve,h,Ce),ot.target=xe,ot.relatedTarget=Jt,Me=ot),Jt=Me,ke&&Ve)t:{for(ot=V8,ve=ke,fe=Ve,xe=0,Me=ve;Me;Me=ot(Me))xe++;Me=0;for(var it=fe;it;it=ot(it))Me++;for(;0<xe-Me;)ve=ot(ve),xe--;for(;0<Me-xe;)fe=ot(fe),Me--;for(;xe--;){if(ve===fe||fe!==null&&ve===fe.alternate){ot=ve;break t}ve=ot(ve),fe=ot(fe)}ot=null}else ot=null;ke!==null&&xj(Re,Ae,ke,ot,!1),Ve!==null&&Jt!==null&&xj(Re,Jt,Ve,ot,!0)}}e:{if(Ae=we?ha(we):window,ke=Ae.nodeName&&Ae.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Ae.type==="file")var Lt=vc;else if(va(Ae))if(Cp)Lt=n_;else{Lt=t_;var Je=Za}else ke=Ae.nodeName,!ke||ke.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?we&&sc(we.elementType)&&(Lt=vc):Lt=dl;if(Lt&&(Lt=Lt(o,we))){Np(Re,Lt,h,Ce);break e}Je&&Je(o,Ae,we),o==="focusout"&&we&&Ae.type==="number"&&we.memoizedProps.value!=null&&Ka(Ae,"number",Ae.value)}switch(Je=we?ha(we):window,o){case"focusin":(va(Je)||Je.contentEditable==="true")&&(Co=Je,Uu=we,_c=null);break;case"focusout":_c=Uu=Co=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,Pp(Re,h,Ce);break;case"selectionchange":if(zu)break;case"keydown":case"keyup":Pp(Re,h,Ce)}var bt;if(Pu)e:{switch(o){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else ll?jp(o,h)&&(Ot="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ru&&h.locale!=="ko"&&(ll||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ll&&(bt=Oo()):(pa=Ce,ns="value"in pa?pa.value:pa.textContent,ll=!0)),Je=_g(we,Ot),0<Je.length&&(Ot=new Lf(Ot,o,null,h,Ce),Re.push({event:Ot,listeners:Je}),bt?Ot.data=bt:(bt=zf(h),bt!==null&&(Ot.data=bt)))),(bt=Qb?Ui(o,h):cl(o,h))&&(Ot=_g(we,"onBeforeInput"),0<Ot.length&&(Je=new Lf("onBeforeInput","beforeinput",null,h,Ce),Re.push({event:Je,listeners:Ot}),Je.data=bt)),q8(Re,o,we,h,Ce)}bj(Re,l)})}function ph(o,l,h){return{instance:o,listener:l,currentTarget:h}}function _g(o,l){for(var h=l+"Capture",v=[];o!==null;){var E=o,k=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||k===null||(E=ts(o,h),E!=null&&v.unshift(ph(o,E,k)),E=ts(o,l),E!=null&&v.push(ph(o,E,k))),o.tag===3)return v;o=o.return}return[]}function V8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function xj(o,l,h,v,E){for(var k=l._reactName,R=[];h!==null&&h!==v;){var G=h,oe=G.alternate,we=G.stateNode;if(G=G.tag,oe!==null&&oe===v)break;G!==5&&G!==26&&G!==27||we===null||(oe=we,E?(we=ts(h,k),we!=null&&R.unshift(ph(h,we,oe))):E||(we=ts(h,k),we!=null&&R.push(ph(h,we,oe)))),h=h.return}R.length!==0&&o.push({event:l,listeners:R})}var Z8=/\r\n?/g,X8=/\u0000|\uFFFD/g;function wj(o){return(typeof o=="string"?o:""+o).replace(Z8,`
`).replace(X8,"")}function Sj(o,l){return l=wj(l),wj(o)===l}function Xt(o,l,h,v,E,k){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||ma(o,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&ma(o,""+v);break;case"className":Bt(o,"class",v);break;case"tabIndex":Bt(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Bt(o,h,v);break;case"style":ju(o,v,k);break;case"data":if(l!=="object"){Bt(o,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=il(""+v),o.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(l!=="input"&&Xt(o,l,"name",E.name,E,null),Xt(o,l,"formEncType",E.formEncType,E,null),Xt(o,l,"formMethod",E.formMethod,E,null),Xt(o,l,"formTarget",E.formTarget,E,null)):(Xt(o,l,"encType",E.encType,E,null),Xt(o,l,"method",E.method,E,null),Xt(o,l,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=il(""+v),o.setAttribute(h,v);break;case"onClick":v!=null&&(o.onclick=vi);break;case"onScroll":v!=null&&St("scroll",o);break;case"onScrollEnd":v!=null&&St("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}h=il(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""+v):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":v===!0?o.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,v):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(h,v):o.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(h):o.setAttribute(h,v);break;case"popover":St("beforetoggle",o),St("toggle",o),vt(o,"popover",v);break;case"xlinkActuate":Tr(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Tr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Tr(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Tr(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Tr(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Tr(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Tr(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Tr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Tr(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":vt(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Nu.get(h)||h,vt(o,h,v))}}function yx(o,l,h,v,E,k){switch(h){case"style":ju(o,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof v=="string"?ma(o,v):(typeof v=="number"||typeof v=="bigint")&&ma(o,""+v);break;case"onScroll":v!=null&&St("scroll",o);break;case"onScrollEnd":v!=null&&St("scrollend",o);break;case"onClick":v!=null&&(o.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!At.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(E=h.endsWith("Capture"),l=h.slice(2,E?h.length-7:void 0),k=o[kn]||null,k=k!=null?k[h]:null,typeof k=="function"&&o.removeEventListener(l,k,E),typeof v=="function")){typeof k!="function"&&k!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,v,E);break e}h in o?o[h]=v:v===!0?o.setAttribute(h,""):vt(o,h,v)}}}function Nr(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",o),St("load",o);var v=!1,E=!1,k;for(k in h)if(h.hasOwnProperty(k)){var R=h[k];if(R!=null)switch(k){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xt(o,l,k,R,h,null)}}E&&Xt(o,l,"srcSet",h.srcSet,h,null),v&&Xt(o,l,"src",h.src,h,null);return;case"input":St("invalid",o);var G=k=R=E=null,oe=null,we=null;for(v in h)if(h.hasOwnProperty(v)){var Ce=h[v];if(Ce!=null)switch(v){case"name":E=Ce;break;case"type":R=Ce;break;case"checked":oe=Ce;break;case"defaultChecked":we=Ce;break;case"value":k=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,l));break;default:Xt(o,l,v,Ce,h,null)}}oc(o,k,G,oe,we,R,E,!1);return;case"select":St("invalid",o),v=R=k=null;for(E in h)if(h.hasOwnProperty(E)&&(G=h[E],G!=null))switch(E){case"value":k=G;break;case"defaultValue":R=G;break;case"multiple":v=G;default:Xt(o,l,E,G,h,null)}l=k,h=R,o.multiple=!!v,l!=null?en(o,!!v,l,!1):h!=null&&en(o,!!v,h,!0);return;case"textarea":St("invalid",o),k=E=v=null;for(R in h)if(h.hasOwnProperty(R)&&(G=h[R],G!=null))switch(R){case"value":v=G;break;case"defaultValue":E=G;break;case"children":k=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Xt(o,l,R,G,h,null)}nl(o,v,E,k);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(v=h[oe],v!=null))switch(oe){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Xt(o,l,oe,v,h,null)}return;case"dialog":St("beforetoggle",o),St("toggle",o),St("cancel",o),St("close",o);break;case"iframe":case"object":St("load",o);break;case"video":case"audio":for(v=0;v<mh.length;v++)St(mh[v],o);break;case"image":St("error",o),St("load",o);break;case"details":St("toggle",o);break;case"embed":case"source":case"link":St("error",o),St("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in h)if(h.hasOwnProperty(we)&&(v=h[we],v!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xt(o,l,we,v,h,null)}return;default:if(sc(l)){for(Ce in h)h.hasOwnProperty(Ce)&&(v=h[Ce],v!==void 0&&yx(o,l,Ce,v,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(v=h[G],v!=null&&Xt(o,l,G,v,h,null))}function J8(o,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,k=null,R=null,G=null,oe=null,we=null,Ce=null;for(ke in h){var Re=h[ke];if(h.hasOwnProperty(ke)&&Re!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":oe=Re;default:v.hasOwnProperty(ke)||Xt(o,l,ke,null,v,Re)}}for(var Ae in v){var ke=v[Ae];if(Re=h[Ae],v.hasOwnProperty(Ae)&&(ke!=null||Re!=null))switch(Ae){case"type":k=ke;break;case"name":E=ke;break;case"checked":we=ke;break;case"defaultChecked":Ce=ke;break;case"value":R=ke;break;case"defaultValue":G=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,l));break;default:ke!==Re&&Xt(o,l,Ae,ke,v,Re)}}Of(o,R,G,oe,we,Ce,k,E);return;case"select":ke=R=G=Ae=null;for(k in h)if(oe=h[k],h.hasOwnProperty(k)&&oe!=null)switch(k){case"value":break;case"multiple":ke=oe;default:v.hasOwnProperty(k)||Xt(o,l,k,null,v,oe)}for(E in v)if(k=v[E],oe=h[E],v.hasOwnProperty(E)&&(k!=null||oe!=null))switch(E){case"value":Ae=k;break;case"defaultValue":G=k;break;case"multiple":R=k;default:k!==oe&&Xt(o,l,E,k,v,oe)}l=G,h=R,v=ke,Ae!=null?en(o,!!h,Ae,!1):!!v!=!!h&&(l!=null?en(o,!!h,l,!0):en(o,!!h,h?[]:"",!1));return;case"textarea":ke=Ae=null;for(G in h)if(E=h[G],h.hasOwnProperty(G)&&E!=null&&!v.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Xt(o,l,G,null,v,E)}for(R in v)if(E=v[R],k=h[R],v.hasOwnProperty(R)&&(E!=null||k!=null))switch(R){case"value":Ae=E;break;case"defaultValue":ke=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==k&&Xt(o,l,R,E,v,k)}ko(o,Ae,ke);return;case"option":for(var Ve in h)if(Ae=h[Ve],h.hasOwnProperty(Ve)&&Ae!=null&&!v.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:Xt(o,l,Ve,null,v,Ae)}for(oe in v)if(Ae=v[oe],ke=h[oe],v.hasOwnProperty(oe)&&Ae!==ke&&(Ae!=null||ke!=null))switch(oe){case"selected":o.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:Xt(o,l,oe,Ae,v,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in h)Ae=h[ot],h.hasOwnProperty(ot)&&Ae!=null&&!v.hasOwnProperty(ot)&&Xt(o,l,ot,null,v,Ae);for(we in v)if(Ae=v[we],ke=h[we],v.hasOwnProperty(we)&&Ae!==ke&&(Ae!=null||ke!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:Xt(o,l,we,Ae,v,ke)}return;default:if(sc(l)){for(var Jt in h)Ae=h[Jt],h.hasOwnProperty(Jt)&&Ae!==void 0&&!v.hasOwnProperty(Jt)&&yx(o,l,Jt,void 0,v,Ae);for(Ce in v)Ae=v[Ce],ke=h[Ce],!v.hasOwnProperty(Ce)||Ae===ke||Ae===void 0&&ke===void 0||yx(o,l,Ce,Ae,v,ke);return}}for(var ve in h)Ae=h[ve],h.hasOwnProperty(ve)&&Ae!=null&&!v.hasOwnProperty(ve)&&Xt(o,l,ve,null,v,Ae);for(Re in v)Ae=v[Re],ke=h[Re],!v.hasOwnProperty(Re)||Ae===ke||Ae==null&&ke==null||Xt(o,l,Re,Ae,v,ke)}function Ej(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var E=h[v],k=E.transferSize,R=E.initiatorType,G=E.duration;if(k&&G&&Ej(R)){for(R=0,G=E.responseEnd,v+=1;v<h.length;v++){var oe=h[v],we=oe.startTime;if(we>G)break;var Ce=oe.transferSize,Re=oe.initiatorType;Ce&&Ej(Re)&&(oe=oe.responseEnd,R+=Ce*(oe<G?1:(G-we)/(oe-we)))}if(--v,l+=8*(k+R)/(E.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var bx=null,_x=null;function xg(o){return o.nodeType===9?o:o.ownerDocument}function Aj(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tj(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function xx(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var wx=null;function eU(){var o=window.event;return o&&o.type==="popstate"?o===wx?!1:(wx=o,!0):(wx=null,!1)}var kj=typeof setTimeout=="function"?setTimeout:void 0,tU=typeof clearTimeout=="function"?clearTimeout:void 0,Oj=typeof Promise=="function"?Promise:void 0,nU=typeof queueMicrotask=="function"?queueMicrotask:typeof Oj<"u"?function(o){return Oj.resolve(null).then(o).catch(rU)}:kj;function rU(o){setTimeout(function(){throw o})}function Nl(o){return o==="head"}function jj(o,l){var h=l,v=0;do{var E=h.nextSibling;if(o.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"||h==="/&"){if(v===0){o.removeChild(E),hd(l);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")gh(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,gh(h);for(var k=h.firstChild;k;){var R=k.nextSibling,G=k.nodeName;k[qa]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=R}}else h==="body"&&gh(o.ownerDocument.body);h=E}while(h);hd(l)}function Nj(o,l){var h=o;o=0;do{var v=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=v}while(h)}function Sx(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Sx(h),es(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function iU(o,l,h,v){for(;o.nodeType===1;){var E=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[qa])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var k=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=Sa(o.nextSibling),o===null)break}return null}function aU(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Sa(o.nextSibling),o===null))return null;return o}function Cj(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Sa(o.nextSibling),o===null))return null;return o}function Ex(o){return o.data==="$?"||o.data==="$~"}function Ax(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function oU(o,l){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||h.readyState!=="loading")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Sa(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Tx=null;function Mj(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(l===0)return Sa(o.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}o=o.nextSibling}return null}function Dj(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return o;l--}else h!=="/$"&&h!=="/&"||l++}o=o.previousSibling}return null}function Pj(o,l,h){switch(l=xg(h),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function gh(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);es(o)}var Ea=new Map,Rj=new Set;function wg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ys=le.d;le.d={f:sU,r:lU,D:cU,C:uU,L:dU,m:fU,X:mU,S:hU,M:pU};function sU(){var o=ys.f(),l=hg();return o||l}function lU(o){var l=To(o);l!==null&&l.tag===5&&l.type==="form"?Jk(l):ys.r(o)}var ud=typeof document>"u"?null:document;function Lj(o,l,h){var v=ud;if(v&&typeof l=="string"&&l){var E=pn(l);E='link[rel="'+o+'"][href="'+E+'"]',typeof h=="string"&&(E+='[crossorigin="'+h+'"]'),Rj.has(E)||(Rj.add(E),o={rel:o,crossOrigin:h,href:l},v.querySelector(E)===null&&(l=v.createElement("link"),Nr(l,"link",o),He(l),v.head.appendChild(l)))}}function cU(o){ys.D(o),Lj("dns-prefetch",o,null)}function uU(o,l){ys.C(o,l),Lj("preconnect",o,l)}function dU(o,l,h){ys.L(o,l,h);var v=ud;if(v&&o&&l){var E='link[rel="preload"][as="'+pn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(E+='[imagesrcset="'+pn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(E+='[imagesizes="'+pn(h.imageSizes)+'"]')):E+='[href="'+pn(o)+'"]';var k=E;switch(l){case"style":k=dd(o);break;case"script":k=fd(o)}Ea.has(k)||(o=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),Ea.set(k,o),v.querySelector(E)!==null||l==="style"&&v.querySelector(vh(k))||l==="script"&&v.querySelector(yh(k))||(l=v.createElement("link"),Nr(l,"link",o),He(l),v.head.appendChild(l)))}}function fU(o,l){ys.m(o,l);var h=ud;if(h&&o){var v=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+pn(v)+'"][href="'+pn(o)+'"]',k=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=fd(o)}if(!Ea.has(k)&&(o=p({rel:"modulepreload",href:o},l),Ea.set(k,o),h.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yh(k)))return}v=h.createElement("link"),Nr(v,"link",o),He(v),h.head.appendChild(v)}}}function hU(o,l,h){ys.S(o,l,h);var v=ud;if(v&&o){var E=_e(v).hoistableStyles,k=dd(o);l=l||"default";var R=E.get(k);if(!R){var G={loading:0,preload:null};if(R=v.querySelector(vh(k)))G.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},h),(h=Ea.get(k))&&kx(o,h);var oe=R=v.createElement("link");He(oe),Nr(oe,"link",o),oe._p=new Promise(function(we,Ce){oe.onload=we,oe.onerror=Ce}),oe.addEventListener("load",function(){G.loading|=1}),oe.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Sg(R,l,v)}R={type:"stylesheet",instance:R,count:1,state:G},E.set(k,R)}}}function mU(o,l){ys.X(o,l);var h=ud;if(h&&o){var v=_e(h).hoistableScripts,E=fd(o),k=v.get(E);k||(k=h.querySelector(yh(E)),k||(o=p({src:o,async:!0},l),(l=Ea.get(E))&&Ox(o,l),k=h.createElement("script"),He(k),Nr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function pU(o,l){ys.M(o,l);var h=ud;if(h&&o){var v=_e(h).hoistableScripts,E=fd(o),k=v.get(E);k||(k=h.querySelector(yh(E)),k||(o=p({src:o,async:!0,type:"module"},l),(l=Ea.get(E))&&Ox(o,l),k=h.createElement("script"),He(k),Nr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(E,k))}}function Ij(o,l,h,v){var E=(E=W.current)?wg(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=dd(h.href),h=_e(E).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=dd(h.href);var k=_e(E).hoistableStyles,R=k.get(o);if(R||(E=E.ownerDocument||E,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,R),(k=E.querySelector(vh(o)))&&!k._p&&(R.instance=k,R.state.loading=5),Ea.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ea.set(o,h),k||gU(E,o,h,R.state))),l&&v===null)throw Error(r(528,""));return R}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=fd(h),h=_e(E).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function dd(o){return'href="'+pn(o)+'"'}function vh(o){return'link[rel="stylesheet"]['+o+"]"}function $j(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function gU(o,l,h,v){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=o.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Nr(l,"link",h),He(l),o.head.appendChild(l))}function fd(o){return'[src="'+pn(o)+'"]'}function yh(o){return"script[async]"+o}function Bj(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=o.querySelector('style[data-href~="'+pn(h.href)+'"]');if(v)return l.instance=v,He(v),v;var E=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),He(v),Nr(v,"style",E),Sg(v,h.precedence,o),l.instance=v;case"stylesheet":E=dd(h.href);var k=o.querySelector(vh(E));if(k)return l.state.loading|=4,l.instance=k,He(k),k;v=$j(h),(E=Ea.get(E))&&kx(v,E),k=(o.ownerDocument||o).createElement("link"),He(k);var R=k;return R._p=new Promise(function(G,oe){R.onload=G,R.onerror=oe}),Nr(k,"link",v),l.state.loading|=4,Sg(k,h.precedence,o),l.instance=k;case"script":return k=fd(h.src),(E=o.querySelector(yh(k)))?(l.instance=E,He(E),E):(v=h,(E=Ea.get(k))&&(v=p({},h),Ox(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),He(E),Nr(E,"link",v),o.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Sg(v,h.precedence,o));return l.instance}function Sg(o,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,k=E,R=0;R<v.length;R++){var G=v[R];if(G.dataset.precedence===l)k=G;else if(k!==E)break}k?k.parentNode.insertBefore(o,k.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function kx(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Ox(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Eg=null;function zj(o,l,h){if(Eg===null){var v=new Map,E=Eg=new Map;E.set(h,v)}else E=Eg,v=E.get(h),v||(v=new Map,E.set(h,v));if(v.has(o))return v;for(v.set(o,null),h=h.getElementsByTagName(o),E=0;E<h.length;E++){var k=h[E];if(!(k[qa]||k[Yt]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var R=k.getAttribute(l)||"";R=o+R;var G=v.get(R);G?G.push(k):v.set(R,[k])}}return v}function Uj(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function vU(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Hj(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function yU(o,l,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var E=dd(v.href),k=l.querySelector(vh(E));if(k){l=k._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Ag.bind(o),l.then(o,o)),h.state.loading|=4,h.instance=k,He(k);return}k=l.ownerDocument||l,v=$j(v),(E=Ea.get(E))&&kx(v,E),k=k.createElement("link"),He(k);var R=k;R._p=new Promise(function(G,oe){R.onload=G,R.onerror=oe}),Nr(k,"link",v),h.instance=k}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Ag.bind(o),l.addEventListener("load",h),l.addEventListener("error",h))}}var jx=0;function bU(o,l){return o.stylesheets&&o.count===0&&kg(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var v=setTimeout(function(){if(o.stylesheets&&kg(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4+l);0<o.imgBytes&&jx===0&&(jx=62500*Q8());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&kg(o,o.stylesheets),o.unsuspend)){var k=o.unsuspend;o.unsuspend=null,k()}},(o.imgBytes>jx?50:800)+l);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(E)}}:null}function Ag(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Tg=null;function kg(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Tg=new Map,l.forEach(_U,o),Tg=null,Ag.call(o))}function _U(o,l){if(!(l.state.loading&4)){var h=Tg.get(o);if(h)var v=h.get(null);else{h=new Map,Tg.set(o,h);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<E.length;k++){var R=E[k];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(h.set(R.dataset.precedence,R),v=R)}v&&h.set(null,v)}E=l.instance,R=E.getAttribute("data-precedence"),k=h.get(R)||v,k===v&&h.set(null,E),h.set(R,E),this.count++,v=Ag.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),k?k.parentNode.insertBefore(E,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),l.state.loading|=4}}var bh={$$typeof:O,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function xU(o,l,h,v,E,k,R,G,oe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.hiddenUpdates=wo(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=k,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function Fj(o,l,h,v,E,k,R,G,oe,we,Ce,Re){return o=new xU(o,l,h,R,oe,we,Ce,Re,G),l=1,k===!0&&(l|=24),k=Yr(3,null,null,l),o.current=k,k.stateNode=o,l=l_(),l.refCount++,o.pooledCache=l,l.refCount++,k.memoizedState={element:v,isDehydrated:h,cache:l},f_(k),o}function Gj(o){return o?(o=is,o):is}function qj(o,l,h,v,E,k){E=Gj(E),v.context===null?v.context=E:v.pendingContext=E,v=bl(l),v.payload={element:h},k=k===void 0?null:k,k!==null&&(v.callback=k),h=_l(o,v,l),h!==null&&(Ti(h,o,l),Xf(h,o,l))}function Yj(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Nx(o,l){Yj(o,l),(o=o.alternate)&&Yj(o,l)}function Kj(o){if(o.tag===13||o.tag===31){var l=_a(o,67108864);l!==null&&Ti(l,o,67108864),Nx(o,67108864)}}function Wj(o){if(o.tag===13||o.tag===31){var l=Yi();l=Ar(l);var h=_a(o,l);h!==null&&Ti(h,o,l),Nx(o,l)}}var Og=!0;function wU(o,l,h,v){var E=J.T;J.T=null;var k=le.p;try{le.p=2,Cx(o,l,h,v)}finally{le.p=k,J.T=E}}function SU(o,l,h,v){var E=J.T;J.T=null;var k=le.p;try{le.p=8,Cx(o,l,h,v)}finally{le.p=k,J.T=E}}function Cx(o,l,h,v){if(Og){var E=Mx(v);if(E===null)vx(o,l,v,jg,h),Zj(o,v);else if(AU(E,o,l,h,v))v.stopPropagation();else if(Zj(o,v),l&4&&-1<EU.indexOf(o)){for(;E!==null;){var k=To(E);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var R=Fr(k.pendingLanes);if(R!==0){var G=k;for(G.pendingLanes|=2,G.entangledLanes|=2;R;){var oe=1<<31-an(R);G.entanglements[1]|=oe,R&=~oe}Bo(k),(zt&6)===0&&(dg=ze()+500,hh(0))}}break;case 31:case 13:G=_a(k,2),G!==null&&Ti(G,k,2),hg(),Nx(k,2)}if(k=Mx(v),k===null&&vx(o,l,v,jg,h),k===E)break;E=k}E!==null&&v.stopPropagation()}else vx(o,l,v,null,h)}}function Mx(o){return o=lc(o),Dx(o)}var jg=null;function Dx(o){if(jg=null,o=Ii(o),o!==null){var l=a(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=s(l),o!==null)return o;o=null}else if(h===31){if(o=c(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return jg=o,null}function Vj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case ct:return 2;case dt:return 8;case Dt:case _t:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var Px=!1,Cl=null,Ml=null,Dl=null,_h=new Map,xh=new Map,Pl=[],EU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zj(o,l){switch(o){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":_h.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(l.pointerId)}}function wh(o,l,h,v,E,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:k,targetContainers:[E]},l!==null&&(l=To(l),l!==null&&Kj(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),o)}function AU(o,l,h,v,E){switch(l){case"focusin":return Cl=wh(Cl,o,l,h,v,E),!0;case"dragenter":return Ml=wh(Ml,o,l,h,v,E),!0;case"mouseover":return Dl=wh(Dl,o,l,h,v,E),!0;case"pointerover":var k=E.pointerId;return _h.set(k,wh(_h.get(k)||null,o,l,h,v,E)),!0;case"gotpointercapture":return k=E.pointerId,xh.set(k,wh(xh.get(k)||null,o,l,h,v,E)),!0}return!1}function Xj(o){var l=Ii(o.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=s(h),l!==null){o.blockedOn=l,el(o.priority,function(){Wj(h)});return}}else if(l===31){if(l=c(h),l!==null){o.blockedOn=l,el(o.priority,function(){Wj(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ng(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Mx(o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);Cu=v,h.target.dispatchEvent(v),Cu=null}else return l=To(h),l!==null&&Kj(l),o.blockedOn=h,!1;l.shift()}return!0}function Jj(o,l,h){Ng(o)&&h.delete(l)}function TU(){Px=!1,Cl!==null&&Ng(Cl)&&(Cl=null),Ml!==null&&Ng(Ml)&&(Ml=null),Dl!==null&&Ng(Dl)&&(Dl=null),_h.forEach(Jj),xh.forEach(Jj)}function Cg(o,l){o.blockedOn===l&&(o.blockedOn=null,Px||(Px=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TU)))}var Mg=null;function Qj(o){Mg!==o&&(Mg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mg===o&&(Mg=null);for(var l=0;l<o.length;l+=3){var h=o[l],v=o[l+1],E=o[l+2];if(typeof v!="function"){if(Dx(v||h)===null)continue;break}var k=To(h);k!==null&&(o.splice(l,3),l-=3,M_(k,{pending:!0,data:E,method:h.method,action:v},v,E))}}))}function hd(o){function l(oe){return Cg(oe,o)}Cl!==null&&Cg(Cl,o),Ml!==null&&Cg(Ml,o),Dl!==null&&Cg(Dl,o),_h.forEach(l),xh.forEach(l);for(var h=0;h<Pl.length;h++){var v=Pl[h];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Pl.length&&(h=Pl[0],h.blockedOn===null);)Xj(h),h.blockedOn===null&&Pl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var E=h[v],k=h[v+1],R=E[kn]||null;if(typeof k=="function")R||Qj(h);else if(R){var G=null;if(k&&k.hasAttribute("formAction")){if(E=k,R=k[kn]||null)G=R.formAction;else if(Dx(E)!==null)continue}else G=R.action;typeof G=="function"?h[v+1]=G:(h.splice(v,3),v-=3),Qj(h)}}}function eN(){function o(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(R){return E=R})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function Rx(o){this._internalRoot=o}Dg.prototype.render=Rx.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,v=Yi();qj(h,v,o,l,null,null)},Dg.prototype.unmount=Rx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;qj(o.current,2,null,o,null,null),hg(),l[pi]=null}};function Dg(o){this._internalRoot=o}Dg.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ao();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Pl.length&&l!==0&&l<Pl[h].priority;h++);Pl.splice(h,0,o),h===0&&Xj(o)}};var tN=t.version;if(tN!=="19.2.1")throw Error(r(527,tN,"19.2.1"));le.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var kU={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{Rn=Pg.inject(kU),qt=Pg}catch{}}return Eh.createRoot=function(o,l){if(!i(o))throw Error(r(299));var h=!1,v="",E=lO,k=cO,R=uO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=Fj(o,1,!1,null,null,h,v,null,E,k,R,eN),o[pi]=l.current,gx(o),new Rx(l)},Eh.hydrateRoot=function(o,l,h){if(!i(o))throw Error(r(299));var v=!1,E="",k=lO,R=cO,G=uO,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(R=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(oe=h.formState)),l=Fj(o,1,!0,l,h??null,v,E,oe,k,R,G,eN),l.context=Gj(null),h=l.current,v=Yi(),v=Ar(v),E=bl(v),E.callback=null,_l(h,E,v),h=v,l.current.lanes=h,fa(l,h),Bo(l),o[pi]=l.current,gx(o),new Dg(l)},Eh.version="19.2.1",Eh}var dN;function IU(){if(dN)return $x.exports;dN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$x.exports=LU(),$x.exports}var $U=IU();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fN="popstate";function BU(e={}){function t(i,a){let{pathname:s="/",search:c="",hash:d=""}=wu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),OS("",{pathname:s,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:om(a))}function r(i,a){Ia(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return UU(t,n,r,e)}function Mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ia(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zU(){return Math.random().toString(36).substring(2,10)}function hN(e,t){return{usr:e.state,key:e.key,idx:t}}function OS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?wu(t):t,state:n,key:t&&t.key||r||zU()}}function om({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function UU(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",d=null,f=m();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function m(){return(s.state||{idx:null}).idx}function p(){c="POP";let S=m(),j=S==null?null:S-f;f=S,d&&d({action:c,location:T.location,delta:j})}function y(S,j){c="PUSH";let D=OS(T.location,S,j);n&&n(D,S),f=m()+1;let O=hN(D,f),M=T.createHref(D);try{s.pushState(O,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(M)}a&&d&&d({action:c,location:T.location,delta:1})}function b(S,j){c="REPLACE";let D=OS(T.location,S,j);n&&n(D,S),f=m();let O=hN(D,f),M=T.createHref(D);s.replaceState(O,"",M),a&&d&&d({action:c,location:T.location,delta:0})}function x(S){return HU(S)}let T={get action(){return c},get location(){return e(i,s)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(fN,p),d=S,()=>{i.removeEventListener(fN,p),d=null}},createHref(S){return t(i,S)},createURL:x,encodeLocation(S){let j=x(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:b,go(S){return s.go(S)}};return T}function HU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:om(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zL(e,t,n="/"){return FU(e,t,n,!1)}function FU(e,t,n,r){let i=typeof t=="string"?wu(t):t,a=Rs(i.pathname||"/",n);if(a==null)return null;let s=UL(e);GU(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let f=tH(a);c=QU(s[d],f,r)}return c}function UL(e,t=[],n=[],r="",i=!1){let a=(s,c,d=i,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Mn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Ms([r,m.relativePath]),y=n.concat(m);s.children&&s.children.length>0&&(Mn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),UL(s.children,t,y,p,d)),!(s.path==null&&!s.index)&&t.push({path:p,score:XU(p,s.index),routesMeta:y})};return e.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))a(s,c);else for(let d of HL(s.path))a(s,c,!0,d)}),t}function HL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=HL(r.join("/")),c=[];return c.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...s),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function GU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:JU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qU=/^:[\w-]+$/,YU=3,KU=2,WU=1,VU=10,ZU=-2,mN=e=>e==="*";function XU(e,t){let n=e.split("/"),r=n.length;return n.some(mN)&&(r+=ZU),t&&(r+=KU),n.filter(i=>!mN(i)).reduce((i,a)=>i+(qU.test(a)?YU:a===""?WU:VU),r)}function JU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function QU(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=hv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=hv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Ms([a,p.pathname]),pathnameBase:oH(Ms([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Ms([a,p.pathnameBase]))}return s}function hv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=eH(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let x=c[y]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[y];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function eH(e,t=!1,n=!0){Ia(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function tH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ia(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var nH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rH=e=>nH.test(e);function iH(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?wu(e):e,a;if(n)if(rH(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Ia(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=pN(n.substring(1),"/"):a=pN(n,t)}else a=t;return{pathname:a,search:sH(r),hash:lH(i)}}function pN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FL(e){let t=aH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function GL(e,t,n,r=!1){let i;typeof e=="string"?i=wu(e):(i={...e},Mn(!i.pathname||!i.pathname.includes("?"),Hx("?","pathname","search",i)),Mn(!i.pathname||!i.pathname.includes("#"),Hx("#","pathname","hash",i)),Mn(!i.search||!i.search.includes("#"),Hx("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}c=p>=0?t[p]:"/"}let d=iH(i,c),f=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ms=e=>e.join("/").replace(/\/\/+/g,"/"),oH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function uH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qL=["POST","PUT","PATCH","DELETE"];new Set(qL);var dH=["GET",...qL];new Set(dH);var lf=A.createContext(null);lf.displayName="DataRouter";var Cy=A.createContext(null);Cy.displayName="DataRouterState";A.createContext(!1);var YL=A.createContext({isTransitioning:!1});YL.displayName="ViewTransition";var fH=A.createContext(new Map);fH.displayName="Fetchers";var hH=A.createContext(null);hH.displayName="Await";var bo=A.createContext(null);bo.displayName="Navigation";var $m=A.createContext(null);$m.displayName="Location";var Fs=A.createContext({outlet:null,matches:[],isDataRoute:!1});Fs.displayName="Route";var p2=A.createContext(null);p2.displayName="RouteError";function mH(e,{relative:t}={}){Mn(Bm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(bo),{hash:i,pathname:a,search:s}=zm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Ms([n,a])),r.createHref({pathname:c,search:s,hash:i})}function Bm(){return A.useContext($m)!=null}function Xl(){return Mn(Bm(),"useLocation() may be used only in the context of a <Router> component."),A.useContext($m).location}var KL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WL(e){A.useContext(bo).static||A.useLayoutEffect(e)}function pH(){let{isDataRoute:e}=A.useContext(Fs);return e?OH():gH()}function gH(){Mn(Bm(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(lf),{basename:t,navigator:n}=A.useContext(bo),{matches:r}=A.useContext(Fs),{pathname:i}=Xl(),a=JSON.stringify(FL(r)),s=A.useRef(!1);return WL(()=>{s.current=!0}),A.useCallback((d,f={})=>{if(Ia(s.current,KL),!s.current)return;if(typeof d=="number"){n.go(d);return}let m=GL(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ms([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}A.createContext(null);function zm(e,{relative:t}={}){let{matches:n}=A.useContext(Fs),{pathname:r}=Xl(),i=JSON.stringify(FL(n));return A.useMemo(()=>GL(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function vH(e,t){return VL(e,t)}function VL(e,t,n,r,i){Mn(Bm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(bo),{matches:s}=A.useContext(Fs),c=s[s.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let D=p&&p.path||"";ZL(f,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Xl(),b;if(t){let D=typeof t=="string"?wu(t):t;Mn(m==="/"||D.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=y;let x=b.pathname||"/",T=x;if(m!=="/"){let D=m.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=zL(e,{pathname:T});Ia(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ia(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=wH(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Ms([m,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:Ms([m,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,n,r,i);return t&&j?A.createElement($m.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function yH(){let e=kH(),t=cH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,s)}var bH=A.createElement(yH,null),_H=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement(Fs.Provider,{value:this.props.routeContext},A.createElement(p2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xH({routeContext:e,match:t,children:n}){let r=A.useContext(lf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Fs.Provider,{value:e},n)}function wH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let m=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);Mn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:b}=n,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,y)=>{let b,x=!1,T=null,S=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,T=p.route.errorElement||bH,c&&(d<0&&y===0?(ZL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):d===y&&(x=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,y+1)),D=()=>{let O;return b?O=T:x?O=S:p.route.Component?O=A.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,A.createElement(xH,{match:p,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(_H,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:f}):D()},null)}function g2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SH(e){let t=A.useContext(lf);return Mn(t,g2(e)),t}function EH(e){let t=A.useContext(Cy);return Mn(t,g2(e)),t}function AH(e){let t=A.useContext(Fs);return Mn(t,g2(e)),t}function v2(e){let t=AH(e),n=t.matches[t.matches.length-1];return Mn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function TH(){return v2("useRouteId")}function kH(){let e=A.useContext(p2),t=EH("useRouteError"),n=v2("useRouteError");return e!==void 0?e:t.errors?.[n]}function OH(){let{router:e}=SH("useNavigate"),t=v2("useNavigate"),n=A.useRef(!1);return WL(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{Ia(n.current,KL),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var gN={};function ZL(e,t,n){!t&&!gN[e]&&(gN[e]=!0,Ia(!1,n))}A.memo(jH);function jH({routes:e,future:t,state:n,unstable_onError:r}){return VL(e,void 0,n,r,t)}function Y0(e){Mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NH({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Mn(!Bm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[c,i,a,s]);typeof n=="string"&&(n=wu(n));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:b="default"}=n,x=A.useMemo(()=>{let T=Rs(f,c);return T==null?null:{location:{pathname:T,search:m,hash:p,state:y,key:b},navigationType:r}},[c,f,m,p,y,b,r]);return Ia(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:A.createElement(bo.Provider,{value:d},A.createElement($m.Provider,{children:t,value:x}))}function CH({children:e,location:t}){return vH(jS(e),t)}function jS(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let a=[...t,i];if(r.type===A.Fragment){n.push.apply(n,jS(r.props.children,a));return}Mn(r.type===Y0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jS(r.props.children,a)),n.push(s)}),n}var K0="get",W0="application/x-www-form-urlencoded";function My(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function MH(e){return My(e)&&e.tagName.toLowerCase()==="button"}function DH(e){return My(e)&&e.tagName.toLowerCase()==="form"}function PH(e){return My(e)&&e.tagName.toLowerCase()==="input"}function RH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LH(e,t){return e.button===0&&(!t||t==="_self")&&!RH(e)}var Rg=null;function IH(){if(Rg===null)try{new FormData(document.createElement("form"),0),Rg=!1}catch{Rg=!0}return Rg}var $H=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fx(e){return e!=null&&!$H.has(e)?(Ia(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${W0}"`),null):e}function BH(e,t){let n,r,i,a,s;if(DH(e)){let c=e.getAttribute("action");r=c?Rs(c,t):null,n=e.getAttribute("method")||K0,i=Fx(e.getAttribute("enctype"))||W0,a=new FormData(e)}else if(MH(e)||PH(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(r=d?Rs(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||K0,i=Fx(e.getAttribute("formenctype"))||Fx(c.getAttribute("enctype"))||W0,a=new FormData(c,e),!IH()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(My(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=K0,r=null,i=W0,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function y2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zH(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Rs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function UH(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FH(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await UH(a,n);return s.links?s.links():[]}return[]}));return KH(r.flat(1).filter(HH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vN(e,t,n,r,i,a){let s=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?t.filter((d,f)=>s(d,f)||c(d,f)):a==="data"?t.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(s(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function GH(e,t,{includeHydrateFallback:n}={}){return qH(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function qH(e){return[...new Set(e)]}function YH(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function KH(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(YH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function XL(){let e=A.useContext(lf);return y2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WH(){let e=A.useContext(Cy);return y2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var b2=A.createContext(void 0);b2.displayName="FrameworkContext";function JL(){let e=A.useContext(b2);return y2(e,"You must render this element inside a <HydratedRouter> element"),e}function VH(e,t){let n=A.useContext(b2),[r,i]=A.useState(!1),[a,s]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let T=j=>{j.forEach(D=>{s(D.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),A.useEffect(()=>{if(r){let T=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(T)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Ah(c,b),onBlur:Ah(d,x),onMouseEnter:Ah(f,b),onMouseLeave:Ah(m,x),onTouchStart:Ah(p,b)}]:[!1,y,{}]}function Ah(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ZH({page:e,...t}){let{router:n}=XL(),r=A.useMemo(()=>zL(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(JH,{page:e,matches:r,...t}):null}function XH(e){let{manifest:t,routeModules:n}=JL(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return FH(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function JH({page:e,matches:t,...n}){let r=Xl(),{manifest:i,routeModules:a}=JL(),{basename:s}=XL(),{loaderData:c,matches:d}=WH(),f=A.useMemo(()=>vN(e,t,d,i,r,"data"),[e,t,d,i,r]),m=A.useMemo(()=>vN(e,t,d,i,r,"assets"),[e,t,d,i,r]),p=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,T=!1;if(t.forEach(j=>{let D=i.routes[j.route.id];!D||!D.hasLoader||(!f.some(O=>O.route.id===j.route.id)&&j.route.id in c&&a[j.route.id]?.shouldRevalidate||D.hasClientLoader?T=!0:x.add(j.route.id))}),x.size===0)return[];let S=zH(e,s,"data");return T&&x.size>0&&S.searchParams.set("_routes",t.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[s,c,r,i,f,t,e,a]),y=A.useMemo(()=>GH(m,i),[m,i]),b=XH(m);return A.createElement(A.Fragment,null,p.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:T})=>A.createElement("link",{key:x,nonce:n.nonce,...T})))}function QH(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var QL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QL&&(window.__reactRouterVersion="7.10.1")}catch{}function eF({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=BU({window:r,v5Compat:!0}));let a=i.current,[s,c]=A.useState({action:a.action,location:a.location}),d=A.useCallback(f=>{n===!1?c(f):A.startTransition(()=>c(f))},[n]);return A.useLayoutEffect(()=>a.listen(d),[a,d]),A.createElement(NH,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}var eI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tI=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,...y},b){let{basename:x,unstable_useTransitions:T}=A.useContext(bo),S=typeof f=="string"&&eI.test(f),j,D=!1;if(typeof f=="string"&&S&&(j=f,QL))try{let Z=new URL(window.location.href),z=f.startsWith("//")?new URL(Z.protocol+f):new URL(f),F=Rs(z.pathname,x);z.origin===Z.origin&&F!=null?f=F+z.search+z.hash:D=!0}catch{Ia(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=mH(f,{relative:i}),[M,N,I]=VH(r,y),$=iF(f,{replace:s,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:T});function B(Z){t&&t(Z),Z.defaultPrevented||$(Z)}let H=A.createElement("a",{...y,...I,href:j||O,onClick:D||a?t:B,ref:QH(b,N),target:d,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?A.createElement(A.Fragment,null,H,A.createElement(ZH,{page:O})):H});tI.displayName="Link";var tF=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:d,...f},m){let p=zm(s,{relative:f.relative}),y=Xl(),b=A.useContext(Cy),{navigator:x,basename:T}=A.useContext(bo),S=b!=null&&cF(p)&&c===!0,j=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,D=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&T&&(O=Rs(O,T)||O);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let N=D===j||!i&&D.startsWith(j)&&D.charAt(M)==="/",I=O!=null&&(O===j||!i&&O.startsWith(j)&&O.charAt(j.length)==="/"),$={isActive:N,isPending:I,isTransitioning:S},B=N?t:void 0,H;typeof r=="function"?H=r($):H=[r,N?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a($):a;return A.createElement(tI,{...f,"aria-current":B,className:H,ref:m,style:Z,to:s,viewTransition:c},typeof d=="function"?d($):d)});tF.displayName="NavLink";var nF=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=K0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,...y},b)=>{let{unstable_useTransitions:x}=A.useContext(bo),T=sF(),S=lF(c,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&eI.test(c),O=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let N=M.nativeEvent.submitter,I=N?.getAttribute("formmethod")||s,$=()=>T(N||M.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});x&&n!==!1?A.startTransition(()=>$()):$()};return A.createElement("form",{ref:b,method:j,action:S,onSubmit:r?d:O,...y,"data-discover":!D&&e==="render"?"true":void 0})});nF.displayName="Form";function rF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nI(e){let t=A.useContext(lf);return Mn(t,rF(e)),t}function iF(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:c}={}){let d=pH(),f=Xl(),m=zm(e,{relative:a});return A.useCallback(p=>{if(LH(p,t)){p.preventDefault();let y=n!==void 0?n:om(f)===om(m),b=()=>d(e,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:s});c?A.startTransition(()=>b()):b()}},[f,d,m,n,r,t,e,i,a,s,c])}var aF=0,oF=()=>`__${String(++aF)}__`;function sF(){let{router:e}=nI("useSubmit"),{basename:t}=A.useContext(bo),n=TH(),r=e.fetch,i=e.navigate;return A.useCallback(async(a,s={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=BH(a,t);if(s.navigate===!1){let y=s.fetcherKey||oF();await r(y,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function lF(e,{relative:t}={}){let{basename:n}=A.useContext(bo),r=A.useContext(Fs);Mn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...zm(e||".",{relative:t})},s=Xl();if(e==null){a.search=s.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ms([n,a.pathname])),om(a)}function cF(e,{relative:t}={}){let n=A.useContext(YL);Mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nI("useViewTransitionState"),i=zm(e,{relative:t});if(!n.isTransitioning)return!1;let a=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hv(i.pathname,s)!=null||hv(i.pathname,a)!=null}var cf=BL();const uF=Pi(cf);let dF={data:""},fF=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||dF,hF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mF=/\/\*[^]*?\*\/|  +/g,yN=/\n+/g,zl=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?zl(s,a):a+"{"+zl(s,a[1]=="k"?"":t)+"}":typeof s=="object"?r+=zl(s,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=zl.p?zl.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},bs={},rI=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+rI(e[n]);return t}return e},pF=(e,t,n,r,i)=>{let a=rI(e),s=bs[a]||(bs[a]=(d=>{let f=0,m=11;for(;f<d.length;)m=101*m+d.charCodeAt(f++)>>>0;return"go"+m})(a));if(!bs[s]){let d=a!==e?e:(f=>{let m,p,y=[{}];for(;m=hF.exec(f.replace(mF,""));)m[4]?y.shift():m[3]?(p=m[3].replace(yN," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][m[1]]=m[2].replace(yN," ").trim();return y[0]})(e);bs[s]=zl(i?{["@keyframes "+s]:d}:d,n?"":"."+s)}let c=n&&bs.g?bs.g:null;return n&&(bs.g=bs[s]),((d,f,m,p)=>{p?f.data=f.data.replace(p,d):f.data.indexOf(d)===-1&&(f.data=m?d+f.data:f.data+d)})(bs[s],t,r,c),s},gF=(e,t,n)=>e.reduce((r,i,a)=>{let s=t[a];if(s&&s.call){let c=s(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;s=d?"."+d:c&&typeof c=="object"?c.props?"":zl(c,""):c===!1?"":c}return r+i+(s??"")},"");function Dy(e){let t=this||{},n=e.call?e(t.p):e;return pF(n.unshift?n.raw?gF(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,fF(t.target),t.g,t.o,t.k)}let iI,NS,CS;Dy.bind({g:1});let Ls=Dy.bind({k:1});function vF(e,t,n,r){zl.p=t,iI=e,NS=n,CS=r}function Jl(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let c=Object.assign({},a),d=c.className||i.className;n.p=Object.assign({theme:NS&&NS()},c),n.o=/ *go\d+/.test(d),c.className=Dy.apply(n,r)+(d?" "+d:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),CS&&f[0]&&CS(c),iI(f,c)}return i}}var yF=e=>typeof e=="function",mv=(e,t)=>yF(e)?e(t):e,bF=(()=>{let e=0;return()=>(++e).toString()})(),aI=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_F=20,_2="default",oI=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return oI(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},V0=[],sI={toasts:[],pausedAt:void 0,settings:{toastLimit:_F}},Go={},lI=(e,t=_2)=>{Go[t]=oI(Go[t]||sI,e),V0.forEach(([n,r])=>{n===t&&r(Go[t])})},cI=e=>Object.keys(Go).forEach(t=>lI(e,t)),xF=e=>Object.keys(Go).find(t=>Go[t].toasts.some(n=>n.id===e)),Py=(e=_2)=>t=>{lI(t,e)},wF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},SF=(e={},t=_2)=>{let[n,r]=A.useState(Go[t]||sI),i=A.useRef(Go[t]);A.useEffect(()=>(i.current!==Go[t]&&r(Go[t]),V0.push([t,r]),()=>{let s=V0.findIndex(([c])=>c===t);s>-1&&V0.splice(s,1)}),[t]);let a=n.toasts.map(s=>{var c,d,f;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((c=e[s.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:s.duration||((d=e[s.type])==null?void 0:d.duration)||e?.duration||wF[s.type],style:{...e.style,...(f=e[s.type])==null?void 0:f.style,...s.style}}});return{...n,toasts:a}},EF=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||bF()}),Um=e=>(t,n)=>{let r=EF(t,e,n);return Py(r.toasterId||xF(r.id))({type:2,toast:r}),r.id},sr=(e,t)=>Um("blank")(e,t);sr.error=Um("error");sr.success=Um("success");sr.loading=Um("loading");sr.custom=Um("custom");sr.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Py(t)(n):cI(n)};sr.dismissAll=e=>sr.dismiss(void 0,e);sr.remove=(e,t)=>{let n={type:4,toastId:e};t?Py(t)(n):cI(n)};sr.removeAll=e=>sr.remove(void 0,e);sr.promise=(e,t,n)=>{let r=sr.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?mv(t.success,i):void 0;return a?sr.success(a,{id:r,...n,...n?.success}):sr.dismiss(r),i}).catch(i=>{let a=t.error?mv(t.error,i):void 0;a?sr.error(a,{id:r,...n,...n?.error}):sr.dismiss(r)}),e};var AF=1e3,TF=(e,t="default")=>{let{toasts:n,pausedAt:r}=SF(e,t),i=A.useRef(new Map).current,a=A.useCallback((p,y=AF)=>{if(i.has(p))return;let b=setTimeout(()=>{i.delete(p),s({type:4,toastId:p})},y);i.set(p,b)},[]);A.useEffect(()=>{if(r)return;let p=Date.now(),y=n.map(b=>{if(b.duration===1/0)return;let x=(b.duration||0)+b.pauseDuration-(p-b.createdAt);if(x<0){b.visible&&sr.dismiss(b.id);return}return setTimeout(()=>sr.dismiss(b.id,t),x)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let s=A.useCallback(Py(t),[t]),c=A.useCallback(()=>{s({type:5,time:Date.now()})},[s]),d=A.useCallback((p,y)=>{s({type:1,toast:{id:p,height:y}})},[s]),f=A.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),m=A.useCallback((p,y)=>{let{reverseOrder:b=!1,gutter:x=8,defaultPosition:T}=y||{},S=n.filter(O=>(O.position||T)===(p.position||T)&&O.height),j=S.findIndex(O=>O.id===p.id),D=S.filter((O,M)=>M<j&&O.visible).length;return S.filter(O=>O.visible).slice(...b?[D+1]:[0,D]).reduce((O,M)=>O+(M.height||0)+x,0)},[n]);return A.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let y=i.get(p.id);y&&(clearTimeout(y),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:d,startPause:c,endPause:f,calculateOffset:m}}},kF=Ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,OF=Ls`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jF=Ls`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NF=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${OF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CF=Ls`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,MF=Jl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${CF} 1s linear infinite;
`,DF=Ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,PF=Ls`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RF=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${PF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LF=Jl("div")`
  position: absolute;
`,IF=Jl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$F=Ls`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BF=Jl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$F} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zF=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?A.createElement(BF,null,t):t:n==="blank"?null:A.createElement(IF,null,A.createElement(MF,{...r}),n!=="loading"&&A.createElement(LF,null,n==="error"?A.createElement(NF,{...r}):A.createElement(RF,{...r})))},UF=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HF=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,FF="0%{opacity:0;} 100%{opacity:1;}",GF="0%{opacity:1;} 100%{opacity:0;}",qF=Jl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YF=Jl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KF=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=aI()?[FF,GF]:[UF(n),HF(n)];return{animation:t?`${Ls(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ls(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},WF=A.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?KF(e.position||t||"top-center",e.visible):{opacity:0},a=A.createElement(zF,{toast:e}),s=A.createElement(YF,{...e.ariaProps},mv(e.message,e));return A.createElement(qF,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:s}):A.createElement(A.Fragment,null,a,s))});vF(A.createElement);var VF=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=A.useCallback(s=>{if(s){let c=()=>{let d=s.getBoundingClientRect().height;r(e,d)};c(),new MutationObserver(c).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return A.createElement("div",{ref:a,className:t,style:n},i)},ZF=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:aI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},XF=Dy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lg=16,uI=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:s,containerClassName:c})=>{let{toasts:d,handlers:f}=TF(n,a);return A.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Lg,left:Lg,right:Lg,bottom:Lg,pointerEvents:"none",...s},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let p=m.position||t,y=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),b=ZF(p,y);return A.createElement(VF,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?XF:"",style:b},m.type==="custom"?mv(m.message,m):i?i(m):A.createElement(WF,{toast:m,position:p}))}))},JF=sr;function QF(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),s=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+s-1524.5}const eG=864e5;function tG(e){const t=(e-24405875e-1)*eG;return new Date(t)}function nG(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function rG(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),s=Math.floor(365.25*a),c=Math.floor((i-s)/30.6001),d=i-s-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,d]}const em=Math.PI,eu=em/180,iG=180/em,aG=86400;function oG(e){return e%=360,e<0?e+360:e}function sG(e,t){return(e-t+540)%360-180}function bN(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function lG(e){const[t,n]=rG(e);return e+nG(t,Math.round(n))/aG}function _N(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[s,c,d]of e[i])a+=s*Math.cos(c+d*t);n+=a*r,r*=t}return n*1e-8}function cG(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*eu,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*eu,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*eu,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*eu,s=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*eu,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let d=0,f=0;for(const[m,p,y,b,x,T,S,j,D]of c){const O=m*n+p*r+y*i+b*a+x*s;d+=(T+S*t)*Math.sin(O),f+=(j+D*t)*Math.cos(O)}return d*=1e-4,f*=1e-4,{dpsi:d,deps:f}}function Ig(e){const t=lG(e),n=(t-2451545)/365250,r=_N(xN.L,n),i=_N(xN.R,n);let a=r+em;a>2*em&&(a-=2*em);const{dpsi:s}=cG(t),c=s/3600*eu,d=20.4898/(3600*i),f=a+c-d*eu;return oG(f*iG)}function ar(e,t,n){const r=(t%360+360)%360,i=QF(e,1,1),a=Ig(i);let s=r-a;s<0&&(s+=360);let c=i+s/.98564736;const d=1e-6,f=5e-6;for(let y=0;y<25;y++){const b=Ig(c),x=sG(r,b);if(Math.abs(x)<d)break;const T=Ig(c+f),S=Ig(c-f),j=bN(T,b),D=bN(S,b),O=(j-D)/(2*f);c+=x/O}const m=tG(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const y=n/15-9;if(Math.abs(y)>1e-12)return new Date(p.getTime()+y*36e5)}return p}const xN={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},fi=["","","","","","","","","",""],Mi=["","","","","","","","","","","",""],Pa={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},la={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},uG=["","","","","","","","","",""],dG=["","","","","","","","","","","",""],fG=["","","","","","","","","","","","","","","","","","","",""],hG=["","","","","","","","","","","","","","","","","","","","","","","",""],Ry=new Set(fi),x2=new Set(Mi),Ly={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},w2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},S2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E2={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},dI={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},wN=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],mG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},pG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function gG(e,t=127.5){return(gt(e,t)||"").charAt(0)}const SN=new Map;function fI(e,t=127.5){const n=`${e}@${t}`,r=SN.get(n);if(r)return r;const i=ar(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return SN.set(n,i),i}const vG=(e,t)=>(e%t+t)%t,hI=e=>e instanceof Date&&!Number.isNaN(e.getTime());function mI(e,t=127.5){if(!hI(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=fI(n,t),i=e<r?n-1:n,a=vG(i-4,60);return{useYear:i,index60Num:a}}function gt(e,t=127.5){const{index60Num:n}=mI(e,t);return S2[n]}const yG=[2,4,6,8,0,2,4,6,8,0];function bG(e,t=127.5){const n=new Array(12);return n[0]=fI(e,t),n[1]=ar(e,345,t),n[2]=ar(e,15,t),n[3]=ar(e,45,t),n[4]=ar(e,75,t),n[5]=ar(e,105,t),n[6]=ar(e,135,t),n[7]=ar(e,165,t),n[8]=ar(e,195,t),n[9]=ar(e,225,t),n[10]=ar(e,255,t),n[11]=ar(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function _G(e,t=127.5){const{useYear:n}=mI(e,t),r=bG(n,t);let i=0;for(let s=0;s<12;s++)e>=r[s]&&(i=s);return{monthIndex:i+1,useYear:n,boundaries:r}}function xG(e,t=127.5){const n=gG(e,t),r=Pa..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return yG[r]}function wG(e,t,n=127.5){return(xG(e,n)+(t-1))%10}function Mt(e,t=127.5){if(!hI(e))return"";const{monthIndex:n}=_G(e,t),r=(2+(n-1))%12,i=Pa.[r],a=wG(e,n,t);return Pa.[a]+i}const pI=(e,t)=>(e%t+t)%t;function gI(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const s=Math.floor(e/100),c=2-s+Math.floor(s/4),d=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+d+c-1524.5}function SG(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=vI(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function EG(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}const pv={JDN:2445731,idx:0};function Et(e,t){const n=SG(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=gI(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),s=pI(a-pv.JDN+pv.idx,60),c=S2[s];if(!c)throw new Error(`getDayGanZhi: idx=${s} out of range (jdn=${a}, jd=${i})`);return c}function AG(e,t){const n=new Date(e),r=EG(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=gI(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),s=Math.floor(a+.5),c=pI(s-pv.JDN+pv.idx,60),d=S2[c];if(!d)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${s}, jd=${a})`);return d}function vI(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<wN.length;n++){const{branch:r,start:i,end:a}=wN[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function TG(e,t,n,r){const i=fi.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const s=e.getHours();return(r===""||r==="/"&&s>=3)&&(n===0||n===1)&&(a=(a+2)%10),fi[a]}function $a(e,t,n){e instanceof Date||(e=new Date(e));const r=vI(e),i=Mi.indexOf(r),s=(n??Et(e,t)).charAt(0);return TG(e,s,i,t)+r}const EN=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,i,c);return c},kG=(e=>e?EN(e):EN),OG=e=>e;function jG(e,t=OG){const n=hn.useSyncExternalStore(e.subscribe,hn.useCallback(()=>t(e.getState()),[e,t]),hn.useCallback(()=>t(e.getInitialState()),[e,t]));return hn.useDebugValue(n),n}const AN=e=>{const t=kG(e),n=r=>jG(t,r);return Object.assign(n,t),n},uf=(e=>e?AN(e):AN);function NG(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const s=d=>d===null?null:JSON.parse(d,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(s):s(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const MS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return MS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return MS(r)(n)}}}},CG=(e,t)=>(n,r,i)=>{let a={storage:NG(()=>localStorage),partialize:T=>T,version:0,merge:(T,S)=>({...S,...T}),...t},s=!1;const c=new Set,d=new Set;let f=a.storage;if(!f)return e((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...T)},r,i);const m=()=>{const T=a.partialize({...r()});return f.setItem(a.name,{state:T,version:a.version})},p=i.setState;i.setState=(T,S)=>(p(T,S),m());const y=e((...T)=>(n(...T),m()),r,i);i.getInitialState=()=>y;let b;const x=()=>{var T,S;if(!f)return;s=!1,c.forEach(D=>{var O;return D((O=r())!=null?O:y)});const j=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(T=r())!=null?T:y))||void 0;return MS(f.getItem.bind(f))(a.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==a.version){if(a.migrate){const O=a.migrate(D.state,D.version);return O instanceof Promise?O.then(M=>[!0,M]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var O;const[M,N]=D;if(b=a.merge(N,(O=r())!=null?O:y),n(b,!0),M)return m()}).then(()=>{j?.(b,void 0),b=r(),s=!0,d.forEach(D=>D(b))}).catch(D=>{j?.(void 0,D)})};return i.persist={setOptions:T=>{a={...a,...T},T.storage&&(f=T.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:T=>(c.add(T),()=>{c.delete(T)}),onFinishHydration:T=>(d.add(T),()=>{d.delete(T)})},a.skipHydration||x(),b||y},yI=CG;var _s={},$g={},DS=function(e,t){return DS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},DS(e,t)};function bI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");DS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gv=function(){return gv=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},gv.apply(this,arguments)};function df(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _I(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function xI(e,t){return function(n,r){t(n,r,e)}}function wI(e,t,n,r,i,a){function s(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,y=!1,b=n.length-1;b>=0;b--){var x={};for(var T in r)x[T]=T==="access"?{}:r[T];for(var T in r.access)x.access[T]=r.access[T];x.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(j||null))};var S=(0,n[b])(c==="accessor"?{get:m.get,set:m.set}:m[d],x);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=s(S.get))&&(m.get=p),(p=s(S.set))&&(m.set=p),(p=s(S.init))&&i.unshift(p)}else(p=s(S))&&(c==="field"?i.unshift(p):m[d]=p)}f&&Object.defineProperty(f,r.name,m),y=!0}function SI(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function EI(e){return typeof e=="symbol"?e:"".concat(e)}function AI(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function TI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ze(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(m){try{f(r.next(m))}catch(p){s(p)}}function d(m){try{f(r.throw(m))}catch(p){s(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})}function kI(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Iy=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function OI(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Iy(t,e,n)}function vv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function A2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function jI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(A2(arguments[t]));return e}function NI(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,i++)r[i]=a[s];return r}function CI(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function qd(e){return this instanceof qd?(this.v=e,this):new qd(e)}function MI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(x){return Promise.resolve(x).then(b,p)}}function c(b,x){r[b]&&(i[b]=function(T){return new Promise(function(S,j){a.push([b,T,S,j])>1||d(b,T)})},x&&(i[b]=x(i[b])))}function d(b,x){try{f(r[b](x))}catch(T){y(a[0][3],T)}}function f(b){b.value instanceof qd?Promise.resolve(b.value.v).then(m,p):y(a[0][2],b)}function m(b){d("next",b)}function p(b){d("throw",b)}function y(b,x){b(x),a.shift(),a.length&&d(a[0][0],a[0][1])}}function DI(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:qd(e[i](s)),done:!1}:a?a(s):s}:a}}function PI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof vv=="function"?vv(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},s)}}function RI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var MG=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},PS=function(e){return PS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},PS(e)};function LI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=PS(e),r=0;r<n.length;r++)n[r]!=="default"&&Iy(t,e,n[r]);return MG(t,e),t}function II(e){return e&&e.__esModule?e:{default:e}}function $I(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function BI(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function zI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function UI(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var DG=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function HI(e){function t(a){e.error=e.hasError?new DG(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function FI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,s){return r?t?".jsx":".js":i&&(!a||!s)?n:i+a+"."+s.toLowerCase()+"js"}):e}const PG={__extends:bI,__assign:gv,__rest:df,__decorate:_I,__param:xI,__esDecorate:wI,__runInitializers:SI,__propKey:EI,__setFunctionName:AI,__metadata:TI,__awaiter:Ze,__generator:kI,__createBinding:Iy,__exportStar:OI,__values:vv,__read:A2,__spread:jI,__spreadArrays:NI,__spreadArray:CI,__await:qd,__asyncGenerator:MI,__asyncDelegator:DI,__asyncValues:PI,__makeTemplateObject:RI,__importStar:LI,__importDefault:II,__classPrivateFieldGet:$I,__classPrivateFieldSet:BI,__classPrivateFieldIn:zI,__addDisposableResource:UI,__disposeResources:HI,__rewriteRelativeImportExtension:FI},RG=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:UI,get __assign(){return gv},__asyncDelegator:DI,__asyncGenerator:MI,__asyncValues:PI,__await:qd,__awaiter:Ze,__classPrivateFieldGet:$I,__classPrivateFieldIn:zI,__classPrivateFieldSet:BI,__createBinding:Iy,__decorate:_I,__disposeResources:HI,__esDecorate:wI,__exportStar:OI,__extends:bI,__generator:kI,__importDefault:II,__importStar:LI,__makeTemplateObject:RI,__metadata:TI,__param:xI,__propKey:EI,__read:A2,__rest:df,__rewriteRelativeImportExtension:FI,__runInitializers:SI,__setFunctionName:AI,__spread:jI,__spreadArray:CI,__spreadArrays:NI,__values:vv,default:PG},Symbol.toStringTag,{value:"Module"})),LG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let $y=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},GI=class extends $y{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},RS=class extends $y{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},LS=class extends $y{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var yv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yv||(yv={}));class IG{constructor(t,{headers:n={},customFetch:r,region:i=yv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=LG(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ze(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:c,method:d,body:f,signal:m,timeout:p}=r;let y={},{region:b}=r;b||(b=this.region);const x=new URL(`${this.url}/${n}`);b&&b!=="any"&&(y["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let T;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(y["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(y["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let S=m;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),m?(S=s.signal,m.addEventListener("abort",()=>s.abort())):S=s.signal);const j=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:T,signal:S}).catch(N=>{throw new GI(N)}),D=j.headers.get("x-relay-error");if(D&&D==="true")throw new RS(j);if(!j.ok)throw new LS(j);let O=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield j.json():O==="application/octet-stream"||O==="application/pdf"?M=yield j.blob():O==="text/event-stream"?M=j:O==="multipart/form-data"?M=yield j.formData():M=yield j.text(),{data:M,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof LS||c instanceof RS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const $G=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return yv},FunctionsClient:IG,FunctionsError:$y,FunctionsFetchError:GI,FunctionsHttpError:LS,FunctionsRelayError:RS},Symbol.toStringTag,{value:"Module"})),qI=Im($G);var Wr={};const ff=Im(RG);var Bg={},zg={},Ug={},Hg={},Fg={},Gg={},TN;function YI(){if(TN)return Gg;TN=1,Object.defineProperty(Gg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Gg.default=e,Gg}var kN;function KI(){if(kN)return Fg;kN=1,Object.defineProperty(Fg,"__esModule",{value:!0});const t=ff.__importDefault(YI());let n=class{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,p,y;let b=null,x=null,T=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=N:x=JSON.parse(N))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),M=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&M&&M.length>1&&(T=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,T=null,S=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const O=await d.text();try{b=JSON.parse(O),Array.isArray(b)&&d.status===404&&(x=[],b=null,S=200,j="OK")}catch{d.status===404&&O===""?(S=204,j="No Content"):b={message:O}}if(b&&this.isMaybeSingle&&(!((y=b?.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,S=200,j="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:x,count:T,status:S,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,m,p,y,b,x;let T="";const S=d?.cause;if(S){const j=(f=S?.message)!==null&&f!==void 0?f:"",D=(m=S?.code)!==null&&m!==void 0?m:"";T=`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,T+=`

Caused by: ${(y=S?.name)!==null&&y!==void 0?y:"Error"}: ${j}`,D&&(T+=` (${D})`),S?.stack&&(T+=`
${S.stack}`)}else T=(b=d?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=d?.name)!==null&&x!==void 0?x:"FetchError"}: ${d?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return Fg.default=n,Fg}var ON;function WI(){if(ON)return Hg;ON=1,Object.defineProperty(Hg,"__esModule",{value:!0});const t=ff.__importDefault(KI());let n=class extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:c=s}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,s?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Hg.default=n,Hg}var jN;function T2(){if(jN)return Ug;jN=1,Object.defineProperty(Ug,"__esModule",{value:!0});const t=ff.__importDefault(WI()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const c=Array.from(new Set(s)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${s}`),this}match(a){return Object.entries(a).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(a,s,c){return this.url.searchParams.append(a,`not.${s}.${c}`),this}or(a,{foreignTable:s,referencedTable:c=s}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,s,c){return this.url.searchParams.append(a,`${s}.${c}`),this}};return Ug.default=r,Ug}var NN;function VI(){if(NN)return zg;NN=1,Object.defineProperty(zg,"__esModule",{value:!0});const t=ff.__importDefault(T2());let n=class{constructor(i,{headers:a={},schema:s,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=c}select(i,a){const{head:s=!1,count:c}=a??{},d=s?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var s;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return zg.default=n,zg}var CN;function BG(){if(CN)return Bg;CN=1,Object.defineProperty(Bg,"__esModule",{value:!0});const e=ff,t=e.__importDefault(VI()),n=e.__importDefault(T2());let r=class ZI{constructor(a,{headers:s={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(s),this.schemaName=c,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new ZI(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:c=!1,get:d=!1,count:f}={}){var m;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;c||d?(p=c?"HEAD":"GET",Object.entries(s).filter(([T,S])=>S!==void 0).map(([T,S])=>[T,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([T,S])=>{y.searchParams.append(T,S)})):(p="POST",b=s);const x=new Headers(this.headers);return f&&x.set("Prefer",`count=${f}`),new n.default({method:p,url:y,headers:x,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Bg.default=r,Bg}var MN;function XI(){if(MN)return Wr;MN=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.PostgrestError=Wr.PostgrestBuilder=Wr.PostgrestTransformBuilder=Wr.PostgrestFilterBuilder=Wr.PostgrestQueryBuilder=Wr.PostgrestClient=void 0;const e=ff,t=e.__importDefault(BG());Wr.PostgrestClient=t.default;const n=e.__importDefault(VI());Wr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(T2());Wr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(WI());Wr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(KI());Wr.PostgrestBuilder=a.default;const s=e.__importDefault(YI());return Wr.PostgrestError=s.default,Wr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},Wr}class JI{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zG="2.86.2",UG=`realtime-js/${zG}`,QI="1.0.0",HG="2.0.0",DN=QI,IS=1e4,FG=1e3,GG=100;var tu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tu||(tu={}));var Qn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qn||(Qn={}));var so;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(so||(so={}));var $S;(function(e){e.websocket="websocket"})($S||($S={}));var nu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nu||(nu={}));class qG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,a;const s=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(b),T=0;x.setUint8(T++,this.KINDS.userBroadcastPush),x.setUint8(T++,d.length),x.setUint8(T++,c.length),x.setUint8(T++,s.length),x.setUint8(T++,f.length),x.setUint8(T++,p.length),x.setUint8(T++,n),Array.from(d,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(c,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(s,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(f,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(p,j=>x.setUint8(T++,j.charCodeAt(0)));var S=new Uint8Array(b.byteLength+r.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(r),b.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,s,c,d]=r;return n({join_ref:i,ref:a,topic:s,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const m=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+s));d=d+s;const y=t.slice(d,t.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,x={type:this.BROADCAST_EVENT,event:m,payload:b};return s>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class e${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ln;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ln||(ln={}));const PN=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=YG(s,e,t,i),a),{}):{}},YG=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,s=n[e];return a&&!r.includes(a)?t$(a,s):BS(s)},t$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ZG(t,n)}switch(e){case ln.bool:return KG(t);case ln.float4:case ln.float8:case ln.int2:case ln.int4:case ln.int8:case ln.numeric:case ln.oid:return WG(t);case ln.json:case ln.jsonb:return VG(t);case ln.timestamp:return XG(t);case ln.abstime:case ln.date:case ln.daterange:case ln.int4range:case ln.int8range:case ln.money:case ln.reltime:case ln.text:case ln.time:case ln.timestamptz:case ln.timetz:case ln.tsrange:case ln.tstzrange:return BS(t);default:return BS(t)}},BS=e=>e,KG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ZG=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(c=>t$(t,c))}return e},XG=e=>typeof e=="string"?e.replace(" ","T"):e,n$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Gx{constructor(t,n,r={},i=IS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zS||(zS={}));let r$=class Z0{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Z0.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=Z0.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Z0.syncDiff(this.state,i,a,s),c())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),s=this.transformState(n),c={},d={};return this.map(a,(f,m)=>{s[f]||(d[f]=m)}),this.map(s,(f,m)=>{const p=a[f];if(p){const y=m.map(S=>S.presence_ref),b=p.map(S=>S.presence_ref),x=m.filter(S=>b.indexOf(S.presence_ref)<0),T=p.filter(S=>y.indexOf(S.presence_ref)<0);x.length>0&&(c[f]=x),T.length>0&&(d[f]=T)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(b=>b.presence_ref),y=m.filter(b=>p.indexOf(b.presence_ref)<0);t[c].unshift(...y)}r(c,m,d)}),this.map(s,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var US;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(US||(US={}));var Bd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bd||(Bd={}));var Ho;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ho||(Ho={}));const JG=Qn;let i$=class a${constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gx(this,so.join,this.params,this.timeout),this.rejoinTimer=new e$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(so.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new r$(this),this.broadcastEndpointURL=n$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qn.closed){const{config:{broadcast:s,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Bd.PRESENCE]&&this.bindings[Bd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:s,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Ho.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Ho.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){t?.(Ho.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(x=T?.length)!==null&&x!==void 0?x:0,j=[];for(let D=0;D<S;D++){const O=T[D],{filter:{event:M,schema:N,table:I,filter:$}}=O,B=b&&b[D];if(B&&B.event===M&&B.schema===N&&B.table===I&&B.filter===$)j.push(Object.assign(Object.assign({},O),{id:B.id}));else{this.unsubscribe(),this.state=Qn.errored,t?.(Ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Ho.SUBSCRIBED);return}}).receive("error",b=>{this.state=Qn.errored,t?.(Ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Qn.joined&&t===Bd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(so.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Gx(this,so.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gx(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>GG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=so;if(r&&[c,d,f,m].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var x,T,S;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(T=b.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(b=>b.callback(y,r)):(a=this.bindings[s])===null||a===void 0||a.filter(b=>{var x,T,S,j,D,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const M=b.id,N=(x=b.filter)===null||x===void 0?void 0:x.event;return M&&((T=n.ids)===null||T===void 0?void 0:T.includes(M))&&(N==="*"||N?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(D=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return M==="*"||M===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:T,table:S,commit_timestamp:j,type:D,errors:O}=x;y=Object.assign(Object.assign({},{schema:T,table:S,commit_timestamp:j,eventType:D,new:{},old:{},errors:O}),this._getPayloadRecords(x))}b.callback(y,r)})}_isClosed(){return this.state===Qn.closed}_isJoined(){return this.state===Qn.joined}_isJoining(){return this.state===Qn.joining}_isLeaving(){return this.state===Qn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&a$.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(so.close,{},t)}_onError(t){this._on(so.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=PN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=PN(t.columns,t.old_record)),n}};const qx=()=>{},qg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QG=[1e3,2e3,5e3,1e4],eq=1e4,tq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let nq=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=IS,this.transport=null,this.heartbeatIntervalMs=qg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qx,this.ref=0,this.reconnectTimer=null,this.vsn=DN,this.logger=qx,this.conn=null,this.sendBuffer=[],this.serializer=new qG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${$S.websocket}`,this.httpEndpoint=n$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tu.connecting:return nu.Connecting;case tu.open:return nu.Open;case tu.closing:return nu.Closing;default:return nu.Closed}}isConnected(){return this.connectionState()===nu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new i$(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(FG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,c=s?`(${s})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tu.open||this.conn.readyState===tu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(so.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([tq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:UG};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(so.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new e$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,s,c,d,f,m,p,y,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:IS,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:qg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:qx,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:DN,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(x=>QG[x-1]||eq),this.vsn){case QI:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,T)=>T(JSON.stringify(x))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((x,T)=>T(JSON.parse(x)));break;case HG:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const rq=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:JG,get REALTIME_LISTEN_TYPES(){return Bd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return US},get REALTIME_PRESENCE_LISTEN_EVENTS(){return zS},get REALTIME_SUBSCRIBE_STATES(){return Ho},RealtimeChannel:i$,RealtimeClient:nq,RealtimePresence:r$,WebSocketFactory:JI},Symbol.toStringTag,{value:"Module"})),o$=Im(rq);class Hm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class s$ extends Hm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bv extends Hm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const k2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iq=()=>Response,HS=e=>{if(Array.isArray(e))return e.map(n=>HS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=HS(r)}),t},aq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Yx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sq=(e,t,n)=>Ze(void 0,void 0,void 0,function*(){const r=yield iq();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,s=i?.statusCode||a+"";t(new s$(Yx(i),a,s))}).catch(i=>{t(new bv(Yx(i),i))}):t(new bv(Yx(e),e))}),lq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(aq(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Fm(e,t,n,r,i,a){return Ze(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,lq(t,r,i,a)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>sq(d,c,r))})})}function sm(e,t,n,r){return Ze(this,void 0,void 0,function*(){return Fm(e,"GET",t,n,r)})}function oo(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return Fm(e,"POST",t,r,i,n)})}function FS(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return Fm(e,"PUT",t,r,i,n)})}function cq(e,t,n,r){return Ze(this,void 0,void 0,function*(){return Fm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function O2(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return Fm(e,"DELETE",t,r,i,n)})}class uq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ze(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}var l$;class dq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[l$]="BlobDownloadBuilder",this.promise=null}asStream(){return new uq(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ze(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}l$=Symbol.toStringTag;const fq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hq{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=k2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ze(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},RN),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?FS:oo)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ze(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:RN.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield FS(this.fetch,c.toString(),d,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(wn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield oo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),c=s.searchParams.get("token");if(!c)throw new Hm("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ze(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield oo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ze(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield oo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ze(this,void 0,void 0,function*(){try{const i=yield oo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),s=a?`?${a}`:"",c=this._getFinalPath(t),d=()=>sm(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0});return new dq(d,this.shouldThrowOnError)}info(t){return Ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield sm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:HS(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}exists(t){return Ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r)&&r instanceof bv){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ze(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fq),n),{prefix:t||""});return{data:yield oo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ze(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield oo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const c$="2.86.2",u$={"X-Client-Info":`storage-js/${c$}`};class mq{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u$),n),this.fetch=k2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ze(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield sm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ze(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield FS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var lm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pq(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function gq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const c=pq(e.baseUrl,r,i),d=await gq(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...s},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),y=p&&m?JSON.parse(m):m;if(!f.ok){const b=p?y:void 0,x=b?.error;throw new lm(x?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:x?.type,icebergCode:x?.code,details:b})}return{status:f.status,headers:f.headers,data:y}}}}function Yg(e){return e.join("")}var yq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yg(e.namespace)}`}),!0}catch(t){if(t instanceof lm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof lm&&n.status===409)return;throw n}}};function md(e){return e.join("")}var bq=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof lm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof lm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},_q=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new yq(this.client,t),this.tableOps=new bq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class d${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u$),n),this.fetch=k2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ze(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield sm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}from(t){if(!oq(t))throw new Hm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new _q({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ze(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const j2={"X-Client-Info":`storage-js/${c$}`,"Content-Type":"application/json"};class N2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ni(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class X0 extends N2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class f$ extends N2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var GS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(GS||(GS={}));const By=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xq=()=>Response,h$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wq=e=>Array.from(new Float32Array(e)),Sq=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},LN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eq=(e,t,n)=>Ze(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const c=s?.statusCode||s?.code||i+"";t(new X0(LN(s),i,c))}).catch(()=>{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new X0(c,i,s))});else{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new X0(c,i,s))}}else t(new f$(LN(e),e))}),Aq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(h$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Tq(e,t,n,r,i,a){return Ze(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,Aq(t,r,i,a)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>s(d)).catch(d=>Eq(d,c,r))})})}function Qi(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return Tq(e,"POST",t,r,i,n)})}class m${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j2),n),this.fetch=By(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ni(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ze(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ni(r))return{data:null,error:r};throw r}})}}class p${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j2),n),this.fetch=By(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}getVectors(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}listVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Qi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}}class g${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j2),n),this.fetch=By(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}getBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}listBuckets(){return Ze(this,arguments,void 0,function*(t={}){try{return{data:yield Qi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield Qi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}}class v$ extends g${constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new y$(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ze(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ze(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ze(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ze(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class y$ extends m${constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ze(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ze(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ze(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ze(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new b$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class b$ extends p${constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ze(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ze(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ze(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ze(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ze(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kq extends mq{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new hq(this.url,this.headers,t,this.fetch)}get vectors(){return new v$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d$(this.url+"/iceberg",this.headers,this.fetch)}}const Oq=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:d$,StorageApiError:s$,StorageClient:kq,StorageError:Hm,StorageUnknownError:bv,StorageVectorsApiError:X0,StorageVectorsClient:v$,StorageVectorsError:N2,get StorageVectorsErrorCode(){return GS},StorageVectorsUnknownError:f$,VectorBucketApi:g$,VectorBucketScope:y$,VectorDataApi:p$,VectorIndexApi:m$,VectorIndexScope:b$,isPlainObject:h$,isStorageError:wn,isStorageVectorsError:Ni,normalizeToFloat32:wq,resolveFetch:By,resolveResponse:xq,validateVectorDimension:Sq},Symbol.toStringTag,{value:"Module"})),jq=Im(Oq);var Kx={},Th={},IN;function Nq(){return IN||(IN=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.version=void 0,Th.version="2.86.2"),Th}var $N;function Cq(){return $N||($N=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Nq();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Kx)),Kx}var Wx={},BN;function Mq(){return BN||(BN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,s)=>{const c=(0,e.resolveFetch)(s),d=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const y=(p=await a())!==null&&p!==void 0?p:i;let b=new d(m?.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${y}`),c(f,Object.assign(Object.assign({},m),{headers:b}))}};e.fetchWithAuth=r})(Wx)),Wx}var xs={},zN;function Dq(){if(zN)return xs;zN=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.isBrowser=void 0,xs.uuid=e,xs.ensureTrailingSlash=t,xs.applySettingDefaults=r,xs.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var s=Math.random()*16|0,c=a=="x"?s:s&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";xs.isBrowser=n;function r(a,s){var c,d;const{db:f,auth:m,realtime:p,global:y}=a,{db:b,auth:x,realtime:T,global:S}=s,j={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},x),m),realtime:Object.assign(Object.assign({},T),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),y),{headers:Object.assign(Object.assign({},(c=S?.headers)!==null&&c!==void 0?c:{}),(d=y?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const s=a?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return xs}var kh={};const _$="2.86.2",kd=30*1e3,qS=3,Vx=qS*kd,Pq="http://localhost:9999",Rq="supabase.auth.token",Lq={"X-Client-Info":`gotrue-js/${_$}`},YS="X-Supabase-Api-Version",x$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$q=600*1e3;let Yd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let w$=class extends Yd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function S$(e){return Qe(e)&&e.name==="AuthApiError"}let Ul=class extends Yd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Gs=class extends Yd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ki=class extends Gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function E$(e){return Qe(e)&&e.name==="AuthSessionMissingError"}let Kc=class extends Gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},qh=class extends Gs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Yh=class extends Gs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function A$(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}let KS=class extends Gs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_v=class extends Gs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function J0(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}let WS=class extends Gs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Bq(e){return Qe(e)&&e.name==="AuthWeakPasswordError"}let xv=class extends Gs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const wv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UN=` 	
\r=`.split(""),zq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UN.length;t+=1)e[UN[t].charCodeAt(0)]=-2;for(let t=0;t<wv.length;t+=1)e[wv[t].charCodeAt(0)]=t;return e})();function HN(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wv[r]),t.queuedBits-=6}}function T$(e,t,n){const r=zq[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FN(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Fq(s,r,n)};for(let s=0;s<e.length;s+=1)T$(e.charCodeAt(s),i,a);return t.join("")}function Uq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Hq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Uq(r,t)}}function Fq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)T$(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Gq(e){const t=[];return Hq(e,n=>t.push(n)),new Uint8Array(t)}function ru(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>HN(i,n,r)),HN(null,n,r),t.join("")}function qq(e){return Math.round(Date.now()/1e3)+e}function Yq(){return Symbol("auth-callback")}const Dr=()=>typeof window<"u"&&typeof document<"u",$c={tested:!1,writable:!1},k$=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($c.tested)return $c.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$c.tested=!0,$c.writable=!0}catch{$c.tested=!0,$c.writable=!1}return $c.writable};function Kq(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const O$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Wq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Od=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Bc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cr=async(e,t)=>{await e.removeItem(t)};class zy{constructor(){this.promise=new zy.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zy.promiseConstructor=Promise;function Zx(e){const t=e.split(".");if(t.length!==3)throw new xv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Iq.test(t[r]))throw new xv("JWT not in base64url format");return{header:JSON.parse(FN(t[0])),payload:JSON.parse(FN(t[1])),signature:zd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zq(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){r(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Xq(e){return("0"+e.toString(16)).substr(-2)}function Jq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Xq).join("")}async function Qq(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function eY(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Qq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(e,t,n=!1){const r=Jq();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Od(e,`${t}-code-verifier`,i);const a=await eY(r);return[a,r===a?"plain":"s256"]}const tY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nY(e){const t=e.headers.get(YS);if(!t||!t.match(tY))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gd(e){if(!aY.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oY(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function GN(e){return JSON.parse(JSON.stringify(e))}const Wc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sY=[502,503,504];async function qN(e){var t;if(!Wq(e))throw new _v(Wc(e),0);if(sY.includes(e.status))throw new _v(Wc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ul(Wc(a),a)}let r;const i=nY(e);if(i&&i.getTime()>=x$["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new WS(Wc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ki}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new WS(Wc(n),e.status,n.weak_password.reasons);throw new w$(Wc(n),e.status||500,r)}const lY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[YS]||(a[YS]=x$["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await cY(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function cY(e,t,n,r,i,a){const s=lY(t,r,i,a);let c;try{c=await e(n,Object.assign({},s))}catch(d){throw console.error(d),new _v(Wc(d),0)}if(c.ok||await qN(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await qN(d)}}function io(e){var t;let n=null;fY(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qq(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function YN(e){const t=io(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uY(e){return{data:e,error:null}}function dY(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=df(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function KN(e){return e}function fY(e){return e.access_token&&e.refresh_token&&e.expires_in}const Q0=["global","local","others"];let C2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=O$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Q0[0]){if(Q0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Q0.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Hl})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=df(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dY,redirectTo:n?.redirectTo})}catch(n){if(Qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hl})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KN});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);f[`${S}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){gd(t);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hl})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){gd(t);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Hl})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){gd(t);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Hl})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){gd(t.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){gd(t.userId),gd(t.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await st(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KN});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);f[`${S}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await st(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await st(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await st(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await st(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}};function WN(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Vc={debug:!!(globalThis&&k$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let j$=class extends M2{};class hY extends M2{}async function N$(e,t,n){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new j$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const VN={};async function mY(e,t,n){var r;const i=(r=VN[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((s,c)=>{setTimeout(()=>{c(new hY(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await n());return VN[e]=a.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await a}function pY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function C$(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gY(e){return parseInt(e,16)}function vY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function yY(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:c,requestId:d,resources:f,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=C$(e.address),x=m?`${m}://${r}`:r,T=e.statement?`${e.statement}
`:"",S=`${x} wants you to sign in with your Ethereum account:
${b}

${T}`;let j=`URI: ${p}
Version: ${y}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let D=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);D+=`
- ${O}`}j+=D}return`${S}
${j}`}class er extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Sv extends er{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function bY({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(M$(s)){if(a.rp.id!==s)return new er({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _Y({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(M$(r)){if(n.rpId!==r)return new er({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xY{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wY=new xY;function SY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=df(e,["challenge","user","excludeCredentials"]),a=zd(t).buffer,s=Object.assign(Object.assign({},n),{id:zd(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:zd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function EY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=df(e,["challenge","allowCredentials"]),i=zd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const c=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},c),{id:zd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function AY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ru(new Uint8Array(e.response.attestationObject)),clientDataJSON:ru(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ru(new Uint8Array(i.authenticatorData)),clientDataJSON:ru(new Uint8Array(i.clientDataJSON)),signature:ru(new Uint8Array(i.signature)),userHandle:i.userHandle?ru(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function M$(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ZN(){var e,t;return!!(Dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function kY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sv("Browser returned unexpected credential type",t)}:{data:null,error:new Sv("Empty credential response",t)}}catch(t){return{data:null,error:bY({error:t,options:e})}}}async function OY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sv("Browser returned unexpected credential type",t)}:{data:null,error:new Sv("Empty credential response",t)}}catch(t){return{data:null,error:_Y({error:t,options:e})}}}const jY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},NY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ev(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(t(s)){const c=r[a];t(c)?r[a]=Ev(c,s):r[a]=Ev(s)}else r[a]=s}return r}function CY(e,t){return Ev(jY,e,t||{})}function MY(e,t){return Ev(NY,e,t||{})}class DY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:c};const d=i??wY.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=CY(s.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await kY({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=MY(s.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await OY(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new Ul("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Yd("rpId is required for WebAuthn authentication")};try{if(!ZN())return{data:null,error:new Ul("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:c};const{webauthn:d}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new Ul("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Yd("rpId is required for WebAuthn registration")};try{if(!ZN())return{data:null,error:new Ul("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:s.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new Ul("Unexpected error in register",s)}}}}pY();const PY={url:Pq,storageKey:Rq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function XN(e,t,n){return await n()}const vd={};let D2=class VS{get jwks(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},PY),t);if(this.storageKey=a.storageKey,this.instanceID=(n=VS.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,VS.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Dr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new C2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=O$(a.fetch),this.lock=a.lock||XN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Dr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=N$:this.lock=XN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:k$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=WN(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_$}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Dr()&&(n=Kq(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Dr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),A$(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qe(n)?this._returnResult({error:n}):this._returnResult({error:new Ul("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:io}),{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:y}=t;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await pd(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:x},xform:io})}else if("phone"in t){const{phone:m,password:p,options:y}=t;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:io})}else throw new qh("You must provide either an email or phone number and a password");const{data:s,error:c}=a;if(c||!s)return await Cr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:c}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:YN})}else if("phone"in t){const{phone:a,password:s,options:c}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:YN})}else throw new qh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Kc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,s,c,d,f,m,p,y;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:T,wallet:S,statement:j,options:D}=t;let O;if(Dr())if(typeof S=="object")O=S;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")O=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const M=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),N=await O.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=C$(N[0]);let $=(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const H=await O.request({method:"eth_chainId"});$=gY(H)}const B={domain:M.host,address:I,statement:j,uri:M.href,version:"1",chainId:$,nonce:(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=yY(B),x=await O.request({method:"personal_sign",params:[vY(b),I]})}try{const{data:T,error:S}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:io});if(S)throw S;if(!T||!T.session||!T.user){const j=new Kc;return this._returnResult({data:{user:null,session:null},error:j})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(Qe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var n,r,i,a,s,c,d,f,m,p,y,b;let x,T;if("message"in t)x=t.message,T=t.signature;else{const{chain:S,wallet:j,statement:D,options:O}=t;let M;if(Dr())if(typeof j=="object")M=j;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))M=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const N=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const I=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),D?{statement:D}:null));let $;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")$=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)$=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)x=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),T=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((s=O?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const I=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=I}}try{const{data:S,error:j}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ru(T)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:io});if(j)throw j;if(!S||!S.session||!S.user){const D=new Kc;return this._returnResult({data:{user:null,session:null},error:D})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(Qe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Bc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:io});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const c=new Kc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=t,c=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:io}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Kc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,s;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await pd(this.storage,this.storageKey));const{error:p}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new qh("You must provide either an email or phone number.")}catch(c){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:c}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:io});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,f=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await pd(this.storage,this.storageKey));const f=await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:uY});return!((a=f.data)===null||a===void 0)&&a.url&&Dr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ki;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:s,error:c}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new qh("You must provide either an email or phone number and a type")}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Bc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Vx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await Bc(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Xx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=oY(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hl}):await this._useSession(async n=>{var r,i,a;const{data:s,error:c}=n;if(c)throw c;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ki}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Hl})})}catch(n){if(Qe(n))return E$(n)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ki;const s=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await pd(this.storage,this.storageKey));const{data:f,error:m}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:Hl});if(m)throw m;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Qe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ki;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=Zx(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:c}=n;if(c)throw c;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ki;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Dr())throw new Yh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new KS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new KS("No code detected.");const{data:D,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:d,token_type:f}=t;if(!a||!c||!s||!f)throw new Yh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;d&&(y=parseInt(d));const b=y-m;b*1e3<=kd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=y-p;m-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,m):m-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,m);const{data:T,error:S}=await this._getUser(a);if(S)throw S;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:s,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Bc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(S$(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Yq(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pd(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,c,d,f,m;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Dr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:c,token:d,access_token:f,nonce:m}=t,p=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:io}),{data:y,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Kc}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(i){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Zq(async i=>(i>0&&await Vq(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:io})),(i,a)=>{const s=200*Math.pow(2,i);return a&&J0(a)&&Date.now()+s-r<kd})}catch(r){if(this._debug(n,"error",r),Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Dr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Bc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Bc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Od(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:Xx()}else if(i&&!i.user&&!i.user){const s=await Bc(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Cr(this.storage,this.storageKey+"-user"),await Od(this.storage,this.storageKey,i)):i.user=Xx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vx;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Vx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),J0(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zy;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ki;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Qe(a)){const s={data:null,error:a};return J0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Od(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=GN(i);await Od(this.storage,this.storageKey,a)}else{const i=GN(n);await Od(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Cr(this.storage,this.storageKey),await Cr(this.storage,this.storageKey+"-code-verifier"),await Cr(this.storage,this.storageKey+"-user"),this.userStorage&&await Cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/kd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kd}ms, refresh threshold is ${qS} ticks`),i<=qS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof M2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await pd(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await st(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await st(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AY(t.webauthn.credential_response):TY(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:SY(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:EY(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Zx(r.access_token);let s=null;a.aal&&(s=a.aal);let c=s;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await st(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ki})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ki});const s=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Dr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ki});const s=await st(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Dr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await st(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ki})})}catch(t){if(Qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await st(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ki})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+$q>i)return r;const{data:a,error:s}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});r=b.session.access_token}const{header:i,payload:a,signature:s,raw:{header:c,payload:d}}=Zx(r);n?.allowExpired||rY(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:s},error:null}}const m=iY(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,s,Gq(`${c}.${d}`)))throw new xv("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}};D2.nextInstanceID={};const RY=C2,LY=D2,IY=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:RY,AuthApiError:w$,AuthClient:LY,AuthError:Yd,AuthImplicitGrantRedirectError:Yh,AuthInvalidCredentialsError:qh,AuthInvalidJwtError:xv,AuthInvalidTokenResponseError:Kc,AuthPKCEGrantCodeExchangeError:KS,AuthRetryableFetchError:_v,AuthSessionMissingError:ki,AuthUnknownError:Ul,AuthWeakPasswordError:WS,CustomAuthError:Gs,GoTrueAdminApi:C2,GoTrueClient:D2,NavigatorLockAcquireTimeoutError:j$,SIGN_OUT_SCOPES:Q0,isAuthApiError:S$,isAuthError:Qe,isAuthImplicitGrantRedirectError:A$,isAuthRetryableFetchError:J0,isAuthSessionMissingError:E$,isAuthWeakPasswordError:Bq,lockInternals:Vc,navigatorLock:N$,processLock:mY},Symbol.toStringTag,{value:"Module"})),D$=Im(IY);var JN;function $Y(){if(JN)return kh;JN=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.SupabaseAuthClient=void 0;const e=D$;let t=class extends e.AuthClient{constructor(r){super(r)}};return kh.SupabaseAuthClient=t,kh}var QN;function eC(){if(QN)return $g;QN=1,Object.defineProperty($g,"__esModule",{value:!0});const e=qI,t=XI(),n=o$,r=jq,i=Cq(),a=Mq(),s=Dq(),c=$Y();class d{constructor(m,p,y){var b,x,T;this.supabaseUrl=m,this.supabaseKey=p;const S=(0,s.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,D={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,s.applySettingDefaults)(y??{},D);this.storageKey=(b=O.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=O.global.headers)!==null&&x!==void 0?x:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(M,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((T=O.auth)!==null&&T!==void 0?T:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,y?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,y)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:x,storageKey:T,flowType:S,lock:j,debug:D,throwOnError:O},M,N){const I={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},I),M),storageKey:T,autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:x,flowType:S,lock:j,debug:D,throwOnError:O,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,y)=>{this._handleTokenChanged(p,"CLIENT",y?.access_token)})}_handleTokenChanged(m,p,y){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return $g.default=d,$g}var tC;function BY(){return tC||(tC=1,(function(e){var t=_s&&_s.__createBinding||(Object.create?(function(m,p,y,b){b===void 0&&(b=y);var x=Object.getOwnPropertyDescriptor(p,y);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(m,b,x)}):(function(m,p,y,b){b===void 0&&(b=y),m[b]=p[y]})),n=_s&&_s.__exportStar||function(m,p){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(p,y)&&t(p,m,y)},r=_s&&_s.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(eC());n(D$,e);var a=XI();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var s=qI;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return s.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return s.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return s.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return s.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return s.FunctionRegion}}),n(o$,e);var c=eC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const d=(m,p,y)=>new i.default(m,p,y);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(_s)),_s}var P$=BY();const R$=Pi(P$),zY=m2({__proto__:null,default:R$},[P$]),{PostgrestError:p1e,FunctionsHttpError:g1e,FunctionsFetchError:v1e,FunctionsRelayError:y1e,FunctionsError:b1e,FunctionRegion:_1e,SupabaseClient:x1e,createClient:UY,GoTrueAdminApi:w1e,GoTrueClient:S1e,AuthAdminApi:E1e,AuthClient:A1e,navigatorLock:T1e,NavigatorLockAcquireTimeoutError:k1e,lockInternals:O1e,processLock:j1e,SIGN_OUT_SCOPES:N1e,AuthError:C1e,AuthApiError:M1e,AuthUnknownError:D1e,CustomAuthError:P1e,AuthSessionMissingError:R1e,AuthInvalidTokenResponseError:L1e,AuthInvalidCredentialsError:I1e,AuthImplicitGrantRedirectError:$1e,AuthPKCEGrantCodeExchangeError:B1e,AuthRetryableFetchError:z1e,AuthWeakPasswordError:U1e,AuthInvalidJwtError:H1e,isAuthError:F1e,isAuthApiError:G1e,isAuthSessionMissingError:q1e,isAuthImplicitGrantRedirectError:Y1e,isAuthRetryableFetchError:K1e,isAuthWeakPasswordError:W1e,RealtimePresence:V1e,RealtimeChannel:Z1e,RealtimeClient:X1e,REALTIME_LISTEN_TYPES:J1e,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Q1e,REALTIME_PRESENCE_LISTEN_EVENTS:eSe,REALTIME_SUBSCRIBE_STATES:tSe,REALTIME_CHANNEL_STATES:nSe}=R$||zY,Ye=UY("https://jouhybyquybxbnqztxum.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),L$="settings_v1",ZS=()=>{try{typeof window<"u"&&window.localStorage.removeItem(L$)}catch{}},su={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},nC=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],HY=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&nC.includes(r)):[],n=nC.filter(r=>!t.includes(r));return[...t,...n]},Ud=e=>({...su,...e,sectionOrder:HY(e.sectionOrder)}),FY=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Ud(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Ud(n.settings)}}return Ud(e??{})},GY=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};ZS();const xr=uf()(yI((e,t)=>({settings:su,syncing:!1,loaded:!1,setSettings:n=>e({settings:Ud(n)}),setKey:(n,r)=>e({settings:Ud({...t().settings,[n]:r})}),reset:()=>e({settings:su}),loadFromServer:async()=>{try{e({syncing:!0}),ZS();const{data:{user:n},error:r}=await Ye.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Ye.from("user_settings").select("payload").eq("user_id",n.id).single();if(a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const s=FY(i.payload);e({settings:s,syncing:!1,loaded:!0}),GY(i.payload)&&await Ye.from("user_settings").upsert({user_id:n.id,payload:s,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),ZS();const{data:{user:r},error:i}=await Ye.auth.getUser();if(i||!r){e({syncing:!1});return}const a=Ud(t().settings),{error:s}=await Ye.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});s&&console.error("saveToServer(settings) error:",s),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:L$,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function XS(e){const t=fi.indexOf(e);if(t!==-1)return fi[t];const n=la..indexOf(e);return n!==-1?fi[n]:null}function I$(e){const t=Mi.indexOf(e);if(t!==-1)return Mi[t];const n=la..indexOf(e);return n!==-1?Mi[n]:null}function rC(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function oa(e,t,n){if(t==="stem"){const r=XS(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=fi.indexOf(r),a=i>=0?uG[i]:void 0;return rC(a,n)}else{const r=I$(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=Mi.indexOf(r),a=i>=0?dG[i]:void 0;return rC(a,n)}}function ci(e,t){const n=XS(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=XS(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return mG[n][r]}if(t.branch){const r=I$(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return pG[n][r]}throw new Error("getSipSin: stem or branch required")}const Uy={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Hy={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function Kh({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const s=(r==="hgc"?Hy:Uy)[e]??[],c=n==="main"?[s[2]]:s,d=i==="white",f=d?"text-white":"text-neutral-800 dark:text-white",m=d?"border-white":"border-neutral-800 dark: border-neutral-200",p=d?"text-yellow-900":"text-red-600 dark:text-yellow-300";return _.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((y,b)=>y==="(-)"||a?_.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},b):_.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||b===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[y," (",ci(t,{stem:y}),")"]},b))})}const Gm=uf(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),P2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$$=Object.fromEntries(Object.entries(P2).map(([e,t])=>[t,e])),R2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},B$=Object.fromEntries(Object.entries(R2).map(([e,t])=>[t,e]));function iC(e){return Pa..includes(e)}function aC(e){return Pa..includes(e)}function qY(e){return la..includes(e)}function YY(e){return la..includes(e)}function oC(e,t,n){return n===""?t==="stem"?P2[e]??e:R2[e]??e:t==="stem"?$$[e]??e:B$[e]??e}function sC(e){const t=$$[e]??e;return qY(t)?t:""}function KY(e){const t=B$[e]??e;return YY(t)?t:""}function WY(e){if(iC(e))return e;const t=P2[e]??e;return iC(t)?t:""}function VY(e){if(aC(e))return e;const t=R2[e]??e;return aC(t)?t:""}const ZY=new Set(["","","","","","","","","",""]),XY=new Set(["","","","","","","","","","","",""]),JY=e=>ZY.has(e),QY=e=>XY.has(e);function Nd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:s=!0,hideHiddenStems:c=!1,size:d="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Gm(),y=m&&!p,b=t.charAt(0),x=t.charAt(1),T=oC(b,"stem",r.charType),S=oC(x,"branch",r.charType),j=sC(b),D=KY(x),O=sC(n),M=VY(x),N=WY(n),I=r.showSipSin?ci(O,{stem:j}):null,$=!s&&r.showSipSin?ci(O,{branch:D}):null,B=r.thinEum&&JY(b)?"font-thin":"font-bold",H=r.thinEum&&QY(x)?"font-thin":"font-bold",Z={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},z=!c&&!!r.hiddenStem,F=r.hiddenStem==="regular"?"main":"all",Q=r.hiddenStemMode==="hgc"?"hgc":"classic",ee=f==="white",ye=ee?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",J=ee?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",le=ee?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ae=ee?"text-neutral-500":"text-neutral-400",he=ee?"text-neutral-500":"text-neutral-400",{settings:ne}=xr(),q=y?`bg-white ${le}`:`${oa(j,"stem",ne)} ${le}`,K=y?`bg-white ${le}`:`${oa(D,"branch",ne)} ${le}`,X=y?"text-black":ne.difficultyMode?ne.theme==="light"?"text-neutral-900":"text-black":"text-white",re=y?"text-black":ne.difficultyMode?ne.theme==="light"?"text-neutral-900":"text-black":"text-white";return _.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${ye}`,children:[_.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${J} text-nowrap`,children:e}),_.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[I&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ae} text-nowrap`,children:m&&!p?"-":I}),_.jsx("div",{className:`${Z[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${q}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${X} ${B}`,children:y?"-":T})}),_.jsx("div",{className:`${Z[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${K}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${re} ${H}`,children:y?"-":S})}),z&&_.jsx(Kh,{branch:M,dayStem:N,mode:F,mapping:Q,isUnknownTime:m&&!p&&(e===""||e==="")}),$&&_.jsx("div",{className:`text-[10px] desk:text-xs ${he}`,children:m&&!p?"-":$}),r.showSibiUnseong&&_.jsx("div",{className:`text-[10px] desk:text-xs ${he} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&_.jsx("div",{className:`text-[10px] desk:text-xs ${he} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const eK=new Set(la.);function tK(e){return Ry.has(e)?e:eK.has(e)?Ly[e]:""}function nK({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,s=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return _.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[_.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),_.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&_.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:s}).map((d,f)=>_.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function rK(){const e=xr(x=>x.settings),[t,n]=A.useState(new Date),[r,i]=A.useState(!0),[a,s]=A.useState("/"),[c,d]=A.useState(!1);A.useEffect(()=>{if(!r)return;const x=setInterval(()=>n(new Date),1e3);return()=>clearInterval(x)},[r]);const f=gt(t),m=Mt(t),p=Et(t,a),y=$a(t,"/"),b=tK(p.charAt(0));return _.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:_.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[_.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",oK(t)]})]}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsxs("select",{value:a,onChange:x=>s(x.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"",children:" ( 23)"}),_.jsx("option",{value:"/",children:"/ ()"}),_.jsx("option",{value:"",children:" ( 3)"})]}),_.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),_.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?_.jsx(nK,{label:"",settings:e,hideBranchSipSin:!0}):_.jsx(Nd,{label:"",gz:y,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:p,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:m,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:f,dayStem:b,settings:e,hideBranchSipSin:!0})]}),_.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[_.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),_.jsx("input",{type:"datetime-local",value:iK(t),disabled:r,onChange:x=>{const T=aK(x.target.value);T&&n(T)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),_.jsx("button",{onClick:()=>d(x=>!x),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function iK(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function aK(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[s,c]=n.split(":").map(Number),d=new Date(r,i-1,a,s,c);return Number.isNaN(d.getTime())?null:d}function oK(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}const Mr=[];for(let e=0;e<256;++e)Mr.push((e+256).toString(16).slice(1));function sK(e,t=0){return(Mr[e[t+0]]+Mr[e[t+1]]+Mr[e[t+2]]+Mr[e[t+3]]+"-"+Mr[e[t+4]]+Mr[e[t+5]]+"-"+Mr[e[t+6]]+Mr[e[t+7]]+"-"+Mr[e[t+8]]+Mr[e[t+9]]+"-"+Mr[e[t+10]]+Mr[e[t+11]]+Mr[e[t+12]]+Mr[e[t+13]]+Mr[e[t+14]]+Mr[e[t+15]]).toLowerCase()}let Jx;const lK=new Uint8Array(16);function cK(){if(!Jx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jx=crypto.getRandomValues.bind(crypto)}return Jx(lK)}const uK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lC={randomUUID:uK};function z$(e,t,n){if(lC.randomUUID&&!e)return lC.randomUUID();e=e||{};const r=e.random??e.rng?.()??cK();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,sK(r)}var Wh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var dK=Wh.exports,cC;function fK(){return cC||(cC=1,(function(e,t){(function(n,r){r(t)})(dK,(function(n){var r="1.9.4";function i(u){var g,w,C,P;for(w=1,C=arguments.length;w<C;w++){P=arguments[w];for(g in P)u[g]=P[g]}return u}var a=Object.create||(function(){function u(){}return function(g){return u.prototype=g,new u}})();function s(u,g){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var C=w.call(arguments,2);return function(){return u.apply(g,C.length?C.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function f(u,g,w){var C,P,U,ie;return ie=function(){C=!1,P&&(U.apply(w,P),P=!1)},U=function(){C?P=arguments:(u.apply(w,arguments),setTimeout(ie,g),C=!0)},U}function m(u,g,w){var C=g[1],P=g[0],U=C-P;return u===C&&w?u:((u-P)%U+U)%U+P}function p(){return!1}function y(u,g){if(g===!1)return u;var w=Math.pow(10,g===void 0?6:g);return Math.round(u*w)/w}function b(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function x(u){return b(u).split(/\s+/)}function T(u,g){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var w in g)u.options[w]=g[w];return u.options}function S(u,g,w){var C=[];for(var P in u)C.push(encodeURIComponent(w?P.toUpperCase():P)+"="+encodeURIComponent(u[P]));return(!g||g.indexOf("?")===-1?"?":"&")+C.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function D(u,g){return u.replace(j,function(w,C){var P=g[C];if(P===void 0)throw new Error("No value provided for variable "+w);return typeof P=="function"&&(P=P(g)),P})}var O=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function M(u,g){for(var w=0;w<u.length;w++)if(u[w]===g)return w;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var $=0;function B(u){var g=+new Date,w=Math.max(0,16-(g-$));return $=g+w,window.setTimeout(u,w)}var H=window.requestAnimationFrame||I("RequestAnimationFrame")||B,Z=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function z(u,g,w){if(w&&H===B)u.call(g);else return H.call(window,s(u,g))}function F(u){u&&Z.call(window,u)}var Q={__proto__:null,extend:i,create:a,bind:s,get lastId(){return c},stamp:d,throttle:f,wrapNum:m,falseFn:p,formatNum:y,trim:b,splitWords:x,setOptions:T,getParamString:S,template:D,isArray:O,indexOf:M,emptyImageUrl:N,requestFn:H,cancelFn:Z,requestAnimFrame:z,cancelAnimFrame:F};function ee(){}ee.extend=function(u){var g=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=g.__super__=this.prototype,C=a(w);C.constructor=g,g.prototype=C;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(g[P]=this[P]);return u.statics&&i(g,u.statics),u.includes&&(ye(u.includes),i.apply(null,[C].concat(u.includes))),i(C,u),delete C.statics,delete C.includes,C.options&&(C.options=w.options?a(w.options):{},i(C.options,u.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,ie=C._initHooks.length;U<ie;U++)C._initHooks[U].call(this)}},g},ee.include=function(u){var g=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},ee.mergeOptions=function(u){return i(this.prototype.options,u),this},ee.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ye(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=O(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(u,g,w){if(typeof u=="object")for(var C in u)this._on(C,u[C],g);else{u=x(u);for(var P=0,U=u.length;P<U;P++)this._on(u[P],g,w)}return this},off:function(u,g,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var C in u)this._off(C,u[C],g);else{u=x(u);for(var P=arguments.length===1,U=0,ie=u.length;U<ie;U++)P?this._off(u[U]):this._off(u[U],g,w)}return this},_on:function(u,g,w,C){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(u,g,w)===!1){w===this&&(w=void 0);var P={fn:g,ctx:w};C&&(P.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(P)}},_off:function(u,g,w){var C,P,U;if(this._events&&(C=this._events[u],!!C)){if(arguments.length===1){if(this._firingCount)for(P=0,U=C.length;P<U;P++)C[P].fn=p;delete this._events[u];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var ie=this._listens(u,g,w);if(ie!==!1){var be=C[ie];this._firingCount&&(be.fn=p,this._events[u]=C=C.slice()),C.splice(ie,1)}}},fire:function(u,g,w){if(!this.listens(u,w))return this;var C=i({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var P=this._events[u];if(P){this._firingCount=this._firingCount+1||1;for(var U=0,ie=P.length;U<ie;U++){var be=P[U],Ee=be.fn;be.once&&this.off(u,Ee,be.ctx),Ee.call(be.ctx||this,C)}this._firingCount--}}return w&&this._propagateEvent(C),this},listens:function(u,g,w,C){typeof u!="string"&&console.warn('"string" type argument expected');var P=g;typeof g!="function"&&(C=!!g,P=void 0,w=void 0);var U=this._events&&this._events[u];if(U&&U.length&&this._listens(u,P,w)!==!1)return!0;if(C){for(var ie in this._eventParents)if(this._eventParents[ie].listens(u,g,w,C))return!0}return!1},_listens:function(u,g,w){if(!this._events)return!1;var C=this._events[u]||[];if(!g)return!!C.length;w===this&&(w=void 0);for(var P=0,U=C.length;P<U;P++)if(C[P].fn===g&&C[P].ctx===w)return P;return!1},once:function(u,g,w){if(typeof u=="object")for(var C in u)this._on(C,u[C],g,!0);else{u=x(u);for(var P=0,U=u.length;P<U;P++)this._on(u[P],g,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var le=ee.extend(J);function ae(u,g,w){this.x=w?Math.round(u):u,this.y=w?Math.round(g):g}var he=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(u){return this.clone()._add(ne(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(ne(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ae(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ae(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=he(this.x),this.y=he(this.y),this},distanceTo:function(u){u=ne(u);var g=u.x-this.x,w=u.y-this.y;return Math.sqrt(g*g+w*w)},equals:function(u){return u=ne(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=ne(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function ne(u,g,w){return u instanceof ae?u:O(u)?new ae(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ae(u.x,u.y):new ae(u,g,w)}function q(u,g){if(u)for(var w=g?[u,g]:u,C=0,P=w.length;C<P;C++)this.extend(w[C])}q.prototype={extend:function(u){var g,w;if(!u)return this;if(u instanceof ae||typeof u[0]=="number"||"x"in u)g=w=ne(u);else if(u=K(u),g=u.min,w=u.max,!g||!w)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=w.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,w;return typeof u[0]=="number"||u instanceof ae?u=ne(u):u=K(u),u instanceof q?(g=u.min,w=u.max):g=w=u,g.x>=this.min.x&&w.x<=this.max.x&&g.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=K(u);var g=this.min,w=this.max,C=u.min,P=u.max,U=P.x>=g.x&&C.x<=w.x,ie=P.y>=g.y&&C.y<=w.y;return U&&ie},overlaps:function(u){u=K(u);var g=this.min,w=this.max,C=u.min,P=u.max,U=P.x>g.x&&C.x<w.x,ie=P.y>g.y&&C.y<w.y;return U&&ie},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var g=this.min,w=this.max,C=Math.abs(g.x-w.x)*u,P=Math.abs(g.y-w.y)*u;return K(ne(g.x-C,g.y-P),ne(w.x+C,w.y+P))},equals:function(u){return u?(u=K(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function K(u,g){return!u||u instanceof q?u:new q(u,g)}function X(u,g){if(u)for(var w=g?[u,g]:u,C=0,P=w.length;C<P;C++)this.extend(w[C])}X.prototype={extend:function(u){var g=this._southWest,w=this._northEast,C,P;if(u instanceof V)C=u,P=u;else if(u instanceof X){if(C=u._southWest,P=u._northEast,!C||!P)return this}else return u?this.extend(W(u)||re(u)):this;return!g&&!w?(this._southWest=new V(C.lat,C.lng),this._northEast=new V(P.lat,P.lng)):(g.lat=Math.min(C.lat,g.lat),g.lng=Math.min(C.lng,g.lng),w.lat=Math.max(P.lat,w.lat),w.lng=Math.max(P.lng,w.lng)),this},pad:function(u){var g=this._southWest,w=this._northEast,C=Math.abs(g.lat-w.lat)*u,P=Math.abs(g.lng-w.lng)*u;return new X(new V(g.lat-C,g.lng-P),new V(w.lat+C,w.lng+P))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof V||"lat"in u?u=W(u):u=re(u);var g=this._southWest,w=this._northEast,C,P;return u instanceof X?(C=u.getSouthWest(),P=u.getNorthEast()):C=P=u,C.lat>=g.lat&&P.lat<=w.lat&&C.lng>=g.lng&&P.lng<=w.lng},intersects:function(u){u=re(u);var g=this._southWest,w=this._northEast,C=u.getSouthWest(),P=u.getNorthEast(),U=P.lat>=g.lat&&C.lat<=w.lat,ie=P.lng>=g.lng&&C.lng<=w.lng;return U&&ie},overlaps:function(u){u=re(u);var g=this._southWest,w=this._northEast,C=u.getSouthWest(),P=u.getNorthEast(),U=P.lat>g.lat&&C.lat<w.lat,ie=P.lng>g.lng&&C.lng<w.lng;return U&&ie},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return u?(u=re(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(u,g){return u instanceof X?u:new X(u,g)}function V(u,g,w){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,w!==void 0&&(this.alt=+w)}V.prototype={equals:function(u,g){if(!u)return!1;u=W(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(g===void 0?1e-9:g)},toString:function(u){return"LatLng("+y(this.lat,u)+", "+y(this.lng,u)+")"},distanceTo:function(u){return te.distance(this,W(u))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,w=g/Math.cos(Math.PI/180*this.lat);return re([this.lat-g,this.lng-w],[this.lat+g,this.lng+w])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function W(u,g,w){return u instanceof V?u:O(u)&&typeof u[0]!="object"?u.length===3?new V(u[0],u[1],u[2]):u.length===2?new V(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new V(u.lat,"lng"in u?u.lng:u.lon,u.alt):g===void 0?null:new V(u,g,w)}var ue={latLngToPoint:function(u,g){var w=this.projection.project(u),C=this.scale(g);return this.transformation._transform(w,C)},pointToLatLng:function(u,g){var w=this.scale(g),C=this.transformation.untransform(u,w);return this.projection.unproject(C)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,w=this.scale(u),C=this.transformation.transform(g.min,w),P=this.transformation.transform(g.max,w);return new q(C,P)},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,C=u.alt;return new V(w,g,C)},wrapLatLngBounds:function(u){var g=u.getCenter(),w=this.wrapLatLng(g),C=g.lat-w.lat,P=g.lng-w.lng;if(C===0&&P===0)return u;var U=u.getSouthWest(),ie=u.getNorthEast(),be=new V(U.lat-C,U.lng-P),Ee=new V(ie.lat-C,ie.lng-P);return new X(be,Ee)}},te=i({},ue,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var w=Math.PI/180,C=u.lat*w,P=g.lat*w,U=Math.sin((g.lat-u.lat)*w/2),ie=Math.sin((g.lng-u.lng)*w/2),be=U*U+Math.cos(C)*Math.cos(P)*ie*ie,Ee=2*Math.atan2(Math.sqrt(be),Math.sqrt(1-be));return this.R*Ee}}),Y=6378137,se={R:Y,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,w=this.MAX_LATITUDE,C=Math.max(Math.min(w,u.lat),-w),P=Math.sin(C*g);return new ae(this.R*u.lng*g,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(u){var g=180/Math.PI;return new V((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:(function(){var u=Y*Math.PI;return new q([-u,-u],[u,u])})()};function Se(u,g,w,C){if(O(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=g,this._c=w,this._d=C}Se.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return g=g||1,u.x=g*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return g=g||1,new ae((u.x/g-this._b)/this._a,(u.y/g-this._d)/this._c)}};function ce(u,g,w,C){return new Se(u,g,w,C)}var Ne=i({},te,{code:"EPSG:3857",projection:se,transformation:(function(){var u=.5/(Math.PI*se.R);return ce(u,.5,-u,.5)})()}),me=i({},Ne,{code:"EPSG:900913"});function Te(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function De(u,g){var w="",C,P,U,ie,be,Ee;for(C=0,U=u.length;C<U;C++){for(be=u[C],P=0,ie=be.length;P<ie;P++)Ee=be[P],w+=(P?"L":"M")+Ee.x+" "+Ee.y;w+=g?Xe.svg?"z":"x":""}return w||"M0 0"}var Le=document.documentElement.style,Be="ActiveXObject"in window,ge=Be&&!document.addEventListener,Ue="msLaunchUri"in navigator&&!("documentMode"in document),de=Ar("webkit"),pe=Ar("android"),$e=Ar("android 2")||Ar("android 3"),ze=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fe=pe&&Ar("Google")&&ze<537&&!("AudioNode"in window),ct=!!window.opera,dt=!Ue&&Ar("chrome"),Dt=Ar("gecko")&&!de&&!ct&&!Be,_t=!dt&&Ar("safari"),Pn=Ar("phantom"),Br="OTransition"in Le,zr=navigator.platform.indexOf("Win")===0,Rn=Be&&"transition"in Le,qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$e,rn="MozPerspective"in Le,an=!window.L_DISABLE_3D&&(Rn||qt||rn)&&!Br&&!Pn,da=typeof orientation<"u"||Ar("mobile"),Qs=da&&de,Jo=da&&qt,Ur=!window.PointerEvent&&window.MSPointerEvent,Wn=!!(window.PointerEvent||Ur),Hr="ontouchstart"in window||!!window.TouchEvent,Fr=!window.L_NO_TOUCH&&(Hr||Wn),Ga=da&&ct,_o=da&&Dt,xo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qo=(function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",p,g),window.removeEventListener("testPassiveEventSupport",p,g)}catch{}return u})(),wo=(function(){return!!document.createElement("canvas").getContext})(),fa=!!(document.createElementNS&&Te("svg").createSVGRect),kf=!!fa&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ku=!fa&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),So=navigator.platform.indexOf("Mac")===0,Eo=navigator.platform.indexOf("Linux")===0;function Ar(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Xe={ie:Be,ielt9:ge,edge:Ue,webkit:de,android:pe,android23:$e,androidStock:Fe,opera:ct,chrome:dt,gecko:Dt,safari:_t,phantom:Pn,opera12:Br,win:zr,ie3d:Rn,webkit3d:qt,gecko3d:rn,any3d:an,mobile:da,mobileWebkit:Qs,mobileWebkit3d:Jo,msPointer:Ur,pointer:Wn,touch:Fr,touchNative:Hr,mobileOpera:Ga,mobileGecko:_o,retina:xo,passiveEvents:Qo,canvas:wo,svg:fa,vml:ku,inlineSvg:kf,mac:So,linux:Eo},Ao=Xe.msPointer?"MSPointerDown":"pointerdown",el=Xe.msPointer?"MSPointerMove":"pointermove",ni=Xe.msPointer?"MSPointerUp":"pointerup",Yt=Xe.msPointer?"MSPointerCancel":"pointercancel",kn={touchstart:Ao,touchmove:el,touchend:ni,touchcancel:Yt},pi={touchstart:_e,touchmove:ha,touchend:ha,touchcancel:ha},gi={},nc=!1;function rc(u,g,w){return g==="touchstart"&&To(),pi[g]?(w=pi[g].bind(this,w),u.addEventListener(kn[g],w,!1),w):(console.warn("wrong event specified:",g),p)}function ic(u,g,w){if(!kn[g]){console.warn("wrong event specified:",g);return}u.removeEventListener(kn[g],w,!1)}function qa(u){gi[u.pointerId]=u}function es(u){gi[u.pointerId]&&(gi[u.pointerId]=u)}function Ii(u){delete gi[u.pointerId]}function To(){nc||(document.addEventListener(Ao,qa,!0),document.addEventListener(el,es,!0),document.addEventListener(ni,Ii,!0),document.addEventListener(Yt,Ii,!0),nc=!0)}function ha(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var w in gi)g.touches.push(gi[w]);g.changedTouches=[g],u(g)}}function _e(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Ln(g),ha(u,g)}function He(u){var g={},w,C;for(C in u)w=u[C],g[C]=w&&w.bind?w.bind(u):w;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var ht=200;function At(u,g){u.addEventListener("dblclick",g);var w=0,C;function P(U){if(U.detail!==1){C=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var ie=uc(U);if(!(ie.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ie.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var be=Date.now();be-w<=ht?(C++,C===2&&g(He(U))):C=1,w=be}}}return u.addEventListener("click",P),{dblclick:g,simDblclick:P}}function rt(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}var mt=oc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jt=oc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nt=jt==="webkitTransition"||jt==="OTransition"?jt+"End":"transitionend";function Gr(u){return typeof u=="string"?document.getElementById(u):u}function On(u,g){var w=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!w||w==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(u,null);w=C?C[g]:null}return w==="auto"?null:w}function vt(u,g,w){var C=document.createElement(u);return C.className=g||"",w&&w.appendChild(C),C}function Bt(u){var g=u.parentNode;g&&g.removeChild(u)}function Tr(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function on(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function Ya(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function ac(u,g){if(u.classList!==void 0)return u.classList.contains(g);var w=Ou(u);return w.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(w)}function ut(u,g){if(u.classList!==void 0)for(var w=x(g),C=0,P=w.length;C<P;C++)u.classList.add(w[C]);else if(!ac(u,g)){var U=Ou(u);tl(u,(U?U+" ":"")+g)}}function _n(u,g){u.classList!==void 0?u.classList.remove(g):tl(u,b((" "+Ou(u)+" ").replace(" "+g+" "," ")))}function tl(u,g){u.className.baseVal===void 0?u.className=g:u.className.baseVal=g}function Ou(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function pn(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&Of(u,g)}function Of(u,g){var w=!1,C="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(C)}catch{if(g===1)return}g=Math.round(g*100),w?(w.Enabled=g!==100,w.Opacity=g):u.style.filter+=" progid:"+C+"(opacity="+g+")"}function oc(u){for(var g=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in g)return u[w];return!1}function Ka(u,g,w){var C=g||new ae(0,0);u.style[mt]=(Xe.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(w?" scale("+w+")":"")}function en(u,g){u._leaflet_pos=g,Xe.any3d?Ka(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function ko(u){return u._leaflet_pos||new ae(0,0)}var nl,ma,jf;if("onselectstart"in document)nl=function(){lt(window,"selectstart",Ln)},ma=function(){Ht(window,"selectstart",Ln)};else{var rl=oc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);nl=function(){if(rl){var u=document.documentElement.style;jf=u[rl],u[rl]="none"}},ma=function(){rl&&(document.documentElement.style[rl]=jf,jf=void 0)}}function ju(){lt(window,"dragstart",Ln)}function sc(){Ht(window,"dragstart",Ln)}var Nu,Nf;function il(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(vi(),Nu=u,Nf=u.style.outlineStyle,u.style.outlineStyle="none",lt(window,"keydown",vi))}function vi(){Nu&&(Nu.style.outlineStyle=Nf,Nu=void 0,Nf=void 0,Ht(window,"keydown",vi))}function Cu(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function lc(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var al={__proto__:null,TRANSFORM:mt,TRANSITION:jt,TRANSITION_END:Nt,get:Gr,getStyle:On,create:vt,remove:Bt,empty:Tr,toFront:on,toBack:Ya,hasClass:ac,addClass:ut,removeClass:_n,setClass:tl,getClass:Ou,setOpacity:pn,testProp:oc,setTransform:Ka,setPosition:en,getPosition:ko,get disableTextSelection(){return nl},get enableTextSelection(){return ma},disableImageDrag:ju,enableImageDrag:sc,preventOutline:il,restoreOutline:vi,getSizedParentNode:Cu,getScale:lc};function lt(u,g,w,C){if(g&&typeof g=="object")for(var P in g)Bi(u,P,g[P],w);else{g=x(g);for(var U=0,ie=g.length;U<ie;U++)Bi(u,g[U],w,C)}return this}var $i="_leaflet_events";function Ht(u,g,w,C){if(arguments.length===1)Cf(u),delete u[$i];else if(g&&typeof g=="object")for(var P in g)cc(u,P,g[P],w);else if(g=x(g),arguments.length===2)Cf(u,function(be){return M(g,be)!==-1});else for(var U=0,ie=g.length;U<ie;U++)cc(u,g[U],w,C);return this}function Cf(u,g){for(var w in u[$i]){var C=w.split(/\d/)[0];(!g||g(C))&&cc(u,C,null,null,w)}}var ts={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bi(u,g,w,C){var P=g+d(w)+(C?"_"+d(C):"");if(u[$i]&&u[$i][P])return this;var U=function(be){return w.call(C||u,be||window.event)},ie=U;!Xe.touchNative&&Xe.pointer&&g.indexOf("touch")===0?U=rc(u,g,U):Xe.touch&&g==="dblclick"?U=At(u,U):"addEventListener"in u?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?u.addEventListener(ts[g]||g,U,Xe.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(U=function(be){be=be||window.event,Wa(u,be)&&ie(be)},u.addEventListener(ts[g],U,!1)):u.addEventListener(g,ie,!1):u.attachEvent("on"+g,U),u[$i]=u[$i]||{},u[$i][P]=U}function cc(u,g,w,C,P){P=P||g+d(w)+(C?"_"+d(C):"");var U=u[$i]&&u[$i][P];if(!U)return this;!Xe.touchNative&&Xe.pointer&&g.indexOf("touch")===0?ic(u,g,U):Xe.touch&&g==="dblclick"?rt(u,U):"removeEventListener"in u?u.removeEventListener(ts[g]||g,U,!1):u.detachEvent("on"+g,U),u[$i][P]=null}function zi(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function pa(u){return Bi(u,"wheel",zi),this}function ns(u){return lt(u,"mousedown touchstart dblclick contextmenu",zi),u._leaflet_disable_click=!0,this}function Ln(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Oo(u){return Ln(u),zi(u),this}function uc(u){if(u.composedPath)return u.composedPath();for(var g=[],w=u.target;w;)g.push(w),w=w.parentNode;return g}function dc(u,g){if(!g)return new ae(u.clientX,u.clientY);var w=lc(g),C=w.boundingClientRect;return new ae((u.clientX-C.left)/w.x-g.clientLeft,(u.clientY-C.top)/w.y-g.clientTop)}var yp=Xe.linux&&Xe.chrome?window.devicePixelRatio:Xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kr(u){return Xe.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/yp:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Wa(u,g){var w=g.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var Mu={__proto__:null,on:lt,off:Ht,stopPropagation:zi,disableScrollPropagation:pa,disableClickPropagation:ns,preventDefault:Ln,stop:Oo,getPropagationPath:uc,getMousePosition:dc,getWheelDelta:kr,isExternalTarget:Wa,addListener:lt,removeListener:Ht},ol=le.extend({run:function(u,g,w,C){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=ko(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,w=this._duration*1e3;g<w?this._runFrame(this._easeOut(g/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var w=this._startPos.add(this._offset.multiplyBy(u));g&&w._round(),en(this._el,w),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Tt=le.extend({options:{crs:Ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=T(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(W(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jt&&Xe.any3d&&!Xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,Nt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,w){if(g=g===void 0?this._zoom:this._limitZoom(g),u=this._limitCenter(W(u),g,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var C=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,w.zoom):this._tryAnimatedPan(u,w.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(u,g,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return u=u||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,g)},zoomOut:function(u,g){return u=u||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,g)},setZoomAround:function(u,g,w){var C=this.getZoomScale(g),P=this.getSize().divideBy(2),U=u instanceof ae?u:this.latLngToContainerPoint(u),ie=U.subtract(P).multiplyBy(1-1/C),be=this.containerPointToLatLng(P.add(ie));return this.setView(be,g,{zoom:w})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():re(u);var w=ne(g.paddingTopLeft||g.padding||[0,0]),C=ne(g.paddingBottomRight||g.padding||[0,0]),P=this.getBoundsZoom(u,!1,w.add(C));if(P=typeof g.maxZoom=="number"?Math.min(g.maxZoom,P):P,P===1/0)return{center:u.getCenter(),zoom:P};var U=C.subtract(w).divideBy(2),ie=this.project(u.getSouthWest(),P),be=this.project(u.getNorthEast(),P),Ee=this.unproject(ie.add(be).divideBy(2).add(U),P);return{center:Ee,zoom:P}},fitBounds:function(u,g){if(u=re(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,g);return this.setView(w.center,w.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(u=ne(u).round(),g=g||{},!u.x&&!u.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ol,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,w){if(w=w||{},w.animate===!1||!Xe.any3d)return this.setView(u,g,w);this._stop();var C=this.project(this.getCenter()),P=this.project(u),U=this.getSize(),ie=this._zoom;u=W(u),g=g===void 0?ie:g;var be=Math.max(U.x,U.y),Ee=be*this.getZoomScale(ie,g),Pe=P.distanceTo(C)||1,qe=1.42,et=qe*qe;function yt(jn){var Ja=jn?-1:1,os=jn?Ee:be,Yf=Ee*Ee-be*be+Ja*et*et*Pe*Pe,kc=2*os*et*Pe,Oc=Yf/kc,Io=Math.sqrt(Oc*Oc+1)-Oc,Qa=Io<1e-9?-18:Math.log(Io);return Qa}function rr(jn){return(Math.exp(jn)-Math.exp(-jn))/2}function In(jn){return(Math.exp(jn)+Math.exp(-jn))/2}function ii(jn){return rr(jn)/In(jn)}var Pt=yt(0);function Rt(jn){return be*(In(Pt)/In(Pt+qe*jn))}function xt(jn){return be*(In(Pt)*ii(Pt+qe*jn)-rr(Pt))/et}function Ro(jn){return 1-Math.pow(1-jn,1.5)}var xi=Date.now(),Yu=(yt(1)-Pt)/qe,Lo=w.duration?1e3*w.duration:1e3*Yu*.8;function qf(){var jn=(Date.now()-xi)/Lo,Ja=Ro(jn)*Yu;jn<=1?(this._flyToFrame=z(qf,this),this._move(this.unproject(C.add(P.subtract(C).multiplyBy(xt(Ja)/Pe)),ie),this.getScaleZoom(be/Rt(Ja),ie),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),qf.call(this),this},flyToBounds:function(u,g){var w=this._getBoundsCenterZoom(u,g);return this.flyTo(w.center,w.zoom,g)},setMaxBounds:function(u){return u=re(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var w=this.getCenter(),C=this._limitCenter(w,this._zoom,re(u));return w.equals(C)||this.panTo(C,g),this._enforcingBounds=!1,this},panInside:function(u,g){g=g||{};var w=ne(g.paddingTopLeft||g.padding||[0,0]),C=ne(g.paddingBottomRight||g.padding||[0,0]),P=this.project(this.getCenter()),U=this.project(u),ie=this.getPixelBounds(),be=K([ie.min.add(w),ie.max.subtract(C)]),Ee=be.getSize();if(!be.contains(U)){this._enforcingBounds=!0;var Pe=U.subtract(be.getCenter()),qe=be.extend(U).getSize().subtract(Ee);P.x+=Pe.x<0?-qe.x:qe.x,P.y+=Pe.y<0?-qe.y:qe.y,this.panTo(this.unproject(P),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),C=g.divideBy(2).round(),P=w.divideBy(2).round(),U=C.subtract(P);return!U.x&&!U.y?this:(u.animate&&u.pan?this.panBy(U):(u.pan&&this._rawPanBy(U),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=s(this._handleGeolocationResponse,this),w=s(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,w,u):navigator.geolocation.getCurrentPosition(g,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,w=u.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var g=u.coords.latitude,w=u.coords.longitude,C=new V(g,w),P=C.toBounds(u.coords.accuracy*2),U=this._locateOptions;if(U.setView){var ie=this.getBoundsZoom(P);this.setView(C,U.maxZoom?Math.min(ie,U.maxZoom):ie)}var be={latlng:C,bounds:P,timestamp:u.timestamp};for(var Ee in u.coords)typeof u.coords[Ee]=="number"&&(be[Ee]=u.coords[Ee]);this.fire("locationfound",be)}},addHandler:function(u,g){if(!g)return this;var w=this[u]=new g(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Bt(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),C=vt("div",w,g||this._mapPane);return u&&(this._panes[u]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),g=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new X(g,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,w){u=re(u),w=ne(w||[0,0]);var C=this.getZoom()||0,P=this.getMinZoom(),U=this.getMaxZoom(),ie=u.getNorthWest(),be=u.getSouthEast(),Ee=this.getSize().subtract(w),Pe=K(this.project(be,C),this.project(ie,C)).getSize(),qe=Xe.any3d?this.options.zoomSnap:1,et=Ee.x/Pe.x,yt=Ee.y/Pe.y,rr=g?Math.max(et,yt):Math.min(et,yt);return C=this.getScaleZoom(rr,C),qe&&(C=Math.round(C/(qe/100))*(qe/100),C=g?Math.ceil(C/qe)*qe:Math.floor(C/qe)*qe),Math.max(P,Math.min(U,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var w=this._getTopLeftPoint(u,g);return new q(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var w=this.options.crs;return g=g===void 0?this._zoom:g,w.scale(u)/w.scale(g)},getScaleZoom:function(u,g){var w=this.options.crs;g=g===void 0?this._zoom:g;var C=w.zoom(u*w.scale(g));return isNaN(C)?1/0:C},project:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(W(u),g)},unproject:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(ne(u),g)},layerPointToLatLng:function(u){var g=ne(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){var g=this.project(W(u))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(W(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(re(u))},distance:function(u,g){return this.options.crs.distance(W(u),W(g))},containerPointToLayerPoint:function(u){return ne(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return ne(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(ne(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(u)))},mouseEventToContainerPoint:function(u){return dc(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=Gr(u);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xe.any3d,ut(u,"leaflet-container"+(Xe.touch?" leaflet-touch":"")+(Xe.retina?" leaflet-retina":"")+(Xe.ielt9?" leaflet-oldie":"")+(Xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=On(u,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),en(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(u.markerPane,"leaflet-zoom-hide"),ut(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,w){en(this._mapPane,new ae(0,0));var C=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var P=this._zoom!==g;this._moveStart(P,w)._move(u,g)._moveEnd(P),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,w,C){g===void 0&&(g=this._zoom);var P=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),C?w&&w.pinch&&this.fire("zoom",w):((P||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){en(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var g=u?Ht:lt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Xe.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var w=[],C,P=g==="mouseout"||g==="mouseover",U=u.target||u.srcElement,ie=!1;U;){if(C=this._targets[d(U)],C&&(g==="click"||g==="preclick")&&this._draggableMoved(C)){ie=!0;break}if(C&&C.listens(g,!0)&&(P&&!Wa(U,u)||(w.push(C),P))||U===this._container)break;U=U.parentNode}return!w.length&&!ie&&!P&&this.listens(g,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(g))){var w=u.type;w==="mousedown"&&il(g),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,w){if(u.type==="click"){var C=i({},u);C.type="preclick",this._fireDOMEvent(C,C.type,w)}var P=this._findEventTargets(u,g);if(w){for(var U=[],ie=0;ie<w.length;ie++)w[ie].listens(g,!0)&&U.push(w[ie]);P=U.concat(P)}if(P.length){g==="contextmenu"&&Ln(u);var be=P[0],Ee={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Pe=be.getLatLng&&(!be._radius||be._radius<=10);Ee.containerPoint=Pe?this.latLngToContainerPoint(be.getLatLng()):this.mouseEventToContainerPoint(u),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=Pe?be.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ie=0;ie<P.length;ie++)if(P[ie].fire(g,Ee,!0),Ee.originalEvent._stopped||P[ie].options.bubblingMouseEvents===!1&&M(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return ko(this._mapPane)||new ae(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){var w=u&&g!==void 0?this._getNewPixelOrigin(u,g):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var w=this.getSize()._divideBy(2);return this.project(u,g)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,w){var C=this._getNewPixelOrigin(w,g);return this.project(u,g)._subtract(C)},_latLngBoundsToNewLayerBounds:function(u,g,w){var C=this._getNewPixelOrigin(w,g);return K([this.project(u.getSouthWest(),g)._subtract(C),this.project(u.getNorthWest(),g)._subtract(C),this.project(u.getSouthEast(),g)._subtract(C),this.project(u.getNorthEast(),g)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,w){if(!w)return u;var C=this.project(u,g),P=this.getSize().divideBy(2),U=new q(C.subtract(P),C.add(P)),ie=this._getBoundsOffset(U,w,g);return Math.abs(ie.x)<=1&&Math.abs(ie.y)<=1?u:this.unproject(C.add(ie),g)},_limitOffset:function(u,g){if(!g)return u;var w=this.getPixelBounds(),C=new q(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(C,g))},_getBoundsOffset:function(u,g,w){var C=K(this.project(g.getNorthEast(),w),this.project(g.getSouthWest(),w)),P=C.min.subtract(u.min),U=C.max.subtract(u.max),ie=this._rebound(P.x,-U.x),be=this._rebound(P.y,-U.y);return new ae(ie,be)},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),w=this.getMaxZoom(),C=Xe.any3d?this.options.zoomSnap:1;return C&&(u=Math.round(u/C)*C),Math.max(g,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_n(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var w=this._getCenterOffset(u)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,g),!0)},_createAnimProxy:function(){var u=this._proxy=vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var w=mt,C=this._proxy.style[w];Ka(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),C===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();Ka(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(g),P=this._getCenterOffset(u)._divideBy(1-1/C);return w.animate!==!0&&!this.getSize().contains(P)?!1:(z(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,g,!0)},this),!0)},_animateZoom:function(u,g,w,C){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_n(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Mf(u,g){return new Tt(u,g)}var ri=ee.extend({options:{position:"topright"},initialize:function(u){T(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),w=this.getPosition(),C=u._controlCorners[w];return ut(g,"leaflet-control"),w.indexOf("bottom")!==-1?C.insertBefore(g,C.firstChild):C.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Va=function(u){return new ri(u)};Tt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",w=this._controlContainer=vt("div",g+"control-container",this._container);function C(P,U){var ie=g+P+" "+g+U;u[P+U]=vt("div",ie,w)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Bt(this._controlCorners[u]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fc=ri.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,w,C){return w<C?-1:C<w?1:0}},initialize:function(u,g,w){T(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in u)this._addLayer(u[C],C);for(C in g)this._addLayer(g[C],C,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ri.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):_n(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _n(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=vt("div",u),w=this.options.collapsed;g.setAttribute("aria-haspopup",!0),ns(g),pa(g);var C=this._section=vt("section",u+"-list");w&&(this._map.on("click",this.collapse,this),lt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=vt("a",u+"-toggle",g);P.href="#",P.title="Layers",P.setAttribute("role","button"),lt(P,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){Ln(U),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=vt("div",u+"-base",C),this._separator=vt("div",u+"-separator",C),this._overlaysList=vt("div",u+"-overlays",C),g.appendChild(C)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:w}),this.options.sortLayers&&this._layers.sort(s(function(C,P){return this.options.sortFunction(C.layer,P.layer,C.name,P.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tr(this._baseLayersList),Tr(this._overlaysList),this._layerControlInputs=[];var u,g,w,C,P=0;for(w=0;w<this._layers.length;w++)C=this._layers[w],this._addItem(C),g=g||C.overlay,u=u||!C.overlay,P+=C.overlay?0:1;return this.options.hideSingleBase&&(u=u&&P>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(d(u.target)),w=g.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,g)},_createRadioElement:function(u,g){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=w,C.firstChild},_addItem:function(u){var g=document.createElement("label"),w=this._map.hasLayer(u.layer),C;u.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=w):C=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(C),C.layerId=d(u.layer),lt(C,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+u.name;var U=document.createElement("span");g.appendChild(U),U.appendChild(C),U.appendChild(P);var ie=u.overlay?this._overlaysList:this._baseLayersList;return ie.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,g,w,C=[],P=[];this._handlingClick=!0;for(var U=u.length-1;U>=0;U--)g=u[U],w=this._getLayer(g.layerId).layer,g.checked?C.push(w):g.checked||P.push(w);for(U=0;U<P.length;U++)this._map.hasLayer(P[U])&&this._map.removeLayer(P[U]);for(U=0;U<C.length;U++)this._map.hasLayer(C[U])||this._map.addLayer(C[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,g,w,C=this._map.getZoom(),P=u.length-1;P>=0;P--)g=u[P],w=this._getLayer(g.layerId).layer,g.disabled=w.options.minZoom!==void 0&&C<w.options.minZoom||w.options.maxZoom!==void 0&&C>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,lt(u,"click",Ln),this.expand();var g=this;setTimeout(function(){Ht(u,"click",Ln),g._preventClick=!1})}}),bp=function(u,g,w){return new fc(u,g,w)},Df=ri.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",w=vt("div",g+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,g+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,g+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,w,C,P){var U=vt("a",w,C);return U.innerHTML=u,U.href="#",U.title=g,U.setAttribute("role","button"),U.setAttribute("aria-label",g),ns(U),lt(U,"click",Oo),lt(U,"click",P,this),lt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";_n(this._zoomInButton,g),_n(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(ut(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(ut(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tt.mergeOptions({zoomControl:!0}),Tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Df,this.addControl(this.zoomControl))});var Yb=function(u){return new Df(u)},_p=ri.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",w=vt("div",g),C=this.options;return this._addScales(C,g+"-line",w),u.on(C.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,w){u.metric&&(this._mScale=vt("div",g,w)),u.imperial&&(this._iScale=vt("div",g,w))},_update:function(){var u=this._map,g=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u),w=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,w,g/u)},_updateImperial:function(u){var g=u*3.2808399,w,C,P;g>5280?(w=g/5280,C=this._getRoundNum(w),this._updateScale(this._iScale,C+" mi",C/w)):(P=this._getRoundNum(g),this._updateScale(this._iScale,P+" ft",P/g))},_updateScale:function(u,g,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),w=u/g;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,g*w}}),Pf=function(u){return new _p(u)},Kb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Rf=ri.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xe.inlineSvg?Kb+" ":"")+"Leaflet</a>"},initialize:function(u){T(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=vt("div","leaflet-control-attribution"),ns(this._container);for(var g in u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});Tt.mergeOptions({attributionControl:!0}),Tt.addInitHook(function(){this.options.attributionControl&&new Rf().addTo(this)});var Wb=function(u){return new Rf(u)};ri.Layers=fc,ri.Zoom=Df,ri.Scale=_p,ri.Attribution=Rf,Va.layers=bp,Va.zoom=Yb,Va.scale=Pf,Va.attribution=Wb;var ga=ee.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ga.addTo=function(u,g){return u.addHandler(g,this),this};var Vb={Events:J},Lf=Xe.touch?"touchstart mousedown":"mousedown",jo=le.extend({options:{clickTolerance:3},initialize:function(u,g,w,C){T(this,C),this._element=u,this._dragStartTarget=g||u,this._preventOutline=w},enable:function(){this._enabled||(lt(this._dragStartTarget,Lf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jo._dragging===this&&this.finishDrag(!0),Ht(this._dragStartTarget,Lf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!ac(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){jo._dragging===this&&this.finishDrag();return}if(!(jo._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(jo._dragging=this,this._preventOutline&&il(this._element),ju(),nl(),!this._moving)){this.fire("down");var g=u.touches?u.touches[0]:u,w=Cu(this._element);this._startPoint=new ae(g.clientX,g.clientY),this._startPos=ko(this._element),this._parentScale=lc(w);var C=u.type==="mousedown";lt(document,C?"mousemove":"touchmove",this._onMove,this),lt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var g=u.touches&&u.touches.length===1?u.touches[0]:u,w=new ae(g.clientX,g.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,Ln(u),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),en(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){_n(document.body,"leaflet-dragging"),this._lastTarget&&(_n(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ht(document,"mousemove touchmove",this._onMove,this),Ht(document,"mouseup touchend touchcancel",this._onUp,this),sc(),ma();var g=this._moved&&this._moving;this._moving=!1,jo._dragging=!1,g&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function xp(u,g,w){var C,P=[1,4,2,8],U,ie,be,Ee,Pe,qe,et,yt;for(U=0,qe=u.length;U<qe;U++)u[U]._code=rs(u[U],g);for(be=0;be<4;be++){for(et=P[be],C=[],U=0,qe=u.length,ie=qe-1;U<qe;ie=U++)Ee=u[U],Pe=u[ie],Ee._code&et?Pe._code&et||(yt=Du(Pe,Ee,et,g,w),yt._code=rs(yt,g),C.push(yt)):(Pe._code&et&&(yt=Du(Pe,Ee,et,g,w),yt._code=rs(yt,g),C.push(yt)),C.push(Ee));u=C}return u}function wp(u,g){var w,C,P,U,ie,be,Ee,Pe,qe;if(!u||u.length===0)throw new Error("latlngs not passed");yi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var et=W([0,0]),yt=re(u),rr=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());rr<1700&&(et=If(u));var In=u.length,ii=[];for(w=0;w<In;w++){var Pt=W(u[w]);ii.push(g.project(W([Pt.lat-et.lat,Pt.lng-et.lng])))}for(be=Ee=Pe=0,w=0,C=In-1;w<In;C=w++)P=ii[w],U=ii[C],ie=P.y*U.x-U.y*P.x,Ee+=(P.x+U.x)*ie,Pe+=(P.y+U.y)*ie,be+=ie*3;be===0?qe=ii[0]:qe=[Ee/be,Pe/be];var Rt=g.unproject(ne(qe));return W([Rt.lat+et.lat,Rt.lng+et.lng])}function If(u){for(var g=0,w=0,C=0,P=0;P<u.length;P++){var U=W(u[P]);g+=U.lat,w+=U.lng,C++}return W([g/C,w/C])}var $f={__proto__:null,clipPolygon:xp,polygonCenter:wp,centroid:If};function Sp(u,g){if(!g||!u.length)return u.slice();var w=g*g;return u=Xb(u,w),u=Ap(u,w),u}function Ep(u,g,w){return Math.sqrt(hc(u,g,w,!0))}function Zb(u,g,w){return hc(u,g,w)}function Ap(u,g){var w=u.length,C=typeof Uint8Array<"u"?Uint8Array:Array,P=new C(w);P[0]=P[w-1]=1,Bf(u,P,g,0,w-1);var U,ie=[];for(U=0;U<w;U++)P[U]&&ie.push(u[U]);return ie}function Bf(u,g,w,C,P){var U=0,ie,be,Ee;for(be=C+1;be<=P-1;be++)Ee=hc(u[be],u[C],u[P],!0),Ee>U&&(ie=be,U=Ee);U>w&&(g[ie]=1,Bf(u,g,w,C,ie),Bf(u,g,w,ie,P))}function Xb(u,g){for(var w=[u[0]],C=1,P=0,U=u.length;C<U;C++)Jb(u[C],u[P])>g&&(w.push(u[C]),P=C);return P<U-1&&w.push(u[U-1]),w}var Tp;function kp(u,g,w,C,P){var U=C?Tp:rs(u,w),ie=rs(g,w),be,Ee,Pe;for(Tp=ie;;){if(!(U|ie))return[u,g];if(U&ie)return!1;be=U||ie,Ee=Du(u,g,be,w,P),Pe=rs(Ee,w),be===U?(u=Ee,U=Pe):(g=Ee,ie=Pe)}}function Du(u,g,w,C,P){var U=g.x-u.x,ie=g.y-u.y,be=C.min,Ee=C.max,Pe,qe;return w&8?(Pe=u.x+U*(Ee.y-u.y)/ie,qe=Ee.y):w&4?(Pe=u.x+U*(be.y-u.y)/ie,qe=be.y):w&2?(Pe=Ee.x,qe=u.y+ie*(Ee.x-u.x)/U):w&1&&(Pe=be.x,qe=u.y+ie*(be.x-u.x)/U),new ae(Pe,qe,P)}function rs(u,g){var w=0;return u.x<g.min.x?w|=1:u.x>g.max.x&&(w|=2),u.y<g.min.y?w|=4:u.y>g.max.y&&(w|=8),w}function Jb(u,g){var w=g.x-u.x,C=g.y-u.y;return w*w+C*C}function hc(u,g,w,C){var P=g.x,U=g.y,ie=w.x-P,be=w.y-U,Ee=ie*ie+be*be,Pe;return Ee>0&&(Pe=((u.x-P)*ie+(u.y-U)*be)/Ee,Pe>1?(P=w.x,U=w.y):Pe>0&&(P+=ie*Pe,U+=be*Pe)),ie=u.x-P,be=u.y-U,C?ie*ie+be*be:new ae(P,U)}function yi(u){return!O(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Pu(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(u)}function sl(u,g){var w,C,P,U,ie,be,Ee,Pe;if(!u||u.length===0)throw new Error("latlngs not passed");yi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var qe=W([0,0]),et=re(u),yt=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());yt<1700&&(qe=If(u));var rr=u.length,In=[];for(w=0;w<rr;w++){var ii=W(u[w]);In.push(g.project(W([ii.lat-qe.lat,ii.lng-qe.lng])))}for(w=0,C=0;w<rr-1;w++)C+=In[w].distanceTo(In[w+1])/2;if(C===0)Pe=In[0];else for(w=0,U=0;w<rr-1;w++)if(ie=In[w],be=In[w+1],P=ie.distanceTo(be),U+=P,U>C){Ee=(U-C)/P,Pe=[be.x-Ee*(be.x-ie.x),be.y-Ee*(be.y-ie.y)];break}var Pt=g.unproject(ne(Pe));return W([Pt.lat+qe.lat,Pt.lng+qe.lng])}var Qb={__proto__:null,simplify:Sp,pointToSegmentDistance:Ep,closestPointOnSegment:Zb,clipSegment:kp,_getEdgeIntersection:Du,_getBitCode:rs,_sqClosestPointOnSegment:hc,isFlat:yi,_flat:Pu,polylineCenter:sl},Ru={project:function(u){return new ae(u.lng,u.lat)},unproject:function(u){return new V(u.y,u.x)},bounds:new q([-180,-90],[180,90])},Lu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var g=Math.PI/180,w=this.R,C=u.lat*g,P=this.R_MINOR/w,U=Math.sqrt(1-P*P),ie=U*Math.sin(C),be=Math.tan(Math.PI/4-C/2)/Math.pow((1-ie)/(1+ie),U/2);return C=-w*Math.log(Math.max(be,1e-10)),new ae(u.lng*g*w,C)},unproject:function(u){for(var g=180/Math.PI,w=this.R,C=this.R_MINOR/w,P=Math.sqrt(1-C*C),U=Math.exp(-u.y/w),ie=Math.PI/2-2*Math.atan(U),be=0,Ee=.1,Pe;be<15&&Math.abs(Ee)>1e-7;be++)Pe=P*Math.sin(ie),Pe=Math.pow((1-Pe)/(1+Pe),P/2),Ee=Math.PI/2-2*Math.atan(U*Pe)-ie,ie+=Ee;return new V(ie*g,u.x*g/w)}},Op={__proto__:null,LonLat:Ru,Mercator:Lu,SphericalMercator:se},jp=i({},te,{code:"EPSG:3395",projection:Lu,transformation:(function(){var u=.5/(Math.PI*Lu.R);return ce(u,.5,-u,.5)})()}),zf=i({},te,{code:"EPSG:4326",projection:Ru,transformation:ce(1/180,1,-1/180,.5)}),ll=i({},ue,{projection:Ru,transformation:ce(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var w=g.lng-u.lng,C=g.lat-u.lat;return Math.sqrt(w*w+C*C)},infinite:!0});ue.Earth=te,ue.EPSG3395=jp,ue.EPSG3857=Ne,ue.EPSG900913=me,ue.EPSG4326=zf,ue.Simple=ll;var Ui=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var w=this.getEvents();g.on(w,this),this.once("remove",function(){g.off(w,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Tt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(u);return this._layers[g]?this:(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var g=d(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,g){for(var w in this._layers)u.call(g,this._layers[w]);return this},_addLayers:function(u){u=u?O(u)?u:[u]:[];for(var g=0,w=u.length;g<w;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=d(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,w=this._getZoomSpan();for(var C in this._zoomBoundLayers){var P=this._zoomBoundLayers[C].options;u=P.minZoom===void 0?u:Math.min(u,P.minZoom),g=P.maxZoom===void 0?g:Math.max(g,P.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var cl=Ui.extend({initialize:function(u,g){T(this,g),this._layers={};var w,C;if(u)for(w=0,C=u.length;w<C;w++)this.addLayer(u[w])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){var g=typeof u=="number"?u:this.getLayerId(u);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var g=Array.prototype.slice.call(arguments,1),w,C;for(w in this._layers)C=this._layers[w],C[u]&&C[u].apply(C,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var w in this._layers)u.call(g,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),e_=function(u,g){return new cl(u,g)},va=cl.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),cl.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),cl.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new X;for(var g in this._layers){var w=this._layers[g];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),Np=function(u,g){return new va(u,g)},ya=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){T(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(w,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(C,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(u,g){var w=this.options,C=w[g+"Size"];typeof C=="number"&&(C=[C,C]);var P=ne(C),U=ne(g==="shadow"&&w.shadowAnchor||w.iconAnchor||P&&P.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(w.className||""),U&&(u.style.marginLeft=-U.x+"px",u.style.marginTop=-U.y+"px"),P&&(u.style.width=P.x+"px",u.style.height=P.y+"px")},_createImg:function(u,g){return g=g||document.createElement("img"),g.src=u,g},_getIconUrl:function(u){return Xe.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function mc(u){return new ya(u)}var pc=ya.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof pc.imagePath!="string"&&(pc.imagePath=this._detectIconPath()),(this.options.imagePath||pc.imagePath)+ya.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(w,C,P){var U=C.exec(w);return U&&U[P]};return u=g(u,/^url\((['"])?(.+)\1\)$/,2),u&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=vt("div","leaflet-default-icon-path",document.body),g=On(u,"background-image")||On(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g),g)return g;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),gc=ga.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new jo(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_n(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,w=g._map,C=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,U=ko(g._icon),ie=w.getPixelBounds(),be=w.getPixelOrigin(),Ee=K(ie.min._subtract(be).add(P),ie.max._subtract(be).subtract(P));if(!Ee.contains(U)){var Pe=ne((Math.max(Ee.max.x,U.x)-Ee.max.x)/(ie.max.x-Ee.max.x)-(Math.min(Ee.min.x,U.x)-Ee.min.x)/(ie.min.x-Ee.min.x),(Math.max(Ee.max.y,U.y)-Ee.max.y)/(ie.max.y-Ee.max.y)-(Math.min(Ee.min.y,U.y)-Ee.min.y)/(ie.min.y-Ee.min.y)).multiplyBy(C);w.panBy(Pe,{animate:!1}),this._draggable._newPos._add(Pe),this._draggable._startPos._add(Pe),en(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=z(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,w=g._shadow,C=ko(g._icon),P=g._map.layerPointToLatLng(C);w&&en(w,C),g._latlng=P,u.latlng=P,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),vc=Ui.extend({options:{icon:new pc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){T(this,g),this._latlng=W(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),C=!1;w!==this._icon&&(this._icon&&this._removeIcon(),C=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),ut(w,g),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(w,"focus",this._panOnFocus,this);var P=u.icon.createShadow(this._shadow),U=!1;P!==this._shadow&&(this._removeShadow(),U=!0),P&&(ut(P,g),P.alt=""),this._shadow=P,u.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&U&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&en(this._icon,u),this._shadow&&en(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gc)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gc(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&pn(this._icon,u),this._shadow&&pn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,w=g.iconSize?ne(g.iconSize):ne(0,0),C=g.iconAnchor?ne(g.iconAnchor):ne(0,0);u.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:w.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cp(u,g){return new vc(u,g)}var ba=Ui.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return T(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ul=ba.extend({options:{fill:!0,radius:10},initialize:function(u,g){T(this,g),this._latlng=W(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return ba.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,w=this._clickTolerance(),C=[u+w,g+w];this._pxBounds=new q(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Mp(u,g){return new ul(u,g)}var Iu=ul.extend({initialize:function(u,g,w){if(typeof g=="number"&&(g=i({},w,{radius:g})),T(this,g),this._latlng=W(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:ba.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,w=this._map,C=w.options.crs;if(C.distance===te.distance){var P=Math.PI/180,U=this._mRadius/te.R/P,ie=w.project([g+U,u]),be=w.project([g-U,u]),Ee=ie.add(be).divideBy(2),Pe=w.unproject(Ee).lat,qe=Math.acos((Math.cos(U*P)-Math.sin(g*P)*Math.sin(Pe*P))/(Math.cos(g*P)*Math.cos(Pe*P)))/P;(isNaN(qe)||qe===0)&&(qe=U/Math.cos(Math.PI/180*g)),this._point=Ee.subtract(w.getPixelOrigin()),this._radius=isNaN(qe)?0:Ee.x-w.project([Pe,u-qe]).x,this._radiusY=Ee.y-ie.y}else{var et=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(et).x}this._updateBounds()}});function Dp(u,g,w){return new Iu(u,g,w)}var Za=ba.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){T(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var g=1/0,w=null,C=hc,P,U,ie=0,be=this._parts.length;ie<be;ie++)for(var Ee=this._parts[ie],Pe=1,qe=Ee.length;Pe<qe;Pe++){P=Ee[Pe-1],U=Ee[Pe];var et=C(u,P,U,!0);et<g&&(g=et,w=C(u,P,U))}return w&&(w.distance=Math.sqrt(g)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=W(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new X,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],w=yi(u),C=0,P=u.length;C<P;C++)w?(g[C]=W(u[C]),this._bounds.extend(g[C])):g[C]=this._convertLatLngs(u[C]);return g},_project:function(){var u=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new ae(u,u);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,w){var C=u[0]instanceof V,P=u.length,U,ie;if(C){for(ie=[],U=0;U<P;U++)ie[U]=this._map.latLngToLayerPoint(u[U]),w.extend(ie[U]);g.push(ie)}else for(U=0;U<P;U++)this._projectLatlngs(u[U],g,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,w,C,P,U,ie,be,Ee;for(w=0,P=0,U=this._rings.length;w<U;w++)for(Ee=this._rings[w],C=0,ie=Ee.length;C<ie-1;C++)be=kp(Ee[C],Ee[C+1],u,C,!0),be&&(g[P]=g[P]||[],g[P].push(be[0]),(be[1]!==Ee[C+1]||C===ie-2)&&(g[P].push(be[1]),P++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,w=0,C=u.length;w<C;w++)u[w]=Sp(u[w],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var w,C,P,U,ie,be,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,U=this._parts.length;w<U;w++)for(be=this._parts[w],C=0,ie=be.length,P=ie-1;C<ie;P=C++)if(!(!g&&C===0)&&Ep(u,be[P],be[C])<=Ee)return!0;return!1}});function t_(u,g){return new Za(u,g)}Za._flat=Pu;var dl=Za.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=Za.prototype._convertLatLngs.call(this,u),w=g.length;return w>=2&&g[0]instanceof V&&g[0].equals(g[w-1])&&g.pop(),g},_setLatLngs:function(u){Za.prototype._setLatLngs.call(this,u),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,w=new ae(g,g);if(u=new q(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,P=this._rings.length,U;C<P;C++)U=xp(this._rings[C],u,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var g=!1,w,C,P,U,ie,be,Ee,Pe;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(U=0,Ee=this._parts.length;U<Ee;U++)for(w=this._parts[U],ie=0,Pe=w.length,be=Pe-1;ie<Pe;be=ie++)C=w[ie],P=w[be],C.y>u.y!=P.y>u.y&&u.x<(P.x-C.x)*(u.y-C.y)/(P.y-C.y)+C.x&&(g=!g);return g||Za.prototype._containsPoint.call(this,u,!0)}});function n_(u,g){return new dl(u,g)}var Xa=va.extend({initialize:function(u,g){T(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var g=O(u)?u:u.features,w,C,P;if(g){for(w=0,C=g.length;w<C;w++)P=g[w],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var U=this.options;if(U.filter&&!U.filter(u))return this;var ie=fr(u,U);return ie?(ie.feature=zu(u),ie.defaultOptions=ie.options,this.resetStyle(ie),U.onEachFeature&&U.onEachFeature(u,ie),this.addLayer(ie)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&(typeof g=="function"&&(g=g(u.feature)),u.setStyle(g))}});function fr(u,g){var w=u.type==="Feature"?u.geometry:u,C=w?w.coordinates:null,P=[],U=g&&g.pointToLayer,ie=g&&g.coordsToLatLng||$u,be,Ee,Pe,qe;if(!C&&!w)return null;switch(w.type){case"Point":return be=ie(C),fl(U,u,be,g);case"MultiPoint":for(Pe=0,qe=C.length;Pe<qe;Pe++)be=ie(C[Pe]),P.push(fl(U,u,be,g));return new va(P);case"LineString":case"MultiLineString":return Ee=yc(C,w.type==="LineString"?0:1,ie),new Za(Ee,g);case"Polygon":case"MultiPolygon":return Ee=yc(C,w.type==="Polygon"?1:2,ie),new dl(Ee,g);case"GeometryCollection":for(Pe=0,qe=w.geometries.length;Pe<qe;Pe++){var et=fr({geometry:w.geometries[Pe],type:"Feature",properties:u.properties},g);et&&P.push(et)}return new va(P);case"FeatureCollection":for(Pe=0,qe=w.features.length;Pe<qe;Pe++){var yt=fr(w.features[Pe],g);yt&&P.push(yt)}return new va(P);default:throw new Error("Invalid GeoJSON object.")}}function fl(u,g,w,C){return u?u(g,w):new vc(w,C&&C.markersInheritOptions&&C)}function $u(u){return new V(u[1],u[0],u[2])}function yc(u,g,w){for(var C=[],P=0,U=u.length,ie;P<U;P++)ie=g?yc(u[P],g-1,w):(w||$u)(u[P]),C.push(ie);return C}function Bu(u,g){return u=W(u),u.alt!==void 0?[y(u.lng,g),y(u.lat,g),y(u.alt,g)]:[y(u.lng,g),y(u.lat,g)]}function bc(u,g,w,C){for(var P=[],U=0,ie=u.length;U<ie;U++)P.push(g?bc(u[U],yi(u[U])?0:g-1,w,C):Bu(u[U],C));return!g&&w&&P.length>0&&P.push(P[0].slice()),P}function No(u,g){return u.feature?i({},u.feature,{geometry:g}):zu(g)}function zu(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Co={toGeoJSON:function(u){return No(this,{type:"Point",coordinates:Bu(this.getLatLng(),u)})}};vc.include(Co),Iu.include(Co),ul.include(Co),Za.include({toGeoJSON:function(u){var g=!yi(this._latlngs),w=bc(this._latlngs,g?1:0,!1,u);return No(this,{type:(g?"Multi":"")+"LineString",coordinates:w})}}),dl.include({toGeoJSON:function(u){var g=!yi(this._latlngs),w=g&&!yi(this._latlngs[0]),C=bc(this._latlngs,w?2:g?1:0,!0,u);return g||(C=[C]),No(this,{type:(w?"Multi":"")+"Polygon",coordinates:C})}}),cl.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(w){g.push(w.toGeoJSON(u).geometry.coordinates)}),No(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(u);var w=g==="GeometryCollection",C=[];return this.eachLayer(function(P){if(P.toGeoJSON){var U=P.toGeoJSON(u);if(w)C.push(U.geometry);else{var ie=zu(U);ie.type==="FeatureCollection"?C.push.apply(C,ie.features):C.push(ie)}}}),w?No(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Uu(u,g){return new Xa(u,g)}var _c=Uu,hl=Ui.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,w){this._url=u,this._bounds=re(g),T(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&on(this._image),this},bringToBack:function(){return this._map&&Ya(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=re(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",g=this._image=u?this._url:vt("img");if(ut(g,"leaflet-image-layer"),this._zoomAnimated&&ut(g,"leaflet-zoom-animated"),this.options.className&&ut(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onload=s(this.fire,this,"load"),g.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Ka(this._image,w,g)},_reset:function(){var u=this._image,g=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=g.getSize();en(u,g.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Pp=function(u,g,w){return new hl(u,g,w)},Mo=hl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",g=this._image=u?this._url:vt("video");if(ut(g,"leaflet-image-layer"),this._zoomAnimated&&ut(g,"leaflet-zoom-animated"),this.options.className&&ut(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onloadeddata=s(this.fire,this,"load"),u){for(var w=g.getElementsByTagName("source"),C=[],P=0;P<w.length;P++)C.push(w[P].src);this._url=w.length>0?C:[g.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var ie=vt("source");ie.src=this._url[U],g.appendChild(ie)}}});function ml(u,g,w){return new Mo(u,g,w)}var Hu=hl.extend({_initImage:function(){var u=this._image=this._url;ut(u,"leaflet-image-layer"),this._zoomAnimated&&ut(u,"leaflet-zoom-animated"),this.options.className&&ut(u,this.options.className),u.onselectstart=p,u.onmousemove=p}});function Rp(u,g,w){return new Hu(u,g,w)}var hr=Ui.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof V||O(u))?(this._latlng=W(u),T(this,g)):(T(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(s(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(_n(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=W(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&on(this._container),this},bringToBack:function(){return this._map&&Ya(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof va){g=null;var w=this._source._layers;for(var C in w)if(w[C]._map){g=w[C];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else if(g.getBounds)u=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=ne(this.options.offset),w=this._getAnchor();this._zoomAnimated?en(this._container,u.add(w)):g=g.add(u).add(w);var C=this._containerBottom=-g.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=C+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});Tt.include({_initOverlay:function(u,g,w,C){var P=g;return P instanceof u||(P=new u(C).setContent(g)),w&&P.setLatLng(w),P}}),Ui.include({_initOverlay:function(u,g,w,C){var P=w;return P instanceof u?(T(P,C),P._source=this):(P=g&&!C?g:new u(C,this),P.setContent(w)),P}});var xc=hr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,hr.prototype.openOn.call(this,u)},onAdd:function(u){hr.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ba||this._source.on("preclick",zi))},onRemove:function(u){hr.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ba||this._source.off("preclick",zi))},getEvents:function(){var u=hr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=vt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=vt("div",u+"-content-wrapper",g);if(this._contentNode=vt("div",u+"-content",w),ns(g),pa(this._contentNode),lt(g,"contextmenu",zi),this._tipContainer=vt("div",u+"-tip-container",g),this._tip=vt("div",u+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=vt("a",u+"-close-button",g);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',lt(C,"click",function(P){Ln(P),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),g.width=w+1+"px",g.whiteSpace="",g.height="";var C=u.offsetHeight,P=this.options.maxHeight,U="leaflet-popup-scrolled";P&&C>P?(g.height=P+"px",ut(u,U)):_n(u,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();en(this._container,g.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,g=parseInt(On(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+g,C=this._containerWidth,P=new ae(this._containerLeft,-w-this._containerBottom);P._add(ko(this._container));var U=u.layerPointToContainerPoint(P),ie=ne(this.options.autoPanPadding),be=ne(this.options.autoPanPaddingTopLeft||ie),Ee=ne(this.options.autoPanPaddingBottomRight||ie),Pe=u.getSize(),qe=0,et=0;U.x+C+Ee.x>Pe.x&&(qe=U.x+C-Pe.x+Ee.x),U.x-qe-be.x<0&&(qe=U.x-be.x),U.y+w+Ee.y>Pe.y&&(et=U.y+w-Pe.y+Ee.y),U.y-et-be.y<0&&(et=U.y-be.y),(qe||et)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([qe,et]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Lp=function(u,g){return new xc(u,g)};Tt.mergeOptions({closePopupOnClick:!0}),Tt.include({openPopup:function(u,g,w){return this._initOverlay(xc,u,g,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Ui.include({bindPopup:function(u,g){return this._popup=this._initOverlay(xc,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof va||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Oo(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof ba)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var wc=hr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){hr.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){hr.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=hr.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",g=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=vt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,w,C=this._map,P=this._container,U=C.latLngToContainerPoint(C.getCenter()),ie=C.layerPointToContainerPoint(u),be=this.options.direction,Ee=P.offsetWidth,Pe=P.offsetHeight,qe=ne(this.options.offset),et=this._getAnchor();be==="top"?(g=Ee/2,w=Pe):be==="bottom"?(g=Ee/2,w=0):be==="center"?(g=Ee/2,w=Pe/2):be==="right"?(g=0,w=Pe/2):be==="left"?(g=Ee,w=Pe/2):ie.x<U.x?(be="right",g=0,w=Pe/2):(be="left",g=Ee+(qe.x+et.x)*2,w=Pe/2),u=u.subtract(ne(g,w,!0)).add(qe).add(et),_n(P,"leaflet-tooltip-right"),_n(P,"leaflet-tooltip-left"),_n(P,"leaflet-tooltip-top"),_n(P,"leaflet-tooltip-bottom"),ut(P,"leaflet-tooltip-"+be),en(P,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&pn(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),r_=function(u,g){return new wc(u,g)};Tt.include({openTooltip:function(u,g,w){return this._initOverlay(wc,u,g,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Ui.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wc,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var g=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[g](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof va||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&(lt(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),lt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var g=u.latlng,w,C;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),C=this._map.containerPointToLayerPoint(w),g=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(g)}});var Ip=ya.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Tr(g),g.appendChild(w.html)):g.innerHTML=w.html!==!1?w.html:"",w.bgPos){var C=ne(w.bgPos);g.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function i_(u){return new Ip(u)}ya.Default=pc;var pl=Ui.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){T(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Bt(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(on(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ya(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ae?u:new ae(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var g=this.getPane().children,w=-u(-1/0,1/0),C=0,P=g.length,U;C<P;C++)U=g[C].style.zIndex,g[C]!==this._container&&U&&(w=u(w,+U));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xe.ielt9){pn(this._container,this.options.opacity);var u=+new Date,g=!1,w=!1;for(var C in this._tiles){var P=this._tiles[C];if(!(!P.current||!P.loaded)){var U=Math.min(1,(u-P.loaded)/200);pn(P.el,U),U<1?g=!0:(P.active?w=!0:this._onOpaqueTile(P),P.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),g&&(F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=g-Math.abs(u-w),this._onUpdateLevel(w)):(Bt(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var C=this._levels[u],P=this._map;return C||(C=this._levels[u]={},C.el=vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=g,C.origin=P.project(P.unproject(P.getPixelOrigin()),u).round(),C.zoom=u,this._setZoomTransform(C,P.getCenter(),P.getZoom()),p(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var u,g,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)g=this._tiles[u],g.retain=g.current;for(u in this._tiles)if(g=this._tiles[u],g.current&&!g.active){var C=g.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Bt(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,w,C){var P=Math.floor(u/2),U=Math.floor(g/2),ie=w-1,be=new ae(+P,+U);be.z=+ie;var Ee=this._tileCoordsToKey(be),Pe=this._tiles[Ee];return Pe&&Pe.active?(Pe.retain=!0,!0):(Pe&&Pe.loaded&&(Pe.retain=!0),ie>C?this._retainParent(P,U,ie,C):!1)},_retainChildren:function(u,g,w,C){for(var P=2*u;P<2*u+2;P++)for(var U=2*g;U<2*g+2;U++){var ie=new ae(P,U);ie.z=w+1;var be=this._tileCoordsToKey(ie),Ee=this._tiles[be];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);w+1<C&&this._retainChildren(P,U,w+1,C)}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return g.minNativeZoom!==void 0&&u<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,w,C){var P=Math.round(g);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var U=this.options.updateWhenZooming&&P!==this._tileZoom;(!C||U)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,g)},_setZoomTransform:function(u,g,w){var C=this._map.getZoomScale(w,u.zoom),P=u.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(g,w)).round();Xe.any3d?Ka(u.el,P,C):en(u.el,P)},_resetGrid:function(){var u=this._map,g=u.options.crs,w=this._tileSize=this.getTileSize(),C=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],C).x/w.x),Math.ceil(u.project([0,g.wrapLng[1]],C).x/w.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],C).y/w.x),Math.ceil(u.project([g.wrapLat[1],0],C).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,w=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),C=g.getZoomScale(w,this._tileZoom),P=g.project(u,this._tileZoom).floor(),U=g.getSize().divideBy(C*2);return new q(P.subtract(U),P.add(U))},_update:function(u){var g=this._map;if(g){var w=this._clampZoom(g.getZoom());if(u===void 0&&(u=g.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(u),P=this._pxBoundsToTileRange(C),U=P.getCenter(),ie=[],be=this.options.keepBuffer,Ee=new q(P.getBottomLeft().subtract([be,-be]),P.getTopRight().add([be,-be]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pe in this._tiles){var qe=this._tiles[Pe].coords;(qe.z!==this._tileZoom||!Ee.contains(new ae(qe.x,qe.y)))&&(this._tiles[Pe].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var et=P.min.y;et<=P.max.y;et++)for(var yt=P.min.x;yt<=P.max.x;yt++){var rr=new ae(yt,et);if(rr.z=this._tileZoom,!!this._isValidTile(rr)){var In=this._tiles[this._tileCoordsToKey(rr)];In?In.current=!0:ie.push(rr)}}if(ie.sort(function(Pt,Rt){return Pt.distanceTo(U)-Rt.distanceTo(U)}),ie.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ii=document.createDocumentFragment();for(yt=0;yt<ie.length;yt++)this._addTile(ie[yt],ii);this._level.el.appendChild(ii)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var w=this._globalTileRange;if(!g.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!g.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(u);return re(this.options.bounds).overlaps(C)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,w=this.getTileSize(),C=u.scaleBy(w),P=C.add(w),U=g.unproject(C,u.z),ie=g.unproject(P,u.z);return[U,ie]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),w=new X(g[0],g[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),w=new ae(+g[0],+g[1]);return w.z=+g[2],w},_removeTile:function(u){var g=this._tiles[u];g&&(Bt(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){ut(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=p,u.onmousemove=p,Xe.ielt9&&this.options.opacity<1&&pn(u,this.options.opacity)},_addTile:function(u,g){var w=this._getTilePos(u),C=this._tileCoordsToKey(u),P=this.createTile(this._wrapCoords(u),s(this._tileReady,this,u));this._initTile(P),this.createTile.length<2&&z(s(this._tileReady,this,u,null,P)),en(P,w),this._tiles[C]={el:P,coords:u,current:!0},g.appendChild(P),this.fire("tileloadstart",{tile:P,coords:u})},_tileReady:function(u,g,w){g&&this.fire("tileerror",{error:g,tile:w,coords:u});var C=this._tileCoordsToKey(u);w=this._tiles[C],w&&(w.loaded=+new Date,this._map._fadeAnimated?(pn(w.el,0),F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),g||(ut(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xe.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new ae(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new q(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function $p(u){return new pl(u)}var Do=pl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,g=T(this,g),g.detectRetina&&Xe.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&g===void 0&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var w=document.createElement("img");return lt(w,"load",s(this._tileOnLoad,this,g,w)),lt(w,"error",s(this._tileOnError,this,g,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var g={r:Xe.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=w),g["-y"]=w}return D(this._url,i(g,this.options))},_tileOnLoad:function(u,g){Xe.ielt9?setTimeout(s(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,w){var C=this.options.errorTileUrl;C&&g.getAttribute("src")!==C&&(g.src=C),u(w,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,g=this.options.maxZoom,w=this.options.zoomReverse,C=this.options.zoomOffset;return w&&(u=g-u),u+C},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(g=this._tiles[u].el,g.onload=p,g.onerror=p,!g.complete)){g.src=N;var w=this._tiles[u].coords;Bt(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:w})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",N),pl.prototype._removeTile.call(this,u)},_tileReady:function(u,g,w){if(!(!this._map||w&&w.getAttribute("src")===N))return pl.prototype._tileReady.call(this,u,g,w)}});function bi(u,g){return new Do(u,g)}var Sc=Do.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var w=i({},this.defaultWmsParams);for(var C in g)C in this.options||(w[C]=g[C]);g=T(this,g);var P=g.detectRetina&&Xe.retina?2:1,U=this.getTileSize();w.width=U.x*P,w.height=U.y*P,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,Do.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),w=this._crs,C=K(w.project(g[0]),w.project(g[1])),P=C.min,U=C.max,ie=(this._wmsVersion>=1.3&&this._crs===zf?[P.y,P.x,U.y,U.x]:[P.x,P.y,U.x,U.y]).join(","),be=Do.prototype.getTileUrl.call(this,u);return be+S(this.wmsParams,be,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ie},setParams:function(u,g){return i(this.wmsParams,u),g||this.redraw(),this}});function _i(u,g){return new Sc(u,g)}Do.WMS=Sc,bi.wms=_i;var qr=Ui.extend({options:{padding:.1},initialize:function(u){T(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var w=this._map.getZoomScale(g,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,g),U=C.multiplyBy(-w).add(P).subtract(this._map._getNewPixelOrigin(u,g));Xe.any3d?Ka(this._container,U,w):en(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),w=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new q(w,w.add(g.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fu=qr.extend({options:{tolerance:0},getEvents:function(){var u=qr.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");lt(u,"mousemove",this._onMouseMove,this),lt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Bt(this._container),Ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var g in this._layers)u=this._layers[g],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var u=this._bounds,g=this._container,w=u.getSize(),C=Xe.retina?2:1;en(g,u.min),g.width=C*w.x,g.height=C*w.y,g.style.width=w.x+"px",g.style.height=w.y+"px",Xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,w=g.next,C=g.prev;w?w.prev=C:this._drawLast=C,C?C.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var g=u.options.dashArray.split(/[, ]+/),w=[],C,P;for(P=0;P<g.length;P++){if(C=Number(g[P]),isNaN(C))return;w.push(C)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var w=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)u=C.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var w,C,P,U,ie=u._parts,be=ie.length,Ee=this._ctx;if(be){for(Ee.beginPath(),w=0;w<be;w++){for(C=0,P=ie[w].length;C<P;C++)U=ie[w][C],Ee[C?"lineTo":"moveTo"](U.x,U.y);g&&Ee.closePath()}this._fillStroke(Ee,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var g=u._point,w=this._ctx,C=Math.max(Math.round(u._radius),1),P=(Math.max(Math.round(u._radiusY),1)||C)/C;P!==1&&(w.save(),w.scale(1,P)),w.beginPath(),w.arc(g.x,g.y/P,C,0,Math.PI*2,!1),P!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,g){var w=g.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var g=this._map.mouseEventToLayerPoint(u),w,C,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(g)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(C=w);this._fireEvent(C?[C]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&(_n(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var w,C,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(g)&&(C=w);C!==this._hoveredLayer&&(this._handleMouseOut(u),C&&(ut(this._container,"leaflet-interactive"),this._fireEvent([C],u,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,w){this._map._fireDOMEvent(g,w||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var w=g.next,C=g.prev;if(w)w.prev=C;else return;C?C.next=w:w&&(this._drawFirst=w),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var w=g.next,C=g.prev;if(C)C.next=w;else return;w?w.prev=C:C&&(this._drawLast=C),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function Ec(u){return Xe.canvas?new Fu(u):null}var Po=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Uf={_initContainer:function(){this._container=vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=Po("shape");ut(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=Po("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;Bt(g),u.removeInteractiveTarget(g),delete this._layers[d(u)]},_updateStyle:function(u){var g=u._stroke,w=u._fill,C=u.options,P=u._container;P.stroked=!!C.stroke,P.filled=!!C.fill,C.stroke?(g||(g=u._stroke=Po("stroke")),P.appendChild(g),g.weight=C.weight+"px",g.color=C.color,g.opacity=C.opacity,C.dashArray?g.dashStyle=O(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=C.lineCap.replace("butt","flat"),g.joinstyle=C.lineJoin):g&&(P.removeChild(g),u._stroke=null),C.fill?(w||(w=u._fill=Po("fill")),P.appendChild(w),w.color=C.fillColor||C.color,w.opacity=C.fillOpacity):w&&(P.removeChild(w),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),w=Math.round(u._radius),C=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+w+","+C+" 0,"+65535*360)},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){on(u._container)},_bringToBack:function(u){Ya(u._container)}},_a=Xe.vml?Po:Te,gl=qr.extend({_initContainer:function(){this._container=_a("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_a("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),Ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var u=this._bounds,g=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,w.setAttribute("width",g.x),w.setAttribute("height",g.y)),en(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=_a("path");u.options.className&&ut(g,u.options.className),u.options.interactive&&ut(g,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Bt(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,w=u.options;g&&(w.stroke?(g.setAttribute("stroke",w.color),g.setAttribute("stroke-opacity",w.opacity),g.setAttribute("stroke-width",w.weight),g.setAttribute("stroke-linecap",w.lineCap),g.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?g.setAttribute("stroke-dasharray",w.dashArray):g.removeAttribute("stroke-dasharray"),w.dashOffset?g.setAttribute("stroke-dashoffset",w.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),w.fill?(g.setAttribute("fill",w.fillColor||w.color),g.setAttribute("fill-opacity",w.fillOpacity),g.setAttribute("fill-rule",w.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,De(u._parts,g))},_updateCircle:function(u){var g=u._point,w=Math.max(Math.round(u._radius),1),C=Math.max(Math.round(u._radiusY),1)||w,P="a"+w+","+C+" 0 1,0 ",U=u._empty()?"M0 0":"M"+(g.x-w)+","+g.y+P+w*2+",0 "+P+-w*2+",0 ";this._setPath(u,U)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){on(u._path)},_bringToBack:function(u){Ya(u._path)}});Xe.vml&&gl.include(Uf);function Ac(u){return Xe.svg||Xe.vml?new gl(u):null}Tt.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var g=this._paneRenderers[u];return g===void 0&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&Ec(u)||Ac(u)}});var is=dl.extend({initialize:function(u,g){dl.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=re(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function a_(u,g){return new is(u,g)}gl.create=_a,gl.pointsToPath=De,Xa.geometryToLayer=fr,Xa.coordsToLatLng=$u,Xa.coordsToLatLngs=yc,Xa.latLngToCoords=Bu,Xa.latLngsToCoords=bc,Xa.getFeature=No,Xa.asFeature=zu,Tt.mergeOptions({boxZoom:!0});var Yr=ga.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),nl(),ju(),this._startPoint=this._map.mouseEventToContainerPoint(u),lt(document,{contextmenu:Oo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=vt("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new q(this._point,this._startPoint),w=g.getSize();en(this._box,g.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Bt(this._box),_n(this._container,"leaflet-crosshair")),ma(),sc(),Ht(document,{contextmenu:Oo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var g=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tt.addInitHook("addHandler","boxZoom",Yr),Tt.mergeOptions({doubleClickZoom:!0});var Gu=ga.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,w=g.getZoom(),C=g.options.zoomDelta,P=u.originalEvent.shiftKey?w-C:w+C;g.options.doubleClickZoom==="center"?g.setZoom(P):g.setZoomAround(u.containerPoint,P)}});Tt.addInitHook("addHandler","doubleClickZoom",Gu),Tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xa=ga.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new jo(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_n(this._map._container,"leaflet-grab"),_n(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=re(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),w=this._initialWorldOffset,C=this._draggable._newPos.x,P=(C-g+w)%u+g-w,U=(C+g+w)%u-g-w,ie=Math.abs(P+w)<Math.abs(U+w)?P:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ie},_onDragEnd:function(u){var g=this._map,w=g.options,C=!w.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),C)g.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,ie=w.easeLinearity,be=P.multiplyBy(ie/U),Ee=be.distanceTo([0,0]),Pe=Math.min(w.inertiaMaxSpeed,Ee),qe=be.multiplyBy(Pe/Ee),et=Pe/(w.inertiaDeceleration*ie),yt=qe.multiplyBy(-et/2).round();!yt.x&&!yt.y?g.fire("moveend"):(yt=g._limitOffset(yt,g.options.maxBounds),z(function(){g.panBy(yt,{duration:et,easeLinearity:ie,noMoveStart:!0,animate:!0})}))}}});Tt.addInitHook("addHandler","dragging",xa),Tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hf=ga.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),lt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,w=u.scrollTop||g.scrollTop,C=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(C,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var g=this._panKeys={},w=this.keyCodes,C,P;for(C=0,P=w.left.length;C<P;C++)g[w.left[C]]=[-1*u,0];for(C=0,P=w.right.length;C<P;C++)g[w.right[C]]=[u,0];for(C=0,P=w.down.length;C<P;C++)g[w.down[C]]=[0,u];for(C=0,P=w.up.length;C<P;C++)g[w.up[C]]=[0,-1*u]},_setZoomDelta:function(u){var g=this._zoomKeys={},w=this.keyCodes,C,P;for(C=0,P=w.zoomIn.length;C<P;C++)g[w.zoomIn[C]]=u;for(C=0,P=w.zoomOut.length;C<P;C++)g[w.zoomOut[C]]=-u},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var g=u.keyCode,w=this._map,C;if(g in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(C=this._panKeys[g],u.shiftKey&&(C=ne(C).multiplyBy(3)),w.options.maxBounds&&(C=w._limitOffset(ne(C),w.options.maxBounds)),w.options.worldCopyJump){var P=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(C)));w.panTo(P)}else w.panBy(C)}else if(g in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;Oo(u)}}});Tt.addInitHook("addHandler","keyboard",Hf),Tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Tc=ga.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=kr(u),w=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var C=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),C),Oo(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,U=w?Math.ceil(P/w)*w:P,ie=u._limitZoom(g+(this._delta>0?U:-U))-g;this._delta=0,this._startTime=null,ie&&(u.options.scrollWheelZoom==="center"?u.setZoom(g+ie):u.setZoomAround(this._lastMousePos,g+ie))}});Tt.addInitHook("addHandler","scrollWheelZoom",Tc);var as=600;Tt.mergeOptions({tapHold:Xe.touchNative&&Xe.safari&&Xe.mobile,tapTolerance:15});var qu=ga.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var g=u.touches[0];this._startPos=this._newPos=new ae(g.clientX,g.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",Ln),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),as),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Ht(document,"touchend",Ln),Ht(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new ae(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});w._simulated=!0,g.target.dispatchEvent(w)}});Tt.addInitHook("addHandler","tapHold",qu),Tt.mergeOptions({touchZoom:Xe.touch,bounceAtZoomLimits:!0});var Ff=ga.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_n(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(!(!u.touches||u.touches.length!==2||g._animatingZoom||this._zooming)){var w=g.mouseEventToContainerPoint(u.touches[0]),C=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(w.add(C)._divideBy(2))),this._startDist=w.distanceTo(C),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),Ln(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var g=this._map,w=g.mouseEventToContainerPoint(u.touches[0]),C=g.mouseEventToContainerPoint(u.touches[1]),P=w.distanceTo(C)/this._startDist;if(this._zoom=g.getScaleZoom(P,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&P<1||this._zoom>g.getMaxZoom()&&P>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var U=w._add(C)._divideBy(2)._subtract(this._centerPoint);if(P===1&&U.x===0&&U.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var ie=s(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(ie,this,!0),Ln(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tt.addInitHook("addHandler","touchZoom",Ff),Tt.BoxZoom=Yr,Tt.DoubleClickZoom=Gu,Tt.Drag=xa,Tt.Keyboard=Hf,Tt.ScrollWheelZoom=Tc,Tt.TapHold=qu,Tt.TouchZoom=Ff,n.Bounds=q,n.Browser=Xe,n.CRS=ue,n.Canvas=Fu,n.Circle=Iu,n.CircleMarker=ul,n.Class=ee,n.Control=ri,n.DivIcon=Ip,n.DivOverlay=hr,n.DomEvent=Mu,n.DomUtil=al,n.Draggable=jo,n.Evented=le,n.FeatureGroup=va,n.GeoJSON=Xa,n.GridLayer=pl,n.Handler=ga,n.Icon=ya,n.ImageOverlay=hl,n.LatLng=V,n.LatLngBounds=X,n.Layer=Ui,n.LayerGroup=cl,n.LineUtil=Qb,n.Map=Tt,n.Marker=vc,n.Mixin=Vb,n.Path=ba,n.Point=ae,n.PolyUtil=$f,n.Polygon=dl,n.Polyline=Za,n.Popup=xc,n.PosAnimation=ol,n.Projection=Op,n.Rectangle=is,n.Renderer=qr,n.SVG=gl,n.SVGOverlay=Hu,n.TileLayer=Do,n.Tooltip=wc,n.Transformation=Se,n.Util=Q,n.VideoOverlay=Mo,n.bind=s,n.bounds=K,n.canvas=Ec,n.circle=Dp,n.circleMarker=Mp,n.control=Va,n.divIcon=i_,n.extend=i,n.featureGroup=Np,n.geoJSON=Uu,n.geoJson=_c,n.gridLayer=$p,n.icon=mc,n.imageOverlay=Pp,n.latLng=W,n.latLngBounds=re,n.layerGroup=e_,n.map=Mf,n.marker=Cp,n.point=ne,n.polygon=n_,n.polyline=t_,n.popup=Lp,n.rectangle=a_,n.setOptions=T,n.stamp=d,n.svg=Ac,n.svgOverlay=Rp,n.tileLayer=bi,n.tooltip=r_,n.transformation=ce,n.version=r,n.videoOverlay=ml;var Gf=window.L;n.noConflict=function(){return window.L=Gf,this},window.L=n}))})(Wh,Wh.exports)),Wh.exports}var hK=fK();const Qx=Pi(hK),Kg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function zc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function mK(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:s,suggestionsId:c,mapId:d}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=zc(n),p=zc(t),y=zc(r),b=zc(a),x=zc(s),T=zc(c),S=i?zc(i):null;let j=null,D=null,O=null;const M=F=>F.code==="Space"||F.key===" "||F.key==="Spacebar"||F.key==="Space",N=F=>{M(F)&&document.activeElement!==x&&(F.preventDefault(),F.stopPropagation(),x.focus())},I=()=>{y.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=Qx.map(d,{keyboard:!1}).setView([f.lat,f.lon],11),Qx.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),y.addEventListener("keydown",N,!0),y.addEventListener("keyup",N,!0),x.focus()},$=()=>{y.style.display="none",x.value="",T.innerHTML="",O&&(window.clearTimeout(O),O=null),y.removeEventListener("keydown",N,!0),y.removeEventListener("keyup",N,!0)},B=F=>{const Q=F.dataset.name??"",ee=Number(F.dataset.lat??""),ye=Number(F.dataset.lon??"");!Number.isFinite(ee)||!Number.isFinite(ye)||!j||(D?D.setLatLng([ee,ye]):D=Qx.marker([ee,ye]).addTo(j),j.flyTo([ee,ye],14,{duration:.5}),m.value=Q,m.dataset.lat=String(ee),m.dataset.lon=String(ye),e.onSelected?.({name:Q,lat:ee,lon:ye}),T.innerHTML="",$())},H=()=>{O&&window.clearTimeout(O);const F=x.value.trim();if(!F){T.innerHTML="";return}O=window.setTimeout(async()=>{try{const Q="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(F),ee=await fetch(Q,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ye=await ee.json();if(!Array.isArray(ye)||ye.length===0){T.innerHTML='<li style="padding:8px"> </li>';return}const J=ye.slice(0,12).map((le,ae)=>{const he=le.display_name.split(",").slice(0,3).map(K=>K.trim()).join("  "),ne="padding:8px;cursor:pointer;outline:none;",q=ae===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Kg(he)}"
                    data-lat="${Kg(le.lat)}"
                    data-lon="${Kg(le.lon)}"
                    data-active="${ae===0?"1":"0"}"
                    style="${ne}${q}"
                  >${Kg(he)}</li>`}).join("");T.innerHTML=J}catch(Q){console.error(Q),T.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},Z=F=>{const Q=F.target;Q.tagName==="LI"&&B(Q)},z=F=>{if(F.key==="Enter"){const Q=T.querySelector('li[data-active="1"]')??T.querySelector("li");Q&&B(Q)}};return p.addEventListener("click",I),b.addEventListener("click",$),S&&S.addEventListener("click",$),x.addEventListener("input",H),x.addEventListener("keydown",z),T.addEventListener("click",Z),()=>{p.removeEventListener("click",I),b.removeEventListener("click",$),S&&S.removeEventListener("click",$),x.removeEventListener("input",H),x.removeEventListener("keydown",z),T.removeEventListener("click",Z),y.removeEventListener("keydown",N,!0),y.removeEventListener("keyup",N,!0),O&&(window.clearTimeout(O),O=null),j&&(j.remove(),j=null)}}function yd(){return document.getElementById("suggestions")}function ev(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function ew(e,t){const n=ev(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(s=>{s.tabIndex=-1,s.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}function U$({onSelect:e,placeholderText:t="",buttonStyle:n,value:r}){const[i,a]=A.useState(t),[s,c]=A.useState(!1),[d,f]=A.useState(r??""),m=A.useRef(null),p=A.useRef(null),y=A.useRef(null),b=A.useRef(null);return A.useEffect(()=>{r!==void 0&&f(r)},[r]),A.useEffect(()=>{if(!s)return;const x=mK({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:H=>{a(""),f(H.name),m.current&&(m.current.value=H.name),p.current&&(p.current.value=String(H.lat)),y.current&&(y.current.value=String(H.lon)),e?.(H),c(!1)}}),T=document.getElementById("inputBirthPlaceBtn");T&&T.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const S=document.getElementById("mapModal"),j=document.getElementById("searchBox"),D=yd();setTimeout(()=>j?.focus(),0);const O='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',M=H=>{if(H.key==="Escape"){H.preventDefault(),c(!1);return}if(H.key!=="Tab")return;const Z=yd();if(Z&&Z.contains(document.activeElement))return;const z=Array.from(S.querySelectorAll(O)).filter(ye=>!ye.hasAttribute("disabled")&&ye.tabIndex!==-1);if(z.length===0)return;const F=z[0],Q=z[z.length-1],ee=document.activeElement;H.shiftKey?(ee===F||!S.contains(ee))&&(H.preventDefault(),Q.focus()):(ee===Q||!S.contains(ee))&&(H.preventDefault(),F.focus())};S.addEventListener("keydown",M);const N=H=>{if(H.key!=="ArrowDown")return;const Z=yd();!Z||ev(Z).length===0||H.preventDefault()};j?.addEventListener("keydown",N);const I=H=>{if(H.target.value.trim()===""){const z=yd();z&&(z.innerHTML="")}};j?.addEventListener("input",I);const $=H=>{const Z=yd();if(!Z)return;const z=ev(Z);if(z.length===0)return;const F=document.activeElement,Q=F?z.indexOf(F):-1;if(Q===-1)return;const ee=ye=>{H.preventDefault(),ew(Z,Q+ye)};switch(H.key){case"Tab":H.preventDefault(),ee(H.shiftKey?-1:1);break;case"ArrowDown":H.preventDefault(),ee(1);break;case"ArrowUp":H.preventDefault(),ee(-1);break;case"Home":H.preventDefault(),ew(Z,0);break;case"End":H.preventDefault(),ew(Z,z.length-1);break;case"Enter":case" ":H.preventDefault(),F.click();break;case"Backspace":H.preventDefault(),Z.innerHTML="",j?.focus();break}H.stopPropagation()};let B=null;return D&&(D.addEventListener("keydown",$),B=new MutationObserver(()=>{const H=yd();!H||ev(H).length}),B.observe(D,{childList:!0,subtree:!1})),()=>{S.removeEventListener("keydown",M),j?.removeEventListener("keydown",N),j?.removeEventListener("input",I),D&&D.removeEventListener("keydown",$),B?.disconnect(),x?.()}},[s,e]),A.useEffect(()=>{s||setTimeout(()=>b.current?.focus(),0)},[s]),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:d&&d.trim()!==""?d:t}),_.jsx("button",{ref:b,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>c(!0),"aria-haspopup":"dialog","aria-expanded":s,"aria-controls":"mapModal",children:i}),_.jsx("input",{ref:m,type:"hidden",name:"birthPlace_name",defaultValue:""}),_.jsx("input",{ref:p,type:"hidden",name:"birthPlace_lat",defaultValue:""}),_.jsx("input",{ref:y,type:"hidden",name:"birthPlace_lon",defaultValue:""}),s&&_.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:_.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("div",{id:"mapModalTitle",className:"font-bold",children:""}),_.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>c(!1),children:""})]}),_.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"searchBox",placeholder:":   / seoul /  / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),_.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),_.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:_.jsx("div",{id:"map",className:"h-full w-full"})}),_.jsxs("div",{className:"gap-2 p-3",children:[_.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[_.jsxs("p",{className:"flex mb-1",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:" ,  ."})]}),_.jsxs("p",{className:"flex",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:"       ,   ."})]})]}),_.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function yr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pK=typeof Symbol=="function"&&Symbol.observable||"@@observable",uC=pK,tw=()=>Math.random().toString(36).substring(7).split("").join("."),gK={INIT:`@@redux/INIT${tw()}`,REPLACE:`@@redux/REPLACE${tw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tw()}`},Av=gK;function L2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function I2(e,t,n){if(typeof e!="function")throw new Error(yr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yr(1));return n(I2)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,d=!1;function f(){s===a&&(s=new Map,a.forEach((S,j)=>{s.set(j,S)}))}function m(){if(d)throw new Error(yr(3));return i}function p(S){if(typeof S!="function")throw new Error(yr(4));if(d)throw new Error(yr(5));let j=!0;f();const D=c++;return s.set(D,S),function(){if(j){if(d)throw new Error(yr(6));j=!1,f(),s.delete(D),a=null}}}function y(S){if(!L2(S))throw new Error(yr(7));if(typeof S.type>"u")throw new Error(yr(8));if(typeof S.type!="string")throw new Error(yr(17));if(d)throw new Error(yr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=s).forEach(D=>{D()}),S}function b(S){if(typeof S!="function")throw new Error(yr(10));r=S,y({type:Av.REPLACE})}function x(){const S=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(yr(11));function D(){const M=j;M.next&&M.next(m())}return D(),{unsubscribe:S(D)}},[uC](){return this}}}return y({type:Av.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:b,[uC]:x}}function vK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Av.INIT})>"u")throw new Error(yr(12));if(typeof n(void 0,{type:Av.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yr(13))})}function H$(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{vK(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],b=s[p],x=y(b,c);if(typeof x>"u")throw c&&c.type,new Error(yr(14));f[p]=x,d=d||x!==b}return d=d||r.length!==Object.keys(s).length,d?f:s}}function dC(e,t){return function(...n){return t(e.apply(this,n))}}function fC(e,t){if(typeof e=="function")return dC(e,t);if(typeof e!="object"||e===null)throw new Error(yr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=dC(i,t))}return n}function cm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function F$(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(yr(15))};const s={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(s));return a=cm(...c)(i.dispatch),{...i,dispatch:a}}}function G$(e){return L2(e)&&"type"in e&&typeof e.type=="string"}var nw={exports:{}},rw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function yK(){if(hC)return rw;hC=1;var e=sf();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,c=e.useDebugValue;return rw.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=s(function(){function S(N){if(!j){if(j=!0,D=N,N=p(N),y!==void 0&&x.hasValue){var I=x.value;if(y(I,N))return O=I}return O=N}if(I=O,n(D,N))return I;var $=p(N);return y!==void 0&&y(I,$)?(D=N,I):(D=N,O=$)}var j=!1,D,O,M=m===void 0?null:m;return[function(){return S(f())},M===null?void 0:function(){return S(M())}]},[f,m,p,y]);var T=r(d,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=T},[T]),c(T),T},rw}var mC;function bK(){return mC||(mC=1,nw.exports=yK()),nw.exports}bK();var _K=A.version.startsWith("19"),xK=Symbol.for(_K?"react.transitional.element":"react.element"),wK=Symbol.for("react.portal"),SK=Symbol.for("react.fragment"),EK=Symbol.for("react.strict_mode"),AK=Symbol.for("react.profiler"),TK=Symbol.for("react.consumer"),kK=Symbol.for("react.context"),q$=Symbol.for("react.forward_ref"),OK=Symbol.for("react.suspense"),jK=Symbol.for("react.suspense_list"),$2=Symbol.for("react.memo"),NK=Symbol.for("react.lazy"),CK=q$,MK=$2;function DK(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case xK:switch(e=e.type,e){case SK:case AK:case EK:case OK:case jK:return e;default:switch(e=e&&e.$$typeof,e){case kK:case q$:case NK:case $2:return e;case TK:return e;default:return t}}case wK:return t}}}function PK(e){return DK(e)===$2}function RK(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let c=!1,d,f,m,p,y;function b(D,O){return d=D,f=O,m=e(d,f),p=t(r,f),y=n(m,p,f),c=!0,y}function x(){return m=e(d,f),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function T(){return e.dependsOnOwnProps&&(m=e(d,f)),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function S(){const D=e(d,f),O=!s(D,m);return m=D,O&&(y=n(m,p,f)),y}function j(D,O){const M=!a(O,f),N=!i(D,d,O,f);return d=D,f=O,M&&N?x():M?T():N?S():y}return function(O,M){return c?j(O,M):b(O,M)}}function LK(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),s=n(e,i),c=r(e,i);return RK(a,s,c,e,i)}function IK(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function JS(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function pC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Y$(e,t){return function(r,{displayName:i}){const a=function(c,d){return a.dependsOnOwnProps?a.mapToProps(c,d):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,d){a.mapToProps=e,a.dependsOnOwnProps=pC(e);let f=a(c,d);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=pC(f),f=a(c,d)),f},a}}function B2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function $K(e){return e&&typeof e=="object"?JS(t=>IK(e,t)):e?typeof e=="function"?Y$(e):B2(e,"mapDispatchToProps"):JS(t=>({dispatch:t}))}function BK(e){return e?typeof e=="function"?Y$(e):B2(e,"mapStateToProps"):JS(()=>({}))}function zK(e,t,n){return{...n,...e,...t}}function UK(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,s;return function(d,f,m){const p=e(d,f,m);return a?i(p,s)||(s=p):(a=!0,s=p),s}}}function HK(e){return e?typeof e=="function"?UK(e):B2(e,"mergeProps"):()=>zK}function FK(e){e()}function GK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){FK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var gC={notify(){},get:()=>[]};function K$(e,t){let n,r=gC,i=0,a=!1;function s(T){m();const S=r.subscribe(T);let j=!1;return()=>{j||(j=!0,S(),p())}}function c(){r.notify()}function d(){x.onStateChange&&x.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(d):e.subscribe(d),r=GK())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gC)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const x={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return x}var qK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YK=qK(),KK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WK=KK(),VK=()=>YK||WK?A.useLayoutEffect:A.useEffect,Tv=VK();function vC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function tv(e,t){if(vC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!vC(e[n[i]],t[n[i]]))return!1;return!0}var ZK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},W$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},QK={[CK]:JK,[MK]:W$};function yC(e){return PK(e)?W$:QK[e.$$typeof]||ZK}var eW=Object.defineProperty,tW=Object.getOwnPropertyNames,bC=Object.getOwnPropertySymbols,nW=Object.getOwnPropertyDescriptor,rW=Object.getPrototypeOf,_C=Object.prototype;function QS(e,t){if(typeof t!="string"){if(_C){const a=rW(t);a&&a!==_C&&QS(e,a)}let n=tW(t);bC&&(n=n.concat(bC(t)));const r=yC(e),i=yC(t);for(let a=0;a<n.length;++a){const s=n[a];if(!XK[s]&&!(i&&i[s])&&!(r&&r[s])){const c=nW(t,s);try{eW(e,s,c)}catch{}}}}return e}var iW=Symbol.for("react-redux-context"),aW=typeof globalThis<"u"?globalThis:{};function oW(){if(!A.createContext)return{};const e=aW[iW]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var V$=oW(),sW=[null,null];function lW(e,t,n){Tv(()=>e(...t),n)}function cW(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function uW(e,t,n,r,i,a,s,c,d,f,m){if(!e)return()=>{};let p=!1,y=null;const b=()=>{if(p||!c.current)return;const T=t.getState();let S,j;try{S=r(T,i.current)}catch(D){j=D,y=D}j||(y=null),S===a.current?s.current||f():(a.current=S,d.current=S,s.current=!0,m())};return n.onStateChange=b,n.trySubscribe(),b(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function dW(e,t){return e===t}function fW(e,t,n,{pure:r,areStatesEqual:i=dW,areOwnPropsEqual:a=tv,areStatePropsEqual:s=tv,areMergedPropsEqual:c=tv,forwardRef:d=!1,context:f=V$}={}){const m=f,p=BK(e),y=$K(t),b=HK(n),x=!!e;return S=>{const j=S.displayName||S.name||"Component",D=`Connect(${j})`,O={shouldHandleStateChanges:x,displayName:D,wrappedComponentName:j,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:y,initMergeProps:b,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:c};function M($){const[B,H,Z]=A.useMemo(()=>{const{reactReduxForwardedRef:ce,...Ne}=$;return[$.context,ce,Ne]},[$]),z=A.useMemo(()=>{let ce=m;return B?.Consumer,ce},[B,m]),F=A.useContext(z),Q=!!$.store&&!!$.store.getState&&!!$.store.dispatch,ee=!!F&&!!F.store,ye=Q?$.store:F.store,J=ee?F.getServerState:ye.getState,le=A.useMemo(()=>LK(ye.dispatch,O),[ye]),[ae,he]=A.useMemo(()=>{if(!x)return sW;const ce=K$(ye,Q?void 0:F.subscription),Ne=ce.notifyNestedSubs.bind(ce);return[ce,Ne]},[ye,Q,F]),ne=A.useMemo(()=>Q?F:{...F,subscription:ae},[Q,F,ae]),q=A.useRef(void 0),K=A.useRef(Z),X=A.useRef(void 0),re=A.useRef(!1),V=A.useRef(!1),W=A.useRef(void 0);Tv(()=>(V.current=!0,()=>{V.current=!1}),[]);const ue=A.useMemo(()=>()=>X.current&&Z===K.current?X.current:le(ye.getState(),Z),[ye,Z]),te=A.useMemo(()=>Ne=>ae?uW(x,ye,ae,le,K,q,re,V,X,he,Ne):()=>{},[ae]);lW(cW,[K,q,re,Z,X,he]);let Y;try{Y=A.useSyncExternalStore(te,ue,J?()=>le(J(),Z):ue)}catch(ce){throw W.current&&(ce.message+=`
The error may be correlated with this previous error:
${W.current.stack}

`),ce}Tv(()=>{W.current=void 0,X.current=void 0,q.current=Y});const se=A.useMemo(()=>A.createElement(S,{...Y,ref:H}),[H,S,Y]);return A.useMemo(()=>x?A.createElement(z.Provider,{value:ne},se):se,[z,se,ne])}const I=A.memo(M);if(I.WrappedComponent=S,I.displayName=M.displayName=D,d){const B=A.forwardRef(function(Z,z){return A.createElement(I,{...Z,reactReduxForwardedRef:z})});return B.displayName=D,B.WrappedComponent=S,QS(B,S)}return QS(I,S)}}var Z$=fW;function hW(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const d=K$(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);Tv(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=n||V$;return A.createElement(c.Provider,{value:a},t)}var X$=hW,mW="Invariant failed";function pW(e,t){throw new Error(mW)}var ho=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,s=r-a,c=i-n,d={top:n,right:r,bottom:i,left:a,width:s,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return d},z2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},xC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},gW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},iw={top:0,right:0,bottom:0,left:0},U2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?iw:r,a=t.border,s=a===void 0?iw:a,c=t.padding,d=c===void 0?iw:c,f=ho(z2(n,i)),m=ho(xC(n,s)),p=ho(xC(m,d));return{marginBox:f,borderBox:ho(n),paddingBox:m,contentBox:p,margin:i,border:s,padding:d}},Aa=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&pW(),i},vW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},kv=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,s=t.padding,c=gW(r,n);return U2({borderBox:c,border:i,margin:a,padding:s})},Ov=function(t,n){return n===void 0&&(n=vW()),kv(t,n)},J$=function(t,n){var r={top:Aa(n.marginTop),right:Aa(n.marginRight),bottom:Aa(n.marginBottom),left:Aa(n.marginLeft)},i={top:Aa(n.paddingTop),right:Aa(n.paddingRight),bottom:Aa(n.paddingBottom),left:Aa(n.paddingLeft)},a={top:Aa(n.borderTopWidth),right:Aa(n.borderRightWidth),bottom:Aa(n.borderBottomWidth),left:Aa(n.borderLeftWidth)};return U2({borderBox:t,margin:r,padding:i,border:a})},Q$=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return J$(n,r)},um=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(null,arguments)}function eB(e,t){}eB.bind(null,"warn");eB.bind(null,"error");function Gl(){}function yW(e,t){return{...e,...t}}function Oa(e,t,n){const r=t.map(i=>{const a=yW(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const bW="Invariant failed";class Nv extends Error{}Nv.prototype.toString=function(){return this.message};function Ge(e,t){throw new Nv(bW)}class _W extends hn.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Gl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Nv&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Oa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Nv){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const xW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Cv=e=>e+1,wW=e=>`
  You have lifted an item in position ${Cv(e.source.index)}
`,tB=(e,t)=>{const n=e.droppableId===t.droppableId,r=Cv(e.index),i=Cv(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},nB=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,SW=e=>{const t=e.destination;if(t)return tB(e.source,t);const n=e.combine;return n?nB(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},wC=e=>`
  The item has returned to its starting position
  of ${Cv(e.index)}
`,EW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${wC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${tB(e.source,t)}
    `:n?`
      You have dropped the item.
      ${nB(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${wC(e.source)}
  `},nv={dragHandleUsageInstructions:xW,onDragStart:wW,onDragUpdate:SW,onDragEnd:EW};function AW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function rB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!AW(e[n],t[n]))return!1;return!0}function Ct(e,t){const n=A.useState(()=>({inputs:t,result:e()}))[0],r=A.useRef(!0),i=A.useRef(n),s=r.current||!!(t&&i.current.inputs&&rB(t,i.current.inputs))?i.current:{inputs:t,result:e()};return A.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function tt(e,t){return Ct(()=>e,t)}const wr={x:0,y:0},Rr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ta=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ql=(e,t)=>e.x===t.x&&e.y===t.y,hf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),mu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},dm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),SC=(e,t)=>Math.min(...t.map(n=>dm(e,n))),iB=e=>t=>({x:e(t.x),y:e(t.y)});var TW=(e,t)=>{const n=ho({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const qm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),EC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],kW={top:0,right:0,bottom:0,left:0},OW=(e,t)=>t?qm(e,t.scroll.diff.displacement):e,jW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,NW=(e,t)=>t&&t.shouldClipSubject?TW(t.pageMarginBox,e):ho(e);var Kd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=OW(e.marginBox,r),a=jW(i,n,t),s=NW(a,r);return{page:e,withPlaceholder:t,active:s}},H2=(e,t)=>{e.frame||Ge();const n=e.frame,r=ta(t,n.scroll.initial),i=hf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Kd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:s}};function _r(e,t=rB){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const aB=_r(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),oB=_r(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Fy=_r(e=>Object.values(e)),CW=_r(e=>Object.values(e));var mf=_r((e,t)=>CW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function F2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Gy(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var qy=_r((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),MW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!F2(i))return null;function s(b){const x={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return{...i,at:x}}const c=i.displaced.all,d=c.length?c[0]:null;if(e)return d?s(d):null;const f=qy(t,r);if(!d){if(!f.length)return null;const b=f[f.length-1];return s(b.descriptor.id)}const m=f.findIndex(b=>b.descriptor.id===d);m===-1&&Ge();const p=m-1;if(p<0)return null;const y=f[p];return s(y.descriptor.id)},pf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const sB={point:wr,value:0},fm={invisible:{},visible:{},all:[]},DW={displaced:fm,displacedBy:sB,at:null};var Ra=(e,t)=>n=>e<=n&&n<=t,lB=e=>{const t=Ra(e.top,e.bottom),n=Ra(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(a&&s)return!0;const d=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return d&&f?!0:d&&s||f&&a}},PW=e=>{const t=Ra(e.top,e.bottom),n=Ra(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const G2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},cB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var RW=e=>t=>{const n=Ra(t.top,t.bottom),r=Ra(t.left,t.right);return i=>e===G2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const LW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:wr;return qm(e,n)},IW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,$W=(e,t,n)=>n(t)(e),q2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?LW(e,t):e;return IW(a,t,i)&&$W(a,n,i)},BW=e=>q2({...e,isVisibleThroughFrameFn:lB}),uB=e=>q2({...e,isVisibleThroughFrameFn:PW}),zW=e=>q2({...e,isVisibleThroughFrameFn:RW(e.destination.axis)}),UW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function HW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ho(z2(n,r))}function hm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,d){const f=HW(d,n),m=d.descriptor.id;if(c.all.push(m),!BW({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const y=UW(m,a,i),b={draggableId:m,shouldAnimate:y};return c.visible[m]=b,c},{all:[],visible:{},invisible:{}})}function FW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function AC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=FW(e,{inHomeList:t});return{displaced:fm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Mv({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:s,forceShouldAnimate:c}){const d=pf(e,n);if(s==null)return AC({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const f=t.find(x=>x.descriptor.index===s);if(!f)return AC({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const m=qy(e,t),p=t.indexOf(f),y=m.slice(p);return{displaced:hm({afterDragging:y,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Kl(e,t){return!!t.effected[e]}var GW=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return Kl(a,i)?e?c:c-1:e?c+1:c},qW=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,s=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=t?c:c+1;return a<s||a>d?null:a},YW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:s,viewport:c,afterCritical:d})=>{const f=s.at;if(f||Ge(),f.type==="REORDER"){const p=qW({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:Mv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:p})}const m=GW({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:f.combine,afterCritical:d});return m==null?null:Mv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:m})},KW=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Kl(n,t)?i?wr:hf(r.point):i?r.point:wr},WW=({afterCritical:e,impact:t,draggables:n})=>{const r=Gy(t);r||Ge();const i=r.draggableId,a=n[i].page.borderBox.center,s=KW({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Rr(a,s)};const dB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,VW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Y2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,TC=({axis:e,moveRelativeTo:t,isMoving:n})=>mu(e.line,t.marginBox[e.end]+dB(e,n),Y2(e,t.marginBox,n)),kC=({axis:e,moveRelativeTo:t,isMoving:n})=>mu(e.line,t.marginBox[e.start]-VW(e,n),Y2(e,t.marginBox,n)),ZW=({axis:e,moveInto:t,isMoving:n})=>mu(e.line,t.contentBox[e.start]+dB(e,n),Y2(e,t.contentBox,n));var XW=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=mf(r.descriptor.id,n),s=t.page,c=r.axis;if(!a.length)return ZW({axis:c,moveInto:r.page,isMoving:s});const{displaced:d,displacedBy:f}=e,m=d.all[0];if(m){const y=n[m];if(Kl(m,i))return kC({axis:c,moveRelativeTo:y.page,isMoving:s});const b=kv(y.page,f.point);return kC({axis:c,moveRelativeTo:b,isMoving:s})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Kl(p.descriptor.id,i)){const y=kv(p.page,hf(i.displacedBy.point));return TC({axis:c,moveRelativeTo:y,isMoving:s})}return TC({axis:c,moveRelativeTo:p.page,isMoving:s})},eE=(e,t)=>{const n=e.frame;return n?Rr(t,n.scroll.diff.displacement):t};const JW=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,s=e.at;return!n||!s?a:s.type==="REORDER"?XW({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):WW({impact:e,draggables:r,afterCritical:i})};var Yy=e=>{const t=JW(e),n=e.droppable;return n?eE(n,t):t},fB=(e,t)=>{const n=ta(t,e.scroll.initial),r=hf(n);return{frame:ho({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function OC(e,t){return e.map(n=>t[n])}function QW(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var eV=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=fB(t,Rr(t.scroll.current,i)),s=n.frame?H2(n,Rr(n.frame.scroll.current,i)):n,c=e.displaced,d=hm({afterDragging:OC(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=hm({afterDragging:OC(c.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},y=[c,d,f];return c.all.forEach(x=>{const T=QW(x,y);if(T){p[x]=T;return}m[x]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},tV=(e,t)=>Rr(e.scroll.diff.displacement,t),K2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=tV(n,e),i=ta(r,t.page.borderBox.center);return Rr(t.client.borderBox.center,i)},hB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const s=ta(n,e.page.borderBox.center),d={target:qm(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return a?zW(d):uB(d)},nV=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:c,afterCritical:d})=>{if(!n.isEnabled)return null;const f=mf(n.descriptor.id,r),m=pf(t,n),p=MW({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||YW({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:d});if(!p)return null;const y=Yy({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:d});if(hB({draggable:t,destination:n,newPageBorderBoxCenter:y,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:K2({pageBorderBoxCenter:y,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const x=ta(y,s),T=eV({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:c,impact:T,scrollJumpRequest:x}};const oi=e=>{const t=e.subject.active;return t||Ge(),t};var rV=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const s=n.axis,c=Ra(a[s.start],a[s.end]),d=Fy(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>lB(i.frame)(oi(m))).filter(m=>{const p=oi(m);return e?a[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<a[s.crossAxisStart]}).filter(m=>{const p=oi(m),y=Ra(p[s.start],p[s.end]);return c(p[s.start])||c(p[s.end])||y(a[s.start])||y(a[s.end])}).sort((m,p)=>{const y=oi(m)[s.crossAxisStart],b=oi(p)[s.crossAxisStart];return e?y-b:b-y}).filter((m,p,y)=>oi(m)[s.crossAxisStart]===oi(y[0])[s.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(m=>Ra(oi(m)[s.start],oi(m)[s.end])(t[s.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>oi(m)[s.start]-oi(p)[s.start])[0]:d.sort((m,p)=>{const y=SC(t,EC(oi(m))),b=SC(t,EC(oi(p)));return y!==b?y-b:oi(m)[s.start]-oi(p)[s.start]})[0]};const jC=(e,t)=>{const n=e.page.borderBox.center;return Kl(e.descriptor.id,t)?ta(n,t.displacedBy.point):n},iV=(e,t)=>{const n=e.page.borderBox;return Kl(e.descriptor.id,t)?qm(n,hf(t.displacedBy.point)):n};var aV=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>uB({target:iV(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,c)=>{const d=dm(e,eE(n,jC(s,i))),f=dm(e,eE(n,jC(c,i)));return d<f?-1:f<d?1:s.descriptor.index-c.descriptor.index})[0]||null,Ym=_r(function(t,n){const r=n[t.line];return{value:r,point:mu(t.line,r)}});const oV=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return mu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],d=mf(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return d<=0?null:mu(r.line,d)},mB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),pB=(e,t,n)=>{const r=e.frame;pf(t,e)&&Ge(),e.subject.withPlaceholder&&Ge();const i=Ym(e.axis,t.displaceBy).point,a=oV(e,i,n),s={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Kd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?Rr(r.scroll.max,a):r.scroll.max,d=mB(r,c),f=Kd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:d});return{...e,subject:f,frame:d}},sV=e=>{const t=e.subject.withPlaceholder;t||Ge();const n=e.frame;if(!n){const s=Kd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||Ge();const i=mB(n,r),a=Kd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var lV=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:s,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:fm,displacedBy:sB,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},y=Yy({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),b=pf(r,a)?a:pB(a,r,i);return hB({draggable:r,destination:b,newPageBorderBoxCenter:y,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const d=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||d?p:p+1})(),m=Ym(a.axis,r.displaceBy);return Mv({draggable:r,insideDestination:n,destination:a,viewport:s,displacedBy:m,last:fm,index:f})},cV=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:s,afterCritical:c})=>{const d=rV({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:s});if(!d)return null;const f=mf(d.descriptor.id,i),m=aV({pageBorderBoxCenter:t,viewport:s,destination:d,insideDestination:f,afterCritical:c}),p=lV({previousPageBorderBoxCenter:t,destination:d,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:s,afterCritical:c});if(!p)return null;const y=Yy({impact:p,draggable:n,droppable:d,draggables:i,afterCritical:c});return{clientSelection:K2({pageBorderBoxCenter:y,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},ra=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const uV=(e,t)=>{const n=ra(e);return n?t[n]:null};var dV=({state:e,type:t})=>{const n=uV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,s=a.axis.direction,c=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:y}=e.dimensions;return c?nV({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):cV({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:y,viewport:e.viewport,afterCritical:e.afterCritical})};function Zc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function gB(e){const t=Ra(e.top,e.bottom),n=Ra(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function fV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function hV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const s=a.axis,c=mu(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:dm(r,c)}}).sort((a,s)=>s.distance-a.distance);return i[0]?i[0].id:null}function mV({pageBorderBox:e,draggable:t,droppables:n}){const r=Fy(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!fV(e,a))return!1;if(gB(a)(e.center))return!0;const s=i.axis,c=a.center[s.crossAxisLine],d=e[s.crossAxisStart],f=e[s.crossAxisEnd],m=Ra(a[s.crossAxisStart],a[s.crossAxisEnd]),p=m(d),y=m(f);return!p&&!y?!0:p?d<c:f>c});return r.length?r.length===1?r[0].descriptor.id:hV({pageBorderBox:e,draggable:t,candidates:r}):null}const vB=(e,t)=>ho(qm(e,t));var pV=(e,t)=>{const n=e.frame;return n?vB(t,n.scroll.diff.value):t};function yB({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function gV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var vV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:s})=>{const c=n.axis,d=Ym(n.axis,t.displaceBy),f=d.value,m=e[c.start],p=e[c.end],b=qy(t,r).find(T=>{const S=T.descriptor.id,j=T.page.borderBox.center[c.line],D=Kl(S,s),O=yB({displaced:i,id:S});return D?O?p<=j:m<j-f:O?p<=j+f:m<j})||null,x=gV({draggable:t,closest:b,inHomeList:pf(t,n)});return Mv({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:d,index:x})};const yV=4;var bV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const s=r.axis,c=Ym(r.axis,e.displaceBy),d=c.value,f=t[s.start],m=t[s.end],y=qy(e,i).find(x=>{const T=x.descriptor.id,S=x.page.borderBox,D=S[s.size]/yV,O=Kl(T,a),M=yB({displaced:n.displaced,id:T});return O?M?m>S[s.start]+D&&m<S[s.end]-D:f>S[s.start]-d+D&&f<S[s.end]-d-D:M?m>S[s.start]+d+D&&m<S[s.end]+d-D:f>S[s.start]+D&&f<S[s.end]-D});return y?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:r.descriptor.id}}}:null},bB=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:s})=>{const c=vB(t.page.borderBox,e),d=mV({pageBorderBox:c,draggable:t,droppables:r});if(!d)return DW;const f=r[d],m=mf(f.descriptor.id,n),p=pV(f,c);return bV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:s})||vV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:s})},W2=(e,t)=>({...e,[t.descriptor.id]:t});const _V=({previousImpact:e,impact:t,droppables:n})=>{const r=ra(e),i=ra(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const s=sV(a);return W2(n,s)};var xV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=_V({previousImpact:r,impact:i,droppables:n}),s=ra(i);if(!s)return a;const c=n[s];if(pf(e,c)||c.subject.withPlaceholder)return a;const d=pB(c,e,t);return W2(a,d)},tm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const s=r||e.viewport,c=n||e.dimensions,d=t||e.current.client.selection,f=ta(d,e.initial.client.selection),m={offset:f,selection:d,borderBoxCenter:Rr(e.initial.client.borderBoxCenter,f)},p={selection:Rr(m.selection,s.scroll.current),borderBoxCenter:Rr(m.borderBoxCenter,s.scroll.current),offset:Rr(m.offset,s.scroll.diff.value)},y={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:s,current:y};const b=c.draggables[e.critical.draggable.id],x=i||bB({pageOffset:p.offset,draggable:b,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),T=xV({draggable:b,impact:x,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:y,dimensions:{draggables:c.draggables,droppables:T},impact:x,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function wV(e,t){return e.map(n=>t[n])}var _B=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,s=wV(a.all,n),c=hm({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},xB=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const s=Yy({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return K2({pageBorderBoxCenter:s,draggable:t,viewport:i})},wB=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Ge();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:s,droppables:c}=a,d=s[e.critical.draggable.id],f=ra(r);f||Ge();const m=c[f],p=_B({impact:r,viewport:i,destination:m,draggables:s}),y=xB({impact:p,draggable:d,droppable:m,draggables:s,viewport:i,afterCritical:e.afterCritical});return tm({impact:p,clientSelection:y,state:e,dimensions:a,viewport:i})},SV=e=>({index:e.index,droppableId:e.droppableId}),SB=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Ym(t.axis,e.displaceBy),a=mf(t.descriptor.id,n),s=a.indexOf(e);s===-1&&Ge();const c=a.slice(s+1),d=c.reduce((y,b)=>(y[b.descriptor.id]=!0,y),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:d};return{impact:{displaced:hm({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:SV(e.descriptor)}},afterCritical:f}},EV=(e,t)=>({draggables:e.draggables,droppables:W2(e.droppables,t)}),AV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=kv(e.client,t),i=Ov(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},TV=e=>{const t=e.frame;return t||Ge(),t},kV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,s=t[a],d=TV(s).scroll.diff.value,f=Rr(r,d);return AV({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},OV=({state:e,published:t})=>{const n=t.modified.map(j=>{const D=e.dimensions.droppables[j.droppableId];return H2(D,j.scroll)}),r={...e.dimensions.droppables,...aB(n)},i=oB(kV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const s={droppables:r,draggables:a},c=ra(e.impact),d=c?s.droppables[c]:null,f=s.draggables[e.critical.draggable.id],m=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:y}=SB({draggable:f,home:m,draggables:a,viewport:e.viewport}),b=d&&d.isCombineEnabled?e.impact:p,x=bB({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:b,viewport:e.viewport,afterCritical:y}),T={...e,phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:s,afterCritical:y,forceShouldAnimate:!1};return e.phase==="COLLECTING"?T:{...T,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const tE=e=>e.movementMode==="SNAP",aw=(e,t,n)=>{const r=EV(e.dimensions,t);return!tE(e)||n?tm({state:e,dimensions:r}):wB({state:e,dimensions:r})};function ow(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const NC={phase:"IDLE",completed:null,shouldFlush:!1};var jV=(e=NC,t)=>{if(t.type==="FLUSH")return{...NC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ge();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:s}=t.payload,c=a.draggables[n.draggable.id],d=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:wr},m={client:f,page:{selection:Rr(f.selection,i.scroll.initial),borderBoxCenter:Rr(f.selection,i.scroll.initial),offset:Rr(f.selection,i.scroll.diff.value)}},p=Fy(a.droppables).every(T=>!T.isFixedOnPage),{impact:y,afterCritical:b}=SB({draggable:c,home:d,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:y,afterCritical:b,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ge(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ge(),OV({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Ge();const{client:n}=t.payload;return ql(n,e.current.client.selection)?e:tm({state:e,clientSelection:n,impact:tE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ow(e);Zc(e)||Ge();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=H2(i,r);return aw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Ge();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Ge(),i.isEnabled===r&&Ge();const a={...i,isEnabled:r};return aw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Ge();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Ge(),i.isCombineEnabled===r&&Ge();const a={...i,isCombineEnabled:r};return aw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Zc(e)||Ge(),e.isWindowScrollAllowed||Ge();const n=t.payload.newScroll;if(ql(e.viewport.scroll.current,n))return ow(e);const r=fB(e.viewport,n);return tE(e)?wB({state:e,viewport:r}):tm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Zc(e))return e;const n=t.payload.maxScroll;if(ql(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ge();const n=dV({state:e,type:t.type});return n?tm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Ge(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ge(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Gt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const NV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),CV=e=>({type:"LIFT",payload:e}),MV=e=>({type:"INITIAL_PUBLISH",payload:e}),DV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),PV=()=>({type:"COLLECTION_STARTING",payload:null}),RV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),LV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),IV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),EB=e=>({type:"MOVE",payload:e}),$V=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),BV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),zV=()=>({type:"MOVE_UP",payload:null}),UV=()=>({type:"MOVE_DOWN",payload:null}),HV=()=>({type:"MOVE_RIGHT",payload:null}),FV=()=>({type:"MOVE_LEFT",payload:null}),V2=()=>({type:"FLUSH",payload:null}),GV=e=>({type:"DROP_ANIMATE",payload:e}),Z2=e=>({type:"DROP_COMPLETE",payload:e}),AB=e=>({type:"DROP",payload:e}),qV=e=>({type:"DROP_PENDING",payload:e}),TB=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var YV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Gt(i,"LIFT")){r(i);return}const{id:a,clientSelection:s,movementMode:c}=i.payload,d=t();d.phase==="DROP_ANIMATING"&&n(Z2({completed:d.completed})),t().phase!=="IDLE"&&Ge(),n(V2()),n(NV({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:y,viewport:b}=e.startPublishing(m);n(MV({critical:p,dimensions:y,clientSelection:s,movementMode:c,viewport:b}))},KV=e=>()=>t=>n=>{Gt(n,"INITIAL_PUBLISH")&&e.dragging(),Gt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Gt(n,"FLUSH")||Gt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const X2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},mm={opacity:{drop:0,combining:.7},scale:{drop:.75}},kB={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Uc=`${kB.outOfTheWay}s ${X2.outOfTheWay}`,nm={fluid:`opacity ${Uc}`,snap:`transform ${Uc}, opacity ${Uc}`,drop:e=>{const t=`${e}s ${X2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Uc}`,placeholder:`height ${Uc}, width ${Uc}, margin ${Uc}`},CC=e=>ql(e,wr)?void 0:`translate(${e.x}px, ${e.y}px)`,nE={moveTo:CC,drop:(e,t)=>{const n=CC(e);if(n)return t?`${n} scale(${mm.scale.drop})`:n}},{minDropTime:rE,maxDropTime:OB}=kB,WV=OB-rE,MC=1500,VV=.6;var ZV=({current:e,destination:t,reason:n})=>{const r=dm(e,t);if(r<=0)return rE;if(r>=MC)return OB;const i=r/MC,a=rE+WV*i,s=n==="CANCEL"?a*VV:a;return Number(s.toFixed(2))},XV=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:s}=n,c=ra(e),d=c?s[c]:null,f=s[t.descriptor.droppableId],m=xB({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:d||f,viewport:r});return ta(m,t.client.borderBox.center)},JV=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:_B({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:fm},didDropInsideDroppable:!0};const QV=({getState:e,dispatch:t})=>n=>r=>{if(!Gt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(qV({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Ge(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Ge();const c=i.critical,d=i.dimensions,f=d.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=JV({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),y=p?F2(m):null,b=p?Gy(m):null,x={index:c.draggable.index,droppableId:c.droppable.id},T={draggableId:f.descriptor.id,type:f.descriptor.type,source:x,reason:a,mode:i.movementMode,destination:y,combine:b},S=XV({impact:m,draggable:f,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:T,impact:m};if(!(!ql(i.current.client.offset,S)||!!T.combine)){t(Z2({completed:j}));return}const O=ZV({current:i.current.client.offset,destination:S,reason:a});t(GV({newHomeClientOffset:S,dropDuration:O,completed:j}))};var jB=()=>({x:window.pageXOffset,y:window.pageYOffset});function eZ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function tZ({onWindowScroll:e}){function t(){e(jB())}const n=um(t),r=eZ(n);let i=Gl;function a(){return i!==Gl}function s(){a()&&Ge(),i=Oa(window,[r])}function c(){a()||Ge(),n.cancel(),i(),i=Gl}return{start:s,stop:c,isActive:a}}const nZ=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH"),rZ=e=>{const t=tZ({onWindowScroll:n=>{e.dispatch($V({newScroll:n}))}});return n=>r=>{!t.isActive()&&Gt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&nZ(r)&&t.stop(),n(r)}};var iZ=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},aZ=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Ge();const[s]=e.splice(a,1);s.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),s={timerId:a,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const oZ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,sZ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,lZ=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Oh=(e,t)=>{t()},Wg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function sw(e,t,n,r){if(!e){n(r(t));return}const i=iZ(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var cZ=(e,t)=>{const n=aZ();let r=null;const i=(p,y)=>{r&&Ge(),Oh("onBeforeCapture",()=>{const b=e().onBeforeCapture;b&&b({draggableId:p,mode:y})})},a=(p,y)=>{r&&Ge(),Oh("onBeforeDragStart",()=>{const b=e().onBeforeDragStart;b&&b(Wg(p,y))})},s=(p,y)=>{r&&Ge();const b=Wg(p,y);r={mode:y,lastCritical:p,lastLocation:b.source,lastCombine:null},n.add(()=>{Oh("onDragStart",()=>sw(e().onDragStart,b,t,nv.onDragStart))})},c=(p,y)=>{const b=F2(y),x=Gy(y);r||Ge();const T=!lZ(p,r.lastCritical);T&&(r.lastCritical=p);const S=!oZ(r.lastLocation,b);S&&(r.lastLocation=b);const j=!sZ(r.lastCombine,x);if(j&&(r.lastCombine=x),!T&&!S&&!j)return;const D={...Wg(p,r.mode),combine:x,destination:b};n.add(()=>{Oh("onDragUpdate",()=>sw(e().onDragUpdate,D,t,nv.onDragUpdate))})},d=()=>{r||Ge(),n.flush()},f=p=>{r||Ge(),r=null,Oh("onDragEnd",()=>sw(e().onDragEnd,p,t,nv.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:s,update:c,flush:d,drop:f,abort:()=>{if(!r)return;const p={...Wg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},uZ=(e,t)=>{const n=cZ(e,t);return r=>i=>a=>{if(Gt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Gt(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Gt(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Gt(a,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const dZ=e=>t=>n=>{if(!Gt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Ge(),e.dispatch(Z2({completed:r.completed}))},fZ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Gt(a,"FLUSH")||Gt(a,"DROP_COMPLETE")||Gt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Gt(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(TB())}};n=requestAnimationFrame(()=>{n=null,t=Oa(window,[s])})}};var hZ=e=>()=>t=>n=>{(Gt(n,"DROP_COMPLETE")||Gt(n,"FLUSH")||Gt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},mZ=e=>{let t=!1;return()=>n=>r=>{if(Gt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Gt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Gt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const pZ=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH");var gZ=e=>t=>n=>r=>{if(pZ(r)){e.stop(),n(r);return}if(Gt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Ge(),e.start(i);return}n(r),e.scroll(t.getState())};const vZ=e=>t=>n=>{if(t(n),!Gt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(AB({reason:r.reason})))},yZ=cm;var bZ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>I2(jV,yZ(F$(KV(n),hZ(e),YV(e),QV,dZ,fZ,vZ,gZ(a),rZ,mZ(t),uZ(r,i))));const lw=()=>({additions:{},removals:{},modified:{}});function _Z({registry:e,callbacks:t}){let n=lw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:d,removals:f,modified:m}=n,p=Object.keys(d).map(x=>e.draggable.getById(x).getDimension(wr)).sort((x,T)=>x.descriptor.index-T.descriptor.index),y=Object.keys(m).map(x=>{const S=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:S}}),b={additions:p,removals:Object.keys(f),modified:y};n=lw(),t.publish(b)}))};return{add:d=>{const f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:d=>{const f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=lw())}}}var NB=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=ta({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},CB=()=>{const e=document.documentElement;return e||Ge(),e},MB=()=>{const e=CB();return NB({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},xZ=()=>{const e=jB(),t=MB(),n=e.y,r=e.x,i=CB(),a=i.clientWidth,s=i.clientHeight,c=r+a,d=n+s;return{frame:ho({top:n,left:r,right:c,bottom:d}),scroll:{initial:e,current:e,max:t,diff:{value:wr,displacement:wr}}}},wZ=({critical:e,scrollOptions:t,registry:n})=>{const r=xZ(),i=r.scroll.current,a=e.droppable,s=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:oB(c),droppables:aB(s)},critical:e,viewport:r}};function DC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var SZ=(e,t)=>{let n=null;const r=_Z({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(y,b)=>{e.droppable.exists(y)||Ge(),n&&t.updateDroppableIsEnabled({id:y,isEnabled:b})},a=(y,b)=>{n&&(e.droppable.exists(y)||Ge(),t.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:b}))},s=(y,b)=>{n&&(e.droppable.exists(y)||Ge(),t.updateDroppableScroll({id:y,newScroll:b}))},c=(y,b)=>{n&&e.droppable.getById(y).callbacks.scroll(b)},d=()=>{if(!n)return;r.stop();const y=n.critical.droppable;e.droppable.getAllByType(y.type).forEach(b=>b.callbacks.dragStopped()),n.unsubscribe(),n=null},f=y=>{n||Ge();const b=n.critical.draggable;y.type==="ADDITION"&&DC(e,b,y.value)&&r.add(y.value),y.type==="REMOVAL"&&DC(e,b,y.value)&&r.remove(y.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:s,startPublishing:y=>{n&&Ge();const b=e.draggable.getById(y.draggableId),x=e.droppable.getById(b.descriptor.droppableId),T={draggable:b.descriptor,droppable:x.descriptor},S=e.subscribe(f);return n={critical:T,unsubscribe:S},wZ({critical:T,registry:e,scrollOptions:y.scrollOptions})},stopPublishing:d}},DB=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",EZ=e=>{window.scrollBy(e.x,e.y)};const AZ=_r(e=>Fy(e).filter(t=>!(!t.isEnabled||!t.frame))),TZ=(e,t)=>AZ(t).find(r=>(r.frame||Ge(),gB(r.frame.pageMarginBox)(e)))||null;var kZ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return TZ(e,n)};const pm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var OZ=(e,t,n=()=>pm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},PB=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},J2=1,jZ=(e,t,n=()=>pm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return J2;const a=1-PB({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(a);return Math.ceil(s)},NZ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,s=t,c=a,f=Date.now()-s;if(f>=a)return e;if(f<i)return J2;const m=PB({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},PC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=jZ(e,t,i);return a===0?0:r?Math.max(NZ(a,n,i),J2):a},RC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=OZ(e,r,a);return t[r.end]<t[r.start]?PC({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*PC({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},CZ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const MZ=iB(e=>e===0?0:e);var RB=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=RC({container:t,distanceToEdges:s,dragStartTime:e,axis:G2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=RC({container:t,distanceToEdges:s,dragStartTime:e,axis:cB,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=MZ({x:d,y:c});if(ql(f,wr))return null;const m=CZ({container:t,subject:n,proposedScroll:f});return m?ql(m,wr)?null:m:null};const DZ=iB(e=>e===0?0:e>0?1:-1),Q2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Rr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return ql(a,wr)?null:a}})(),LB=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=DZ(n),a=Q2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},eA=(e,t)=>LB({current:e.scroll.current,max:e.scroll.max,change:t}),PZ=(e,t)=>{if(!eA(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Q2({current:r,max:n,change:t})},tA=(e,t)=>{const n=e.frame;return n?LB({current:n.scroll.current,max:n.scroll.max,change:t}):!1},RZ=(e,t)=>{const n=e.frame;return!n||!tA(e,t)?null:Q2({current:n.scroll.current,max:n.scroll.max,change:t})};var LZ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=RB({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&eA(e,s)?s:null},IZ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=e.frame;if(!s)return null;const c=RB({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&tA(e,c)?c:null},LC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const s=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,y=LZ({dragStartTime:t,viewport:p,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(y){r(y);return}}const f=kZ({center:s,destination:ra(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=IZ({dragStartTime:t,droppable:f,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},$Z=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>pm})=>{const r=um(e),i=um(t);let a=null;const s=f=>{a||Ge();const{shouldUseTimeDampening:m,dragStartTime:p}=a;LC({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Ge();const m=Date.now();let p=!1;const y=()=>{p=!0};LC({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&s(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:s}},BZ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,d)=>{const f=Rr(c.current.client.selection,d);e({client:f})},i=(c,d)=>{if(!tA(c,d))return d;const f=RZ(c,d);if(!f)return t(c.descriptor.id,d),null;const m=ta(d,f);return t(c.descriptor.id,m),ta(d,m)},a=(c,d,f)=>{if(!c||!eA(d,f))return f;const m=PZ(d,f);if(!m)return n(f),null;const p=ta(f,m);return n(p),ta(f,p)};return c=>{const d=c.scrollJumpRequest;if(!d)return;const f=ra(c.impact);f||Ge();const m=i(c.dimensions.droppables[f],d);if(!m)return;const p=c.viewport,y=a(c.isWindowScrollAllowed,p,m);y&&r(c,y)}},zZ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=$Z({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=BZ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:d=>{if(!(r().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&a(d)}},start:i.start,stop:i.stop}};const Wd="data-rfd",Vd=(()=>{const e=`${Wd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),iE=(()=>{const e=`${Wd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),UZ=(()=>{const e=`${Wd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),IC={contextId:`${Wd}-scroll-container-context-id`},HZ=e=>t=>`[${t}="${e}"]`,jh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),FZ="pointer-events: none;";var GZ=e=>{const t=HZ(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Vd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:FZ,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${nm.outOfTheWay};
    `;return{selector:t(iE.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(UZ.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:jh(s,"always"),resting:jh(s,"resting"),dragging:jh(s,"dragging"),dropAnimating:jh(s,"dropAnimating"),userCancel:jh(s,"userCancel")}};const ia=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,cw=()=>{const e=document.querySelector("head");return e||Ge(),e},$C=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qZ(e,t){const n=Ct(()=>GZ(e),[e]),r=A.useRef(null),i=A.useRef(null),a=tt(_r(p=>{const y=i.current;y||Ge(),y.textContent=p}),[]),s=tt(p=>{const y=r.current;y||Ge(),y.textContent=p},[]);ia(()=>{!r.current&&!i.current||Ge();const p=$C(t),y=$C(t);return r.current=p,i.current=y,p.setAttribute(`${Wd}-always`,e),y.setAttribute(`${Wd}-dynamic`,e),cw().appendChild(p),cw().appendChild(y),s(n.always),a(n.resting),()=>{const b=x=>{const T=x.current;T||Ge(),cw().removeChild(T),x.current=null};b(r),b(i)}},[t,s,a,n.always,n.resting,e]);const c=tt(()=>a(n.dragging),[a,n.dragging]),d=tt(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=tt(()=>{i.current&&a(n.resting)},[a,n.resting]);return Ct(()=>({dragging:c,dropping:d,resting:f}),[c,d,f])}function IB(e,t){return Array.from(e.querySelectorAll(t))}var $B=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Ky(e){return e instanceof $B(e).HTMLElement}function YZ(e,t){const n=`[${Vd.contextId}="${e}"]`,r=IB(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Vd.draggableId)===t);return!i||!Ky(i)?null:i}function KZ(e){const t=A.useRef({}),n=A.useRef(null),r=A.useRef(null),i=A.useRef(!1),a=tt(function(y,b){const x={id:y,focus:b};return t.current[y]=x,function(){const S=t.current;S[y]!==x&&delete S[y]}},[]),s=tt(function(y){const b=YZ(e,y);b&&b!==document.activeElement&&b.focus()},[e]),c=tt(function(y,b){n.current===y&&(n.current=b)},[]),d=tt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const y=n.current;y&&s(y)}))},[s]),f=tt(function(y){n.current=null;const b=document.activeElement;b&&b.getAttribute(Vd.draggableId)===y&&(n.current=y)},[]);return ia(()=>(i.current=!0,function(){i.current=!1;const y=r.current;y&&cancelAnimationFrame(y)}),[]),Ct(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[a,f,d,c])}function WZ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const b=t.indexOf(p);b!==-1&&t.splice(b,1)}}function r(p){t.length&&t.forEach(y=>y(p))}function i(p){return e.draggables[p]||null}function a(p){const y=i(p);return y||Ge(),y}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,y)=>{const b=e.draggables[y.descriptor.id];b&&b.uniqueId===p.uniqueId&&(delete e.draggables[y.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const y=p.descriptor.id,b=i(y);b&&p.uniqueId===b.uniqueId&&(delete e.draggables[y],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(y=>y.descriptor.type===p)};function c(p){return e.droppables[p]||null}function d(p){const y=c(p);return y||Ge(),y}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const y=c(p.descriptor.id);y&&p.uniqueId===y.uniqueId&&delete e.droppables[p.descriptor.id]},getById:d,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(y=>y.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:f,subscribe:n,clean:m}}function VZ(){const e=Ct(WZ,[]);return A.useEffect(()=>function(){e.clean()},[e]),e}var nA=hn.createContext(null),Dv=()=>{const e=document.body;return e||Ge(),e};const ZZ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},XZ=e=>`rfd-announcement-${e}`;function JZ(e){const t=Ct(()=>XZ(e),[e]),n=A.useRef(null);return A.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),jv(a.style,ZZ),Dv().appendChild(a),function(){setTimeout(function(){const d=Dv();d.contains(a)&&d.removeChild(a),a===n.current&&(n.current=null)})}},[t]),tt(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const QZ={separator:"::"};function rA(e,t=QZ){const n=hn.useId();return Ct(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function eX({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function tX({contextId:e,text:t}){const n=rA("hidden-text",{separator:"-"}),r=Ct(()=>eX({contextId:e,uniqueId:n}),[n,e]);return A.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Dv().appendChild(a),function(){const c=Dv();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var Wy=hn.createContext(null);function BB(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),t}function nX(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Ge();const c={abandon:s};return e=c,c}function i(){e||Ge(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function gm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const rX=9,iX=13,iA=27,zB=32,aX=33,oX=34,sX=35,lX=36,cX=37,uX=38,dX=39,fX=40,hX={[iX]:!0,[rX]:!0};var UB=e=>{hX[e.keyCode]&&e.preventDefault()};const Vy=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),HB=0,BC=5;function mX(e,t){return Math.abs(t.x-e.x)>=BC||Math.abs(t.y-e.y)>=BC}const zC={type:"IDLE"};function pX({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:s,clientY:c}=i;if(a!==HB)return;const d={x:s,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Ge();const m=f.point;if(!mX(m,d))return;i.preventDefault();const p=f.actions.fluidLift(d);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===iA){i.preventDefault(),e();return}UB(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Ge(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Vy,fn:e}]}function gX(e){const t=A.useRef(zC),n=A.useRef(Gl),r=Ct(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==HB||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const y=e.findClosestDraggableId(p);if(!y)return;const b=e.tryGetLock(y,s,{sourceEvent:p});if(!b)return;p.preventDefault();const x={x:p.clientX,y:p.clientY};n.current(),f(b,x)}}),[e]),i=Ct(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const y=e.findOptionsForDraggable(p);y&&(y.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=tt(function(){const p={passive:!1,capture:!0};n.current=Oa(window,[i,r],p)},[i,r]),s=tt(()=>{t.current.type!=="IDLE"&&(t.current=zC,n.current(),a())},[a]),c=tt(()=>{const m=t.current;s(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[s]),d=tt(function(){const p={capture:!0,passive:!1},y=pX({cancel:c,completed:s,getPhase:()=>t.current,setPhase:b=>{t.current=b}});n.current=Oa(window,y,p)},[c,s]),f=tt(function(p,y){t.current.type!=="IDLE"&&Ge(),t.current={type:"PENDING",point:y,actions:p},d()},[d]);ia(function(){return a(),function(){n.current()}},[a])}function vX(){}const yX={[oX]:!0,[aX]:!0,[lX]:!0,[sX]:!0};function bX(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===iA){i.preventDefault(),n();return}if(i.keyCode===zB){i.preventDefault(),r();return}if(i.keyCode===fX){i.preventDefault(),e.moveDown();return}if(i.keyCode===uX){i.preventDefault(),e.moveUp();return}if(i.keyCode===dX){i.preventDefault(),e.moveRight();return}if(i.keyCode===cX){i.preventDefault(),e.moveLeft();return}if(yX[i.keyCode]){i.preventDefault();return}UB(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Vy,fn:n}]}function _X(e){const t=A.useRef(vX),n=Ct(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==zB)return;const s=e.findClosestDraggableId(a);if(!s)return;const c=e.tryGetLock(s,m,{sourceEvent:a});if(!c)return;a.preventDefault();let d=!0;const f=c.snapLift();t.current();function m(){d||Ge(),d=!1,t.current(),r()}t.current=Oa(window,bX(f,m),{capture:!0,passive:!1})}}),[e]),r=tt(function(){const a={passive:!1,capture:!0};t.current=Oa(window,[n],a)},[n]);ia(function(){return r(),function(){t.current()}},[r])}const uw={type:"IDLE"},xX=120,wX=.15;function SX({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===iA&&n.preventDefault(),e()}},{eventName:Vy,fn:e}]}function EX({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:s}=r.touches[0],c={x:a,y:s};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Ge();const a=r.touches[0];if(!a||!(a.force>=wX))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Vy,fn:e}]}function AX(e){const t=A.useRef(uw),n=A.useRef(Gl),r=tt(function(){return t.current},[]),i=tt(function(b){t.current=b},[]),a=Ct(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const x=e.findClosestDraggableId(b);if(!x)return;const T=e.tryGetLock(x,c,{sourceEvent:b});if(!T)return;const S=b.touches[0],{clientX:j,clientY:D}=S,O={x:j,y:D};n.current(),p(T,O)}}),[e]),s=tt(function(){const b={capture:!0,passive:!1};n.current=Oa(window,[a],b)},[a]),c=tt(()=>{const y=t.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(uw),n.current(),s())},[s,i]),d=tt(()=>{const y=t.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),f=tt(function(){const b={capture:!0,passive:!1},x={cancel:d,completed:c,getPhase:r},T=Oa(window,EX(x),b),S=Oa(window,SX(x),b);n.current=function(){T(),S()}},[d,r,c]),m=tt(function(){const b=r();b.type!=="PENDING"&&Ge();const x=b.actions.fluidLift(b.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),p=tt(function(b,x){r().type!=="IDLE"&&Ge();const T=setTimeout(m,xX);i({type:"PENDING",point:x,actions:b,longPressTimerId:T}),f()},[f,r,i,m]);ia(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(uw))}},[r,s,i]),ia(function(){return Oa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const TX=["input","button","textarea","select","option","optgroup","video","audio"];function FB(e,t){if(t==null)return!1;if(TX.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:FB(e,t.parentElement)}function kX(e,t){const n=t.target;return Ky(n)?FB(e,n):!1}var OX=e=>ho(e.getBoundingClientRect()).center;function jX(e){return e instanceof $B(e).Element}const NX=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function GB(e,t){return e==null?null:e[NX](t)?e:GB(e.parentElement,t)}function CX(e,t){return e.closest?e.closest(t):GB(e,t)}function MX(e){return`[${Vd.contextId}="${e}"]`}function DX(e,t){const n=t.target;if(!jX(n))return null;const r=MX(e),i=CX(n,r);return!i||!Ky(i)?null:i}function PX(e,t){const n=DX(e,t);return n?n.getAttribute(Vd.draggableId):null}function RX(e,t){const n=`[${iE.contextId}="${e}"]`,i=IB(document,n).find(a=>a.getAttribute(iE.id)===t);return!i||!Ky(i)?null:i}function LX(e){e.preventDefault()}function Vg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function qB({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!DB(t.getState(),r))}function IX({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:s}){if(!qB({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const d=r.draggable.getById(i),f=RX(t,d.descriptor.id);if(!f||s&&!d.options.canDragInteractiveElements&&kX(f,s))return null;const m=e.claim(a||Gl);let p="PRE_DRAG";function y(){return d.options.shouldRespectForcePress}function b(){return e.isActive(m)}function x(N,I){Vg({expected:N,phase:p,isLockActive:b,shouldWarn:!0})&&n.dispatch(I())}const T=x.bind(null,"DRAGGING");function S(N){function I(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(I(),Ge()),n.dispatch(CV(N.liftActionArgs)),p="DRAGGING";function $(B,H={shouldBlockNextClick:!1}){if(N.cleanup(),H.shouldBlockNextClick){const Z=Oa(window,[{eventName:"click",fn:LX,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Z)}I(),n.dispatch(AB({reason:B}))}return{isActive:()=>Vg({expected:"DRAGGING",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,drop:B=>$("DROP",B),cancel:B=>$("CANCEL",B),...N.actions}}function j(N){const I=um(B=>{T(()=>EB({client:B}))});return{...S({liftActionArgs:{id:i,clientSelection:N,movementMode:"FLUID"},cleanup:()=>I.cancel(),actions:{move:I}}),move:I}}function D(){const N={moveUp:()=>T(zV),moveRight:()=>T(HV),moveDown:()=>T(UV),moveLeft:()=>T(FV)};return S({liftActionArgs:{id:i,clientSelection:OX(f),movementMode:"SNAP"},cleanup:Gl,actions:N})}function O(){Vg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!0})&&e.release()}return{isActive:()=>Vg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:j,snapLift:D,abort:O}}const $X=[gX,_X,AX];function BX({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?$X:[],...r||[]],s=A.useState(()=>nX())[0],c=tt(function(S,j){gm(S)&&!gm(j)&&s.tryAbandon()},[s]);ia(function(){let S=t.getState();return t.subscribe(()=>{const D=t.getState();c(S,D),S=D})},[s,t,c]),ia(()=>s.tryAbandon,[s.tryAbandon]);const d=tt(T=>qB({lockAPI:s,registry:n,store:t,draggableId:T}),[s,n,t]),f=tt((T,S,j)=>IX({lockAPI:s,registry:n,contextId:e,store:t,draggableId:T,forceSensorStop:S||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,s,n,t]),m=tt(T=>PX(e,T),[e]),p=tt(T=>{const S=n.draggable.findById(T);return S?S.options:null},[n.draggable]),y=tt(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(V2()))},[s,t]),b=tt(()=>s.isClaimed(),[s]),x=Ct(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:y,isLockClaimed:b}),[d,f,m,p,y,b]);for(let T=0;T<a.length;T++)a[T](x)}const zX=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};cf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),UX=e=>({...pm,...e.autoScrollerOptions,durationDampening:{...pm.durationDampening,...e.autoScrollerOptions}});function Nh(e){return e.current||Ge(),e.current}function HX(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,s=A.useRef(null),c=BB(e),d=tt(()=>zX(c.current),[c]),f=tt(()=>UX(c.current),[c]),m=JZ(t),p=tX({contextId:t,text:a}),y=qZ(t,i),b=tt(Z=>{Nh(s).dispatch(Z)},[]),x=Ct(()=>fC({publishWhileDragging:DV,updateDroppableScroll:RV,updateDroppableIsEnabled:LV,updateDroppableIsCombineEnabled:IV,collectionStarting:PV},b),[b]),T=VZ(),S=Ct(()=>SZ(T,x),[T,x]),j=Ct(()=>zZ({scrollWindow:EZ,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:f,...fC({move:EB},b)}),[S.scrollDroppable,b,f]),D=KZ(t),O=Ct(()=>bZ({announce:m,autoScroller:j,dimensionMarshal:S,focusMarshal:D,getResponders:d,styleMarshal:y}),[m,j,S,D,d,y]);s.current=O;const M=tt(()=>{const Z=Nh(s);Z.getState().phase!=="IDLE"&&Z.dispatch(V2())},[]),N=tt(()=>{const Z=Nh(s).getState();return Z.phase==="DROP_ANIMATING"?!0:Z.phase==="IDLE"?!1:Z.isDragging},[]),I=Ct(()=>({isDragging:N,tryAbort:M}),[N,M]);n(I);const $=tt(Z=>DB(Nh(s).getState(),Z),[]),B=tt(()=>Zc(Nh(s).getState()),[]),H=Ct(()=>({marshal:S,focus:D,contextId:t,canLift:$,isMovementAllowed:B,dragHandleUsageInstructionsId:p,registry:T}),[t,S,p,D,$,B,T]);return BX({contextId:t,store:O,registry:T,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),A.useEffect(()=>M,[M]),hn.createElement(Wy.Provider,{value:H},hn.createElement(X$,{context:nA,store:O},e.children))}function FX(){return hn.useId()}function Km(e){const t=FX(),n=e.dragHandleUsageInstructions||nv.dragHandleUsageInstructions;return hn.createElement(_W,null,r=>hn.createElement(HX,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const UC={dragging:5e3,dropAnimating:4500},GX=(e,t)=>t?nm.drop(t.duration):e?nm.snap:nm.fluid,qX=(e,t)=>{if(e)return t?mm.opacity.drop:mm.opacity.combining},YX=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function KX(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,s=!!i,c=YX(e),d=!!a,f=d?nE.drop(r,s):nE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:GX(c,a),transform:f,opacity:qX(s,d),zIndex:d?UC.dropAnimating:UC.dragging,pointerEvents:"none"}}function WX(e){return{transform:nE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function VX(e){return e.type==="DRAGGING"?KX(e):WX(e)}function ZX(e,t,n=wr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=J$(i,r),s=Ov(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},d={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:d,client:a,page:s}}function XX(e){const t=rA("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}=e,d=Ct(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}),[a,c,s]),f=tt(b=>{const x=i();return x||Ge(),ZX(n,x,b)},[n,i]),m=Ct(()=>({uniqueId:t,descriptor:n,options:d,getDimension:f}),[n,f,d,t]),p=A.useRef(m),y=A.useRef(!0);ia(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),ia(()=>{if(y.current){y.current=!1;return}const b=p.current;p.current=m,r.draggable.update(m,b)},[m,r.draggable])}var aA=hn.createContext(null);function Pv(e){const t=A.useContext(e);return t||Ge(),t}function JX(e){e.preventDefault()}const QX=e=>{const t=A.useRef(null),n=tt((I=null)=>{t.current=I},[]),r=tt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=Pv(Wy),{type:c,droppableId:d}=Pv(aA),f=Ct(()=>({id:e.draggableId,index:e.index,type:c,droppableId:d}),[e.draggableId,e.index,c,d]),{children:m,draggableId:p,isEnabled:y,shouldRespectForcePress:b,canDragInteractiveElements:x,isClone:T,mapped:S,dropAnimationFinished:j}=e;if(!T){const I=Ct(()=>({descriptor:f,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:b,isEnabled:y}),[f,s,r,x,b,y]);XX(I)}const D=Ct(()=>y?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:JX}:null,[i,a,p,y]),O=tt(I=>{S.type==="DRAGGING"&&S.dropping&&I.propertyName==="transform"&&cf.flushSync(j)},[j,S]),M=Ct(()=>{const I=VX(S),$=S.type==="DRAGGING"&&S.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:I,onTransitionEnd:$},dragHandleProps:D}},[i,D,p,S,O,n]),N=Ct(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return hn.createElement(hn.Fragment,null,m(M,S.snapshot,N))};var YB=(e,t)=>e===t,KB=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const eJ=e=>e.combine?e.combine.draggableId:null,tJ=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function nJ(){const e=_r((i,a)=>({x:i,y:a})),t=_r((i,a,s=null,c=null,d=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!d,dropAnimation:d,mode:i,draggingOver:s,combineWith:c,combineTargetFor:null})),n=_r((i,a,s,c,d=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:a,offset:i,dimension:s,forceShouldAnimate:m,snapshot:t(a,c,d,f,null)}}));return(i,a)=>{if(gm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const s=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],d=ra(i.impact),f=tJ(i.impact),m=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,c,a.isClone,d,f,m)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==a.draggableId)return null;const c=a.isClone,d=i.dimensions.draggables[a.draggableId],f=s.result,m=f.mode,p=KB(f),y=eJ(f),x={duration:i.dropDuration,curve:X2.drop,moveTo:i.newHomeClientOffset,opacity:y?mm.opacity.drop:null,scale:y?mm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:d,dropping:x,draggingOver:p,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,y,x)}}}return null}}function WB(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const rJ={mapped:{type:"SECONDARY",offset:wr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:WB(null)}};function iJ(){const e=_r((s,c)=>({x:s,y:c})),t=_r(WB),n=_r((s,c=null,d)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}})),r=s=>s?n(wr,s,!0):null,i=(s,c,d,f)=>{const m=d.displaced.visible[s],p=!!(f.inVirtualList&&f.effected[s]),y=Gy(d),b=y&&y.draggableId===s?c:null;if(!m){if(!p)return r(b);if(d.displaced.invisible[s])return null;const S=hf(f.displacedBy.point),j=e(S.x,S.y);return n(j,b,!0)}if(p)return r(b);const x=d.displacedBy.point,T=e(x.x,x.y);return n(T,b,m.shouldAnimate)};return(s,c)=>{if(gm(s))return s.critical.draggable.id===c.draggableId?null:i(c.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const d=s.completed;return d.result.draggableId===c.draggableId?null:i(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const aJ=()=>{const e=nJ(),t=iJ();return(r,i)=>e(r,i)||t(r,i)||rJ},oJ={dropAnimationFinished:TB},sJ=Z$(aJ,oJ,null,{context:nA,areStatePropsEqual:YB})(QX);function VB(e){return Pv(aA).isUsingCloneFor===e.draggableId&&!e.isClone?null:hn.createElement(sJ,e)}function Zd(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return hn.createElement(VB,jv({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const ZB=e=>t=>e===t,lJ=ZB("scroll"),cJ=ZB("auto"),HC=(e,t)=>t(e.overflowX)||t(e.overflowY),uJ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return HC(n,lJ)||HC(n,cJ)},dJ=()=>!1,XB=e=>e==null?null:e===document.body?dJ()?e:null:e===document.documentElement?null:uJ(e)?e:XB(e.parentElement);var aE=e=>({x:e.scrollLeft,y:e.scrollTop});const JB=e=>e?window.getComputedStyle(e).position==="fixed"?!0:JB(e.parentElement):!1;var fJ=e=>{const t=XB(e),n=JB(e);return{closestScrollable:t,isFixedOnPage:n}},hJ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:s,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:y,client:b}=c,x=NB({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:b,scrollSize:y,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:wr,displacement:wr}}}})(),f=i==="vertical"?G2:cB,m=Kd({page:s,withPlaceholder:null,axis:f,frame:d});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:s,frame:d,subject:m}};const mJ=(e,t)=>{const n=Q$(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,s=i+t.scrollWidth,d=z2({top:r,right:s,bottom:a,left:i},n.border);return U2({borderBox:d,margin:n.margin,border:n.border,padding:n.padding})};var pJ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:c})=>{const d=n.closestScrollable,f=mJ(e,d),m=Ov(f,r),p=(()=>{if(!d)return null;const b=Q$(d),x={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:b,page:Ov(b,r),scroll:aE(d),scrollSize:x,shouldClipSubject:c}})();return hJ({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const gJ={passive:!1},vJ={passive:!0};var FC=e=>e.shouldPublishImmediately?gJ:vJ;const Zg=e=>e&&e.env.closestScrollable||null;function yJ(e){const t=A.useRef(null),n=Pv(Wy),r=rA("droppable"),{registry:i,marshal:a}=n,s=BB(e),c=Ct(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=A.useRef(c),f=Ct(()=>_r((M,N)=>{t.current||Ge();const I={x:M,y:N};a.updateDroppableScroll(c.id,I)}),[c.id,a]),m=tt(()=>{const M=t.current;return!M||!M.env.closestScrollable?wr:aE(M.env.closestScrollable)},[]),p=tt(()=>{const M=m();f(M.x,M.y)},[m,f]),y=Ct(()=>um(p),[p]),b=tt(()=>{const M=t.current,N=Zg(M);if(M&&N||Ge(),M.scrollOptions.shouldPublishImmediately){p();return}y()},[y,p]),x=tt((M,N)=>{t.current&&Ge();const I=s.current,$=I.getDroppableRef();$||Ge();const B=fJ($),H={ref:$,descriptor:c,env:B,scrollOptions:N};t.current=H;const Z=pJ({ref:$,descriptor:c,env:B,windowScroll:M,direction:I.direction,isDropDisabled:I.isDropDisabled,isCombineEnabled:I.isCombineEnabled,shouldClipSubject:!I.ignoreContainerClipping}),z=B.closestScrollable;return z&&(z.setAttribute(IC.contextId,n.contextId),z.addEventListener("scroll",b,FC(H.scrollOptions))),Z},[n.contextId,c,b,s]),T=tt(()=>{const M=t.current,N=Zg(M);return M&&N||Ge(),aE(N)},[]),S=tt(()=>{const M=t.current;M||Ge();const N=Zg(M);t.current=null,N&&(y.cancel(),N.removeAttribute(IC.contextId),N.removeEventListener("scroll",b,FC(M.scrollOptions)))},[b,y]),j=tt(M=>{const N=t.current;N||Ge();const I=Zg(N);I||Ge(),I.scrollTop+=M.y,I.scrollLeft+=M.x},[]),D=Ct(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:T,dragStopped:S,scroll:j}),[S,x,T,j]),O=Ct(()=>({uniqueId:r,descriptor:c,callbacks:D}),[D,c,r]);ia(()=>(d.current=O.descriptor,i.droppable.register(O),()=>{t.current&&S(),i.droppable.unregister(O)}),[D,c,S,O,a,i.droppable]),ia(()=>{t.current&&a.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),ia(()=>{t.current&&a.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function dw(){}const GC={width:0,height:0,margin:kW},bJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?GC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},_J=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=bJ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?nm.placeholder:null}},xJ=e=>{const t=A.useRef(null),n=tt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:s}=e,[c,d]=A.useState(e.animate==="open");A.useEffect(()=>c?r!=="open"?(n(),d(!1),dw):t.current?dw:(t.current=setTimeout(()=>{t.current=null,d(!1)}),n):dw,[r,c,n]);const f=tt(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=_J({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return hn.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":s,onTransitionEnd:f,ref:e.innerRef})};var wJ=hn.memo(xJ);class SJ extends hn.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const EJ=e=>{const t=A.useContext(Wy);t||Ge();const{contextId:n,isMovementAllowed:r}=t,i=A.useRef(null),a=A.useRef(null),{children:s,droppableId:c,type:d,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:y,isCombineEnabled:b,snapshot:x,useClone:T,updateViewportMaxScroll:S,getContainerForClone:j}=e,D=tt(()=>i.current,[]),O=tt((z=null)=>{i.current=z},[]);tt(()=>a.current,[]);const M=tt((z=null)=>{a.current=z},[]),N=tt(()=>{r()&&S({maxScroll:MB()})},[r,S]);yJ({droppableId:c,type:d,mode:f,direction:m,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:D});const I=Ct(()=>hn.createElement(SJ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:z,data:F,animate:Q})=>hn.createElement(wJ,{placeholder:F,onClose:z,innerRef:M,animate:Q,contextId:n,onTransitionEnd:N})),[n,N,e.placeholder,e.shouldAnimatePlaceholder,M]),$=Ct(()=>({innerRef:O,placeholder:I,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,I,O]),B=T?T.dragging.draggableId:null,H=Ct(()=>({droppableId:c,type:d,isUsingCloneFor:B}),[c,B,d]);function Z(){if(!T)return null;const{dragging:z,render:F}=T,Q=hn.createElement(VB,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ee,ye)=>F(ee,ye,z));return uF.createPortal(Q,j())}return hn.createElement(aA.Provider,{value:H},s($,x),Z())};function AJ(){return document.body||Ge(),document.body}const qC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:AJ},QB=e=>{let t={...e},n;for(n in qC)e[n]===void 0&&(t={...t,[n]:qC[n]});return t},fw=(e,t)=>e===t.droppable.type,YC=(e,t)=>t.draggables[e.draggable.id],TJ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=_r(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=_r((a,s,c,d,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const x=m?{render:m,dragging:n(f.descriptor)}:null,T={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:T,useClone:x}}if(!s)return t;if(!d)return e;const b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(a,s)=>{const c=QB(s),d=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(gm(a)){const y=a.critical;if(!fw(f,y))return t;const b=YC(y,a.dimensions),x=ra(a.impact)===d;return r(d,m,x,x,b,p)}if(a.phase==="DROP_ANIMATING"){const y=a.completed;if(!fw(f,y.critical))return t;const b=YC(y.critical,a.dimensions);return r(d,m,KB(y.result)===d,ra(y.impact)===d,b,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const y=a.completed;if(!fw(f,y.critical))return t;const b=ra(y.impact)===d,x=!!(y.impact.at&&y.impact.at.type==="COMBINE"),T=y.critical.droppable.id===d;return b?x?e:t:T?e:t}return t}},kJ={updateViewportMaxScroll:BV},lu=Z$(TJ,kJ,(e,t,n)=>({...QB(n),...e,...t}),{context:nA,areStatePropsEqual:YB})(EJ),OJ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Rv(e,t,n){const r=OJ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function jJ(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),d=(a-12)/24+s/1440+c/86400,f=2*Math.PI/365*(i-1+d);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function NJ(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Su(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=NJ(i),s=4*(i-a),c=jJ(r);return new Date(r.getTime()+(s+c)*60*1e3)}var rv={exports:{}},CJ=rv.exports,KC;function MJ(){return KC||(KC=1,(function(e,t){(function(n,r){e.exports=r()})(CJ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(a,s,c){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),s=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=s.default,n.exports=r.default},function(n,r,i){function a(Q){return Q&&Q.__esModule?Q:{default:Q}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(2),c=a(s),d=i(3),f=a(d),m=i(4),p=a(m),y=i(5),b=a(y),x=i(6),T=a(x),S=i(7),j=a(S),D=i(8),O=a(D),M=i(9),N=a(M),I=i(10),$=a(I),B=i(11),H=a(B),Z=i(12),z=a(Z),F={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:b.default,animals:T.default,lunarTerm:j.default,lTermInfo:O.default,nStr1:N.default,nStr2:$.default,nStr3:H.default,nStr4:z.default,lYearDays:function(Q){var ee,ye=348;for(ee=32768;ee>8;ee>>=1)ye+=F.lunarInfo[Q-1900]&ee?1:0;return ye+F.leapDays(Q)},leapMonth:function(Q){return 15&F.lunarInfo[Q-1900]},leapDays:function(Q){return F.leapMonth(Q)?65536&F.lunarInfo[Q-1900]?30:29:0},monthDays:function(Q,ee){return ee>12||ee<1?-1:F.lunarInfo[Q-1900]&65536>>ee?30:29},solarDays:function(Q,ee){if(ee>12||ee<1)return-1;var ye=ee-1;return ye==1?Q%4==0&&Q%100!=0||Q%400==0?29:28:F.solarMonth[ye]},toGanZhi:function(Q){return F.gan[Q%10]+F.zhi[Q%12]},getTerm:function(Q,ee){if(Q<1900||Q>2100||ee<1||ee>24)return-1;var ye=F.lTermInfo[Q-1900],J=[parseInt("0x"+ye.substr(0,5)).toString(),parseInt("0x"+ye.substr(5,5)).toString(),parseInt("0x"+ye.substr(10,5)).toString(),parseInt("0x"+ye.substr(15,5)).toString(),parseInt("0x"+ye.substr(20,5)).toString(),parseInt("0x"+ye.substr(25,5)).toString()],le=[J[0].substr(0,1),J[0].substr(1,2),J[0].substr(3,1),J[0].substr(4,2),J[1].substr(0,1),J[1].substr(1,2),J[1].substr(3,1),J[1].substr(4,2),J[2].substr(0,1),J[2].substr(1,2),J[2].substr(3,1),J[2].substr(4,2),J[3].substr(0,1),J[3].substr(1,2),J[3].substr(3,1),J[3].substr(4,2),J[4].substr(0,1),J[4].substr(1,2),J[4].substr(3,1),J[4].substr(4,2),J[5].substr(0,1),J[5].substr(1,2),J[5].substr(3,1),J[5].substr(4,2)];return parseInt(le[ee-1])},toChinaYear:function(Q){var ee=parseInt(Q/1e3),ye=parseInt(Q%1e3/100),J=parseInt(Q%100/10),le=Q%10;return F.nStr4[ee]+F.nStr4[ye]+F.nStr4[J]+F.nStr4[le]+""},toChinaMonth:function(Q){if(Q>12||Q<1)return-1;var ee=F.nStr3[Q-1];return ee+=""},toChinaDay:function(Q){var ee;switch(Q){case 10:ee="";break;case 20:ee="";break;case 30:ee="";break;default:ee=F.nStr2[Math.floor(Q/10)],ee+=F.nStr1[Q%10]}return ee},getAnimal:function(Q){return F.animals[(Q-4)%12]},solar2lunar:function(he,ne,q){if(he<1900||he>2100||he==1900&&ne==1&&q<31)return-1;if(he)var J=new Date(he,parseInt(ne)-1,q);else var J=new Date;var le,te=0,ae=0,he=J.getFullYear(),ne=J.getMonth()+1,q=J.getDate(),K=(Date.UTC(J.getFullYear(),J.getMonth(),J.getDate())-Date.UTC(1900,0,31))/864e5;for(le=1900;le<2101&&K>0;le++)ae=F.lYearDays(le),K-=ae;K<0&&(K+=ae,le--);var X=new Date,re=!1;X.getFullYear()==he&&X.getMonth()+1==ne&&X.getDate()==q&&(re=!0);var V=J.getDay(),W=F.nStr1[V];V==0&&(V=7);var ue=le,te=F.leapMonth(le),Y=!1;for(le=1;le<13&&K>0;le++)te>0&&le==te+1&&Y==0?(--le,Y=!0,ae=F.leapDays(ue)):ae=F.monthDays(ue,le),Y==1&&le==te+1&&(Y=!1),K-=ae;K==0&&te>0&&le==te+1&&(Y?Y=!1:(Y=!0,--le)),K<0&&(K+=ae,--le);var se=le,Se=K+1,ce=ne-1,Ne=F.getTerm(he,3),me=F.toGanZhi(he-4),Te=new Date(he,1,Ne).getTime();new Date(he,ce,q).getTime()<Te&&(me=F.toGanZhi(he-5));var De=F.getTerm(he,2*ne-1),Le=F.getTerm(he,2*ne),Be=F.toGanZhi(12*(he-1900)+ne+11);q>=De&&(Be=F.toGanZhi(12*(he-1900)+ne+12));var ge=!1,Ue="";De==q&&(ge=!0,Ue=F.lunarTerm[2*ne-2]),Le==q&&(ge=!0,Ue=F.lunarTerm[2*ne-1]);var de=Date.UTC(he,ce,1,0,0,0,0)/864e5+25567+10,pe=F.toGanZhi(de+q-1);return{lYear:ue,lMonth:se,lDay:Se,animal:F.getAnimal(ue),yearCn:F.toChinaYear(ue),monthCn:(Y&&te===se?"":"")+F.toChinaMonth(se),dayCn:F.toChinaDay(Se),cYear:he,cMonth:ne,cDay:q,gzYear:me,gzMonth:Be,gzDay:pe,isToday:re,isLeap:Y,nWeek:V,ncWeek:""+W,isTerm:ge,term:Ue}},lunar2solar:function(Q,ee,ye,J){var le=F.leapMonth(Q);if(F.leapDays(Q),J&&le!=ee||Q==2100&&ee==12&&ye>1||Q==1900&&ee==1&&ye<31)return-1;var ae=F.monthDays(Q,ee);if(Q<1900||Q>2100||ye>ae)return-1;for(var he=0,ne=1900;ne<Q;ne++)he+=F.lYearDays(ne);for(var q=0,K=!1,ne=1;ne<ee;ne++)q=F.leapMonth(Q),K||q<=ne&&q>0&&(he+=F.leapDays(Q),K=!0),he+=F.monthDays(Q,ne);J&&(he+=ae);var X=Date.UTC(1900,1,30,0,0,0),re=new Date(864e5*(he+ye-31)+X),V=re.getUTCFullYear(),W=re.getUTCMonth()+1,ue=re.getUTCDate();return F.solar2lunar(V,W,ue)}};r.default=F,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(rv)),rv.exports}var e5=MJ();const DJ=Pi(e5),oA=m2({__proto__:null,default:DJ},[e5]);function oE(e){return typeof e=="object"&&e!==null}function PJ(e){if(!oE(e))throw new Error("Invalid lunar2solar result");const t=e,n=t.cYear,r=t.cMonth,i=t.cDay;if(typeof n!="number"||typeof r!="number"||typeof i!="number")throw new Error("Invalid lunar2solar fields");const a=t.isLeap;return{cYear:n,cMonth:r,cDay:i,isLeap:typeof a=="boolean"?a:void 0}}function RJ(e){const t=oE(e)&&"default"in e?e.default:e;if(!oE(t))throw new Error("solarlunar module invalid");const n=t.lunar2solar;if(typeof n!="function")throw new Error("solarlunar.lunar2solar not found");return(r,i,a)=>PJ(n(r,i,a,!1))}const LJ=RJ(oA);function Zy(e){const t=e.mingSikType??"/";let n=Number(e.birthDay.slice(0,4)),r=Number(e.birthDay.slice(4,6)),i=Number(e.birthDay.slice(6,8));if(e.calendarType==="lunar"){const D=LJ(n,r,i);n=D.cYear,r=D.cMonth,i=D.cDay}const a=!e.birthTime||e.birthTime==="",s=a?4:Number(e.birthTime.slice(0,2)),c=a?30:Number(e.birthTime.slice(2,4)),d=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,f=new Date(n,r-1,i,s,c,0,0),m=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",p=Su(f,d,m),y=a?"":p.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),b=gt(p,d),x=Mt(p,d),T=Et(p,t),S=a?null:$a(p,t),j=[` : ${b} ${x} ${T}`,S?`${S}`:null].filter(Boolean).join(" ");return{corrected:p,correctedLocal:y,ganji:j}}const WC="hm_session_started_at_ms",IJ=7200*1e3;function iv(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function t5(){if(typeof window>"u")return Date.now();const e=window.localStorage.getItem(WC),t=e?Number(e):NaN;if(Number.isFinite(t))return t;const n=Date.now();return window.localStorage.setItem(WC,String(n)),n}function $J(){if(typeof window>"u")return!1;const e=t5();return Date.now()-e>=IJ}async function BJ(e){if(!e)return;const t=Ye;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function Ch(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),s=(n.name??"").toString(),c=a.localeCompare(s);return c!==0?c:t.id.localeCompare(n.id)})}function VC(e){if(!iv(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=s=>typeof s=="number"&&Number.isFinite(s)?s:null,i=s=>typeof s=="string"?s:null,a=s=>typeof s=="boolean"?s:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function sA(e){const t=(e??"").trim();return t?t===""||t.toLowerCase()==="female"||t==="2"||t.toUpperCase()==="F"?"":(t===""||t.toLowerCase()==="male"||t==="1"||t.toUpperCase()==="M",""):""}function ZC(e){if(!e)return null;const t=e.match(/(|||||||||)(|||||||||||)/);if(t)return t[1];const n=e.split(/\s+/).find(r=>r.endsWith(""));return n&&n.length>0?n.charAt(0):null}function XC(e){const t=sA(e.gender),n=ZC(e.ganjiText)??ZC(e.ganji);if(!n)return"forward";const i=["","","","",""].includes(n),a=t==="";return i&&!a||!i&&a?"forward":"backward"}function zJ(e){const t=e.dateObj instanceof Date?e.dateObj:e.dateObj?new Date(e.dateObj):new Date,n=e.corrected instanceof Date?e.corrected:e.corrected?new Date(e.corrected):new Date(NaN),r={...e,dateObj:t,corrected:n};try{const i=Zy(r),a={...r,...i},s=XC(a);return{...a,dir:s}}catch(i){console.error("[useMyeongSikStore] recalcGanjiSnapshot error:",i);const a=XC(r);return{...r,dir:a}}}function JC(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:e.birth_day??"",birthTime:e.birth_time??"",gender:sA(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};return zJ(i)}function Xg(e,t){const n=e.birthPlace??{name:"",lat:0,lon:127.5},r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:e.birthDay??null,birth_time:e.birthTime??null,gender:sA(e.gender),birth_place_name:n.name??null,birth_place_lat:typeof n.lat=="number"?n.lat:null,birth_place_lon:typeof n.lon=="number"?n.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:e.folder??null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:r,updated_at:new Date().toISOString()}}const La=uf((e,t)=>({currentId:null,list:[],loading:!0,realtimeReady:!1,_rtChannel:null,_rtUserId:null,setCurrent:n=>e({currentId:n}),stopRealtime:async()=>{const n=t()._rtChannel;await BJ(n),e({_rtChannel:null,_rtUserId:null,realtimeReady:!1})},startRealtime:async()=>{t5();const{data:{user:n},error:r}=await Ye.auth.getUser();if(r||!n){await t().stopRealtime();return}if(t()._rtChannel&&t()._rtUserId===n.id){e({realtimeReady:!0});return}await t().stopRealtime();const i=Ye.channel(`myeongsik:${n.id}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${n.id}`},a=>{if($J()){typeof window<"u"&&window.location.reload();return}if(!iv(a))return;const s=typeof a.eventType=="string"?a.eventType:"",c=iv(a.new)?a.new:null,d=iv(a.old)?a.old:null,f=VC(c),m=VC(d),p=f?.id??m?.id??null;if(!p)return;const y=f&&typeof f.deleted_at=="string"&&f.deleted_at.trim()?f.deleted_at:null;e(b=>{if(s==="DELETE"||y){const x=b.list.filter(S=>S.id!==p),T=b.currentId===p?x[0]?.id??null:b.currentId;return{list:x,currentId:T}}if(f){const x=JC(f),S=b.list.some(j=>j.id===x.id)?b.list.map(j=>j.id===x.id?x:j):[...b.list,x];return{list:Ch(S),currentId:b.currentId??x.id}}return b})}).subscribe(a=>{a==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtChannel:i,_rtUserId:n.id})},loadFromServer:async()=>{e({loading:!0});const{data:{user:n},error:r}=await Ye.auth.getUser();if(r||!n){console.error("loadFromServer: user not found / error",r),e({list:[],currentId:null,loading:!1}),await t().stopRealtime();return}const a=await Ye.from("myeongsik").select("id, user_id, name, birth_day, birth_time, gender, birth_place_name, birth_place_lat, birth_place_lon, relationship, memo, folder, ming_sik_type, day_change_rule, favorite, deleted_at, created_at, updated_at"+", sort_order").eq("user_id",n.id).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1}),s=a.data,c=a.error;if(c||!s){console.error("loadFromServer error:",c),e({loading:!1});return}const d=s.filter(y=>y.user_id===n.id),f=Ch(d.map(JC)),m=t().currentId,p=m&&f.some(y=>y.id===m)?m:f[0]?.id??null;e({list:f,currentId:p,loading:!1}),await t().startRealtime()},migrateLocalToServer:async()=>{if(typeof window>"u")return;const n=window.localStorage.getItem("myeongsik-list");if(!n)return;let r;try{r=JSON.parse(n)}catch(x){console.error("migrateLocalToServer: JSON parse error",x),window.localStorage.removeItem("myeongsik-list");return}const i=r.state??{},a=Array.isArray(i.list)?i.list:[];if(a.length===0){window.localStorage.removeItem("myeongsik-list");return}const{data:{user:s},error:c}=await Ye.auth.getUser();if(c||!s){console.warn("migrateLocalToServer: no user, skip");return}const{data:d,error:f}=await Ye.from("myeongsik").select("id").eq("user_id",s.id);if(f){console.error("migrateLocalToServer: fetch existing ids error",f);return}const m=new Set((d??[]).map(x=>x.id)),p=a.filter(x=>!!x&&!m.has(x.id));if(p.length===0){window.localStorage.removeItem("myeongsik-list");return}const y=p.map(x=>Xg(x,s.id)),{error:b}=await Ye.from("myeongsik").upsert(y,{onConflict:"id"});if(b){console.error("migrateLocalToServer upsert error:",b);return}window.localStorage.removeItem("myeongsik-list")},add:async n=>{const r=(t().list.length||0)+1,i={...n,sortOrder:n.sortOrder??r},{data:{user:a},error:s}=await Ye.auth.getUser();if(s||!a){console.error("add: user not found",s);return}e(f=>({list:Ch([...f.list,i]),currentId:f.currentId??i.id}));const c=Xg(i,a.id),{error:d}=await Ye.from("myeongsik").upsert(c,{onConflict:"id"});d&&console.error("add upsert error:",d)},update:async(n,r)=>{const i=t().list.find(m=>m.id===n);if(!i)return;const a={...i,...r};e(m=>({list:Ch(m.list.map(p=>p.id===n?a:p))}));const{data:{user:s},error:c}=await Ye.auth.getUser();if(c||!s){console.error("update: user not found",c);return}const d=Xg(a,s.id),{error:f}=await Ye.from("myeongsik").update(d).eq("id",n);f&&console.error("update error:",f)},remove:async n=>{e(a=>{const s=a.list.filter(d=>d.id!==n),c=a.currentId===n?s[0]?.id??null:a.currentId;return{list:s,currentId:c}});const r=new Date().toISOString(),{error:i}=await Ye.from("myeongsik").update({deleted_at:r}).eq("id",n);i&&console.error("remove error:",i)},reorder:async n=>{const r=n.map((d,f)=>({...d,sortOrder:f+1}));e({list:Ch(r)});const{data:{user:i},error:a}=await Ye.auth.getUser();if(a||!i){console.error("reorder: user not found",a);return}const s=r.map(d=>Xg(d,i.id)),{error:c}=await Ye.from("myeongsik").upsert(s,{onConflict:"id"});c&&console.error("reorder upsert error:",c)},clear:()=>{e({currentId:null,list:[]})}})),QC="__custom__",eM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],n5=({value:e,onChange:t})=>{const[n,r]=A.useState(eM),[i,a]=A.useState(""),[s,c]=A.useState(!1),[d,f]=A.useState(""),[m,p]=A.useState(!1),{list:y}=La(),x=y.some(O=>O.relationship==="")?n.filter(O=>O.value!==""):n;A.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=O=>{const M=O.target.value;M===QC?(c(!0),a(""),t?.("")):(c(!1),f(""),a(M),t?.(M))};A.useEffect(()=>{const O=localStorage.getItem("relationshipOptions");O&&r(JSON.parse(O))},[]),A.useEffect(()=>{(async()=>{const{data:{user:M},error:N}=await Ye.auth.getUser();if(N||!M)return;const{data:I,error:$}=await Ye.from("user_settings").select("payload").eq("user_id",M.id).single();if($&&$.code!=="PGRST116"){console.error("load relationships settings error",$.message);return}const B=I?.payload?.relationshipOptions;if(!Array.isArray(B))return;const H=B.map(Z=>Z&&typeof Z=="object"&&typeof Z.value=="string"&&typeof Z.label=="string"?{value:Z.value,label:Z.label}:typeof Z=="string"?{value:Z,label:Z}:null).filter(Z=>!!Z);H.length&&r(Z=>{const z=new Set,F=[...H,...Z,...eM].filter(Q=>z.has(Q.value)?!1:(z.add(Q.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(F)),F})})()},[]),A.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:M},error:N}=await Ye.auth.getUser();if(N||!M)return;const{data:I,error:$}=await Ye.from("user_settings").select("payload").eq("user_id",M.id).single();if($&&$.code!=="PGRST116"){console.error("load relationships settings error",$.message);return}const B={...I?.payload??{},relationshipOptions:n},{error:H}=await Ye.from("user_settings").upsert({user_id:M.id,payload:B,updated_at:new Date().toISOString()});H&&console.error("save relationships settings error",H.message)})()},[n]);const S=()=>{const O=d.trim();if(!O)return;const M={value:O,label:O};r(N=>[...N,M]),a(O),t?.(O),f(""),c(!1)},j=O=>{r(n.filter(M=>M.value!==O)),i===O&&a("")},D=O=>{if(!O.destination)return;const M=Array.from(n),[N]=M.splice(O.source.index,1);M.splice(O.destination.index,0,N),r(M)};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"rel_set flex items-center gap-2",children:[_.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[_.jsx("option",{value:"",hidden:!0,children:""}),x.map(O=>_.jsx("option",{value:O.value,children:O.label},O.value)),_.jsx("option",{value:QC,children:" "})]}),_.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),s&&!m&&_.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[_.jsx("input",{type:"text",placeholder:" ",value:d,onChange:O=>f(O.target.value)}),_.jsx("button",{type:"button",onClick:S,className:"btn_style",children:""})]}),m&&_.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2",children:" "}),_.jsx(Km,{onDragEnd:D,children:_.jsx(lu,{droppableId:"relList",children:O=>_.jsxs("ul",{ref:O.innerRef,...O.droppableProps,className:"space-y-1",children:[n.map((M,N)=>_.jsx(Zd,{draggableId:M.value,index:N,children:I=>_.jsxs("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[_.jsx("span",{className:"cursor-grab mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:M.label}),_.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(M.value),children:""})]})},M.value)),O.placeholder]})})}),_.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},Cn=" ",r5=["","","","","",""],i5="ms_folders",a5="ms_folder_order",tM="ms_folder_favs",sE="ms_disabled_presets",pu="myeoun:folder-updated";function cu(e){if(e!==Cn)return e||void 0}function Xy(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function lA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function UJ(){const e=Xy(sE);return r5.filter(t=>!e.includes(t))}function cA(){return Xy(i5)}function uA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];lA(i5,t),typeof window<"u"&&window.dispatchEvent(new Event(pu))}function av(){const e=UJ(),t=cA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function HJ(){return[Cn,...av()]}function o5(e){const t=e.trim();if(!t||t===Cn)return;const n=cA();if(n.includes(t))return;const r=[...n,t];uA(r)}function FJ(e){const t=cA(),n=t.filter(r=>r!==e);n.length!==t.length&&uA(n)}function GJ(e){const t=Xy(sE);if(t.includes(e))return;const n=[...t,e];lA(sE,n),typeof window<"u"&&window.dispatchEvent(new Event(pu))}function ov(){return Xy(a5)}function Cd(e){lA(a5,e),typeof window<"u"&&window.dispatchEvent(new Event(pu))}function Vh(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function qJ(e){return Array.from(new Set(e))}function Jg(e){const t=e.filter(n=>n!==Cn);return{rest:t,withUnassigned:[Cn,...t]}}function YJ(e,t){return Vh(t,e)}function KJ({value:e,onChange:t}){const[n,r]=A.useState([Cn]),[i,a]=A.useState(!1),[s,c]=A.useState(""),[d,f]=A.useState(!1),m=A.useCallback(async S=>{const{data:{user:j},error:D}=await Ye.auth.getUser();if(D||!j)return;const O=S.map((N,I)=>({user_id:j.id,folder_name:N,sort_order:I+1,updated_at:new Date().toISOString()})),{error:M}=await Ye.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});M&&console.error("save folder order error",M.message)},[]),p=A.useCallback(()=>{if(typeof window>"u")return;const S=qJ(HJ()),j=S.includes(Cn)?S:[Cn,...S],{rest:D}=Jg(j),O=ov(),M=YJ(O,D),N=[Cn,...M];r(N),O.length===M.length&&O.every(($,B)=>$===M[B])||(Cd(M),m(M))},[m]);A.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(pu,S),()=>window.removeEventListener(pu,S)}},[p]);const y=A.useMemo(()=>e||Cn,[e]),b=S=>{const{rest:j}=Jg(S);Cd(j),m(j)},x=S=>{const{source:j,destination:D}=S;if(!D||D.index===j.index)return;const{rest:O}=Jg(n),M=Array.from(O),[N]=M.splice(j.index,1);M.splice(D.index,0,N);const I=[Cn,...M];r(I),b(I)},T=S=>{const j=cu(S);j&&(o5(j),p())};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":y,onChange:S=>{const j=S.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(cu(j))},children:[n.map(S=>_.jsx("option",{value:S,children:S},S)),_.jsx("option",{value:"__custom__",children:"+   "})]}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(S=>!S),children:d?" ":" "})]}),i&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"text",value:s,onChange:S=>c(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=s.trim();S&&(T(S),t(cu(S)),a(!1),c(""))},children:""})]}),d&&_.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),_.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[_.jsx("span",{className:"opacity-60 select-none",children:""}),_.jsxs("span",{className:"flex-1 px-2",children:[Cn," ()"]})]}),_.jsx(Km,{onDragEnd:x,children:_.jsx(lu,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>_.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[Jg(n).rest.map((j,D)=>_.jsx(Zd,{draggableId:j,index:D,children:O=>_.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[_.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),S.placeholder]})})})]}),_.jsxs("p",{className:"text-xs text-gray-500",children:['   "',Cn,'" .      .']})]})}function s5({message:e,onClose:t,ms:n=2e3}){return A.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),_.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}function Jy(e){return typeof e=="object"&&e!==null}function WJ(e){return Jy(e)&&"default"in e}function VJ(e){return Jy(e)&&typeof e.lunar2solar=="function"}function ZJ(e){if(!Jy(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function XJ(e){const t=WJ(e)?e.default:e;if(!VJ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,s);return ZJ(c)}}}const JJ=XJ(oA);function Qr(e,t,n,r=4,i=0){const a=JJ.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const Mh=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:" ",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:" ",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Dh=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Qg=["","/",""],e0=["",""];function hw(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function mw(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function QJ({onSave:e,onClose:t}){const{add:n}=La(),[r,i]=A.useState(0),[a,s]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[c,d]=A.useState(null),[f,m]=A.useState(!1),[p,y]=A.useState(!1),b=Mh[r],x=M=>d(M);A.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(b.key)){const N=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(N){N.focus();return}}if(b.key==="mingSikType"){const N=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(N){N.focus();return}}if(b.key==="gender"){const N=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(N){N.focus();return}}if(a.birthPlace||p){const N=()=>{const I=document.querySelector(".current-step form button[type='submit']");I&&I.focus()};N(),setTimeout(N,0)}else{const N=document.getElementById("inputBirthPlaceBtn");N&&N.focus()}if(b.key==="relationship"){setTimeout(()=>{const N=document.querySelector(".current-step select");N&&N.focus()},0);return}if(b.key==="folder"){setTimeout(()=>{const N=document.querySelector(".current-step select");N&&N.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[p,r,b.key,a.birthPlace]);const T=A.useMemo(()=>{if(a.calendarType!=="lunar"||!a.birthDay||a.birthDay.length!==8)return null;try{const M=Number(a.birthDay.slice(0,4)),N=Number(a.birthDay.slice(4,6)),I=Number(a.birthDay.slice(6,8)),$=Qr(M,N,I);return`  ${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}-${String($.getDate()).padStart(2,"0")}`}catch(M){const N=M instanceof Error?M.message:void 0;return`  ${N?`: ${N}`:""}`}},[a.calendarType,a.birthDay]),S=()=>{const M=Mh[r];if(M.key==="name"&&(a.name||(s({...a,name:""}),x("   '' ."))),M.key==="birthDay"){const N=/^\d{8}$/;if(!a.birthDay||!N.test(a.birthDay))return x(" YYYYMMDD  ."),!1;const I=Number(a.birthDay.substring(0,4)),$=Number(a.birthDay.substring(4,6)),B=Number(a.birthDay.substring(6,8));if(I<1900||I>2100)return x("  1900~2100  ."),!1;if($<1||$>12)return x("  01~12  ."),!1;if(B<1||B>31)return x("  01~31  ."),!1;if(a.calendarType==="solar"){const H=new Date(I,$-1,B);if(H.getFullYear()!==I||H.getMonth()+1!==$||H.getDate()!==B)return x("  ."),!1}else try{Qr(I,$,B)}catch(H){return x(H instanceof Error?H.message:"   ."),!1}}if(M.key==="birthTime"){if(!a.birthTime&&!f)return x("   ''  ."),!1;if(a.birthTime){const N=Number(a.birthTime);if(Number.isNaN(N)||N<0||N>2359)return x("  00002359  ."),!1;const I=Number(a.birthTime.slice(0,2)),$=Number(a.birthTime.slice(2,4));if(I>23||$>59)return x("  00002359  ."),!1}}return M.key==="birthPlace"&&!a.birthPlace&&!p?(x("   ''  ."),!1):!0},j=()=>{if(!S())return;if(r<Mh.length-1){i(r+1);return}const M=cu(a.folder),N=!a.birthTime||a.birthTime==="",I=!a.birthPlace||typeof a.birthPlace=="object"&&a.birthPlace.name==="";let $=Number(a.birthDay.slice(0,4)),B=Number(a.birthDay.slice(4,6)),H=Number(a.birthDay.slice(6,8));if(a.calendarType==="lunar"){const W=Qr($,B,H);$=W.getFullYear(),B=W.getMonth()+1,H=W.getDate()}const Z=N?4:Number(a.birthTime.slice(0,2)),z=N?30:Number(a.birthTime.slice(2,4)),F=new Date($,B-1,H,Z,z,0,0),Q=p||!a.birthPlace||a.birthPlace.lon===0?127.5:a.birthPlace.lon,ee=Su(F,Q,I),ye=a.mingSikType??"/",J=N?"":ee.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),le=gt(ee,Q),ae=Mt(ee,Q),he=Et(ee,ye),ne=N?null:$a(ee,ye),q=[` : ${le} ${ae} ${he}`,ne?`${ne}`:null].filter(Boolean).join(" ");function K(W,ue){const Y=["","","","","","","","","",""].includes(W),se=ue==="";return Y?se?"forward":"backward":se?"backward":"forward"}const X=le.charAt(0),re=K(X,a.gender??""),V={id:z$(),name:a.name?.trim()||"",birthDay:a.birthDay||"",birthTime:N?"":a.birthTime||"",gender:a.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",folder:M,correctedLocal:J,ganji:q,calendarType:a.calendarType??"solar",dir:re,corrected:ee,dateObj:a.dateObj||new Date,dayStem:a.dayStem||"",ganjiText:a.ganjiText||"   "};n(V),e(V),d(" !"),s({gender:"",mingSikType:"/",calendarType:"solar"}),m(!1),y(!1),i(0)},D=M=>{if(M.key!=="Enter")return;const N=M.target,I=N.getAttribute("role");if(I==="radio"||I==="checkbox")return;const $=document.getElementById("mapModal");if($&&$.contains(N))return;const B=N.tagName.toLowerCase(),H=N instanceof HTMLInputElement?N.type:"";if(B==="textarea"){if(M.shiftKey)return;M.preventDefault(),j();return}if(H==="radio"||H==="checkbox"){M.preventDefault(),N instanceof HTMLInputElement&&N.click();return}B==="button"&&N.type!=="submit"||(M.preventDefault(),j())},O=M=>{switch(M){case"birthPlace":return p?"":a.birthPlace?.name||"";case"birthTime":return f?"":a.birthTime||"";case"folder":return a.folder?String(a.folder):Cn;default:{const I=a[M];return typeof I=="string"?I:I!=null?String(I):""}}};return _.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[c&&_.jsx(s5,{message:c,onClose:()=>d(null)}),Mh.slice(0,r).map((M,N)=>_.jsxs("button",{onClick:()=>i(N),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[_.jsx("span",{className:"font-semibold",children:M.label}),_.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:O(M.key)})]},M.key)),_.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:_.jsxs("form",{onSubmit:M=>{M.preventDefault(),j()},onKeyDown:D,children:[_.jsx("label",{className:"block mb-2 font-bold",children:b.label}),b.key==="name"&&_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.name||"",onChange:M=>s({...a,name:M.target.value})}),b.key==="birthDay"&&_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-1 items-center",children:[_.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.birthDay||"",onChange:M=>{const N=M.target.value.replace(/\D/g,"");s({...a,birthDay:N.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:Dh.map(({value:M,label:N,id:I})=>{const $=a.calendarType===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:I,name:"calendarType",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:I,id:`${I}_lbl`,role:"radio","aria-checked":$,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":$?"true":"false",onKeyDown:B=>{if(B.stopPropagation(),B.key===" "||B.key==="Enter"){B.preventDefault(),s({...a,calendarType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(B.key))return;B.preventDefault();const Z=Dh.findIndex(Q=>Q.value===a.calendarType),z=hw(Z<0?0:Z,Dh.length,B.key),F=Dh[z].value;s({...a,calendarType:F}),mw(`${Dh[z].id}_lbl`)},onClick:B=>{B.preventDefault(),s({...a,calendarType:M})},children:N})]},M)})})]}),a.calendarType==="lunar"&&_.jsx("div",{className:"flex items-center justify-end",children:_.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:T})}),a.birthDay&&a.birthDay.length===8&&(()=>{const M=Number(a.birthDay.slice(0,4)),N=Number(a.birthDay.slice(4,6)),I=Number(a.birthDay.slice(6,8));return Rv(M,N,I)?_.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:" ."}):null})()]}),b.key==="birthTime"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:f?"":a.birthTime||"",onChange:M=>{const N=M.target.value.replace(/\D/g,"");s({...a,birthTime:N.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:f}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":f,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":f?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),m(!f))},onClick:M=>{M.preventDefault(),m(!f)},children:""})]})]}),b.key==="mingSikType"&&_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:Qg.map(M=>{const N=`ming_${M}`,I=(a.mingSikType??"/")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:N,name:"mingSikType",type:"radio",style:{display:"none"}}),_.jsxs("label",{htmlFor:N,id:`${N}_lbl`,role:"radio","aria-checked":I,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":I?"true":"false",onKeyDown:$=>{if($.stopPropagation(),$.key===" "||$.key==="Enter"){$.preventDefault(),s({...a,mingSikType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes($.key))return;$.preventDefault();const H=a.mingSikType??"/",Z=Qg.indexOf(H),z=hw(Z,Qg.length,$.key),F=Qg[z];s({...a,mingSikType:F}),mw(`ming_${F}_lbl`)},onClick:$=>{$.preventDefault(),s({...a,mingSikType:M})},children:[M,""]})]},M)})}),b.key==="gender"&&_.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:e0.map(M=>{const N=`gender_${M}`,I=(a.gender??"")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:N,name:"gender",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:N,id:`${N}_lbl`,role:"radio","aria-checked":I,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":I?"true":"false",onKeyDown:$=>{if($.stopPropagation(),$.key===" "||$.key==="Enter"){$.preventDefault(),s({...a,gender:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes($.key))return;$.preventDefault();const H=a.gender??"",Z=e0.indexOf(H),z=hw(Z,e0.length,$.key),F=e0[z];s({...a,gender:F}),mw(`gender_${F}_lbl`)},onClick:$=>{$.preventDefault(),s({...a,gender:M})},children:M})]},M)})}),b.key==="birthPlace"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx(U$,{onSelect:M=>s({...a,birthPlace:M}),value:p?"":a.birthPlace?.name??""}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":p,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":p?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),y(!p))},onClick:M=>{M.preventDefault(),y(!p)},children:""})]})]}),b.key==="relationship"&&_.jsx(n5,{value:a.relationship||"",onChange:M=>s({...a,relationship:M})}),b.key==="folder"&&_.jsx(KJ,{value:cu(a.folder),onChange:M=>s({...a,folder:M})}),b.key==="memo"&&_.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.memo||"",onChange:M=>s({...a,memo:M.target.value})}),_.jsxs("div",{className:"flex justify-between gap-2",children:[_.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),_.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:r===Mh.length-1?"":""})]})]})})]})}var t0={},nM;function eQ(){if(nM)return t0;nM=1,t0.match=a,t0.parse=s;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return s(m).some(function(y){var b=y.inverse,x=y.type==="all"||p.type===y.type;if(x&&b||!(x||b))return!1;var T=y.expressions.every(function(S){var j=S.feature,D=S.modifier,O=S.value,M=p[j];if(!M)return!1;switch(j){case"orientation":case"scan":return M.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),M=f(M);break;case"resolution":O=d(O),M=d(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),M=c(M);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,M=parseInt(M,10)||0;break}switch(D){case"min":return M>=O;case"max":return M<=O;default:return M===O}});return T&&!b||!T&&b})}function s(m){return m.split(",").map(function(p){p=p.trim();var y=p.match(e),b=y[1],x=y[2],T=y[3]||"",S={};return S.inverse=!!b&&b.toLowerCase()==="not",S.type=x?x.toLowerCase():"all",T=T.match(/\([^\)]+\)/g)||[],S.expressions=T.map(function(j){var D=j.match(t),O=D[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:D[2]}}),S})}function c(m){var p=Number(m),y;return p||(y=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=y[1]/y[2]),p}function d(m){var p=parseFloat(m),y=String(m).match(i)[1];switch(y){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),y=String(m).match(r)[1];switch(y){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return t0}var pw,rM;function tQ(){if(rM)return pw;rM=1;var e=eQ().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,s){var c=this,d;t&&!s&&(d=t.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=y;function f(b){d&&d.addListener(b)}function m(b){d&&d.removeListener(b)}function p(b){c.matches=b.matches,c.media=b.media}function y(){d&&d.removeListener(p)}}function r(i,a,s){return new n(i,a,s)}return pw=r,pw}var nQ=tQ();const rQ=Pi(nQ);var iQ=/[A-Z]/g,aQ=/^ms-/,gw={};function oQ(e){return"-"+e.toLowerCase()}function l5(e){if(gw.hasOwnProperty(e))return gw[e];var t=e.replace(iQ,oQ);return gw[e]=aQ.test(t)?"-"+t:t}function sQ(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const s=n[a];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var vw={exports:{}},yw,iM;function lQ(){if(iM)return yw;iM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yw=e,yw}var bw,aM;function cQ(){if(aM)return bw;aM=1;var e=lQ();function t(){}function n(){}return n.resetWarningCache=t,bw=function(){function r(s,c,d,f,m,p){if(p!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},bw}var oM;function uQ(){return oM||(oM=1,vw.exports=cQ()()),vw.exports}var dQ=uQ();const Ut=Pi(dQ),li=Ut.oneOfType([Ut.string,Ut.number]),c5={all:Ut.bool,grid:Ut.bool,aural:Ut.bool,braille:Ut.bool,handheld:Ut.bool,print:Ut.bool,projection:Ut.bool,screen:Ut.bool,tty:Ut.bool,tv:Ut.bool,embossed:Ut.bool},fQ={orientation:Ut.oneOf(["portrait","landscape"]),scan:Ut.oneOf(["progressive","interlace"]),aspectRatio:Ut.string,deviceAspectRatio:Ut.string,height:li,deviceHeight:li,width:li,deviceWidth:li,color:Ut.bool,colorIndex:Ut.bool,monochrome:Ut.bool,resolution:li,type:Object.keys(c5)},{type:rSe,...hQ}=fQ,mQ={minAspectRatio:Ut.string,maxAspectRatio:Ut.string,minDeviceAspectRatio:Ut.string,maxDeviceAspectRatio:Ut.string,minHeight:li,maxHeight:li,minDeviceHeight:li,maxDeviceHeight:li,minWidth:li,maxWidth:li,minDeviceWidth:li,maxDeviceWidth:li,minColor:Ut.number,maxColor:Ut.number,minColorIndex:Ut.number,maxColorIndex:Ut.number,minMonochrome:Ut.number,maxMonochrome:Ut.number,minResolution:li,maxResolution:li,...hQ},pQ={...c5,...mQ};var gQ={all:pQ};const vQ=e=>`not ${e}`,yQ=(e,t)=>{const n=l5(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?vQ(n):`(${n}: ${t})`},bQ=e=>e.join(" and "),_Q=e=>{const t=[];return Object.keys(gQ.all).forEach(n=>{const r=e[n];r!=null&&t.push(yQ(n,r))}),bQ(t)},xQ=A.createContext(void 0),wQ=e=>e.query||_Q(e),sM=e=>e?Object.keys(e).reduce((n,r)=>(n[l5(r)]=e[r],n),{}):void 0,u5=()=>{const e=A.useRef(!1);return A.useEffect(()=>{e.current=!0},[]),e.current},SQ=e=>{const t=A.useContext(xQ),n=()=>sM(e)||sM(t),[r,i]=A.useState(n);return A.useEffect(()=>{const a=n();sQ(r,a)||i(a)},[e,t]),r},EQ=e=>{const t=()=>wQ(e),[n,r]=A.useState(t);return A.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},AQ=(e,t)=>{const n=()=>rQ(e,t||{},!!t),[r,i]=A.useState(n),a=u5();return A.useEffect(()=>{if(a){const s=n();return i(s),()=>{s&&s.dispose()}}},[e,t]),r},TQ=e=>{const[t,n]=A.useState(e.matches);return A.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},kQ=(e,t,n)=>{const r=SQ(t),i=EQ(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=AQ(i,r),s=TQ(a);return u5(),A.useEffect(()=>{},[s]),A.useEffect(()=>()=>{a&&a.dispose()},[]),s},d5=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${fi[t%10]}${Mi[t%12]}`);return e})();function OQ(e){const t=d5.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t}function Lv(e,t,n=1){const r=OQ(e),i=t==="forward"?n:-n;return d5[(r+i+60*1e3)%60]}const jQ=60*1e3,NQ=60*jQ,CQ=24*NQ;function MQ(e,t){const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))}function lE(e){const t=new Date(e);return t.setSeconds(0,0),t}function DQ(e,t,n){const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const s=new Date(a);s.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),d=s.getTime()-e.getTime();return t==="backward"?c:d}function f5(e,t,n,r=120,i="/"){const a=lE(e),s=DQ(a,n,i),c=lE(new Date(a.getTime()+s*120)),d=MQ(e,r).getTime(),f=[];let m=Lv(t,n,1);for(let p=c.getTime();p<=d;p+=10*CQ)f.push({at:new Date(p),gz:m}),m=Lv(m,n,1);return{firstChange:c,events:f}}function h5(e,t){const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n}function m5(e,t,n,r){const i=h5(r,n);let a=t;const s=[];for(const c of e.events){const d=c.gz.charAt(1);i(d)&&(a=Lv(a,n,1),s.push({at:c.at,gz:a}))}return{events:s}}function mo(e){const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:ar(t,c.deg)})).concat([{name:r.name,date:ar(t+1,r.deg)},{name:"",date:ar(t+1,285)}]),a=ar(t,315),s=ar(t+1,315);return i.filter(c=>c.date>=a&&c.date<s).sort((c,d)=>c.date.getTime()-d.date.getTime())}const PQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},RQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},LQ=e=>PQ[e]??("".includes(e)?e:null),IQ=e=>RQ[e]??("".includes(e)?e:null);function lM(e){const t=LQ(e[0]),n=IQ(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`}function Wm(e,t,n,r=120,i){function a(O){return O instanceof Date||(O=new Date(O)),Math.floor((O.getHours()+1)%24/2)}function s(O){return["","","","","","","","","","","",""][a(O)]}function c(O,M,N){const I=O.charAt(0),$=O.charAt(1),B=fi.indexOf(I),H=Mi.indexOf($),Z=M==="forward"?N:-N,z=(B+Z%10+10)%10,F=(H+Z%12+12)%12;return fi[z]+Mi[F]}const d=mo(e).sort((O,M)=>O.date.getTime()-M.date.getTime());let f;if(n==="forward"){const O=d.findIndex(M=>M.date>=e);O>=0&&(f=d[O].date)}else{const O=d.filter(M=>M.date<=e);O.length&&(f=O[O.length-1].date)}function m(O,M){const N=s(O),I={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},$=I[N],B=($+2)%24,H=new Date(O);if(H.setSeconds(0,0),n==="backward"&&M){const z=s(M),F=I[z],Q=new Date(M);return Q.setHours(F,0,0,0),Q}if(n==="forward"&&M){const z=s(M),F=I[z],Q=new Date(M);if(Q.setHours(F,0,0,0),Q>H)return Q}const Z=new Date(H);return n==="forward"?(Z.setHours(B,0,0,0),Z<=H&&Z.setDate(Z.getDate()+1)):(Z.setHours($,0,0,0),Z>=H&&Z.setDate(Z.getDate()-1)),Z}new Date(e).setSeconds(0,0);const y=lM(Mt(e,127.5)),b=m(e,f),x=Math.floor(n==="forward"?(b.getTime()-e.getTime())/6e4:(e.getTime()-b.getTime())/6e4),T=Math.round(x/120*(14400*60*1e3));let S=new Date(e.getTime()+T);try{const O=lM(Mt(e,i));(n==="forward"&&y!==O||n==="backward"&&y!==O)&&(S=new Date(e.getTime()+6e4))}catch{}const j=r/10,D=[];for(let O=0;O<j;O++){const M=new Date(S);M.setFullYear(M.getFullYear()+O*10),M.setSeconds(0,0);const N=c(t,n,O+1);D.push({at:M,gz:N})}return{natalMonthPillar:t,firstChange:S,mPillars:[],events:D}}function $Q(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))}function p5(e,t,n,r,i){const a=h5(r,n);let s=t;const c=[];for(const d of e.events){const f=d.gz.charAt(1);a(f)&&(s=Lv(s,n,1),c.push({at:d.at,gz:s,age:$Q(i,d.at)}))}return{events:c}}function BQ(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)}function Qy(e){const t=BQ(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Su(t,e.birthPlace?.lon??null,n);return lE(r)}function dA(e,t){const n=e.birthPlace?.lon??127.5,r=Qy(e),i=Et(r,t),a=$a(r,t,i.charAt(0));return{year:gt(r,n),month:Mt(r,n),day:i,hour:a}}const zQ=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${fi[t%10]}${Mi[t%12]}`);return e})(),UQ=e=>zQ.indexOf(e),_w=e=>{if(UQ(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function fA(e){return typeof e=="object"&&e!==null}function HQ(e){return fA(e)&&"default"in e}function FQ(e){return fA(e)&&typeof e.lunar2solar=="function"}function GQ(e){if(!fA(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function qQ(e){const t=HQ(e)?e.default:e;if(!FQ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,!!s);return GQ(c)}}}const YQ=qQ(oA),cM=e=>e<10?`0${e}`:`${e}`;function hA(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8||r!=="lunar")return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}try{const f=YQ.lunar2solar(i,a,s,d),m=`${f.cYear}${cM(f.cMonth)}${cM(f.cDay)}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}}function KQ(e,t="/"){const n=A.useMemo(()=>hA(e),[e]),r=A.useMemo(()=>Qy(n),[n]),i=A.useMemo(()=>dA(n,t),[n,t]);return A.useMemo(()=>{const a=Wm(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),s=new Date;function c(O,M){let N=null;const I=M.getTime();for(const $ of O)if($.at.getTime()<=I)N=$;else break;return N}const d=c(a.events,s)?.gz??i.month,f=_w(d),m=s.getFullYear(),p=ar(m,315),b=p&&s>=p?m:m-1,x=gt(new Date(b,1,10,0,0,0),127.5),T=_w(x),S=Mt(s,127.5),j=_w(S),D=[];return j&&D.push({key:"wolun",label:"",data:j}),T&&D.push({key:"seun",label:"",data:T}),f&&D.push({key:"daeun",label:"",data:f}),D},[r,n.dir,i.month,n.birthPlace?.lon])}function rm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function uM(e){return e<10?`0${e}`:`${e}`}function cE(e){return`${uM(e.getHours())}:${uM(e.getMinutes())}`}const Di=uf()(yI((e,t)=>{const n=new Date,r="/",i=127.5,a=i,s=gt(n,a),c=Mt(n,a),d=Et(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:s,monthGZ:c,dayGZ:d,setDate:f=>{const{rule:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({date:f,yearGZ:gt(f,y),monthGZ:Mt(f,y),dayGZ:Et(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,y=typeof m=="number"?m:void 0;e({date:p,yearGZ:gt(p,y),monthGZ:Mt(p,y),dayGZ:Et(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:Mt(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({rule:f,yearGZ:gt(m,y),monthGZ:Mt(m,y),dayGZ:Et(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),y=typeof f=="number"?f:void 0;e({lon:f,yearGZ:gt(m,y),monthGZ:Mt(m,y),dayGZ:Et(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:y}=t(),b=typeof y=="number"?y:void 0;e({date:f.at,scope:m,yearGZ:gt(f.at,b),monthGZ:Mt(f.at,b),dayGZ:Et(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Eu={Classic:"",Modern:""};function dn(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function WQ(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function VQ(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function ZQ(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function XQ(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function fn(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?WQ(t,n):VQ(t,n):i?ZQ(t,n):XQ(t,n)}function Vm(e,t="/",n=100){const r=A.useMemo(()=>hA(e),[e]),i=A.useMemo(()=>Qy(r),[r]),a=A.useMemo(()=>dA(r,t),[r,t]),s=(c,d)=>{const f=d.getFullYear()-c.getFullYear(),m=d.getMonth()-c.getMonth(),p=d.getDate()-c.getDate(),y=m<0||m===0&&p<0?f-1:f;return Math.max(0,y)};return A.useMemo(()=>Wm(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(d=>({...d,age:s(i,d.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function xw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function JQ(e,t){if(!Array.isArray(e)||e.length===0||!xw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const s=n[a],c=n[a+1];if(!xw(s.at))continue;if(t.getTime()>=s.at.getTime()&&(!c||xw(c.at)&&t.getTime()<c.at.getTime()))return{gz:s.gz??"",at:s.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function mA(e,t,n){const{date:r,rule:i,lon:a}=Di(),s=A.useMemo(()=>n??r??new Date,[n,r]),c=Vm(e,e?.mingSikType),{gz:d}=JQ(c,s);return A.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:d,at:s},se:{gz:gt(s,f),at:s},wol:{gz:Mt(s,f),at:s},il:{gz:Et(s,m),at:s}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[s,i,a,e,t,d])}const pA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},QQ=Object.fromEntries(Object.entries(pA).map(([e,t])=>[t,e])),eee=Object.fromEntries(Object.entries(gA).map(([e,t])=>[t,e])),tee=new Set(["","","","","","","","","",""]),nee=new Set(["","","","","","","","","","","",""]),ree=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],iee=(()=>{const e={};for(const t of ree){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})();function aee(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}const oee={:1,:2,:3};function see(e){return e.includes("")?3:e.includes("")?2:(e.includes(""),1)}const lee={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function cee(e){switch(lee[e]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function uee({data:e,hourTable:t}){const{date:n}=Di(),r=xr(W=>W.settings),i=r.showNabeum??!0,a=e.mingSikType??t??"/",s=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:c,solarM:d,solarD:f}=A.useMemo(()=>{let W=Number(e.birthDay?.slice(0,4)??2e3),ue=Number(e.birthDay?.slice(4,6)??1),te=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Y=Qr(W,ue,te);W=Y.getFullYear(),ue=Y.getMonth()+1,te=Y.getDate()}return{solarY:W,solarM:ue,solarD:te}},[e.birthDay,e.calendarType]),[m,p]=A.useState(!1);A.useEffect(()=>{c&&d&&f&&p(Rv(c,d,f))},[c,d,f]);const y=!e.birthTime||e.birthTime==="";function b(W,ue){const te=!W.birthTime||W.birthTime==="";let Y=Number(W.birthDay.slice(0,4)),se=Number(W.birthDay.slice(4,6)),Se=Number(W.birthDay.slice(6,8));if(W.calendarType==="lunar"){const Fe=Qr(Y,se,Se);Y=Fe.getFullYear(),se=Fe.getMonth()+1,Se=Fe.getDate()}const ce=te?4:Number(W.birthTime.slice(0,2)),Ne=te?30:Number(W.birthTime.slice(2,4)),me=new Date(Y,se-1,Se,ce,Ne,0,0),Te=!W.birthPlace||W.birthPlace.name===""||!W.birthPlace.lon,De=Te?127.5:W.birthPlace.lon,Le=W.corrected instanceof Date&&!Number.isNaN(W.corrected.getTime());let Be;Le?Be=W.corrected:Te?Be=me:Be=Su(me,De,te);const ge=ue?new Date(Be.getTime()-3600*1e3):Be,Ue=W.mingSikType??"/",de=gt(ge,De),pe=Mt(ge,De),$e=Et(ge,Ue),ze=te?null:$a(ge,Ue);return{corrected:ge,year:{stem:de.charAt(0),branch:de.charAt(1)},month:{stem:pe.charAt(0),branch:pe.charAt(1)},day:{stem:$e.charAt(0),branch:$e.charAt(1)},hour:ze?{stem:ze.charAt(0),branch:ze.charAt(1)}:null}}const[x,T]=A.useState(()=>b(e,m));A.useEffect(()=>{T(b(e,m))},[e,m]);const S=dee(e.correctedLocal,x.corrected,y),j=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,D=x.day.stem,[O,M]=A.useState(null),[N,I]=A.useState(()=>e.mingSikType==="");A.useEffect(()=>{M(null),I(e.mingSikType==="")},[j,e.mingSikType]);const $=A.useMemo(()=>(N?E2:dI)[D]??[],[N,D]),B=O??x.hour,H=r.sinsalBase===""?x.day.branch:x.year.branch,Z=Gm(W=>W.setManualHour),z=(W,ue)=>{const te={stem:W,branch:ue};M(te),Z(te)},F=W=>r.showSibiUnseong?dn(D,W):null,Q=W=>r.showSibiSinsal?fn({baseBranch:H,targetBranch:W,era:ww(r.sinsalMode),gaehwa:r.sinsalBloom}):null,ee=KQ(e,a),ye=kQ({query:"(min-width: 992px)"}),J=r.hiddenStem==="regular"?"main":"all",le=r.exposure,ae=le===""?0:oee[le],he=ae===0?[]:ee.filter(W=>see(W.label)<=ae),ne=Rv(c,d,f),q=()=>p(W=>!W),K=mA(e,t,n),X=K.dae.gz,re=K.se.gz,V=K.wol.gz;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",_.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),ne&&_.jsxs("button",{onClick:q,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${m?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",m?"ON":"OFF"]})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[hee(e.birthDay,e.birthTime),e.birthPlace?.name?`  ${": "+e.birthPlace.name}`:""]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[": ",S]})]}),_.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[" : ",s.toFixed(2),"  ",a," "]})]}),_.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${he.length===0?"grid-cols-1":he.length===1?"grid-cols-[2fr_8fr]":he.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[he.length>0&&(ye?_.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-2 p-3 ${he.length===1?"grid-cols-1":he.length===2?"grid-cols-2":"grid-cols-3"}`,children:he.map(W=>{let ue=W.data.stem,te=W.data.branch;W.label.includes("")&&X&&(ue=X.charAt(0),te=X.charAt(1)),W.label.includes("")&&re&&(ue=re.charAt(0),te=re.charAt(1)),W.label.includes("")&&V&&(ue=V.charAt(0),te=V.charAt(1));const Y=F(te),se=Q(te);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ci(D,{stem:ue})}),_.jsx(Ll,{value:ue,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ll,{value:te,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Kh,{branch:te,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Y}),r.showSibiSinsal&&_.jsx("div",{children:se}),i&&_.jsx(n0,{stem:ue,branch:te})]})]})]},W.key)})})})]}):_.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-1 p-0 ${he.length===1?"grid-cols-1":he.length===2?"grid-cols-2":"grid-cols-3"}`,children:he.map(W=>{let ue=W.data.stem,te=W.data.branch;W.label.includes("")&&X&&(ue=X.charAt(0),te=X.charAt(1)),W.label.includes("")&&re&&(ue=re.charAt(0),te=re.charAt(1)),W.label.includes("")&&V&&(ue=V.charAt(0),te=V.charAt(1));const Y=F(te),se=Q(te);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ci(D,{stem:ue})}),_.jsx(Ll,{value:ue,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ll,{value:te,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Kh,{branch:te,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Y}),r.showSibiSinsal&&_.jsx("div",{children:se}),i&&_.jsx(n0,{stem:ue,branch:te})]})]})]},W.key)})})})]})),ye?_.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"",data:B},{key:"day",label:"",data:x.day},{key:"month",label:"",data:x.month},{key:"year",label:"",data:x.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ci(D,{stem:W.data.stem})}),_.jsx(Ll,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ll,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Kh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:dn(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:fn({baseBranch:r.sinsalBase===""?x.day.branch:x.year.branch,targetBranch:W.data.branch,era:ww(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(n0,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]},W.key))})})]}):_.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"px-1 pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"",data:B},{key:"day",label:"",data:x.day},{key:"month",label:"",data:x.month},{key:"year",label:"",data:x.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ci(D,{stem:W.data.stem})}),_.jsx(Ll,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ll,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Kh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:dn(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:fn({baseBranch:r.sinsalBase===""?x.day.branch:x.year.branch,targetBranch:W.data.branch,era:ww(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(n0,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:" "})})]},W.key))})})]})]}),y&&_.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),_.jsx("button",{onClick:()=>I(W=>!W),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:N?" : ":" : "})]}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map(W=>{const ue=W.charAt(0),te=W.charAt(1),Y=O?.stem===ue&&O?.branch===te;return _.jsx("button",{onClick:()=>z(ue,te),className:`p-2 text-xs rounded border cursor-pointer ${Y?cee(te):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${W} ( )`,children:W},W)})})]})]})}function dee(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":cE(i)}function n0({stem:e,branch:t}){const n=pA[e]??e,r=gA[t]??t,i=`${n}${r}`,a=iee[i];if(!a)return null;const s=aee(a.elem);return _.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${s} border border-white/10 text-nowrap`,title:`${a.label}  ${a.elem}`,children:a.label})}function fee(e){return Jy(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function ww(e){const t=Eu;return fee(t)?e==="classic"?t.Classic:t.Modern:e}function Ll({value:e,kind:t,charType:n,thinEum:r}){const{settings:i}=xr(),a=oa(e,t,i),s=n===""?t==="stem"?pA[e]??e:gA[e]??e:t==="stem"?QQ[e]??e:eee[e]??e,c=t==="stem"?tee.has(e):nee.has(e),d=r&&c?"font-thin":"font-bold";return _.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${a}
                  flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:_.jsx("span",{className:`text-[24px] md:text-2xl ${d}`,children:s})})}function hee(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||t===""||!/^\d{4}$/.test(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Wl(e){const t=Number(e.birthDay?.slice(0,4)),n=Number(e.birthDay?.slice(4,6))-1,r=Number(e.birthDay?.slice(6,8)),i=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(0,2)),a=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(2,4)),s=new Date(t,n,r,i,a,0,0);if(isNaN(s.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="";return Su(s,e.birthPlace?.lon??127.5,c)}function eb(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let s=0;s<n-1;s+=1){const c=e[s].at.getTime(),d=e[s+1].at.getTime();if(a>=c&&a<d)return s}return 0}const g5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},v5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mee=Object.fromEntries(Object.entries(g5).map(([e,t])=>[t,e])),pee=Object.fromEntries(Object.entries(v5).map(([e,t])=>[t,e]));function dM(e,t,n){return n===""?t==="stem"?g5[e]??e:v5[e]??e:t==="stem"?mee[e]??e:pee[e]??e}const gee=new Set(["","","","","","","","","",""]),vee=new Set(["","","","","","","","","","","",""]);function fM(e,t){return t==="stem"?gee.has(e):vee.has(e)}function yee(e){return typeof e=="object"&&e!==null}function bee(e){return yee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function _ee(e){const t=Eu;return bee(t)?e==="classic"?t.Classic:t.Modern:e}const xee=!1,hM=e=>e<10?`0${e}`:`${e}`;function wee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Qr(i,a,s,0,0),m=`${f.getFullYear()}${hM(f.getMonth()+1)}${hM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function See({data:e}){const t=Vm(e),n=A.useMemo(()=>{const N=wee(e);return Wl(N)},[e]),r=A.useMemo(()=>{const N=e.mingSikType??"/";return Et(n,N).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=Di(),s=A.useMemo(()=>eb(t,i),[t,i]),c=xr(N=>N.settings),{charType:d,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:y,sinsalBase:b,sinsalMode:x,sinsalBloom:T}=c,S=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,j=e.mingSikType??"/",D=b===""?Et(n,j).charAt(1):gt(n,S).charAt(1),O=N=>p?dn(r,N):null,M=N=>y?fn({baseBranch:D,targetBranch:N,era:_ee(x),gaehwa:!!T}):null;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((N,I)=>{const $=N.gz.charAt(0),B=N.gz.charAt(1),H=Eee(n,N.at),Z=I===s,z=dM($,"stem",d),F=dM(B,"branch",d),Q=fM($,"stem"),ee=fM(B,"branch"),ye=f&&Q?"font-thin":"font-bold",J=f&&ee?"font-thin":"font-bold",le=O(B),ae=M(B);return _.jsxs("div",{onClick:()=>a(N,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Z?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${N.gz}  ${N.at.toLocaleDateString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ci(r,{stem:$})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${oa($,"stem",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${ye}`,children:z})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${oa(B,"branch",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:F})}),m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ci(r,{branch:B})}),(p||y)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&_.jsx("div",{children:le}),y&&_.jsx("div",{children:ae})]})]})]},`${N.gz}-${I}`)})})]})}function Eee(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function tb(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",s=typeof n.birthMinute=="number";if(r||!(i||a||s)){const d=new Date(t);return d.setDate(d.getDate()+1),d.setHours(4,30,0,0),d}return t}const y5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},b5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Aee=Object.fromEntries(Object.entries(y5).map(([e,t])=>[t,e])),Tee=Object.fromEntries(Object.entries(b5).map(([e,t])=>[t,e]));function mM(e,t,n){return n===""?t==="stem"?y5[e]??e:b5[e]??e:t==="stem"?Aee[e]??e:Tee[e]??e}const kee=new Set(["","","","","","","","","",""]),Oee=new Set(["","","","","","","","","","","",""]);function pM(e,t){return t==="stem"?kee.has(e):Oee.has(e)}function jee(e){return typeof e=="object"&&e!==null}function Nee(e){return jee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Cee(e){const t=Eu;return Nee(t)?e==="classic"?t.Classic:t.Modern:e}function Sw(e){return new Date(e,6,2,12,0,0,0)}function Mee(e,t){return t-e+1}const Dee=!1,gM=e=>e<10?`0${e}`:`${e}`;function Pee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Qr(i,a,s,0,0),m=`${f.getFullYear()}${gM(f.getMonth()+1)}${gM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Ree({data:e,list:t,onSelect:n}){const r=xr($=>$.settings),{date:i,setFromEvent:a}=Di(),[s,c]=A.useState(()=>t);A.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const d=Wl(e),f=A.useMemo(()=>tb(e,d),[e,d]),m=A.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,y=A.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),B=Sw($),H=gt(B,p);return[{at:B,gz:H}]},[i,p]),b=t.length>0?t:s.length>0?s:y,x=A.useMemo(()=>[...b].sort(($,B)=>$.at.getTime()-B.at.getTime()),[b]),T=A.useMemo(()=>{if(x.length===0)return 0;const $=eb(x,i);return $<0?0:$>=x.length?x.length-1:$},[x,i]),[S,j]=A.useState(null);A.useEffect(()=>{j(null)},[i,x]);const D=S??T,O=A.useMemo(()=>{const $=Pee(e);return Wl($)},[e]),M=e.mingSikType??"/",N=A.useMemo(()=>Et(O,M).charAt(0),[O,M]),I=A.useMemo(()=>r.sinsalBase===""?Et(f,M).charAt(1):gt(f,p).charAt(1),[f,M,p,r.sinsalBase]);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:x.map(($,B)=>{const H=$.at.getFullYear(),Z=Sw(H),z=gt(Z,p),F=z.charAt(0),Q=z.charAt(1),ee=B===D,ye=mM(F,"stem",r.charType),J=mM(Q,"branch",r.charType),le=pM(F,"stem"),ae=pM(Q,"branch"),he=r.thinEum&&le?"font-thin":"font-bold",ne=r.thinEum&&ae?"font-thin":"font-bold",q=r.showSibiUnseong?dn(N,Q):null,K=r.showSibiSinsal?fn({baseBranch:I,targetBranch:Q,era:Cee(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,X=Mee(m,H);return _.jsxs("div",{onClick:()=>{if(B===0){j(B);return}j(B);const re=Sw(H),V=gt(re,p);a({at:re,gz:V},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(H)):Promise.resolve().then(()=>n(H)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${ee?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${z}  ${$.at.toLocaleDateString()}  ${X}`,children:[_.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[X,""]}),_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:H}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ci(N,{stem:F})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${oa(F,"stem",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${he}`,children:ye})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${oa(Q,"branch",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${ne}`,children:J})}),r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ci(N,{branch:Q})}),(r.showSibiUnseong||r.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&q&&_.jsx("div",{children:q}),r.showSibiSinsal&&K&&_.jsx("div",{children:K})]})]})]},`${H}-${$.gz||B}`)})})]})}const Lee=new Set(["","","","","","","","","","","",""]);function Iee(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...mo(new Date(n-1,5,15,12,0))??[],...mo(new Date(n,5,15,12,0))??[],...mo(new Date(n+1,5,15,12,0))??[]].map(d=>({name:String(d.name),date:new Date(d.date)})).sort((d,f)=>d.date.getTime()-f.date.getTime()).filter(d=>Lee.has(d.name));let a=i.findIndex((d,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const s=i[a],c=i[a+1];return{start:new Date(s.date.getFullYear(),s.date.getMonth(),s.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:s,next:c}}const _5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},x5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$ee=Object.fromEntries(Object.entries(_5).map(([e,t])=>[t,e])),Bee=Object.fromEntries(Object.entries(x5).map(([e,t])=>[t,e]));function vM(e,t,n){return n===""?t==="stem"?_5[e]??e:x5[e]??e:t==="stem"?$ee[e]??e:Bee[e]??e}const zee=new Set(["","","","","","","","","",""]),Uee=new Set(["","","","","","","","","","","",""]);function yM(e,t){return t==="stem"?zee.has(e):Uee.has(e)}function Hee(e){return typeof e=="object"&&e!==null}function Fee(e){return Hee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Gee(e){const t=Eu;return Fee(t)?e==="classic"?t.Classic:t.Modern:e}const qee=new Set(["","","","","","","","","","","",""]);function Yee(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Kee(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function Ew(e){return new Date(e,5,15,12,0,0,0)}function Wee(e){const n=[...mo(Ew(e-1))??[],...mo(Ew(e))??[],...mo(Ew(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,d)=>c.date.getTime()-d.date.getTime()).filter(c=>qee.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const s=[];for(let c=0;c<12;c++){const d=n[a+c];if(!d)break;const f=new Date(d.date),m=Yee(f);s.push({name:d.name,termAt:f,at00:m})}return s}const Vee=!1,bM=e=>e<10?`0${e}`:`${e}`;function Zee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Qr(i,a,s,0,0),m=`${f.getFullYear()}${bM(f.getMonth()+1)}${bM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Xee({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=xr(S=>S.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,s=Wl(e),c=A.useMemo(()=>tb(e,s),[e,s]),d=A.useMemo(()=>{const S=Zee(e);return Wl(S)},[e]),f=e.mingSikType??"/",m=A.useMemo(()=>Et(d,f).charAt(0),[d,f]),p=i.sinsalBase===""?Et(c,f).charAt(1):gt(c,a).charAt(1),y=A.useMemo(()=>t?Wee(t).map(j=>{const D=j.termAt,O=new Date(j.termAt.getTime()+1860*1e3),M=Mt(O,a);return{at:D,gz:M,term:j.name,termAt:j.termAt}}):[],[t,a]),{date:b,setFromEvent:x}=Di(),T=eb(y,b);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:y.map((S,j)=>{const D=S.gz.charAt(0),O=S.gz.charAt(1),M=`${Kee(S.at)}`,N=j===T,I=vM(D,"stem",i.charType),$=vM(O,"branch",i.charType),B=yM(D,"stem"),H=yM(O,"branch"),Z=i.thinEum&&B?"font-thin":"font-bold",z=i.thinEum&&H?"font-thin":"font-bold",F=i.showSibiUnseong?dn(m,O):null,Q=i.showSibiSinsal?fn({baseBranch:p,targetBranch:O,era:Gee(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return _.jsxs("div",{onClick:()=>{r(S.at);const ee=new Date(S.at),{start:ye}=Iee(ee);n?.(ye.getFullYear(),ye.getMonth()),x({at:ee,gz:Mt(ee,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${N?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${S.term}   ${S.gz}  ${S.termAt.toLocaleString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ci(m,{stem:D})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${oa(D,"stem",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${Z}`,children:I})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${oa(O,"branch",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${z}`,children:$})}),i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ci(m,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&F&&_.jsx("div",{children:F}),i.showSibiSinsal&&Q&&_.jsx("div",{children:Q})]}),_.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:S.term})]})]},`${S.term}-${S.at.toISOString()}`)})})]})}const w5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},S5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jee=Object.fromEntries(Object.entries(w5).map(([e,t])=>[t,e])),Qee=Object.fromEntries(Object.entries(S5).map(([e,t])=>[t,e]));function _M(e,t,n){return n===""?t==="stem"?w5[e]??e:S5[e]??e:t==="stem"?Jee[e]??e:Qee[e]??e}const ete=new Set(["","","","","","","","","",""]),tte=new Set(["","","","","","","","","","","",""]);function xM(e,t){return t==="stem"?ete.has(e):tte.has(e)}function nte(e){return typeof e=="object"&&e!==null}function rte(e){return nte(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function ite(e){const t=Eu;return rte(t)?e==="classic"?t.Classic:t.Modern:e}const ate=!1,wM=e=>e<10?`0${e}`:`${e}`;function ote(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=Qr(i,a,s,0,0),d=`${c.getFullYear()}${wM(c.getMonth()+1)}${wM(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}function ste(e,t){return new Date(e,t,15,12,0,0,0)}function Aw(e){const t=new Date(e);return t.setHours(23,59,0,0),t}const lte=new Set(["","","","","","","","","","","",""]);function E5(e){return[...mo(new Date(e-1,5,15,12,0))??[],...mo(new Date(e,5,15,12,0))??[],...mo(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime())}function cte(e){const t=E5(e.getFullYear()),n=t.filter(s=>lte.has(s.name));if(n.length<12){const s=t.findIndex(f=>f.date>e),c=t[Math.max(0,s-1)],d=t[Math.min(t.length-1,s)];return{start:new Date(c.date),end:new Date(d.date),cur:c,next:d}}let r=n.findIndex(s=>s.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}}function ute({data:e,year:t,month:n,selectedMonth:r}){const i=xr(H=>H.settings),a=i.ilunRule||"/",s=e?Wl(e):null,c=e&&s?tb(e,s):null,d=A.useMemo(()=>{const H=ote(e);return Wl(H)},[e]),f=A.useMemo(()=>d?Et(d,a).charAt(0):void 0,[d,a]),m=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,p=e&&c?i.sinsalBase===""?Et(c,a).charAt(1):gt(c,m).charAt(1):null,{date:y,setFromEvent:b}=Di(),x=A.useMemo(()=>ste(t,n),[t,n]),T=A.useMemo(()=>y?Aw(new Date(y)):null,[y]),S=A.useMemo(()=>r?Aw(r):null,[r]),j=A.useMemo(()=>T??S??x,[T,S,x]),{start:D,end:O,cur:M,next:N}=A.useMemo(()=>cte(j),[j]),I=A.useMemo(()=>{const H=[],Z=new Date(D);for(;Z<O;)H.push(new Date(Z)),Z.setDate(Z.getDate()+1);return H},[D,O]),$=A.useMemo(()=>{const H=E5(j.getFullYear()),Z=H.filter(F=>F.date>=D&&F.date<O),z=H.find(F=>F.date>=O);return z?[...Z,z]:Z},[j,D,O]),B=A.useMemo(()=>{const H=[];let Z=[];const z=new Date(D).getDay();for(let F=0;F<z;F++)Z.push(null);for(const F of I)Z.length===7&&(H.push(Z),Z=[]),Z.push(F);for(;Z.length<7;)Z.push(null);return H.push(Z),H},[I,D]);return _.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:_.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[M?.name?_.jsxs(_.Fragment,{children:[M.name," ~ ",N?.name??""]}):`${t} ${n}`,$.length>0&&_.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",$.map((H,Z)=>_.jsxs("span",{children:[H.name," ",dte(H.date),Z<$.length-1?"  ":""]},`${H.name}_${H.date.getTime()}_${Z}`)),"]"]})]})}),_.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(H=>_.jsx("div",{className:"py-1",children:H},H))}),_.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:B.map((H,Z)=>H.map((z,F)=>{if(!z)return _.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${Z}-${F}`);const Q=Aw(z),ee=new Date,ye=Q.getFullYear()===ee.getFullYear()&&Q.getMonth()===ee.getMonth()&&Q.getDate()===ee.getDate(),le=!!T&&Q.getFullYear()===T.getFullYear()&&Q.getMonth()===T.getMonth()&&Q.getDate()===T.getDate()||!T&&ye,ae=AG(Q,a),he=ae.charAt(0),ne=ae.charAt(1),q=_M(he,"stem",i.charType),K=_M(ne,"branch",i.charType),X=i.thinEum&&xM(he,"stem")?"font-thin":"font-bold",re=i.thinEum&&xM(ne,"branch")?"font-thin":"font-bold",V=!!f&&i.showSipSin,W=!!f&&i.showSibiUnseong,ue=!!f&&p!=null&&i.showSibiSinsal,te=V?ci(f,{stem:he}):"",Y=V?ci(f,{branch:ne}):"",se=W?dn(f,ne):"",Se=ue?fn({baseBranch:p,targetBranch:ne,era:ite(i.sinsalMode),gaehwa:!!i.sinsalBloom}):"",ce=$.find(Ne=>Ne.date.getFullYear()===Q.getFullYear()&&Ne.date.getMonth()===Q.getMonth()&&Ne.date.getDate()===Q.getDate());return _.jsxs("div",{onClick:()=>b({at:Q},""),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${le?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${ae} (${Q.toLocaleDateString()})`,children:[_.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[_.jsx("span",{children:Q.getDate()}),ce&&_.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:ce.name})]}),V&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:te}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${oa(he,"stem",i)}`,children:_.jsx("span",{className:X,children:q})}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${oa(ne,"branch",i)}`,children:_.jsx("span",{className:re,children:K})}),V&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Y}),(W||ue)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[W&&se&&_.jsx("div",{children:se}),ue&&Se&&_.jsx("div",{children:Se})]})]},z.toISOString())}))})]})}function dte(e){if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const s of t)s.type==="month"&&(n=s.value),s.type==="day"&&(r=s.value),s.type==="hour"&&(i=s.value),s.type==="minute"&&(a=s.value);return`${n}/${r} ${i}:${a}`}function SM(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const s=ar(a,315);let c=a;new Date<s&&(c=a-1);const f=gt(new Date(c,1,10));i.push({at:s,gz:f})}return i}function fte({data:e}){const t=Vm(e),[n,r]=A.useState(null),[i,a]=A.useState(null),[s,c]=A.useState("il"),[d,f]=A.useState(null);A.useEffect(()=>{if(!t.length)return;const x=new Date,T=t.findIndex((S,j)=>{const D=t[j+1]?.at;return x>=S.at&&(!D||x<D)});T!==-1&&r(T)},[t]),A.useEffect(()=>{if(n===null)return;const x=t[n],T=t[n+1];if(!x)return;const S=SM(x,T),j=new Date;S.findIndex((O,M)=>{const N=S[M+1]?.at;return j>=O.at&&(!N||j<N)})!==-1&&a({year:j.getFullYear(),month:j.getMonth()})},[n,t]);const m=mA(e),{date:p}=Di(),y=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),b=A.useMemo(()=>{if(!m?.dae?.gz)return[];const x=t.findIndex((j,D)=>{const O=t[D+1]?.at;return m.dae.at>=j.at&&(!O||m.dae.at<O)});if(x===-1)return[];const T=t[x],S=t[x+1];return SM(T,S)},[t,m?.dae]);return _.jsxs("div",{className:"w-full space-y-4",children:[_.jsx(See,{data:e}),s==="se"||s==="wol"||s==="il"?_.jsx(Ree,{data:e,list:b,onSelect:()=>{c("wol")}}):null,s==="wol"||s==="il"?_.jsx(Xee,{data:e,activeYear:y,onSelect:(x,T)=>{a({year:x,month:T}),c("il")},onSelectMonth:f}):null,s==="il"&&i&&_.jsx(ute,{data:e,year:i.year,month:i.month+1,hourTable:e?.mingSikType,selectedMonth:d})]})}const hte=new Set(fG),mte=new Set(hG);function EM(e){return typeof e=="string"&&e.length>=2&&hte.has(e[0])&&mte.has(e[1])}function Ki(e,...t){if(EM(e))return e;for(const n of t)if(EM(n))return n;return""}const pte={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22},A5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function AM(e){return!!e&&Pa..includes(e)}function vte(e){return A5[e]??e}function TM(e){return gte[e]??e}function yte(e){if(AM(e))return e;const t=A5[e];return AM(t)?t:""}function bte(e){return typeof e=="object"&&e!==null&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function _te(e){const t=Eu;return bte(t)?e==="classic"?t.Classic??t.classic:t.Modern??t.modern:e}function r0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function xte({data:e}){const t=xr(Z=>Z.settings),{manualHour:n}=Gm(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:s,sinsalBloom:c}=t,{date:d}=Di(),f=A.useMemo(()=>hA(e),[e]),m=A.useMemo(()=>Qy(f),[f]),p=A.useMemo(()=>dA(f,"/"),[f]),y=A.useMemo(()=>yte(p.day?.charAt(0)??""),[p.day]),b=!e.birthTime||e.birthTime==="",x=A.useMemo(()=>f5(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),T=A.useMemo(()=>m5(x,p.day,e.dir??"forward",""),[x,p.day,e.dir]),S=A.useMemo(()=>Wm(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),j=A.useMemo(()=>p5(S,p.year,e.dir??"forward","",m),[S,p.year,e.dir,m]),D=A.useMemo(()=>{const Z=x?.events?.[0];return Z?{at:Z.at,from:Ki(p.hour),to:Ki(Z.gz)}:null},[x?.events,p.hour]),O=A.useMemo(()=>{const Z=S?.events?.[0];return S?.firstChange?{at:S.firstChange,from:Ki(p.month),to:Ki(Z?.gz??p.month)}:null},[S?.firstChange,S?.events,p.month]),M=A.useMemo(()=>{const Z=b?n?n.stem+n.branch:"":Ki(r0(x.events,d)?.gz,p.hour);let z;if(b&&n){const F=d.getFullYear(),Q=d.getMonth(),ee=d.getDate(),ye=pte[n.branch]??0,J=new Date(F,Q,ee,ye,0),le=Et(J,e.mingSikType??"/");z=Ki(le,p.day)}else z=Ki(r0(T.events,d)?.gz,p.day);return{si:Z,il:z,wl:Ki(r0(S.events,d)?.gz,p.month),yn:Ki(r0(j.events,d)?.gz,p.year)}},[d,x.events,T.events,S.events,j.events,p,b,n,e.mingSikType]),N=A.useMemo(()=>({si:Ki($a(d,"/")),il:Ki(Et(d,"/")),wl:Ki(Mt(d)),yn:Ki(gt(d))}),[d]),I=A.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=A.useMemo(()=>_te(s),[s]),B=Z=>{if(!Z)return{unseong:"",shinsal:""};const z=vte(y),F=TM(Z.charAt(1)),Q=TM(I);return{unseong:r&&dn(z,F)||"",shinsal:i&&fn({baseBranch:Q,targetBranch:F,era:$,gaehwa:!!c})||""}},H=(Z,z,F="myoun")=>{const Q=z,{unseong:ee,shinsal:ye}=z?B(z):{unseong:"",shinsal:""},J=F==="myoun"&&b&&(Z===""||Z==="");return _.jsx(Nd,{label:Z,gz:Q,dayStem:y,settings:t,unseongText:z?ee:"",shinsalText:z?ye:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:J},`${F}-${Z}`)};return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[_.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:_.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",rm(m),")"]})]})}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[H("",M.si,"myoun"),H("",M.il,"myoun"),H("",M.wl,"myoun"),H("",M.yn,"myoun")]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[H("",N.si,"live"),H("",N.il,"live"),H("",N.wl,"live"),H("",N.yn,"live")]})]})]}),_.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[_.jsx("div",{className:"font-semibold",children:"  "}),_.jsxs("div",{children:[":"," ",D?`${rm(D.at)} (${D.from}  ${D.to})`:" "]}),_.jsxs("div",{children:[":"," ",O?`${rm(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const kM=["","","","","","","","","",""],wte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ste={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ete={:"",:"",:"",:"",:""},Ate={:"",:"",:"",:"",:""},Tte={:"",:"",:"",:"",:""},kte={:"",:"",:"",:"",:""};function Ote(e,t){switch(e){case"":return t;case"":return Ete[t];case"":return Tte[t];case"":return kte[t];case"":return Ate[t];default:return t}}function jte({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:s}){const c=i,d=a,f=c/2,m=d/2,p=Math.min(c,d)*.37,y=A.useMemo(()=>{const O=(r??"").charAt(0);return Ste[O]??null},[r]),b=O=>Math.PI/2+2*-Math.PI*O/5,x=A.useMemo(()=>e.map((O,M)=>({...O,x:f+p*Math.cos(b(M)),y:m-p*Math.sin(b(M))})),[e,f,m,p]),[T,S]=A.useState(0),j=A.useRef(""),D=A.useMemo(()=>{const O=e.map(I=>`${I.name}:${I.value}`).join(","),M=kM.map(I=>`${I}:${t?.[I]??0}`).join(","),N=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[s??"",O,M,N,r??""].join("||")},[s,e,t,r,n]);return A.useEffect(()=>{D!==j.current&&(j.current=D,S(O=>O+1))},[D]),_.jsx("div",{className:"w-full",children:_.jsxs("svg",{width:c,height:d,className:"mx-auto pt-2",children:[x.map((O,M)=>{const N=x[(M+2)%5];return _.jsx("line",{x1:O.x,y1:O.y,x2:N.x,y2:N.y,stroke:"#94a3b8",strokeWidth:1},`line-${M}`)}),x.map((O,M)=>{const N=x[(M+1)%5],I=(O.x+N.x)/2,$=(O.y+N.y)/2,B=I-f,H=$-m,Z=1.5,z=f+B*Z,F=m+H*Z;return _.jsx("path",{d:`M${O.x},${O.y} Q${z},${F} ${N.x},${N.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${M}`)}),_.jsx("defs",{children:_.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:_.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),x.map(O=>{const M=O.name,N=y?Ote(M,y):null,I=N?kM.filter($=>wte[$]===N).map($=>[$,t?.[$]??0]):[];return _.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[_.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),_.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),I.map(([$,B],H)=>_.jsxs("text",{textAnchor:"middle",dy:8+H*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(B)]},$))]},`${O.name}-${O.value}`)})]},T)})}const Nte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function vA(e){return Math.max(0,Math.min(100,e))}function T5(e){const t=vA(e);return Nte.find(r=>t>=r.min&&t<r.max)?.name??""}const Cte=[10,20,35,45,55,65,80];function Mte({value:e}){const t=A.useMemo(()=>vA(e),[e]),n=A.useMemo(()=>T5(t),[t]);return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:""}),_.jsx("span",{children:""}),_.jsx("span",{children:""})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[Cte.map(r=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}const Es=["","","",""],i0={year:0,month:1,day:2,hour:3},Tw="",Dte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},k5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ke(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Dte[r[1]]??r[1],a=k5[r[2]]??r[2];return`${i}${a}`}return""}const Iv=e=>e&&e.length>=1?e[0]:"",As=e=>e&&e.length>=2?e[1]:"",yA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],bA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],_A=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],xA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],wA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],SA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],EA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],AA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],OM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],TA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],kA=[{pair:["",""],label:""}],Pte=new Set(["","","",""]),vm=new Set(["","","",""]),nb=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],rb=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}];function Hn(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function cn(e,t){e.includes(t)||e.push(t)}const Hc=e=>[...e].sort((t,n)=>t-n).map(t=>Es[t]).join("X"),kw=(e,t)=>e===0&&t===3||e===3&&t===0;function jM(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),s=Math.max(r,i);a===0&&s===3||n.push([a,s])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),s=Math.abs(i[0]-i[1]);return a!==s?a-s:0})}function Rte(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],s=n[i];a===0&&s===3||t.push([a,s])}return t}const O5=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Lte(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Ite=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function j5(e){for(const t of Ite){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Lte(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=N5(e.jijiHyeong),e}const NM=["","","",""];function N5(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function OA(e,t={}){const{emitGanjiAmhap:n=!0}=t,r=e.map(Ke),i=r.map(y=>Iv(y)),a=r.map(y=>As(y)),c={title:r.map((y,b)=>`${y}${["","","",""][b]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},d=(y,b,x,T)=>{const S=i.flatMap((D,O)=>D===y?[O]:[]),j=i.flatMap((D,O)=>D===b?[O]:[]);for(const D of S)for(const O of j)D!==O&&Math.abs(D-O)===1&&cn(T,`#${Hc([D,O])}_${x}`)};yA.forEach(({pair:[y,b],label:x})=>d(y,b,x,c.cheonganHap)),bA.forEach(({pair:[y,b],label:x})=>d(y,b,x,c.cheonganChung));const f=y=>{const b=new Set,x=[];for(const T of y)for(let S=0;S<a.length;S++)if(a[S]===T&&!b.has(S)){b.add(S),x.push(S);break}return x};nb.forEach(({name:y,members:b,wang:x})=>{const T=b.filter(j=>a.includes(j)),S=new Set(T).size;if(S===3){const j=f(b);j.length===3&&cn(c.jijiSamhap,`#${Hc(j)}_${y}`)}else if(S===2){if(!T.includes(x))return;const[j,D]=T,O=a.flatMap(($,B)=>$===j?[B]:[]),M=a.flatMap(($,B)=>$===D?[B]:[]),N=jM(O,M),I=N.length>1;for(const[$,B]of N){const H=kw($,B),Z=`#${Hc([$,B])}_${j}${D}${I?"":H?`_${Tw}`:""}`;cn(c.jijiSamhap,Z)}}}),rb.forEach(({name:y,members:b})=>{const x=b.filter(S=>a.includes(S));if(new Set(x).size===3){const S=f(b);S.length===3&&cn(c.jijiBanghap,`#${Hc(S)}_${y}`)}});const m=(y,b,x,T)=>{const S=a.flatMap((M,N)=>M===y?[N]:[]),j=a.flatMap((M,N)=>M===b?[N]:[]),D=jM(S,j),O=D.length>1;for(const[M,N]of D){const I=kw(M,N),$=`#${Hc([M,N])}_${x}${O?"":I?`_${Tw}`:""}`;cn(T,$)}};if(_A.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiYukhap)),xA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiChung)),wA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiPa)),SA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHae)),EA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiWonjin)),AA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiGwimun)),[["","",""],["","",""]].forEach(y=>{const b=[],x=new Set;if(y.forEach(T=>{a.forEach((S,j)=>{S===T&&(b.push(j),x.add(T))})}),x.size===3){const T=Array.from(new Set(b)).sort((S,j)=>S-j);cn(c.jijiHyeong,`#${Hc(T)}_${y.join("")}`)}}),TA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHyeong)),kA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHyeong)),["","","",""].forEach(y=>{const b=a.flatMap((S,j)=>S===y?[j]:[]),x=Rte(b),T=x.length>1;for(const[S,j]of x){const D=kw(S,j),O=`#${Hc([S,j])}_${y}${y}${T?"":D?`_${Tw}`:""}`;cn(c.jijiHyeong,O)}}),[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}].forEach(({pair:[y,b],label:x})=>m(y,b,x,c.amhap)),n)for(let y=0;y<4;y++){const b=r[y]??"";if(b.length<2)continue;const x=`${b[0]}${b[1]}`;vm.has(x)&&cn(c.ganjiAmhap,`#${O5(Es[y])}_${x}`)}return c.jijiHyeong=N5(c.jijiHyeong),j5(c)}function Zr(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Ke(e.natal[0]??""),Ke(e.natal[1]??""),Ke(e.natal[2]??""),Ke(e.natal[3]??"")],a=[Ke(e.daewoon??""),Ke(e.sewoon??""),Ke(e.wolwoon??"")].some(m=>m.length>=2),s={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(n&&a)for(let m=0;m<4;m++){const p=r[m]??"";if(p.length<2)continue;const y=`${p[0]}${p[1]}`;vm.has(y)&&cn(s.ganjiAmhap,`#${O5(Es[m])}_${y}`)}const c=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,f=!1;for(const[m,p]of c){if(!p)continue;const y=Ke(p);if(!y||y.length<2)continue;const b=Iv(y),x=As(y);{const j=`${b}${x}`;vm.has(j)&&cn(s.ganjiAmhap,`#${m}_${j}`)}for(let j=0;j<4;j++){const D=r[j]??"";if(D.length<2)continue;const O=Es[j],M=Iv(D),N=As(D),I=Hn(yA,b,M);I&&cn(s.cheonganHap,`#${m}X${O}_${I}`);const $=Hn(bA,b,M);$&&cn(s.cheonganChung,`#${m}X${O}_${$}`);const B=Hn(_A,x,N);B&&cn(s.jijiYukhap,`#${m}X${O}_${B}`);const H=Hn(xA,x,N);H&&cn(s.jijiChung,`#${m}X${O}_${H}`);const Z=Hn(wA,x,N);Z&&cn(s.jijiPa,`#${m}X${O}_${Z}`);const z=Hn(SA,x,N);z&&cn(s.jijiHae,`#${m}X${O}_${z}`);const F=Hn(EA,x,N);F&&cn(s.jijiWonjin,`#${m}X${O}_${F}`);const Q=Hn(AA,x,N);Q&&cn(s.jijiGwimun,`#${m}X${O}_${Q}`);const ee=Hn(TA,x,N);if(ee)cn(s.jijiHyeong,`#${m}X${O}_${ee}`);else{const le=Hn(kA,x,N);le?cn(s.jijiHyeong,`#${m}X${O}_${le}`):x===N&&Pte.has(x)&&cn(s.jijiHyeong,`#${m}X${O}_${x}${N}`)}const J=Hn([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],x,N);J&&cn(s.amhap,`#${m}X${O}_${J}`)}const T=r.map(j=>{const D=As(j??"");return k5[D]??D});for(const j of nb){if(!j.members.includes(x))continue;const D=j.members.filter(M=>M!==x),O=T.map((M,N)=>({b:M,pos:Es[N]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,N]=O.map(I=>I.pos).sort((I,$)=>["","","",""].indexOf(I)-["","","",""].indexOf($));cn(s.jijiSamhap,`#${m}X${M}X${N}_(${j.name})`)}}const S=[...r.map((j,D)=>({b:As(j),pos:Es[D]}))];for(const j of rb){const D=S.filter(O=>j.members.includes(O.b));if(new Set(D.map(O=>O.b)).size===3){const O=D.map(M=>M.pos).join("X");cn(s.jijiBanghap,`#${O}_(${j.name})`)}}for(const j of OM){if(!j.members.includes(x))continue;const D=j.members.filter(M=>M!==x),O=T.map((M,N)=>({b:M,pos:Es[N]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,N]=O.map(I=>I.pos).sort((I,$)=>["","","",""].indexOf(I)-["","","",""].indexOf($));cn(s.jijiHyeong,`#${m}X${M}X${N}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(f=!0)}}}{const m=[],p=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,b]of p){const x=Ke(b??"");x.length>=2&&m.push({kind:y,b:As(x)})}if(m.length>=2){const y=r.map((b,x)=>({pos:Es[x],b:As(b)}));for(const b of OM)for(let x=0;x<m.length;x++)for(let T=x+1;T<m.length;T++){const S=m[x],j=m[T];for(const D of y){const O=new Set([D.b,S.b,j.b]);if(O.size===3&&b.members.every(M=>O.has(M))){const M=[S.kind,j.kind].sort((I,$)=>NM.indexOf(I)-NM.indexOf($)).join("X"),N=`${D.pos}X${M}`;cn(s.jijiHyeong,`#${N}_${b.name}`),b.name===""&&(d=!0),b.name===""&&(f=!0)}}}}}return(d||f)&&(s.jijiHyeong=s.jijiHyeong.filter(m=>!(d&&/(||)/.test(m)||f&&/(||)/.test(m)))),j5(s)}function $te(e,t){const r=e.map(Ke).map(d=>As(d)),i=i0.month,a=r[i],s=d=>{const f=[];for(let m=0;m<4;m++){const p=r[m];p&&d.has(p)&&f.push(m)}return f},c=d=>{const f=[...d].sort((m,p)=>m-p);return f.length===3&&f[0]+1===f[1]&&f[1]+1===f[2]};for(const d of nb){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?10:8:t[d.out]+=5:t[d.out]+=3}if(m.length===2&&m.includes(i)){const p=m[0]===i?m[1]:m[0],y=a===d.wang;p===i0.day&&y?t[d.out]+=8:p===i0.year&&y?t[d.out]+=6:p===i0.hour&&(t[d.out]+=y?4:2)}}for(const d of rb){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?8:6:t[d.out]+=4:t[d.out]+=2}}}function CM(e){const t=["","","",""],n=e.map(Ke),r=n.map(c=>Iv(c)),i=n.map(c=>As(c)),a=new Map,s=new Map;for(let c=0;c<4;c++){const d=r[c],f=i[c];d.includes(d)&&a.set(d,[...a.get(d)??[],c]),f.includes(f)&&s.set(f,[...s.get(f)??[],c])}return{stemsByPos:r,brsByPos:i,stemPos:a,brPos:s,names:t}}function Qt(e){return Es[e]}function Vr(e,t){t&&(e.includes(t)||e.push(t))}function Bte(e,t){const n=CM(e),r=CM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]};for(let c=0;c<4;c++){const d=n.stemsByPos[c],f=n.brsByPos[c];for(let m=0;m<4;m++){const p=r.stemsByPos[m],y=r.brsByPos[m],b=Hn(yA,d,p);b&&Vr(i.,`${Qt(c)}X${Qt(m)} ${b}`);const x=Hn(bA,d,p);x&&Vr(i.,`${Qt(c)}X${Qt(m)} ${x}`);const T=Hn(_A,f,y);T&&Vr(i.,`${Qt(c)}X${Qt(m)} ${T}`);const S=Hn(xA,f,y);S&&Vr(i.,`${Qt(c)}X${Qt(m)} ${S}`);const j=Hn(wA,f,y);j&&Vr(i.,`${Qt(c)}X${Qt(m)} ${j}`);const D=Hn(SA,f,y);D&&Vr(i.,`${Qt(c)}X${Qt(m)} ${D}`);const O=Hn(EA,f,y);O&&Vr(i.,`${Qt(c)}X${Qt(m)} ${O}`);const M=Hn(AA,f,y);M&&Vr(i.,`${Qt(c)}X${Qt(m)} ${M}`);const I=Hn([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],f,y);I&&Vr(i.,`${Qt(c)}X${Qt(m)} ${I}`);const $=`${d}${y}`,B=`${p}${f}`;vm.has($)&&Vr(i.,`${Qt(c)}X${Qt(m)} ${$}`),vm.has(B)&&Vr(i.,`${Qt(m)}X${Qt(c)} ${B}`);const H=Hn(TA,f,y);if(H)Vr(i.,`${Qt(c)}X${Qt(m)} ${H}`);else{const Z=Hn(kA,f,y);Z&&Vr(i.,`${Qt(c)}X${Qt(m)} ${Z}`)}}}const a=new Set(n.brsByPos.filter(Boolean)),s=new Set(r.brsByPos.filter(Boolean));for(const c of nb){if(c.members.every(m=>a.has(m)||s.has(m))){const m=c.members.filter(y=>a.has(y)).length,p=c.members.filter(y=>s.has(y)).length;m>=1&&p>=1&&Vr(i.,`${c.name}`)}const f=c.members.filter(m=>a.has(m)||s.has(m));if(f.length===2&&f.includes(c.wang)){const m=f.some(y=>a.has(y)),p=f.some(y=>s.has(y));if(m&&p){const[y,b]=f.sort(),x=n.brPos.get(y)?.[0]??n.brPos.get(b)?.[0],T=r.brPos.get(y)?.[0]??r.brPos.get(b)?.[0];x!=null&&T!=null&&Vr(i.,`${Qt(x)}X${Qt(T)} ${y}${b}`)}}}for(const c of rb)if(c.members.every(f=>a.has(f)||s.has(f))){const f=c.members.filter(p=>a.has(p)).length,m=c.members.filter(p=>s.has(p)).length;f>=1&&m>=1&&Vr(i.,`${c.name}`)}return Object.keys(i).forEach(c=>i[c].sort()),i}function Ph(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function no({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const s=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],d=s?c.filter(p=>p!=="#"):c,m=d.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[_.jsx("div",{className:m,children:e}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ph(p,"natal"),children:p},`natal-${y}`)),n.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ph(p,"dae"),children:p},`dae-${y}`)),r.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ph(p,"se"),children:p},`se-${y}`)),i.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ph(p,"wol"),children:p},`wol-${y}`)),a.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ph(p,"il"),children:p},`il-${y}`))]})]})}function uE(e){return Array.isArray(e)?e:[]}function a0(e,t){const n=new Set(uE(e));return uE(t).filter(i=>!n.has(i))}function zte({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const s=OA(e),c=Zr({natal:e}),d=t?Zr({natal:e,daewoon:t}):c,f=n?Zr({natal:e,daewoon:t,sewoon:n}):d,m=r?Zr({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?Zr({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,y=T=>({natal:uE(s[T]),dae:a0(c[T],d[T]),se:a0(d[T],f[T]),wol:a0(f[T],m[T]),il:a0(m[T],p[T])}),b={cheonganHap:y("cheonganHap"),cheonganChung:y("cheonganChung"),jijiSamhap:y("jijiSamhap"),jijiBanghap:y("jijiBanghap"),jijiYukhap:y("jijiYukhap"),amhap:y("amhap"),ganjiAmhap:y("ganjiAmhap"),jijiChung:y("jijiChung"),jijiHyeong:y("jijiHyeong"),jijiPa:y("jijiPa"),jijiHae:y("jijiHae")},x=T=>a===""?{natal:T.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:T.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:""}),_.jsx(no,{label:"",...x(b.cheonganHap)}),_.jsx(no,{label:"",...x(b.cheonganChung)}),_.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),_.jsx(no,{label:"",...x(b.jijiSamhap)}),_.jsx(no,{label:"",...x(b.jijiBanghap)}),_.jsx(no,{label:"",...x(b.jijiYukhap)}),_.jsx(no,{label:"",...x(b.amhap)}),_.jsx(no,{label:"",...x(b.ganjiAmhap)}),_.jsx(no,{label:"",...x(b.jijiChung)}),_.jsx(no,{label:"",...x(b.jijiHyeong)}),_.jsx(no,{label:"",...x(b.jijiPa)}),_.jsx(no,{label:"",...x(b.jijiHae)})]})}const Ute={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Hte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function C5(e){const t=Hte[e]??"";return Ute[t]}const M5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Fte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zm={:"",:"",:"",:"",:""},ym={:"",:"",:"",:"",:""},gf={:"",:"",:"",:"",:""},Gte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],qte={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}};function jA(e){return Math.max(0,Math.min(100,e))}function Xd(e,t,n){return Math.max(t,Math.min(n,e))}function Yte(e){const t=jA(e);return Gte.find(n=>t>=n.min&&t<n.max)?.name??""}function Kte(e){const t=e?.[2]?.charAt(0)??"";return M5[t]??null}function Wte(e){return(e?.[1]?.charAt(1)??"")||null}function ib(e){const t=Object.entries(gf);for(const[n,r]of t)if(r===e)return n;return""}function Vte(e){return e?{peer:e,resource:ym[e],leak:Zm[e],wealth:gf[e],officer:ib(e)}:null}function Zte(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=M5[r],s=Fte[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t}function Xte(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={:0,:0,:0,:0,:0};return Object.keys(e).forEach(r=>{n[r]=e[r]/t*100}),n}function Jte(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return jA((n("")+n(""))/t*100)}function Qte(e,t){return!e||!t?null:t===e?"":Zm[e]===t?"":gf[e]===t?"":ib(e)===t?"":ym[e]===t?"":null}const Ow=24,ene=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function tne(e){for(const[t,n]of ene)if(e>=t)return n;return 1}const $v=20,MM=(e,t)=>Xd(($v-(t[e]??0))/$v,0,1),DM=(e,t)=>Xd(((t[e]??0)-$v)/$v,0,1);function nne(e,t,n,r){const i=Qte(e,n);if(!e||!i)return 0;const a=Xd((50-t)/50,0,1),s=Xd((t-50)/50,0,1),c=MM(n,r),d=DM(n,r),f=MM(e,r),m=DM(e,r),p=6.5;let y=0;if(a>0)switch(i){case"":y=+(.3+.4*f+.15*c)*a;break;case"":y=+(.18+.45*f)*a;break;case"":y=-(.08+.2*(1-c)+.1*m)*a;break;case"":y=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":y=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(s>0)switch(i){case"":y=-(.25+.25*(1-c)+.2*m)*s;break;case"":y=-(.28+.2*m)*s;break;case"":y=+(.18+.2*c+.15*m)*s;break;case"":y=+(.22+.25*c+.1*m)*s;break;case"":y=+(.2+.2*c)*s;break}else switch(i){case"":y=.08*(f+c);break;case"":y=.05*f-.03*m;break;case"":y=.02*c-.02*d;break;case"":y=.01*c-.06*d;break;case"":y=-.05*(1-c);break}return Math.round(p*y*10)/10}function rne(e,t,n,r){const i=["","",""].includes(t),a=["","","",""].includes(t),s={:0,:0,:0,:0,:0};if(i){const c=Zm[e],d=gf[e],f=ib(e);s[c]+=28,s[d]+=22,s[f]+=20,r.get(c)?.push(":    ()"),r.get(d)?.push(":     "),r.get(f)?.push(":     ")}if(a){const c=ym[e],d=e;s[c]+=28,s[d]+=22,r.get(c)?.push(":     "),r.get(d)?.push(":     ")}return s}function PM(e,t){if(!e)return{:0,:0,:0,:0,:0};const n=qte[e]??{temp:"mild",wet:"normal"},r={:0,:0,:0,:0,:0};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function RM(e,t){const n={:0,:0,:0,:0,:0},r=["","","","",""];for(const i of r){const a=gf[i],s=Math.max(0,(e[i]??0)-(e[a]??0));if(s<=0)continue;const c=Zm[i],d=Math.round(s*.35);d>0&&(n[c]+=d,t.get(c)?.push(`: ${i}${a} `))}return n}function LM(e,t){const n={:0,:0,:0,:0,:0},r=Object.entries(e),i=Math.min(...r.map(([,s])=>s)),a=r.filter(([,s])=>s<=Math.max(6,i));for(const[s]of a)n[s]+=12,t.get(s)?.push(":  ");return n}function IM(e,t){const n=Kte(e),r=Wte(e),i=Zte(e),a=Xte(i);let s=Jte(t);if(s==null)if(!n)s=50;else{const z=n,F=ym[n],Q=Object.values(i).reduce((ee,ye)=>ee+ye,0)||1;s=jA(((i[z]??0)+(i[F]??0))/Q*100)}const c=Yte(s),d={:0,:0,:0,:0,:0},f=new Map(["","","","",""].map(z=>[z,[]]));if(n){const z=rne(n,c,i,f);Object.keys(d).forEach(F=>{d[F]+=z[F]??0})}const m=PM(r,f);Object.keys(d).forEach(z=>{d[z]+=m[z]??0});const p=RM(i,f);Object.keys(d).forEach(z=>{d[z]+=p[z]??0});const y=LM(i,f);Object.keys(d).forEach(z=>{d[z]+=y[z]??0});const b=Vte(n),x={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const z of t)x[z.name]=z.value;if(s>=45&&s<=55&&b){const z=x.>=30||x.>=Math.max(x.,x.,x.,x.)+5;s<=50?(d[b.resource]+=14,f.get(b.resource)?.push(": -"),d[b.peer]+=10,f.get(b.peer)?.push(": -"),d[b.leak]+=6,f.get(b.leak)?.push(": -"),d[b.wealth]+=3,f.get(b.wealth)?.push(": -"),z&&b.officer&&(d[b.officer]=Math.round(d[b.officer]*.8*10)/10,f.get(b.officer)?.push(":   "))):(d[b.leak]+=14,f.get(b.leak)?.push(": -"),d[b.wealth]+=10,f.get(b.wealth)?.push(": -"),b.officer&&(d[b.officer]+=6,f.get(b.officer)?.push(": -")),d[b.resource]+=3,f.get(b.resource)?.push(": -"))}["","","","",""].forEach(z=>{const F=nne(n,s,z,a);d[z]=Xd(Math.round((d[z]+F)*10)/10,0,999)});const S=s<50;["","","","",""].forEach(z=>{const F=a[z]??0,Q=S&&n===z;if(F>=Ow&&!Q){const ee=tne(F);d[z]=Math.round(d[z]*ee*10)/10;const ye=Math.min(14,Math.max(0,Math.ceil((F-Ow)*.5)));ye>0&&(d[z]=Xd(d[z]-ye,0,999)),f.get(z)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const z=Zm[n],F=gf[n],Q=ib(n),ee=n,ye=ym[n];j[z].push(""),j[F].push(""),j[Q].push(""),j[ee].push(""),j[ye].push("")}const D={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=z=>{const F=a[z]??0;return F>=Ow&&!(S&&n===z)?F>=55?4:F>=45?3:2:D[z]?0:1},M=PM(r,new Map),N=RM(i,new Map),I=LM(i,new Map),$=Object.keys(d).map(z=>({element:z,score:Math.round(d[z]*10)/10,via:ine(z,M,N,I),reasons:(f.get(z)??[]).slice(),tenGodHints:j[z]})).sort((z,F)=>{const Q=O(z.element),ee=O(F.element);return Q!==ee?Q-ee:F.score!==z.score?F.score-z.score:z.element.localeCompare(F.element)}),B=ane(c,M,N,I),H={:0,:0,:0,:0,:0},Z=t?t.reduce((z,F)=>(z[F.name]=F.value,z),{...H}):void 0;return{chosenType:B,ordered:$,debug:{band:c,overallPct:s,elementScore:i,tenGodTotals:Z,monthBranch:r??void 0}}}function ine(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function ane(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),s=a(t),c=a(n),d=a(r);return s>Math.max(c,d)?"":c>=d?"":""}const one=Object.fromEntries(la..map((e,t)=>[e,fi[t]])),sne=Object.fromEntries(fi.map((e,t)=>[e,la.[t]])),lne=Object.fromEntries(la..map((e,t)=>[e,Mi[t]])),cne=Object.fromEntries(Mi.map((e,t)=>[e,la.[t]])),une=e=>one[e]??e,dne=e=>lne[e]??e,fne=e=>sne[e]??e,hne=e=>cne[e]??e;function mne(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?une(n):fne(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function NA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?dne(n):hne(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const pne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},D5={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},vne={...D5,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},$M=mne(pne),BM=NA(gne);NA(D5);NA(vne);const yne=["","","","",""],Nn={2:4,1:3,3:2,0:1};function o0(e,t,n="classic"){const r=Xi(t),i=un(t),a=(n==="hgc"?Hy:Uy)[i]??[];return[r,...a].includes(e)}const Md={1:4,2:3,0:2,3:1},P5=new Set(Object.keys(Ly)),R5=new Set(Object.keys(w2)),bne=e=>e.slice(0,1),_ne=e=>e.slice(-1);function js(e){return Ry.has(e)?e:P5.has(e)?Ly[e]??e:e}function ti(e){return x2.has(e)?e:R5.has(e)?w2[e]??e:e}function Xi(e){return js(bne(e))}function un(e){return ti(_ne(e))}const je={year:0,month:1,day:2,hour:3};function jw(e,t){const n=ti(e),r=[je.day,je.month,je.hour,je.year];for(const i of r)if(un(t[i])===n)return{pos:i,weight:Nn[i]??0};return null}function CA(e,t,n){return un(t[n])===ti(e)?{pos:n,weight:Nn[n]}:null}function xne(e,t){const n=js(e),r=[je.day,je.month,je.hour,je.year];for(const i of r)if(Xi(t[i])===n)return{pos:i,weight:Nn[i]??0};return null}const wne=/^#(|||)X\1_/,Sne=e=>wne.test(e);function zM(e){const t=new Map;for(const n of e){if(Sne(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function s0(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const gu=e=>e===0?"":e===1?"":e===2?"":"",vf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",Ene=(e,t)=>`#X${gu(t)}_${e}`,L5=(e,t)=>t===je.month?`#_${e}`:`#X${gu(t)}_${e}`,Hd=(e,t,n)=>`#${gu(t)}X${gu(n)}_${e}`,Ane=(e,t)=>`#${e==="day"?"":""}X${gu(t)}_`,zo=e=>`#_${e}`,l0=(e,t)=>`#${gu(t)}_${e}`,bd=(e,t)=>`#X${vf(t)}_${e}`,Rh=(e,t)=>`#X${vf(t)}_${e}`,Nw=(e,t,n)=>`#${vf(t)}X${gu(n)}_${e}`,Tne=(e,t)=>`#${t==="day"?"":""}X${vf(e)}_`,kne=(e,t)=>`#${t==="day"?"":""}X${vf(e)}_`,UM=(e,t)=>`#X${vf(e)}_${t}`;function One(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Ry.has(i)||P5.has(i))&&(n=js(i)),(x2.has(i)||R5.has(i))&&(r=ti(i));return n&&r?{stem:n,branch:r}:null}function Cw(e){return e.map(un)}const Dn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ti(t),(Array.isArray(n)?n:[n]).map(ti)])),jne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),I5=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$5=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ine=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),B5=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Une=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),z5=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gne=B5,qne=I5,Yne=z5,Kne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wne=$5,Vne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xne=Dn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),U5=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>ti(t.trim())).filter(Boolean),Ha=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ti(t),(Array.isArray(n)?n:[n]).map(r=>ti(r))])),HM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},FM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},GM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),YM=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ab=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ti(t),U5(n)])),Qne=ab({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ere=ab({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tre=ab({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nre=ab({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rre=Ha({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),ire=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),are=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=Ha({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),KM=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cre=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ure=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dre=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[js(t),U5(n)])),fre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),WM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),VM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_re=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ZM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ere=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),XM=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Are=Tn({:"",:"",:"",:""}),Tre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),JM=Tn({:"",:"",:""}),QM=Tn({:"",:"",:""}),kre=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eD=Tn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tD=Tn({:"",:"",:"",:"",:"",:"",:""}),Mw=[["",""],["",""],["",""],["",""],["",""],["",""]],Dw=[["",""],["",""],["",""],["",""],["",""],["",""]],Ore=new Set(["","","",""]),nD=[["",""],["",""]],jre=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Lh(e,t,n){const r=ti(t),i=ti(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return!0;return!1}function rD(e,t,n){const r=ti(t),i=ti(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return`${a}${s}`;return`${r}${i}`}function c0(e){for(const t of jre)if(t.set.has(e))return t.voids;return null}function Pw(e){const t=ti(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}function Xm(e,t){e.push(t)}function Rw(e,t,n,r,i=0){const a=Md[n]>=Md[r]?n:r,s=Hd(t,n,r);e.push({name:s,weight:Nn[a]+i,pos:a})}function vn(e,t,n,r,i){const a=un(e[je.year]),s=t[a];if(!s)return;const c=n==="MONTH"?[je.month]:n==="DAY"?[je.day]:n==="HOUR"?[je.hour]:[je.year,je.month,je.day,je.hour];for(const d of s)for(const f of c){const m=CA(d,e,f);m&&Xm(i,{name:Hd(r,je.year,f),weight:m.weight,pos:f})}}function u0(e,t,n,r){const i=un(e[je.month]),a=t[i];if(!a)return;const s=js(a),c=xne(s,e);c&&Xm(r,{name:L5(n,c.pos),weight:c.weight,pos:c.pos})}function Wi(e,t,n,r,i="ALL"){const a=un(e[je.month]),s=t[a];if(!s)return;const c=i==="YEAR"?[je.year]:i==="DAY"?[je.day]:i==="HOUR"?[je.hour]:i==="DAY_HOUR"?[je.day,je.hour]:[je.year,je.month,je.day,je.hour];for(const d of s)for(const f of c){const m=CA(d,e,f);if(!m)continue;const p=f===je.month?`#_${n}`:L5(n,f);Xm(r,{name:p,weight:m.weight,pos:f})}}function d0(e,t,n,r){const i=un(e[je.month]),a=t[i];if(!a)return;const s=e[je.day];a.includes(s)&&Xm(r,{name:Hd(n,je.month,je.day),weight:Nn[je.day],pos:je.day})}function sn(e,t,n,r,i){const a=Xi(e[je.day]),s=t[a];if(!s)return;const c=i==="DAY"?[je.day]:i==="HOUR"?[je.hour]:[je.year,je.month,je.day,je.hour];for(const d of s)for(const f of c){const m=CA(d,e,f);m&&Xm(r,{name:Ene(n,f),weight:m.weight,pos:f})}}function Oi({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const s=Xi(e[je.day]),c=un(e[je.day]),d=un(e[je.month]),f=un(e[je.year]),m=Cw(e),p=[],y=[],b=new Set(["","","",""]);if(vn(e,jne,"MONTH","",y),vn(e,I5,"DAY","",y),vn(e,Cne,"MONTH","",y),vn(e,Mne,"MONTH","",y),vn(e,Dne,"ALL","",y),vn(e,Pne,"HOUR","",y),vn(e,Rne,"ALL","",y),vn(e,Lne,"ALL","",y),vn(e,Ine,"ALL","",y),vn(e,B5,"ALL","",y),vn(e,$ne,"ALL","",y),vn(e,Bne,"ALL","",y),vn(e,zne,"ALL","",y),vn(e,Une,"ALL","",y),vn(e,Hne,"ALL","",y),vn(e,Fne,"ALL","",y),vn(e,z5,"ALL","",y),vn(e,Gne,"ALL","",y),vn(e,qne,"ALL","",y),vn(e,Yne,"ALL","",y),vn(e,Kne,"ALL","",y),vn(e,Wne,"ALL","",y),vn(e,Vne,"ALL","",y),vn(e,Zne,"ALL","",y),vn(e,Xne,"ALL","",y),u0(e,HM,"",p),u0(e,FM,"",p),u0(e,GM,"",p),u0(e,qM,"",p),Wi(e,Jne,"",y,"ALL"),Wi(e,YM,"",y,"YEAR"),Wi(e,YM,"",y,"DAY"),d0(e,Qne,"",p),d0(e,ere,"",y),d0(e,tre,"",y),d0(e,nre,"",p),Wi(e,rre,"",y,"ALL"),Wi(e,ire,"",y,"ALL"),Wi(e,are,"",y,"ALL"),Wi(e,ore,"",y,"ALL"),Wi(e,sre,"",y,"ALL"),Wi(e,KM,"",p,"ALL"),Wi(e,lre,"",p,"DAY_HOUR"),Wi(e,cre,"",p,"DAY_HOUR"),Wi(e,ure,"",p,"ALL"),Wi(e,dre,"",p,"ALL"),sn(e,fre,"",p,"ALL"),sn(e,WM,"",p,"ALL"),sn(e,hre,"",p,"ALL"),sn(e,mre,"",p,"ALL"),sn(e,pre,"",p,"ALL"),sn(e,gre,"",p,"ALL"),sn(e,vre,"",p,"ALL"),sn(e,VM,"",p,"ALL"),sn(e,yre,"",p,"ALL"),sn(e,bre,"",p,"ALL"),sn(e,_re,"",p,"ALL"),sn(e,xre,"",p,"ALL"),sn(e,wre,"",p,"ALL"),sn(e,ZM,"",y,"ALL"),sn(e,Sre,"",y,"ALL"),sn(e,Ere,"",y,"ALL"),sn(e,XM,"",y,"DAY"),sn(e,XM,"",y,"HOUR"),sn(e,JM,"",y,"DAY"),sn(e,JM,"",y,"HOUR"),sn(e,QM,"",y,"DAY"),sn(e,QM,"",y,"HOUR"),sn(e,Are,"",y,"DAY"),sn(e,Tre,"",y,"ALL"),sn(e,kre,"",p,"ALL"),sn(e,eD,"",y,"ALL"),b.has(e[je.day])){y.push({name:zo(""),weight:Nn[je.day],pos:je.day});for(const ne of[je.year,je.month,je.hour])e[ne]===e[je.day]&&y.push({name:l0("",ne),weight:Nn[ne],pos:ne})}const T=tD[s];if(T)for(const ne of[je.year,je.month,je.day,je.hour]){const q=Xi(e[ne]),K=un(e[ne]);q===s&&T.includes(K)&&y.push({name:l0("",ne),weight:Nn[ne],pos:ne})}for(const[ne,q]of nD){const K=jw(ne,e),X=jw(q,e);K&&X&&Rw(y,"",K.pos,X.pos)}{const ne=new Set(["",""]),q=new Set(["","","",""]);for(let K=0;K<=3;K++){const X=Xi(e[K]),re=un(e[K]);(ne.has(X)||q.has(re))&&y.push({name:l0("",K),weight:Nn[K],pos:K})}}{const ne=Xi(e[je.day]),q=e[je.hour],K=(X,re)=>X.includes(ne)&&re.includes(q);K(["",""],["",""])&&y.push({name:zo(""),weight:Nn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:zo(""),weight:Nn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:zo(""),weight:Nn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:zo(""),weight:Nn[je.hour],pos:je.hour}),K(["",""],["",""])&&y.push({name:zo(""),weight:Nn[je.hour],pos:je.hour})}{const ne=Cw(e);["","","",""].every(K=>ne.includes(K))&&p.push({name:zo(""),weight:Nn[je.day],pos:je.day})}{const ne=e[je.day],q=e[je.hour];(ne===""&&q===""||ne===""&&q==="")&&y.push({name:Hd("",je.day,je.hour),weight:Nn[je.hour],pos:je.hour})}{const ne=un(e[je.year]),q=new Set(Cw(e).slice(1)),K=(X,re)=>X.every(V=>q.has(V))&&ne===re;(K(["","",""],"")||K(["","",""],"")||K(["","",""],"")||K(["","",""],""))&&p.push({name:zo(""),weight:Nn[je.day],pos:je.day})}["",""].includes(e[je.day])&&p.push({name:zo(""),weight:Nn[je.day],pos:je.day});{const ne=Xi(e[je.day]),K={:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""}}[ne],X=e.some(W=>un(W)===K.rok),V=Xi(e[je.hour])===K.maStem;X&&V&&p.push({name:Hd("",je.day,je.hour),weight:Nn[je.hour],pos:je.hour})}{const ne=Xi(e[je.day]),q=un(e[je.day]),K=un(e[je.hour]),re={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[ne];if(re){const V=q===re.rok,W=K===re.ma,ue=o0(re.rokStem,e[je.day],"classic")||o0(re.rokStem,e[je.hour],"classic"),te=o0(re.maStem,e[je.day],"classic")||o0(re.maStem,e[je.hour],"classic");V&&W&&(ue||te)&&p.push({name:Hd("",je.day,je.hour),weight:Nn[je.hour],pos:je.hour})}}{const ne=new Set(["","","","","",""]),q=e.map(Xi),K=e.map(un),X=q.concat(K).filter(ue=>ne.has(ue)).length,re=t?Xi(t):"",V=t?un(t):"",W=ne.has(re)||ne.has(V);(X>=4||X===3&&W)&&y.push({name:zo(""),weight:Nn[je.day],pos:je.day})}{const ne=new Set(["",""]),q=new Set(["",""]);for(let K=0;K<=3;K++){const X=Xi(e[K]),re=un(e[K]);(ne.has(X)||q.has(re))&&y.push({name:l0("",K),weight:Nn[K],pos:K})}}{const ne=[[je.year,je.month],[je.year,je.day],[je.month,je.day],[je.month,je.hour],[je.day,je.hour]];for(const[q,K]of ne){const X=un(e[q]),re=un(e[K]);if(Lh(Mw,X,re)){const V=rD(Mw,X,re);Rw(y,`${V}`,q,K)}}}{const ne=[[je.year,je.month,0],[je.month,je.day,1],[je.month,je.hour,0],[je.day,je.hour,0]];for(const[q,K,X]of ne){const re=un(e[q]),V=un(e[K]);if(Lh(Dw,re,V)){const W=rD(Dw,re,V),ue=(X?1:0)+(Ore.has(re+V)?1:0);Rw(y,`${W}`,q,K,ue)}}}function S(ne){const q=ne.lastIndexOf("_");return q>=0?ne.slice(q+1):ne}const j=new Set(["",""]);function D(ne){return j.has(ne)?!0:ne.endsWith("")||ne.endsWith("")}function O(ne){const q=new Map;for(const X of ne){const re=S(X.name);q.has(re)||q.set(re,[]),q.get(re).push(X)}const K=[];for(const[X,re]of q)if(D(X))K.push(...re);else{const V=re.sort((W,ue)=>Md[W.pos]!==Md[ue.pos]?Md[ue.pos]-Md[W.pos]:ue.weight-W.weight)[0];K.push(V)}return K}const M=c0(e[je.day]),N=c0(e[je.year]);{const ne=(a?.voidBasis??"day")==="day"?M:N;if(ne){const[q,K]=ne.map(ti),X=[je.year,je.month,je.day,je.hour];for(const re of X){const V=un(e[re]);(V===q||V===K)&&y.push({name:Ane(a?.voidBasis??"day",re),weight:Nn[re],pos:re})}}}const I=O(zM(p)),$=O(zM(y)),B={si:[],il:[],yeon:[],wol:[]},H={si:[],il:[],yeon:[],wol:[]};for(const ne of I)B[s0(ne.pos)].push(ne.name);for(const ne of $)H[s0(ne.pos)].push(ne.name);const Z=[],z=[],F=[],Q=[],ee=[],ye=[],J=[],le=[];function ae(ne,q){ne.includes(q)||ne.push(q)}function he(ne,q){const K=One(q);if(!K)return;const X=K.branch,re=K.stem;let V,W;switch(ne){case"dae":V=Z,W=ee;break;case"se":V=z,W=ye;break;case"wol":V=F,W=J;break;case"il":V=Q,W=le;break;default:return}js(HM[d])===re&&ae(V,Rh("",ne)),js(FM[d])===re&&ae(V,Rh("",ne)),js(GM[d])===re&&ae(V,Rh("",ne)),js(qM[d])===re&&ae(V,Rh("",ne)),KM[d]?.includes(X)&&ae(V,Rh("",ne)),WM[s]?.includes(X)&&ae(V,bd("",ne)),VM[s]?.includes(X)&&ae(V,bd("",ne)),ZM[s]?.includes(X)&&ae(W,bd("",ne)),eD[s]?.includes(X)&&ae(W,bd("",ne)),tD[s]?.includes(X)&&ae(W,bd("",ne)),ne==="se"&&(Nne[f]?.includes(X)&&ae(W,UM(ne,"")),$5[f]?.includes(X)&&ae(W,UM(ne,"")));for(const te of m)if(Lh(nD,X,te)){const Y=jw(te,e)?.pos;Y!==void 0&&ae(W,Nw("",ne,Y));break}new Set(["",""]).has(s)&&new Set(["","","",""]).has(X)&&ae(W,bd("",ne));const ue=(a?.voidBasis??"day")==="day"?M:N;ue&&(X===ue[0]||X===ue[1])&&ae(W,Tne(ne,a?.voidBasis??"day"));for(let te=0;te<=3;te++){const Y=un(e[te]);Lh(Mw,X,Y)&&ae(W,Nw("",ne,te)),Lh(Dw,X,Y)&&ae(W,Nw("",ne,te))}if(ne==="se"){const te=(a?.samjaeBasis??"day")==="day"?c:f,Y=te?Pw(te):null;Y&&Y.includes(X)&&ae(W,kne(ne,a?.samjaeBasis??"day"))}}return he("dae",t??null),he("se",n??null),he("wol",r??null),he("il",i??null),{good:{si:[],il:[],yeon:[],wol:[],...(()=>{const ne={si:[],il:[],yeon:[],wol:[]};for(const q of I)ne[s0(q.pos)].push(q.name);return ne})(),dae:Z,se:z,wolun:F,ilun:Q},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const ne={si:[],il:[],yeon:[],wol:[]};for(const q of $)ne[s0(q.pos)].push(q.name);return ne})(),dae:ee,se:ye,wolun:J,ilun:le},meta:{voidPair:{day:c0(e[je.day])??void 0,year:c0(e[je.year])??void 0},samjaeYears:{day:Pw(c)??void 0,year:Pw(f)??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Nre(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Cre({items:e,source:t}){const n=e.length>0?e:["#"];return _.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Nre(r,t),children:r},`${t}-${i}-${r}`))})}function iD({title:e,rows:t}){return _.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[_.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[_.jsx("div",{className:i,children:n.label}),_.jsx(Cre,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Mre({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:s}=xr(),[c,d]=A.useState(""),[f,m]=A.useState("");A.useEffect(()=>{s.sinsalBase===""?(d(""),m("")):(d(""),m(""))},[s.sinsalBase]);const p=A.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),y=A.useMemo(()=>Oi({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:b,bad:x,meta:T}=y,S=Z=>Z.map(z=>z==="#"?z:` ${z}`),j=(Z,z)=>{const F=["natal"];return z===""&&F.push("natal"),z===""&&F.push("natal","dae"),z===""&&F.push("natal","dae","se"),z===""&&F.push("natal","dae","se","wol"),z===""&&F.push("natal","dae","se","wol","il"),Z.filter(Q=>F.includes(Q.source))},D=[{label:"",items:S(b.si),source:"natal"},{label:"",items:S(b.il),source:"natal"},{label:"",items:S(b.wol),source:"natal"},{label:"",items:S(b.yeon),source:"natal"},{label:"",items:b.dae,source:"dae"},{label:"",items:b.se,source:"se"},{label:"",items:b.wolun,source:"wol"},{label:"",items:b.ilun,source:"il"}],O=[{label:"",items:S(x.si),source:"natal"},{label:"",items:S(x.il),source:"natal"},{label:"",items:S(x.wol),source:"natal"},{label:"",items:S(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],M=j(D,a),N=j(O,a),I=T.voidPair.day?`(${T.voidPair.day.join("")})`:"()",$=T.voidPair.year?`(${T.voidPair.year.join("")})`:"()",B=T.samjaeYears.day?`(${T.samjaeYears.day.join("")})`:"()",H=T.samjaeYears.year?`(${T.samjaeYears.year.join("")})`:"()";return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:c,onChange:Z=>d(Z.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:I}),_.jsx("option",{value:"",children:$})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:f,onChange:Z=>m(Z.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:B}),_.jsx("option",{value:"",children:H})]})]})]}),_.jsxs("div",{className:"desk:flex",children:[_.jsx(iD,{title:"()",rows:M}),_.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),_.jsx(iD,{title:"()",rows:N})]})]})}const ja={year:0,month:1,day:2,hour:3},H5={[ja.year]:.3,[ja.month]:.5,[ja.day]:.3,[ja.hour]:.3},F5={[ja.year]:.15,[ja.month]:.2,[ja.day]:0,[ja.hour]:.15},Dre=e=>x2.has(e)?e:w2[e]??e,Pre=e=>Ry.has(e)?e:Ly[e]??e,Rre=e=>typeof e=="string"&&e.length>=2?Dre(e.slice(-1)):"",Lre=e=>typeof e=="string"&&e.length>=1?Pre(e.slice(0,1)):"",zn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Ire={:zn(2,0,.5,2),:zn(2,0,0,2),:zn(2,0,0,2),:zn(0,2,2,0),:zn(0,2,2,0),:zn(0,2,1,2),:zn(0,2,2,.5),:zn(0,2,2,0),:zn(0,2,2,1),:zn(2,0,0,2),:zn(2,0,0,2),:zn(2,0,1,1)},$re={:zn(0,1,1,0),:zn(0,1,1,0),:zn(0,2,2,0),:zn(0,2,2,0),:zn(0,0,1,0),:zn(0,0,0,1),:zn(1,0,0,1),:zn(1,0,0,1),:zn(2,0,0,2),:zn(2,0,0,2)},aD=e=>Math.max(0,Math.min(100,e));function oD(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Bre(e){let t=0,n=0,r=0,i=0;return[ja.year,ja.month,ja.day,ja.hour].forEach(a=>{const s=Ire[Rre(e[a])],c=$re[Lre(e[a])],d=H5[a],f=F5[a];d>0&&s&&(t+=s.han*d,n+=s.nan*d,r+=s.jo*d,i+=s.seup*d),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function zre(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Ure(e){const t=zre(e);return A.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Bre(t),s=oD(n,r),c=oD(a,i);return{hanNanPct:aD(s),joSeupPct:aD(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:H5,stem:F5}}},[t])}function sD({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=A.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),s=[10,20,35,45,55,65,80];return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:n}),_.jsx("span",{children:r}),_.jsx("span",{children:i})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[s.map(c=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Hre({natal:e}){const{hanNanPct:t,joSeupPct:n}=Ure(e);return _.jsxs("div",{className:"flex gap-2",children:[_.jsx(sD,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),_.jsx(sD,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Fre=Object.fromEntries(la..map((e,t)=>[e,fi[t]])),Gre=Object.fromEntries(fi.map((e,t)=>[e,la.[t]])),qre=Object.fromEntries(la..map((e,t)=>[e,Mi[t]])),Yre=Object.fromEntries(Mi.map((e,t)=>[e,la.[t]])),Kre=e=>Fre[e]??e,Wre=e=>qre[e]??e,Vre=e=>Gre[e]??e,Zre=e=>Yre[e]??e;function G5(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Kre(r)}${Wre(i)}`:`${Vre(r)}${Zre(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const q5={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Xre={...q5,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Jre=G5(q5),Qre=G5(Xre),eie={:"",:"",:"",:"",:""},tie={:"",:"",:"",:"",:""},nie={:"",:"",:"",:"",:""},rie={:"",:"",:"",:"",:""},iie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},aie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},oie=e=>iie[e]??e,sie=e=>aie[e]??e;function Y5(e){return!e||e.length<2?"":`${oie(e[0])}${sie(e[1])}`}const K5=e=>e&&e.length>=1?e[0]:"",W5=e=>e&&e.length>=2?e[1]:"";function V5(e){return{:e,:eie[e],:tie[e],:nie[e],:rie[e]}}const Z5={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function lie(e,t){const n=(e??[]).slice(0,4).map(Y5);if(n.length!==4||n.some(y=>y.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=K5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(y=>W5(y)),s={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=Z5[r]??[],d=a[1];c.includes(d)&&(s..=!0,s..=!0);const f=a[2];c.includes(f)&&(s..=!0,s..=!0);const m=V5(i).,p=t[m]??0;return s..=p>=30,{flags:s,monthBranch:d,dayEl:i}}function X5(e,t){const n=(e??[]).slice(0,4).map(Y5);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const x={:!1,:!1,:!1};return{flags:{:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x}},monthBranch:"",dayEl:""}}const r=K5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(x=>W5(x)),s={:!1,:!1,:!1},c={:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s}},d=Z5[r]??[],f=a[1];d.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];d.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=V5(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const cie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},uie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},die={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},hie=e=>cie[e]??e,mie=e=>uie[e]??e;function pie(e){return!e||e.length<2?"":`${hie(e[0])}${mie(e[1])}`}function Fc(e){return $M[e]??$M[die[e]??""]}function Gc(e){return BM[e]??BM[fie[e]??""]}const Lw=["year","month","day","hour"],gie={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},vie={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},yie=new Set(["","","","",""]),bie=new Set(["","","","","",""]),_ie=new Set(["","","",""]),Iw=e=>yie.has(e)?"":"",$w=e=>{const t=bie.has(e)?"":"";return _ie.has(e)?t===""?"":"":t};function lD(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,d)=>c+d,0);if(i===0)return r;const a=n.map((c,d)=>({i:d,frac:c-Math.floor(c+.5)})).sort((c,d)=>d.frac-c.frac),s=r.slice();if(i>0)for(let c=0;c<i;c++)s[a[c].i]+=1;else for(let c=0;c<-i;c++)s[a[a.length-1-c].i]-=1;return s}function xie(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const f0={:.15,:.1,:-.15,:-.2,:-.25},Bv={:"",:"",:"",:"",:""},J5={:"",:"",:"",:"",:""},bm={:"",:"",:"",:"",:""},wie={:"",:"",:"",:"",:""};function h0(e,t){return e===t?"":Bv[t]===e?"":Bv[e]===t?"":bm[e]===t?"":bm[t]===e?"":""}const Il=e=>e&&e.length>=1?e[0]:"",qc=e=>e&&e.length>=2?e[1]:"";function Sie(e,t){const n=e.reduce((d,f)=>d+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(d=>d/n*t),i=r.map(d=>Math.floor(d));let a=t-i.reduce((d,f)=>d+f,0);const s=r.map((d,f)=>({i:f,frac:d-Math.floor(d)})).sort((d,f)=>f.frac-d.frac),c=i.slice();for(let d=0;d<s.length&&a>0;d++)c[s[d].i]+=1,a-=1;return c}function cD(e,t){switch(e){case"":return t;case"":return Bv[t];case"":return bm[t];case"":return wie[t];case"":return J5[t];default:return t}}function dE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:s,luck:c}=e,d=s==="modern"?gie:vie,f=r==="classic"?Qre:Jre,m={:0,:0,:0,:0,:0},p={},y={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},b=(t??[]).slice(0,4).map(pie),x=b.length===4&&b[0]&&b[0].length>=2&&b[1]&&b[1].length>=2&&b[2]&&b[2].length>=2,T={totalsSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},perStemAugBare:{},perStemAugFull:{}};if(!x){const V=["","","","",""].map(W=>({name:W,value:0,color:"#999999"}));return{overlay:T,totals:V,perTenGod:{:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},PerTenGodSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},elementScoreRaw:m,deukFlags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}const S=Il(b[2]),j=n??S,D=j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":"",O=[{val:0},{val:0},{val:0},{val:0}],M=[[],[],[],[]];for(const V of b){if(!V)continue;const W=V.charAt(0),ue=V.charAt(1);p[W]=(p[W]??0)+50;const te=y[ue];te&&(p[te]=(p[te]??0)+50)}for(let V=0;V<4;V++){const W=b[V];if(!W||W.length<2)continue;const ue=Lw[V],te=Il(W),Y=qc(W),se=d[ue],Se=Fc(te);Se&&(m[Se]+=se.stem,O[V]={stem:te,el:Se,pol:Iw(te),val:se.stem});const ce=Gc(Y);ce&&(m[ce]+=se.branch,M[V].push({el:ce,pol:$w(Y),val:se.branch}))}for(let V=0;V<4;V++){const W=b[V];if(!W||W.length<2)continue;const ue=Lw[V],te=f[W]??0;if(te===0)continue;const Y=Il(W),se=Fc(Y);if(!se)continue;const Se=d[ue].stem*te;m[se]+=Se,O[V].val+=Se}for(let V=0;V<4;V++){const W=b[V];if(!W||W.length<2)continue;const ue=qc(W),te=Gc(ue);if(!te)continue;const Y=d[Lw[V]].branch,se=$w(ue);let Se=0;const ce=[V];V-1>=0&&ce.push(V-1),V+1<=3&&ce.push(V+1),V-2>=0&&ce.push(V-2),V+2<=3&&ce.push(V+2);const Ne=Array.from(new Set(ce));for(const me of Ne){if(!b[me]||b[me].length<2)continue;const Te=Il(b[me]),De=Fc(Te);if(!De||De!==te)continue;const Le=Iw(Te)===se,Be=Math.abs(me-V),ge=xie(Be,Le);Se+=Y*ge}Se!==0&&(m[te]+=Se,M[V].push({el:te,pol:se,val:Se}))}for(let V=0;V<4;V++){const W=b[V];if(!W||W.length<2)continue;const ue=Il(W),te=Fc(ue);if(!te)continue;let Y=0;const se=qc(b[V]),Se=Gc(se);Se&&(Y+=f0[h0(te,Se)]);const ce=V===0?[1]:V===3?[2]:[V-1,V+1];for(const me of ce){const Te=Il(b[me]),De=Fc(Te);De&&(Y+=f0[h0(te,De)])}const Ne=O[V].val;if(Ne!==0&&Y!==0){const me=Math.round(Ne*(1+Y)*10)/10,Te=me-Ne;m[te]+=Te,O[V].val=me}}for(let V=0;V<4;V++){const W=b[V];if(!W||W.length<2)continue;const ue=qc(W),te=Gc(ue);if(!te)continue;let Y=0;const se=Il(b[V]),Se=Fc(se);Se&&(Y+=f0[h0(te,Se)]);const ce=V===0?[1]:V===3?[2]:[V-1,V+1];for(const me of ce){if(!b[me]||b[me].length<2)continue;const Te=qc(b[me]),De=Gc(Te);De&&(Y+=f0[h0(te,De)])}const Ne=M[V].reduce((me,Te)=>me+Te.val,0);if(Ne!==0&&Y!==0){const Te=Math.round(Ne*(1+Y)*10)/10-Ne;m[te]+=Te,M[V].length>0&&(M[V][0].val+=Te)}}a&&$te(b,m);const N={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},I=[];if(!(!c||c.tab==="")){let V=function(W,ue){const te=W?Ke(W):"";if(!te||te.length<2)return;const Y=Il(te),se=qc(te),Se=Fc(Y),ce=Gc(se),Ne=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),me=N[ue];if(Se){const Te=Math.round(Ne*me.stem);m[Se]+=Te,I.push({stem:Y,el:Se,pol:Iw(Y),val:Te})}if(ce){const Te=Math.round(Ne*me.branch);m[ce]+=Te,I.push({el:ce,pol:$w(se),val:Te})}};V(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&V(c.se,"se"),(c.tab===""||c.tab==="")&&V(c.wol,"wol"),c.tab===""&&V(c.il,"il")}const $={:0,:0,:0,:0,:0};Object.entries(m).forEach(([V,W])=>{const ue=Q(V,D);$[ue]+=W});const B=["","","","",""],H=lD(B.map(V=>$[V])),Z=C5(j),z=B.map((V,W)=>({name:V,value:H[W],color:Z[V]})),F={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Q(V,W){return V===W?"":Bv[W]===V?"":bm[W]===V?"":bm[V]===W?"":J5[W]===V?"":""}function ee(V,W){switch(Q(V,D)){case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break;case"":F.+=W*.5,F.+=W*.5;break}}Object.entries(m).forEach(([V,W])=>{W>0&&ee(V,W)});const ye={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const V of B){const W=z.find(ce=>ce.name===V)?.value??0,ue=ye[V].a,te=ye[V].b,Y=F[ue]??0,se=F[te]??0,Se=Y+se;if(Se>0){const ce=Math.floor(W*Y/Se+.5),Ne=W-ce;ye[V].aVal=ce,ye[V].bVal=Ne}else ye[V].aVal=Math.floor(W/2+.5),ye[V].bVal=W-ye[V].aVal}const{flags:J}=lie(b,m),le={};O.forEach(V=>{if(V.stem&&V.el&&V.val){const W=`${V.stem}${V.el}`;le[W]=(le[W]??0)+V.val}});for(let V=0;V<4;V++){const W=b[V];if(!W||W.length<2)continue;const ue=qc(W),te=y[ue],Y=Gc(ue);if(!te||!Y)continue;const se=`${te}${Y}`,Se=M[V].reduce((ce,Ne)=>ce+Ne.val,0);le[se]=(le[se]??0)+Se}const ae=["","","","","","","","","",""],he={};ae.forEach(V=>{he[V]=0}),B.forEach(V=>{const W=z.find(Ne=>Ne.name===V)?.value??0,ue=cD(V,D),te=Object.entries(le).filter(([Ne])=>Ne.endsWith(ue)),Y=te.map(([Ne])=>Ne),se=te.map(([,Ne])=>Ne),Se=Math.max(0,Math.round(W*10)),ce=Sie(se.length?se:[1,1],Se);if(Y.length===2)he[Y[0]]=(ce[0]??Math.round(Se/2))/10,he[Y[1]]=(ce[1]??Se-(ce[0]??0))/10;else if(Y.length===1)he[Y[0]]=Se/10;else{const Ne=ue===""?["",""]:ue===""?["",""]:ue===""?["",""]:ue===""?["",""]:["",""],me=Math.floor(Se/2),Te=Se-me;he[Ne[0]]+=me/10,he[Ne[1]]+=Te/10}});const ne=["","","","",""],q={:0,:0,:0,:0,:0};for(const V of z){const W=cD(V.name,D);q[W]+=V.value}const K=lD(ne.map(V=>q[V])),X={:K[0],:K[1],:K[2],:K[3],:K[4]};return i&&console.log({elementScore:m,totals:z,perTenGod:ye,perStemRaw:le,perStemElementScaled:he,elementPercent100:X}),{overlay:{totalsSub:F,perStemAugBare:le,perStemAugFull:he},totals:z,perTenGod:ye,PerTenGodSub:F,stemScoreRaw:p,elementScoreRaw:m,deukFlags:J,perStemElement:le,perStemElementScaled:he,elementPercent100:X}}function Eie(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,d)=>c+d,0);const s=n.map((c,d)=>({i:d,f:c-Math.round(c)})).sort((c,d)=>d.f-c.f);for(let c=0;c<s.length&&a>0;c++)r[s[c].i]+=1,a-=1;return r}const uD=["","","","",""];function Aie(e,t){const n=[Ke(e[0]??""),Ke(e[1]??""),Ke(e[2]??""),Ke(e[3]??"")],{elementScoreRaw:r}=dE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=uD.map(c=>r[c]??0),a=Eie(i),s={:0,:0,:0,:0,:0};return uD.forEach((c,d)=>{s[c]=a[d]}),s}function Q5(e,t){const n=Aie(e,t),r=Ke(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const s={:"",:"",:"",:"",:""},c=n[a]??0,d=n[s[a]]??0;return c+d*.7}const m0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},g0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tie=["","","","",""];function dD(e){return Tie.includes(e)}const kie={:"",:"",:"",:"",:""},Oie={:"",:"",:"",:"",:""},jie={:"",:"",:"",:"",:""},Nie={:"",:"",:"",:"",:""},fE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cie=["","","","","","","","","",""],Mie={natal:50,dae:30,se:20,wol:7,il:3};function zv(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(m0[t])return m0[t];if(["","","","","","","","","","","",""].includes(t))return g0[t]??null;if(p0[t])return g0[p0[t]]??null;const n=t.charAt(0);return m0[n]?m0[n]:["","","","","","","","","",""].includes(n)?n:p0[n]?g0[p0[n]]??null:["","","","","","","","","","","",""].includes(n)?g0[n]??null:null}function Die(e,t){const n=fE[e],r=fE[t];if(!n||!r)return"";let i;r===n?i="":r===kie[n]?i="":r===Oie[n]?i="":r===jie[n]?i="":r===Nie[n]?i="":i="";const a=dD(e)===dD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Uv(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function fD(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=zv(r);if(!a)continue;const s=Die(t,a);n[s]+=i}return Uv(n)}function Pie(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function hD(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=zv(n);i&&(t[i]=(t[i]??0)+r)}return t}function mD(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Cie){const i=fE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function pD(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function Rie(e,t){const n=t?.dae?v0(t.dae):{},r=t?.se?v0(t.se):{},i=t?.wol?v0(t.wol):{},a=t?.il?v0(t.il):{},s={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=Mie[f];if(!m||Object.keys(m).length===0)continue;const y=Uv(m);for(const[b,x]of Object.entries(y))s[b]=(s[b]??0)+x*p}const d=Object.values(s).reduce((f,m)=>f+m,0);if(d>0)for(const f of Object.keys(s))s[f]=s[f]/d*100;return s}function Lie(e){if(!e)return[];const t=zv(e.charAt(0)),n=zv(e.charAt(1));return[t,n].filter(Boolean)}function v0(e){const t=Lie(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function e4(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Ke(t[0]??""),Ke(t[1]??""),Ke(t[2]??""),Ke(t[3]??"")],s=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:d}=su,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?Ke(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Ke(r.se):void 0,wol:(n===""||n==="")&&r.wol?Ke(r.wol):void 0,il:n===""&&r.il?Ke(r.il):void 0}:{tab:n},p=dE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),y=dE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),b=hD(p.perStemElementScaled),x=n===""?b:Rie(b,r),T=Uv(x),S=fD(x,s),j=Pie(S),D=mD(T),O=hD(y.perStemElementScaled),M=fD(O,s),N=Uv(O),I=mD(N);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:s,mergedStems:T,perTenGodSub:S,perTenGod:j,overlay:{totalsSub:S,perStemAugBare:x,perStemAugFull:D},natalFixed:{elementScoreRaw:pD(y.elementScoreRaw),elementPercent100:pD(y.elementPercent100),totalsSub:M,overlay:{totalsSub:M,perStemAugBare:O,perStemAugFull:I}}}}const Na={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qo={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Iie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ca(e){return["","","","",""].includes(e)}function $ie(e){return["","","","","",""].includes(e)}const t4={:"",:"",:"",:"",:""},MA={:"",:"",:"",:"",:""},n4={:"",:"",:"",:"",:""},r4={:"",:"",:"",:"",:""},Bw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,ka=e=>e&&e.length>=1?e.charAt(0):"",Yn=e=>e&&e.length>=2?e.charAt(1):"",Bie=e=>Array.from(new Set(e)),zie={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:16},:{stem:"",w:7},:{stem:"",w:16}}},Uie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Hie(e,t){const n=Uie[e];if(!n)return!1;const i=mo(t).find(c=>c.name===n);if(!i)return!1;const a=new Date(i.date);return Math.floor((t.getTime()-a.getTime())/(1e3*60*60*24))<=12}const Fie={:["","",""],:["","",""],:["","",""],:["","",""]};function Gie(e,t){const n=Fie[e];return n?n.filter(r=>r!==e).every(r=>t.includes(r)):!1}function lo(e,t){const n=Na[e],r=Na[t];if(!n||!r)return"";let i;r===n?i="":r===t4[n]?i="":r===MA[n]?i="":r===n4[n]?i="":r===r4[n]?i="":i="";const a=Ca(e)===Ca(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function qie(e,t){const n=Na[e],r=qo[t];if(!n||!r)return"";let i;r===n?i="":r===t4[n]?i="":r===MA[n]?i="":r===n4[n]?i="":r===r4[n]?i="":i="";const a=Ca(e)===$ie(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Yie(e){return{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[e]??""}function hE(e,t){const n=Yie(e),r=Ca(e),i={:"",:"",:"",:"",:""},a={:"",:"",:"",:"",:""};let s;t===n?s="":i[n]===t?s="":i[t]===n?s="":a[n]===t?s="":a[t]===n?s="":s="";const c=r===Ca(Kie(t));switch(s){case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":""}}function Kie(e){return{:"",:"",:"",:"",:""}[e]}const zw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},i4={:"",:"",:"",:"",:""},a4={:"",:"",:"",:""},Wie=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],Vie=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=ka(n),i=Yn(n),a=Na[r],s=qo[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t};function Zie(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,s,c,d]=(t??[]).slice(0,4),f=[ka(a),ka(s),ka(c),ka(d)].filter(Boolean),m=[Yn(a),Yn(s),Yn(c),Yn(d)].filter(Boolean),p=Na[n],y=f.map(pe=>lo(n,pe)),b=[],x=pe=>f.filter($e=>$e===pe).length,T=pe=>m.filter($e=>$e===pe).length,S=pe=>pe.every($e=>m.includes($e)),j=pe=>y.some($e=>pe.includes($e)),D=ka(s),O=pe=>Ca(pe),M=()=>{const pe=f.map($e=>Na[$e]);return pe.length===4&&pe.every($e=>$e===pe[0])},N=()=>{if(f.length!==4)return!1;const pe=f.map(O),$e=pe[0]&&!pe[1]&&pe[2]&&!pe[3],ze=!pe[0]&&pe[1]&&!pe[2]&&pe[3];return $e||ze};Ca(n)&&i4[n]===r&&b.push("");const I=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[pe,$e]of I)if(n===pe&&r===$e){b.push("");break}!Ca(n)&&a4[n]===r&&b.push("");const $=zw[n];$&&Yn(c)===$&&p===qo[Yn(c)]&&b.push(""),$&&Yn(d)===$&&p===qo[Yn(d)]&&b.push("");const B=[a,s,c,d].map(iae),H=[a,s,c,d].map(aae);for(const pe of B);for(const pe of H);const Z=i==="hgc"?Hy:Uy;function z(pe){return(Z[pe]??[]).filter($e=>["","","","","","","","","",""].includes($e))}const F=[a,s,c,d].filter(Boolean),ee=F.flatMap(pe=>[pe.charAt(0),pe.charAt(1)]).flatMap(pe=>{try{if(["","","","","","","","","",""].includes(pe))return[lo(n,pe)];if(["","","","","","","","","","","",""].includes(pe)){const $e=qie(n,pe),ze=z(pe).map(Fe=>lo(n,Fe));return[$e,...ze]}return[]}catch{return[]}}),ye=pe=>ee.some($e=>pe.includes($e)),J=(pe,$e)=>{const ze=[],Fe=[];for(const dt of F){const Dt=dt.charAt(0),_t=dt.charAt(1);ze.push(lo(n,Dt));const Pn=qo[_t];Pn?Fe.push(hE(n,Pn)):Fe.push(null)}const ct=(dt,Dt)=>!!dt&&!!Dt&&(pe.includes(dt)&&$e.includes(Dt)||$e.includes(dt)&&pe.includes(Dt));for(let dt=0;dt<ze.length;dt++)if(ct(ze[dt],Fe[dt]))return!0;for(let dt=0;dt<ze.length-1;dt++)if(ct(ze[dt],ze[dt+1])||ct(Fe[dt],Fe[dt+1]))return!0;return!1},le={:["",""],:["",""],:["",""],:["",""]};ye([...le.])&&ye([...le.])&&J([...le.],[...le.])&&b.push(""),ye([...le.])&&ye([...le.])&&J([...le.],[...le.])&&b.push("");const ae=pe=>y.filter($e=>pe.includes($e)).length,he=ae(["",""]),ne=ae([""]),q=ae([""]),K=ae(["",""]),X=ae(["",""]),re=ae(["",""]);ne>=1&&he>=1&&he>=ne&&q<=ne&&b.push("");const V=ae([""]);V>=1&&K>=1&&V>=K&&b.push(""),y.includes("")&&K>=1&&b.push("");const ue=Vie(t),te=Object.entries(ue).sort((pe,$e)=>$e[1]-pe[1]),Y=te[0];if(Y&&Y[1]>=60&&b.push(`(${Y[0]})`),te.length>=2){const[pe,$e]=te[0],[,ze]=te[1];$e>=75&&$e-ze>=12&&p!==pe&&b.push(`(${pe})`)}for(const pe of Wie){const $e=f.includes(pe.a),ze=f.includes(pe.b);if(!$e||!ze)continue;const Fe=pe.to,ct=ue[Fe]??0,dt=Na[pe.a],Dt=Na[pe.b],_t=Math.max(ue[dt]??0,ue[Dt]??0),Pn=qo[r]===Fe,zr=Object.entries(ue).sort((qt,rn)=>rn[1]-qt[1])[0]?.[0]===Fe;let Rn=!1;ct>=60&&(Pn||zr)&&_t<=20&&ct-_t>=20&&(b.push(`(${Fe})`),Rn=!0),!Rn&&ct>=50&&(Pn||zr)&&_t<=25&&(b.push(`(${Fe})`),Rn=!0),!Rn&&ct>=35&&b.push(`(${Fe})`)}const se=`${ka(d)}${Yn(d)}`;["",""].includes(n)&&["","",""].includes(se)&&b.push(""),["","","",""].includes(Yn(d))&&b.push(""),["",""].includes(n)&&(Yn(c)===""||Yn(s)==="")&&!m.includes("")&&b.push("");const Se=f.some(pe=>pe===""||pe===""),ce=m.some(pe=>pe===""||pe==="");["",""].includes(Yn(c))&&!Se&&!ce&&b.push(""),["","",""].every(pe=>f.includes(pe))&&b.push(""),["","",""].every(pe=>f.includes(pe))&&b.push(""),["","",""].every(pe=>f.includes(pe))&&b.push("");const Ne=Object.values(ue).sort((pe,$e)=>$e-pe);Ne.length>=3&&Ne[0]-Ne[2]<=8&&Ne[0]+Ne[1]+Ne[2]>=80&&b.push(""),X>=1&&re>=1&&Math.abs(X-re)<=1&&b.push(""),S(["","","",""])&&b.push(""),S(["","","",""])&&b.push(""),S(["","","",""])&&b.push(""),m.length===4&&m.every(pe=>pe===m[0])&&b.push(""),f.length===4&&M()&&N()&&b.push(""),t.every(pe=>pe&&pe===t[0])&&b.push(""),f.length===4&&f.every(pe=>pe===f[0])&&m.length===4&&m.every(pe=>pe===m[0])&&b.push(""),he>=1&&(Yn(c)===zw[n]||Yn(d)===zw[n])&&b.push(""),x("")>=3&&S(["","",""])&&["","",""].includes(Yn(c))&&b.push("");const Te=n===""||n==="",De=[["","",""],["","",""]],Le=[["","",""],["","",""]];Te&&(De.some(pe=>S(pe))||Le.some(pe=>S(pe)))&&b.push("");const Be=new Set(["","","","","",""]),ge=`${ka(c)}${Yn(c)}`;if(Be.has(ge)&&T("")>=2&&(j(["",""])||m.includes("")||m.includes("")||j(["",""])||b.push("")),new Set(["","","","","",""]).has(ge)&&T("")>=2&&m.includes("")&&b.push(""),n===""&&`${ka(d)}${Yn(d)}`==""){const pe=lo(n,D);!["","","",""].includes(pe)&&j(["",""])&&!m.includes("")&&!m.includes("")&&b.push("")}return new Set(["","",""]).has(ge)&&`${ka(d)}${Yn(d)}`==""&&!m.includes("")&&!j(["",""])&&b.push(""),ge===""&&T("")+T("")>=2&&b.push(""),(ge===""||ge==="")&&T("")>=2&&!j(["",""])&&!m.includes("")&&b.push(""),n===""&&S(["","",""])&&b.push(""),ge===""&&`${ka(d)}${Yn(d)}`==""&&b.push(""),Bie(b)}function Xie(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:s=[],isNeutralized:c,mapping:d}=e,f=[],m=zie[n];if(!m)return{:"-",:"-",:"-",:"-",:"-",:[],reason:["  "]};const p={:m.?{stem:Bw(m..stem),w:m..w}:void 0,:m.?{stem:Bw(m..stem),w:m..w}:void 0,:{stem:Bw(m..stem),w:m..w}},y=p..stem;let b=y;if(["","","",""].includes(n))b=p..stem,f.push(":   ");else if(["","","",""].includes(n)){const B=[];p.&&B.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),p.&&B.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),B.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)});const H=B.filter(Z=>Z.emitted);H.length===1?(b=H[0].stem,f.push(`: ${H[0].from}  `)):H.length>1?(H.sort((Z,z)=>z.w-Z.w),b=H[0].stem,f.push(`:      ${H[0].from} `)):(b=p..stem,f.push(":    "))}else["","","",""].includes(n)&&(Gie(n,s)&&p.?(b=p..stem,f.push(":     ")):Hie(n,r)&&p.?(b=p..stem,f.push(":  +12    ")):(b=p..stem,f.push(":  +12    ")));const x=b;let T="";const S=Na[x];if(S){const B=Object.entries(MA).find(([,H])=>H===S)?.[0]??null;B&&(T=Object.entries(Na).find(([Z,z])=>z===B&&Ca(Z)===Ca(x))?.[0]??"")}c?.(x)&&f.push(":   / ");let j="-";const D=lo(t,x),M=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]].some(([B,H])=>B===t&&H===n),N=Ca(t)&&i4[t]===n,I=!Ca(t)&&a4[t]===n;D===""||D===""?M?(j="",f.push(": /   ")):N?(j="",f.push(":    ")):I?(j="",f.push(":    ")):f.push(": /  "):D===""?j="()":j={:"",:"",:"",:"",:"",:"",:"",:""}[D]??"-";const $=Zie({pillars:i,dayStem:t,monthBranch:n,mapping:d});return{:y,:b,:x,:T,:j,:$,reason:f}}const Ie=(e,t)=>`${e}+${t}`,si=(e,t,n)=>`${e}+${t}+${n}`,Jie={[Ie("","")]:[""],[si("","","")]:void 0,[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[si("","","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:["",""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""],[Ie("","")]:[""]},Qie={[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:[""],[si("","","")]:["",""]};function eae(){const e={},t={},n=/[]/g;for(const[r,i]of Object.entries(Jie)){if(!i)continue;const a=r.match(n);if(!a||a.length<2)continue;const[s,c]=a;e[r]=i.map(d=>`${s}X${c}_${d}`)}for(const[r,i]of Object.entries(Qie)){if(!i)continue;const a=r.match(n);if(!a||a.length<3)continue;const[s,c,d]=a;t[r]=i.map(f=>`${s}X${c}X${d}_${f}`)}return{newPairs:e,newTris:t}}const{newPairs:Uw,newTris:Hw}=eae();function tae(e){const[t,n,r,i]=e,a=b=>ka(b),s=a(i),c=a(r),d=a(n),f=a(t),m=[],p=[[s,c],[c,d],[d,f]];for(const[b,x]of p){if(!b||!x)continue;const T=Ie(b,x),S=Uw[T];S&&S.length&&m.push(...S);const j=Ie(x,b);j!==T&&Uw[j]&&m.push(...Uw[j])}const y=[[s,c,d],[c,d,f]];for(const[b,x,T]of y){if(!b||!x||!T)continue;const S=si(b,x,T),j=Hw[S];j&&j.length&&m.push(...j);const D=si(T,x,b);D!==S&&Hw[D]&&m.push(...Hw[D])}return Array.from(new Set(m))}const nae={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},rae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function iae(e){return e?.charAt(0)??""}function aae(e){return e?.charAt(1)??""}function oae(e,t,n){const[r,i,a,s]=(e??[]).slice(0,4),c=de=>(de?.length??0)>=1?de.charAt(0):"",d=de=>(de?.length??0)>=2?de.charAt(1):"",f=[r,i,a,s].map(c).filter(Boolean),m=[r,i,a,s].map(d).filter(Boolean),p=c(a),y=nae[p]??!1,b=new Set,x=t==="classic"?Uy:Hy,T=new Set(["","","","","","","","","",""]),S=de=>(x[de]??[]).filter(pe=>T.has(pe)),j=(de,pe)=>{const $e=qo[pe];if(!$e)throw new Error(`Unknown branch main element: ${pe}`);return hE(de,$e)},D={:0,:0,:0,:0,:0};for(const de of f){const pe=Na[de];pe&&(D[pe]+=10)}const O=[];for(const de of m){const pe=Iie[de];pe&&O.push(pe);const $e=qo[de];$e&&(D[$e]+=6)}const N=[...f,...O].map(de=>lo(p,de)),I={:["",""],:["",""],:["",""],:["",""],:["",""]},$=de=>N.filter(pe=>pe===de).length,B=de=>N.filter(pe=>I[de].includes(pe)).length,H=m[1],Z=!!p&&rae[p]===H,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&b.add("");const F=[r,i,a,s].filter(Boolean),Q=[];for(const de of F){const pe=de.charAt(0),$e=de.charAt(1);Q.push(lo(p,pe)),Q.push(j(p,$e))}const ee=(de,pe)=>{const $e=(ze,Fe)=>!!ze&&!!Fe&&de.includes(ze)&&pe.includes(Fe)||pe.includes(ze)&&de.includes(Fe);for(let ze=0;ze+1<Q.length;ze+=2)if($e(Q[ze],Q[ze+1]))return!0;return!1},ye=de=>Q.some(pe=>de.includes(pe)),J=$("")+$(""),le=$(""),ae=B(""),he=B(""),ne=ee(["",""],["",""]);if((le>=1||J>=2)&&ae>=1&&J>ae&&he<=1&&ne&&b.add(""),ye(I.)&&ye(I.)&&ee(I.,I.)){const de=N.includes("");b.add(de?"":"")}B("")>=2&&B("")>=2&&Math.abs(B("")-B(""))<=1&&B("")<=1&&B("")<=1&&b.add("");const q=$(""),K=$(""),X=$("")+$(""),re=$("")+$(""),V=B("");K>=2&&X>=1&&D.+D.>=20&&b.add(""),K>=2&&re>=1&&D.+D.>=20&&b.add(""),K>=2&&re>=1&&D.+D.>=20&&ee([""],["",""])&&V<=1&&b.add(""),q>=2&&re>=1&&D.+D.>=20&&ee([""],["",""])&&V<=1&&b.add("");const W=(de,pe)=>{const $e=Na[de],ze=qo[pe];return!!$e&&!!ze&&$e===ze},ue=[r,i,a,s].filter(Boolean),te=d(a),Y=W(p,te),se=ue.map(de=>de.charAt(0)).filter(de=>["",""].includes(lo(p,de)));let Se=!1;for(const de of ue){const pe=de.charAt(0),$e=de.charAt(1);if(se.includes(pe)&&W(pe,$e)){Se=!0;break}}Y&&Se&&b.add(""),B("")>=3&&B("")>=.5*(B("")+B("")+B("")+B(""))&&b.add(""),B("")>=3&&B("")>=.5*(B("")+B("")+B("")+B(""))&&b.add(""),B("")>=3&&B("")>=1&&b.add(""),B("")>=3&&B("")+B("")<=1&&b.add("");const ce=$("");B("")+B("")>=2&&ce===1&&B("")>=1&&b.add(""),ce>=2&&X+B("")>=3&&b.add("");const Ne=q+K;(q>=2||Ne>=2)&&re>=1&&Ne>re&&b.add(""),K>=2&&re>=1&&Ne>re&&b.add("");const me=$(""),Te=$("");me>=2&&ce+Te>=1&&b.add(""),me>=2&&ce+Te===0&&b.add(""),y&&me>=2&&ce>=1&&b.add(""),!y&&me>=2&&ce>=1&&b.add(""),$("")>=2&&$("")>=1&&b.add(""),$("")>=1&&$("")>=1&&ee([""],[""])&&b.add(""),Z&&ce>=1&&B("")+B("")>=2&&b.add("");const De=[d(r),d(i),d(a),d(s)].filter(Boolean),Le=[r?.charAt(0),i?.charAt(0),s?.charAt(0)].filter(Boolean),Be=new Set(Le.map(de=>lo(p,de))),ge=new Set(De.flatMap(de=>{const pe=qo[de];return pe?[hE(p,pe)]:[]})),Ue=new Set(De.flatMap(de=>S(de).map(pe=>lo(p,pe))));return["","","","",""].forEach(de=>{const pe=I[de],$e=pe.some(ct=>Be.has(ct)),ze=pe.some(ct=>ge.has(ct)),Fe=pe.some(ct=>Ue.has(ct));!$e&&!ze&&!Fe?b.add(`${de}`):!$e&&!ze&&Fe&&b.add(`${de}`)}),Array.from(b)}function sae(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:s,mapping:c,unified:d}=e,[f,m,p,y]=t,b=ee=>ee&&ee.length>=1?ee.charAt(0):"",x=ee=>ee&&ee.length>=2?ee.charAt(1):"",T=x(m),S=b(p),j=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,D=[b(f),b(m),b(p),b(y)].filter(ee=>!!(ee&&ee.length===1)),O=[x(f),x(p),x(y)].filter(ee=>!!(ee&&ee.length===1)),M=Xie({dayStem:S,monthBranch:T,date:j,pillars:t,emittedStems:i??D,otherBranches:a??O,isNeutralized:s,mapping:c}),N=[` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`],I=[` : ${M.||"-"}`],$=Array.isArray(M.)&&M..length>0?M..map(ee=>` : ${ee}`):[" : -"],B=tae(t),H=[...B.length?B.map(ee=>`${ee}`):[]],z=[...oae(t,c,d)],F=({text:ee,color:ye})=>{const J={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return _.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${J[ye]}`,title:ee,children:ee})},Q=({children:ee})=>_.jsx("li",{className:"!flex flex-wrap gap-1 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:ee});return _.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${N.join(",")}|${I.join(",")}|${$.join(",")}`,children:[_.jsx("div",{className:"font-bold text-base",children:"   "}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx(Q,{children:N.map(ee=>_.jsx(F,{text:ee,color:"violet"},ee))}),_.jsx(Q,{children:I.map(ee=>_.jsx(F,{text:ee,color:"amber"},ee))}),_.jsx(Q,{children:$.map(ee=>_.jsx(F,{text:ee,color:"blue"},ee))}),_.jsx(Q,{children:H.map(ee=>_.jsx(F,{text:ee,color:"green"},ee))}),_.jsx(Q,{children:z.map(ee=>_.jsx(F,{text:ee,color:"red"},ee))})]}),M.reason.length>0&&_.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[" ",M.reason.join(" / ")]})]})}const Dd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},o4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},y0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lae=["","","","",""];function gD(e){return lae.includes(e)}const cae={:"",:"",:"",:"",:""},uae={:"",:"",:"",:"",:""},dae={:"",:"",:"",:"",:""},fae={:"",:"",:"",:"",:""};function _m(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Dd[t])return Dd[t];if(["","","","","","","","","","","",""].includes(t))return y0[t]??null;if(Pd[t])return y0[Pd[t]]??null;const n=t.charAt(0);return Dd[n]?Dd[n]:["","","","","","","","","",""].includes(n)?n:Pd[n]?y0[Pd[n]]??null:["","","","","","","","","","","",""].includes(n)?y0[n]??null:null}function hae(e,t){const n=Jd[e],r=Jd[t];if(!n||!r)return"";let i;r===n?i="":r===cae[n]?i="":r===uae[n]?i="":r===dae[n]?i="":r===fae[n]?i="":i="";const a=gD(e)===gD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function mae(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function ob(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function pae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Jd[_m(n)];i&&r>0&&(t[i]+=r)}return ob(t)}function gae(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=_m(r);if(!a)continue;const s=hae(t,a);n[s]+=i}return n}function vae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=mae(n);t[i]+=r}return ob(t)}function Fw(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);return r?`${Dd[r[1]]}${Pd[r[2]]}`:""}function vD(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${Dd[s[1]]}${Pd[s[2]]}`:r<=2?"--":""})}function yae(e,t){const n={:!1,:!1,:!1,:!1,:!1};for(const r of e){if(!r)continue;const i=Jd[r.charAt(0)];i&&(n[i]=!0);{const a=o4[r.charAt(1)];a&&(n[a]=!0)}}return n}function bae(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Jd[n.charAt(0)],i=o4[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function Gw(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const _ae=["","","","","","","","","",""];function xae(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=_m(n);i&&(t[i]=(t[i]??0)+r)}return t}function wae(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of _ae){const i=Jd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Sae={natal:50,dae:30,se:20,wol:7,il:3};function Eae(e){const t={};for(const{kind:r,bare:i}of e){const a=Sae[r]??0;if(a<=0)continue;const s=ob(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Aae(e){if(!e)return[];const t=_m(e.charAt(0)),n=_m(e.charAt(1));return[t,n].filter(Boolean)}function b0(e){const t=Aae(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Tae({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=xr(me=>me.settings),[a,s]=A.useState("   "),[c,d]=A.useState(""),[f,m]=A.useState(!0),{date:p,yearGZ:y,monthGZ:b,dayGZ:x}=Di(),T=A.useMemo(()=>Ke(y),[y]),S=A.useMemo(()=>Ke(b),[b]),j=A.useMemo(()=>Ke(x),[x]),D=Vm(e,e?.mingSikType),O=A.useMemo(()=>{if(!D?.length)return 0;const me=D.findIndex((Te,De)=>{const Le=D[De+1]?.at;return p>=Te.at&&(!Le||p<Le)});return me!==-1?me:p<D[0].at?0:D.length-1},[D,p]),M=A.useMemo(()=>{const me=r??D?.[O]?.gz??"";return Ke(me)||null},[r,D,O]),{manualHour:N}=Gm(),I=e.mingSikType??"/",$=A.useMemo(()=>vD(t),[t]),B=A.useMemo(()=>vD(n),[n]),H=A.useMemo(()=>{const me=[...$];return(!me[3]||me[3]==="")&&N&&(me[3]=N.stem+N.branch),me},[$,N]),Z=A.useMemo(()=>{const me=[...B];return(!me[3]||me[3]==="")&&N&&(me[3]=N.stem+N.branch),me},[B,N]),z=A.useMemo(()=>{const me=Number(e.birthDay?.slice(0,4)),Te=Number(e.birthDay?.slice(4,6)),De=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(me)||!Number.isFinite(Te)||!Number.isFinite(De))return null;const Le=new Date(me,Te-1,De,12,0,0,0),Be=Fw(gt(Le)||""),ge=Fw(Mt(Le)||""),Ue=Fw(Et(Le,I)||"");return[Be,ge,Ue,""]},[e.birthDay,I]),F=Gw(H),Q=Gw(Z),[ee]=A.useState("solar"),ye=ee==="lunar"?Q?"lunar":F?"solar":"lunar":F?"solar":Q?"lunar":"solar",J=A.useMemo(()=>{const Te=[...ye==="lunar"?Q?Z:F?H:z??["","","",""]:F?H:Q?Z:z??["","","",""]];return(!Te[3]||Te[3]==="")&&N&&(Te[3]=N.stem+N.branch),Te},[ye,F,Q,H,Z,z,N]),le=A.useMemo(()=>N?N.stem+N.branch:J[3]||"",[N,J]),ae=A.useMemo(()=>({dae:c!==""?M??null:null,se:c===""||c===""||c===""?T??null:null,wol:c===""||c===""?S??null:null,il:c===""?j??null:null}),[c,M,T,S,j]),he=A.useMemo(()=>e4({natal:J,tab:c,chain:ae,hourKey:le}),[J,c,ae,le]),ne=A.useMemo(()=>{if(!he)return null;const me=xae(he.perStemElementScaled),Te=ae.dae?b0(ae.dae):{},De=ae.se?b0(ae.se):{},Le=ae.wol?b0(ae.wol):{},Be=ae.il?b0(ae.il):{},ge=Eae([{kind:"natal",bare:me},{kind:"dae",bare:Te},{kind:"se",bare:De},{kind:"wol",bare:Le},{kind:"il",bare:Be}]),Ue=ob(ge),de=wae(Ue),pe=gae(ge,he.dayStem),$e=vae(pe),ze=pae(ge);return{perStemAugBare:ge,perStemAugFull:de,elemPct100:ze,totalsMain:$e,totalsSub:pe}},[he,ae]),q=A.useMemo(()=>yae(J),[J]),K=A.useMemo(()=>["","","","",""].some(me=>!q[me]),[q]),X=ne?.elemPct100??he?.elementPercent100??bae(J),re=A.useMemo(()=>{if(!he||!ne)return[];const me=C5(he.dayStem);return Object.entries(ne.totalsMain).map(([Te,De])=>({name:Te,value:De,color:me[Te]}))},[he,ne]),V=ne?.elemPct100??{:0,:0,:0,:0,:0},W=ne?.totalsSub??null,ue=A.useMemo(()=>N?N.stem+N.branch:J[3]||"",[N,J]),te=A.useMemo(()=>[c,M??"",T??"",S??"",j??"",p?.toISOString?.()??"",ue].join("|"),[c,M,T,S,j,p,ue]),Y=A.useMemo(()=>{const me=W?Object.entries(W).sort(([De],[Le])=>De.localeCompare(Le)).map(([De,Le])=>`${De}:${Le}`).join(","):"none",Te=re.map(De=>`${De.name}:${De.value}`).join(",");return`${te}||${J.join("")}||${Te}||${me}`},[te,J,re,W]),se=typeof IM=="function"?IM(J,he?.totals):null,Se=A.useMemo(()=>{const Te=(se?.ordered??[]).map(Be=>{const ge=Be.element??"",Ue=/||wood/i.test(ge)?"":/||fire/i.test(ge)?"":/||earth/i.test(ge)?"":/||metal/i.test(ge)?"":/||water/i.test(ge)?"":null,de=typeof Be.score=="number"?Be.score:Ue?X[Ue]??0:0,pe=Array.isArray(Be.reasons)?Be.reasons:[];return{element:ge,elNorm:Ue,score:de,reasons:pe}}),De=Be=>Be?q[Be]:!1,Le=f?Te.map(Be=>Be.elNorm&&!De(Be.elNorm)?{...Be,score:0,reasons:[...Be.reasons,":    0"]}:Be):Te;return Le.sort((Be,ge)=>{const Ue=De(Be.elNorm)?1:0,de=De(ge.elNorm)?1:0;return f&&Ue!==de?de-Ue:(ge.score??0)!==(Be.score??0)?(ge.score??0)-(Be.score??0):(Be.elNorm??Be.element).localeCompare(ge.elNorm??ge.element)}),Le},[se,f,X,q]),ce=A.useMemo(()=>Math.max(0,...Se.map(me=>Number.isFinite(me.score)?me.score:0)),[Se]);function Ne(me){return Q5(me,{criteriaMode:"modern",useHarmonyOverlay:!0})}return Gw(J)?_.jsxs("div",{className:"space-y-4 mb-4",children:[_.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:yne.map(me=>_.jsx("button",{onClick:()=>d(me),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(c===me?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:me},me))}),_.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["  ","   ","",""].map(me=>_.jsx("button",{onClick:()=>s(me),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(a===me?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:me},me))}),a===""&&_.jsx(zte,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:S||void 0,ilwoon:j||void 0,tab:c},`harm-${c}-${ue}`),a==="   "&&_.jsxs("div",{className:"space-y-4",children:[_.jsx(jte,{data:re,revKey:Y,perStemElementScaled:ne?.perStemAugFull,elementPercent:V,dayStem:J[2]?.charAt(0)??null},`pentagon-${Y}`),_.jsx(Mte,{value:Ne(J)}),_.jsx(Hre,{natal:J}),_.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"text-sm font-bold",children:" "}),K&&_.jsxs("button",{type:"button",onClick:()=>m(me=>!me),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${f?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":f,children:[": ",f?"ON":"OFF"]})]}),_.jsx("ul",{className:"space-y-2",children:Se.map((me,Te)=>_.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Te+1,""]}),_.jsx("span",{className:"text-sm font-semibold",children:me.element})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:_.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${ce>0?Math.max(2,Math.min(100,Math.round((me.score??0)/ce*100))):12}%`},title:` ${me.score}`})}),_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(me.reasons??[]).map((De,Le)=>_.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:De},Le))})]})]},me.elNorm??me.element))})]})]}),a===""&&_.jsx(Mre,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:S||void 0,ilwoon:j||void 0,tab:c},`shin-${c}-${ue}`),a==="  "&&_.jsx(sae,{unified:he,pillars:J,tab:c,mapping:i.hiddenStemMode},`gyeok-${c}-${ue}`)]}):_.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const kae=!1,yD=e=>e<10?`0${e}`:`${e}`,Oae=e=>typeof e=="string"&&e.length>=2,jae=e=>Array.isArray(e)&&e.length===4&&e.every(Oae);function Nae(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Qr(i,a,s,0,0),m=`${f.getFullYear()}${yD(f.getMonth()+1)}${yD(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Cae({data:e}){const[t,n]=A.useState("un"),r=A.useMemo(()=>{try{const c=Nae(e);return Wl(c)}catch{return new Date}},[e]),i=A.useMemo(()=>tb(e,r),[e,r]),a=!e.birthTime||e.birthTime==="",s=A.useMemo(()=>{try{const c=gt(i,e.birthPlace?.lon),d=Mt(i,e.birthPlace?.lon),f=Et(i,e.mingSikType),m=a?"":$a(i,e.mingSikType);return[c,d,f,m]}catch{return[]}},[i,e?.mingSikType,e?.birthPlace?.lon,a]);return _.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[_.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&_.jsx(fte,{data:e}),t==="myoun"&&_.jsx(xte,{data:e}),t==="report"&&_.jsx(Tae,{data:e,pillars:jae(s)?s:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),bD=e=>{const t=Dae(e);return t.charAt(0).toUpperCase()+t.slice(1)},s4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Pae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},d)=>A.createElement("svg",{ref:d,...Rae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:s4("lucide",i),...!a&&!Pae(c)&&{"aria-hidden":"true"},...c},[...s.map(([f,m])=>A.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(Lae,{ref:a,iconNode:t,className:s4(`lucide-${Mae(bD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=bD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$ae=ca("chevron-down",Iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zae=ca("chevron-up",Bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hae=ca("circle-x",Uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Gae=ca("heart-handshake",Fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Yae=ca("house",qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wae=ca("log-out",Kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Zae=ca("menu",Vae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jae=ca("plus",Xae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eoe=ca("settings",Qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],noe=ca("square-user",toe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_D=ca("star",roe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],aoe=ca("user-plus",ioe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],l4=ca("x",ooe);function soe({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){return _.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:_.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[_.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Zae,{size:22})}),_.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:t,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(aoe,{size:18})}),_.jsx("button",{type:"button",onClick:n,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(noe,{size:18})})]})]})})}function loe(e){A.useEffect(()=>{const t=e??IL()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");$L(t),e&&q0(e)},[e])}const c4=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function coe(e){return typeof e=="string"&&c4.includes(e)}function qw(e){const t=Array.isArray(e)?e.filter(coe):[],n=c4.filter(r=>!t.includes(r));return[...t,...n]}function uoe({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=xr(),a=A.useMemo(()=>qw(n.sectionOrder),[n.sectionOrder]),s=A.useMemo(()=>({...su,...n,sectionOrder:qw(n.sectionOrder)}),[n]),[c,d]=A.useState(a),[f,m]=A.useState(s),[p,y]=A.useState(null),[b,x]=A.useState(!1),T=A.useCallback(()=>y(null),[]),S=f.theme??n.theme??"dark";loe(S),A.useEffect(()=>{q0(S)},[S]),A.useEffect(()=>{if(!e)return;const N=qw(n.sectionOrder);b||(m({...su,...n,sectionOrder:N}),d(N),x(!1))},[e,n,b]);const j=(N,I)=>{m($=>{const B={...$,[N]:I};return N==="theme"&&q0(I),x(!0),B})},D=()=>{const N={...su,...f,sectionOrder:c};try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}r(N),N.theme&&q0(N.theme),i(!0),y(" "),x(!1),t()},O=N=>{const{destination:I,source:$}=N;if(!I||I.index===$.index)return;const B=Array.from(c),[H]=B.splice($.index,1);B.splice(I.index,0,H),d(B)},M=N=>{switch(N){case"theme":return _.jsx(ro,{title:"",children:_.jsx(doe,{value:f.theme??"dark",onChange:I=>j("theme",I)})});case"hiddenStem":return _.jsx(ro,{title:"  ",children:_.jsx(_d,{value:f.hiddenStem,onChange:I=>j("hiddenStem",I),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return _.jsx(ro,{title:" ",children:_.jsx(_d,{value:f.hiddenStemMode,onChange:I=>j("hiddenStemMode",I),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return _.jsx(ro,{title:"",children:_.jsx(_d,{value:f.sinsalMode,onChange:I=>j("sinsalMode",I),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return _.jsx(ro,{title:"",children:_.jsx(_d,{value:f.sinsalBase,onChange:I=>j("sinsalBase",I),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return _.jsx(ro,{title:" ",children:_.jsx(Yc,{label:" ",checked:!!f.sinsalBloom,onChange:I=>j("sinsalBloom",I)})});case"exposure":return _.jsx(ro,{title:" ",children:_.jsx(_d,{value:f.exposure,onChange:I=>j("exposure",I),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return _.jsx(ro,{title:" ",children:_.jsx(_d,{value:f.charType,onChange:I=>j("charType",I),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return _.jsx(ro,{title:" ",children:_.jsx(Yc,{label:" ",checked:!!f.thinEum,onChange:I=>j("thinEum",I)})});case"visibility":return _.jsx(ro,{title:" ",children:_.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[_.jsx(Yc,{label:" ",checked:!!f.showSipSin,onChange:I=>j("showSipSin",I)}),_.jsx(Yc,{label:" ",checked:!!f.showSibiUnseong,onChange:I=>j("showSibiUnseong",I)}),_.jsx(Yc,{label:" ",checked:!!f.showSibiSinsal,onChange:I=>j("showSibiSinsal",I)}),_.jsx(Yc,{label:" ",checked:!!f.showNabeum,onChange:I=>j("showNabeum",I)})]})});case"difficultyMode":return _.jsx(ro,{title:" UP ver.",children:_.jsx(Yc,{label:" UP ",checked:!!f.difficultyMode,onChange:I=>j("difficultyMode",I)})});default:return null}};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[_.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"text-lg font-bold",children:""}),_.jsx("button",{onClick:D,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&_.jsx(Km,{onDragEnd:O,children:_.jsx(lu,{droppableId:"settings-sections",children:N=>_.jsxs("ul",{ref:N.innerRef,...N.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[c.map((I,$)=>_.jsx(Zd,{draggableId:I,index:$,children:B=>_.jsxs("li",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsx("div",{className:"flex-1 min-w-0",children:M(I)})]})},I)),N.placeholder]})})})]}),p&&_.jsx(s5,{message:p,onClose:T,ms:1800})]})}function doe({value:e,onChange:t}){const n=e==="dark";return _.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[_.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),_.jsx("span",{children:n?"":""})]})}function ro({title:e,children:t}){return _.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),_.jsx("div",{className:"flex justify-center",children:t})]})}function _d({value:e,onChange:t,options:n}){return _.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return _.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function Yc({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return _.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[_.jsx("span",{children:e}),_.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),_.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function foe({onShowToday:e,onShowCouple:t}){const[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),d=async()=>{if(!i){a(!0);try{await Ye.auth.signOut(),window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:_.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[_.jsx(_0,{icon:_.jsx(Yae,{size:22}),label:" ",onClick:e}),_.jsx(_0,{icon:_.jsx(Gae,{size:22}),label:"",onClick:t}),_.jsx(_0,{icon:_.jsx(eoe,{size:22}),label:"",onClick:()=>r(!0)}),_.jsx(_0,{icon:_.jsx(Wae,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),_.jsx(uoe,{open:n,onClose:()=>r(!1)}),s&&_.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[_.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),d()},children:""})]})]})})]})}function _0({icon:e,label:t,onClick:n,disabled:r}){return _.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,_.jsx("span",{className:"mt-1",children:t})]})}function hoe(e,t){const[n,r]=A.useState(()=>{if(typeof window>"u")return{};try{const B=localStorage.getItem(tM);return B?JSON.parse(B):{}}catch{return{}}});A.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(tM,JSON.stringify(n))}catch{}},[n]);const[i,a]=A.useState({}),[s,c]=A.useState({}),[d,f]=A.useState(""),[m,p]=A.useState(!1),[y,b]=A.useState(()=>{const B=av(),H=ov();return H.length?Vh(B,H):B}),x=A.useRef(!1),T=A.useRef(!1);A.useEffect(()=>{(async()=>{if(m)return;const{data:{user:H},error:Z}=await Ye.auth.getUser();if(Z||!H)return;try{if(!T.current){const{data:J,error:le}=await Ye.from("user_custom_folders").select("folder_name").eq("user_id",H.id);if(le?.code==="PGRST205")T.current=!0;else if(!le&&J){const ae=J.map(he=>he.folder_name?he.folder_name.trim():"").filter(he=>he!=="");uA(ae)}else le&&console.error("load custom folders from server error:",le)}}catch(J){console.error("load custom folders exception:",J)}const{data:z,error:F}=await Ye.from("user_folder_order").select("folder_name, sort_order").eq("user_id",H.id).order("sort_order",{ascending:!0,nullsFirst:!0});if(F){console.error("load folder order from server error:",F),p(!0);return}const Q=av(),ee=(z??[]).map(J=>J.folder_name?String(J.folder_name):"").filter(J=>J.trim()!==""),ye=ee.length?Vh(Q,ee):Vh(Q,ov());b(ye),ee.length&&Cd(ee),p(!0)})()},[m]);const S=A.useCallback(async B=>{const{data:{user:H},error:Z}=await Ye.auth.getUser();if(Z||!H)return;const z=B.filter(Q=>typeof Q=="string"&&Q.trim()!=="").map((Q,ee)=>({user_id:H.id,folder_name:Q.trim(),sort_order:ee+1,updated_at:new Date().toISOString()}));if(!z.length){await Ye.from("user_folder_order").delete().eq("user_id",H.id);return}const{error:F}=await Ye.from("user_folder_order").upsert(z,{onConflict:"user_id,folder_name"});F&&console.error("save folder order to server error:",F)},[]),j=A.useCallback(async B=>{if(T.current)return;const{data:{user:H},error:Z}=await Ye.auth.getUser();if(Z||!H)return;const{error:z}=await Ye.from("user_custom_folders").upsert({user_id:H.id,folder_name:B,updated_at:new Date().toISOString()});z&&(z.code==="PGRST205"?T.current=!0:console.error("save custom folder error:",z))},[]),D=A.useCallback(async B=>{if(T.current)return;const{data:{user:H},error:Z}=await Ye.auth.getUser();if(Z||!H)return;const{error:z}=await Ye.from("user_custom_folders").delete().eq("user_id",H.id).eq("folder_name",B);z&&(z.code==="PGRST205"?T.current=!0:console.error("delete custom folder error:",z))},[]);A.useEffect(()=>{if(typeof window>"u")return;const B=()=>{if(x.current){x.current=!1;return}const H=av(),Z=ov(),z=Z.length?Vh(H,Z):H;b(z)};return window.addEventListener(pu,B),()=>window.removeEventListener(pu,B)},[]),A.useEffect(()=>{a(B=>{const H={...B};for(const Z of y)H[Z]===void 0&&(H[Z]=!0);return H})},[y]);const{grouped:O,unassignedItems:M}=A.useMemo(()=>{const B={};y.forEach(z=>{B[z]=[]});const H=[],Z=new Set;for(const z of e){if(!z.id||Z.has(z.id))continue;const F=z.folder;F&&y.includes(F)?B[F].push(z):H.push(z),Z.add(z.id)}return{grouped:B,unassignedItems:H}},[e,y]),N=A.useCallback(B=>{const{source:H,destination:Z,type:z}=B;if(!Z||z!=="FOLDER")return;const F=H.index,Q=Z.index;F!==Q&&b(ee=>{if(!ee.length)return ee;const ye=[...ee],[J]=ye.splice(F,1);return ye.splice(Q,0,J),x.current=!0,Cd(ye),S(ye),ye})},[S]);return{folderFavMap:n,setFolderFavMap:r,folderOpenMap:i,setFolderOpenMap:a,memoOpenMap:s,setMemoOpenMap:c,newFolderName:d,setNewFolderName:f,orderedFolders:y,grouped:O,unassignedItems:M,handleDragEnd:N,createFolder:B=>{const H=B.trim();!H||H===Cn||(o5(H),j(H),b(Z=>{if(Z.includes(H))return Z;const z=[...Z,H];return Cd(z),S(z),S(z),z}))},deleteFolder:B=>{e.forEach(H=>{H.folder===B&&t(H.id,{folder:void 0})}),r(H=>{const Z={...H};return delete Z[B],Z}),b(H=>{const Z=H.filter(z=>z!==B);return Cd(Z),S(Z),S(Z),(async()=>{const{data:{user:z},error:F}=await Ye.auth.getUser();F||!z||await Ye.from("user_folder_order").delete().eq("user_id",z.id).eq("folder_name",B)})(),Z}),r5.includes(B)?GJ(B):(FJ(B),D(B))},UNASSIGNED_LABEL:Cn}}function xD(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===""?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function moe(e){if(!e)return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=s=>t.find(c=>s.some(d=>c.endsWith(d))),r=n(["","",""]),i=n(["","","",""]);return t.length===1||!n(["","","","","","",""])&&!n(["","","","",""])?e:r&&i?`${r} ${i}`:r||e}function mE(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function poe(e,t,n){if(n)return"";if((e??"").trim()){const a=new Date(t);return cE(a)}const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":cE(i)}const goe="list:__unassigned__",voe=e=>`list:${e}`,wD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},yoe="myeoun:folder-updated",SD=()=>{typeof window>"u"||window.dispatchEvent(new Event(yoe))};function boe(e){const t=mE(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Rv(r,i,a)||!e.birthTime||e.birthTime==="")return t;const s=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),d=s-1<0?23:s-1,f=String(d).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;new Date(m.getTime()-3600*1e3);const p=Zy({...e,birthTime:f});return mE({...e,...p})}function _oe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:s,remove:c,update:d,reorder:f}=La(),{folderFavMap:m,setFolderFavMap:p,folderOpenMap:y,setFolderOpenMap:b,memoOpenMap:x,setMemoOpenMap:T,newFolderName:S,setNewFolderName:j,orderedFolders:D,grouped:O,unassignedItems:M,handleDragEnd:N,createFolder:I,deleteFolder:$,UNASSIGNED_LABEL:B}=hoe(s,d),[H,Z]=A.useState(""),[z,F]=A.useState("name"),Q=/\S/.test(H),{filteredUnassigned:ee,filteredGrouped:ye,totalMatches:J}=A.useMemo(()=>{const K=Y=>Y.toLowerCase().replace(/\s+/g," ").trim();if(!Q)return{filteredUnassigned:M,filteredGrouped:O,totalMatches:M.length+Object.values(O).reduce((Y,se)=>Y+se.length,0)};const X=K(H),re=Y=>{const se=String(Y.birthDay??"").trim();let Se="",ce="",Ne="";if(/^\d{8}$/.test(se))Se=se.slice(0,4),ce=se.slice(4,6),Ne=se.slice(6,8);else{const Be=new Date(se);if(!Number.isNaN(Be.getTime())){const ge=Be.getFullYear(),Ue=Be.getMonth()+1,de=Be.getDate();Se=String(ge).padStart(4,"0"),ce=String(Ue).padStart(2,"0"),Ne=String(de).padStart(2,"0")}}const me=Se&&ce&&Ne?`${Se}${ce}${Ne}`:"",Te=Se&&ce&&Ne?`${Se}-${ce}-${Ne}`:"",De=Se&&ce&&Ne?`${Se}.${ce}.${Ne}`:"",Le=xD(Y.birthDay,Y.birthTime);return K([me,Te,De,Le].filter(Boolean).join(" "))},V=Y=>z==="name"?K(Y.name??"").includes(X):z==="ganji"?K(mE(Y)??"").includes(X):re(Y).includes(X),W=M.filter(V),ue={};let te=W.length;for(const Y of D){const se=(O[Y]||[]).filter(V);ue[Y]=se,te+=se.length}return{filteredUnassigned:W,filteredGrouped:ue,totalMatches:te}},[H,z,Q,M,O,D]),le=A.useRef(null),ae=A.useRef(null);A.useEffect(()=>{if(ae.current==null)return;const K=le.current;K&&(K.scrollTop=ae.current,ae.current=null)},[s,D]);const he=K=>({...K,transition:K?.transform?"transform 0.15s ease":"none"}),ne=(K,X)=>{const re=boe(K),V=moe(K.birthPlace?.name),W=`item:${K.id}`,ue=!!x[K.id],te=K.gender===""?"":K.gender===""?"":K.gender,Y=!K.birthTime||K.birthTime==="",se=poe(K.correctedLocal,K.corrected,Y),Se=String(K.birthDay).trim();let ce=NaN;if(/^\d{8}$/.test(Se)){const De=`${Se.slice(0,4)}-${Se.slice(4,6)}-${Se.slice(6,8)}`,Le=new Date(De);Number.isNaN(Le.getTime())||(ce=Le.getFullYear())}else{const De=new Date(Se);Number.isNaN(De.getTime())||(ce=De.getFullYear())}function Ne(De,Le){return Number.isNaN(De)?0:Le-De+1}const me=new Date().getFullYear(),Te=Ne(ce,me);return _.jsx(Zd,{draggableId:W,index:X,isDragDisabled:Q,children:De=>_.jsx("li",{ref:De.innerRef,...De.draggableProps,...De.dragHandleProps,style:he(De.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:_.jsxs("div",{className:"p-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[K.name," (",Te,", ",te,")"]}),_.jsx("span",{className:"opacity-40",children:""}),_.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:K.relationship?K.relationship:" "}),_.jsx("span",{className:"ml-auto opacity-50 select-none",children:""})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[xD(K.birthDay,K.birthTime),","," ",K.calendarType==="lunar"?"":""]}),(V||se)&&_.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[V,se&&_.jsxs("span",{className:"opacity-70",children:[" "," "," ",Y?"":se]})]}),re&&_.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:re}),K.memo&&K.memo.trim()!==""&&_.jsxs("div",{children:[_.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Le=>{Le.stopPropagation(),T(Be=>({...Be,[K.id]:!Be[K.id]}))},children:ue?" ":" "}),_.jsx("div",{className:ue?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:K.memo})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[_.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:K.folder??B,onClick:Le=>Le.stopPropagation(),onChange:Le=>{Le.stopPropagation();const Be=Le.target.value,ge=Be===B?void 0:Be;d(K.id,{folder:ge})},children:[B,...D].map(Le=>_.jsx("option",{value:Le,children:Le},Le))}),_.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:K.mingSikType??"/",onClick:Le=>Le.stopPropagation(),onChange:Le=>{Le.stopPropagation();const Be=Le.target.value,ge={...K,mingSikType:Be},Ue=Zy(ge);d(K.id,{mingSikType:Be,...Ue}),n({...ge,...Ue}),t()},children:[_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"/",children:"/"}),_.jsx("option",{value:"",children:""})]})]}),_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:Le=>{Le.stopPropagation(),n(K),t()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:""}),_.jsx("button",{onClick:Le=>{Le.stopPropagation(),i?.(K)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:""}),_.jsx("button",{onClick:Le=>{Le.stopPropagation(),confirm(`'${K.name}'  ?`)&&(c(K.id),a&&a())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:""}),_.jsx("button",{type:"button",onClick:Le=>{Le.stopPropagation();const Be=!K.favorite;d(K.id,{favorite:Be});const ge=K.folder??"__unassigned__",Ue={__unassigned__:[]};D.forEach(ze=>{Ue[ze]=[]}),s.forEach(ze=>{const Fe=ze.folder??"__unassigned__";Ue[Fe]||(Ue[Fe]=[]),Ue[Fe].push(ze)});const pe=(Ue[ge]??[]).filter(ze=>ze.id!==K.id);Be?Ue[ge]=[{...K,favorite:Be},...pe]:Ue[ge]=[...pe,{...K,favorite:Be}];const $e=[...Ue.__unassigned__,...D.flatMap(ze=>Ue[ze]??[])];f($e)},className:`ml-auto p-1 rounded cursor-pointer ${K.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(_D,{size:16,fill:K.favorite?"currentColor":"none"})})]})]})})},W)},q=K=>{const{type:X,source:re,destination:V,draggableId:W}=K;if(!V||Q)return;const ue=le.current;if(ue&&(ae.current=ue.scrollTop),X==="FOLDER"){N(K);return}if(X==="ITEM"){if(!W.replace(/^item:/,""))return;const Y=wD(re.droppableId),se=wD(V.droppableId),Se=Y??"__unassigned__",ce=se??"__unassigned__",Ne={__unassigned__:[...M]};D.forEach(ge=>{Ne[ge]=[...O[ge]||[]]});const me=Ne[Se]??[];if(!me[re.index])return;const[Te]=me.splice(re.index,1),De={...Te,folder:se??void 0},Le=Ne[ce]??[];Le.splice(V.index,0,De),Ne[Se]=me,Ne[ce]=Le;const Be=[...Ne.__unassigned__,...D.flatMap(ge=>Ne[ge]??[])];f(Be)}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[_.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("h2",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:()=>{r(),t()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[_.jsx(Jae,{size:16})," "]}),_.jsx("button",{onClick:t,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:_.jsx(l4,{size:22})})]})]}),_.jsx(Km,{onDragEnd:q,children:_.jsxs("div",{ref:le,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[_.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{value:z,onChange:K=>F(K.target.value),className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"name",children:""}),_.jsx("option",{value:"ganji",children:""}),_.jsx("option",{value:"birth",children:""})]}),_.jsxs("div",{className:"relative flex-1",children:[_.jsx("input",{type:"text",value:H,onChange:K=>Z(K.target.value),placeholder:z==="name"?" ":z==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:`w-full pl-7 pr-8 py-1 h-30 rounded
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-[16px] text-neutral-900 dark:text-neutral-100
                               placeholder-neutral-400 dark:placeholder-neutral-500
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`}),H&&_.jsx("button",{type:"button",onClick:()=>Z(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:_.jsx(Hae,{size:16})})]}),Q&&_.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[J,""]})]})}),_.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[_.jsx("input",{type:"text",value:S,onChange:K=>j(K.target.value),placeholder:"  ",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:K=>K.stopPropagation()}),_.jsx("button",{type:"button",className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClick:K=>{K.stopPropagation();const X=S.trim();X&&(I(X),j(""),SD())},children:""})]}),_.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:Q?"   .":"/      ."}),_.jsx(lu,{droppableId:goe,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Q,children:K=>{const X=ee;return _.jsx("div",{ref:K.innerRef,...K.droppableProps,className:"mb-6",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[X.map((re,V)=>ne(re,V)),K.placeholder]})})}}),_.jsx(lu,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Q,children:K=>_.jsxs("div",{ref:K.innerRef,...K.droppableProps,children:[D.map((X,re)=>{const V=voe(X),W=ye[X]||[],ue=!!y[X],te=!!m[X];return _.jsx(Zd,{draggableId:`folder-${X}`,index:re,isDragDisabled:Q,children:Y=>_.jsxs("div",{ref:Y.innerRef,...Y.draggableProps,...Y.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[_.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:se=>{se.stopPropagation(),b(Se=>({...Se,[X]:!ue}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[ue?_.jsx(zae,{size:16}):_.jsx($ae,{size:16}),_.jsx("span",{className:"text-sm font-semibold",children:X})]}),_.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),p(Se=>({...Se,[X]:!Se[X]}))},className:`p-1 rounded cursor-pointer ${te?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(_D,{size:16,fill:te?"currentColor":"none"})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"opacity-60 text-xs",children:[W.length,""]}),_.jsx("button",{type:"button",onClick:se=>{if(se.stopPropagation(),m[X]){alert(`'${X}'    .
   .`);return}confirm(`'${X}'  ?
(   )`)&&($(X),SD())},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:""})]})]}),ue&&_.jsx(lu,{droppableId:V,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Q,children:se=>_.jsx("div",{ref:se.innerRef,...se.droppableProps,className:"mt-2",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[W.map((Se,ce)=>ne(Se,ce)),se.placeholder]})})})]})},`folder-${X}`)}),K.placeholder]})})]})})]})]})}const ED="ms_folders",Yw="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",xoe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",woe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ws="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Soe="text-xs text-neutral-500 dark:text-neutral-400",x0="accent-violet-600 dark:accent-violet-400",AD="accent-violet-600 dark:accent-violet-400",sb="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Eoe=`${sb} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Aoe=`${sb} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,TD=`${sb} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Toe=`${sb} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function koe({item:e,onClose:t}){const{list:n,update:r,remove:i}=La(),[a,s]=A.useState(!1),[c,d]=A.useState({...e,calendarType:e.calendarType??"solar"}),[f,m]=A.useState(!e.birthTime||e.birthTime===""),[p,y]=A.useState(!e.birthPlace||e.birthPlace.name===""),b=A.useMemo(()=>["","","","","",""],[]),[x,T]=A.useState([]);A.useEffect(()=>{try{const N=JSON.parse(localStorage.getItem(ED)||"[]");Array.isArray(N)&&T(N)}catch{}},[]);const S=A.useMemo(()=>{const N=Array.from(new Set(n.map(B=>B.folder).filter(Boolean))),I=new Set([...b,...x,...N]),$=Array.from(I).sort((B,H)=>B.localeCompare(H));return[Cn,...$]},[n,x,b]),j=()=>{d({...e,calendarType:e.calendarType??"solar"}),m(!e.birthTime||e.birthTime===""),y(!e.birthPlace||e.birthPlace.name==="")},D=()=>{if(!c.name||c.name.trim()==="")return" .";if(!c.birthDay||!/^\d{8}$/.test(c.birthDay))return" YYYYMMDD  .";const N=Number(c.birthDay.slice(0,4)),I=Number(c.birthDay.slice(4,6)),$=Number(c.birthDay.slice(6,8));if(c.calendarType==="lunar")try{Qr(N,I,$)}catch(B){return B instanceof Error?B.message:"   ."}else{const B=new Date(N,I-1,$);if(B.getFullYear()!==N||B.getMonth()+1!==I||B.getDate()!==$)return"   ."}if(!f){if(!c.birthTime||!/^\d{4}$/.test(c.birthTime))return"  00002359 (4) .";const B=Number(c.birthTime.slice(0,2)),H=Number(c.birthTime.slice(2,4));if(B<0||B>23||H<0||H>59)return"  00002359  ."}return!p&&!c.birthPlace?"   '' .":null},O=()=>{const N=D();if(N){alert(N);return}const I=Number(c.birthDay.slice(0,4)),$=Number(c.birthDay.slice(4,6)),B=Number(c.birthDay.slice(6,8));let H=I,Z=$,z=B;if(c.calendarType==="lunar"){const W=Qr(I,$,B);H=W.getFullYear(),Z=W.getMonth()+1,z=W.getDate()}const F=f?4:Number((c.birthTime??"0430").slice(0,2)),Q=f?30:Number((c.birthTime??"0430").slice(2,4)),ee=p||!c.birthPlace||c.birthPlace.lon===0?127.5:c.birthPlace.lon,ye=new Date(H,Z-1,z,F,Q,0,0),J=!c.birthPlace||typeof c.birthPlace=="object"&&c.birthPlace.name==="",le=Su(ye,ee,J),he=gt(le,ee).charAt(0),q=((W,ue)=>{const Y=["","","","","","","","","",""].includes(W),se=(ue??"")==="";return Y?se?"forward":"backward":se?"backward":"forward"})(he,c.gender??""),K=cu(c.folder===Cn?void 0:c.folder),X={...e,name:(c.name??"").trim()||"",birthDay:c.birthDay,birthTime:f?"":c.birthTime??"0430",gender:c.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:c.birthPlace??{name:"",lat:0,lon:127.5},relationship:c.relationship??"",memo:c.memo??"",folder:K,calendarType:c.calendarType??"solar",mingSikType:c.mingSikType??"/",DayChangeRule:(c.mingSikType??"/")===""?"":"",dir:q,corrected:le,correctedLocal:"",ganji:""},re=Zy(X),V={...X,...re};if(V.folder&&!b.includes(V.folder)&&!x.includes(V.folder)){const W=[...x,V.folder];T(W),localStorage.setItem(ED,JSON.stringify(W))}r(e.id,V),s(!1),t&&t()},M=()=>{confirm(`'${e.name}'  ?`)&&i(e.id)};return a?_.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[_.jsx("h3",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{children:[_.jsx("label",{className:ws,children:""}),_.jsx("input",{className:Yw,value:c.name||"",onChange:N=>d({...c,name:N.target.value}),placeholder:""})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:ws,children:" (YYYYMMDD)"}),_.jsx("input",{className:Yw,value:c.birthDay||"",onChange:N=>d({...c,birthDay:N.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),_.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:x0,name:"calendarType",checked:c.calendarType==="solar",onChange:()=>d({...c,calendarType:"solar"}),id:"editor_calendar_solar"}),_.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:x0,name:"calendarType",checked:c.calendarType==="lunar",onChange:()=>d({...c,calendarType:"lunar"}),id:"editor_calendar_lunar"}),_.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),c.calendarType==="lunar"&&c.birthDay?.length===8&&_.jsx("span",{className:Soe,children:(()=>{try{const N=Number(c.birthDay.slice(0,4)),I=Number(c.birthDay.slice(4,6)),$=Number(c.birthDay.slice(6,8)),B=Qr(N,I,$);return`  ${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}-${String(B.getDate()).padStart(2,"0")}`}catch(N){const I=N instanceof Error?N.message:void 0;return`  ${I?`: ${I}`:""}`}})()})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:ws,children:"  (HHMM)"}),_.jsx("input",{className:`${Yw} disabled:opacity-50`,value:f?"":c.birthTime||"",onChange:N=>d({...c,birthTime:N.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:f}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:AD,checked:f,onChange:N=>m(N.target.checked),id:"editor_birthTimeX"}),_.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:ws,children:" "}),_.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(N=>{const I=`editor_ming_${N}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:x0,name:"mingSikType",checked:(c.mingSikType??"")===N,onChange:()=>d({...c,mingSikType:N}),id:I}),_.jsx("label",{htmlFor:I,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:N})]},N)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:ws,children:""}),_.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(N=>{const I=`editor_gender_${N}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:x0,name:"gender",value:N,checked:c.gender===N,onChange:$=>d({...c,gender:$.target.value}),id:I}),_.jsx("label",{htmlFor:I,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:N})]},N)})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:ws,children:" "}),_.jsx(U$,{onSelect:N=>d({...c,birthPlace:N}),value:p?"":c.birthPlace?.name??""}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:AD,checked:p,onChange:N=>y(N.target.checked),id:"editor_birthPlaceX"}),_.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:ws,children:""}),_.jsx(n5,{value:c.relationship||"",onChange:N=>d({...c,relationship:N})})]}),_.jsxs("div",{children:[_.jsx("label",{className:ws,children:""}),_.jsx("select",{className:xoe,value:c.folder??Cn,onChange:N=>{const I=N.target.value;d(I===Cn?{...c,folder:void 0}:{...c,folder:I})},children:S.map(N=>_.jsx("option",{value:N===Cn?Cn:N,children:N},N))})]}),_.jsxs("div",{children:[_.jsx("label",{className:ws,children:""}),_.jsx("textarea",{className:woe,value:c.memo||"",onChange:N=>d({...c,memo:N.target.value}),placeholder:" "})]}),_.jsxs("div",{className:"flex gap-2 justify-end",children:[_.jsx("button",{className:TD,onClick:()=>{j(),s(!1)},children:""}),_.jsx("button",{className:Toe,onClick:O,children:""})]})]}):_.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:Eoe,onClick:()=>s(!0),children:""}),_.jsx("button",{className:Aoe,onClick:M,children:""}),t&&_.jsx("button",{className:TD,onClick:t,children:""})]})]}),_.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[_.jsxs("div",{children:[": ",e.gender]}),_.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),_.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),_.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),_.jsxs("div",{children:[": ",e.relationship||"-"]}),_.jsxs("div",{children:[": ",e.folder??Cn]})]}),e.ganji&&_.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&_.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[_.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Ooe({children:e}){const t=Xl(),[n,r]=A.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return _.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[_.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[_.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"desk:block hidden",children:""}),_.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),_.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const s=t.pathname.startsWith(a.href);return _.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${s?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),_.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[_.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[_.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),_.jsx("div",{className:"font-semibold",children:" "}),_.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/#/",children:" "})]}),_.jsx("div",{className:"flex-1",children:e})]})]})}function joe(){const[e,t]=A.useState(null),[n,r]=A.useState(!0);return A.useEffect(()=>{(async()=>{const{data:a}=await Ye.auth.getUser(),s=a.user?.id;if(!s){t(null),r(!1);return}const{data:c}=await Ye.from("admin_roles").select("role").eq("user_id",s).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Noe({allow:e,children:t}){const{role:n,loading:r}=joe();return r?_.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?_.jsx("div",{className:"text-red-400 p-6",children:" ."}):_.jsx(_.Fragment,{children:t})}function u4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=u4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function bn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=u4(e))&&(r&&(r+=" "),r+=t);return r}var Coe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function DA(e){if(typeof e!="string")return!1;var t=Coe;return t.includes(e)}var Moe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Doe=new Set(Moe);function d4(e){return typeof e!="string"?!1:Doe.has(e)}function f4(e){return typeof e=="string"&&e.startsWith("data-")}function go(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(d4(n)||f4(n))&&(t[n]=e[n]);return t}function lb(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return go(t)}return typeof e=="object"&&!Array.isArray(e)?go(e):null}function Ba(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(d4(n)||f4(n)||DA(n))&&(t[n]=e[n]);return t}function Poe(e){return e==null?null:A.isValidElement(e)?Ba(e.props):typeof e=="object"&&!Array.isArray(e)?Ba(e):null}var Roe=["children","width","height","viewBox","className","style","title","desc"];function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(null,arguments)}function Loe(e,t){if(e==null)return{};var n,r,i=Ioe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var h4=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:d,desc:f}=e,m=Loe(e,Roe),p=a||{width:r,height:i,x:0,y:0},y=bn("recharts-surface",s);return A.createElement("svg",pE({},Ba(m),{className:y,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),$oe=["children","className"];function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gE.apply(null,arguments)}function Boe(e,t){if(e==null)return{};var n,r,i=zoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wo=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Boe(e,$oe),a=bn("recharts-layer",r);return A.createElement("g",gE({className:a},Ba(i),{ref:t}),n)}),Uoe=A.createContext(null);function Un(e){return function(){return e}}const vE=Math.PI,yE=2*vE,Xc=1e-6,Hoe=yE-Xc;function m4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Foe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return m4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Goe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?m4:Foe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=r-t,f=i-n,m=s-t,p=c-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Xc)if(!(Math.abs(p*d-f*m)>Xc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-s,x=i-c,T=d*d+f*f,S=b*b+x*x,j=Math.sqrt(T),D=Math.sqrt(y),O=a*Math.tan((vE-Math.acos((T+y-S)/(2*j*D)))/2),M=O/D,N=O/j;Math.abs(M-1)>Xc&&this._append`L${t+M*m},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*b>m*x)},${this._x1=t+N*d},${this._y1=n+N*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=t+c,m=n+d,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Xc||Math.abs(this._y1-m)>Xc)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%yE+yE),y>Hoe?this._append`A${r},${r},0,1,${p},${t-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:y>Xc&&this._append`A${r},${r},0,${+(y>=vE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function p4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Goe(t)}function PA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g4(e){this._context=e}g4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cb(e){return new g4(e)}function v4(e){return e[0]}function y4(e){return e[1]}function b4(e,t){var n=Un(!0),r=null,i=cb,a=null,s=p4(c);e=typeof e=="function"?e:e===void 0?v4:Un(e),t=typeof t=="function"?t:t===void 0?y4:Un(t);function c(d){var f,m=(d=PA(d)).length,p,y=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(p,f,d),+t(p,f,d));if(b)return a=null,b+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Un(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function w0(e,t,n){var r=null,i=Un(!0),a=null,s=cb,c=null,d=p4(f);e=typeof e=="function"?e:e===void 0?v4:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?y4:Un(+n);function f(p){var y,b,x,T=(p=PA(p)).length,S,j=!1,D,O=new Array(T),M=new Array(T);for(a==null&&(c=s(D=d())),y=0;y<=T;++y){if(!(y<T&&i(S=p[y],y,p))===j)if(j=!j)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=y-1;x>=b;--x)c.point(O[x],M[x]);c.lineEnd(),c.areaEnd()}j&&(O[y]=+e(S,y,p),M[y]=+t(S,y,p),c.point(r?+r(S,y,p):O[y],n?+n(S,y,p):M[y]))}if(D)return c=null,D+""||null}function m(){return b4().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:Un(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Un(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Un(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Un(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Un(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(c=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=c=null:c=s(a=p),f):a},f}class _4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function qoe(e){return new _4(e,!0)}function Yoe(e){return new _4(e,!1)}function Hv(){}function Fv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function x4(e){this._context=e}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Koe(e){return new x4(e)}function w4(e){this._context=e}w4.prototype={areaStart:Hv,areaEnd:Hv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Woe(e){return new w4(e)}function S4(e){this._context=e}S4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Voe(e){return new S4(e)}function E4(e){this._context=e}E4.prototype={areaStart:Hv,areaEnd:Hv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Zoe(e){return new E4(e)}function kD(e){return e<0?-1:1}function OD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(kD(a)+kD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function jD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Kw(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function Gv(e){this._context=e}Gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kw(this,this._t0,jD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kw(this,jD(this,n=OD(this,e,t)),n);break;default:Kw(this,this._t0,n=OD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function A4(e){this._context=new T4(e)}(A4.prototype=Object.create(Gv.prototype)).point=function(e,t){Gv.prototype.point.call(this,t,e)};function T4(e){this._context=e}T4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Xoe(e){return new Gv(e)}function Joe(e){return new A4(e)}function k4(e){this._context=e}k4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ND(e),i=ND(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ND(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Qoe(e){return new k4(e)}function ub(e,t){this._context=e,this._t=t}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ese(e){return new ub(e,.5)}function tse(e){return new ub(e,0)}function nse(e){return new ub(e,1)}function Qd(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function rse(e,t){return e[t]}function ise(e){const t=[];return t.key=e,t}function ase(){var e=Un([]),t=bE,n=Qd,r=rse;function i(a){var s=Array.from(e.apply(this,arguments),ise),c,d=s.length,f=-1,m;for(const p of a)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(p,s[c].key,f,a)]).data=p;for(c=0,m=PA(t(s));c<d;++c)s[m[c]].index=c;return n(s,m),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Un(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Un(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?bE:typeof a=="function"?a:Un(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Qd,i):n},i}function ose(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Qd(e,t)}}function sse(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Qd(e,t)}}function lse(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,d=0,f=0;c<s;++c){for(var m=e[t[c]],p=m[r][1]||0,y=m[r-1][1]||0,b=(p-y)/2,x=0;x<c;++x){var T=e[t[x]],S=T[r][1]||0,j=T[r-1][1]||0;b+=S-j}d+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Qd(e,t)}}var Ww={},Vw={},CD;function cse(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Vw)),Vw}var Zw={},MD;function O4(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Zw)),Zw}var Xw={},DD;function RA(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Xw)),Xw}var Jw={},Qw={},PD;function use(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Qw)),Qw}var RD;function LA(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=use(),n=RA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<s;){const p=i[c];f?p==="\\"&&c+1<s?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(d),d=""):d+=p:p==="["?(m=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,c++}return d&&a.push(d),a}e.toPath=r})(Jw)),Jw}var LD;function IA(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cse(),n=O4(),r=RA(),i=LA();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return s(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function s(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}e.get=a})(Ww)),Ww}var e1,ID;function dse(){return ID||(ID=1,e1=IA().get),e1}var fse=dse();const db=Pi(fse);var Ma=e=>e===0?0:e>0?1:-1,vo=e=>typeof e=="number"&&e!=+e,Is=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!vo(e),Vo=e=>nt(e)||typeof e=="string",hse=0,xm=e=>{var t=++hse;return"".concat(e||"").concat(t)},Vl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return r;var a;if(Is(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return vo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},j4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Fo(e,t,n){return nt(e)&&nt(t)?e+n*(t-e):t}function N4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):db(r,t))===n)}var Ir=e=>e===null||typeof e>"u",$A=e=>Ir(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function mse(e){return e!=null}function Jm(){}var C4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,BA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{DA(i)&&(r[i]=(a=>n[i](n,a)))}),r},pse=(e,t,n)=>r=>(e(t,n,r),null),gse=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];DA(i)&&typeof a=="function"&&(r||(r={}),r[i]=pse(a,t,n))}),r};function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(r){yse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yse(e,t,n){return(t=bse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bse(e){var t=_se(e,"string");return typeof t=="symbol"?t:t+""}function _se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ua(e,t){var n=vse({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}var t1={},n1={},BD;function xse(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(n1)),n1}var r1={},zD;function M4(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(r1)),r1}var i1={},a1={},o1={},UD;function wse(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(o1)),o1}var HD;function zA(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wse();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(a1)),a1}var s1={},FD;function Sse(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(s1)),s1}var GD;function Ese(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA(),n=Sse();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(i1)),i1}var l1={},c1={},qD;function Ase(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(c1)),c1}var u1={},d1={},f1={},h1={},YD;function D4(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(h1)),h1}var m1={},KD;function P4(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(m1)),m1}var p1={},WD;function R4(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(p1)),p1}var VD;function Tse(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4(),n=P4(),r=R4();function i(m,p,y){return typeof y!="function"?i(m,p,()=>{}):a(m,p,function b(x,T,S,j,D,O){const M=y(x,T,S,j,D,O);return M!==void 0?!!M:a(x,T,b,O)},new Map)}function a(m,p,y,b){if(p===m)return!0;switch(typeof p){case"object":return s(m,p,y,b);case"function":return Object.keys(p).length>0?a(m,{...p},y,b):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function s(m,p,y,b){if(p==null)return!0;if(Array.isArray(p))return d(m,p,y,b);if(p instanceof Map)return c(m,p,y,b);if(p instanceof Set)return f(m,p,y,b);const x=Object.keys(p);if(m==null)return x.length===0;if(x.length===0)return!0;if(b?.has(p))return b.get(p)===m;b?.set(p,m);try{for(let T=0;T<x.length;T++){const S=x[T];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!y(m[S],p[S],S,m,p,b))return!1}return!0}finally{b?.delete(p)}}function c(m,p,y,b){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[x,T]of p.entries()){const S=m.get(x);if(y(S,T,x,m,p,b)===!1)return!1}return!0}function d(m,p,y,b){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const x=new Set;for(let T=0;T<p.length;T++){const S=p[T];let j=!1;for(let D=0;D<m.length;D++){if(x.has(D))continue;const O=m[D];let M=!1;if(y(O,S,T,m,p,b)&&(M=!0),M){x.add(D),j=!0;break}}if(!j)return!1}return!0}function f(m,p,y,b){return p.size===0?!0:m instanceof Set?d([...m],[...p],y,b):!1}e.isMatchWith=i,e.isSetMatch=f})(f1)),f1}var ZD;function L4(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tse();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(d1)),d1}var g1={},v1={},y1={},XD;function kse(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(y1)),y1}var b1={},JD;function I4(){return JD||(JD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(b1)),b1}var _1={},QD;function $4(){return QD||(QD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",x="[object Error]",T="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",N="[object Int8Array]",I="[object Int16Array]",$="[object Int32Array]",B="[object BigInt64Array]",H="[object Float32Array]",Z="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=T,e.dateTag=c,e.errorTag=x,e.float32ArrayTag=H,e.float64ArrayTag=Z,e.functionTag=p,e.int16ArrayTag=I,e.int32ArrayTag=$,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=D,e.uint32ArrayTag=O,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(_1)),_1}var x1={},eP;function Ose(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(x1)),x1}var tP;function B4(){return tP||(tP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kse(),n=I4(),r=$4(),i=P4(),a=Ose();function s(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,y,b=new Map,x=void 0){const T=x?.(m,p,y,b);if(T!==void 0)return T;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const S=new Array(m.length);b.set(m,S);for(let j=0;j<m.length;j++)S[j]=c(m[j],j,y,b,x);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;b.set(m,S);for(const[j,D]of m)S.set(j,c(D,j,y,b,x));return S}if(m instanceof Set){const S=new Set;b.set(m,S);for(const j of m)S.add(c(j,void 0,y,b,x));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,S);for(let j=0;j<m.length;j++)S[j]=c(m[j],j,y,b,x);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,S),d(S,m,y,b,x),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return b.set(m,S),d(S,m,y,b,x),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return b.set(m,S),d(S,m,y,b,x),S}if(m instanceof Error){const S=new m.constructor;return b.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,y,b,x),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return b.set(m,S),d(S,m,y,b,x),S}if(m instanceof Number){const S=new Number(m.valueOf());return b.set(m,S),d(S,m,y,b,x),S}if(m instanceof String){const S=new String(m.valueOf());return b.set(m,S),d(S,m,y,b,x),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return b.set(m,S),d(S,m,y,b,x),S}return m}function d(m,p,y=m,b,x){const T=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<T.length;S++){const j=T[S],D=Object.getOwnPropertyDescriptor(m,j);(D==null||D.writable)&&(m[j]=c(p[j],j,y,b,x))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(v1)),v1}var nP;function jse(){return nP||(nP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B4();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(g1)),g1}var rP;function Nse(){return rP||(rP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L4(),n=jse();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(u1)),u1}var w1={},S1={},E1={},iP;function Cse(){return iP||(iP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B4(),n=$4();function r(i,a){return t.cloneDeepWith(i,(s,c,d,f)=>{const m=a?.(s,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(E1)),E1}var aP;function Mse(){return aP||(aP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cse();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(S1)),S1}var A1={},T1={},oP;function z4(){return oP||(oP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(T1)),T1}var k1={},sP;function Dse(){return sP||(sP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I4();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(k1)),k1}var lP;function Pse(){return lP||(lP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4(),n=z4(),r=Dse(),i=LA();function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&s?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=s;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(A1)),A1}var cP;function Rse(){return cP||(cP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L4(),n=RA(),r=Mse(),i=IA(),a=Pse();function s(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=s})(w1)),w1}var uP;function Lse(){return uP||(uP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M4(),n=Ase(),r=Nse(),i=Rse();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(l1)),l1}var dP;function Ise(){return dP||(dP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xse(),n=M4(),r=Ese(),i=Lse();function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(t1)),t1}var O1,fP;function $se(){return fP||(fP=1,O1=Ise().uniqBy),O1}var Bse=$se();const hP=Pi(Bse);function zse(e,t,n){return t===!0?hP(e,n):typeof t=="function"?hP(e,t):e}var j1={exports:{}},N1={},C1={exports:{}},M1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function Use(){if(mP)return M1;mP=1;var e=sf();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function c(p,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),T=x[0].inst,S=x[1];return a(function(){T.value=b,T.getSnapshot=y,d(T)&&S({inst:T})},[p,b,y]),i(function(){return d(T)&&S({inst:T}),p(function(){d(T)&&S({inst:T})})},[p]),s(b),b}function d(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return M1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,M1}var pP;function Hse(){return pP||(pP=1,C1.exports=Use()),C1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function Fse(){if(gP)return N1;gP=1;var e=sf(),t=Hse();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,d=e.useDebugValue;return N1.useSyncExternalStoreWithSelector=function(f,m,p,y,b){var x=a(null);if(x.current===null){var T={hasValue:!1,value:null};x.current=T}else T=x.current;x=c(function(){function j(I){if(!D){if(D=!0,O=I,I=y(I),b!==void 0&&T.hasValue){var $=T.value;if(b($,I))return M=$}return M=I}if($=M,r(O,I))return $;var B=y(I);return b!==void 0&&b($,B)?(O=I,$):(O=I,M=B)}var D=!1,O,M,N=p===void 0?null:p;return[function(){return j(m())},N===null?void 0:function(){return j(N())}]},[m,p,y,b]);var S=i(f,x[0],x[1]);return s(function(){T.hasValue=!0,T.value=S},[S]),d(S),S},N1}var vP;function Gse(){return vP||(vP=1,j1.exports=Fse()),j1.exports}var qse=Gse(),UA=A.createContext(null),Yse=e=>e,Sr=()=>{var e=A.useContext(UA);return e?e.store.dispatch:Yse},sv=()=>{},Kse=()=>sv,Wse=(e,t)=>e===t;function at(e){var t=A.useContext(UA);return qse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Kse,t?t.store.getState:sv,t?t.store.getState:sv,t?e:sv,Wse)}function Vse(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Zse(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Xse(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var yP=e=>Array.isArray(e)?e:[e];function Jse(e){const t=Array.isArray(e[0])?e[0]:e;return Xse(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Qse(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ele=class{constructor(e){this.value=e}deref(){return this.value}},tle=typeof WeakRef<"u"?WeakRef:ele,nle=0,bP=1;function S0(){return{s:nle,v:void 0,o:null,p:null}}function U4(e,t={}){let n=S0();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let c=n;const{length:d}=arguments;for(let p=0,y=d;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const T=x.get(b);T===void 0?(c=S0(),x.set(b,c)):c=T}else{let x=c.p;x===null&&(c.p=x=new Map);const T=x.get(b);T===void 0?(c=S0(),x.set(b,c)):c=T}}const f=c;let m;if(c.s===bP)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new tle(m):m}return f.s=bP,f.v=m,m}return s.clearCache=()=>{n=S0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function rle(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Vse(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:y=[],argsMemoize:b=U4,argsMemoizeOptions:x=[]}=m,T=yP(y),S=yP(x),j=Jse(i),D=p(function(){return a++,f.apply(null,arguments)},...T),O=b(function(){s++;const N=Qse(j,arguments);return c=D.apply(null,N),c},...S);return Object.assign(O,{resultFunc:f,memoizedResultFunc:D,dependencies:j,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var Oe=rle(U4),ile=Object.assign((e,t=Oe)=>{Zse(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>ile}),D1={},P1={},R1={},_P;function ale(){return _P||(_P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(R1)),R1}var L1={},I1={},xP;function H4(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(I1)),I1}var wP;function ole(){return wP||(wP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(L1)),L1}var SP;function sle(){return SP||(SP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ale(),n=ole(),r=LA();function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const f=(b,x)=>{let T=b;for(let S=0;S<x.length&&T!=null;++S)T=T[x[S]];return T},m=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:f(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?f(x,b):typeof x=="object"?x[b]:x,p=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(x=>m(x,b))})).slice().sort((b,x)=>{for(let T=0;T<p.length;T++){const S=t.compareValues(b.criteria[T],x.criteria[T],c[T]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=i})(P1)),P1}var $1={},EP;function lle(){return EP||(EP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?s(m,d+1):i.push(m)}};return s(n,0),i}e.flatten=t})($1)),$1}var B1={},AP;function F4(){return AP||(AP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z4(),n=zA(),r=D4(),i=R4();function a(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],s):!1}e.isIterateeCall=a})(B1)),B1}var TP;function cle(){return TP||(TP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sle(),n=lle(),r=F4();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(D1)),D1}var z1,kP;function ule(){return kP||(kP=1,z1=cle().sortBy),z1}var dle=ule();const fb=Pi(dle);var G4=e=>e.legend.settings,fle=e=>e.legend.size,hle=e=>e.legend.payload;Oe([hle,G4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?fb(r,n):r});var E0=1;function mle(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>E0||Math.abs(s.left-t.left)>E0||Math.abs(s.top-t.top)>E0||Math.abs(s.width-t.width)>E0)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var q4=Symbol.for("immer-nothing"),OP=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function co(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var na=Object,ef=na.getPrototypeOf,qv="constructor",hb="prototype",_E="configurable",Yv="enumerable",lv="writable",wm="value",$s=e=>!!e&&!!e[hi];function yo(e){return e?Y4(e)||mb(e)||!!e[OP]||!!e[qv]?.[OP]||pb(e)||gb(e):!1}var ple=na[hb][qv].toString(),jP=new WeakMap;function Y4(e){if(!e||!HA(e))return!1;const t=ef(e);if(t===null||t===na[hb])return!0;const n=na.hasOwnProperty.call(t,qv)&&t[qv];if(n===Object)return!0;if(!jd(n))return!1;let r=jP.get(n);return r===void 0&&(r=Function.toString.call(n),jP.set(n,r)),r===ple}function Qm(e,t,n=!0){ep(e)===0?(n?Reflect.ownKeys(e):na.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ep(e){const t=e[hi];return t?t.type_:mb(e)?1:pb(e)?2:gb(e)?3:0}var NP=(e,t,n=ep(e))=>n===2?e.has(t):na[hb].hasOwnProperty.call(e,t),xE=(e,t,n=ep(e))=>n===2?e.get(t):e[t],Kv=(e,t,n,r=ep(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function gle(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var mb=Array.isArray,pb=e=>e instanceof Map,gb=e=>e instanceof Set,HA=e=>typeof e=="object",jd=e=>typeof e=="function",U1=e=>typeof e=="boolean",Ts=e=>e.copy_||e.base_,FA=e=>e.modified_?e.copy_:e.base_;function wE(e,t){if(pb(e))return new Map(e);if(gb(e))return new Set(e);if(mb(e))return Array[hb].slice.call(e);const n=Y4(e);if(t===!0||t==="class_only"&&!n){const r=na.getOwnPropertyDescriptors(e);delete r[hi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c[lv]===!1&&(c[lv]=!0,c[_E]=!0),(c.get||c.set)&&(r[s]={[_E]:!0,[lv]:!0,[Yv]:c[Yv],[wm]:e[s]})}return na.create(ef(e),r)}else{const r=ef(e);if(r!==null&&n)return{...e};const i=na.create(r);return na.assign(i,e)}}function GA(e,t=!1){return vb(e)||$s(e)||!yo(e)||(ep(e)>1&&na.defineProperties(e,{set:A0,add:A0,clear:A0,delete:A0}),na.freeze(e),t&&Qm(e,(n,r)=>{GA(r,!0)},!1)),e}function vle(){co(2)}var A0={[wm]:vle};function vb(e){return e===null||!HA(e)?!0:na.isFrozen(e)}var Wv="MapSet",SE="Patches",K4={};function tf(e){const t=K4[e];return t||co(0,e),t}var yle=e=>!!K4[e],Sm,W4=()=>Sm,ble=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yle(Wv)?tf(Wv):void 0});function CP(e,t){t&&(e.patchPlugin_=tf(SE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function EE(e){AE(e),e.drafts_.forEach(_le),e.drafts_=null}function AE(e){e===Sm&&(Sm=e.parent_)}var MP=e=>Sm=ble(Sm,e);function _le(e){const t=e[hi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function DP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[hi].modified_&&(EE(t),co(4)),yo(e)&&(e=PP(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[hi].base_,e,t)}else e=PP(t,n);return xle(t,e,!0),EE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==q4?e:void 0}function PP(e,t){if(vb(t))return t;const n=t[hi];if(!n)return qA(t,e.handledSet_,e);if(!yb(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);X4(n,e)}return n.copy_}function xle(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GA(t,n)}function V4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var yb=(e,t)=>e.scope_===t,wle=[];function Z4(e,t,n,r){const i=Ts(e),a=e.type_;if(r!==void 0&&xE(i,r,a)===t){Kv(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Qm(i,(d,f)=>{if($s(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const s=e.draftLocations_.get(t)??wle;for(const c of s)Kv(i,c,n,a)}function Sle(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!yb(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=FA(a);Z4(e,a.draft_??a,s,n),X4(a,i)})}function X4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}V4(e)}}function Ele(e,t,n){const{scope_:r}=e;if($s(n)){const i=n[hi];yb(i,r)&&i.callbacks_.push(function(){cv(e);const s=FA(i);Z4(e,n,s,t)})}else yo(n)&&e.callbacks_.push(function(){const a=Ts(e);xE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&qA(xE(e.copy_,t,e.type_),r.handledSet_,r)})}function qA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$s(e)||t.has(e)||!yo(e)||vb(e)||(t.add(e),Qm(e,(r,i)=>{if($s(i)){const a=i[hi];if(yb(a,n)){const s=FA(a);Kv(e,r,s,e.type_),V4(a)}}else yo(i)&&qA(i,t,n)})),e}function Ale(e,t){const n=mb(e),r={type_:n?1:0,scope_:t?t.scope_:W4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=YA;n&&(i=[r],a=Em);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,[c,r]}var YA={get(e,t){if(t===hi)return e;const n=Ts(e);if(!NP(n,t,e.type_))return Tle(e,n,t);const r=n[t];if(e.finalized_||!yo(r))return r;if(r===H1(e.base_,t)){cv(e);const i=e.type_===1?+t:t,a=kE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Ts(e)},ownKeys(e){return Reflect.ownKeys(Ts(e))},set(e,t,n){const r=J4(Ts(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=H1(Ts(e),t),a=i?.[hi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(gle(n,i)&&(n!==void 0||NP(e.base_,t,e.type_)))return!0;cv(e),TE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Ele(e,t,n)),!0},deleteProperty(e,t){return cv(e),H1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),TE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ts(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[lv]:!0,[_E]:e.type_!==1||t!=="length",[Yv]:r[Yv],[wm]:n[t]}},defineProperty(){co(11)},getPrototypeOf(e){return ef(e.base_)},setPrototypeOf(){co(12)}},Em={};Qm(YA,(e,t)=>{Em[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Em.deleteProperty=function(e,t){return Em.set.call(this,e,t,void 0)};Em.set=function(e,t,n){return YA.set.call(this,e[0],t,n,e[0])};function H1(e,t){const n=e[hi];return(n?Ts(n):e)[t]}function Tle(e,t,n){const r=J4(t,n);return r?wm in r?r[wm]:r.get?.call(e.draft_):void 0}function J4(e,t){if(!(t in e))return;let n=ef(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ef(n)}}function TE(e){e.modified_||(e.modified_=!0,e.parent_&&TE(e.parent_))}function cv(e){e.copy_||(e.assigned_=new Map,e.copy_=wE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(jd(n)&&!jd(r)){const s=r;r=n;const c=this;return function(f=s,...m){return c.produce(f,p=>r.call(this,p,...m))}}jd(r)||co(6),i!==void 0&&!jd(i)&&co(7);let a;if(yo(n)){const s=MP(this),c=kE(s,n,void 0);let d=!0;try{a=r(c),d=!1}finally{d?EE(s):AE(s)}return CP(s,i),DP(a,s)}else if(!n||!HA(n)){if(a=r(n),a===void 0&&(a=n),a===q4&&(a=void 0),this.autoFreeze_&&GA(a,!0),i){const s=[],c=[];tf(SE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:c}),i(s,c)}return a}else co(1,n)},this.produceWithPatches=(n,r)=>{if(jd(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,a;return[this.produce(n,r,(c,d)=>{i=c,a=d}),i,a]},U1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),U1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),U1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yo(t)||co(8),$s(t)&&(t=po(t));const n=MP(this),r=kE(n,t,void 0);return r[hi].isManual_=!0,AE(n),r}finishDraft(t,n){const r=t&&t[hi];(!r||!r.isManual_)&&co(9);const{scope_:i}=r;return CP(i,n),DP(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=tf(SE).applyPatches_;return $s(t)?i(t,n):this.produce(t,a=>i(a,n))}};function kE(e,t,n,r){const[i,a]=pb(t)?tf(Wv).proxyMap_(t,n):gb(t)?tf(Wv).proxySet_(t,n):Ale(t,n);return(n?.scope_??W4()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Sle(n,a,r):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function po(e){return $s(e)||co(10,e),Q4(e)}function Q4(e){if(!yo(e)||vb(e))return e;const t=e[hi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=wE(e,!0);return Qm(n,(i,a)=>{Kv(n,i,Q4(a))},r),t&&(t.finalized_=!1),n}var Ole=new kle,e7=Ole.produce;function t7(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var jle=t7(),Nle=t7,Cle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cm:cm.apply(null,arguments)};function za(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(aa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>G$(r)&&r.type===e,n}var n7=class Zh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zh.prototype)}static get[Symbol.species](){return Zh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zh(...t[0].concat(this)):new Zh(...t.concat(this))}};function RP(e){return yo(e)?e7(e,()=>{}):e}function T0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Mle(e){return typeof e=="boolean"}var Dle=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new n7;return n&&(Mle(n)?s.push(jle):s.push(Nle(n.extraArgument))),s},r7="RTK_autoBatch",En=()=>e=>({payload:e,meta:{[r7]:!0}}),LP=e=>t=>{setTimeout(t,e)},i7=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LP(10):e.type==="callback"?e.queueNotification:LP(e.timeout),f=()=>{s=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[r7],a=!i,a&&(s||(s=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},Ple=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new n7(e);return r&&i.push(i7(typeof r=="object"?r:void 0)),i};function Rle(e){const t=Dle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(L2(n))c=H$(n);else throw new Error(aa(1));let d;typeof r=="function"?d=r(t):d=t();let f=cm;i&&(f=Cle({trace:!1,...typeof i=="object"&&i}));const m=F$(...d),p=Ple(m);let y=typeof s=="function"?s(p):p();const b=f(...y);return I2(c,a,b)}function a7(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(aa(28));if(c in t)throw new Error(aa(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Lle(e){return typeof e=="function"}function Ile(e,t){let[n,r,i]=a7(t),a;if(Lle(e))a=()=>RP(e());else{const c=RP(e);a=()=>c}function s(c=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if($s(m)){const b=p(m,d);return b===void 0?m:b}else{if(yo(m))return e7(m,y=>p(y,d));{const y=p(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return s.getInitialState=a,s}var $le="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ble=(e=21)=>{let t="",n=e;for(;n--;)t+=$le[Math.random()*64|0];return t},zle=Symbol.for("rtk-slice-createasyncthunk");function Ule(e,t){return`${e}/${t}`}function Hle({creators:e}={}){const t=e?.asyncThunk?.[zle];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(aa(11));const s=(typeof r.reducers=="function"?r.reducers(Gle()):r.reducers)||{},c=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,M){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(aa(12));if(N in d.sliceCaseReducersByType)throw new Error(aa(13));return d.sliceCaseReducersByType[N]=M,f},addMatcher(O,M){return d.sliceMatchers.push({matcher:O,reducer:M}),f},exposeAction(O,M){return d.actionCreators[O]=M,f},exposeCaseReducer(O,M){return d.sliceCaseReducersByName[O]=M,f}};c.forEach(O=>{const M=s[O],N={reducerName:O,type:Ule(i,O),createNotation:typeof r.reducers=="function"};Yle(M)?Wle(N,M,f,t):qle(N,M,f)});function m(){const[O={},M=[],N=void 0]=typeof r.extraReducers=="function"?a7(r.extraReducers):[r.extraReducers],I={...O,...d.sliceCaseReducersByType};return Ile(r.initialState,$=>{for(let B in I)$.addCase(B,I[B]);for(let B of d.sliceMatchers)$.addMatcher(B.matcher,B.reducer);for(let B of M)$.addMatcher(B.matcher,B.reducer);N&&$.addDefaultCase(N)})}const p=O=>O,y=new Map,b=new WeakMap;let x;function T(O,M){return x||(x=m()),x(O,M)}function S(){return x||(x=m()),x.getInitialState()}function j(O,M=!1){function N($){let B=$[O];return typeof B>"u"&&M&&(B=T0(b,N,S)),B}function I($=p){const B=T0(y,M,()=>new WeakMap);return T0(B,$,()=>{const H={};for(const[Z,z]of Object.entries(r.selectors??{}))H[Z]=Fle(z,$,()=>T0(b,$,S),M);return H})}return{reducerPath:O,getSelectors:I,get selectors(){return I(N)},selectSlice:N}}const D={name:i,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...j(a),injectInto(O,{reducerPath:M,...N}={}){const I=M??a;return O.inject({reducerPath:I,reducer:T},N),{...D,...j(I,!0)}}};return D}}function Fle(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var Ri=Hle();function Gle(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function qle({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Kle(r))throw new Error(aa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?za(e,s):za(e))}function Yle(e){return e._reducerDefinitionType==="asyncThunk"}function Kle(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Wle({type:e,reducerName:t},n,r,i){if(!i)throw new Error(aa(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:s||k0,pending:c||k0,rejected:d||k0,settled:f||k0})}function k0(){}var Vle="task",o7="listener",s7="completed",KA="cancelled",Zle=`task-${KA}`,Xle=`task-${s7}`,OE=`${o7}-${KA}`,Jle=`${o7}-${s7}`,bb=class{constructor(e){this.code=e,this.message=`${Vle} ${KA} (reason: ${e})`}name="TaskAbortError";message},WA=(e,t)=>{if(typeof e!="function")throw new TypeError(aa(32))},Vv=()=>{},l7=(e,t=Vv)=>(e.catch(t),e),c7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),uu=e=>{if(e.aborted)throw new bb(e.reason)};function u7(e,t){let n=Vv;return new Promise((r,i)=>{const a=()=>i(new bb(e.reason));if(e.aborted){a();return}n=c7(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Vv})}var Qle=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof bb?"cancelled":"rejected",error:n}}finally{t?.()}},Zv=e=>t=>l7(u7(e,t).then(n=>(uu(e),n))),d7=e=>{const t=Zv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Fd}=Object,IP={},_b="listenerMiddleware",ece=(e,t)=>{const n=r=>c7(e,()=>r.abort(e.reason));return(r,i)=>{WA(r);const a=new AbortController;n(a);const s=Qle(async()=>{uu(e),uu(a.signal);const c=await r({pause:Zv(a.signal),delay:d7(a.signal),signal:a.signal});return uu(a.signal),c},()=>a.abort(Xle));return i?.autoJoin&&t.push(s.catch(Vv)),{result:Zv(e)(s),cancel(){a.abort(Zle)}}}},tce=(e,t)=>{const n=async(r,i)=>{uu(t);let a=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:r,effect:(p,y)=>{y.unsubscribe(),d([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await u7(t,Promise.race(c));return uu(t),d}finally{a()}};return(r,i)=>l7(n(r,i))},f7=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=za(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(aa(21));return WA(a),{predicate:i,type:t,effect:a}},h7=Fd(e=>{const{type:t,predicate:n,effect:r}=f7(e);return{id:Ble(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(aa(22))}}},{withTypes:()=>h7}),$P=(e,t)=>{const{type:n,effect:r,predicate:i}=f7(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},jE=e=>{e.pending.forEach(t=>{t.abort(OE)})},nce=(e,t)=>()=>{for(const n of t.keys())jE(n);e.clear()},BP=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},m7=Fd(za(`${_b}/add`),{withTypes:()=>m7}),rce=za(`${_b}/removeAll`),p7=Fd(za(`${_b}/remove`),{withTypes:()=>p7}),ice=(...e)=>{console.error(`${_b}/error`,...e)},tp=(e={})=>{const t=new Map,n=new Map,r=b=>{const x=n.get(b)??0;n.set(b,x+1)},i=b=>{const x=n.get(b)??1;x===1?n.delete(b):n.set(b,x-1)},{extra:a,onError:s=ice}=e;WA(s);const c=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),x=>{b.unsubscribe(),x?.cancelActive&&jE(b)}),d=b=>{const x=$P(t,b)??h7(b);return c(x)};Fd(d,{withTypes:()=>d});const f=b=>{const x=$P(t,b);return x&&(x.unsubscribe(),b.cancelActive&&jE(x)),!!x};Fd(f,{withTypes:()=>f});const m=async(b,x,T,S)=>{const j=new AbortController,D=tce(d,j.signal),O=[];try{b.pending.add(j),r(b),await Promise.resolve(b.effect(x,Fd({},T,{getOriginalState:S,condition:(M,N)=>D(M,N).then(Boolean),take:D,delay:d7(j.signal),pause:Zv(j.signal),extra:a,signal:j.signal,fork:ece(j.signal,O),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,N,I)=>{M!==j&&(M.abort(OE),I.delete(M))})},cancel:()=>{j.abort(OE),b.pending.delete(j)},throwIfCancelled:()=>{uu(j.signal)}})))}catch(M){M instanceof bb||BP(s,M,{raisedBy:"effect"})}finally{await Promise.all(O),j.abort(Jle),i(b),b.pending.delete(j)}},p=nce(t,n);return{middleware:b=>x=>T=>{if(!G$(T))return x(T);if(m7.match(T))return d(T.payload);if(rce.match(T)){p();return}if(p7.match(T))return f(T.payload);let S=b.getState();const j=()=>{if(S===IP)throw new Error(aa(23));return S};let D;try{if(D=x(T),t.size>0){const O=b.getState(),M=Array.from(t.values());for(const N of M){let I=!1;try{I=N.predicate(T,O,S)}catch($){I=!1,BP(s,$,{raisedBy:"predicate"})}I&&m(N,T,b,j)}}}finally{S=IP}return D},startListening:d,stopListening:f,clearListeners:p}};function aa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ace={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},g7=Ri({name:"chartLayout",initialState:ace,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:oce,setLayout:sce,setChartSize:lce,setScale:cce}=g7.actions,uce=g7.reducer;function v7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){dce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dce(e,t,n){return(t=fce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fce(e){var t=hce(e,"string");return typeof t=="symbol"?t:t+""}function hce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ei(e,t,n){return Ir(e)||Ir(t)?n:Vo(t)?db(e,t,n):typeof t=="function"?t(e):n}var mce=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&nt(e[a]))return Rd(Rd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&nt(e[s]))return Rd(Rd({},e),{},{[s]:e[s]+(i||0)})}return e},qs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",y7=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(n),s},b7=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:b}=e;if(!s)return null;var x=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,T=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(T=b==="angleAxis"&&a&&a.length>=2?Ma(a[0]-a[1])*2*T:T,p||y){var S=(p||y||[]).map((j,D)=>{var O=r?r.indexOf(j):j;return{coordinate:s(O)+T,value:j,offset:T,index:D}});return S.filter(j=>!vo(j.coordinate))}return d&&f?f.map((j,D)=>({coordinate:s(j)+T,value:j,index:D,offset:T})):s.ticks&&m!=null?s.ticks(m).map((j,D)=>({coordinate:s(j)+T,value:j,offset:T,index:D})):s.domain().map((j,D)=>({coordinate:s(j)+T,value:r?r[j]:j,index:D,offset:T}))},UP=1e-4,pce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-UP,a=Math.max(r[0],r[1])+UP,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},gce=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=vo(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},vce=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=vo(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},yce={sign:gce,expand:ose,none:Qd,silhouette:sse,wiggle:lse,positive:vce},bce=(e,t,n)=>{var r=yce[n],i=ase().keys(t).value((a,s)=>Number(ei(a,s,0))).order(bE).offset(r);return i(e)};function _ce(e){return e==null?void 0:String(e)}function HP(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ir(i[t.dataKey])){var c=N4(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=ei(i,Ir(s)?t.dataKey:s);return Ir(d)?null:t.scale(d)}var xce=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},wce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Sce=(e,t,n)=>{if(e!=null)return wce(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((d,f)=>{var m=v7(f,t,n),p=xce(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},FP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=fb(t,m=>m.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],f=i[s-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function qP(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Rd(Rd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function _7(e,t){if(e)return String(e);if(typeof t=="string")return t}var Ece=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Ace=(e,t)=>t==="centric"?e.angle:e.radius,Ys=e=>e.layout.width,Ks=e=>e.layout.height,Tce=e=>e.layout.scale,x7=e=>e.layout.margin,xb=Oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),wb=Oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),kce="data-recharts-item-index",Oce="data-recharts-item-data-key",np=60;function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(n),!0).forEach(function(r){jce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jce(e,t,n){return(t=Nce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nce(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mce=e=>e.brush.height;function Dce(e){var t=wb(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function Pce(e){var t=wb(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function Rce(e){var t=xb(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Lce(e){var t=xb(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var $r=Oe([Ys,Ks,x7,Mce,Dce,Pce,Rce,Lce,G4,fle],(e,t,n,r,i,a,s,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+c},y=O0(O0({},p),m),b=y.bottom;y.bottom+=r,y=mce(y,d,f);var x=e-y.left-y.right,T=t-y.top-y.bottom;return O0(O0({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(T,0)})}),Ice=Oe($r,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),w7=Oe(Ys,Ks,(e,t)=>({x:0,y:0,width:e,height:t})),$ce=A.createContext(null),Li=()=>A.useContext($ce)!=null,Sb=e=>e.brush,Eb=Oe([Sb,$r,x7],(e,t,n)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:nt(e.width)?e.width:t.width})),F1={},G1={},q1={},KP;function Bce(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},p=()=>{f&&m(),T()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},x=()=>{y!==null&&(clearTimeout(y),y=null)},T=()=>{x(),s=void 0,c=null},S=()=>{m()},j=function(...D){if(i?.aborted)return;s=this,c=D;const O=y==null;b(),d&&O&&m()};return j.schedule=b,j.cancel=T,j.flush=S,i?.addEventListener("abort",T,{once:!0}),j}e.debounce=t})(q1)),q1}var WP;function zce(){return WP||(WP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bce();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const y=t.debounce(function(...T){m=r.apply(this,T),p=null},i,{edges:f}),b=function(...T){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,T),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,T),m)},x=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=x,b}e.debounce=n})(G1)),G1}var VP;function Uce(){return VP||(VP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zce();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(F1)),F1}var Y1,ZP;function Hce(){return ZP||(ZP=1,Y1=Uce().throttle),Y1}var Fce=Hce();const Gce=Pi(Fce);var Jv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},S7=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,c=Is(r)?e:Number(r),d=Is(i)?t:Number(i);return a&&a>0&&(c?d=c/a:d&&(c=d*a),s&&d!=null&&d>s&&(d=s)),{calculatedWidth:c,calculatedHeight:d}},qce={width:0,height:0,overflow:"visible"},Yce={width:0,overflowX:"visible"},Kce={height:0,overflowY:"visible"},Wce={},Vce=e=>{var{width:t,height:n}=e,r=Is(t),i=Is(n);return r&&i?qce:r?Yce:i?Kce:Wce};function Zce(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Fn(e){return Number.isFinite(e)}function Zo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NE.apply(null,arguments)}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(r){Xce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xce(e,t,n){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jce(e){var t=Qce(e,"string");return typeof t=="symbol"?t:t+""}function Qce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7=A.createContext({width:-1,height:-1});function eue(e){return Zo(e.width)&&Zo(e.height)}function A7(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return eue(i)?A.createElement(E7.Provider,{value:i},t):null}var VA=()=>A.useContext(E7),tue=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:y,onResize:b,style:x={}}=e,T=A.useRef(null),S=A.useRef();S.current=b,A.useImperativeHandle(t,()=>T.current);var[j,D]=A.useState({containerWidth:r.width,containerHeight:r.height}),O=A.useCallback((B,H)=>{D(Z=>{var z=Math.round(B),F=Math.round(H);return Z.containerWidth===z&&Z.containerHeight===F?Z:{containerWidth:z,containerHeight:F}})},[]);A.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return Jm;var B=F=>{var Q,{width:ee,height:ye}=F[0].contentRect;O(ee,ye),(Q=S.current)===null||Q===void 0||Q.call(S,ee,ye)};m>0&&(B=Gce(B,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(B),{width:Z,height:z}=T.current.getBoundingClientRect();return O(Z,z),H.observe(T.current),()=>{H.disconnect()}},[O,m]);var{containerWidth:M,containerHeight:N}=j;Jv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:I,calculatedHeight:$}=S7(M,N,{width:i,height:a,aspect:n,maxHeight:d});return Jv(I!=null&&I>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,$,i,a,s,c,n),A.createElement("div",{id:p?"".concat(p):void 0,className:bn("recharts-responsive-container",y),style:JP(JP({},x),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:T},A.createElement("div",{style:Vce({width:i,height:a})},A.createElement(A7,{width:I,height:$},f)))}),nue=A.forwardRef((e,t)=>{var n=VA();if(Zo(n.width)&&Zo(n.height))return e.children;var{width:r,height:i}=Zce({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=S7(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return nt(a)&&nt(s)?A.createElement(A7,{width:a,height:s},e.children):A.createElement(tue,NE({},e,{width:r,height:i,ref:t}))});function T7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ab=()=>{var e,t=Li(),n=at(Ice),r=at(Eb),i=(e=at(Sb))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},rue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},k7=()=>{var e;return(e=at($r))!==null&&e!==void 0?e:rue},O7=()=>at(Ys),j7=()=>at(Ks),mn=e=>e.layout.layoutType,rp=()=>at(mn),iue=()=>{var e=rp();if(e==="horizontal"||e==="vertical")return e},aue=()=>{var e=rp();return e!==void 0},Tb=e=>{var t=Sr(),n=Li(),{width:r,height:i}=e,a=VA(),s=r,c=i;return a&&(s=a.width>0?a.width:r,c=a.height>0?a.height:i),A.useEffect(()=>{!n&&Zo(s)&&Zo(c)&&t(lce({width:s,height:c}))},[t,n,s,c]),null},N7=Symbol.for("immer-nothing"),QP=Symbol.for("immer-draftable"),sa=Symbol.for("immer-state");function uo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Am=Object.getPrototypeOf;function nf(e){return!!e&&!!e[sa]}function vu(e){return e?C7(e)||Array.isArray(e)||!!e[QP]||!!e.constructor?.[QP]||ip(e)||Ob(e):!1}var oue=Object.prototype.constructor.toString(),eR=new WeakMap;function C7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=eR.get(n);return r===void 0&&(r=Function.toString.call(n),eR.set(n,r)),r===oue}function Qv(e,t,n=!0){kb(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function kb(e){const t=e[sa];return t?t.type_:Array.isArray(e)?1:ip(e)?2:Ob(e)?3:0}function CE(e,t){return kb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function M7(e,t,n){const r=kb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function sue(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ip(e){return e instanceof Map}function Ob(e){return e instanceof Set}function Jc(e){return e.copy_||e.base_}function ME(e,t){if(ip(e))return new Map(e);if(Ob(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=C7(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[sa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Am(e),r)}else{const r=Am(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ZA(e,t=!1){return jb(e)||nf(e)||!vu(e)||(kb(e)>1&&Object.defineProperties(e,{set:j0,add:j0,clear:j0,delete:j0}),Object.freeze(e),t&&Object.values(e).forEach(n=>ZA(n,!0))),e}function lue(){uo(2)}var j0={value:lue};function jb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var cue={};function yu(e){const t=cue[e];return t||uo(0,e),t}var Tm;function D7(){return Tm}function uue(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tR(e,t){t&&(yu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function DE(e){PE(e),e.drafts_.forEach(due),e.drafts_=null}function PE(e){e===Tm&&(Tm=e.parent_)}function nR(e){return Tm=uue(Tm,e)}function due(e){const t=e[sa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[sa].modified_&&(DE(t),uo(4)),vu(e)&&(e=ey(t,e),t.parent_||ty(t,e)),t.patches_&&yu("Patches").generateReplacementPatches_(n[sa].base_,e,t.patches_,t.inversePatches_)):e=ey(t,n,[]),DE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==N7?e:void 0}function ey(e,t,n){if(jb(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[sa];if(!i)return Qv(t,(a,s)=>iR(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ty(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,c=!1;i.type_===3&&(s=new Set(a),a.clear(),c=!0),Qv(s,(d,f)=>iR(e,i,a,d,f,n,c),r),ty(e,a,!1),n&&e.patches_&&yu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function iR(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const c=jb(i);if(!(c&&!s)){if(nf(i)){const d=a&&t&&t.type_!==3&&!CE(t.assigned_,r)?a.concat(r):void 0,f=ey(e,i,d);if(M7(n,r,f),nf(f))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(vu(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;ey(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ip(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ty(e,i)}}}function ty(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ZA(t,n)}function fue(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:D7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=XA;n&&(i=[r],a=km);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var XA={get(e,t){if(t===sa)return e;const n=Jc(e);if(!CE(n,t))return hue(e,n,t);const r=n[t];return e.finalized_||!vu(r)?r:r===K1(e.base_,t)?(W1(e),e.copy_[t]=LE(r,e)):r},has(e,t){return t in Jc(e)},ownKeys(e){return Reflect.ownKeys(Jc(e))},set(e,t,n){const r=P7(Jc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=K1(Jc(e),t),a=i?.[sa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(sue(n,i)&&(n!==void 0||CE(e.base_,t)))return!0;W1(e),RE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return K1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,W1(e),RE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Jc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){uo(11)},getPrototypeOf(e){return Am(e.base_)},setPrototypeOf(){uo(12)}},km={};Qv(XA,(e,t)=>{km[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});km.deleteProperty=function(e,t){return km.set.call(this,e,t,void 0)};km.set=function(e,t,n){return XA.set.call(this,e[0],t,n,e[0])};function K1(e,t){const n=e[sa];return(n?Jc(n):e)[t]}function hue(e,t,n){const r=P7(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function P7(e,t){if(!(t in e))return;let n=Am(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Am(n)}}function RE(e){e.modified_||(e.modified_=!0,e.parent_&&RE(e.parent_))}function W1(e){e.copy_||(e.copy_=ME(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mue=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(d=a,...f){return s.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&uo(6),r!==void 0&&typeof r!="function"&&uo(7);let i;if(vu(t)){const a=nR(this),s=LE(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?DE(a):PE(a)}return tR(a,r),rR(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===N7&&(i=void 0),this.autoFreeze_&&ZA(i,!0),r){const a=[],s=[];yu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else uo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vu(e)||uo(8),nf(e)&&(e=pue(e));const t=nR(this),n=LE(e,void 0);return n[sa].isManual_=!0,PE(t),n}finishDraft(e,t){const n=e&&e[sa];(!n||!n.isManual_)&&uo(9);const{scope_:r}=n;return tR(r,t),rR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=yu("Patches").applyPatches_;return nf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function LE(e,t){const n=ip(e)?yu("MapSet").proxyMap_(e,t):Ob(e)?yu("MapSet").proxySet_(e,t):fue(e,t);return(t?t.scope_:D7()).drafts_.push(n),n}function pue(e){return nf(e)||uo(10,e),R7(e)}function R7(e){if(!vu(e)||jb(e))return e;const t=e[sa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ME(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ME(e,!0);return Qv(n,(i,a)=>{M7(n,i,R7(a))},r),t&&(t.finalized_=!1),n}var gue=new mue;gue.produce;var vue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},L7=Ri({name:"legend",initialState:vue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:En()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:En()},removeLegendPayload:{reducer(e,t){var n=po(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:En()}}}),{setLegendSize:aSe,setLegendSettings:oSe,addLegendPayload:yue,replaceLegendPayload:bue,removeLegendPayload:_ue}=L7.actions,xue=L7.reducer;function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IE.apply(null,arguments)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){wue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wue(e,t,n){return(t=Sue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sue(e){var t=Eue(e,"string");return typeof t=="symbol"?t:t+""}function Eue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aue(e){return Array.isArray(e)&&Vo(e[0])&&Vo(e[1])?e.join(" ~ "):e}var Tue=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,b=()=>{if(a&&a.length){var N={padding:0,margin:0},I=(c?fb(a,c):a).map(($,B)=>{if($.type==="none")return null;var H=$.formatter||s||Aue,{value:Z,name:z}=$,F=Z,Q=z;if(H){var ee=H(Z,z,$,B,a);if(Array.isArray(ee))[F,Q]=ee;else if(ee!=null)F=ee;else return null}var ye=V1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ye},Vo(Q)?A.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Vo(Q)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},F),A.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:N},I)}return null},x=V1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=V1({margin:0},i),S=!Ir(m),j=S?m:"",D=bn("recharts-default-tooltip",d),O=bn("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(j=p(m,a));var M=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",IE({className:D,style:x},M),A.createElement("p",{className:O,style:T},A.isValidElement(j)?j:"".concat(j)),b())},Ih="recharts-tooltip-wrapper",kue={visibility:"hidden"};function Oue(e){var{coordinate:t,translateX:n,translateY:r}=e;return bn(Ih,{["".concat(Ih,"-right")]:nt(n)&&t&&nt(t.x)&&n>=t.x,["".concat(Ih,"-left")]:nt(n)&&t&&nt(t.x)&&n<t.x,["".concat(Ih,"-bottom")]:nt(r)&&t&&nt(t.y)&&r>=t.y,["".concat(Ih,"-top")]:nt(r)&&t&&nt(t.y)&&r<t.y})}function oR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&nt(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?m:p;var y=d[r];if(y==null)return 0;if(s[r]){var b=m,x=y;return b<x?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var T=p+c,S=y+f;return T>S?Math.max(m,y):Math.max(p,y)}function jue(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Nue(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,f,m,p;return s.height>0&&s.width>0&&n?(m=oR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),p=oR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=jue({translateX:m,translateY:p,useTranslate3d:c})):f=kue,{cssProperties:f,cssClasses:Oue({translateX:m,translateY:p,coordinate:n})}}function sR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(n),!0).forEach(function(r){$E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $E(e,t,n){return(t=Cue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cue(e){var t=Mue(e,"string");return typeof t=="symbol"?t:t+""}function Mue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Due extends A.PureComponent{constructor(){super(...arguments),$E(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$E(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:x,lastBoundingBox:T,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:D,cssProperties:O}=Nue({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:T.height,width:T.width},useTranslate3d:y,viewBox:b}),M=j?{}:N0(N0({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),N=N0(N0({},M),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:N,ref:S},a)}}var I7=()=>{var e;return(e=at(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BE.apply(null,arguments)}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){Pue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pue(e,t,n){return(t=Rue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rue(e){var t=Lue(e,"string");return typeof t=="symbol"?t:t+""}function Lue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uR={curveBasisClosed:Woe,curveBasisOpen:Voe,curveBasis:Koe,curveBumpX:qoe,curveBumpY:Yoe,curveLinearClosed:Zoe,curveLinear:cb,curveMonotoneX:Xoe,curveMonotoneY:Joe,curveNatural:Qoe,curveStep:ese,curveStepAfter:nse,curveStepBefore:tse},ny=e=>Fn(e.x)&&Fn(e.y),dR=e=>e.base!=null&&ny(e.base)&&ny(e),$h=e=>e.x,Bh=e=>e.y,Iue=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat($A(e));return(n==="curveMonotone"||n==="curveBump")&&t?uR["".concat(n).concat(t==="vertical"?"Y":"X")]:uR[n]||cb},$ue=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Iue(t,i),c=a?n.filter(ny):n,d;if(Array.isArray(r)){var f=n.map((b,x)=>cR(cR({},b),{},{base:r[x]}));i==="vertical"?d=w0().y(Bh).x1($h).x0(b=>b.base.x):d=w0().x($h).y1(Bh).y0(b=>b.base.y);var m=d.defined(dR).curve(s),p=a?f.filter(dR):f;return m(p)}i==="vertical"&&nt(r)?d=w0().y(Bh).x1($h).x0(r):nt(r)?d=w0().x($h).y1(Bh).y0(r):d=b4().x($h).y(Bh);var y=d.defined(ny).curve(s);return y(c)},uv=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?$ue(e):r;return A.createElement("path",BE({},go(e),BA(e),{className:bn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Bue=["x","y","top","left","width","height","className"];function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zE.apply(null,arguments)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(r){Uue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uue(e,t,n){return(t=Hue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gue(e,t){if(e==null)return{};var n,r,i=que(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function que(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yue=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Kue=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,d=Gue(e,Bue),f=zue({x:t,y:n,top:r,left:i,width:a,height:s},d);return!nt(t)||!nt(n)||!nt(a)||!nt(s)||!nt(r)||!nt(i)?null:A.createElement("path",zE({},Ba(f),{className:bn("recharts-cross",c),d:Yue(t,n,a,s,r,i)}))};function Wue(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){Vue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vue(e,t,n){return(t=Zue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zue(e){var t=Xue(e,"string");return typeof t=="symbol"?t:t+""}function Xue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Que=(e,t,n)=>e.map(r=>"".concat(Jue(r)," ").concat(t,"ms ").concat(n)).join(","),ede=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Om=(e,t)=>Object.keys(t).reduce((n,r)=>mR(mR({},n),{},{[r]:e(r,t[r])}),{});function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){tde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tde(e,t,n){return(t=nde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nde(e){var t=rde(e,"string");return typeof t=="symbol"?t:t+""}function rde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ry=(e,t,n)=>e+(t-e)*n,UE=e=>{var{from:t,to:n}=e;return t!==n},$7=(e,t,n)=>{var r=Om((i,a)=>{if(UE(a)){var[s,c]=e(a.from,a.to,a.velocity);return or(or({},a),{},{from:s,velocity:c})}return a},t);return n<1?Om((i,a)=>UE(a)?or(or({},a),{},{velocity:ry(a.velocity,r[i].velocity,n),from:ry(a.from,r[i].from,n)}):a,t):$7(e,r,n-1)};function ide(e,t,n,r,i,a){var s,c=r.reduce((y,b)=>or(or({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>Om((y,b)=>b.from,c),f=()=>!Object.values(c).filter(UE).length,m=null,p=y=>{s||(s=y);var b=y-s,x=b/n.dt;c=$7(n,c,x),i(or(or(or({},e),t),d())),s=y,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function ade(e,t,n,r,i,a,s){var c=null,d=i.reduce((p,y)=>or(or({},p),{},{[y]:[e[y],t[y]]}),{}),f,m=p=>{f||(f=p);var y=(p-f)/r,b=Om((T,S)=>ry(...S,n(y)),d);if(a(or(or(or({},e),t),b)),y<1)c=s.setTimeout(m);else{var x=Om((T,S)=>ry(...S,n(1)),d);a(or(or(or({},e),t),x))}};return()=>(c=s.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const ode=(e,t,n,r,i,a)=>{var s=ede(e,t);return n==null?()=>(i(or(or({},e),t)),()=>{}):n.isStepper===!0?ide(e,t,n,s,i,a):ade(e,t,n,r,s,i,a)};var iy=1e-4,B7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],z7=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),gR=(e,t)=>n=>{var r=B7(e,t);return z7(r,n)},sde=(e,t)=>n=>{var r=B7(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return z7(i,n)},lde=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},cde=(e,t,n,r)=>{var i=gR(e,n),a=gR(t,r),s=sde(e,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,y=0;y<8;++y){var b=i(p)-m,x=s(p);if(Math.abs(b-m)<iy||x<iy)return a(p);p=c(p-b/x)}return a(p)};return d.isStepper=!1,d},vR=function(){return cde(...lde(...arguments))},ude=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,d)=>{var f=-(s-c)*n,m=d*r,p=d+(f-m)*i/1e3,y=d*i/1e3+s;return Math.abs(y-c)<iy&&Math.abs(p)<iy?[c,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},dde=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vR(e);case"spring":return ude();default:if(e.split("(")[0]==="cubic-bezier")return vR(e)}return typeof e=="function"?e:null};function fde(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...f]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class hde{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function mde(){return fde(new hde)}var pde=A.createContext(mde);function gde(e,t){var n=A.useContext(pde);return A.useMemo(()=>t??n(e),[e,t,n])}var vde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yf={devToolsEnabled:!1,isSsr:vde()},yde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yR={t:0},Z1={t:1};function U7(e){var t=ua(e,yde),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=n==="auto"?!yf.isSsr:n,p=gde(t.animationId,t.animationManager),[y,b]=A.useState(m?yR:Z1),x=A.useRef(null);return A.useEffect(()=>{m||b(Z1)},[m]),A.useEffect(()=>{if(!m||!r)return Jm;var T=ode(yR,Z1,dde(a),i,b,p.getTimeoutController()),S=()=>{x.current=T()};return p.start([d,s,S,i,c]),()=>{p.stop(),x.current&&x.current(),c()}},[m,r,i,a,s,d,c,p]),f(y.t)}function H7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(xm(t)),r=A.useRef(e);return r.current!==e&&(n.current=xm(t),r.current=e),n.current}var bde=["radius"],_de=["radius"];function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(n),!0).forEach(function(r){xde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xde(e,t,n){return(t=wde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wde(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(null,arguments)}function xR(e,t){if(e==null)return{};var n,r,i=Ede(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ede(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wR=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+s*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+s*m[1])),f+="L ".concat(e+n,",").concat(t+r-s*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-s*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);f="M ".concat(e,",").concat(t+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(t,`
            L `).concat(e+n-c*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n,",").concat(t+s*b,`
            L `).concat(e+n,",").concat(t+r-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n-c*b,",").concat(t+r,`
            L `).concat(e+c*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(t+r-s*b," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},SR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ade=e=>{var t=ua(e,SR),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:f,className:m}=t,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:T}=t,S=A.useRef(c),j=A.useRef(d),D=A.useRef(a),O=A.useRef(s),M=A.useMemo(()=>({x:a,y:s,width:c,height:d,radius:f}),[a,s,c,d,f]),N=H7(M,"rectangle-");if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var I=bn("recharts-rectangle",m);if(!T){var $=Ba(t),{radius:B}=$,H=xR($,bde);return A.createElement("path",ay({},H,{radius:typeof f=="number"?f:void 0,className:I,d:wR(a,s,c,d,f)}))}var Z=S.current,z=j.current,F=D.current,Q=O.current,ee="0px ".concat(r===-1?1:r,"px"),ye="".concat(r,"px 0px"),J=Que(["strokeDasharray"],y,typeof p=="string"?p:SR.animationEasing);return A.createElement(U7,{animationId:N,key:N,canBegin:r>0,duration:y,easing:p,isActive:T,begin:b},le=>{var ae=Fo(Z,c,le),he=Fo(z,d,le),ne=Fo(F,a,le),q=Fo(Q,s,le);n.current&&(S.current=ae,j.current=he,D.current=ne,O.current=q);var K;x?le>0?K={transition:J,strokeDasharray:ye}:K={strokeDasharray:ee}:K={strokeDasharray:ye};var X=Ba(t),{radius:re}=X,V=xR(X,_de);return A.createElement("path",ay({},V,{radius:typeof f=="number"?f:void 0,className:I,d:wR(ne,q,ae,he,f),ref:n,style:_R(_R({},K),t.style)}))})};function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){Tde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tde(e,t,n){return(t=kde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kde(e){var t=Ode(e,"string");return typeof t=="symbol"?t:t+""}function Ode(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oy=Math.PI/180,jde=e=>e*180/Math.PI,Lr=(e,t,n,r)=>({x:e+Math.cos(-oy*r)*n,y:t+Math.sin(-oy*r)*n}),Nde=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Cde=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Mde=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=Cde({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:s,angle:jde(d),angleInRadian:d}},Dde=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Pde=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},Rde=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Mde({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:f}=Dde(t),m=a,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?AR(AR({},t),{},{radius:i,angle:Pde(m,t)}):null};function F7(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Lr(t,n,r,i),c=Lr(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(null,arguments)}var Lde=(e,t)=>{var n=Ma(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},C0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,f=c*(s?1:-1)+r,m=Math.asin(c/f)/oy,p=d?i:i+a*m,y=Lr(t,n,f,p),b=Lr(t,n,r,p),x=d?i-a*m:i,T=Lr(t,n,f*Math.cos(m*oy),x);return{center:y,circleTangency:b,lineTangency:T,theta:m}},G7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=Lde(a,s),d=a+c,f=Lr(t,n,i,a),m=Lr(t,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=Lr(t,n,r,a),b=Lr(t,n,r,d);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Ide=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Ma(f-d),{circleTangency:p,lineTangency:y,theta:b}=C0({cx:t,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:x,lineTangency:T,theta:S}=C0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-b-S;if(j<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):G7({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var D="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:M,theta:N}=C0({cx:t,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:I,lineTangency:$,theta:B}=C0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),H=c?Math.abs(d-f):Math.abs(d-f)-N-B;if(H<0&&a===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},$de={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bde=e=>{var t=ua(e,$de),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var y=bn("recharts-sector",p),b=a-i,x=Vl(s,b,0,!0),T;return x>0&&Math.abs(f-m)<360?T=Ide({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):T=G7({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),A.createElement("path",HE({},Ba(t),{className:y,d:T}))};function zde(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(C4(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:c}=t,d=Lr(r,i,a,c),f=Lr(r,i,s,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return F7(t)}}var X1={},J1={},Q1={},TR;function Ude(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H4();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Q1)),Q1}var kR;function Hde(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ude();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(J1)),J1}var OR;function Fde(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F4(),n=Hde();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=s;return d}e.range=r})(X1)),X1}var eS,jR;function Gde(){return jR||(jR=1,eS=Fde().range),eS}var qde=Gde();const q7=Pi(qde);function Yl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JA(e){let t,n,r;e.length!==2?(t=Yl,n=(c,d)=>Yl(e(c),d),r=(c,d)=>e(c)-d):(t=e===Yl||e===Yde?e:Kde,n=e,r=e);function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:s,right:a}}function Kde(){return 0}function Y7(e){return e===null?NaN:+e}function*Wde(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Vde=JA(Yl),ap=Vde.right;JA(Y7).center;class NR extends Map{constructor(t,n=Jde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(CR(this,t))}has(t){return super.has(CR(this,t))}set(t,n){return super.set(Zde(this,t),n)}delete(t){return super.delete(Xde(this,t))}}function CR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Zde({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Xde({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Qde(e=Yl){if(e===Yl)return K7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function K7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const efe=Math.sqrt(50),tfe=Math.sqrt(10),nfe=Math.sqrt(2);function sy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=efe?10:a>=tfe?5:a>=nfe?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?sy(e,t,n*2):[c,d,f]}function FE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?sy(t,e,n):sy(e,t,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(a-f)/-s;else for(let f=0;f<c;++f)d[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function GE(e,t,n){return t=+t,e=+e,n=+n,sy(e,t,n)[2]}function qE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?GE(t,e,n):GE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function MR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function DR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function W7(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?K7:Qde(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(t-f*p/d+y)),x=Math.min(r,Math.floor(t+(d-f)*p/d+y));W7(e,t,b,x,i)}const a=e[t];let s=n,c=r;for(zh(e,n,t),i(e[r],a)>0&&zh(e,n,r);s<c;){for(zh(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?zh(e,n,c):(++c,zh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function zh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rfe(e,t,n){if(e=Float64Array.from(Wde(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return DR(e);if(t>=1)return MR(e);var r,i=(r-1)*t,a=Math.floor(i),s=MR(W7(e,a).subarray(0,a+1)),c=DR(e.subarray(a+1));return s+(c-s)*(i-a)}}function ife(e,t,n=Y7){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function afe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ws(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const YE=Symbol("implicit");function QA(){var e=new NR,t=[],n=[],r=YE;function i(a){let s=e.get(a);if(s===void 0){if(r!==YE)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new NR;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return QA(t,n).unknown(r)},Fa.apply(i,arguments),i}function eT(){var e=QA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var y=t().length,b=i<r,x=b?i:r,T=b?r:i;a=(T-x)/Math.max(1,y-d+f*2),c&&(a=Math.floor(a)),x+=(T-x-a*(y-d))*m,s=a*(1-d),c&&(x=Math.round(x),s=Math.round(s));var S=afe(y).map(function(j){return x+a*j});return n(b?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,p()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return eT(t(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Fa.apply(p(),arguments)}function V7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return V7(t())},e}function ofe(){return V7(eT.apply(null,arguments).paddingInner(1))}function tT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Z7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function op(){}var jm=.7,ly=1/jm,Gd="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sfe=/^#([0-9a-f]{3,8})$/,lfe=new RegExp(`^rgb\\(${Gd},${Gd},${Gd}\\)$`),cfe=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),ufe=new RegExp(`^rgba\\(${Gd},${Gd},${Gd},${Nm}\\)$`),dfe=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${Nm}\\)$`),ffe=new RegExp(`^hsl\\(${Nm},${Ko},${Ko}\\)$`),hfe=new RegExp(`^hsla\\(${Nm},${Ko},${Ko},${Nm}\\)$`),PR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tT(op,Cm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RR,formatHex:RR,formatHex8:mfe,formatHsl:pfe,formatRgb:LR,toString:LR});function RR(){return this.rgb().formatHex()}function mfe(){return this.rgb().formatHex8()}function pfe(){return X7(this).formatHsl()}function LR(){return this.rgb().formatRgb()}function Cm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sfe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IR(t):n===3?new Ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?M0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?M0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lfe.exec(e))?new Ci(t[1],t[2],t[3],1):(t=cfe.exec(e))?new Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ufe.exec(e))?M0(t[1],t[2],t[3],t[4]):(t=dfe.exec(e))?M0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ffe.exec(e))?zR(t[1],t[2]/100,t[3]/100,1):(t=hfe.exec(e))?zR(t[1],t[2]/100,t[3]/100,t[4]):PR.hasOwnProperty(e)?IR(PR[e]):e==="transparent"?new Ci(NaN,NaN,NaN,0):null}function IR(e){return new Ci(e>>16&255,e>>8&255,e&255,1)}function M0(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ci(e,t,n,r)}function gfe(e){return e instanceof op||(e=Cm(e)),e?(e=e.rgb(),new Ci(e.r,e.g,e.b,e.opacity)):new Ci}function KE(e,t,n,r){return arguments.length===1?gfe(e):new Ci(e,t,n,r??1)}function Ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}tT(Ci,KE,Z7(op,{brighter(e){return e=e==null?ly:Math.pow(ly,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ci(du(this.r),du(this.g),du(this.b),cy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$R,formatHex:$R,formatHex8:vfe,formatRgb:BR,toString:BR}));function $R(){return`#${iu(this.r)}${iu(this.g)}${iu(this.b)}`}function vfe(){return`#${iu(this.r)}${iu(this.g)}${iu(this.b)}${iu((isNaN(this.opacity)?1:this.opacity)*255)}`}function BR(){const e=cy(this.opacity);return`${e===1?"rgb(":"rgba("}${du(this.r)}, ${du(this.g)}, ${du(this.b)}${e===1?")":`, ${e})`}`}function cy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function du(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function iu(e){return e=du(e),(e<16?"0":"")+e.toString(16)}function zR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fo(e,t,n,r)}function X7(e){if(e instanceof fo)return new fo(e.h,e.s,e.l,e.opacity);if(e instanceof op||(e=Cm(e)),!e)return new fo;if(e instanceof fo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,d=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new fo(s,c,d,e.opacity)}function yfe(e,t,n,r){return arguments.length===1?X7(e):new fo(e,t,n,r??1)}function fo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}tT(fo,yfe,Z7(op,{brighter(e){return e=e==null?ly:Math.pow(ly,e),new fo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new fo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ci(tS(e>=240?e-240:e+120,i,r),tS(e,i,r),tS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fo(UR(this.h),D0(this.s),D0(this.l),cy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cy(this.opacity);return`${e===1?"hsl(":"hsla("}${UR(this.h)}, ${D0(this.s)*100}%, ${D0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UR(e){return e=(e||0)%360,e<0?e+360:e}function D0(e){return Math.max(0,Math.min(1,e||0))}function tS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nT=e=>()=>e;function bfe(e,t){return function(n){return e+n*t}}function _fe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xfe(e){return(e=+e)==1?J7:function(t,n){return n-t?_fe(t,n,e):nT(isNaN(t)?n:t)}}function J7(e,t){var n=t-e;return n?bfe(e,n):nT(isNaN(e)?t:e)}const HR=(function e(t){var n=xfe(t);function r(i,a){var s=n((i=KE(i)).r,(a=KE(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=J7(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function wfe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Sfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Efe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=bf(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function Afe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function uy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tfe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=bf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var WE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nS=new RegExp(WE.source,"g");function kfe(e){return function(){return e}}function Ofe(e){return function(t){return e(t)+""}}function jfe(e,t){var n=WE.lastIndex=nS.lastIndex=0,r,i,a,s=-1,c=[],d=[];for(e=e+"",t=t+"";(r=WE.exec(e))&&(i=nS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:uy(r,i)})),n=nS.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?Ofe(d[0].x):kfe(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function bf(e,t){var n=typeof t,r;return t==null||n==="boolean"?nT(t):(n==="number"?uy:n==="string"?(r=Cm(t))?(t=r,HR):jfe:t instanceof Cm?HR:t instanceof Date?Afe:Sfe(t)?wfe:Array.isArray(t)?Efe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tfe:uy)(e,t)}function rT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Nfe(e,t){t===void 0&&(t=e,e=bf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function Cfe(e){return function(){return e}}function dy(e){return+e}var FR=[0,1];function ui(e){return e}function VE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cfe(isNaN(t)?NaN:.5)}function Mfe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Dfe(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=VE(i,r),a=n(s,a)):(r=VE(r,i),a=n(a,s)),function(c){return a(r(c))}}function Pfe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=VE(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var d=ap(e,c,1,r)-1;return a[d](i[d](c))}}function sp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nb(){var e=FR,t=FR,n=bf,r,i,a,s=ui,c,d,f;function m(){var y=Math.min(e.length,t.length);return s!==ui&&(s=Mfe(e[0],e[y-1])),c=y>2?Pfe:Dfe,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(d||(d=c(e.map(r),t,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=c(t,e.map(r),uy)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,dy),m()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=rT,m()},p.clamp=function(y){return arguments.length?(s=y?!0:ui,m()):s!==ui},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,m()}}function iT(){return Nb()(ui,ui)}function Rfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rf(e){return e=fy(Math.abs(e)),e?e[1]:NaN}function Lfe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Ife(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mm(e){if(!(t=$fe.exec(e)))throw new Error("invalid format: "+e);var t;return new aT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mm.prototype=aT.prototype;function aT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bfe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Q7;function zfe(e,t){var n=fy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Q7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fy(e,Math.max(0,t+a-1))[0]}function GR(e,t){var n=fy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GR(e*100,t),r:GR,s:zfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YR(e){return e}var KR=Array.prototype.map,WR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ufe(e){var t=e.grouping===void 0||e.thousands===void 0?YR:Lfe(KR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?YR:Ife(KR.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Mm(p);var y=p.fill,b=p.align,x=p.sign,T=p.symbol,S=p.zero,j=p.width,D=p.comma,O=p.precision,M=p.trim,N=p.type;N==="n"?(D=!0,N="g"):qR[N]||(O===void 0&&(O=12),M=!0,N="g"),(S||y==="0"&&b==="=")&&(S=!0,y="0",b="=");var I=T==="$"?n:T==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",$=T==="$"?r:/[%p]/.test(N)?s:"",B=qR[N],H=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function Z(z){var F=I,Q=$,ee,ye,J;if(N==="c")Q=B(z)+Q,z="";else{z=+z;var le=z<0||1/z<0;if(z=isNaN(z)?d:B(Math.abs(z),O),M&&(z=Bfe(z)),le&&+z==0&&x!=="+"&&(le=!1),F=(le?x==="("?x:c:x==="-"||x==="("?"":x)+F,Q=(N==="s"?WR[8+Q7/3]:"")+Q+(le&&x==="("?")":""),H){for(ee=-1,ye=z.length;++ee<ye;)if(J=z.charCodeAt(ee),48>J||J>57){Q=(J===46?i+z.slice(ee+1):z.slice(ee))+Q,z=z.slice(0,ee);break}}}D&&!S&&(z=t(z,1/0));var ae=F.length+z.length+Q.length,he=ae<j?new Array(j-ae+1).join(y):"";switch(D&&S&&(z=t(he+z,he.length?j-Q.length:1/0),he=""),b){case"<":z=F+z+Q+he;break;case"=":z=F+he+z+Q;break;case"^":z=he.slice(0,ae=he.length>>1)+F+z+Q+he.slice(ae);break;default:z=he+F+z+Q;break}return a(z)}return Z.toString=function(){return p+""},Z}function m(p,y){var b=f((p=Mm(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(rf(y)/3)))*3,T=Math.pow(10,-x),S=WR[8+x/3];return function(j){return b(T*j)+S}}return{format:f,formatPrefix:m}}var P0,oT,e6;Hfe({thousands:",",grouping:[3],currency:["$",""]});function Hfe(e){return P0=Ufe(e),oT=P0.format,e6=P0.formatPrefix,P0}function Ffe(e){return Math.max(0,-rf(Math.abs(e)))}function Gfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rf(t)/3)))*3-rf(Math.abs(e)))}function qfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rf(t)-rf(e))+1}function t6(e,t,n,r){var i=qE(e,t,n),a;switch(r=Mm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Gfe(i,s))&&(r.precision=a),e6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=qfe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ffe(i))&&(r.precision=a-(r.type==="%")*2);break}}return oT(r)}function Ql(e){var t=e.domain;return e.ticks=function(n){var r=t();return FE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return t6(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],d,f,m=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=GE(s,c,n),f===d)return r[i]=s,r[a]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function n6(){var e=iT();return e.copy=function(){return sp(e,n6())},Fa.apply(e,arguments),Ql(e)}function r6(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,dy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return r6(e).unknown(t)},e=arguments.length?Array.from(e,dy):[0,1],Ql(n)}function i6(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function VR(e){return Math.log(e)}function ZR(e){return Math.exp(e)}function Yfe(e){return-Math.log(-e)}function Kfe(e){return-Math.exp(-e)}function Wfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vfe(e){return e===10?Wfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XR(e){return(t,n)=>-e(-t,n)}function sT(e){const t=e(VR,ZR),n=t.domain;let r=10,i,a;function s(){return i=Zfe(r),a=Vfe(r),n()[0]<0?(i=XR(i),a=XR(a),e(Yfe,Kfe)):e(VR,ZR),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),b=i(m),x,T;const S=c==null?10:+c;let j=[];if(!(r%1)&&b-y<S){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(x=1;x<r;++x)if(T=y<0?x/a(-y):x*a(y),!(T<f)){if(T>m)break;j.push(T)}}else for(;y<=b;++y)for(x=r-1;x>=1;--x)if(T=y>0?x/a(-y):x*a(y),!(T<f)){if(T>m)break;j.push(T)}j.length*2<S&&(j=FE(f,m,S))}else j=FE(y,b,Math.min(b-y,S)).map(a);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Mm(d)).precision==null&&(d.trim=!0),d=oT(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},t.nice=()=>n(i6(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function a6(){const e=sT(Nb()).domain([1,10]);return e.copy=()=>sp(e,a6()).base(e.base()),Fa.apply(e,arguments),e}function JR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lT(e){var t=1,n=e(JR(t),QR(t));return n.constant=function(r){return arguments.length?e(JR(t=+r),QR(t)):t},Ql(n)}function o6(){var e=lT(Nb());return e.copy=function(){return sp(e,o6()).constant(e.constant())},Fa.apply(e,arguments)}function e3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jfe(e){return e<0?-e*e:e*e}function cT(e){var t=e(ui,ui),n=1;function r(){return n===1?e(ui,ui):n===.5?e(Xfe,Jfe):e(e3(n),e3(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ql(t)}function uT(){var e=cT(Nb());return e.copy=function(){return sp(e,uT()).exponent(e.exponent())},Fa.apply(e,arguments),e}function Qfe(){return uT.apply(null,arguments).exponent(.5)}function t3(e){return Math.sign(e)*e*e}function ehe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function s6(){var e=iT(),t=[0,1],n=!1,r;function i(a){var s=ehe(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(t3(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,dy)).map(t3)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return s6(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Fa.apply(i,arguments),Ql(i)}function l6(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=ife(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[ap(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Yl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return l6().domain(e).range(t).unknown(r)},Fa.apply(a,arguments)}function c6(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[ap(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return c6().domain([e,t]).range(i).unknown(a)},Fa.apply(Ql(s),arguments)}function u6(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[ap(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return u6().domain(e).range(t).unknown(n)},Fa.apply(i,arguments)}const rS=new Date,iS=new Date;function lr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<s);return d},i.filter=a=>lr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(rS.setTime(+a),iS.setTime(+s),e(rS),e(iS),Math.floor(n(rS,iS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const hy=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hy);hy.range;const Ns=1e3,Da=Ns*60,Cs=Da*60,Bs=Cs*24,dT=Bs*7,n3=Bs*30,aS=Bs*365,au=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getUTCSeconds());au.range;const fT=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ns)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getMinutes());fT.range;const hT=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCMinutes());hT.range;const mT=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ns-e.getMinutes()*Da)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getHours());mT.range;const pT=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCHours());pT.range;const lp=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Da)/Bs,e=>e.getDate()-1);lp.range;const Cb=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bs,e=>e.getUTCDate()-1);Cb.range;const d6=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bs,e=>Math.floor(e/Bs));d6.range;function Au(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Da)/dT)}const Mb=Au(0),my=Au(1),the=Au(2),nhe=Au(3),af=Au(4),rhe=Au(5),ihe=Au(6);Mb.range;my.range;the.range;nhe.range;af.range;rhe.range;ihe.range;function Tu(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/dT)}const Db=Tu(0),py=Tu(1),ahe=Tu(2),ohe=Tu(3),of=Tu(4),she=Tu(5),lhe=Tu(6);Db.range;py.range;ahe.range;ohe.range;of.range;she.range;lhe.range;const gT=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gT.range;const vT=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vT.range;const zs=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});zs.range;const Us=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Us.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Us.range;function f6(e,t,n,r,i,a){const s=[[au,1,Ns],[au,5,5*Ns],[au,15,15*Ns],[au,30,30*Ns],[a,1,Da],[a,5,5*Da],[a,15,15*Da],[a,30,30*Da],[i,1,Cs],[i,3,3*Cs],[i,6,6*Cs],[i,12,12*Cs],[r,1,Bs],[r,2,2*Bs],[n,1,dT],[t,1,n3],[t,3,3*n3],[e,1,aS]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),x=b?b.range(f,+m+1):[];return y?x.reverse():x}function d(f,m,p){const y=Math.abs(m-f)/p,b=JA(([,,S])=>S).right(s,y);if(b===s.length)return e.every(qE(f/aS,m/aS,p));if(b===0)return hy.every(Math.max(qE(f,m,p),1));const[x,T]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return x.every(T)}return[c,d]}const[che,uhe]=f6(Us,vT,Db,d6,pT,hT),[dhe,fhe]=f6(zs,gT,Mb,lp,mT,fT);function oS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hhe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=Hh(i),m=Fh(i),p=Hh(a),y=Fh(a),b=Hh(s),x=Fh(s),T=Hh(c),S=Fh(c),j=Hh(d),D=Fh(d),O={a:le,A:ae,b:he,B:ne,c:null,d:l3,e:l3,f:Lhe,g:Yhe,G:Whe,H:Dhe,I:Phe,j:Rhe,L:h6,m:Ihe,M:$he,p:q,q:K,Q:d3,s:f3,S:Bhe,u:zhe,U:Uhe,V:Hhe,w:Fhe,W:Ghe,x:null,X:null,y:qhe,Y:Khe,Z:Vhe,"%":u3},M={a:X,A:re,b:V,B:W,c:null,d:c3,e:c3,f:Qhe,g:cme,G:dme,H:Zhe,I:Xhe,j:Jhe,L:p6,m:eme,M:tme,p:ue,q:te,Q:d3,s:f3,S:nme,u:rme,U:ime,V:ame,w:ome,W:sme,x:null,X:null,y:lme,Y:ume,Z:fme,"%":u3},N={a:Z,A:z,b:F,B:Q,c:ee,d:o3,e:o3,f:jhe,g:a3,G:i3,H:s3,I:s3,j:Ahe,L:Ohe,m:Ehe,M:The,p:H,q:She,Q:Che,s:Mhe,S:khe,u:yhe,U:bhe,V:_he,w:vhe,W:xhe,x:ye,X:J,y:a3,Y:i3,Z:whe,"%":Nhe};O.x=I(n,O),O.X=I(r,O),O.c=I(t,O),M.x=I(n,M),M.X=I(r,M),M.c=I(t,M);function I(Y,se){return function(Se){var ce=[],Ne=-1,me=0,Te=Y.length,De,Le,Be;for(Se instanceof Date||(Se=new Date(+Se));++Ne<Te;)Y.charCodeAt(Ne)===37&&(ce.push(Y.slice(me,Ne)),(Le=r3[De=Y.charAt(++Ne)])!=null?De=Y.charAt(++Ne):Le=De==="e"?" ":"0",(Be=se[De])&&(De=Be(Se,Le)),ce.push(De),me=Ne+1);return ce.push(Y.slice(me,Ne)),ce.join("")}}function $(Y,se){return function(Se){var ce=Uh(1900,void 0,1),Ne=B(ce,Y,Se+="",0),me,Te;if(Ne!=Se.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(se&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(me=sS(Uh(ce.y,0,1)),Te=me.getUTCDay(),me=Te>4||Te===0?py.ceil(me):py(me),me=Cb.offset(me,(ce.V-1)*7),ce.y=me.getUTCFullYear(),ce.m=me.getUTCMonth(),ce.d=me.getUTCDate()+(ce.w+6)%7):(me=oS(Uh(ce.y,0,1)),Te=me.getDay(),me=Te>4||Te===0?my.ceil(me):my(me),me=lp.offset(me,(ce.V-1)*7),ce.y=me.getFullYear(),ce.m=me.getMonth(),ce.d=me.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Te="Z"in ce?sS(Uh(ce.y,0,1)).getUTCDay():oS(Uh(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Te+5)%7:ce.w+ce.U*7-(Te+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,sS(ce)):oS(ce)}}function B(Y,se,Se,ce){for(var Ne=0,me=se.length,Te=Se.length,De,Le;Ne<me;){if(ce>=Te)return-1;if(De=se.charCodeAt(Ne++),De===37){if(De=se.charAt(Ne++),Le=N[De in r3?se.charAt(Ne++):De],!Le||(ce=Le(Y,Se,ce))<0)return-1}else if(De!=Se.charCodeAt(ce++))return-1}return ce}function H(Y,se,Se){var ce=f.exec(se.slice(Se));return ce?(Y.p=m.get(ce[0].toLowerCase()),Se+ce[0].length):-1}function Z(Y,se,Se){var ce=b.exec(se.slice(Se));return ce?(Y.w=x.get(ce[0].toLowerCase()),Se+ce[0].length):-1}function z(Y,se,Se){var ce=p.exec(se.slice(Se));return ce?(Y.w=y.get(ce[0].toLowerCase()),Se+ce[0].length):-1}function F(Y,se,Se){var ce=j.exec(se.slice(Se));return ce?(Y.m=D.get(ce[0].toLowerCase()),Se+ce[0].length):-1}function Q(Y,se,Se){var ce=T.exec(se.slice(Se));return ce?(Y.m=S.get(ce[0].toLowerCase()),Se+ce[0].length):-1}function ee(Y,se,Se){return B(Y,t,se,Se)}function ye(Y,se,Se){return B(Y,n,se,Se)}function J(Y,se,Se){return B(Y,r,se,Se)}function le(Y){return s[Y.getDay()]}function ae(Y){return a[Y.getDay()]}function he(Y){return d[Y.getMonth()]}function ne(Y){return c[Y.getMonth()]}function q(Y){return i[+(Y.getHours()>=12)]}function K(Y){return 1+~~(Y.getMonth()/3)}function X(Y){return s[Y.getUTCDay()]}function re(Y){return a[Y.getUTCDay()]}function V(Y){return d[Y.getUTCMonth()]}function W(Y){return c[Y.getUTCMonth()]}function ue(Y){return i[+(Y.getUTCHours()>=12)]}function te(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var se=I(Y+="",O);return se.toString=function(){return Y},se},parse:function(Y){var se=$(Y+="",!1);return se.toString=function(){return Y},se},utcFormat:function(Y){var se=I(Y+="",M);return se.toString=function(){return Y},se},utcParse:function(Y){var se=$(Y+="",!0);return se.toString=function(){return Y},se}}}var r3={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,mhe=/^%/,phe=/[\\^$*+?|[\]().{}]/g;function $t(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ghe(e){return e.replace(phe,"\\$&")}function Hh(e){return new RegExp("^(?:"+e.map(ghe).join("|")+")","i")}function Fh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vhe(e,t,n){var r=Er.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function yhe(e,t,n){var r=Er.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function bhe(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _he(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function xhe(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function i3(e,t,n){var r=Er.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function a3(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function whe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function She(e,t,n){var r=Er.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ehe(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function o3(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ahe(e,t,n){var r=Er.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function s3(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function The(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function khe(e,t,n){var r=Er.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ohe(e,t,n){var r=Er.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function jhe(e,t,n){var r=Er.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Nhe(e,t,n){var r=mhe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Che(e,t,n){var r=Er.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Mhe(e,t,n){var r=Er.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function l3(e,t){return $t(e.getDate(),t,2)}function Dhe(e,t){return $t(e.getHours(),t,2)}function Phe(e,t){return $t(e.getHours()%12||12,t,2)}function Rhe(e,t){return $t(1+lp.count(zs(e),e),t,3)}function h6(e,t){return $t(e.getMilliseconds(),t,3)}function Lhe(e,t){return h6(e,t)+"000"}function Ihe(e,t){return $t(e.getMonth()+1,t,2)}function $he(e,t){return $t(e.getMinutes(),t,2)}function Bhe(e,t){return $t(e.getSeconds(),t,2)}function zhe(e){var t=e.getDay();return t===0?7:t}function Uhe(e,t){return $t(Mb.count(zs(e)-1,e),t,2)}function m6(e){var t=e.getDay();return t>=4||t===0?af(e):af.ceil(e)}function Hhe(e,t){return e=m6(e),$t(af.count(zs(e),e)+(zs(e).getDay()===4),t,2)}function Fhe(e){return e.getDay()}function Ghe(e,t){return $t(my.count(zs(e)-1,e),t,2)}function qhe(e,t){return $t(e.getFullYear()%100,t,2)}function Yhe(e,t){return e=m6(e),$t(e.getFullYear()%100,t,2)}function Khe(e,t){return $t(e.getFullYear()%1e4,t,4)}function Whe(e,t){var n=e.getDay();return e=n>=4||n===0?af(e):af.ceil(e),$t(e.getFullYear()%1e4,t,4)}function Vhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function c3(e,t){return $t(e.getUTCDate(),t,2)}function Zhe(e,t){return $t(e.getUTCHours(),t,2)}function Xhe(e,t){return $t(e.getUTCHours()%12||12,t,2)}function Jhe(e,t){return $t(1+Cb.count(Us(e),e),t,3)}function p6(e,t){return $t(e.getUTCMilliseconds(),t,3)}function Qhe(e,t){return p6(e,t)+"000"}function eme(e,t){return $t(e.getUTCMonth()+1,t,2)}function tme(e,t){return $t(e.getUTCMinutes(),t,2)}function nme(e,t){return $t(e.getUTCSeconds(),t,2)}function rme(e){var t=e.getUTCDay();return t===0?7:t}function ime(e,t){return $t(Db.count(Us(e)-1,e),t,2)}function g6(e){var t=e.getUTCDay();return t>=4||t===0?of(e):of.ceil(e)}function ame(e,t){return e=g6(e),$t(of.count(Us(e),e)+(Us(e).getUTCDay()===4),t,2)}function ome(e){return e.getUTCDay()}function sme(e,t){return $t(py.count(Us(e)-1,e),t,2)}function lme(e,t){return $t(e.getUTCFullYear()%100,t,2)}function cme(e,t){return e=g6(e),$t(e.getUTCFullYear()%100,t,2)}function ume(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function dme(e,t){var n=e.getUTCDay();return e=n>=4||n===0?of(e):of.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function fme(){return"+0000"}function u3(){return"%"}function d3(e){return+e}function f3(e){return Math.floor(+e/1e3)}var xd,v6,y6;hme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hme(e){return xd=hhe(e),v6=xd.format,xd.parse,y6=xd.utcFormat,xd.utcParse,xd}function mme(e){return new Date(e)}function pme(e){return e instanceof Date?+e:+new Date(+e)}function yT(e,t,n,r,i,a,s,c,d,f){var m=iT(),p=m.invert,y=m.domain,b=f(".%L"),x=f(":%S"),T=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),D=f("%b %d"),O=f("%B"),M=f("%Y");function N(I){return(d(I)<I?b:c(I)<I?x:s(I)<I?T:a(I)<I?S:r(I)<I?i(I)<I?j:D:n(I)<I?O:M)(I)}return m.invert=function(I){return new Date(p(I))},m.domain=function(I){return arguments.length?y(Array.from(I,pme)):y().map(mme)},m.ticks=function(I){var $=y();return e($[0],$[$.length-1],I??10)},m.tickFormat=function(I,$){return $==null?N:f($)},m.nice=function(I){var $=y();return(!I||typeof I.range!="function")&&(I=t($[0],$[$.length-1],I??10)),I?y(i6($,I)):m},m.copy=function(){return sp(m,yT(e,t,n,r,i,a,s,c,d,f))},m}function gme(){return Fa.apply(yT(dhe,fhe,zs,gT,Mb,lp,mT,fT,au,v6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vme(){return Fa.apply(yT(che,uhe,Us,vT,Db,Cb,pT,hT,au,y6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pb(){var e=0,t=1,n,r,i,a,s=ui,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:s(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(s=p,f):s};function m(p){return function(y){var b,x;return arguments.length?([b,x]=y,s=p(b,x),f):[s(0),s(1)]}}return f.range=m(bf),f.rangeRound=m(rT),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function ec(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function b6(){var e=Ql(Pb()(ui));return e.copy=function(){return ec(e,b6())},Ws.apply(e,arguments)}function _6(){var e=sT(Pb()).domain([1,10]);return e.copy=function(){return ec(e,_6()).base(e.base())},Ws.apply(e,arguments)}function x6(){var e=lT(Pb());return e.copy=function(){return ec(e,x6()).constant(e.constant())},Ws.apply(e,arguments)}function bT(){var e=cT(Pb());return e.copy=function(){return ec(e,bT()).exponent(e.exponent())},Ws.apply(e,arguments)}function yme(){return bT.apply(null,arguments).exponent(.5)}function w6(){var e=[],t=ui;function n(r){if(r!=null&&!isNaN(r=+r))return t((ap(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Yl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>rfe(e,a/r))},n.copy=function(){return w6(t).domain(e)},Ws.apply(n,arguments)}function Rb(){var e=0,t=.5,n=1,r=1,i,a,s,c,d,f=ui,m,p=!1,y;function b(T){return isNaN(T=+T)?y:(T=.5+((T=+m(T))-a)*(r*T<r*a?c:d),f(p?Math.max(0,Math.min(1,T)):T))}b.domain=function(T){return arguments.length?([e,t,n]=T,i=m(e=+e),a=m(t=+t),s=m(n=+n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(T){return arguments.length?(p=!!T,b):p},b.interpolator=function(T){return arguments.length?(f=T,b):f};function x(T){return function(S){var j,D,O;return arguments.length?([j,D,O]=S,f=Nfe(T,[j,D,O]),b):[f(0),f(.5),f(1)]}}return b.range=x(bf),b.rangeRound=x(rT),b.unknown=function(T){return arguments.length?(y=T,b):y},function(T){return m=T,i=T(e),a=T(t),s=T(n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function S6(){var e=Ql(Rb()(ui));return e.copy=function(){return ec(e,S6())},Ws.apply(e,arguments)}function E6(){var e=sT(Rb()).domain([.1,1,10]);return e.copy=function(){return ec(e,E6()).base(e.base())},Ws.apply(e,arguments)}function A6(){var e=lT(Rb());return e.copy=function(){return ec(e,A6()).constant(e.constant())},Ws.apply(e,arguments)}function _T(){var e=cT(Rb());return e.copy=function(){return ec(e,_T()).exponent(e.exponent())},Ws.apply(e,arguments)}function bme(){return _T.apply(null,arguments).exponent(.5)}const Xh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eT,scaleDiverging:S6,scaleDivergingLog:E6,scaleDivergingPow:_T,scaleDivergingSqrt:bme,scaleDivergingSymlog:A6,scaleIdentity:r6,scaleImplicit:YE,scaleLinear:n6,scaleLog:a6,scaleOrdinal:QA,scalePoint:ofe,scalePow:uT,scaleQuantile:l6,scaleQuantize:c6,scaleRadial:s6,scaleSequential:b6,scaleSequentialLog:_6,scaleSequentialPow:bT,scaleSequentialQuantile:w6,scaleSequentialSqrt:yme,scaleSequentialSymlog:x6,scaleSqrt:Qfe,scaleSymlog:o6,scaleThreshold:u6,scaleTime:gme,scaleUtc:vme,tickFormat:t6},Symbol.toStringTag,{value:"Module"}));var tc=e=>e.chartData,_me=Oe([tc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xT=(e,t,n,r)=>r?_me(e):tc(e);function Zl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Fn(t)&&Fn(n))return!0}return!1}function h3(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function T6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Fn(n))i=n;else if(typeof n=="function")return;if(Fn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Zl(s))return s}}function xme(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Zl(r))return h3(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(nt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&FP.test(i)){var d=FP.exec(i);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[0]-f}}else s=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(nt(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&GP.test(a)){var m=GP.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var y=[s,c];if(Zl(y))return t==null?y:h3(y,t,n)}}}var _f=1e9,wme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ST,An=!0,Ua="[DecimalError] ",fu=Ua+"Invalid argument: ",wT=Ua+"Exponent out of range: ",xf=Math.floor,Qc=Math.pow,Sme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ea,br=1e7,yn=7,k6=9007199254740991,gy=xf(k6/yn),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*yn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(e){return Ds(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,n=t.constructor;return nn(Ds(t,new n(e),0,1),n.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return nr(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ea))throw Error(Ua+"NaN");if(n.s<1)throw Error(Ua+(n.s?"NaN":"-Infinity"));return n.eq(ea)?new r(0):(An=!1,t=Ds(Dm(n,a),Dm(e,a),a),An=!0,nn(t,i))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N6(t,e):O6(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ua+"NaN");return n.s?(An=!1,t=Ds(n,e,0,1).times(e),An=!0,n.minus(t)):nn(new r(n),i)};We.naturalExponential=We.exp=function(){return j6(this)};We.naturalLogarithm=We.ln=function(){return Dm(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O6(t,e):N6(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fu+e);if(t=nr(i)+1,r=i.d.length-1,n=r*yn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};We.squareRoot=We.sqrt=function(){var e,t,n,r,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ua+"NaN")}for(e=nr(c),An=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Yo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(a=r,r=a.plus(Ds(c,a,s+2)).times(.5),Yo(a.d).slice(0,s)===(t=Yo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(nn(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return An=!0,nn(r,n)};We.times=We.mul=function(e){var t,n,r,i,a,s,c,d,f,m=this,p=m.constructor,y=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,d=y.length,f=b.length,d<f&&(a=y,y=b,b=a,s=d,d=f,f=s),a=[],s=d+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)c=a[i]+b[r]*y[i-r-1]+t,a[i--]=c%br|0,t=c/br|0;a[i]=(a[i]+t)%br|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,An?nn(e,p.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Xo(e,0,_f),t===void 0?t=r.rounding:Xo(t,0,8),nn(n,e+nr(n)+1,t))};We.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=bu(r,!0):(Xo(e,0,_f),t===void 0?t=i.rounding:Xo(t,0,8),r=nn(new i(r),e+1,t),n=bu(r,!0,e+1)),n};We.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?bu(i):(Xo(e,0,_f),t===void 0?t=a.rounding:Xo(t,0,8),r=nn(new a(i),e+nr(i)+1,t),n=bu(r.abs(),!1,e+nr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return nn(new t(e),nr(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,n,r,i,a,s,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(ea);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ua+"Infinity");return c}if(c.eq(ea))return c;if(r=d.precision,e.eq(ea))return nn(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=m<0?-m:m)<=k6){for(i=new d(ea),t=Math.ceil(r/yn+4),An=!1;n%2&&(i=i.times(c),p3(i.d,t)),n=xf(n/2),n!==0;)c=c.times(c),p3(c.d,t);return An=!0,e.s<0?new d(ea).div(i):nn(i,r)}}else if(a<0)throw Error(Ua+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,An=!1,i=e.times(Dm(c,r+f)),An=!0,i=j6(i),i.s=a,i};We.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=nr(i),r=bu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Xo(e,1,_f),t===void 0?t=a.rounding:Xo(t,0,8),i=nn(new a(i),e,t),n=nr(i),r=bu(i,e<=n||n<=a.toExpNeg,e)),r};We.toSignificantDigits=We.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Xo(e,1,_f),t===void 0?t=r.rounding:Xo(t,0,8)),nn(new r(n),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nr(e),n=e.constructor;return bu(e,t<=n.toExpNeg||t>=n.toExpPos)};function O6(e,t){var n,r,i,a,s,c,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),An?nn(t,p):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=s,c=d.length),s=Math.ceil(p/yn),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/br|0,d[a]%=br;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,An?nn(t,p):t}function Xo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(fu+e)}function Yo(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=yn-r.length,n&&(a+=$l(n)),a+=r;s=e[t],r=s+"",n=yn-r.length,n&&(a+=$l(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ds=(function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%br|0,s=a/br|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*br+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,d,f,m,p,y,b,x,T,S,j,D,O,M,N,I,$,B,H=r.constructor,Z=r.s==i.s?1:-1,z=r.d,F=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(Ua+"Division by zero");for(d=r.e-i.e,$=F.length,N=z.length,b=new H(Z),x=b.d=[],f=0;F[f]==(z[f]||0);)++f;if(F[f]>(z[f]||0)&&--d,a==null?D=a=H.precision:s?D=a+(nr(r)-nr(i))+1:D=a,D<0)return new H(0);if(D=D/yn+2|0,f=0,$==1)for(m=0,F=F[0],D++;(f<N||m)&&D--;f++)O=m*br+(z[f]||0),x[f]=O/F|0,m=O%F|0;else{for(m=br/(F[0]+1)|0,m>1&&(F=e(F,m),z=e(z,m),$=F.length,N=z.length),M=$,T=z.slice(0,$),S=T.length;S<$;)T[S++]=0;B=F.slice(),B.unshift(0),I=F[0],F[1]>=br/2&&++I;do m=0,c=t(F,T,$,S),c<0?(j=T[0],$!=S&&(j=j*br+(T[1]||0)),m=j/I|0,m>1?(m>=br&&(m=br-1),p=e(F,m),y=p.length,S=T.length,c=t(p,T,y,S),c==1&&(m--,n(p,$<y?B:F,y))):(m==0&&(c=m=1),p=F.slice()),y=p.length,y<S&&p.unshift(0),n(T,p,S),c==-1&&(S=T.length,c=t(F,T,$,S),c<1&&(m++,n(T,$<S?B:F,S))),S=T.length):c===0&&(m++,T=[0]),x[f++]=m,c&&T[0]?T[S++]=z[M]||0:(T=[z[M]],S=1);while((M++<N||T[0]!==void 0)&&D--)}return x[0]||x.shift(),b.e=d,nn(b,s?a+nr(b)+1:a)}})();function j6(e,t){var n,r,i,a,s,c,d=0,f=0,m=e.constructor,p=m.precision;if(nr(e)>16)throw Error(wT+nr(e));if(!e.s)return new m(ea);for(An=!1,c=p,s=new m(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(Qc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(ea),m.precision=c;;){if(i=nn(i.times(e),c),n=n.times(++d),s=a.plus(Ds(i,n,c)),Yo(s.d).slice(0,c)===Yo(a.d).slice(0,c)){for(;f--;)a=nn(a.times(a),c);return m.precision=p,t==null?(An=!0,nn(a,p)):a}a=s}}function nr(e){for(var t=e.e*yn,n=e.d[0];n>=10;n/=10)t++;return t}function lS(e,t,n){if(t>e.LN10.sd())throw An=!0,n&&(e.precision=n),Error(Ua+"LN10 precision limit exceeded");return nn(new e(e.LN10),t)}function $l(e){for(var t="";e--;)t+="0";return t}function Dm(e,t){var n,r,i,a,s,c,d,f,m,p=1,y=10,b=e,x=b.d,T=b.constructor,S=T.precision;if(b.s<1)throw Error(Ua+(b.s?"NaN":"-Infinity"));if(b.eq(ea))return new T(0);if(t==null?(An=!1,f=S):f=t,b.eq(10))return t==null&&(An=!0),lS(T,f);if(f+=y,T.precision=f,n=Yo(x),r=n.charAt(0),a=nr(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Yo(b.d),r=n.charAt(0),p++;a=nr(b),r>1?(b=new T("0."+n),a++):b=new T(r+"."+n.slice(1))}else return d=lS(T,f+2,S).times(a+""),b=Dm(new T(r+"."+n.slice(1)),f-y).plus(d),T.precision=S,t==null?(An=!0,nn(b,S)):b;for(c=s=b=Ds(b.minus(ea),b.plus(ea),f),m=nn(b.times(b),f),i=3;;){if(s=nn(s.times(m),f),d=c.plus(Ds(s,new T(i),f)),Yo(d.d).slice(0,f)===Yo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(lS(T,f+2,S).times(a+""))),c=Ds(c,new T(p),f),T.precision=S,t==null?(An=!0,nn(c,S)):c;c=d,i+=2}}function m3(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xf(n/yn),e.d=[],r=(n+1)%yn,n<0&&(r+=yn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=yn;r<i;)e.d.push(+t.slice(r,r+=yn));t=t.slice(r),r=yn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),An&&(e.e>gy||e.e<-gy))throw Error(wT+n)}else e.s=0,e.e=0,e.d=[0];return e}function nn(e,t,n){var r,i,a,s,c,d,f,m,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=yn,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/yn),a=p.length,m>=a)return e;for(f=a=p[m],s=1;a>=10;a/=10)s++;r%=yn,i=r-yn+s}if(n!==void 0&&(a=Qc(10,s-i-1),c=f/a%10|0,d=t<0||p[m+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/Qc(10,s-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=nr(e),p.length=1,t=t-a-1,p[0]=Qc(10,(yn-t%yn)%yn),e.e=xf(-t/yn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Qc(10,yn-r),p[m]=i>0?(f/Qc(10,s-i)%Qc(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==br&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=br)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(An&&(e.e>gy||e.e<-gy))throw Error(wT+nr(e));return e}function N6(e,t){var n,r,i,a,s,c,d,f,m,p,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),An?nn(t,b):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),s=f-r,s){for(m=s<0,m?(n=d,s=-s,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(b/yn),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}s=0}for(m&&(n=d,d=p,p=n,t.s=-t.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>s;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=br-1;--d[a],d[i]+=br}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,An?nn(t,b):t):new y(0)}function bu(e,t,n){var r,i=nr(e),a=Yo(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+$l(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+$l(-i-1)+a,n&&(r=n-s)>0&&(a+=$l(r))):i>=s?(a+=$l(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+$l(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=$l(r))),e.s<0?"-"+a:a}function p3(e,t){if(e.length>t)return e.length=t,!0}function C6(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return m3(s,a.toString())}else if(typeof a!="string")throw Error(fu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Sme.test(a))m3(s,a);else throw Error(fu+a)}if(i.prototype=We,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C6,i.config=i.set=Eme,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Eme(e){if(!e||typeof e!="object")throw Error(Ua+"Object expected");var t,n,r,i=["precision",1,_f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(fu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fu+n+": "+r);return this}var ST=C6(wme);ea=new ST(1);const Vt=ST;var Ame=e=>e,M6={},D6=e=>e===M6,g3=e=>function t(){return arguments.length===0||arguments.length===1&&D6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},P6=(e,t)=>e===1?t:g3(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==M6).length;return a>=e?t(...r):P6(e-a,g3(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var f=r.map(m=>D6(m)?c.shift():m);return t(...f,...c)}))}),Tme=e=>P6(e.length,e),ZE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},kme=Tme((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Ome=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Ame;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,d)=>d(c),a(...arguments))}},XE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function R6(e){var t;return e===0?t=1:t=Math.floor(new Vt(e).abs().log(10).toNumber())+1,t}function L6(e,t,n){for(var r=new Vt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var I6=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},$6=(e,t,n)=>{if(e.lte(0))return new Vt(0);var r=R6(e.toNumber()),i=new Vt(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new Vt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return t?new Vt(d.toNumber()):new Vt(Math.ceil(d.toNumber()))},jme=(e,t,n)=>{var r=new Vt(1),i=new Vt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Vt(10).pow(R6(e)-1),i=new Vt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Vt(Math.floor(e)))}else e===0?i=new Vt(Math.floor((t-1)/2)):n||(i=new Vt(Math.floor(e)));var s=Math.floor((t-1)/2),c=Ome(kme(d=>i.add(new Vt(d-s).mul(r)).toNumber()),ZE);return c(0,t)},B6=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var s=$6(new Vt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Vt(0):(c=new Vt(t).add(n).div(2),c=c.sub(new Vt(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new Vt(n).sub(c).div(s).toNumber()),m=d+f+1;return m>r?B6(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:s,tickMin:c.sub(new Vt(d).mul(s)),tickMax:c.add(new Vt(f).mul(s))})},Nme=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[c,d]=I6([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...ZE(0,i-1).map(()=>1/0)]:[...ZE(0,i-1).map(()=>-1/0),d];return n>r?XE(f):f}if(c===d)return jme(c,i,a);var{step:m,tickMin:p,tickMax:y}=B6(c,d,s,a,0),b=L6(p,y.add(new Vt(.1).mul(m)),m);return n>r?XE(b):b},Cme=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=I6([r,i]);if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var d=Math.max(n,2),f=$6(new Vt(c).sub(s).div(d-1),a,0),m=[...L6(new Vt(s),new Vt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?XE(m):m},Mme=e=>e.rootProps.barCategoryGap,Lb=e=>e.rootProps.stackOffset,z6=e=>e.rootProps.reverseStackOrder,ET=e=>e.options.chartName,AT=e=>e.rootProps.syncId,U6=e=>e.rootProps.syncMethod,TT=e=>e.options.eventEmitter,Dme=e=>e.rootProps.baseValue,di={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ks={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ib=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Pme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:ks.reversed,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:ks.type,unit:void 0},Rme={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ji.scale,tick:Ji.tick,tickCount:Ji.tickCount,ticks:void 0,type:Ji.type,unit:void 0},Lme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ime={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ji.scale,tick:Ji.tick,tickCount:Ji.tickCount,ticks:void 0,type:"category",unit:void 0},kT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Lme:Pme,OT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Ime:Rme,$b=e=>e.polarOptions,jT=Oe([Ys,Ks,$r],Nde),H6=Oe([$b,jT],(e,t)=>{if(e!=null)return Vl(e.innerRadius,t,0)}),F6=Oe([$b,jT],(e,t)=>{if(e!=null)return Vl(e.outerRadius,t,t*.8)}),$me=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},G6=Oe([$b],$me);Oe([kT,G6],Ib);var q6=Oe([jT,H6,F6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Oe([OT,q6],Ib);var Y6=Oe([mn,$b,H6,F6,Ys,Ks],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:f}=t;return{cx:Vl(s,i,i/2),cy:Vl(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),cr=(e,t)=>t,Bb=(e,t,n)=>n;function NT(e){return e?.id}function K6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=NT(c);f.forEach((p,y)=>{var b=a==null||i?y:String(ei(p,a,null)),x=ei(p,c.dataKey,0),T;s.has(b)?T=s.get(b):T={},Object.assign(T,{[m]:x}),s.set(b,T)})}}),Array.from(s.values())}function CT(e){return e.stackId!=null&&e.dataKey!=null}var zb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ub(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Bme(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ur=e=>{var t=mn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},wf=e=>e.tooltip.settings.axisId;function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(r){zme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zme(e,t,n){return(t=Ume(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ume(e){var t=Hme(e,"string");return typeof t=="symbol"?t:t+""}function Hme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JE=[0,"auto"],gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W6=(e,t)=>e.cartesianAxis.xAxis[t],Vs=(e,t)=>{var n=W6(e,t);return n??gr},vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:JE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:np},V6=(e,t)=>e.cartesianAxis.yAxis[t],Zs=(e,t)=>{var n=V6(e,t);return n??vr},Fme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Fme},mi=(e,t,n)=>{switch(t){case"xAxis":return Vs(e,n);case"yAxis":return Zs(e,n);case"zAxis":return MT(e,n);case"angleAxis":return kT(e,n);case"radiusAxis":return OT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Gme=(e,t,n)=>{switch(t){case"xAxis":return Vs(e,n);case"yAxis":return Zs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},cp=(e,t,n)=>{switch(t){case"xAxis":return Vs(e,n);case"yAxis":return Zs(e,n);case"angleAxis":return kT(e,n);case"radiusAxis":return OT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Z6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function X6(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var J6=e=>e.graphicalItems.cartesianItems,qme=Oe([cr,Bb],X6),Q6=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),up=Oe([J6,mi,qme],Q6,{memoizeOptions:{resultEqualityCheck:Ub}}),e9=Oe([up],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(CT)),t9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Yme=Oe([up],t9),n9=e=>e.map(t=>t.data).filter(Boolean).flat(1),Kme=Oe([up],n9,{memoizeOptions:{resultEqualityCheck:Ub}}),r9=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},DT=Oe([Kme,xT],r9),i9=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:ei(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ei(i,r)}))):e.map(r=>({value:r})),Hb=Oe([DT,mi,up],i9);function a9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function dv(e){if(Vo(e)||e instanceof Date){var t=Number(e);if(Fn(t))return t}}function y3(e){if(Array.isArray(e)){var t=[dv(e[0]),dv(e[1])];return Zl(t)?t:void 0}var n=dv(e);if(n!=null)return[n,n]}function Hs(e){return e.map(dv).filter(mse)}function Wme(e,t,n){return!n||typeof t!="number"||vo(t)?[]:n.length?Hs(n.flatMap(r=>{var i=ei(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Fn(a)||!Fn(s)))return[t-a,t+s]})):[]}var dr=e=>{var t=ur(e),n=wf(e);return cp(e,t,n)},dp=Oe([dr],e=>e?.dataKey),Vme=Oe([e9,xT,dr],K6),o9=(e,t,n,r)=>{var i={},a=t.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[c,d]=s,f=r?[...d].reverse():d,m=f.map(NT);return[c,{stackedData:bce(e,m,n),graphicalItems:f}]}))},QE=Oe([Vme,e9,Lb,z6],o9),s9=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=Sce(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Zme=Oe([mi],e=>e.allowDataOverflow),PT=e=>{var t;if(e==null||!("domain"in e))return JE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Hs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:JE},l9=Oe([mi],PT),c9=Oe([l9,Zme],T6),Xme=Oe([QE,tc,cr,c9],s9,{memoizeOptions:{resultEqualityCheck:zb}}),RT=e=>e.errorBars,Jme=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>a9(n,r)),yy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},u9=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(j=>a9(i,j)),y=ei(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),b=Wme(c,y,p);if(b.length>=2){var x=Math.min(...b),T=Math.max(...b);(a==null||x<a)&&(a=x),(s==null||T>s)&&(s=T)}var S=y3(y);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=y3(ei(c,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),s=s==null?d[1]:Math.max(s,d[1]))}),Fn(a)&&Fn(s))return[a,s]},Qme=Oe([DT,mi,Yme,RT,cr],u9,{memoizeOptions:{resultEqualityCheck:zb}});function epe(e){var{value:t}=e;if(Vo(t)||t instanceof Date)return t}var tpe=(e,t,n)=>{var r=e.map(epe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&j4(r))?q7(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},d9=e=>e.referenceElements.dots,Sf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),npe=Oe([d9,cr,Bb],Sf),f9=e=>e.referenceElements.areas,rpe=Oe([f9,cr,Bb],Sf),h9=e=>e.referenceElements.lines,ipe=Oe([h9,cr,Bb],Sf),m9=(e,t)=>{var n=Hs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ape=Oe(npe,cr,m9),p9=(e,t)=>{var n=Hs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ope=Oe([rpe,cr],p9);function spe(e){var t;if(e.x!=null)return Hs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Hs(n)}function lpe(e){var t;if(e.y!=null)return Hs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Hs(n)}var g9=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?spe(r):lpe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cpe=Oe([ipe,cr],g9),upe=Oe(ape,cpe,ope,(e,t,n)=>yy(e,n,t)),v9=(e,t,n,r,i,a,s,c)=>{if(n!=null)return n;var d=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",f=d?yy(r,a,i):yy(a,i);return xme(t,f,e.allowDataOverflow)},dpe=Oe([mi,l9,c9,Xme,Qme,upe,mn,cr],v9,{memoizeOptions:{resultEqualityCheck:zb}}),fpe=[0,1],y9=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=e,f=qs(t,a);if(f&&c==null){var m;return q7(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?tpe(r,e,f):i==="expand"?fpe:s}},LT=Oe([mi,mn,DT,Hb,Lb,cr,dpe],y9),b9=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat($A(a));return c in Xh?c:"point"}}},fp=Oe([mi,mn,Z6,ET,cr],b9);function hpe(e){if(e!=null){if(e in Xh)return Xh[e]();var t="scale".concat($A(e));if(t in Xh)return Xh[t]()}}function IT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=hpe(t);if(i!=null){var a=i.domain(n).range(r);return pce(a),a}}}var _9=(e,t,n)=>{var r=PT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zl(e))return Nme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Zl(e))return Cme(e,t.tickCount,t.allowDecimals)}},$T=Oe([LT,cp,fp],_9),x9=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Zl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},mpe=Oe([mi,LT,$T,cr],x9),ppe=Oe(Hb,mi,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Hs(e.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),w9=Oe(ppe,mn,Mme,$r,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Fn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Vl(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),gpe=(e,t)=>{var n=Vs(e,t);return n==null||typeof n.padding!="string"?0:w9(e,"xAxis",t,n.padding)},vpe=(e,t)=>{var n=Zs(e,t);return n==null||typeof n.padding!="string"?0:w9(e,"yAxis",t,n.padding)},ype=Oe(Vs,gpe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),bpe=Oe(Zs,vpe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),_pe=Oe([$r,ype,Eb,Sb,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),xpe=Oe([$r,mn,bpe,Eb,Sb,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),hp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return _pe(e,n,r);case"yAxis":return xpe(e,n,r);case"zAxis":return(i=MT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return G6(e);case"radiusAxis":return q6(e,n);default:return}},S9=Oe([mi,hp],Ib),Ef=Oe([mi,fp,mpe,S9],IT);Oe([up,RT,cr],Jme);function E9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Fb=(e,t)=>t,Gb=(e,t,n)=>n,wpe=Oe(xb,Fb,Gb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(E9)),Spe=Oe(wb,Fb,Gb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(E9)),A9=(e,t)=>({width:e.width,height:t.height}),Epe=(e,t)=>{var n=typeof t.width=="number"?t.width:np;return{width:n,height:e.height}},Ape=Oe($r,Vs,A9),Tpe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},kpe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Ope=Oe(Ks,$r,wpe,Fb,Gb,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=A9(t,c);s==null&&(s=Tpe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(f)*d.height,s+=(f?-1:1)*d.height}),a}),jpe=Oe(Ys,$r,Spe,Fb,Gb,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=Epe(t,c);s==null&&(s=kpe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(f)*d.width,s+=(f?-1:1)*d.width}),a}),Npe=(e,t)=>{var n=Vs(e,t);if(n!=null)return Ope(e,n.orientation,n.mirror)},Cpe=Oe([$r,Vs,Npe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Mpe=(e,t)=>{var n=Zs(e,t);if(n!=null)return jpe(e,n.orientation,n.mirror)},Dpe=Oe([$r,Zs,Mpe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Ppe=Oe($r,Zs,(e,t)=>{var n=typeof t.width=="number"?t.width:np;return{width:n,height:e.height}}),T9=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=qs(e,r),d=t.map(f=>f.value);if(s&&c&&a==="category"&&i&&j4(d))return d}},BT=Oe([mn,Hb,mi,cr],T9),k9=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=qs(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},zT=Oe([mn,Hb,cp,cr],k9),b3=Oe([mn,Gme,fp,Ef,BT,zT,hp,$T,cr],(e,t,n,r,i,a,s,c,d)=>{if(t!=null){var f=qs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}}),Rpe=(e,t,n,r,i,a,s,c,d)=>{if(!(t==null||r==null)){var f=qs(e,d),{type:m,ticks:p,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/b:0;x=d==="angleAxis"&&a!=null&&a.length>=2?Ma(a[0]-a[1])*2*x:x;var T=p||i;if(T){var S=T.map((j,D)=>{var O=s?s.indexOf(j):j;return{index:D,coordinate:r(O)+x,value:j,offset:x}});return S.filter(j=>Fn(j.coordinate))}return f&&c?c.map((j,D)=>({coordinate:r(j)+x,value:j,index:D,offset:x})).filter(j=>Fn(j.coordinate)):r.ticks?r.ticks(y).map(j=>({coordinate:r(j)+x,value:j,offset:x})):r.domain().map((j,D)=>({coordinate:r(j)+x,value:s?s[j]:j,index:D,offset:x}))}},O9=Oe([mn,cp,fp,Ef,$T,hp,BT,zT,cr],Rpe),Lpe=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=qs(e,s),{tickCount:d}=t,f=0;return f=s==="angleAxis"&&r?.length>=2?Ma(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},j9=Oe([mn,cp,Ef,hp,BT,zT,cr],Lpe),N9=Oe(mi,Ef,(e,t)=>{if(!(e==null||t==null))return vy(vy({},e),{},{scale:t})}),Ipe=Oe([mi,fp,LT,S9],IT);Oe((e,t,n)=>MT(e,n),Ipe,(e,t)=>{if(!(e==null||t==null))return vy(vy({},e),{},{scale:t})});var $pe=Oe([mn,xb,wb],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),C9=e=>e.options.defaultTooltipEventType,M9=e=>e.options.validateTooltipEventTypes;function D9(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function UT(e,t){var n=C9(e),r=M9(e);return D9(t,n,r)}function Bpe(e){return at(t=>UT(t,e))}var P9=(e,t)=>{var n,r=Number(t);if(!(vo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},zpe=e=>e.tooltip.settings,Fl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Upe={itemInteraction:{click:Fl,hover:Fl},axisInteraction:{click:Fl,hover:Fl},keyboardInteraction:Fl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},R9=Ri({name:"tooltip",initialState:Upe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:En()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:En()},removeTooltipEntrySettings:{reducer(e,t){var n=po(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:En()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Hpe,replaceTooltipEntrySettings:Fpe,removeTooltipEntrySettings:Gpe,setTooltipSettingsState:qpe,setActiveMouseOverItemIndex:Ype,mouseLeaveItem:sSe,mouseLeaveChart:L9,setActiveClickItemIndex:lSe,setMouseOverAxisIndex:I9,setMouseClickAxisIndex:Kpe,setSyncInteraction:e2,setKeyboardInteraction:t2}=R9.actions,Wpe=R9.reducer;function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(r){Vpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vpe(e,t,n){return(t=Zpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zpe(e){var t=Xpe(e,"string");return typeof t=="symbol"?t:t+""}function Xpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jpe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Qpe(e){return e.index!=null}var $9=(e,t,n,r)=>{if(t==null)return Fl;var i=Jpe(e,t,n);if(i==null)return Fl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Qpe(i)){if(a)return R0(R0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return R0(R0({},Fl),{},{coordinate:i.coordinate})};function ege(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function tge(e,t){var n=ege(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function nge(e,t,n){if(n==null||t==null)return!0;var r=ei(e,t);return r==null||!Zl(n)?!0:tge(r,n)}var HT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Fn(a))return i;var s=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(s,Math.min(a,c)),f=t[d];return f==null||nge(f,n,r)?String(d):null},B9=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var d=s[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},z9=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},mp=e=>e.options.tooltipPayloadSearcher,Af=e=>e.tooltip;function x3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(n),!0).forEach(function(r){rge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rge(e,t,n){return(t=ige(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ige(e){var t=age(e,"string");return typeof t=="symbol"?t:t+""}function age(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oge(e,t){return e??t}var U9=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((y,b)=>{var x,{dataDefinedOnItem:T,settings:S}=b,j=oge(T,c),D=Array.isArray(j)?v7(j,f,m):j,O=(x=S?.dataKey)!==null&&x!==void 0?x:r,M=S?.nameKey,N;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?N=N4(D,r,i):N=a(D,t,d,M),Array.isArray(N))N.forEach($=>{var B=w3(w3({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});y.push(qP({tooltipEntrySettings:B,dataKey:$.dataKey,payload:$.payload,value:ei($.payload,$.dataKey),name:$.name}))});else{var I;y.push(qP({tooltipEntrySettings:S,dataKey:O,payload:N,value:ei(N,O),name:(I=ei(N,M))!==null&&I!==void 0?I:S?.name}))}return y},p)}},FT=Oe([dr,mn,Z6,ET,ur],b9),sge=Oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lge=Oe([ur,wf],X6),pp=Oe([sge,dr,lge],Q6,{memoizeOptions:{resultEqualityCheck:Ub}}),cge=Oe([pp],e=>e.filter(CT)),uge=Oe([pp],n9,{memoizeOptions:{resultEqualityCheck:Ub}}),Tf=Oe([uge,tc],r9),dge=Oe([cge,tc,dr],K6),GT=Oe([Tf,dr,pp],i9),H9=Oe([dr],PT),fge=Oe([dr],e=>e.allowDataOverflow),F9=Oe([H9,fge],T6),hge=Oe([pp],e=>e.filter(CT)),mge=Oe([dge,hge,Lb,z6],o9),pge=Oe([mge,tc,ur,F9],s9),gge=Oe([pp],t9),vge=Oe([Tf,dr,gge,RT,ur],u9,{memoizeOptions:{resultEqualityCheck:zb}}),yge=Oe([d9,ur,wf],Sf),bge=Oe([yge,ur],m9),_ge=Oe([f9,ur,wf],Sf),xge=Oe([_ge,ur],p9),wge=Oe([h9,ur,wf],Sf),Sge=Oe([wge,ur],g9),Ege=Oe([bge,Sge,xge],yy),Age=Oe([dr,H9,F9,pge,vge,Ege,mn,ur],v9),gp=Oe([dr,mn,Tf,GT,Lb,ur,Age],y9),Tge=Oe([gp,dr,FT],_9),kge=Oe([dr,gp,Tge,ur],x9),G9=e=>{var t=ur(e),n=wf(e),r=!1;return hp(e,t,n,r)},q9=Oe([dr,G9],Ib),Y9=Oe([dr,FT,kge,q9],IT),Oge=Oe([mn,GT,dr,ur],T9),jge=Oe([mn,GT,dr,ur],k9),Nge=(e,t,n,r,i,a,s,c)=>{if(t){var{type:d}=t,f=qs(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?Ma(i[0]-i[1])*2*p:p,f&&s?s.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},Xs=Oe([mn,dr,FT,Y9,G9,Oge,jge,ur],Nge),qT=Oe([C9,M9,zpe],(e,t,n)=>D9(n.shared,e,t)),K9=e=>e.tooltip.settings.trigger,YT=e=>e.tooltip.settings.defaultIndex,vp=Oe([Af,qT,K9,YT],$9),Pm=Oe([vp,Tf,dp,gp],HT),W9=Oe([Xs,Pm],P9),Cge=Oe([vp],e=>{if(e)return e.dataKey});Oe([vp],e=>{if(e)return e.graphicalItemId});var V9=Oe([Af,qT,K9,YT],z9),Mge=Oe([Ys,Ks,mn,$r,Xs,YT,V9,mp],B9),Dge=Oe([vp,Mge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Pge=Oe([vp],e=>e.active),Rge=Oe([V9,Pm,tc,dp,W9,mp,qT],U9),Lge=Oe([Rge],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(r){Ige(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ige(e,t,n){return(t=$ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ge(e){var t=Bge(e,"string");return typeof t=="symbol"?t:t+""}function Bge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zge=()=>at(dr),Uge=()=>{var e=zge(),t=at(Xs),n=at(Y9);return Xv(!e||!n?void 0:E3(E3({},e),{},{scale:n}),t)};function A3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(n),!0).forEach(function(r){Hge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hge(e,t,n){return(t=Fge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fge(e){var t=Gge(e,"string");return typeof t=="symbol"?t:t+""}function Gge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qge=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Yge=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return wd(wd(wd({},r),Lr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=r;return wd(wd(wd({},r),Lr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Kge(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Z9=(e,t,n,r,i)=>{var a,s=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(Ma(m-f)!==Ma(p-m)){var b=[];if(Ma(p-m)===Ma(i[1]-i[0])){y=p;var x=m+i[1]-i[0];b[0]=Math.min(x,(x+f)/2),b[1]=Math.max(x,(x+f)/2)}else{y=f;var T=p+i[1]-i[0];b[0]=Math.min(m,(T+m)/2),b[1]=Math.max(m,(T+m)/2)}var S=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:s}=n[d]);break}}else{var j=Math.min(f,p),D=Math.max(f,p);if(e>(j+m)/2&&e<=(D+m)/2){({index:s}=n[d]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:s}=t[O]);break}}return s},X9=()=>at(ET),KT=(e,t)=>t,J9=(e,t,n)=>n,WT=(e,t,n,r)=>r,Wge=Oe(Xs,e=>fb(e,t=>t.coordinate)),VT=Oe([Af,KT,J9,WT],$9),ZT=Oe([VT,Tf,dp,gp],HT),Vge=(e,t,n)=>{if(t!=null){var r=Af(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Q9=Oe([Af,KT,J9,WT],z9),by=Oe([Ys,Ks,mn,$r,Xs,WT,Q9,mp],B9),Zge=Oe([VT,by],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),ez=Oe([Xs,ZT],P9),Xge=Oe([Q9,ZT,tc,dp,ez,mp,KT],U9),Jge=Oe([VT,ZT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Qge=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&Kge(e,s)){var c=Ece(e,t),d=Z9(c,a,i,n,r),f=qge(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},e0e=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var c=Rde(e,n);if(c){var d=Ace(c,t),f=Z9(d,s,a,r,i),m=Yge(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},t0e=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Qge(e,t,r,i,a,s,c):e0e(e,t,n,r,i,a,s)},n0e=Oe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),r0e=Oe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(di)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Bme}});function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){i0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i0e(e,t,n){return(t=a0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a0e(e){var t=o0e(e,"string");return typeof t=="symbol"?t:t+""}function o0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0e={},l0e={zIndexMap:Object.values(di).reduce((e,t)=>k3(k3({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),s0e)},c0e=new Set(Object.values(di));function u0e(e){return c0e.has(e)}var tz=Ri({name:"zIndex",initialState:l0e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:En()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!u0e(n)&&delete e.zIndexMap[n])},prepare:En()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:En()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:En()}}}),{registerZIndexPortal:d0e,unregisterZIndexPortal:f0e,registerZIndexPortalId:h0e,unregisterZIndexPortalId:m0e}=tz.actions,p0e=tz.reducer;function Js(e){var{zIndex:t,children:n}=e,r=aue(),i=r&&t!==void 0&&t!==0,a=Li(),s=Sr();A.useLayoutEffect(()=>i?(s(d0e({zIndex:t})),()=>{s(f0e({zIndex:t}))}):Jm,[s,t,i]);var c=at(f=>n0e(f,t,a));if(!i)return n;if(!c)return null;var d=document.getElementById(c);return d?cf.createPortal(n,d):null}function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n2.apply(null,arguments)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(r){g0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g0e(e,t,n){return(t=v0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v0e(e){var t=y0e(e,"string");return typeof t=="symbol"?t:t+""}function y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function _0e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,p=n,y=r,b=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var x,T,S;if(m==="ScatterChart")x=p,T=Kue,S=di.cursorLine;else if(m==="BarChart")x=Wue(c,p,a,s),T=Ade,S=di.cursorRectangle;else if(c==="radial"&&C4(p)){var{cx:j,cy:D,radius:O,startAngle:M,endAngle:N}=F7(p);x={cx:j,cy:D,startAngle:M,endAngle:N,innerRadius:O,outerRadius:O},T=Bde,S=di.cursorLine}else x={points:zde(c,p,a)},T=uv,S=di.cursorLine;var I=typeof d=="object"&&"className"in d?d.className:void 0,$=L0(L0(L0(L0({stroke:"#ccc",pointerEvents:"none"},a),x),lb(d)),{},{payload:y,payloadIndex:b,className:bn("recharts-tooltip-cursor",I)});return A.createElement(Js,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},A.createElement(b0e,{cursor:d,cursorComp:T,cursorProps:$}))}function x0e(e){var t=Uge(),n=k7(),r=rp(),i=X9();return t==null||n==null||r==null||i==null?null:A.createElement(_0e,n2({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var nz=A.createContext(null),w0e=()=>A.useContext(nz),cS={exports:{}},j3;function S0e(){return j3||(j3=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||d,y),x=n?n+f:f;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],b]:d._events[x].push(b):(d._events[x]=b,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,x=new Array(b);y<b;y++)x[y]=p[y].fn;return x},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,b,x){var T=n?n+f:f;if(!this._events[T])return!1;var S=this._events[T],j=arguments.length,D,O;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,y),!0;case 5:return S.fn.call(S.context,m,p,y,b),!0;case 6:return S.fn.call(S.context,m,p,y,b,x),!0}for(O=1,D=new Array(j-1);O<j;O++)D[O-1]=arguments[O];S.fn.apply(S.context,D)}else{var M=S.length,N;for(O=0;O<M;O++)switch(S[O].once&&this.removeListener(f,S[O].fn,void 0,!0),j){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,m);break;case 3:S[O].fn.call(S[O].context,m,p);break;case 4:S[O].fn.call(S[O].context,m,p,y);break;default:if(!D)for(N=1,D=new Array(j-1);N<j;N++)D[N-1]=arguments[N];S[O].fn.apply(S[O].context,D)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var b=n?n+f:f;if(!this._events[b])return this;if(!m)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===m&&(!y||x.once)&&(!p||x.context===p)&&s(this,b);else{for(var T=0,S=[],j=x.length;T<j;T++)(x[T].fn!==m||y&&!x[T].once||p&&x[T].context!==p)&&S.push(x[T]);S.length?this._events[b]=S.length===1?S[0]:S:s(this,b)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(cS)),cS.exports}var E0e=S0e();const A0e=Pi(E0e);var Rm=new A0e,r2="recharts.syncEvent.tooltip",N3="recharts.syncEvent.brush";function T0e(e,t){if(t){var n=Number.parseInt(t,10);if(!vo(n))return e?.[n]}}var k0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rz=Ri({name:"options",initialState:k0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),O0e=rz.reducer,{createEventEmitter:j0e}=rz.actions;function N0e(e){return e.tooltip.syncInteraction}var C0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iz=Ri({name:"chartData",initialState:C0e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:C3,setDataStartEndIndexes:M0e,setComputedData:cSe}=iz.actions,D0e=iz.reducer,P0e=["x","y"];function M3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(n),!0).forEach(function(r){R0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R0e(e,t,n){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e,t){if(e==null)return{};var n,r,i=B0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function z0e(){var e=at(AT),t=at(TT),n=Sr(),r=at(U6),i=at(Xs),a=rp(),s=Ab(),c=at(d=>d.rootProps.className);A.useEffect(()=>{if(e==null)return Jm;var d=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var y;if(s&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x,y:T}=b,S=$0e(b,P0e),{x:j,y:D,width:O,height:M}=m.payload.sourceViewBox,N=Sd(Sd({},S),{},{x:s.x+(O?(x-j)/O:0)*s.width,y:s.y+(M?(T-D)/M:0)*s.height});n(Sd(Sd({},m),{},{payload:Sd(Sd({},m.payload),{},{coordinate:N})}))}else n(m);return}if(i!=null){var I;if(typeof r=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},B=r(i,$);I=i[B]}else r==="value"&&(I=i.find(J=>String(J.value)===m.payload.label));var{coordinate:H}=m.payload;if(I==null||m.payload.active===!1||H==null||s==null){n(e2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Z,y:z}=H,F=Math.min(Z,s.x+s.width),Q=Math.min(z,s.y+s.height),ee={x:a==="horizontal"?I.coordinate:F,y:a==="horizontal"?Q:I.coordinate},ye=e2({active:m.payload.active,coordinate:ee,dataKey:m.payload.dataKey,index:String(I.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(ye)}}};return Rm.on(r2,d),()=>{Rm.off(r2,d)}},[c,n,t,e,r,i,a,s])}function U0e(){var e=at(AT),t=at(TT),n=Sr();A.useEffect(()=>{if(e==null)return Jm;var r=(i,a,s)=>{t!==s&&e===i&&n(M0e(a))};return Rm.on(N3,r),()=>{Rm.off(N3,r)}},[n,t,e])}function H0e(){var e=Sr();A.useEffect(()=>{e(j0e())},[e]),z0e(),U0e()}function F0e(e,t,n,r,i,a){var s=at(b=>Vge(b,e,t)),c=at(TT),d=at(AT),f=at(U6),m=at(N0e),p=m?.active,y=Ab();A.useEffect(()=>{if(!p&&d!=null&&c!=null){var b=e2({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Rm.emit(r2,d,b,c)}},[p,n,s,i,r,c,d,f,a,y])}function D3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(n),!0).forEach(function(r){G0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G0e(e,t,n){return(t=q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0e(e){return e.dataKey}function W0e(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(Tue,t)}var R3=[],V0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Z0e(e){var t,n,r=ua(e,V0e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:y,position:b,reverseDirection:x,useTranslate3d:T,wrapperStyle:S,cursor:j,shared:D,trigger:O,defaultIndex:M,portal:N,axisId:I}=r,$=Sr(),B=typeof M=="number"?String(M):M;A.useEffect(()=>{$(qpe({shared:D,trigger:O,axisId:I,active:i,defaultIndex:B}))},[$,D,O,I,i,B]);var H=Ab(),Z=I7(),z=Bpe(D),{activeIndex:F,isActive:Q}=(t=at(ue=>Jge(ue,z,O,B)))!==null&&t!==void 0?t:{},ee=at(ue=>Xge(ue,z,O,B)),ye=at(ue=>ez(ue,z,O,B)),J=at(ue=>Zge(ue,z,O,B)),le=ee,ae=w0e(),he=(n=i??Q)!==null&&n!==void 0?n:!1,[ne,q]=mle([le,he]),K=z==="axis"?ye:void 0;F0e(z,O,J,K,F,he);var X=N??ae;if(X==null||H==null||z==null)return null;var re=le??R3;he||(re=R3),f&&re.length&&(re=zse(re.filter(ue=>ue.value!=null&&(ue.hide!==!0||r.includeHidden)),y,K0e));var V=re.length>0,W=A.createElement(Due,{allowEscapeViewBox:a,animationDuration:s,animationEasing:c,isAnimationActive:m,active:he,coordinate:J,hasPayload:V,offset:p,position:b,reverseDirection:x,useTranslate3d:T,viewBox:H,wrapperStyle:S,lastBoundingBox:ne,innerRef:q,hasPortalFromProps:!!N},W0e(d,P3(P3({},r),{},{payload:re,label:K,active:he,activeIndex:F,coordinate:J,accessibilityLayer:Z})));return A.createElement(A.Fragment,null,cf.createPortal(W,X),he&&A.createElement(x0e,{cursor:j,tooltipEventType:z,coordinate:J,payload:re,index:F}))}function X0e(e,t,n){return(t=J0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J0e(e){var t=Q0e(e,"string");return typeof t=="symbol"?t:t+""}function Q0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eve{constructor(t){X0e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function L3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(n),!0).forEach(function(r){nve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nve(e,t,n){return(t=rve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rve(e){var t=ive(e,"string");return typeof t=="symbol"?t:t+""}function ive(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ave={cacheSize:2e3,enableCache:!0},az=tve({},ave),I3=new eve(az.cacheSize),ove={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$3="recharts_measurement_span";function sve(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var B3=(e,t)=>{try{var n=document.getElementById($3);n||(n=document.createElement("span"),n.setAttribute("id",$3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ove,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},im=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yf.isSsr)return{width:0,height:0};if(!az.enableCache)return B3(t,n);var r=sve(t,n),i=I3.get(r);if(i)return i;var a=B3(t,n);return I3.set(r,a),a},z3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uve=Object.keys(oz),Ld="NaN";function dve(e,t){return e*oz[t]}class ji{static parse(t){var n,[,r,i]=(n=cve.exec(t))!==null&&n!==void 0?n:[];return new ji(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vo(t)&&(this.unit=""),n!==""&&!lve.test(n)&&(this.num=NaN,this.unit=""),uve.includes(n)&&(this.num=dve(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ji(NaN,""):new ji(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ji(NaN,""):new ji(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ji(NaN,""):new ji(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ji(NaN,""):new ji(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vo(this.num)}}function sz(e){if(e.includes(Ld))return Ld;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=z3.exec(t))!==null&&n!==void 0?n:[],s=ji.parse(r??""),c=ji.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return Ld;t=t.replace(z3,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,y]=(f=U3.exec(t))!==null&&f!==void 0?f:[],b=ji.parse(m??""),x=ji.parse(y??""),T=p==="+"?b.add(x):b.subtract(x);if(T.isNaN())return Ld;t=t.replace(U3,T.toString())}return t}var H3=/\(([^()]*)\)/;function fve(e){for(var t=e,n;(n=H3.exec(t))!=null;){var[,r]=n;t=t.replace(H3,sz(r))}return t}function hve(e){var t=e.replace(/\s+/g,"");return t=fve(t),t=sz(t),t}function mve(e){try{return hve(e)}catch{return Ld}}function uS(e){var t=mve(e.slice(5,-1));return t===Ld?"":t}var pve=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gve=["dx","dy","angle","className","breakAll"];function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i2.apply(null,arguments)}function F3(e,t){if(e==null)return{};var n,r,i=vve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lz=/[ \f\n\r\t\v\u2028\u2029]+/,cz=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ir(t)||(n?i=t.toString().split(""):i=t.toString().split(lz));var a=i.map(c=>({word:c,width:im(c,r).width})),s=n?0:im("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function yve(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var uz=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:c}=a,d=i[i.length-1];if(d&&c!=null&&(t==null||r||d.width+c+n<Number(t)))d.words.push(s),d.width+=c+n;else{var f={words:[s],width:c};i.push(f)}return i},[]),dz=e=>e.reduce((t,n)=>t.width>n.width?t:n),bve="",G3=(e,t,n,r,i,a,s,c)=>{var d=e.slice(0,t),f=cz({breakAll:n,style:r,children:d+bve});if(!f)return[!1,[]];var m=uz(f.wordsWithComputedWidth,a,s,c),p=m.length>i||dz(m).width>Number(a);return[p,m]},_ve=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=e,f=nt(a),m=String(s),p=uz(t,r,n,i);if(!f||i)return p;var y=p.length>a||dz(p).width>Number(r);if(!y)return p;for(var b=0,x=m.length-1,T=0,S;b<=x&&T<=m.length-1;){var j=Math.floor((b+x)/2),D=j-1,[O,M]=G3(m,D,d,c,a,r,n,i),[N]=G3(m,j,d,c,a,r,n,i);if(!O&&!N&&(b=j+1),O&&N&&(x=j-1),!O&&N){S=M;break}T++}return S||p},q3=e=>{var t=Ir(e)?[]:e.toString().split(lz);return[{words:t,width:void 0}]},xve=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!yf.isSsr){var c,d,f=cz({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return q3(r);return _ve({breakAll:a,children:r,maxLines:s,style:i},c,d,t,!!n)}return q3(r)},fz="#808080",wve={angle:0,breakAll:!1,capHeight:"0.71em",fill:fz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},XT=A.forwardRef((e,t)=>{var n=ua(e,wve),{x:r,y:i,lineHeight:a,capHeight:s,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=F3(n,pve),y=A.useMemo(()=>xve({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:b,dy:x,angle:T,className:S,breakAll:j}=p,D=F3(p,gve);if(!Vo(r)||!Vo(i)||y.length===0)return null;var O=Number(r)+(nt(b)?b:0),M=Number(i)+(nt(x)?x:0);if(!Fn(O)||!Fn(M))return null;var N;switch(m){case"start":N=uS("calc(".concat(s,")"));break;case"middle":N=uS("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:N=uS("calc(".concat(y.length-1," * -").concat(a,")"));break}var I=[];if(d){var $=y[0].width,{width:B}=p;I.push("scale(".concat(nt(B)&&nt($)?B/$:1,")"))}return T&&I.push("rotate(".concat(T,", ").concat(O,", ").concat(M,")")),I.length&&(D.transform=I.join(" ")),A.createElement("text",i2({},Ba(D),{ref:t,x:O,y:M,className:bn("recharts-text",S),textAnchor:f,fill:c.includes("url")?fz:c}),y.map((H,Z)=>{var z=H.words.join(j?"":" ");return A.createElement("tspan",{x:O,dy:Z===0?N:a,key:"".concat(z,"-").concat(Z)},z)}))});XT.displayName="Text";var Sve=["labelRef"];function Eve(e,t){if(e==null)return{};var n,r,i=Ave(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ave(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(n),!0).forEach(function(r){Tve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tve(e,t,n){return(t=kve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kve(e){var t=Ove(e,"string");return typeof t=="symbol"?t:t+""}function Ove(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(null,arguments)}var hz=A.createContext(null),jve=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:c}=e,d=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return A.createElement(hz.Provider,{value:d},c)},mz=()=>{var e=A.useContext(hz),t=Ab();return e||T7(t)},Nve=A.createContext(null),Cve=()=>{var e=A.useContext(Nve),t=at(Y6);return e||t},Mve=e=>{var{value:t,formatter:n}=e,r=Ir(e.children)?t:e.children;return typeof n=="function"?n(r):r},JT=e=>e!=null&&typeof e=="function",Dve=(e,t)=>{var n=Ma(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Pve=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:b}=i,x=(f+m)/2,T=Dve(p,y),S=T>=0?1:-1,j,D;switch(t){case"insideStart":j=p+S*a,D=b;break;case"insideEnd":j=y-S*a,D=!b;break;case"end":j=y+S*a,D=b;break;default:throw new Error("Unsupported position ".concat(t))}D=T<=0?D:!D;var O=Lr(c,d,x,j),M=Lr(c,d,x,j+(D?1:-1)*359),N="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(D?0:1,`,
    `).concat(M.x,",").concat(M.y),I=Ir(e.id)?xm("recharts-radial-line-"):e.id;return A.createElement("text",Os({},r,{dominantBaseline:"central",className:bn("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:I,d:N})),A.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Rve=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=Lr(r,i,s+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:b,y:x}=Lr(r,i,y,f);return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},a2=e=>"cx"in e&&nt(e.cx),Lve=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!a2(n)&&(a=n);var{x:s,y:c,upperWidth:d,lowerWidth:f,height:m}=t,p=s,y=s+(d-f)/2,b=(p+y)/2,x=(d+f)/2,T=p+d/2,S=m>=0?1:-1,j=S*r,D=S>0?"end":"start",O=S>0?"start":"end",M=d>=0?1:-1,N=M*r,I=M>0?"end":"start",$=M>0?"start":"end";if(i==="top"){var B={x:p+d/2,y:c-j,textAnchor:"middle",verticalAnchor:D};return Kn(Kn({},B),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var H={x:y+f/2,y:c+m+j,textAnchor:"middle",verticalAnchor:O};return Kn(Kn({},H),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var Z={x:b-N,y:c+m/2,textAnchor:I,verticalAnchor:"middle"};return Kn(Kn({},Z),a?{width:Math.max(Z.x-a.x,0),height:m}:{})}if(i==="right"){var z={x:b+x+N,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return Kn(Kn({},z),a?{width:Math.max(a.x+a.width-z.x,0),height:m}:{})}var F=a?{width:x,height:m}:{};return i==="insideLeft"?Kn({x:b+N,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},F):i==="insideRight"?Kn({x:b+x-N,y:c+m/2,textAnchor:I,verticalAnchor:"middle"},F):i==="insideTop"?Kn({x:p+d/2,y:c+j,textAnchor:"middle",verticalAnchor:O},F):i==="insideBottom"?Kn({x:y+f/2,y:c+m-j,textAnchor:"middle",verticalAnchor:D},F):i==="insideTopLeft"?Kn({x:p+N,y:c+j,textAnchor:$,verticalAnchor:O},F):i==="insideTopRight"?Kn({x:p+d-N,y:c+j,textAnchor:I,verticalAnchor:O},F):i==="insideBottomLeft"?Kn({x:y+N,y:c+m-j,textAnchor:$,verticalAnchor:D},F):i==="insideBottomRight"?Kn({x:y+f-N,y:c+m-j,textAnchor:I,verticalAnchor:D},F):i&&typeof i=="object"&&(nt(i.x)||Is(i.x))&&(nt(i.y)||Is(i.y))?Kn({x:s+Vl(i.x,x),y:c+Vl(i.y,m),textAnchor:"end",verticalAnchor:"end"},F):Kn({x:T,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Ive={angle:0,offset:5,zIndex:di.label,position:"middle",textBreakAll:!1};function Bl(e){var t=ua(e,Ive),{viewBox:n,position:r,value:i,children:a,content:s,className:c="",textBreakAll:d,labelRef:f}=t,m=Cve(),p=mz(),y=r==="center"?p:m??p,b,x,T;if(n==null?b=y:a2(n)?b=n:b=T7(n),!b||Ir(i)&&Ir(a)&&!A.isValidElement(s)&&typeof s!="function")return null;var S=Kn(Kn({},t),{},{viewBox:b});if(A.isValidElement(s)){var{labelRef:j}=S,D=Eve(S,Sve);return A.cloneElement(s,D)}if(typeof s=="function"){if(x=A.createElement(s,S),A.isValidElement(x))return x}else x=Mve(t);var O=Ba(t);if(a2(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Pve(t,r,x,O,b);T=Rve(b,t.offset,t.position)}else T=Lve(t,b);return A.createElement(Js,{zIndex:t.zIndex},A.createElement(XT,Os({ref:f,className:bn("recharts-label",c)},O,T,{textAnchor:yve(O.textAnchor)?O.textAnchor:T.textAnchor,breakAll:d}),x))}Bl.displayName="Label";var $ve=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Bl,Os({key:"label-implicit"},r)):Vo(e)?A.createElement(Bl,Os({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Bl?A.cloneElement(e,Kn({key:"label-implicit"},r)):A.createElement(Bl,Os({key:"label-implicit",content:e},r)):JT(e)?A.createElement(Bl,Os({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Bl,Os({},e,{key:"label-implicit"},r)):null};function Bve(e){var{label:t,labelRef:n}=e,r=mz();return $ve(t,r,n)||null}var dS={},fS={},K3;function zve(){return K3||(K3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(fS)),fS}var hS={},W3;function Uve(){return W3||(W3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(hS)),hS}var V3;function Hve(){return V3||(V3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zve(),n=Uve(),r=zA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(dS)),dS}var mS,Z3;function Fve(){return Z3||(Z3=1,mS=Hve().last),mS}var Gve=Fve();const qve=Pi(Gve);var Yve=["valueAccessor"],Kve=["dataKey","clockWise","id","textBreakAll","zIndex"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}function X3(e,t){if(e==null)return{};var n,r,i=Wve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vve=e=>Array.isArray(e.value)?qve(e.value):e.value,pz=A.createContext(void 0),Zve=pz.Provider,gz=A.createContext(void 0);gz.Provider;function Xve(){return A.useContext(pz)}function Jve(){return A.useContext(gz)}function fv(e){var{valueAccessor:t=Vve}=e,n=X3(e,Yve),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:c}=n,d=X3(n,Kve),f=Xve(),m=Jve(),p=f||m;return!p||!p.length?null:A.createElement(Js,{zIndex:c??di.label},A.createElement(Wo,{className:"recharts-label-list"},p.map((y,b)=>{var x,T=Ir(r)?t(y,b):ei(y&&y.payload,r),S=Ir(a)?{}:{id:"".concat(a,"-").concat(b)};return A.createElement(Bl,_y({key:"label-".concat(b)},Ba(y),d,S,{fill:(x=n.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:T,textBreakAll:s,viewBox:y.viewBox,index:b,zIndex:0}))})))}fv.displayName="LabelList";function Qve(e){var{label:t}=e;return t?t===!0?A.createElement(fv,{key:"labelList-implicit"}):A.isValidElement(t)||JT(t)?A.createElement(fv,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(fv,_y({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o2.apply(null,arguments)}var vz=e=>{var{cx:t,cy:n,r,className:i}=e,a=bn("recharts-dot",i);return nt(t)&&nt(n)&&nt(r)?A.createElement("circle",o2({},go(e),BA(e),{className:a,cx:t,cy:n,r})):null},eye={radiusAxis:{},angleAxis:{}},yz=Ri({name:"polarAxis",initialState:eye,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uSe,removeRadiusAxis:dSe,addAngleAxis:fSe,removeAngleAxis:hSe}=yz.actions,tye=yz.reducer,pS={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3;function nye(){if(J3)return Ft;J3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,T=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,D=e?Symbol.for("react.scope"):60119;function O(N){if(typeof N=="object"&&N!==null){var I=N.$$typeof;switch(I){case t:switch(N=N.type,N){case d:case f:case r:case a:case i:case p:return N;default:switch(N=N&&N.$$typeof,N){case c:case m:case x:case b:case s:return N;default:return I}}case n:return I}}}function M(N){return O(N)===f}return Ft.AsyncMode=d,Ft.ConcurrentMode=f,Ft.ContextConsumer=c,Ft.ContextProvider=s,Ft.Element=t,Ft.ForwardRef=m,Ft.Fragment=r,Ft.Lazy=x,Ft.Memo=b,Ft.Portal=n,Ft.Profiler=a,Ft.StrictMode=i,Ft.Suspense=p,Ft.isAsyncMode=function(N){return M(N)||O(N)===d},Ft.isConcurrentMode=M,Ft.isContextConsumer=function(N){return O(N)===c},Ft.isContextProvider=function(N){return O(N)===s},Ft.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},Ft.isForwardRef=function(N){return O(N)===m},Ft.isFragment=function(N){return O(N)===r},Ft.isLazy=function(N){return O(N)===x},Ft.isMemo=function(N){return O(N)===b},Ft.isPortal=function(N){return O(N)===n},Ft.isProfiler=function(N){return O(N)===a},Ft.isStrictMode=function(N){return O(N)===i},Ft.isSuspense=function(N){return O(N)===p},Ft.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===f||N===a||N===i||N===p||N===y||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===b||N.$$typeof===s||N.$$typeof===c||N.$$typeof===m||N.$$typeof===S||N.$$typeof===j||N.$$typeof===D||N.$$typeof===T)},Ft.typeOf=O,Ft}var Q3;function rye(){return Q3||(Q3=1,pS.exports=nye()),pS.exports}rye();var bz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function iye(e){var{tooltipEntrySettings:t}=e,n=Sr(),r=Li(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Hpe(t)):i.current!==t&&n(Fpe({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Gpe(i.current)),i.current=null)},[n]),null}function aye(e){var{legendPayload:t}=e,n=Sr(),r=Li(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(yue(t)):i.current!==t&&n(bue({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(_ue(i.current)),i.current=null)},[n]),null}var gS,oye=()=>{var[e]=A.useState(()=>xm("uid-"));return e},sye=(gS=MU.useId)!==null&&gS!==void 0?gS:oye;function _z(e,t){var n=sye();return t||(e?"".concat(e,"-").concat(n):n)}var lye=A.createContext(void 0),cye=e=>{var{id:t,type:n,children:r}=e,i=_z("recharts-".concat(n),t);return A.createElement(lye.Provider,{value:i},r(i))},uye={cartesianItems:[],polarItems:[]},xz=Ri({name:"graphicalItems",initialState:uye,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:En()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:En()},removeCartesianGraphicalItem:{reducer(e,t){var n=po(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:En()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:En()},removePolarGraphicalItem:{reducer(e,t){var n=po(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:En()}}}),{addCartesianGraphicalItem:dye,replaceCartesianGraphicalItem:fye,removeCartesianGraphicalItem:hye,addPolarGraphicalItem:mSe,removePolarGraphicalItem:pSe}=xz.actions,mye=xz.reducer,pye=e=>{var t=Sr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(dye(e)):n.current!==e&&t(fye({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(hye(n.current)),n.current=null)},[t]),null},gye=A.memo(pye),vye=["points"];function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(r){yye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yye(e,t,n){return(t=bye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bye(e){var t=_ye(e,"string");return typeof t=="symbol"?t:t+""}function _ye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}function xye(e,t){if(e==null)return{};var n,r,i=wye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sye(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=bn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,c=xye(a,vye);return A.createElement(vz,xy({},c,{className:i}))}function Eye(e,t){return e==null?!1:t?!0:e.length===1}function Aye(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:c,clipPathId:d,zIndex:f=di.scatter}=e;if(!Eye(t,n))return null;var m=bz(n),p=Poe(n),y=t.map((x,T)=>{var S,j,D=vS(vS(vS({r:3},s),p),{},{index:T,cx:(S=x.x)!==null&&S!==void 0?S:void 0,cy:(j=x.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:x.value,payload:x.payload,points:t});return A.createElement(Sye,{key:"dot-".concat(T),option:n,dotProps:D,className:i})}),b={};return c&&d!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),A.createElement(Js,{zIndex:f},A.createElement(Wo,xy({className:r},b),y))}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(r){Tye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tye(e,t,n){return(t=kye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kye(e){var t=Oye(e,"string");return typeof t=="symbol"?t:t+""}function Oye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jye={xAxis:{},yAxis:{},zAxis:{}},wz=Ri({name:"cartesianAxis",initialState:jye,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:En()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:En()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:En()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:En()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:En()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:En()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:En()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:En()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:En()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=nL(nL({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Nye,replaceXAxis:Cye,removeXAxis:Mye,addYAxis:Dye,replaceYAxis:Pye,removeYAxis:Rye,addZAxis:gSe,replaceZAxis:vSe,removeZAxis:ySe,updateYAxisWidth:Lye}=wz.actions,Iye=wz.reducer,$ye=Oe([$r],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Bye=Oe([$ye,Ys,Ks],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),QT=()=>at(Bye),zye=()=>at(Lge);function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(n),!0).forEach(function(r){Uye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uye(e,t,n){return(t=Hye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hye(e){var t=Fye(e,"string");return typeof t=="symbol"?t:t+""}function Fye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gye=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=yS(yS(yS({},c),lb(i)),BA(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,d):typeof i=="function"?f=i(d):f=A.createElement(vz,d),A.createElement(Wo,{className:"recharts-active-dot",clipPath:s},f)};function iL(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=di.activeDot}=e,c=at(Pm),d=zye();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return Ir(f)?null:A.createElement(Js,{zIndex:s},A.createElement(Gye,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var qye={},Sz=Ri({name:"errorBars",initialState:qye,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:bSe,replaceErrorBar:_Se,removeErrorBar:xSe}=Sz.actions,Yye=Sz.reducer;function Ez(e,t){var n,r,i=at(f=>Vs(f,e)),a=at(f=>Zs(f,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:gr.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:vr.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function Kye(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=QT(),{needClipX:a,needClipY:s,needClip:c}=Ez(t,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?d:d-m/2,y:s?f:f-p/2,width:a?m:m*2,height:s?p:p*2}))}var Wye=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Vye(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ek(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Wye.has(r)){if(e[r]==null&&t[r]==null)continue;if(!tv(e[r],t[r]))return!1}else if(!Vye(e[r],t[r]))return!1;return!0}var Zye=e=>{var{chartData:t}=e,n=Sr(),r=Li();return A.useEffect(()=>r?()=>{}:(n(C3(t)),()=>{n(C3(void 0))}),[t,n,r]),null},aL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Az=Ri({name:"brush",initialState:aL,reducers:{setBrushSettings(e,t){return t.payload==null?aL:t.payload}}}),{setBrushSettings:wSe}=Az.actions,Xye=Az.reducer;function Jye(e,t,n){return(t=Qye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qye(e){var t=ebe(e,"string");return typeof t=="symbol"?t:t+""}function ebe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tk{static create(t){return new tk(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Jye(tk,"EPS",1e-4);function tbe(e){return(e%180+180)%180}var nbe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tbe(i),s=a*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},rbe={dots:[],areas:[],lines:[]},Tz=Ri({name:"referenceElements",initialState:rbe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=po(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=po(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=po(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:SSe,removeDot:ESe,addArea:ASe,removeArea:TSe,addLine:kSe,removeLine:OSe}=Tz.actions,ibe=Tz.reducer,abe=A.createContext(void 0),obe=e=>{var{children:t}=e,[n]=A.useState("".concat(xm("recharts"),"-clip")),r=QT();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return A.createElement(abe.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function kz(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function sbe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return nbe(r,n)}function lbe(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function wy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function cbe(e,t){return kz(e,t+1)}function ube(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,d=0,f=1,m=s,p=function(){var x=r?.[d];if(x===void 0)return{v:kz(r,f)};var T=d,S,j=()=>(S===void 0&&(S=n(x,T)),S),D=x.coordinate,O=d===0||wy(e,D,j,m,c);O||(d=0,m=s,f+=1),O&&(m=D+e*(j()/2+i),d+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(n),!0).forEach(function(r){dbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dbe(e,t,n){return(t=fbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fbe(e){var t=hbe(e,"string");return typeof t=="symbol"?t:t+""}function hbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mbe(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:d}=t,f=function(y){var b=a[y],x,T=()=>(x===void 0&&(x=n(b,y)),x);if(y===s-1){var S=e*(b.coordinate+e*T()/2-d);a[y]=b=Xr(Xr({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else a[y]=b=Xr(Xr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=wy(e,b.tickCoord,T,c,d);j&&(d=b.tickCoord-e*(T()/2+i),a[y]=Xr(Xr({},b),{},{isShow:!0}))}},m=s-1;m>=0;m--)f(m);return a}function pbe(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:d,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),y=e*(m.coordinate+e*p/2-f);if(s[c-1]=m=Xr(Xr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var b=wy(e,m.tickCoord,()=>p,d,f);b&&(f=m.tickCoord-e*(p/2+i),s[c-1]=Xr(Xr({},m),{},{isShow:!0}))}}for(var x=a?c-1:c,T=function(D){var O=s[D],M,N=()=>(M===void 0&&(M=n(O,D)),M);if(D===0){var I=e*(O.coordinate-e*N()/2-d);s[D]=O=Xr(Xr({},O),{},{tickCoord:I<0?O.coordinate-I*e:O.coordinate})}else s[D]=O=Xr(Xr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=wy(e,O.tickCoord,N,d,f);$&&(d=O.tickCoord+e*(N()/2+i),s[D]=Xr(Xr({},O),{},{isShow:!0}))}},S=0;S<x;S++)T(S);return s}function nk(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(nt(d)||yf.isSsr){var y;return(y=cbe(i,nt(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],x=c==="top"||c==="bottom"?"width":"height",T=m&&x==="width"?im(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(O,M)=>{var N=typeof f=="function"?f(O.value,M):O.value;return x==="width"?sbe(im(N,{fontSize:t,letterSpacing:n}),T,p):im(N,{fontSize:t,letterSpacing:n})[x]},j=i.length>=2?Ma(i[1].coordinate-i[0].coordinate):1,D=lbe(a,j,x);return d==="equidistantPreserveStart"?ube(j,D,S,i,s):(d==="preserveStart"||d==="preserveStartEnd"?b=pbe(j,D,S,i,s,d==="preserveStartEnd"):b=mbe(j,D,S,i,s),b.filter(O=>O.isShow))}var gbe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>s&&(s=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=s+d+c+(n?r:0);return Math.round(f)}return 0},vbe=["axisLine","width","height","className","hide","ticks","axisType"];function ybe(e,t){if(e==null)return{};var n,r,i=bbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(null,arguments)}function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){_be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _be(e,t,n){return(t=xbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xbe(e){var t=wbe(e,"string");return typeof t=="symbol"?t:t+""}function wbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:di.axis};function Sbe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=tr(tr(tr({},d),go(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!s||a==="bottom"&&s);f=tr(tr({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=tr(tr({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return A.createElement("line",_u({},f,{className:bn("recharts-cartesian-axis-line",db(c,"className"))}))}function Ebe(e,t,n,r,i,a,s,c,d){var f,m,p,y,b,x,T=c?-1:1,S=e.tickSize||s,j=nt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,y=n+ +!c*i,p=y-T*S,x=p-T*d,b=j;break;case"left":p=y=e.coordinate,m=t+ +!c*r,f=m-T*S,b=f-T*d,x=j;break;case"right":p=y=e.coordinate,m=t+ +c*r,f=m+T*S,b=f+T*d,x=j;break;default:f=m=e.coordinate,y=n+ +c*i,p=y+T*S,x=p+T*d,b=j;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x:b,y:x}}}function Abe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Tbe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function kbe(e){var{option:t,tickProps:n,value:r}=e,i,a=bn(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,tr(tr({},n),{},{className:a}));else if(typeof t=="function")i=t(tr(tr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=bn(s,t?.className)),i=A.createElement(XT,_u({},n,{className:s}),r)}return i}var Obe=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:y,y:b,width:x,height:T,tickSize:S,tickMargin:j,fontSize:D,letterSpacing:O,getTicksConfig:M,events:N,axisType:I}=e,$=nk(tr(tr({},M),{},{ticks:n}),D,O),B=Abe(m,p),H=Tbe(m,p),Z=go(M),z=lb(r),F={};typeof i=="object"&&(F=i);var Q=tr(tr({},Z),{},{fill:"none"},F),ee=$.map(le=>tr({entry:le},Ebe(le,y,b,x,T,m,S,p,j))),ye=ee.map(le=>{var{entry:ae,line:he}=le;return A.createElement(Wo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},i&&A.createElement("line",_u({},Q,he,{className:bn("recharts-cartesian-axis-tick-line",db(i,"className"))})))}),J=ee.map((le,ae)=>{var{entry:he,tick:ne}=le,q=tr(tr(tr(tr({textAnchor:B,verticalAnchor:H},Z),{},{stroke:"none",fill:a},z),ne),{},{index:ae,payload:he,visibleTicksCount:$.length,tickFormatter:s,padding:d},f);return A.createElement(Wo,_u({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},gse(N,he,ae)),r&&A.createElement(kbe,{option:r,tickProps:q,value:"".concat(typeof s=="function"?s(he.value,ae):he.value).concat(c||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},J.length>0&&A.createElement(Js,{zIndex:di.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},J)),ye.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},ye))}),jbe=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c,axisType:d}=e,f=ybe(e,vbe),[m,p]=A.useState(""),[y,b]=A.useState(""),x=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return gbe({ticks:x.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var T=A.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=j;var D=j[0];if(D){var O=window.getComputedStyle(D),M=O.fontSize,N=O.letterSpacing;(M!==m||N!==y)&&(p(M),b(N))}}},[m,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Js,{zIndex:e.zIndex},A.createElement(Wo,{className:bn("recharts-cartesian-axis",a)},A.createElement(Sbe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:go(e)}),A.createElement(Obe,{ref:T,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(jve,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(Bve,{label:e.label,labelRef:e.labelRef}),e.children)))}),rk=A.forwardRef((e,t)=>{var n=ua(e,Ps);return A.createElement(jbe,_u({},n,{ref:t}))});rk.displayName="CartesianAxis";var Nbe=["x1","y1","x2","y2","key"],Cbe=["offset"],Mbe=["xAxisId","yAxisId"],Dbe=["xAxisId","yAxisId"];function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(n),!0).forEach(function(r){Pbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pbe(e,t,n){return(t=Rbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rbe(e){var t=Lbe(e,"string");return typeof t=="symbol"?t:t+""}function Lbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(null,arguments)}function Sy(e,t){if(e==null)return{};var n,r,i=Ibe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ibe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $be=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=e;return A.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Oz(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:c,y2:d,key:f}=n,m=Sy(n,Nbe),p=(i=go(m))!==null&&i!==void 0?i:{},{offset:y}=p,b=Sy(p,Cbe);r=A.createElement("line",ou({},b,{x1:a,y1:s,x2:c,y2:d,fill:"none",key:f}))}return r}function Bbe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=Sy(e,Mbe),d=i.map((f,m)=>{var p=Jr(Jr({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return A.createElement(Oz,{key:"line-".concat(m),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function zbe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=Sy(e,Dbe),d=i.map((f,m)=>{var p=Jr(Jr({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return A.createElement(Oz,{option:r,lineItemProps:p,key:"line-".concat(m)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Ube(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],x=b?i+s-p:f[y+1]-p;if(x<=0)return null;var T=y%t.length;return A.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:x,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Hbe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],x=b?i+s-p:f[y+1]-p;if(x<=0)return null;var T=y%n.length;return A.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:x,height:c,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Fbe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return y7(nk(Jr(Jr(Jr({},Ps),n),{},{ticks:b7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Gbe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return y7(nk(Jr(Jr(Jr({},Ps),n),{},{ticks:b7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},qbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:di.grid};function jz(e){var t=O7(),n=j7(),r=k7(),i=Jr(Jr({},ua(e,qbe)),{},{x:nt(e.x)?e.x:r.left,y:nt(e.y)?e.y:r.top,width:nt(e.width)?e.width:r.width,height:nt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,x=Li(),T=at(H=>b3(H,"xAxis",a,x)),S=at(H=>b3(H,"yAxis",s,x));if(!Zo(f)||!Zo(m)||!nt(c)||!nt(d))return null;var j=i.verticalCoordinatesGenerator||Fbe,D=i.horizontalCoordinatesGenerator||Gbe,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof D=="function"){var N=y&&y.length,I=D({yAxis:S?Jr(Jr({},S),{},{ticks:N?y:S.ticks}):void 0,width:t??f,height:n??m,offset:r},N?!0:p);Jv(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(O=I)}if((!M||!M.length)&&typeof j=="function"){var $=b&&b.length,B=j({xAxis:T?Jr(Jr({},T),{},{ticks:$?b:T.ticks}):void 0,width:t??f,height:n??m,offset:r},$?!0:p);Jv(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(M=B)}return A.createElement(Js,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement($be,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Ube,ou({},i,{horizontalPoints:O})),A.createElement(Hbe,ou({},i,{verticalPoints:M})),A.createElement(Bbe,ou({},i,{offset:r,horizontalPoints:O,xAxis:T,yAxis:S})),A.createElement(zbe,ou({},i,{offset:r,verticalPoints:M,xAxis:T,yAxis:S}))))}jz.displayName="CartesianGrid";function Ybe(e){var t=lb(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),c=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(c)||c<0)&&(c=r),{r:s,strokeWidth:c}}return{r:n,strokeWidth:r}}var Nz=(e,t,n,r)=>N9(e,"xAxis",t,r),Cz=(e,t,n,r)=>j9(e,"xAxis",t,r),Mz=(e,t,n,r)=>N9(e,"yAxis",n,r),Dz=(e,t,n,r)=>j9(e,"yAxis",n,r),Kbe=Oe([mn,Nz,Mz,Cz,Dz],(e,t,n,r,i)=>qs(e,"xAxis")?Xv(t,r,!1):Xv(n,i,!1)),Wbe=(e,t,n,r,i)=>i,Pz=Oe([J6,Wbe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),Vbe=(e,t,n,r,i)=>{var a,s=Pz(e,t,n,r,i);if(s!=null){var c=mn(e),d=qs(c,"xAxis"),f;if(d?f=QE(e,"yAxis",n,r):f=QE(e,"xAxis",t,r),f!=null){var{stackId:m}=s,p=NT(s);if(!(m==null||p==null)){var y=(a=f[m])===null||a===void 0?void 0:a.stackedData;return y?.find(b=>b.key===p)}}}},Zbe=Oe([mn,Nz,Mz,Cz,Dz,Vbe,xT,Kbe,Pz,Dme],(e,t,n,r,i,a,s,c,d,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=s;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:b}=d,x;if(b&&b.length>0?x=b:x=m?.slice(p,y+1),x!=null)return p_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:d,stackedData:a,displayedData:x,chartBaseValue:f,bandSize:c})}}),Xbe=["id"],Jbe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(null,arguments)}function Rz(e,t){if(e==null)return{};var n,r,i=Qbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(n),!0).forEach(function(r){e_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e_e(e,t,n){return(t=t_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t_e(e){var t=n_e(e,"string");return typeof t=="symbol"?t:t+""}function n_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ey(e,t){return e&&e!=="none"?e:t}var r_e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:Ey(r,i),value:_7(n,t),payload:e}]},i_e=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:_7(s,t),hide:c,type:f,color:Ey(r,a),unit:d}};return A.createElement(iye,{tooltipEntrySettings:m})});function a_e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,c=go(r);return A.createElement(Aye,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function o_e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,c,d={x:(s=a.x)!==null&&s!==void 0?s:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Id(Id({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return A.createElement(Zve,{value:t?i:void 0},n)}function uL(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:c,stroke:d,connectNulls:f,isRange:m}=a,{id:p}=a,y=Rz(a,Xbe),b=go(y),x=Ba(y);return A.createElement(A.Fragment,null,t?.length>1&&A.createElement(Wo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(uv,hu({},x,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(uv,hu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&A.createElement(uv,hu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:n}))),A.createElement(a_e,{points:t,props:y,clipPathId:i}))}function s_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!Fn(a)||!Fn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.x||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.x||0),d)),nt(d)?A.createElement("rect",{x:0,y:a<s?a:a-c,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function l_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!Fn(a)||!Fn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.y||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.y||0),d)),nt(d)?A.createElement("rect",{x:a<s?a:a-c,y:0,width:c,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function c_e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?A.createElement(s_e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):A.createElement(l_e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function u_e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:b}=r,x=A.useMemo(()=>({points:s,baseLine:c}),[s,c]),T=H7(x,"recharts-area-"),S=iue(),[j,D]=A.useState(!1),O=!j,M=A.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),N=A.useCallback(()=>{typeof y=="function"&&y(),D(!0)},[y]);if(S==null)return null;var I=i.current,$=a.current;return A.createElement(o_e,{showLabels:O,points:s},r.children,A.createElement(U7,{animationId:T,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:M,onAnimationStart:N,key:T},B=>{if(I){var H=I.length/s.length,Z=B===1?s:s.map((F,Q)=>{var ee=Math.floor(Q*H);if(I[ee]){var ye=I[ee];return Id(Id({},F),{},{x:Fo(ye.x,F.x,B),y:Fo(ye.y,F.y,B)})}return F}),z;return nt(c)?z=Fo($,c,B):Ir(c)||vo(c)?z=Fo($,0,B):z=c.map((F,Q)=>{var ee=Math.floor(Q*H);if(Array.isArray($)&&$[ee]){var ye=$[ee];return Id(Id({},F),{},{x:Fo(ye.x,F.x,B),y:Fo(ye.y,F.y,B)})}return F}),B>0&&(i.current=Z,a.current=z),A.createElement(uL,{points:Z,baseLine:z,needClip:t,clipPathId:n,props:r})}return B>0&&(i.current=s,a.current=c),A.createElement(Wo,null,d&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(c_e,{alpha:B,points:s,baseLine:c,layout:S,strokeWidth:r.strokeWidth}))),A.createElement(Wo,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(uL,{points:s,baseLine:c,needClip:t,clipPathId:n,props:r})))}),A.createElement(Qve,{label:r.label}))}function d_e(e){var{needClip:t,clipPathId:n,props:r}=e,i=A.useRef(null),a=A.useRef();return A.createElement(u_e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class f_e extends A.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:c,xAxisId:d,yAxisId:f,width:m,height:p,id:y,baseLine:b,zIndex:x}=this.props;if(t)return null;var T=bn("recharts-area",i),S=y,{r:j,strokeWidth:D}=Ybe(n),O=bz(n),M=j*2+D,N=c?"url(#clipPath-".concat(O?"":"dots-").concat(S,")"):void 0;return A.createElement(Js,{zIndex:x},A.createElement(Wo,{className:T},c&&A.createElement("defs",null,A.createElement(Kye,{clipPathId:S,xAxisId:d,yAxisId:f}),!O&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:s-M/2,y:a-M/2,width:m+M,height:p+M}))),A.createElement(d_e,{needClip:c,clipPathId:S,props:this.props})),A.createElement(iL,{points:r,mainColor:Ey(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}),this.props.isRange&&Array.isArray(b)&&A.createElement(iL,{points:b,mainColor:Ey(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}))}}var Lz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:di.area};function h_e(e){var t,n=ua(e,Lz),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:p,isAnimationActive:y,legendType:b,stroke:x,xAxisId:T,yAxisId:S}=n,j=Rz(n,Jbe),D=rp(),O=X9(),{needClip:M}=Ez(T,S),N=Li(),{points:I,isRange:$,baseLine:B}=(t=at(ee=>Zbe(ee,T,S,N,e.id)))!==null&&t!==void 0?t:{},H=QT();if(D!=="horizontal"&&D!=="vertical"||H==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:Z,width:z,x:F,y:Q}=H;return!I||!I.length?null:A.createElement(f_e,hu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:B,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:Z,hide:p,layout:D,isAnimationActive:y==="auto"?!yf.isSsr:y,isRange:$,legendType:b,needClip:M,points:I,stroke:x,width:z,left:F,top:Q,xAxisId:T,yAxisId:S}))}var m_e=(e,t,n,r,i)=>{var a=n??t;if(nt(a))return a;var s=e==="horizontal"?i:r,c=s.scale.domain();if(s.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function p_e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:b}=e,x=i&&i.length,T=m_e(a,s,n,c,d),S=a==="horizontal",j=!1,D=f.map((M,N)=>{var I;x?I=i[m+N]:(I=ei(M,r),Array.isArray(I)?j=!0:I=[T,I]);var $=I[1]==null||x&&!t&&ei(M,r)==null;return S?{x:HP({axis:c,ticks:p,bandSize:b,entry:M,index:N}),y:$?null:d.scale(I[1]),value:I,payload:M}:{x:$?null:c.scale(I[1]),y:HP({axis:d,ticks:y,bandSize:b,entry:M,index:N}),value:I,payload:M}}),O;return x||j?O=D.map(M=>{var N=Array.isArray(M.value)?M.value[0]:null;return S?{x:M.x,y:N!=null&&M.y!=null?d.scale(N):null,payload:M.payload}:{x:N!=null?c.scale(N):null,y:M.y,payload:M.payload}}):O=S?d.scale(T):c.scale(T),{points:D,baseLine:O,isRange:j}}function g_e(e){var t=ua(e,Lz),n=Li();return A.createElement(cye,{id:t.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(aye,{legendPayload:r_e(t)}),A.createElement(i_e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),A.createElement(gye,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:_ce(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),A.createElement(h_e,hu({},t,{id:r}))))}var Iz=A.memo(g_e,ek);Iz.displayName="Area";var v_e=["domain","range"],y_e=["domain","range"];function dL(e,t){if(e==null)return{};var n,r,i=b_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fL(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function $z(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=dL(e,v_e),{domain:a,range:s}=t,c=dL(t,y_e);return!fL(n,a)||!fL(r,s)?!1:ek(i,c)}var __e=["dangerouslySetInnerHTML","ticks"],x_e=["id"];function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s2.apply(null,arguments)}function hL(e,t){if(e==null)return{};var n,r,i=w_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function S_e(e){var t=Sr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(Nye(e)):n.current!==e&&t(Cye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(Mye(n.current)),n.current=null)},[t]),null}var E_e=e=>{var{xAxisId:t,className:n}=e,r=at(w7),i=Li(),a="xAxis",s=at(S=>Ef(S,a,t,i)),c=at(S=>O9(S,a,t,i)),d=at(S=>Ape(S,t)),f=at(S=>Cpe(S,t)),m=at(S=>W6(S,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,b=hL(e,__e),{id:x}=m,T=hL(m,x_e);return A.createElement(rk,s2({},b,T,{scale:s,x:f.x,y:f.y,width:d.width,height:d.height,className:bn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},A_e={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,angle:gr.angle,axisLine:Ps.axisLine,height:gr.height,hide:!1,includeHidden:gr.includeHidden,interval:gr.interval,minTickGap:gr.minTickGap,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:gr.type,xAxisId:0},T_e=e=>{var t=ua(e,A_e);return A.createElement(A.Fragment,null,A.createElement(S_e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(E_e,t))},Bz=A.memo(T_e,$z);Bz.displayName="XAxis";var k_e=["dangerouslySetInnerHTML","ticks"],O_e=["id"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l2.apply(null,arguments)}function mL(e,t){if(e==null)return{};var n,r,i=j_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function N_e(e){var t=Sr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(Dye(e)):n.current!==e&&t(Pye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(Rye(n.current)),n.current=null)},[t]),null}var C_e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),s=A.useRef(null),c=at(w7),d=Li(),f=Sr(),m="yAxis",p=at(N=>Ef(N,m,t,d)),y=at(N=>Ppe(N,t)),b=at(N=>Dpe(N,t)),x=at(N=>O9(N,m,t,d)),T=at(N=>V6(N,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!y||JT(i)||A.isValidElement(i)||T==null)){var N=a.current;if(N){var I=N.getCalculatedWidth();Math.round(y.width)!==Math.round(I)&&f(Lye({id:t,width:I}))}}},[x,y,f,i,t,r,T]),y==null||b==null||T==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,D=mL(e,k_e),{id:O}=T,M=mL(T,O_e);return A.createElement(rk,l2({},D,M,{ref:a,labelRef:s,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:bn("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:x,axisType:m}))},M_e={allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,angle:vr.angle,axisLine:Ps.axisLine,hide:!1,includeHidden:vr.includeHidden,interval:vr.interval,minTickGap:vr.minTickGap,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tick:vr.tick,tickCount:vr.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:vr.type,width:vr.width,yAxisId:0},D_e=e=>{var t=ua(e,M_e);return A.createElement(A.Fragment,null,A.createElement(N_e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(C_e,t))},zz=A.memo(D_e,$z);zz.displayName="YAxis";var P_e=(e,t)=>t,ik=Oe([P_e,mn,Y6,ur,q9,Xs,Wge,$r],t0e),ak=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Uz=za("mouseClick"),Hz=tp();Hz.startListening({actionCreator:Uz,effect:(e,t)=>{var n=e.payload,r=ik(t.getState(),ak(n));r?.activeIndex!=null&&t.dispatch(Kpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var c2=za("mouseMove"),Fz=tp(),I0=null;Fz.startListening({actionCreator:c2,effect:(e,t)=>{var n=e.payload;I0!==null&&cancelAnimationFrame(I0);var r=ak(n);I0=requestAnimationFrame(()=>{var i=t.getState(),a=UT(i,i.tooltip.settings.shared);if(a==="axis"){var s=ik(i,r);s?.activeIndex!=null?t.dispatch(I9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(L9())}I0=null})}});var pL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Gz=Ri({name:"rootProps",initialState:pL,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:pL.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),R_e=Gz.reducer,{updateOptions:L_e}=Gz.actions,qz=Ri({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:jSe}=qz.actions,I_e=qz.reducer,Yz=za("keyDown"),Kz=za("focus"),ok=tp();ok.startListening({actionCreator:Yz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=HT(i,Tf(n),dp(n),gp(n)),c=s==null?-1:Number(s);if(!(!Number.isFinite(c)||c<0)){var d=Xs(n);if(a==="Enter"){var f=by(n,"axis","hover",String(i.index));t.dispatch(t2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=$pe(n),p=m==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,b=c+y*p;if(!(d==null||b>=d.length||b<0)){var x=by(n,"axis","hover",String(b));t.dispatch(t2({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}}});ok.startListening({actionCreator:Kz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=by(n,"axis","hover",String(a));t.dispatch(t2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ta=za("externalEvent"),Wz=tp(),bS=new Map;Wz.startListening({actionCreator:Ta,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=bS.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:Dge(c),activeDataKey:Cge(c),activeIndex:Pm(c),activeLabel:W9(c),activeTooltipIndex:Pm(c),isTooltipActive:Pge(c)};n(d,r)}finally{bS.delete(i)}});bS.set(i,s)}}});var $_e=Oe([Af],e=>e.tooltipItemPayloads),B_e=Oe([$_e,mp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),Vz=za("touchMove"),Zz=tp();Zz.startListening({actionCreator:Vz,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=UT(r,r.tooltip.settings.shared);if(i==="axis"){var a=ik(r,ak({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(I9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(kce),m=(s=d.getAttribute(Oce))!==null&&s!==void 0?s:void 0,p=B_e(t.getState(),f,m);t.dispatch(Ype({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var z_e=H$({brush:Xye,cartesianAxis:Iye,chartData:D0e,errorBars:Yye,graphicalItems:mye,layout:uce,legend:xue,options:O0e,polarAxis:tye,polarOptions:I_e,referenceElements:ibe,rootProps:R_e,tooltip:Wpe,zIndex:p0e}),U_e=function(t){return Rle({reducer:z_e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Hz.middleware,Fz.middleware,ok.middleware,Wz.middleware,Zz.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(i7({type:"raf"}))},devTools:yf.devToolsEnabled})};function H_e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Li(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=U_e(t));var s=UA;return A.createElement(X$,{context:s,store:a.current},n)}function F_e(e){var{layout:t,margin:n}=e,r=Sr(),i=Li();return A.useEffect(()=>{i||(r(sce(t)),r(oce(n)))},[r,i,t,n]),null}var G_e=A.memo(F_e,ek);function q_e(e){var t=Sr();return A.useEffect(()=>{t(L_e(e))},[t,e]),null}function gL(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=_z("".concat(r).concat(t)),a=Sr();return A.useLayoutEffect(()=>(a(h0e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(m0e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function vL(e){var{children:t,isPanorama:n}=e,r=at(r0e);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(gL,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>A.createElement(gL,{key:s,zIndex:s,isPanorama:n})))}var Y_e=["children"];function K_e(e,t){if(e==null)return{};var n,r,i=W_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}var V_e={width:"100%",height:"100%",display:"block"},Z_e=A.forwardRef((e,t)=>{var n=O7(),r=j7(),i=I7();if(!Zo(n)||!Zo(r))return null;var{children:a,otherAttributes:s,title:c,desc:d}=e,f,m;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?m=s.role:m=i?"application":void 0),A.createElement(h4,Ay({},s,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:V_e,ref:t}),a)}),X_e=e=>{var{children:t}=e,n=at(Eb);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return A.createElement(h4,{width:r,height:i,x:s,y:a},t)},yL=A.forwardRef((e,t)=>{var{children:n}=e,r=K_e(e,Y_e),i=Li();return i?A.createElement(X_e,null,A.createElement(vL,{isPanorama:!0},n)):A.createElement(Z_e,Ay({ref:t},r),A.createElement(vL,{isPanorama:!1},n))});function J_e(){var e=Sr(),[t,n]=A.useState(null),r=at(Tce);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Fn(a)&&a!==r&&e(cce(a))}},[t,e,r]),n}function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function exe(e,t,n){return(t=txe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e){var t=nxe(e,"string");return typeof t=="symbol"?t:t+""}function nxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(null,arguments)}var rxe=()=>(H0e(),null);function Ty(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ixe=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,s]=A.useState({containerWidth:Ty((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ty((r=e.style)===null||r===void 0?void 0:r.height)}),c=A.useCallback((f,m)=>{s(p=>{var y=Math.round(f),b=Math.round(m);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),d=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var y=x=>{var{width:T,height:S}=x[0].contentRect;c(T,S)},b=new ResizeObserver(y);b.observe(f),i.current=b}},[t,c]);return A.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),A.createElement(A.Fragment,null,A.createElement(Tb,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",xu({ref:d},e)))}),axe=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:Ty(n),containerHeight:Ty(r)}),s=A.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();s(f,m)}},[t,s]);return A.createElement(A.Fragment,null,A.createElement(Tb,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",xu({ref:c},e)))}),oxe=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(Tb,{width:n,height:r}),A.createElement("div",xu({ref:t},e)))}),sxe=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return Is(n)||Is(r)?A.createElement(axe,xu({},e,{ref:t})):A.createElement(oxe,xu({},e,{ref:t}))});function lxe(e){return e===!0?ixe:sxe}var cxe=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:x,onTouchStart:T,style:S,width:j,responsive:D,dispatchTouchEvents:O=!0}=e,M=A.useRef(null),N=Sr(),[I,$]=A.useState(null),[B,H]=A.useState(null),Z=J_e(),z=VA(),F=z?.width>0?z.width:j,Q=z?.height>0?z.height:i,ee=A.useCallback(Y=>{Z(Y),typeof t=="function"&&t(Y),$(Y),H(Y),Y!=null&&(M.current=Y)},[Z,t,$,H]),ye=A.useCallback(Y=>{N(Uz(Y)),N(Ta({handler:a,reactEvent:Y}))},[N,a]),J=A.useCallback(Y=>{N(c2(Y)),N(Ta({handler:f,reactEvent:Y}))},[N,f]),le=A.useCallback(Y=>{N(L9()),N(Ta({handler:m,reactEvent:Y}))},[N,m]),ae=A.useCallback(Y=>{N(c2(Y)),N(Ta({handler:p,reactEvent:Y}))},[N,p]),he=A.useCallback(()=>{N(Kz())},[N]),ne=A.useCallback(Y=>{N(Yz(Y.key))},[N]),q=A.useCallback(Y=>{N(Ta({handler:s,reactEvent:Y}))},[N,s]),K=A.useCallback(Y=>{N(Ta({handler:c,reactEvent:Y}))},[N,c]),X=A.useCallback(Y=>{N(Ta({handler:d,reactEvent:Y}))},[N,d]),re=A.useCallback(Y=>{N(Ta({handler:y,reactEvent:Y}))},[N,y]),V=A.useCallback(Y=>{N(Ta({handler:T,reactEvent:Y}))},[N,T]),W=A.useCallback(Y=>{O&&N(Vz(Y)),N(Ta({handler:x,reactEvent:Y}))},[N,O,x]),ue=A.useCallback(Y=>{N(Ta({handler:b,reactEvent:Y}))},[N,b]),te=lxe(D);return A.createElement(nz.Provider,{value:I},A.createElement(Uoe.Provider,{value:B},A.createElement(te,{width:F??S?.width,height:Q??S?.height,className:bn("recharts-wrapper",r),style:Q_e({position:"relative",cursor:"default",width:F,height:Q},S),onClick:ye,onContextMenu:q,onDoubleClick:K,onFocus:he,onKeyDown:ne,onMouseDown:X,onMouseEnter:J,onMouseLeave:le,onMouseMove:ae,onMouseUp:re,onTouchEnd:ue,onTouchMove:W,onTouchStart:V,ref:ee},A.createElement(rxe,null),n)))}),uxe=["width","height","responsive","children","className","style","compact","title","desc"];function dxe(e,t){if(e==null)return{};var n,r,i=fxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hxe=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:c,compact:d,title:f,desc:m}=e,p=dxe(e,uxe),y=go(p);return d?A.createElement(A.Fragment,null,A.createElement(Tb,{width:n,height:r}),A.createElement(yL,{otherAttributes:y,title:f,desc:m},a)):A.createElement(cxe,{className:s,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(yL,{otherAttributes:y,title:f,desc:m,ref:t},A.createElement(obe,null,a)))});function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u2.apply(null,arguments)}var mxe={top:5,right:5,bottom:5,left:5},pxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:mxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},gxe=A.forwardRef(function(t,n){var r,i=ua(t.categoricalChartProps,pxe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(H_e,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},A.createElement(Zye,{chartData:f.data}),A.createElement(G_e,{layout:i.layout,margin:i.margin}),A.createElement(q_e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(hxe,u2({},i,{ref:n})))}),vxe=["axis"],yxe=A.forwardRef((e,t)=>A.createElement(gxe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vxe,tooltipPayloadSearcher:T0e,categoricalChartProps:e,ref:t}));function _L(){const[e,t]=A.useState(0),[n,r]=A.useState(0),[i,a]=A.useState(0),[s,c]=A.useState(0),[d,f]=A.useState([]),[m,p]=A.useState([]),y=A.useMemo(()=>{const S=new Date;return S.setHours(0,0,0,0),S},[]),b=A.useCallback(async()=>{const{count:S}=await Ye.from("profiles").select("*",{count:"exact",head:!0});t(S||0);const{count:j}=await Ye.from("myeongsik").select("*",{count:"exact",head:!0});r(j||0);const{count:D}=await Ye.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());a(D||0);const{count:O}=await Ye.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());c(O||0)},[y]),x=A.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:j}=await Ye.from("profiles").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const N=new Date(M.created_at).toISOString().slice(0,10);D[N]=(D[N]||0)+1});const O=Object.entries(D).map(([M,N])=>({day:M,count:N}));f(O)},[]),T=A.useCallback(async()=>{const S=new Date;S.setDate(S.getDate()-30);const{data:j}=await Ye.from("myeongsik").select("created_at").gte("created_at",S.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const N=new Date(M.created_at).toISOString().slice(0,10);D[N]=(D[N]||0)+1});const O=Object.entries(D).map(([M,N])=>({day:M,count:N}));p(O)},[]);return A.useEffect(()=>{b(),x(),T()},[b,x,T]),_.jsx(Noe,{allow:["admin","operator","viewer"],children:_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[_.jsx($0,{label:" ",value:e}),_.jsx($0,{label:"  ",value:n}),_.jsx($0,{label:" ",value:i}),_.jsx($0,{label:"  ",value:s})]}),_.jsxs("section",{className:"mb-10",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(xL,{data:d})]}),_.jsxs("section",{children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(xL,{data:m})]})]})})}function $0({label:e,value:t}){return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsx("div",{className:"text-neutral-400 text-sm",children:e}),_.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function xL({data:e}){return _.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:_.jsx(nue,{width:"100%",height:"100%",children:_.jsxs(yxe,{data:e,children:[_.jsx(jz,{strokeDasharray:"3 3",stroke:"#333"}),_.jsx(Bz,{dataKey:"day",stroke:"#bbb"}),_.jsx(zz,{stroke:"#bbb"}),_.jsx(Z0e,{}),_.jsx(Iz,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}const _S=20;function bxe(){const[e,t]=A.useState(""),[n,r]=A.useState(1),[i,a]=A.useState([]),[s,c]=A.useState([]),[d,f]=A.useState(!1),[m,p]=A.useState(null),y=A.useCallback(async()=>{f(!0),p(null);try{let S=Ye.from("myeongsik").select("user_id,name");if(e.trim()){const M=`%${e.trim()}%`;S=S.or(`name.ilike.${M},user_id.ilike.${M},birth_json->>birthDay.ilike.${M}`)}const{data:j,error:D}=await S;if(D)throw new Error(D.message);const O=Array.from(new Set((j||[]).map(M=>M.user_id).filter(Boolean)));a(O),r(1)}catch(S){p(S instanceof Error?S.message:"Unknown error")}f(!1)},[e]),b=A.useMemo(()=>{const S=(n-1)*_S;return i.slice(S,S+_S)},[n,i]),x=A.useMemo(()=>Math.max(1,Math.ceil(i.length/_S)),[i]),T=A.useCallback(async()=>{if(!b.length){c([]);return}f(!0),p(null);try{const S=b.length?b:["__NO_MATCH__"],{data:j}=await Ye.from("profiles").select("id,user_id,name,nickname,email").in("user_id",S),D={};(j||[]).forEach(N=>{const I=N.user_id||N.id;I&&(D[I]=N)});const{data:O}=await Ye.from("myeongsik").select("user_id, created_at").in("user_id",S).order("created_at",{ascending:!1}),M={};S.forEach(N=>{M[N]={user_id:N,profile:D[N]||null,myeongsikCount:0,lastCreatedAt:null}}),(O||[]).forEach(N=>{M[N.user_id].myeongsikCount++,M[N.user_id].lastCreatedAt||(M[N.user_id].lastCreatedAt=N.created_at)}),c(Object.values(M))}catch(S){p(S instanceof Error?S.message:"Error")}f(!1)},[b]);return A.useEffect(()=>{y()},[y]),A.useEffect(()=>{T()},[T]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),_.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:e,onChange:S=>t(S.target.value)}),m&&_.jsx("div",{className:"text-red-400 mb-2",children:m}),d&&_.jsx("div",{children:"Loading..."}),_.jsx("div",{className:"space-y-3",children:s.map(S=>{const j=S.profile?.name||S.profile?.nickname||S.profile?.email||"(no profile)";return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg cursor-pointer hover:bg-neutral-800",onClick:()=>location.href=`/admin/user/${S.user_id}`,children:[_.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"text-nowrap mr-2",children:j}),_.jsx("span",{className:"text-neutral-500 text-sm",children:S.user_id})]}),_.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",S.myeongsikCount,"",S.lastCreatedAt&&_.jsxs(_.Fragment,{children:["    ",new Date(S.lastCreatedAt).toLocaleString()]})]})]},S.user_id)})}),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{disabled:n<=1,onClick:()=>r(S=>S-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),_.jsxs("span",{children:[n," / ",x]}),_.jsx("button",{disabled:n>=x,onClick:()=>r(S=>S+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}async function xS({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Ye.auth.getSession()).data.session?.user?.id;a&&await Ye.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}function _xe({params:e}){const t=e.userId,[n,r]=A.useState(null),[i,a]=A.useState([]),[s,c]=A.useState(!1),d=A.useCallback(async()=>{const{data:D}=await Ye.from("profiles").select("*").eq("user_id",t).maybeSingle();r(D)},[t]),f=A.useCallback(async()=>{const{data:D}=await Ye.from("myeongsik").select("*").eq("user_id",t).order("created_at",{ascending:!1});a(D||[])},[t]);A.useEffect(()=>{d(),f()},[d,f]);const m=async()=>{c(!0),await Ye.from("profiles").insert({user_id:t,name:"",nickname:"",email:"",mgr_memo:""}),c(!1),d()},p=async()=>{n&&(c(!0),await Ye.from("profiles").update({name:n.name,nickname:n.nickname,email:n.email,mgr_memo:n.mgr_memo}).eq("user_id",t),c(!1),d())},y=async()=>{if(!n)return;const D=n.disabled_at?null:new Date().toISOString();await Ye.from("profiles").update({disabled_at:D}).eq("user_id",t),d()},b=async()=>{c(!0),await Ye.from("profiles").update({disabled_at:null}).eq("user_id",t),await Ye.from("myeongsik").update({deleted_at:null}).eq("user_id",t),await xS({action:"restore_account",targetUserId:t,payload:{source:"admin_user_detail"}}),c(!1),d(),f()},x=async()=>{c(!0),await Ye.from("myeongsik").update({deleted_at:null}).eq("user_id",t),await xS({action:"restore_myeongsik_all",targetUserId:t,payload:{source:"admin_user_detail"}}),c(!1),f()},T=D=>{const O=typeof window<"u"?window.location.origin:"",M=D?`${O}/#/impersonate?userId=${t}&myeongsikId=${D}`:`${O}/#/impersonate?userId=${t}`;window.open(M,"_blank")},S=async(D,O)=>{const M=O?null:new Date().toISOString();await Ye.from("myeongsik").update({deleted_at:M}).eq("id",D),await xS({action:M?"delete_myeongsik":"restore_myeongsik",targetUserId:t,targetRecordId:D,payload:{deleted_at:M,source:"admin_user_detail"}}),f()},j=D=>{window.location.href=D};return _.jsxs("div",{className:"p-6 text-white",children:[_.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>j("/admin/user"),children:"  "}),_.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[_.jsx("div",{className:"flex items-center justify-between mb-3",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h2",{className:"text-xl font-semibold",children:""}),_.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>T(),children:"  ( )"})]})}),!n&&_.jsx("button",{onClick:m,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:s,children:" "}),n&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.name??"",onChange:D=>r({...n,name:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.nickname??"",onChange:D=>r({...n,nickname:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Email"}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.email??"",onChange:D=>r({...n,email:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:" "}),_.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.mgr_memo??"",onChange:D=>r({...n,mgr_memo:D.target.value})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:p,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:s,children:""}),n.disabled_at&&_.jsx("button",{onClick:b,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:s,children:""}),_.jsx("button",{onClick:y,className:`px-3 py-2 rounded cursor-pointer text-xs ${n.disabled_at?"bg-yellow-600":"bg-gray-600"}`,children:n.disabled_at?" ":" "})]})]})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-xl font-semibold",children:" "}),_.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:x,disabled:s,children:"  "})]}),i.map(D=>_.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:D.name||"(no name)"}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",D.birth_json?.birthDay??"-"," "," ",D.created_at?new Date(D.created_at).toLocaleString():"-"]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>T(D.id),children:"  ( )"}),_.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>j(`/admin/myeongsik/${D.id}`),children:""}),_.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${D.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>S(D.id,D.deleted_at),children:D.deleted_at?"":""})]})]})},D.id)),i.length===0&&_.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function xxe({open:e,onClose:t,children:n}){return e?_.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:_.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[_.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),_.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const wL=50;function wxe(){const[e,t]=A.useState(null),[n,r]=A.useState(!1),[i,a]=A.useState([]),[s,c]=A.useState(1),[d,f]=A.useState("all"),[m,p]=A.useState("all"),[y,b]=A.useState("30"),[x,T]=A.useState(""),[S,j]=A.useState(!1),D=A.useCallback(async M=>{await Ye.from("audit_logs").delete().eq("id",M),a(N=>N.filter(I=>I.id!==M))},[]),O=A.useCallback(async()=>{j(!0);const M=new Date;y!=="all"&&M.setDate(M.getDate()-Number(y));let N=Ye.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((s-1)*wL,s*wL-1);y!=="all"&&(N=N.gte("created_at",M.toISOString())),d!=="all"&&(N=N.eq("action",d)),m!=="all"&&(N=N.eq("actor_admin_id",m));const{data:I}=await N;let $=I||[];if(x.trim()!==""){const B=x.toLowerCase();$=$.filter(H=>(JSON.stringify(H).toLowerCase()+(H.payload?JSON.stringify(H.payload).toLowerCase():"")).includes(B))}a($),j(!1)},[s,d,m,y,x]);return A.useEffect(()=>{O()},[O]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),_.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:d,onChange:M=>f(M.target.value),children:[_.jsx("option",{value:"all",children:" Action"}),_.jsx("option",{value:"delete_myeongsik",children:" "}),_.jsx("option",{value:"restore_myeongsik",children:" "}),_.jsx("option",{value:"update_profile",children:" "}),_.jsx("option",{value:"impersonate_user",children:""})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:M=>p(M.target.value),children:[_.jsx("option",{value:"all",children:" "}),_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"system",children:"System"})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:y,onChange:M=>b(M.target.value),children:[_.jsx("option",{value:"1",children:"24"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"30",children:"30"}),_.jsx("option",{value:"all",children:""})]}),_.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:x,onChange:M=>T(M.target.value)})]}),S?_.jsx("div",{children:"Loading..."}):i.map(M=>_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(M),r(!0)},children:[_.jsxs("div",{className:"flex items-center justify-between gap-3",children:[_.jsx("div",{className:"font-semibold text-lg",children:M.action}),_.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:N=>{N.stopPropagation(),D(M.id)},children:""})]}),_.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[_.jsxs("div",{children:["Actor: ",M.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",M.target_user_id||"-"]}),_.jsxs("div",{children:["Target Record: ",M.target_record_id||"-"]}),_.jsxs("div",{children:["Time: ",new Date(M.created_at).toLocaleString()]})]}),M.payload&&_.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(M.payload,null,2)})]},M.id)),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40",disabled:s===1,onClick:()=>c(M=>M-1),children:" "}),_.jsxs("span",{className:"text-neutral-400",children:["Page ",s]}),_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded",onClick:()=>c(M=>M+1),children:" "})]}),_.jsx(xxe,{open:n,onClose:()=>r(!1),children:e&&_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),_.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[_.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),_.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),_.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),_.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const Sxe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function Xz(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1);if(A.useEffect(()=>{(async()=>{const{data:c}=await Ye.auth.getUser(),d=c.user?.id;r(!!d&&Sxe.includes(d)),t(!0)})()},[]),!e)return _.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return _.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=_.jsx(_L,{});if(i.startsWith("/admin/user/")){const s=i.replace("/admin/user/","");a=_.jsx(_xe,{params:{userId:s}})}else i.startsWith("/admin/user")?a=_.jsx(bxe,{}):i.startsWith("/admin/logs")?a=_.jsx(wxe,{}):i.startsWith("/admin/dashboard")&&(a=_.jsx(_L,{}));return _.jsx(Ooe,{children:a})}function Exe({pillarsA:e,pillarsB:t}){const n=Bte(e,t);return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?_.jsxs("div",{className:"flex gap-2 text-xs",children:[_.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),_.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,s)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},s))})]},r):null)]})}function Axe(e){return typeof e=="object"&&e!==null}const Txe=["","","","","","","","","","","","","","","","","","","",""],kxe=["","","","","","","","","","","","","","","","","","","","","","","",""],Oxe=new Set(Txe),jxe=new Set(kxe);function SL(e){return typeof e=="string"&&e.length>=2&&Oxe.has(e[0])&&jxe.has(e[1])}function Sn(e,...t){if(SL(e))return e;for(const n of t)if(SL(n))return n;return""}function B0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Nxe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function EL(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,s]=t,c=new Date(+n,+r-1,+i,+a,+s);return Number.isNaN(c.getTime())?null:c}function ky(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function Cxe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const s=e;return typeof s.birthTime=="string"&&s.birthTime.length>=4&&(i=Number(s.birthTime.slice(0,2)),a=Number(s.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function qb(e){const{y:t,m:n,d:r}=Cxe(e),i=e.corrected.getHours(),a=e.corrected.getMinutes();return e.calendarType==="lunar"?Qr(t,n,r,i,a):new Date(t,n-1,r,i,a)}function Mxe(e){const t=qb(e);return`${ky(e)}-${t.toISOString()}`}function Gh(e){const t=e;return typeof t.id=="string"&&t.id?t.id:Mxe(e)}function Dxe(e){return Axe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Pxe(e){const t=Eu;return Dxe(t)?e==="classic"?t.Classic:t.Modern:e}const wS="people_picker_order_v1";function Rxe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function AL({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=A.useState("");A.useEffect(()=>{e||a("")},[e]);const s=A.useMemo(()=>t.map(Gh),[t]),c=A.useMemo(()=>new Set(s),[s]),[d,f]=A.useState([]);A.useEffect(()=>{const T=localStorage.getItem(wS),S=T?JSON.parse(T):[],j=S.filter(O=>c.has(O)),D=[...j,...s.filter(O=>!j.includes(O))];f(D),JSON.stringify(D)!==JSON.stringify(S)&&localStorage.setItem(wS,JSON.stringify(D))},[s,c]);const m=T=>{f(T),localStorage.setItem(wS,JSON.stringify(T))},p=A.useMemo(()=>{const T=new Map(t.map(j=>[Gh(j),j])),S=[];for(const j of d){const D=T.get(j);D&&S.push(D)}return T.forEach((j,D)=>{d.includes(D)||S.push(j)}),S},[t,d]),y=A.useMemo(()=>{const T=i.trim().toLowerCase();return T?p.filter(S=>ky(S).toLowerCase().includes(T)):p},[p,i]),b=i.trim()==="",x=T=>{const{destination:S,source:j}=T;if(!S||!b||S.index===j.index)return;const D=y.map(Gh),O=Rxe(D,j.index,S.index),N=p.map(Gh).filter($=>!D.includes($)),I=[...O,...N].filter(($,B,H)=>H.indexOf($)===B);m(I)};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),_.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),_.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("input",{placeholder:" ",value:i,onChange:T=>a(T.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!b&&_.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"    "})]}),_.jsx(Km,{onDragEnd:x,children:_.jsx(lu,{droppableId:"peopleList",children:T=>_.jsxs("ul",{ref:T.innerRef,...T.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[y.map((S,j)=>{const D=String(Gh(S)),O=qb(S);return _.jsx(Zd,{draggableId:D,index:j,children:M=>_.jsx("li",{ref:M.innerRef,...M.draggableProps,...M.dragHandleProps,onClick:()=>n(S),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:ky(S)}),_.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:rm(O)})]})]})})},D)}),T.placeholder]})})})]})]})}function SS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:s,sinsalBaseBranch:c,sinsalMode:d,sinsalBloom:f}){const m=T=>{const S=s.showSibiUnseong?dn(a,T):"",j=s.showSibiSinsal?fn({baseBranch:c,targetBranch:T,era:Pxe(d),gaehwa:!!f}):"";return{unseongText:S||void 0,shinsalText:j||void 0}},p=Sn(t).charAt(1),y=Sn(n).charAt(1),b=Sn(r).charAt(1),x=Sn(i).charAt(1);return _.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[_.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),_.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",Sn(t),p],["",Sn(n),y],["",Sn(r),b],["",Sn(i),x]].map(([T,S,j])=>{const{unseongText:D,shinsalText:O}=m(j);return _.jsx(Nd,{label:T,gz:S,dayStem:a,settings:xr.getState().settings,unseongText:D,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${T}`)})})]})}function Lxe(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),s=r("isFemale");return a===!0?"":s===!0?"":""}function Ed({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=xr(N=>N.settings),s=A.useMemo(()=>t?qb(t):null,[t]),c=Sn(s?$a(s,"/"):void 0),d=Sn(s?Et(s,"/"):void 0),f=Sn(s?Mt(s):void 0),m=Sn(s?gt(s):void 0),p=A.useMemo(()=>d.charAt(0)||"",[d]),y=s,b=A.useMemo(()=>{const N=t?.birthPlace;return!N||N.name===""||!N.lon?127.5:N.lon},[t]),x=t?.mingSikType??"/",T=A.useMemo(()=>{const N=y?Et(y,x).charAt(1):d.charAt(1)||"",I=y?gt(y,b).charAt(1):m.charAt(1)||"";return(a.sinsalBase??"")===""?N:I},[a.sinsalBase,y,x,b,d,m]),S=A.useMemo(()=>{if(n!==""||!s||!t)return null;try{const N=f5(s,c,t.dir,120,t.mingSikType),I=m5(N,d,t.dir,t.DayChangeRule),$=Wm(s,f,t.dir,120,t?.birthPlace?.lon??127.5),B=p5($,m,t.dir,t.DayChangeRule,s),H=r;return{si:Sn(B0(N.events,H)?.gz,c),il:Sn(B0(I.events,H)?.gz,d),wl:Sn(B0($.events,H)?.gz,f),yn:Sn(B0(B.events,H)?.gz,m)}}catch{return null}},[n,s,c,d,f,m,r,t]),j=A.useMemo(()=>{if(n!=="")return null;const N=r;return{si:Sn($a(N,"/")),il:Sn(Et(N,"/")),wl:Sn(Mt(N)),yn:Sn(gt(N))}},[n,r]),D=t?ky(t):"",O=s?rm(s):"",M=t?Lxe(t):"";return t?_.jsxs("div",{className:"space-y-2",children:[_.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:" ",children:" "}),_.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[_.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),_.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:D}),M&&_.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),O&&_.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:O})]}),n===""&&_.jsx(SS,{label:"",gzHour:c,gzDay:d,gzMonth:f,gzYear:m,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&S&&_.jsx(SS,{label:"",gzHour:S.si,gzDay:S.il,gzMonth:S.wl,gzYear:S.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&_.jsx(SS,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):_.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:_.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function Ixe({people:e=[]}){const[t,n]=A.useState(),[r,i]=A.useState(),[a,s]=A.useState(!1),[c,d]=A.useState(!1),f=A.useRef(new Date),[m,p]=A.useState(()=>Nxe(f.current)),y=A.useRef(EL(m)??f.current),b=A.useMemo(()=>{const O=EL(m);return O&&(y.current=O),y.current},[m]),[x,T]=A.useState(!1),[S,j]=A.useState(!1);function D(O){if(!O)return["","","",""];try{const M=qb(O),N={hour:Sn($a(M,"/")),day:Sn(Et(M,"/")),month:Sn(Mt(M)),year:Sn(gt(M))};return[N.year,N.month,N.day,N.hour]}catch{return["","","",""]}}return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[_.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[_.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[_.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:a,onChange:O=>s(O.target.checked),className:"accent-indigo-500"})," "]}),_.jsx("button",{onClick:()=>d(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?"  ":"  "})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),a&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),a&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),c&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),c&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)})]}),t&&r&&_.jsx("div",{className:"mt-4",children:_.jsx(Exe,{pillarsA:D(t),pillarsB:D(r)})}),_.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[_.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"/ "}),_.jsx("input",{type:"datetime-local",value:m,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),_.jsx(AL,{open:x,list:e||[],onSelect:O=>{n(O),T(!1)},onClose:()=>T(!1)}),_.jsx(AL,{open:S,list:e||[],onSelect:O=>{i(O),j(!1)},onClose:()=>j(!1)})]})}function $xe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),i=async()=>{try{const{data:{user:a}}=await Ye.auth.getUser();if(!a){alert("  .");return}const s=a.id,c=new Date().toISOString();await Ye.from("profiles").update({disabled_at:c}).eq("id",s),await Ye.from("myeongsik").update({deleted_at:c}).eq("user_id",s),await Ye.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return _.jsxs(_.Fragment,{children:[_.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[_.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),_.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[_.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),_.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"     ,    ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsxs("p",{className:"mb-2",children:["   (, )",_.jsx("br",{}),"       ( ,  )"]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsxs("p",{className:"mb-2",children:["     ",_.jsx("br",{}),"    /  ",_.jsx("br",{}),"      "]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsxs("p",{className:"mb-2",children:["     ",_.jsx("br",{}),"         "]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"   3  ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),_.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",_.jsx("br",{}),"    ."]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),_.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function Bxe({ms:e}){const{date:t,setDate:n}=Di();A.useEffect(()=>{n(new Date)},[e]);const r=mA(e),i=A.useMemo(()=>{const c=t??new Date,d=c.getFullYear(),f=String(c.getMonth()+1).padStart(2,"0"),m=String(c.getDate()).padStart(2,"0");return`${d}-${f}-${m}`},[t]),a=c=>{if(!c)return;const[d,f,m]=c.split("-"),p=Number(d),y=Number(f),b=Number(m);if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b))return;const x=t??new Date,T=x.getHours(),S=x.getMinutes(),j=new Date(p,y,0).getDate(),D=Math.min(b,j),O=new Date(p,y-1,D,T,S,0,0);Number.isNaN(O.getTime())||n(O)},s=A.useMemo(()=>{const c=e.ganji,d=r?.dae?.gz?`${r.dae.gz}`:null,f=r?.se?.gz?`${r.se.gz}`:null,m=r?.wol?.gz?`${r.wol.gz}`:null,p=[d,f,m].filter(Boolean).join(" ");return[c,p].filter(Boolean).join(" + ")},[e,r]);return _.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[s&&_.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:s}),_.jsx("div",{className:"grid grid-cols-1 gap-3",children:_.jsxs("label",{className:"w-full flex justify-center items-center",children:[_.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),_.jsx("input",{type:"date",value:i,onChange:c=>a(c.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const zxe=["23:0000:59","01:0002:59","03:0004:59","05:0006:59","07:0008:59","09:0010:59","11:0012:59","13:0014:59","15:0016:59","17:0018:59","19:0020:59","21:0022:59"];function Uxe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function z0(e,t){return e&&t?`${e}${t}`:null}function TL(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}const Hxe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},Fxe=Pa.,Gxe=["","","","","","","","","","","",""];function kL(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=Hxe[n],i=Gxe.indexOf(t),a=(r+(i>=0?i:0))%10;return Fxe[a]}const qxe=Pa..slice(),Yxe=["","","","","","","","","","","",""];function Ad(e,t){const r=(t===""?dI:E2)[e],i=t===""?qxe:Yxe,a=Pa..reduce((s,c)=>(s[c]="",s),{});for(let s=0;s<12;s++)a[i[s]]=r[s];return a}const Kxe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wxe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Vxe({open:e,onClose:t,onSave:n}){const{settings:r}=xr(),[i,a]=A.useState(null),[s,c]=A.useState({}),[d,f]=A.useState(null),[m,p]=A.useState(!0),[y,b]=A.useState(!0),[x,T]=A.useState(""),[S,j]=A.useState("male"),[D,O]=A.useState(null),[M,N]=A.useState(!1),[,I]=A.useState(null),[$,B]=A.useState(null),[H,Z]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[z,F]=A.useState(!1),[Q,ee]=A.useState(null),ye=ge=>{ee(ge),setTimeout(()=>ee(null),1800)},[J,le]=A.useState(!1),[ae,he]=A.useState(!1);A.useEffect(()=>{if(J){const ge=setTimeout(()=>le(!1),2e3);return()=>clearTimeout(ge)}},[J]),A.useEffect(()=>{if(ae){const ge=setTimeout(()=>he(!1),2e3);return()=>clearTimeout(ge)}},[ae]);const ne=()=>{const ge=$!==null?D?.filter((Ur,Wn)=>Wn===$)??[]:[];if(ge.length===0){alert("  .");return}const Ue=x===""?"/":"",de=ge[0],[pe,$e,ze]=de.date.split("-").map(Number),Fe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};let ct=0,dt=0;if(de.hourSlots.length>0){const Ur=de.hourSlots[0].branch,Wn=Fe[Ur];Wn&&(ct=Wn.hh,dt=Wn.mi)}const Dt=new Date(pe,$e-1,ze,ct,dt),_t=Dt,Pn="",Br=S==="male"?"":"";function zr(Ur,Wn){const Fr=["","","","","","","","","",""].includes(Ur),Ga=Wn==="";return Fr?Ga?"forward":"backward":Ga?"backward":"forward"}const Rn=zr(de.year.charAt(0),Br),qt=gt(_t,127.5),rn=Mt(_t,127.5),an=Et(_t,Ue),da=$a(_t,Ue),Qs=[` : ${qt} ${rn} ${an}`,da?`${da}`:null].filter(Boolean).join(" "),Jo={id:z$(),name:"",birthDay:`${pe}${String($e).padStart(2,"0")}${String(ze).padStart(2,"0")}`,birthTime:`${String(ct).padStart(2,"0")}${String(dt).padStart(2,"0")}`,gender:Br,birthPlace:z?{name:"",lat:0,lon:127.5}:H.birthPlace??{name:"",lat:0,lon:127.5},relationship:H.relationship??"",memo:H.memo??"",folder:cu(H.folder),mingSikType:H.mingSikType??"/",DayChangeRule:H.mingSikType===""?"":"",calendarType:H.calendarType??"solar",yearGZ:de.year,monthGZ:de.month,dayGZ:de.day,hourGZ:de.hour,ganjiText:` : ${de.year} ${de.month} ${de.day} ${de.hour}`,ganji:Qs,dayStem:de.day.charAt(0),dateObj:Dt,corrected:_t,correctedLocal:Pn,dir:Rn};cf.flushSync(()=>{La.getState().add(Jo)}),n(Jo),ee(" !"),Z({gender:"",mingSikType:"/",calendarType:"solar"}),F(!1),t()},q=m||y,K=!!(s.yearStem&&s.yearBranch),X=!!(s.dayStem&&s.dayBranch),re=!q||K||X,V=!!d&&d.endsWith("Stem"),W=!!d&&d.endsWith("Branch");function ue(ge){return ge==="yearStem"?"yearBranch":ge==="yearBranch"?"yearStem":ge==="monthStem"?"monthBranch":ge==="monthBranch"?"monthStem":ge==="dayStem"?"dayBranch":ge==="dayBranch"?"dayStem":ge==="hourStem"?"hourBranch":"hourStem"}const te=A.useCallback((ge,Ue)=>{if(!m||!ge.yearStem)return ge;const de={...ge},pe=E2[ge.yearStem];if(!pe)return de;const $e=Fe=>pe.filter(ct=>ct.startsWith(Fe)),ze=Fe=>pe.find(ct=>ct.endsWith(Fe));if(Ue==="monthStem"&&de.monthStem){const Fe=$e(de.monthStem).map(ct=>ct.slice(1));return Fe.length>=2?(a(Fe.slice(0,2)),f("monthBranch"),de):(Fe.length===1&&(de.monthBranch=Fe[0],a(null)),de)}if(Ue==="monthBranch"&&de.monthBranch){const Fe=ze(de.monthBranch);return Fe&&(de.monthStem=Fe.slice(0,1),a(null)),de}if(Ue==="yearStem"){if(de.monthStem&&!de.monthBranch){const Fe=$e(de.monthStem).map(ct=>ct.slice(1));if(Fe.length>=2)return a(Fe.slice(0,2)),f("monthBranch"),de;Fe.length===1&&(de.monthBranch=Fe[0])}else if(de.monthBranch&&!de.monthStem){const Fe=ze(de.monthBranch);Fe&&(de.monthStem=Fe.slice(0,1))}}return de},[m,f]),Y=A.useCallback((ge,Ue)=>{if(!y||!ge.dayStem)return ge;const de={...ge},pe=Ad(ge.dayStem,x),$e=Fe=>Object.entries(pe).find(([,ct])=>ct.startsWith(Fe)),ze=Fe=>pe[Fe];if(Ue==="hourStem"&&de.hourStem){const Fe=$e(de.hourStem);return Fe&&(de.hourBranch=Fe[0]),de}if(Ue==="hourBranch"&&de.hourBranch){const Fe=ze(de.hourBranch);return Fe&&(de.hourStem=Fe.slice(0,1)),de}if(Ue==="dayStem"){if(de.hourStem&&!de.hourBranch){const Fe=$e(de.hourStem);Fe&&(de.hourBranch=Fe[0])}else if(de.hourBranch&&!de.hourStem){const Fe=ze(de.hourBranch);Fe&&(de.hourStem=Fe.slice(0,1))}}return de},[y,x]),se=A.useCallback(ge=>!m||!ge.yearStem?!1:ge.monthBranch&&ge.monthStem?kL(ge.yearStem,ge.monthBranch)!==ge.monthStem:!1,[m]),Se=A.useCallback(ge=>{if(!y||!ge.dayStem)return!1;if(ge.hourBranch&&ge.hourStem){const de=Ad(ge.dayStem,x)[ge.hourBranch];return de?de.slice(0,1)!==ge.hourStem:!1}return!1},[y,x]);A.useEffect(()=>{if(!(!y||!s.dayStem||!s.hourBranch)&&(s.hourBranch===""||s.hourBranch==="")){const Ue=Ad(s.dayStem,x)[s.hourBranch];Ue&&c(de=>({...de,hourStem:Ue.slice(0,1)}))}},[x,y,s.dayStem,s.hourBranch]);const ce=A.useCallback(ge=>{if(!d)return;if(!re&&!(d==="yearStem"||d==="yearBranch"||d==="dayStem"||d==="dayBranch")){I("/  :    ."),setTimeout(()=>I(null),1500);return}let de={...s,[d]:ge};(d==="yearStem"||d==="monthStem"||d==="monthBranch")&&(de=te(de,d)),(d==="dayStem"||d==="hourStem"||d==="hourBranch")&&(de=Y(de,d)),c(de);let pe=!1;se(de)&&(p(!1),pe=!0),Se(de)&&(b(!1),pe=!0),pe&&ye("/  .   ."),c(de),O(null);const $e=ue(d);f($e),setTimeout(()=>{const ze={...de};if(ze.yearStem&&ze.yearBranch&&!ze.monthStem){f("monthStem");return}if(ze.monthStem&&ze.monthBranch&&!ze.dayStem){f("dayStem");return}if(ze.dayStem&&ze.dayBranch&&!ze.hourStem){f("hourStem");return}},0)},[d,s,re,te,Y,se,Se]),Ne=TL(s),me=A.useCallback(async()=>{if(O(null),I(null),!TL(s)){I("   .");return}const ge=z0(s.yearStem,s.yearBranch),Ue=z0(s.monthStem,s.monthBranch),de=z0(s.dayStem,s.dayBranch),pe=z0(s.hourStem,s.hourBranch),$e=300,ze=[];N(!0);try{const Fe=new Date(1900,0,1,12,0,0),ct=new Date(2100,11,31,12,0,0);for(let dt=Fe.getTime();dt<=ct.getTime();dt+=24*3600*1e3){const Dt=new Date(dt),_t=x===""?"/":"",Pn=gt(Dt);if(Pn!==ge)continue;const Br=Mt(Dt);if(Br!==Ue)continue;const zr=Et(Dt,_t);if(zr!==de)continue;const Rn=Ad(s.dayStem,x),qt=[];for(let rn=0;rn<12;rn++){const an=Pa.[rn];Rn[an]===pe&&qt.push({branch:an,time:zxe[rn]})}if(qt.length!==0&&(ze.push({date:Uxe(Dt),year:Pn,month:Br,day:zr,hour:pe,hourSlots:qt}),ze.length>=$e))break}ze.length===0&&I("  . (: 19002100)"),O(ze)}catch(Fe){Fe instanceof Error?I(Fe.message):I(String(Fe))}finally{N(!1)}},[s,x]),Te=()=>{c({}),O(null),I(null),f(null)},De=ge=>{O(null),ge&&c(Ue=>{const de={...Ue};return de.yearStem&&de.monthBranch&&(de.monthStem=kL(de.yearStem,de.monthBranch)),de}),p(ge)},Le=ge=>{O(null),ge&&c(Ue=>{const de={...Ue};if(de.dayStem&&de.hourBranch){const $e=Ad(de.dayStem,x)[de.hourBranch];$e&&(de.hourStem=$e.slice(0,1))}return de}),b(ge)};if(!e)return null;const Be=ge=>{if(O(null),T(ge),y&&s.dayStem&&s.hourBranch&&(s.hourBranch===""||s.hourBranch==="")){const de=Ad(s.dayStem,ge)[s.hourBranch];de&&c(pe=>({...pe,hourStem:de.slice(0,1)}))}};return _.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:_.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[_.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:_.jsx(l4,{size:20})}),_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),_.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:"/"}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useWoldu",checked:m,onChange:ge=>De(ge.target.checked)}),_.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useSidu",checked:y,onChange:ge=>Le(ge.target.checked)}),_.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:" "}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"jasi",checked:x==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"insi",checked:x==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"male",checked:S==="male",onChange:()=>j("male")}),_.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"female",checked:S==="female",onChange:()=>j("female")}),_.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]}),q&&!re&&_.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",_.jsx("br",{}),_.jsx("b",{children:""}),"  ",_.jsx("b",{children:""}),"  ."]}),_.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([ge,Ue])=>{const de=!re&&!(ge==="yearStem"||ge==="yearBranch"||ge==="dayStem"||ge==="dayBranch"),pe=d===ge;return _.jsxs("button",{onClick:()=>!de&&f(ge),disabled:de,className:["border rounded p-2 text-center cursor-pointer",pe?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",de?"opacity-50 cursor-not-allowed":""].join(" "),children:[Ue,_.jsx("br",{}),_.jsx("span",{className:"font-bold",children:s[ge]??"-"})]},ge)})}),i&&i.length>0&&_.jsxs("div",{className:"mb-3",children:[_.jsx("p",{className:"text-sm mb-1",children:"  :"}),_.jsx("div",{className:"flex gap-2",children:i.map(ge=>_.jsx("button",{onClick:()=>{let Ue={...s,monthBranch:ge};a(null),Ue=te(Ue,"monthBranch"),c(Ue),f("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:ge},ge))})]}),_.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:d?_.jsxs("div",{className:"w-full",children:[V&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-5 gap-2",children:Pa..map(ge=>_.jsx("button",{onClick:()=>ce(ge),className:`border rounded px-2 py-1 cursor-pointer ${oa(ge,"stem",r)}`,children:ge},ge))})]}),W&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-6 gap-2",children:Pa..filter(ge=>{const Ue=ue(d),de=s[Ue];return de?Wxe[ge]===Kxe[de]:!0}).map(ge=>_.jsx("button",{onClick:()=>ce(ge),className:`border rounded px-2 py-1 cursor-pointer ${oa(ge,"branch",r)}`,children:ge},ge))})]})]}):_.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"    ."})}),_.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[_.jsx("span",{children:_.jsx("button",{type:"button",onClick:()=>{if(!Ne){le(!0);return}me()},disabled:M,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:M?" ...":""})}),_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",onClick:Te,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),_.jsx("button",{type:"button",onClick:()=>{if(($!==null?D?.filter((Ue,de)=>de===$)??[]:[]).length===0){he(!0);return}ne()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),_.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:D?D.length===0?_.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):_.jsxs("table",{className:"w-full text-xs",children:[_.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""})]})}),_.jsx("tbody",{children:D.map((ge,Ue)=>_.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("td",{className:"p-1 text-center",children:_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Ue}`,checked:$===Ue,onChange:()=>B(Ue)}),_.jsx("label",{htmlFor:`selectRow-${Ue}`,children:"ON"})]})}),_.jsx("td",{className:"p-1 text-center",children:ge.date}),_.jsx("td",{className:"p-1 text-center",children:ge.year}),_.jsx("td",{className:"p-1 text-center",children:ge.month}),_.jsx("td",{className:"p-1 text-center",children:ge.day}),_.jsx("td",{className:"p-1 text-center",children:_.jsx("div",{className:"flex flex-wrap gap-1",children:ge.hourSlots.map((de,pe)=>_.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:_.jsx("b",{children:de.branch})},pe))})}),_.jsx("td",{className:"p-1 text-center",children:S==="male"?"":""})]},`${ge.date}-${Ue}`))})]}):_.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"   ."})}),Q&&_.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:_.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:Q})}),J&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),ae&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:[" .",_.jsx("br",{})," ,  ."]})})]})})}const Jz=uf(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function Oy(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Qr(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),s=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,s,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Su(c,d,i),m=e.mingSikType??"/",p=gt(f,d),y=Mt(f,d),b=Et(f,m),x=i?null:$a(f,m),T=Ke(p),S=Ke(y),j=Ke(b),D=x?Ke(x):"";return[T,S,j,D]}function Qz(e){const t=new Date(e.corrected),n=Oy(e),r=n[0].charAt(0),a=["","","","",""].includes(r),s=e.gender==="",c=s&&a||!s&&!a?"forward":"backward",d=Wm(t,n[1],c,120,e.birthPlace?.lon??127.5),f=d.firstChange;if(!f)return[];const m=[];let p=Ke(d.events[0]?.gz??n[1]);for(let y=0;y<10;y++){const b=new Date(f);if(b.setFullYear(b.getFullYear()+y*10),y>0){const x=d.events[y];x&&(p=Ke(x.gz))}m.push(`${b.getFullYear()} ${String(b.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const Zxe=!1,OL=e=>e<10?`0${e}`:`${e}`;function e8(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=Qr(i,a,s,0,0),d=`${c.getFullYear()}${OL(c.getMonth()+1)}${OL(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}const Jh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Lm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},U0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xxe=["","","","",""];function jL(e){return Xxe.includes(e)}const t8={:"",:"",:"",:"",:""},n8={:"",:"",:"",:"",:""},r8={:"",:"",:"",:"",:""},i8={:"",:"",:"",:"",:""};function d2(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Jh[t])return Jh[t];if(["","","","","","","","","","","",""].includes(t))return U0[t]??null;if(Qh[t])return U0[Qh[t]]??null;const n=t.charAt(0);return Jh[n]?Jh[n]:["","","","","","","","","",""].includes(n)?n:Qh[n]?U0[Qh[n]]??null:["","","","","","","","","","","",""].includes(n)?U0[n]??null:null}function Jxe(e,t){const n=Lm[e],r=Lm[t];if(!n||!r)return"";let i;r===n?i="":r===t8[n]?i="":r===n8[n]?i="":r===r8[n]?i="":r===i8[n]?i="":i="";const a=jL(e)===jL(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function a8(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function Qxe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=d2(n);i&&(t[i]=(t[i]??0)+r)}return t}function ewe(e){if(!e)return[];const t=d2(e.charAt(0)),n=d2(e.charAt(1));return[t,n].filter(Boolean)}function H0(e){const t=ewe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Zi(e,t){return t===e?"":t===t8[e]?"":t===n8[e]?"":t===r8[e]?"":t===i8[e]?"":""}const twe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"}};function nwe(e){if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Jh[t]??t,i=Qh[n]??n;return`${r}${i}`}function Pr(e){const t=nwe(e),n=twe[t];return n?{...n,code:t}:null}function rwe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Lm[n];i&&(t[i]+=r)}return t}function iwe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=Jxe(t,r);n[a]+=i}return n}function awe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const owe={natal:50,dae:30,se:20,wol:7,il:3};function swe(e){const t={};for(const{kind:r,bare:i}of e){const a=owe[r]??0;if(a<=0)continue;const s=a8(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function ao(e,t,n){const r=Qxe(e.perStemElementScaled),i=t!==""&&n?.dae?H0(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?H0(n.se):{},s=(t===""||t==="")&&n?.wol?H0(n.wol):{},c=t===""&&n?.il?H0(n.il):{},d=swe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:s},{kind:"il",bare:c}]),f=a8(d),m=rwe(f),p=iwe(f,e.dayStem),y=awe(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:y}}function lwe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const ES=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),f2=e=>{if(Array.isArray(e)){const t=e.map(f2).filter(n=>!(n==null||Array.isArray(n)&&n.length===0||ES(n)&&Object.keys(n).length===0));return t.length>0?t:void 0}if(ES(e)){const t={};for(const[n,r]of Object.entries(e)){const i=f2(r);i!==void 0&&(Array.isArray(i)&&i.length===0||ES(i)&&Object.keys(i).length===0||(t[n]=i))}return Object.keys(t).length>0?t:void 0}if(e!=null)return e},cwe=e=>{const t=f2(e);return t===void 0?"":typeof t=="string"||typeof t=="number"||typeof t=="boolean"?String(t):["```json",JSON.stringify(t,null,2),"```"].join(`
`)},Vi=(e,t)=>{const n=cwe(t);return n?`## ${e}
${n}`:""};function uwe(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:s,percent:c,category:d,topic:f,subTopic:m,relationMode:p,teacherMode:y,sections:b}=e,x=b?.tenGod??!0,T=b?.twelveUnseong??!0,S=b?.twelveShinsal??!0,j=b?.shinsal??!0,D=b?.nabeum??!0,O=[Ke(n[0]??""),Ke(n[1]??""),Ke(n[2]??""),Ke(n[3]??"")],M=Qz(t).slice(0,10),N=Zr({natal:O,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),I=Oi({natal:O,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:$,shinsalGaehwa:B,shinsalBase:H}=Jz.getState(),Z=H===""?O[0]?.charAt(1)??"":O[2]?.charAt(1)??"",z=ao(s,a,r),F=z.elementPercent,Q=z.totalsSub,{flags:ee}=X5(O,s.elementScoreRaw),ye=`${d} (${c.toFixed(1)}%)  ${[` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..?"":""}`].join(", ")}`,J=!t.birthTime||t.birthTime==="";function le(te){const se=e8(te).birthDay??"",Se=se.slice(0,4),ce=se.slice(4,6),Ne=se.slice(6,8);let me="";if(te.corrected instanceof Date&&!isNaN(te.corrected.getTime())){const Te=String(te.corrected.getHours()).padStart(2,"0"),De=String(te.corrected.getMinutes()).padStart(2,"0");me=J?"":`${Te}:${De}`}return`${Se} ${ce} ${Ne}  ${me}`}function ae(te,Y){if(!Y)return"()";const se=[];return(te===""||te===""||te===""||te==="")&&Y.dae&&se.push(`:${Ke(Y.dae)}`),(te===""||te===""||te==="")&&Y.se&&se.push(`:${Ke(Y.se)}`),(te===""||te==="")&&Y.wol&&se.push(`:${Ke(Y.wol)}`),te===""&&Y.il&&se.push(`:${Ke(Y.il)}`),se.length>0?se.join(" / "):"()"}const he=lwe(O,t),ne=s.dayStem,q=Lm[ne],K=[` : ${t.name??""} (${le(t)}) : ${t.gender}`,` ${O[0]} ${O[1]} ${O[2]}`+(O[3]?` ${O[3]}${!t.birthTime||t.birthTime===""?"()":""}`:""),`: ${ae(a,r)}`].join(`
`),X=[];if(X.push(Vi("  (10)",M)),X.push(Vi("",ye)),X.push(Vi("(  )",Object.fromEntries(Object.entries(s.natalFixed.elementPercent100).map(([te,Y])=>[`${te}(${Zi(q,te)})`,Y])))),a!==""&&X.push(Vi(`(=${a})`,Object.fromEntries(Object.entries(F).map(([te,Y])=>[`${te}(${Zi(q,te)})`,Y])))),x&&(X.push(Vi(" ( 10 100)",s.natalFixed.totalsSub)),a!==""&&X.push(Vi(` ( 10=${a} 100)`,Q))),T&&X.push(Vi("(+ )",a===""?O.map((te,Y)=>!te||Y>=he.length?null:{pos:he[Y],gz:te,unseong:dn(O[2]?.charAt(0)??"",te.charAt(1))}).filter(Boolean):[...O.map((te,Y)=>!te||Y>=he.length?null:{pos:he[Y],gz:te,unseong:dn(O[2]?.charAt(0)??"",te.charAt(1))}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,unseong:dn(O[2]?.charAt(0)??"",r.dae.charAt(1))}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,unseong:dn(O[2]?.charAt(0)??"",r.se.charAt(1))}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,unseong:dn(O[2]?.charAt(0)??"",r.wol.charAt(1))}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,unseong:dn(O[2]?.charAt(0)??"",r.il.charAt(1))}]:[]].filter(Boolean))),S&&X.push(Vi("(+  )",a===""?O.map((te,Y)=>!te||Y>=he.length?null:{pos:he[Y],gz:te,shinsal:fn({baseBranch:Z,targetBranch:te.charAt(1),era:$,gaehwa:B})}).filter(Boolean):[...O.map((te,Y)=>!te||Y>=he.length?null:{pos:he[Y],gz:te,shinsal:fn({baseBranch:Z,targetBranch:te.charAt(1),era:$,gaehwa:B})}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,shinsal:fn({baseBranch:Z,targetBranch:r.dae.charAt(1),era:$,gaehwa:B})}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,shinsal:fn({baseBranch:Z,targetBranch:r.se.charAt(1),era:$,gaehwa:B})}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,shinsal:fn({baseBranch:Z,targetBranch:r.wol.charAt(1),era:$,gaehwa:B})}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,shinsal:fn({baseBranch:Z,targetBranch:r.il.charAt(1),era:$,gaehwa:B})}]:[]].filter(Boolean))),D&&X.push(Vi("(+ )",a===""?O.map((te,Y)=>{if(!te||Y>=he.length)return null;const se=Pr(te);return se?{pos:he[Y],gz:te,nabeum:se.name,element:se.element,code:se.code}:{pos:he[Y],gz:te,nabeum:null}}).filter(Boolean):[...O.map((te,Y)=>{if(!te||Y>=he.length)return null;const se=Pr(te);return se?{pos:he[Y],gz:te,nabeum:se.name,element:se.element,code:se.code}:{pos:he[Y],gz:te,nabeum:null}}).filter(Boolean),...r?.dae?(()=>{const te=Pr(r.dae);return te?[{pos:"",gz:r.dae,nabeum:te.name,element:te.element,code:te.code}]:[]})():[],...(a===""||a===""||a==="")&&r?.se?(()=>{const te=Pr(r.se);return te?[{pos:"",gz:r.se,nabeum:te.name,element:te.element,code:te.code}]:[]})():[],...(a===""||a==="")&&r?.wol?(()=>{const te=Pr(r.wol);return te?[{pos:"",gz:r.wol,nabeum:te.name,element:te.element,code:te.code}]:[]})():[],...a===""&&r?.il?(()=>{const te=Pr(r.il);return te?[{pos:"",gz:r.il,nabeum:te.name,element:te.element,code:te.code}]:[]})():[]].filter(Boolean))),X.push(Vi("()",OA(O.filter((te,Y)=>Y<he.length)))),X.push(Vi("( :  )",N)),j)if(a===""){const te=Oi({natal:O,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});X.push(Vi("( )",{good:te.good,bad:te.bad,meta:te.meta}))}else X.push(Vi(`( =${a})`,I));const re=X.filter(te=>te&&te.trim().length>0).join(`

`),V=u8({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:y}),W=["-----","  ","","1.       (////)  .","2.  ,        ."];V&&W.push("","  ( )",V);const ue=W.join(`
`);return[K,re,ue].join(`

`)}function dwe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const fwe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function sk(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function o8(e,t){const n=e[t],r=e[t+1];return r?sk(r):new Date(n.endYear+1,0,1)}function s8(e,t,n,r){return e<r&&t>n}function l8(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=sk(c),f=o8(e,s);s8(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function NL(e,t){return l8(e,t,t)}function F0(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=sk(c),f=o8(e,s);s8(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function c8(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function G0(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=c8(e),s=gt(new Date(e-1,5,15)),c=gt(new Date(e,5,15)),d=gt(new Date(e+1,5,15));if(i<=a)s&&n.push(Ke(s));else if(r>=a)c&&n.push(Ke(c));else if(s&&n.push(Ke(s)),c){const f=Ke(c);n.includes(f)||n.push(f)}if(t===12&&d){const f=Ke(d);n.includes(f)||n.push(f)}return n}function hwe(e,t){const n=c8(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}const Uo=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const d={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(y=>typeof y=="string"&&y.includes(n));p.length>0&&(d[f]=p)}if(Object.keys(d).length!==0)return d},i=r(e.good),a=r(e.bad),s={};return i&&(s.good=i),a&&(s.bad=a),s};function h2(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>h2(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(fwe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=h2(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}const mwe=e=>e==null?"":typeof e=="string"?e:JSON.stringify(e,null,2),pr=(e,t)=>{const n=h2(t);if(n===void 0)return"";const r=mwe(n);return r.trim()?`## ${e}
${r}`:""},Ss=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(s=>typeof s=="string"&&s.includes(t))));a.length>0&&(n[r]=a)}return n};function pwe(e){const{ms:t,natal:n,basis:r,unified:i,percent:a,category:s,selectedDaeList:c,daeList:d,seYears:f,wolMonths:m,ilDays:p,topic:y,subTopic:b,teacherMode:x,sections:T}=e,S=[Ke(n[0]??""),Ke(n[1]??""),Ke(n[2]??""),Ke(n[3]??"")],j=T?.tenGod??!0,D=T?.twelveUnseong??!0,O=T?.twelveShinsal??!0,M=T?.shinsal??!0,N=T?.nabeum??!0,I=!t.birthTime||t.birthTime==="",$=dwe(S,t),B=i.dayStem,H=Lm[B],{shinsalEra:Z,shinsalGaehwa:z,shinsalBase:F}=Jz.getState(),Q=F===""?S[0]?.charAt(1)??"":S[2]?.charAt(1)??"",{flags:ee}=X5(S,i.elementScoreRaw),ye=`${s} (${a.toFixed(1)}%)  ${[` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..||ee..||ee..?"":""}`,` ${ee..||ee..?"":""}`].join(", ")}`;function J(X){const V=e8(X).birthDay??"",W=V.slice(0,4),ue=V.slice(4,6),te=V.slice(6,8);let Y="";if(X.corrected instanceof Date&&!isNaN(X.corrected.getTime())){const se=String(X.corrected.getHours()).padStart(2,"0"),Se=String(X.corrected.getMinutes()).padStart(2,"0");Y=I?"":`${se}:${Se}`}return`${W} ${ue} ${te}  ${Y}`}const le=[` : ${t.name??""} (${J(t)}) : ${t.gender}`,` ${S[0]} ${S[1]} ${S[2]}`+(S[3]?` ${S[3]}${!t.birthTime||t.birthTime===""?"()":""}`:"")].join(`
`),ae=[];if(ae.push(pr("",ye)),ae.push(pr("()",Object.fromEntries(Object.entries(i.natalFixed.elementPercent100).map(([X,re])=>[`${X}(${Zi(H,X)})`,re])))),j&&ae.push(pr(" ( 10 100)",i.natalFixed.totalsSub)),D&&ae.push(pr("()",S.map((X,re)=>!X||re>=$.length?null:{pos:$[re],gz:X,unseong:dn(S[2]?.charAt(0)??"",X.charAt(1))}).filter(Boolean))),O&&ae.push(pr("()",S.map((X,re)=>!X||re>=$.length?null:{pos:$[re],gz:X,shinsal:fn({baseBranch:Q,targetBranch:X.charAt(1),era:Z,gaehwa:z})}).filter(Boolean))),ae.push(pr("()",OA(S.filter((X,re)=>re<$.length)))),N&&ae.push(pr("()",S.map((X,re)=>{if(!X||re>=$.length)return null;const V=Pr(X);return V?{pos:$[re],gz:X,nabeum:V.name,element:V.element,code:V.code}:{pos:$[re],gz:X,nabeum:null}}).filter(Boolean))),M){const X=Oi({natal:S,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});ae.push(pr("()",{good:X.good,bad:X.bad,meta:X.meta}))}if(d.length>0)for(const X of c){const re={dae:X.gz,se:null,wol:null,il:null},V=ao(i,"",re),W=Zr({natal:S,daewoon:X.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0}),ue=M?Oi({natal:S,daewoon:X.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0,basis:r}):null,te=N?Pr(X.gz):null,Y=D?dn(S[2]?.charAt(0)??"",X.gz.charAt(1)):null,se=O?fn({baseBranch:Q,targetBranch:X.gz.charAt(1),era:Z,gaehwa:z}):null;ae.push(pr(`${X.age} ${X.gz} (${X.startYear}~${X.endYear})`,{:Object.fromEntries(Object.entries(V.elementPercent).map(([Se,ce])=>[`${Se}(${Zi(H,Se)})`,ce])),...j?{:V.totalsSub}:{},:W,...M?{:Uo(ue,"")}:{},...N?{:te?{gz:X.gz,nabeum:te.name,element:te.element,code:te.code}:null}:{},...D?{:{pos:"",gz:X.gz,unseong:Y}}:{},...O?{:{pos:"",gz:X.gz,shinsal:se}}:{}}))}if(f.length>0){const X=f[0],re=f[f.length-1],V=l8(d,X,re);if(V.length>0){const W=X,ue=gt(new Date(W,5,15)),te=Ke(ue||""),Y={:V.map(se=>{const Se={dae:se.gz,se:te||null,wol:null,il:null},ce=ao(i,"",Se),Ne=Zr({natal:S,daewoon:se.gz,sewoon:te||void 0,wolwoon:void 0,ilwoon:void 0}),me=M?Oi({natal:S,daewoon:se.gz,sewoon:te||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}):null,Te=N?Pr(se.gz):null,De=D?dn(S[2]?.charAt(0)??"",se.gz.charAt(1)):null,Le=O?fn({baseBranch:Q,targetBranch:se.gz.charAt(1),era:Z,gaehwa:z}):null;return{:`${se.age} ${se.gz} (${se.startYear}~${se.endYear})`,:se.gz,:Object.fromEntries(Object.entries(ce.elementPercent).map(([Be,ge])=>[`${Be}(${Zi(H,Be)})`,ge])),...j?{:ce.totalsSub}:{},:Ss(Ne,""),...M?{:Uo(me,"")}:{},...N?{:Te?{gz:se.gz,nabeum:Te.name,element:Te.element,code:Te.code}:null}:{},...D?{:{pos:"",gz:se.gz,unseong:De}}:{},...O?{:{pos:"",gz:se.gz,shinsal:Le}}:{}}})};ae.push(pr("",Y))}for(const W of f){const ue=gt(new Date(W,5,15)),te=NL(d,W),Y=te.length>0?te[0]:null,se={dae:Y?Y.gz:null,se:Ke(ue||""),wol:null,il:null},Se=ao(i,"",se),ce=Zr({natal:S,daewoon:Y?.gz,sewoon:Ke(ue||""),wolwoon:void 0,ilwoon:void 0}),Ne=M?Oi({natal:S,daewoon:Y?.gz,sewoon:Ke(ue||""),wolwoon:void 0,ilwoon:void 0,basis:r}):null,me=Ke(ue||""),Te=N?Pr(me):null,De=D?dn(S[2]?.charAt(0)??"",(ue||"").charAt(1)):null,Le=O?fn({baseBranch:Q,targetBranch:(ue||"").charAt(1),era:Z,gaehwa:z}):null,Be={:{:`${W} ${me}`,:me,:Object.fromEntries(Object.entries(Se.elementPercent).map(([ge,Ue])=>[`${ge}(${Zi(H,ge)})`,Ue])),...j?{:Se.totalsSub}:{},:Ss(ce,""),...M?{:Uo(Ne,"")}:{},...N?{:Te?{gz:me,nabeum:Te.name,element:Te.element,code:Te.code}:null}:{},...D?{:{pos:"",gz:me,unseong:De}}:{},...O?{:{pos:"",gz:me,shinsal:Le}}:{}}};ae.push(pr(` ${W}`,Be))}}if(m.length>0){const X=[],re=new Map;for(const Y of m){const[se,Se]=Y.split("-").map(Number);F0(d,se,Se).forEach(Te=>{X.some(De=>De.gz===Te.gz&&De.startYear===Te.startYear)||X.push(Te)});const Ne=hwe(se,Se);G0(se,Se).forEach((Te,De)=>{const Le=Ne[De]??Ne[Ne.length-1];re.has(Te)||re.set(Te,{year:Le,month:Se})})}const[V]=m[0].split("-").map(Number),W=gt(new Date(V,5,15)),ue=Ke(W||"");if(X.length>0){const Y={:X.map(se=>{const Se={dae:se.gz,se:ue||null,wol:null,il:null},ce=ao(i,"",Se),Ne=Zr({natal:S,daewoon:se.gz,sewoon:ue||void 0,wolwoon:void 0,ilwoon:void 0}),me=M?Oi({natal:S,daewoon:se.gz,sewoon:ue||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}):null,Te=N?Pr(se.gz):null,De=D?dn(S[2]?.charAt(0)??"",se.gz.charAt(1)):null,Le=O?fn({baseBranch:Q,targetBranch:se.gz.charAt(1),era:Z,gaehwa:z}):null;return{:`${se.age} ${se.gz} (${se.startYear}~${se.endYear})`,:se.gz,:Object.fromEntries(Object.entries(ce.elementPercent).map(([Be,ge])=>[`${Be}(${Zi(H,Be)})`,ge])),...j?{:ce.totalsSub}:{},:Ss(Ne,""),...M?{:Uo(me,"")}:{},...N?{:Te?{gz:se.gz,nabeum:Te.name,element:Te.element,code:Te.code}:null}:{},...D?{:{pos:"",gz:se.gz,unseong:De}}:{},...O?{:{pos:"",gz:se.gz,shinsal:Le}}:{}}})};ae.push(pr("",Y))}const te=Array.from(re.keys());if(te.length>0){const Y={:te.map(se=>{const ce=re.get(se).year,me=NL(d,ce)[0]??X[0]??null,Te={dae:me?me.gz:null,se,wol:null,il:null},De=ao(i,"",Te),Le=Zr({natal:S,daewoon:me?.gz,sewoon:se,wolwoon:void 0,ilwoon:void 0}),Be=M?Oi({natal:S,daewoon:me?.gz,sewoon:se,wolwoon:void 0,ilwoon:void 0,basis:r}):null,ge=N?Pr(se):null,Ue=D?dn(S[2]?.charAt(0)??"",se.charAt(1)):null,de=O?fn({baseBranch:Q,targetBranch:se.charAt(1),era:Z,gaehwa:z}):null;return{:`${ce} ${se}`,:se,:Object.fromEntries(Object.entries(De.elementPercent).map(([pe,$e])=>[`${pe}(${Zi(H,pe)})`,$e])),...j?{:De.totalsSub}:{},:Ss(Le,""),...M?{:Uo(Be,"")}:{},...N?{:ge?{gz:se,nabeum:ge.name,element:ge.element,code:ge.code}:null}:{},...D?{:{pos:"",gz:se,unseong:Ue}}:{},...O?{:{pos:"",gz:se,shinsal:de}}:{}}})};ae.push(pr("",Y))}for(const Y of m){const[se,Se]=Y.split("-").map(Number),ce=new Date(se,Se-1,15),Ne=Mt(ce),me=F0(d,se,Se),Te=me.length>0?me[0]:null,De=G0(se,Se),Le=De.length>0?De[De.length-1]:"",Be={dae:Te?Te.gz:null,se:Le||null,wol:Ke(Ne||""),il:null},ge=ao(i,"",Be),Ue=Zr({natal:S,daewoon:Te?.gz,sewoon:Le||void 0,wolwoon:Ke(Ne||""),ilwoon:void 0}),de=M?Oi({natal:S,daewoon:Te?.gz,sewoon:Le||void 0,wolwoon:Ke(Ne||""),ilwoon:void 0,basis:r}):null,pe=Ke(Ne||""),$e=N?Pr(pe):null,ze=D?dn(S[2]?.charAt(0)??"",(Ne||"").charAt(1)):null,Fe=O?fn({baseBranch:Q,targetBranch:(Ne||"").charAt(1),era:Z,gaehwa:z}):null,ct={:{:`${Y} ${pe}`,:pe,:Object.fromEntries(Object.entries(ge.elementPercent).map(([dt,Dt])=>[`${dt}(${Zi(H,dt)})`,Dt])),...j?{:ge.totalsSub}:{},:Ss(Ue,""),...M?{:Uo(de,"")}:{},...N?{:$e?{gz:pe,nabeum:$e.name,element:$e.element,code:$e.code}:null}:{},...D?{:{pos:"",gz:pe,unseong:ze}}:{},...O?{:{pos:"",gz:pe,shinsal:Fe}}:{}}};ae.push(pr(` ${Y}`,ct))}}if(p.length>0){const X=t.mingSikType??"/",[re,V,W]=p[0].split("-").map(Number),ue=new Date(re,V-1,W,4,0);if(!isNaN(ue.getTime())){const te=F0(d,re,V),Y=te.length>0?te[0]:null,se=G0(re,V),Se=se.length>0?se[se.length-1]:"",ce=Mt(new Date(re,V-1,15)),Ne=Et(ue,X),me=Ke(ce||""),Te=Ke(Se||""),De=Ke(Ne||"");if(Y){const Le={dae:Y.gz,se:Te,wol:me,il:De},Be=ao(i,"",Le),ge=Zr({natal:S,daewoon:Y.gz,sewoon:Te,wolwoon:me,ilwoon:De}),Ue=M?Oi({natal:S,daewoon:Y.gz,sewoon:Te,wolwoon:me,ilwoon:De,basis:r}):null,de=N?Pr(Y.gz):null,pe=D?dn(S[2]?.charAt(0)??"",Y.gz.charAt(1)):null,$e=O?fn({baseBranch:Q,targetBranch:Y.gz.charAt(1),era:Z,gaehwa:z}):null;ae.push(pr("",{:`${Y.age} ${Y.gz} (${Y.startYear}~${Y.endYear})`,:Y.gz,:Object.fromEntries(Object.entries(Be.elementPercent).map(([ze,Fe])=>[`${ze}(${Zi(H,ze)})`,Fe])),...j?{:Be.totalsSub}:{},:Ss(ge,""),...M?{:Uo(Ue,"")}:{},...N?{:de?{gz:Y.gz,nabeum:de.name,element:de.element,code:de.code}:null}:{},...D?{:{pos:"",gz:Y.gz,unseong:pe}}:{},...O?{:{pos:"",gz:Y.gz,shinsal:$e}}:{}}))}if(Te){const Le={dae:Y?Y.gz:null,se:Te,wol:me,il:De},Be=ao(i,"",Le),ge=Zr({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:me,ilwoon:De}),Ue=M?Oi({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:me,ilwoon:De,basis:r}):null,de=N?Pr(Te):null,pe=D?dn(S[2]?.charAt(0)??"",Te.charAt(1)):null,$e=O?fn({baseBranch:Q,targetBranch:Te.charAt(1),era:Z,gaehwa:z}):null;ae.push(pr("",{:`${re} ${Te}`,:Te,:Object.fromEntries(Object.entries(Be.elementPercent).map(([ze,Fe])=>[`${ze}(${Zi(H,ze)})`,Fe])),...j?{:Be.totalsSub}:{},:Ss(ge,""),...M?{:Uo(Ue,"")}:{},...N?{:de?{gz:Te,nabeum:de.name,element:de.element,code:de.code}:null}:{},...D?{:{pos:"",gz:Te,unseong:pe}}:{},...O?{:{pos:"",gz:Te,shinsal:$e}}:{}}))}if(me){const Le={dae:Y?Y.gz:null,se:Te,wol:me,il:De},Be=ao(i,"",Le),ge=Zr({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:me,ilwoon:De}),Ue=M?Oi({natal:S,daewoon:Y?.gz,sewoon:Te,wolwoon:me,ilwoon:De,basis:r}):null,de=N?Pr(me):null,pe=D?dn(S[2]?.charAt(0)??"",me.charAt(1)):null,$e=O?fn({baseBranch:Q,targetBranch:me.charAt(1),era:Z,gaehwa:z}):null;ae.push(pr("",{:`${re}-${String(V).padStart(2,"0")} ${me}`,:me,:Object.fromEntries(Object.entries(Be.elementPercent).map(([ze,Fe])=>[`${ze}(${Zi(H,ze)})`,Fe])),...j?{:Be.totalsSub}:{},:Ss(ge,""),...M?{:Uo(Ue,"")}:{},...N?{:de?{gz:me,nabeum:de.name,element:de.element,code:de.code}:null}:{},...D?{:{pos:"",gz:me,unseong:pe}}:{},...O?{:{pos:"",gz:me,shinsal:$e}}:{}}))}}for(const te of p){const[Y,se,Se]=te.split("-").map(Number),ce=new Date(Y,se-1,Se,4,0);if(isNaN(ce.getTime()))continue;const Ne=F0(d,Y,se),me=Ne.length>0?Ne[0]:null,Te=G0(Y,se),De=Te.length>0?Te[Te.length-1]:"",Le=Mt(new Date(Y,se-1,15)),Be=Et(ce,X),ge=Ke(Le||""),Ue=Ke(De||""),de=Ke(Be||""),pe={dae:me?me.gz:null,se:Ue||null,wol:ge,il:de},$e=ao(i,"",pe),ze=Zr({natal:S,daewoon:me?.gz,sewoon:Ue||void 0,wolwoon:ge||void 0,ilwoon:de||void 0}),Fe=M?Oi({natal:S,daewoon:me?.gz,sewoon:Ue||void 0,wolwoon:ge||void 0,ilwoon:de||void 0,basis:r}):null,ct=N?Pr(de):null,dt=D?dn(S[2]?.charAt(0)??"",de.charAt(1)):null,Dt=O?fn({baseBranch:Q,targetBranch:de.charAt(1),era:Z,gaehwa:z}):null,_t={:{:`${te} ${de}`,:de,:Object.fromEntries(Object.entries($e.elementPercent).map(([Pn,Br])=>[`${Pn}(${Zi(H,Pn)})`,Br])),...j?{:$e.totalsSub}:{},:Ss(ze,""),...M?{:Uo(Fe,"")}:{},...N?{:ct?{gz:de,nabeum:ct.name,element:ct.element,code:ct.code}:null}:{},...D?{:{pos:"",gz:de,unseong:dt}}:{},...O?{:{pos:"",gz:de,shinsal:Dt}}:{}}};ae.push(pr(` ${te}`,_t))}}const he=ae.filter(X=>X.trim().length>0).join(`

`),ne=u8({topic:y,subTopic:b,timeMode:"multi",teacherMode:x}),q=["-----","  ","","1.       (////)  .","2.  ,        ."];ne&&q.push("","  ( )",ne);const K=q.join(`
`);return[le,he,K].join(`

`)}const gwe=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],vwe=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function ywe(e,t){e.push("### ()");const n=t?vwe:gwe;e.push(...n)}function bwe(e){return e==="multi"?"multi":"single"}function u8(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:s}=e;if(!t)return"";const c=bwe(r),d=[],f=s===!0,m=(...p)=>d.push(...p);if(ywe(d,f),t==="etc")return d.join(`
`);switch(c==="single"?i?f?m("","##  ()",`-  : (${i})  ,    ( + / )  .`,"-     /      ()  ."):m("","##  ()",`-    (${i})   ,         .`,"-   ,          ."):m("","##  ()","-   ,      /  ."):f?m("","##  ()","-       .    .","-      (/// )  1~2 ."):m("","##  ()","-  (///)  ,           ."),f&&d.push("- (teacherMode)     ,   .","-      (/ / )  1~2 ."),t){case"personality":{f?m("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   ."):m("","## ()","-  /  .","-         ."),n==="personality_shadow"&&m("-    ,    / ,    ."),n==="personality_relationshipStyle"&&m("-  / ,   /  ."),n==="personality_workStyle"&&m("-     /    ."),n==="personality_stressPattern"&&m("-       .");break}case"lifeFlow":{f?m("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):m("","## ( )","-       .","-     ."),n==="lifeFlow_turningPoint"&&m("-   A/B ,     .");break}case"love":{f?m("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):m("","## ()","- //   .","-  ,   ,    ."),a==="solo"?m("-  :  / ,     ."):a==="couple"&&m("-  :        (//)  .");break}case"career":{f?m("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):m("","## ()","- ///   ."),n==="career_jobChange"&&m("-    / ."),n==="career_promotion"&&m("-     //   .");break}case"money":{f?m("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):m("","## ()","- //   ."),n==="money_debt"&&m("- //   (// )."),n==="money_bigEvent"&&m("-          .");break}case"family":{f?m("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):m("","## ()","- /   .");break}case"baby":{f?m("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):m("","## ()","- //   .");break}case"health":{f?m("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):m("","## ()","- /   ."),n==="health_accident"&&m("-  /(/// ) .");break}case"move":{f?m("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):m("","## ()","- /  .");break}case"social":{f?m("","## ()","-  ////   .","- ()/()/()     ."):m("","## ()","- /   .");break}case"compat":{f?m("","## ( )","-    ,        .","- // ,  //   ."):m("","## ( )","- /    .");break}case"risk":{f?m("","## ()","-  .        .","- //  + /    ."):m("","## ()","- /   .");break}case"meta":{f?m("","## ()","-    ,        .","- ,  3~7 .   "):m("","## ()","-       .");break}}return d.join(`
`)}function _we({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=A.useMemo(()=>{const s=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${s}-${c}-${d}`},[e]),a=s=>{if(!s)return;const[c,d,f]=s.split("-"),m=Number(c),p=Number(d),y=Number(f),b=e.getHours(),x=e.getMinutes(),T=new Date(m,p,0).getDate(),S=Math.min(y,T),j=new Date(m,p-1,S,b,x);Number.isNaN(j.getTime())||t(j)};return _.jsx("input",{type:"date",value:i,onChange:s=>a(s.target.value),min:n,max:r,className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})}const xwe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},jy=uf(e=>({sections:xwe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),AS={analysis:{label:"",desc:`-   ,   
- "     "  
- ST   `},mentor:{label:"",desc:`-        
-   X,   X
-    ~~  `},dryHumor:{label:"",desc:`-   +  
-           `},softWarm:{label:"",desc:`-      
-    `},ect:{label:"  X",desc:"-    "}},wwe=["","","","",""],d8={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f8={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},CL={personality:{label:"     "},lifeFlow:{label:"    "},love:{label:"    "},career:{label:"      "},money:{label:"      "},family:{label:"      "},baby:{label:"    "},health:{label:"      "},move:{label:"       "},social:{label:"     "},compat:{label:"   "},risk:{label:"    "},meta:{label:"    "},etc:{label:"  "}},ML={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:"  "},{key:"personality_shadow",label:" "},{key:"personality_relationshipStyle",label:"  "},{key:"personality_workStyle",label:"  "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:" /"},{key:"love_partner",label:" "},{key:"love_current",label:" / "},{key:"love_breakup",label:"/ "},{key:"love_marriageChange",label:" "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs /"},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:"  "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:" "},{key:"money_asset",label:" "},{key:"money_debt",label:" "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"()"},{key:"family_current",label:" "},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:""},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:" "},{key:"health_physical",label:" "},{key:"health_mental",label:" "},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:"  "},{key:"move_timing",label:" "},{key:"move_chance",label:"  "},{key:"move_targetHouse",label:"   "},{key:"move_environment",label:" "},{key:"move_finance",label:" "}],social:[{key:"overview",label:" "},{key:"social_overall",label:"  "},{key:"social_friend",label:"  "},{key:"social_workspace",label:"  "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:"  "},{key:"compat_overall",label:"  "},{key:"compat_love",label:" "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:" "},{key:"compat_family",label:"  "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:" "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:"  "},{key:"meta_usage",label:"  "}],etc:[]};function Td(e){if(!e)return"";if(e.length===2)return e;const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=d8[r[1]],a=f8[r[2]];return i&&a?`${i}${a}`:""}return""}function DL(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function PL(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${d8[s[1]]}${f8[s[2]]}`:r<=2?"--":""})}function Swe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n\s*\s*/,/\r?\n\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function Ewe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const s=jy(_e=>_e.sections),c=jy(_e=>_e.toggleSection),[d,f]=A.useState("analysis"),[m,p]=A.useState(!1),[y,b]=A.useState(!1),{date:x,setDate:T}=Di();A.useEffect(()=>{T(new Date)},[e.id,T]);const{list:S,currentId:j}=La.getState(),[D,O]=A.useState(""),[M,N]=A.useState("personality"),[I,$]=A.useState("overview"),B=A.useMemo(()=>D?S.find(_e=>_e.id===D)??null:null,[D,S]),[H,Z]=A.useState(""),[z,F]=A.useState("solo");A.useEffect(()=>{M!=="love"&&M!=="compat"&&(F("solo"),O(""))},[M]);const[Q,ee]=A.useState(!1),[ye,J]=A.useState(""),[le,ae]=A.useState([]);A.useEffect(()=>{ye!==""&&ae([])},[ye]);const[he,ne]=A.useState(new Date().getFullYear()),[q,K]=A.useState(new Date().getFullYear()),[X,re]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[V,W]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[ue,te]=A.useState(()=>{const _e=new Date,He=_e.getFullYear(),ht=String(_e.getMonth()+1).padStart(2,"0"),At=String(_e.getDate()).padStart(2,"0");return`${He}-${ht}-${At}`}),[Y,se]=A.useState(()=>{const _e=new Date,He=_e.getFullYear(),ht=String(_e.getMonth()+1).padStart(2,"0"),At=String(_e.getDate()).padStart(2,"0");return`${He}-${ht}-${At}`}),Se=1e3*60*60*24;function ce(_e,He){return(He.getFullYear()-_e.getFullYear())*12+(He.getMonth()-_e.getMonth())}function Ne(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}function me(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}-${String(_e.getDate()).padStart(2,"0")}`}const Te=_e=>{ne(_e)},De=_e=>{K(_e)},Le=()=>{const _e=he;let He=q;He<_e&&(He=_e),He-_e>9&&(He=_e+9),K(He)},Be=()=>{let _e=he;const He=q;He<_e&&(_e=He),He-_e>9&&(_e=He-9),ne(_e)},ge=_e=>{re(_e)},Ue=()=>{const[_e,He]=X.split("-").map(Number),[ht,At]=V.split("-").map(Number),rt=new Date(_e,He-1),mt=new Date(ht,At-1);if(mt<rt){W(Ne(rt));return}if(ce(rt,mt)>11){const Nt=new Date(rt);Nt.setMonth(rt.getMonth()+11),W(Ne(Nt))}},de=_e=>{W(_e)},pe=()=>{const[_e,He]=X.split("-").map(Number),[ht,At]=V.split("-").map(Number),rt=new Date(_e,He-1),mt=new Date(ht,At-1);if(mt<rt){re(Ne(mt));return}if(ce(rt,mt)>11){const Nt=new Date(mt);Nt.setMonth(mt.getMonth()-11),re(Ne(Nt))}},$e=_e=>{te(_e)},ze=()=>{if(!ue||!Y)return;const[_e,He,ht]=ue.split("-").map(Number),[At,rt,mt]=Y.split("-").map(Number),jt=new Date(_e,He-1,ht,4,0,0),Nt=new Date(At,rt-1,mt,4,0,0);if(Nt<jt){se(me(jt));return}if(Math.floor((Nt.getTime()-jt.getTime())/Se)>7){const On=new Date(jt);On.setDate(jt.getDate()+6),se(me(On))}},Fe=_e=>{se(_e)},ct=()=>{if(!ue||!Y)return;const[_e,He,ht]=ue.split("-").map(Number),[At,rt,mt]=Y.split("-").map(Number),jt=new Date(_e,He-1,ht,4,0,0),Nt=new Date(At,rt-1,mt,4,0,0);if(jt>Nt){te(me(Nt));return}if(Math.floor((Nt.getTime()-jt.getTime())/Se)>7){const On=new Date(Nt);On.setDate(Nt.getDate()-6),te(me(On))}},dt=e.mingSikType??"/",Dt=A.useMemo(()=>{if(n)return{dae:n.dae??null,se:n.se??null,wol:n.wol??null,il:n.il??null};const _e=x??new Date,He=Td(gt(_e)||""),ht=Td(Mt(_e)||""),At=Td(Et(_e,dt)||"");return{dae:null,se:He||null,wol:ht||null,il:At||null}},[n,x,dt]),_t=Gm.getState().manualHour,Pn=A.useMemo(()=>PL(t),[t]),Br=A.useMemo(()=>PL(i),[i]),zr=A.useMemo(()=>{const _e=[...Pn];return(!_e[3]||_e[3]==="")&&_t&&(_e[3]=_t.stem+_t.branch),_e},[Pn,_t]),Rn=A.useMemo(()=>{const _e=[...Br];return(!_e[3]||_e[3]==="")&&_t&&(_e[3]=_t.stem+_t.branch),_e},[Br,_t]),qt=A.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),He=Number(e.birthDay?.slice(4,6)),ht=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(He)||!Number.isFinite(ht))return null;const At=new Date(_e,He-1,ht,12,4,0,0),rt=Td(gt(At)||""),mt=Td(Mt(At)||""),jt=Td(Et(At,dt)||"");return[rt,mt,jt,""]},[e.birthDay,dt]),rn=DL(zr),an=DL(Rn),[da]=A.useState("solar"),Qs=da==="lunar"?an?"lunar":rn?"solar":"lunar":rn?"solar":an?"lunar":"solar",Jo=A.useMemo(()=>{const He=[...Qs==="lunar"?an?Rn:rn?zr:qt??["","","",""]:rn?zr:an?Rn:qt??["","","",""]];return(!He[3]||He[3]==="")&&_t&&(He[3]=_t.stem+_t.branch),He},[Qs,rn,an,zr,Rn,qt,_t]),Ur=A.useMemo(()=>_t?_t.stem+_t.branch:Jo[3]||"",[_t,Jo]);(!t||t.length===0)&&(t=Oy(e));const Wn=_t?_t.stem+_t.branch:"",Hr=A.useMemo(()=>{const _e=Oy(e);return Wn&&Wn.length===2&&(_e[3]=Wn),_e},[e,Wn]),Fr=A.useMemo(()=>e4({natal:Hr,tab:H,chain:Dt,hourKey:Ur}),[Hr,H,Dt,Ur]);function Ga(_e){return Q5(_e,{criteriaMode:"modern",useHarmonyOverlay:!0})}const _o=Ga(Hr),xo=A.useMemo(()=>vA(_o),[_o]),Qo=A.useMemo(()=>T5(xo),[xo]),wo=A.useMemo(()=>{const _e=Qz(e).slice(0,10),He=e.birthDay?Number(e.birthDay.slice(0,4)):0;return _e.map((ht,At)=>{const rt=ht.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),mt=rt?Number(rt[1]):0,jt=rt?Number(rt[2]):1,Nt=1,Gr=rt?rt[3]:"",On=He>0?Awe(He,mt):At*10;return{gz:Gr,age:On,startYear:mt,startMonth:jt,startDay:Nt,endYear:mt+10}})},[e]),fa=ML[M],kf=A.useMemo(()=>e?uwe({ms:e,natal:Hr,chain:Dt,basis:r,tab:H,unified:Fr,percent:xo,category:Qo,topic:M,subTopic:I,relationMode:z,teacherMode:y,sections:s}):"",[e,r,a,H,Dt,Fr,xo,Qo,Hr,M,I,z,B,y,s]),ku=A.useMemo(()=>{if(!e||!Q)return"";const _e=le.map(rt=>wo[rt]).filter(rt=>rt),He=ye===""?(()=>{const rt=[];for(let mt=he;mt<=q&&rt.length<10;mt++)rt.push(mt);return rt})():[],ht=ye===""?(()=>{const rt=[],[mt,jt]=X.split("-").map(Number),[Nt,Gr]=V.split("-").map(Number),On=new Date(mt,jt-1),vt=new Date(Nt,Gr-1);for(;On<=vt&&rt.length<12;)rt.push(`${On.getFullYear()}-${String(On.getMonth()+1).padStart(2,"0")}`),On.setMonth(On.getMonth()+1);return rt})():[],At=ye===""?(()=>{const rt=[],[mt,jt,Nt]=ue.split("-").map(Number),[Gr,On,vt]=Y.split("-").map(Number),Bt=new Date(mt,jt-1,Nt,4,0,0),Tr=new Date(Gr,On-1,vt,4,0,0);if(isNaN(Bt.getTime())||isNaN(Tr.getTime()))return rt;const on=new Date(Bt);for(;on<=Tr&&rt.length<31;){const Ya=on.getFullYear(),ac=String(on.getMonth()+1).padStart(2,"0"),ut=String(on.getDate()).padStart(2,"0");rt.push(`${Ya}-${ac}-${ut}`),on.setDate(on.getDate()+1)}return rt})():[];return pwe({ms:e,natal:Hr,basis:r,unified:Fr,percent:xo,category:Qo,selectedDaeList:_e,daeList:wo,seYears:He,wolMonths:ht,ilDays:At,topic:M,subTopic:I,teacherMode:y,sections:s})},[e,Q,ye,le,wo,he,q,X,V,ue,Y,Hr,r,a,Fr,xo,Qo,M,I,z,B,y,s]),So=A.useMemo(()=>{if(z!=="couple"||!B)return"";const _e=B.name||"";let He="";if(B.birthDay&&B.birthDay.length===8){const mt=B.birthDay.slice(0,4),jt=B.birthDay.slice(4,6),Nt=B.birthDay.slice(6,8);He=`${mt}-${jt}-${Nt}`}else B.birthDay&&(He=B.birthDay);let ht="";if(B.birthTime&&B.birthTime.trim().length>0){const jt=B.birthTime.trim().padEnd(4,"0").slice(0,4),Nt=jt.slice(0,2),Gr=jt.slice(2,4);ht=`${Nt}:${Gr}`}let At="";B.birthPlace&&typeof B.birthPlace=="object"&&(At=B.birthPlace.name||"");const rt=B.ganji||B.ganjiText||"";return["","","[  - () ]"," ",`-  : ${_e}`,`-  : ${He}`,`-   : ${ht}`,`-   : ${At}`,`- ${rt}`,""," //,       ,","           .",""].join(`
`)},[z,B]),Eo=Q?ku:kf,Ar=A.useMemo(()=>{switch(d){case"analysis":return`     .
`;case"mentor":return`      .
`;case"dryHumor":return`   ,    .
`;case"softWarm":return`    .
`;default:return""}},[d]),Xe=m?`   ,   .
`:"",Ao=A.useMemo(()=>Eo||So?`${Eo}${So}
${Ar}${Xe}`:"",[Ar,Xe,Eo,So]),[el,ni]=A.useState(""),[Yt,kn]=A.useState([]);A.useEffect(()=>{ni(""),kn([])},[e.id]);const pi=A.useMemo(()=>{if(!Ao)return"";if(Yt.length===0)return Ao;const _e=["","-----","     ","",...Yt.map((He,ht)=>`${ht+1}. ${He}`)];return`${Ao}
${_e.join(`
`)}`},[Ao,Yt]),gi=A.useMemo(()=>`${Swe(Eo)}${So}`.trim(),[Eo,So]),[nc,rc]=A.useState(!1),[ic,qa]=A.useState(!1),es=!!(pi&&pi.trim().length>0),Ii=!!(gi&&gi.trim().length>0);async function To(){if(es)try{await navigator.clipboard.writeText(pi),rc(!0),setTimeout(()=>rc(!1),1200)}catch{rc(!1)}}async function ha(){if(Ii)try{await navigator.clipboard.writeText(gi),qa(!0),setTimeout(()=>qa(!1),1200)}catch{qa(!1)}}return e?_.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[_.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[_.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT  "}),_.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[_.jsx("button",{type:"button",onClick:ha,disabled:!Ii,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",Ii?"cursor-pointer":"cursor-not-allowed opacity-50",ic?"bg-green-600 text-white border-green-600":"bg-orange-600 text-white dark:bg-orange-600 cursor-pointer"].join(" "),children:ic?"!":" "}),_.jsx("button",{type:"button",onClick:To,disabled:!es,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",es?"cursor-pointer":"cursor-not-allowed opacity-50",nc?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:nc?"!":"  "})]})]}),_.jsxs("div",{className:"mt-3 border-t pt-2",children:[_.jsx("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  "}),_.jsxs("div",{className:"grid grid-cols-5 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:s.twelveUnseong,onChange:()=>c("twelveUnseong"),className:"w-3 h-3"}),""]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:s.twelveShinsal,onChange:()=>c("twelveShinsal"),className:"w-3 h-3"}),""]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:s.shinsal,onChange:()=>c("shinsal"),className:"w-3 h-3"})," "]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:s.nabeum,onChange:()=>c("nabeum"),className:"w-3 h-3"}),""]})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[_.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),_.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(AS).map(_e=>_.jsx("button",{onClick:()=>f(_e),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${d===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:AS[_e].label},_e))}),_.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:AS[d].desc}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"friendMode",checked:m,onChange:_e=>p(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"teacherMode",checked:y,onChange:_e=>b(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:"(/)"})]})]})]}),_.jsx("select",{value:M,onChange:_e=>{const He=_e.target.value;N(He);const ht=ML[He];ht.length>0?$(ht[0].key):$("overview"),He!=="love"&&He!=="compat"&&F("solo")},className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(CL).map(_e=>{const He=CL[_e];return _.jsx("option",{value:_e,children:He.label},_e)})}),fa.length>0&&_.jsx("select",{value:I,onChange:_e=>$(_e.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:fa.map(_e=>_.jsx("option",{value:_e.key,children:_e.label},_e.key))})]}),(M==="love"||M==="compat")&&_.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:" "}),_.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[_.jsx("button",{type:"button",onClick:()=>F("solo"),className:`px-3 py-1 cursor-pointer ${z==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),_.jsx("button",{type:"button",onClick:()=>F("couple"),className:`px-3 py-1 cursor-pointer ${z==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),z==="couple"&&_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:"  "}),_.jsxs("select",{value:D,onChange:_e=>O(_e.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:"  "}),S.filter(_e=>_e.id!==j).map(_e=>_.jsxs("option",{value:_e.id,children:[_e.name||" "," ",_e.birthDay?`(${_e.birthDay})`:""]},_e.id))]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>ee(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${Q?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),_.jsx("button",{onClick:()=>ee(!0),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${Q?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:"()"})]}),!Q&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[_.jsx("div",{className:"flex gap-1 flex-wrap",children:wwe.map(_e=>_.jsx("button",{onClick:()=>Z(_e),className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${H===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:_e},_e))}),_.jsx(_we,{date:x,onChange:T})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsx("p",{children:"     ."}),_.jsx("p",{children:"  ,  ."}),_.jsx("p",{children:"   ,   ."})]})]}),Q&&_.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[_.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(_e=>_.jsx("button",{onClick:()=>J(_e),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${ye===_e?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:_e},_e))}),ye===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),_.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:wo.map((_e,He)=>_.jsxs("button",{onClick:()=>{ae(ht=>ht.includes(He)?ht.filter(At=>At!==He):[...ht,He])},className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${le.includes(He)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[_.jsx("div",{className:"font-mono",children:_e.gz}),_.jsxs("div",{className:"text-[10px] opacity-80",children:[_e.age," (",_e.startYear,"~",_e.endYear,")"]})]},He))})]}),ye===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",value:he,onChange:_e=>Te(Number(_e.target.value)),onBlur:Le,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"number",value:q,onChange:_e=>De(Number(_e.target.value)),onBlur:Be,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",q-he+1,""]})]}),ye===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"month",value:X,onChange:_e=>ge(_e.target.value),onBlur:Ue,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"month",value:V,onChange:_e=>de(_e.target.value),onBlur:pe,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,He]=X.split("-").map(Number),[ht,At]=V.split("-").map(Number);return(ht-_e)*12+(At-He)+1})(),""]})]}),ye===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"date",value:ue,onChange:_e=>$e(_e.target.value),onBlur:ze,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"date",value:Y,onChange:_e=>Fe(_e.target.value),onBlur:ct,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,He,ht]=ue.split("-").map(Number),[At,rt,mt]=Y.split("-").map(Number),jt=new Date(_e,He-1,ht,4,0,0),Nt=new Date(At,rt-1,mt,4,0,0);return isNaN(jt.getTime())||isNaN(Nt.getTime())||Nt<jt?0:Math.floor((Nt.getTime()-jt.getTime())/Se)+1})(),""]})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsxs("p",{children:[" ",ye,"   ."]}),_.jsx("p",{children:"    ."})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),Yt.length>0&&_.jsx("button",{type:"button",onClick:()=>kn([]),className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),_.jsx("textarea",{value:el,onChange:_e=>ni(_e.target.value),placeholder:" GPT     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),_.jsxs("div",{className:"mb-4 text-center",children:[_.jsx("button",{type:"button",onClick:()=>{const _e=el.trim();_e&&(kn(He=>[...He,_e]),ni(""))},className:"w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer",children:" "}),Yt.length>0&&_.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",Yt.length,""]})]}),Yt.length>0&&_.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:Yt.map((_e,He)=>_.jsxs("li",{className:"flex gap-1 items-start",children:[_.jsxs("span",{className:"shrink-0",children:[He+1,"."]}),_.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:_e}),_.jsx("button",{type:"button",onClick:()=>{kn(ht=>ht.filter((At,rt)=>rt!==He))},className:"shrink-0 ml-2 text-[10px] text-red-500 hover:underline",children:""})]},He))})]}),_.jsx("textarea",{readOnly:!0,value:pi,placeholder:"   .",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):_.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"   ."})}function Awe(e,t){return t-e+1}function Twe(e){const t=Di(i=>i.date),n=Di(i=>i.rule),r=Vm(e);return A.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=eb(r,t),a=i>=0?r[i]?.gz??null:null,s=gt(t),c=Mt(t),d=Et(t,n);return{dae:a,se:s,wol:c,il:d}},[e,r,t,n])}function kwe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(!1);A.useEffect(()=>{setTimeout(()=>t(!0),50),setTimeout(()=>r(!0),250),setTimeout(()=>a(!0),450)},[]);const m=async()=>{if(!d){JF.error(`   
  .`);return}const{error:p}=await Ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});p&&(console.error("Google Login Error:",p),alert("   ."))};return _.jsxs("main",{className:`flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[_.jsxs("div",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-16 text-center`,children:[_.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:""}),_.jsx("p",{className:"text-sm text-neutral-400",children:"    "})]}),_.jsxs("div",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[_.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),_.jsxs("p",{className:"mb-6 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",_.jsx("br",{}),"     "]}),_.jsx("div",{className:"mb-5 space-y-2",children:_.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:()=>f(!d),className:"mt-[2px]"}),_.jsxs("span",{children:["  .",_.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),_.jsxs("button",{type:"button",onClick:m,"aria-disabled":!d,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
            ${d?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-pointer"}`,children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),_.jsx("span",{children:"  "})]})]}),_.jsx(uI,{position:"top-center",toastOptions:{duration:2e3}}),s&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:p=>p.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"( )     ,      ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsx("p",{className:"mb-2",children:"   ,  (,  )        ( ,  )"}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsx("p",{className:"mb-2",children:"                   "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsx("p",{className:"mb-2",children:"                 "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"          ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase        ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})})]})}const RL="app_session_started_at_ms",Owe=7200*1e3;function jwe(){const e=sessionStorage.getItem(RL),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(RL,String(n)),n}return t}function Nwe(e=Date.now()){const t=jwe();return Math.max(0,e-t)}function Cwe(e,t=Date.now()){return Nwe(t)>=e}async function Mwe(e,t){const{data:n,error:r}=await Ye.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function Dwe(e,t,n){const{error:r}=await Ye.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const Pwe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function $d(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map($d).join(",")}]`:Pwe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${$d(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function Rwe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function Lwe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=$d(t.select(t.store.getState()));const s=Rwe(async p=>{try{await Dwe(e,t.dbKey,p),a=$d(p)}catch(y){console.error(`[settings] save failed key=${t.dbKey}`,y)}},n),c=p=>{r=!0;try{t.apply(p),a=$d(p)}finally{r=!1}},d=p=>{t.validate&&!t.validate(p)||c(p)},f=async()=>{const p=await Mwe(e,t.dbKey);p!==null&&d(p)};i=t.store.subscribe(p=>{if(r)return;const y=t.select(p);$d(y)!==a&&s(y)});const m=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:d,stop:m}}function Iwe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function TS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function $we(e){A.useEffect(()=>{if(!e)return;const t=[];t.push(Lwe(e,{dbKey:"promptCopy.sections",store:jy,select:s=>s.sections,apply:s=>jy.setState({sections:s}),validate:Iwe,debounceMs:250})),Promise.all(t.map(s=>s.loadFromDb())).catch(s=>{console.error("[settings] initial load failed",s)});const n=[{table:"user_settings_kv",filterByUserId:!0},{table:"myeongsik",filterByUserId:!0,debounceMs:200,onChange:()=>{La.getState().loadFromServer()}}],r=new Map,i=(s,c,d)=>{const f=r.get(s);f&&window.clearTimeout(f);const m=window.setTimeout(()=>{r.delete(s),d()},c);r.set(s,m)},a=Ye.channel(`app-sync:${e}`);for(const s of n)a.on("postgres_changes",{event:"*",schema:"public",table:s.table,...s.filterByUserId?{filter:`user_id=eq.${e}`}:{}},c=>{if(Cwe(Owe)){window.location.reload();return}if(s.table==="user_settings_kv"){if(!TS(c))return;const d=c.new,f=c.old,m=T=>TS(T)&&typeof T.setting_key=="string"?T.setting_key:null,p=T=>TS(T)?T.value:null,y=m(d)??m(f);if(!y)return;const b=t.find(T=>T.dbKey===y);if(!b)return;const x=typeof c.eventType=="string"?c.eventType:"";if(x==="INSERT"||x==="UPDATE"){b.applyRemote(p(d));return}b.loadFromDb();return}if(s.onChange){const d=typeof s.debounceMs=="number"?s.debounceMs:0;d>0?i(s.table,d,()=>s.onChange?.(c)):s.onChange(c)}});return a.subscribe(),()=>{for(const s of t)s.stop();for(const[,s]of r)window.clearTimeout(s);r.clear(),Ye.removeChannel(a)}},[e])}const Bwe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function zwe(){const[e,t]=A.useState(null);A.useEffect(()=>{let y=!0;Ye.auth.getUser().then(({data:x})=>{y&&t(x.user?.id??null)});const{data:b}=Ye.auth.onAuthStateChange((x,T)=>{t(T?.user?.id??null)});return()=>{y=!1,b.subscription.unsubscribe()}},[]),$we(e);const[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s]=A.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin")),c=La(y=>y.migrateLocalToServer),d=La(y=>y.loadFromServer),f=La(y=>y.loading),m=xr(y=>y.loaded),p=xr(y=>y.loadFromServer);return A.useEffect(()=>{const y=Ye;(async()=>{const{data:T,error:S}=await y.auth.getSession();if(S){a(!1),r(!0);return}a(!!T.session),r(!0)})();const{data:{subscription:x}}=y.auth.onAuthStateChange((T,S)=>{a(!!S),r(!0)});return()=>{x.unsubscribe()}},[]),A.useEffect(()=>{i&&(async()=>(await c(),await d(),await p()))()},[i,c,d,p]),n?i?s?_.jsx(Xz,{}):m?f?_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(Uwe,{isLoggedIn:i}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(kwe,{}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})})}function Uwe({isLoggedIn:e}){const{list:t}=La(),[n,r]=A.useState(()=>t.length>0?t[0].id:""),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(null),[m,p]=A.useState(!1),[y,b]=A.useState(!1),[x,T]=A.useState(!1);A.useEffect(()=>{p(!0),b(!1)},[]);const S=A.useMemo(()=>t.find(ee=>ee.id===n)??t[0],[t,n]),j=t.length>0&&!!S&&typeof S.birthDay=="string",D=j?S:Bwe,O=A.useMemo(()=>Oy(D),[D]),M=Twe(D),N=ee=>typeof ee=="string"&&ee.length>=2,I=ee=>Array.isArray(ee)&&ee.length===4&&ee.every(N),$=()=>a(!0),{settings:B,loadFromServer:H,saveToServer:Z,loaded:z}=xr();A.useEffect(()=>{e&&H()},[e,H]),A.useEffect(()=>{!e||!z||Z()},[e,z,B,Z]);const F=B.sinsalBase===""?"day":"year",Q=B.sinsalBase===""?"day":"year";return _.jsxs("div",{className:"min-h-screen pb-16",children:[_.jsx(soe,{onOpenSidebar:()=>c(!0),onAddNew:$,onOpenCustom:()=>T(!0)}),_.jsx(Vxe,{open:x,onClose:()=>T(!1),onSave:ee=>{r(ee.id),p(!1),b(!1),c(!1)}}),_.jsx(uI,{position:"top-center"}),_.jsx(_oe,{open:s,onClose:()=>c(!1),onView:ee=>{r(ee.id),c(!1),p(!1),b(!1);const ye=new Date;ye.setHours(12,0,0,0),Di.getState().setDate(ye),j&&S.id===ee.id?(p(!1),b(!1),c(!1)):(r(ee.id),c(!1),p(!1),b(!1))},onAddNew:$,onEdit:ee=>{f(ee),r(ee.id),c(!1),p(!1),b(!1)},onDeleteView:()=>{const ee=La.getState().list[0]?.id??"";r(ee),p(!0),b(!1)}}),m&&_.jsx(rK,{}),i&&_.jsxs(_.Fragment,{children:[_.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),_.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:_.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:_.jsx(QJ,{onSave:ee=>{r(ee.id),p(!1),b(!1),c(!1),requestAnimationFrame(()=>a(!1))},onClose:()=>a(!1)})})})]}),j&&!m&&!y&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(uee,{data:S,hourTable:S.mingSikType??"/"})}),_.jsx(Bxe,{ms:S}),_.jsx("div",{children:_.jsx(Cae,{data:S})}),_.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:_.jsx(Ewe,{ms:S,natal:I(O)?O:[],chain:M,basis:{voidBasis:F,samjaeBasis:Q},includeTenGod:!0,lunarPillars:[]})})]}),y&&_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(Ixe,{people:t})}),d&&_.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:_.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:_.jsx(koe,{item:d,onClose:()=>{f(null)}})})}),_.jsx(foe,{onShowToday:()=>{p(!0),b(!1)},onShowCouple:()=>{b(!0),p(!1)}}),_.jsx($xe,{})]})}const Ny={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw"};var am={};const Hwe=()=>{const e=typeof import.meta<"u"&&typeof Ny<"u"?Ny:void 0,t=typeof process<"u"?am.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||am.NEXT_PUBLIC_IMPERSONATE_API||am.VITE_IMPERSONATE_API:void 0;return e?.VITE_IMPERSONATE_API||e?.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||e?.NEXT_PUBLIC_IMPERSONATE_API||t||null},Fwe=()=>{const e=typeof import.meta<"u"&&typeof Ny<"u"?Ny:void 0,t=typeof process<"u"?am.NEXT_PUBLIC_SUPABASE_ANON_KEY||am.VITE_SUPABASE_ANON_KEY:void 0;return e?.VITE_SUPABASE_ANON_KEY||e?.NEXT_PUBLIC_SUPABASE_ANON_KEY||t||null};function Gwe(){const[e,t]=A.useState(null),[n,r]=A.useState(null),[i,a]=A.useState(null),[s,c]=A.useState([]),[d,f]=A.useState(!1),[m,p]=A.useState(null),y=Hwe(),b=Fwe();return A.useEffect(()=>{if(typeof window<"u"){const x=window.location.hash?.startsWith("#")?window.location.hash.slice(1):window.location.hash||"",S=new URL(x||"/",window.location.origin).searchParams;t(S.get("userId")),r(S.get("myeongsikId"))}},[]),A.useEffect(()=>{if(!y){p(" API URL   . VITE_IMPERSONATE_API .env.local .");return}if(!e){p("userId .");return}const x=y.startsWith("http");(async()=>{f(!0),p(null);try{const S=new URLSearchParams({userId:e});n&&S.set("myeongsikId",n);const j=x&&b?{Authorization:`Bearer ${b}`,apikey:b}:void 0,D=await fetch(`${y}?${S.toString()}`,{cache:"no-store",headers:j});if(!D.ok){const M=await D.text();throw new Error(M||"fetch error")}const O=await D.json();a(O.profile),c(Array.isArray(O.myeongsik)?O.myeongsik:[])}catch(S){p(S instanceof Error?S.message:String(S))}finally{f(!1)}})()},[e,n,y,b]),d?_.jsx("div",{className:"p-6 text-white",children:"Loading..."}):m?_.jsxs("div",{className:"p-6 text-white",children:["Error: ",m]}):e?_.jsxs("div",{className:"p-6 text-white space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"  "}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["userId: ",e]})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:""}),i?_.jsxs("div",{className:"space-y-1 text-sm text-neutral-200",children:[_.jsxs("div",{children:[": ",i.name??"-"]}),_.jsxs("div",{children:[": ",i.nickname??"-"]}),_.jsxs("div",{children:["Email: ",i.email??"-"]}),_.jsxs("div",{children:[" : ",i.mgr_memo??"-"]}),_.jsxs("div",{children:[": ",i.disabled_at?i.disabled_at:""]})]}):_.jsx("div",{className:"text-neutral-400 text-sm",children:" ."})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h2",{className:"text-xl font-semibold",children:" "}),n&&_.jsxs("div",{className:"text-xs text-neutral-400",children:["myeongsikId: ",n]})]}),s.length===0?_.jsx("div",{className:"text-neutral-400 text-sm",children:" ."}):_.jsx("div",{className:"space-y-3",children:s.map(x=>_.jsxs("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"font-semibold",children:x.name||"(no name)"}),x.deleted_at&&_.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-700 text-white",children:"deleted"})]}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",x.birth_json?.birthDay??"-"," "," ",x.created_at?new Date(x.created_at).toLocaleString():"-"]}),x.mgr_memo&&_.jsxs("div",{className:"text-sm text-neutral-300 whitespace-pre-wrap mt-1",children:[": ",x.mgr_memo]})]},x.id))})]})]}):_.jsx("div",{className:"p-6 text-white",children:"userId ."})}$U.createRoot(document.getElementById("root")).render(_.jsx(A.StrictMode,{children:_.jsx(eF,{children:_.jsxs(CH,{children:[_.jsx(Y0,{path:"/",element:_.jsx(zwe,{})}),_.jsx(Y0,{path:"/admin",element:_.jsx(Xz,{})}),_.jsx(Y0,{path:"/impersonate",element:_.jsx(Gwe,{})})]})})}));
