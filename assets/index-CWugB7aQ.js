function r2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var gw={exports:{}},jh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function IH(){if(iC)return jh;iC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return jh.Fragment=t,jh.jsx=n,jh.jsxs=n,jh}var aC;function $H(){return aC||(aC=1,gw.exports=IH()),gw.exports}var g=$H();const n$="harim.theme",eE="harim.settings.v1";function r$(){try{const e=localStorage.getItem(n$);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(eE);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function i$(e){try{localStorage.setItem(n$,e);const t=localStorage.getItem(eE),n=t?JSON.parse(t):{};localStorage.setItem(eE,JSON.stringify({...n,theme:e}))}catch{}}function a$(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=r$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");a$(e)}catch{}})();var bw={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC;function BH(){if(oC)return rt;oC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function T(B,K,ie){this.props=B,this.context=K,this.refs=w,this.updater=ie||E}T.prototype.isReactComponent={},T.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function j(B,K,ie){this.props=B,this.context=K,this.refs=w,this.updater=ie||E}var C=j.prototype=new N;C.constructor=j,_(C,T.prototype),C.isPureReactComponent=!0;var M=Array.isArray;function P(){}var $={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function Y(B,K,ie){var J=ie.ref;return{$$typeof:e,type:B,key:K,ref:J!==void 0?J:null,props:ie}}function W(B,K){return Y(B.type,K,B.props)}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ie){return K[ie]})}var V=/\/+/g;function X(B,K){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):K.toString(36)}function Z(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,K,ie,J,oe){var de=typeof B;(de==="undefined"||de==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case h:return pe=B._init,q(pe(B._payload),K,ie,J,oe)}}if(pe)return oe=oe(B),pe=J===""?"."+X(B,0):J,M(oe)?(ie="",pe!=null&&(ie=pe.replace(V,"$&/")+"/"),q(oe,K,ie,"",function(je){return je})):oe!=null&&(H(oe)&&(oe=W(oe,ie+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+pe)),K.push(oe)),1;pe=0;var ye=J===""?".":J+":";if(M(B))for(var re=0;re<B.length;re++)J=B[re],de=ye+X(J,re),pe+=q(J,K,ie,de,oe);else if(re=x(B),typeof re=="function")for(B=re.call(B),re=0;!(J=B.next()).done;)J=J.value,de=ye+X(J,re++),pe+=q(J,K,ie,de,oe);else if(de==="object"){if(typeof B.then=="function")return q(Z(B),K,ie,J,oe);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Q(B,K,ie){if(B==null)return B;var J=[],oe=0;return q(B,J,"","",function(de){return K.call(ie,de,oe++)}),J}function ne(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(ie){(B._status===0||B._status===-1)&&(B._status=1,B._result=ie)},function(ie){(B._status===0||B._status===-1)&&(B._status=2,B._result=ie)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:Q,forEach:function(B,K,ie){Q(B,function(){K.apply(this,arguments)},ie)},count:function(B){var K=0;return Q(B,function(){K++}),K},toArray:function(B){return Q(B,function(K){return K})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return rt.Activity=p,rt.Children=se,rt.Component=T,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=j,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},rt.cache=function(B){return function(){return B.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(B,K,ie){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var J=_({},B.props),oe=B.key;if(K!=null)for(de in K.key!==void 0&&(oe=""+K.key),K)!F.call(K,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&K.ref===void 0||(J[de]=K[de]);var de=arguments.length-2;if(de===1)J.children=ie;else if(1<de){for(var pe=Array(de),ye=0;ye<de;ye++)pe[ye]=arguments[ye+2];J.children=pe}return Y(B.type,oe,J)},rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},rt.createElement=function(B,K,ie){var J,oe={},de=null;if(K!=null)for(J in K.key!==void 0&&(de=""+K.key),K)F.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=K[J]);var pe=arguments.length-2;if(pe===1)oe.children=ie;else if(1<pe){for(var ye=Array(pe),re=0;re<pe;re++)ye[re]=arguments[re+2];oe.children=ye}if(B&&B.defaultProps)for(J in pe=B.defaultProps,pe)oe[J]===void 0&&(oe[J]=pe[J]);return Y(B,de,oe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:l,render:B}},rt.isValidElement=H,rt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:ne}},rt.memo=function(B,K){return{$$typeof:d,type:B,compare:K===void 0?null:K}},rt.startTransition=function(B){var K=$.T,ie={};$.T=ie;try{var J=B(),oe=$.S;oe!==null&&oe(ie,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(P,ue)}catch(de){ue(de)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),$.T=K}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(B){return $.H.use(B)},rt.useActionState=function(B,K,ie){return $.H.useActionState(B,K,ie)},rt.useCallback=function(B,K){return $.H.useCallback(B,K)},rt.useContext=function(B){return $.H.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B,K){return $.H.useDeferredValue(B,K)},rt.useEffect=function(B,K){return $.H.useEffect(B,K)},rt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(B,K,ie){return $.H.useImperativeHandle(B,K,ie)},rt.useInsertionEffect=function(B,K){return $.H.useInsertionEffect(B,K)},rt.useLayoutEffect=function(B,K){return $.H.useLayoutEffect(B,K)},rt.useMemo=function(B,K){return $.H.useMemo(B,K)},rt.useOptimistic=function(B,K){return $.H.useOptimistic(B,K)},rt.useReducer=function(B,K,ie){return $.H.useReducer(B,K,ie)},rt.useRef=function(B){return $.H.useRef(B)},rt.useState=function(B){return $.H.useState(B)},rt.useSyncExternalStore=function(B,K,ie){return $.H.useSyncExternalStore(B,K,ie)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.2.1",rt}var sC;function af(){return sC||(sC=1,bw.exports=BH()),bw.exports}var S=af();const Wt=hi(S),zH=r2({__proto__:null,default:Wt},[S]);var yw={exports:{}},Oh={},vw={exports:{}},xw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function UH(){return lC||(lC=1,(function(e){function t(q,Q){var ne=q.length;q.push(Q);e:for(;0<ne;){var ue=ne-1>>>1,se=q[ue];if(0<i(se,Q))q[ue]=Q,q[ne]=se,ne=ue;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],ne=q.pop();if(ne!==Q){q[0]=ne;e:for(var ue=0,se=q.length,B=se>>>1;ue<B;){var K=2*(ue+1)-1,ie=q[K],J=K+1,oe=q[J];if(0>i(ie,ne))J<se&&0>i(oe,ie)?(q[ue]=oe,q[J]=ne,ue=J):(q[ue]=ie,q[K]=ne,ue=K);else if(J<se&&0>i(oe,ne))q[ue]=oe,q[J]=ne,ue=J;else break e}}return Q}function i(q,Q){var ne=q.sortIndex-Q.sortIndex;return ne!==0?ne:q.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,b=3,x=!1,E=!1,_=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=q)r(d),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=n(d)}}function M(q){if(_=!1,C(q),!E)if(n(u)!==null)E=!0,P||(P=!0,z());else{var Q=n(d);Q!==null&&Z(M,Q.startTime-q)}}var P=!1,$=-1,F=5,Y=-1;function W(){return w?!0:!(e.unstable_now()-Y<F)}function H(){if(w=!1,P){var q=e.unstable_now();Y=q;var Q=!0;try{e:{E=!1,_&&(_=!1,N($),$=-1),x=!0;var ne=b;try{t:{for(C(q),p=n(u);p!==null&&!(p.expirationTime>q&&W());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,b=p.priorityLevel;var se=ue(p.expirationTime<=q);if(q=e.unstable_now(),typeof se=="function"){p.callback=se,C(q),Q=!0;break t}p===n(u)&&r(u),C(q)}else r(u);p=n(u)}if(p!==null)Q=!0;else{var B=n(d);B!==null&&Z(M,B.startTime-q),Q=!1}}break e}finally{p=null,b=ne,x=!1}Q=void 0}}finally{Q?z():P=!1}}}var z;if(typeof j=="function")z=function(){j(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=H,z=function(){X.postMessage(null)}}else z=function(){T(H,0)};function Z(q,Q){$=T(function(){q(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ne=b;b=Q;try{return q()}finally{b=ne}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=b;b=q;try{return Q()}finally{b=ne}},e.unstable_scheduleCallback=function(q,Q,ne){var ue=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ue+ne:ue):ne=ue,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ne+se,q={id:h++,callback:Q,priorityLevel:q,startTime:ne,expirationTime:se,sortIndex:-1},ne>ue?(q.sortIndex=ne,t(d,q),n(u)===null&&q===n(d)&&(_?(N($),$=-1):_=!0,Z(M,ne-ue))):(q.sortIndex=se,t(u,q),E||x||(E=!0,P||(P=!0,z()))),q},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(q){var Q=b;return function(){var ne=b;b=Q;try{return q.apply(this,arguments)}finally{b=ne}}}})(xw)),xw}var cC;function FH(){return cC||(cC=1,vw.exports=UH()),vw.exports}var _w={exports:{}},Tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function HH(){if(uC)return Tr;uC=1;var e=af();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tr.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},Tr.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},Tr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Tr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Tr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Tr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Tr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Tr.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Tr.requestFormReset=function(u){r.d.r(u)},Tr.unstable_batchedUpdates=function(u,d){return u(d)},Tr.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},Tr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Tr.version="19.2.1",Tr}var dC;function o$(){if(dC)return _w.exports;dC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_w.exports=HH(),_w.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function GH(){if(fC)return Oh;fC=1;var e=FH(),t=af(),n=o$();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,v=c;;){var A=m.return;if(A===null)break;var O=A.alternate;if(O===null){if(v=A.return,v!==null){m=v;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===m)return u(A),s;if(O===v)return u(A),c;O=O.sibling}throw Error(r(188))}if(m.return!==v.return)m=A,v=O;else{for(var I=!1,G=A.child;G;){if(G===m){I=!0,m=A,v=O;break}if(G===v){I=!0,v=A,m=O;break}G=G.sibling}if(!I){for(G=O.child;G;){if(G===m){I=!0,m=O,v=A;break}if(G===v){I=!0,v=O,m=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case j:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return c=s.displayName||null,c!==null?c:X(s.type)||"Memo";case F:c=s._payload,s=s._init;try{return X(s(c))}catch{}}return null}var Z=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function K(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ie(s,c){se++,ue[se]=s.current,s.current=c}var J=B(null),oe=B(null),de=B(null),pe=B(null);function ye(s,c){switch(ie(de,c),ie(oe,s),ie(J,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?TN(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=TN(c),s=jN(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(J),ie(J,s)}function re(){K(J),K(oe),K(de)}function je(s){s.memoizedState!==null&&ie(pe,s);var c=J.current,m=jN(c,s.type);c!==m&&(ie(oe,s),ie(J,m))}function Ne(s){oe.current===s&&(K(J),K(oe)),pe.current===s&&(K(pe),Eh._currentValue=ne)}var ve,Ze;function Ce(s){if(ve===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);ve=c&&c[1]||"",Ze=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+Ze}var _e=!1;function Oe(s,c){if(!s||_e)return"";_e=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var be=xe}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(xe){be=xe}s.call(Te.prototype)}}else{try{throw Error()}catch(xe){be=xe}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&be&&typeof xe.stack=="string")return[xe.stack,be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=v.DetermineComponentFrameRoot(),I=O[0],G=O[1];if(I&&G){var te=I.split(`
`),me=G.split(`
`);for(A=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;A<me.length&&!me[A].includes("DetermineComponentFrameRoot");)A++;if(v===te.length||A===me.length)for(v=te.length-1,A=me.length-1;1<=v&&0<=A&&te[v]!==me[A];)A--;for(;1<=v&&0<=A;v--,A--)if(te[v]!==me[A]){if(v!==1||A!==1)do if(v--,A--,0>A||te[v]!==me[A]){var Ee=`
`+te[v].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=v&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ce(m):""}function Ie(s,c){switch(s.tag){case 26:case 27:case 5:return Ce(s.type);case 16:return Ce("Lazy");case 13:return s.child!==c&&c!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return Oe(s.type,!1);case 11:return Oe(s.type.render,!1);case 1:return Oe(s.type,!0);case 31:return Ce("Activity");default:return""}}function Ve(s){try{var c="",m=null;do c+=Ie(s,m),m=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var yt=Object.prototype.hasOwnProperty,xt=e.unstable_scheduleCallback,Dt=e.unstable_cancelCallback,he=e.unstable_shouldYield,De=e.unstable_requestPaint,Be=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,bi=e.unstable_IdlePriority,Ls=e.log,Is=e.unstable_setDisableYieldValue,qt=null,mn=null;function yi(s){if(typeof Ls=="function"&&Is(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(qt,s)}catch{}}var Dr=Math.clz32?Math.clz32:wx,Hl=Math.log,_x=Math.LN2;function wx(s){return s>>>=0,s===0?32:31-(Hl(s)/_x|0)|0}var Gl=256,ql=262144,Yl=4194304;function Po(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _u(s,c,m){var v=s.pendingLanes;if(v===0)return 0;var A=0,O=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=v&134217727;return G!==0?(v=G&~O,v!==0?A=Po(v):(I&=G,I!==0?A=Po(I):m||(m=G&~s,m!==0&&(A=Po(m))))):(G=v&~O,G!==0?A=Po(G):I!==0?A=Po(I):m||(m=v&~s,m!==0&&(A=Po(m)))),A===0?0:c!==0&&c!==A&&(c&O)===0&&(O=A&-A,m=c&-c,O>=m||O===32&&(m&4194048)!==0)?c:A}function Kl(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Sx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(){var s=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),s}function Af(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Ro(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ex(s,c,m,v,A,O){var I=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,me=s.hiddenUpdates;for(m=I&~m;0<m;){var Ee=31-Dr(m),Te=1<<Ee;G[Ee]=0,te[Ee]=-1;var be=me[Ee];if(be!==null)for(me[Ee]=null,Ee=0;Ee<be.length;Ee++){var xe=be[Ee];xe!==null&&(xe.lane&=-536870913)}m&=~Te}v!==0&&Lp(s,v,0),O!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=O&~(I&~c))}function Lp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-Dr(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|m&261930}function Ip(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var v=31-Dr(m),A=1<<v;A&c|s[v]&c&&(s[v]|=c),m&=~A}}function $p(s,c){var m=c&-c;return m=(m&42)!==0?1:Yr(m),(m&(s.suspendedLanes|c))!==0?0:m}function Yr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Tf(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:XN(s.type))}function jf(s,c){var m=Q.p;try{return Q.p=s,c()}finally{Q.p=m}}var _a=Math.random().toString(36).slice(2),On="__reactFiber$"+_a,Qn="__reactProps$"+_a,Lo="__reactContainer$"+_a,Wa="__reactEvents$"+_a,Bp="__reactListeners$"+_a,kx="__reactHandles$"+_a,zp="__reactResources$"+_a,Wl="__reactMarker$"+_a;function Of(s){delete s[On],delete s[Qn],delete s[Wa],delete s[Bp],delete s[kx]}function Io(s){var c=s[On];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Lo]||m[On]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=RN(s);s!==null;){if(m=s[On])return m;s=RN(s)}return c}s=m,m=s.parentNode}return null}function $s(s){if(s=s[On]||s[Lo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Va(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Bs(s){var c=s[zp];return c||(c=s[zp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Nn(s){s[Wl]=!0}var Up=new Set,Fp={};function $o(s,c){Za(s,c),Za(s+"Capture",c)}function Za(s,c){for(Fp[s]=c,s=0;s<c.length;s++)Up.add(c[s])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nf={},Cf={};function Zl(s){return yt.call(Cf,s)?!0:yt.call(Nf,s)?!1:Vl.test(s)?Cf[s]=!0:(Nf[s]=!0,!1)}function ct(s,c,m){if(Zl(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function It(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function Kr(s,c,m,v){if(v===null)s.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+v)}}function Un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Mf(s,c,m){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,O=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,O.call(this,I)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function nt(s){if(!s._valueTracker){var c=Bo(s)?"checked":"value";s._valueTracker=Mf(s,c,""+s[c])}}function en(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return s&&(v=Bo(s)?s.checked?"true":"false":s.value),s=v,s!==m?(c.setValue(s),!0):!1}function zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wu=/[\n"\\]/g;function Zt(s){return s.replace(wu,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Df(s,c,m,v,A,O,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),c!=null?I==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Un(c)):s.value!==""+Un(c)&&(s.value=""+Un(c)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),c!=null?wa(s,I,Un(c)):m!=null?wa(s,I,Un(m)):v!=null&&s.removeAttribute("value"),A==null&&O!=null&&(s.defaultChecked=!!O),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Un(G):s.removeAttribute("name")}function Xl(s,c,m,v,A,O,I,G){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),c!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||c!=null)){nt(s);return}m=m!=null?""+Un(m):"",c=c!=null?""+Un(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=G?s.checked:!!v,s.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),nt(s)}function wa(s,c,m){c==="number"&&zs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Ut(s,c,m,v){if(s=s.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=c.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&v&&(s[m].defaultSelected=!0)}else{for(m=""+Un(m),c=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,v&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function Xa(s,c,m){if(c!=null&&(c=""+Un(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Un(m):""}function Us(s,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(r(92));if(Z(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Un(c),s.defaultValue=m,v=s.textContent,v===m&&v!==""&&v!==null&&(s.value=v),nt(s)}function Yi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(s,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,m):typeof m!="number"||m===0||Pf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function Su(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&m[A]!==v&&Fs(s,A,v)}else for(var O in c)c.hasOwnProperty(O)&&Fs(s,O,c[O])}function Jl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(s){return Rf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Wr(){}var ku=null;function Ql(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,tt=null;function vi(s){var c=$s(s);if(c&&(s=c.stateNode)){var m=s[Qn]||null;e:switch(s=c.stateNode,c.type){case"input":if(Df(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Zt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==s&&v.form===s.form){var A=v[Qn]||null;if(!A)throw Error(r(90));Df(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===s.form&&en(v)}break e;case"textarea":Xa(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Ut(s,!!m.multiple,c,!1)}}}var Nt=!1;function Lf(s,c,m){if(Nt)return s(c,m);Nt=!0;try{var v=s(c);return v}finally{if(Nt=!1,(Gs!==null||tt!==null)&&($g(),Gs&&(c=Gs,s=tt,tt=Gs=null,vi(c),s)))for(c=0;c<s.length;c++)vi(s[c])}}function zo(s,c){var m=s.stateNode;if(m===null)return null;var v=m[Qn]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(xi)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){ec=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{ec=!1}var Ki=null,Uo=null,pn=null;function Ja(){if(pn)return pn;var s,c=Uo,m=c.length,v,A="value"in Ki?Ki.value:Ki.textContent,O=A.length;for(s=0;s<m&&c[s]===A[s];s++);var I=m-s;for(v=1;v<=I&&c[m-v]===A[O-v];v++);return pn=A.slice(s,1<v?1-v:void 0)}function tc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function nc(){return!0}function Hp(){return!1}function fr(s){function c(m,v,A,O,I){this._reactName=m,this._targetInst=A,this.type=v,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(O):O[G]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?nc:Hp,this.isPropagationStopped=Hp,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),c}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=fr(Sa),qs=p({},Sa,{view:0,detail:0}),mt=fr(qs),If,Pr,Ea,rc=p({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ea&&(Ea&&s.type==="mousemove"?(If=s.screenX-Ea.screenX,Pr=s.screenY-Ea.screenY):Pr=If=0,Ea=s),If)},movementY:function(s){return"movementY"in s?s.movementY:Pr}}),Gp=fr(rc),$f=p({},rc,{dataTransfer:0}),Ax=fr($f),qp=p({},qs,{relatedTarget:0}),Bf=fr(qp),Tx=p({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=fr(Tx),jx=p({},Sa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wi=fr(jx),Ox=p({},Sa,{data:0}),Uf=fr(Ox),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ff(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Kp[s])?!!c[s]:!1}function Hf(){return Ff}var Wp=p({},qs,{key:function(s){if(s.key){var c=Qa[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=tc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(s){return s.type==="keypress"?tc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?tc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vp=fr(Wp),Nx=p({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=fr(Nx),Gf=p({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),Cx=fr(Gf),Xp=p({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=fr(Xp),Tu=p({},rc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fo=fr(Tu),Mx=p({},Sa,{newState:0,oldState:0}),ic=fr(Mx),Vr=[9,13,27,32],ju=xi&&"CompositionEvent"in window,Ys=null;xi&&"documentMode"in document&&(Ys=document.documentMode);var Dx=xi&&"TextEvent"in window&&!Ys,Ou=xi&&(!ju||Ys&&8<Ys&&11>=Ys),Nu=" ",Qp=!1;function eg(s,c){switch(s){case"keyup":return Vr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ks=!1;function wi(s,c){switch(s){case"compositionend":return qf(c);case"keypress":return c.which!==32?null:(Qp=!0,Nu);case"textInput":return s=c.data,s===Nu&&Qp?null:s;default:return null}}function Ws(s,c){if(Ks)return s==="compositionend"||!ju&&eg(s,c)?(s=Ja(),pn=Uo=Ki=null,Ks=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ou&&c.locale!=="ko"?null:c.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Px[s.type]:c==="textarea"}function tg(s,c,m,v){Gs?tt?tt.push(v):tt=[v]:Gs=v,c=qg(c,"onChange"),0<c.length&&(m=new Au("onChange","change",null,m,v),s.push({event:m,listeners:c}))}var Zi=null,ac=null;function oc(s){_N(s,0)}function sc(s){var c=Va(s);if(en(c))return s}function lc(s,c){if(s==="change")return c}var ng=!1;if(xi){var Xi;if(xi){var Vs="oninput"in document;if(!Vs){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),Vs=typeof rg.oninput=="function"}Xi=Vs}else Xi=!1;ng=Xi&&(!document.documentMode||9<document.documentMode)}function Cu(){Zi&&(Zi.detachEvent("onpropertychange",ig),ac=Zi=null)}function ig(s){if(s.propertyName==="value"&&sc(ac)){var c=[];tg(c,ac,s,Ql(s)),Lf(oc,c)}}function ka(s,c,m){s==="focusin"?(Cu(),Zi=c,ac=m,Zi.attachEvent("onpropertychange",ig)):s==="focusout"&&Cu()}function Rx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sc(ac)}function Zs(s,c){if(s==="click")return sc(c)}function Lx(s,c){if(s==="input"||s==="change")return sc(c)}function Aa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var er=typeof Object.is=="function"?Object.is:Aa;function Xs(s,c){if(er(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var A=m[v];if(!yt.call(c,A)||!er(s[A],c[A]))return!1}return!0}function Mu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cc(s,c){var m=Mu(s);s=0;for(var v;m;){if(m.nodeType===3){if(v=s+m.textContent.length,s<=c&&v>=c)return{node:m,offset:c-s};s=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Mu(m)}}function Du(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Du(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function uc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=zs(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=zs(s.document)}return c}function eo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Pu=xi&&"documentMode"in document&&11>=document.documentMode,to=null,Ru=null,dc=null,Js=!1;function ag(s,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Js||to==null||to!==zs(v)||(v=to,"selectionStart"in v&&eo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),dc&&Xs(dc,v)||(dc=v,v=qg(Ru,"onSelect"),0<v.length&&(c=new Au("onSelect","select",null,c,m),s.push({event:c,listeners:v}),c.target=to)))}function no(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var Qs={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},Lu={},og={};xi&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function tr(s){if(Lu[s])return Lu[s];if(!Qs[s])return s;var c=Qs[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in og)return Lu[s]=c[m];return s}var fc=tr("animationend"),sg=tr("animationiteration"),hc=tr("animationstart"),Ix=tr("transitionrun"),lg=tr("transitionstart"),$x=tr("transitioncancel"),el=tr("transitionend"),cg=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function Zr(s,c){cg.set(s,c),$o(c,[s])}var mc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Xr=[],kr=0,Iu=0;function pc(){for(var s=kr,c=Iu=kr=0;c<s;){var m=Xr[c];Xr[c++]=null;var v=Xr[c];Xr[c++]=null;var A=Xr[c];Xr[c++]=null;var O=Xr[c];if(Xr[c++]=null,v!==null&&A!==null){var I=v.pending;I===null?A.next=A:(A.next=I.next,I.next=A),v.pending=A}O!==0&&tl(m,A,O)}}function io(s,c,m,v){Xr[kr++]=s,Xr[kr++]=c,Xr[kr++]=m,Xr[kr++]=v,Iu|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function Yf(s,c,m,v){return io(s,c,m,v),gc(s)}function Ji(s,c){return io(s,null,null,c),gc(s)}function tl(s,c,m){s.lanes|=m;var v=s.alternate;v!==null&&(v.lanes|=m);for(var A=!1,O=s.return;O!==null;)O.childLanes|=m,v=O.alternate,v!==null&&(v.childLanes|=m),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(A=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,A&&c!==null&&(A=31-Dr(m),s=O.hiddenUpdates,v=s[A],v===null?s[A]=[c]:v.push(c),c.lane=m|536870912),O):null}function gc(s){if(50<bh)throw bh=0,z_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Ho={};function Bx(s,c,m,v){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,c,m,v){return new Bx(s,c,m,v)}function $u(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,c){var m=s.alternate;return m===null?(m=Ar(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function Kf(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function bc(s,c,m,v,A,O){var I=0;if(v=s,typeof s=="function")$u(s)&&(I=1);else if(typeof s=="string")I=kH(s,m,J.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=Ar(31,m,c,A),s.elementType=Y,s.lanes=O,s;case _:return Go(m.children,A,O,c);case w:I=8,A|=24;break;case T:return s=Ar(12,m,c,A|2),s.elementType=T,s.lanes=O,s;case M:return s=Ar(13,m,c,A),s.elementType=M,s.lanes=O,s;case P:return s=Ar(19,m,c,A),s.elementType=P,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:I=10;break e;case N:I=9;break e;case C:I=11;break e;case $:I=14;break e;case F:I=16,v=null;break e}I=29,m=Error(r(130,s===null?"null":typeof s,"")),v=null}return c=Ar(I,m,c,A),c.elementType=s,c.type=v,c.lanes=O,c}function Go(s,c,m,v){return s=Ar(7,s,v,c),s.lanes=m,s}function Bu(s,c,m){return s=Ar(6,s,null,c),s.lanes=m,s}function Wf(s){var c=Ar(18,null,null,0);return c.stateNode=s,c}function Vf(s,c,m){return c=Ar(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function y(s,c){if(typeof s=="object"&&s!==null){var m=f.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Ve(c)},f.set(s,c),c)}return{value:s,source:c,stack:Ve(c)}}var k=[],D=0,R=null,U=0,ee=[],ce=0,ge=null,Ae=1,Le="";function qe(s,c){k[D++]=U,k[D++]=R,R=s,U=c}function ot(s,c,m){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=ge,ge=s;var v=Ae;s=Le;var A=32-Dr(v)-1;v&=~(1<<A),m+=1;var O=32-Dr(c)+A;if(30<O){var I=A-A%5;O=(v&(1<<I)-1).toString(32),v>>=I,A-=I,Ae=1<<32-Dr(c)+A|m<<A|v,Le=O+s}else Ae=1<<O|m<<A|v,Le=s}function Fn(s){s.return!==null&&(qe(s,1),ot(s,1,0))}function gn(s){for(;s===R;)R=k[--D],k[D]=null,U=k[--D],k[D]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Le=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Rr(s,c){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=ge,Ae=c.id,Le=c.overflow,ge=s}var wt=null,St=null,ut=!1,ao=null,Jr=!1,zu=Error(r(519));function oo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yc(y(c,s)),zu}function Zf(s){var c=s.stateNode,m=s.type,v=s.memoizedProps;switch(c[On]=s,c[Qn]=v,m){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(m=0;m<vh.length;m++)ft(vh[m],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":ft("invalid",c),Xl(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":ft("invalid",c);break;case"textarea":ft("invalid",c),Us(c,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||kN(c.textContent,m)?(v.popover!=null&&(ft("beforetoggle",c),ft("toggle",c)),v.onScroll!=null&&ft("scroll",c),v.onScrollEnd!=null&&ft("scrollend",c),v.onClick!=null&&(c.onclick=Wr),c=!0):c=!1,c||oo(s,!0)}function un(s){for(wt=s.return;wt;)switch(wt.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:wt=wt.return}}function Ta(s){if(s!==wt)return!1;if(!ut)return un(s),ut=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||tw(s.type,s.memoizedProps)),m=!m),m&&St&&oo(s),un(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));St=PN(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));St=PN(s)}else c===27?(c=St,pl(s.type)?(s=ow,ow=null,St=s):St=c):St=wt?ta(s.stateNode.nextSibling):null;return!0}function qo(){St=wt=null,ut=!1}function Xf(){var s=ao;return s!==null&&(ni===null?ni=s:ni.push.apply(ni,s),ao=null),s}function yc(s){ao===null?ao=[s]:ao.push(s)}var vc=B(null),so=null,ja=null;function nl(s,c,m){ie(vc,c._currentValue),c._currentValue=m}function Yo(s){s._currentValue=vc.current,K(vc)}function zx(s,c,m){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===m)break;s=s.return}}function Ux(s,c,m,v){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var O=A.dependencies;if(O!==null){var I=A.child;O=O.firstContext;e:for(;O!==null;){var G=O;O=A;for(var te=0;te<c.length;te++)if(G.context===c[te]){O.lanes|=m,G=O.alternate,G!==null&&(G.lanes|=m),zx(O.return,m,s),v||(I=null);break e}O=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,O=I.alternate,O!==null&&(O.lanes|=m),zx(I,m,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Uu(s,c,m,v){s=null;for(var A=c,O=!1;A!==null;){if(!O){if((A.flags&524288)!==0)O=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;er(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===pe.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Eh):s=[Eh])}A=A.return}s!==null&&Ux(c,s,m,v),c.flags|=262144}function ug(s){for(s=s.firstContext;s!==null;){if(!er(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xc(s){so=s,ja=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hr(s){return uj(so,s)}function dg(s,c){return so===null&&xc(s),uj(s,c)}function uj(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},ja===null){if(s===null)throw Error(r(308));ja=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ja=ja.next=c;return m}var _F=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},wF=e.unstable_scheduleCallback,SF=e.unstable_NormalPriority,Cn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fx(){return{controller:new _F,data:new Map,refCount:0}}function Jf(s){s.refCount--,s.refCount===0&&wF(SF,function(){s.controller.abort()})}var Qf=null,Hx=0,Fu=0,Hu=null;function EF(s,c){if(Qf===null){var m=Qf=[];Hx=0,Fu=Y_(),Hu={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Hx++,c.then(dj,dj),c}function dj(){if(--Hx===0&&Qf!==null){Hu!==null&&(Hu.status="fulfilled");var s=Qf;Qf=null,Fu=0,Hu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function kF(s,c){var m=[],v={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),v}var fj=q.S;q.S=function(s,c){VO=Be(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&EF(s,c),fj!==null&&fj(s,c)};var _c=B(null);function Gx(){var s=_c.current;return s!==null?s:Ft.pooledCache}function fg(s,c){c===null?ie(_c,_c.current):ie(_c,c.pool)}function hj(){var s=Gx();return s===null?null:{parent:Cn._currentValue,pool:s}}var Gu=Error(r(460)),qx=Error(r(474)),hg=Error(r(542)),mg={then:function(){}};function mj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pj(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(Wr,Wr),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,bj(s),s;default:if(typeof c.status=="string")c.then(Wr,Wr);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,bj(s),s}throw Sc=c,Gu}}function wc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Sc=m,Gu):m}}var Sc=null;function gj(){if(Sc===null)throw Error(r(459));var s=Sc;return Sc=null,s}function bj(s){if(s===Gu||s===hg)throw Error(r(483))}var qu=null,eh=0;function pg(s){var c=eh;return eh+=1,qu===null&&(qu=[]),pj(qu,s,c)}function th(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function gg(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function yj(s){function c(le,ae){if(s){var fe=le.deletions;fe===null?(le.deletions=[ae],le.flags|=16):fe.push(ae)}}function m(le,ae){if(!s)return null;for(;ae!==null;)c(le,ae),ae=ae.sibling;return null}function v(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function A(le,ae){return le=Qi(le,ae),le.index=0,le.sibling=null,le}function O(le,ae,fe){return le.index=fe,s?(fe=le.alternate,fe!==null?(fe=fe.index,fe<ae?(le.flags|=67108866,ae):fe):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ae,fe,ke){return ae===null||ae.tag!==6?(ae=Bu(fe,le.mode,ke),ae.return=le,ae):(ae=A(ae,fe),ae.return=le,ae)}function te(le,ae,fe,ke){var Xe=fe.type;return Xe===_?Ee(le,ae,fe.props.children,ke,fe.key):ae!==null&&(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===F&&wc(Xe)===ae.type)?(ae=A(ae,fe.props),th(ae,fe),ae.return=le,ae):(ae=bc(fe.type,fe.key,fe.props,null,le.mode,ke),th(ae,fe),ae.return=le,ae)}function me(le,ae,fe,ke){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==fe.containerInfo||ae.stateNode.implementation!==fe.implementation?(ae=Vf(fe,le.mode,ke),ae.return=le,ae):(ae=A(ae,fe.children||[]),ae.return=le,ae)}function Ee(le,ae,fe,ke,Xe){return ae===null||ae.tag!==7?(ae=Go(fe,le.mode,ke,Xe),ae.return=le,ae):(ae=A(ae,fe),ae.return=le,ae)}function Te(le,ae,fe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Bu(""+ae,le.mode,fe),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return fe=bc(ae.type,ae.key,ae.props,null,le.mode,fe),th(fe,ae),fe.return=le,fe;case E:return ae=Vf(ae,le.mode,fe),ae.return=le,ae;case F:return ae=wc(ae),Te(le,ae,fe)}if(Z(ae)||z(ae))return ae=Go(ae,le.mode,fe,null),ae.return=le,ae;if(typeof ae.then=="function")return Te(le,pg(ae),fe);if(ae.$$typeof===j)return Te(le,dg(le,ae),fe);gg(le,ae)}return null}function be(le,ae,fe,ke){var Xe=ae!==null?ae.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Xe!==null?null:G(le,ae,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return fe.key===Xe?te(le,ae,fe,ke):null;case E:return fe.key===Xe?me(le,ae,fe,ke):null;case F:return fe=wc(fe),be(le,ae,fe,ke)}if(Z(fe)||z(fe))return Xe!==null?null:Ee(le,ae,fe,ke,null);if(typeof fe.then=="function")return be(le,ae,pg(fe),ke);if(fe.$$typeof===j)return be(le,ae,dg(le,fe),ke);gg(le,fe)}return null}function xe(le,ae,fe,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(fe)||null,G(ae,le,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return le=le.get(ke.key===null?fe:ke.key)||null,te(ae,le,ke,Xe);case E:return le=le.get(ke.key===null?fe:ke.key)||null,me(ae,le,ke,Xe);case F:return ke=wc(ke),xe(le,ae,fe,ke,Xe)}if(Z(ke)||z(ke))return le=le.get(fe)||null,Ee(ae,le,ke,Xe,null);if(typeof ke.then=="function")return xe(le,ae,fe,pg(ke),Xe);if(ke.$$typeof===j)return xe(le,ae,fe,dg(ae,ke),Xe);gg(ae,ke)}return null}function ze(le,ae,fe,ke){for(var Xe=null,Et=null,Fe=ae,st=ae=0,gt=null;Fe!==null&&st<fe.length;st++){Fe.index>st?(gt=Fe,Fe=null):gt=Fe.sibling;var kt=be(le,Fe,fe[st],ke);if(kt===null){Fe===null&&(Fe=gt);break}s&&Fe&&kt.alternate===null&&c(le,Fe),ae=O(kt,ae,st),Et===null?Xe=kt:Et.sibling=kt,Et=kt,Fe=gt}if(st===fe.length)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;st<fe.length;st++)Fe=Te(le,fe[st],ke),Fe!==null&&(ae=O(Fe,ae,st),Et===null?Xe=Fe:Et.sibling=Fe,Et=Fe);return ut&&qe(le,st),Xe}for(Fe=v(Fe);st<fe.length;st++)gt=xe(Fe,le,st,fe[st],ke),gt!==null&&(s&&gt.alternate!==null&&Fe.delete(gt.key===null?st:gt.key),ae=O(gt,ae,st),Et===null?Xe=gt:Et.sibling=gt,Et=gt);return s&&Fe.forEach(function(xl){return c(le,xl)}),ut&&qe(le,st),Xe}function Qe(le,ae,fe,ke){if(fe==null)throw Error(r(151));for(var Xe=null,Et=null,Fe=ae,st=ae=0,gt=null,kt=fe.next();Fe!==null&&!kt.done;st++,kt=fe.next()){Fe.index>st?(gt=Fe,Fe=null):gt=Fe.sibling;var xl=be(le,Fe,kt.value,ke);if(xl===null){Fe===null&&(Fe=gt);break}s&&Fe&&xl.alternate===null&&c(le,Fe),ae=O(xl,ae,st),Et===null?Xe=xl:Et.sibling=xl,Et=xl,Fe=gt}if(kt.done)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;!kt.done;st++,kt=fe.next())kt=Te(le,kt.value,ke),kt!==null&&(ae=O(kt,ae,st),Et===null?Xe=kt:Et.sibling=kt,Et=kt);return ut&&qe(le,st),Xe}for(Fe=v(Fe);!kt.done;st++,kt=fe.next())kt=xe(Fe,le,st,kt.value,ke),kt!==null&&(s&&kt.alternate!==null&&Fe.delete(kt.key===null?st:kt.key),ae=O(kt,ae,st),Et===null?Xe=kt:Et.sibling=kt,Et=kt);return s&&Fe.forEach(function(LH){return c(le,LH)}),ut&&qe(le,st),Xe}function zt(le,ae,fe,ke){if(typeof fe=="object"&&fe!==null&&fe.type===_&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:e:{for(var Xe=fe.key;ae!==null;){if(ae.key===Xe){if(Xe=fe.type,Xe===_){if(ae.tag===7){m(le,ae.sibling),ke=A(ae,fe.props.children),ke.return=le,le=ke;break e}}else if(ae.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===F&&wc(Xe)===ae.type){m(le,ae.sibling),ke=A(ae,fe.props),th(ke,fe),ke.return=le,le=ke;break e}m(le,ae);break}else c(le,ae);ae=ae.sibling}fe.type===_?(ke=Go(fe.props.children,le.mode,ke,fe.key),ke.return=le,le=ke):(ke=bc(fe.type,fe.key,fe.props,null,le.mode,ke),th(ke,fe),ke.return=le,le=ke)}return I(le);case E:e:{for(Xe=fe.key;ae!==null;){if(ae.key===Xe)if(ae.tag===4&&ae.stateNode.containerInfo===fe.containerInfo&&ae.stateNode.implementation===fe.implementation){m(le,ae.sibling),ke=A(ae,fe.children||[]),ke.return=le,le=ke;break e}else{m(le,ae);break}else c(le,ae);ae=ae.sibling}ke=Vf(fe,le.mode,ke),ke.return=le,le=ke}return I(le);case F:return fe=wc(fe),zt(le,ae,fe,ke)}if(Z(fe))return ze(le,ae,fe,ke);if(z(fe)){if(Xe=z(fe),typeof Xe!="function")throw Error(r(150));return fe=Xe.call(fe),Qe(le,ae,fe,ke)}if(typeof fe.then=="function")return zt(le,ae,pg(fe),ke);if(fe.$$typeof===j)return zt(le,ae,dg(le,fe),ke);gg(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ae!==null&&ae.tag===6?(m(le,ae.sibling),ke=A(ae,fe),ke.return=le,le=ke):(m(le,ae),ke=Bu(fe,le.mode,ke),ke.return=le,le=ke),I(le)):m(le,ae)}return function(le,ae,fe,ke){try{eh=0;var Xe=zt(le,ae,fe,ke);return qu=null,Xe}catch(Fe){if(Fe===Gu||Fe===hg)throw Fe;var Et=Ar(29,Fe,null,le.mode);return Et.lanes=ke,Et.return=le,Et}finally{}}}var Ec=yj(!0),vj=yj(!1),rl=!1;function Yx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kx(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function il(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function al(s,c,m){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Tt&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=gc(s),tl(s,null,m),c}return io(s,v,c,m),gc(s)}function nh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Ip(s,m)}}function Wx(s,c){var m=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var A=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?A=O=I:O=O.next=I,m=m.next}while(m!==null);O===null?A=O=c:O=O.next=c}else A=O=c;m={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:v.shared,callbacks:v.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Vx=!1;function rh(){if(Vx){var s=Hu;if(s!==null)throw s}}function ih(s,c,m,v){Vx=!1;var A=s.updateQueue;rl=!1;var O=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,me=te.next;te.next=null,I===null?O=me:I.next=me,I=te;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,G=Ee.lastBaseUpdate,G!==I&&(G===null?Ee.firstBaseUpdate=me:G.next=me,Ee.lastBaseUpdate=te))}if(O!==null){var Te=A.baseState;I=0,Ee=me=te=null,G=O;do{var be=G.lane&-536870913,xe=be!==G.lane;if(xe?(pt&be)===be:(v&be)===be){be!==0&&be===Fu&&(Vx=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,Qe=G;be=c;var zt=m;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){Te=ze.call(zt,Te,be);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,be=typeof ze=="function"?ze.call(zt,Te,be):ze,be==null)break e;Te=p({},Te,be);break e;case 2:rl=!0}}be=G.callback,be!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=A.callbacks,xe===null?A.callbacks=[be]:xe.push(be))}else xe={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ee===null?(me=Ee=xe,te=Te):Ee=Ee.next=xe,I|=be;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;xe=G,G=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);Ee===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=me,A.lastBaseUpdate=Ee,O===null&&(A.shared.lanes=0),ul|=I,s.lanes=I,s.memoizedState=Te}}function xj(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function _j(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)xj(m[s],c)}var Yu=B(null),bg=B(0);function wj(s,c){s=ts,ie(bg,s),ie(Yu,c),ts=s|c.baseLanes}function Zx(){ie(bg,ts),ie(Yu,Yu.current)}function Xx(){ts=bg.current,K(Yu),K(bg)}var Si=B(null),ea=null;function ol(s){var c=s.alternate;ie(Sn,Sn.current&1),ie(Si,s),ea===null&&(c===null||Yu.current!==null||c.memoizedState!==null)&&(ea=s)}function Jx(s){ie(Sn,Sn.current),ie(Si,s),ea===null&&(ea=s)}function Sj(s){s.tag===22?(ie(Sn,Sn.current),ie(Si,s),ea===null&&(ea=s)):sl()}function sl(){ie(Sn,Sn.current),ie(Si,Si.current)}function Ei(s){K(Si),ea===s&&(ea=null),K(Sn)}var Sn=B(0);function yg(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||iw(m)||aw(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ko=0,at=null,$t=null,Mn=null,vg=!1,Ku=!1,kc=!1,xg=0,ah=0,Wu=null,AF=0;function bn(){throw Error(r(321))}function Qx(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!er(s[m],c[m]))return!1;return!0}function e_(s,c,m,v,A,O){return Ko=O,at=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,q.H=s===null||s.memoizedState===null?oO:p_,kc=!1,O=m(v,A),kc=!1,Ku&&(O=kj(c,m,v,A)),Ej(s),O}function Ej(s){q.H=lh;var c=$t!==null&&$t.next!==null;if(Ko=0,Mn=$t=at=null,vg=!1,ah=0,Wu=null,c)throw Error(r(300));s===null||Dn||(s=s.dependencies,s!==null&&ug(s)&&(Dn=!0))}function kj(s,c,m,v){at=s;var A=0;do{if(Ku&&(Wu=null),ah=0,Ku=!1,25<=A)throw Error(r(301));if(A+=1,Mn=$t=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}q.H=sO,O=c(m,v)}while(Ku);return O}function TF(){var s=q.H,c=s.useState()[0];return c=typeof c.then=="function"?oh(c):c,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(at.flags|=1024),c}function t_(){var s=xg!==0;return xg=0,s}function n_(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function r_(s){if(vg){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}vg=!1}Ko=0,Mn=$t=at=null,Ku=!1,ah=xg=0,Wu=null}function Lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?at.memoizedState=Mn=s:Mn=Mn.next=s,Mn}function En(){if($t===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var c=Mn===null?at.memoizedState:Mn.next;if(c!==null)Mn=c,$t=s;else{if(s===null)throw at.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Mn===null?at.memoizedState=Mn=s:Mn=Mn.next=s}return Mn}function _g(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oh(s){var c=ah;return ah+=1,Wu===null&&(Wu=[]),s=pj(Wu,s,c),c=at,(Mn===null?c.memoizedState:Mn.next)===null&&(c=c.alternate,q.H=c===null||c.memoizedState===null?oO:p_),s}function wg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return oh(s);if(s.$$typeof===j)return hr(s)}throw Error(r(438,String(s)))}function i_(s){var c=null,m=at.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=at.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=_g(),at.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),v=0;v<s;v++)m[v]=W;return c.index++,m}function Wo(s,c){return typeof c=="function"?c(s):c}function Sg(s){var c=En();return a_(c,$t,s)}function a_(s,c,m){var v=s.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=m;var A=s.baseQueue,O=v.pending;if(O!==null){if(A!==null){var I=A.next;A.next=O.next,O.next=I}c.baseQueue=A=O,v.pending=null}if(O=s.baseState,A===null)s.memoizedState=O;else{c=A.next;var G=I=null,te=null,me=c,Ee=!1;do{var Te=me.lane&-536870913;if(Te!==me.lane?(pt&Te)===Te:(Ko&Te)===Te){var be=me.revertLane;if(be===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Te===Fu&&(Ee=!0);else if((Ko&be)===be){me=me.next,be===Fu&&(Ee=!0);continue}else Te={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=Te,I=O):te=te.next=Te,at.lanes|=be,ul|=be;Te=me.action,kc&&m(O,Te),O=me.hasEagerState?me.eagerState:m(O,Te)}else be={lane:Te,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=be,I=O):te=te.next=be,at.lanes|=Te,ul|=Te;me=me.next}while(me!==null&&me!==c);if(te===null?I=O:te.next=G,!er(O,s.memoizedState)&&(Dn=!0,Ee&&(m=Hu,m!==null)))throw m;s.memoizedState=O,s.baseState=I,s.baseQueue=te,v.lastRenderedState=O}return A===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function o_(s){var c=En(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var v=m.dispatch,A=m.pending,O=c.memoizedState;if(A!==null){m.pending=null;var I=A=A.next;do O=s(O,I.action),I=I.next;while(I!==A);er(O,c.memoizedState)||(Dn=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),m.lastRenderedState=O}return[O,v]}function Aj(s,c,m){var v=at,A=En(),O=ut;if(O){if(m===void 0)throw Error(r(407));m=m()}else m=c();var I=!er(($t||A).memoizedState,m);if(I&&(A.memoizedState=m,Dn=!0),A=A.queue,c_(Oj.bind(null,v,A,s),[s]),A.getSnapshot!==c||I||Mn!==null&&Mn.memoizedState.tag&1){if(v.flags|=2048,Vu(9,{destroy:void 0},jj.bind(null,v,A,m,c),null),Ft===null)throw Error(r(349));O||(Ko&127)!==0||Tj(v,c,m)}return m}function Tj(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=at.updateQueue,c===null?(c=_g(),at.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function jj(s,c,m,v){c.value=m,c.getSnapshot=v,Nj(c)&&Cj(s)}function Oj(s,c,m){return m(function(){Nj(c)&&Cj(s)})}function Nj(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!er(s,m)}catch{return!0}}function Cj(s){var c=Ji(s,2);c!==null&&ri(c,s,2)}function s_(s){var c=Lr();if(typeof s=="function"){var m=s;if(s=m(),kc){yi(!0);try{m()}finally{yi(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:s},c}function Mj(s,c,m,v){return s.baseState=m,a_(s,$t,typeof v=="function"?v:Wo)}function jF(s,c,m,v,A){if(Ag(s))throw Error(r(485));if(s=c.action,s!==null){var O={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){O.listeners.push(I)}};q.T!==null?m(!0):O.isTransition=!1,v(O),m=c.pending,m===null?(O.next=c.pending=O,Dj(c,O)):(O.next=m.next,c.pending=m.next=O)}}function Dj(s,c){var m=c.action,v=c.payload,A=s.state;if(c.isTransition){var O=q.T,I={};q.T=I;try{var G=m(A,v),te=q.S;te!==null&&te(I,G),Pj(s,c,G)}catch(me){l_(s,c,me)}finally{O!==null&&I.types!==null&&(O.types=I.types),q.T=O}}else try{O=m(A,v),Pj(s,c,O)}catch(me){l_(s,c,me)}}function Pj(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){Rj(s,c,v)},function(v){return l_(s,c,v)}):Rj(s,c,m)}function Rj(s,c,m){c.status="fulfilled",c.value=m,Lj(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,Dj(s,m)))}function l_(s,c,m){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,Lj(c),c=c.next;while(c!==v)}s.action=null}function Lj(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function Ij(s,c){return c}function $j(s,c){if(ut){var m=Ft.formState;if(m!==null){e:{var v=at;if(ut){if(St){t:{for(var A=St,O=Jr;A.nodeType!==8;){if(!O){A=null;break t}if(A=ta(A.nextSibling),A===null){A=null;break t}}O=A.data,A=O==="F!"||O==="F"?A:null}if(A){St=ta(A.nextSibling),v=A.data==="F!";break e}}oo(v)}v=!1}v&&(c=m[0])}}return m=Lr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ij,lastRenderedState:c},m.queue=v,m=rO.bind(null,at,v),v.dispatch=m,v=s_(!1),O=m_.bind(null,at,!1,v.queue),v=Lr(),A={state:c,dispatch:null,action:s,pending:null},v.queue=A,m=jF.bind(null,at,A,O,m),A.dispatch=m,v.memoizedState=s,[c,m,!1]}function Bj(s){var c=En();return zj(c,$t,s)}function zj(s,c,m){if(c=a_(s,c,Ij)[0],s=Sg(Wo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=oh(c)}catch(I){throw I===Gu?hg:I}else v=c;c=En();var A=c.queue,O=A.dispatch;return m!==c.memoizedState&&(at.flags|=2048,Vu(9,{destroy:void 0},OF.bind(null,A,m),null)),[v,O,s]}function OF(s,c){s.action=c}function Uj(s){var c=En(),m=$t;if(m!==null)return zj(c,m,s);En(),c=c.memoizedState,m=En();var v=m.queue.dispatch;return m.memoizedState=s,[c,v,!1]}function Vu(s,c,m,v){return s={tag:s,create:m,deps:v,inst:c,next:null},c=at.updateQueue,c===null&&(c=_g(),at.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(v=m.next,m.next=s,s.next=v,c.lastEffect=s),s}function Fj(){return En().memoizedState}function Eg(s,c,m,v){var A=Lr();at.flags|=s,A.memoizedState=Vu(1|c,{destroy:void 0},m,v===void 0?null:v)}function kg(s,c,m,v){var A=En();v=v===void 0?null:v;var O=A.memoizedState.inst;$t!==null&&v!==null&&Qx(v,$t.memoizedState.deps)?A.memoizedState=Vu(c,O,m,v):(at.flags|=s,A.memoizedState=Vu(1|c,O,m,v))}function Hj(s,c){Eg(8390656,8,s,c)}function c_(s,c){kg(2048,8,s,c)}function NF(s){at.flags|=4;var c=at.updateQueue;if(c===null)c=_g(),at.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function Gj(s){var c=En().memoizedState;return NF({ref:c,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function qj(s,c){return kg(4,2,s,c)}function Yj(s,c){return kg(4,4,s,c)}function Kj(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Wj(s,c,m){m=m!=null?m.concat([s]):null,kg(4,4,Kj.bind(null,c,s),m)}function u_(){}function Vj(s,c){var m=En();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&Qx(c,v[1])?v[0]:(m.memoizedState=[s,c],s)}function Zj(s,c){var m=En();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&Qx(c,v[1]))return v[0];if(v=s(),kc){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[v,c],v}function d_(s,c,m){return m===void 0||(Ko&1073741824)!==0&&(pt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=XO(),at.lanes|=s,ul|=s,m)}function Xj(s,c,m,v){return er(m,c)?m:Yu.current!==null?(s=d_(s,m,v),er(s,c)||(Dn=!0),s):(Ko&42)===0||(Ko&1073741824)!==0&&(pt&261930)===0?(Dn=!0,s.memoizedState=m):(s=XO(),at.lanes|=s,ul|=s,c)}function Jj(s,c,m,v,A){var O=Q.p;Q.p=O!==0&&8>O?O:8;var I=q.T,G={};q.T=G,m_(s,!1,c,m);try{var te=A(),me=q.S;if(me!==null&&me(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ee=kF(te,v);sh(s,c,Ee,Ti(s))}else sh(s,c,v,Ti(s))}catch(Te){sh(s,c,{then:function(){},status:"rejected",reason:Te},Ti())}finally{Q.p=O,I!==null&&G.types!==null&&(I.types=G.types),q.T=I}}function CF(){}function f_(s,c,m,v){if(s.tag!==5)throw Error(r(476));var A=Qj(s).queue;Jj(s,A,c,ne,m===null?CF:function(){return eO(s),m(v)})}function Qj(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:ne},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function eO(s){var c=Qj(s);c.next===null&&(c=s.alternate.memoizedState),sh(s,c.next.queue,{},Ti())}function h_(){return hr(Eh)}function tO(){return En().memoizedState}function nO(){return En().memoizedState}function MF(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ti();s=il(m);var v=al(c,s,m);v!==null&&(ri(v,c,m),nh(v,c,m)),c={cache:Fx()},s.payload=c;return}c=c.return}}function DF(s,c,m){var v=Ti();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ag(s)?iO(c,m):(m=Yf(s,c,m,v),m!==null&&(ri(m,s,v),aO(m,c,v)))}function rO(s,c,m){var v=Ti();sh(s,c,m,v)}function sh(s,c,m,v){var A={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ag(s))iO(c,A);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var I=c.lastRenderedState,G=O(I,m);if(A.hasEagerState=!0,A.eagerState=G,er(G,I))return io(s,c,A,0),Ft===null&&pc(),!1}catch{}finally{}if(m=Yf(s,c,A,v),m!==null)return ri(m,s,v),aO(m,c,v),!0}return!1}function m_(s,c,m,v){if(v={lane:2,revertLane:Y_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Ag(s)){if(c)throw Error(r(479))}else c=Yf(s,m,v,2),c!==null&&ri(c,s,2)}function Ag(s){var c=s.alternate;return s===at||c!==null&&c===at}function iO(s,c){Ku=vg=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function aO(s,c,m){if((m&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Ip(s,m)}}var lh={readContext:hr,use:wg,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn};lh.useEffectEvent=bn;var oO={readContext:hr,use:wg,useCallback:function(s,c){return Lr().memoizedState=[s,c===void 0?null:c],s},useContext:hr,useEffect:Hj,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,Eg(4194308,4,Kj.bind(null,c,s),m)},useLayoutEffect:function(s,c){return Eg(4194308,4,s,c)},useInsertionEffect:function(s,c){Eg(4,2,s,c)},useMemo:function(s,c){var m=Lr();c=c===void 0?null:c;var v=s();if(kc){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[v,c],v},useReducer:function(s,c,m){var v=Lr();if(m!==void 0){var A=m(c);if(kc){yi(!0);try{m(c)}finally{yi(!1)}}}else A=c;return v.memoizedState=v.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},v.queue=s,s=s.dispatch=DF.bind(null,at,s),[v.memoizedState,s]},useRef:function(s){var c=Lr();return s={current:s},c.memoizedState=s},useState:function(s){s=s_(s);var c=s.queue,m=rO.bind(null,at,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:u_,useDeferredValue:function(s,c){var m=Lr();return d_(m,s,c)},useTransition:function(){var s=s_(!1);return s=Jj.bind(null,at,s.queue,!0,!1),Lr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var v=at,A=Lr();if(ut){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Ft===null)throw Error(r(349));(pt&127)!==0||Tj(v,c,m)}A.memoizedState=m;var O={value:m,getSnapshot:c};return A.queue=O,Hj(Oj.bind(null,v,O,s),[s]),v.flags|=2048,Vu(9,{destroy:void 0},jj.bind(null,v,O,m,c),null),m},useId:function(){var s=Lr(),c=Ft.identifierPrefix;if(ut){var m=Le,v=Ae;m=(v&~(1<<32-Dr(v)-1)).toString(32)+m,c="_"+c+"R_"+m,m=xg++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=AF++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:h_,useFormState:$j,useActionState:$j,useOptimistic:function(s){var c=Lr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=m_.bind(null,at,!0,m),m.dispatch=c,[s,c]},useMemoCache:i_,useCacheRefresh:function(){return Lr().memoizedState=MF.bind(null,at)},useEffectEvent:function(s){var c=Lr(),m={impl:s};return c.memoizedState=m,function(){if((Tt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},p_={readContext:hr,use:wg,useCallback:Vj,useContext:hr,useEffect:c_,useImperativeHandle:Wj,useInsertionEffect:qj,useLayoutEffect:Yj,useMemo:Zj,useReducer:Sg,useRef:Fj,useState:function(){return Sg(Wo)},useDebugValue:u_,useDeferredValue:function(s,c){var m=En();return Xj(m,$t.memoizedState,s,c)},useTransition:function(){var s=Sg(Wo)[0],c=En().memoizedState;return[typeof s=="boolean"?s:oh(s),c]},useSyncExternalStore:Aj,useId:tO,useHostTransitionStatus:h_,useFormState:Bj,useActionState:Bj,useOptimistic:function(s,c){var m=En();return Mj(m,$t,s,c)},useMemoCache:i_,useCacheRefresh:nO};p_.useEffectEvent=Gj;var sO={readContext:hr,use:wg,useCallback:Vj,useContext:hr,useEffect:c_,useImperativeHandle:Wj,useInsertionEffect:qj,useLayoutEffect:Yj,useMemo:Zj,useReducer:o_,useRef:Fj,useState:function(){return o_(Wo)},useDebugValue:u_,useDeferredValue:function(s,c){var m=En();return $t===null?d_(m,s,c):Xj(m,$t.memoizedState,s,c)},useTransition:function(){var s=o_(Wo)[0],c=En().memoizedState;return[typeof s=="boolean"?s:oh(s),c]},useSyncExternalStore:Aj,useId:tO,useHostTransitionStatus:h_,useFormState:Uj,useActionState:Uj,useOptimistic:function(s,c){var m=En();return $t!==null?Mj(m,$t,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:i_,useCacheRefresh:nO};sO.useEffectEvent=Gj;function g_(s,c,m,v){c=s.memoizedState,m=m(v,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var b_={enqueueSetState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=il(v);A.payload=c,m!=null&&(A.callback=m),c=al(s,A,v),c!==null&&(ri(c,s,v),nh(c,s,v))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=il(v);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=al(s,A,v),c!==null&&(ri(c,s,v),nh(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Ti(),v=il(m);v.tag=2,c!=null&&(v.callback=c),c=al(s,v,m),c!==null&&(ri(c,s,m),nh(c,s,m))}};function lO(s,c,m,v,A,O,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,O,I):c.prototype&&c.prototype.isPureReactComponent?!Xs(m,v)||!Xs(A,O):!0}function cO(s,c,m,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==s&&b_.enqueueReplaceState(c,c.state,null)}function Ac(s,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var A in s)m[A]===void 0&&(m[A]=s[A])}return m}function uO(s){mc(s)}function dO(s){console.error(s)}function fO(s){mc(s)}function Tg(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function hO(s,c,m){try{var v=s.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function y_(s,c,m){return m=il(m),m.tag=3,m.payload={element:null},m.callback=function(){Tg(s,c)},m}function mO(s){return s=il(s),s.tag=3,s}function pO(s,c,m,v){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var O=v.value;s.payload=function(){return A(O)},s.callback=function(){hO(c,m,v)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){hO(c,m,v),typeof A!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var G=v.stack;this.componentDidCatch(v.value,{componentStack:G!==null?G:""})})}function PF(s,c,m,v,A){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&Uu(c,m,A,!0),m=Si.current,m!==null){switch(m.tag){case 31:case 13:return ea===null?Bg():m.alternate===null&&yn===0&&(yn=3),m.flags&=-257,m.flags|=65536,m.lanes=A,v===mg?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),H_(s,v,A)),!1;case 22:return m.flags|=65536,v===mg?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),H_(s,v,A)),!1}throw Error(r(435,m.tag))}return H_(s,v,A),Bg(),!1}if(ut)return c=Si.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==zu&&(s=Error(r(422),{cause:v}),yc(y(s,m)))):(v!==zu&&(c=Error(r(423),{cause:v}),yc(y(c,m))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,v=y(v,m),A=y_(s.stateNode,v,A),Wx(s,A),yn!==4&&(yn=2)),!1;var O=Error(r(520),{cause:v});if(O=y(O,m),gh===null?gh=[O]:gh.push(O),yn!==4&&(yn=2),c===null)return!0;v=y(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=A&-A,m.lanes|=s,s=y_(m.stateNode,v,s),Wx(m,s),!1;case 1:if(c=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(dl===null||!dl.has(O))))return m.flags|=65536,A&=-A,m.lanes|=A,A=mO(A),pO(A,s,m,v),Wx(m,A),!1}m=m.return}while(m!==null);return!1}var v_=Error(r(461)),Dn=!1;function mr(s,c,m,v){c.child=s===null?vj(c,null,m,v):Ec(c,s.child,m,v)}function gO(s,c,m,v,A){m=m.render;var O=c.ref;if("ref"in v){var I={};for(var G in v)G!=="ref"&&(I[G]=v[G])}else I=v;return xc(c),v=e_(s,c,m,I,O,A),G=t_(),s!==null&&!Dn?(n_(s,c,A),Vo(s,c,A)):(ut&&G&&Fn(c),c.flags|=1,mr(s,c,v,A),c.child)}function bO(s,c,m,v,A){if(s===null){var O=m.type;return typeof O=="function"&&!$u(O)&&O.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=O,yO(s,c,O,v,A)):(s=bc(m.type,null,v,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(O=s.child,!T_(s,A)){var I=O.memoizedProps;if(m=m.compare,m=m!==null?m:Xs,m(I,v)&&s.ref===c.ref)return Vo(s,c,A)}return c.flags|=1,s=Qi(O,v),s.ref=c.ref,s.return=c,c.child=s}function yO(s,c,m,v,A){if(s!==null){var O=s.memoizedProps;if(Xs(O,v)&&s.ref===c.ref)if(Dn=!1,c.pendingProps=v=O,T_(s,A))(s.flags&131072)!==0&&(Dn=!0);else return c.lanes=s.lanes,Vo(s,c,A)}return x_(s,c,m,v,A)}function vO(s,c,m,v){var A=v.children,O=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(O=O!==null?O.baseLanes|m:m,s!==null){for(v=c.child=s.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~O}else v=0,c.child=null;return xO(s,c,O,m,v)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&fg(c,O!==null?O.cachePool:null),O!==null?wj(c,O):Zx(),Sj(c);else return v=c.lanes=536870912,xO(s,c,O!==null?O.baseLanes|m:m,m,v)}else O!==null?(fg(c,O.cachePool),wj(c,O),sl(),c.memoizedState=null):(s!==null&&fg(c,null),Zx(),sl());return mr(s,c,A,m),c.child}function ch(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function xO(s,c,m,v,A){var O=Gx();return O=O===null?null:{parent:Cn._currentValue,pool:O},c.memoizedState={baseLanes:m,cachePool:O},s!==null&&fg(c,null),Zx(),Sj(c),s!==null&&Uu(s,c,v,!0),c.childLanes=A,null}function jg(s,c){return c=Ng({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function _O(s,c,m){return Ec(c,s.child,null,m),s=jg(c,c.pendingProps),s.flags|=2,Ei(c),c.memoizedState=null,s}function RF(s,c,m){var v=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(ut){if(v.mode==="hidden")return s=jg(c,v),c.lanes=536870912,ch(null,s);if(Jx(c),(s=St)?(s=DN(s,Jr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Wf(s),m.return=c,c.child=m,wt=c,St=null)):s=null,s===null)throw oo(c);return c.lanes=536870912,null}return jg(c,v)}var O=s.memoizedState;if(O!==null){var I=O.dehydrated;if(Jx(c),A)if(c.flags&256)c.flags&=-257,c=_O(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Dn||Uu(s,c,m,!1),A=(m&s.childLanes)!==0,Dn||A){if(v=Ft,v!==null&&(I=$p(v,m),I!==0&&I!==O.retryLane))throw O.retryLane=I,Ji(s,I),ri(v,s,I),v_;Bg(),c=_O(s,c,m)}else s=O.treeContext,St=ta(I.nextSibling),wt=c,ut=!0,ao=null,Jr=!1,s!==null&&Rr(c,s),c=jg(c,v),c.flags|=4096;return c}return s=Qi(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Og(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function x_(s,c,m,v,A){return xc(c),m=e_(s,c,m,v,void 0,A),v=t_(),s!==null&&!Dn?(n_(s,c,A),Vo(s,c,A)):(ut&&v&&Fn(c),c.flags|=1,mr(s,c,m,A),c.child)}function wO(s,c,m,v,A,O){return xc(c),c.updateQueue=null,m=kj(c,v,m,A),Ej(s),v=t_(),s!==null&&!Dn?(n_(s,c,O),Vo(s,c,O)):(ut&&v&&Fn(c),c.flags|=1,mr(s,c,m,O),c.child)}function SO(s,c,m,v,A){if(xc(c),c.stateNode===null){var O=Ho,I=m.contextType;typeof I=="object"&&I!==null&&(O=hr(I)),O=new m(v,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=b_,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=v,O.state=c.memoizedState,O.refs={},Yx(c),I=m.contextType,O.context=typeof I=="object"&&I!==null?hr(I):Ho,O.state=c.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(g_(c,m,I,v),O.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(I=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),I!==O.state&&b_.enqueueReplaceState(O,O.state,null),ih(c,v,O,A),rh(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){O=c.stateNode;var G=c.memoizedProps,te=Ac(m,G);O.props=te;var me=O.context,Ee=m.contextType;I=Ho,typeof Ee=="object"&&Ee!==null&&(I=hr(Ee));var Te=m.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof O.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,Ee||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G||me!==I)&&cO(c,O,v,I),rl=!1;var be=c.memoizedState;O.state=be,ih(c,v,O,A),rh(),me=c.memoizedState,G||be!==me||rl?(typeof Te=="function"&&(g_(c,m,Te,v),me=c.memoizedState),(te=rl||lO(c,m,te,v,be,me,I))?(Ee||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=me),O.props=v,O.state=me,O.context=I,v=te):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{O=c.stateNode,Kx(s,c),I=c.memoizedProps,Ee=Ac(m,I),O.props=Ee,Te=c.pendingProps,be=O.context,me=m.contextType,te=Ho,typeof me=="object"&&me!==null&&(te=hr(me)),G=m.getDerivedStateFromProps,(me=typeof G=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(I!==Te||be!==te)&&cO(c,O,v,te),rl=!1,be=c.memoizedState,O.state=be,ih(c,v,O,A),rh();var xe=c.memoizedState;I!==Te||be!==xe||rl||s!==null&&s.dependencies!==null&&ug(s.dependencies)?(typeof G=="function"&&(g_(c,m,G,v),xe=c.memoizedState),(Ee=rl||lO(c,m,Ee,v,be,xe,te)||s!==null&&s.dependencies!==null&&ug(s.dependencies))?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,xe,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,xe,te)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=xe),O.props=v,O.state=xe,O.context=te,v=Ee):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),v=!1)}return O=v,Og(s,c),v=(c.flags&128)!==0,O||v?(O=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,s!==null&&v?(c.child=Ec(c,s.child,null,A),c.child=Ec(c,null,m,A)):mr(s,c,m,A),c.memoizedState=O.state,s=c.child):s=Vo(s,c,A),s}function EO(s,c,m,v){return qo(),c.flags|=256,mr(s,c,m,v),c.child}var __={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function w_(s){return{baseLanes:s,cachePool:hj()}}function S_(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Ai),s}function kO(s,c,m){var v=c.pendingProps,A=!1,O=(c.flags&128)!==0,I;if((I=O)||(I=s!==null&&s.memoizedState===null?!1:(Sn.current&2)!==0),I&&(A=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,s===null){if(ut){if(A?ol(c):sl(),(s=St)?(s=DN(s,Jr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Wf(s),m.return=c,c.child=m,wt=c,St=null)):s=null,s===null)throw oo(c);return aw(s)?c.lanes=32:c.lanes=536870912,null}var G=v.children;return v=v.fallback,A?(sl(),A=c.mode,G=Ng({mode:"hidden",children:G},A),v=Go(v,A,m,null),G.return=c,v.return=c,G.sibling=v,c.child=G,v=c.child,v.memoizedState=w_(m),v.childLanes=S_(s,I,m),c.memoizedState=__,ch(null,v)):(ol(c),E_(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(O)c.flags&256?(ol(c),c.flags&=-257,c=k_(s,c,m)):c.memoizedState!==null?(sl(),c.child=s.child,c.flags|=128,c=null):(sl(),G=v.fallback,A=c.mode,v=Ng({mode:"visible",children:v.children},A),G=Go(G,A,m,null),G.flags|=2,v.return=c,G.return=c,v.sibling=G,c.child=v,Ec(c,s.child,null,m),v=c.child,v.memoizedState=w_(m),v.childLanes=S_(s,I,m),c.memoizedState=__,c=ch(null,v));else if(ol(c),aw(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var me=I.dgst;I=me,v=Error(r(419)),v.stack="",v.digest=I,yc({value:v,source:null,stack:null}),c=k_(s,c,m)}else if(Dn||Uu(s,c,m,!1),I=(m&s.childLanes)!==0,Dn||I){if(I=Ft,I!==null&&(v=$p(I,m),v!==0&&v!==te.retryLane))throw te.retryLane=v,Ji(s,v),ri(I,s,v),v_;iw(G)||Bg(),c=k_(s,c,m)}else iw(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,St=ta(G.nextSibling),wt=c,ut=!0,ao=null,Jr=!1,s!==null&&Rr(c,s),c=E_(c,v.children),c.flags|=4096);return c}return A?(sl(),G=v.fallback,A=c.mode,te=s.child,me=te.sibling,v=Qi(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&65011712,me!==null?G=Qi(me,G):(G=Go(G,A,m,null),G.flags|=2),G.return=c,v.return=c,v.sibling=G,c.child=v,ch(null,v),v=c.child,G=s.child.memoizedState,G===null?G=w_(m):(A=G.cachePool,A!==null?(te=Cn._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=hj(),G={baseLanes:G.baseLanes|m,cachePool:A}),v.memoizedState=G,v.childLanes=S_(s,I,m),c.memoizedState=__,ch(s.child,v)):(ol(c),m=s.child,s=m.sibling,m=Qi(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,s!==null&&(I=c.deletions,I===null?(c.deletions=[s],c.flags|=16):I.push(s)),c.child=m,c.memoizedState=null,m)}function E_(s,c){return c=Ng({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Ng(s,c){return s=Ar(22,s,null,c),s.lanes=0,s}function k_(s,c,m){return Ec(c,s.child,null,m),s=E_(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function AO(s,c,m){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),zx(s.return,c,m)}function A_(s,c,m,v,A,O){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:A,treeForkCount:O}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=m,I.tailMode=A,I.treeForkCount=O)}function TO(s,c,m){var v=c.pendingProps,A=v.revealOrder,O=v.tail;v=v.children;var I=Sn.current,G=(I&2)!==0;if(G?(I=I&1|2,c.flags|=128):I&=1,ie(Sn,I),mr(s,c,v,m),v=ut?U:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&AO(s,m,c);else if(s.tag===19)AO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(m=c.child,A=null;m!==null;)s=m.alternate,s!==null&&yg(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),A_(c,!1,A,m,O,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&yg(s)===null){c.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}A_(c,!0,m,null,O,v);break;case"together":A_(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Vo(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),ul|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Uu(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=Qi(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=Qi(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function T_(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&ug(s)))}function LF(s,c,m){switch(c.tag){case 3:ye(c,c.stateNode.containerInfo),nl(c,Cn,s.memoizedState.cache),qo();break;case 27:case 5:je(c);break;case 4:ye(c,c.stateNode.containerInfo);break;case 10:nl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Jx(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(ol(c),c.flags|=128,null):(m&c.child.childLanes)!==0?kO(s,c,m):(ol(c),s=Vo(s,c,m),s!==null?s.sibling:null);ol(c);break;case 19:var A=(s.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(Uu(s,c,m,!1),v=(m&c.childLanes)!==0),A){if(v)return TO(s,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ie(Sn,Sn.current),v)break;return null;case 22:return c.lanes=0,vO(s,c,m,c.pendingProps);case 24:nl(c,Cn,s.memoizedState.cache)}return Vo(s,c,m)}function jO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Dn=!0;else{if(!T_(s,m)&&(c.flags&128)===0)return Dn=!1,LF(s,c,m);Dn=(s.flags&131072)!==0}else Dn=!1,ut&&(c.flags&1048576)!==0&&ot(c,U,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=wc(c.elementType),c.type=s,typeof s=="function")$u(s)?(v=Ac(s,v),c.tag=1,c=SO(null,c,s,v,m)):(c.tag=0,c=x_(null,c,s,v,m));else{if(s!=null){var A=s.$$typeof;if(A===C){c.tag=11,c=gO(null,c,s,v,m);break e}else if(A===$){c.tag=14,c=bO(null,c,s,v,m);break e}}throw c=X(s)||s,Error(r(306,c,""))}}return c;case 0:return x_(s,c,c.type,c.pendingProps,m);case 1:return v=c.type,A=Ac(v,c.pendingProps),SO(s,c,v,A,m);case 3:e:{if(ye(c,c.stateNode.containerInfo),s===null)throw Error(r(387));v=c.pendingProps;var O=c.memoizedState;A=O.element,Kx(s,c),ih(c,v,null,m);var I=c.memoizedState;if(v=I.cache,nl(c,Cn,v),v!==O.cache&&Ux(c,[Cn],m,!0),rh(),v=I.element,O.isDehydrated)if(O={element:v,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=EO(s,c,v,m);break e}else if(v!==A){A=y(Error(r(424)),c),yc(A),c=EO(s,c,v,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(St=ta(s.firstChild),wt=c,ut=!0,ao=null,Jr=!0,m=vj(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(qo(),v===A){c=Vo(s,c,m);break e}mr(s,c,v,m)}c=c.child}return c;case 26:return Og(s,c),s===null?(m=BN(c.type,null,c.pendingProps,null))?c.memoizedState=m:ut||(m=c.type,s=c.pendingProps,v=Yg(de.current).createElement(m),v[On]=c,v[Qn]=s,pr(v,m,s),Nn(v),c.stateNode=v):c.memoizedState=BN(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return je(c),s===null&&ut&&(v=c.stateNode=LN(c.type,c.pendingProps,de.current),wt=c,Jr=!0,A=St,pl(c.type)?(ow=A,St=ta(v.firstChild)):St=A),mr(s,c,c.pendingProps.children,m),Og(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ut&&((A=v=St)&&(v=fH(v,c.type,c.pendingProps,Jr),v!==null?(c.stateNode=v,wt=c,St=ta(v.firstChild),Jr=!1,A=!0):A=!1),A||oo(c)),je(c),A=c.type,O=c.pendingProps,I=s!==null?s.memoizedProps:null,v=O.children,tw(A,O)?v=null:I!==null&&tw(A,I)&&(c.flags|=32),c.memoizedState!==null&&(A=e_(s,c,TF,null,null,m),Eh._currentValue=A),Og(s,c),mr(s,c,v,m),c.child;case 6:return s===null&&ut&&((s=m=St)&&(m=hH(m,c.pendingProps,Jr),m!==null?(c.stateNode=m,wt=c,St=null,s=!0):s=!1),s||oo(c)),null;case 13:return kO(s,c,m);case 4:return ye(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=Ec(c,null,v,m):mr(s,c,v,m),c.child;case 11:return gO(s,c,c.type,c.pendingProps,m);case 7:return mr(s,c,c.pendingProps,m),c.child;case 8:return mr(s,c,c.pendingProps.children,m),c.child;case 12:return mr(s,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,nl(c,c.type,v.value),mr(s,c,v.children,m),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,xc(c),A=hr(A),v=v(A),c.flags|=1,mr(s,c,v,m),c.child;case 14:return bO(s,c,c.type,c.pendingProps,m);case 15:return yO(s,c,c.type,c.pendingProps,m);case 19:return TO(s,c,m);case 31:return RF(s,c,m);case 22:return vO(s,c,m,c.pendingProps);case 24:return xc(c),v=hr(Cn),s===null?(A=Gx(),A===null&&(A=Ft,O=Fx(),A.pooledCache=O,O.refCount++,O!==null&&(A.pooledCacheLanes|=m),A=O),c.memoizedState={parent:v,cache:A},Yx(c),nl(c,Cn,A)):((s.lanes&m)!==0&&(Kx(s,c),ih(c,null,null,m),rh()),A=s.memoizedState,O=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),nl(c,Cn,v)):(v=O.cache,nl(c,Cn,v),v!==A.cache&&Ux(c,[Cn],m,!0))),mr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Zo(s){s.flags|=4}function j_(s,c,m,v,A){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(tN())s.flags|=8192;else throw Sc=mg,qx}else s.flags&=-16777217}function OO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!GN(c))if(tN())s.flags|=8192;else throw Sc=mg,qx}function Cg(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Rp():536870912,s.lanes|=c,Qu|=c)}function uh(s,c){if(!ut)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Xt(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,v=0;if(c)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=v,s.childLanes=m,c}function IF(s,c,m){var v=c.pendingProps;switch(gn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return m=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Yo(Cn),re(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ta(c)?Zo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xf())),Xt(c),null;case 26:var A=c.type,O=c.memoizedState;return s===null?(Zo(c),O!==null?(Xt(c),OO(c,O)):(Xt(c),j_(c,A,null,v,m))):O?O!==s.memoizedState?(Zo(c),Xt(c),OO(c,O)):(Xt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&Zo(c),Xt(c),j_(c,A,s,v,m)),null;case 27:if(Ne(c),m=de.current,A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}s=J.current,Ta(c)?Zf(c):(s=LN(A,v,m),c.stateNode=s,Zo(c))}return Xt(c),null;case 5:if(Ne(c),A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}if(O=J.current,Ta(c))Zf(c);else{var I=Yg(de.current);switch(O){case 1:O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":O=I.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof v.is=="string"?I.createElement("select",{is:v.is}):I.createElement("select"),v.multiple?O.multiple=!0:v.size&&(O.size=v.size);break;default:O=typeof v.is=="string"?I.createElement(A,{is:v.is}):I.createElement(A)}}O[On]=c,O[Qn]=v;e:for(I=c.child;I!==null;){if(I.tag===5||I.tag===6)O.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)break e;for(;I.sibling===null;){if(I.return===null||I.return===c)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}c.stateNode=O;e:switch(pr(O,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Zo(c)}}return Xt(c),j_(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(s=de.current,Ta(c)){if(s=c.stateNode,m=c.memoizedProps,v=null,A=wt,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}s[On]=c,s=!!(s.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||kN(s.nodeValue,m)),s||oo(c,!0)}else s=Yg(s).createTextNode(v),s[On]=c,c.stateNode=s}return Xt(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(v=Ta(c),m!==null){if(s===null){if(!v)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[On]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),s=!1}else m=Xf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(Ei(c),c):(Ei(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Xt(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Ta(c),v!==null&&v.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[On]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),A=!1}else A=Xf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Ei(c),c):(Ei(c),null)}return Ei(c),(c.flags&128)!==0?(c.lanes=m,c):(m=v!==null,s=s!==null&&s.memoizedState!==null,m&&(v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==A&&(v.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),Cg(c,c.updateQueue),Xt(c),null);case 4:return re(),s===null&&Z_(c.stateNode.containerInfo),Xt(c),null;case 10:return Yo(c.type),Xt(c),null;case 19:if(K(Sn),v=c.memoizedState,v===null)return Xt(c),null;if(A=(c.flags&128)!==0,O=v.rendering,O===null)if(A)uh(v,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(O=yg(s),O!==null){for(c.flags|=128,uh(v,!1),s=O.updateQueue,c.updateQueue=s,Cg(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)Kf(m,s),m=m.sibling;return ie(Sn,Sn.current&1|2),ut&&qe(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&Be()>Lg&&(c.flags|=128,A=!0,uh(v,!1),c.lanes=4194304)}else{if(!A)if(s=yg(O),s!==null){if(c.flags|=128,A=!0,s=s.updateQueue,c.updateQueue=s,Cg(c,s),uh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!O.alternate&&!ut)return Xt(c),null}else 2*Be()-v.renderingStartTime>Lg&&m!==536870912&&(c.flags|=128,A=!0,uh(v,!1),c.lanes=4194304);v.isBackwards?(O.sibling=c.child,c.child=O):(s=v.last,s!==null?s.sibling=O:c.child=O,v.last=O)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Be(),s.sibling=null,m=Sn.current,ie(Sn,A?m&1|2:m&1),ut&&qe(c,v.treeForkCount),s):(Xt(c),null);case 22:case 23:return Ei(c),Xx(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),m=c.updateQueue,m!==null&&Cg(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),s!==null&&K(_c),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Yo(Cn),Xt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function $F(s,c){switch(gn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Yo(Cn),re(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Ne(c),null;case 31:if(c.memoizedState!==null){if(Ei(c),c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Ei(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return K(Sn),null;case 4:return re(),null;case 10:return Yo(c.type),null;case 22:case 23:return Ei(c),Xx(),s!==null&&K(_c),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Yo(Cn),null;case 25:return null;default:return null}}function NO(s,c){switch(gn(c),c.tag){case 3:Yo(Cn),re();break;case 26:case 27:case 5:Ne(c);break;case 4:re();break;case 31:c.memoizedState!==null&&Ei(c);break;case 13:Ei(c);break;case 19:K(Sn);break;case 10:Yo(c.type);break;case 22:case 23:Ei(c),Xx(),s!==null&&K(_c);break;case 24:Yo(Cn)}}function dh(s,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var A=v.next;m=A;do{if((m.tag&s)===s){v=void 0;var O=m.create,I=m.inst;v=O(),I.destroy=v}m=m.next}while(m!==A)}}catch(G){Rt(c,c.return,G)}}function ll(s,c,m){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var O=A.next;v=O;do{if((v.tag&s)===s){var I=v.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=c;var te=m,me=G;try{me()}catch(Ee){Rt(A,te,Ee)}}}v=v.next}while(v!==O)}}catch(Ee){Rt(c,c.return,Ee)}}function CO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{_j(c,m)}catch(v){Rt(s,s.return,v)}}}function MO(s,c,m){m.props=Ac(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(v){Rt(s,c,v)}}function fh(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof m=="function"?s.refCleanup=m(v):m.current=v}}catch(A){Rt(s,c,A)}}function lo(s,c){var m=s.ref,v=s.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(A){Rt(s,c,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){Rt(s,c,A)}else m.current=null}function DO(s){var c=s.type,m=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(A){Rt(s,s.return,A)}}function O_(s,c,m){try{var v=s.stateNode;oH(v,s.type,m,c),v[Qn]=c}catch(A){Rt(s,s.return,A)}}function PO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pl(s.type)||s.tag===4}function N_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||PO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function C_(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Wr));else if(v!==4&&(v===27&&pl(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(C_(s,c,m),s=s.sibling;s!==null;)C_(s,c,m),s=s.sibling}function Mg(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(v!==4&&(v===27&&pl(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Mg(s,c,m),s=s.sibling;s!==null;)Mg(s,c,m),s=s.sibling}function RO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var v=s.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);pr(c,v,m),c[On]=s,c[Qn]=m}catch(O){Rt(s,s.return,O)}}var Xo=!1,Pn=!1,M_=!1,LO=typeof WeakSet=="function"?WeakSet:Set,nr=null;function BF(s,c){if(s=s.containerInfo,Q_=Qg,s=uc(s),eo(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var A=v.anchorOffset,O=v.focusNode;v=v.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var I=0,G=-1,te=-1,me=0,Ee=0,Te=s,be=null;t:for(;;){for(var xe;Te!==m||A!==0&&Te.nodeType!==3||(G=I+A),Te!==O||v!==0&&Te.nodeType!==3||(te=I+v),Te.nodeType===3&&(I+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)be=Te,Te=xe;for(;;){if(Te===s)break t;if(be===m&&++me===A&&(G=I),be===O&&++Ee===v&&(te=I),(xe=Te.nextSibling)!==null)break;Te=be,be=Te.parentNode}Te=xe}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(ew={focusedElem:s,selectionRange:m},Qg=!1,nr=c;nr!==null;)if(c=nr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,nr=s;else for(;nr!==null;){switch(c=nr,O=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)A=s[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,m=c,A=O.memoizedProps,O=O.memoizedState,v=m.stateNode;try{var ze=Ac(m.type,A);s=v.getSnapshotBeforeUpdate(ze,O),v.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Rt(m,m.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)rw(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,nr=s;break}nr=c.return}}function IO(s,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Qo(s,m),v&4&&dh(5,m);break;case 1:if(Qo(s,m),v&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(I){Rt(m,m.return,I)}else{var A=Ac(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(A,c,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(m,m.return,I)}}v&64&&CO(m),v&512&&fh(m,m.return);break;case 3:if(Qo(s,m),v&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{_j(s,c)}catch(I){Rt(m,m.return,I)}}break;case 27:c===null&&v&4&&RO(m);case 26:case 5:Qo(s,m),c===null&&v&4&&DO(m),v&512&&fh(m,m.return);break;case 12:Qo(s,m);break;case 31:Qo(s,m),v&4&&zO(s,m);break;case 13:Qo(s,m),v&4&&UO(s,m),v&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=WF.bind(null,m),mH(s,m))));break;case 22:if(v=m.memoizedState!==null||Xo,!v){c=c!==null&&c.memoizedState!==null||Pn,A=Xo;var O=Pn;Xo=v,(Pn=c)&&!O?es(s,m,(m.subtreeFlags&8772)!==0):Qo(s,m),Xo=A,Pn=O}break;case 30:break;default:Qo(s,m)}}function $O(s){var c=s.alternate;c!==null&&(s.alternate=null,$O(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Of(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Qr=!1;function Jo(s,c,m){for(m=m.child;m!==null;)BO(s,c,m),m=m.sibling}function BO(s,c,m){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(qt,m)}catch{}switch(m.tag){case 26:Pn||lo(m,c),Jo(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Pn||lo(m,c);var v=tn,A=Qr;pl(m.type)&&(tn=m.stateNode,Qr=!1),Jo(s,c,m),_h(m.stateNode),tn=v,Qr=A;break;case 5:Pn||lo(m,c);case 6:if(v=tn,A=Qr,tn=null,Jo(s,c,m),tn=v,Qr=A,tn!==null)if(Qr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(m.stateNode)}catch(O){Rt(m,c,O)}else try{tn.removeChild(m.stateNode)}catch(O){Rt(m,c,O)}break;case 18:tn!==null&&(Qr?(s=tn,CN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),sd(s)):CN(tn,m.stateNode));break;case 4:v=tn,A=Qr,tn=m.stateNode.containerInfo,Qr=!0,Jo(s,c,m),tn=v,Qr=A;break;case 0:case 11:case 14:case 15:ll(2,m,c),Pn||ll(4,m,c),Jo(s,c,m);break;case 1:Pn||(lo(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&MO(m,c,v)),Jo(s,c,m);break;case 21:Jo(s,c,m);break;case 22:Pn=(v=Pn)||m.memoizedState!==null,Jo(s,c,m),Pn=v;break;default:Jo(s,c,m)}}function zO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sd(s)}catch(m){Rt(c,c.return,m)}}}function UO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sd(s)}catch(m){Rt(c,c.return,m)}}function zF(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new LO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new LO),c;default:throw Error(r(435,s.tag))}}function Dg(s,c){var m=zF(s);c.forEach(function(v){if(!m.has(v)){m.add(v);var A=VF.bind(null,s,v);v.then(A,A)}})}function ei(s,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var A=m[v],O=s,I=c,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(pl(G.type)){tn=G.stateNode,Qr=!1;break e}break;case 5:tn=G.stateNode,Qr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Qr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));BO(O,I,A),tn=null,Qr=!1,O=A.alternate,O!==null&&(O.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)FO(c,s),c=c.sibling}var Oa=null;function FO(s,c){var m=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ei(c,s),ti(s),v&4&&(ll(3,s,s.return),dh(3,s),ll(5,s,s.return));break;case 1:ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),v&64&&Xo&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var A=Oa;if(ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),v&4){var O=m!==null?m.memoizedState:null;if(v=s.memoizedState,m===null)if(v===null)if(s.stateNode===null){e:{v=s.type,m=s.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":O=A.getElementsByTagName("title")[0],(!O||O[Wl]||O[On]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=A.createElement(v),A.head.insertBefore(O,A.querySelector("head > title"))),pr(O,v,m),O[On]=s,Nn(O),v=O;break e;case"link":var I=FN("link","href",A).get(v+(m.href||""));if(I){for(var G=0;G<I.length;G++)if(O=I[G],O.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(G,1);break t}}O=A.createElement(v),pr(O,v,m),A.head.appendChild(O);break;case"meta":if(I=FN("meta","content",A).get(v+(m.content||""))){for(G=0;G<I.length;G++)if(O=I[G],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(G,1);break t}}O=A.createElement(v),pr(O,v,m),A.head.appendChild(O);break;default:throw Error(r(468,v))}O[On]=s,Nn(O),v=O}s.stateNode=v}else HN(A,s.type,s.stateNode);else s.stateNode=UN(A,v,s.memoizedProps);else O!==v?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,v===null?HN(A,s.type,s.stateNode):UN(A,v,s.memoizedProps)):v===null&&s.stateNode!==null&&O_(s,s.memoizedProps,m.memoizedProps)}break;case 27:ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),m!==null&&v&4&&O_(s,s.memoizedProps,m.memoizedProps);break;case 5:if(ei(c,s),ti(s),v&512&&(Pn||m===null||lo(m,m.return)),s.flags&32){A=s.stateNode;try{Yi(A,"")}catch(ze){Rt(s,s.return,ze)}}v&4&&s.stateNode!=null&&(A=s.memoizedProps,O_(s,A,m!==null?m.memoizedProps:A)),v&1024&&(M_=!0);break;case 6:if(ei(c,s),ti(s),v&4){if(s.stateNode===null)throw Error(r(162));v=s.memoizedProps,m=s.stateNode;try{m.nodeValue=v}catch(ze){Rt(s,s.return,ze)}}break;case 3:if(Vg=null,A=Oa,Oa=Kg(c.containerInfo),ei(c,s),Oa=A,ti(s),v&4&&m!==null&&m.memoizedState.isDehydrated)try{sd(c.containerInfo)}catch(ze){Rt(s,s.return,ze)}M_&&(M_=!1,HO(s));break;case 4:v=Oa,Oa=Kg(s.stateNode.containerInfo),ei(c,s),ti(s),Oa=v;break;case 12:ei(c,s),ti(s);break;case 31:ei(c,s),ti(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Dg(s,v)));break;case 13:ei(c,s),ti(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Rg=Be()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Dg(s,v)));break;case 22:A=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,me=Xo,Ee=Pn;if(Xo=me||A,Pn=Ee||te,ei(c,s),Pn=Ee,Xo=me,ti(s),v&8192)e:for(c=s.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||te||Xo||Pn||Tc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(O=te.stateNode,A)I=O.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,be=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ze){Rt(te,te.return,ze)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Rt(te,te.return,ze)}}}else if(c.tag===18){if(m===null){te=c;try{var xe=te.stateNode;A?MN(xe,!0):MN(te.stateNode,!1)}catch(ze){Rt(te,te.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Dg(s,m))));break;case 19:ei(c,s),ti(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Dg(s,v)));break;case 30:break;case 21:break;default:ei(c,s),ti(s)}}function ti(s){var c=s.flags;if(c&2){try{for(var m,v=s.return;v!==null;){if(PO(v)){m=v;break}v=v.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var A=m.stateNode,O=N_(s);Mg(s,O,A);break;case 5:var I=m.stateNode;m.flags&32&&(Yi(I,""),m.flags&=-33);var G=N_(s);Mg(s,G,I);break;case 3:case 4:var te=m.stateNode.containerInfo,me=N_(s);C_(s,me,te);break;default:throw Error(r(161))}}catch(Ee){Rt(s,s.return,Ee)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function HO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;HO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Qo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)IO(s,c.alternate,c),c=c.sibling}function Tc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:ll(4,c,c.return),Tc(c);break;case 1:lo(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&MO(c,c.return,m),Tc(c);break;case 27:_h(c.stateNode);case 26:case 5:lo(c,c.return),Tc(c);break;case 22:c.memoizedState===null&&Tc(c);break;case 30:Tc(c);break;default:Tc(c)}s=s.sibling}}function es(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=s,O=c,I=O.flags;switch(O.tag){case 0:case 11:case 15:es(A,O,m),dh(4,O);break;case 1:if(es(A,O,m),v=O,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(me){Rt(v,v.return,me)}if(v=O,A=v.updateQueue,A!==null){var G=v.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)xj(te[A],G)}catch(me){Rt(v,v.return,me)}}m&&I&64&&CO(O),fh(O,O.return);break;case 27:RO(O);case 26:case 5:es(A,O,m),m&&v===null&&I&4&&DO(O),fh(O,O.return);break;case 12:es(A,O,m);break;case 31:es(A,O,m),m&&I&4&&zO(A,O);break;case 13:es(A,O,m),m&&I&4&&UO(A,O);break;case 22:O.memoizedState===null&&es(A,O,m),fh(O,O.return);break;case 30:break;default:es(A,O,m)}c=c.sibling}}function D_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Jf(m))}function P_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Jf(s))}function Na(s,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)GO(s,c,m,v),c=c.sibling}function GO(s,c,m,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Na(s,c,m,v),A&2048&&dh(9,c);break;case 1:Na(s,c,m,v);break;case 3:Na(s,c,m,v),A&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Jf(s)));break;case 12:if(A&2048){Na(s,c,m,v),s=c.stateNode;try{var O=c.memoizedProps,I=O.id,G=O.onPostCommit;typeof G=="function"&&G(I,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(c,c.return,te)}}else Na(s,c,m,v);break;case 31:Na(s,c,m,v);break;case 13:Na(s,c,m,v);break;case 23:break;case 22:O=c.stateNode,I=c.alternate,c.memoizedState!==null?O._visibility&2?Na(s,c,m,v):hh(s,c):O._visibility&2?Na(s,c,m,v):(O._visibility|=2,Zu(s,c,m,v,(c.subtreeFlags&10256)!==0||!1)),A&2048&&D_(I,c);break;case 24:Na(s,c,m,v),A&2048&&P_(c.alternate,c);break;default:Na(s,c,m,v)}}function Zu(s,c,m,v,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var O=s,I=c,G=m,te=v,me=I.flags;switch(I.tag){case 0:case 11:case 15:Zu(O,I,G,te,A),dh(8,I);break;case 23:break;case 22:var Ee=I.stateNode;I.memoizedState!==null?Ee._visibility&2?Zu(O,I,G,te,A):hh(O,I):(Ee._visibility|=2,Zu(O,I,G,te,A)),A&&me&2048&&D_(I.alternate,I);break;case 24:Zu(O,I,G,te,A),A&&me&2048&&P_(I.alternate,I);break;default:Zu(O,I,G,te,A)}c=c.sibling}}function hh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,v=c,A=v.flags;switch(v.tag){case 22:hh(m,v),A&2048&&D_(v.alternate,v);break;case 24:hh(m,v),A&2048&&P_(v.alternate,v);break;default:hh(m,v)}c=c.sibling}}var mh=8192;function Xu(s,c,m){if(s.subtreeFlags&mh)for(s=s.child;s!==null;)qO(s,c,m),s=s.sibling}function qO(s,c,m){switch(s.tag){case 26:Xu(s,c,m),s.flags&mh&&s.memoizedState!==null&&AH(m,Oa,s.memoizedState,s.memoizedProps);break;case 5:Xu(s,c,m);break;case 3:case 4:var v=Oa;Oa=Kg(s.stateNode.containerInfo),Xu(s,c,m),Oa=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=mh,mh=16777216,Xu(s,c,m),mh=v):Xu(s,c,m));break;default:Xu(s,c,m)}}function YO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function ph(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,WO(v,s)}YO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KO(s),s=s.sibling}function KO(s){switch(s.tag){case 0:case 11:case 15:ph(s),s.flags&2048&&ll(9,s,s.return);break;case 3:ph(s);break;case 12:ph(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Pg(s)):ph(s);break;default:ph(s)}}function Pg(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,WO(v,s)}YO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:ll(8,c,c.return),Pg(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Pg(c));break;default:Pg(c)}s=s.sibling}}function WO(s,c){for(;nr!==null;){var m=nr;switch(m.tag){case 0:case 11:case 15:ll(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Jf(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,nr=v;else e:for(m=s;nr!==null;){v=nr;var A=v.sibling,O=v.return;if($O(v),v===m){nr=null;break e}if(A!==null){A.return=O,nr=A;break e}nr=O}}}var UF={getCacheForType:function(s){var c=hr(Cn),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return hr(Cn).controller.signal}},FF=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,dt=null,pt=0,Pt=0,ki=null,cl=!1,Ju=!1,R_=!1,ts=0,yn=0,ul=0,jc=0,L_=0,Ai=0,Qu=0,gh=null,ni=null,I_=!1,Rg=0,VO=0,Lg=1/0,Ig=null,dl=null,Hn=0,fl=null,ed=null,ns=0,$_=0,B_=null,ZO=null,bh=0,z_=null;function Ti(){return(Tt&2)!==0&&pt!==0?pt&-pt:q.T!==null?Y_():Tf()}function XO(){if(Ai===0)if((pt&536870912)===0||ut){var s=ql;ql<<=1,(ql&3932160)===0&&(ql=262144),Ai=s}else Ai=536870912;return s=Si.current,s!==null&&(s.flags|=32),Ai}function ri(s,c,m){(s===Ft&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)&&(td(s,0),hl(s,pt,Ai,!1)),Ro(s,m),((Tt&2)===0||s!==Ft)&&(s===Ft&&((Tt&2)===0&&(jc|=m),yn===4&&hl(s,pt,Ai,!1)),co(s))}function JO(s,c,m){if((Tt&6)!==0)throw Error(r(327));var v=!m&&(c&127)===0&&(c&s.expiredLanes)===0||Kl(s,c),A=v?qF(s,c):F_(s,c,!0),O=v;do{if(A===0){Ju&&!v&&hl(s,c,0,!1);break}else{if(m=s.current.alternate,O&&!HF(m)){A=F_(s,c,!1),O=!1;continue}if(A===2){if(O=c,s.errorRecoveryDisabledLanes&O)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var G=s;A=gh;var te=G.current.memoizedState.isDehydrated;if(te&&(td(G,I).flags|=256),I=F_(G,I,!1),I!==2){if(R_&&!te){G.errorRecoveryDisabledLanes|=O,jc|=O,A=4;break e}O=ni,ni=A,O!==null&&(ni===null?ni=O:ni.push.apply(ni,O))}A=I}if(O=!1,A!==2)continue}}if(A===1){td(s,0),hl(s,c,0,!0);break}e:{switch(v=s,O=A,O){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:hl(v,c,Ai,!cl);break e;case 2:ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=Rg+300-Be(),10<A)){if(hl(v,c,Ai,!cl),_u(v,0,!0)!==0)break e;ns=c,v.timeoutHandle=ON(QO.bind(null,v,m,ni,Ig,I_,c,Ai,jc,Qu,cl,O,"Throttled",-0,0),A);break e}QO(v,m,ni,Ig,I_,c,Ai,jc,Qu,cl,O,null,-0,0)}}break}while(!0);co(s)}function QO(s,c,m,v,A,O,I,G,te,me,Ee,Te,be,xe){if(s.timeoutHandle=-1,Te=c.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},qO(c,O,Te);var ze=(O&62914560)===O?Rg-Be():(O&4194048)===O?VO-Be():0;if(ze=TH(Te,ze),ze!==null){ns=O,s.cancelPendingCommit=ze(sN.bind(null,s,c,O,m,v,A,I,G,te,Ee,Te,null,be,xe)),hl(s,O,I,!me);return}}sN(s,c,O,m,v,A,I,G,te)}function HF(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var A=m[v],O=A.getSnapshot;A=A.value;try{if(!er(O(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function hl(s,c,m,v){c&=~L_,c&=~jc,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var A=c;0<A;){var O=31-Dr(A),I=1<<O;v[O]=-1,A&=~I}m!==0&&Lp(s,m,c)}function $g(){return(Tt&6)===0?(yh(0),!1):!0}function U_(){if(dt!==null){if(Pt===0)var s=dt.return;else s=dt,ja=so=null,r_(s),qu=null,eh=0,s=dt;for(;s!==null;)NO(s.alternate,s),s=s.return;dt=null}}function td(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,cH(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),ns=0,U_(),Ft=s,dt=m=Qi(s.current,null),pt=c,Pt=0,ki=null,cl=!1,Ju=Kl(s,c),R_=!1,Qu=Ai=L_=jc=ul=yn=0,ni=gh=null,I_=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var A=31-Dr(v),O=1<<A;c|=s[A],v&=~O}return ts=c,pc(),m}function eN(s,c){at=null,q.H=lh,c===Gu||c===hg?(c=gj(),Pt=3):c===qx?(c=gj(),Pt=4):Pt=c===v_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ki=c,dt===null&&(yn=1,Tg(s,y(c,s.current)))}function tN(){var s=Si.current;return s===null?!0:(pt&4194048)===pt?ea===null:(pt&62914560)===pt||(pt&536870912)!==0?s===ea:!1}function nN(){var s=q.H;return q.H=lh,s===null?lh:s}function rN(){var s=q.A;return q.A=UF,s}function Bg(){yn=4,cl||(pt&4194048)!==pt&&Si.current!==null||(Ju=!0),(ul&134217727)===0&&(jc&134217727)===0||Ft===null||hl(Ft,pt,Ai,!1)}function F_(s,c,m){var v=Tt;Tt|=2;var A=nN(),O=rN();(Ft!==s||pt!==c)&&(Ig=null,td(s,c)),c=!1;var I=yn;e:do try{if(Pt!==0&&dt!==null){var G=dt,te=ki;switch(Pt){case 8:U_(),I=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(c=!0);var me=Pt;if(Pt=0,ki=null,nd(s,G,te,me),m&&Ju){I=0;break e}break;default:me=Pt,Pt=0,ki=null,nd(s,G,te,me)}}GF(),I=yn;break}catch(Ee){eN(s,Ee)}while(!0);return c&&s.shellSuspendCounter++,ja=so=null,Tt=v,q.H=A,q.A=O,dt===null&&(Ft=null,pt=0,pc()),I}function GF(){for(;dt!==null;)iN(dt)}function qF(s,c){var m=Tt;Tt|=2;var v=nN(),A=rN();Ft!==s||pt!==c?(Ig=null,Lg=Be()+500,td(s,c)):Ju=Kl(s,c);e:do try{if(Pt!==0&&dt!==null){c=dt;var O=ki;t:switch(Pt){case 1:Pt=0,ki=null,nd(s,c,O,1);break;case 2:case 9:if(mj(O)){Pt=0,ki=null,aN(c);break}c=function(){Pt!==2&&Pt!==9||Ft!==s||(Pt=7),co(s)},O.then(c,c);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:mj(O)?(Pt=0,ki=null,aN(c)):(Pt=0,ki=null,nd(s,c,O,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var G=dt;if(I?GN(I):G.stateNode.complete){Pt=0,ki=null;var te=G.sibling;if(te!==null)dt=te;else{var me=G.return;me!==null?(dt=me,zg(me)):dt=null}break t}}Pt=0,ki=null,nd(s,c,O,5);break;case 6:Pt=0,ki=null,nd(s,c,O,6);break;case 8:U_(),yn=6;break e;default:throw Error(r(462))}}YF();break}catch(Ee){eN(s,Ee)}while(!0);return ja=so=null,q.H=v,q.A=A,Tt=m,dt!==null?0:(Ft=null,pt=0,pc(),yn)}function YF(){for(;dt!==null&&!he();)iN(dt)}function iN(s){var c=jO(s.alternate,s,ts);s.memoizedProps=s.pendingProps,c===null?zg(s):dt=c}function aN(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=wO(m,c,c.pendingProps,c.type,void 0,pt);break;case 11:c=wO(m,c,c.pendingProps,c.type.render,c.ref,pt);break;case 5:r_(c);default:NO(m,c),c=dt=Kf(c,ts),c=jO(m,c,ts)}s.memoizedProps=s.pendingProps,c===null?zg(s):dt=c}function nd(s,c,m,v){ja=so=null,r_(c),qu=null,eh=0;var A=c.return;try{if(PF(s,A,c,m,pt)){yn=1,Tg(s,y(m,s.current)),dt=null;return}}catch(O){if(A!==null)throw dt=A,O;yn=1,Tg(s,y(m,s.current)),dt=null;return}c.flags&32768?(ut||v===1?s=!0:Ju||(pt&536870912)!==0?s=!1:(cl=s=!0,(v===2||v===9||v===3||v===6)&&(v=Si.current,v!==null&&v.tag===13&&(v.flags|=16384))),oN(c,s)):zg(c)}function zg(s){var c=s;do{if((c.flags&32768)!==0){oN(c,cl);return}s=c.return;var m=IF(c.alternate,c,ts);if(m!==null){dt=m;return}if(c=c.sibling,c!==null){dt=c;return}dt=c=s}while(c!==null);yn===0&&(yn=5)}function oN(s,c){do{var m=$F(s.alternate,s);if(m!==null){m.flags&=32767,dt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){dt=s;return}dt=s=m}while(s!==null);yn=6,dt=null}function sN(s,c,m,v,A,O,I,G,te){s.cancelPendingCommit=null;do Ug();while(Hn!==0);if((Tt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(O=c.lanes|c.childLanes,O|=Iu,Ex(s,m,O,I,G,te),s===Ft&&(dt=Ft=null,pt=0),ed=c,fl=s,ns=m,$_=O,B_=A,ZO=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ZF(Jn,function(){return fN(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=q.T,q.T=null,A=Q.p,Q.p=2,I=Tt,Tt|=4;try{BF(s,c,m)}finally{Tt=I,Q.p=A,q.T=v}}Hn=1,lN(),cN(),uN()}}function lN(){if(Hn===1){Hn=0;var s=fl,c=ed,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=q.T,q.T=null;var v=Q.p;Q.p=2;var A=Tt;Tt|=4;try{FO(c,s);var O=ew,I=uc(s.containerInfo),G=O.focusedElem,te=O.selectionRange;if(I!==G&&G&&G.ownerDocument&&Du(G.ownerDocument.documentElement,G)){if(te!==null&&eo(G)){var me=te.start,Ee=te.end;if(Ee===void 0&&(Ee=me),"selectionStart"in G)G.selectionStart=me,G.selectionEnd=Math.min(Ee,G.value.length);else{var Te=G.ownerDocument||document,be=Te&&Te.defaultView||window;if(be.getSelection){var xe=be.getSelection(),ze=G.textContent.length,Qe=Math.min(te.start,ze),zt=te.end===void 0?Qe:Math.min(te.end,ze);!xe.extend&&Qe>zt&&(I=zt,zt=Qe,Qe=I);var le=cc(G,Qe),ae=cc(G,zt);if(le&&ae&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==ae.node||xe.focusOffset!==ae.offset)){var fe=Te.createRange();fe.setStart(le.node,le.offset),xe.removeAllRanges(),Qe>zt?(xe.addRange(fe),xe.extend(ae.node,ae.offset)):(fe.setEnd(ae.node,ae.offset),xe.addRange(fe))}}}}for(Te=[],xe=G;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var ke=Te[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Qg=!!Q_,ew=Q_=null}finally{Tt=A,Q.p=v,q.T=m}}s.current=c,Hn=2}}function cN(){if(Hn===2){Hn=0;var s=fl,c=ed,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=q.T,q.T=null;var v=Q.p;Q.p=2;var A=Tt;Tt|=4;try{IO(s,c.alternate,c)}finally{Tt=A,Q.p=v,q.T=m}}Hn=3}}function uN(){if(Hn===4||Hn===3){Hn=0,De();var s=fl,c=ed,m=ns,v=ZO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Hn=5:(Hn=0,ed=fl=null,dN(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(dl=null),He(m),c=c.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(qt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=q.T,A=Q.p,Q.p=2,q.T=null;try{for(var O=s.onRecoverableError,I=0;I<v.length;I++){var G=v[I];O(G.value,{componentStack:G.stack})}}finally{q.T=c,Q.p=A}}(ns&3)!==0&&Ug(),co(s),A=s.pendingLanes,(m&261930)!==0&&(A&42)!==0?s===z_?bh++:(bh=0,z_=s):bh=0,yh(0)}}function dN(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Jf(c)))}function Ug(){return lN(),cN(),uN(),fN()}function fN(){if(Hn!==5)return!1;var s=fl,c=$_;$_=0;var m=He(ns),v=q.T,A=Q.p;try{Q.p=32>m?32:m,q.T=null,m=B_,B_=null;var O=fl,I=ns;if(Hn=0,ed=fl=null,ns=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,KO(O.current),GO(O,O.current,I,m),Tt=G,yh(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(qt,O)}catch{}return!0}finally{Q.p=A,q.T=v,dN(s,c)}}function hN(s,c,m){c=y(m,c),c=y_(s.stateNode,c,2),s=al(s,c,2),s!==null&&(Ro(s,2),co(s))}function Rt(s,c,m){if(s.tag===3)hN(s,s,m);else for(;c!==null;){if(c.tag===3){hN(c,s,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(dl===null||!dl.has(v))){s=y(m,s),m=mO(2),v=al(c,m,2),v!==null&&(pO(m,v,c,s),Ro(v,2),co(v));break}}c=c.return}}function H_(s,c,m){var v=s.pingCache;if(v===null){v=s.pingCache=new FF;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(m)||(R_=!0,A.add(m),s=KF.bind(null,s,c,m),c.then(s,s))}function KF(s,c,m){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Ft===s&&(pt&m)===m&&(yn===4||yn===3&&(pt&62914560)===pt&&300>Be()-Rg?(Tt&2)===0&&td(s,0):L_|=m,Qu===pt&&(Qu=0)),co(s)}function mN(s,c){c===0&&(c=Rp()),s=Ji(s,c),s!==null&&(Ro(s,c),co(s))}function WF(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),mN(s,m)}function VF(s,c){var m=0;switch(s.tag){case 31:case 13:var v=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),mN(s,m)}function ZF(s,c){return xt(s,c)}var Fg=null,rd=null,G_=!1,Hg=!1,q_=!1,ml=0;function co(s){s!==rd&&s.next===null&&(rd===null?Fg=rd=s:rd=rd.next=s),Hg=!0,G_||(G_=!0,JF())}function yh(s,c){if(!q_&&Hg){q_=!0;do for(var m=!1,v=Fg;v!==null;){if(s!==0){var A=v.pendingLanes;if(A===0)var O=0;else{var I=v.suspendedLanes,G=v.pingedLanes;O=(1<<31-Dr(42|s)+1)-1,O&=A&~(I&~G),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(m=!0,yN(v,O))}else O=pt,O=_u(v,v===Ft?O:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(O&3)===0||Kl(v,O)||(m=!0,yN(v,O));v=v.next}while(m);q_=!1}}function XF(){pN()}function pN(){Hg=G_=!1;var s=0;ml!==0&&lH()&&(s=ml);for(var c=Be(),m=null,v=Fg;v!==null;){var A=v.next,O=gN(v,c);O===0?(v.next=null,m===null?Fg=A:m.next=A,A===null&&(rd=m)):(m=v,(s!==0||(O&3)!==0)&&(Hg=!0)),v=A}Hn!==0&&Hn!==5||yh(s),ml!==0&&(ml=0)}function gN(s,c){for(var m=s.suspendedLanes,v=s.pingedLanes,A=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var I=31-Dr(O),G=1<<I,te=A[I];te===-1?((G&m)===0||(G&v)!==0)&&(A[I]=Sx(G,c)):te<=c&&(s.expiredLanes|=G),O&=~G}if(c=Ft,m=pt,m=_u(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,m===0||s===c&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Dt(v),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||Kl(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(v!==null&&Dt(v),He(m)){case 2:case 8:m=bt;break;case 32:m=Jn;break;case 268435456:m=bi;break;default:m=Jn}return v=bN.bind(null,s),m=xt(m,v),s.callbackPriority=c,s.callbackNode=m,c}return v!==null&&v!==null&&Dt(v),s.callbackPriority=2,s.callbackNode=null,2}function bN(s,c){if(Hn!==0&&Hn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(Ug()&&s.callbackNode!==m)return null;var v=pt;return v=_u(s,s===Ft?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(JO(s,v,c),gN(s,Be()),s.callbackNode!=null&&s.callbackNode===m?bN.bind(null,s):null)}function yN(s,c){if(Ug())return null;JO(s,c,!0)}function JF(){uH(function(){(Tt&6)!==0?xt(Ot,XF):pN()})}function Y_(){if(ml===0){var s=Fu;s===0&&(s=Gl,Gl<<=1,(Gl&261888)===0&&(Gl=256)),ml=s}return ml}function vN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Hs(""+s)}function xN(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function QF(s,c,m,v,A){if(c==="submit"&&m&&m.stateNode===A){var O=vN((A[Qn]||null).action),I=v.submitter;I&&(c=(c=I[Qn]||null)?vN(c.formAction):I.getAttribute("formAction"),c!==null&&(O=c,I=null));var G=new Au("action","action",null,v,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ml!==0){var te=I?xN(A,I):new FormData(A);f_(m,{pending:!0,data:te,method:A.method,action:O},null,te)}}else typeof O=="function"&&(G.preventDefault(),te=I?xN(A,I):new FormData(A),f_(m,{pending:!0,data:te,method:A.method,action:O},O,te))},currentTarget:A}]})}}for(var K_=0;K_<ro.length;K_++){var W_=ro[K_],eH=W_.toLowerCase(),tH=W_[0].toUpperCase()+W_.slice(1);Zr(eH,"on"+tH)}Zr(fc,"onAnimationEnd"),Zr(sg,"onAnimationIteration"),Zr(hc,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(Ix,"onTransitionRun"),Zr(lg,"onTransitionStart"),Zr($x,"onTransitionCancel"),Zr(el,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$o("onBeforeInput",["compositionend","keypress","textInput","paste"]),$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vh));function _N(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var v=s[m],A=v.event;v=v.listeners;e:{var O=void 0;if(c)for(var I=v.length-1;0<=I;I--){var G=v[I],te=G.instance,me=G.currentTarget;if(G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=me;try{O(A)}catch(Ee){mc(Ee)}A.currentTarget=null,O=te}else for(I=0;I<v.length;I++){if(G=v[I],te=G.instance,me=G.currentTarget,G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=me;try{O(A)}catch(Ee){mc(Ee)}A.currentTarget=null,O=te}}}}function ft(s,c){var m=c[Wa];m===void 0&&(m=c[Wa]=new Set);var v=s+"__bubble";m.has(v)||(wN(c,s,2,!1),m.add(v))}function V_(s,c,m){var v=0;c&&(v|=4),wN(m,s,v,c)}var Gg="_reactListening"+Math.random().toString(36).slice(2);function Z_(s){if(!s[Gg]){s[Gg]=!0,Up.forEach(function(m){m!=="selectionchange"&&(nH.has(m)||V_(m,!1,s),V_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Gg]||(c[Gg]=!0,V_("selectionchange",!1,c))}}function wN(s,c,m,v){switch(XN(c)){case 2:var A=NH;break;case 8:A=CH;break;default:A=dw}m=A.bind(null,c,m,s),A=void 0,!ec||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?s.addEventListener(c,m,{capture:!0,passive:A}):s.addEventListener(c,m,!0):A!==void 0?s.addEventListener(c,m,{passive:A}):s.addEventListener(c,m,!1)}function X_(s,c,m,v,A){var O=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var G=v.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=v.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=Io(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){v=O=I;continue e}G=G.parentNode}}v=v.return}Lf(function(){var me=O,Ee=Ql(m),Te=[];e:{var be=cg.get(s);if(be!==void 0){var xe=Au,ze=s;switch(s){case"keypress":if(tc(m)===0)break e;case"keydown":case"keyup":xe=Vp;break;case"focusin":ze="focus",xe=Bf;break;case"focusout":ze="blur",xe=Bf;break;case"beforeblur":case"afterblur":xe=Bf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Cx;break;case fc:case sg:case hc:xe=zf;break;case el:xe=Jp;break;case"scroll":case"scrollend":xe=mt;break;case"wheel":xe=Fo;break;case"copy":case"cut":case"paste":xe=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Zp;break;case"toggle":case"beforetoggle":xe=ic}var Qe=(c&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),le=Qe?be!==null?be+"Capture":null:be;Qe=[];for(var ae=me,fe;ae!==null;){var ke=ae;if(fe=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||fe===null||le===null||(ke=zo(ae,le),ke!=null&&Qe.push(xh(ae,ke,fe))),zt)break;ae=ae.return}0<Qe.length&&(be=new xe(be,ze,null,m,Ee),Te.push({event:be,listeners:Qe}))}}if((c&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",be&&m!==ku&&(ze=m.relatedTarget||m.fromElement)&&(Io(ze)||ze[Lo]))break e;if((xe||be)&&(be=Ee.window===Ee?Ee:(be=Ee.ownerDocument)?be.defaultView||be.parentWindow:window,xe?(ze=m.relatedTarget||m.toElement,xe=me,ze=ze?Io(ze):null,ze!==null&&(zt=a(ze),Qe=ze.tag,ze!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(xe=null,ze=me),xe!==ze)){if(Qe=Gp,ke="onMouseLeave",le="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Zp,ke="onPointerLeave",le="onPointerEnter",ae="pointer"),zt=xe==null?be:Va(xe),fe=ze==null?be:Va(ze),be=new Qe(ke,ae+"leave",xe,m,Ee),be.target=zt,be.relatedTarget=fe,ke=null,Io(Ee)===me&&(Qe=new Qe(le,ae+"enter",ze,m,Ee),Qe.target=fe,Qe.relatedTarget=zt,ke=Qe),zt=ke,xe&&ze)t:{for(Qe=rH,le=xe,ae=ze,fe=0,ke=le;ke;ke=Qe(ke))fe++;ke=0;for(var Xe=ae;Xe;Xe=Qe(Xe))ke++;for(;0<fe-ke;)le=Qe(le),fe--;for(;0<ke-fe;)ae=Qe(ae),ke--;for(;fe--;){if(le===ae||ae!==null&&le===ae.alternate){Qe=le;break t}le=Qe(le),ae=Qe(ae)}Qe=null}else Qe=null;xe!==null&&SN(Te,be,xe,Qe,!1),ze!==null&&zt!==null&&SN(Te,zt,ze,Qe,!0)}}e:{if(be=me?Va(me):window,xe=be.nodeName&&be.nodeName.toLowerCase(),xe==="select"||xe==="input"&&be.type==="file")var Et=lc;else if(Vi(be))if(ng)Et=Lx;else{Et=Rx;var Fe=ka}else xe=be.nodeName,!xe||xe.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&Jl(me.elementType)&&(Et=lc):Et=Zs;if(Et&&(Et=Et(s,me))){tg(Te,Et,m,Ee);break e}Fe&&Fe(s,be,me),s==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&wa(be,"number",be.value)}switch(Fe=me?Va(me):window,s){case"focusin":(Vi(Fe)||Fe.contentEditable==="true")&&(to=Fe,Ru=me,dc=null);break;case"focusout":dc=Ru=to=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,ag(Te,m,Ee);break;case"selectionchange":if(Pu)break;case"keydown":case"keyup":ag(Te,m,Ee)}var st;if(ju)e:{switch(s){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ks?eg(s,m)&&(gt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(gt="onCompositionStart");gt&&(Ou&&m.locale!=="ko"&&(Ks||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ks&&(st=Ja()):(Ki=Ee,Uo="value"in Ki?Ki.value:Ki.textContent,Ks=!0)),Fe=qg(me,gt),0<Fe.length&&(gt=new Uf(gt,s,null,m,Ee),Te.push({event:gt,listeners:Fe}),st?gt.data=st:(st=qf(m),st!==null&&(gt.data=st)))),(st=Dx?wi(s,m):Ws(s,m))&&(gt=qg(me,"onBeforeInput"),0<gt.length&&(Fe=new Uf("onBeforeInput","beforeinput",null,m,Ee),Te.push({event:Fe,listeners:gt}),Fe.data=st)),QF(Te,s,me,m,Ee)}_N(Te,c)})}function xh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function qg(s,c){for(var m=c+"Capture",v=[];s!==null;){var A=s,O=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||O===null||(A=zo(s,m),A!=null&&v.unshift(xh(s,A,O)),A=zo(s,c),A!=null&&v.push(xh(s,A,O))),s.tag===3)return v;s=s.return}return[]}function rH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function SN(s,c,m,v,A){for(var O=c._reactName,I=[];m!==null&&m!==v;){var G=m,te=G.alternate,me=G.stateNode;if(G=G.tag,te!==null&&te===v)break;G!==5&&G!==26&&G!==27||me===null||(te=me,A?(me=zo(m,O),me!=null&&I.unshift(xh(m,me,te))):A||(me=zo(m,O),me!=null&&I.push(xh(m,me,te)))),m=m.return}I.length!==0&&s.push({event:c,listeners:I})}var iH=/\r\n?/g,aH=/\u0000|\uFFFD/g;function EN(s){return(typeof s=="string"?s:""+s).replace(iH,`
`).replace(aH,"")}function kN(s,c){return c=EN(c),EN(s)===c}function Bt(s,c,m,v,A,O){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Yi(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Yi(s,""+v);break;case"className":It(s,"class",v);break;case"tabIndex":It(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,m,v);break;case"style":Su(s,v,O);break;case"data":if(c!=="object"){It(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=Hs(""+v),s.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(c!=="input"&&Bt(s,c,"name",A.name,A,null),Bt(s,c,"formEncType",A.formEncType,A,null),Bt(s,c,"formMethod",A.formMethod,A,null),Bt(s,c,"formTarget",A.formTarget,A,null)):(Bt(s,c,"encType",A.encType,A,null),Bt(s,c,"method",A.method,A,null),Bt(s,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=Hs(""+v),s.setAttribute(m,v);break;case"onClick":v!=null&&(s.onclick=Wr);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}m=Hs(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""+v):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":v===!0?s.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,v):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(m,v):s.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(m):s.setAttribute(m,v);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",v);break;case"xlinkActuate":Kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Kr(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Kr(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Kr(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Kr(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ct(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Eu.get(m)||m,ct(s,m,v))}}function J_(s,c,m,v,A,O){switch(m){case"style":Su(s,v,O);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof v=="string"?Yi(s,v):(typeof v=="number"||typeof v=="bigint")&&Yi(s,""+v);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fp.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),O=s[Qn]||null,O=O!=null?O[m]:null,typeof O=="function"&&s.removeEventListener(c,O,A),typeof v=="function")){typeof O!="function"&&O!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,v,A);break e}m in s?s[m]=v:v===!0?s.setAttribute(m,""):ct(s,m,v)}}}function pr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var v=!1,A=!1,O;for(O in m)if(m.hasOwnProperty(O)){var I=m[O];if(I!=null)switch(O){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,O,I,m,null)}}A&&Bt(s,c,"srcSet",m.srcSet,m,null),v&&Bt(s,c,"src",m.src,m,null);return;case"input":ft("invalid",s);var G=O=I=A=null,te=null,me=null;for(v in m)if(m.hasOwnProperty(v)){var Ee=m[v];if(Ee!=null)switch(v){case"name":A=Ee;break;case"type":I=Ee;break;case"checked":te=Ee;break;case"defaultChecked":me=Ee;break;case"value":O=Ee;break;case"defaultValue":G=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,c));break;default:Bt(s,c,v,Ee,m,null)}}Xl(s,O,G,te,me,I,A,!1);return;case"select":ft("invalid",s),v=I=O=null;for(A in m)if(m.hasOwnProperty(A)&&(G=m[A],G!=null))switch(A){case"value":O=G;break;case"defaultValue":I=G;break;case"multiple":v=G;default:Bt(s,c,A,G,m,null)}c=O,m=I,s.multiple=!!v,c!=null?Ut(s,!!v,c,!1):m!=null&&Ut(s,!!v,m,!0);return;case"textarea":ft("invalid",s),O=A=v=null;for(I in m)if(m.hasOwnProperty(I)&&(G=m[I],G!=null))switch(I){case"value":v=G;break;case"defaultValue":A=G;break;case"children":O=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,c,I,G,m,null)}Us(s,v,A,O);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(v=m[te],v!=null))switch(te){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Bt(s,c,te,v,m,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(v=0;v<vh.length;v++)ft(vh[v],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(v=m[me],v!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,me,v,m,null)}return;default:if(Jl(c)){for(Ee in m)m.hasOwnProperty(Ee)&&(v=m[Ee],v!==void 0&&J_(s,c,Ee,v,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(v=m[G],v!=null&&Bt(s,c,G,v,m,null))}function oH(s,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,O=null,I=null,G=null,te=null,me=null,Ee=null;for(xe in m){var Te=m[xe];if(m.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:v.hasOwnProperty(xe)||Bt(s,c,xe,null,v,Te)}}for(var be in v){var xe=v[be];if(Te=m[be],v.hasOwnProperty(be)&&(xe!=null||Te!=null))switch(be){case"type":O=xe;break;case"name":A=xe;break;case"checked":me=xe;break;case"defaultChecked":Ee=xe;break;case"value":I=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,c));break;default:xe!==Te&&Bt(s,c,be,xe,v,Te)}}Df(s,I,G,te,me,Ee,O,A);return;case"select":xe=I=G=be=null;for(O in m)if(te=m[O],m.hasOwnProperty(O)&&te!=null)switch(O){case"value":break;case"multiple":xe=te;default:v.hasOwnProperty(O)||Bt(s,c,O,null,v,te)}for(A in v)if(O=v[A],te=m[A],v.hasOwnProperty(A)&&(O!=null||te!=null))switch(A){case"value":be=O;break;case"defaultValue":G=O;break;case"multiple":I=O;default:O!==te&&Bt(s,c,A,O,v,te)}c=G,m=I,v=xe,be!=null?Ut(s,!!m,be,!1):!!v!=!!m&&(c!=null?Ut(s,!!m,c,!0):Ut(s,!!m,m?[]:"",!1));return;case"textarea":xe=be=null;for(G in m)if(A=m[G],m.hasOwnProperty(G)&&A!=null&&!v.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,c,G,null,v,A)}for(I in v)if(A=v[I],O=m[I],v.hasOwnProperty(I)&&(A!=null||O!=null))switch(I){case"value":be=A;break;case"defaultValue":xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==O&&Bt(s,c,I,A,v,O)}Xa(s,be,xe);return;case"option":for(var ze in m)if(be=m[ze],m.hasOwnProperty(ze)&&be!=null&&!v.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,c,ze,null,v,be)}for(te in v)if(be=v[te],xe=m[te],v.hasOwnProperty(te)&&be!==xe&&(be!=null||xe!=null))switch(te){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Bt(s,c,te,be,v,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in m)be=m[Qe],m.hasOwnProperty(Qe)&&be!=null&&!v.hasOwnProperty(Qe)&&Bt(s,c,Qe,null,v,be);for(me in v)if(be=v[me],xe=m[me],v.hasOwnProperty(me)&&be!==xe&&(be!=null||xe!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:Bt(s,c,me,be,v,xe)}return;default:if(Jl(c)){for(var zt in m)be=m[zt],m.hasOwnProperty(zt)&&be!==void 0&&!v.hasOwnProperty(zt)&&J_(s,c,zt,void 0,v,be);for(Ee in v)be=v[Ee],xe=m[Ee],!v.hasOwnProperty(Ee)||be===xe||be===void 0&&xe===void 0||J_(s,c,Ee,be,v,xe);return}}for(var le in m)be=m[le],m.hasOwnProperty(le)&&be!=null&&!v.hasOwnProperty(le)&&Bt(s,c,le,null,v,be);for(Te in v)be=v[Te],xe=m[Te],!v.hasOwnProperty(Te)||be===xe||be==null&&xe==null||Bt(s,c,Te,be,v,xe)}function AN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var A=m[v],O=A.transferSize,I=A.initiatorType,G=A.duration;if(O&&G&&AN(I)){for(I=0,G=A.responseEnd,v+=1;v<m.length;v++){var te=m[v],me=te.startTime;if(me>G)break;var Ee=te.transferSize,Te=te.initiatorType;Ee&&AN(Te)&&(te=te.responseEnd,I+=Ee*(te<G?1:(G-me)/(te-me)))}if(--v,c+=8*(O+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Q_=null,ew=null;function Yg(s){return s.nodeType===9?s:s.ownerDocument}function TN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jN(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function tw(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var nw=null;function lH(){var s=window.event;return s&&s.type==="popstate"?s===nw?!1:(nw=s,!0):(nw=null,!1)}var ON=typeof setTimeout=="function"?setTimeout:void 0,cH=typeof clearTimeout=="function"?clearTimeout:void 0,NN=typeof Promise=="function"?Promise:void 0,uH=typeof queueMicrotask=="function"?queueMicrotask:typeof NN<"u"?function(s){return NN.resolve(null).then(s).catch(dH)}:ON;function dH(s){setTimeout(function(){throw s})}function pl(s){return s==="head"}function CN(s,c){var m=c,v=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(v===0){s.removeChild(A),sd(c);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")_h(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,_h(m);for(var O=m.firstChild;O;){var I=O.nextSibling,G=O.nodeName;O[Wl]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&O.rel.toLowerCase()==="stylesheet"||m.removeChild(O),O=I}}else m==="body"&&_h(s.ownerDocument.body);m=A}while(m);sd(c)}function MN(s,c){var m=s;s=0;do{var v=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=v}while(m)}function rw(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":rw(m),Of(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function fH(s,c,m,v){for(;s.nodeType===1;){var A=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[Wl])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var O=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=ta(s.nextSibling),s===null)break}return null}function hH(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=ta(s.nextSibling),s===null))return null;return s}function DN(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ta(s.nextSibling),s===null))return null;return s}function iw(s){return s.data==="$?"||s.data==="$~"}function aw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function mH(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function ta(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var ow=null;function PN(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return ta(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function RN(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function LN(s,c,m){switch(c=Yg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function _h(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Of(s)}var na=new Map,IN=new Set;function Kg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=Q.d;Q.d={f:pH,r:gH,D:bH,C:yH,L:vH,m:xH,X:wH,S:_H,M:SH};function pH(){var s=rs.f(),c=$g();return s||c}function gH(s){var c=$s(s);c!==null&&c.tag===5&&c.type==="form"?eO(c):rs.r(s)}var id=typeof document>"u"?null:document;function $N(s,c,m){var v=id;if(v&&typeof c=="string"&&c){var A=Zt(c);A='link[rel="'+s+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),IN.has(A)||(IN.add(A),s={rel:s,crossOrigin:m,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),pr(c,"link",s),Nn(c),v.head.appendChild(c)))}}function bH(s){rs.D(s),$N("dns-prefetch",s,null)}function yH(s,c){rs.C(s,c),$N("preconnect",s,c)}function vH(s,c,m){rs.L(s,c,m);var v=id;if(v&&s&&c){var A='link[rel="preload"][as="'+Zt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+Zt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+Zt(m.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var O=A;switch(c){case"style":O=ad(s);break;case"script":O=od(s)}na.has(O)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),na.set(O,s),v.querySelector(A)!==null||c==="style"&&v.querySelector(wh(O))||c==="script"&&v.querySelector(Sh(O))||(c=v.createElement("link"),pr(c,"link",s),Nn(c),v.head.appendChild(c)))}}function xH(s,c){rs.m(s,c);var m=id;if(m&&s){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Zt(v)+'"][href="'+Zt(s)+'"]',O=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=od(s)}if(!na.has(O)&&(s=p({rel:"modulepreload",href:s},c),na.set(O,s),m.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Sh(O)))return}v=m.createElement("link"),pr(v,"link",s),Nn(v),m.head.appendChild(v)}}}function _H(s,c,m){rs.S(s,c,m);var v=id;if(v&&s){var A=Bs(v).hoistableStyles,O=ad(s);c=c||"default";var I=A.get(O);if(!I){var G={loading:0,preload:null};if(I=v.querySelector(wh(O)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=na.get(O))&&sw(s,m);var te=I=v.createElement("link");Nn(te),pr(te,"link",s),te._p=new Promise(function(me,Ee){te.onload=me,te.onerror=Ee}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Wg(I,c,v)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(O,I)}}}function wH(s,c){rs.X(s,c);var m=id;if(m&&s){var v=Bs(m).hoistableScripts,A=od(s),O=v.get(A);O||(O=m.querySelector(Sh(A)),O||(s=p({src:s,async:!0},c),(c=na.get(A))&&lw(s,c),O=m.createElement("script"),Nn(O),pr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function SH(s,c){rs.M(s,c);var m=id;if(m&&s){var v=Bs(m).hoistableScripts,A=od(s),O=v.get(A);O||(O=m.querySelector(Sh(A)),O||(s=p({src:s,async:!0,type:"module"},c),(c=na.get(A))&&lw(s,c),O=m.createElement("script"),Nn(O),pr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function BN(s,c,m,v){var A=(A=de.current)?Kg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=ad(m.href),m=Bs(A).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=ad(m.href);var O=Bs(A).hoistableStyles,I=O.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,I),(O=A.querySelector(wh(s)))&&!O._p&&(I.instance=O,I.state.loading=5),na.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},na.set(s,m),O||EH(A,s,m,I.state))),c&&v===null)throw Error(r(528,""));return I}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=od(m),m=Bs(A).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ad(s){return'href="'+Zt(s)+'"'}function wh(s){return'link[rel="stylesheet"]['+s+"]"}function zN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function EH(s,c,m,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),pr(c,"link",m),Nn(c),s.head.appendChild(c))}function od(s){return'[src="'+Zt(s)+'"]'}function Sh(s){return"script[async]"+s}function UN(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+Zt(m.href)+'"]');if(v)return c.instance=v,Nn(v),v;var A=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Nn(v),pr(v,"style",A),Wg(v,m.precedence,s),c.instance=v;case"stylesheet":A=ad(m.href);var O=s.querySelector(wh(A));if(O)return c.state.loading|=4,c.instance=O,Nn(O),O;v=zN(m),(A=na.get(A))&&sw(v,A),O=(s.ownerDocument||s).createElement("link"),Nn(O);var I=O;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),pr(O,"link",v),c.state.loading|=4,Wg(O,m.precedence,s),c.instance=O;case"script":return O=od(m.src),(A=s.querySelector(Sh(O)))?(c.instance=A,Nn(A),A):(v=m,(A=na.get(O))&&(v=p({},m),lw(v,A)),s=s.ownerDocument||s,A=s.createElement("script"),Nn(A),pr(A,"link",v),s.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Wg(v,m.precedence,s));return c.instance}function Wg(s,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,O=A,I=0;I<v.length;I++){var G=v[I];if(G.dataset.precedence===c)O=G;else if(O!==A)break}O?O.parentNode.insertBefore(s,O.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function sw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function lw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Vg=null;function FN(s,c,m){if(Vg===null){var v=new Map,A=Vg=new Map;A.set(m,v)}else A=Vg,v=A.get(m),v||(v=new Map,A.set(m,v));if(v.has(s))return v;for(v.set(s,null),m=m.getElementsByTagName(s),A=0;A<m.length;A++){var O=m[A];if(!(O[Wl]||O[On]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var I=O.getAttribute(c)||"";I=s+I;var G=v.get(I);G?G.push(O):v.set(I,[O])}}return v}function HN(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function kH(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function GN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function AH(s,c,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=ad(v.href),O=c.querySelector(wh(A));if(O){c=O._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Zg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=O,Nn(O);return}O=c.ownerDocument||c,v=zN(v),(A=na.get(A))&&sw(v,A),O=O.createElement("link"),Nn(O);var I=O;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),pr(O,"link",v),m.instance=O}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=Zg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var cw=0;function TH(s,c){return s.stylesheets&&s.count===0&&Jg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var v=setTimeout(function(){if(s.stylesheets&&Jg(s,s.stylesheets),s.unsuspend){var O=s.unsuspend;s.unsuspend=null,O()}},6e4+c);0<s.imgBytes&&cw===0&&(cw=62500*sH());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Jg(s,s.stylesheets),s.unsuspend)){var O=s.unsuspend;s.unsuspend=null,O()}},(s.imgBytes>cw?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function Zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xg=null;function Jg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xg=new Map,c.forEach(jH,s),Xg=null,Zg.call(s))}function jH(s,c){if(!(c.state.loading&4)){var m=Xg.get(s);if(m)var v=m.get(null);else{m=new Map,Xg.set(s,m);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<A.length;O++){var I=A[O];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),v=I)}v&&m.set(null,v)}A=c.instance,I=A.getAttribute("data-precedence"),O=m.get(I)||v,O===v&&m.set(null,A),m.set(I,A),this.count++,v=Zg.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),O?O.parentNode.insertBefore(A,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),c.state.loading|=4}}var Eh={$$typeof:j,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function OH(s,c,m,v,A,O,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Af(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.hiddenUpdates=Af(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=O,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function qN(s,c,m,v,A,O,I,G,te,me,Ee,Te){return s=new OH(s,c,m,I,te,me,Ee,Te,G),c=1,O===!0&&(c|=24),O=Ar(3,null,null,c),s.current=O,O.stateNode=s,c=Fx(),c.refCount++,s.pooledCache=c,c.refCount++,O.memoizedState={element:v,isDehydrated:m,cache:c},Yx(O),s}function YN(s){return s?(s=Ho,s):Ho}function KN(s,c,m,v,A,O){A=YN(A),v.context===null?v.context=A:v.pendingContext=A,v=il(c),v.payload={element:m},O=O===void 0?null:O,O!==null&&(v.callback=O),m=al(s,v,c),m!==null&&(ri(m,s,c),nh(m,s,c))}function WN(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function uw(s,c){WN(s,c),(s=s.alternate)&&WN(s,c)}function VN(s){if(s.tag===13||s.tag===31){var c=Ji(s,67108864);c!==null&&ri(c,s,67108864),uw(s,67108864)}}function ZN(s){if(s.tag===13||s.tag===31){var c=Ti();c=Yr(c);var m=Ji(s,c);m!==null&&ri(m,s,c),uw(s,c)}}var Qg=!0;function NH(s,c,m,v){var A=q.T;q.T=null;var O=Q.p;try{Q.p=2,dw(s,c,m,v)}finally{Q.p=O,q.T=A}}function CH(s,c,m,v){var A=q.T;q.T=null;var O=Q.p;try{Q.p=8,dw(s,c,m,v)}finally{Q.p=O,q.T=A}}function dw(s,c,m,v){if(Qg){var A=fw(v);if(A===null)X_(s,c,v,e0,m),JN(s,v);else if(DH(A,s,c,m,v))v.stopPropagation();else if(JN(s,v),c&4&&-1<MH.indexOf(s)){for(;A!==null;){var O=$s(A);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var I=Po(O.pendingLanes);if(I!==0){var G=O;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Dr(I);G.entanglements[1]|=te,I&=~te}co(O),(Tt&6)===0&&(Lg=Be()+500,yh(0))}}break;case 31:case 13:G=Ji(O,2),G!==null&&ri(G,O,2),$g(),uw(O,2)}if(O=fw(v),O===null&&X_(s,c,v,e0,m),O===A)break;A=O}A!==null&&v.stopPropagation()}else X_(s,c,v,null,m)}}function fw(s){return s=Ql(s),hw(s)}var e0=null;function hw(s){if(e0=null,s=Io(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return e0=s,null}function XN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Ot:return 2;case bt:return 8;case Jn:case gi:return 32;case bi:return 268435456;default:return 32}default:return 32}}var mw=!1,gl=null,bl=null,yl=null,kh=new Map,Ah=new Map,vl=[],MH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JN(s,c){switch(s){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":kh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(c.pointerId)}}function Th(s,c,m,v,A,O){return s===null||s.nativeEvent!==O?(s={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:O,targetContainers:[A]},c!==null&&(c=$s(c),c!==null&&VN(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function DH(s,c,m,v,A){switch(c){case"focusin":return gl=Th(gl,s,c,m,v,A),!0;case"dragenter":return bl=Th(bl,s,c,m,v,A),!0;case"mouseover":return yl=Th(yl,s,c,m,v,A),!0;case"pointerover":var O=A.pointerId;return kh.set(O,Th(kh.get(O)||null,s,c,m,v,A)),!0;case"gotpointercapture":return O=A.pointerId,Ah.set(O,Th(Ah.get(O)||null,s,c,m,v,A)),!0}return!1}function QN(s){var c=Io(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,jf(s.priority,function(){ZN(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,jf(s.priority,function(){ZN(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function t0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=fw(s.nativeEvent);if(m===null){m=s.nativeEvent;var v=new m.constructor(m.type,m);ku=v,m.target.dispatchEvent(v),ku=null}else return c=$s(m),c!==null&&VN(c),s.blockedOn=m,!1;c.shift()}return!0}function eC(s,c,m){t0(s)&&m.delete(c)}function PH(){mw=!1,gl!==null&&t0(gl)&&(gl=null),bl!==null&&t0(bl)&&(bl=null),yl!==null&&t0(yl)&&(yl=null),kh.forEach(eC),Ah.forEach(eC)}function n0(s,c){s.blockedOn===c&&(s.blockedOn=null,mw||(mw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PH)))}var r0=null;function tC(s){r0!==s&&(r0=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){r0===s&&(r0=null);for(var c=0;c<s.length;c+=3){var m=s[c],v=s[c+1],A=s[c+2];if(typeof v!="function"){if(hw(v||m)===null)continue;break}var O=$s(m);O!==null&&(s.splice(c,3),c-=3,f_(O,{pending:!0,data:A,method:m.method,action:v},v,A))}}))}function sd(s){function c(te){return n0(te,s)}gl!==null&&n0(gl,s),bl!==null&&n0(bl,s),yl!==null&&n0(yl,s),kh.forEach(c),Ah.forEach(c);for(var m=0;m<vl.length;m++){var v=vl[m];v.blockedOn===s&&(v.blockedOn=null)}for(;0<vl.length&&(m=vl[0],m.blockedOn===null);)QN(m),m.blockedOn===null&&vl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var A=m[v],O=m[v+1],I=A[Qn]||null;if(typeof O=="function")I||tC(m);else if(I){var G=null;if(O&&O.hasAttribute("formAction")){if(A=O,I=O[Qn]||null)G=I.formAction;else if(hw(A)!==null)continue}else G=I.action;typeof G=="function"?m[v+1]=G:(m.splice(v,3),v-=3),tC(m)}}}function nC(){function s(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function pw(s){this._internalRoot=s}i0.prototype.render=pw.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,v=Ti();KN(m,v,s,c,null,null)},i0.prototype.unmount=pw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;KN(s.current,2,null,s,null,null),$g(),c[Lo]=null}};function i0(s){this._internalRoot=s}i0.prototype.unstable_scheduleHydration=function(s){if(s){var c=Tf();s={blockedOn:null,target:s,priority:c};for(var m=0;m<vl.length&&c!==0&&c<vl[m].priority;m++);vl.splice(m,0,s),m===0&&QN(s)}};var rC=t.version;if(rC!=="19.2.1")throw Error(r(527,rC,"19.2.1"));Q.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var RH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{qt=a0.inject(RH),mn=a0}catch{}}return Oh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,v="",A=uO,O=dO,I=fO;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=qN(s,1,!1,null,null,m,v,null,A,O,I,nC),s[Lo]=c.current,Z_(s),new pw(c)},Oh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var v=!1,A="",O=uO,I=dO,G=fO,te=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=qN(s,1,!0,c,m??null,v,A,te,O,I,G,nC),c.context=YN(null),m=c.current,v=Ti(),v=Yr(v),A=il(v),A.callback=null,al(m,A,v),m=v,c.current.lanes=m,Ro(c,m),co(c),s[Lo]=c.current,Z_(s),new i0(c)},Oh.version="19.2.1",Oh}var hC;function qH(){if(hC)return yw.exports;hC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yw.exports=GH(),yw.exports}var YH=qH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mC="popstate";function KH(e={}){function t(i,a){let{pathname:o="/",search:l="",hash:u=""}=gu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),tE("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof a=="string"?a:xm(a))}function r(i,a){zi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return VH(t,n,r,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WH(){return Math.random().toString(36).substring(2,10)}function pC(e,t){return{usr:e.state,key:e.key,idx:t}}function tE(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gu(t):t,state:n,key:t&&t.key||r||WH()}}function xm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function VH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let w=h(),T=w==null?null:w-d;d=w,u&&u({action:l,location:_.location,delta:T})}function b(w,T){l="PUSH";let N=tE(_.location,w,T);n&&n(N,w),d=h()+1;let j=pC(N,d),C=_.createHref(N);try{o.pushState(j,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(C)}a&&u&&u({action:l,location:_.location,delta:1})}function x(w,T){l="REPLACE";let N=tE(_.location,w,T);n&&n(N,w),d=h();let j=pC(N,d),C=_.createHref(N);o.replaceState(j,"",C),a&&u&&u({action:l,location:_.location,delta:0})}function E(w){return ZH(w)}let _={get action(){return l},get location(){return e(i,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(mC,p),u=w,()=>{i.removeEventListener(mC,p),u=null}},createHref(w){return t(i,w)},createURL:E,encodeLocation(w){let T=E(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:x,go(w){return o.go(w)}};return _}function ZH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function s$(e,t,n="/"){return XH(e,t,n,!1)}function XH(e,t,n,r){let i=typeof t=="string"?gu(t):t,a=bs(i.pathname||"/",n);if(a==null)return null;let o=l$(e);JH(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=cG(a);l=sG(o[u],d,r)}return l}function l$(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;ln(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=ms([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),l$(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:aG(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of c$(o.path))a(o,l,!0,u)}),t}function c$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=c$(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function JH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oG(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QH=/^:[\w-]+$/,eG=3,tG=2,nG=1,rG=10,iG=-2,gC=e=>e==="*";function aG(e,t){let n=e.split("/"),r=n.length;return n.some(gC)&&(r+=iG),t&&(r+=tG),n.filter(i=>!gC(i)).reduce((i,a)=>i+(QH.test(a)?eG:a===""?nG:rG),r)}function oG(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function sG(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Tb({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Tb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ms([a,p.pathname]),pathnameBase:mG(ms([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=ms([a,p.pathnameBase]))}return o}function Tb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lG(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},b)=>{if(h==="*"){let E=l[b]||"";o=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=l[b];return p&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function lG(e,t=!1,n=!0){zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function cG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var uG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dG=e=>uG.test(e);function fG(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?gu(e):e,a;if(n)if(dG(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=bC(n.substring(1),"/"):a=bC(n,t)}else a=t;return{pathname:a,search:pG(r),hash:gG(i)}}function bC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ww(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i2(e){let t=hG(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function a2(e,t,n,r=!1){let i;typeof e=="string"?i=gu(e):(i={...e},ln(!i.pathname||!i.pathname.includes("?"),ww("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),ww("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),ww("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=fG(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),mG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function yG(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u$=["POST","PUT","PATCH","DELETE"];new Set(u$);var vG=["GET",...u$];new Set(vG);var of=S.createContext(null);of.displayName="DataRouter";var nv=S.createContext(null);nv.displayName="DataRouterState";S.createContext(!1);var d$=S.createContext({isTransitioning:!1});d$.displayName="ViewTransition";var xG=S.createContext(new Map);xG.displayName="Fetchers";var _G=S.createContext(null);_G.displayName="Await";var ya=S.createContext(null);ya.displayName="Navigation";var Jm=S.createContext(null);Jm.displayName="Location";var Co=S.createContext({outlet:null,matches:[],isDataRoute:!1});Co.displayName="Route";var o2=S.createContext(null);o2.displayName="RouteError";function wG(e,{relative:t}={}){ln(sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ya),{hash:i,pathname:a,search:o}=Qm(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:ms([n,a])),r.createHref({pathname:l,search:o,hash:i})}function sf(){return S.useContext(Jm)!=null}function Hi(){return ln(sf(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Jm).location}var f$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h$(e){S.useContext(ya).static||S.useLayoutEffect(e)}function rv(){let{isDataRoute:e}=S.useContext(Co);return e?RG():SG()}function SG(){ln(sf(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(of),{basename:t,navigator:n}=S.useContext(ya),{matches:r}=S.useContext(Co),{pathname:i}=Hi(),a=JSON.stringify(i2(r)),o=S.useRef(!1);return h$(()=>{o.current=!0}),S.useCallback((u,d={})=>{if(zi(o.current,f$),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=a2(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ms([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}S.createContext(null);function Qm(e,{relative:t}={}){let{matches:n}=S.useContext(Co),{pathname:r}=Hi(),i=JSON.stringify(i2(n));return S.useMemo(()=>a2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function EG(e,t){return m$(e,t)}function m$(e,t,n,r,i){ln(sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(ya),{matches:o}=S.useContext(Co),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";p$(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Hi(),x;if(t){let N=typeof t=="string"?gu(t):t;ln(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=b;let E=x.pathname||"/",_=E;if(h!=="/"){let N=h.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=s$(e,{pathname:_});zi(p||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=OG(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:ms([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ms([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?S.createElement(Jm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function kG(){let e=PG(),t=bG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}var AG=S.createElement(kG,null),TG=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Co.Provider,{value:this.props.routeContext},S.createElement(o2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jG({routeContext:e,match:t,children:n}){let r=S.useContext(of);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Co.Provider,{value:e},n)}function OG(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ln(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:x}=n,E=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||E){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:yG(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let x,E=!1,_=null,w=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||AG,l&&(u<0&&b===0?(p$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):u===b&&(E=!0,w=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,b+1)),N=()=>{let j;return x?j=_:E?j=w:p.route.Component?j=S.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,S.createElement(jG,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?S.createElement(TG,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):N()},null)}function s2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NG(e){let t=S.useContext(of);return ln(t,s2(e)),t}function CG(e){let t=S.useContext(nv);return ln(t,s2(e)),t}function MG(e){let t=S.useContext(Co);return ln(t,s2(e)),t}function l2(e){let t=MG(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DG(){return l2("useRouteId")}function PG(){let e=S.useContext(o2),t=CG("useRouteError"),n=l2("useRouteError");return e!==void 0?e:t.errors?.[n]}function RG(){let{router:e}=NG("useNavigate"),t=l2("useNavigate"),n=S.useRef(!1);return h$(()=>{n.current=!0}),S.useCallback(async(i,a={})=>{zi(n.current,f$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var yC={};function p$(e,t,n){!t&&!yC[e]&&(yC[e]=!0,zi(!1,n))}S.memo(LG);function LG({routes:e,future:t,state:n,unstable_onError:r}){return m$(e,void 0,n,r,t)}function IG({to:e,replace:t,state:n,relative:r}){ln(sf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(ya);zi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(Co),{pathname:o}=Hi(),l=rv(),u=a2(e,i2(a),o,r==="path"),d=JSON.stringify(u);return S.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function $c(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $G({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){ln(!sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=gu(n));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:x="default"}=n,E=S.useMemo(()=>{let _=bs(d,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:b,key:x},navigationType:r}},[l,d,h,p,b,x,r]);return zi(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:S.createElement(ya.Provider,{value:u},S.createElement(Jm.Provider,{children:t,value:E}))}function BG({children:e,location:t}){return EG(nE(e),t)}function nE(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,nE(r.props.children,a));return}ln(r.type===$c,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nE(r.props.children,a)),n.push(o)}),n}var ub="get",db="application/x-www-form-urlencoded";function iv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function zG(e){return iv(e)&&e.tagName.toLowerCase()==="button"}function UG(e){return iv(e)&&e.tagName.toLowerCase()==="form"}function FG(e){return iv(e)&&e.tagName.toLowerCase()==="input"}function HG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GG(e,t){return e.button===0&&(!t||t==="_self")&&!HG(e)}var o0=null;function qG(){if(o0===null)try{new FormData(document.createElement("form"),0),o0=!1}catch{o0=!0}return o0}var YG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sw(e){return e!=null&&!YG.has(e)?(zi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${db}"`),null):e}function KG(e,t){let n,r,i,a,o;if(UG(e)){let l=e.getAttribute("action");r=l?bs(l,t):null,n=e.getAttribute("method")||ub,i=Sw(e.getAttribute("enctype"))||db,a=new FormData(e)}else if(zG(e)||FG(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?bs(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ub,i=Sw(e.getAttribute("formenctype"))||Sw(l.getAttribute("enctype"))||db,a=new FormData(l,e),!qG()){let{name:d,type:h,value:p}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,p)}}else{if(iv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ub,r=null,i=db,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WG(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&bs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await VG(a,n);return o.links?o.links():[]}return[]}));return tq(r.flat(1).filter(ZG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vC(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function JG(e,t,{includeHydrateFallback:n}={}){return QG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function QG(e){return[...new Set(e)]}function eq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(eq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function g$(){let e=S.useContext(of);return c2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nq(){let e=S.useContext(nv);return c2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var u2=S.createContext(void 0);u2.displayName="FrameworkContext";function b$(){let e=S.useContext(u2);return c2(e,"You must render this element inside a <HydratedRouter> element"),e}function rq(e,t){let n=S.useContext(u2),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,b=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=T=>{T.forEach(N=>{o(N.isIntersecting)})},w=new IntersectionObserver(_,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[e]),S.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let x=()=>{i(!0)},E=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Nh(l,x),onBlur:Nh(u,E),onMouseEnter:Nh(d,x),onMouseLeave:Nh(h,E),onTouchStart:Nh(p,x)}]:[!1,b,{}]}function Nh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iq({page:e,...t}){let{router:n}=g$(),r=S.useMemo(()=>s$(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(oq,{page:e,matches:r,...t}):null}function aq(e){let{manifest:t,routeModules:n}=b$(),[r,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return XG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function oq({page:e,matches:t,...n}){let r=Hi(),{manifest:i,routeModules:a}=b$(),{basename:o}=g$(),{loaderData:l,matches:u}=nq(),d=S.useMemo(()=>vC(e,t,u,i,r,"data"),[e,t,u,i,r]),h=S.useMemo(()=>vC(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,_=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!d.some(j=>j.route.id===T.route.id)&&T.route.id in l&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:E.add(T.route.id))}),E.size===0)return[];let w=WG(e,o,"data");return _&&E.size>0&&w.searchParams.set("_routes",t.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[o,l,r,i,d,t,e,a]),b=S.useMemo(()=>JG(h,i),[h,i]),x=aq(h);return S.createElement(S.Fragment,null,p.map(E=>S.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>S.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:_})=>S.createElement("link",{key:E,nonce:n.nonce,..._})))}function sq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y$&&(window.__reactRouterVersion="7.10.1")}catch{}function lq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=KH({window:r,v5Compat:!0}));let a=i.current,[o,l]=S.useState({action:a.action,location:a.location}),u=S.useCallback(d=>{n===!1?l(d):S.startTransition(()=>l(d))},[n]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement($G,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var v$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x$=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...b},x){let{basename:E,unstable_useTransitions:_}=S.useContext(ya),w=typeof d=="string"&&v$.test(d),T,N=!1;if(typeof d=="string"&&w&&(T=d,y$))try{let W=new URL(window.location.href),H=d.startsWith("//")?new URL(W.protocol+d):new URL(d),z=bs(H.pathname,E);H.origin===W.origin&&z!=null?d=z+H.search+H.hash:N=!0}catch{zi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=wG(d,{relative:i}),[C,M,P]=rq(r,b),$=fq(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:_});function F(W){t&&t(W),W.defaultPrevented||$(W)}let Y=S.createElement("a",{...b,...P,href:T||j,onClick:N||a?t:F,ref:sq(x,M),target:u,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?S.createElement(S.Fragment,null,Y,S.createElement(iq,{page:j})):Y});x$.displayName="Link";var cq=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let p=Qm(o,{relative:d.relative}),b=Hi(),x=S.useContext(nv),{navigator:E,basename:_}=S.useContext(ya),w=x!=null&&bq(p)&&l===!0,T=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,N=b.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),j=j?j.toLowerCase():null,T=T.toLowerCase()),j&&_&&(j=bs(j,_)||j);const C=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=N===T||!i&&N.startsWith(T)&&N.charAt(C)==="/",P=j!=null&&(j===T||!i&&j.startsWith(T)&&j.charAt(T.length)==="/"),$={isActive:M,isPending:P,isTransitioning:w},F=M?t:void 0,Y;typeof r=="function"?Y=r($):Y=[r,M?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a($):a;return S.createElement(x$,{...d,"aria-current":F,className:Y,ref:h,style:W,to:o,viewTransition:l},typeof u=="function"?u($):u)});cq.displayName="NavLink";var uq=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=ub,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...b},x)=>{let{unstable_useTransitions:E}=S.useContext(ya),_=pq(),w=gq(l,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&v$.test(l),j=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,P=M?.getAttribute("formmethod")||o,$=()=>_(M||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p});E&&n!==!1?S.startTransition(()=>$()):$()};return S.createElement("form",{ref:x,method:T,action:w,onSubmit:r?u:j,...b,"data-discover":!N&&e==="render"?"true":void 0})});uq.displayName="Form";function dq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _$(e){let t=S.useContext(of);return ln(t,dq(e)),t}function fq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=rv(),d=Hi(),h=Qm(e,{relative:a});return S.useCallback(p=>{if(GG(p,t)){p.preventDefault();let b=n!==void 0?n:xm(d)===xm(h),x=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?S.startTransition(()=>x()):x()}},[d,u,h,n,r,t,e,i,a,o,l])}var hq=0,mq=()=>`__${String(++hq)}__`;function pq(){let{router:e}=_$("useSubmit"),{basename:t}=S.useContext(ya),n=DG(),r=e.fetch,i=e.navigate;return S.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=KG(a,t);if(o.navigate===!1){let b=o.fetcherKey||mq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function gq(e,{relative:t}={}){let{basename:n}=S.useContext(ya),r=S.useContext(Co);ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Qm(e||".",{relative:t})},o=Hi();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ms([n,a.pathname])),xm(a)}function bq(e,{relative:t}={}){let n=S.useContext(d$);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_$("useViewTransitionState"),i=Qm(e,{relative:t});if(!n.isTransitioning)return!1;let a=bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tb(i.pathname,o)!=null||Tb(i.pathname,a)!=null}var bu=o$();const yq=hi(bu);let vq={data:""},xq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||vq,_q=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wq=/\/\*[^]*?\*\/|  +/g,xC=/\n+/g,El=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?El(o,a):a+"{"+El(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=El(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=El.p?El.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},is={},w$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+w$(e[n]);return t}return e},Sq=(e,t,n,r,i)=>{let a=w$(e),o=is[a]||(is[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!is[o]){let u=a!==e?e:(d=>{let h,p,b=[{}];for(;h=_q.exec(d.replace(wq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(xC," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(xC," ").trim();return b[0]})(e);is[o]=El(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&is.g?is.g:null;return n&&(is.g=is[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(is[o],t,r,l),o},Eq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":El(l,""):l===!1?"":l}return r+i+(o??"")},"");function av(e){let t=this||{},n=e.call?e(t.p):e;return Sq(n.unshift?n.raw?Eq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,xq(t.target),t.g,t.o,t.k)}let S$,rE,iE;av.bind({g:1});let ys=av.bind({k:1});function kq(e,t,n,r){El.p=t,S$=e,rE=n,iE=r}function Bl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:rE&&rE()},l),n.o=/ *go\d+/.test(u),l.className=av.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),iE&&d[0]&&iE(l),S$(d,l)}return i}}var Aq=e=>typeof e=="function",jb=(e,t)=>Aq(e)?e(t):e,Tq=(()=>{let e=0;return()=>(++e).toString()})(),E$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jq=20,d2="default",k$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return k$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},fb=[],A$={toasts:[],pausedAt:void 0,settings:{toastLimit:jq}},xo={},T$=(e,t=d2)=>{xo[t]=k$(xo[t]||A$,e),fb.forEach(([n,r])=>{n===t&&r(xo[t])})},j$=e=>Object.keys(xo).forEach(t=>T$(e,t)),Oq=e=>Object.keys(xo).find(t=>xo[t].toasts.some(n=>n.id===e)),ov=(e=d2)=>t=>{T$(t,e)},Nq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Cq=(e={},t=d2)=>{let[n,r]=S.useState(xo[t]||A$),i=S.useRef(xo[t]);S.useEffect(()=>(i.current!==xo[t]&&r(xo[t]),fb.push([t,r]),()=>{let o=fb.findIndex(([l])=>l===t);o>-1&&fb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||Nq[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},Mq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Tq()}),ep=e=>(t,n)=>{let r=Mq(t,e,n);return ov(r.toasterId||Oq(r.id))({type:2,toast:r}),r.id},Tn=(e,t)=>ep("blank")(e,t);Tn.error=ep("error");Tn.success=ep("success");Tn.loading=ep("loading");Tn.custom=ep("custom");Tn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?ov(t)(n):j$(n)};Tn.dismissAll=e=>Tn.dismiss(void 0,e);Tn.remove=(e,t)=>{let n={type:4,toastId:e};t?ov(t)(n):j$(n)};Tn.removeAll=e=>Tn.remove(void 0,e);Tn.promise=(e,t,n)=>{let r=Tn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?jb(t.success,i):void 0;return a?Tn.success(a,{id:r,...n,...n?.success}):Tn.dismiss(r),i}).catch(i=>{let a=t.error?jb(t.error,i):void 0;a?Tn.error(a,{id:r,...n,...n?.error}):Tn.dismiss(r)}),e};var Dq=1e3,Pq=(e,t="default")=>{let{toasts:n,pausedAt:r}=Cq(e,t),i=S.useRef(new Map).current,a=S.useCallback((p,b=Dq)=>{if(i.has(p))return;let x=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,x)},[]);S.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(x=>{if(x.duration===1/0)return;let E=(x.duration||0)+x.pauseDuration-(p-x.createdAt);if(E<0){x.visible&&Tn.dismiss(x.id);return}return setTimeout(()=>Tn.dismiss(x.id,t),E)});return()=>{b.forEach(x=>x&&clearTimeout(x))}},[n,r,t]);let o=S.useCallback(ov(t),[t]),l=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=S.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),d=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=S.useCallback((p,b)=>{let{reverseOrder:x=!1,gutter:E=8,defaultPosition:_}=b||{},w=n.filter(j=>(j.position||_)===(p.position||_)&&j.height),T=w.findIndex(j=>j.id===p.id),N=w.filter((j,C)=>C<T&&j.visible).length;return w.filter(j=>j.visible).slice(...x?[N+1]:[0,N]).reduce((j,C)=>j+(C.height||0)+E,0)},[n]);return S.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},Rq=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Lq=ys`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iq=ys`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$q=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Lq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Iq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Bq=ys`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zq=Bl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Bq} 1s linear infinite;
`,Uq=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Fq=ys`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hq=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Uq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Fq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Gq=Bl("div")`
  position: absolute;
`,qq=Bl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Yq=ys`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kq=Bl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Yq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Wq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(Kq,null,t):t:n==="blank"?null:S.createElement(qq,null,S.createElement(zq,{...r}),n!=="loading"&&S.createElement(Gq,null,n==="error"?S.createElement($q,{...r}):S.createElement(Hq,{...r})))},Vq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Xq="0%{opacity:0;} 100%{opacity:1;}",Jq="0%{opacity:1;} 100%{opacity:0;}",Qq=Bl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eY=Bl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tY=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=E$()?[Xq,Jq]:[Vq(n),Zq(n)];return{animation:t?`${ys(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ys(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nY=S.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?tY(e.position||t||"top-center",e.visible):{opacity:0},a=S.createElement(Wq,{toast:e}),o=S.createElement(eY,{...e.ariaProps},jb(e.message,e));return S.createElement(Qq,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):S.createElement(S.Fragment,null,a,o))});kq(S.createElement);var rY=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=S.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:a,className:t,style:n},i)},iY=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},aY=av`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,s0=16,O$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=Pq(n,a);return S.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:s0,left:s0,right:s0,bottom:s0,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),x=iY(p,b);return S.createElement(rY,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?aY:"",style:x},h.type==="custom"?jb(h.message,h):i?i(h):S.createElement(nY,{toast:h,position:p}))}))},_o=Tn;function oY(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const sY=864e5;function lY(e){const t=(e-24405875e-1)*sY;return new Date(t)}function cY(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function uY(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const fm=Math.PI,Yc=fm/180,dY=180/fm,fY=86400;function hY(e){return e%=360,e<0?e+360:e}function mY(e,t){return(e-t+540)%360-180}function _C(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function pY(e){const[t,n]=uY(e);return e+cY(t,Math.round(n))/fY}function wC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function gY(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Yc,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Yc,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Yc,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Yc,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Yc,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,p,b,x,E,_,w,T,N]of l){const j=h*n+p*r+b*i+x*a+E*o;u+=(_+w*t)*Math.sin(j),d+=(T+N*t)*Math.cos(j)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function l0(e){const t=pY(e),n=(t-2451545)/365250,r=wC(SC.L,n),i=wC(SC.R,n);let a=r+fm;a>2*fm&&(a-=2*fm);const{dpsi:o}=gY(t),l=o/3600*Yc,u=20.4898/(3600*i),d=a+l-u*Yc;return hY(d*dY)}function _n(e,t,n){const r=(t%360+360)%360,i=oY(e,1,1),a=l0(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const x=l0(l),E=mY(r,x);if(Math.abs(E)<u)break;const _=l0(l+d),w=l0(l-d),T=_C(_,x),N=_C(w,x),j=(T-N)/(2*d);l+=E/j}const h=lY(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const SC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},bY=(e,t)=>(e%t+t)%t,N$=(e,t)=>(e%t+t)%t,C$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),EC=new Map;function M$(e,t=127.5){const n=`${e}@${t}`,r=EC.get(n);if(r)return r;const i=_n(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return EC.set(n,i),i}function D$(e,t=127.5){if(!C$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=M$(n,t),i=e<r?n-1:n,a=bY(i-4,60);return{useYear:i,index60Num:a}}const Hr=["","","","","","","","","",""],ui=["","","","","","","","","","","",""],aE={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ka={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},yY=["","","","","","","","","",""],vY=["","","","","","","","","","","",""],xY=["","","","","","","","","","","","","","","","","","","",""],_Y=["","","","","","","","","","","","","","","","","","","","","","","",""],Ud=new Set(Hr),_m=new Set(ui),Bn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ob=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],wY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},SY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function it(e,t=127.5){const{index60Num:n}=D$(e,t);return f2[n]}function EY(e,t=127.5){return(it(e,t)||"").charAt(0)}const kY=[2,4,6,8,0,2,4,6,8,0];function AY(e,t=127.5){const n=new Array(12);return n[0]=M$(e,t),n[1]=_n(e,345,t),n[2]=_n(e,15,t),n[3]=_n(e,45,t),n[4]=_n(e,75,t),n[5]=_n(e,105,t),n[6]=_n(e,135,t),n[7]=_n(e,165,t),n[8]=_n(e,195,t),n[9]=_n(e,225,t),n[10]=_n(e,255,t),n[11]=_n(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function TY(e,t=127.5){const{useYear:n}=D$(e,t),r=AY(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function jY(e,t=127.5){const n=EY(e,t),r=aE..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return kY[r]}function OY(e,t,n=127.5){return(jY(e,n)+(t-1))%10}function _t(e,t=127.5){if(!C$(e))return"";const{monthIndex:n}=TY(e,t),r=(2+(n-1))%12,i=aE.[r],a=OY(e,n,t);return aE.[a]+i}const Nb={JDN:2445731,idx:0};function P$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function NY(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=DY(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function CY(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function ht(e,t){const n=NY(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=P$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=N$(a-Nb.JDN+Nb.idx,60),l=f2[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function MY(e,t){const n=new Date(e),r=CY(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=P$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=N$(o-Nb.JDN+Nb.idx,60),u=f2[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function DY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Ob.length;n+=1){const{branch:r,start:i,end:a}=Ob[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function PY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Ob.length;n+=1){const{branch:r,start:i,end:a}=Ob[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function RY(e,t,n,r){const i=Hr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Hr[a]}function Fa(e,t,n){e instanceof Date||(e=new Date(e));const r=PY(e),i=ui.indexOf(r),o=(n??ht(e,t)).charAt(0);return RY(e,o,i,t)+r}const kC=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},LY=(e=>e?kC(e):kC),IY=e=>e;function $Y(e,t=IY){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const AC=e=>{const t=LY(e),n=r=>$Y(t,r);return Object.assign(n,t),n},As=(e=>e?AC(e):AC);function BY(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const oE=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return oE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return oE(r)(n)}}}},zY=(e,t)=>(n,r,i)=>{let a={storage:BY(()=>localStorage),partialize:_=>_,version:0,merge:(_,w)=>({...w,..._}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(..._)},r,i);const h=()=>{const _=a.partialize({...r()});return d.setItem(a.name,{state:_,version:a.version})},p=i.setState;i.setState=(_,w)=>(p(_,w),h());const b=e((..._)=>(n(..._),h()),r,i);i.getInitialState=()=>b;let x;const E=()=>{var _,w;if(!d)return;o=!1,l.forEach(N=>{var j;return N((j=r())!=null?j:b)});const T=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(_=r())!=null?_:b))||void 0;return oE(d.getItem.bind(d))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const j=a.migrate(N.state,N.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var j;const[C,M]=N;if(x=a.merge(M,(j=r())!=null?j:b),n(x,!0),C)return h()}).then(()=>{T?.(x,void 0),x=r(),o=!0,u.forEach(N=>N(x))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:_=>{a={...a,..._},_.storage&&(d=_.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:_=>(l.add(_),()=>{l.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},a.skipHydration||E(),x||b},R$=zY;var as={},c0={},sE=function(e,t){return sE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},sE(e,t)};function L$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Cb=function(){return Cb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Cb.apply(this,arguments)};function lf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function I$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function $$(e,t){return function(n,r){t(n,r,e)}}function B$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,b=!1,x=n.length-1;x>=0;x--){var E={};for(var _ in r)E[_]=_==="access"?{}:r[_];for(var _ in r.access)E.access[_]=r.access[_];E.addInitializer=function(T){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var w=(0,n[x])(l==="accessor"?{get:h.get,set:h.set}:h[u],E);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=o(w.get))&&(h.get=p),(p=o(w.set))&&(h.set=p),(p=o(w.init))&&i.unshift(p)}else(p=o(w))&&(l==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,r.name,h),b=!0}function z$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function U$(e){return typeof e=="symbol"?e:"".concat(e)}function F$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function H$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function G$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var sv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function q$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&sv(t,e,n)}function Mb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Y$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h2(arguments[t]));return e}function K$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function W$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Fd(e){return this instanceof Fd?(this.v=e,this):new Fd(e)}function V$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(E){return Promise.resolve(E).then(x,p)}}function l(x,E){r[x]&&(i[x]=function(_){return new Promise(function(w,T){a.push([x,_,w,T])>1||u(x,_)})},E&&(i[x]=E(i[x])))}function u(x,E){try{d(r[x](E))}catch(_){b(a[0][3],_)}}function d(x){x.value instanceof Fd?Promise.resolve(x.value.v).then(h,p):b(a[0][2],x)}function h(x){u("next",x)}function p(x){u("throw",x)}function b(x,E){x(E),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Z$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Fd(e[i](o)),done:!1}:a?a(o):o}:a}}function X$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Mb=="function"?Mb(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function J$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var UY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},lE=function(e){return lE=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},lE(e)};function Q$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=lE(e),r=0;r<n.length;r++)n[r]!=="default"&&sv(t,e,n[r]);return UY(t,e),t}function eB(e){return e&&e.__esModule?e:{default:e}}function tB(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function nB(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function rB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function iB(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var FY=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function aB(e){function t(a){e.error=e.hasError?new FY(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function oB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const HY={__extends:L$,__assign:Cb,__rest:lf,__decorate:I$,__param:$$,__esDecorate:B$,__runInitializers:z$,__propKey:U$,__setFunctionName:F$,__metadata:H$,__awaiter:Ue,__generator:G$,__createBinding:sv,__exportStar:q$,__values:Mb,__read:h2,__spread:Y$,__spreadArrays:K$,__spreadArray:W$,__await:Fd,__asyncGenerator:V$,__asyncDelegator:Z$,__asyncValues:X$,__makeTemplateObject:J$,__importStar:Q$,__importDefault:eB,__classPrivateFieldGet:tB,__classPrivateFieldSet:nB,__classPrivateFieldIn:rB,__addDisposableResource:iB,__disposeResources:aB,__rewriteRelativeImportExtension:oB},GY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:iB,get __assign(){return Cb},__asyncDelegator:Z$,__asyncGenerator:V$,__asyncValues:X$,__await:Fd,__awaiter:Ue,__classPrivateFieldGet:tB,__classPrivateFieldIn:rB,__classPrivateFieldSet:nB,__createBinding:sv,__decorate:I$,__disposeResources:aB,__esDecorate:B$,__exportStar:q$,__extends:L$,__generator:G$,__importDefault:eB,__importStar:Q$,__makeTemplateObject:J$,__metadata:H$,__param:$$,__propKey:U$,__read:h2,__rest:lf,__rewriteRelativeImportExtension:oB,__runInitializers:z$,__setFunctionName:F$,__spread:Y$,__spreadArray:W$,__spreadArrays:K$,__values:Mb,default:HY},Symbol.toStringTag,{value:"Module"})),qY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let lv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},sB=class extends lv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},cE=class extends lv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},uE=class extends lv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Db;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Db||(Db={}));class YY{constructor(t,{headers:n={},customFetch:r,region:i=Db.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=qY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:p}=r;let b={},{region:x}=r;x||(x=this.region);const E=new URL(`${this.url}/${n}`);x&&x!=="any"&&(b["x-region"]=x,E.searchParams.set("forceFunctionRegion",x));let _;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=d):typeof d=="string"?(b["Content-Type"]="text/plain",_=d):typeof FormData<"u"&&d instanceof FormData?_=d:(b["Content-Type"]="application/json",_=JSON.stringify(d)):_=d;let w=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(w=o.signal,h.addEventListener("abort",()=>o.abort())):w=o.signal);const T=yield this.fetch(E.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:_,signal:w}).catch(M=>{throw new sB(M)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new cE(T);if(!T.ok)throw new uE(T);let j=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield T.json():j==="application/octet-stream"||j==="application/pdf"?C=yield T.blob():j==="text/event-stream"?C=T:j==="multipart/form-data"?C=yield T.formData():C=yield T.text(),{data:C,error:null,response:T}}catch(l){return{data:null,error:l,response:l instanceof uE||l instanceof cE?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const KY=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Db},FunctionsClient:YY,FunctionsError:lv,FunctionsFetchError:sB,FunctionsHttpError:uE,FunctionsRelayError:cE},Symbol.toStringTag,{value:"Module"})),lB=Xm(KY);var jr={};const cf=Xm(GY);var u0={},d0={},f0={},h0={},m0={},p0={},TC;function cB(){if(TC)return p0;TC=1,Object.defineProperty(p0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return p0.default=e,p0}var jC;function uB(){if(jC)return m0;jC=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=cf.__importDefault(cB());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,b;let x=null,E=null,_=null,w=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?E=M:E=JSON.parse(M))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&C&&C.length>1&&(_=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,_=null,w=406,T="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const j=await u.text();try{x=JSON.parse(j),Array.isArray(x)&&u.status===404&&(E=[],x=null,w=200,T="OK")}catch{u.status===404&&j===""?(w=204,T="No Content"):x={message:j}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,w=200,T="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:E,count:_,status:w,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p,b,x,E;let _="";const w=u?.cause;if(w){const T=(d=w?.message)!==null&&d!==void 0?d:"",N=(h=w?.code)!==null&&h!==void 0?h:"";_=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,_+=`

Caused by: ${(b=w?.name)!==null&&b!==void 0?b:"Error"}: ${T}`,N&&(_+=` (${N})`),w?.stack&&(_+=`
${w.stack}`)}else _=(x=u?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(E=u?.name)!==null&&E!==void 0?E:"FetchError"}: ${u?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return m0.default=n,m0}var OC;function dB(){if(OC)return h0;OC=1,Object.defineProperty(h0,"__esModule",{value:!0});const t=cf.__importDefault(uB());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return h0.default=n,h0}var NC;function m2(){if(NC)return f0;NC=1,Object.defineProperty(f0,"__esModule",{value:!0});const t=cf.__importDefault(dB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return f0.default=r,f0}var CC;function fB(){if(CC)return d0;CC=1,Object.defineProperty(d0,"__esModule",{value:!0});const t=cf.__importDefault(m2());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return d0.default=n,d0}var MC;function WY(){if(MC)return u0;MC=1,Object.defineProperty(u0,"__esModule",{value:!0});const e=cf,t=e.__importDefault(fB()),n=e.__importDefault(m2());let r=class hB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new hB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let x;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{b.searchParams.append(_,w)})):(p="POST",x=o);const E=new Headers(this.headers);return d&&E.set("Prefer",`count=${d}`),new n.default({method:p,url:b,headers:E,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return u0.default=r,u0}var DC;function mB(){if(DC)return jr;DC=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const e=cf,t=e.__importDefault(WY());jr.PostgrestClient=t.default;const n=e.__importDefault(fB());jr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(m2());jr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(dB());jr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(uB());jr.PostgrestBuilder=a.default;const o=e.__importDefault(cB());return jr.PostgrestError=o.default,jr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},jr}class pB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VY="2.86.2",ZY=`realtime-js/${VY}`,gB="1.0.0",XY="2.0.0",PC=gB,dE=1e4,JY=1e3,QY=100;var Kc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kc||(Kc={}));var Ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ln||(Ln={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var fE;(function(e){e.websocket="websocket"})(fE||(fE={}));var Wc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wc||(Wc={}));class eK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(x),_=0;E.setUint8(_++,this.KINDS.userBroadcastPush),E.setUint8(_++,u.length),E.setUint8(_++,l.length),E.setUint8(_++,o.length),E.setUint8(_++,d.length),E.setUint8(_++,p.length),E.setUint8(_++,n),Array.from(u,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(l,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(o,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(d,T=>E.setUint8(_++,T.charCodeAt(0))),Array.from(p,T=>E.setUint8(_++,T.charCodeAt(0)));var w=new Uint8Array(x.byteLength+r.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(r),x.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,E={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(E.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class bB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const RC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=tK(o,e,t,i),a),{}):{}},tK=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?yB(a,o):hE(o)},yB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return aK(t,n)}switch(e){case Yt.bool:return nK(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return rK(t);case Yt.json:case Yt.jsonb:return iK(t);case Yt.timestamp:return oK(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return hE(t);default:return hE(t)}},hE=e=>e,nK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aK=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>yB(t,l))}return e},oK=e=>typeof e=="string"?e.replace(" ","T"):e,vB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ew{constructor(t,n,r={},i=dE){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mE||(mE={}));let xB=class hb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=hb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const b=h.map(w=>w.presence_ref),x=p.map(w=>w.presence_ref),E=h.filter(w=>x.indexOf(w.presence_ref)<0),_=p.filter(w=>b.indexOf(w.presence_ref)<0);E.length>0&&(l[d]=E),_.length>0&&(u[d]=_)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(x=>x.presence_ref),b=h.filter(x=>p.indexOf(x.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var pE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pE||(pE={}));var Dd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dd||(Dd={}));var po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));const sK=Ln;let _B=class wB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ew(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new bB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ln.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new xB(this),this.broadcastEndpointURL=vB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ln.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Dd.PRESENCE]&&this.bindings[Dd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(po.CHANNEL_ERROR,x)),this._onClose(()=>t?.(po.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var E;if(this.socket.setAuth(),x===void 0){t?.(po.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,w=(E=_?.length)!==null&&E!==void 0?E:0,T=[];for(let N=0;N<w;N++){const j=_[N],{filter:{event:C,schema:M,table:P,filter:$}}=j,F=x&&x[N];if(F&&F.event===C&&F.schema===M&&F.table===P&&F.filter===$)T.push(Object.assign(Object.assign({},j),{id:F.id}));else{this.unsubscribe(),this.state=Ln.errored,t?.(po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(po.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ln.errored,t?.(po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ln.joined&&t===Dd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ln.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ew(this,Pa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ln.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ew(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Pa;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var E,_,w;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((w=(_=x.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(x=>x.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var E,_,w,T,N,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const C=x.id,M=(E=x.filter)===null||E===void 0?void 0:E.event;return C&&((_=n.ids)===null||_===void 0?void 0:_.includes(C))&&(M==="*"||M?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const C=(N=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:_,table:w,commit_timestamp:T,type:N,errors:j}=E;b=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:T,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(E))}x.callback(b,r)})}_isClosed(){return this.state===Ln.closed}_isJoined(){return this.state===Ln.joined}_isJoining(){return this.state===Ln.joining}_isLeaving(){return this.state===Ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&wB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=RC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=RC(t.columns,t.old_record)),n}};const kw=()=>{},g0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lK=[1e3,2e3,5e3,1e4],cK=1e4,uK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let dK=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dE,this.transport=null,this.heartbeatIntervalMs=g0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kw,this.ref=0,this.reconnectTimer=null,this.vsn=PC,this.logger=kw,this.conn=null,this.sendBuffer=[],this.serializer=new eK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${fE.websocket}`,this.httpEndpoint=vB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kc.connecting:return Wc.Connecting;case Kc.open:return Wc.Open;case Kc.closing:return Wc.Closing;default:return Wc.Closed}}isConnected(){return this.connectionState()===Wc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new _B(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(JY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},g0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kc.open||this.conn.readyState===Kc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([uK],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:ZY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},g0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,p,b,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:dE,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:g0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:kw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:PC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(E=>lK[E-1]||cK),this.vsn){case gB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((E,_)=>_(JSON.stringify(E))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((E,_)=>_(JSON.parse(E)));break;case XY:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const fK=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:sK,get REALTIME_LISTEN_TYPES(){return Dd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return pE},get REALTIME_PRESENCE_LISTEN_EVENTS(){return mE},get REALTIME_SUBSCRIBE_STATES(){return po},RealtimeChannel:_B,RealtimeClient:dK,RealtimePresence:xB,WebSocketFactory:pB},Symbol.toStringTag,{value:"Module"})),SB=Xm(fK);class tp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class EB extends tp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pb extends tp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const p2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hK=()=>Response,gE=e=>{if(Array.isArray(e))return e.map(n=>gE(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=gE(r)}),t},mK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Aw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},gK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield hK();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new EB(Aw(i),a,o))}).catch(i=>{t(new Pb(Aw(i),i))}):t(new Pb(Aw(e),e))}),bK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(mK(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function np(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,bK(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>gK(u,l,r))})})}function wm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return np(e,"GET",t,n,r)})}function Da(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return np(e,"POST",t,r,i,n)})}function bE(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return np(e,"PUT",t,r,i,n)})}function yK(e,t,n,r){return Ue(this,void 0,void 0,function*(){return np(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function g2(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return np(e,"DELETE",t,r,i,n)})}class vK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var kB;class xK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[kB]="BlobDownloadBuilder",this.promise=null}asStream(){return new vK(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}kB=Symbol.toStringTag;const _K={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wK{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=p2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},LC),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(t=="PUT"?bE:Da)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:LC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield bE(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Da(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new tp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>wm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new xK(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gE(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield yK(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof Pb){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield g2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_K),n),{prefix:t||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const AB="2.86.2",TB={"X-Client-Info":`storage-js/${AB}`};class SK{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TB),n),this.fetch=p2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield wm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield wm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield bE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield g2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Sm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function EK(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function kK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function AK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=EK(e.baseUrl,r,i),u=await kK(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!d.ok){const x=p?b:void 0,E=x?.error;throw new Sm(E?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:E?.type,icebergCode:E?.code,details:x})}return{status:d.status,headers:d.headers,data:b}}}}function b0(e){return e.join("")}var TK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:b0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${b0(e.namespace)}`}),!0}catch(t){if(t instanceof Sm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Sm&&n.status===409)return;throw n}}};function ld(e){return e.join("")}var jK=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ld(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Sm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Sm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},OK=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=AK({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new TK(this.client,t),this.tableOps=new jK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class jB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TB),n),this.fetch=p2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield wm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield g2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!pK(t))throw new tp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new OK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const b2={"X-Client-Info":`storage-js/${AB}`,"Content-Type":"application/json"};class y2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function li(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class mb extends y2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class OB extends y2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var yE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(yE||(yE={}));const cv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NK=()=>Response,NB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},CK=e=>Array.from(new Float32Array(e)),MK=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},IC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new mb(IC(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new mb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new mb(l,i,o))}}else t(new OB(IC(e),e))}),PK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(NB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function RK(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,PK(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>DK(u,l,r))})})}function Di(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return RK(e,"POST",t,r,i,n)})}class CB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},b2),n),this.fetch=cv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}}class MB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},b2),n),this.fetch=cv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Di(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}}class DB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},b2),n),this.fetch=cv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Di(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}}class PB extends DB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new RB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class RB extends CB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new LB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class LB extends MB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class LK extends SK{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new wK(this.url,this.headers,t,this.fetch)}get vectors(){return new PB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new jB(this.url+"/iceberg",this.headers,this.fetch)}}const IK=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:jB,StorageApiError:EB,StorageClient:LK,StorageError:tp,StorageUnknownError:Pb,StorageVectorsApiError:mb,StorageVectorsClient:PB,StorageVectorsError:y2,get StorageVectorsErrorCode(){return yE},StorageVectorsUnknownError:OB,VectorBucketApi:DB,VectorBucketScope:RB,VectorDataApi:MB,VectorIndexApi:CB,VectorIndexScope:LB,isPlainObject:NB,isStorageError:nn,isStorageVectorsError:li,normalizeToFloat32:CK,resolveFetch:cv,resolveResponse:NK,validateVectorDimension:MK},Symbol.toStringTag,{value:"Module"})),$K=Xm(IK);var Tw={},Ch={},$C;function BK(){return $C||($C=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.version=void 0,Ch.version="2.86.2"),Ch}var BC;function zK(){return BC||(BC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=BK();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Tw)),Tw}var jw={},zC;function UK(){return zC||(zC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let x=new u(h?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:x}))}};e.fetchWithAuth=r})(jw)),jw}var os={},UC;function FK(){if(UC)return os;UC=1,Object.defineProperty(os,"__esModule",{value:!0}),os.isBrowser=void 0,os.uuid=e,os.ensureTrailingSlash=t,os.applySettingDefaults=r,os.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";os.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:p,global:b}=a,{db:x,auth:E,realtime:_,global:w}=o,T={db:Object.assign(Object.assign({},x),d),auth:Object.assign(Object.assign({},E),h),realtime:Object.assign(Object.assign({},_),p),storage:{},global:Object.assign(Object.assign(Object.assign({},w),b),{headers:Object.assign(Object.assign({},(l=w?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return os}var Mh={};const IB="2.86.2",wd=30*1e3,vE=3,Ow=vE*wd,HK="http://localhost:9999",GK="supabase.auth.token",qK={"X-Client-Info":`gotrue-js/${IB}`},xE="X-Supabase-Api-Version",$B={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KK=600*1e3;let Hd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let BB=class extends Hd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function zB(e){return Ge(e)&&e.name==="AuthApiError"}let kl=class extends Hd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Ts=class extends Hd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ii=class extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function UB(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Bc=class extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rm=class extends Ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},im=class extends Ts{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function FB(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let _E=class extends Ts{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Rb=class extends Ts{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function pb(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let wE=class extends Ts{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function WK(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let Lb=class extends Ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FC=` 	
\r=`.split(""),VK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FC.length;t+=1)e[FC[t].charCodeAt(0)]=-2;for(let t=0;t<Ib.length;t+=1)e[Ib[t].charCodeAt(0)]=t;return e})();function HC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ib[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ib[r]),t.queuedBits-=6}}function HB(e,t,n){const r=VK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function GC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{JK(o,r,n)};for(let o=0;o<e.length;o+=1)HB(e.charCodeAt(o),i,a);return t.join("")}function ZK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ZK(r,t)}}function JK(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Pd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)HB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function QK(e){const t=[];return XK(e,n=>t.push(n)),new Uint8Array(t)}function Xc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>HC(i,n,r)),HC(null,n,r),t.join("")}function eW(e){return Math.round(Date.now()/1e3)+e}function tW(){return Symbol("auth-callback")}const yr=()=>typeof window<"u"&&typeof document<"u",Oc={tested:!1,writable:!1},GB=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oc.tested)return Oc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oc.tested=!0,Oc.writable=!0}catch{Oc.tested=!0,Oc.writable=!1}return Oc.writable};function nW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const qB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Nc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gr=async(e,t)=>{await e.removeItem(t)};class uv{constructor(){this.promise=new uv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}uv.promiseConstructor=Promise;function Nw(e){const t=e.split(".");if(t.length!==3)throw new Lb("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!YK.test(t[r]))throw new Lb("JWT not in base64url format");return{header:JSON.parse(GC(t[0])),payload:JSON.parse(GC(t[1])),signature:Pd(t[2]),raw:{header:t[0],payload:t[1]}}}async function iW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aW(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function oW(e){return("0"+e.toString(16)).substr(-2)}function sW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,oW).join("")}async function lW(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function cW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await lW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cd(e,t,n=!1){const r=sW();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Sd(e,`${t}-code-verifier`,i);const a=await cW(r);return[a,r===a?"plain":"s256"]}const uW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dW(e){const t=e.headers.get(xE);if(!t||!t.match(uW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ud(e){if(!mW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pW(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function qC(e){return JSON.parse(JSON.stringify(e))}const zc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gW=[502,503,504];async function YC(e){var t;if(!rW(e))throw new Rb(zc(e),0);if(gW.includes(e.status))throw new Rb(zc(e),e.status);let n;try{n=await e.json()}catch(a){throw new kl(zc(a),a)}let r;const i=dW(e);if(i&&i.getTime()>=$B["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new wE(zc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new wE(zc(n),e.status,n.weak_password.reasons);throw new BB(zc(n),e.status||500,r)}const bW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[xE]||(a[xE]=$B["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await yW(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function yW(e,t,n,r,i,a){const o=bW(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Rb(zc(u),0)}if(l.ok||await YC(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await YC(u)}}function Ma(e){var t;let n=null;_W(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=eW(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function KC(e){const t=Ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Al(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vW(e){return{data:e,error:null}}function xW(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=lf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function WC(e){return e}function _W(e){return e.access_token&&e.refresh_token&&e.expires_in}const gb=["global","local","others"];let v2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=qB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=gb[0]){if(gb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gb.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Al})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=lf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xW,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Al})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:WC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(E.split(";")[1].split("=")[1]);d[`${w}Page`]=_}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ge(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ud(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Al})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ud(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Al})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ud(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Al})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ud(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ud(t.userId),ud(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:WC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(E.split(";")[1].split("=")[1]);d[`${w}Page`]=_}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ge(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function VC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Uc={debug:!!(globalThis&&GB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class x2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let YB=class extends x2{};class wW extends x2{}async function KB(e,t,n){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Uc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const ZC={};async function SW(e,t,n){var r;const i=(r=ZC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new wW(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return ZC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function EW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kW(e){return parseInt(e,16)}function AW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function TW(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=WB(e.address),E=h?`${h}://${r}`:r,_=e.statement?`${e.statement}
`:"",w=`${E} wants you to sign in with your Ethereum account:
${x}

${_}`;let T=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),l&&(T+=`
Not Before: ${l.toISOString()}`),u&&(T+=`
Request ID: ${u}`),d){let N=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}T+=N}return`${w}
${T}`}class In extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class $b extends In{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function jW({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new In({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new In({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new In({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new In({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new In({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new In({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(VB(o)){if(a.rp.id!==o)return new In({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new In({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function OW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new In({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new In({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(VB(r)){if(n.rpId!==r)return new In({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new In({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new In({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new In({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class NW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const CW=new NW;function MW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=lf(e,["challenge","user","excludeCredentials"]),a=Pd(t).buffer,o=Object.assign(Object.assign({},n),{id:Pd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Pd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function DW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=lf(e,["challenge","allowCredentials"]),i=Pd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Pd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function PW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function RW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xc(new Uint8Array(i.authenticatorData)),clientDataJSON:Xc(new Uint8Array(i.clientDataJSON)),signature:Xc(new Uint8Array(i.signature)),userHandle:i.userHandle?Xc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function XC(){var e,t;return!!(yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $b("Browser returned unexpected credential type",t)}:{data:null,error:new $b("Empty credential response",t)}}catch(t){return{data:null,error:jW({error:t,options:e})}}}async function IW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $b("Browser returned unexpected credential type",t)}:{data:null,error:new $b("Empty credential response",t)}}catch(t){return{data:null,error:OW({error:t,options:e})}}}const $W={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bb(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Bb(l,o):r[a]=Bb(o)}else r[a]=o}return r}function zW(e,t){return Bb($W,e,t||{})}function UW(e,t){return Bb(BW,e,t||{})}class FW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??CW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=zW(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await LW({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=UW(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await IW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new kl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Hd("rpId is required for WebAuthn authentication")};try{if(!XC())return{data:null,error:new kl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new kl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Hd("rpId is required for WebAuthn registration")};try{if(!XC())return{data:null,error:new kl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new kl("Unexpected error in register",o)}}}}EW();const HW={url:HK,storageKey:GK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function JC(e,t,n){return await n()}const dd={};let _2=class SE{get jwks(){var t,n;return(n=(t=dd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){dd[this.storageKey]=Object.assign(Object.assign({},dd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=dd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){dd[this.storageKey]=Object.assign(Object.assign({},dd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},HW),t);if(this.storageKey=a.storageKey,this.instanceID=(n=SE.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,SE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&yr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new v2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qB(a.fetch),this.lock=a.lock||JC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:yr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=KB:this.lock=JC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:GB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=VC(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yr()&&(n=nW(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new kl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ma}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await cd(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:E},xform:Ma})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ma})}else throw new rm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:KC})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:KC})}else throw new rm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Bc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,p,b;let x,E;if("message"in t)x=t.message,E=t.signature;else{const{chain:_,wallet:w,statement:T,options:N}=t;let j;if(yr())if(typeof w=="object")j=w;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")j=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const C=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),M=await j.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=WB(M[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const Y=await j.request({method:"eth_chainId"});$=kW(Y)}const F={domain:C.host,address:P,statement:T,uri:C.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=TW(F),E=await j.request({method:"personal_sign",params:[AW(x),P]})}try{const{data:_,error:w}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:E},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ma});if(w)throw w;if(!_||!_.session||!_.user){const T=new Bc;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:w})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,p,b,x;let E,_;if("message"in t)E=t.message,_=t.signature;else{const{chain:w,wallet:T,statement:N,options:j}=t;let C;if(yr())if(typeof T=="object")C=T;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=T}const M=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let $;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")$=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)$=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)E=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${M.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(h=j?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(E),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:w,error:T}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Xc(_)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ma});if(T)throw T;if(!w||!w.session||!w.user){const N=new Bc;return this._returnResult({data:{user:null,session:null},error:N})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:T})}catch(w){if(Ge(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const n=await Nc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ma});if(await gr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Bc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ma}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Bc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await cd(this.storage,this.storageKey));const{error:p}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new rm("You must provide either an email or phone number.")}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ma});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await cd(this.storage,this.storageKey));const d=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:vW});return!((a=d.data)===null||a===void 0)&&a.url&&yr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ii;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new rm("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ow:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Nc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Cw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=pW(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Al}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Al})})}catch(n){if(Ge(n))return UB(n)&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ii;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await cd(this.storage,this.storageKey));const{data:d,error:h}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Al});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Nw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ii;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yr())throw new im("No browser detected.");if(t.error||t.error_description||t.error_code)throw new im(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _E("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new im("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _E("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new im("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const x=b-h;x*1e3<=wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const E=b-p;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,h);const{data:_,error:w}=await this._getUser(a);if(w)throw w;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Nc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(zB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=tW(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await cd(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:p,error:b}=a;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return yr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ma}),{data:b,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Bc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await gr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aW(async i=>(i>0&&await iW(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ma})),(i,a)=>{const o=200*Math.pow(2,i);return a&&pb(a)&&Date.now()+o-r<wd})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Nc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Nc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Sd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Cw()}else if(i&&!i.user&&!i.user){const o=await Nc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await gr(this.storage,this.storageKey+"-user"),await Sd(this.storage,this.storageKey,i)):i.user=Cw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ow;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ow}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),pb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new uv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ii;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return pb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=qC(i);await Sd(this.storage,this.storageKey,a)}else{const i=qC(n);await Sd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gr(this.storage,this.storageKey),await gr(this.storage,this.storageKey+"-code-verifier"),await gr(this.storage,this.storageKey+"-user"),this.userStorage&&await gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wd}ms, refresh threshold is ${vE} ticks`),i<=vE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof x2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await cd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await et(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PW(t.webauthn.credential_response):RW(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Nw(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ii})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ii});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&yr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ii})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ii})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+KK>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:E}=await this.getSession();if(E||!x.session)return this._returnResult({data:null,error:E});r=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=Nw(r);n?.allowExpired||fW(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const h=hW(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,QK(`${l}.${u}`)))throw new Lb("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};_2.nextInstanceID={};const GW=v2,qW=_2,YW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:GW,AuthApiError:BB,AuthClient:qW,AuthError:Hd,AuthImplicitGrantRedirectError:im,AuthInvalidCredentialsError:rm,AuthInvalidJwtError:Lb,AuthInvalidTokenResponseError:Bc,AuthPKCEGrantCodeExchangeError:_E,AuthRetryableFetchError:Rb,AuthSessionMissingError:ii,AuthUnknownError:kl,AuthWeakPasswordError:wE,CustomAuthError:Ts,GoTrueAdminApi:v2,GoTrueClient:_2,NavigatorLockAcquireTimeoutError:YB,SIGN_OUT_SCOPES:gb,isAuthApiError:zB,isAuthError:Ge,isAuthImplicitGrantRedirectError:FB,isAuthRetryableFetchError:pb,isAuthSessionMissingError:UB,isAuthWeakPasswordError:WK,lockInternals:Uc,navigatorLock:KB,processLock:SW},Symbol.toStringTag,{value:"Module"})),ZB=Xm(YW);var QC;function KW(){if(QC)return Mh;QC=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.SupabaseAuthClient=void 0;const e=ZB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Mh.SupabaseAuthClient=t,Mh}var eM;function tM(){if(eM)return c0;eM=1,Object.defineProperty(c0,"__esModule",{value:!0});const e=lB,t=mB(),n=SB,r=$K,i=zK(),a=UK(),o=FK(),l=KW();class u{constructor(h,p,b){var x,E,_;this.supabaseUrl=h,this.supabaseKey=p;const w=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",w),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",w),this.storageUrl=new URL("storage/v1",w),this.functionsUrl=new URL("functions/v1",w);const T=`sb-${w.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,o.applySettingDefaults)(b??{},N);this.storageKey=(x=j.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(E=j.global.headers)!==null&&E!==void 0?E:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(C,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=j.auth)!==null&&_!==void 0?_:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",w).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:x,userStorage:E,storageKey:_,flowType:w,lock:T,debug:N,throwOnError:j},C,M){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:_,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:x,userStorage:E,flowType:w,lock:T,debug:N,throwOnError:j,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return c0.default=u,c0}var nM;function WW(){return nM||(nM=1,(function(e){var t=as&&as.__createBinding||(Object.create?(function(h,p,b,x){x===void 0&&(x=b);var E=Object.getOwnPropertyDescriptor(p,b);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,x,E)}):(function(h,p,b,x){x===void 0&&(x=b),h[x]=p[b]})),n=as&&as.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=as&&as.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(tM());n(ZB,e);var a=mB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=lB;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(SB,e);var l=tM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(as)),as}var XB=WW();const JB=hi(XB),VW=r2({__proto__:null,default:JB},[XB]),{PostgrestError:tOe,FunctionsHttpError:nOe,FunctionsFetchError:rOe,FunctionsRelayError:iOe,FunctionsError:aOe,FunctionRegion:oOe,SupabaseClient:sOe,createClient:ZW,GoTrueAdminApi:lOe,GoTrueClient:cOe,AuthAdminApi:uOe,AuthClient:dOe,navigatorLock:fOe,NavigatorLockAcquireTimeoutError:hOe,lockInternals:mOe,processLock:pOe,SIGN_OUT_SCOPES:gOe,AuthError:bOe,AuthApiError:yOe,AuthUnknownError:vOe,CustomAuthError:xOe,AuthSessionMissingError:_Oe,AuthInvalidTokenResponseError:wOe,AuthInvalidCredentialsError:SOe,AuthImplicitGrantRedirectError:EOe,AuthPKCEGrantCodeExchangeError:kOe,AuthRetryableFetchError:AOe,AuthWeakPasswordError:TOe,AuthInvalidJwtError:jOe,isAuthError:OOe,isAuthApiError:NOe,isAuthSessionMissingError:COe,isAuthImplicitGrantRedirectError:MOe,isAuthRetryableFetchError:DOe,isAuthWeakPasswordError:POe,RealtimePresence:ROe,RealtimeChannel:LOe,RealtimeClient:IOe,REALTIME_LISTEN_TYPES:$Oe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:BOe,REALTIME_PRESENCE_LISTEN_EVENTS:zOe,REALTIME_SUBSCRIBE_STATES:UOe,REALTIME_CHANNEL_STATES:FOe}=JB||VW,XW="https://jouhybyquybxbnqztxum.supabase.co",JW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",Me=ZW(XW,JW,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),QB="settings_v1",EE=()=>{try{typeof window<"u"&&window.localStorage.removeItem(QB)}catch{}},Jc={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},rM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],QW=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&rM.includes(r)):[],n=rM.filter(r=>!t.includes(r));return[...t,...n]},Rd=e=>({...Jc,...e,sectionOrder:QW(e.sectionOrder)}),eV=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Rd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Rd(n.settings)}}return Rd(e??{})},tV=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};EE();const jn=As()(R$((e,t)=>({settings:Jc,syncing:!1,loaded:!1,setSettings:n=>e({settings:Rd(n)}),setKey:(n,r)=>e({settings:Rd({...t().settings,[n]:r})}),reset:()=>e({settings:Jc,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),EE();const{data:i,error:a}=await Me.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Jc,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await Me.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await Me.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=eV(u.payload);e({settings:h,syncing:!1,loaded:!0}),tV(u.payload)&&await Me.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),EE();const{data:r,error:i}=await Me.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Jc});return}const o=Rd(t().settings),{error:l}=await Me.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:QB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function kE(e){const t=Hr.indexOf(e);if(t!==-1)return Hr[t];const n=Ka..indexOf(e);return n!==-1?Hr[n]:null}function e5(e){const t=ui.indexOf(e);if(t!==-1)return ui[t];const n=Ka..indexOf(e);return n!==-1?ui[n]:null}function iM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ui(e,t,n){if(t==="stem"){const r=kE(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Hr.indexOf(r),a=i>=0?yY[i]:void 0;return iM(a,n)}else{const r=e5(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=ui.indexOf(r),a=i>=0?vY[i]:void 0;return iM(a,n)}}function ma(e,t){const n=kE(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=kE(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return wY[n][r]}if(t.branch){const r=e5(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return SY[n][r]}throw new Error("getSipSin: stem or branch required")}const dv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},fv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function t5({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?fv:dv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,x)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},x):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||x===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",ma(t,{stem:b}),")"]},x))})}const rp=As(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),n5=Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e])),r5=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),nV=new Set(Object.keys(Bn)),rV=new Set(Object.keys(Kn)),iV=new Set(["","","","","","","","","",""]),aV=new Set(["","","","","","","","","","","",""]);function di(e,t,n){return n===""?t==="stem"?Bn[e]??e:Kn[e]??e:t==="stem"?n5[e]??e:r5[e]??e}function aM(e){const t=n5[e]??e;return nV.has(t)?t:""}function oV(e){const t=r5[e]??e;return rV.has(t)?t:""}function hv(e){if(Ud.has(e))return e;const t=Bn[e]??e;return Ud.has(t)?t:""}function w2(e){if(_m.has(e))return e;const t=Kn[e]??e;return _m.has(t)?t:""}function Ha(e,t){return t==="stem"?iV.has(e):aV.has(e)}function kd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:p}=rp(),b=h&&!p,x=t.charAt(0),E=t.charAt(1),_=di(x,"stem",r.charType),w=di(E,"branch",r.charType),T=aM(x),N=oV(E),j=aM(n),C=w2(E),M=hv(n),P=r.showSipSin?ma(j,{stem:T}):null,$=!o&&r.showSipSin?ma(j,{branch:N}):null,F=r.thinEum&&Ha(x,"stem")?"font-thin":"font-bold",Y=r.thinEum&&Ha(E,"branch")?"font-thin":"font-bold",W={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!l&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",V=r.hiddenStemMode==="hgc"?"hgc":"classic",X=d==="white",Z=X?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",q=X?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",Q=X?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ne=X?"text-neutral-500":"text-neutral-400",ue=X?"text-neutral-500":"text-neutral-400",{settings:se}=jn(),B=b?`bg-white ${Q}`:`${Ui(T,"stem",se)} ${Q}`,K=b?`bg-white ${Q}`:`${Ui(N,"branch",se)} ${Q}`,ie=b?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",J=b?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Z}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${q} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ne} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${W[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ie} ${F}`,children:b?"-":_})}),g.jsx("div",{className:`${W[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${K}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${J} ${Y}`,children:b?"-":w})}),H&&g.jsx(t5,{branch:C,dayStem:M,mode:z,mapping:V,isUnknownTime:h&&!p&&(e===""||e==="")}),$&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:h&&!p?"-":$}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),oM=e=>{const t=lV(e);return t.charAt(0).toUpperCase()+t.slice(1)},i5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),cV=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>S.createElement("svg",{ref:u,...uV,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:i5("lucide",i),...!a&&!cV(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>S.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(dV,{ref:a,iconNode:t,className:i5(`lucide-${sV(oM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=oM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hV=Mr("chevron-down",fV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pV=Mr("chevron-up",mV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],a5=Mr("circle-question-mark",gV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yV=Mr("circle-x",bV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],xV=Mr("heart-handshake",vV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],wV=Mr("house",_V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],EV=Mr("info",SV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],S2=Mr("log-in",kV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E2=Mr("log-out",AV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jV=Mr("menu",TV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NV=Mr("plus",OV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MV=Mr("settings",CV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],PV=Mr("square-user",DV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],o5=Mr("star",RV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IV=Mr("user-plus",LV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zb=Mr("x",$V);function BV(){const[e,t]=S.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(EV,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const zV=new Set(Ka.);function UV(e){return Ud.has(e)?e:zV.has(e)?Bn[e]:""}function FV(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function HV({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function GV(){const e=jn(w=>w.settings),[t,n]=S.useState(new Date),[r,i]=S.useState(!0),[a,o]=S.useState("/"),[l,u]=S.useState(!1),[d,h]=S.useState(null);S.useEffect(()=>{if(!r)return;const w=setInterval(()=>n(new Date),1e3);return()=>clearInterval(w)},[r]),S.useEffect(()=>{let w=!0;const T=async()=>{const{data:C}=await Me.auth.getSession(),M=C.session?.user?.id;if(!M){w&&h(null);return}const{data:P,error:$}=await Me.from("user_activity").select("total_active_ms").eq("user_id",M).maybeSingle();if($){w&&h(null);return}const F=P?.total_active_ms;w&&h(typeof F=="number"?F:null)};T();const N=window.setInterval(()=>void T(),6e4),j=()=>{document.visibilityState==="visible"&&T()};return document.addEventListener("visibilitychange",j),()=>{w=!1,window.clearInterval(N),document.removeEventListener("visibilitychange",j)}},[]);const p=it(t),b=_t(t),x=ht(t,a),E=Fa(t,"/"),_=UV(x.charAt(0));return g.jsx("div",{className:"flex justify-center items-center pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:FV(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",KV(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:w=>o(w.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(HV,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(kd,{label:"",gz:E,dayStem:_,settings:e,hideBranchSipSin:!0}),g.jsx(kd,{label:"",gz:x,dayStem:_,settings:e,hideBranchSipSin:!0}),g.jsx(kd,{label:"",gz:b,dayStem:_,settings:e,hideBranchSipSin:!0}),g.jsx(kd,{label:"",gz:p,dayStem:_,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsx("input",{type:"datetime-local",value:qV(t),disabled:r,onChange:w=>{const T=YV(w.target.value);T&&n(T)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>u(w=>!w),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]}),g.jsx(BV,{})]})})}function qV(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function YV(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function KV(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function WV({placeholderText:e,value:t}){const[n,r]=S.useState(e),[i,a]=S.useState(!1),[o,l]=S.useState(t??""),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),p=S.useRef(null);return S.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:p}}var am={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var VV=am.exports,sM;function ZV(){return sM||(sM=1,(function(e,t){(function(n,r){r(t)})(VV,(function(n){var r="1.9.4";function i(f){var y,k,D,R;for(k=1,D=arguments.length;k<D;k++){R=arguments[k];for(y in R)f[y]=R[y]}return f}var a=Object.create||(function(){function f(){}return function(y){return f.prototype=y,new f}})();function o(f,y){var k=Array.prototype.slice;if(f.bind)return f.bind.apply(f,k.call(arguments,1));var D=k.call(arguments,2);return function(){return f.apply(y,D.length?D.concat(k.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,y,k){var D,R,U,ee;return ee=function(){D=!1,R&&(U.apply(k,R),R=!1)},U=function(){D?R=arguments:(f.apply(k,arguments),setTimeout(ee,y),D=!0)},U}function h(f,y,k){var D=y[1],R=y[0],U=D-R;return f===D&&k?f:((f-R)%U+U)%U+R}function p(){return!1}function b(f,y){if(y===!1)return f;var k=Math.pow(10,y===void 0?6:y);return Math.round(f*k)/k}function x(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function E(f){return x(f).split(/\s+/)}function _(f,y){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var k in y)f.options[k]=y[k];return f.options}function w(f,y,k){var D=[];for(var R in f)D.push(encodeURIComponent(k?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!y||y.indexOf("?")===-1?"?":"&")+D.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(f,y){return f.replace(T,function(k,D){var R=y[D];if(R===void 0)throw new Error("No value provided for variable "+k);return typeof R=="function"&&(R=R(y)),R})}var j=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,y){for(var k=0;k<f.length;k++)if(f[k]===y)return k;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var $=0;function F(f){var y=+new Date,k=Math.max(0,16-(y-$));return $=y+k,window.setTimeout(f,k)}var Y=window.requestAnimationFrame||P("RequestAnimationFrame")||F,W=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function H(f,y,k){if(k&&Y===F)f.call(y);else return Y.call(window,o(f,y))}function z(f){f&&W.call(window,f)}var V={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:p,formatNum:b,trim:x,splitWords:E,setOptions:_,getParamString:w,template:N,isArray:j,indexOf:C,emptyImageUrl:M,requestFn:Y,cancelFn:W,requestAnimFrame:H,cancelAnimFrame:z};function X(){}X.extend=function(f){var y=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=y.__super__=this.prototype,D=a(k);D.constructor=y,y.prototype=D;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return f.statics&&i(y,f.statics),f.includes&&(Z(f.includes),i.apply(null,[D].concat(f.includes))),i(D,f),delete D.statics,delete D.includes,D.options&&(D.options=k.options?a(k.options):{},i(D.options,f.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,ee=D._initHooks.length;U<ee;U++)D._initHooks[U].call(this)}},y},X.include=function(f){var y=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=y,this.mergeOptions(f.options)),this},X.mergeOptions=function(f){return i(this.prototype.options,f),this},X.addInitHook=function(f){var y=Array.prototype.slice.call(arguments,1),k=typeof f=="function"?f:function(){this[f].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function Z(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=j(f)?f:[f];for(var y=0;y<f.length;y++)f[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(f,y,k){if(typeof f=="object")for(var D in f)this._on(D,f[D],y);else{f=E(f);for(var R=0,U=f.length;R<U;R++)this._on(f[R],y,k)}return this},off:function(f,y,k){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var D in f)this._off(D,f[D],y);else{f=E(f);for(var R=arguments.length===1,U=0,ee=f.length;U<ee;U++)R?this._off(f[U]):this._off(f[U],y,k)}return this},_on:function(f,y,k,D){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(f,y,k)===!1){k===this&&(k=void 0);var R={fn:y,ctx:k};D&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,y,k){var D,R,U;if(this._events&&(D=this._events[f],!!D)){if(arguments.length===1){if(this._firingCount)for(R=0,U=D.length;R<U;R++)D[R].fn=p;delete this._events[f];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(f,y,k);if(ee!==!1){var ce=D[ee];this._firingCount&&(ce.fn=p,this._events[f]=D=D.slice()),D.splice(ee,1)}}},fire:function(f,y,k){if(!this.listens(f,k))return this;var D=i({},y,{type:f,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var U=0,ee=R.length;U<ee;U++){var ce=R[U],ge=ce.fn;ce.once&&this.off(f,ge,ce.ctx),ge.call(ce.ctx||this,D)}this._firingCount--}}return k&&this._propagateEvent(D),this},listens:function(f,y,k,D){typeof f!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(D=!!y,R=void 0,k=void 0);var U=this._events&&this._events[f];if(U&&U.length&&this._listens(f,R,k)!==!1)return!0;if(D){for(var ee in this._eventParents)if(this._eventParents[ee].listens(f,y,k,D))return!0}return!1},_listens:function(f,y,k){if(!this._events)return!1;var D=this._events[f]||[];if(!y)return!!D.length;k===this&&(k=void 0);for(var R=0,U=D.length;R<U;R++)if(D[R].fn===y&&D[R].ctx===k)return R;return!1},once:function(f,y,k){if(typeof f=="object")for(var D in f)this._on(D,f[D],y,!0);else{f=E(f);for(var R=0,U=f.length;R<U;R++)this._on(f[R],y,k,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var y in this._eventParents)this._eventParents[y].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var Q=X.extend(q);function ne(f,y,k){this.x=k?Math.round(f):f,this.y=k?Math.round(y):y}var ue=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(f){return this.clone()._add(se(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(se(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new ne(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new ne(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(f){f=se(f);var y=f.x-this.x,k=f.y-this.y;return Math.sqrt(y*y+k*k)},equals:function(f){return f=se(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=se(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function se(f,y,k){return f instanceof ne?f:j(f)?new ne(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new ne(f.x,f.y):new ne(f,y,k)}function B(f,y){if(f)for(var k=y?[f,y]:f,D=0,R=k.length;D<R;D++)this.extend(k[D])}B.prototype={extend:function(f){var y,k;if(!f)return this;if(f instanceof ne||typeof f[0]=="number"||"x"in f)y=k=se(f);else if(f=K(f),y=f.min,k=f.max,!y||!k)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=k.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(f){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var y,k;return typeof f[0]=="number"||f instanceof ne?f=se(f):f=K(f),f instanceof B?(y=f.min,k=f.max):y=k=f,y.x>=this.min.x&&k.x<=this.max.x&&y.y>=this.min.y&&k.y<=this.max.y},intersects:function(f){f=K(f);var y=this.min,k=this.max,D=f.min,R=f.max,U=R.x>=y.x&&D.x<=k.x,ee=R.y>=y.y&&D.y<=k.y;return U&&ee},overlaps:function(f){f=K(f);var y=this.min,k=this.max,D=f.min,R=f.max,U=R.x>y.x&&D.x<k.x,ee=R.y>y.y&&D.y<k.y;return U&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var y=this.min,k=this.max,D=Math.abs(y.x-k.x)*f,R=Math.abs(y.y-k.y)*f;return K(se(y.x-D,y.y-R),se(k.x+D,k.y+R))},equals:function(f){return f?(f=K(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function K(f,y){return!f||f instanceof B?f:new B(f,y)}function ie(f,y){if(f)for(var k=y?[f,y]:f,D=0,R=k.length;D<R;D++)this.extend(k[D])}ie.prototype={extend:function(f){var y=this._southWest,k=this._northEast,D,R;if(f instanceof oe)D=f,R=f;else if(f instanceof ie){if(D=f._southWest,R=f._northEast,!D||!R)return this}else return f?this.extend(de(f)||J(f)):this;return!y&&!k?(this._southWest=new oe(D.lat,D.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(D.lat,y.lat),y.lng=Math.min(D.lng,y.lng),k.lat=Math.max(R.lat,k.lat),k.lng=Math.max(R.lng,k.lng)),this},pad:function(f){var y=this._southWest,k=this._northEast,D=Math.abs(y.lat-k.lat)*f,R=Math.abs(y.lng-k.lng)*f;return new ie(new oe(y.lat-D,y.lng-R),new oe(k.lat+D,k.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof oe||"lat"in f?f=de(f):f=J(f);var y=this._southWest,k=this._northEast,D,R;return f instanceof ie?(D=f.getSouthWest(),R=f.getNorthEast()):D=R=f,D.lat>=y.lat&&R.lat<=k.lat&&D.lng>=y.lng&&R.lng<=k.lng},intersects:function(f){f=J(f);var y=this._southWest,k=this._northEast,D=f.getSouthWest(),R=f.getNorthEast(),U=R.lat>=y.lat&&D.lat<=k.lat,ee=R.lng>=y.lng&&D.lng<=k.lng;return U&&ee},overlaps:function(f){f=J(f);var y=this._southWest,k=this._northEast,D=f.getSouthWest(),R=f.getNorthEast(),U=R.lat>y.lat&&D.lat<k.lat,ee=R.lng>y.lng&&D.lng<k.lng;return U&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,y){return f?(f=J(f),this._southWest.equals(f.getSouthWest(),y)&&this._northEast.equals(f.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(f,y){return f instanceof ie?f:new ie(f,y)}function oe(f,y,k){if(isNaN(f)||isNaN(y))throw new Error("Invalid LatLng object: ("+f+", "+y+")");this.lat=+f,this.lng=+y,k!==void 0&&(this.alt=+k)}oe.prototype={equals:function(f,y){if(!f)return!1;f=de(f);var k=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return k<=(y===void 0?1e-9:y)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return ye.distance(this,de(f))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(f){var y=180*f/40075017,k=y/Math.cos(Math.PI/180*this.lat);return J([this.lat-y,this.lng-k],[this.lat+y,this.lng+k])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function de(f,y,k){return f instanceof oe?f:j(f)&&typeof f[0]!="object"?f.length===3?new oe(f[0],f[1],f[2]):f.length===2?new oe(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new oe(f.lat,"lng"in f?f.lng:f.lon,f.alt):y===void 0?null:new oe(f,y,k)}var pe={latLngToPoint:function(f,y){var k=this.projection.project(f),D=this.scale(y);return this.transformation._transform(k,D)},pointToLatLng:function(f,y){var k=this.scale(y),D=this.transformation.untransform(f,k);return this.projection.unproject(D)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var y=this.projection.bounds,k=this.scale(f),D=this.transformation.transform(y.min,k),R=this.transformation.transform(y.max,k);return new B(D,R)},infinite:!1,wrapLatLng:function(f){var y=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,k=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,D=f.alt;return new oe(k,y,D)},wrapLatLngBounds:function(f){var y=f.getCenter(),k=this.wrapLatLng(y),D=y.lat-k.lat,R=y.lng-k.lng;if(D===0&&R===0)return f;var U=f.getSouthWest(),ee=f.getNorthEast(),ce=new oe(U.lat-D,U.lng-R),ge=new oe(ee.lat-D,ee.lng-R);return new ie(ce,ge)}},ye=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(f,y){var k=Math.PI/180,D=f.lat*k,R=y.lat*k,U=Math.sin((y.lat-f.lat)*k/2),ee=Math.sin((y.lng-f.lng)*k/2),ce=U*U+Math.cos(D)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),re=6378137,je={R:re,MAX_LATITUDE:85.0511287798,project:function(f){var y=Math.PI/180,k=this.MAX_LATITUDE,D=Math.max(Math.min(k,f.lat),-k),R=Math.sin(D*y);return new ne(this.R*f.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*y,f.x*y/this.R)},bounds:(function(){var f=re*Math.PI;return new B([-f,-f],[f,f])})()};function Ne(f,y,k,D){if(j(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=y,this._c=k,this._d=D}Ne.prototype={transform:function(f,y){return this._transform(f.clone(),y)},_transform:function(f,y){return y=y||1,f.x=y*(this._a*f.x+this._b),f.y=y*(this._c*f.y+this._d),f},untransform:function(f,y){return y=y||1,new ne((f.x/y-this._b)/this._a,(f.y/y-this._d)/this._c)}};function ve(f,y,k,D){return new Ne(f,y,k,D)}var Ze=i({},ye,{code:"EPSG:3857",projection:je,transformation:(function(){var f=.5/(Math.PI*je.R);return ve(f,.5,-f,.5)})()}),Ce=i({},Ze,{code:"EPSG:900913"});function _e(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Oe(f,y){var k="",D,R,U,ee,ce,ge;for(D=0,U=f.length;D<U;D++){for(ce=f[D],R=0,ee=ce.length;R<ee;R++)ge=ce[R],k+=(R?"L":"M")+ge.x+" "+ge.y;k+=y?He.svg?"z":"x":""}return k||"M0 0"}var Ie=document.documentElement.style,Ve="ActiveXObject"in window,yt=Ve&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),Dt=Yr("webkit"),he=Yr("android"),De=Yr("android 2")||Yr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=he&&Yr("Google")&&Be<537&&!("AudioNode"in window),Ot=!!window.opera,bt=!xt&&Yr("chrome"),Jn=Yr("gecko")&&!Dt&&!Ot&&!Ve,gi=!bt&&Yr("safari"),bi=Yr("phantom"),Ls="OTransition"in Ie,Is=navigator.platform.indexOf("Win")===0,qt=Ve&&"transition"in Ie,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!De,yi="MozPerspective"in Ie,Dr=!window.L_DISABLE_3D&&(qt||mn||yi)&&!Ls&&!bi,Hl=typeof orientation<"u"||Yr("mobile"),_x=Hl&&Dt,wx=Hl&&mn,Gl=!window.PointerEvent&&window.MSPointerEvent,ql=!!(window.PointerEvent||Gl),Yl="ontouchstart"in window||!!window.TouchEvent,Po=!window.L_NO_TOUCH&&(Yl||ql),_u=Hl&&Ot,Kl=Hl&&Jn,Sx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rp=(function(){var f=!1;try{var y=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return f})(),Af=(function(){return!!document.createElement("canvas").getContext})(),Ro=!!(document.createElementNS&&_e("svg").createSVGRect),Ex=!!Ro&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Lp=!Ro&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var y=f.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Ip=navigator.platform.indexOf("Mac")===0,$p=navigator.platform.indexOf("Linux")===0;function Yr(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var He={ie:Ve,ielt9:yt,edge:xt,webkit:Dt,android:he,android23:De,androidStock:lt,opera:Ot,chrome:bt,gecko:Jn,safari:gi,phantom:bi,opera12:Ls,win:Is,ie3d:qt,webkit3d:mn,gecko3d:yi,any3d:Dr,mobile:Hl,mobileWebkit:_x,mobileWebkit3d:wx,msPointer:Gl,pointer:ql,touch:Po,touchNative:Yl,mobileOpera:_u,mobileGecko:Kl,retina:Sx,passiveEvents:Rp,canvas:Af,svg:Ro,vml:Lp,inlineSvg:Ex,mac:Ip,linux:$p},Tf=He.msPointer?"MSPointerDown":"pointerdown",jf=He.msPointer?"MSPointerMove":"pointermove",_a=He.msPointer?"MSPointerUp":"pointerup",On=He.msPointer?"MSPointerCancel":"pointercancel",Qn={touchstart:Tf,touchmove:jf,touchend:_a,touchcancel:On},Lo={touchstart:Bs,touchmove:Va,touchend:Va,touchcancel:Va},Wa={},Bp=!1;function kx(f,y,k){return y==="touchstart"&&$s(),Lo[y]?(k=Lo[y].bind(this,k),f.addEventListener(Qn[y],k,!1),k):(console.warn("wrong event specified:",y),p)}function zp(f,y,k){if(!Qn[y]){console.warn("wrong event specified:",y);return}f.removeEventListener(Qn[y],k,!1)}function Wl(f){Wa[f.pointerId]=f}function Of(f){Wa[f.pointerId]&&(Wa[f.pointerId]=f)}function Io(f){delete Wa[f.pointerId]}function $s(){Bp||(document.addEventListener(Tf,Wl,!0),document.addEventListener(jf,Of,!0),document.addEventListener(_a,Io,!0),document.addEventListener(On,Io,!0),Bp=!0)}function Va(f,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var k in Wa)y.touches.push(Wa[k]);y.changedTouches=[y],f(y)}}function Bs(f,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&pn(y),Va(f,y)}function Nn(f){var y={},k,D;for(D in f)k=f[D],y[D]=k&&k.bind?k.bind(f):k;return f=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Up=200;function Fp(f,y){f.addEventListener("dblclick",y);var k=0,D;function R(U){if(U.detail!==1){D=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var ee=tc(U);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-k<=Up?(D++,D===2&&y(Nn(U))):D=1,k=ce}}}return f.addEventListener("click",R),{dblclick:y,simDblclick:R}}function $o(f,y){f.removeEventListener("dblclick",y.dblclick),f.removeEventListener("click",y.simDblclick)}var Za=Xl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vl=Xl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nf=Vl==="webkitTransition"||Vl==="OTransition"?Vl+"End":"transitionend";function Cf(f){return typeof f=="string"?document.getElementById(f):f}function Zl(f,y){var k=f.style[y]||f.currentStyle&&f.currentStyle[y];if((!k||k==="auto")&&document.defaultView){var D=document.defaultView.getComputedStyle(f,null);k=D?D[y]:null}return k==="auto"?null:k}function ct(f,y,k){var D=document.createElement(f);return D.className=y||"",k&&k.appendChild(D),D}function It(f){var y=f.parentNode;y&&y.removeChild(f)}function Kr(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Un(f){var y=f.parentNode;y&&y.lastChild!==f&&y.appendChild(f)}function Bo(f){var y=f.parentNode;y&&y.firstChild!==f&&y.insertBefore(f,y.firstChild)}function Mf(f,y){if(f.classList!==void 0)return f.classList.contains(y);var k=wu(f);return k.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(k)}function nt(f,y){if(f.classList!==void 0)for(var k=E(y),D=0,R=k.length;D<R;D++)f.classList.add(k[D]);else if(!Mf(f,y)){var U=wu(f);zs(f,(U?U+" ":"")+y)}}function en(f,y){f.classList!==void 0?f.classList.remove(y):zs(f,x((" "+wu(f)+" ").replace(" "+y+" "," ")))}function zs(f,y){f.className.baseVal===void 0?f.className=y:f.className.baseVal=y}function wu(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function Zt(f,y){"opacity"in f.style?f.style.opacity=y:"filter"in f.style&&Df(f,y)}function Df(f,y){var k=!1,D="DXImageTransform.Microsoft.Alpha";try{k=f.filters.item(D)}catch{if(y===1)return}y=Math.round(y*100),k?(k.Enabled=y!==100,k.Opacity=y):f.style.filter+=" progid:"+D+"(opacity="+y+")"}function Xl(f){for(var y=document.documentElement.style,k=0;k<f.length;k++)if(f[k]in y)return f[k];return!1}function wa(f,y,k){var D=y||new ne(0,0);f.style[Za]=(He.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(k?" scale("+k+")":"")}function Ut(f,y){f._leaflet_pos=y,He.any3d?wa(f,y):(f.style.left=y.x+"px",f.style.top=y.y+"px")}function Xa(f){return f._leaflet_pos||new ne(0,0)}var Us,Yi,Pf;if("onselectstart"in document)Us=function(){tt(window,"selectstart",pn)},Yi=function(){Nt(window,"selectstart",pn)};else{var Fs=Xl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Us=function(){if(Fs){var f=document.documentElement.style;Pf=f[Fs],f[Fs]="none"}},Yi=function(){Fs&&(document.documentElement.style[Fs]=Pf,Pf=void 0)}}function Su(){tt(window,"dragstart",pn)}function Jl(){Nt(window,"dragstart",pn)}var Eu,Rf;function Hs(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(Wr(),Eu=f,Rf=f.style.outlineStyle,f.style.outlineStyle="none",tt(window,"keydown",Wr))}function Wr(){Eu&&(Eu.style.outlineStyle=Rf,Eu=void 0,Rf=void 0,Nt(window,"keydown",Wr))}function ku(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function Ql(f){var y=f.getBoundingClientRect();return{x:y.width/f.offsetWidth||1,y:y.height/f.offsetHeight||1,boundingClientRect:y}}var Gs={__proto__:null,TRANSFORM:Za,TRANSITION:Vl,TRANSITION_END:Nf,get:Cf,getStyle:Zl,create:ct,remove:It,empty:Kr,toFront:Un,toBack:Bo,hasClass:Mf,addClass:nt,removeClass:en,setClass:zs,getClass:wu,setOpacity:Zt,testProp:Xl,setTransform:wa,setPosition:Ut,getPosition:Xa,get disableTextSelection(){return Us},get enableTextSelection(){return Yi},disableImageDrag:Su,enableImageDrag:Jl,preventOutline:Hs,restoreOutline:Wr,getSizedParentNode:ku,getScale:Ql};function tt(f,y,k,D){if(y&&typeof y=="object")for(var R in y)xi(f,R,y[R],k);else{y=E(y);for(var U=0,ee=y.length;U<ee;U++)xi(f,y[U],k,D)}return this}var vi="_leaflet_events";function Nt(f,y,k,D){if(arguments.length===1)Lf(f),delete f[vi];else if(y&&typeof y=="object")for(var R in y)ec(f,R,y[R],k);else if(y=E(y),arguments.length===2)Lf(f,function(ce){return C(y,ce)!==-1});else for(var U=0,ee=y.length;U<ee;U++)ec(f,y[U],k,D);return this}function Lf(f,y){for(var k in f[vi]){var D=k.split(/\d/)[0];(!y||y(D))&&ec(f,D,null,null,k)}}var zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xi(f,y,k,D){var R=y+u(k)+(D?"_"+u(D):"");if(f[vi]&&f[vi][R])return this;var U=function(ce){return k.call(D||f,ce||window.event)},ee=U;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?U=kx(f,y,U):He.touch&&y==="dblclick"?U=Fp(f,U):"addEventListener"in f?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?f.addEventListener(zo[y]||y,U,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(U=function(ce){ce=ce||window.event,Sa(f,ce)&&ee(ce)},f.addEventListener(zo[y],U,!1)):f.addEventListener(y,ee,!1):f.attachEvent("on"+y,U),f[vi]=f[vi]||{},f[vi][R]=U}function ec(f,y,k,D,R){R=R||y+u(k)+(D?"_"+u(D):"");var U=f[vi]&&f[vi][R];if(!U)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?zp(f,y,U):He.touch&&y==="dblclick"?$o(f,U):"removeEventListener"in f?f.removeEventListener(zo[y]||y,U,!1):f.detachEvent("on"+y,U),f[vi][R]=null}function _i(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Ki(f){return xi(f,"wheel",_i),this}function Uo(f){return tt(f,"mousedown touchstart dblclick contextmenu",_i),f._leaflet_disable_click=!0,this}function pn(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Ja(f){return pn(f),_i(f),this}function tc(f){if(f.composedPath)return f.composedPath();for(var y=[],k=f.target;k;)y.push(k),k=k.parentNode;return y}function nc(f,y){if(!y)return new ne(f.clientX,f.clientY);var k=Ql(y),D=k.boundingClientRect;return new ne((f.clientX-D.left)/k.x-y.clientLeft,(f.clientY-D.top)/k.y-y.clientTop)}var Hp=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fr(f){return He.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/Hp:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Sa(f,y){var k=y.relatedTarget;if(!k)return!0;try{for(;k&&k!==f;)k=k.parentNode}catch{return!1}return k!==f}var Au={__proto__:null,on:tt,off:Nt,stopPropagation:_i,disableScrollPropagation:Ki,disableClickPropagation:Uo,preventDefault:pn,stop:Ja,getPropagationPath:tc,getMousePosition:nc,getWheelDelta:fr,isExternalTarget:Sa,addListener:tt,removeListener:Nt},qs=Q.extend({run:function(f,y,k,D){this.stop(),this._el=f,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=Xa(f),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(f){var y=+new Date-this._startTime,k=this._duration*1e3;y<k?this._runFrame(this._easeOut(y/k),f):(this._runFrame(1),this._complete())},_runFrame:function(f,y){var k=this._startPos.add(this._offset.multiplyBy(f));y&&k._round(),Ut(this._el,k),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),mt=Q.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,y){y=_(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(de(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vl&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,Nf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,y,k){if(y=y===void 0?this._zoom:this._limitZoom(y),f=this._limitCenter(de(f),y,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var D=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,y,k.zoom):this._tryAnimatedPan(f,k.pan);if(D)return clearTimeout(this._sizeTimer),this}return this._resetView(f,y,k.pan&&k.pan.noMoveStart),this},setZoom:function(f,y){return this._loaded?this.setView(this.getCenter(),f,{zoom:y}):(this._zoom=f,this)},zoomIn:function(f,y){return f=f||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,y)},zoomOut:function(f,y){return f=f||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,y)},setZoomAround:function(f,y,k){var D=this.getZoomScale(y),R=this.getSize().divideBy(2),U=f instanceof ne?f:this.latLngToContainerPoint(f),ee=U.subtract(R).multiplyBy(1-1/D),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:k})},_getBoundsCenterZoom:function(f,y){y=y||{},f=f.getBounds?f.getBounds():J(f);var k=se(y.paddingTopLeft||y.padding||[0,0]),D=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(f,!1,k.add(D));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var U=D.subtract(k).divideBy(2),ee=this.project(f.getSouthWest(),R),ce=this.project(f.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(U),R);return{center:ge,zoom:R}},fitBounds:function(f,y){if(f=J(f),!f.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(f,y);return this.setView(k.center,k.zoom,y)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,y){return this.setView(f,this._zoom,{pan:y})},panBy:function(f,y){if(f=se(f).round(),y=y||{},!f.x&&!f.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,k,y.duration||.25,y.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,y,k){if(k=k||{},k.animate===!1||!He.any3d)return this.setView(f,y,k);this._stop();var D=this.project(this.getCenter()),R=this.project(f),U=this.getSize(),ee=this._zoom;f=de(f),y=y===void 0?ee:y;var ce=Math.max(U.x,U.y),ge=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(D)||1,Le=1.42,qe=Le*Le;function ot(un){var Ta=un?-1:1,qo=un?ge:ce,Xf=ge*ge-ce*ce+Ta*qe*qe*Ae*Ae,yc=2*qo*qe*Ae,vc=Xf/yc,so=Math.sqrt(vc*vc+1)-vc,ja=so<1e-9?-18:Math.log(so);return ja}function Fn(un){return(Math.exp(un)-Math.exp(-un))/2}function gn(un){return(Math.exp(un)+Math.exp(-un))/2}function Rr(un){return Fn(un)/gn(un)}var wt=ot(0);function St(un){return ce*(gn(wt)/gn(wt+Le*un))}function ut(un){return ce*(gn(wt)*Rr(wt+Le*un)-Fn(wt))/qe}function ao(un){return 1-Math.pow(1-un,1.5)}var Jr=Date.now(),zu=(ot(1)-wt)/Le,oo=k.duration?1e3*k.duration:1e3*zu*.8;function Zf(){var un=(Date.now()-Jr)/oo,Ta=ao(un)*zu;un<=1?(this._flyToFrame=H(Zf,this),this._move(this.unproject(D.add(R.subtract(D).multiplyBy(ut(Ta)/Ae)),ee),this.getScaleZoom(ce/St(Ta),ee),{flyTo:!0})):this._move(f,y)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),Zf.call(this),this},flyToBounds:function(f,y){var k=this._getBoundsCenterZoom(f,y);return this.flyTo(k.center,k.zoom,y)},setMaxBounds:function(f){return f=J(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var y=this.options.minZoom;return this.options.minZoom=f,this._loaded&&y!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var y=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&y!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,y){this._enforcingBounds=!0;var k=this.getCenter(),D=this._limitCenter(k,this._zoom,J(f));return k.equals(D)||this.panTo(D,y),this._enforcingBounds=!1,this},panInside:function(f,y){y=y||{};var k=se(y.paddingTopLeft||y.padding||[0,0]),D=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),U=this.project(f),ee=this.getPixelBounds(),ce=K([ee.min.add(k),ee.max.subtract(D)]),ge=ce.getSize();if(!ce.contains(U)){this._enforcingBounds=!0;var Ae=U.subtract(ce.getCenter()),Le=ce.extend(U).getSize().subtract(ge);R.x+=Ae.x<0?-Le.x:Le.x,R.y+=Ae.y<0?-Le.y:Le.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),D=y.divideBy(2).round(),R=k.divideBy(2).round(),U=D.subtract(R);return!U.x&&!U.y?this:(f.animate&&f.pan?this.panBy(U):(f.pan&&this._rawPanBy(U),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,k,f):navigator.geolocation.getCurrentPosition(y,k,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var y=f.code,k=f.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var y=f.coords.latitude,k=f.coords.longitude,D=new oe(y,k),R=D.toBounds(f.coords.accuracy*2),U=this._locateOptions;if(U.setView){var ee=this.getBoundsZoom(R);this.setView(D,U.maxZoom?Math.min(ee,U.maxZoom):ee)}var ce={latlng:D,bounds:R,timestamp:f.timestamp};for(var ge in f.coords)typeof f.coords[ge]=="number"&&(ce[ge]=f.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(f,y){if(!y)return this;var k=this[f]=new y(this);return this._handlers.push(k),this.options[f]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)It(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,y){var k="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),D=ct("div",k,y||this._mapPane);return f&&(this._panes[f]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),y=this.unproject(f.getBottomLeft()),k=this.unproject(f.getTopRight());return new ie(y,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,y,k){f=J(f),k=se(k||[0,0]);var D=this.getZoom()||0,R=this.getMinZoom(),U=this.getMaxZoom(),ee=f.getNorthWest(),ce=f.getSouthEast(),ge=this.getSize().subtract(k),Ae=K(this.project(ce,D),this.project(ee,D)).getSize(),Le=He.any3d?this.options.zoomSnap:1,qe=ge.x/Ae.x,ot=ge.y/Ae.y,Fn=y?Math.max(qe,ot):Math.min(qe,ot);return D=this.getScaleZoom(Fn,D),Le&&(D=Math.round(D/(Le/100))*(Le/100),D=y?Math.ceil(D/Le)*Le:Math.floor(D/Le)*Le),Math.max(R,Math.min(U,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,y){var k=this._getTopLeftPoint(f,y);return new B(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,y){var k=this.options.crs;return y=y===void 0?this._zoom:y,k.scale(f)/k.scale(y)},getScaleZoom:function(f,y){var k=this.options.crs;y=y===void 0?this._zoom:y;var D=k.zoom(f*k.scale(y));return isNaN(D)?1/0:D},project:function(f,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(de(f),y)},unproject:function(f,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(f),y)},layerPointToLatLng:function(f){var y=se(f).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(f){var y=this.project(de(f))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(de(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(J(f))},distance:function(f,y){return this.options.crs.distance(de(f),de(y))},containerPointToLayerPoint:function(f){return se(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return se(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var y=this.containerPointToLayerPoint(se(f));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(f)))},mouseEventToContainerPoint:function(f){return nc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var y=this._container=Cf(f);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,nt(f,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Zl(f,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(f.markerPane,"leaflet-zoom-hide"),nt(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,y,k){Ut(this._mapPane,new ne(0,0));var D=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,k)._move(f,y)._moveEnd(R),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(f,y){return f&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(f,y,k,D){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),D?k&&k.pinch&&this.fire("zoom",k):((R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Ut(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var y=f?Nt:tt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,y){for(var k=[],D,R=y==="mouseout"||y==="mouseover",U=f.target||f.srcElement,ee=!1;U;){if(D=this._targets[u(U)],D&&(y==="click"||y==="preclick")&&this._draggableMoved(D)){ee=!0;break}if(D&&D.listens(y,!0)&&(R&&!Sa(U,f)||(k.push(D),R))||U===this._container)break;U=U.parentNode}return!k.length&&!ee&&!R&&this.listens(y,!0)&&(k=[this]),k},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var y=f.target||f.srcElement;if(!(!this._loaded||y._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(y))){var k=f.type;k==="mousedown"&&Hs(y),this._fireDOMEvent(f,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,y,k){if(f.type==="click"){var D=i({},f);D.type="preclick",this._fireDOMEvent(D,D.type,k)}var R=this._findEventTargets(f,y);if(k){for(var U=[],ee=0;ee<k.length;ee++)k[ee].listens(y,!0)&&U.push(k[ee]);R=U.concat(R)}if(R.length){y==="contextmenu"&&pn(f);var ce=R[0],ge={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(f),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&C(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,y=this._handlers.length;f<y;f++)this._handlers[f].disable()},whenReady:function(f,y){return this._loaded?f.call(y||this,{target:this}):this.on("load",f,y),this},_getMapPanePos:function(){return Xa(this._mapPane)||new ne(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,y){var k=f&&y!==void 0?this._getNewPixelOrigin(f,y):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,y){var k=this.getSize()._divideBy(2);return this.project(f,y)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,y,k){var D=this._getNewPixelOrigin(k,y);return this.project(f,y)._subtract(D)},_latLngBoundsToNewLayerBounds:function(f,y,k){var D=this._getNewPixelOrigin(k,y);return K([this.project(f.getSouthWest(),y)._subtract(D),this.project(f.getNorthWest(),y)._subtract(D),this.project(f.getSouthEast(),y)._subtract(D),this.project(f.getNorthEast(),y)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,y,k){if(!k)return f;var D=this.project(f,y),R=this.getSize().divideBy(2),U=new B(D.subtract(R),D.add(R)),ee=this._getBoundsOffset(U,k,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?f:this.unproject(D.add(ee),y)},_limitOffset:function(f,y){if(!y)return f;var k=this.getPixelBounds(),D=new B(k.min.add(f),k.max.add(f));return f.add(this._getBoundsOffset(D,y))},_getBoundsOffset:function(f,y,k){var D=K(this.project(y.getNorthEast(),k),this.project(y.getSouthWest(),k)),R=D.min.subtract(f.min),U=D.max.subtract(f.max),ee=this._rebound(R.x,-U.x),ce=this._rebound(R.y,-U.y);return new ne(ee,ce)},_rebound:function(f,y){return f+y>0?Math.round(f-y)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(y))},_limitZoom:function(f){var y=this.getMinZoom(),k=this.getMaxZoom(),D=He.any3d?this.options.zoomSnap:1;return D&&(f=Math.round(f/D)*D),Math.max(y,Math.min(k,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,y){var k=this._getCenterOffset(f)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,y),!0)},_createAnimProxy:function(){var f=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(y){var k=Za,D=this._proxy.style[k];wa(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),D===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),y=this.getZoom();wa(this._proxy,this.project(f,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,y,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(y),R=this._getCenterOffset(f)._divideBy(1-1/D);return k.animate!==!0&&!this.getSize().contains(R)?!1:(H(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(f,y,!0)},this),!0)},_animateZoom:function(f,y,k,D){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=y,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:y,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function If(f,y){return new mt(f,y)}var Pr=X.extend({options:{position:"topright"},initialize:function(f){_(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var y=this._map;return y&&y.removeControl(this),this.options.position=f,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var y=this._container=this.onAdd(f),k=this.getPosition(),D=f._controlCorners[k];return nt(y,"leaflet-control"),k.indexOf("bottom")!==-1?D.insertBefore(y,D.firstChild):D.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Ea=function(f){return new Pr(f)};mt.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},y="leaflet-",k=this._controlContainer=ct("div",y+"control-container",this._container);function D(R,U){var ee=y+R+" "+y+U;f[R+U]=ct("div",ee,k)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)It(this._controlCorners[f]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rc=Pr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,y,k,D){return k<D?-1:D<k?1:0}},initialize:function(f,y,k){_(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var D in f)this._addLayer(f[D],D);for(D in y)this._addLayer(y[D],D,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Pr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,y){return this._addLayer(f,y),this._map?this._update():this},addOverlay:function(f,y){return this._addLayer(f,y,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(f));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",y=this._container=ct("div",f),k=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Uo(y),Ki(y);var D=this._section=ct("section",f+"-list");k&&(this._map.on("click",this.collapse,this),tt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",f+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){pn(U),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=ct("div",f+"-base",D),this._separator=ct("div",f+"-separator",D),this._overlaysList=ct("div",f+"-overlays",D),y.appendChild(D)},_getLayer:function(f){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===f)return this._layers[y]},_addLayer:function(f,y,k){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:y,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(D,R){return this.options.sortFunction(D.layer,R.layer,D.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kr(this._baseLayersList),Kr(this._overlaysList),this._layerControlInputs=[];var f,y,k,D,R=0;for(k=0;k<this._layers.length;k++)D=this._layers[k],this._addItem(D),y=y||D.overlay,f=f||!D.overlay,R+=D.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=y&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var y=this._getLayer(u(f.target)),k=y.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;k&&this._map.fire(k,y)},_createRadioElement:function(f,y){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(y?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=k,D.firstChild},_addItem:function(f){var y=document.createElement("label"),k=this._map.hasLayer(f.layer),D;f.overlay?(D=document.createElement("input"),D.type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=k):D=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(D),D.layerId=u(f.layer),tt(D,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var U=document.createElement("span");y.appendChild(U),U.appendChild(D),U.appendChild(R);var ee=f.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,y,k,D=[],R=[];this._handlingClick=!0;for(var U=f.length-1;U>=0;U--)y=f[U],k=this._getLayer(y.layerId).layer,y.checked?D.push(k):y.checked||R.push(k);for(U=0;U<R.length;U++)this._map.hasLayer(R[U])&&this._map.removeLayer(R[U]);for(U=0;U<D.length;U++)this._map.hasLayer(D[U])||this._map.addLayer(D[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,y,k,D=this._map.getZoom(),R=f.length-1;R>=0;R--)y=f[R],k=this._getLayer(y.layerId).layer,y.disabled=k.options.minZoom!==void 0&&D<k.options.minZoom||k.options.maxZoom!==void 0&&D>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,tt(f,"click",pn),this.expand();var y=this;setTimeout(function(){Nt(f,"click",pn),y._preventClick=!1})}}),Gp=function(f,y,k){return new rc(f,y,k)},$f=Pr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var y="leaflet-control-zoom",k=ct("div",y+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,y+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,y+"-out",k,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,y,k,D,R){var U=ct("a",k,D);return U.innerHTML=f,U.href="#",U.title=y,U.setAttribute("role","button"),U.setAttribute("aria-label",y),Uo(U),tt(U,"click",Ja),tt(U,"click",R,this),tt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var f=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(nt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(nt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});mt.mergeOptions({zoomControl:!0}),mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $f,this.addControl(this.zoomControl))});var Ax=function(f){return new $f(f)},qp=Pr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var y="leaflet-control-scale",k=ct("div",y),D=this.options;return this._addScales(D,y+"-line",k),f.on(D.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),k},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,y,k){f.metric&&(this._mScale=ct("div",y,k)),f.imperial&&(this._iScale=ct("div",y,k))},_update:function(){var f=this._map,y=f.getSize().y/2,k=f.distance(f.containerPointToLatLng([0,y]),f.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(k)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var y=this._getRoundNum(f),k=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,k,y/f)},_updateImperial:function(f){var y=f*3.2808399,k,D,R;y>5280?(k=y/5280,D=this._getRoundNum(k),this._updateScale(this._iScale,D+" mi",D/k)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(f,y,k){f.style.width=Math.round(this.options.maxWidth*k)+"px",f.innerHTML=y},_getRoundNum:function(f){var y=Math.pow(10,(Math.floor(f)+"").length-1),k=f/y;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,y*k}}),Bf=function(f){return new qp(f)},Tx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zf=Pr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?Tx+" ":"")+"Leaflet</a>"},initialize:function(f){_(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Uo(this._container);for(var y in f._layers)f._layers[y].getAttribution&&this.addAttribution(f._layers[y].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var y in this._attributions)this._attributions[y]&&f.push(y);var k=[];this.options.prefix&&k.push(this.options.prefix),f.length&&k.push(f.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});mt.mergeOptions({attributionControl:!0}),mt.addInitHook(function(){this.options.attributionControl&&new zf().addTo(this)});var jx=function(f){return new zf(f)};Pr.Layers=rc,Pr.Zoom=$f,Pr.Scale=qp,Pr.Attribution=zf,Ea.layers=Gp,Ea.zoom=Ax,Ea.scale=Bf,Ea.attribution=jx;var Wi=X.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wi.addTo=function(f,y){return f.addHandler(y,this),this};var Ox={Events:q},Uf=He.touch?"touchstart mousedown":"mousedown",Qa=Q.extend({options:{clickTolerance:3},initialize:function(f,y,k,D){_(this,D),this._element=f,this._dragStartTarget=y||f,this._preventOutline=k},enable:function(){this._enabled||(tt(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qa._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Mf(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){Qa._dragging===this&&this.finishDrag();return}if(!(Qa._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(Qa._dragging=this,this._preventOutline&&Hs(this._element),Su(),Us(),!this._moving)){this.fire("down");var y=f.touches?f.touches[0]:f,k=ku(this._element);this._startPoint=new ne(y.clientX,y.clientY),this._startPos=Xa(this._element),this._parentScale=Ql(k);var D=f.type==="mousedown";tt(document,D?"mousemove":"touchmove",this._onMove,this),tt(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var y=f.touches&&f.touches.length===1?f.touches[0]:f,k=new ne(y.clientX,y.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,pn(f),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Ut(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),Jl(),Yi();var y=this._moved&&this._moving;this._moving=!1,Qa._dragging=!1,y&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function Yp(f,y,k){var D,R=[1,4,2,8],U,ee,ce,ge,Ae,Le,qe,ot;for(U=0,Le=f.length;U<Le;U++)f[U]._code=Fo(f[U],y);for(ce=0;ce<4;ce++){for(qe=R[ce],D=[],U=0,Le=f.length,ee=Le-1;U<Le;ee=U++)ge=f[U],Ae=f[ee],ge._code&qe?Ae._code&qe||(ot=Tu(Ae,ge,qe,y,k),ot._code=Fo(ot,y),D.push(ot)):(Ae._code&qe&&(ot=Tu(Ae,ge,qe,y,k),ot._code=Fo(ot,y),D.push(ot)),D.push(ge));f=D}return f}function Kp(f,y){var k,D,R,U,ee,ce,ge,Ae,Le;if(!f||f.length===0)throw new Error("latlngs not passed");Vr(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var qe=de([0,0]),ot=J(f),Fn=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());Fn<1700&&(qe=Ff(f));var gn=f.length,Rr=[];for(k=0;k<gn;k++){var wt=de(f[k]);Rr.push(y.project(de([wt.lat-qe.lat,wt.lng-qe.lng])))}for(ce=ge=Ae=0,k=0,D=gn-1;k<gn;D=k++)R=Rr[k],U=Rr[D],ee=R.y*U.x-U.y*R.x,ge+=(R.x+U.x)*ee,Ae+=(R.y+U.y)*ee,ce+=ee*3;ce===0?Le=Rr[0]:Le=[ge/ce,Ae/ce];var St=y.unproject(se(Le));return de([St.lat+qe.lat,St.lng+qe.lng])}function Ff(f){for(var y=0,k=0,D=0,R=0;R<f.length;R++){var U=de(f[R]);y+=U.lat,k+=U.lng,D++}return de([y/D,k/D])}var Hf={__proto__:null,clipPolygon:Yp,polygonCenter:Kp,centroid:Ff};function Wp(f,y){if(!y||!f.length)return f.slice();var k=y*y;return f=Cx(f,k),f=Zp(f,k),f}function Vp(f,y,k){return Math.sqrt(ic(f,y,k,!0))}function Nx(f,y,k){return ic(f,y,k)}function Zp(f,y){var k=f.length,D=typeof Uint8Array<"u"?Uint8Array:Array,R=new D(k);R[0]=R[k-1]=1,Gf(f,R,y,0,k-1);var U,ee=[];for(U=0;U<k;U++)R[U]&&ee.push(f[U]);return ee}function Gf(f,y,k,D,R){var U=0,ee,ce,ge;for(ce=D+1;ce<=R-1;ce++)ge=ic(f[ce],f[D],f[R],!0),ge>U&&(ee=ce,U=ge);U>k&&(y[ee]=1,Gf(f,y,k,D,ee),Gf(f,y,k,ee,R))}function Cx(f,y){for(var k=[f[0]],D=1,R=0,U=f.length;D<U;D++)Mx(f[D],f[R])>y&&(k.push(f[D]),R=D);return R<U-1&&k.push(f[U-1]),k}var Xp;function Jp(f,y,k,D,R){var U=D?Xp:Fo(f,k),ee=Fo(y,k),ce,ge,Ae;for(Xp=ee;;){if(!(U|ee))return[f,y];if(U&ee)return!1;ce=U||ee,ge=Tu(f,y,ce,k,R),Ae=Fo(ge,k),ce===U?(f=ge,U=Ae):(y=ge,ee=Ae)}}function Tu(f,y,k,D,R){var U=y.x-f.x,ee=y.y-f.y,ce=D.min,ge=D.max,Ae,Le;return k&8?(Ae=f.x+U*(ge.y-f.y)/ee,Le=ge.y):k&4?(Ae=f.x+U*(ce.y-f.y)/ee,Le=ce.y):k&2?(Ae=ge.x,Le=f.y+ee*(ge.x-f.x)/U):k&1&&(Ae=ce.x,Le=f.y+ee*(ce.x-f.x)/U),new ne(Ae,Le,R)}function Fo(f,y){var k=0;return f.x<y.min.x?k|=1:f.x>y.max.x&&(k|=2),f.y<y.min.y?k|=4:f.y>y.max.y&&(k|=8),k}function Mx(f,y){var k=y.x-f.x,D=y.y-f.y;return k*k+D*D}function ic(f,y,k,D){var R=y.x,U=y.y,ee=k.x-R,ce=k.y-U,ge=ee*ee+ce*ce,Ae;return ge>0&&(Ae=((f.x-R)*ee+(f.y-U)*ce)/ge,Ae>1?(R=k.x,U=k.y):Ae>0&&(R+=ee*Ae,U+=ce*Ae)),ee=f.x-R,ce=f.y-U,D?ee*ee+ce*ce:new ne(R,U)}function Vr(f){return!j(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function ju(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vr(f)}function Ys(f,y){var k,D,R,U,ee,ce,ge,Ae;if(!f||f.length===0)throw new Error("latlngs not passed");Vr(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Le=de([0,0]),qe=J(f),ot=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ot<1700&&(Le=Ff(f));var Fn=f.length,gn=[];for(k=0;k<Fn;k++){var Rr=de(f[k]);gn.push(y.project(de([Rr.lat-Le.lat,Rr.lng-Le.lng])))}for(k=0,D=0;k<Fn-1;k++)D+=gn[k].distanceTo(gn[k+1])/2;if(D===0)Ae=gn[0];else for(k=0,U=0;k<Fn-1;k++)if(ee=gn[k],ce=gn[k+1],R=ee.distanceTo(ce),U+=R,U>D){ge=(U-D)/R,Ae=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var wt=y.unproject(se(Ae));return de([wt.lat+Le.lat,wt.lng+Le.lng])}var Dx={__proto__:null,simplify:Wp,pointToSegmentDistance:Vp,closestPointOnSegment:Nx,clipSegment:Jp,_getEdgeIntersection:Tu,_getBitCode:Fo,_sqClosestPointOnSegment:ic,isFlat:Vr,_flat:ju,polylineCenter:Ys},Ou={project:function(f){return new ne(f.lng,f.lat)},unproject:function(f){return new oe(f.y,f.x)},bounds:new B([-180,-90],[180,90])},Nu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var y=Math.PI/180,k=this.R,D=f.lat*y,R=this.R_MINOR/k,U=Math.sqrt(1-R*R),ee=U*Math.sin(D),ce=Math.tan(Math.PI/4-D/2)/Math.pow((1-ee)/(1+ee),U/2);return D=-k*Math.log(Math.max(ce,1e-10)),new ne(f.lng*y*k,D)},unproject:function(f){for(var y=180/Math.PI,k=this.R,D=this.R_MINOR/k,R=Math.sqrt(1-D*D),U=Math.exp(-f.y/k),ee=Math.PI/2-2*Math.atan(U),ce=0,ge=.1,Ae;ce<15&&Math.abs(ge)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(U*Ae)-ee,ee+=ge;return new oe(ee*y,f.x*y/k)}},Qp={__proto__:null,LonLat:Ou,Mercator:Nu,SphericalMercator:je},eg=i({},ye,{code:"EPSG:3395",projection:Nu,transformation:(function(){var f=.5/(Math.PI*Nu.R);return ve(f,.5,-f,.5)})()}),qf=i({},ye,{code:"EPSG:4326",projection:Ou,transformation:ve(1/180,1,-1/180,.5)}),Ks=i({},pe,{projection:Ou,transformation:ve(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,y){var k=y.lng-f.lng,D=y.lat-f.lat;return Math.sqrt(k*k+D*D)},infinite:!0});pe.Earth=ye,pe.EPSG3395=eg,pe.EPSG3857=Ze,pe.EPSG900913=Ce,pe.EPSG4326=qf,pe.Simple=Ks;var wi=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var y=f.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var k=this.getEvents();y.on(k,this),this.once("remove",function(){y.off(k,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});mt.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(f);return this._layers[y]?this:(this._layers[y]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var y=u(f);return this._layers[y]?(this._loaded&&f.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,y){for(var k in this._layers)f.call(y,this._layers[k]);return this},_addLayers:function(f){f=f?j(f)?f:[f]:[];for(var y=0,k=f.length;y<k;y++)this.addLayer(f[y])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var y=u(f);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,y=-1/0,k=this._getZoomSpan();for(var D in this._zoomBoundLayers){var R=this._zoomBoundLayers[D].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=f===1/0?void 0:f,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ws=wi.extend({initialize:function(f,y){_(this,y),this._layers={};var k,D;if(f)for(k=0,D=f.length;k<D;k++)this.addLayer(f[k])},addLayer:function(f){var y=this.getLayerId(f);return this._layers[y]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var y=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(f){var y=typeof f=="number"?f:this.getLayerId(f);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var y=Array.prototype.slice.call(arguments,1),k,D;for(k in this._layers)D=this._layers[k],D[f]&&D[f].apply(D,y);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,y){for(var k in this._layers)f.call(y,this._layers[k]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),Px=function(f,y){return new Ws(f,y)},Vi=Ws.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Ws.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Ws.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ie;for(var y in this._layers){var k=this._layers[y];f.extend(k.getBounds?k.getBounds():k.getLatLng())}return f}}),tg=function(f,y){return new Vi(f,y)},Zi=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){_(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,y){var k=this._getIconUrl(f);if(!k){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(k,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(D,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),D},_setIconStyles:function(f,y){var k=this.options,D=k[y+"Size"];typeof D=="number"&&(D=[D,D]);var R=se(D),U=se(y==="shadow"&&k.shadowAnchor||k.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+y+" "+(k.className||""),U&&(f.style.marginLeft=-U.x+"px",f.style.marginTop=-U.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,y){return y=y||document.createElement("img"),y.src=f,y},_getIconUrl:function(f){return He.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function ac(f){return new Zi(f)}var oc=Zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof oc.imagePath!="string"&&(oc.imagePath=this._detectIconPath()),(this.options.imagePath||oc.imagePath)+Zi.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var y=function(k,D,R){var U=D.exec(k);return U&&U[R]};return f=y(f,/^url\((['"])?(.+)\1\)$/,2),f&&y(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=ct("div","leaflet-default-icon-path",document.body),y=Zl(f,"background-image")||Zl(f,"backgroundImage");if(document.body.removeChild(f),y=this._stripUrl(y),y)return y;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),sc=Wi.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new Qa(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var y=this._marker,k=y._map,D=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,U=Xa(y._icon),ee=k.getPixelBounds(),ce=k.getPixelOrigin(),ge=K(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(U)){var Ae=se((Math.max(ge.max.x,U.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,U.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,U.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,U.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(D);k.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=H(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,f)))},_onDrag:function(f){var y=this._marker,k=y._shadow,D=Xa(y._icon),R=y._map.layerPointToLatLng(D);k&&Ut(k,D),y._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,y.fire("move",f).fire("drag",f)},_onDragEnd:function(f){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),lc=wi.extend({options:{icon:new oc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,y){_(this,y),this._latlng=de(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var y=this._latlng;return this._latlng=de(f),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=f.icon.createIcon(this._icon),D=!1;k!==this._icon&&(this._icon&&this._removeIcon(),D=!0,f.title&&(k.title=f.title),k.tagName==="IMG"&&(k.alt=f.alt||"")),nt(k,y),f.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(k,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),U=!1;R!==this._shadow&&(this._removeShadow(),U=!0),R&&(nt(R,y),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&U&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Ut(this._icon,f),this._shadow&&Ut(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Zt(this._icon,f),this._shadow&&Zt(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var y=this.options.icon.options,k=y.iconSize?se(y.iconSize):se(0,0),D=y.iconAnchor?se(y.iconAnchor):se(0,0);f.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:k.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ng(f,y){return new lc(f,y)}var Xi=wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return _(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=Xi.extend({options:{fill:!0,radius:10},initialize:function(f,y){_(this,y),this._latlng=de(f),this._radius=this.options.radius},setLatLng:function(f){var y=this._latlng;return this._latlng=de(f),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var y=f&&f.radius||this._radius;return Xi.prototype.setStyle.call(this,f),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,y=this._radiusY||f,k=this._clickTolerance(),D=[f+k,y+k];this._pxBounds=new B(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rg(f,y){return new Vs(f,y)}var Cu=Vs.extend({initialize:function(f,y,k){if(typeof y=="number"&&(y=i({},k,{radius:y})),_(this,y),this._latlng=de(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:Xi.prototype.setStyle,_project:function(){var f=this._latlng.lng,y=this._latlng.lat,k=this._map,D=k.options.crs;if(D.distance===ye.distance){var R=Math.PI/180,U=this._mRadius/ye.R/R,ee=k.project([y+U,f]),ce=k.project([y-U,f]),ge=ee.add(ce).divideBy(2),Ae=k.unproject(ge).lat,Le=Math.acos((Math.cos(U*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Le)||Le===0)&&(Le=U/Math.cos(Math.PI/180*y)),this._point=ge.subtract(k.getPixelOrigin()),this._radius=isNaN(Le)?0:ge.x-k.project([Ae,f-Le]).x,this._radiusY=ge.y-ee.y}else{var qe=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(qe).x}this._updateBounds()}});function ig(f,y,k){return new Cu(f,y,k)}var ka=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,y){_(this,y),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var y=1/0,k=null,D=ic,R,U,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Ae=1,Le=ge.length;Ae<Le;Ae++){R=ge[Ae-1],U=ge[Ae];var qe=D(f,R,U,!0);qe<y&&(y=qe,k=D(f,R,U))}return k&&(k.distance=Math.sqrt(y)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ys(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,y){return y=y||this._defaultShape(),f=de(f),y.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ie,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return Vr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var y=[],k=Vr(f),D=0,R=f.length;D<R;D++)k?(y[D]=de(f[D]),this._bounds.extend(y[D])):y[D]=this._convertLatLngs(f[D]);return y},_project:function(){var f=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),y=new ne(f,f);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(f,y,k){var D=f[0]instanceof oe,R=f.length,U,ee;if(D){for(ee=[],U=0;U<R;U++)ee[U]=this._map.latLngToLayerPoint(f[U]),k.extend(ee[U]);y.push(ee)}else for(U=0;U<R;U++)this._projectLatlngs(f[U],y,k)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,k,D,R,U,ee,ce,ge;for(k=0,R=0,U=this._rings.length;k<U;k++)for(ge=this._rings[k],D=0,ee=ge.length;D<ee-1;D++)ce=Jp(ge[D],ge[D+1],f,D,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[D+1]||D===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,y=this.options.smoothFactor,k=0,D=f.length;k<D;k++)f[k]=Wp(f[k],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,y){var k,D,R,U,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(k=0,U=this._parts.length;k<U;k++)for(ce=this._parts[k],D=0,ee=ce.length,R=ee-1;D<ee;R=D++)if(!(!y&&D===0)&&Vp(f,ce[R],ce[D])<=ge)return!0;return!1}});function Rx(f,y){return new ka(f,y)}ka._flat=ju;var Zs=ka.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Kp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var y=ka.prototype._convertLatLngs.call(this,f),k=y.length;return k>=2&&y[0]instanceof oe&&y[0].equals(y[k-1])&&y.pop(),y},_setLatLngs:function(f){ka.prototype._setLatLngs.call(this,f),Vr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,y=this.options.weight,k=new ne(y,y);if(f=new B(f.min.subtract(k),f.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var D=0,R=this._rings.length,U;D<R;D++)U=Yp(this._rings[D],f,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var y=!1,k,D,R,U,ee,ce,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(U=0,ge=this._parts.length;U<ge;U++)for(k=this._parts[U],ee=0,Ae=k.length,ce=Ae-1;ee<Ae;ce=ee++)D=k[ee],R=k[ce],D.y>f.y!=R.y>f.y&&f.x<(R.x-D.x)*(f.y-D.y)/(R.y-D.y)+D.x&&(y=!y);return y||ka.prototype._containsPoint.call(this,f,!0)}});function Lx(f,y){return new Zs(f,y)}var Aa=Vi.extend({initialize:function(f,y){_(this,y),this._layers={},f&&this.addData(f)},addData:function(f){var y=j(f)?f:f.features,k,D,R;if(y){for(k=0,D=y.length;k<D;k++)R=y[k],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var U=this.options;if(U.filter&&!U.filter(f))return this;var ee=er(f,U);return ee?(ee.feature=Pu(f),ee.defaultOptions=ee.options,this.resetStyle(ee),U.onEachFeature&&U.onEachFeature(f,ee),this.addLayer(ee)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(y){this._setLayerStyle(y,f)},this)},_setLayerStyle:function(f,y){f.setStyle&&(typeof y=="function"&&(y=y(f.feature)),f.setStyle(y))}});function er(f,y){var k=f.type==="Feature"?f.geometry:f,D=k?k.coordinates:null,R=[],U=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||Mu,ce,ge,Ae,Le;if(!D&&!k)return null;switch(k.type){case"Point":return ce=ee(D),Xs(U,f,ce,y);case"MultiPoint":for(Ae=0,Le=D.length;Ae<Le;Ae++)ce=ee(D[Ae]),R.push(Xs(U,f,ce,y));return new Vi(R);case"LineString":case"MultiLineString":return ge=cc(D,k.type==="LineString"?0:1,ee),new ka(ge,y);case"Polygon":case"MultiPolygon":return ge=cc(D,k.type==="Polygon"?1:2,ee),new Zs(ge,y);case"GeometryCollection":for(Ae=0,Le=k.geometries.length;Ae<Le;Ae++){var qe=er({geometry:k.geometries[Ae],type:"Feature",properties:f.properties},y);qe&&R.push(qe)}return new Vi(R);case"FeatureCollection":for(Ae=0,Le=k.features.length;Ae<Le;Ae++){var ot=er(k.features[Ae],y);ot&&R.push(ot)}return new Vi(R);default:throw new Error("Invalid GeoJSON object.")}}function Xs(f,y,k,D){return f?f(y,k):new lc(k,D&&D.markersInheritOptions&&D)}function Mu(f){return new oe(f[1],f[0],f[2])}function cc(f,y,k){for(var D=[],R=0,U=f.length,ee;R<U;R++)ee=y?cc(f[R],y-1,k):(k||Mu)(f[R]),D.push(ee);return D}function Du(f,y){return f=de(f),f.alt!==void 0?[b(f.lng,y),b(f.lat,y),b(f.alt,y)]:[b(f.lng,y),b(f.lat,y)]}function uc(f,y,k,D){for(var R=[],U=0,ee=f.length;U<ee;U++)R.push(y?uc(f[U],Vr(f[U])?0:y-1,k,D):Du(f[U],D));return!y&&k&&R.length>0&&R.push(R[0].slice()),R}function eo(f,y){return f.feature?i({},f.feature,{geometry:y}):Pu(y)}function Pu(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var to={toGeoJSON:function(f){return eo(this,{type:"Point",coordinates:Du(this.getLatLng(),f)})}};lc.include(to),Cu.include(to),Vs.include(to),ka.include({toGeoJSON:function(f){var y=!Vr(this._latlngs),k=uc(this._latlngs,y?1:0,!1,f);return eo(this,{type:(y?"Multi":"")+"LineString",coordinates:k})}}),Zs.include({toGeoJSON:function(f){var y=!Vr(this._latlngs),k=y&&!Vr(this._latlngs[0]),D=uc(this._latlngs,k?2:y?1:0,!0,f);return y||(D=[D]),eo(this,{type:(k?"Multi":"")+"Polygon",coordinates:D})}}),Ws.include({toMultiPoint:function(f){var y=[];return this.eachLayer(function(k){y.push(k.toGeoJSON(f).geometry.coordinates)}),eo(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(f){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(f);var k=y==="GeometryCollection",D=[];return this.eachLayer(function(R){if(R.toGeoJSON){var U=R.toGeoJSON(f);if(k)D.push(U.geometry);else{var ee=Pu(U);ee.type==="FeatureCollection"?D.push.apply(D,ee.features):D.push(ee)}}}),k?eo(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});function Ru(f,y){return new Aa(f,y)}var dc=Ru,Js=wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,y,k){this._url=f,this._bounds=J(y),_(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Un(this._image),this},bringToBack:function(){return this._map&&Bo(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=J(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",y=this._image=f?this._url:ct("img");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(f){var y=this._map.getZoomScale(f.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;wa(this._image,k,y)},_reset:function(){var f=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=y.getSize();Ut(f,y.min),f.style.width=k.x+"px",f.style.height=k.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),ag=function(f,y,k){return new Js(f,y,k)},no=Js.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",y=this._image=f?this._url:ct("video");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),f){for(var k=y.getElementsByTagName("source"),D=[],R=0;R<k.length;R++)D.push(k[R].src);this._url=k.length>0?D:[y.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var ee=ct("source");ee.src=this._url[U],y.appendChild(ee)}}});function Qs(f,y,k){return new no(f,y,k)}var Lu=Js.extend({_initImage:function(){var f=this._image=this._url;nt(f,"leaflet-image-layer"),this._zoomAnimated&&nt(f,"leaflet-zoom-animated"),this.options.className&&nt(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function og(f,y,k){return new Lu(f,y,k)}var tr=wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,y){f&&(f instanceof oe||j(f))?(this._latlng=de(f),_(this,y)):(_(this,f),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=de(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Un(this._container),this},bringToBack:function(){return this._map&&Bo(this._container),this},_prepareOpen:function(f){var y=this._source;if(!y._map)return!1;if(y instanceof Vi){y=null;var k=this._source._layers;for(var D in k)if(k[D]._map){y=k[D];break}if(!y)return!1;this._source=y}if(!f)if(y.getCenter)f=y.getCenter();else if(y.getLatLng)f=y.getLatLng();else if(y.getBounds)f=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")f.innerHTML=y;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),k=this._getAnchor();this._zoomAnimated?Ut(this._container,f.add(k)):y=y.add(f).add(k);var D=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=D+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});mt.include({_initOverlay:function(f,y,k,D){var R=y;return R instanceof f||(R=new f(D).setContent(y)),k&&R.setLatLng(k),R}}),wi.include({_initOverlay:function(f,y,k,D){var R=k;return R instanceof f?(_(R,D),R._source=this):(R=y&&!D?y:new f(D,this),R.setContent(k)),R}});var fc=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,tr.prototype.openOn.call(this,f)},onAdd:function(f){tr.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",_i))},onRemove:function(f){tr.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",_i))},getEvents:function(){var f=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",y=this._container=ct("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=ct("div",f+"-content-wrapper",y);if(this._contentNode=ct("div",f+"-content",k),Uo(y),Ki(this._contentNode),tt(y,"contextmenu",_i),this._tipContainer=ct("div",f+"-tip-container",y),this._tip=ct("div",f+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=ct("a",f+"-close-button",y);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',tt(D,"click",function(R){pn(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,y=f.style;y.width="",y.whiteSpace="nowrap";var k=f.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),y.width=k+1+"px",y.whiteSpace="",y.height="";var D=f.offsetHeight,R=this.options.maxHeight,U="leaflet-popup-scrolled";R&&D>R?(y.height=R+"px",nt(f,U)):en(f,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),k=this._getAnchor();Ut(this._container,y.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,y=parseInt(Zl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+y,D=this._containerWidth,R=new ne(this._containerLeft,-k-this._containerBottom);R._add(Xa(this._container));var U=f.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Ae=f.getSize(),Le=0,qe=0;U.x+D+ge.x>Ae.x&&(Le=U.x+D-Ae.x+ge.x),U.x-Le-ce.x<0&&(Le=U.x-ce.x),U.y+k+ge.y>Ae.y&&(qe=U.y+k-Ae.y+ge.y),U.y-qe-ce.y<0&&(qe=U.y-ce.y),(Le||qe)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Le,qe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sg=function(f,y){return new fc(f,y)};mt.mergeOptions({closePopupOnClick:!0}),mt.include({openPopup:function(f,y,k){return this._initOverlay(fc,f,y,k).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),wi.include({bindPopup:function(f,y){return this._popup=this._initOverlay(fc,this._popup,f,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof Vi||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){Ja(f);var y=f.layer||f.target;if(this._popup._source===y&&!(y instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=y,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var hc=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){tr.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){tr.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=tr.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",y=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var y,k,D=this._map,R=this._container,U=D.latLngToContainerPoint(D.getCenter()),ee=D.layerPointToContainerPoint(f),ce=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Le=se(this.options.offset),qe=this._getAnchor();ce==="top"?(y=ge/2,k=Ae):ce==="bottom"?(y=ge/2,k=0):ce==="center"?(y=ge/2,k=Ae/2):ce==="right"?(y=0,k=Ae/2):ce==="left"?(y=ge,k=Ae/2):ee.x<U.x?(ce="right",y=0,k=Ae/2):(ce="left",y=ge+(Le.x+qe.x)*2,k=Ae/2),f=f.subtract(se(y,k,!0)).add(Le).add(qe),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),nt(R,"leaflet-tooltip-"+ce),Ut(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Zt(this._container,f)},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ix=function(f,y){return new hc(f,y)};mt.include({openTooltip:function(f,y,k){return this._initOverlay(hc,f,y,k).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),wi.include({bindTooltip:function(f,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hc,this._tooltip,f,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var y=f?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[y](k),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof Vi||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var y=typeof f.getElement=="function"&&f.getElement();y&&(tt(y,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),tt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var y=typeof f.getElement=="function"&&f.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var y=f.latlng,k,D;this._tooltip.options.sticky&&f.originalEvent&&(k=this._map.mouseEventToContainerPoint(f.originalEvent),D=this._map.containerPointToLayerPoint(k),y=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(y)}});var lg=Zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var y=f&&f.tagName==="DIV"?f:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Kr(y),y.appendChild(k.html)):y.innerHTML=k.html!==!1?k.html:"",k.bgPos){var D=se(k.bgPos);y.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function $x(f){return new lg(f)}Zi.Default=oc;var el=wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){_(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),It(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof ne?f:new ne(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var y=this.getPane().children,k=-f(-1/0,1/0),D=0,R=y.length,U;D<R;D++)U=y[D].style.zIndex,y[D]!==this._container&&U&&(k=f(k,+U));isFinite(k)&&(this.options.zIndex=k+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Zt(this._container,this.options.opacity);var f=+new Date,y=!1,k=!1;for(var D in this._tiles){var R=this._tiles[D];if(!(!R.current||!R.loaded)){var U=Math.min(1,(f-R.loaded)/200);Zt(R.el,U),U<1?y=!0:(R.active?k=!0:this._onOpaqueTile(R),R.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,y=this.options.maxZoom;if(f!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===f?(this._levels[k].el.style.zIndex=y-Math.abs(f-k),this._onUpdateLevel(k)):(It(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var D=this._levels[f],R=this._map;return D||(D=this._levels[f]={},D.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=y,D.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),D.zoom=f,this._setZoomTransform(D,R.getCenter(),R.getZoom()),p(D.el.offsetWidth),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,y,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)y=this._tiles[f],y.retain=y.current;for(f in this._tiles)if(y=this._tiles[f],y.current&&!y.active){var D=y.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var y in this._tiles)this._tiles[y].coords.z===f&&this._removeTile(y)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)It(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,y,k,D){var R=Math.floor(f/2),U=Math.floor(y/2),ee=k-1,ce=new ne(+R,+U);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>D?this._retainParent(R,U,ee,D):!1)},_retainChildren:function(f,y,k,D){for(var R=2*f;R<2*f+2;R++)for(var U=2*y;U<2*y+2;U++){var ee=new ne(R,U);ee.z=k+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);k+1<D&&this._retainChildren(R,U,k+1,D)}},_resetView:function(f){var y=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var y=this.options;return y.minNativeZoom!==void 0&&f<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<f?y.maxNativeZoom:f},_setView:function(f,y,k,D){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var U=this.options.updateWhenZooming&&R!==this._tileZoom;(!D||U)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(f,y)},_setZoomTransforms:function(f,y){for(var k in this._levels)this._setZoomTransform(this._levels[k],f,y)},_setZoomTransform:function(f,y,k){var D=this._map.getZoomScale(k,f.zoom),R=f.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(y,k)).round();He.any3d?wa(f.el,R,D):Ut(f.el,R)},_resetGrid:function(){var f=this._map,y=f.options.crs,k=this._tileSize=this.getTileSize(),D=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,y.wrapLng[0]],D).x/k.x),Math.ceil(f.project([0,y.wrapLng[1]],D).x/k.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([y.wrapLat[0],0],D).y/k.x),Math.ceil(f.project([y.wrapLat[1],0],D).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var y=this._map,k=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),D=y.getZoomScale(k,this._tileZoom),R=y.project(f,this._tileZoom).floor(),U=y.getSize().divideBy(D*2);return new B(R.subtract(U),R.add(U))},_update:function(f){var y=this._map;if(y){var k=this._clampZoom(y.getZoom());if(f===void 0&&(f=y.getCenter()),this._tileZoom!==void 0){var D=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(D),U=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Le=this._tiles[Ae].coords;(Le.z!==this._tileZoom||!ge.contains(new ne(Le.x,Le.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(f,k);return}for(var qe=R.min.y;qe<=R.max.y;qe++)for(var ot=R.min.x;ot<=R.max.x;ot++){var Fn=new ne(ot,qe);if(Fn.z=this._tileZoom,!!this._isValidTile(Fn)){var gn=this._tiles[this._tileCoordsToKey(Fn)];gn?gn.current=!0:ee.push(Fn)}}if(ee.sort(function(wt,St){return wt.distanceTo(U)-St.distanceTo(U)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rr=document.createDocumentFragment();for(ot=0;ot<ee.length;ot++)this._addTile(ee[ot],Rr);this._level.el.appendChild(Rr)}}}},_isValidTile:function(f){var y=this._map.options.crs;if(!y.infinite){var k=this._globalTileRange;if(!y.wrapLng&&(f.x<k.min.x||f.x>k.max.x)||!y.wrapLat&&(f.y<k.min.y||f.y>k.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(f);return J(this.options.bounds).overlaps(D)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var y=this._map,k=this.getTileSize(),D=f.scaleBy(k),R=D.add(k),U=y.unproject(D,f.z),ee=y.unproject(R,f.z);return[U,ee]},_tileCoordsToBounds:function(f){var y=this._tileCoordsToNwSe(f),k=new ie(y[0],y[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var y=f.split(":"),k=new ne(+y[0],+y[1]);return k.z=+y[2],k},_removeTile:function(f){var y=this._tiles[f];y&&(It(y.el),delete this._tiles[f],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){nt(f,"leaflet-tile");var y=this.getTileSize();f.style.width=y.x+"px",f.style.height=y.y+"px",f.onselectstart=p,f.onmousemove=p,He.ielt9&&this.options.opacity<1&&Zt(f,this.options.opacity)},_addTile:function(f,y){var k=this._getTilePos(f),D=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&H(o(this._tileReady,this,f,null,R)),Ut(R,k),this._tiles[D]={el:R,coords:f,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,y,k){y&&this.fire("tileerror",{error:y,tile:k,coords:f});var D=this._tileCoordsToKey(f);k=this._tiles[D],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Zt(k.el,0),z(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),y||(nt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var y=new ne(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return y.z=f.z,y},_pxBoundsToTileRange:function(f){var y=this.getTileSize();return new B(f.min.unscaleBy(y).floor(),f.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function cg(f){return new el(f)}var ro=el.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,y){this._url=f,y=_(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,y){return this._url===f&&y===void 0&&(y=!0),this._url=f,y||this.redraw(),this},createTile:function(f,y){var k=document.createElement("img");return tt(k,"load",o(this._tileOnLoad,this,y,k)),tt(k,"error",o(this._tileOnError,this,y,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(f),k},getTileUrl:function(f){var y={r:He.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-f.y;this.options.tms&&(y.y=k),y["-y"]=k}return N(this._url,i(y,this.options))},_tileOnLoad:function(f,y){He.ielt9?setTimeout(o(f,this,null,y),0):f(null,y)},_tileOnError:function(f,y,k){var D=this.options.errorTileUrl;D&&y.getAttribute("src")!==D&&(y.src=D),f(k,y)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,y=this.options.maxZoom,k=this.options.zoomReverse,D=this.options.zoomOffset;return k&&(f=y-f),f+D},_getSubdomain:function(f){var y=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var f,y;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(y=this._tiles[f].el,y.onload=p,y.onerror=p,!y.complete)){y.src=M;var k=this._tiles[f].coords;It(y),delete this._tiles[f],this.fire("tileabort",{tile:y,coords:k})}},_removeTile:function(f){var y=this._tiles[f];if(y)return y.el.setAttribute("src",M),el.prototype._removeTile.call(this,f)},_tileReady:function(f,y,k){if(!(!this._map||k&&k.getAttribute("src")===M))return el.prototype._tileReady.call(this,f,y,k)}});function Zr(f,y){return new ro(f,y)}var mc=ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,y){this._url=f;var k=i({},this.defaultWmsParams);for(var D in y)D in this.options||(k[D]=y[D]);y=_(this,y);var R=y.detectRetina&&He.retina?2:1,U=this.getTileSize();k.width=U.x*R,k.height=U.y*R,this.wmsParams=k},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,ro.prototype.onAdd.call(this,f)},getTileUrl:function(f){var y=this._tileCoordsToNwSe(f),k=this._crs,D=K(k.project(y[0]),k.project(y[1])),R=D.min,U=D.max,ee=(this._wmsVersion>=1.3&&this._crs===qf?[R.y,R.x,U.y,U.x]:[R.x,R.y,U.x,U.y]).join(","),ce=ro.prototype.getTileUrl.call(this,f);return ce+w(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(f,y){return i(this.wmsParams,f),y||this.redraw(),this}});function Xr(f,y){return new mc(f,y)}ro.WMS=mc,Zr.wms=Xr;var kr=wi.extend({options:{padding:.1},initialize:function(f){_(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,y){var k=this._map.getZoomScale(y,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),U=D.multiplyBy(-k).add(R).subtract(this._map._getNewPixelOrigin(f,y));He.any3d?wa(this._container,U,k):Ut(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,y=this._map.getSize(),k=this._map.containerPointToLayerPoint(y.multiplyBy(-f)).round();this._bounds=new B(k,k.add(y.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Iu=kr.extend({options:{tolerance:0},getEvents:function(){var f=kr.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");tt(f,"mousemove",this._onMouseMove,this),tt(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var y in this._layers)f=this._layers[y],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kr.prototype._update.call(this);var f=this._bounds,y=this._container,k=f.getSize(),D=He.retina?2:1;Ut(y,f.min),y.width=D*k.x,y.height=D*k.y,y.style.width=k.x+"px",y.style.height=k.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){kr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var y=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var y=f._order,k=y.next,D=y.prev;k?k.prev=D:this._drawLast=D,D?D.next=k:this._drawFirst=k,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var y=f.options.dashArray.split(/[, ]+/),k=[],D,R;for(R=0;R<y.length;R++){if(D=Number(y[R]),isNaN(D))return;k.push(D)}f.options._dashArray=k}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var y=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(f._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(f._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var y=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,y=this._redrawBounds;if(this._ctx.save(),y){var k=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)f=D.layer,(!y||f._pxBounds&&f._pxBounds.intersects(y))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,y){if(this._drawing){var k,D,R,U,ee=f._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),k=0;k<ce;k++){for(D=0,R=ee[k].length;D<R;D++)U=ee[k][D],ge[D?"lineTo":"moveTo"](U.x,U.y);y&&ge.closePath()}this._fillStroke(ge,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var y=f._point,k=this._ctx,D=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||D)/D;R!==1&&(k.save(),k.scale(1,R)),k.beginPath(),k.arc(y.x,y.y/R,D,0,Math.PI*2,!1),R!==1&&k.restore(),this._fillStroke(k,f)}},_fillStroke:function(f,y){var k=y.options;k.fill&&(f.globalAlpha=k.fillOpacity,f.fillStyle=k.fillColor||k.color,f.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(f.setLineDash&&f.setLineDash(y.options&&y.options._dashArray||[]),f.globalAlpha=k.opacity,f.lineWidth=k.weight,f.strokeStyle=k.color,f.lineCap=k.lineCap,f.lineJoin=k.lineJoin,f.stroke())},_onClick:function(f){for(var y=this._map.mouseEventToLayerPoint(f),k,D,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(k))&&(D=k);this._fireEvent(D?[D]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,y)}},_handleMouseOut:function(f){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,y){if(!this._mouseHoverThrottled){for(var k,D,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(D=k);D!==this._hoveredLayer&&(this._handleMouseOut(f),D&&(nt(this._container,"leaflet-interactive"),this._fireEvent([D],f,"mouseover"),this._hoveredLayer=D)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,y,k){this._map._fireDOMEvent(y,k||y.type,f)},_bringToFront:function(f){var y=f._order;if(y){var k=y.next,D=y.prev;if(k)k.prev=D;else return;D?D.next=k:k&&(this._drawFirst=k),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(f)}},_bringToBack:function(f){var y=f._order;if(y){var k=y.next,D=y.prev;if(D)D.next=k;else return;k?k.prev=D:D&&(this._drawLast=D),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(f)}}});function pc(f){return He.canvas?new Iu(f):null}var io=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Yf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kr.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var y=f._container=io("shape");nt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",f._path=io("path"),y.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var y=f._container;this._container.appendChild(y),f.options.interactive&&f.addInteractiveTarget(y)},_removePath:function(f){var y=f._container;It(y),f.removeInteractiveTarget(y),delete this._layers[u(f)]},_updateStyle:function(f){var y=f._stroke,k=f._fill,D=f.options,R=f._container;R.stroked=!!D.stroke,R.filled=!!D.fill,D.stroke?(y||(y=f._stroke=io("stroke")),R.appendChild(y),y.weight=D.weight+"px",y.color=D.color,y.opacity=D.opacity,D.dashArray?y.dashStyle=j(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=D.lineCap.replace("butt","flat"),y.joinstyle=D.lineJoin):y&&(R.removeChild(y),f._stroke=null),D.fill?(k||(k=f._fill=io("fill")),R.appendChild(k),k.color=D.fillColor||D.color,k.opacity=D.fillOpacity):k&&(R.removeChild(k),f._fill=null)},_updateCircle:function(f){var y=f._point.round(),k=Math.round(f._radius),D=Math.round(f._radiusY||k);this._setPath(f,f._empty()?"M0 0":"AL "+y.x+","+y.y+" "+k+","+D+" 0,"+65535*360)},_setPath:function(f,y){f._path.v=y},_bringToFront:function(f){Un(f._container)},_bringToBack:function(f){Bo(f._container)}},Ji=He.vml?io:_e,tl=kr.extend({_initContainer:function(){this._container=Ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kr.prototype._update.call(this);var f=this._bounds,y=f.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,k.setAttribute("width",y.x),k.setAttribute("height",y.y)),Ut(k,f.min),k.setAttribute("viewBox",[f.min.x,f.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(f){var y=f._path=Ji("path");f.options.className&&nt(y,f.options.className),f.options.interactive&&nt(y,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){It(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var y=f._path,k=f.options;y&&(k.stroke?(y.setAttribute("stroke",k.color),y.setAttribute("stroke-opacity",k.opacity),y.setAttribute("stroke-width",k.weight),y.setAttribute("stroke-linecap",k.lineCap),y.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?y.setAttribute("stroke-dasharray",k.dashArray):y.removeAttribute("stroke-dasharray"),k.dashOffset?y.setAttribute("stroke-dashoffset",k.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),k.fill?(y.setAttribute("fill",k.fillColor||k.color),y.setAttribute("fill-opacity",k.fillOpacity),y.setAttribute("fill-rule",k.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(f,y){this._setPath(f,Oe(f._parts,y))},_updateCircle:function(f){var y=f._point,k=Math.max(Math.round(f._radius),1),D=Math.max(Math.round(f._radiusY),1)||k,R="a"+k+","+D+" 0 1,0 ",U=f._empty()?"M0 0":"M"+(y.x-k)+","+y.y+R+k*2+",0 "+R+-k*2+",0 ";this._setPath(f,U)},_setPath:function(f,y){f._path.setAttribute("d",y)},_bringToFront:function(f){Un(f._path)},_bringToBack:function(f){Bo(f._path)}});He.vml&&tl.include(Yf);function gc(f){return He.svg||He.vml?new tl(f):null}mt.include({getRenderer:function(f){var y=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var y=this._paneRenderers[f];return y===void 0&&(y=this._createRenderer({pane:f}),this._paneRenderers[f]=y),y},_createRenderer:function(f){return this.options.preferCanvas&&pc(f)||gc(f)}});var Ho=Zs.extend({initialize:function(f,y){Zs.prototype.initialize.call(this,this._boundsToLatLngs(f),y)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=J(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function Bx(f,y){return new Ho(f,y)}tl.create=Ji,tl.pointsToPath=Oe,Aa.geometryToLayer=er,Aa.coordsToLatLng=Mu,Aa.coordsToLatLngs=cc,Aa.latLngToCoords=Du,Aa.latLngsToCoords=uc,Aa.getFeature=eo,Aa.asFeature=Pu,mt.mergeOptions({boxZoom:!0});var Ar=Wi.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Us(),Su(),this._startPoint=this._map.mouseEventToContainerPoint(f),tt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var y=new B(this._point,this._startPoint),k=y.getSize();Ut(this._box,y.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),Yi(),Jl(),Nt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});mt.addInitHook("addHandler","boxZoom",Ar),mt.mergeOptions({doubleClickZoom:!0});var $u=Wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var y=this._map,k=y.getZoom(),D=y.options.zoomDelta,R=f.originalEvent.shiftKey?k-D:k+D;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(f.containerPoint,R)}});mt.addInitHook("addHandler","doubleClickZoom",$u),mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qi=Wi.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new Qa(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=J(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var y=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(y),this._prunePositions(y)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,y){return f-(f-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;f.x<y.min.x&&(f.x=this._viscousLimit(f.x,y.min.x)),f.y<y.min.y&&(f.y=this._viscousLimit(f.y,y.min.y)),f.x>y.max.x&&(f.x=this._viscousLimit(f.x,y.max.x)),f.y>y.max.y&&(f.y=this._viscousLimit(f.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,y=Math.round(f/2),k=this._initialWorldOffset,D=this._draggable._newPos.x,R=(D-y+k)%f+y-k,U=(D+y+k)%f-y-k,ee=Math.abs(R+k)<Math.abs(U+k)?R:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(f){var y=this._map,k=y.options,D=!k.inertia||f.noInertia||this._times.length<2;if(y.fire("dragend",f),D)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,ee=k.easeLinearity,ce=R.multiplyBy(ee/U),ge=ce.distanceTo([0,0]),Ae=Math.min(k.inertiaMaxSpeed,ge),Le=ce.multiplyBy(Ae/ge),qe=Ae/(k.inertiaDeceleration*ee),ot=Le.multiplyBy(-qe/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),H(function(){y.panBy(ot,{duration:qe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});mt.addInitHook("addHandler","dragging",Qi),mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kf=Wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),tt(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,y=document.documentElement,k=f.scrollTop||y.scrollTop,D=f.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(D,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var y=this._panKeys={},k=this.keyCodes,D,R;for(D=0,R=k.left.length;D<R;D++)y[k.left[D]]=[-1*f,0];for(D=0,R=k.right.length;D<R;D++)y[k.right[D]]=[f,0];for(D=0,R=k.down.length;D<R;D++)y[k.down[D]]=[0,f];for(D=0,R=k.up.length;D<R;D++)y[k.up[D]]=[0,-1*f]},_setZoomDelta:function(f){var y=this._zoomKeys={},k=this.keyCodes,D,R;for(D=0,R=k.zoomIn.length;D<R;D++)y[k.zoomIn[D]]=f;for(D=0,R=k.zoomOut.length;D<R;D++)y[k.zoomOut[D]]=-f},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var y=f.keyCode,k=this._map,D;if(y in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(D=this._panKeys[y],f.shiftKey&&(D=se(D).multiplyBy(3)),k.options.maxBounds&&(D=k._limitOffset(se(D),k.options.maxBounds)),k.options.worldCopyJump){var R=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(D)));k.panTo(R)}else k.panBy(D)}else if(y in this._zoomKeys)k.setZoom(k.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Ja(f)}}});mt.addInitHook("addHandler","keyboard",Kf),mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bc=Wi.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var y=fr(f),k=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var D=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),D),Ja(f)},_performZoom:function(){var f=this._map,y=f.getZoom(),k=this._map.options.zoomSnap||0;f._stop();var D=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(D))))/Math.LN2,U=k?Math.ceil(R/k)*k:R,ee=f._limitZoom(y+(this._delta>0?U:-U))-y;this._delta=0,this._startTime=null,ee&&(f.options.scrollWheelZoom==="center"?f.setZoom(y+ee):f.setZoomAround(this._lastMousePos,y+ee))}});mt.addInitHook("addHandler","scrollWheelZoom",bc);var Go=600;mt.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var Bu=Wi.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var y=f.touches[0];this._startPos=this._newPos=new ne(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",pn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Go),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){Nt(document,"touchend",pn),Nt(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(f){var y=f.touches[0];this._newPos=new ne(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,y){var k=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});k._simulated=!0,y.target.dispatchEvent(k)}});mt.addInitHook("addHandler","tapHold",Bu),mt.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Wf=Wi.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var y=this._map;if(!(!f.touches||f.touches.length!==2||y._animatingZoom||this._zooming)){var k=y.mouseEventToContainerPoint(f.touches[0]),D=y.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(k.add(D)._divideBy(2))),this._startDist=k.distanceTo(D),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),pn(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var y=this._map,k=y.mouseEventToContainerPoint(f.touches[0]),D=y.mouseEventToContainerPoint(f.touches[1]),R=k.distanceTo(D)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var U=k._add(D)._divideBy(2)._subtract(this._centerPoint);if(R===1&&U.x===0&&U.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ee,this,!0),pn(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});mt.addInitHook("addHandler","touchZoom",Wf),mt.BoxZoom=Ar,mt.DoubleClickZoom=$u,mt.Drag=Qi,mt.Keyboard=Kf,mt.ScrollWheelZoom=bc,mt.TapHold=Bu,mt.TouchZoom=Wf,n.Bounds=B,n.Browser=He,n.CRS=pe,n.Canvas=Iu,n.Circle=Cu,n.CircleMarker=Vs,n.Class=X,n.Control=Pr,n.DivIcon=lg,n.DivOverlay=tr,n.DomEvent=Au,n.DomUtil=Gs,n.Draggable=Qa,n.Evented=Q,n.FeatureGroup=Vi,n.GeoJSON=Aa,n.GridLayer=el,n.Handler=Wi,n.Icon=Zi,n.ImageOverlay=Js,n.LatLng=oe,n.LatLngBounds=ie,n.Layer=wi,n.LayerGroup=Ws,n.LineUtil=Dx,n.Map=mt,n.Marker=lc,n.Mixin=Ox,n.Path=Xi,n.Point=ne,n.PolyUtil=Hf,n.Polygon=Zs,n.Polyline=ka,n.Popup=fc,n.PosAnimation=qs,n.Projection=Qp,n.Rectangle=Ho,n.Renderer=kr,n.SVG=tl,n.SVGOverlay=Lu,n.TileLayer=ro,n.Tooltip=hc,n.Transformation=Ne,n.Util=V,n.VideoOverlay=no,n.bind=o,n.bounds=K,n.canvas=pc,n.circle=ig,n.circleMarker=rg,n.control=Ea,n.divIcon=$x,n.extend=i,n.featureGroup=tg,n.geoJSON=Ru,n.geoJson=dc,n.gridLayer=cg,n.icon=ac,n.imageOverlay=ag,n.latLng=de,n.latLngBounds=J,n.layerGroup=Px,n.map=If,n.marker=ng,n.point=se,n.polygon=Lx,n.polyline=Rx,n.popup=sg,n.rectangle=Bx,n.setOptions=_,n.stamp=u,n.svg=gc,n.svgOverlay=og,n.tileLayer=Zr,n.tooltip=Ix,n.transformation=ve,n.version=r,n.videoOverlay=Qs;var Vf=window.L;n.noConflict=function(){return window.L=Vf,this},window.L=n}))})(am,am.exports)),am.exports}var XV=ZV();const Mw=hi(XV),y0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Cc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function JV(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Cc(n),p=Cc(t),b=Cc(r),x=Cc(a),E=Cc(o),_=Cc(l),w=i?Cc(i):null;let T=null,N=null,j=null;const C=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",M=z=>{C(z)&&document.activeElement!==E&&(z.preventDefault(),z.stopPropagation(),E.focus())},P=()=>{b.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=Mw.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),Mw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),b.addEventListener("keydown",M,!0),b.addEventListener("keyup",M,!0),E.focus()},$=()=>{b.style.display="none",E.value="",_.innerHTML="",j&&(window.clearTimeout(j),j=null),b.removeEventListener("keydown",M,!0),b.removeEventListener("keyup",M,!0)},F=z=>{const V=z.dataset.name??"",X=Number(z.dataset.lat??""),Z=Number(z.dataset.lon??"");!Number.isFinite(X)||!Number.isFinite(Z)||!T||(N?N.setLatLng([X,Z]):N=Mw.marker([X,Z]).addTo(T),T.flyTo([X,Z],14,{duration:.5}),h.value=V,h.dataset.lat=String(X),h.dataset.lon=String(Z),e.onSelected?.({name:V,lat:X,lon:Z}),_.innerHTML="",$())},Y=()=>{j&&window.clearTimeout(j);const z=E.value.trim();if(!z){_.innerHTML="";return}j=window.setTimeout(async()=>{try{const V="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),X=await fetch(V,{headers:{Accept:"application/json"}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const Z=await X.json();if(!Array.isArray(Z)||Z.length===0){_.innerHTML='<li style="padding:8px"> </li>';return}const q=Z.slice(0,12).map((Q,ne)=>{const ue=Q.display_name.split(",").slice(0,3).map(K=>K.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=ne===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${y0(ue)}"
                    data-lat="${y0(Q.lat)}"
                    data-lon="${y0(Q.lon)}"
                    data-active="${ne===0?"1":"0"}"
                    style="${se}${B}"
                  >${y0(ue)}</li>`}).join("");_.innerHTML=q}catch(V){console.error(V),_.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},W=z=>{const V=z.target;V.tagName==="LI"&&F(V)},H=z=>{if(z.key==="Enter"){const V=_.querySelector('li[data-active="1"]')??_.querySelector("li");V&&F(V)}};return p.addEventListener("click",P),x.addEventListener("click",$),w&&w.addEventListener("click",$),E.addEventListener("input",Y),E.addEventListener("keydown",H),_.addEventListener("click",W),()=>{p.removeEventListener("click",P),x.removeEventListener("click",$),w&&w.removeEventListener("click",$),E.removeEventListener("input",Y),E.removeEventListener("keydown",H),_.removeEventListener("click",W),b.removeEventListener("keydown",M,!0),b.removeEventListener("keyup",M,!0),j&&(window.clearTimeout(j),j=null),T&&(T.remove(),T=null)}}function fd(){return document.getElementById("suggestions")}function bb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Dw(e,t){const n=bb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const QV='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function eZ({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){S.useEffect(()=>{if(!e)return;const d=JV({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:j=>{n(""),r(j.name),i.current&&(i.current.value=j.name),a.current&&(a.current.value=String(j.lat)),o.current&&(o.current.value=String(j.lon)),u?.(j),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),x=fd();setTimeout(()=>b?.focus(),0);const E=j=>{if(j.key==="Escape"){j.preventDefault(),t(!1);return}if(j.key!=="Tab")return;const C=fd();if(C&&C.contains(document.activeElement))return;const M=Array.from(p.querySelectorAll(QV)).filter(Y=>!Y.hasAttribute("disabled")&&Y.tabIndex!==-1);if(M.length===0)return;const P=M[0],$=M[M.length-1],F=document.activeElement;j.shiftKey?(F===P||!p.contains(F))&&(j.preventDefault(),$.focus()):(F===$||!p.contains(F))&&(j.preventDefault(),P.focus())};p.addEventListener("keydown",E);const _=j=>{if(j.key!=="ArrowDown")return;const C=fd();!C||bb(C).length===0||j.preventDefault()};b?.addEventListener("keydown",_);const w=j=>{if(j.target.value.trim()===""){const M=fd();M&&(M.innerHTML="")}};b?.addEventListener("input",w);const T=j=>{const C=fd();if(!C)return;const M=bb(C);if(M.length===0)return;const P=document.activeElement,$=P?M.indexOf(P):-1;if($===-1)return;const F=Y=>{j.preventDefault(),Dw(C,$+Y)};switch(j.key){case"Tab":j.preventDefault(),F(j.shiftKey?-1:1);break;case"ArrowDown":j.preventDefault(),F(1);break;case"ArrowUp":j.preventDefault(),F(-1);break;case"Home":j.preventDefault(),Dw(C,0);break;case"End":j.preventDefault(),Dw(C,M.length-1);break;case"Enter":case" ":j.preventDefault(),P.click();break;case"Backspace":j.preventDefault(),C.innerHTML="",b?.focus();break}j.stopPropagation()};let N=null;return x&&(x.addEventListener("keydown",T),N=new MutationObserver(()=>{const j=fd();!j||bb(j).length}),N.observe(x,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",E),b?.removeEventListener("keydown",_),b?.removeEventListener("input",w),x&&x.removeEventListener("keydown",T),N?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),S.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function s5({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=WV({placeholderText:t,value:r});return eZ({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function ar(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",lM=tZ,Pw=()=>Math.random().toString(36).substring(7).split("").join("."),nZ={INIT:`@@redux/INIT${Pw()}`,REPLACE:`@@redux/REPLACE${Pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pw()}`},Ub=nZ;function k2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function A2(e,t,n){if(typeof e!="function")throw new Error(ar(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(A2)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((w,T)=>{o.set(T,w)}))}function h(){if(u)throw new Error(ar(3));return i}function p(w){if(typeof w!="function")throw new Error(ar(4));if(u)throw new Error(ar(5));let T=!0;d();const N=l++;return o.set(N,w),function(){if(T){if(u)throw new Error(ar(6));T=!1,d(),o.delete(N),a=null}}}function b(w){if(!k2(w))throw new Error(ar(7));if(typeof w.type>"u")throw new Error(ar(8));if(typeof w.type!="string")throw new Error(ar(17));if(u)throw new Error(ar(9));try{u=!0,i=r(i,w)}finally{u=!1}return(a=o).forEach(N=>{N()}),w}function x(w){if(typeof w!="function")throw new Error(ar(10));r=w,b({type:Ub.REPLACE})}function E(){const w=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ar(11));function N(){const C=T;C.next&&C.next(h())}return N(),{unsubscribe:w(N)}},[lM](){return this}}}return b({type:Ub.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:x,[lM]:E}}function rZ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ub.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:Ub.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function l5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{rZ(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],x=o[p],E=b(x,l);if(typeof E>"u")throw l&&l.type,new Error(ar(14));d[p]=E,u=u||E!==x}return u=u||r.length!==Object.keys(o).length,u?d:o}}function cM(e,t){return function(...n){return t(e.apply(this,n))}}function uM(e,t){if(typeof e=="function")return cM(e,t);if(typeof e!="object"||e===null)throw new Error(ar(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=cM(i,t))}return n}function Em(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function c5(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=Em(...l)(i.dispatch),{...i,dispatch:a}}}function u5(e){return k2(e)&&"type"in e&&typeof e.type=="string"}var Rw={exports:{}},Lw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dM;function iZ(){if(dM)return Lw;dM=1;var e=af();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Lw.useSyncExternalStoreWithSelector=function(u,d,h,p,b){var x=i(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=o(function(){function w(M){if(!T){if(T=!0,N=M,M=p(M),b!==void 0&&E.hasValue){var P=E.value;if(b(P,M))return j=P}return j=M}if(P=j,n(N,M))return P;var $=p(M);return b!==void 0&&b(P,$)?(N=M,P):(N=M,j=$)}var T=!1,N,j,C=h===void 0?null:h;return[function(){return w(d())},C===null?void 0:function(){return w(C())}]},[d,h,p,b]);var _=r(u,x[0],x[1]);return a(function(){E.hasValue=!0,E.value=_},[_]),l(_),_},Lw}var fM;function aZ(){return fM||(fM=1,Rw.exports=iZ()),Rw.exports}aZ();var oZ=S.version.startsWith("19"),sZ=Symbol.for(oZ?"react.transitional.element":"react.element"),lZ=Symbol.for("react.portal"),cZ=Symbol.for("react.fragment"),uZ=Symbol.for("react.strict_mode"),dZ=Symbol.for("react.profiler"),fZ=Symbol.for("react.consumer"),hZ=Symbol.for("react.context"),d5=Symbol.for("react.forward_ref"),mZ=Symbol.for("react.suspense"),pZ=Symbol.for("react.suspense_list"),T2=Symbol.for("react.memo"),gZ=Symbol.for("react.lazy"),bZ=d5,yZ=T2;function vZ(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case sZ:switch(e=e.type,e){case cZ:case dZ:case uZ:case mZ:case pZ:return e;default:switch(e=e&&e.$$typeof,e){case hZ:case d5:case gZ:case T2:return e;case fZ:return e;default:return t}}case lZ:return t}}}function xZ(e){return vZ(e)===T2}function _Z(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,p,b;function x(N,j){return u=N,d=j,h=e(u,d),p=t(r,d),b=n(h,p,d),l=!0,b}function E(){return h=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function _(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function w(){const N=e(u,d),j=!o(N,h);return h=N,j&&(b=n(h,p,d)),b}function T(N,j){const C=!a(j,d),M=!i(N,u,j,d);return u=N,d=j,C&&M?E():C?_():M?w():b}return function(j,C){return l?T(j,C):x(j,C)}}function wZ(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return _Z(a,o,l,e,i)}function SZ(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function AE(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function hM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function f5(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=hM(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=hM(d),d=a(l,u)),d},a}}function j2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function EZ(e){return e&&typeof e=="object"?AE(t=>SZ(e,t)):e?typeof e=="function"?f5(e):j2(e,"mapDispatchToProps"):AE(t=>({dispatch:t}))}function kZ(e){return e?typeof e=="function"?f5(e):j2(e,"mapStateToProps"):AE(()=>({}))}function AZ(e,t,n){return{...n,...e,...t}}function TZ(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const p=e(u,d,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function jZ(e){return e?typeof e=="function"?TZ(e):j2(e,"mergeProps"):()=>AZ}function OZ(e){e()}function NZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){OZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mM={notify(){},get:()=>[]};function h5(e,t){let n,r=mM,i=0,a=!1;function o(_){h();const w=r.subscribe(_);let T=!1;return()=>{T||(T=!0,w(),p())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=NZ())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mM)}function b(){a||(a=!0,h())}function x(){a&&(a=!1,p())}const E={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return E}var CZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MZ=CZ(),DZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PZ=DZ(),RZ=()=>MZ||PZ?S.useLayoutEffect:S.useEffect,Fb=RZ();function pM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yb(e,t){if(pM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!pM(e[n[i]],t[n[i]]))return!1;return!0}var LZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},IZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$Z={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BZ={[bZ]:$Z,[yZ]:m5};function gM(e){return xZ(e)?m5:BZ[e.$$typeof]||LZ}var zZ=Object.defineProperty,UZ=Object.getOwnPropertyNames,bM=Object.getOwnPropertySymbols,FZ=Object.getOwnPropertyDescriptor,HZ=Object.getPrototypeOf,yM=Object.prototype;function TE(e,t){if(typeof t!="string"){if(yM){const a=HZ(t);a&&a!==yM&&TE(e,a)}let n=UZ(t);bM&&(n=n.concat(bM(t)));const r=gM(e),i=gM(t);for(let a=0;a<n.length;++a){const o=n[a];if(!IZ[o]&&!(i&&i[o])&&!(r&&r[o])){const l=FZ(t,o);try{zZ(e,o,l)}catch{}}}}return e}var GZ=Symbol.for("react-redux-context"),qZ=typeof globalThis<"u"?globalThis:{};function YZ(){if(!S.createContext)return{};const e=qZ[GZ]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var p5=YZ(),KZ=[null,null];function WZ(e,t,n){Fb(()=>e(...t),n)}function VZ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function ZZ(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let p=!1,b=null;const x=()=>{if(p||!l.current)return;const _=t.getState();let w,T;try{w=r(_,i.current)}catch(N){T=N,b=N}T||(b=null),w===a.current?o.current||d():(a.current=w,u.current=w,o.current=!0,h())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function XZ(e,t){return e===t}function JZ(e,t,n,{pure:r,areStatesEqual:i=XZ,areOwnPropsEqual:a=yb,areStatePropsEqual:o=yb,areMergedPropsEqual:l=yb,forwardRef:u=!1,context:d=p5}={}){const h=d,p=kZ(e),b=EZ(t),x=jZ(n),E=!!e;return w=>{const T=w.displayName||w.name||"Component",N=`Connect(${T})`,j={shouldHandleStateChanges:E,displayName:N,wrappedComponentName:T,WrappedComponent:w,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:x,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C($){const[F,Y,W]=S.useMemo(()=>{const{reactReduxForwardedRef:ve,...Ze}=$;return[$.context,ve,Ze]},[$]),H=S.useMemo(()=>{let ve=h;return F?.Consumer,ve},[F,h]),z=S.useContext(H),V=!!$.store&&!!$.store.getState&&!!$.store.dispatch,X=!!z&&!!z.store,Z=V?$.store:z.store,q=X?z.getServerState:Z.getState,Q=S.useMemo(()=>wZ(Z.dispatch,j),[Z]),[ne,ue]=S.useMemo(()=>{if(!E)return KZ;const ve=h5(Z,V?void 0:z.subscription),Ze=ve.notifyNestedSubs.bind(ve);return[ve,Ze]},[Z,V,z]),se=S.useMemo(()=>V?z:{...z,subscription:ne},[V,z,ne]),B=S.useRef(void 0),K=S.useRef(W),ie=S.useRef(void 0),J=S.useRef(!1),oe=S.useRef(!1),de=S.useRef(void 0);Fb(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const pe=S.useMemo(()=>()=>ie.current&&W===K.current?ie.current:Q(Z.getState(),W),[Z,W]),ye=S.useMemo(()=>Ze=>ne?ZZ(E,Z,ne,Q,K,B,J,oe,ie,ue,Ze):()=>{},[ne]);WZ(VZ,[K,B,J,W,ie,ue]);let re;try{re=S.useSyncExternalStore(ye,pe,q?()=>Q(q(),W):pe)}catch(ve){throw de.current&&(ve.message+=`
The error may be correlated with this previous error:
${de.current.stack}

`),ve}Fb(()=>{de.current=void 0,ie.current=void 0,B.current=re});const je=S.useMemo(()=>S.createElement(w,{...re,ref:Y}),[Y,w,re]);return S.useMemo(()=>E?S.createElement(H.Provider,{value:se},je):je,[H,je,se])}const P=S.memo(C);if(P.WrappedComponent=w,P.displayName=C.displayName=N,u){const F=S.forwardRef(function(W,H){return S.createElement(P,{...W,reactReduxForwardedRef:H})});return F.displayName=N,F.WrappedComponent=w,TE(F,w)}return TE(P,w)}}var g5=JZ;function QZ(e){const{children:t,context:n,serverState:r,store:i}=e,a=S.useMemo(()=>{const u=h5(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);Fb(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||p5;return S.createElement(l.Provider,{value:a},t)}var b5=QZ,eX="Invariant failed";function tX(e,t){throw new Error(eX)}var za=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},O2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},vM=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},nX=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Iw={top:0,right:0,bottom:0,left:0},N2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Iw:r,a=t.border,o=a===void 0?Iw:a,l=t.padding,u=l===void 0?Iw:l,d=za(O2(n,i)),h=za(vM(n,o)),p=za(vM(h,u));return{marginBox:d,borderBox:za(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},ra=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&tX(),i},rX=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Hb=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=nX(r,n);return N2({borderBox:l,border:i,margin:a,padding:o})},Gb=function(t,n){return n===void 0&&(n=rX()),Hb(t,n)},y5=function(t,n){var r={top:ra(n.marginTop),right:ra(n.marginRight),bottom:ra(n.marginBottom),left:ra(n.marginLeft)},i={top:ra(n.paddingTop),right:ra(n.paddingRight),bottom:ra(n.paddingBottom),left:ra(n.paddingLeft)},a={top:ra(n.borderTopWidth),right:ra(n.borderRightWidth),bottom:ra(n.borderBottomWidth),left:ra(n.borderLeftWidth)};return N2({borderBox:t,margin:r,padding:i,border:a})},v5=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return y5(n,r)},km=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}function x5(e,t){}x5.bind(null,"warn");x5.bind(null,"error");function Ol(){}function iX(e,t){return{...e,...t}}function sa(e,t,n){const r=t.map(i=>{const a=iX(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const aX="Invariant failed";class Yb extends Error{}Yb.prototype.toString=function(){return this.message};function Pe(e,t){throw new Yb(aX)}class oX extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Ol,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Yb&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=sa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Yb){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const sX=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Kb=e=>e+1,lX=e=>`
  You have lifted an item in position ${Kb(e.source.index)}
`,_5=(e,t)=>{const n=e.droppableId===t.droppableId,r=Kb(e.index),i=Kb(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},w5=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,cX=e=>{const t=e.destination;if(t)return _5(e.source,t);const n=e.combine;return n?w5(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},xM=e=>`
  The item has returned to its starting position
  of ${Kb(e.index)}
`,uX=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${xM(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${_5(e.source,t)}
    `:n?`
      You have dropped the item.
      ${w5(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${xM(e.source)}
  `},vb={dragHandleUsageInstructions:sX,onDragStart:lX,onDragUpdate:cX,onDragEnd:uX};function dX(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function S5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!dX(e[n],t[n]))return!1;return!0}function vt(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(t&&i.current.inputs&&S5(t,i.current.inputs))?i.current:{inputs:t,result:e()};return S.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ke(e,t){return vt(()=>e,t)}const cr={x:0,y:0},vr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ri=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Nl=(e,t)=>e.x===t.x&&e.y===t.y,uf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),su=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Am=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),_M=(e,t)=>Math.min(...t.map(n=>Am(e,n))),E5=e=>t=>({x:e(t.x),y:e(t.y)});var fX=(e,t)=>{const n=za({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ip=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),wM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],hX={top:0,right:0,bottom:0,left:0},mX=(e,t)=>t?ip(e,t.scroll.diff.displacement):e,pX=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,gX=(e,t)=>t&&t.shouldClipSubject?fX(t.pageMarginBox,e):za(e);var Gd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=mX(e.marginBox,r),a=pX(i,n,t),o=gX(a,r);return{page:e,withPlaceholder:t,active:o}},C2=(e,t)=>{e.frame||Pe();const n=e.frame,r=Ri(t,n.scroll.initial),i=uf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Gd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function lr(e,t=S5){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const k5=lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),A5=lr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),mv=lr(e=>Object.values(e)),bX=lr(e=>Object.values(e));var df=lr((e,t)=>bX(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function M2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function pv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var gv=lr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),yX=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!M2(i))return null;function o(x){const E={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...i,at:E}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=gv(t,r);if(!u){if(!d.length)return null;const x=d[d.length-1];return o(x.descriptor.id)}const h=d.findIndex(x=>x.descriptor.id===u);h===-1&&Pe();const p=h-1;if(p<0)return null;const b=d[p];return o(b.descriptor.id)},ff=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const T5={point:cr,value:0},Tm={invisible:{},visible:{},all:[]},vX={displaced:Tm,displacedBy:T5,at:null};var fa=(e,t)=>n=>e<=n&&n<=t,j5=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},xX=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const D2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},O5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var _X=e=>t=>{const n=fa(t.top,t.bottom),r=fa(t.left,t.right);return i=>e===D2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const wX=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:cr;return ip(e,n)},SX=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,EX=(e,t,n)=>n(t)(e),P2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?wX(e,t):e;return SX(a,t,i)&&EX(a,n,i)},kX=e=>P2({...e,isVisibleThroughFrameFn:j5}),N5=e=>P2({...e,isVisibleThroughFrameFn:xX}),AX=e=>P2({...e,isVisibleThroughFrameFn:_X(e.destination.axis)}),TX=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function jX(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return za(O2(n,r))}function jm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=jX(u,n),h=u.descriptor.id;if(l.all.push(h),!kX({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=TX(h,a,i),x={draggableId:h,shouldAnimate:b};return l.visible[h]=x,l},{all:[],visible:{},invisible:{}})}function OX(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function SM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=OX(e,{inHomeList:t});return{displaced:Tm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Wb({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=ff(e,n);if(o==null)return SM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(E=>E.descriptor.index===o);if(!d)return SM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=gv(e,t),p=t.indexOf(d),b=h.slice(p);return{displaced:jm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Dl(e,t){return!!t.effected[e]}var NX=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Dl(a,i)?e?l:l-1:e?l+1:l},CX=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},MX=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Pe(),d.type==="REORDER"){const p=CX({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return p==null?null:Wb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=NX({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:Wb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},DX=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Dl(n,t)?i?cr:uf(r.point):i?r.point:cr},PX=({afterCritical:e,impact:t,draggables:n})=>{const r=pv(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=DX({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return vr(a,o)};const C5=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,RX=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,R2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,EM=({axis:e,moveRelativeTo:t,isMoving:n})=>su(e.line,t.marginBox[e.end]+C5(e,n),R2(e,t.marginBox,n)),kM=({axis:e,moveRelativeTo:t,isMoving:n})=>su(e.line,t.marginBox[e.start]-RX(e,n),R2(e,t.marginBox,n)),LX=({axis:e,moveInto:t,isMoving:n})=>su(e.line,t.contentBox[e.start]+C5(e,n),R2(e,t.contentBox,n));var IX=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=df(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return LX({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(Dl(h,i))return kM({axis:l,moveRelativeTo:b.page,isMoving:o});const x=Hb(b.page,d.point);return kM({axis:l,moveRelativeTo:x,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Dl(p.descriptor.id,i)){const b=Hb(p.page,uf(i.displacedBy.point));return EM({axis:l,moveRelativeTo:b,isMoving:o})}return EM({axis:l,moveRelativeTo:p.page,isMoving:o})},jE=(e,t)=>{const n=e.frame;return n?vr(t,n.scroll.diff.displacement):t};const $X=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?IX({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):PX({impact:e,draggables:r,afterCritical:i})};var bv=e=>{const t=$X(e),n=e.droppable;return n?jE(n,t):t},M5=(e,t)=>{const n=Ri(t,e.scroll.initial),r=uf(n);return{frame:za({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function AM(e,t){return e.map(n=>t[n])}function BX(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var zX=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=M5(t,vr(t.scroll.current,i)),o=n.frame?C2(n,vr(n.frame.scroll.current,i)):n,l=e.displaced,u=jm({afterDragging:AM(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=jm({afterDragging:AM(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,d];return l.all.forEach(E=>{const _=BX(E,b);if(_){p[E]=_;return}h[E]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},UX=(e,t)=>vr(e.scroll.diff.displacement,t),L2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=UX(n,e),i=Ri(r,t.page.borderBox.center);return vr(t.client.borderBox.center,i)},D5=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ri(n,e.page.borderBox.center),u={target:ip(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?AX(u):N5(u)},FX=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=df(n.descriptor.id,r),h=ff(t,n),p=yX({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||MX({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=bv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(D5({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:L2({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const E=Ri(b,o),_=zX({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:E});return{clientSelection:l,impact:_,scrollJumpRequest:E}};const Ir=e=>{const t=e.subject.active;return t||Pe(),t};var HX=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=fa(a[o.start],a[o.end]),u=mv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>j5(i.frame)(Ir(h))).filter(h=>{const p=Ir(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Ir(h),b=fa(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=Ir(h)[o.crossAxisStart],x=Ir(p)[o.crossAxisStart];return e?b-x:x-b}).filter((h,p,b)=>Ir(h)[o.crossAxisStart]===Ir(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>fa(Ir(h)[o.start],Ir(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>Ir(h)[o.start]-Ir(p)[o.start])[0]:u.sort((h,p)=>{const b=_M(t,wM(Ir(h))),x=_M(t,wM(Ir(p)));return b!==x?b-x:Ir(h)[o.start]-Ir(p)[o.start]})[0]};const TM=(e,t)=>{const n=e.page.borderBox.center;return Dl(e.descriptor.id,t)?Ri(n,t.displacedBy.point):n},GX=(e,t)=>{const n=e.page.borderBox;return Dl(e.descriptor.id,t)?ip(n,uf(t.displacedBy.point)):n};var qX=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>N5({target:GX(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Am(e,jE(n,TM(o,i))),d=Am(e,jE(n,TM(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,ap=lr(function(t,n){const r=n[t.line];return{value:r,point:su(t.line,r)}});const YX=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return su(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=df(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:su(r.line,u)},P5=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),R5=(e,t,n)=>{const r=e.frame;ff(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=ap(e.axis,t.displaceBy).point,a=YX(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Gd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?vr(r.scroll.max,a):r.scroll.max,u=P5(r,l),d=Gd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},KX=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=Gd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=P5(n,r),a=Gd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var WX=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Tm,displacedBy:T5,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=bv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),x=ff(r,a)?a:R5(a,r,i);return D5({draggable:r,destination:x,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=ap(a.axis,r.displaceBy);return Wb({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Tm,index:d})},VX=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=HX({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=df(u.descriptor.id,i),h=qX({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=WX({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const b=bv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:L2({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Ii=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const ZX=(e,t)=>{const n=Ii(e);return n?t[n]:null};var XX=({state:e,type:t})=>{const n=ZX(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?FX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):VX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Fc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function L5(e){const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function JX(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function QX({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=su(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Am(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function eJ({pageBorderBox:e,draggable:t,droppables:n}){const r=mv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!JX(e,a))return!1;if(L5(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=fa(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(d);return!p&&!b?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:QX({pageBorderBox:e,draggable:t,candidates:r}):null}const I5=(e,t)=>za(ip(e,t));var tJ=(e,t)=>{const n=e.frame;return n?I5(t,n.scroll.diff.value):t};function $5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function nJ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var rJ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=ap(n.axis,t.displaceBy),d=u.value,h=e[l.start],p=e[l.end],x=gv(t,r).find(_=>{const w=_.descriptor.id,T=_.page.borderBox.center[l.line],N=Dl(w,o),j=$5({displaced:i,id:w});return N?j?p<=T:h<T-d:j?p<=T+d:h<T})||null,E=nJ({draggable:t,closest:x,inHomeList:ff(t,n)});return Wb({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:E})};const iJ=4;var aJ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=ap(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=gv(e,i).find(E=>{const _=E.descriptor.id,w=E.page.borderBox,N=w[o.size]/iJ,j=Dl(_,a),C=$5({displaced:n.displaced,id:_});return j?C?h>w[o.start]+N&&h<w[o.end]-N:d>w[o.start]-u+N&&d<w[o.end]-u-N:C?h>w[o.start]+u+N&&h<w[o.end]+u-N:d>w[o.start]+N&&d<w[o.end]-N});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},B5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=I5(t.page.borderBox,e),u=eJ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return vX;const d=r[u],h=df(d.descriptor.id,n),p=tJ(d,l);return aJ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||rJ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},I2=(e,t)=>({...e,[t.descriptor.id]:t});const oJ=({previousImpact:e,impact:t,droppables:n})=>{const r=Ii(e),i=Ii(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=KX(a);return I2(n,o)};var sJ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=oJ({previousImpact:r,impact:i,droppables:n}),o=Ii(i);if(!o)return a;const l=n[o];if(ff(e,l)||l.subject.withPlaceholder)return a;const u=R5(l,e,t);return I2(a,u)},hm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Ri(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:vr(e.initial.client.borderBoxCenter,d)},p={selection:vr(h.selection,o.scroll.current),borderBoxCenter:vr(h.borderBoxCenter,o.scroll.current),offset:vr(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const x=l.draggables[e.critical.draggable.id],E=i||B5({pageOffset:p.offset,draggable:x,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),_=sJ({draggable:x,impact:E,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:_},impact:E,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function lJ(e,t){return e.map(n=>t[n])}var z5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=lJ(a.all,n),l=jm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},U5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=bv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return L2({pageBorderBoxCenter:o,draggable:t,viewport:i})},F5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=Ii(r);d||Pe();const h=l[d],p=z5({impact:r,viewport:i,destination:h,draggables:o}),b=U5({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return hm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},cJ=e=>({index:e.index,droppableId:e.droppableId}),H5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=ap(t.axis,e.displaceBy),a=df(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const l=a.slice(o+1),u=l.reduce((b,x)=>(b[x.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:jm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:cJ(e.descriptor)}},afterCritical:d}},uJ=(e,t)=>({draggables:e.draggables,droppables:I2(e.droppables,t)}),dJ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Hb(e.client,t),i=Gb(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},fJ=e=>{const t=e.frame;return t||Pe(),t},hJ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=fJ(o).scroll.diff.value,d=vr(r,u);return dJ({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},mJ=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return C2(N,T.scroll)}),r={...e.dimensions.droppables,...k5(n)},i=A5(hJ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},l=Ii(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=H5({draggable:d,home:h,draggables:a,viewport:e.viewport}),x=u&&u.isCombineEnabled?e.impact:p,E=B5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:x,viewport:e.viewport,afterCritical:b}),_={...e,phase:"DRAGGING",impact:E,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?_:{..._,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const OE=e=>e.movementMode==="SNAP",$w=(e,t,n)=>{const r=uJ(e.dimensions,t);return!OE(e)||n?hm({state:e,dimensions:r}):F5({state:e,dimensions:r})};function Bw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const jM={phase:"IDLE",completed:null,shouldFlush:!1};var pJ=(e=jM,t)=>{if(t.type==="FLUSH")return{...jM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:cr},h={client:d,page:{selection:vr(d.selection,i.scroll.initial),borderBoxCenter:vr(d.selection,i.scroll.initial),offset:vr(d.selection,i.scroll.diff.value)}},p=mv(a.droppables).every(_=>!_.isFixedOnPage),{impact:b,afterCritical:x}=H5({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:x,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),mJ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Fc(e)||Pe();const{client:n}=t.payload;return Nl(n,e.current.client.selection)?e:hm({state:e,clientSelection:n,impact:OE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Bw(e);Fc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=C2(i,r);return $w(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Fc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return $w(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Fc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return $w(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Fc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(Nl(e.viewport.scroll.current,n))return Bw(e);const r=M5(e.viewport,n);return OE(e)?F5({state:e,viewport:r}):hm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Fc(e))return e;const n=t.payload.maxScroll;if(Nl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=XX({state:e,type:t.type});return n?hm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const gJ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),bJ=e=>({type:"LIFT",payload:e}),yJ=e=>({type:"INITIAL_PUBLISH",payload:e}),vJ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),xJ=()=>({type:"COLLECTION_STARTING",payload:null}),_J=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),wJ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),SJ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),G5=e=>({type:"MOVE",payload:e}),EJ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),kJ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),AJ=()=>({type:"MOVE_UP",payload:null}),TJ=()=>({type:"MOVE_DOWN",payload:null}),jJ=()=>({type:"MOVE_RIGHT",payload:null}),OJ=()=>({type:"MOVE_LEFT",payload:null}),$2=()=>({type:"FLUSH",payload:null}),NJ=e=>({type:"DROP_ANIMATE",payload:e}),B2=e=>({type:"DROP_COMPLETE",payload:e}),q5=e=>({type:"DROP",payload:e}),CJ=e=>({type:"DROP_PENDING",payload:e}),Y5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var MJ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(B2({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n($2()),n(gJ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:x}=e.startPublishing(h);n(yJ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:x}))},DJ=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const z2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Om={opacity:{drop:0,combining:.7},scale:{drop:.75}},K5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Mc=`${K5.outOfTheWay}s ${z2.outOfTheWay}`,mm={fluid:`opacity ${Mc}`,snap:`transform ${Mc}, opacity ${Mc}`,drop:e=>{const t=`${e}s ${z2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Mc}`,placeholder:`height ${Mc}, width ${Mc}, margin ${Mc}`},OM=e=>Nl(e,cr)?void 0:`translate(${e.x}px, ${e.y}px)`,NE={moveTo:OM,drop:(e,t)=>{const n=OM(e);if(n)return t?`${n} scale(${Om.scale.drop})`:n}},{minDropTime:CE,maxDropTime:W5}=K5,PJ=W5-CE,NM=1500,RJ=.6;var LJ=({current:e,destination:t,reason:n})=>{const r=Am(e,t);if(r<=0)return CE;if(r>=NM)return W5;const i=r/NM,a=CE+PJ*i,o=n==="CANCEL"?a*RJ:a;return Number(o.toFixed(2))},IJ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Ii(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=U5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Ri(h,t.client.borderBox.center)},$J=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:z5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Tm},didDropInsideDroppable:!0};const BJ=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(CJ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=$J({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?M2(h):null,x=p?pv(h):null,E={index:l.draggable.index,droppableId:l.droppable.id},_={draggableId:d.descriptor.id,type:d.descriptor.type,source:E,reason:a,mode:i.movementMode,destination:b,combine:x},w=IJ({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:_,impact:h};if(!(!Nl(i.current.client.offset,w)||!!_.combine)){t(B2({completed:T}));return}const j=LJ({current:i.current.client.offset,destination:w,reason:a});t(NJ({newHomeClientOffset:w,dropDuration:j,completed:T}))};var V5=()=>({x:window.pageXOffset,y:window.pageYOffset});function zJ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function UJ({onWindowScroll:e}){function t(){e(V5())}const n=km(t),r=zJ(n);let i=Ol;function a(){return i!==Ol}function o(){a()&&Pe(),i=sa(window,[r])}function l(){a()||Pe(),n.cancel(),i(),i=Ol}return{start:o,stop:l,isActive:a}}const FJ=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),HJ=e=>{const t=UJ({onWindowScroll:n=>{e.dispatch(EJ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&FJ(r)&&t.stop(),n(r)}};var GJ=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},qJ=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const YJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,KJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,WJ=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Dh=(e,t)=>{t()},v0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function zw(e,t,n,r){if(!e){n(r(t));return}const i=GJ(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var VJ=(e,t)=>{const n=qJ();let r=null;const i=(p,b)=>{r&&Pe(),Dh("onBeforeCapture",()=>{const x=e().onBeforeCapture;x&&x({draggableId:p,mode:b})})},a=(p,b)=>{r&&Pe(),Dh("onBeforeDragStart",()=>{const x=e().onBeforeDragStart;x&&x(v0(p,b))})},o=(p,b)=>{r&&Pe();const x=v0(p,b);r={mode:b,lastCritical:p,lastLocation:x.source,lastCombine:null},n.add(()=>{Dh("onDragStart",()=>zw(e().onDragStart,x,t,vb.onDragStart))})},l=(p,b)=>{const x=M2(b),E=pv(b);r||Pe();const _=!WJ(p,r.lastCritical);_&&(r.lastCritical=p);const w=!YJ(r.lastLocation,x);w&&(r.lastLocation=x);const T=!KJ(r.lastCombine,E);if(T&&(r.lastCombine=E),!_&&!w&&!T)return;const N={...v0(p,r.mode),combine:E,destination:x};n.add(()=>{Dh("onDragUpdate",()=>zw(e().onDragUpdate,N,t,vb.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},d=p=>{r||Pe(),r=null,Dh("onDragEnd",()=>zw(e().onDragEnd,p,t,vb.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...v0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},ZJ=(e,t)=>{const n=VJ(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const XJ=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(B2({completed:r.completed}))},JJ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Y5())}};n=requestAnimationFrame(()=>{n=null,t=sa(window,[o])})}};var QJ=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},eQ=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const tQ=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var nQ=e=>t=>n=>r=>{if(tQ(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const rQ=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(q5({reason:r.reason})))},iQ=Em;var aQ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>A2(pJ,iQ(c5(DJ(n),QJ(e),MJ(e),BJ,XJ,JJ,rQ,nQ(a),HJ,eQ(t),ZJ(r,i))));const Uw=()=>({additions:{},removals:{},modified:{}});function oQ({registry:e,callbacks:t}){let n=Uw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,p=Object.keys(u).map(E=>e.draggable.getById(E).getDimension(cr)).sort((E,_)=>E.descriptor.index-_.descriptor.index),b=Object.keys(h).map(E=>{const w=e.droppable.getById(E).callbacks.getScrollWhileDragging();return{droppableId:E,scroll:w}}),x={additions:p,removals:Object.keys(d),modified:b};n=Uw(),t.publish(x)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Uw())}}}var Z5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ri({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},X5=()=>{const e=document.documentElement;return e||Pe(),e},J5=()=>{const e=X5();return Z5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},sQ=()=>{const e=V5(),t=J5(),n=e.y,r=e.x,i=X5(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:za({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:cr,displacement:cr}}}},lQ=({critical:e,scrollOptions:t,registry:n})=>{const r=sQ(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:A5(l),droppables:k5(o)},critical:e,viewport:r}};function CM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var cQ=(e,t)=>{let n=null;const r=oQ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,x)=>{e.droppable.exists(b)||Pe(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:x})},a=(b,x)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:x}))},o=(b,x)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableScroll({id:b,newScroll:x}))},l=(b,x)=>{n&&e.droppable.getById(b).callbacks.scroll(x)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||Pe();const x=n.critical.draggable;b.type==="ADDITION"&&CM(e,x,b.value)&&r.add(b.value),b.type==="REMOVAL"&&CM(e,x,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Pe();const x=e.draggable.getById(b.draggableId),E=e.droppable.getById(x.descriptor.droppableId),_={draggable:x.descriptor,droppable:E.descriptor},w=e.subscribe(d);return n={critical:_,unsubscribe:w},lQ({critical:_,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},Q5=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",uQ=e=>{window.scrollBy(e.x,e.y)};const dQ=lr(e=>mv(e).filter(t=>!(!t.isEnabled||!t.frame))),fQ=(e,t)=>dQ(t).find(r=>(r.frame||Pe(),L5(r.frame.pageMarginBox)(e)))||null;var hQ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return fQ(e,n)};const Nm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var mQ=(e,t,n=()=>Nm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},e4=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},U2=1,pQ=(e,t,n=()=>Nm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return U2;const a=1-e4({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},gQ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return U2;const h=e4({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(h);return Math.ceil(p)},MM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=pQ(e,t,i);return a===0?0:r?Math.max(gQ(a,n,i),U2):a},DM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=mQ(e,r,a);return t[r.end]<t[r.start]?MM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*MM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},bQ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const yQ=E5(e=>e===0?0:e);var t4=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=DM({container:t,distanceToEdges:o,dragStartTime:e,axis:D2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=DM({container:t,distanceToEdges:o,dragStartTime:e,axis:O5,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=yQ({x:u,y:l});if(Nl(d,cr))return null;const h=bQ({container:t,subject:n,proposedScroll:d});return h?Nl(h,cr)?null:h:null};const vQ=E5(e=>e===0?0:e>0?1:-1),F2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=vr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Nl(a,cr)?null:a}})(),n4=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=vQ(n),a=F2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},H2=(e,t)=>n4({current:e.scroll.current,max:e.scroll.max,change:t}),xQ=(e,t)=>{if(!H2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return F2({current:r,max:n,change:t})},G2=(e,t)=>{const n=e.frame;return n?n4({current:n.scroll.current,max:n.scroll.max,change:t}):!1},_Q=(e,t)=>{const n=e.frame;return!n||!G2(e,t)?null:F2({current:n.scroll.current,max:n.scroll.max,change:t})};var wQ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=t4({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&H2(e,o)?o:null},SQ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=t4({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&G2(e,l)?l:null},PM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=wQ({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=hQ({center:o,destination:Ii(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=SQ({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},EQ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Nm})=>{const r=km(e),i=km(t);let a=null;const o=d=>{a||Pe();const{shouldUseTimeDampening:h,dragStartTime:p}=a;PM({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&Pe();const h=Date.now();let p=!1;const b=()=>{p=!0};PM({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},kQ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=vr(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!G2(l,u))return u;const d=_Q(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Ri(u,d);return t(l.descriptor.id,h),Ri(u,h)},a=(l,u,d)=>{if(!l||!H2(u,d))return d;const h=xQ(u,d);if(!h)return n(d),null;const p=Ri(d,h);return n(p),Ri(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Ii(l.impact);d||Pe();const h=i(l.dimensions.droppables[d],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},AQ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=EQ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=kQ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const qd="data-rfd",Yd=(()=>{const e=`${qd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),ME=(()=>{const e=`${qd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),TQ=(()=>{const e=`${qd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),RM={contextId:`${qd}-scroll-container-context-id`},jQ=e=>t=>`[${t}="${e}"]`,Ph=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),OQ="pointer-events: none;";var NQ=e=>{const t=jQ(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Yd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:OQ,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${mm.outOfTheWay};
    `;return{selector:t(ME.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(TQ.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ph(o,"always"),resting:Ph(o,"resting"),dragging:Ph(o,"dragging"),dropAnimating:Ph(o,"dropAnimating"),userCancel:Ph(o,"userCancel")}};const $i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Fw=()=>{const e=document.querySelector("head");return e||Pe(),e},LM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function CQ(e,t){const n=vt(()=>NQ(e),[e]),r=S.useRef(null),i=S.useRef(null),a=Ke(lr(p=>{const b=i.current;b||Pe(),b.textContent=p}),[]),o=Ke(p=>{const b=r.current;b||Pe(),b.textContent=p},[]);$i(()=>{!r.current&&!i.current||Pe();const p=LM(t),b=LM(t);return r.current=p,i.current=b,p.setAttribute(`${qd}-always`,e),b.setAttribute(`${qd}-dynamic`,e),Fw().appendChild(p),Fw().appendChild(b),o(n.always),a(n.resting),()=>{const x=E=>{const _=E.current;_||Pe(),Fw().removeChild(_),E.current=null};x(r),x(i)}},[t,o,a,n.always,n.resting,e]);const l=Ke(()=>a(n.dragging),[a,n.dragging]),u=Ke(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=Ke(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function r4(e,t){return Array.from(e.querySelectorAll(t))}var i4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function yv(e){return e instanceof i4(e).HTMLElement}function MQ(e,t){const n=`[${Yd.contextId}="${e}"]`,r=r4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Yd.draggableId)===t);return!i||!yv(i)?null:i}function DQ(e){const t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),a=Ke(function(b,x){const E={id:b,focus:x};return t.current[b]=E,function(){const w=t.current;w[b]!==E&&delete w[b]}},[]),o=Ke(function(b){const x=MQ(e,b);x&&x!==document.activeElement&&x.focus()},[e]),l=Ke(function(b,x){n.current===b&&(n.current=x)},[]),u=Ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=Ke(function(b){n.current=null;const x=document.activeElement;x&&x.getAttribute(Yd.draggableId)===b&&(n.current=b)},[]);return $i(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),vt(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function PQ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const x=t.indexOf(p);x!==-1&&t.splice(x,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Pe(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const x=e.draggables[b.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,x=i(b);x&&p.uniqueId===x.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Pe(),b}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function RQ(){const e=vt(PQ,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var q2=Wt.createContext(null),Vb=()=>{const e=document.body;return e||Pe(),e};const LQ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},IQ=e=>`rfd-announcement-${e}`;function $Q(e){const t=vt(()=>IQ(e),[e]),n=S.useRef(null);return S.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),qb(a.style,LQ),Vb().appendChild(a),function(){setTimeout(function(){const u=Vb();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ke(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const BQ={separator:"::"};function Y2(e,t=BQ){const n=Wt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function zQ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function UQ({contextId:e,text:t}){const n=Y2("hidden-text",{separator:"-"}),r=vt(()=>zQ({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Vb().appendChild(a),function(){const l=Vb();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var vv=Wt.createContext(null);function a4(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function FQ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const l={abandon:o};return e=l,l}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Cm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const HQ=9,GQ=13,K2=27,o4=32,qQ=33,YQ=34,KQ=35,WQ=36,VQ=37,ZQ=38,XQ=39,JQ=40,QQ={[GQ]:!0,[HQ]:!0};var s4=e=>{QQ[e.keyCode]&&e.preventDefault()};const xv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),l4=0,IM=5;function eee(e,t){return Math.abs(t.x-e.x)>=IM||Math.abs(t.y-e.y)>=IM}const $M={type:"IDLE"};function tee({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==l4)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Pe();const h=d.point;if(!eee(h,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===K2){i.preventDefault(),e();return}s4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:xv,fn:e}]}function nee(e){const t=S.useRef($M),n=S.useRef(Ol),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==l4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const x=e.tryGetLock(b,o,{sourceEvent:p});if(!x)return;p.preventDefault();const E={x:p.clientX,y:p.clientY};n.current(),d(x,E)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Ke(function(){const p={passive:!1,capture:!0};n.current=sa(window,[i,r],p)},[i,r]),o=Ke(()=>{t.current.type!=="IDLE"&&(t.current=$M,n.current(),a())},[a]),l=Ke(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Ke(function(){const p={capture:!0,passive:!1},b=tee({cancel:l,completed:o,getPhase:()=>t.current,setPhase:x=>{t.current=x}});n.current=sa(window,b,p)},[l,o]),d=Ke(function(p,b){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);$i(function(){return a(),function(){n.current()}},[a])}function ree(){}const iee={[YQ]:!0,[qQ]:!0,[WQ]:!0,[KQ]:!0};function aee(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===K2){i.preventDefault(),n();return}if(i.keyCode===o4){i.preventDefault(),r();return}if(i.keyCode===JQ){i.preventDefault(),e.moveDown();return}if(i.keyCode===ZQ){i.preventDefault(),e.moveUp();return}if(i.keyCode===XQ){i.preventDefault(),e.moveRight();return}if(i.keyCode===VQ){i.preventDefault(),e.moveLeft();return}if(iee[i.keyCode]){i.preventDefault();return}s4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:xv,fn:n}]}function oee(e){const t=S.useRef(ree),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==o4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||Pe(),u=!1,t.current(),r()}t.current=sa(window,aee(d,h),{capture:!0,passive:!1})}}),[e]),r=Ke(function(){const a={passive:!1,capture:!0};t.current=sa(window,[n],a)},[n]);$i(function(){return r(),function(){t.current()}},[r])}const Hw={type:"IDLE"},see=120,lee=.15;function cee({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===K2&&n.preventDefault(),e()}},{eventName:xv,fn:e}]}function uee({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=lee))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:xv,fn:e}]}function dee(e){const t=S.useRef(Hw),n=S.useRef(Ol),r=Ke(function(){return t.current},[]),i=Ke(function(x){t.current=x},[]),a=vt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const E=e.findClosestDraggableId(x);if(!E)return;const _=e.tryGetLock(E,l,{sourceEvent:x});if(!_)return;const w=x.touches[0],{clientX:T,clientY:N}=w,j={x:T,y:N};n.current(),p(_,j)}}),[e]),o=Ke(function(){const x={capture:!0,passive:!1};n.current=sa(window,[a],x)},[a]),l=Ke(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(Hw),n.current(),o())},[o,i]),u=Ke(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=Ke(function(){const x={capture:!0,passive:!1},E={cancel:u,completed:l,getPhase:r},_=sa(window,uee(E),x),w=sa(window,cee(E),x);n.current=function(){_(),w()}},[u,r,l]),h=Ke(function(){const x=r();x.type!=="PENDING"&&Pe();const E=x.actions.fluidLift(x.point);i({type:"DRAGGING",actions:E,hasMoved:!1})},[r,i]),p=Ke(function(x,E){r().type!=="IDLE"&&Pe();const _=setTimeout(h,see);i({type:"PENDING",point:E,actions:x,longPressTimerId:_}),d()},[d,r,i,h]);$i(function(){return o(),function(){n.current();const E=r();E.type==="PENDING"&&(clearTimeout(E.longPressTimerId),i(Hw))}},[r,o,i]),$i(function(){return sa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const fee=["input","button","textarea","select","option","optgroup","video","audio"];function c4(e,t){if(t==null)return!1;if(fee.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:c4(e,t.parentElement)}function hee(e,t){const n=t.target;return yv(n)?c4(e,n):!1}var mee=e=>za(e.getBoundingClientRect()).center;function pee(e){return e instanceof i4(e).Element}const gee=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function u4(e,t){return e==null?null:e[gee](t)?e:u4(e.parentElement,t)}function bee(e,t){return e.closest?e.closest(t):u4(e,t)}function yee(e){return`[${Yd.contextId}="${e}"]`}function vee(e,t){const n=t.target;if(!pee(n))return null;const r=yee(e),i=bee(n,r);return!i||!yv(i)?null:i}function xee(e,t){const n=vee(e,t);return n?n.getAttribute(Yd.draggableId):null}function _ee(e,t){const n=`[${ME.contextId}="${e}"]`,i=r4(document,n).find(a=>a.getAttribute(ME.id)===t);return!i||!yv(i)?null:i}function wee(e){e.preventDefault()}function x0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function d4({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!Q5(t.getState(),r))}function See({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!d4({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=_ee(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&hee(d,o))return null;const h=e.claim(a||Ol);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function x(){return e.isActive(h)}function E(M,P){x0({expected:M,phase:p,isLockActive:x,shouldWarn:!0})&&n.dispatch(P())}const _=E.bind(null,"DRAGGING");function w(M){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Pe()),n.dispatch(bJ(M.liftActionArgs)),p="DRAGGING";function $(F,Y={shouldBlockNextClick:!1}){if(M.cleanup(),Y.shouldBlockNextClick){const W=sa(window,[{eventName:"click",fn:wee,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}P(),n.dispatch(q5({reason:F}))}return{isActive:()=>x0({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:b,drop:F=>$("DROP",F),cancel:F=>$("CANCEL",F),...M.actions}}function T(M){const P=km(F=>{_(()=>G5({client:F}))});return{...w({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function N(){const M={moveUp:()=>_(AJ),moveRight:()=>_(jJ),moveDown:()=>_(TJ),moveLeft:()=>_(OJ)};return w({liftActionArgs:{id:i,clientSelection:mee(d),movementMode:"SNAP"},cleanup:Ol,actions:M})}function j(){x0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0})&&e.release()}return{isActive:()=>x0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:T,snapLift:N,abort:j}}const Eee=[nee,oee,dee];function kee({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Eee:[],...r||[]],o=S.useState(()=>FQ())[0],l=Ke(function(w,T){Cm(w)&&!Cm(T)&&o.tryAbandon()},[o]);$i(function(){let w=t.getState();return t.subscribe(()=>{const N=t.getState();l(w,N),w=N})},[o,t,l]),$i(()=>o.tryAbandon,[o.tryAbandon]);const u=Ke(_=>d4({lockAPI:o,registry:n,store:t,draggableId:_}),[o,n,t]),d=Ke((_,w,T)=>See({lockAPI:o,registry:n,contextId:e,store:t,draggableId:_,forceSensorStop:w||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),h=Ke(_=>xee(e,_),[e]),p=Ke(_=>{const w=n.draggable.findById(_);return w?w.options:null},[n.draggable]),b=Ke(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch($2()))},[o,t]),x=Ke(()=>o.isClaimed(),[o]),E=vt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:x}),[u,d,h,p,b,x]);for(let _=0;_<a.length;_++)a[_](E)}const Aee=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};bu.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Tee=e=>({...Nm,...e.autoScrollerOptions,durationDampening:{...Nm.durationDampening,...e.autoScrollerOptions}});function Rh(e){return e.current||Pe(),e.current}function jee(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=S.useRef(null),l=a4(e),u=Ke(()=>Aee(l.current),[l]),d=Ke(()=>Tee(l.current),[l]),h=$Q(t),p=UQ({contextId:t,text:a}),b=CQ(t,i),x=Ke(W=>{Rh(o).dispatch(W)},[]),E=vt(()=>uM({publishWhileDragging:vJ,updateDroppableScroll:_J,updateDroppableIsEnabled:wJ,updateDroppableIsCombineEnabled:SJ,collectionStarting:xJ},x),[x]),_=RQ(),w=vt(()=>cQ(_,E),[_,E]),T=vt(()=>AQ({scrollWindow:uQ,scrollDroppable:w.scrollDroppable,getAutoScrollerOptions:d,...uM({move:G5},x)}),[w.scrollDroppable,x,d]),N=DQ(t),j=vt(()=>aQ({announce:h,autoScroller:T,dimensionMarshal:w,focusMarshal:N,getResponders:u,styleMarshal:b}),[h,T,w,N,u,b]);o.current=j;const C=Ke(()=>{const W=Rh(o);W.getState().phase!=="IDLE"&&W.dispatch($2())},[]),M=Ke(()=>{const W=Rh(o).getState();return W.phase==="DROP_ANIMATING"?!0:W.phase==="IDLE"?!1:W.isDragging},[]),P=vt(()=>({isDragging:M,tryAbort:C}),[M,C]);n(P);const $=Ke(W=>Q5(Rh(o).getState(),W),[]),F=Ke(()=>Fc(Rh(o).getState()),[]),Y=vt(()=>({marshal:w,focus:N,contextId:t,canLift:$,isMovementAllowed:F,dragHandleUsageInstructionsId:p,registry:_}),[t,w,p,N,$,F,_]);return kee({contextId:t,store:j,registry:_,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>C,[C]),Wt.createElement(vv.Provider,{value:Y},Wt.createElement(b5,{context:q2,store:j},e.children))}function Oee(){return Wt.useId()}function op(e){const t=Oee(),n=e.dragHandleUsageInstructions||vb.dragHandleUsageInstructions;return Wt.createElement(oX,null,r=>Wt.createElement(jee,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const BM={dragging:5e3,dropAnimating:4500},Nee=(e,t)=>t?mm.drop(t.duration):e?mm.snap:mm.fluid,Cee=(e,t)=>{if(e)return t?Om.opacity.drop:Om.opacity.combining},Mee=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Dee(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Mee(e),u=!!a,d=u?NE.drop(r,o):NE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Nee(l,a),transform:d,opacity:Cee(o,u),zIndex:u?BM.dropAnimating:BM.dragging,pointerEvents:"none"}}function Pee(e){return{transform:NE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Ree(e){return e.type==="DRAGGING"?Dee(e):Pee(e)}function Lee(e,t,n=cr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=y5(i,r),o=Gb(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Iee(e){const t=Y2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=Ke(x=>{const E=i();return E||Pe(),Lee(n,E,x)},[n,i]),h=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=S.useRef(h),b=S.useRef(!0);$i(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),$i(()=>{if(b.current){b.current=!1;return}const x=p.current;p.current=h,r.draggable.update(h,x)},[h,r.draggable])}var W2=Wt.createContext(null);function Zb(e){const t=S.useContext(e);return t||Pe(),t}function $ee(e){e.preventDefault()}const Bee=e=>{const t=S.useRef(null),n=Ke((P=null)=>{t.current=P},[]),r=Ke(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Zb(vv),{type:l,droppableId:u}=Zb(W2),d=vt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:x,canDragInteractiveElements:E,isClone:_,mapped:w,dropAnimationFinished:T}=e;if(!_){const P=vt(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:E,shouldRespectForcePress:x,isEnabled:b}),[d,o,r,E,x,b]);Iee(P)}const N=vt(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:$ee}:null,[i,a,p,b]),j=Ke(P=>{w.type==="DRAGGING"&&w.dropping&&P.propertyName==="transform"&&bu.flushSync(T)},[T,w]),C=vt(()=>{const P=Ree(w),$=w.type==="DRAGGING"&&w.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,w,j,n]),M=vt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Wt.createElement(Wt.Fragment,null,h(C,w.snapshot,M))};var f4=(e,t)=>e===t,h4=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const zee=e=>e.combine?e.combine.draggableId:null,Uee=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Fee(){const e=lr((i,a)=>({x:i,y:a})),t=lr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=lr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(Cm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Ii(i.impact),d=Uee(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,p=h4(d),b=zee(d),E={duration:i.dropDuration,curve:z2.drop,moveTo:i.newHomeClientOffset,opacity:b?Om.opacity.drop:null,scale:b?Om.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:E,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,E)}}}return null}}function m4(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Hee={mapped:{type:"SECONDARY",offset:cr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:m4(null)}};function Gee(){const e=lr((o,l)=>({x:o,y:l})),t=lr(m4),n=lr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(cr,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),b=pv(u),x=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(x);if(u.displaced.invisible[o])return null;const w=uf(d.displacedBy.point),T=e(w.x,w.y);return n(T,x,!0)}if(p)return r(x);const E=u.displacedBy.point,_=e(E.x,E.y);return n(_,x,h.shouldAnimate)};return(o,l)=>{if(Cm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const qee=()=>{const e=Fee(),t=Gee();return(r,i)=>e(r,i)||t(r,i)||Hee},Yee={dropAnimationFinished:Y5},Kee=g5(qee,Yee,null,{context:q2,areStatePropsEqual:f4})(Bee);function p4(e){return Zb(W2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(Kee,e)}function hf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(p4,qb({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const g4=e=>t=>e===t,Wee=g4("scroll"),Vee=g4("auto"),zM=(e,t)=>t(e.overflowX)||t(e.overflowY),Zee=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return zM(n,Wee)||zM(n,Vee)},Xee=()=>!1,b4=e=>e==null?null:e===document.body?Xee()?e:null:e===document.documentElement?null:Zee(e)?e:b4(e.parentElement);var DE=e=>({x:e.scrollLeft,y:e.scrollTop});const y4=e=>e?window.getComputedStyle(e).position==="fixed"?!0:y4(e.parentElement):!1;var Jee=e=>{const t=b4(e),n=y4(e);return{closestScrollable:t,isFixedOnPage:n}},Qee=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:x}=l,E=Z5({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:x,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:E,diff:{value:cr,displacement:cr}}}})(),d=i==="vertical"?D2:O5,h=Gd({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const ete=(e,t)=>{const n=v5(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=O2({top:r,right:o,bottom:a,left:i},n.border);return N2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var tte=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=ete(e,u),h=Gb(d,r),p=(()=>{if(!u)return null;const x=v5(u),E={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:x,page:Gb(x,r),scroll:DE(u),scrollSize:E,shouldClipSubject:l}})();return Qee({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const nte={passive:!1},rte={passive:!0};var UM=e=>e.shouldPublishImmediately?nte:rte;const _0=e=>e&&e.env.closestScrollable||null;function ite(e){const t=S.useRef(null),n=Zb(vv),r=Y2("droppable"),{registry:i,marshal:a}=n,o=a4(e),l=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(l),d=vt(()=>lr((C,M)=>{t.current||Pe();const P={x:C,y:M};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=Ke(()=>{const C=t.current;return!C||!C.env.closestScrollable?cr:DE(C.env.closestScrollable)},[]),p=Ke(()=>{const C=h();d(C.x,C.y)},[h,d]),b=vt(()=>km(p),[p]),x=Ke(()=>{const C=t.current,M=_0(C);if(C&&M||Pe(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),E=Ke((C,M)=>{t.current&&Pe();const P=o.current,$=P.getDroppableRef();$||Pe();const F=Jee($),Y={ref:$,descriptor:l,env:F,scrollOptions:M};t.current=Y;const W=tte({ref:$,descriptor:l,env:F,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=F.closestScrollable;return H&&(H.setAttribute(RM.contextId,n.contextId),H.addEventListener("scroll",x,UM(Y.scrollOptions))),W},[n.contextId,l,x,o]),_=Ke(()=>{const C=t.current,M=_0(C);return C&&M||Pe(),DE(M)},[]),w=Ke(()=>{const C=t.current;C||Pe();const M=_0(C);t.current=null,M&&(b.cancel(),M.removeAttribute(RM.contextId),M.removeEventListener("scroll",x,UM(C.scrollOptions)))},[x,b]),T=Ke(C=>{const M=t.current;M||Pe();const P=_0(M);P||Pe(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),N=vt(()=>({getDimensionAndWatchScroll:E,getScrollWhileDragging:_,dragStopped:w,scroll:T}),[w,E,_,T]),j=vt(()=>({uniqueId:r,descriptor:l,callbacks:N}),[N,l,r]);$i(()=>(u.current=j.descriptor,i.droppable.register(j),()=>{t.current&&w(),i.droppable.unregister(j)}),[N,l,w,j,a,i.droppable]),$i(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),$i(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Gw(){}const FM={width:0,height:0,margin:hX},ate=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?FM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ote=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=ate({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?mm.placeholder:null}},ste=e=>{const t=S.useRef(null),n=Ke(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=S.useState(e.animate==="open");S.useEffect(()=>l?r!=="open"?(n(),u(!1),Gw):t.current?Gw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Gw,[r,l,n]);const d=Ke(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=ote({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var lte=Wt.memo(ste);class cte extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const ute=e=>{const t=S.useContext(vv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=S.useRef(null),a=S.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:x,snapshot:E,useClone:_,updateViewportMaxScroll:w,getContainerForClone:T}=e,N=Ke(()=>i.current,[]),j=Ke((H=null)=>{i.current=H},[]);Ke(()=>a.current,[]);const C=Ke((H=null)=>{a.current=H},[]),M=Ke(()=>{r()&&w({maxScroll:J5()})},[r,w]);ite({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:x,ignoreContainerClipping:p,getDroppableRef:N});const P=vt(()=>Wt.createElement(cte,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:z,animate:V})=>Wt.createElement(lte,{placeholder:z,onClose:H,innerRef:C,animate:V,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,C]),$=vt(()=>({innerRef:j,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,j]),F=_?_.dragging.draggableId:null,Y=vt(()=>({droppableId:l,type:u,isUsingCloneFor:F}),[l,F,u]);function W(){if(!_)return null;const{dragging:H,render:z}=_,V=Wt.createElement(p4,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,Z)=>z(X,Z,H));return yq.createPortal(V,T())}return Wt.createElement(W2.Provider,{value:Y},o($,E),W())};function dte(){return document.body||Pe(),document.body}const HM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:dte},v4=e=>{let t={...e},n;for(n in HM)e[n]===void 0&&(t={...t,[n]:HM[n]});return t},qw=(e,t)=>e===t.droppable.type,GM=(e,t)=>t.draggables[e.draggable.id],fte=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=lr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=lr((a,o,l,u,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===a){const E=h?{render:h,dragging:n(d.descriptor)}:null,_={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:E}}if(!o)return t;if(!u)return e;const x={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(a,o)=>{const l=v4(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Cm(a)){const b=a.critical;if(!qw(d,b))return t;const x=GM(b,a.dimensions),E=Ii(a.impact)===u;return r(u,h,E,E,x,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!qw(d,b.critical))return t;const x=GM(b.critical,a.dimensions);return r(u,h,h4(b.result)===u,Ii(b.impact)===u,x,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!qw(d,b.critical))return t;const x=Ii(b.impact)===u,E=!!(b.impact.at&&b.impact.at.type==="COMBINE"),_=b.critical.droppable.id===u;return x?E?e:t:_?e:t}return t}},hte={updateViewportMaxScroll:kJ},mf=g5(fte,hte,(e,t,n)=>({...v4(n),...e,...t}),{context:q2,areStatePropsEqual:f4})(ute),mte={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Xb(e,t,n){const r=mte[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function pte(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function gte(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function sp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=gte(i),o=4*(i-a),l=pte(r);return new Date(r.getTime()+(o+l)*60*1e3)}function x4(e){return e.replace(/\D/g,"")}function bte(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function yte(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function lp(e){const t=x4(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return bte(n,r,i)?{y:n,m:r,d:i}:null}function _v(e){const t=e.trim();if(!t||t==="")return null;const n=x4(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return yte(r,i)?{hh:r,mm:i}:null}function wv(e){const t=e.trim(),n=lp(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function Sv(e){const t=e.trim();if(t==="")return"";const n=_v(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var xb={exports:{}},vte=xb.exports,qM;function xte(){return qM||(qM=1,(function(e,t){(function(n,r){e.exports=r()})(vte,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),p=a(h),b=i(5),x=a(b),E=i(6),_=a(E),w=i(7),T=a(w),N=i(8),j=a(N),C=i(9),M=a(C),P=i(10),$=a(P),F=i(11),Y=a(F),W=i(12),H=a(W),z={lunarInfo:l.default,solarMonth:d.default,gan:p.default,zhi:x.default,animals:_.default,lunarTerm:T.default,lTermInfo:j.default,nStr1:M.default,nStr2:$.default,nStr3:Y.default,nStr4:H.default,lYearDays:function(V){var X,Z=348;for(X=32768;X>8;X>>=1)Z+=z.lunarInfo[V-1900]&X?1:0;return Z+z.leapDays(V)},leapMonth:function(V){return 15&z.lunarInfo[V-1900]},leapDays:function(V){return z.leapMonth(V)?65536&z.lunarInfo[V-1900]?30:29:0},monthDays:function(V,X){return X>12||X<1?-1:z.lunarInfo[V-1900]&65536>>X?30:29},solarDays:function(V,X){if(X>12||X<1)return-1;var Z=X-1;return Z==1?V%4==0&&V%100!=0||V%400==0?29:28:z.solarMonth[Z]},toGanZhi:function(V){return z.gan[V%10]+z.zhi[V%12]},getTerm:function(V,X){if(V<1900||V>2100||X<1||X>24)return-1;var Z=z.lTermInfo[V-1900],q=[parseInt("0x"+Z.substr(0,5)).toString(),parseInt("0x"+Z.substr(5,5)).toString(),parseInt("0x"+Z.substr(10,5)).toString(),parseInt("0x"+Z.substr(15,5)).toString(),parseInt("0x"+Z.substr(20,5)).toString(),parseInt("0x"+Z.substr(25,5)).toString()],Q=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(Q[X-1])},toChinaYear:function(V){var X=parseInt(V/1e3),Z=parseInt(V%1e3/100),q=parseInt(V%100/10),Q=V%10;return z.nStr4[X]+z.nStr4[Z]+z.nStr4[q]+z.nStr4[Q]+""},toChinaMonth:function(V){if(V>12||V<1)return-1;var X=z.nStr3[V-1];return X+=""},toChinaDay:function(V){var X;switch(V){case 10:X="";break;case 20:X="";break;case 30:X="";break;default:X=z.nStr2[Math.floor(V/10)],X+=z.nStr1[V%10]}return X},getAnimal:function(V){return z.animals[(V-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var q=new Date(ue,parseInt(se)-1,B);else var q=new Date;var Q,ye=0,ne=0,ue=q.getFullYear(),se=q.getMonth()+1,B=q.getDate(),K=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(Q=1900;Q<2101&&K>0;Q++)ne=z.lYearDays(Q),K-=ne;K<0&&(K+=ne,Q--);var ie=new Date,J=!1;ie.getFullYear()==ue&&ie.getMonth()+1==se&&ie.getDate()==B&&(J=!0);var oe=q.getDay(),de=z.nStr1[oe];oe==0&&(oe=7);var pe=Q,ye=z.leapMonth(Q),re=!1;for(Q=1;Q<13&&K>0;Q++)ye>0&&Q==ye+1&&re==0?(--Q,re=!0,ne=z.leapDays(pe)):ne=z.monthDays(pe,Q),re==1&&Q==ye+1&&(re=!1),K-=ne;K==0&&ye>0&&Q==ye+1&&(re?re=!1:(re=!0,--Q)),K<0&&(K+=ne,--Q);var je=Q,Ne=K+1,ve=se-1,Ze=z.getTerm(ue,3),Ce=z.toGanZhi(ue-4),_e=new Date(ue,1,Ze).getTime();new Date(ue,ve,B).getTime()<_e&&(Ce=z.toGanZhi(ue-5));var Oe=z.getTerm(ue,2*se-1),Ie=z.getTerm(ue,2*se),Ve=z.toGanZhi(12*(ue-1900)+se+11);B>=Oe&&(Ve=z.toGanZhi(12*(ue-1900)+se+12));var yt=!1,xt="";Oe==B&&(yt=!0,xt=z.lunarTerm[2*se-2]),Ie==B&&(yt=!0,xt=z.lunarTerm[2*se-1]);var Dt=Date.UTC(ue,ve,1,0,0,0,0)/864e5+25567+10,he=z.toGanZhi(Dt+B-1);return{lYear:pe,lMonth:je,lDay:Ne,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(re&&ye===je?"":"")+z.toChinaMonth(je),dayCn:z.toChinaDay(Ne),cYear:ue,cMonth:se,cDay:B,gzYear:Ce,gzMonth:Ve,gzDay:he,isToday:J,isLeap:re,nWeek:oe,ncWeek:""+de,isTerm:yt,term:xt}},lunar2solar:function(V,X,Z,q){var Q=z.leapMonth(V);if(z.leapDays(V),q&&Q!=X||V==2100&&X==12&&Z>1||V==1900&&X==1&&Z<31)return-1;var ne=z.monthDays(V,X);if(V<1900||V>2100||Z>ne)return-1;for(var ue=0,se=1900;se<V;se++)ue+=z.lYearDays(se);for(var B=0,K=!1,se=1;se<X;se++)B=z.leapMonth(V),K||B<=se&&B>0&&(ue+=z.leapDays(V),K=!0),ue+=z.monthDays(V,se);q&&(ue+=ne);var ie=Date.UTC(1900,1,30,0,0,0),J=new Date(864e5*(ue+Z-31)+ie),oe=J.getUTCFullYear(),de=J.getUTCMonth()+1,pe=J.getUTCDate();return z.solar2lunar(oe,de,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(xb)),xb.exports}var _4=xte();const _te=hi(_4),wte=r2({__proto__:null,default:_te},[_4]);function V2(e){return typeof e=="object"&&e!==null}function Ste(e){return V2(e)&&"default"in e}function Ete(e){return V2(e)&&typeof e.lunar2solar=="function"}function kte(e){if(!V2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function Ate(e){const t=Ste(e)?e.default:e;if(!Ete(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return kte(l)}}}const Tte=Ate(wte);function Gi(e,t,n,r=4,i=0){const a=Tte.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const YM=e=>e<10?`0${e}`:`${e}`;function cp(e){if(e.calendarType!=="lunar")return e;const t=lp(e.birthDay??"");if(!t)return e;try{const n=Gi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${YM(i)}${YM(a)}`,calendarType:"solar"}}catch{return e}}function Z2(e){const t=e.mingSikType??"/",n=lp(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),M=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:M,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:M,ganjiText:P,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Gi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=_v(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",x=sp(p,h,b),E=l?"":x.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),_=it(x,h),w=_t(x,h),T=ht(x,t),N=l?null:Fa(x,t),j=[` : ${_} ${w} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:x,correctedLocal:E,ganji:j,ganjiText:j,dayStem:T.charAt(0)}}function KM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function up(e){return(typeof e=="string"?e.trim():"")===""?"":""}function WM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function jte(e){const t=WM(e.ganjiText)??WM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=up(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Mm(e){const t={...e,birthDay:wv(e.birthDay??""),birthTime:e.birthTime===""?"":Sv(e.birthTime??""),gender:up(e.gender),dateObj:KM(e.dateObj,new Date),corrected:KM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=Z2(t),r={...t,...n};return{...r,dir:jte(r)}}function Ote(e){return e===""||e==="/"||e===""?e:"/"}function Nte(e){return e==="lunar"?"lunar":"solar"}function Cte(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Mte(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function X2(e,t){const r=wv(typeof e=="string"?e:""),i=lp(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Gi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function J2(e,t){if(t)return{ok:!0,value:""};const r=Sv(typeof e=="string"?e:"");return _v(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function w4(e,t){const n=t?.requireName??!1,r=Mte(e.name,n);if(!r.ok)return r;const i=Nte(e.calendarType),a=X2(e.birthDay,i);if(!a.ok)return a;const o=J2(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Ote(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:up(e.gender),sortOrder:e.sortOrder,birthPlace:Cte(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Mm(u)}}function Pl(e){const t=cp(e),n=lp(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=_v(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const l=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return sp(o,u,l)}function Dte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Vc(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function PE(e){if(!Dte(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function S4(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:wv(e.birth_day??""),birthTime:Sv(e.birth_time??""),gender:up(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Mm(i)}function Pte(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function VM(e,t){const n=wv(e.birthDay??""),r=Sv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:up(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const RE="hm_session_started_at_ms",Rte=7200*1e3;function E4(){return typeof window>"u"?null:window.localStorage}function Lte(){const e=E4();if(!e)return Date.now();const t=e.getItem(RE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(RE,String(r)),r}function Ite(e=Date.now()){const t=E4();if(t)try{t.setItem(RE,String(e))}catch{}}function $te(e=Date.now()){const t=Lte();return e-t>=Rte}const w0="myeongsik-list";function Bte(e){try{return JSON.parse(e)}catch{return null}}async function zte(e){if(typeof window>"u")return;const t=window.localStorage.getItem(w0);if(!t)return;const n=Bte(t);if(!n){window.localStorage.removeItem(w0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(w0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem(w0)}const Ute=250;function Fte(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function Hte(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function Gte(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}Hte(()=>{a()});function o(l,u){const d=Fte(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:d,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Ute),n.promise)}return{queue:o,flushNow:a}}const sr="__UNASSIGNED__",qte=[" ",""],Cl=e=>typeof e=="string"?e.trim():"",k4=e=>qte.includes(e);function Ad(e,t){const n=[],r=[];for(const i of e){const a=Cl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Ev(e,t){const n=new Set(t.map(o=>Cl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Cl(o.folder),d=!u||k4(u)?sr:n.has(u)?u:sr;a(d,o)}i[sr]||(i[sr]=[]);for(const o of t){const l=Cl(o);l&&(i[l]||(i[l]=[]))}return i}function Q2(e,t){const n=[];for(const i of t){const a=Cl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[sr];return Array.isArray(r)&&r.length&&n.push(...r),n}function Yte(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Ev(t,n),o=r.droppableId===sr?sr:r.droppableId,l=i.droppableId===sr?sr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===sr,x=Math.max(0,Math.min(i.index,d.length)),E=b?d.length:x;o===l?u.splice(E,0,h):d.splice(E,0,h);const _=String(h.id),w=new Set([_]),T={...h,folder:l===sr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(N=>String(N.id)===_?T:N),{nextList:Q2(a,n),changedIds:Array.from(w)}}function Kte(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=Ev(t,n),o=[...n.map(T=>Cl(T)),sr].filter(Boolean);let l=null,u=-1;for(const T of o){const j=(a[T]??[]).findIndex(C=>String(C.id)===r);if(j>=0){l=T,u=j;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const p=Cl(i),b=!p||k4(p)?sr:p,x=l!==b,E=x?[...a[b]??[]]:d,_=String(h.id),w={...h,folder:b===sr?"":b};return x?E.push(w):d.splice(u,0,w),a[l]=d,a[b]=x?E:d,{nextList:Q2(a,n),changedIds:[_]}}function Wte(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Ev(t,r);let a=null,o=null;const l=[...r.map(x=>Cl(x)),sr].filter(Boolean);for(const x of l){const E=i[x]??[],_=E.findIndex(w=>String(w.id)===n);if(_>=0){a=x,o=E[_]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(x=>String(x.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],p=!h.favorite,b={...h,favorite:p};return u.splice(d,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:Q2(i,r),nextItem:b}}function Vte(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function A4(e){return e.trim().length>0}const Lh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Zte=e=>e.replace(/\D/g,""),Xte=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Zte(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},Jte=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},Qte=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},ZM=(e,t,n)=>{const r=Lh(t);if(!r)return!0;const i=Lh(typeof e.name=="string"?e.name:""),a=Xte(e).map(Lh),o=Jte(e).map(Lh),l=Qte(e).map(Lh),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function ene(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!A4(t)){const d={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(d[p]=i[p]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(x=>ZM(x,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>ZM(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function tne(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??sr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??sr).toString(),index:e.destinationIndex}}}function nne(e,t){const n=String(t.eventType??""),r=PE(t.new),i=PE(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=S4(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return Vc(u)}async function rne(e){if(!e)return;const t=Me;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function ine(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function ane(){return{async getUser(){const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Me.from("myeongsik").select(ine()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>PE(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=VM(t,e),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=VM(n,e),{error:i}=await Me.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Me.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Pte(i,e)),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Me.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await rne(r)}}}}}function one(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function om(e){if(!e)return"FREE";const t=one(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function LE(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const S0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function sne(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function XM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function JM(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function lne(e){return e?e.can_use_myo_viewer===!0:!1}async function cne(e){const{data:t,error:n}=await Me.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const on=As((e,t)=>({loaded:!1,loading:!1,userId:null,...S0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...S0})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await Me.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...S0,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await cne(o);if(!u){const N=LE("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:N.maxMyeongsik===null?9999:N.maxMyeongsik,canManageMyeongsik:N.canManageMyeongsik,canUseLuckTabs:N.canUseLuckTabs,canUseMultiMode:N.canUseMultiMode,canUseAllPrompts:N.canUseAllPrompts,canUseAdvancedReport:N.canUseAdvancedReport,canRemoveAds:N.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=XM(u.starts_at??null),h=XM(u.expires_at??null),p=JM(d,h),b=om(u.plan??null),x=p?b:"FREE",E=LE(x),_=E.maxMyeongsik===null?9999:E.maxMyeongsik,w=sne(u.max_myeongsik,_),T=Math.max(1,Math.max(w,_));e({loaded:!0,userId:o,plan:x,maxMyeongsik:T,canManageMyeongsik:E.canManageMyeongsik,canUseLuckTabs:E.canUseLuckTabs,canUseMultiMode:E.canUseMultiMode,canUseAllPrompts:E.canUseAllPrompts,canUseAdvancedReport:E.canUseAdvancedReport,canRemoveAds:E.canRemoveAds,canUseMyoViewer:lne(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...S0,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return JM(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),eA="guest_myeongsik_v1";function T4(e){return typeof e=="object"&&e!==null}function IE(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Oi(e,t=""){return typeof e=="string"?e:t}function une(e,t=!1){return typeof e=="boolean"?e:t}function dne(e){return T4(e)?{name:Oi(e.name,""),lat:IE(e.lat,0),lon:IE(e.lon,0)}:{name:"",lat:0,lon:0}}function fne(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function hne(e){if(!T4(e))return null;const t={id:Oi(e.id,""),sortOrder:IE(e.sortOrder,1),name:Oi(e.name,""),birthDay:Oi(e.birthDay,""),birthTime:Oi(e.birthTime,""),gender:Oi(e.gender,""),birthPlace:dne(e.birthPlace),relationship:Oi(e.relationship,""),memo:Oi(e.memo,""),folder:Oi(e.folder,""),mingSikType:Oi(e.mingSikType,"/"),DayChangeRule:Oi(e.DayChangeRule,""),favorite:une(e.favorite,!1),calendarType:Oi(e.calendarType,"solar"),dir:Oi(e.dir,"forward")};return t.id?Mm(t):null}function j4(){try{const e=localStorage.getItem(eA);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(hne).filter(r=>r!==null);return Vc(n)}catch{return[]}}function _l(e){try{const t=e.map(fne);localStorage.setItem(eA,JSON.stringify(t))}catch{}}function O4(){try{localStorage.removeItem(eA)}catch{}}const wo=As(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Rn=ane(),mne=Gte(Rn);function Dc(){const t=on.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function pne(e){const n=on.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function QM(e){const t=j4();if(t.length)try{for(const n of t)await Rn.upsertOne(e,n);O4()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const wr=As((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if($te()){Ite(Date.now()),window.location.reload();return}const n=await Rn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Rn.subscribe(n.id,i=>{e(a=>({list:nne(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Rn.getUser();if(!n){const l=j4(),u=l[0]?.id??null;e({list:l,currentId:u}),await t().stopRealtime();return}await QM(n.id);const r=await Rn.fetchRows(n.id),i=Vc(r.map(S4)),a=t().currentId,o=a&&i.some(l=>l.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await zte(Rn);const n=await Rn.getUser();n&&await QM(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Rn.getUser(),i=t().list.length;if(!pne(i)){r||wo.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Mm(o),u=t().list,d=Vc([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){_l(d),d.length===1&&wo.getState().openWith("PERSIST_SAVE");return}await Rn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Rn.getUser();if(i&&!Dc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Mm({...a,...r}),l=Vc(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){_l(l);return}await Rn.updateOne(i.id,n,o)},remove:async n=>{const r=await Rn.getUser();if(r&&!Dc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){_l(a);return}await Rn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=tne(n),o=Yte({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await Rn.getUser();if(l&&!Dc()){e({list:r});return}if(!l){_l(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await Rn.getUser();if(i&&!Dc()){e({list:r});return}if(!i){_l(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Rn.getUser();if(i&&!Dc())return;const o=Wte({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){_l(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Rn.getUser();if(r&&!Dc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Vte({list:a,folderName:i}),l=Vc(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){_l(l);return}const d=l.filter(h=>u.has(h.id));await Rn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await Rn.getUser();if(r&&!Dc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=Vc(i);if(e({list:a}),!r){_l(a);return}await mne.queue(a)},clear:()=>{e({currentId:null,list:[]}),O4()}})),eD="__custom__",tD=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],N4=({value:e,onChange:t})=>{const[n,r]=S.useState(tD),[i,a]=S.useState(""),[o,l]=S.useState(!1),[u,d]=S.useState(""),[h,p]=S.useState(!1),{list:b}=wr(),E=(e??i??"").trim()==="",w=b.some(M=>(M.relationship??"").trim()==="")&&!E?n.filter(M=>M.value!==""):n;S.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=M=>{const P=M.target.value;P===eD?(l(!0),a(""),t?.("")):(l(!1),d(""),a(P),t?.(P))};S.useEffect(()=>{const M=localStorage.getItem("relationshipOptions");M&&r(JSON.parse(M))},[]),S.useEffect(()=>{(async()=>{const{data:{user:P},error:$}=await Me.auth.getUser();if($||!P)return;const{data:F,error:Y}=await Me.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const W=F?.payload?.relationshipOptions;if(!Array.isArray(W))return;const H=W.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);H.length&&r(z=>{const V=new Set,X=[...H,...z,...tD].filter(Z=>V.has(Z.value)?!1:(V.add(Z.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(X)),X})})()},[]),S.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:P},error:$}=await Me.auth.getUser();if($||!P)return;const{data:F,error:Y}=await Me.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const W={...F?.payload??{},relationshipOptions:n},{error:H}=await Me.from("user_settings").upsert({user_id:P.id,payload:W,updated_at:new Date().toISOString()});H&&console.error("save relationships settings error",H.message)})()},[n]);const N=()=>{const M=u.trim();if(!M)return;const P={value:M,label:M};r($=>[...$,P]),a(M),t?.(M),d(""),l(!1)},j=M=>{r(n.filter(P=>P.value!==M)),i===M&&a("")},C=M=>{if(!M.destination)return;const P=Array.from(n),[$]=P.splice(M.source.index,1);P.splice(M.destination.index,0,$),r(P)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[g.jsx("option",{value:"",hidden:!0,children:""}),w.map(M=>g.jsx("option",{value:M.value,children:M.label},M.value)),g.jsx("option",{value:eD,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:" ",value:u,onChange:M=>d(M.target.value)}),g.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(op,{onDragEnd:C,children:g.jsx(mf,{droppableId:"relList",children:M=>g.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[n.map((P,$)=>g.jsx(hf,{draggableId:P.value,index:$,children:F=>g.jsxs("li",{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:P.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(P.value),children:""})]})},P.value)),M.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},fn=" ",C4=["","","","","",""],M4="ms_folders",D4="ms_folder_order",nD="ms_folder_favs",$E="ms_disabled_presets",Rl="myeoun:folder-updated";function nu(e){if(e!==fn)return e||void 0}function kv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function tA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function gne(){const e=kv($E);return C4.filter(t=>!e.includes(t))}function nA(){return kv(M4)}function rA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];tA(M4,t),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function Jb(){const e=gne(),t=nA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function bne(){return[fn,...Jb()]}function P4(e){const t=e.trim();if(!t||t===fn)return;const n=nA();if(n.includes(t))return;const r=[...n,t];rA(r)}function yne(e){const t=nA(),n=t.filter(r=>r!==e);n.length!==t.length&&rA(n)}function vne(e){const t=kv($E);if(t.includes(e))return;const n=[...t,e];tA($E,n),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function Qb(){return kv(D4)}function Td(e){tA(D4,e),typeof window<"u"&&window.dispatchEvent(new Event(Rl))}function pm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function xne(e){return Array.from(new Set(e))}function E0(e){const t=e.filter(n=>n!==fn);return{rest:t,withUnassigned:[fn,...t]}}function _ne(e,t){return pm(t,e)}function wne({value:e,onChange:t}){const[n,r]=S.useState([fn]),[i,a]=S.useState(!1),[o,l]=S.useState(""),[u,d]=S.useState(!1),h=S.useCallback(async w=>{const{data:{user:T},error:N}=await Me.auth.getUser();if(N||!T)return;const j=w.map((M,P)=>({user_id:T.id,folder_name:M,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await Me.from("user_folder_order").upsert(j,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=S.useCallback(()=>{if(typeof window>"u")return;const w=xne(bne()),T=w.includes(fn)?w:[fn,...w],{rest:N}=E0(T),j=Qb(),C=_ne(j,N),M=[fn,...C];r(M),j.length===C.length&&j.every(($,F)=>$===C[F])||(Td(C),h(C))},[h]);S.useEffect(()=>{if(p(),typeof window<"u"){const w=()=>p();return window.addEventListener(Rl,w),()=>window.removeEventListener(Rl,w)}},[p]);const b=S.useMemo(()=>e||fn,[e]),x=w=>{const{rest:T}=E0(w);Td(T),h(T)},E=w=>{const{source:T,destination:N}=w;if(!N||N.index===T.index)return;const{rest:j}=E0(n),C=Array.from(j),[M]=C.splice(T.index,1);C.splice(N.index,0,M);const P=[fn,...C];r(P),x(P)},_=w=>{const T=nu(w);T&&(P4(T),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:w=>{const T=w.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(nu(T))},children:[n.map(w=>g.jsx("option",{value:w,children:w},w)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(w=>!w),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const w=o.trim();w&&(_(w),t(nu(w)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[fn," ()"]})]}),g.jsx(op,{onDragEnd:E,children:g.jsx(mf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:w=>g.jsxs("ul",{ref:w.innerRef,...w.droppableProps,className:"space-y-1",children:[E0(n).rest.map((T,N)=>g.jsx(hf,{draggableId:T,index:N,children:j=>g.jsxs("li",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),w.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',fn,'" .      .']})]})}function R4({message:e,onClose:t,ms:n=2e3}){return S.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const rD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Sne=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Ene=["","/",""],kne=["",""],L4={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Ane(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function Tne(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function jne(){const[e,t]=S.useState(0),[n,r]=S.useState({...L4}),[i,a]=S.useState(null),[o,l]=S.useState(!1),[u,d]=S.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function One({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){S.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Nne(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Gi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Cne(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):fn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Mne({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=rD[r],a=S.useMemo(()=>Nne(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:rD,currentStep:i,lunarPreview:a,displayValue:l=>Cne(l,e,t,n),CALENDAR_OPTIONS:Sne,MING_OPTIONS:Ene,GENDER_OPTIONS:kne,nextIndex:Ane,focusById:Tne,isDST:Xb}}function Dne(){return{add:wr(t=>t.add)}}const br=[];for(let e=0;e<256;++e)br.push((e+256).toString(16).slice(1));function Pne(e,t=0){return(br[e[t+0]]+br[e[t+1]]+br[e[t+2]]+br[e[t+3]]+"-"+br[e[t+4]]+br[e[t+5]]+"-"+br[e[t+6]]+br[e[t+7]]+"-"+br[e[t+8]]+br[e[t+9]]+"-"+br[e[t+10]]+br[e[t+11]]+br[e[t+12]]+br[e[t+13]]+br[e[t+14]]+br[e[t+15]]).toLowerCase()}let Yw;const Rne=new Uint8Array(16);function Lne(){if(!Yw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yw=crypto.getRandomValues.bind(crypto)}return Yw(Rne)}const Ine=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iD={randomUUID:Ine};function I4(e,t,n){if(iD.randomUUID&&!e)return iD.randomUUID();e=e||{};const r=e.random??e.rng?.()??Lne();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Pne(r)}function $ne(e,t,n){const r=nu(e.folder);return w4({id:I4(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Bne(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=X2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=J2(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function zne({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:p}){const{add:b}=Dne(),x=S.useCallback(()=>{const _=Bne(a,e,o,u);if(!_.ok){h(_.message??" .");return}if(_.nextForm&&(t(_.nextForm),_.message&&h(_.message)),n<i-1){r(n+1);return}const w=$ne(e,o,u);if(!w.ok){h(w.message);return}const T=w.value;b(T),p(T),h(" !"),t({...L4}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,d]),E=S.useCallback(_=>{if(_.key!=="Enter")return;const w=_.target,T=w.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(w))return;const j=w.tagName.toLowerCase(),C=w instanceof HTMLInputElement?w.type:"";if(j==="textarea"){if(_.shiftKey)return;_.preventDefault(),x();return}if(C==="radio"||C==="checkbox"){_.preventDefault(),w instanceof HTMLInputElement&&w.click();return}j==="button"&&w.type!=="submit"||(_.preventDefault(),x())},[x]);return{handleNext:x,handleFormKeyDown:E}}function Une({onSave:e}){const t=jne(),n=Mne({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});One({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=zne({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Fne({onSave:e,onClose:t}){const n=Une({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(R4,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(s5,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(N4,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(wne,{value:nu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var k0={},aD;function Hne(){if(aD)return k0;aD=1,k0.match=a,k0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var x=b.inverse,E=b.type==="all"||p.type===b.type;if(E&&x||!(E||x))return!1;var _=b.expressions.every(function(w){var T=w.feature,N=w.modifier,j=w.value,C=p[T];if(!C)return!1;switch(T){case"orientation":case"scan":return C.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=d(j),C=d(C);break;case"resolution":j=u(j),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=l(j),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,C=parseInt(C,10)||0;break}switch(N){case"min":return C>=j;case"max":return C<=j;default:return C===j}});return _&&!x||!_&&x})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),x=b[1],E=b[2],_=b[3]||"",w={};return w.inverse=!!x&&x.toLowerCase()==="not",w.type=E?E.toLowerCase():"all",_=_.match(/\([^\)]+\)/g)||[],w.expressions=_.map(function(T){var N=T.match(t),j=N[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:N[2]}}),w})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return k0}var Kw,oD;function Gne(){if(oD)return Kw;oD=1;var e=Hne().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(x){u&&u.addListener(x)}function h(x){u&&u.removeListener(x)}function p(x){l.matches=x.matches,l.media=x.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return Kw=r,Kw}var qne=Gne();const Yne=hi(qne);var Kne=/[A-Z]/g,Wne=/^ms-/,Ww={};function Vne(e){return"-"+e.toLowerCase()}function $4(e){if(Ww.hasOwnProperty(e))return Ww[e];var t=e.replace(Kne,Vne);return Ww[e]=Wne.test(t)?"-"+t:t}function Zne(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Vw={exports:{}},Zw,sD;function Xne(){if(sD)return Zw;sD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zw=e,Zw}var Xw,lD;function Jne(){if(lD)return Xw;lD=1;var e=Xne();function t(){}function n(){}return n.resetWarningCache=t,Xw=function(){function r(o,l,u,d,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Xw}var cD;function Qne(){return cD||(cD=1,Vw.exports=Jne()()),Vw.exports}var ere=Qne();const jt=hi(ere),Br=jt.oneOfType([jt.string,jt.number]),B4={all:jt.bool,grid:jt.bool,aural:jt.bool,braille:jt.bool,handheld:jt.bool,print:jt.bool,projection:jt.bool,screen:jt.bool,tty:jt.bool,tv:jt.bool,embossed:jt.bool},tre={orientation:jt.oneOf(["portrait","landscape"]),scan:jt.oneOf(["progressive","interlace"]),aspectRatio:jt.string,deviceAspectRatio:jt.string,height:Br,deviceHeight:Br,width:Br,deviceWidth:Br,color:jt.bool,colorIndex:jt.bool,monochrome:jt.bool,resolution:Br,type:Object.keys(B4)},{type:HOe,...nre}=tre,rre={minAspectRatio:jt.string,maxAspectRatio:jt.string,minDeviceAspectRatio:jt.string,maxDeviceAspectRatio:jt.string,minHeight:Br,maxHeight:Br,minDeviceHeight:Br,maxDeviceHeight:Br,minWidth:Br,maxWidth:Br,minDeviceWidth:Br,maxDeviceWidth:Br,minColor:jt.number,maxColor:jt.number,minColorIndex:jt.number,maxColorIndex:jt.number,minMonochrome:jt.number,maxMonochrome:jt.number,minResolution:Br,maxResolution:Br,...nre},ire={...B4,...rre};var are={all:ire};const ore=e=>`not ${e}`,sre=(e,t)=>{const n=$4(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?ore(n):`(${n}: ${t})`},lre=e=>e.join(" and "),cre=e=>{const t=[];return Object.keys(are.all).forEach(n=>{const r=e[n];r!=null&&t.push(sre(n,r))}),lre(t)},ure=S.createContext(void 0),dre=e=>e.query||cre(e),uD=e=>e?Object.keys(e).reduce((n,r)=>(n[$4(r)]=e[r],n),{}):void 0,z4=()=>{const e=S.useRef(!1);return S.useEffect(()=>{e.current=!0},[]),e.current},fre=e=>{const t=S.useContext(ure),n=()=>uD(e)||uD(t),[r,i]=S.useState(n);return S.useEffect(()=>{const a=n();Zne(r,a)||i(a)},[e,t]),r},hre=e=>{const t=()=>dre(e),[n,r]=S.useState(t);return S.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},mre=(e,t)=>{const n=()=>Yne(e,t||{},!!t),[r,i]=S.useState(n),a=z4();return S.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},pre=e=>{const[t,n]=S.useState(e.matches);return S.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},gre=(e,t,n)=>{const r=fre(t),i=hre(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=mre(i,r),o=pre(a);return z4(),S.useEffect(()=>{},[o]),S.useEffect(()=>()=>{a&&a.dispose()},[]),o},U4={Classic:"",Modern:""};function Mo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function bre(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function yre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function vre(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function xre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Do(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?bre(t,n):yre(t,n):i?vre(t,n):xre(t,n)}const fi=As()(R$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=it(n,a),l=_t(n,a),u=ht(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:l,dayGZ:u,setDate:d=>{const{rule:h,lon:p}=t(),b=typeof p=="number"?p:void 0;e({date:d,yearGZ:it(d,b),monthGZ:_t(d,b),dayGZ:ht(d,h)})},resetDate:()=>{const{rule:d,lon:h}=t(),p=new Date,b=typeof h=="number"?h:void 0;e({date:p,yearGZ:it(p,b),monthGZ:_t(p,b),dayGZ:ht(p,d)})},resetMonth:()=>{const{lon:d}=t(),h=new Date;e({date:h,monthGZ:_t(h,typeof d=="number"?d:void 0)})},setScope:d=>e({scope:d}),setRule:d=>{const{date:h,lon:p}=t(),b=typeof p=="number"?p:void 0;e({rule:d,yearGZ:it(h,b),monthGZ:_t(h,b),dayGZ:ht(h,d)})},setLon:d=>{const{date:h,rule:p}=t(),b=typeof d=="number"?d:void 0;e({lon:d,yearGZ:it(h,b),monthGZ:_t(h,b),dayGZ:ht(h,p)})},setFromEvent:(d,h)=>{const{rule:p,lon:b}=t(),x=typeof b=="number"?b:void 0;e({date:d.at,scope:h,yearGZ:it(d.at,x),monthGZ:_t(d.at,x),dayGZ:ht(d.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),_re=60*1e3,wre=60*_re,Sre=24*wre,Ere=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},BE=e=>{const t=new Date(e);return t.setSeconds(0,0),t},kre={DAY:Sre},ha=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:_n(t,l.deg)})).concat([{name:r.name,date:_n(t+1,r.deg)},{name:"",date:_n(t+1,285)}]),a=_n(t,315),o=_n(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},F4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Hr[t%10]}${ui[t%12]}`);return e})(),Are=e=>{const t=F4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},ey=(e,t,n=1)=>{const r=Are(e),i=t==="forward"?n:-n;return F4[(r+i+60*1e3)%60]},Tre=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const l=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?l:u},H4=(e,t,n,r=120,i="/")=>{const a=BE(e),o=Tre(a,n,i),l=BE(new Date(a.getTime()+o*120)),u=Ere(e,r).getTime(),d=[];let h=ey(t,n,1);for(let p=l.getTime();p<=u;p+=10*kre.DAY)d.push({at:new Date(p),gz:h}),h=ey(h,n,1);return{firstChange:l,events:d}},G4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},q4=(e,t,n,r)=>{const i=G4(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=ey(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},jre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ore={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Nre=e=>jre[e]??("".includes(e)?e:null),Cre=e=>Ore[e]??("".includes(e)?e:null),dD=e=>{const t=Nre(e[0]),n=Cre(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},Mre=e=>Math.floor((e.getHours()+1)%24/2),Jw=e=>["","","","","","","","","","","",""][Mre(e)],Dre=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Hr.indexOf(r),o=ui.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return Hr[u]+ui[d]},dp=(e,t,n,r=120,i)=>{const a=ha(e).sort((_,w)=>_.date.getTime()-w.date.getTime());let o;if(n==="forward"){const _=a.findIndex(w=>w.date>=e);_>=0&&(o=a[_].date)}else{const _=a.filter(w=>w.date<=e);_.length&&(o=_[_.length-1].date)}const l=(_,w)=>{const T=Jw(_),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},j=N[T],C=(j+2)%24,M=new Date(_);if(M.setSeconds(0,0),n==="backward"&&w){const $=Jw(w),F=N[$],Y=new Date(w);return Y.setHours(F,0,0,0),Y}if(n==="forward"&&w){const $=Jw(w),F=N[$],Y=new Date(w);if(Y.setHours(F,0,0,0),Y>M)return Y}const P=new Date(M);return n==="forward"?(P.setHours(C,0,0,0),P<=M&&P.setDate(P.getDate()+1)):(P.setHours(j,0,0,0),P>=M&&P.setDate(P.getDate()-1)),P},u=dD(_t(e,127.5)),d=l(e,o),h=Math.floor(n==="forward"?(d.getTime()-e.getTime())/6e4:(e.getTime()-d.getTime())/6e4),p=Math.round(h/120*(14400*60*1e3));let b=new Date(e.getTime()+p);try{const _=dD(_t(e,i));(n==="forward"&&u!==_||n==="backward"&&u!==_)&&(b=new Date(e.getTime()+6e4))}catch{}const x=r/10,E=[];for(let _=0;_<x;_+=1){const w=new Date(b);w.setFullYear(w.getFullYear()+_*10),w.setSeconds(0,0);const T=Dre(t,n,_+1);E.push({at:w,gz:T})}return{natalMonthPillar:t,firstChange:b,mPillars:[],events:E}},Pre=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},Y4=(e,t,n,r,i)=>{const a=G4(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=ey(o,n,1),l.push({at:u.at,gz:o,age:Pre(i,u.at)}))}return{events:l}},Rre=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},Av=e=>{const t=Rre(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=sp(t,e.birthPlace?.lon??null,n);return BE(r)},iA=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=Av(e),i=ht(r,t),a=Fa(r,t,i.charAt(0));return{year:it(r,n),month:_t(r,n),day:i,hour:a}},Lre=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Hr[t%10]}${ui[t%12]}`);return e})(),Ire=e=>Lre.indexOf(e),Qw=e=>{if(Ire(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function $re(e,t="/"){const n=S.useMemo(()=>cp(e),[e]),r=S.useMemo(()=>Av(n),[n]),i=S.useMemo(()=>iA(n,t),[n,t]);return S.useMemo(()=>{const a=dp(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function l(j,C){let M=null;const P=C.getTime();for(const $ of j)if($.at.getTime()<=P)M=$;else break;return M}const u=l(a.events,o)?.gz??i.month,d=Qw(u),h=o.getFullYear(),p=_n(h,315),x=p&&o>=p?h:h-1,E=it(new Date(x,1,10,0,0,0),127.5),_=Qw(E),w=_t(o,127.5),T=Qw(w),N=[];return T&&N.push({key:"wolun",label:"",data:T}),_&&N.push({key:"seun",label:"",data:_}),d&&N.push({key:"daeun",label:"",data:d}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function yu(e,t="/",n=100){const r=S.useMemo(()=>cp(e),[e]),i=S.useMemo(()=>Av(r),[r]),a=S.useMemo(()=>iA(r,t),[r,t]),o=(l,u)=>{const d=u.getFullYear()-l.getFullYear(),h=u.getMonth()-l.getMonth(),p=u.getDate()-l.getDate(),b=h<0||h===0&&p<0?d-1:d;return Math.max(0,b)};return S.useMemo(()=>dp(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function e1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Bre(e,t){if(!Array.isArray(e)||e.length===0||!e1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!e1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||e1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function aA(e,t,n){const{date:r,rule:i,lon:a}=fi(),o=S.useMemo(()=>n??r??new Date,[n,r]),l=yu(e,e?.mingSikType),{gz:u}=Bre(l,o);return S.useMemo(()=>{try{const d=a??e?.birthPlace?.lon??127.5,h=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:it(o,d),at:o},wol:{gz:_t(o,d),at:o},il:{gz:ht(o,h),at:o}}}catch{const d=new Date;return{dae:{gz:"",at:d},se:{gz:"",at:d},wol:{gz:"",at:d},il:{gz:"",at:d}}}},[o,i,a,e,t,u])}const dn=["","","",""],si={year:0,month:1,day:2,hour:3},fD=["","","",""],Ld="",fp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],K4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],hD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],zre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=zre[r[1]]??r[1],a=zE[r[2]]??r[2];return`${i}${a}`}return""}const ty=e=>e&&e.length>=1?e[0]:"",Ci=e=>e&&e.length>=2?e[1]:"",oA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],sA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],lA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],cA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],uA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],dA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],fA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],hA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],mA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],pA=[{pair:["",""],label:""}],gA=new Set(["","","",""]),ny=new Set(["","","",""]),bA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],W4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ai(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const Ure=e=>[...e].sort((t,n)=>t-n).map(t=>dn[t]).join("X"),mD=(e,t)=>e===0&&t===3||e===3&&t===0;function Fre(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Hre(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const V4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Gre(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const qre=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Yre(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function Z4(e){for(const t of qre){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Gre(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Yre(e.jijiHyeong),e}function Kre(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function Wre(e,t){for(const n of fp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function pD(e,t,n){const r=Kre(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(Ld),o=t.includes(Ld);a&&!o&&(e[r]=t)}function yA(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>ty(b)),l=i.map(b=>Ci(b));function u(b,x){if(b===x)return;const E=o[b],_=o[x];if(!E||!_)return;const w=ai(oA,E,_);w&&Kt(a.cheonganHap,`#${dn[b]}X${dn[x]}_${w}`);const T=ai(sA,E,_);T&&Kt(a.cheonganChung,`#${dn[b]}X${dn[x]}_${T}`)}u(si.year,si.month),u(si.month,si.day),u(si.day,si.hour);function d(b,x,E,_,w=!0){const T=[],N=[];for(let C=0;C<4;C++)l[C]===b&&T.push(C),l[C]===x&&N.push(C);const j=Fre(T,N);for(const[C,M]of j){const P=mD(C,M),$=`#${dn[C]}X${dn[M]}_${E}${P?Ld:""}`;if(P){Kt(_,$);continue}w?pD(_,$,E):Kt(_,$)}}const h=(b,x)=>{for(const{pair:[E,_],label:w}of b)d(E,_,w,x)};h(lA,a.jijiYukhap),h(cA,a.jijiChung),h(uA,a.jijiPa),h(dA,a.jijiHae),h(fA,a.jijiWonjin),h(hA,a.jijiGwimun);for(const b of fp){if(!b.members.every(T=>l.includes(T)))continue;const E=[];for(let T=0;T<4;T++)b.members.includes(l[T])&&E.push(T);const _=E.includes(si.year)&&E.includes(si.hour),w=Ure(E);Kt(a.jijiSamhap,`#${w}_${b.name}${_?Ld:""}`)}for(const{pair:[b,x],label:E}of W4)Wre(b,x)&&d(b,x,E,a.jijiBanhap,!1);for(const{pair:[b,x],label:E}of mA)d(b,x,E,a.jijiHyeong);for(const{pair:[b,x],label:E}of pA)d(b,x,E,a.jijiHyeong);for(const b of gA){const x=l.map((E,_)=>E===b?_:-1).filter(E=>E>=0);if(!(x.length<2))for(const[E,_]of Hre(x)){const w=mD(E,_),T=`#${dn[E]}X${dn[_]}_${b}${w?Ld:""}`;pD(a.jijiHyeong,T,`${b}`)}}for(const{pair:[b,x],label:E}of bA)d(b,x,E,a.amhap);if(n)for(let b=0;b<4;b++){const x=i[b]??"";if(x.length<2)continue;const E=`${x[0]}${x[1]}`;ny.has(E)&&Kt(a.ganjiAmhap,`#${V4(dn[b])}_${E}`)}const p=Z4(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const x=p[b];Array.isArray(x)&&x.length===0&&(p[b]=["#"])}return p}function Vre(e,t){return e===si.year&&t===si.hour||e===si.hour&&t===si.year}function Zre(e,t){for(const n of fp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function Xre(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Tl(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Ci(p??"");return zE[b]??b});for(const{pair:[p,b],label:x}of W4){if(!Zre(p,b))continue;const E=[],_=[];for(let T=0;T<4;T++)l[T]===p&&E.push(T),l[T]===b&&_.push(T);const w=Xre(E,_);for(const[T,N]of w){const j=Vre(T,N),C=`#${dn[T]}X${dn[N]}_${x}${j?Ld:""}`;Kt(o.jijiBanhap,C)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const x=`${b[0]}${b[1]}`;ny.has(x)&&Kt(o.ganjiAmhap,`#${V4(dn[p])}_${x}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[p,b]of u){if(!b)continue;const x=Re(b);if(!x||x.length<2)continue;const E=ty(x),_=Ci(x);{const T=`${E}${_}`;ny.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const j=dn[T],C=ty(N),M=Ci(N),P=ai(oA,E,C);P&&Kt(o.cheonganHap,`#${p}X${j}_${P}`);const $=ai(sA,E,C);$&&Kt(o.cheonganChung,`#${p}X${j}_${$}`);const F=ai(lA,_,M);F&&Kt(o.jijiYukhap,`#${p}X${j}_${F}`);const Y=ai(cA,_,M);Y&&Kt(o.jijiChung,`#${p}X${j}_${Y}`);const W=ai(uA,_,M);W&&Kt(o.jijiPa,`#${p}X${j}_${W}`);const H=ai(dA,_,M);H&&Kt(o.jijiHae,`#${p}X${j}_${H}`);const z=ai(fA,_,M);z&&Kt(o.jijiWonjin,`#${p}X${j}_${z}`);const V=ai(hA,_,M);V&&Kt(o.jijiGwimun,`#${p}X${j}_${V}`);const X=ai(mA,_,M);if(X)Kt(o.jijiHyeong,`#${p}X${j}_${X}`);else{const q=ai(pA,_,M);q?Kt(o.jijiHyeong,`#${p}X${j}_${q}`):_===M&&gA.has(_)&&Kt(o.jijiHyeong,`#${p}X${j}_${_}${M}`)}const Z=ai(bA,_,M);Z&&Kt(o.amhap,`#${p}X${j}_${Z}`)}for(const T of fp){if(!T.members.includes(_))continue;const N=T.members.filter(C=>C!==_),j=l.map((C,M)=>({b:C,pos:dn[M]})).filter(C=>C.b&&N.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,M]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Kt(o.jijiSamhap,`#${p}X${C}X${M}_(${T.name})`)}}for(const T of hD){if(!T.members.includes(_))continue;const N=T.members.filter(C=>C!==_),j=l.map((C,M)=>({b:C,pos:dn[M]})).filter(C=>C.b&&N.includes(C.b));if(new Set(j.map(C=>C.b)).size===2){const[C,M]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Kt(o.jijiHyeong,`#${p}X${C}X${M}_${T.name}`),T.name===""&&(d=!0),T.name===""&&(h=!0)}}const w=[...r.map((T,N)=>({b:zE[Ci(T)]??Ci(T),pos:dn[N]}))];for(const T of K4){const N=w.filter(j=>T.members.includes(j.b));if(new Set(N.map(j=>j.b)).size===3){const j=N.map(C=>C.pos).join("X");Kt(o.jijiBanghap,`#${j}_(${T.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[x,E]of b){const _=Re(E??"");_.length>=2&&p.push({kind:x,b:Ci(_)})}if(p.length>=2){const x=r.map((E,_)=>({pos:dn[_],b:Ci(E)}));for(const E of hD)for(let _=0;_<p.length;_++)for(let w=_+1;w<p.length;w++){const T=p[_],N=p[w];for(const j of x){const C=new Set([j.b,T.b,N.b]);if(C.size===3&&E.members.every(M=>C.has(M))){const M=[T.kind,N.kind].sort(($,F)=>fD.indexOf($)-fD.indexOf(F)).join("X"),P=`${j.pos}X${M}`;Kt(o.jijiHyeong,`#${P}_${E.name}`),E.name===""&&(d=!0),E.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(d&&/(||)/.test(p)||h&&/(||)/.test(p)))),Z4(Jre(o))}function Jre(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const Qre={:"",:"",:"",:"",:""},gD={:"",:"",:"",:"",:""},eie={:"",:"",:"",:"",:""},tie={:"",:"",:"",:"",:""},nie={:.15,:.1,:-.15,:-.2,:-.25};function rie(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function iie(e){const t=e.includes(si.month),n=rie(si.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function aie(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function oie(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(h=>Ci(h)).filter(Boolean),l=[],u={...t},d=(h,p)=>{const b=[];for(let T=0;T<a.length;T++){const N=Ci(a[T]??"");p.members.includes(N)&&b.push(T)}if(!p.members.every(T=>o.includes(T)))return;const E=iie(b),_=p.out,w=gD[_];aie(u,w,_,E),l.push({type:h,name:p.name,out:p.out,strength:E})};if(i)for(const h of fp)d("",h);if(r)for(const h of K4)d("",h);return{applied:l,score:u,strengthAdj:nie,shengNext:Qre,shengPrev:gD,ke:eie,keInv:tie}}function ry(e){return dn[e]}function bD(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=ty(i),o=Ci(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Ih(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${ry(i)}X${ry(a)}_${e}`);return r}function sie(e,t){const n=bD(e),r=bD(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of oA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Ih(d,h,p))a(i.,b)}for(const{pair:[l,u],label:d}of sA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Ih(d,h,p))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of d)for(const b of h){const x=ai(u,p,b);if(!x)continue;const E=n.branchPos.get(p)??[],_=r.branchPos.get(b)??[];for(const w of Ih(x,E,_))a(i[l],w)}};o("",lA),o("",cA),o("",uA),o("",dA),o("",fA),o("",hA),o("",mA),o("",pA);for(const l of gA){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of Ih(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of bA){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!p.length))for(const b of Ih(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const p=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const x of p){const E=Ci(Re(e[x]??"")),_=`${d}${E}`;if(ny.has(_))for(const w of b){const T=Ci(Re(t[w]??""));`${h}${T}`===_&&a(i.,`#${ry(x)}X${ry(w)}_${_}`)}}}}return i}const X4=new Set(Object.keys(Bn)),J4=new Set(Object.keys(Kn)),lie=e=>e.slice(0,1),cie=e=>e.slice(-1);function ds(e){return Ud.has(e)?e:X4.has(e)?Bn[e]??e:e}function Sr(e){return _m.has(e)?e:J4.has(e)?Kn[e]??e:e}function go(e){return ds(lie(e))}function Ht(e){return Sr(cie(e))}function uie(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Ud.has(i)||X4.has(i))&&(n=ds(i)),(_m.has(i)||J4.has(i))&&(r=Sr(i));return n&&r?{stem:n,branch:r}:null}function die(e){return e.map(Ht)}function A0(e,t,n="classic"){const r=go(t),i=Ht(t),a=(n==="hgc"?fv:dv)[i]??[];return[r,...a].includes(e)}const UE=[["",""],["",""],["",""],["",""],["",""],["",""]],FE=[["",""],["",""],["",""],["",""],["",""],["",""]],fie=new Set(["","","",""]),Q4=[["",""],["",""]],hie=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function gm(e,t,n){const r=Sr(t),i=Sr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function yD(e,t,n){const r=Sr(t),i=Sr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function iy(e){for(const t of hie)if(t.set.has(e))return t.voids;return null}function HE(e){const t=Sr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Gn={2:4,1:3,3:2,0:1},jd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function mie(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const lu=e=>e===0?"":e===1?"":e===2?"":"",pf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",pie=(e,t)=>`#X${lu(t)}_${e}`,Id=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${lu(t)}X${lu(n)}_${e}`,T0=(e,t)=>`#${lu(t)}_${e}`,e6=(e,t)=>`#X${lu(t)}_${e}`,gie=(e,t)=>`#(${e==="day"?"":""})X${lu(t)}_`,hd=e=>`#_${e}`,md=(e,t)=>`#X${pf(t)}_${e}`,$h=(e,t)=>`#X${pf(t)}_${e}`,t1=(e,t,n)=>`#${lu(n)}X${pf(t)}_${e}`,bie=(e,t)=>`#(${t==="day"?"":""})_${pf(e)}_`,yie=(e,t)=>`#(${t==="day"?"":""})X${pf(e)}_`,vD=(e,t)=>`#X${pf(e)}_${t}`;function GE(e,t){const n=Sr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ht(t[i])===n)return{pos:i,weight:Gn[i]??0};return null}function vA(e,t,n){return Ht(t[n])===Sr(e)?{pos:n,weight:Gn[n]}:null}function vie(e,t){const n=ds(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(go(t[i])===n)return{pos:i,weight:Gn[i]??0};return null}const xie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Sr(t.trim())).filter(Boolean),cn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ds(t),xie(n)])),_ie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),t6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),n6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),r6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Die=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xD=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pie=cn({:"",:"",:"",:""}),Rie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_D=cn({:"",:"",:""}),wD=cn({:"",:"",:""}),Lie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),i6=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),a6=cn({:"",:"",:"",:"",:"",:"",:""}),Iie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Sr(t.trim())).filter(Boolean),va=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),(Array.isArray(n)?n:[n]).map(r=>Sr(r))])),Tv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),Iie(n)])),o6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},s6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},l6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},c6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$ie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),SD=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Uie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Gie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),u6=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Sr(t),(Array.isArray(n)?n:[n]).map(r=>Sr(r))])),Jie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),d6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),f6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),h6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),m6=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hae=h6,mae=d6,pae=m6,gae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bae=f6,yae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function hp(e,t){e.push(t)}function n1(e,t,n,r,i=0){const a=jd[n]>=jd[r]?n:r;e.push({name:Id(t,n,r),weight:Gn[a]+i,pos:a})}function _ae(e,t,n,r,i){const a=Ht(e[Se.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=vA(u,e,d);h&&hp(i,{name:Id(r,Se.year,d),weight:h.weight,pos:d})}}function wae(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=ds(a),l=vie(o,e);l&&hp(r,{name:e6(n,l.pos),weight:l.weight,pos:l.pos})}function ED(e,t,n,r,i="ALL"){const a=Ht(e[Se.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=vA(u,e,d);if(!h)continue;const p=d===Se.month?`#_${n}`:e6(n,d);hp(r,{name:p,weight:h.weight,pos:d})}}function kD(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&hp(r,{name:Id(n,Se.month,Se.day),weight:Gn[Se.day],pos:Se.day})}function AD(e,t,n,r,i){const a=go(e[Se.day]),o=t[a];if(!o)return;const l=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const d of l){const h=vA(u,e,d);h&&hp(r,{name:pie(n,d),weight:h.weight,pos:d})}}function Sae({natal:e,daewoon:t,basis:n}){const r=go(e[Se.day]),i=Ht(e[Se.day]),a=Ht(e[Se.month]),o=Ht(e[Se.year]),l=die(e),u=[],d=[],h=[[Jie,"MONTH",""],[d6,"DAY",""],[eae,"MONTH",""],[tae,"MONTH",""],[nae,"ALL",""],[rae,"HOUR",""],[iae,"ALL",""],[aae,"ALL",""],[oae,"ALL",""],[h6,"ALL",""],[sae,"ALL",""],[lae,"ALL",""],[cae,"ALL",""],[uae,"ALL",""],[dae,"ALL",""],[fae,"ALL",""],[m6,"ALL",""],[hae,"ALL",""],[mae,"ALL",""],[pae,"ALL",""],[gae,"ALL",""],[bae,"ALL",""],[yae,"ALL",""],[vae,"ALL",""],[xae,"ALL",""]];for(const[C,M,P]of h)_ae(e,C,M,P,d);const p=[[o6,""],[s6,""],[l6,""],[c6,""]];for(const[C,M]of p)wae(e,C,M,u);const b=[[$ie,"","ALL"],[SD,"","YEAR"],[SD,"","DAY"],[Hie,"","ALL"],[Gie,"","ALL"],[qie,"","ALL"],[Yie,"","ALL"],[Kie,"","ALL"]];for(const[C,M,P]of b)ED(e,C,M,d,P);const x=[[u6,"","ALL"],[Wie,"","DAY_HOUR"],[Vie,"","DAY_HOUR"],[Zie,"","ALL"],[Xie,"","ALL"]];for(const[C,M,P]of x)ED(e,C,M,u,P);const E=[[Bie,""],[Fie,""]];for(const[C,M]of E)kD(e,C,M,u);const _=[[zie,""],[Uie,""]];for(const[C,M]of _)kD(e,C,M,d);const w=[[_ie,"","ALL"],[t6,"","ALL"],[wie,"","ALL"],[Sie,"","ALL"],[Eie,"","ALL"],[kie,"","ALL"],[Aie,"","ALL"],[n6,"","ALL"],[Tie,"","ALL"],[jie,"","ALL"],[Oie,"","ALL"],[Nie,"","ALL"],[Cie,"","ALL"],[Lie,"","ALL"]];for(const[C,M,P]of w)AD(e,C,M,u,P);const T=[[r6,"","ALL"],[Mie,"","ALL"],[Die,"","ALL"],[xD,"","DAY"],[xD,"","HOUR"],[_D,"","DAY"],[_D,"","HOUR"],[wD,"","DAY"],[wD,"","HOUR"],[Pie,"","DAY"],[Rie,"","ALL"],[i6,"","ALL"]];for(const[C,M,P]of T)AD(e,C,M,d,P);if(new Set(["","","",""]).has(e[Se.day])){d.push({name:hd(""),weight:Gn[Se.day],pos:Se.day});for(const M of[Se.year,Se.month,Se.hour])e[M]===e[Se.day]&&d.push({name:T0("",M),weight:Gn[M],pos:M})}{const C=a6[r];if(C)for(const M of[Se.year,Se.month,Se.day,Se.hour]){const P=go(e[M]),$=Ht(e[M]);P===r&&C.includes($)&&d.push({name:T0("",M),weight:Gn[M],pos:M})}}for(const[C,M]of Q4){const P=GE(C,e),$=GE(M,e);P&&$&&n1(d,"",P.pos,$.pos)}{const C=new Set(["",""]),M=new Set(["","","",""]);for(let P=0;P<=3;P++){const $=go(e[P]),F=Ht(e[P]);(C.has($)||M.has(F))&&d.push({name:T0("",P),weight:Gn[P],pos:P})}}{const C=e[Se.hour],M=($,F)=>$.includes(r)&&F.includes(C);(M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""]))&&d.push({name:hd(""),weight:Gn[Se.hour],pos:Se.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:hd(""),weight:Gn[Se.day],pos:Se.day});{const C=e[Se.day],M=e[Se.hour];(C===""&&M===""||C===""&&M==="")&&d.push({name:Id("",Se.day,Se.hour),weight:Gn[Se.hour],pos:Se.hour})}{const C=Ht(e[Se.year]),M=new Set(l.slice(1)),P=(F,Y)=>F.every(W=>M.has(W))&&C===Y;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:hd(""),weight:Gn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:hd(""),weight:Gn[Se.day],pos:Se.day});{const M={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];M&&e.some($=>Ht($)===M.rok)&&go(e[Se.hour])===M.maStem&&u.push({name:Id("",Se.day,Se.hour),weight:Gn[Se.hour],pos:Se.hour})}{const C=Ht(e[Se.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const $=i===P.rok,F=C===P.ma,Y=A0(P.rokStem,e[Se.day],"classic")||A0(P.rokStem,e[Se.hour],"classic"),W=A0(P.maStem,e[Se.day],"classic")||A0(P.maStem,e[Se.hour],"classic");$&&F&&(Y||W)&&u.push({name:Id("",Se.day,Se.hour),weight:Gn[Se.hour],pos:Se.hour})}}{const C=new Set(["","","","","",""]),M=e.map(go),P=e.map(Ht),$=M.concat(P).filter(H=>C.has(H)).length,F=t?go(t):"",Y=t?Ht(t):"",W=C.has(F)||C.has(Y);($>=4||$===3&&W)&&d.push({name:hd(""),weight:Gn[Se.day],pos:Se.day})}{const C=new Set(["",""]),M=new Set(["",""]);for(let P=0;P<=3;P++){const $=go(e[P]),F=Ht(e[P]);(C.has($)||M.has(F))&&d.push({name:T0("",P),weight:Gn[P],pos:P})}}{const C=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[M,P]of C){const $=Ht(e[M]),F=Ht(e[P]);if(gm(UE,$,F)){const Y=yD(UE,$,F);n1(d,`${Y}`,M,P)}}}{const C=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[M,P,$]of C){const F=Ht(e[M]),Y=Ht(e[P]);if(gm(FE,F,Y)){const W=yD(FE,F,Y),H=($?1:0)+(fie.has(F+Y)?1:0);n1(d,`${W}`,M,P,H)}}}const N=iy(e[Se.day]),j=iy(e[Se.year]);{const C=(n?.voidBasis??"day")==="day"?N:j;if(C){const[M,P]=C.map(Sr);for(const $ of[Se.year,Se.month,Se.day,Se.hour]){const F=Ht(e[$]);(F===M||F===P)&&d.push({name:gie(n?.voidBasis??"day",$),weight:Gn[$],pos:$})}}}return{goodPos:u,badPos:d,dayVoid:N,yearVoid:j,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function j0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const p=[],b=[],x=(N,j)=>{N.includes(j)||N.push(j)},E=uie(t??null);if(!E)return{good:p,bad:b};const _=E.branch,w=E.stem;ds(o6[a]??"")===w&&x(p,$h("",e)),ds(s6[a]??"")===w&&x(p,$h("",e)),ds(l6[a]??"")===w&&x(p,$h("",e)),ds(c6[a]??"")===w&&x(p,$h("",e)),u6[a]?.includes(_)&&x(p,$h("",e)),t6[r]?.includes(_)&&x(p,md("",e)),n6[r]?.includes(_)&&x(p,md("",e)),r6[r]?.includes(_)&&x(b,md("",e)),i6[r]?.includes(_)&&x(b,md("",e)),a6[r]?.includes(_)&&x(b,md("",e)),e==="se"&&(Qie[o]?.includes(_)&&x(b,vD(e,"")),f6[o]?.includes(_)&&x(b,vD(e,"")));for(const N of l)if(gm(Q4,_,N)){const j=GE(N,n)?.pos;j!==void 0&&x(b,t1("",e,j));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(_)&&x(b,md("",e));const T=(h?.voidBasis??"day")==="day"?u:d;T&&(_===T[0]||_===T[1])&&x(b,bie(e,h?.voidBasis??"day"));for(let N=0;N<=3;N++){const j=Ht(n[N]);gm(UE,_,j)&&x(b,t1("",e,N)),gm(FE,_,j)&&x(b,t1("",e,N))}if(e==="se"){const N=(h?.samjaeBasis??"day")==="day"?i:o,j=N?HE(N):null;j&&j.includes(_)&&x(b,yie(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const Eae=/^#(|||)X\1_/,kae=e=>Eae.test(e);function TD(e){const t=new Map;for(const n of e){if(kae(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Aae(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Tae=new Set(["",""]);function jae(e){return Tae.has(e)?!0:e.endsWith("")||e.endsWith("")}function jD(e){const t=new Map;for(const r of e){const i=Aae(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(jae(r))n.push(...i);else{const a=i.sort((o,l)=>jd[o.pos]!==jd[l.pos]?jd[l.pos]-jd[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function OD(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=mie;for(const i of e)n[r(i.pos)].push(i.name);return n}function Kd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E}=Sae({natal:e,daewoon:t,basis:a}),_=jD(TD(o)),w=jD(TD(l)),T=OD(_),N=OD(w),j=j0({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:d,basis:a}),C=j0({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:d,basis:a}),M=j0({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:d,basis:a}),P=j0({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:d,basis:a});return{good:{...T,dae:j.good,se:C.good,wolun:M.good,ilun:P.good},bad:{...N,dae:j.bad,se:C.bad,wolun:M.bad,ilun:P.bad},meta:{voidPair:{day:iy(e[Se.day])??void 0,year:iy(e[Se.year])??void 0},samjaeYears:{day:HE(Ht(e[Se.day]))??void 0,year:HE(Ht(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Oae(e){return typeof e=="object"&&e!==null}function gf(e){const t=U4;return Oae(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const ND=["","","","","","","","","",""],Nae=["","","","","","","","","","","",""],Cae=["","","","","","","","","","","",""];function Mae(e){const t=hv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Dae(e,t){const n=Mae(e);return(t?Cae:Nae).map((i,a)=>`${ND[(n+a)%10]??ND[0]}${i}`)}function bm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function CD(e){return e<10?`0${e}`:`${e}`}function p6(e){return`${CD(e.getHours())}:${CD(e.getMinutes())}`}function xA(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function MD(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||xA(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Pae(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":p6(i)}const DD=["","/",""],Rae="/";function g6(e,t){return e&&DD.includes(e)?e:t&&DD.includes(t)?t:Rae}function PD(e){return e===""}function Lae(e){return e===""?"":""}function Iae(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const $ae=e=>e instanceof Date&&!Number.isNaN(e.getTime());function RD(e,t){const n=xA(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(r,i,a);r=j.getFullYear(),i=j.getMonth()+1,a=j.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,p=$ae(e.corrected);let b;p?b=e.corrected:d?b=u:b=sp(u,h,n);const x=t?new Date(b.getTime()-3600*1e3):b,E=g6(e.mingSikType),_=it(x,h),w=_t(x,h),T=ht(x,E),N=n?null:Fa(x,E);return{corrected:x,year:{stem:_.charAt(0),branch:_.charAt(1)},month:{stem:w.charAt(0),branch:w.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const Bae=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],zae=(()=>{const e={};for(const t of Bae){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Uae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Fae(e,t){const n=`${hv(e)}${w2(t)}`;return zae[n]??null}function Hae(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Gae(e){switch(Uae[w2(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function qae({stem:e,branch:t}){const n=Fae(e,t);if(!n)return null;const r=Hae(n.elem);return g.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function LD({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=jn(),o=Ui(e,t,a),l=di(e,t,n),u=Ha(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function b6({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:x="regular",highlightedStem:E=!1,highlightedBranch:_=!1}){const w=x==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=x==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${w} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ma(n,{stem:t.stem})}),g.jsx(LD,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:E}),g.jsx(LD,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:_}),g.jsx(t5,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(qae,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Yae=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Kae({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:x,seGz:E,wolGz:_,highlightMap:w={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",j="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",M=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return g.jsxs("div",{className:j,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:M,children:e.map(P=>{const $=Yae(P,x,E,_),F=w[P.key]??{stem:!1,branch:!1};return g.jsx(b6,{title:P.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:T,highlightedStem:F.stem,highlightedBranch:F.branch},P.key)})})})]})}function Wae({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:x={}}){const E=t?"regular":"compact",_=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",w=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:_,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:w,children:e.map(T=>{const N=x[T.key]??{stem:!1,branch:!1};return g.jsx(b6,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:E,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function Vae({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),l=a.charAt(1),u=r?.stem===o&&r?.branch===l;return g.jsx("button",{onClick:()=>i(o,l),className:`p-2 text-xs rounded border cursor-pointer ${u?Gae(l):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Zae(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Bh={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function Xae(e){const t=Zae(e),n=Bh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Bh[r])return Bh[r]}else{const r=`${t}`;if(Bh[r])return Bh[r]}return{title:t||"",kind:"",oneLine:" "}}function Jae(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function uo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=qE(n,ay),u=qE(r,ay),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(ID,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(ID,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function ID({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=qE(e,ay);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(Qae,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function Qae({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=Xae(e),o=a?Jae(a):"",l=ay(e),u=S.useRef(null),d=S.useRef(null),[h,p]=S.useState("center");return S.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const x=b.getBoundingClientRect(),_=Math.min(300,window.innerWidth-16*2),w=x.left,T=window.innerWidth-x.right;T<_/2&&w>T?p("right"):w<_/2&&T>w?p("left"):p("center")},[i]),S.useLayoutEffect(()=>{if(!i)return;const b=x=>{const E=x.target;!u.current||E&&u.current.contains(E)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function ay(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function qE(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function eoe({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:d}){const[h,p]=S.useState(!0),[b,x]=S.useState(!0),[E,_]=S.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[g.jsxs("button",{type:"button",onClick:()=>p(w=>!w),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(fo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[g.jsxs("button",{type:"button",onClick:()=>x(w=>!w),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),$D(u)||$D(d)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:E,setOpenTagKey:_},"luck-wol"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:E,setOpenTagKey:_},"luck-se"),t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:E,setOpenTagKey:_},"luck-dae")]:[t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:E,setOpenTagKey:_},"luck-dae"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:E,setOpenTagKey:_},"luck-se"),t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:E,setOpenTagKey:_},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(uo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:d.natal.hour,isDesktop:e,openTagKey:E,setOpenTagKey:_}),g.jsx(uo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:d.natal.day,isDesktop:e,openTagKey:E,setOpenTagKey:_}),g.jsx(uo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:d.natal.month,isDesktop:e,openTagKey:E,setOpenTagKey:_}),g.jsx(uo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:d.natal.year,isDesktop:e,openTagKey:E,setOpenTagKey:_})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function fo({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:toe(i)},i)})})]})}function toe(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function $D(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function BD(e){return String(e).padStart(2,"0")}function noe(e,t,n){if(!e||e.length<8)return MD(e,t);const r=MD(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Gi(i,a,o);return` ${`${l.getFullYear()}.${BD(l.getMonth()+1)}.${BD(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function roe({data:e,hourTable:t}){const{date:n}=fi(),r=jn(Ce=>Ce.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,l=g6(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:d,solarM:h,solarD:p}=S.useMemo(()=>{let Ce=Number(e.birthDay?.slice(0,4)??2e3),_e=Number(e.birthDay?.slice(4,6)??1),Oe=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Ie=Gi(Ce,_e,Oe);Ce=Ie.getFullYear(),_e=Ie.getMonth()+1,Oe=Ie.getDate()}return{solarY:Ce,solarM:_e,solarD:Oe}},[e.birthDay,e.calendarType]),[b,x]=S.useState(!1);S.useEffect(()=>{d&&h&&p&&x(Xb(d,h,p))},[d,h,p]);const E=xA(e.birthTime),[_,w]=S.useState(()=>RD(e,b));S.useEffect(()=>{w(RD(e,b))},[e,b]);const T=Pae(e.correctedLocal,_.corrected,E),N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,j=_.day.stem,[C,M]=S.useState(null),[P,$]=S.useState(()=>PD(e.mingSikType));S.useEffect(()=>{M(null),$(PD(e.mingSikType))},[N,e.mingSikType]),S.useEffect(()=>{pe(null)},[N]);const F=S.useMemo(()=>Dae(j,P),[P,j]),Y=C??_.hour,W=rp(Ce=>Ce.setManualHour),H=(Ce,_e)=>{const Oe={stem:Ce,branch:_e};M(Oe),W(Oe)},z=Lae(r.sinsalBase)===""?_.day.branch:_.year.branch,V=Ce=>r.showSibiUnseong?Mo(j,Ce):null,X=Ce=>r.showSibiSinsal?Do({baseBranch:z,targetBranch:Ce,era:gf(r.sinsalMode),gaehwa:r.sinsalBloom}):null,Z=$re(e,l),q=gre({query:"(min-width: 992px)"}),Q=r.hiddenStem==="regular"?"main":"all",ne=Iae(r.exposure),ue=ne===0?[]:Z.filter(Ce=>(Ce.key==="daeun"?1:Ce.key==="seun"?2:3)<=ne),se=Xb(d,h,p),B=()=>x(Ce=>!Ce),K=aA(e,t,n),ie=K.dae.gz,J=K.se.gz,oe=K.wol.gz,[de,pe]=S.useState(null),ye=S.useMemo(()=>{const Ce=_e=>_e?.stem&&_e?.branch?`${_e.stem}${_e.branch}`:"";return Tl({natal:[Ce(_.year),Ce(_.month),Ce(_.day),Ce(Y)],daewoon:ie??void 0,sewoon:J??void 0,wolwoon:oe??void 0})},[_,Y,ie,J,oe]),re=S.useMemo(()=>{const Ce=[...ye.cheonganHap,...ye.cheonganChung,...ye.jijiSamhap,...ye.jijiBanhap,...ye.jijiBanghap,...ye.jijiYukhap,...ye.jijiChung,...ye.jijiHyeong,...ye.jijiPa,...ye.jijiHae,...ye.amhap,...ye.ganjiAmhap].filter(_e=>_e&&_e!=="#");return Array.from(new Set(Ce))},[ye]),je=S.useMemo(()=>{const Ce=(Oe,Ie)=>{Oe.includes(Ie)||Oe.push(Ie)},_e={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Oe of re){const Ve=(Oe.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);Ve.includes("")&&Ce(_e.luck.wol,Oe),Ve.includes("")&&Ce(_e.luck.se,Oe),Ve.includes("")&&Ce(_e.luck.dae,Oe),Ve.includes("")&&Ce(_e.natal.hour,Oe),Ve.includes("")&&Ce(_e.natal.day,Oe),Ve.includes("")&&Ce(_e.natal.month,Oe),Ve.includes("")&&Ce(_e.natal.year,Oe)}return _e},[re]),Ne=S.useMemo(()=>{const Ce=Ie=>Ie?.stem&&Ie?.branch?`${Ie.stem}${Ie.branch}`:"",_e=Kd({natal:[Ce(_.year),Ce(_.month),Ce(_.day),Ce(Y)],daewoon:ie??void 0,sewoon:J??void 0,wolwoon:oe??void 0}),Oe=Ie=>Array.from(new Set(Ie.filter(Ve=>Ve&&Ve!=="#")));return{good:{natal:{hour:Oe(_e.good.si??[]),day:Oe(_e.good.il??[]),month:Oe(_e.good.wol??[]),year:Oe(_e.good.yeon??[])},luck:{dae:Oe(_e.good.dae??[]),se:Oe(_e.good.se??[]),wol:Oe(_e.good.wolun??[])}},bad:{natal:{hour:Oe(_e.bad.si??[]),day:Oe(_e.bad.il??[]),month:Oe(_e.bad.wol??[]),year:Oe(_e.bad.yeon??[])},luck:{dae:Oe(_e.bad.dae??[]),se:Oe(_e.bad.se??[]),wol:Oe(_e.bad.wolun??[])}}}},[_,Y,ie,J,oe]),ve=S.useMemo(()=>{const Ce={},_e=(Oe,Ie)=>{for(const Ve of Oe)Ce[Ve]=Ie};return _e(ye.cheonganHap,"stem"),_e(ye.cheonganChung,"stem"),_e(ye.jijiSamhap,"branch"),_e(ye.jijiBanhap,"branch"),_e(ye.jijiBanghap,"branch"),_e(ye.jijiYukhap,"branch"),_e(ye.jijiChung,"branch"),_e(ye.jijiHyeong,"branch"),_e(ye.jijiPa,"branch"),_e(ye.jijiHae,"branch"),_e(ye.amhap,"branch"),_e(ye.ganjiAmhap,"both"),Ce},[ye]),Ze=S.useMemo(()=>{if(!de)return{};const Ce=ve[de]??"branch",Oe=(de.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Ie={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},Ve={};for(const yt of Oe){const xt=Ie[yt];if(!xt)continue;const Dt=Ve[xt]??{stem:!1,branch:!1};Ce==="stem"?Dt.stem=!0:(Ce==="branch"||(Dt.stem=!0),Dt.branch=!0),Ve[xt]=Dt}return Ve},[de,ve]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&g.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${b?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",b?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[noe(e.birthDay,e.birthTime,e.calendarType)," : ",T]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",l," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ue.length===0?"grid-cols-1":ue.length===1?"grid-cols-[2fr_8fr]":ue.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ue.length>0&&g.jsx(Kae,{cards:ue,isDesktop:q,dayStem:j,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:Q,hiddenStemMode:r.hiddenStemMode,calcUnseong:V,calcShinsal:X,daeGz:ie,seGz:J,wolGz:oe,highlightMap:Ze}),g.jsx(Wae,{isDesktop:q,dayStem:j,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:Q,hiddenStemMode:r.hiddenStemMode,calcUnseong:V,calcShinsal:X,highlightMap:Ze,pillars:[{key:"hour",label:"",data:Y},{key:"day",label:"",data:_.day},{key:"month",label:"",data:_.month},{key:"year",label:"",data:_.year}]})]}),g.jsx(eoe,{isDesktop:q,exposureLevel:ne,relationChips:re,relationByPillar:je,activeRelationTag:de,onToggleRelationTag:pe,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ne.good,etcShinsalBad:Ne.bad}),E&&g.jsx(Vae,{hourCandidates:F,useInsi:P,onToggleRule:()=>$(Ce=>!Ce),manualHour:C,onSelectHour:H})]})}function jv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}const ioe=!1,zD=e=>e<10?`0${e}`:`${e}`;function Ov(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=Gi(i,a,o,0,0),h=`${d.getFullYear()}${zD(d.getMonth()+1)}${zD(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function aoe({data:e}){const t=yu(e),n=S.useMemo(()=>{const M=Ov(e);return Pl(M)},[e]),r=S.useMemo(()=>{const M=e.mingSikType??"/";return ht(n,M).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=fi(),o=S.useMemo(()=>jv(t,i),[t,i]),l=jn(M=>M.settings),{charType:u,thinEum:d,showSipSin:h,showSibiUnseong:p,showSibiSinsal:b,sinsalBase:x,sinsalMode:E,sinsalBloom:_}=l,w=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=x===""?ht(n,T).charAt(1):it(n,w).charAt(1),j=M=>p?Mo(r,M):null,C=M=>b?Do({baseBranch:N,targetBranch:M,era:gf(E),gaehwa:!!_}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((M,P)=>{const $=M.gz.charAt(0),F=M.gz.charAt(1),Y=ooe(n,M.at),W=P===o,H=di($,"stem",u),z=di(F,"branch",u),V=Ha($,"stem"),X=Ha(F,"branch"),Z=d&&V?"font-thin":"font-bold",q=d&&X?"font-thin":"font-bold",Q=j(F),ne=C(F);return g.jsxs("div",{onClick:()=>a(M,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${W?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${M.gz}  ${M.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[h&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(r,{stem:$})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui($,"stem",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Z}`,children:H})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(F,"branch",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${q}`,children:z})}),h&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(r,{branch:F})}),(p||b)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&g.jsx("div",{children:Q}),b&&g.jsx("div",{children:ne})]})]})]},`${M.gz}-${P}`)})})]})}function ooe(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Nv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function r1(e){return new Date(e,6,2,12,0,0,0)}function soe(e,t){return t-e+1}function loe({data:e,list:t,onSelect:n}){const r=jn($=>$.settings),{date:i,setFromEvent:a}=fi(),[o,l]=S.useState(()=>t);S.useEffect(()=>{t&&t.length>0&&l(t)},[t]);const u=Pl(e),d=S.useMemo(()=>Nv(e,u),[e,u]),h=S.useMemo(()=>d.getFullYear(),[d]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,b=S.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),F=r1($),Y=it(F,p);return[{at:F,gz:Y}]},[i,p]),x=t.length>0?t:o.length>0?o:b,E=S.useMemo(()=>[...x].sort(($,F)=>$.at.getTime()-F.at.getTime()),[x]),_=S.useMemo(()=>{if(E.length===0)return 0;const $=jv(E,i);return $<0?0:$>=E.length?E.length-1:$},[E,i]),[w,T]=S.useState(null);S.useEffect(()=>{T(null)},[i,E]);const N=w??_,j=S.useMemo(()=>{const $=Ov(e);return Pl($)},[e]),C=e.mingSikType??"/",M=S.useMemo(()=>ht(j,C).charAt(0),[j,C]),P=S.useMemo(()=>r.sinsalBase===""?ht(d,C).charAt(1):it(d,p).charAt(1),[d,C,p,r.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:E.map(($,F)=>{const Y=$.at.getFullYear(),W=r1(Y),H=it(W,p),z=H.charAt(0),V=H.charAt(1),X=F===N,Z=di(z,"stem",r.charType),q=di(V,"branch",r.charType),Q=Ha(z,"stem"),ne=Ha(V,"branch"),ue=r.thinEum&&Q?"font-thin":"font-bold",se=r.thinEum&&ne?"font-thin":"font-bold",B=r.showSibiUnseong?Mo(M,V):null,K=r.showSibiSinsal?Do({baseBranch:P,targetBranch:V,era:gf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ie=soe(h,Y);return g.jsxs("div",{onClick:()=>{if(F===0){T(F);return}T(F);const J=r1(Y),oe=it(J,p);a({at:J,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(Y)):Promise.resolve().then(()=>n(Y)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${X?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${H}  ${$.at.toLocaleDateString()}  ${ie}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ie,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(M,{stem:z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(z,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:Z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(V,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:q})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(M,{branch:V})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&g.jsx("div",{children:B}),r.showSibiSinsal&&K&&g.jsx("div",{children:K})]})]})]},`${Y}-${$.gz||F}`)})})]})}const coe=new Set(["","","","","","","","","","","",""]);function uoe(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...ha(new Date(n-1,5,15,12,0))??[],...ha(new Date(n,5,15,12,0))??[],...ha(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>coe.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const doe=new Set(["","","","","","","","","","","",""]);function foe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function hoe(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function i1(e){return new Date(e,5,15,12,0,0,0)}function moe(e){const n=[...ha(i1(e-1))??[],...ha(i1(e))??[],...ha(i1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>doe.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=foe(d);o.push({name:u.name,termAt:d,at00:h})}return o}function poe({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=jn(w=>w.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=Pl(e),l=S.useMemo(()=>Nv(e,o),[e,o]),u=S.useMemo(()=>{const w=Ov(e);return Pl(w)},[e]),d=e.mingSikType??"/",h=S.useMemo(()=>ht(u,d).charAt(0),[u,d]),p=i.sinsalBase===""?ht(l,d).charAt(1):it(l,a).charAt(1),b=S.useMemo(()=>t?moe(t).map(T=>{const N=T.termAt,j=new Date(T.termAt.getTime()+1860*1e3),C=_t(j,a);return{at:N,gz:C,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:x,setFromEvent:E}=fi(),_=jv(b,x);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:b.map((w,T)=>{const N=w.gz.charAt(0),j=w.gz.charAt(1),C=`${hoe(w.at)}`,M=T===_,P=di(N,"stem",i.charType),$=di(j,"branch",i.charType),F=Ha(N,"stem"),Y=Ha(j,"branch"),W=i.thinEum&&F?"font-thin":"font-bold",H=i.thinEum&&Y?"font-thin":"font-bold",z=i.showSibiUnseong?Mo(h,j):null,V=i.showSibiSinsal?Do({baseBranch:p,targetBranch:j,era:gf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(w.at);const X=new Date(w.at),{start:Z}=uoe(X);n?.(Z.getFullYear(),Z.getMonth()),E({at:X,gz:_t(X,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${M?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${w.term}   ${w.gz}  ${w.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:C}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(h,{stem:N})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(N,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${W}`,children:P})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(j,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${H}`,children:$})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(h,{branch:j})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&g.jsx("div",{children:z}),i.showSibiSinsal&&V&&g.jsx("div",{children:V})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:w.term})]})]},`${w.term}-${w.at.toISOString()}`)})})]})}function goe(){const e=jn(r=>r.settings),{date:t,setFromEvent:n}=fi();return{settings:e,pickedDate:t,setFromEvent:n}}const boe=(e,t)=>new Date(e,t,15,12,0,0,0),YE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},yoe=new Set(["","","","","","","","","","","",""]),y6=e=>[...ha(new Date(e-1,5,15,12,0))??[],...ha(new Date(e,5,15,12,0))??[],...ha(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),voe=e=>{const t=y6(e.getFullYear()),n=t.filter(o=>yoe.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},xoe=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function _oe({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",l=S.useMemo(()=>{const F=Ov(e);return Pl(F)},[e]),u=S.useMemo(()=>l?ht(l,o).charAt(0):void 0,[l,o]),d=S.useMemo(()=>e?Pl(e):null,[e]),h=S.useMemo(()=>e&&d?Nv(e,d):null,[e,d]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,b=e&&h?i.sinsalBase===""?ht(h,o).charAt(1):it(h,p).charAt(1):null,x=S.useMemo(()=>boe(t,n),[t,n]),E=S.useMemo(()=>a?YE(new Date(a)):null,[a]),_=S.useMemo(()=>r?YE(r):null,[r]),w=S.useMemo(()=>E??_??x,[E,_,x]),{start:T,end:N,cur:j,next:C}=S.useMemo(()=>voe(w),[w]),M=S.useMemo(()=>{const F=[],Y=new Date(T);for(;Y<N;)F.push(new Date(Y)),Y.setDate(Y.getDate()+1);return F},[T,N]),P=S.useMemo(()=>{const F=y6(w.getFullYear()),Y=F.filter(H=>H.date>=T&&H.date<N),W=F.find(H=>H.date>=N);return W?[...Y,W]:Y},[w,T,N]),$=S.useMemo(()=>{const F=[];let Y=[];const W=new Date(T).getDay();for(let H=0;H<W;H+=1)Y.push(null);for(const H of M)Y.length===7&&(F.push(Y),Y=[]),Y.push(H);for(;Y.length<7;)Y.push(null);return F.push(Y),F},[M,T]);return{rule:o,dayStem:u,baseBranch:b,pickerNoon:E,termMarks:P,weeks:$,cur:j??null,next:C??null}}function woe({setFromEvent:e}){return{handleDayClick:S.useCallback(n=>{e({at:n},"")},[e])}}function Soe({data:e,year:t,month:n,selectedMonth:r}){const i=goe(),a=_oe({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=woe({setFromEvent:i.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?g.jsxs(g.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((l,u)=>g.jsxs("span",{children:[l.name," ",xoe(l.date),u<a.termMarks.length-1?"  ":""]},`${l.name}_${l.date.getTime()}_${u}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(l=>g.jsx("div",{className:"py-1",children:l},l))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((l,u)=>l.map((d,h)=>{if(!d)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${h}`);const p=YE(d),b=new Date,x=p.getFullYear()===b.getFullYear()&&p.getMonth()===b.getMonth()&&p.getDate()===b.getDate(),_=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&x,w=MY(p,a.rule),T=w.charAt(0),N=w.charAt(1),j=di(T,"stem",i.settings.charType),C=di(N,"branch",i.settings.charType),M=i.settings.thinEum&&Ha(T,"stem")?"font-thin":"font-bold",P=i.settings.thinEum&&Ha(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,F=!!a.dayStem&&i.settings.showSibiUnseong,Y=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,W=$?ma(a.dayStem,{stem:T}):"",H=$?ma(a.dayStem,{branch:N}):"",z=F?Mo(a.dayStem,N):"",V=Y?Do({baseBranch:a.baseBranch,targetBranch:N,era:gf(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",X=a.termMarks.find(Z=>Z.date.getFullYear()===p.getFullYear()&&Z.date.getMonth()===p.getMonth()&&Z.date.getDate()===p.getDate());return g.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${_?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${w} (${p.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:p.getDate()}),X&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:X.name})]}),$&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:W}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(T,"stem",i.settings)}`,children:g.jsx("span",{className:M,children:j})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(N,"branch",i.settings)}`,children:g.jsx("span",{className:P,children:C})}),$&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:H}),(F||Y)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[F&&z&&g.jsx("div",{children:z}),Y&&V&&g.jsx("div",{children:V})]})]},d.toISOString())}))})]})}function UD(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=_n(a,315);let l=a;new Date<o&&(l=a-1);const d=it(new Date(l,1,10));i.push({at:o,gz:d})}return i}function Eoe({data:e}){const t=yu(e),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,l]=S.useState("il"),[u,d]=S.useState(null);S.useEffect(()=>{if(!t.length)return;const E=new Date,_=t.findIndex((w,T)=>{const N=t[T+1]?.at;return E>=w.at&&(!N||E<N)});_!==-1&&r(_)},[t]),S.useEffect(()=>{if(n===null)return;const E=t[n],_=t[n+1];if(!E)return;const w=UD(E,_),T=new Date;w.findIndex((j,C)=>{const M=w[C+1]?.at;return T>=j.at&&(!M||T<M)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const h=aA(e),{date:p}=fi(),b=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),x=S.useMemo(()=>{if(!h?.dae?.gz)return[];const E=t.findIndex((T,N)=>{const j=t[N+1]?.at;return h.dae.at>=T.at&&(!j||h.dae.at<j)});if(E===-1)return[];const _=t[E],w=t[E+1];return UD(_,w)},[t,h?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(aoe,{data:e}),o==="se"||o==="wol"||o==="il"?g.jsx(loe,{data:e,list:x,onSelect:()=>{l("wol")}}):null,o==="wol"||o==="il"?g.jsx(poe,{data:e,activeYear:b,onSelect:(E,_)=>{a({year:E,month:_}),l("il")},onSelectMonth:d}):null,o==="il"&&i&&g.jsx(Soe,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const koe=new Set(xY),Aoe=new Set(_Y);function FD(e){return typeof e=="string"&&e.length>=2&&koe.has(e[0])&&Aoe.has(e[1])}function ji(e,...t){if(FD(e))return e;for(const n of t)if(FD(n))return n;return""}const Toe={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function O0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function joe({data:e}){const t=jn(W=>W.settings),{manualHour:n}=rp(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=fi(),d=S.useMemo(()=>cp(e),[e]),h=S.useMemo(()=>Av(d),[d]),p=S.useMemo(()=>iA(d,"/"),[d]),b=S.useMemo(()=>hv(p.day?.charAt(0)??""),[p.day]),x=!e.birthTime||e.birthTime==="",E=S.useMemo(()=>H4(h,p.hour,e.dir??"forward",120,"/"),[h,p.hour,e.dir]),_=S.useMemo(()=>q4(E,p.day,e.dir??"forward",""),[E,p.day,e.dir]),w=S.useMemo(()=>dp(h,p.month,e.dir??"forward",120,d.birthPlace?.lon??127.5),[h,p.month,e.dir,d.birthPlace?.lon]),T=S.useMemo(()=>Y4(w,p.year,e.dir??"forward","",h),[w,p.year,e.dir,h]),N=S.useMemo(()=>{const W=E?.events?.[0];return W?{at:W.at,from:ji(p.hour),to:ji(W.gz)}:null},[E?.events,p.hour]),j=S.useMemo(()=>{const W=w?.events?.[0];return w?.firstChange?{at:w.firstChange,from:ji(p.month),to:ji(W?.gz??p.month)}:null},[w?.firstChange,w?.events,p.month]),C=S.useMemo(()=>{const W=x?n?n.stem+n.branch:"":ji(O0(E.events,u)?.gz,p.hour);let H;if(x&&n){const z=u.getFullYear(),V=u.getMonth(),X=u.getDate(),Z=Toe[n.branch]??0,q=new Date(z,V,X,Z,0),Q=ht(q,e.mingSikType??"/");H=ji(Q,p.day)}else H=ji(O0(_.events,u)?.gz,p.day);return{si:W,il:H,wl:ji(O0(w.events,u)?.gz,p.month),yn:ji(O0(T.events,u)?.gz,p.year)}},[u,E.events,_.events,w.events,T.events,p,x,n,e.mingSikType]),M=S.useMemo(()=>({si:ji(Fa(u,"/")),il:ji(ht(u,"/")),wl:ji(_t(u)),yn:ji(it(u))}),[u]),P=S.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=S.useMemo(()=>gf(o),[o]),F=W=>{if(!W)return{unseong:"",shinsal:""};const H=di(b,"stem",""),z=di(W.charAt(1),"branch",""),V=di(P,"branch","");return{unseong:r&&Mo(H,z)||"",shinsal:i&&Do({baseBranch:V,targetBranch:z,era:$,gaehwa:!!l})||""}},Y=(W,H,z="myoun")=>{const V=H,{unseong:X,shinsal:Z}=H?F(H):{unseong:"",shinsal:""},q=z==="myoun"&&x&&(W===""||W==="");return g.jsx(kd,{label:W,gz:V,dayStem:b,settings:t,unseongText:H?X:"",shinsalText:H?Z:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:q},`${z}-${W}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",bm(h),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",C.si,"myoun"),Y("",C.il,"myoun"),Y("",C.wl,"myoun"),Y("",C.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",M.si,"live"),Y("",M.il,"live"),Y("",M.wl,"live"),Y("",M.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",N?`${bm(N.at)} (${N.from}  ${N.to})`:" "]}),g.jsxs("div",{children:[":"," ",j?`${bm(j.at)} (${j.from}  ${j.to})`:" "]})]})]})}const HD=["","","","","","","","","",""],Ooe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Noe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Coe={:"",:"",:"",:"",:""},Moe={:"",:"",:"",:"",:""},Doe={:"",:"",:"",:"",:""},Poe={:"",:"",:"",:"",:""};function Roe(e,t){switch(e){case"":return t;case"":return Coe[t];case"":return Doe[t];case"":return Poe[t];case"":return Moe[t];default:return t}}function Loe({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const l=i,u=a,d=l/2,h=u/2,p=Math.min(l,u)*.37,b=S.useMemo(()=>{const j=(r??"").charAt(0);return Noe[j]??null},[r]),x=j=>Math.PI/2+2*-Math.PI*j/5,E=S.useMemo(()=>e.map((j,C)=>({...j,x:d+p*Math.cos(x(C)),y:h-p*Math.sin(x(C))})),[e,d,h,p]),[_,w]=S.useState(0),T=S.useRef(""),N=S.useMemo(()=>{const j=e.map(P=>`${P.name}:${P.value}`).join(","),C=HD.map(P=>`${P}:${t?.[P]??0}`).join(","),M=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",j,C,M,r??""].join("||")},[o,e,t,r,n]);return S.useEffect(()=>{N!==T.current&&(T.current=N,w(j=>j+1))},[N]),g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:l,height:u,className:"mx-auto pt-2",children:[E.map((j,C)=>{const M=E[(C+2)%5];return g.jsx("line",{x1:j.x,y1:j.y,x2:M.x,y2:M.y,stroke:"#94a3b8",strokeWidth:1},`line-${C}`)}),E.map((j,C)=>{const M=E[(C+1)%5],P=(j.x+M.x)/2,$=(j.y+M.y)/2,F=P-d,Y=$-h,W=1.5,H=d+F*W,z=h+Y*W;return g.jsx("path",{d:`M${j.x},${j.y} Q${H},${z} ${M.x},${M.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${C}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),E.map(j=>{const C=j.name,M=b?Roe(C,b):null,P=M?HD.filter($=>Ooe[$]===M).map($=>[$,t?.[$]??0]):[];return g.jsxs("g",{transform:`translate(${j.x},${j.y})`,children:[g.jsx("circle",{r:33,fill:j.color??"#334155",opacity:j.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[j.name," ",j.value]}),P.map(([$,F],Y)=>g.jsxs("text",{textAnchor:"middle",dy:8+Y*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(F)]},$))]},`${j.name}-${j.value}`)})]},_)})}const Ioe=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function _A(e){return Math.max(0,Math.min(100,e))}function v6(e){const t=_A(e);return Ioe.find(r=>t>=r.min&&t<r.max)?.name??""}const $oe=[10,20,35,45,55,65,80];function Boe({value:e}){const t=S.useMemo(()=>_A(e),[e]),n=S.useMemo(()=>v6(t),[t]);return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:""}),g.jsx("span",{children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[$oe.map(r=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function zh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ia({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"il"),children:p},`il-${b}`))]})]})}function KE(e){return Array.isArray(e)?e:[]}function N0(e,t){const n=new Set(KE(e));return KE(t).filter(i=>!n.has(i))}function zoe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=yA(e),l=Tl({natal:e}),u=t?Tl({natal:e,daewoon:t}):l,d=n?Tl({natal:e,daewoon:t,sewoon:n}):u,h=r?Tl({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,p=i?Tl({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=_=>({natal:KE(o[_]),dae:N0(l[_],u[_]),se:N0(u[_],d[_]),wol:N0(d[_],h[_]),il:N0(h[_],p[_])}),x={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},E=_=>a===""?{natal:_.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:_.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ia,{label:"",...E(x.cheonganHap)}),g.jsx(ia,{label:"",...E(x.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ia,{label:"",...E(x.jijiSamhap)}),g.jsx(ia,{label:"",...E(x.jijiBanhap)}),g.jsx(ia,{label:"",...E(x.jijiBanghap)}),g.jsx(ia,{label:"",...E(x.jijiYukhap)}),g.jsx(ia,{label:"",...E(x.amhap)}),g.jsx(ia,{label:"",...E(x.ganjiAmhap)}),g.jsx(ia,{label:"",...E(x.jijiChung)}),g.jsx(ia,{label:"",...E(x.jijiHyeong)}),g.jsx(ia,{label:"",...E(x.jijiPa)}),g.jsx(ia,{label:"",...E(x.jijiHae)})]})}function Uoe(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Foe({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Uoe(r,t),children:r},`${t}-${i}-${r}`))})}function GD({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Foe,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Hoe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=jn(),[l,u]=S.useState(""),[d,h]=S.useState("");S.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=S.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=S.useMemo(()=>Kd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:x,bad:E,meta:_}=b,w=W=>W.map(H=>H==="#"?H:` ${H}`),T=(W,H)=>{const z=["natal"];return H===""&&z.push("natal"),H===""&&z.push("natal","dae"),H===""&&z.push("natal","dae","se"),H===""&&z.push("natal","dae","se","wol"),H===""&&z.push("natal","dae","se","wol","il"),W.filter(V=>z.includes(V.source))},N=[{label:"",items:w(x.si),source:"natal"},{label:"",items:w(x.il),source:"natal"},{label:"",items:w(x.wol),source:"natal"},{label:"",items:w(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],j=[{label:"",items:w(E.si),source:"natal"},{label:"",items:w(E.il),source:"natal"},{label:"",items:w(E.wol),source:"natal"},{label:"",items:w(E.yeon),source:"natal"},{label:"",items:E.dae,source:"dae"},{label:"",items:E.se,source:"se"},{label:"",items:E.wolun,source:"wol"},{label:"",items:E.ilun,source:"il"}],C=T(N,a),M=T(j,a),P=_.voidPair.day?`(${_.voidPair.day.join("")})`:"()",$=_.voidPair.year?`(${_.voidPair.year.join("")})`:"()",F=_.samjaeYears.day?`(${_.samjaeYears.day.join("")})`:"()",Y=_.samjaeYears.year?`(${_.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:W=>u(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:$})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:W=>h(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:F}),g.jsx("option",{value:"",children:Y})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(GD,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(GD,{title:"()",rows:M})]})]})}const la={year:0,month:1,day:2,hour:3},x6={[la.year]:.3,[la.month]:.5,[la.day]:.3,[la.hour]:.3},_6={[la.year]:.15,[la.month]:.2,[la.day]:0,[la.hour]:.15},Goe=e=>_m.has(e)?e:Kn[e]??e,qoe=e=>Ud.has(e)?e:Bn[e]??e,Yoe=e=>typeof e=="string"&&e.length>=2?Goe(e.slice(-1)):"",Koe=e=>typeof e=="string"&&e.length>=1?qoe(e.slice(0,1)):"",vn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Woe={:vn(2,0,.5,2),:vn(2,0,0,2),:vn(2,0,0,2),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,2,1,2),:vn(0,2,2,.5),:vn(0,2,2,0),:vn(0,2,2,1),:vn(2,0,0,2),:vn(2,0,0,2),:vn(2,0,1,1)},Voe={:vn(0,1,1,0),:vn(0,1,1,0),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,0,1,0),:vn(0,0,0,1),:vn(1,0,0,1),:vn(1,0,0,1),:vn(2,0,0,2),:vn(2,0,0,2)},qD=e=>Math.max(0,Math.min(100,e));function YD(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Zoe(e){let t=0,n=0,r=0,i=0;return[la.year,la.month,la.day,la.hour].forEach(a=>{const o=Woe[Yoe(e[a])],l=Voe[Koe(e[a])],u=x6[a],d=_6[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function Xoe(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Joe(e){const t=Xoe(e);return S.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Zoe(t),o=YD(n,r),l=YD(a,i);return{hanNanPct:qD(o),joSeupPct:qD(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:x6,stem:_6}}},[t])}function KD({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=S.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(l=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Qoe({natal:e}){const{hanNanPct:t,joSeupPct:n}=Joe(e);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(KD,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),g.jsx(KD,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const zr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ra={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ese={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},oy={:"",:"",:"",:"",:""},w6={:"",:"",:"",:"",:""},Dm={:"",:"",:"",:"",:""},S6={:"",:"",:"",:"",:""},tse={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},nse={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function wA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function E6(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function SA(e){return e==="hgc"?nse:tse}const rse={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},a1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},k6={:"",:"",:"",:"",:""},A6={:"",:"",:"",:""},ise=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],ase=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],ose={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ye=(e,t)=>`${e}${t}`,Ni=(e,t,n)=>`${e}${t}${n}`,sse={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},WD={[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""]},VD={[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:["",""]},lse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ca(e){return["","","","",""].includes(e)}function cse(e){return["","","","","",""].includes(e)}const o1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,oa=e=>e&&e.length>=1?e.charAt(0):"",kn=e=>e&&e.length>=2?e.charAt(1):"",use=e=>Array.from(new Set(e));function dse(e,t){const n=rse[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function fse(e){return zr[e]??""}function La(e,t){const n=zr[e],r=zr[t];if(!n||!r)return"";let i;r===n?i="":r===oy[n]?i="":r===Dm[n]?i="":r===S6[n]?i="":r===w6[n]?i="":i="";const a=ca(e)===ca(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function hse(e,t){const n=zr[e],r=Ra[t];if(!n||!r)return"";let i;r===n?i="":r===oy[n]?i="":r===Dm[n]?i="":r===S6[n]?i="":r===w6[n]?i="":i="";const a=cse(t)===ca(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function mse(e){return{:"",:"",:"",:"",:""}[e]??""}function WE(e,t){const n=fse(e),r=ca(e);let i;t===n?i="":oy[n]===t?i="":oy[t]===n?i="":Dm[n]===t?i="":Dm[t]===n?i="":i="";const a=r===ca(mse(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const pse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gse=e=>/^(|||||||||)$/.test(e);function bse(e){return e?gse(e)?e:pse[e]??"":""}function C0(e){return bse(oa(e))}function yse(e){return e?.charAt(0)??""}function vse(e){return e?.charAt(1)??""}function xse(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=he=>(he?.length??0)>=1?he.charAt(0):"",u=he=>(he?.length??0)>=2?he.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Ra)),p=[r,i,a,o].map(u).filter(he=>!!he&&h.has(he)),b=l(a),x=ose[b]??!1,E=new Set,_=t==="classic"?dv:fv,w=new Set(["","","","","","","","","",""]),T=he=>(_[he]??[]).filter(De=>w.has(De)),N=(he,De)=>{const Be=Ra[De];return Be?WE(he,Be):null},j={:0,:0,:0,:0,:0};for(const he of d){const De=zr[he];De&&(j[De]+=10)}const C=[];for(const he of p){const De=ese[he];De&&C.push(De);const Be=Ra[he];Be&&(j[Be]+=6)}const P=[...d,...C].map(he=>La(b,he)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},F=he=>P.filter(De=>De===he).length,Y=he=>P.filter(De=>$[he].includes(De)).length,W=p[1],H=!!b&&lse[b]===W,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&E.add("");const V=[r,i,a,o].filter(Boolean),X=[];for(const he of V){const De=he.charAt(0),Be=he.charAt(1);X.push(La(b,De)),X.push(N(b,Be))}const Z=(he,De)=>{const Be=(lt,Ot)=>!!lt&&!!Ot&&he.includes(lt)&&De.includes(Ot)||De.includes(lt)&&he.includes(Ot);for(let lt=0;lt+1<X.length;lt+=2)if(Be(X[lt],X[lt+1]))return!0;return!1},q=he=>X.some(De=>!!De&&he.includes(De)),Q=F("")+F(""),ne=F(""),ue=Y(""),se=Y(""),B=Z(["",""],["",""]);if((ne>=1||Q>=2)&&ue>=1&&Q>ue&&se<=1&&B&&E.add(""),q($.)&&q($.)&&Z($.,$.)){const he=P.includes("");E.add(he?"":"")}Y("")>=2&&Y("")>=2&&Math.abs(Y("")-Y(""))<=1&&Y("")<=1&&Y("")<=1&&E.add("");const K=F(""),ie=F(""),J=F("")+F(""),oe=F("")+F(""),de=Y("");ie>=2&&J>=1&&j.+j.>=20&&E.add(""),ie>=2&&oe>=1&&j.+j.>=20&&E.add(""),ie>=2&&oe>=1&&j.+j.>=20&&Z([""],["",""])&&de<=1&&E.add(""),K>=2&&oe>=1&&j.+j.>=20&&Z([""],["",""])&&de<=1&&E.add("");const pe=(he,De)=>{const Be=zr[he],lt=Ra[De];return!!Be&&!!lt&&Be===lt},ye=[r,i,a,o].filter(Boolean),re=u(a),je=pe(b,re),Ne=ye.map(he=>he.charAt(0)).filter(he=>["",""].includes(La(b,he)));let ve=!1;for(const he of ye){const De=he.charAt(0),Be=he.charAt(1);if(Ne.includes(De)&&pe(De,Be)){ve=!0;break}}je&&ve&&E.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&E.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&E.add(""),Y("")>=3&&Y("")>=1&&E.add(""),Y("")>=3&&Y("")+Y("")<=1&&E.add("");const Ze=F("");Y("")+Y("")>=2&&Ze===1&&Y("")>=1&&E.add(""),Ze>=2&&J+Y("")>=3&&E.add("");const Ce=K+ie;(K>=2||Ce>=2)&&oe>=1&&Ce>oe&&E.add(""),ie>=2&&oe>=1&&Ce>oe&&E.add("");const _e=F(""),Oe=F("");_e>=2&&Ze+Oe>=1&&E.add(""),_e>=2&&Ze+Oe===0&&E.add(""),x&&_e>=2&&Ze>=1&&E.add(""),!x&&_e>=2&&Ze>=1&&E.add(""),F("")>=2&&F("")>=1&&E.add(""),F("")>=1&&F("")>=1&&Z([""],[""])&&E.add(""),H&&Ze>=1&&Y("")+Y("")>=2&&E.add("");const Ie=[u(r),u(i),u(a),u(o)].filter(Boolean),Ve=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),yt=new Set(Ve.map(he=>La(b,he))),xt=new Set(Ie.flatMap(he=>{const De=Ra[he];return De?[WE(b,De)]:[]})),Dt=new Set(Ie.flatMap(he=>T(he).map(De=>La(b,De))));return["","","","",""].forEach(he=>{const De=$[he],Be=De.some(bt=>yt.has(bt)),lt=De.some(bt=>xt.has(bt)),Ot=De.some(bt=>Dt.has(bt));!Be&&!lt&&!Ot?E.add(`${he}`):!Be&&!lt&&Ot&&E.add(`${he}`)}),Array.from(E)}const _se=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=oa(n),i=kn(n),a=zr[r],o=Ra[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function wse(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[oa(a),oa(o),oa(l),oa(u)].filter(Boolean),h=[kn(a),kn(o),kn(l),kn(u)].filter(Boolean),p=zr[n],b=d.map(he=>La(n,he)),x=[],E=he=>d.filter(De=>De===he).length,_=he=>h.filter(De=>De===he).length,w=he=>he.every(De=>h.includes(De)),T=he=>b.some(De=>he.includes(De)),N=oa(o),j=he=>ca(he),C=()=>{const he=d.map(De=>zr[De]);return he.length===4&&he.every(De=>De===he[0])},M=()=>{if(d.length!==4)return!1;const he=d.map(j),De=he[0]&&!he[1]&&he[2]&&!he[3],Be=!he[0]&&he[1]&&!he[2]&&he[3];return De||Be};ca(n)&&k6[n]===r&&x.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[he,De]of P)if(n===he&&r===De){x.push("");break}!ca(n)&&A6[n]===r&&x.push("");const $=a1[n];$&&kn(l)===$&&p===Ra[kn(l)]&&x.push(""),$&&kn(u)===$&&p===Ra[kn(u)]&&x.push("");const F=[a,o,l,u].map(yse),Y=[a,o,l,u].map(vse);for(const he of F);for(const he of Y);const W=i==="hgc"?fv:dv;function H(he){return(W[he]??[]).filter(De=>["","","","","","","","","",""].includes(De))}const z=[a,o,l,u].filter(Boolean),X=z.flatMap(he=>[he.charAt(0),he.charAt(1)]).flatMap(he=>{try{if(["","","","","","","","","",""].includes(he))return[La(n,he)];if(["","","","","","","","","","","",""].includes(he)){const De=hse(n,he),Be=H(he).map(lt=>La(n,lt));return[De,...Be]}return[]}catch{return[]}}),Z=he=>X.some(De=>he.includes(De)),q=(he,De)=>{const Be=[],lt=[];for(const bt of z){const Jn=bt.charAt(0),gi=bt.charAt(1);Be.push(La(n,Jn));const bi=Ra[gi];bi?lt.push(WE(n,bi)):lt.push(null)}const Ot=(bt,Jn)=>!!bt&&!!Jn&&(he.includes(bt)&&De.includes(Jn)||De.includes(bt)&&he.includes(Jn));for(let bt=0;bt<Be.length;bt++)if(Ot(Be[bt],lt[bt]))return!0;for(let bt=0;bt<Be.length-1;bt++)if(Ot(Be[bt],Be[bt+1])||Ot(lt[bt],lt[bt+1]))return!0;return!1},Q={:["",""],:["",""],:["",""],:["",""]};Z([...Q.])&&Z([...Q.])&&q([...Q.],[...Q.])&&x.push(""),Z([...Q.])&&Z([...Q.])&&q([...Q.],[...Q.])&&x.push("");const ne=he=>b.filter(De=>he.includes(De)).length,ue=ne(["",""]),se=ne([""]),B=ne([""]),K=ne(["",""]),ie=ne(["",""]),J=ne(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&x.push("");const oe=ne([""]);oe>=1&&K>=1&&oe>=K&&x.push(""),b.includes("")&&K>=1&&x.push("");const pe=_se(t),ye=Object.entries(pe).sort((he,De)=>De[1]-he[1]),re=ye[0];if(re&&re[1]>=60&&x.push(`(${re[0]})`),ye.length>=2){const[he,De]=ye[0],[,Be]=ye[1];De>=75&&De-Be>=12&&p!==he&&x.push(`(${he})`)}for(const he of ise){const De=d.includes(he.a),Be=d.includes(he.b);if(!De||!Be)continue;const lt=he.to,Ot=pe[lt]??0,bt=zr[he.a],Jn=zr[he.b],gi=Math.max(pe[bt]??0,pe[Jn]??0),bi=Ra[r]===lt,Is=Object.entries(pe).sort((mn,yi)=>yi[1]-mn[1])[0]?.[0]===lt;let qt=!1;Ot>=60&&(bi||Is)&&gi<=20&&Ot-gi>=20&&(x.push(`(${lt})`),qt=!0),!qt&&Ot>=50&&(bi||Is)&&gi<=25&&(x.push(`(${lt})`),qt=!0),!qt&&Ot>=35&&x.push(`(${lt})`)}const je=`${oa(u)}${kn(u)}`;["",""].includes(n)&&["","",""].includes(je)&&x.push(""),["","","",""].includes(kn(u))&&x.push(""),["",""].includes(n)&&(kn(l)===""||kn(o)==="")&&!h.includes("")&&x.push("");const Ne=d.some(he=>he===""||he===""),ve=h.some(he=>he===""||he==="");["",""].includes(kn(l))&&!Ne&&!ve&&x.push(""),["","",""].every(he=>d.includes(he))&&x.push(""),["","",""].every(he=>d.includes(he))&&x.push(""),["","",""].every(he=>d.includes(he))&&x.push("");const Ze=Object.values(pe).sort((he,De)=>De-he);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&x.push(""),ie>=1&&J>=1&&Math.abs(ie-J)<=1&&x.push(""),w(["","","",""])&&x.push(""),w(["","","",""])&&x.push(""),w(["","","",""])&&x.push(""),h.length===4&&h.every(he=>he===h[0])&&x.push(""),d.length===4&&C()&&M()&&x.push(""),t.every(he=>he&&he===t[0])&&x.push(""),d.length===4&&d.every(he=>he===d[0])&&h.length===4&&h.every(he=>he===h[0])&&x.push(""),ue>=1&&(kn(l)===a1[n]||kn(u)===a1[n])&&x.push(""),E("")>=3&&w(["","",""])&&["","",""].includes(kn(l))&&x.push("");const _e=n===""||n==="",Oe=[["","",""],["","",""]],Ie=[["","",""],["","",""]];_e&&(Oe.some(he=>w(he))||Ie.some(he=>w(he)))&&x.push("");const Ve=new Set(["","","","","",""]),yt=`${oa(l)}${kn(l)}`;if(Ve.has(yt)&&_("")>=2&&(T(["",""])||h.includes("")||h.includes("")||T(["",""])||x.push("")),new Set(["","","","","",""]).has(yt)&&_("")>=2&&h.includes("")&&x.push(""),n===""&&`${oa(u)}${kn(u)}`==""){const he=La(n,N);!["","","",""].includes(he)&&T(["",""])&&!h.includes("")&&!h.includes("")&&x.push("")}return new Set(["","",""]).has(yt)&&`${oa(u)}${kn(u)}`==""&&!h.includes("")&&!T(["",""])&&x.push(""),yt===""&&_("")+_("")>=2&&x.push(""),(yt===""||yt==="")&&_("")>=2&&!T(["",""])&&!h.includes("")&&x.push(""),n===""&&w(["","",""])&&x.push(""),yt===""&&`${oa(u)}${kn(u)}`==""&&x.push(""),use(x)}function Sse(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Ese(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const ZD=1e3*60*60*24;function M0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function kse(e){let t=ha(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=ha(r)}return t}function Ase(e){const t=sse[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Tse(e,t){const n=Ase(e);if(!n)return null;const r=kse(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((M0(t)-M0(a))/ZD)+1,u=o?Math.max(1,Math.floor((M0(o)-M0(a))/ZD)):30;return{dayIdx:l<1?1:l,spanDays:u}}function jse(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Ose(e,t,n){const r=Math.max(1,jse(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function T6(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=E6(u),p=SA(h);if(!wA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const x={:b.?{stem:o1(b..stem),w:b..w}:void 0,:b.?{stem:o1(b..stem),w:b..w}:void 0,:{stem:o1(b..stem),w:b..w}},E=x..stem;let _=E;const w=Tse(n,r);if(["","","",""].includes(n)&&dse(n,o)&&x.)_=x..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(w){const z=Ose(x,w.dayIdx,w.spanDays);_=z.stem,d.push({kind:"BUNIL_PICK",from:z.from})}else _=E,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,V){if(!z)return!1;if(V.includes(z))return!0;const X=zr[z];return X?V.some(Z=>zr[Z]===X):!1}let N="";_&&T(_,a)&&!l?.(_)?(N=_,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):_&&l?.(_)&&d.push({kind:"NEUTRALIZED"});const j=N||E;let C="";const M=zr[j];if(M){const z=Object.entries(Dm).find(([,V])=>V===M)?.[0]??null;z&&(C=Object.entries(zr).find(([X,Z])=>Z===z&&ca(X)===ca(j))?.[0]??"")}let P="-";const $=La(t,j),F=ase.some(([z,V])=>z===t&&V===n),Y=ca(t)&&k6[t]===n,W=!ca(t)&&A6[t]===n;$===""||$===""?F?(P="",d.push({kind:"EX_GEONLOK"})):Y?(P="",d.push({kind:"EX_YANGIN"})):W?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Ese($);const H=wse({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:E,:_,:N||"-",:j||"-",:C||"-",:P,:H,reason:Sse(d),reasonTokens:d}}function Nse(e){const[t,n,r,i]=e,a=C0(i),o=C0(r),l=C0(n),u=C0(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,x]of h){if(!b||!x)continue;const E=Ye(b,x),_=WD[E];_?.length&&d.push(..._);const w=Ye(x,b);if(w!==E){const T=WD[w];T?.length&&d.push(...T)}}const p=[[a,o,l],[o,l,u]];for(const[b,x,E]of p){if(!b||!x||!E)continue;const _=Ni(b,x,E),w=VD[_];w?.length&&d.push(...w);const T=Ni(E,x,b);if(T!==_){const N=VD[T];N?.length&&d.push(...N)}}return Array.from(new Set(d))}const Cse=["","","","",""];function Mse(e){return Cse.includes(e)}function Dse(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Uh(e,t){if(!t)return e;const n=(Mse(t),t);return`${e}(${n})`}const Pse={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Rse={:e=>({title:Uh("",e),short:"     ."}),:e=>({title:Uh("",e),short:"   ."}),:e=>({title:Uh("",e),short:"   ."}),:e=>({title:Uh("",e),short:"    ."}),:e=>({title:Uh("",e),short:"    ."})};function Lse(e){const{base:t,inner:n}=Dse(e);return t===""||t===""||t===""||t===""||t===""?Rse[t](n):Pse[t]}function Ise(e){const t=Lse(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const $se=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),XD={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Bse(e){if($se(XD,e))return XD[e]}const JD={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},zse={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Use(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Fse(e,t){return e===""?{title:`${t}`,short:`${JD[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${JD[t]}()     .`,hint:" X /  O"}}function Hse(e){const t=Use(e);return t?Fse(t.kind,t.group):zse[e]}function Gse(e){const t=Hse(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const qse={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Yse(e){return qse[e]?.text}const Kse=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},Wse={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Vse={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Zse=e=>e.replace(/^\s*:\s*/,"").trim();function Xse(e){const t=Zse(e);return Vse[t]}function Jse(e){const t=Wse[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Kse(e.from)})`}:t}function Qse(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:l,unified:u}=e,[d,h,p,b]=t,x=J=>J&&J.length>=1?J.charAt(0):"",E=J=>J&&J.length>=2?J.charAt(1):"",_=E(h),w=x(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[x(d),x(h),x(p),x(b)].filter(J=>!!(J&&J.length===1)),j=[E(d),E(p),E(b)].filter(J=>!!(J&&J.length===1)),C=T6({dayStem:w,monthBranch:_,date:T,pillars:t,emittedStems:i??N,otherBranches:a??j,isNeutralized:o,mapping:l}),M=C.reasonTokens??[],P=C.reason??[],$=[` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`,` : ${C.||"-"}`],F=[` : ${C.||"-"}`],Y=Array.isArray(C.)&&C..length>0?C..map(J=>` : ${J}`):[" : -"],W=Nse(t),H=[...W.length?W.map(J=>`${J}`):[]],V=[...xse(t,l,u)],X=({text:J,color:oe})=>{const de={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return g.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${de[oe]}`,title:J,children:J})},Z=({children:J})=>g.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:J}),[q,Q]=S.useState(null),ne=({text:J})=>{const oe=J.replace(/^\s*:\s*/,"").trim(),de=S.useMemo(()=>Ise(oe),[oe]),pe=`outer:${oe}`,ye=q===pe;return de?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(ye?null:pe),className:"inline-flex cursor-pointer",title:de,children:g.jsx(X,{text:J,color:"blue"})}),ye&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:de})]}):g.jsx(X,{text:J,color:"blue"})},ue=({text:J})=>{const oe=J.trim(),de=S.useMemo(()=>Bse(oe),[oe]),pe=`mulsang:${oe}`,ye=q===pe;return de?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(ye?null:pe),className:"inline-flex cursor-pointer",title:de,children:g.jsx(X,{text:J,color:"green"})}),ye&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:de})]}):g.jsx(X,{text:J,color:"green"})},se=({text:J})=>{const oe=J.trim(),de=S.useMemo(()=>Gse(oe),[oe]),pe=`structure:${oe}`,ye=q===pe;return de?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(ye?null:pe),className:"inline-flex cursor-pointer",title:de,children:g.jsx(X,{text:J,color:"red"})}),ye&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:de})]}):g.jsx(X,{text:J,color:"red"})},B=({text:J,color:oe})=>{const de=J.trim(),pe=de.split(":")[0]?.trim()??de,ye=S.useMemo(()=>Yse(pe),[pe]),re=`term:${pe}`,je=q===re;return ye?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(je?null:re),className:"inline-flex cursor-pointer",title:ye,children:g.jsx(X,{text:J,color:oe})}),je&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ye})]}):g.jsx(X,{text:J,color:oe})},K=({text:J})=>{const oe=S.useMemo(()=>Xse(J),[J]),de=`naegyeok:${J}`,pe=q===de;return oe?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(pe?null:de),className:"inline-flex cursor-pointer",title:oe.text,children:g.jsx(X,{text:J,color:"amber"})}),pe&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):g.jsx(X,{text:J,color:"amber"})},ie=({token:J,fallback:oe,idx:de})=>{const pe=Jse(J),ye=pe?.title??oe,re=pe?.text??oe,je=`reason:${J.kind}:${"from"in J?J.from:""}:${de}`,Ne=q===je;return g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>Q(Ne?null:je),className:"inline-flex cursor-pointer",title:re,children:g.jsx(X,{text:ye,color:"amber"})}),Ne&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:re})]})};return g.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${F.join(",")}|${Y.join(",")}`,children:[g.jsx("div",{className:"font-bold text-base",children:"   "}),g.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),g.jsxs("ul",{className:"space-y-1",children:[g.jsx(Z,{children:$.map(J=>g.jsx(B,{text:J,color:"violet"},J))}),g.jsx(Z,{children:F.map(J=>g.jsx(K,{text:J},J))}),g.jsx(Z,{children:Y.map(J=>g.jsx(ne,{text:J},J))}),g.jsx(Z,{children:H.map(J=>g.jsx(ue,{text:J},J))}),g.jsx(Z,{children:V.map(J=>g.jsx(se,{text:J},J))})]}),M.length>0?g.jsxs("div",{className:"mt-2",children:[g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),g.jsx("div",{className:"mt-1",children:g.jsx(Z,{children:M.map((J,oe)=>g.jsx(ie,{token:J,fallback:P[oe]??J.kind,idx:oe},`${J.kind}-${oe}`))})})]}):C.reason.length>0?g.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",C.reason.join(" / ")]}):null]})}const ele=Object.fromEntries(Ka..map((e,t)=>[e,Hr[t]])),tle=Object.fromEntries(Hr.map((e,t)=>[e,Ka.[t]])),nle=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),rle=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),ile=e=>ele[e]??e,ale=e=>nle[e]??e,ole=e=>tle[e]??e,sle=e=>rle[e]??e;function lle(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?ile(n):ole(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function EA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?ale(n):sle(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const cle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ule={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},j6={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},dle={...j6,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},QD=lle(cle),eP=EA(ule);EA(j6);EA(dle);const fle=["","","","",""];function hle(){const[e,t]=S.useState("   "),[n,r]=S.useState(""),[i,a]=S.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const mle={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},ple={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function O6(e){const t=ple[e]??"";return mle[t]}const gle=Object.fromEntries(Ka..map((e,t)=>[e,Hr[t]])),ble=Object.fromEntries(Hr.map((e,t)=>[e,Ka.[t]])),yle=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),vle=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),xle=e=>gle[e]??e,_le=e=>yle[e]??e,wle=e=>ble[e]??e,Sle=e=>vle[e]??e;function N6(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${xle(r)}${_le(i)}`:`${wle(r)}${Sle(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const C6={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Ele={...C6,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},kle=N6(C6),Ale=N6(Ele),Tle={:"",:"",:"",:"",:""},jle={:"",:"",:"",:"",:""},Ole={:"",:"",:"",:"",:""},Nle={:"",:"",:"",:"",:""},Cle=e=>Bn[e]??e,Mle=e=>Kn[e]??e;function M6(e){return!e||e.length<2?"":`${Cle(e[0])}${Mle(e[1])}`}const D6=e=>e&&e.length>=1?e[0]:"",P6=e=>e&&e.length>=2?e[1]:"";function R6(e){return{:e,:Tle[e],:jle[e],:Ole[e],:Nle[e]}}const L6={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Dle(e,t){const n=(e??[]).slice(0,4).map(M6);if(n.length!==4||n.some(b=>b.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=D6(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(b=>P6(b)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=L6[r]??[],u=a[1];l.includes(u)&&(o..=!0,o..=!0);const d=a[2];l.includes(d)&&(o..=!0,o..=!0);const h=R6(i).,p=t[h]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function I6(e,t){const n=(e??[]).slice(0,4).map(M6);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const E={:!1,:!1,:!1};return{flags:{:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E}},monthBranch:"",dayEl:""}}const r=D6(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(E=>P6(E)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=L6[r]??[],d=a[1];u.includes(d)&&(l..=!0,l..=!0,l..=!0,l..=!0);const h=a[2];u.includes(h)&&(l..=!0,l..=!0,l..=!0,l..=!0);const p=R6(i).;return(t[p]??0)>=30&&(l..=!0,l..=!0,l..=!0,l..=!0),{flags:l,monthBranch:d,dayEl:i}}const Ple=Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e])),Rle=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),Lle=e=>Bn[e]??e,Ile=e=>Kn[e]??e;function $le(e){return!e||e.length<2?"":`${Lle(e[0])}${Ile(e[1])}`}function Pc(e){return QD[e]??QD[Ple[e]??""]}function Rc(e){return eP[e]??eP[Rle[e]??""]}const s1=["year","month","day","hour"],Ble={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},zle={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Ule=new Set(["","","","",""]),Fle=new Set(["","","","","",""]),Hle=new Set(["","","",""]),l1=e=>Ule.has(e)?"":"",c1=e=>{const t=Fle.has(e)?"":"";return Hle.has(e)?t===""?"":"":t};function tP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Gle(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const D0={:.15,:.1,:-.15,:-.2,:-.25},vs={:"",:"",:"",:"",:""},cu={:"",:"",:"",:"",:""},Ao={:"",:"",:"",:"",:""},Cv={:"",:"",:"",:"",:""};function P0(e,t){return e===t?"":vs[t]===e?"":vs[e]===t?"":Ao[e]===t?"":Ao[t]===e?"":""}const Lc=e=>e&&e.length>=1?e[0]:"",Ic=e=>e&&e.length>=2?e[1]:"";function qle(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function nP(e,t){switch(e){case"":return t;case"":return vs[t];case"":return Ao[t];case"":return Cv[t];case"":return cu[t];default:return t}}const rP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Yle=["","","","",""],Kle={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},iP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Wle={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Vle(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Zle(e){const t=Yle.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...iP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Kle},PerTenGodSub:{...iP},elementScoreRaw:e,deukFlags:{...Wle},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function Xle(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function VE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Ble:zle,d=r==="classic"?Ale:kle,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map($le);if(!Vle(b))return Zle(h);const{dayStem:x,dayEl:E}=Xle(b,n),_=[{val:0},{val:0},{val:0},{val:0}],w=[[],[],[],[]];for(const B of b){if(!B)continue;const K=B.charAt(0),ie=B.charAt(1);p[K]=(p[K]??0)+50;const J=rP[ie];J&&(p[J]=(p[J]??0)+50)}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=s1[B],J=Lc(K),oe=Ic(K),de=u[ie],pe=Pc(J);pe&&(h[pe]+=de.stem,_[B]={stem:J,el:pe,pol:l1(J),val:de.stem});const ye=Rc(oe);ye&&(h[ye]+=de.branch,w[B].push({el:ye,pol:c1(oe),val:de.branch}))}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=s1[B],J=d[K]??0;if(J===0)continue;const oe=Lc(K),de=Pc(oe);if(!de)continue;const pe=u[ie].stem*J;h[de]+=pe,_[B].val+=pe}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Ic(K),J=Rc(ie);if(!J)continue;const oe=u[s1[B]].branch,de=c1(ie);let pe=0;const ye=[B];B-1>=0&&ye.push(B-1),B+1<=3&&ye.push(B+1),B-2>=0&&ye.push(B-2),B+2<=3&&ye.push(B+2);const re=Array.from(new Set(ye));for(const je of re){if(!b[je]||b[je].length<2)continue;const Ne=Lc(b[je]),ve=Pc(Ne);if(!ve||ve!==J)continue;const Ze=l1(Ne)===de,Ce=Math.abs(je-B),_e=Gle(Ce,Ze);pe+=oe*_e}pe!==0&&(h[J]+=pe,w[B].push({el:J,pol:de,val:pe}))}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Lc(K),J=Pc(ie);if(!J)continue;let oe=0;const de=Ic(b[B]),pe=Rc(de);pe&&(oe+=D0[P0(J,pe)]);const ye=B===0?[1]:B===3?[2]:[B-1,B+1];for(const je of ye){const Ne=Lc(b[je]),ve=Pc(Ne);ve&&(oe+=D0[P0(J,ve)])}const re=_[B].val;if(re!==0&&oe!==0){const je=Math.round(re*(1+oe)*10)/10,Ne=je-re;h[J]+=Ne,_[B].val=je}}for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Ic(K),J=Rc(ie);if(!J)continue;let oe=0;const de=Lc(b[B]),pe=Pc(de);pe&&(oe+=D0[P0(J,pe)]);const ye=B===0?[1]:B===3?[2]:[B-1,B+1];for(const je of ye){if(!b[je]||b[je].length<2)continue;const Ne=Ic(b[je]),ve=Rc(Ne);ve&&(oe+=D0[P0(J,ve)])}const re=w[B].reduce((je,Ne)=>je+Ne.val,0);if(re!==0&&oe!==0){const Ne=Math.round(re*(1+oe)*10)/10-re;h[J]+=Ne,w[B].length>0&&(w[B][0].val+=Ne)}}a&&oie(b,h);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!l||l.tab==="")){let B=function(K,ie){const J=K?Re(K):"";if(!J||J.length<2)return;const oe=Lc(J),de=Ic(J),pe=Pc(oe),ye=Rc(de),re=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),je=T[ie];if(pe){const Ne=Math.round(re*je.stem);h[pe]+=Ne,N.push({stem:oe,el:pe,pol:l1(oe),val:Ne})}if(ye){const Ne=Math.round(re*je.branch);h[ye]+=Ne,N.push({el:ye,pol:c1(de),val:Ne})}};B(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&B(l.se,"se"),(l.tab===""||l.tab==="")&&B(l.wol,"wol"),l.tab===""&&B(l.il,"il")}const j={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,K])=>{const ie=Y(B,E);j[ie]+=K});const C=["","","","",""],M=tP(C.map(B=>j[B])),P=O6(x),$=C.map((B,K)=>({name:B,value:M[K],color:P[B]})),F={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Y(B,K){return B===K?"":vs[K]===B?"":Ao[K]===B?"":Ao[B]===K?"":cu[K]===B?"":""}function W(B,K){switch(Y(B,E)){case"":F.+=K*.5,F.+=K*.5;break;case"":F.+=K*.5,F.+=K*.5;break;case"":F.+=K*.5,F.+=K*.5;break;case"":F.+=K*.5,F.+=K*.5;break;case"":F.+=K*.5,F.+=K*.5;break}}Object.entries(h).forEach(([B,K])=>{K>0&&W(B,K)});const H={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of C){const K=$.find(ye=>ye.name===B)?.value??0,ie=H[B].a,J=H[B].b,oe=F[ie]??0,de=F[J]??0,pe=oe+de;if(pe>0){const ye=Math.floor(K*oe/pe+.5),re=K-ye;H[B].aVal=ye,H[B].bVal=re}else H[B].aVal=Math.floor(K/2+.5),H[B].bVal=K-H[B].aVal}const{flags:z}=Dle(b,h),V={};_.forEach(B=>{if(B.stem&&B.el&&B.val){const K=`${B.stem}${B.el}`;V[K]=(V[K]??0)+B.val}});for(let B=0;B<4;B++){const K=b[B];if(!K||K.length<2)continue;const ie=Ic(K),J=rP[ie],oe=Rc(ie);if(!J||!oe)continue;const de=`${J}${oe}`,pe=w[B].reduce((ye,re)=>ye+re.val,0);V[de]=(V[de]??0)+pe}const X=["","","","","","","","","",""],Z={};X.forEach(B=>{Z[B]=0}),C.forEach(B=>{const K=$.find(re=>re.name===B)?.value??0,ie=nP(B,E),J=Object.entries(V).filter(([re])=>re.endsWith(ie)),oe=J.map(([re])=>re),de=J.map(([,re])=>re),pe=Math.max(0,Math.round(K*10)),ye=qle(de.length?de:[1,1],pe);if(oe.length===2)Z[oe[0]]=(ye[0]??Math.round(pe/2))/10,Z[oe[1]]=(ye[1]??pe-(ye[0]??0))/10;else if(oe.length===1)Z[oe[0]]=pe/10;else{const re=ie===""?["",""]:ie===""?["",""]:ie===""?["",""]:ie===""?["",""]:["",""],je=Math.floor(pe/2),Ne=pe-je;Z[re[0]]+=je/10,Z[re[1]]+=Ne/10}});const q=["","","","",""],Q={:0,:0,:0,:0,:0};for(const B of $){const K=nP(B.name,E);Q[K]+=B.value}const ne=tP(q.map(B=>Q[B])),ue={:ne[0],:ne[1],:ne[2],:ne[3],:ne[4]};return i&&console.log({elementScore:h,totals:$,perTenGod:H,perStemRaw:V,perStemElementScaled:Z,elementPercent100:ue}),{overlay:{totalsSub:F,perStemAugBare:V,perStemAugFull:Z},totals:$,perTenGod:H,PerTenGodSub:F,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:V,perStemElementScaled:Z,elementPercent100:ue}}const R0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jle=["","","","",""];function aP(e){return Jle.includes(e)}const Qle={:"",:"",:"",:"",:""},ece={:"",:"",:"",:"",:""},tce={:"",:"",:"",:"",:""},nce={:"",:"",:"",:"",:""},ZE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rce=["","","","","","","","","",""],ice={natal:50,dae:30,se:20,wol:7,il:3};function sy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Bn[t])return Bn[t];if(["","","","","","","","","","","",""].includes(t))return R0[t]??null;if(Kn[t])return R0[Kn[t]]??null;const n=t.charAt(0);return Bn[n]?Bn[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?R0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?R0[n]??null:null}function ace(e,t){const n=ZE[e],r=ZE[t];if(!n||!r)return"";let i;r===n?i="":r===Qle[n]?i="":r===ece[n]?i="":r===tce[n]?i="":r===nce[n]?i="":i="";const a=aP(e)===aP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function ly(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function oP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=sy(r);if(!a)continue;const o=ace(t,a);n[o]+=i}return ly(n)}function oce(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function sP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=sy(n);i&&(t[i]=(t[i]??0)+r)}return t}function lP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of rce){const i=ZE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function cP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function sce(e,t){const n=t?.dae?L0(t.dae):{},r=t?.se?L0(t.se):{},i=t?.wol?L0(t.wol):{},a=t?.il?L0(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const p=ice[d];if(!h||Object.keys(h).length===0)continue;const b=ly(h);for(const[x,E]of Object.entries(b))o[x]=(o[x]??0)+E*p}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function lce(e){if(!e)return[];const t=sy(e.charAt(0)),n=sy(e.charAt(1));return[t,n].filter(Boolean)}function L0(e){const t=lce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Mv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Jc,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},p=VE({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=VE({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),x=sP(p.perStemElementScaled),E=n===""?x:sce(x,r),_=ly(E),w=oP(E,o),T=oce(w),N=lP(_),j=sP(b.perStemElementScaled),C=oP(j,o),M=ly(j),P=lP(M);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:_,perTenGodSub:w,perTenGod:T,overlay:{totalsSub:w,perStemAugBare:E,perStemAugFull:N},natalFixed:{elementScoreRaw:cP(b.elementScoreRaw),elementPercent100:cP(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:j,perStemAugFull:P}}}}const bo=["","","","",""],Ll={:0,:0,:0,:0,:0},cce=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],uce={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},u1=24,dce=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],cy=20;Object.fromEntries(Object.entries(Bn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));const $6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function B6(e){return Math.max(0,Math.min(100,e))}function Wd(e,t,n){return Math.max(t,Math.min(n,e))}function hce(e){const t=B6(e);return cce.find(n=>t>=n.min&&t<n.max)?.name??""}function mce(e){const t=e?.[2]?.charAt(0)??"";return $6[t]??null}function pce(e){return(e?.[1]?.charAt(1)??"")||null}function z6(e){return Cv[e]}function gce(e){return e?{peer:e,resource:cu[e],leak:vs[e],wealth:Ao[e],officer:z6(e)}:null}function bce(e){const t={...Ll};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=$6[r],o=fce[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function yce(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Ll};return bo.forEach(r=>{n[r]=e[r]/t*100}),n}function vce(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return B6((n("")+n(""))/t*100)}function xce(e,t){return!e||!t?null:t===e?"":vs[e]===t?"":Ao[e]===t?"":z6(e)===t?"":cu[e]===t?"":null}function _ce(e){for(const[t,n]of dce)if(e>=t)return n;return 1}const uP=(e,t)=>Wd((cy-(t[e]??0))/cy,0,1),dP=(e,t)=>Wd(((t[e]??0)-cy)/cy,0,1);function wce(e,t,n,r){const i=xce(e,n);if(!e||!i)return 0;const a=Wd((50-t)/50,0,1),o=Wd((t-50)/50,0,1),l=uP(n,r),u=dP(n,r),d=uP(e,r),h=dP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function Sce(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Ll};if(r){const o=vs[e],l=Ao[e],u=Cv[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=cu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function fP(e,t){if(!e)return{...Ll};const n=uce[e]??{temp:"mild",wet:"normal"},r={...Ll};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function hP(e,t){const n={...Ll};for(const r of bo){const i=Ao[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=vs[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function mP(e,t){const n={...Ll},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const I0=()=>new Map(bo.map(e=>[e,[]]));function Vd(e,t){const n=mce(e),r=pce(e),i=bce(e),a=yce(i);let o=vce(t);if(o==null)if(!n)o=50;else{const H=n,z=cu[n],V=Object.values(i).reduce((X,Z)=>X+Z,0)||1;o=Math.min(100,Math.max(0,((i[H]??0)+(i[z]??0))/V*100))}const l=hce(o),u={...Ll},d=I0();if(n){const H=Sce(n,l,d);bo.forEach(z=>{u[z]+=H[z]??0})}const h=fP(r,d);bo.forEach(H=>{u[H]+=h[H]??0});const p=hP(i,d);bo.forEach(H=>{u[H]+=p[H]??0});const b=mP(i,d);bo.forEach(H=>{u[H]+=b[H]??0});const x=gce(n),E={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)E[H.name]=H.value;if(o>=45&&o<=55&&x){const H=E.>=30||E.>=Math.max(E.,E.,E.,E.)+5;o<=50?(u[x.resource]+=14,d.get(x.resource)?.push(": -"),u[x.peer]+=10,d.get(x.peer)?.push(": -"),u[x.leak]+=6,d.get(x.leak)?.push(": -"),u[x.wealth]+=3,d.get(x.wealth)?.push(": -"),H&&(u[x.officer]=Math.round(u[x.officer]*.8*10)/10,d.get(x.officer)?.push(":   "))):(u[x.leak]+=14,d.get(x.leak)?.push(": -"),u[x.wealth]+=10,d.get(x.wealth)?.push(": -"),u[x.officer]+=6,d.get(x.officer)?.push(": -"),u[x.resource]+=3,d.get(x.resource)?.push(": -"))}bo.forEach(H=>{const z=wce(n,o,H,a);u[H]=Wd(Math.round((u[H]+z)*10)/10,0,999)});const w=o<50;bo.forEach(H=>{const z=a[H]??0,V=w&&n===H;if(z>=u1&&!V){const X=_ce(z);u[H]=Math.round(u[H]*X*10)/10;const Z=Math.min(14,Math.max(0,Math.ceil((z-u1)*.5)));Z>0&&(u[H]=Wd(u[H]-Z,0,999)),d.get(H)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const H=vs[n],z=Ao[n],V=Cv[n],X=n,Z=cu[n];T[H].push(""),T[z].push(""),T[V].push(""),T[X].push(""),T[Z].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},j=H=>{const z=a[H]??0;return z>=u1&&!(w&&n===H)?z>=55?4:z>=45?3:2:N[H]?0:1},C=fP(r,I0()),M=hP(i,I0()),P=mP(i,I0()),$=bo.map(H=>({element:H,score:Math.round(u[H]*10)/10,via:Ece(H,C,M,P),reasons:(d.get(H)??[]).slice(),tenGodHints:T[H]})).sort((H,z)=>{const V=j(H.element),X=j(z.element);return V!==X?V-X:z.score!==H.score?z.score-H.score:H.element.localeCompare(z.element)}),F=kce(l,C,M,P),Y={:0,:0,:0,:0,:0},W=t?t.reduce((H,z)=>(H[z.name]=z.value,H),{...Y}):void 0;return{chosenType:F,ordered:$,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:W,monthBranch:r??void 0}}}function Ece(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function kce(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Ace(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const pP=["","","","",""];function Tce(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=VE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=pP.map(l=>r[l]??0),a=Ace(i),o={:0,:0,:0,:0,:0};return pP.forEach((l,u)=>{o[l]=a[u]}),o}function U6(e,t){const n=Tce(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const Zd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},F6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},jce=["","","","",""];function gP(e){return jce.includes(e)}const Oce={:"",:"",:"",:"",:""},Nce={:"",:"",:"",:"",:""},Cce={:"",:"",:"",:"",:""},Mce={:"",:"",:"",:"",:""};function Pm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Bn[t])return Bn[t];if(["","","","","","","","","","","",""].includes(t))return $0[t]??null;if(Kn[t])return $0[Kn[t]]??null;const n=t.charAt(0);return Bn[n]?Bn[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?$0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?$0[n]??null:null}function Dce(e,t){const n=Zd[e],r=Zd[t];if(!n||!r)return"";let i;r===n?i="":r===Oce[n]?i="":r===Nce[n]?i="":r===Cce[n]?i="":r===Mce[n]?i="":i="";const a=gP(e)===gP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Pce(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Dv(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function Rce(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Zd[Pm(n)];i&&r>0&&(t[i]+=r)}return Dv(t)}function Lce(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Pm(r);if(!a)continue;const o=Dce(t,a);n[o]+=i}return n}function Ice(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Pce(n);t[i]+=r}return Dv(t)}function bP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function H6(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Zd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=F6[i.charAt(1)];o&&(r[o]=!0)}}return r}function G6(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Zd[n.charAt(0)],i=F6[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function d1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const $ce=["","","","","","","","","",""];function Bce(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Pm(n);i&&(t[i]=(t[i]??0)+r)}return t}function zce(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of $ce){const i=Zd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Uce={natal:50,dae:30,se:20,wol:7,il:3};function Fce(e){const t={};for(const{kind:r,bare:i}of e){const a=Uce[r]??0;if(a<=0)continue;const o=Dv(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Hce(e){if(!e)return[];const t=Pm(e.charAt(0)),n=Pm(e.charAt(1));return[t,n].filter(Boolean)}function B0(e){const t=Hce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const XE=["","","","",""];function Gce(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function qce(e,t){const n=XE.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function kA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Yce(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function yP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Kce(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,d=null;if(yP(i)===a)u=i,d=a;else if(yP(a)===i)u=a,d=i;else continue;const h=Yce(u),p=`${u}()${d}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:d,mediator:h,reason:p})}return r}function AA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Fh(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function Hh(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Wce(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(d=>({element:d.el,elNorm:d.el,score:AA(d.base,t[d.el]??0),reasons:[d.why,` ${d.el}  ${Math.round(t[d.el]??0)}%`]}))}function Vce(e){const t=Kce(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:AA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Zce(e,t){let n="",r=e.??0;for(const d of XE){const h=e[d]??0;h<r&&(r=h,n=d)}const i=XE.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=AA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function TA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=Hh(Fh(t,i,a),i,a),u=Hh(Fh(Wce(n,r),i,a),i,a),d=Gce(n),h=qce(r,i),p=d==="WINTER"||d==="SUMMER"?.85:.55,b=1.25,x=Vce(r),E=Hh(Fh(x.items,i,a),i,a),_=Zce(r,i),w=Hh(Fh(_.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,j=Hh(Fh(T,i,a),i,a),C=z=>Math.max(0,...z.map(V=>Number.isFinite(V.score)?V.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:d==="WINTER"?"2. ()   ":d==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:x.applicable,note:x.note,candidates:E},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:_.applicable,note:_.note,candidates:w},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:j}].map(z=>{const V=C(z.candidates),X=z.candidates[0];let Z=0;if(z.applicable&&X){if(Z=X.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const q=Math.min(35,Math.round(h.spread*.9));Z+=q}z.kind==="EOKBU"&&h.balancedPresent&&(Z*=.75),X.elNorm&&!i[X.elNorm]&&(Z*=.25)}return{...z,maxScore:V,fitScore:Math.round(Z),finalScore:Math.round(Z)}}).sort((z,V)=>z.priority-V.priority),$=[...P].filter(z=>z.applicable&&z.candidates.length>0).sort((z,V)=>V.fitScore!==z.fitScore?V.fitScore-z.fitScore:z.priority-V.priority)[0],F=Math.max(0,...P.map(z=>z.fitScore)),Y=$?.kind??null,W=P.map(z=>{if(!Y)return z;if(z.kind===Y){const V=z.fitScore<F?F+1:z.fitScore;return{...z,finalScore:V}}return{...z,finalScore:z.fitScore}}),H=Y?W.find(z=>z.kind===Y)??null:null;return{bestKind:Y,best:H,groups:W}}const Xce={:"",:"",:"",:"",:""},Jce={:"",:"",:"",:"",:""},Qce={:"",:"",:"",:"",:""},eue={:"",:"",:"",:"",:""};function f1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function tue(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function nue(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function rue(e,t){switch(t){case"":return e;case"":return Xce[e];case"":return Qce[e];case"":return eue[e];case"":return Jce[e]}}function iue(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:d,reasons:[h]});return}p.score=Math.max(p.score,d),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=f1(t),a=tue(e.);if(i&&a){const u=nue(a),d=rue(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=f1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=f1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const Gh=e=>e&&e.length>=1?e.charAt(0):"",z0=e=>e&&e.length>=2?e.charAt(1):"";function aue(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function oue({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=fi(),h=S.useMemo(()=>Re(l),[l]),p=S.useMemo(()=>Re(u),[u]),b=S.useMemo(()=>Re(d),[d]),x=yu(e,e?.mingSikType),E=S.useMemo(()=>{if(!x?.length)return 0;const _e=x.findIndex((Oe,Ie)=>{const Ve=x[Ie+1]?.at;return o>=Oe.at&&(!Ve||o<Ve)});return _e!==-1?_e:o<x[0].at?0:x.length-1},[x,o]),_=S.useMemo(()=>{const _e=r??x?.[E]?.gz??"";return Re(_e)||null},[r,x,E]),{manualHour:w}=rp(),T=e.mingSikType??"/",N=S.useMemo(()=>bP(t),[t]),j=S.useMemo(()=>bP(n),[n]),C=S.useMemo(()=>{const _e=[...N];return(!_e[3]||_e[3]===""||_e[3]==="--")&&w&&(_e[3]=w.stem+w.branch),_e},[N,w]),M=S.useMemo(()=>{const _e=[...j];return(!_e[3]||_e[3]===""||_e[3]==="--")&&w&&(_e[3]=w.stem+w.branch),_e},[j,w]),P=S.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),Oe=Number(e.birthDay?.slice(4,6)),Ie=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(Oe)||!Number.isFinite(Ie))return null;const Ve=new Date(_e,Oe-1,Ie,12,0,0,0),yt=Re(it(Ve)||""),xt=Re(_t(Ve)||""),Dt=Re(ht(Ve,T)||"");return[yt,xt,Dt,""]},[e.birthDay,T]),$=d1(C),F=d1(M),W=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?F?"lunar":$?"solar":"lunar":$?"solar":F?"lunar":"solar",H=S.useMemo(()=>{const Oe=[...W==="lunar"?F?M:$?C:P??["","","",""]:$?C:F?M:P??["","","",""]];return(!Oe[3]||Oe[3]===""||Oe[3]==="--")&&w&&(Oe[3]=w.stem+w.branch),Oe[3]==="--"&&(Oe[3]=""),Oe},[W,$,F,C,M,P,w]),z=S.useMemo(()=>Gh(H[2]??""),[H]),V=S.useMemo(()=>z0(H[1]??""),[H]),X=S.useMemo(()=>aue(e.birthDay),[e.birthDay]),Z=S.useMemo(()=>w?w.stem+w.branch:H[3]||"",[w,H]),q=S.useMemo(()=>({dae:i!==""?_??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,_,h,p,b]),Q=S.useMemo(()=>Mv({natal:H,tab:i,chain:q,hourKey:Z}),[H,i,q,Z]),ne=S.useMemo(()=>{if(!Q)return null;const _e=Bce(Q.perStemElementScaled),Oe=q.dae?B0(q.dae):{},Ie=q.se?B0(q.se):{},Ve=q.wol?B0(q.wol):{},yt=q.il?B0(q.il):{},xt=Fce([{kind:"natal",bare:_e},{kind:"dae",bare:Oe},{kind:"se",bare:Ie},{kind:"wol",bare:Ve},{kind:"il",bare:yt}]),Dt=Dv(xt),he=zce(Dt),De=Lce(xt,Q.dayStem),Be=Ice(De),lt=Rce(xt);return{perStemAugBare:xt,perStemAugFull:he,elemPct100:lt,totalsMain:Be,totalsSub:De}},[Q,q]),ue=S.useMemo(()=>H6(H,{includeBranches:!0}),[H]),se=S.useMemo(()=>["","","","",""].some(_e=>!ue[_e]),[ue]),B=ne?.elemPct100??Q?.elementPercent100??G6(H),K=S.useMemo(()=>{if(!Q||!ne)return[];const _e=O6(Q.dayStem);return Object.entries(ne.totalsMain).map(([Oe,Ie])=>({name:Oe,value:Ie,color:_e[Oe]}))},[Q,ne]),ie=ne?.elemPct100??{:0,:0,:0,:0,:0},J=ne?.totalsSub??null,oe=S.useMemo(()=>[i,_??"",h??"",p??"",b??"",o?.toISOString?.()??"",Z].join("|"),[i,_,h,p,b,o,Z]),de=S.useMemo(()=>{const _e=J?Object.entries(J).sort(([Ie],[Ve])=>Ie.localeCompare(Ve)).map(([Ie,Ve])=>`${Ie}:${Ve}`).join(","):"none",Oe=K.map(Ie=>`${Ie.name}:${Ie.value}`).join(",");return`${oe}||${H.join("")}||${Oe}||${_e}`},[oe,H,K,J]),pe=typeof Vd=="function"?Vd(H,Q?.totals):null,ye=S.useMemo(()=>(pe?.ordered??[]).map(Oe=>{const Ie=Oe.element??"",Ve=/||wood/i.test(Ie)?"":/||fire/i.test(Ie)?"":/||earth/i.test(Ie)?"":/||metal/i.test(Ie)?"":/||water/i.test(Ie)?"":null,yt=typeof Oe.score=="number"?Oe.score:Ve?B[Ve]??0:0,xt=Array.isArray(Oe.reasons)?Oe.reasons:[];return{element:Ie,elNorm:Ve,score:yt,reasons:xt}}),[pe,B]),re=S.useMemo(()=>ye.map(_e=>({element:_e.element,elNorm:_e.elNorm,score:_e.score,reasons:_e.reasons})),[ye]),je=S.useMemo(()=>{if(!z||!V)return[];const[_e,Oe,Ie,Ve]=H,yt=[Gh(_e),Gh(Oe),Gh(Ie),Gh(Ve)].filter(Boolean),xt=[z0(_e),z0(Ie),z0(Ve)].filter(Boolean),Dt=T6({dayStem:z,monthBranch:V,date:X,pillars:H,emittedStems:yt,otherBranches:xt}),he=iue(Dt,z),De=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(he??[]).map(Be=>({element:Be.element,elNorm:De(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[H,z,V,X]),Ne=S.useMemo(()=>{const _e=H[1]||"";return TA({eokbuList:re,monthGz:_e,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:je})},[H,re,B,ue,a,je]),ve=S.useMemo(()=>{const _e=Ne.best;return _e?.candidates?.length?_e.candidates.map(Oe=>({element:Oe.element,elNorm:Oe.elNorm,score:Oe.score,reasons:Oe.reasons})):ye},[Ne,ye]),Ze=S.useMemo(()=>Math.max(0,...ve.map(_e=>Number.isFinite(_e.score)?_e.score:0)),[ve]),Ce=S.useMemo(()=>U6(H,{criteriaMode:"modern",useHarmonyOverlay:!0}),[H]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:_,activePillars:H,chain:q,unified:Q,overlay:ne,chartData:K,elementPct:ie,tenSubTotals100:J,hourKeyForUi:Z,revKey:de,yongshinMulti:Ne,yongshinRecommend:Ne,yongshinList:ve,maxScore:Ze,hasAbsent:se,dayElementPercent:Ce,isValidActive:d1(H)}}function sue(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function lue(e){const t=new Date(e,1,15,12,0,0,0);return Re(it(t)||"")}function cue(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=kA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const uue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function uy(e){return uue[e]??null}function due(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=SA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=uy(a);if(l&&(n[l]=!0),wA(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const p=uy(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function fue(e,t){const n=SA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=uy(l);if(d&&(r[d]+=50),wA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((E,_)=>E+(Number.isFinite(_.w)?_.w:0),0),x=b>0?b:1;for(const E of p){const _=uy(E.stem);_&&(r[_]+=50*E.w/x)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function hue(e,t,n){return e||fue(t,n)}function mue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=S.useMemo(()=>E6(o),[o]),u=yu(t,t?.mingSikType),d=S.useMemo(()=>Array.isArray(u)?u.filter(sue).slice(0,10):[],[u]),[h,p]=S.useState(0),[b,x]=S.useState(0),E=Math.max(0,Math.min(d.length-1,h)),_=d[E]??null,w=S.useMemo(()=>{if(!_)return[];const Y=_.at.getFullYear();return Array.from({length:10},(W,H)=>{const z=Y+H;return{year:z,gz:lue(z)}})},[_]),T=b==null?null:Math.max(0,Math.min(w.length-1,b)),N=T==null?null:w[T]??null,j=S.useMemo(()=>due(n,l),[n,l]),C=S.useMemo(()=>["","","","",""].some(Y=>!j[Y]),[j]),M=S.useMemo(()=>{const Y=_?Re(_.gz):null,W=N?Re(N.gz):null;return{dae:Y||null,se:W||null,wol:null,il:null}},[_,N]),P=S.useMemo(()=>M.se?"":"",[M.se]),$=S.useMemo(()=>{const Y=_?`${_.at.getFullYear()}~ ${Re(_.gz)}`:" -",W=N?` / ${N.year} ${Re(N.gz)}`:"";return`${Y}${W}`},[_,N]),F=S.useMemo(()=>{if(!_)return null;const Y=Mv({natal:n,tab:P,chain:M,hourKey:r}),W=hue(Y?.elementPercent100,n,l),H=typeof Vd=="function"?Vd(n,Y?.totals):null,z=cue(H,W);return TA({eokbuList:z,monthGz:n[1]||"",elemPct:W,presentMap:j,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[_,n,P,M,r,j,i,a,l]);return{daeIndex:E,setDaeIndex:p,seIndex:T,setSeIndex:x,dae10:d,se10:w,chain:M,tab:P,label:$,recommend:F,presentMap:j,hasAbsent:C}}const pue={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function JE(e){return e?pue[e]??e:""}function gue(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function bue(e){const t=new Date(e,1,15,12,0,0,0);return Re(it(t)||"")}function h1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?kA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${JE(r)}:${i}`:r?`${JE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function yue(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=kA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function vP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Mv({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??G6(t),h=typeof Vd=="function"?Vd(t,u?.totals):null,p=yue(h,d);return TA({eokbuList:p,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function vue(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const yo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function xP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`: ${JE(t.kind)}`,tone:"pick"}),g.jsx(yo,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(yo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`${i+1} ${r.element}`}),g.jsx(yo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(yo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function xue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=S.useMemo(()=>H6(n,{includeBranches:!0}),[n]),l=yu(t,t?.mingSikType),u=S.useMemo(()=>Array.isArray(l)?l.filter(gue).slice(0,10):[],[l]),d=S.useMemo(()=>h1(a),[a]),[h,p]=S.useState(null),b=_=>p(w=>w===_?null:_),x=S.useMemo(()=>u.map((_,w)=>{const T=Re(_.gz)||"",j=vP({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=h1(j),M=_.at.getFullYear(),P=Array.from({length:10},(H,z)=>{const V=M+z,X=bue(V),q=vP({pillars:n,hourKey:r,chain:{dae:T||null,se:X||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),Q=h1(q);return{year:V,snap:Q}}),F=vue(P).filter(H=>H.snap.top1ElNorm!==C.top1ElNorm),Y=C.top1ElNorm!==d.top1ElNorm,W=Y||F.length>0;return{idx:w,dae:_,daeLabel:`${M}~ ${T||""}`,daeSnap:C,daeDiffFromNatal:Y,segDiffOnly:F,hasAnyChange:W}}).filter(_=>_.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),E=S.useMemo(()=>x.some(_=>_.hasAnyChange),[x]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),E?g.jsx("div",{className:"space-y-3",children:x.map(_=>{const w=`dae:${_.idx}`,T=h===w;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:` ${_.daeLabel}`,tone:"base"}),g.jsx(yo,{text:` ${_.daeSnap.label} ( ${_.daeSnap.fit})`,tone:_.daeDiffFromNatal?"diff":"base",onClick:()=>b(w),title:" (top3) "}),_.daeDiffFromNatal?g.jsx(yo,{text:" ",tone:"diff"}):null]}),_.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_.segDiffOnly.map((N,j)=>{const C=`seg:${_.idx}:${j}`,M=h===C,P=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(yo,{text:` ${P}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),M?g.jsx(xP,{snap:N.snap}):null]},C)})}):null,T?g.jsx(xP,{snap:_.daeSnap}):null]},w)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function _ue(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function wue(e){return e.slice(0,3)}const ym=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return g.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function Sue({g:e,isBest:t}){const n=wue(e.candidates);return g.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[g.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:g.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),g.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&g.jsx(ym,{text:" "}),t&&g.jsx(ym,{text:" ",tone:"best"}),g.jsx(ym,{text:` ${e.fitScore}`})]})}),g.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):g.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),g.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:_ue(r.score??0,e.maxScore)},title:` ${r.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function Eue({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),g.jsx("div",{className:"text-sm font-semibold",children:e?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?g.jsx(ym,{text:`1: ${t.element}`}):null,e?.fitScore!=null?g.jsx(ym,{text:` ${e.fitScore}`}):null]}),e?.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function kue({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,l=mue({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  ()"}),l.hasAbsent?g.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),g.jsx(Eue,{best:o.best}),g.jsx("div",{className:"space-y-2",children:o.groups.map(u=>g.jsx(Sue,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),g.jsx(xue,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const _P=e=>e<10?`0${e}`:`${e}`;function Aue(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o),u=`${l.getFullYear()}${_P(l.getMonth()+1)}${_P(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Tue(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const jue=["  ","   ","","",""];function Oue(e){return e==="  "||e===""}function Nue({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=jn(p=>p.settings),a=hle(),o=Aue(e),l=Tue(o.birthDay)||void 0,u=on(p=>p.canUseAdvancedReportNow()),d=oue({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=S.useMemo(()=>"    100   ! (  )",[]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:fle.map(p=>g.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),g.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:jue.map(p=>{const b=!u&&Oue(p),x=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(b?"opacity-60 ":"")+(x?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,b?" ":""]},p)})}),a.bigTab===""&&g.jsx(zoe,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(Loe,{data:d.chartData,revKey:d.revKey,perStemElementScaled:d.overlay?.perStemAugFull,elementPercent:d.elementPct,dayStem:d.activePillars[2]?.charAt(0)??null},`pentagon-${d.revKey}`),g.jsx(Boe,{value:d.dayElementPercent}),g.jsx(Qoe,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(kue,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(Hoe,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(Qse,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const U0=e=>typeof e=="string"&&e.length>=2,Cue=e=>!Array.isArray(e)||e.length!==4?!1:U0(e[0])&&U0(e[1])&&U0(e[2])&&(e[3]===""||U0(e[3]));function Mue({data:e}){const[t,n]=S.useState("un"),r=on(u=>u.canUseMyoViewerNow());S.useEffect(()=>{t==="myoun"&&!r&&n("un")},[t,r]);const i=S.useMemo(()=>{try{const u=cp(e);return Pl(u)}catch{return new Date}},[e]),a=S.useMemo(()=>Nv(e,i),[e,i]),o=!e.birthTime||e.birthTime==="",l=S.useMemo(()=>{try{const u=it(a,e.birthPlace?.lon),d=_t(a,e.birthPlace?.lon),h=ht(a,e.mingSikType),p=o?"":Fa(a,e.mingSikType);return[u,d,h,p]}catch{return[]}},[a,e?.mingSikType,e?.birthPlace?.lon,o]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),r?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(Eoe,{data:e}),t==="myoun"&&r&&g.jsx(joe,{data:e}),t==="report"&&g.jsx(Nue,{data:e,pillars:Cue(l)?l:[]})]})}function Due({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=wr(C=>C.list.length),a=on(C=>C.canAddMyeongsik),[o,l]=S.useState(!1);S.useEffect(()=>{let C=!0;Me.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:M}=Me.auth.onAuthStateChange((P,$)=>{l(!!$?.user)});return()=>{C=!1,M.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,p=h?d.message:"",b=()=>{if(h){_o(p||"   ");return}t()},x=()=>{if(h){_o(p||"   ");return}n()},E=()=>{wo.getState().openWith("HEADER")},_=async()=>{const{error:C}=await Me.auth.signOut();if(C){console.error(C),_o("  ");return}_o(" ")},w="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",T="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",N="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",j="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(jV,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${w} ${h?j:T}`,children:[g.jsx(IV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:x,"aria-label":"  ",disabled:h,title:"  ",className:`${w} ${h?j:N}`,children:[g.jsx(PV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsxs("button",{type:"button",onClick:_,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:[g.jsx(E2,{size:16}),g.jsx("ins",{children:""})]}):g.jsx("button",{type:"button",onClick:E,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Pue(e){S.useEffect(()=>{const t=e??r$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");a$(t),e&&i$(e)},[e])}const q6=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Rue(e){return typeof e=="string"&&q6.includes(e)}function QE(e){const t=Array.isArray(e)?e.filter(Rue):[],n=q6.filter(r=>!t.includes(r));return[...t,...n]}function ek(e){return{...Jc,...e,sectionOrder:QE(e.sectionOrder)}}function Lue(e,t){return e.theme??t.theme??"dark"}function Iue({open:e,settings:t}){const n=S.useMemo(()=>QE(t.sectionOrder),[t.sectionOrder]),r=S.useMemo(()=>ek(t),[t]),[i,a]=S.useState(n),[o,l]=S.useState(r),[u,d]=S.useState(null),[h,p]=S.useState(!1);return S.useEffect(()=>{if(!e||h)return;const x=QE(t.sectionOrder);l({...ek(t),sectionOrder:x}),a(x),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(x,E)=>{l(_=>{const w={..._,[x]:E};return p(!0),w})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:p}}function $ue(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function Y6(e){i$(e)}function Bue({setSettings:e,saveToServer:t}){return{applyChanges:S.useCallback(async(r,i,a)=>{const o={...ek(r),sectionOrder:i};$ue(),e(o),o.theme&&Y6(o.theme),await t(!0),a()},[e,t])}}function zue({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=jn(),a=Iue({open:e,settings:n}),o=Bue({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=Lue(a.localSettings,n);Pue(u),S.useEffect(()=>{Y6(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:x,source:E}=b;if(!x||x.index===E.index)return;const _=Array.from(a.order),[w]=_.splice(E.index,1);_.splice(x.index,0,w),a.setOrder(_)},p=b=>{switch(b){case"theme":return g.jsx(Ca,{title:"",children:g.jsx(Uue,{value:a.localSettings.theme??"dark",onChange:x=>a.updateSetting("theme",x)})});case"hiddenStem":return g.jsx(Ca,{title:"  ",children:g.jsx(pd,{value:a.localSettings.hiddenStem,onChange:x=>a.updateSetting("hiddenStem",x),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Ca,{title:" ",children:g.jsx(pd,{value:a.localSettings.hiddenStemMode,onChange:x=>a.updateSetting("hiddenStemMode",x),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Ca,{title:"",children:g.jsx(pd,{value:a.localSettings.sinsalMode,onChange:x=>a.updateSetting("sinsalMode",x),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Ca,{title:"",children:g.jsx(pd,{value:a.localSettings.sinsalBase,onChange:x=>a.updateSetting("sinsalBase",x),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:x=>a.updateSetting("sinsalBloom",x)})});case"exposure":return g.jsx(Ca,{title:" ",children:g.jsx(pd,{value:a.localSettings.exposure,onChange:x=>a.updateSetting("exposure",x),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Ca,{title:" ",children:g.jsx(pd,{value:a.localSettings.charType,onChange:x=>a.updateSetting("charType",x),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.thinEum,onChange:x=>a.updateSetting("thinEum",x)})});case"visibility":return g.jsx(Ca,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(ho,{label:" ",checked:!!a.localSettings.showSipSin,onChange:x=>a.updateSetting("showSipSin",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:x=>a.updateSetting("showSibiUnseong",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:x=>a.updateSetting("showSibiSinsal",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showNabeum,onChange:x=>a.updateSetting("showNabeum",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:x=>a.updateSetting("showEtcShinsal",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:x=>a.updateSetting("showRelationBox",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:x=>a.updateSetting("showPromptBox",x)})]})});case"difficultyMode":return g.jsx(Ca,{title:" UP ver.",children:g.jsx(ho,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:x=>a.updateSetting("difficultyMode",x)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&g.jsx(op,{onDragEnd:h,children:g.jsx(mf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((x,E)=>g.jsx(hf,{draggableId:x,index:E,children:_=>g.jsxs("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(x)})]})},x)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(R4,{message:a.toastMessage,onClose:l,ms:1800})]})}function Uue({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Ca({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function pd({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function ho({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function Fue({onShowToday:e,onShowCouple:t,onShowFaq:n}){const[r,i]=S.useState(!1),[a,o]=S.useState(!1),[l,u]=S.useState(!1),[d,h]=S.useState(!1);S.useEffect(()=>{let T=!0;Me.auth.getSession().then(({data:j})=>{T&&h(!!j.session?.user)});const{data:N}=Me.auth.onAuthStateChange((j,C)=>{h(!!C?.user)});return()=>{T=!1,N.subscription.unsubscribe()}},[]);const p=d;S.useEffect(()=>{!p&&l&&u(!1)},[p,l]);const b=()=>{wo.getState().openWith("BOTTOM_NAV")},x=async()=>{if(!a){o(!0);try{const{error:T}=await Me.auth.signOut();if(T)throw T;window.location.reload()}catch(T){console.error(T),alert(" .  ."),o(!1)}}},E="var(--bottom-dock, 0px)",_="env(safe-area-inset-bottom, 0px)",w={bottom:E,height:`calc(64px + ${_})`,paddingBottom:_};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:w,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(gd,{icon:g.jsx(wV,{size:22}),label:" ",onClick:e}),g.jsx(gd,{icon:g.jsx(xV,{size:22}),label:"",onClick:t}),g.jsx(gd,{icon:g.jsx(a5,{size:22}),label:"FAQ",onClick:n}),g.jsx(gd,{icon:g.jsx(MV,{size:22}),label:"",onClick:()=>i(!0)}),p?g.jsx(gd,{icon:g.jsx(E2,{size:22}),label:"",onClick:()=>u(!0),disabled:a}):g.jsx(gd,{icon:g.jsx(S2,{size:22}),label:"",onClick:b})]})}),g.jsx(zue,{open:r,onClose:()=>i(!1)}),p&&l&&g.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>u(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:T=>T.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>u(!1),children:""}),g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{u(!1),x()},children:""})]})]})})]})}function gd({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const K6=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),dy=e=>K6(e).join(""),Hue=()=>{const[e,t]=S.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(nD);return u?JSON.parse(u):{}}catch{return{}}});S.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(nD,JSON.stringify(e))}catch{}},[e]);const[n,r]=S.useState({}),[i,a]=S.useState(""),[o,l]=S.useState(()=>{const u=Jb(),d=Qb(),h=d.length?pm(u,d):u;return Ad(h,e)});return S.useEffect(()=>{l(u=>{const d=Ad(u,e);return dy(d)===dy(u)?u:d})},[e]),S.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},Gue=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=S.useMemo(()=>{const i=Ev(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[sr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},qh=async()=>{const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:e.user.id},que=async e=>{const{data:t,error:n}=await Me.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Yue=async e=>{const{data:t,error:n}=await Me.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Kue=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Me.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Me.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Wue=async(e,t)=>{const{error:n}=await Me.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Vue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Zue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Xue=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=S.useState(!1),o=S.useRef(e),l=S.useRef(!1),u=S.useRef(!1);S.useEffect(()=>{o.current=e},[e]),S.useEffect(()=>{(async()=>{if(i)return;const N=await qh();if(!N)return;try{if(!u.current){const $=await que(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&rA($.data)}}catch($){console.error("load custom folders exception:",$)}const j=await Yue(N);if(j.error){console.error("load folder order from server error:",j.error),a(!0);return}const C=Jb(),M=j.data,P=M.length?pm(C,M):pm(C,Qb());n(Ad(P,o.current)),M.length&&Td(M),a(!0)})()},[i,n]);const d=S.useCallback(async T=>{const N=await qh();if(!N)return;const j=await Kue(N,T);j.error&&console.error("save folder order to server error:",j.error)},[]),h=S.useRef(null),p=S.useRef(null),b=S.useRef(""),x=S.useCallback((T,N)=>{const j=K6(T),C=dy(j);if(C&&C===b.current)return;h.current=j;const M=async()=>{const P=h.current;if(h.current=null,!P)return;const $=dy(P);$&&$===b.current||(await d(P),b.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),M();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,M()},300)},[d]);S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=h.current;h.current=null,T&&T.length&&d(T)},[d]),S.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(l.current){l.current=!1;return}const N=Jb(),j=Qb(),C=j.length?pm(N,j):N;n(Ad(C,o.current))};return window.addEventListener(Rl,T),()=>window.removeEventListener(Rl,T)},[n]);const E=S.useCallback(T=>{const{source:N,destination:j,type:C}=T;if(!j||C!=="FOLDER")return;const M=N.index,P=j.index;M!==P&&n($=>{if(!$.length)return $;const F=[...$],[Y]=F.splice(M,1);F.splice(P,0,Y);const W=Ad(F,o.current);return l.current=!0,Td(W),x(W),W})},[x,n]),_=S.useCallback(T=>{const N=T.trim();!N||N===fn||(P4(N),(async()=>{if(u.current)return;const j=await qh();if(!j)return;const C=await Vue(j,N);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(j=>{if(j.includes(N))return j;const C=[...j,N],M=Ad(C,o.current);return Td(M),x(M,{immediate:!0}),M}))},[x,n]),w=S.useCallback(T=>{r(T),t(N=>{const j={...N};return delete j[T],j}),n(N=>{const j=N.filter(C=>C!==T);return Td(j),x(j,{immediate:!0}),(async()=>{const C=await qh();if(!C)return;const M=await Wue(C,T);M.error&&console.error("delete folder order entry error:",M.error)})(),j}),C4.includes(T)?vne(T):(yne(T),(async()=>{if(u.current)return;const N=await qh();if(!N)return;const j=await Zue(N,T);j.disabled&&(u.current=!0),j.error&&console.error("delete custom folder error:",j.error)})())},[x,t,n,r]);return{handleDragEnd:E,createFolder:_,deleteFolder:w,UNASSIGNED_LABEL:fn}};function Jue(e,t){const n=Hue(),r=Gue({list:e,orderedFolders:n.orderedFolders}),i=Xue({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Que({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=wr(p=>p.list.length),o=on(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){_o(u||"   ");return}t()},h=async()=>{const{error:p}=await Me.auth.signOut();if(p){console.error(p),_o("  ");return}_o(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(E2,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(S2,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(NV,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(zb,{size:22})})]})]})}function ede({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(yV,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function tde({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function wP({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(mf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function nde({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(hf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(pV,{size:16}):g.jsx(hV,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(o5,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const rde=()=>({canManage:on(()=>!0)}),Pv="";function ide(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Pv?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function ade(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function ode(e,t,n){if(n)return Pv;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":p6(i)}function SP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function sde(e){const t=SP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Xb(r,i,a)||!e.birthTime||e.birthTime===Pv)return t;const o=Number(e.birthTime.slice(0,2)),l=e.birthTime.slice(2,4),u=o-1<0?23:o-1,d=String(u).padStart(2,"0")+l,h=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(h.getTime()))return t;const p=new Date(h.getTime()-3600*1e3),b=Z2({...e,birthTime:d,corrected:p});return SP({...e,...b})}function lde(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function cde(e,t){return Number.isNaN(e)?0:t-e+1}function ude(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function dde(e){return e===""?"":e===""?"":e??""}function fde({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=sde(e),o=ade(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=dde(e.gender),d=!e.birthTime||e.birthTime===Pv,h=ode(e.correctedLocal,e.corrected,d),p=!!(o||h),b=ide(e.birthDay,e.birthTime),x=e.calendarType==="lunar"?"":"",E=lde(e.birthDay),_=cde(E,new Date().getFullYear()),w=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",j=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:j,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:x,correctedLabel:h,showMetaLine:p,showMemo:w,memoToggleLabel:T,age:_,mingSikTypeValue:N,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:ude}}const hde=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=S.useCallback(w=>{w?.stopPropagation(),n(e.id)},[n,e.id]),h=S.useCallback(w=>{w?.stopPropagation(),a(e)},[a,e]),p=S.useCallback(w=>{w?.stopPropagation(),o(e)},[o,e]),b=S.useCallback(w=>{w?.stopPropagation(),l(e)},[l,e]),x=S.useCallback(w=>{w?.stopPropagation(),u(e.id)},[u,e.id]),E=S.useCallback(w=>{const T=w===t?void 0:w;r(e.id,T)},[r,e.id,t]),_=S.useCallback(w=>{i(e,w)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:x,handleFolderChange:E,handleMingSikTypeChange:_}};function EP({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:d,onEdit:h,onDelete:p,onToggleFavorite:b}){rde();const x=fde({m:e,memoOpen:a,isDragDisabled:i}),E=hde({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:d,onEdit:h,onDelete:p,onToggleFavorite:b});return g.jsx(hf,{draggableId:x.keyId,index:t,isDragDisabled:i,children:_=>g.jsx("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,style:_.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",x.age," ",x.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:x.relationshipLabel}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:x.dragHandleLabel})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[x.birthDisplay,", ",x.calendarLabel]}),x.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[x.placeDisplay,x.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",x.correctedLabel]})]}),x.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:x.ganji}),x.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:E.handleToggleMemo,children:x.memoToggleLabel}),g.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:w=>w.stopPropagation(),onChange:w=>{w.stopPropagation(),E.handleFolderChange(w.target.value)},children:[r,...n].map(w=>g.jsx("option",{value:w,children:w},w))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:x.mingSikTypeValue,onClick:w=>w.stopPropagation(),onChange:w=>{w.stopPropagation(),E.handleMingSikTypeChange(w.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:E.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:E.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:x.editLabel}),g.jsx("button",{type:"button",title:"",onClick:E.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:x.deleteLabel}),g.jsx("button",{type:"button",title:x.favoriteLabel,onClick:E.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":x.favoriteLabel,children:g.jsx(o5,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},x.keyId)}const mde="list:__unassigned__",pde=e=>`list:${e}`,kP=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},gde=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=A4(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=S.useMemo(()=>ene({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},bde=({list:e,orderedFolders:t})=>{const[n,r]=S.useState(""),[i,a]=S.useState("name"),[o,l]=S.useState({}),u=S.useRef(null),d=S.useRef(null);return S.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(x=>({...x,[b]:!x[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},AP=()=>{typeof window>"u"||window.dispatchEvent(new Event(Rl))},yde=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:x,createFolder:E,deleteFolder:_,newFolderName:w,setNewFolderName:T,stashScrollTop:N})=>{const j=S.useCallback((z,V)=>{const{nextList:X}=Kte({list:e,orderedFolders:t,targetId:z,nextFolder:V??""});a(X)},[e,t,a]),C=S.useCallback((z,V)=>{const X={...z,mingSikType:V},Z=Z2(X);o(z.id,{mingSikType:V,...Z}),u({...X,...Z}),d()},[o,u,d]),M=S.useCallback(z=>{u(z),d()},[u,d]),P=S.useCallback(z=>{confirm(`'${z.name}'  ?`)&&(l(z.id),h&&h())},[l,h]),$=S.useCallback(()=>{const z=w.trim();z&&(E(z),T(""),AP())},[w,E,T]),F=S.useCallback(z=>{if(p[z]){alert(`'${z}'   .
   .`);return}confirm(`'${z}'  ?
(   )`)&&(_(z),AP())},[p,_]),Y=S.useCallback(z=>{x(V=>({...V,[z]:!V[z]}))},[x]),W=S.useCallback(z=>{b(V=>({...V,[z]:!V[z]}))},[b]);return{handleDrop:S.useCallback(z=>{const{type:V,source:X,destination:Z,draggableId:q}=z;if(Z&&!n){if(N(),V==="FOLDER"){r(z);return}if(V==="ITEM"){if(!q.replace(/^item:/,""))return;const ne=kP(X.droppableId),ue=kP(Z.droppableId);i({orderedFolders:t,sourceFolder:ne,sourceIndex:X.index,destinationFolder:ue,destinationIndex:Z.index})}}},[n,N,r,i,t]),changeFolder:j,changeMingSikType:C,viewAndClose:M,requestDelete:P,createFolderAndNotify:$,requestDeleteFolder:F,toggleFolderOpen:Y,toggleFolderFavorite:W}};function vde({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=S.useState(!1),{list:d,remove:h,update:p,moveItemByDnD:b,toggleFavoriteWithReorder:x,unsetFolderForFolder:E,applyNextList:_}=wr(),{folderFavMap:w,setFolderFavMap:T,folderOpenMap:N,setFolderOpenMap:j,newFolderName:C,setNewFolderName:M,orderedFolders:P,grouped:$,unassignedItems:F,handleDragEnd:Y,createFolder:W,deleteFolder:H,UNASSIGNED_LABEL:z}=Jue(d,{unsetFolderForFolder:E}),V=bde({list:d,orderedFolders:P}),{isFiltering:X,filteredUnassigned:Z,filteredGrouped:q,totalMatches:Q}=gde({search:V.search,searchMode:V.searchMode,orderedFolders:P,unassignedItems:F,grouped:$}),ne=yde({list:d,applyNextList:_,orderedFolders:P,isFiltering:X,handleFolderDragEnd:Y,moveItemByDnD:b,update:p,remove:h,onView:n,onClose:t,onDeleteView:a,folderFavMap:w,setFolderFavMap:T,setFolderOpenMap:j,createFolder:W,deleteFolder:H,newFolderName:C,setNewFolderName:M,stashScrollTop:V.stashScrollTop}),ue=()=>{u(!0)},se=K=>{bu.flushSync(()=>{u(!1),ne.handleDrop(K)})},B=()=>{wo.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(Que,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{B()},isLoggedIn:o}),g.jsx(op,{onBeforeDragStart:ue,onDragEnd:se,children:g.jsxs("div",{ref:V.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsx(ede,{search:V.search,setSearch:V.setSearch,searchMode:V.searchMode,setSearchMode:V.setSearchMode,isFiltering:X,totalMatches:Q}),g.jsx(tde,{newFolderName:C,setNewFolderName:M,isFiltering:X,onCreate:ne.createFolderAndNotify}),g.jsx(wP,{droppableId:mde,isDropDisabled:X,className:"mb-6",items:Z.map((K,ie)=>g.jsx(EP,{m:K,index:ie,orderedFolders:P,unassignedLabel:z,isDragDisabled:X,memoOpen:!!V.memoOpenMap[K.id],onToggleMemo:V.toggleMemo,onChangeFolder:ne.changeFolder,onChangeMingSikType:ne.changeMingSikType,onView:ne.viewAndClose,onEdit:J=>i(J),onDelete:ne.requestDelete,onToggleFavorite:J=>void x(J,P)},K.id))}),g.jsx(mf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:X,children:K=>g.jsxs("div",{ref:K.innerRef,...K.droppableProps,children:[P.map((ie,J)=>{const oe=pde(ie),de=q[ie]||[],pe=!!N[ie],ye=!!w[ie];return g.jsx(nde,{folderName:ie,folderIndex:J,isOpen:pe,isFavorite:ye,itemCount:de.length,isDragDisabled:X,onToggleOpen:()=>ne.toggleFolderOpen(ie),onToggleFavorite:()=>ne.toggleFolderFavorite(ie),onDelete:()=>ne.requestDeleteFolder(ie),inner:g.jsx(wP,{droppableId:oe,isDropDisabled:X,className:"mt-2",items:de.map((re,je)=>g.jsx(EP,{m:re,index:je,orderedFolders:P,unassignedLabel:z,isDragDisabled:X,memoOpen:!!V.memoOpenMap[re.id],onToggleMemo:V.toggleMemo,onChangeFolder:ne.changeFolder,onChangeMingSikType:ne.changeMingSikType,onView:ne.viewAndClose,onEdit:Ne=>i(Ne),onDelete:ne.requestDelete,onToggleFavorite:Ne=>void x(Ne,P)},re.id))})},`folder-${ie}`)}),K.placeholder]})})]})})]})]})}function TP(e){return{...e,calendarType:e.calendarType??"solar"}}function jP(e){return!e.birthTime||e.birthTime===""}function OP(e){return!e.birthPlace||e.birthPlace.name===""}function xde(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Gi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const W6="ms_folders";function _de(){try{const e=JSON.parse(localStorage.getItem(W6)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function wde(e){localStorage.setItem(W6,JSON.stringify(e))}function Sde(e){const[t,n]=S.useState(!1),[r,i]=S.useState(()=>TP(e)),[a,o]=S.useState(jP(e)),[l,u]=S.useState(OP(e)),[d,h]=S.useState([]);return S.useEffect(()=>{h(_de())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(x,E)=>{i(_=>({..._,[x]:E}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(TP(e)),o(jP(e)),u(OP(e))}}}const V6=["","","","","",""];function Ede(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...V6,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[fn,...i]}function kde({list:e,customFolders:t,form:n}){const r=S.useMemo(()=>Ede(e,t),[e,t]),i=S.useMemo(()=>xde(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Ade(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=X2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=J2(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function Tde({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=Ade(t,n,r);if(b){alert(b);return}const x=nu(t.folder===fn?void 0:t.folder),E=w4({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:x,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!E.ok){alert(E.message);return}const _={...e,...E.value};if(_.folder&&!V6.includes(_.folder)&&!i.includes(_.folder)){const w=[...i,_.folder];a(w),wde(w)}o(e.id,_),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const m1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",jde="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Ode="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ss="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Nde="text-xs text-neutral-500 dark:text-neutral-400",F0="accent-violet-600 dark:accent-violet-400",NP="accent-violet-600 dark:accent-violet-400",Rv="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Cde=`${Rv} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Mde=`${Rv} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,CP=`${Rv} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Dde=`${Rv} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Pde({item:e,onClose:t}){const{list:n,update:r,remove:i}=wr(),a=Sde(e),o=kde({list:n,customFolders:a.customFolders,form:a.form}),l=Tde({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("input",{className:m1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" (YYYYMMDD)"}),g.jsx("input",{className:m1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Nde,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:"  (HHMM)"}),g.jsx("input",{className:`${m1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:NP,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" "}),g.jsx(s5,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:NP,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx(N4,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("select",{className:jde,value:a.form.folder??fn,onChange:u=>{const d=u.target.value;d===fn?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===fn?fn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("textarea",{className:Ode,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:CP,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Dde,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Cde,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Mde,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:CP,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??fn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Rde({children:e}){const t=Hi(),[n,r]=S.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function Lde(){const[e,t]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{const{data:a}=await Me.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Me.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Ide({allow:e,children:t}){const{role:n,loading:r}=Lde();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function Z6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Z6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Z6(e))&&(r&&(r+=" "),r+=t);return r}var $de=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jA(e){if(typeof e!="string")return!1;var t=$de;return t.includes(e)}var Bde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zde=new Set(Bde);function X6(e){return typeof e!="string"?!1:zde.has(e)}function J6(e){return typeof e=="string"&&e.startsWith("data-")}function Ga(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(X6(n)||J6(n))&&(t[n]=e[n]);return t}function Lv(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ga(t)}return typeof e=="object"&&!Array.isArray(e)?Ga(e):null}function pa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(X6(n)||J6(n)||jA(n))&&(t[n]=e[n]);return t}function Ude(e){return e==null?null:S.isValidElement(e)?pa(e.props):typeof e=="object"&&!Array.isArray(e)?pa(e):null}var Fde=["children","width","height","viewBox","className","style","title","desc"];function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(null,arguments)}function Hde(e,t){if(e==null)return{};var n,r,i=Gde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Q6=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=Hde(e,Fde),p=a||{width:r,height:i,x:0,y:0},b=Qt("recharts-surface",o);return S.createElement("svg",tk({},pa(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,d),n)}),qde=["children","className"];function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nk.apply(null,arguments)}function Yde(e,t){if(e==null)return{};var n,r,i=Kde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var To=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Yde(e,qde),a=Qt("recharts-layer",r);return S.createElement("g",nk({className:a},pa(i),{ref:t}),n)}),Wde=S.createContext(null);function xn(e){return function(){return e}}const rk=Math.PI,ik=2*rk,Hc=1e-6,Vde=ik-Hc;function e7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Xde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e7:Zde(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Hc)if(!(Math.abs(p*u-d*h)>Hc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,E=i-l,_=u*u+d*d,w=x*x+E*E,T=Math.sqrt(_),N=Math.sqrt(b),j=a*Math.tan((rk-Math.acos((_+b-w)/(2*T*N)))/2),C=j/N,M=j/T;Math.abs(C-1)>Hc&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*x>h*E)},${this._x1=t+M*u},${this._y1=n+M*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Hc||Math.abs(this._y1-h)>Hc)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%ik+ik),b>Vde?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:b>Hc&&this._append`A${r},${r},0,${+(b>=rk)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function t7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Xde(t)}function OA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function n7(e){this._context=e}n7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iv(e){return new n7(e)}function r7(e){return e[0]}function i7(e){return e[1]}function a7(e,t){var n=xn(!0),r=null,i=Iv,a=null,o=t7(l);e=typeof e=="function"?e:e===void 0?r7:xn(e),t=typeof t=="function"?t:t===void 0?i7:xn(t);function l(u){var d,h=(u=OA(u)).length,p,b=!1,x;for(r==null&&(a=i(x=o())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,d,u),+t(p,d,u));if(x)return a=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:xn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:xn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function H0(e,t,n){var r=null,i=xn(!0),a=null,o=Iv,l=null,u=t7(d);e=typeof e=="function"?e:e===void 0?r7:xn(+e),t=typeof t=="function"?t:xn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?i7:xn(+n);function d(p){var b,x,E,_=(p=OA(p)).length,w,T=!1,N,j=new Array(_),C=new Array(_);for(a==null&&(l=o(N=u())),b=0;b<=_;++b){if(!(b<_&&i(w=p[b],b,p))===T)if(T=!T)x=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=b-1;E>=x;--E)l.point(j[E],C[E]);l.lineEnd(),l.areaEnd()}T&&(j[b]=+e(w,b,p),C[b]=+t(w,b,p),l.point(r?+r(w,b,p):j[b],n?+n(w,b,p):C[b]))}if(N)return l=null,N+""||null}function h(){return a7().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xn(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xn(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xn(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),d):a},d}class o7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Jde(e){return new o7(e,!0)}function Qde(e){return new o7(e,!1)}function fy(){}function hy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function s7(e){this._context=e}s7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function efe(e){return new s7(e)}function l7(e){this._context=e}l7.prototype={areaStart:fy,areaEnd:fy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tfe(e){return new l7(e)}function c7(e){this._context=e}c7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nfe(e){return new c7(e)}function u7(e){this._context=e}u7.prototype={areaStart:fy,areaEnd:fy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rfe(e){return new u7(e)}function MP(e){return e<0?-1:1}function DP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(MP(a)+MP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function PP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function p1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function my(e){this._context=e}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p1(this,this._t0,PP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,p1(this,PP(this,n=DP(this,e,t)),n);break;default:p1(this,this._t0,n=DP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function d7(e){this._context=new f7(e)}(d7.prototype=Object.create(my.prototype)).point=function(e,t){my.prototype.point.call(this,t,e)};function f7(e){this._context=e}f7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function ife(e){return new my(e)}function afe(e){return new d7(e)}function h7(e){this._context=e}h7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=RP(e),i=RP(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RP(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ofe(e){return new h7(e)}function $v(e,t){this._context=e,this._t=t}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function sfe(e){return new $v(e,.5)}function lfe(e){return new $v(e,0)}function cfe(e){return new $v(e,1)}function Xd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ak(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ufe(e,t){return e[t]}function dfe(e){const t=[];return t.key=e,t}function ffe(){var e=xn([]),t=ak,n=Xd,r=ufe;function i(a){var o=Array.from(e.apply(this,arguments),dfe),l,u=o.length,d=-1,h;for(const p of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(p,o[l].key,d,a)]).data=p;for(l=0,h=OA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?ak:typeof a=="function"?a:xn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Xd,i):n},i}function hfe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Xd(e,t)}}function mfe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Xd(e,t)}}function pfe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,x=(p-b)/2,E=0;E<l;++E){var _=e[t[E]],w=_[r][1]||0,T=_[r-1][1]||0;x+=w-T}u+=p,d+=x*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,Xd(e,t)}}var g1={},b1={},LP;function gfe(){return LP||(LP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(b1)),b1}var y1={},IP;function m7(){return IP||(IP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(y1)),y1}var v1={},$P;function NA(){return $P||($P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(v1)),v1}var x1={},_1={},BP;function bfe(){return BP||(BP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(_1)),_1}var zP;function CA(){return zP||(zP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bfe(),n=NA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];d?p==="\\"&&l+1<o?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(x1)),x1}var UP;function MA(){return UP||(UP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gfe(),n=m7(),r=NA(),i=CA();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}e.get=a})(g1)),g1}var w1,FP;function yfe(){return FP||(FP=1,w1=MA().get),w1}var vfe=yfe();const Bv=hi(vfe);var ua=e=>e===0?0:e>0?1:-1,qa=e=>typeof e=="number"&&e!=+e,xs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!qa(e),jo=e=>We(e)||typeof e=="string",xfe=0,Rm=e=>{var t=++xfe;return"".concat(e||"").concat(t)},Il=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var a;if(xs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return qa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},p7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function vo(e,t,n){return We(e)&&We(t)?e+n*(t-e):t}function g7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Bv(r,t))===n)}var _r=e=>e===null||typeof e>"u",DA=e=>_r(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function _fe(e){return e!=null}function mp(){}var b7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,PA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{jA(i)&&(r[i]=(a=>n[i](n,a)))}),r},wfe=(e,t,n)=>r=>(e(t,n,r),null),Sfe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];jA(i)&&typeof a=="function"&&(r||(r={}),r[i]=wfe(a,t,n))}),r};function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Efe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){kfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kfe(e,t,n){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Afe(e){var t=Tfe(e,"string");return typeof t=="symbol"?t:t+""}function Tfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(e,t){var n=Efe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var S1={},E1={},GP;function jfe(){return GP||(GP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(E1)),E1}var k1={},qP;function y7(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(k1)),k1}var A1={},T1={},j1={},YP;function Ofe(){return YP||(YP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(j1)),j1}var KP;function RA(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ofe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(T1)),T1}var O1={},WP;function Nfe(){return WP||(WP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(O1)),O1}var VP;function Cfe(){return VP||(VP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA(),n=Nfe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(A1)),A1}var N1={},C1={},ZP;function Mfe(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(C1)),C1}var M1={},D1={},P1={},R1={},XP;function v7(){return XP||(XP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(R1)),R1}var L1={},JP;function x7(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(L1)),L1}var I1={},QP;function _7(){return QP||(QP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(I1)),I1}var eR;function Dfe(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7(),n=x7(),r=_7();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function x(E,_,w,T,N,j){const C=b(E,_,w,T,N,j);return C!==void 0?!!C:a(E,_,x,j)},new Map)}function a(h,p,b,x){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,x);case"function":return Object.keys(p).length>0?a(h,{...p},b,x):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,x);if(p instanceof Map)return l(h,p,b,x);if(p instanceof Set)return d(h,p,b,x);const E=Object.keys(p);if(h==null)return E.length===0;if(E.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let _=0;_<E.length;_++){const w=E[_];if(!n.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!b(h[w],p[w],w,h,p,x))return!1}return!0}finally{x?.delete(p)}}function l(h,p,b,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[E,_]of p.entries()){const w=h.get(E);if(b(w,_,E,h,p,x)===!1)return!1}return!0}function u(h,p,b,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const E=new Set;for(let _=0;_<p.length;_++){const w=p[_];let T=!1;for(let N=0;N<h.length;N++){if(E.has(N))continue;const j=h[N];let C=!1;if(b(j,w,_,h,p,x)&&(C=!0),C){E.add(N),T=!0;break}}if(!T)return!1}return!0}function d(h,p,b,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,x):!1}e.isMatchWith=i,e.isSetMatch=d})(P1)),P1}var tR;function w7(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dfe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(D1)),D1}var $1={},B1={},z1={},nR;function Pfe(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(z1)),z1}var U1={},rR;function S7(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(U1)),U1}var F1={},iR;function E7(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",x="[object Object]",E="[object Error]",_="[object DataView]",w="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",C="[object BigUint64Array]",M="[object Int8Array]",P="[object Int16Array]",$="[object Int32Array]",F="[object BigInt64Array]",Y="[object Float32Array]",W="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=_,e.dateTag=l,e.errorTag=E,e.float32ArrayTag=Y,e.float64ArrayTag=W,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=$,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=j,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=T})(F1)),F1}var H1={},aR;function Rfe(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(H1)),H1}var oR;function k7(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pfe(),n=S7(),r=E7(),i=x7(),a=Rfe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,x=new Map,E=void 0){const _=E?.(h,p,b,x);if(_!==void 0)return _;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let T=0;T<h.length;T++)w[T]=l(h[T],T,b,x,E);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[T,N]of h)w.set(T,l(N,T,b,x,E));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const T of h)w.add(l(T,void 0,b,x,E));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let T=0;T<h.length;T++)w[T]=l(h[T],T,b,x,E);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),u(w,h,b,x,E),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),u(w,h,b,x,E),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),u(w,h,b,x,E),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,u(w,h,b,x,E),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return x.set(h,w),u(w,h,b,x,E),w}if(h instanceof Number){const w=new Number(h.valueOf());return x.set(h,w),u(w,h,b,x,E),w}if(h instanceof String){const w=new String(h.valueOf());return x.set(h,w),u(w,h,b,x,E),w}if(typeof h=="object"&&d(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),u(w,h,b,x,E),w}return h}function u(h,p,b=h,x,E){const _=[...Object.keys(p),...t.getSymbols(p)];for(let w=0;w<_.length;w++){const T=_[w],N=Object.getOwnPropertyDescriptor(h,T);(N==null||N.writable)&&(h[T]=l(p[T],T,b,x,E))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(B1)),B1}var sR;function Lfe(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})($1)),$1}var lR;function Ife(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),n=Lfe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(M1)),M1}var G1={},q1={},Y1={},cR;function $fe(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7(),n=E7();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(Y1)),Y1}var uR;function Bfe(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$fe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(q1)),q1}var K1={},W1={},dR;function A7(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(W1)),W1}var V1={},fR;function zfe(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(V1)),V1}var hR;function Ufe(){return hR||(hR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7(),n=A7(),r=zfe(),i=CA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=a})(K1)),K1}var mR;function Ffe(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),n=NA(),r=Bfe(),i=MA(),a=Ufe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(G1)),G1}var pR;function Hfe(){return pR||(pR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y7(),n=Mfe(),r=Ife(),i=Ffe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(N1)),N1}var gR;function Gfe(){return gR||(gR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jfe(),n=y7(),r=Cfe(),i=Hfe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(S1)),S1}var Z1,bR;function qfe(){return bR||(bR=1,Z1=Gfe().uniqBy),Z1}var Yfe=qfe();const yR=hi(Yfe);function Kfe(e,t,n){return t===!0?yR(e,n):typeof t=="function"?yR(e,t):e}var X1={exports:{}},J1={},Q1={exports:{}},eS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR;function Wfe(){if(vR)return eS;vR=1;var e=af();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var x=b(),E=r({inst:{value:x,getSnapshot:b}}),_=E[0].inst,w=E[1];return a(function(){_.value=x,_.getSnapshot=b,u(_)&&w({inst:_})},[p,x,b]),i(function(){return u(_)&&w({inst:_}),p(function(){u(_)&&w({inst:_})})},[p]),o(x),x}function u(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!n(p,x)}catch{return!0}}function d(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return eS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,eS}var xR;function Vfe(){return xR||(xR=1,Q1.exports=Wfe()),Q1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function Zfe(){if(_R)return J1;_R=1;var e=af(),t=Vfe();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return J1.useSyncExternalStoreWithSelector=function(d,h,p,b,x){var E=a(null);if(E.current===null){var _={hasValue:!1,value:null};E.current=_}else _=E.current;E=l(function(){function T(P){if(!N){if(N=!0,j=P,P=b(P),x!==void 0&&_.hasValue){var $=_.value;if(x($,P))return C=$}return C=P}if($=C,r(j,P))return $;var F=b(P);return x!==void 0&&x($,F)?(j=P,$):(j=P,C=F)}var N=!1,j,C,M=p===void 0?null:p;return[function(){return T(h())},M===null?void 0:function(){return T(M())}]},[h,p,b,x]);var w=i(d,E[0],E[1]);return o(function(){_.hasValue=!0,_.value=w},[w]),u(w),w},J1}var wR;function Xfe(){return wR||(wR=1,X1.exports=Zfe()),X1.exports}var Jfe=Xfe(),LA=S.createContext(null),Qfe=e=>e,ur=()=>{var e=S.useContext(LA);return e?e.store.dispatch:Qfe},_b=()=>{},ehe=()=>_b,the=(e,t)=>e===t;function Je(e){var t=S.useContext(LA);return Jfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ehe,t?t.store.getState:_b,t?t.store.getState:_b,t?e:_b,the)}function nhe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function rhe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ihe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var SR=e=>Array.isArray(e)?e:[e];function ahe(e){const t=Array.isArray(e[0])?e[0]:e;return ihe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ohe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var she=class{constructor(e){this.value=e}deref(){return this.value}},lhe=typeof WeakRef<"u"?WeakRef:she,che=0,ER=1;function G0(){return{s:che,v:void 0,o:null,p:null}}function T7(e,t={}){let n=G0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let E=l.o;E===null&&(l.o=E=new WeakMap);const _=E.get(x);_===void 0?(l=G0(),E.set(x,l)):l=_}else{let E=l.p;E===null&&(l.p=E=new Map);const _=E.get(x);_===void 0?(l=G0(),E.set(x,l)):l=_}}const d=l;let h;if(l.s===ER)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new lhe(h):h}return d.s=ER,d.v=h,h}return o.clearCache=()=>{n=G0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function uhe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),nhe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:x=T7,argsMemoizeOptions:E=[]}=h,_=SR(b),w=SR(E),T=ahe(i),N=p(function(){return a++,d.apply(null,arguments)},..._),j=x(function(){o++;const M=ohe(T,arguments);return l=N.apply(null,M),l},...w);return Object.assign(j,{resultFunc:d,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var we=uhe(T7),dhe=Object.assign((e,t=we)=>{rhe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>dhe}),tS={},nS={},rS={},kR;function fhe(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(rS)),rS}var iS={},aS={},AR;function j7(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(aS)),aS}var TR;function hhe(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(iS)),iS}var jR;function mhe(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fhe(),n=hhe(),r=CA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const d=(x,E)=>{let _=x;for(let w=0;w<E.length&&_!=null;++w)_=_[E[w]];return _},h=(x,E)=>E==null||x==null?E:typeof x=="object"&&"key"in x?Object.hasOwn(E,x.key)?E[x.key]:d(E,x.path):typeof x=="function"?x(E):Array.isArray(x)?d(E,x):typeof E=="object"?E[x]:E,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(E=>h(E,x))})).slice().sort((x,E)=>{for(let _=0;_<p.length;_++){const w=t.compareValues(x.criteria[_],E.criteria[_],l[_]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=i})(nS)),nS}var oS={},OR;function phe(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(oS)),oS}var sS={},NR;function O7(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A7(),n=RA(),r=v7(),i=_7();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(sS)),sS}var CR;function ghe(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mhe(),n=phe(),r=O7();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(tS)),tS}var lS,MR;function bhe(){return MR||(MR=1,lS=ghe().sortBy),lS}var yhe=bhe();const zv=hi(yhe);var N7=e=>e.legend.settings,vhe=e=>e.legend.size,xhe=e=>e.legend.payload;we([xhe,N7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?zv(r,n):r});var q0=1;function _he(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>q0||Math.abs(o.left-t.left)>q0||Math.abs(o.top-t.top)>q0||Math.abs(o.width-t.width)>q0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var C7=Symbol.for("immer-nothing"),DR=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Li=Object,Jd=Li.getPrototypeOf,py="constructor",Uv="prototype",ok="configurable",gy="enumerable",wb="writable",Lm="value",_s=e=>!!e&&!!e[Gr];function Ya(e){return e?M7(e)||Fv(e)||!!e[DR]||!!e[py]?.[DR]||Hv(e)||Gv(e):!1}var whe=Li[Uv][py].toString(),PR=new WeakMap;function M7(e){if(!e||!IA(e))return!1;const t=Jd(e);if(t===null||t===Li[Uv])return!0;const n=Li.hasOwnProperty.call(t,py)&&t[py];if(n===Object)return!0;if(!Ed(n))return!1;let r=PR.get(n);return r===void 0&&(r=Function.toString.call(n),PR.set(n,r)),r===whe}function pp(e,t,n=!0){gp(e)===0?(n?Reflect.ownKeys(e):Li.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function gp(e){const t=e[Gr];return t?t.type_:Fv(e)?1:Hv(e)?2:Gv(e)?3:0}var RR=(e,t,n=gp(e))=>n===2?e.has(t):Li[Uv].hasOwnProperty.call(e,t),sk=(e,t,n=gp(e))=>n===2?e.get(t):e[t],by=(e,t,n,r=gp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function She(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Fv=Array.isArray,Hv=e=>e instanceof Map,Gv=e=>e instanceof Set,IA=e=>typeof e=="object",Ed=e=>typeof e=="function",cS=e=>typeof e=="boolean",ls=e=>e.copy_||e.base_,$A=e=>e.modified_?e.copy_:e.base_;function lk(e,t){if(Hv(e))return new Map(e);if(Gv(e))return new Set(e);if(Fv(e))return Array[Uv].slice.call(e);const n=M7(e);if(t===!0||t==="class_only"&&!n){const r=Li.getOwnPropertyDescriptors(e);delete r[Gr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[wb]===!1&&(l[wb]=!0,l[ok]=!0),(l.get||l.set)&&(r[o]={[ok]:!0,[wb]:!0,[gy]:l[gy],[Lm]:e[o]})}return Li.create(Jd(e),r)}else{const r=Jd(e);if(r!==null&&n)return{...e};const i=Li.create(r);return Li.assign(i,e)}}function BA(e,t=!1){return qv(e)||_s(e)||!Ya(e)||(gp(e)>1&&Li.defineProperties(e,{set:Y0,add:Y0,clear:Y0,delete:Y0}),Li.freeze(e),t&&pp(e,(n,r)=>{BA(r,!0)},!1)),e}function Ehe(){Ia(2)}var Y0={[Lm]:Ehe};function qv(e){return e===null||!IA(e)?!0:Li.isFrozen(e)}var yy="MapSet",ck="Patches",D7={};function Qd(e){const t=D7[e];return t||Ia(0,e),t}var khe=e=>!!D7[e],Im,P7=()=>Im,Ahe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:khe(yy)?Qd(yy):void 0});function LR(e,t){t&&(e.patchPlugin_=Qd(ck),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uk(e){dk(e),e.drafts_.forEach(The),e.drafts_=null}function dk(e){e===Im&&(Im=e.parent_)}var IR=e=>Im=Ahe(Im,e);function The(e){const t=e[Gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $R(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Gr].modified_&&(uk(t),Ia(4)),Ya(e)&&(e=BR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Gr].base_,e,t)}else e=BR(t,n);return jhe(t,e,!0),uk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==C7?e:void 0}function BR(e,t){if(qv(t))return t;const n=t[Gr];if(!n)return zA(t,e.handledSet_,e);if(!Yv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);I7(n,e)}return n.copy_}function jhe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&BA(t,n)}function R7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Yv=(e,t)=>e.scope_===t,Ohe=[];function L7(e,t,n,r){const i=ls(e),a=e.type_;if(r!==void 0&&sk(i,r,a)===t){by(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;pp(i,(u,d)=>{if(_s(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??Ohe;for(const l of o)by(i,l,n,a)}function Nhe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Yv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=$A(a);L7(e,a.draft_??a,o,n),I7(a,i)})}function I7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}R7(e)}}function Che(e,t,n){const{scope_:r}=e;if(_s(n)){const i=n[Gr];Yv(i,r)&&i.callbacks_.push(function(){Sb(e);const o=$A(i);L7(e,n,o,t)})}else Ya(n)&&e.callbacks_.push(function(){const a=ls(e);sk(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&zA(sk(e.copy_,t,e.type_),r.handledSet_,r)})}function zA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_s(e)||t.has(e)||!Ya(e)||qv(e)||(t.add(e),pp(e,(r,i)=>{if(_s(i)){const a=i[Gr];if(Yv(a,n)){const o=$A(a);by(e,r,o,e.type_),R7(a)}}else Ya(i)&&zA(i,t,n)})),e}function Mhe(e,t){const n=Fv(e),r={type_:n?1:0,scope_:t?t.scope_:P7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=UA;n&&(i=[r],a=$m);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var UA={get(e,t){if(t===Gr)return e;const n=ls(e);if(!RR(n,t,e.type_))return Dhe(e,n,t);const r=n[t];if(e.finalized_||!Ya(r))return r;if(r===uS(e.base_,t)){Sb(e);const i=e.type_===1?+t:t,a=hk(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in ls(e)},ownKeys(e){return Reflect.ownKeys(ls(e))},set(e,t,n){const r=$7(ls(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=uS(ls(e),t),a=i?.[Gr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(She(n,i)&&(n!==void 0||RR(e.base_,t,e.type_)))return!0;Sb(e),fk(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Che(e,t,n)),!0},deleteProperty(e,t){return Sb(e),uS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),fk(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ls(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[wb]:!0,[ok]:e.type_!==1||t!=="length",[gy]:r[gy],[Lm]:n[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Jd(e.base_)},setPrototypeOf(){Ia(12)}},$m={};pp(UA,(e,t)=>{$m[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});$m.deleteProperty=function(e,t){return $m.set.call(this,e,t,void 0)};$m.set=function(e,t,n){return UA.set.call(this,e[0],t,n,e[0])};function uS(e,t){const n=e[Gr];return(n?ls(n):e)[t]}function Dhe(e,t,n){const r=$7(t,n);return r?Lm in r?r[Lm]:r.get?.call(e.draft_):void 0}function $7(e,t){if(!(t in e))return;let n=Jd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Jd(n)}}function fk(e){e.modified_||(e.modified_=!0,e.parent_&&fk(e.parent_))}function Sb(e){e.copy_||(e.assigned_=new Map,e.copy_=lk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Phe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ed(n)&&!Ed(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,p=>r.call(this,p,...h))}}Ed(r)||Ia(6),i!==void 0&&!Ed(i)&&Ia(7);let a;if(Ya(n)){const o=IR(this),l=hk(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?uk(o):dk(o)}return LR(o,i),$R(a,o)}else if(!n||!IA(n)){if(a=r(n),a===void 0&&(a=n),a===C7&&(a=void 0),this.autoFreeze_&&BA(a,!0),i){const o=[],l=[];Qd(ck).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ia(1,n)},this.produceWithPatches=(n,r)=>{if(Ed(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},cS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),cS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),cS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ya(t)||Ia(8),_s(t)&&(t=Ua(t));const n=IR(this),r=hk(n,t,void 0);return r[Gr].isManual_=!0,dk(n),r}finishDraft(t,n){const r=t&&t[Gr];(!r||!r.isManual_)&&Ia(9);const{scope_:i}=r;return LR(i,n),$R(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Qd(ck).applyPatches_;return _s(t)?i(t,n):this.produce(t,a=>i(a,n))}};function hk(e,t,n,r){const[i,a]=Hv(t)?Qd(yy).proxyMap_(t,n):Gv(t)?Qd(yy).proxySet_(t,n):Mhe(t,n);return(n?.scope_??P7()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Nhe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function Ua(e){return _s(e)||Ia(10,e),B7(e)}function B7(e){if(!Ya(e)||qv(e))return e;const t=e[Gr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=lk(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=lk(e,!0);return pp(n,(i,a)=>{by(n,i,B7(a))},r),t&&(t.finalized_=!1),n}var Rhe=new Phe,z7=Rhe.produce;function U7(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Lhe=U7(),Ihe=U7,$he=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Em:Em.apply(null,arguments)};function ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Bi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>u5(r)&&r.type===e,n}var F7=class sm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sm.prototype)}static get[Symbol.species](){return sm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sm(...t[0].concat(this)):new sm(...t.concat(this))}};function zR(e){return Ya(e)?z7(e,()=>{}):e}function K0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Bhe(e){return typeof e=="boolean"}var zhe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new F7;return n&&(Bhe(n)?o.push(Lhe):o.push(Ihe(n.extraArgument))),o},H7="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[H7]:!0}}),UR=e=>t=>{setTimeout(t,e)},G7=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UR(10):e.type==="callback"?e.queueNotification:UR(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[H7],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},Uhe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new F7(e);return r&&i.push(G7(typeof r=="object"?r:void 0)),i};function Fhe(e){const t=zhe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(k2(n))l=l5(n);else throw new Error(Bi(1));let u;typeof r=="function"?u=r(t):u=t();let d=Em;i&&(d=$he({trace:!1,...typeof i=="object"&&i}));const h=c5(...u),p=Uhe(h);let b=typeof o=="function"?o(p):p();const x=d(...b);return A2(l,a,x)}function q7(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Bi(28));if(l in t)throw new Error(Bi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Hhe(e){return typeof e=="function"}function Ghe(e,t){let[n,r,i]=q7(t),a;if(Hhe(e))a=()=>zR(e());else{const l=zR(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(_s(h)){const x=p(h,u);return x===void 0?h:x}else{if(Ya(h))return z7(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var qhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Yhe=(e=21)=>{let t="",n=e;for(;n--;)t+=qhe[Math.random()*64|0];return t},Khe=Symbol.for("rtk-slice-createasyncthunk");function Whe(e,t){return`${e}/${t}`}function Vhe({creators:e}={}){const t=e?.asyncThunk?.[Khe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Bi(11));const o=(typeof r.reducers=="function"?r.reducers(Xhe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,C){const M=typeof j=="string"?j:j.type;if(!M)throw new Error(Bi(12));if(M in u.sliceCaseReducersByType)throw new Error(Bi(13));return u.sliceCaseReducersByType[M]=C,d},addMatcher(j,C){return u.sliceMatchers.push({matcher:j,reducer:C}),d},exposeAction(j,C){return u.actionCreators[j]=C,d},exposeCaseReducer(j,C){return u.sliceCaseReducersByName[j]=C,d}};l.forEach(j=>{const C=o[j],M={reducerName:j,type:Whe(i,j),createNotation:typeof r.reducers=="function"};Qhe(C)?tme(M,C,d,t):Jhe(M,C,d)});function h(){const[j={},C=[],M=void 0]=typeof r.extraReducers=="function"?q7(r.extraReducers):[r.extraReducers],P={...j,...u.sliceCaseReducersByType};return Ghe(r.initialState,$=>{for(let F in P)$.addCase(F,P[F]);for(let F of u.sliceMatchers)$.addMatcher(F.matcher,F.reducer);for(let F of C)$.addMatcher(F.matcher,F.reducer);M&&$.addDefaultCase(M)})}const p=j=>j,b=new Map,x=new WeakMap;let E;function _(j,C){return E||(E=h()),E(j,C)}function w(){return E||(E=h()),E.getInitialState()}function T(j,C=!1){function M($){let F=$[j];return typeof F>"u"&&C&&(F=K0(x,M,w)),F}function P($=p){const F=K0(b,C,()=>new WeakMap);return K0(F,$,()=>{const Y={};for(const[W,H]of Object.entries(r.selectors??{}))Y[W]=Zhe(H,$,()=>K0(x,$,w),C);return Y})}return{reducerPath:j,getSelectors:P,get selectors(){return P(M)},selectSlice:M}}const N={name:i,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...T(a),injectInto(j,{reducerPath:C,...M}={}){const P=C??a;return j.inject({reducerPath:P,reducer:_},M),{...N,...T(P,!0)}}};return N}}function Zhe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var mi=Vhe();function Xhe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Jhe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!eme(r))throw new Error(Bi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ga(e,o):ga(e))}function Qhe(e){return e._reducerDefinitionType==="asyncThunk"}function eme(e){return e._reducerDefinitionType==="reducerWithPrepare"}function tme({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Bi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||W0,pending:l||W0,rejected:u||W0,settled:d||W0})}function W0(){}var nme="task",Y7="listener",K7="completed",FA="cancelled",rme=`task-${FA}`,ime=`task-${K7}`,mk=`${Y7}-${FA}`,ame=`${Y7}-${K7}`,Kv=class{constructor(e){this.code=e,this.message=`${nme} ${FA} (reason: ${e})`}name="TaskAbortError";message},HA=(e,t)=>{if(typeof e!="function")throw new TypeError(Bi(32))},vy=()=>{},W7=(e,t=vy)=>(e.catch(t),e),V7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ru=e=>{if(e.aborted)throw new Kv(e.reason)};function Z7(e,t){let n=vy;return new Promise((r,i)=>{const a=()=>i(new Kv(e.reason));if(e.aborted){a();return}n=V7(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=vy})}var ome=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Kv?"cancelled":"rejected",error:n}}finally{t?.()}},xy=e=>t=>W7(Z7(e,t).then(n=>(ru(e),n))),X7=e=>{const t=xy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:$d}=Object,FR={},Wv="listenerMiddleware",sme=(e,t)=>{const n=r=>V7(e,()=>r.abort(e.reason));return(r,i)=>{HA(r);const a=new AbortController;n(a);const o=ome(async()=>{ru(e),ru(a.signal);const l=await r({pause:xy(a.signal),delay:X7(a.signal),signal:a.signal});return ru(a.signal),l},()=>a.abort(ime));return i?.autoJoin&&t.push(o.catch(vy)),{result:xy(e)(o),cancel(){a.abort(rme)}}}},lme=(e,t)=>{const n=async(r,i)=>{ru(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await Z7(t,Promise.race(l));return ru(t),u}finally{a()}};return(r,i)=>W7(n(r,i))},J7=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bi(21));return HA(a),{predicate:i,type:t,effect:a}},Q7=$d(e=>{const{type:t,predicate:n,effect:r}=J7(e);return{id:Yhe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>Q7}),HR=(e,t)=>{const{type:n,effect:r,predicate:i}=J7(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},pk=e=>{e.pending.forEach(t=>{t.abort(mk)})},cme=(e,t)=>()=>{for(const n of t.keys())pk(n);e.clear()},GR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},e9=$d(ga(`${Wv}/add`),{withTypes:()=>e9}),ume=ga(`${Wv}/removeAll`),t9=$d(ga(`${Wv}/remove`),{withTypes:()=>t9}),dme=(...e)=>{console.error(`${Wv}/error`,...e)},bp=(e={})=>{const t=new Map,n=new Map,r=x=>{const E=n.get(x)??0;n.set(x,E+1)},i=x=>{const E=n.get(x)??1;E===1?n.delete(x):n.set(x,E-1)},{extra:a,onError:o=dme}=e;HA(o);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),E=>{x.unsubscribe(),E?.cancelActive&&pk(x)}),u=x=>{const E=HR(t,x)??Q7(x);return l(E)};$d(u,{withTypes:()=>u});const d=x=>{const E=HR(t,x);return E&&(E.unsubscribe(),x.cancelActive&&pk(E)),!!E};$d(d,{withTypes:()=>d});const h=async(x,E,_,w)=>{const T=new AbortController,N=lme(u,T.signal),j=[];try{x.pending.add(T),r(x),await Promise.resolve(x.effect(E,$d({},_,{getOriginalState:w,condition:(C,M)=>N(C,M).then(Boolean),take:N,delay:X7(T.signal),pause:xy(T.signal),extra:a,signal:T.signal,fork:sme(T.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((C,M,P)=>{C!==T&&(C.abort(mk),P.delete(C))})},cancel:()=>{T.abort(mk),x.pending.delete(T)},throwIfCancelled:()=>{ru(T.signal)}})))}catch(C){C instanceof Kv||GR(o,C,{raisedBy:"effect"})}finally{await Promise.all(j),T.abort(ame),i(x),x.pending.delete(T)}},p=cme(t,n);return{middleware:x=>E=>_=>{if(!u5(_))return E(_);if(e9.match(_))return u(_.payload);if(ume.match(_)){p();return}if(t9.match(_))return d(_.payload);let w=x.getState();const T=()=>{if(w===FR)throw new Error(Bi(23));return w};let N;try{if(N=E(_),t.size>0){const j=x.getState(),C=Array.from(t.values());for(const M of C){let P=!1;try{P=M.predicate(_,j,w)}catch($){P=!1,GR(o,$,{raisedBy:"predicate"})}P&&h(M,_,x,T)}}}finally{w=FR}return N},startListening:u,stopListening:d,clearListeners:p}};function Bi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fme={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},n9=mi({name:"chartLayout",initialState:fme,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:hme,setLayout:mme,setChartSize:pme,setScale:gme}=n9.actions,bme=n9.reducer;function r9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){yme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yme(e,t,n){return(t=vme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vme(e){var t=xme(e,"string");return typeof t=="symbol"?t:t+""}function xme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cr(e,t,n){return _r(e)||_r(t)?n:jo(t)?Bv(e,t,n):typeof t=="function"?t(e):n}var _me=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&We(e[a]))return Od(Od({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&We(e[o]))return Od(Od({},e),{},{[o]:e[o]+(i||0)})}return e},js=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",i9=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},a9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:b,axisType:x}=e;if(!o)return null;var E=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,_=i==="category"&&o.bandwidth?o.bandwidth()/E:0;if(_=x==="angleAxis"&&a&&a.length>=2?ua(a[0]-a[1])*2*_:_,p||b){var w=(p||b||[]).map((T,N)=>{var j=r?r.indexOf(T):T;return{coordinate:o(j)+_,value:T,offset:_,index:N}});return w.filter(T=>!qa(T.coordinate))}return u&&d?d.map((T,N)=>({coordinate:o(T)+_,value:T,index:N,offset:_})):o.ticks&&h!=null?o.ticks(h).map((T,N)=>({coordinate:o(T)+_,value:T,offset:_,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+_,value:r?r[T]:T,index:N,offset:_}))},YR=1e-4,wme=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-YR,a=Math.max(r[0],r[1])+YR,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},Sme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=qa(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Eme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=qa(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},kme={sign:Sme,expand:hfe,none:Xd,silhouette:mfe,wiggle:pfe,positive:Eme},Ame=(e,t,n)=>{var r=kme[n],i=ffe().keys(t).value((a,o)=>Number(Cr(a,o,0))).order(ak).offset(r);return i(e)};function Tme(e){return e==null?void 0:String(e)}function KR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_r(i[t.dataKey])){var l=g7(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Cr(i,_r(o)?t.dataKey:o);return _r(u)?null:t.scale(u)}var jme=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},Ome=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Nme=(e,t,n)=>{if(e!=null)return Ome(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=r9(d,t,n),p=jme(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},WR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_y=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=zv(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function ZR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Od(Od({},t),{},{dataKey:n,payload:r,value:i,name:a})}function o9(e,t){if(e)return String(e);if(typeof t=="string")return t}var Cme=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Mme=(e,t)=>t==="centric"?e.angle:e.radius,Os=e=>e.layout.width,Ns=e=>e.layout.height,Dme=e=>e.layout.scale,s9=e=>e.layout.margin,Vv=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zv=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Pme="data-recharts-item-index",Rme="data-recharts-item-data-key",yp=60;function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){Lme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lme(e,t,n){return(t=Ime(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ime(e){var t=$me(e,"string");return typeof t=="symbol"?t:t+""}function $me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bme=e=>e.brush.height;function zme(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yp;return n+i}return n},0)}function Ume(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yp;return n+i}return n},0)}function Fme(e){var t=Vv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Hme(e){var t=Vv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Er=we([Os,Ns,s9,Bme,zme,Ume,Fme,Hme,N7,vhe],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=V0(V0({},p),h),x=b.bottom;b.bottom+=r,b=_me(b,u,d);var E=e-b.left-b.right,_=t-b.top-b.bottom;return V0(V0({brushBottom:x},b),{},{width:Math.max(E,0),height:Math.max(_,0)})}),Gme=we(Er,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),l9=we(Os,Ns,(e,t)=>({x:0,y:0,width:e,height:t})),qme=S.createContext(null),pi=()=>S.useContext(qme)!=null,Xv=e=>e.brush,Jv=we([Xv,Er,s9],(e,t,n)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:We(e.width)?e.width:t.width})),dS={},fS={},hS={},JR;function Yme(){return JR||(JR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{d&&h(),_()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},_=()=>{E(),o=void 0,l=null},w=()=>{h()},T=function(...N){if(i?.aborted)return;o=this,l=N;const j=b==null;x(),u&&j&&h()};return T.schedule=x,T.cancel=_,T.flush=w,i?.addEventListener("abort",_,{once:!0}),T}e.debounce=t})(hS)),hS}var QR;function Kme(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yme();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const b=t.debounce(function(..._){h=r.apply(this,_),p=null},i,{edges:d}),x=function(..._){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,_),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,_),h)},E=()=>(b.flush(),h);return x.cancel=b.cancel,x.flush=E,x}e.debounce=n})(fS)),fS}var eL;function Wme(){return eL||(eL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kme();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(dS)),dS}var mS,tL;function Vme(){return tL||(tL=1,mS=Wme().throttle),mS}var Zme=Vme();const Xme=hi(Zme);var wy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},c9=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=xs(r)?e:Number(r),u=xs(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},Jme={width:0,height:0,overflow:"visible"},Qme={width:0,overflowX:"visible"},epe={height:0,overflowY:"visible"},tpe={},npe=e=>{var{width:t,height:n}=e,r=xs(t),i=xs(n);return r&&i?Jme:r?Qme:i?epe:tpe};function rpe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wn(e){return Number.isFinite(e)}function Oo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gk.apply(null,arguments)}function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(n),!0).forEach(function(r){ipe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ipe(e,t,n){return(t=ape(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ape(e){var t=ope(e,"string");return typeof t=="symbol"?t:t+""}function ope(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u9=S.createContext({width:-1,height:-1});function spe(e){return Oo(e.width)&&Oo(e.height)}function d9(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return spe(i)?S.createElement(u9.Provider,{value:i},t):null}var GA=()=>S.useContext(u9),lpe=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:b,onResize:x,style:E={}}=e,_=S.useRef(null),w=S.useRef();w.current=x,S.useImperativeHandle(t,()=>_.current);var[T,N]=S.useState({containerWidth:r.width,containerHeight:r.height}),j=S.useCallback((F,Y)=>{N(W=>{var H=Math.round(F),z=Math.round(Y);return W.containerWidth===H&&W.containerHeight===z?W:{containerWidth:H,containerHeight:z}})},[]);S.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return mp;var F=z=>{var V,{width:X,height:Z}=z[0].contentRect;j(X,Z),(V=w.current)===null||V===void 0||V.call(w,X,Z)};h>0&&(F=Xme(F,h,{trailing:!0,leading:!1}));var Y=new ResizeObserver(F),{width:W,height:H}=_.current.getBoundingClientRect();return j(W,H),Y.observe(_.current),()=>{Y.disconnect()}},[j,h]);var{containerWidth:C,containerHeight:M}=T;wy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:$}=c9(C,M,{width:i,height:a,aspect:n,maxHeight:u});return wy(P!=null&&P>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,$,i,a,o,l,n),S.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",b),style:rL(rL({},E),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:_},S.createElement("div",{style:npe({width:i,height:a})},S.createElement(d9,{width:P,height:$},d)))}),cpe=S.forwardRef((e,t)=>{var n=GA();if(Oo(n.width)&&Oo(n.height))return e.children;var{width:r,height:i}=rpe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=c9(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return We(a)&&We(o)?S.createElement(d9,{width:a,height:o},e.children):S.createElement(lpe,gk({},e,{width:r,height:i,ref:t}))});function f9(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Qv=()=>{var e,t=pi(),n=Je(Gme),r=Je(Jv),i=(e=Je(Xv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},upe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},h9=()=>{var e;return(e=Je(Er))!==null&&e!==void 0?e:upe},m9=()=>Je(Os),p9=()=>Je(Ns),Vt=e=>e.layout.layoutType,vp=()=>Je(Vt),dpe=()=>{var e=vp();if(e==="horizontal"||e==="vertical")return e},fpe=()=>{var e=vp();return e!==void 0},ex=e=>{var t=ur(),n=pi(),{width:r,height:i}=e,a=GA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),S.useEffect(()=>{!n&&Oo(o)&&Oo(l)&&t(pme({width:o,height:l}))},[t,n,o,l]),null},g9=Symbol.for("immer-nothing"),iL=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bm=Object.getPrototypeOf;function ef(e){return!!e&&!!e[Fi]}function uu(e){return e?b9(e)||Array.isArray(e)||!!e[iL]||!!e.constructor?.[iL]||xp(e)||nx(e):!1}var hpe=Object.prototype.constructor.toString(),aL=new WeakMap;function b9(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=aL.get(n);return r===void 0&&(r=Function.toString.call(n),aL.set(n,r)),r===hpe}function Sy(e,t,n=!0){tx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function tx(e){const t=e[Fi];return t?t.type_:Array.isArray(e)?1:xp(e)?2:nx(e)?3:0}function bk(e,t){return tx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function y9(e,t,n){const r=tx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function mpe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xp(e){return e instanceof Map}function nx(e){return e instanceof Set}function Gc(e){return e.copy_||e.base_}function yk(e,t){if(xp(e))return new Map(e);if(nx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=b9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Bm(e),r)}else{const r=Bm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function qA(e,t=!1){return rx(e)||ef(e)||!uu(e)||(tx(e)>1&&Object.defineProperties(e,{set:Z0,add:Z0,clear:Z0,delete:Z0}),Object.freeze(e),t&&Object.values(e).forEach(n=>qA(n,!0))),e}function ppe(){$a(2)}var Z0={value:ppe};function rx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var gpe={};function du(e){const t=gpe[e];return t||$a(0,e),t}var zm;function v9(){return zm}function bpe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oL(e,t){t&&(du("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vk(e){xk(e),e.drafts_.forEach(ype),e.drafts_=null}function xk(e){e===zm&&(zm=e.parent_)}function sL(e){return zm=bpe(zm,e)}function ype(e){const t=e[Fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fi].modified_&&(vk(t),$a(4)),uu(e)&&(e=Ey(t,e),t.parent_||ky(t,e)),t.patches_&&du("Patches").generateReplacementPatches_(n[Fi].base_,e,t.patches_,t.inversePatches_)):e=Ey(t,n,[]),vk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==g9?e:void 0}function Ey(e,t,n){if(rx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Fi];if(!i)return Sy(t,(a,o)=>cL(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ky(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Sy(o,(u,d)=>cL(e,i,a,u,d,n,l),r),ky(e,a,!1),n&&e.patches_&&du("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function cL(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=rx(i);if(!(l&&!o)){if(ef(i)){const u=a&&t&&t.type_!==3&&!bk(t.assigned_,r)?a.concat(r):void 0,d=Ey(e,i,u);if(y9(n,r,d),ef(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(uu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Ey(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(xp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ky(e,i)}}}function ky(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qA(t,n)}function vpe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:v9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=YA;n&&(i=[r],a=Um);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var YA={get(e,t){if(t===Fi)return e;const n=Gc(e);if(!bk(n,t))return xpe(e,n,t);const r=n[t];return e.finalized_||!uu(r)?r:r===pS(e.base_,t)?(gS(e),e.copy_[t]=wk(r,e)):r},has(e,t){return t in Gc(e)},ownKeys(e){return Reflect.ownKeys(Gc(e))},set(e,t,n){const r=x9(Gc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=pS(Gc(e),t),a=i?.[Fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(mpe(n,i)&&(n!==void 0||bk(e.base_,t)))return!0;gS(e),_k(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gS(e),_k(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Bm(e.base_)},setPrototypeOf(){$a(12)}},Um={};Sy(YA,(e,t)=>{Um[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Um.deleteProperty=function(e,t){return Um.set.call(this,e,t,void 0)};Um.set=function(e,t,n){return YA.set.call(this,e[0],t,n,e[0])};function pS(e,t){const n=e[Fi];return(n?Gc(n):e)[t]}function xpe(e,t,n){const r=x9(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function x9(e,t){if(!(t in e))return;let n=Bm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bm(n)}}function _k(e){e.modified_||(e.modified_=!0,e.parent_&&_k(e.parent_))}function gS(e){e.copy_||(e.copy_=yk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _pe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&$a(6),r!==void 0&&typeof r!="function"&&$a(7);let i;if(uu(t)){const a=sL(this),o=wk(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?vk(a):xk(a)}return oL(a,r),lL(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===g9&&(i=void 0),this.autoFreeze_&&qA(i,!0),r){const a=[],o=[];du("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else $a(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){uu(e)||$a(8),ef(e)&&(e=wpe(e));const t=sL(this),n=wk(e,void 0);return n[Fi].isManual_=!0,xk(t),n}finishDraft(e,t){const n=e&&e[Fi];(!n||!n.isManual_)&&$a(9);const{scope_:r}=n;return oL(r,t),lL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=du("Patches").applyPatches_;return ef(e)?r(e,t):this.produce(e,i=>r(i,t))}};function wk(e,t){const n=xp(e)?du("MapSet").proxyMap_(e,t):nx(e)?du("MapSet").proxySet_(e,t):vpe(e,t);return(t?t.scope_:v9()).drafts_.push(n),n}function wpe(e){return ef(e)||$a(10,e),_9(e)}function _9(e){if(!uu(e)||rx(e))return e;const t=e[Fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yk(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yk(e,!0);return Sy(n,(i,a)=>{y9(n,i,_9(a))},r),t&&(t.finalized_=!1),n}var Spe=new _pe;Spe.produce;var Epe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w9=mi({name:"legend",initialState:Epe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ua(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:qOe,setLegendSettings:YOe,addLegendPayload:kpe,replaceLegendPayload:Ape,removeLegendPayload:Tpe}=w9.actions,jpe=w9.reducer;function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sk.apply(null,arguments)}function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){Ope(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ope(e,t,n){return(t=Npe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Npe(e){var t=Cpe(e,"string");return typeof t=="symbol"?t:t+""}function Cpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mpe(e){return Array.isArray(e)&&jo(e[0])&&jo(e[1])?e.join(" ~ "):e}var Dpe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,x=()=>{if(a&&a.length){var M={padding:0,margin:0},P=(l?zv(a,l):a).map(($,F)=>{if($.type==="none")return null;var Y=$.formatter||o||Mpe,{value:W,name:H}=$,z=W,V=H;if(Y){var X=Y(W,H,$,F,a);if(Array.isArray(X))[z,V]=X;else if(X!=null)z=X;else return null}var Z=bS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Z},jo(V)?S.createElement("span",{className:"recharts-tooltip-item-name"},V):null,jo(V)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},z),S.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:M},P)}return null},E=bS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=bS({margin:0},i),w=!_r(h),T=w?h:"",N=Qt("recharts-default-tooltip",u),j=Qt("recharts-tooltip-label",d);w&&p&&a!==void 0&&a!==null&&(T=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",Sk({className:N,style:E},C),S.createElement("p",{className:j,style:_},S.isValidElement(T)?T:"".concat(T)),x())},Yh="recharts-tooltip-wrapper",Ppe={visibility:"hidden"};function Rpe(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(Yh,{["".concat(Yh,"-right")]:We(n)&&t&&We(t.x)&&n>=t.x,["".concat(Yh,"-left")]:We(n)&&t&&We(t.x)&&n<t.x,["".concat(Yh,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(Yh,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function dL(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&We(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var x=h,E=b;return x<E?Math.max(p,b):Math.max(h,b)}if(d==null)return 0;var _=p+l,w=b+d;return _>w?Math.max(h,b):Math.max(p,b)}function Lpe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Ipe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,p;return o.height>0&&o.width>0&&n?(h=dL({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=dL({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Lpe({translateX:h,translateY:p,useTranslate3d:l})):d=Ppe,{cssProperties:d,cssClasses:Rpe({translateX:h,translateY:p,coordinate:n})}}function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){Ek(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ek(e,t,n){return(t=$pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $pe(e){var t=Bpe(e,"string");return typeof t=="symbol"?t:t+""}function Bpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zpe extends S.PureComponent{constructor(){super(...arguments),Ek(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ek(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:b,viewBox:x,wrapperStyle:E,lastBoundingBox:_,innerRef:w,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:j}=Ipe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:b,viewBox:x}),C=T?{}:X0(X0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),M=X0(X0({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},E);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:M,ref:w},a)}}var S9=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kk.apply(null,arguments)}function hL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(n),!0).forEach(function(r){Upe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Upe(e,t,n){return(t=Fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fpe(e){var t=Hpe(e,"string");return typeof t=="symbol"?t:t+""}function Hpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pL={curveBasisClosed:tfe,curveBasisOpen:nfe,curveBasis:efe,curveBumpX:Jde,curveBumpY:Qde,curveLinearClosed:rfe,curveLinear:Iv,curveMonotoneX:ife,curveMonotoneY:afe,curveNatural:ofe,curveStep:sfe,curveStepAfter:cfe,curveStepBefore:lfe},Ay=e=>wn(e.x)&&wn(e.y),gL=e=>e.base!=null&&Ay(e.base)&&Ay(e),Kh=e=>e.x,Wh=e=>e.y,Gpe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(DA(e));return(n==="curveMonotone"||n==="curveBump")&&t?pL["".concat(n).concat(t==="vertical"?"Y":"X")]:pL[n]||Iv},qpe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Gpe(t,i),l=a?n.filter(Ay):n,u;if(Array.isArray(r)){var d=n.map((x,E)=>mL(mL({},x),{},{base:r[E]}));i==="vertical"?u=H0().y(Wh).x1(Kh).x0(x=>x.base.x):u=H0().x(Kh).y1(Wh).y0(x=>x.base.y);var h=u.defined(gL).curve(o),p=a?d.filter(gL):d;return h(p)}i==="vertical"&&We(r)?u=H0().y(Wh).x1(Kh).x0(r):We(r)?u=H0().x(Kh).y1(Wh).y0(r):u=a7().x(Kh).y(Wh);var b=u.defined(Ay).curve(o);return b(l)},Eb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?qpe(e):r;return S.createElement("path",kk({},Ga(e),PA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Ype=["x","y","top","left","width","height","className"];function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ak.apply(null,arguments)}function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){Wpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wpe(e,t,n){return(t=Vpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vpe(e){var t=Zpe(e,"string");return typeof t=="symbol"?t:t+""}function Zpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xpe(e,t){if(e==null)return{};var n,r,i=Jpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qpe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),ege=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=Xpe(e,Ype),d=Kpe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!We(t)||!We(n)||!We(a)||!We(o)||!We(r)||!We(i)?null:S.createElement("path",Ak({},pa(d),{className:Qt("recharts-cross",l),d:Qpe(t,n,a,o,r,i)}))};function tge(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){nge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nge(e,t,n){return(t=rge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rge(e){var t=ige(e,"string");return typeof t=="symbol"?t:t+""}function ige(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var age=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),oge=(e,t,n)=>e.map(r=>"".concat(age(r)," ").concat(t,"ms ").concat(n)).join(","),sge=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Fm=(e,t)=>Object.keys(t).reduce((n,r)=>vL(vL({},n),{},{[r]:e(r,t[r])}),{});function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(r){lge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lge(e,t,n){return(t=cge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cge(e){var t=uge(e,"string");return typeof t=="symbol"?t:t+""}function uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=(e,t,n)=>e+(t-e)*n,Tk=e=>{var{from:t,to:n}=e;return t!==n},E9=(e,t,n)=>{var r=Fm((i,a)=>{if(Tk(a)){var[o,l]=e(a.from,a.to,a.velocity);return Yn(Yn({},a),{},{from:o,velocity:l})}return a},t);return n<1?Fm((i,a)=>Tk(a)?Yn(Yn({},a),{},{velocity:Ty(a.velocity,r[i].velocity,n),from:Ty(a.from,r[i].from,n)}):a,t):E9(e,r,n-1)};function dge(e,t,n,r,i,a){var o,l=r.reduce((b,x)=>Yn(Yn({},b),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>Fm((b,x)=>x.from,l),d=()=>!Object.values(l).filter(Tk).length,h=null,p=b=>{o||(o=b);var x=b-o,E=x/n.dt;l=E9(n,l,E),i(Yn(Yn(Yn({},e),t),u())),o=b,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function fge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Yn(Yn({},p),{},{[b]:[e[b],t[b]]}),{}),d,h=p=>{d||(d=p);var b=(p-d)/r,x=Fm((_,w)=>Ty(...w,n(b)),u);if(a(Yn(Yn(Yn({},e),t),x)),b<1)l=o.setTimeout(h);else{var E=Fm((_,w)=>Ty(...w,n(1)),u);a(Yn(Yn(Yn({},e),t),E))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const hge=(e,t,n,r,i,a)=>{var o=sge(e,t);return n==null?()=>(i(Yn(Yn({},e),t)),()=>{}):n.isStepper===!0?dge(e,t,n,o,i,a):fge(e,t,n,r,o,i,a)};var jy=1e-4,k9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],A9=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),_L=(e,t)=>n=>{var r=k9(e,t);return A9(r,n)},mge=(e,t)=>n=>{var r=k9(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return A9(i,n)},pge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},gge=(e,t,n,r)=>{var i=_L(e,n),a=_L(t,r),o=mge(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,b=0;b<8;++b){var x=i(p)-h,E=o(p);if(Math.abs(x-h)<jy||E<jy)return a(p);p=l(p-x/E)}return a(p)};return u.isStepper=!1,u},wL=function(){return gge(...pge(...arguments))},bge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,p=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<jy&&Math.abs(p)<jy?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},yge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wL(e);case"spring":return bge();default:if(e.split("(")[0]==="cubic-bezier")return wL(e)}return typeof e=="function"?e:null};function vge(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class xge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function _ge(){return vge(new xge)}var wge=S.createContext(_ge);function Sge(e,t){var n=S.useContext(wge);return S.useMemo(()=>t??n(e),[e,t,n])}var Ege=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bf={devToolsEnabled:!1,isSsr:Ege()},kge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SL={t:0},yS={t:1};function T9(e){var t=qi(e,kge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!bf.isSsr:n,p=Sge(t.animationId,t.animationManager),[b,x]=S.useState(h?SL:yS),E=S.useRef(null);return S.useEffect(()=>{h||x(yS)},[h]),S.useEffect(()=>{if(!h||!r)return mp;var _=hge(SL,yS,yge(a),i,x,p.getTimeoutController()),w=()=>{E.current=_()};return p.start([u,o,w,i,l]),()=>{p.stop(),E.current&&E.current(),l()}},[h,r,i,a,o,u,l,p]),d(b.t)}function j9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Rm(t)),r=S.useRef(e);return r.current!==e&&(n.current=Rm(t),r.current=e),n.current}var Age=["radius"],Tge=["radius"];function EL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(n),!0).forEach(function(r){jge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jge(e,t,n){return(t=Oge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oge(e){var t=Nge(e,"string");return typeof t=="symbol"?t:t+""}function Nge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function AL(e,t){if(e==null)return{};var n,r,i=Cge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);d="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+n-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-l*x,",").concat(t+r,`
            L `).concat(e+l*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*x," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},jL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mge=e=>{var t=qi(e,jL),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:x,isAnimationActive:E,isUpdateAnimationActive:_}=t,w=S.useRef(l),T=S.useRef(u),N=S.useRef(a),j=S.useRef(o),C=S.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),M=j9(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=Qt("recharts-rectangle",h);if(!_){var $=pa(t),{radius:F}=$,Y=AL($,Age);return S.createElement("path",Oy({},Y,{radius:typeof d=="number"?d:void 0,className:P,d:TL(a,o,l,u,d)}))}var W=w.current,H=T.current,z=N.current,V=j.current,X="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),q=oge(["strokeDasharray"],b,typeof p=="string"?p:jL.animationEasing);return S.createElement(T9,{animationId:M,key:M,canBegin:r>0,duration:b,easing:p,isActive:_,begin:x},Q=>{var ne=vo(W,l,Q),ue=vo(H,u,Q),se=vo(z,a,Q),B=vo(V,o,Q);n.current&&(w.current=ne,T.current=ue,N.current=se,j.current=B);var K;E?Q>0?K={transition:q,strokeDasharray:Z}:K={strokeDasharray:X}:K={strokeDasharray:Z};var ie=pa(t),{radius:J}=ie,oe=AL(ie,Tge);return S.createElement("path",Oy({},oe,{radius:typeof d=="number"?d:void 0,className:P,d:TL(se,B,ne,ue,d),ref:n,style:kL(kL({},K),t.style)}))})};function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(n),!0).forEach(function(r){Dge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dge(e,t,n){return(t=Pge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pge(e){var t=Rge(e,"string");return typeof t=="symbol"?t:t+""}function Rge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny=Math.PI/180,Lge=e=>e*180/Math.PI,xr=(e,t,n,r)=>({x:e+Math.cos(-Ny*r)*n,y:t+Math.sin(-Ny*r)*n}),Ige=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},$ge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Bge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=$ge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Lge(u),angleInRadian:u}},zge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Uge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Fge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Bge({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=zge(t),h=a,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?NL(NL({},t),{},{radius:i,angle:Uge(h,t)}):null};function O9(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=xr(t,n,r,i),l=xr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(null,arguments)}var Hge=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},J0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/Ny,p=u?i:i+a*h,b=xr(t,n,d,p),x=xr(t,n,r,p),E=u?i-a*h:i,_=xr(t,n,d*Math.cos(h*Ny),E);return{center:b,circleTangency:x,lineTangency:_,theta:h}},N9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Hge(a,o),u=a+l,d=xr(t,n,i,a),h=xr(t,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=xr(t,n,r,a),x=xr(t,n,r,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Gge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=ua(d-u),{circleTangency:p,lineTangency:b,theta:x}=J0({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:E,lineTangency:_,theta:w}=J0({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),T=l?Math.abs(u-d):Math.abs(u-d)-x-w;if(T<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):N9({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:C,theta:M}=J0({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:$,theta:F}=J0({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),Y=l?Math.abs(u-d):Math.abs(u-d)-M-F;if(Y<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},qge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Yge=e=>{var t=qi(e,qge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=t;if(a<i||d===h)return null;var b=Qt("recharts-sector",p),x=a-i,E=Il(o,x,0,!0),_;return E>0&&Math.abs(d-h)<360?_=Gge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):_=N9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),S.createElement("path",jk({},pa(t),{className:b,d:_}))};function Kge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(b7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=xr(r,i,a,l),d=xr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return O9(t)}}var vS={},xS={},_S={},CL;function Wge(){return CL||(CL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(_S)),_S}var ML;function Vge(){return ML||(ML=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wge();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xS)),xS}var DL;function Zge(){return DL||(DL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O7(),n=Vge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(vS)),vS}var wS,PL;function Xge(){return PL||(PL=1,wS=Zge().range),wS}var Jge=Xge();const C9=hi(Jge);function Ml(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KA(e){let t,n,r;e.length!==2?(t=Ml,n=(l,u)=>Ml(e(l),u),r=(l,u)=>e(l)-u):(t=e===Ml||e===Qge?e:e0e,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function o(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function e0e(){return 0}function M9(e){return e===null?NaN:+e}function*t0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const n0e=KA(Ml),_p=n0e.right;KA(M9).center;class RL extends Map{constructor(t,n=a0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(LL(this,t))}has(t){return super.has(LL(this,t))}set(t,n){return super.set(r0e(this,t),n)}delete(t){return super.delete(i0e(this,t))}}function LL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function r0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function i0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function a0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function o0e(e=Ml){if(e===Ml)return D9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function D9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const s0e=Math.sqrt(50),l0e=Math.sqrt(10),c0e=Math.sqrt(2);function Cy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=s0e?10:a>=l0e?5:a>=c0e?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?Cy(e,t,n*2):[l,u,d]}function Ok(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Cy(t,e,n):Cy(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function Nk(e,t,n){return t=+t,e=+e,n=+n,Cy(e,t,n)[2]}function Ck(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Nk(t,e,n):Nk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function IL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $L(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function P9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?D9:o0e(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),x=Math.max(n,Math.floor(t-d*p/u+b)),E=Math.min(r,Math.floor(t+(u-d)*p/u+b));P9(e,t,x,E,i)}const a=e[t];let o=n,l=r;for(Vh(e,n,t),i(e[r],a)>0&&Vh(e,n,r);o<l;){for(Vh(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Vh(e,n,l):(++l,Vh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Vh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function u0e(e,t,n){if(e=Float64Array.from(t0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return $L(e);if(t>=1)return IL(e);var r,i=(r-1)*t,a=Math.floor(i),o=IL(P9(e,a).subarray(0,a+1)),l=$L(e.subarray(a+1));return o+(l-o)*(i-a)}}function d0e(e,t,n=M9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function f0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mk=Symbol("implicit");function WA(){var e=new RL,t=[],n=[],r=Mk;function i(a){let o=e.get(a);if(o===void 0){if(r!==Mk)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new RL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WA(t,n).unknown(r)},xa.apply(i,arguments),i}function VA(){var e=WA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function p(){var b=t().length,x=i<r,E=x?i:r,_=x?r:i;a=(_-E)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),E+=(_-E-a*(b-u))*h,o=a*(1-u),l&&(E=Math.round(E),o=Math.round(o));var w=f0e(b).map(function(T){return E+a*T});return n(x?w.reverse():w)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return VA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},xa.apply(p(),arguments)}function R9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return R9(t())},e}function h0e(){return R9(VA.apply(null,arguments).paddingInner(1))}function ZA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function L9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wp(){}var Hm=.7,My=1/Hm,Bd="\\s*([+-]?\\d+)\\s*",Gm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m0e=/^#([0-9a-f]{3,8})$/,p0e=new RegExp(`^rgb\\(${Bd},${Bd},${Bd}\\)$`),g0e=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),b0e=new RegExp(`^rgba\\(${Bd},${Bd},${Bd},${Gm}\\)$`),y0e=new RegExp(`^rgba\\(${ko},${ko},${ko},${Gm}\\)$`),v0e=new RegExp(`^hsl\\(${Gm},${ko},${ko}\\)$`),x0e=new RegExp(`^hsla\\(${Gm},${ko},${ko},${Gm}\\)$`),BL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZA(wp,qm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zL,formatHex:zL,formatHex8:_0e,formatHsl:w0e,formatRgb:UL,toString:UL});function zL(){return this.rgb().formatHex()}function _0e(){return this.rgb().formatHex8()}function w0e(){return I9(this).formatHsl()}function UL(){return this.rgb().formatRgb()}function qm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=m0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?FL(t):n===3?new ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Q0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Q0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=p0e.exec(e))?new ci(t[1],t[2],t[3],1):(t=g0e.exec(e))?new ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=b0e.exec(e))?Q0(t[1],t[2],t[3],t[4]):(t=y0e.exec(e))?Q0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v0e.exec(e))?qL(t[1],t[2]/100,t[3]/100,1):(t=x0e.exec(e))?qL(t[1],t[2]/100,t[3]/100,t[4]):BL.hasOwnProperty(e)?FL(BL[e]):e==="transparent"?new ci(NaN,NaN,NaN,0):null}function FL(e){return new ci(e>>16&255,e>>8&255,e&255,1)}function Q0(e,t,n,r){return r<=0&&(e=t=n=NaN),new ci(e,t,n,r)}function S0e(e){return e instanceof wp||(e=qm(e)),e?(e=e.rgb(),new ci(e.r,e.g,e.b,e.opacity)):new ci}function Dk(e,t,n,r){return arguments.length===1?S0e(e):new ci(e,t,n,r??1)}function ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ZA(ci,Dk,L9(wp,{brighter(e){return e=e==null?My:Math.pow(My,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hm:Math.pow(Hm,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ci(iu(this.r),iu(this.g),iu(this.b),Dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HL,formatHex:HL,formatHex8:E0e,formatRgb:GL,toString:GL}));function HL(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}`}function E0e(){return`#${Qc(this.r)}${Qc(this.g)}${Qc(this.b)}${Qc((isNaN(this.opacity)?1:this.opacity)*255)}`}function GL(){const e=Dy(this.opacity);return`${e===1?"rgb(":"rgba("}${iu(this.r)}, ${iu(this.g)}, ${iu(this.b)}${e===1?")":`, ${e})`}`}function Dy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function iu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qc(e){return e=iu(e),(e<16?"0":"")+e.toString(16)}function qL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ba(e,t,n,r)}function I9(e){if(e instanceof Ba)return new Ba(e.h,e.s,e.l,e.opacity);if(e instanceof wp||(e=qm(e)),!e)return new Ba;if(e instanceof Ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ba(o,l,u,e.opacity)}function k0e(e,t,n,r){return arguments.length===1?I9(e):new Ba(e,t,n,r??1)}function Ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ZA(Ba,k0e,L9(wp,{brighter(e){return e=e==null?My:Math.pow(My,e),new Ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hm:Math.pow(Hm,e),new Ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ci(SS(e>=240?e-240:e+120,i,r),SS(e,i,r),SS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ba(YL(this.h),eb(this.s),eb(this.l),Dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dy(this.opacity);return`${e===1?"hsl(":"hsla("}${YL(this.h)}, ${eb(this.s)*100}%, ${eb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YL(e){return e=(e||0)%360,e<0?e+360:e}function eb(e){return Math.max(0,Math.min(1,e||0))}function SS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const XA=e=>()=>e;function A0e(e,t){return function(n){return e+n*t}}function T0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function j0e(e){return(e=+e)==1?$9:function(t,n){return n-t?T0e(t,n,e):XA(isNaN(t)?n:t)}}function $9(e,t){var n=t-e;return n?A0e(e,n):XA(isNaN(e)?t:e)}const KL=(function e(t){var n=j0e(t);function r(i,a){var o=n((i=Dk(i)).r,(a=Dk(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=$9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function O0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function N0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=yf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function M0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Py(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function D0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Pk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ES=new RegExp(Pk.source,"g");function P0e(e){return function(){return e}}function R0e(e){return function(t){return e(t)+""}}function L0e(e,t){var n=Pk.lastIndex=ES.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Pk.exec(e))&&(i=ES.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Py(r,i)})),n=ES.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?R0e(u[0].x):P0e(t):(t=u.length,function(d){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function yf(e,t){var n=typeof t,r;return t==null||n==="boolean"?XA(t):(n==="number"?Py:n==="string"?(r=qm(t))?(t=r,KL):L0e:t instanceof qm?KL:t instanceof Date?M0e:N0e(t)?O0e:Array.isArray(t)?C0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?D0e:Py)(e,t)}function JA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function I0e(e,t){t===void 0&&(t=e,e=yf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function $0e(e){return function(){return e}}function Ry(e){return+e}var WL=[0,1];function Ur(e){return e}function Rk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$0e(isNaN(t)?NaN:.5)}function B0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function z0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Rk(i,r),a=n(o,a)):(r=Rk(r,i),a=n(a,o)),function(l){return a(r(l))}}function U0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Rk(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=_p(e,l,1,r)-1;return a[u](i[u](l))}}function Sp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ix(){var e=WL,t=WL,n=yf,r,i,a,o=Ur,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Ur&&(o=B0e(e[0],e[b-1])),l=b>2?U0e:z0e,u=d=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((d||(d=l(t,e.map(r),Py)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,Ry),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=JA,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Ur,h()):o!==Ur},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,x){return r=b,i=x,h()}}function QA(){return ix()(Ur,Ur)}function F0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ly(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tf(e){return e=Ly(Math.abs(e)),e?e[1]:NaN}function H0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function G0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var q0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ym(e){if(!(t=q0e.exec(e)))throw new Error("invalid format: "+e);var t;return new eT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ym.prototype=eT.prototype;function eT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Y0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var B9;function K0e(e,t){var n=Ly(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(B9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ly(e,Math.max(0,t+a-1))[0]}function VL(e,t){var n=Ly(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ZL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:F0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VL(e*100,t),r:VL,s:K0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XL(e){return e}var JL=Array.prototype.map,QL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W0e(e){var t=e.grouping===void 0||e.thousands===void 0?XL:H0e(JL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?XL:G0e(JL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=Ym(p);var b=p.fill,x=p.align,E=p.sign,_=p.symbol,w=p.zero,T=p.width,N=p.comma,j=p.precision,C=p.trim,M=p.type;M==="n"?(N=!0,M="g"):ZL[M]||(j===void 0&&(j=12),C=!0,M="g"),(w||b==="0"&&x==="=")&&(w=!0,b="0",x="=");var P=_==="$"?n:_==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=_==="$"?r:/[%p]/.test(M)?o:"",F=ZL[M],Y=/[defgprs%]/.test(M);j=j===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function W(H){var z=P,V=$,X,Z,q;if(M==="c")V=F(H)+V,H="";else{H=+H;var Q=H<0||1/H<0;if(H=isNaN(H)?u:F(Math.abs(H),j),C&&(H=Y0e(H)),Q&&+H==0&&E!=="+"&&(Q=!1),z=(Q?E==="("?E:l:E==="-"||E==="("?"":E)+z,V=(M==="s"?QL[8+B9/3]:"")+V+(Q&&E==="("?")":""),Y){for(X=-1,Z=H.length;++X<Z;)if(q=H.charCodeAt(X),48>q||q>57){V=(q===46?i+H.slice(X+1):H.slice(X))+V,H=H.slice(0,X);break}}}N&&!w&&(H=t(H,1/0));var ne=z.length+H.length+V.length,ue=ne<T?new Array(T-ne+1).join(b):"";switch(N&&w&&(H=t(ue+H,ue.length?T-V.length:1/0),ue=""),x){case"<":H=z+H+V+ue;break;case"=":H=z+ue+H+V;break;case"^":H=ue.slice(0,ne=ue.length>>1)+z+H+V+ue.slice(ne);break;default:H=ue+z+H+V;break}return a(H)}return W.toString=function(){return p+""},W}function h(p,b){var x=d((p=Ym(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(tf(b)/3)))*3,_=Math.pow(10,-E),w=QL[8+E/3];return function(T){return x(_*T)+w}}return{format:d,formatPrefix:h}}var tb,tT,z9;V0e({thousands:",",grouping:[3],currency:["$",""]});function V0e(e){return tb=W0e(e),tT=tb.format,z9=tb.formatPrefix,tb}function Z0e(e){return Math.max(0,-tf(Math.abs(e)))}function X0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tf(t)/3)))*3-tf(Math.abs(e)))}function J0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tf(t)-tf(e))+1}function U9(e,t,n,r){var i=Ck(e,t,n),a;switch(r=Ym(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=X0e(i,o))&&(r.precision=a),z9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=J0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Z0e(i))&&(r.precision=a-(r.type==="%")*2);break}}return tT(r)}function zl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ok(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return U9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=Nk(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function F9(){var e=QA();return e.copy=function(){return Sp(e,F9())},xa.apply(e,arguments),zl(e)}function H9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ry),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return H9(e).unknown(t)},e=arguments.length?Array.from(e,Ry):[0,1],zl(n)}function G9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function eI(e){return Math.log(e)}function tI(e){return Math.exp(e)}function Q0e(e){return-Math.log(-e)}function ebe(e){return-Math.exp(-e)}function tbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nbe(e){return e===10?tbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nI(e){return(t,n)=>-e(-t,n)}function nT(e){const t=e(eI,tI),n=t.domain;let r=10,i,a;function o(){return i=rbe(r),a=nbe(r),n()[0]<0?(i=nI(i),a=nI(a),e(Q0e,ebe)):e(eI,tI),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let b=i(d),x=i(h),E,_;const w=l==null?10:+l;let T=[];if(!(r%1)&&x-b<w){if(b=Math.floor(b),x=Math.ceil(x),d>0){for(;b<=x;++b)for(E=1;E<r;++E)if(_=b<0?E/a(-b):E*a(b),!(_<d)){if(_>h)break;T.push(_)}}else for(;b<=x;++b)for(E=r-1;E>=1;--E)if(_=b>0?E/a(-b):E*a(b),!(_<d)){if(_>h)break;T.push(_)}T.length*2<w&&(T=Ok(d,h,w))}else T=Ok(b,x,Math.min(x-b,w)).map(a);return p?T.reverse():T},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ym(u)).precision==null&&(u.trim=!0),u=tT(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},t.nice=()=>n(G9(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function q9(){const e=nT(ix()).domain([1,10]);return e.copy=()=>Sp(e,q9()).base(e.base()),xa.apply(e,arguments),e}function rI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rT(e){var t=1,n=e(rI(t),iI(t));return n.constant=function(r){return arguments.length?e(rI(t=+r),iI(t)):t},zl(n)}function Y9(){var e=rT(ix());return e.copy=function(){return Sp(e,Y9()).constant(e.constant())},xa.apply(e,arguments)}function aI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ibe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function abe(e){return e<0?-e*e:e*e}function iT(e){var t=e(Ur,Ur),n=1;function r(){return n===1?e(Ur,Ur):n===.5?e(ibe,abe):e(aI(n),aI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},zl(t)}function aT(){var e=iT(ix());return e.copy=function(){return Sp(e,aT()).exponent(e.exponent())},xa.apply(e,arguments),e}function obe(){return aT.apply(null,arguments).exponent(.5)}function oI(e){return Math.sign(e)*e*e}function sbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function K9(){var e=QA(),t=[0,1],n=!1,r;function i(a){var o=sbe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(oI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Ry)).map(oI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return K9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xa.apply(i,arguments),zl(i)}function W9(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=d0e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[_p(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ml),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return W9().domain(e).range(t).unknown(r)},xa.apply(a,arguments)}function V9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[_p(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return V9().domain([e,t]).range(i).unknown(a)},xa.apply(zl(o),arguments)}function Z9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[_p(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Z9().domain(e).range(t).unknown(n)},xa.apply(i,arguments)}const kS=new Date,AS=new Date;function Wn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>Wn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(kS.setTime(+a),AS.setTime(+o),e(kS),e(AS),Math.floor(n(kS,AS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Iy=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Iy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Iy);Iy.range;const fs=1e3,da=fs*60,hs=da*60,ws=hs*24,oT=ws*7,sI=ws*30,TS=ws*365,eu=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fs)},(e,t)=>(t-e)/fs,e=>e.getUTCSeconds());eu.range;const sT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fs)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getMinutes());sT.range;const lT=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCMinutes());lT.range;const cT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fs-e.getMinutes()*da)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getHours());cT.range;const uT=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCHours());uT.range;const Ep=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*da)/ws,e=>e.getDate()-1);Ep.range;const ax=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ws,e=>e.getUTCDate()-1);ax.range;const X9=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ws,e=>Math.floor(e/ws));X9.range;function vu(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*da)/oT)}const ox=vu(0),$y=vu(1),lbe=vu(2),cbe=vu(3),nf=vu(4),ube=vu(5),dbe=vu(6);ox.range;$y.range;lbe.range;cbe.range;nf.range;ube.range;dbe.range;function xu(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/oT)}const sx=xu(0),By=xu(1),fbe=xu(2),hbe=xu(3),rf=xu(4),mbe=xu(5),pbe=xu(6);sx.range;By.range;fbe.range;hbe.range;rf.range;mbe.range;pbe.range;const dT=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dT.range;const fT=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fT.range;const Ss=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ss.range;const Es=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Es.range;function J9(e,t,n,r,i,a){const o=[[eu,1,fs],[eu,5,5*fs],[eu,15,15*fs],[eu,30,30*fs],[a,1,da],[a,5,5*da],[a,15,15*da],[a,30,30*da],[i,1,hs],[i,3,3*hs],[i,6,6*hs],[i,12,12*hs],[r,1,ws],[r,2,2*ws],[n,1,oT],[t,1,sI],[t,3,3*sI],[e,1,TS]];function l(d,h,p){const b=h<d;b&&([d,h]=[h,d]);const x=p&&typeof p.range=="function"?p:u(d,h,p),E=x?x.range(d,+h+1):[];return b?E.reverse():E}function u(d,h,p){const b=Math.abs(h-d)/p,x=KA(([,,w])=>w).right(o,b);if(x===o.length)return e.every(Ck(d/TS,h/TS,p));if(x===0)return Iy.every(Math.max(Ck(d,h,p),1));const[E,_]=o[b/o[x-1][2]<o[x][2]/b?x-1:x];return E.every(_)}return[l,u]}const[gbe,bbe]=J9(Es,fT,sx,X9,uT,lT),[ybe,vbe]=J9(Ss,dT,ox,Ep,cT,sT);function jS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function OS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function xbe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=Xh(i),h=Jh(i),p=Xh(a),b=Jh(a),x=Xh(o),E=Jh(o),_=Xh(l),w=Jh(l),T=Xh(u),N=Jh(u),j={a:Q,A:ne,b:ue,B:se,c:null,d:hI,e:hI,f:Hbe,g:Qbe,G:tye,H:zbe,I:Ube,j:Fbe,L:Q9,m:Gbe,M:qbe,p:B,q:K,Q:gI,s:bI,S:Ybe,u:Kbe,U:Wbe,V:Vbe,w:Zbe,W:Xbe,x:null,X:null,y:Jbe,Y:eye,Z:nye,"%":pI},C={a:ie,A:J,b:oe,B:de,c:null,d:mI,e:mI,f:oye,g:gye,G:yye,H:rye,I:iye,j:aye,L:tz,m:sye,M:lye,p:pe,q:ye,Q:gI,s:bI,S:cye,u:uye,U:dye,V:fye,w:hye,W:mye,x:null,X:null,y:pye,Y:bye,Z:vye,"%":pI},M={a:W,A:H,b:z,B:V,c:X,d:dI,e:dI,f:Lbe,g:uI,G:cI,H:fI,I:fI,j:Mbe,L:Rbe,m:Cbe,M:Dbe,p:Y,q:Nbe,Q:$be,s:Bbe,S:Pbe,u:kbe,U:Abe,V:Tbe,w:Ebe,W:jbe,x:Z,X:q,y:uI,Y:cI,Z:Obe,"%":Ibe};j.x=P(n,j),j.X=P(r,j),j.c=P(t,j),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(re,je){return function(Ne){var ve=[],Ze=-1,Ce=0,_e=re.length,Oe,Ie,Ve;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ze<_e;)re.charCodeAt(Ze)===37&&(ve.push(re.slice(Ce,Ze)),(Ie=lI[Oe=re.charAt(++Ze)])!=null?Oe=re.charAt(++Ze):Ie=Oe==="e"?" ":"0",(Ve=je[Oe])&&(Oe=Ve(Ne,Ie)),ve.push(Oe),Ce=Ze+1);return ve.push(re.slice(Ce,Ze)),ve.join("")}}function $(re,je){return function(Ne){var ve=Zh(1900,void 0,1),Ze=F(ve,re,Ne+="",0),Ce,_e;if(Ze!=Ne.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(je&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ce=OS(Zh(ve.y,0,1)),_e=Ce.getUTCDay(),Ce=_e>4||_e===0?By.ceil(Ce):By(Ce),Ce=ax.offset(Ce,(ve.V-1)*7),ve.y=Ce.getUTCFullYear(),ve.m=Ce.getUTCMonth(),ve.d=Ce.getUTCDate()+(ve.w+6)%7):(Ce=jS(Zh(ve.y,0,1)),_e=Ce.getDay(),Ce=_e>4||_e===0?$y.ceil(Ce):$y(Ce),Ce=Ep.offset(Ce,(ve.V-1)*7),ve.y=Ce.getFullYear(),ve.m=Ce.getMonth(),ve.d=Ce.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),_e="Z"in ve?OS(Zh(ve.y,0,1)).getUTCDay():jS(Zh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(_e+5)%7:ve.w+ve.U*7-(_e+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,OS(ve)):jS(ve)}}function F(re,je,Ne,ve){for(var Ze=0,Ce=je.length,_e=Ne.length,Oe,Ie;Ze<Ce;){if(ve>=_e)return-1;if(Oe=je.charCodeAt(Ze++),Oe===37){if(Oe=je.charAt(Ze++),Ie=M[Oe in lI?je.charAt(Ze++):Oe],!Ie||(ve=Ie(re,Ne,ve))<0)return-1}else if(Oe!=Ne.charCodeAt(ve++))return-1}return ve}function Y(re,je,Ne){var ve=d.exec(je.slice(Ne));return ve?(re.p=h.get(ve[0].toLowerCase()),Ne+ve[0].length):-1}function W(re,je,Ne){var ve=x.exec(je.slice(Ne));return ve?(re.w=E.get(ve[0].toLowerCase()),Ne+ve[0].length):-1}function H(re,je,Ne){var ve=p.exec(je.slice(Ne));return ve?(re.w=b.get(ve[0].toLowerCase()),Ne+ve[0].length):-1}function z(re,je,Ne){var ve=T.exec(je.slice(Ne));return ve?(re.m=N.get(ve[0].toLowerCase()),Ne+ve[0].length):-1}function V(re,je,Ne){var ve=_.exec(je.slice(Ne));return ve?(re.m=w.get(ve[0].toLowerCase()),Ne+ve[0].length):-1}function X(re,je,Ne){return F(re,t,je,Ne)}function Z(re,je,Ne){return F(re,n,je,Ne)}function q(re,je,Ne){return F(re,r,je,Ne)}function Q(re){return o[re.getDay()]}function ne(re){return a[re.getDay()]}function ue(re){return u[re.getMonth()]}function se(re){return l[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function K(re){return 1+~~(re.getMonth()/3)}function ie(re){return o[re.getUTCDay()]}function J(re){return a[re.getUTCDay()]}function oe(re){return u[re.getUTCMonth()]}function de(re){return l[re.getUTCMonth()]}function pe(re){return i[+(re.getUTCHours()>=12)]}function ye(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var je=P(re+="",j);return je.toString=function(){return re},je},parse:function(re){var je=$(re+="",!1);return je.toString=function(){return re},je},utcFormat:function(re){var je=P(re+="",C);return je.toString=function(){return re},je},utcParse:function(re){var je=$(re+="",!0);return je.toString=function(){return re},je}}}var lI={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,_be=/^%/,wbe=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Sbe(e){return e.replace(wbe,"\\$&")}function Xh(e){return new RegExp("^(?:"+e.map(Sbe).join("|")+")","i")}function Jh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ebe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function kbe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Abe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Tbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function jbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function cI(e,t,n){var r=dr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function uI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Obe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nbe(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Cbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Mbe(e,t,n){var r=dr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fI(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Dbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Pbe(e,t,n){var r=dr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Rbe(e,t,n){var r=dr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Lbe(e,t,n){var r=dr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ibe(e,t,n){var r=_be.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $be(e,t,n){var r=dr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Bbe(e,t,n){var r=dr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hI(e,t){return At(e.getDate(),t,2)}function zbe(e,t){return At(e.getHours(),t,2)}function Ube(e,t){return At(e.getHours()%12||12,t,2)}function Fbe(e,t){return At(1+Ep.count(Ss(e),e),t,3)}function Q9(e,t){return At(e.getMilliseconds(),t,3)}function Hbe(e,t){return Q9(e,t)+"000"}function Gbe(e,t){return At(e.getMonth()+1,t,2)}function qbe(e,t){return At(e.getMinutes(),t,2)}function Ybe(e,t){return At(e.getSeconds(),t,2)}function Kbe(e){var t=e.getDay();return t===0?7:t}function Wbe(e,t){return At(ox.count(Ss(e)-1,e),t,2)}function ez(e){var t=e.getDay();return t>=4||t===0?nf(e):nf.ceil(e)}function Vbe(e,t){return e=ez(e),At(nf.count(Ss(e),e)+(Ss(e).getDay()===4),t,2)}function Zbe(e){return e.getDay()}function Xbe(e,t){return At($y.count(Ss(e)-1,e),t,2)}function Jbe(e,t){return At(e.getFullYear()%100,t,2)}function Qbe(e,t){return e=ez(e),At(e.getFullYear()%100,t,2)}function eye(e,t){return At(e.getFullYear()%1e4,t,4)}function tye(e,t){var n=e.getDay();return e=n>=4||n===0?nf(e):nf.ceil(e),At(e.getFullYear()%1e4,t,4)}function nye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function mI(e,t){return At(e.getUTCDate(),t,2)}function rye(e,t){return At(e.getUTCHours(),t,2)}function iye(e,t){return At(e.getUTCHours()%12||12,t,2)}function aye(e,t){return At(1+ax.count(Es(e),e),t,3)}function tz(e,t){return At(e.getUTCMilliseconds(),t,3)}function oye(e,t){return tz(e,t)+"000"}function sye(e,t){return At(e.getUTCMonth()+1,t,2)}function lye(e,t){return At(e.getUTCMinutes(),t,2)}function cye(e,t){return At(e.getUTCSeconds(),t,2)}function uye(e){var t=e.getUTCDay();return t===0?7:t}function dye(e,t){return At(sx.count(Es(e)-1,e),t,2)}function nz(e){var t=e.getUTCDay();return t>=4||t===0?rf(e):rf.ceil(e)}function fye(e,t){return e=nz(e),At(rf.count(Es(e),e)+(Es(e).getUTCDay()===4),t,2)}function hye(e){return e.getUTCDay()}function mye(e,t){return At(By.count(Es(e)-1,e),t,2)}function pye(e,t){return At(e.getUTCFullYear()%100,t,2)}function gye(e,t){return e=nz(e),At(e.getUTCFullYear()%100,t,2)}function bye(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function yye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?rf(e):rf.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function vye(){return"+0000"}function pI(){return"%"}function gI(e){return+e}function bI(e){return Math.floor(+e/1e3)}var bd,rz,iz;xye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xye(e){return bd=xbe(e),rz=bd.format,bd.parse,iz=bd.utcFormat,bd.utcParse,bd}function _ye(e){return new Date(e)}function wye(e){return e instanceof Date?+e:+new Date(+e)}function hT(e,t,n,r,i,a,o,l,u,d){var h=QA(),p=h.invert,b=h.domain,x=d(".%L"),E=d(":%S"),_=d("%I:%M"),w=d("%I %p"),T=d("%a %d"),N=d("%b %d"),j=d("%B"),C=d("%Y");function M(P){return(u(P)<P?x:l(P)<P?E:o(P)<P?_:a(P)<P?w:r(P)<P?i(P)<P?T:N:n(P)<P?j:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,wye)):b().map(_ye)},h.ticks=function(P){var $=b();return e($[0],$[$.length-1],P??10)},h.tickFormat=function(P,$){return $==null?M:d($)},h.nice=function(P){var $=b();return(!P||typeof P.range!="function")&&(P=t($[0],$[$.length-1],P??10)),P?b(G9($,P)):h},h.copy=function(){return Sp(h,hT(e,t,n,r,i,a,o,l,u,d))},h}function Sye(){return xa.apply(hT(ybe,vbe,Ss,dT,ox,Ep,cT,sT,eu,rz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Eye(){return xa.apply(hT(gbe,bbe,Es,fT,sx,ax,uT,lT,eu,iz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lx(){var e=0,t=1,n,r,i,a,o=Ur,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(b){var x,E;return arguments.length?([x,E]=b,o=p(x,E),d):[o(0),o(1)]}}return d.range=h(yf),d.rangeRound=h(JA),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Ul(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function az(){var e=zl(lx()(Ur));return e.copy=function(){return Ul(e,az())},Cs.apply(e,arguments)}function oz(){var e=nT(lx()).domain([1,10]);return e.copy=function(){return Ul(e,oz()).base(e.base())},Cs.apply(e,arguments)}function sz(){var e=rT(lx());return e.copy=function(){return Ul(e,sz()).constant(e.constant())},Cs.apply(e,arguments)}function mT(){var e=iT(lx());return e.copy=function(){return Ul(e,mT()).exponent(e.exponent())},Cs.apply(e,arguments)}function kye(){return mT.apply(null,arguments).exponent(.5)}function lz(){var e=[],t=Ur;function n(r){if(r!=null&&!isNaN(r=+r))return t((_p(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ml),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>u0e(e,a/r))},n.copy=function(){return lz(t).domain(e)},Cs.apply(n,arguments)}function cx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Ur,h,p=!1,b;function x(_){return isNaN(_=+_)?b:(_=.5+((_=+h(_))-a)*(r*_<r*a?l:u),d(p?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,n]=_,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x):[e,t,n]},x.clamp=function(_){return arguments.length?(p=!!_,x):p},x.interpolator=function(_){return arguments.length?(d=_,x):d};function E(_){return function(w){var T,N,j;return arguments.length?([T,N,j]=w,d=I0e(_,[T,N,j]),x):[d(0),d(.5),d(1)]}}return x.range=E(yf),x.rangeRound=E(JA),x.unknown=function(_){return arguments.length?(b=_,x):b},function(_){return h=_,i=_(e),a=_(t),o=_(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x}}function cz(){var e=zl(cx()(Ur));return e.copy=function(){return Ul(e,cz())},Cs.apply(e,arguments)}function uz(){var e=nT(cx()).domain([.1,1,10]);return e.copy=function(){return Ul(e,uz()).base(e.base())},Cs.apply(e,arguments)}function dz(){var e=rT(cx());return e.copy=function(){return Ul(e,dz()).constant(e.constant())},Cs.apply(e,arguments)}function pT(){var e=iT(cx());return e.copy=function(){return Ul(e,pT()).exponent(e.exponent())},Cs.apply(e,arguments)}function Aye(){return pT.apply(null,arguments).exponent(.5)}const lm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:VA,scaleDiverging:cz,scaleDivergingLog:uz,scaleDivergingPow:pT,scaleDivergingSqrt:Aye,scaleDivergingSymlog:dz,scaleIdentity:H9,scaleImplicit:Mk,scaleLinear:F9,scaleLog:q9,scaleOrdinal:WA,scalePoint:h0e,scalePow:aT,scaleQuantile:W9,scaleQuantize:V9,scaleRadial:K9,scaleSequential:az,scaleSequentialLog:oz,scaleSequentialPow:mT,scaleSequentialQuantile:lz,scaleSequentialSqrt:kye,scaleSequentialSymlog:sz,scaleSqrt:obe,scaleSymlog:Y9,scaleThreshold:Z9,scaleTime:Sye,scaleUtc:Eye,tickFormat:U9},Symbol.toStringTag,{value:"Module"}));var Fl=e=>e.chartData,Tye=we([Fl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gT=(e,t,n,r)=>r?Tye(e):Fl(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(wn(t)&&wn(n))return!0}return!1}function yI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function fz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(wn(n))i=n;else if(typeof n=="function")return;if(wn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if($l(o))return o}}function jye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if($l(r))return yI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(We(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&WR.test(i)){var u=WR.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(We(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&VR.test(a)){var h=VR.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if($l(b))return t==null?b:yI(b,t,n)}}}var vf=1e9,Oye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yT,sn=!0,ba="[DecimalError] ",au=ba+"Invalid argument: ",bT=ba+"Exponent out of range: ",xf=Math.floor,qc=Math.pow,Nye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,or=1e7,Jt=7,hz=9007199254740991,zy=xf(hz/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ps(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(ps(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return zn(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Pi))throw Error(ba+"NaN");if(n.s<1)throw Error(ba+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(sn=!1,t=ps(Km(n,a),Km(e,a),a),sn=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gz(t,e):mz(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ba+"NaN");return n.s?(sn=!1,t=ps(n,e,0,1).times(e),sn=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return pz(this)};$e.naturalLogarithm=$e.ln=function(){return Km(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mz(t,e):gz(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(au+e);if(t=zn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ba+"NaN")}for(e=zn(l),sn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=So(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ps(l,a,o+2)).times(.5),So(a.d).slice(0,o)===(t=So(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return sn=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,p=h.constructor,b=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=x.length,u<d&&(a=b,b=x,x=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+x[r]*b[i-r-1]+t,a[i--]=l%or|0,t=l/or|0;a[i]=(a[i]+t)%or|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,sn?Gt(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(No(e,0,vf),t===void 0?t=r.rounding:No(t,0,8),Gt(n,e+zn(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=fu(r,!0):(No(e,0,vf),t===void 0?t=i.rounding:No(t,0,8),r=Gt(new i(r),e+1,t),n=fu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?fu(i):(No(e,0,vf),t===void 0?t=a.rounding:No(t,0,8),r=Gt(new a(i),e+zn(i)+1,t),n=fu(r.abs(),!1,e+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),zn(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(Pi);if(l=new u(l),!l.s){if(e.s<1)throw Error(ba+"Infinity");return l}if(l.eq(Pi))return l;if(r=u.precision,e.eq(Pi))return Gt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=hz){for(i=new u(Pi),t=Math.ceil(r/Jt+4),sn=!1;n%2&&(i=i.times(l),xI(i.d,t)),n=xf(n/2),n!==0;)l=l.times(l),xI(l.d,t);return sn=!0,e.s<0?new u(Pi).div(i):Gt(i,r)}}else if(a<0)throw Error(ba+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,sn=!1,i=e.times(Km(l,r+d)),sn=!0,i=pz(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=zn(i),r=fu(i,n<=a.toExpNeg||n>=a.toExpPos)):(No(e,1,vf),t===void 0?t=a.rounding:No(t,0,8),i=Gt(new a(i),e,t),n=zn(i),r=fu(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(No(e,1,vf),t===void 0?t=r.rounding:No(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zn(e),n=e.constructor;return fu(e,t<=n.toExpNeg||t>=n.toExpPos)};function mz(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),sn?Gt(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(p/Jt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/or|0,u[a]%=or;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,sn?Gt(t,p):t}function No(e,t,n){if(e!==~~e||e<t||e>n)throw Error(au+e)}function So(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=wl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=wl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ps=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%or|0,o=a/or|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*or+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,p,b,x,E,_,w,T,N,j,C,M,P,$,F,Y=r.constructor,W=r.s==i.s?1:-1,H=r.d,z=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(ba+"Division by zero");for(u=r.e-i.e,$=z.length,M=H.length,x=new Y(W),E=x.d=[],d=0;z[d]==(H[d]||0);)++d;if(z[d]>(H[d]||0)&&--u,a==null?N=a=Y.precision:o?N=a+(zn(r)-zn(i))+1:N=a,N<0)return new Y(0);if(N=N/Jt+2|0,d=0,$==1)for(h=0,z=z[0],N++;(d<M||h)&&N--;d++)j=h*or+(H[d]||0),E[d]=j/z|0,h=j%z|0;else{for(h=or/(z[0]+1)|0,h>1&&(z=e(z,h),H=e(H,h),$=z.length,M=H.length),C=$,_=H.slice(0,$),w=_.length;w<$;)_[w++]=0;F=z.slice(),F.unshift(0),P=z[0],z[1]>=or/2&&++P;do h=0,l=t(z,_,$,w),l<0?(T=_[0],$!=w&&(T=T*or+(_[1]||0)),h=T/P|0,h>1?(h>=or&&(h=or-1),p=e(z,h),b=p.length,w=_.length,l=t(p,_,b,w),l==1&&(h--,n(p,$<b?F:z,b))):(h==0&&(l=h=1),p=z.slice()),b=p.length,b<w&&p.unshift(0),n(_,p,w),l==-1&&(w=_.length,l=t(z,_,$,w),l<1&&(h++,n(_,$<w?F:z,w))),w=_.length):l===0&&(h++,_=[0]),E[d++]=h,l&&_[0]?_[w++]=H[C]||0:(_=[H[C]],w=1);while((C++<M||_[0]!==void 0)&&N--)}return E[0]||E.shift(),x.e=u,Gt(x,o?a+zn(x)+1:a)}})();function pz(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,p=h.precision;if(zn(e)>16)throw Error(bT+zn(e));if(!e.s)return new h(Pi);for(sn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(qc(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Pi),h.precision=l;;){if(i=Gt(i.times(e),l),n=n.times(++u),o=a.plus(ps(i,n,l)),So(o.d).slice(0,l)===So(a.d).slice(0,l)){for(;d--;)a=Gt(a.times(a),l);return h.precision=p,t==null?(sn=!0,Gt(a,p)):a}a=o}}function zn(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function NS(e,t,n){if(t>e.LN10.sd())throw sn=!0,n&&(e.precision=n),Error(ba+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function wl(e){for(var t="";e--;)t+="0";return t}function Km(e,t){var n,r,i,a,o,l,u,d,h,p=1,b=10,x=e,E=x.d,_=x.constructor,w=_.precision;if(x.s<1)throw Error(ba+(x.s?"NaN":"-Infinity"));if(x.eq(Pi))return new _(0);if(t==null?(sn=!1,d=w):d=t,x.eq(10))return t==null&&(sn=!0),NS(_,d);if(d+=b,_.precision=d,n=So(E),r=n.charAt(0),a=zn(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=So(x.d),r=n.charAt(0),p++;a=zn(x),r>1?(x=new _("0."+n),a++):x=new _(r+"."+n.slice(1))}else return u=NS(_,d+2,w).times(a+""),x=Km(new _(r+"."+n.slice(1)),d-b).plus(u),_.precision=w,t==null?(sn=!0,Gt(x,w)):x;for(l=o=x=ps(x.minus(Pi),x.plus(Pi),d),h=Gt(x.times(x),d),i=3;;){if(o=Gt(o.times(h),d),u=l.plus(ps(o,new _(i),d)),So(u.d).slice(0,d)===So(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(NS(_,d+2,w).times(a+""))),l=ps(l,new _(p),d),_.precision=w,t==null?(sn=!0,Gt(l,w)):l;l=u,i+=2}}function vI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),sn&&(e.e>zy||e.e<-zy))throw Error(bT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,l,u,d,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/Jt),a=p.length,h>=a)return e;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=qc(10,o-i-1),l=d/a%10|0,u=t<0||p[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/qc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=zn(e),p.length=1,t=t-a-1,p[0]=qc(10,(Jt-t%Jt)%Jt),e.e=xf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=qc(10,Jt-r),p[h]=i>0?(d/qc(10,o-i)%qc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==or&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=or)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(sn&&(e.e>zy||e.e<-zy))throw Error(bT+zn(e));return e}function gz(e,t){var n,r,i,a,o,l,u,d,h,p,b=e.constructor,x=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),sn?Gt(t,x):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(x/Jt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=or-1;--u[a],u[i]+=or}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,sn?Gt(t,x):t):new b(0)}function fu(e,t,n){var r,i=zn(e),a=So(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+wl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wl(-i-1)+a,n&&(r=n-o)>0&&(a+=wl(r))):i>=o?(a+=wl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+wl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=wl(r))),e.s<0?"-"+a:a}function xI(e,t){if(e.length>t)return e.length=t,!0}function bz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(au+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return vI(o,a.toString())}else if(typeof a!="string")throw Error(au+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Nye.test(a))vI(o,a);else throw Error(au+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bz,i.config=i.set=Cye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Cye(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,n,r,i=["precision",1,vf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(au+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(au+n+": "+r);return this}var yT=bz(Oye);Pi=new yT(1);const Lt=yT;var Mye=e=>e,yz={},vz=e=>e===yz,_I=e=>function t(){return arguments.length===0||arguments.length===1&&vz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},xz=(e,t)=>e===1?t:_I(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==yz).length;return a>=e?t(...r):xz(e-a,_I(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>vz(h)?l.shift():h);return t(...d,...l)}))}),Dye=e=>xz(e.length,e),Lk=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Pye=Dye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Rye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Mye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},Ik=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function _z(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function wz(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Sz=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},Ez=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=_z(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},Lye=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow(_z(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Rye(Pye(u=>i.add(new Lt(u-o).mul(r)).toNumber()),Lk);return l(0,t)},kz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=Ez(new Lt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Lt(0):(l=new Lt(t).add(n).div(2),l=l.sub(new Lt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Lt(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?kz(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Lt(u).mul(o)),tickMax:l.add(new Lt(d).mul(o))})},Iye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=Sz([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Lk(0,i-1).map(()=>1/0)]:[...Lk(0,i-1).map(()=>-1/0),u];return n>r?Ik(d):d}if(l===u)return Lye(l,i,a);var{step:h,tickMin:p,tickMax:b}=kz(l,u,o,a,0),x=wz(p,b.add(new Lt(.1).mul(h)),h);return n>r?Ik(x):x},$ye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Sz([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=Ez(new Lt(l).sub(o).div(u-1),a,0),h=[...wz(new Lt(o),new Lt(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?Ik(h):h},Bye=e=>e.rootProps.barCategoryGap,ux=e=>e.rootProps.stackOffset,Az=e=>e.rootProps.reverseStackOrder,vT=e=>e.options.chartName,xT=e=>e.rootProps.syncId,Tz=e=>e.rootProps.syncMethod,_T=e=>e.options.eventEmitter,zye=e=>e.rootProps.baseValue,Fr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Uye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:cs.reversed,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:cs.type,unit:void 0},Fye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:Mi.type,unit:void 0},Hye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Gye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:"category",unit:void 0},wT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Hye:Uye,ST=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Gye:Fye,fx=e=>e.polarOptions,ET=we([Os,Ns,Er],Ige),jz=we([fx,ET],(e,t)=>{if(e!=null)return Il(e.innerRadius,t,0)}),Oz=we([fx,ET],(e,t)=>{if(e!=null)return Il(e.outerRadius,t,t*.8)}),qye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Nz=we([fx],qye);we([wT,Nz],dx);var Cz=we([ET,jz,Oz],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([ST,Cz],dx);var Mz=we([Vt,fx,jz,Oz,Os,Ns],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:Il(o,i,i/2),cy:Il(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),Vn=(e,t)=>t,hx=(e,t,n)=>n;function kT(e){return e?.id}function Dz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=kT(l);d.forEach((p,b)=>{var x=a==null||i?b:String(Cr(p,a,null)),E=Cr(p,l.dataKey,0),_;o.has(x)?_=o.get(x):_={},Object.assign(_,{[h]:E}),o.set(x,_)})}}),Array.from(o.values())}function AT(e){return e.stackId!=null&&e.dataKey!=null}var mx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function px(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Yye(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Zn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_f=e=>e.tooltip.settings.axisId;function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){Kye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kye(e,t,n){return(t=Wye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wye(e){var t=Vye(e,"string");return typeof t=="symbol"?t:t+""}function Vye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $k=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Pz=(e,t)=>e.cartesianAxis.xAxis[t],Ms=(e,t)=>{var n=Pz(e,t);return n??rr},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$k,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yp},Rz=(e,t)=>e.cartesianAxis.yAxis[t],Ds=(e,t)=>{var n=Rz(e,t);return n??ir},Zye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Zye},qr=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"zAxis":return TT(e,n);case"angleAxis":return wT(e,n);case"radiusAxis":return ST(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Xye=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kp=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"angleAxis":return wT(e,n);case"radiusAxis":return ST(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Lz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Iz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var $z=e=>e.graphicalItems.cartesianItems,Jye=we([Vn,hx],Iz),Bz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Ap=we([$z,qr,Jye],Bz,{memoizeOptions:{resultEqualityCheck:px}}),zz=we([Ap],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(AT)),Uz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Qye=we([Ap],Uz),Fz=e=>e.map(t=>t.data).filter(Boolean).flat(1),eve=we([Ap],Fz,{memoizeOptions:{resultEqualityCheck:px}}),Hz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},jT=we([eve,gT],Hz),Gz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Cr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Cr(i,r)}))):e.map(r=>({value:r})),gx=we([jT,qr,Ap],Gz);function qz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function kb(e){if(jo(e)||e instanceof Date){var t=Number(e);if(wn(t))return t}}function SI(e){if(Array.isArray(e)){var t=[kb(e[0]),kb(e[1])];return $l(t)?t:void 0}var n=kb(e);if(n!=null)return[n,n]}function ks(e){return e.map(kb).filter(_fe)}function tve(e,t,n){return!n||typeof t!="number"||qa(t)?[]:n.length?ks(n.flatMap(r=>{var i=Cr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!wn(a)||!wn(o)))return[t-a,t+o]})):[]}var Xn=e=>{var t=Zn(e),n=_f(e);return kp(e,t,n)},Tp=we([Xn],e=>e?.dataKey),nve=we([zz,gT,Xn],Dz),Yz=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(kT);return[l,{stackedData:Ame(e,h,n),graphicalItems:d}]}))},Bk=we([nve,zz,ux,Az],Yz),Kz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Nme(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},rve=we([qr],e=>e.allowDataOverflow),OT=e=>{var t;if(e==null||!("domain"in e))return $k;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ks(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:$k},Wz=we([qr],OT),Vz=we([Wz,rve],fz),ive=we([Bk,Fl,Vn,Vz],Kz,{memoizeOptions:{resultEqualityCheck:mx}}),NT=e=>e.errorBars,ave=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>qz(n,r)),Fy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Zz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(T=>qz(i,T)),b=Cr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=tve(l,b,p);if(x.length>=2){var E=Math.min(...x),_=Math.max(...x);(a==null||E<a)&&(a=E),(o==null||_>o)&&(o=_)}var w=SI(b);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=SI(Cr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),wn(a)&&wn(o))return[a,o]},ove=we([jT,qr,Qye,NT,Vn],Zz,{memoizeOptions:{resultEqualityCheck:mx}});function sve(e){var{value:t}=e;if(jo(t)||t instanceof Date)return t}var lve=(e,t,n)=>{var r=e.map(sve).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&p7(r))?C9(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Xz=e=>e.referenceElements.dots,wf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),cve=we([Xz,Vn,hx],wf),Jz=e=>e.referenceElements.areas,uve=we([Jz,Vn,hx],wf),Qz=e=>e.referenceElements.lines,dve=we([Qz,Vn,hx],wf),e8=(e,t)=>{var n=ks(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fve=we(cve,Vn,e8),t8=(e,t)=>{var n=ks(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hve=we([uve,Vn],t8);function mve(e){var t;if(e.x!=null)return ks([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ks(n)}function pve(e){var t;if(e.y!=null)return ks([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ks(n)}var n8=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?mve(r):pve(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gve=we([dve,Vn],n8),bve=we(fve,gve,hve,(e,t,n)=>Fy(e,n,t)),r8=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?Fy(r,a,i):Fy(a,i);return jye(t,d,e.allowDataOverflow)},yve=we([qr,Wz,Vz,ive,ove,bve,Vt,Vn],r8,{memoizeOptions:{resultEqualityCheck:mx}}),vve=[0,1],i8=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=js(t,a);if(d&&l==null){var h;return C9(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?lve(r,e,d):i==="expand"?vve:o}},CT=we([qr,Vt,jT,gx,ux,Vn,yve],i8),a8=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(DA(a));return l in lm?l:"point"}}},jp=we([qr,Vt,Lz,vT,Vn],a8);function xve(e){if(e!=null){if(e in lm)return lm[e]();var t="scale".concat(DA(e));if(t in lm)return lm[t]()}}function MT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=xve(t);if(i!=null){var a=i.domain(n).range(r);return wme(a),a}}}var o8=(e,t,n)=>{var r=OT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&$l(e))return Iye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return $ye(e,t.tickCount,t.allowDecimals)}},DT=we([CT,kp,jp],o8),s8=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&$l(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},_ve=we([qr,CT,DT,Vn],s8),wve=we(gx,qr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ks(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),l8=we(wve,Vt,Bye,Er,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!wn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Il(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),Sve=(e,t)=>{var n=Ms(e,t);return n==null||typeof n.padding!="string"?0:l8(e,"xAxis",t,n.padding)},Eve=(e,t)=>{var n=Ds(e,t);return n==null||typeof n.padding!="string"?0:l8(e,"yAxis",t,n.padding)},kve=we(Ms,Sve,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Ave=we(Ds,Eve,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Tve=we([Er,kve,Jv,Xv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),jve=we([Er,Vt,Ave,Jv,Xv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Op=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Tve(e,n,r);case"yAxis":return jve(e,n,r);case"zAxis":return(i=TT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Nz(e);case"radiusAxis":return Cz(e,n);default:return}},c8=we([qr,Op],dx),Sf=we([qr,jp,_ve,c8],MT);we([Ap,NT,Vn],ave);function u8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bx=(e,t)=>t,yx=(e,t,n)=>n,Ove=we(Vv,bx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(u8)),Nve=we(Zv,bx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(u8)),d8=(e,t)=>({width:e.width,height:t.height}),Cve=(e,t)=>{var n=typeof t.width=="number"?t.width:yp;return{width:n,height:e.height}},Mve=we(Er,Ms,d8),Dve=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Pve=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Rve=we(Ns,Er,Ove,bx,yx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=d8(t,l);o==null&&(o=Dve(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),Lve=we(Os,Er,Nve,bx,yx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Cve(t,l);o==null&&(o=Pve(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),Ive=(e,t)=>{var n=Ms(e,t);if(n!=null)return Rve(e,n.orientation,n.mirror)},$ve=we([Er,Ms,Ive,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Bve=(e,t)=>{var n=Ds(e,t);if(n!=null)return Lve(e,n.orientation,n.mirror)},zve=we([Er,Ds,Bve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Uve=we(Er,Ds,(e,t)=>{var n=typeof t.width=="number"?t.width:yp;return{width:n,height:e.height}}),f8=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=js(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&p7(u))return u}},PT=we([Vt,gx,qr,Vn],f8),h8=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=js(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},RT=we([Vt,gx,kp,Vn],h8),EI=we([Vt,Xye,jp,Sf,PT,RT,Op,DT,Vn],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=js(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),Fve=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=js(e,u),{type:h,ticks:p,tickCount:b}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=h==="category"&&r.bandwidth?r.bandwidth()/x:0;E=u==="angleAxis"&&a!=null&&a.length>=2?ua(a[0]-a[1])*2*E:E;var _=p||i;if(_){var w=_.map((T,N)=>{var j=o?o.indexOf(T):T;return{index:N,coordinate:r(j)+E,value:T,offset:E}});return w.filter(T=>wn(T.coordinate))}return d&&l?l.map((T,N)=>({coordinate:r(T)+E,value:T,index:N,offset:E})).filter(T=>wn(T.coordinate)):r.ticks?r.ticks(b).map(T=>({coordinate:r(T)+E,value:T,offset:E})):r.domain().map((T,N)=>({coordinate:r(T)+E,value:o?o[T]:T,index:N,offset:E}))}},m8=we([Vt,kp,jp,Sf,DT,Op,PT,RT,Vn],Fve),Hve=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=js(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?ua(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},p8=we([Vt,kp,Sf,Op,PT,RT,Vn],Hve),g8=we(qr,Sf,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),Gve=we([qr,jp,CT,c8],MT);we((e,t,n)=>TT(e,n),Gve,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})});var qve=we([Vt,Vv,Zv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),b8=e=>e.options.defaultTooltipEventType,y8=e=>e.options.validateTooltipEventTypes;function v8(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function LT(e,t){var n=b8(e),r=y8(e);return v8(t,n,r)}function Yve(e){return Je(t=>LT(t,e))}var x8=(e,t)=>{var n,r=Number(t);if(!(qa(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Kve=e=>e.tooltip.settings,jl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Wve={itemInteraction:{click:jl,hover:jl},axisInteraction:{click:jl,hover:jl},keyboardInteraction:jl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_8=mi({name:"tooltip",initialState:Wve,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ua(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Vve,replaceTooltipEntrySettings:Zve,removeTooltipEntrySettings:Xve,setTooltipSettingsState:Jve,setActiveMouseOverItemIndex:Qve,mouseLeaveItem:KOe,mouseLeaveChart:w8,setActiveClickItemIndex:WOe,setMouseOverAxisIndex:S8,setMouseClickAxisIndex:exe,setSyncInteraction:zk,setKeyboardInteraction:Uk}=_8.actions,txe=_8.reducer;function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){nxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nxe(e,t,n){return(t=rxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rxe(e){var t=ixe(e,"string");return typeof t=="symbol"?t:t+""}function ixe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function axe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function oxe(e){return e.index!=null}var E8=(e,t,n,r)=>{if(t==null)return jl;var i=axe(e,t,n);if(i==null)return jl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(oxe(i)){if(a)return nb(nb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return nb(nb({},jl),{},{coordinate:i.coordinate})};function sxe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function lxe(e,t){var n=sxe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function cxe(e,t,n){if(n==null||t==null)return!0;var r=Cr(e,t);return r==null||!$l(n)?!0:lxe(r,n)}var IT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!wn(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||cxe(d,n,r)?String(u):null},k8=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},A8=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Np=e=>e.options.tooltipPayloadSearcher,Ef=e=>e.tooltip;function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){uxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uxe(e,t,n){return(t=dxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dxe(e){var t=fxe(e,"string");return typeof t=="symbol"?t:t+""}function fxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hxe(e,t){return e??t}var T8=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return e.reduce((b,x)=>{var E,{dataDefinedOnItem:_,settings:w}=x,T=hxe(_,l),N=Array.isArray(T)?r9(T,d,h):T,j=(E=w?.dataKey)!==null&&E!==void 0?E:r,C=w?.nameKey,M;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?M=g7(N,r,i):M=a(N,t,u,C),Array.isArray(M))M.forEach($=>{var F=TI(TI({},w),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(ZR({tooltipEntrySettings:F,dataKey:$.dataKey,payload:$.payload,value:Cr($.payload,$.dataKey),name:$.name}))});else{var P;b.push(ZR({tooltipEntrySettings:w,dataKey:j,payload:M,value:Cr(M,j),name:(P=Cr(M,C))!==null&&P!==void 0?P:w?.name}))}return b},p)}},$T=we([Xn,Vt,Lz,vT,Zn],a8),mxe=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pxe=we([Zn,_f],Iz),Cp=we([mxe,Xn,pxe],Bz,{memoizeOptions:{resultEqualityCheck:px}}),gxe=we([Cp],e=>e.filter(AT)),bxe=we([Cp],Fz,{memoizeOptions:{resultEqualityCheck:px}}),kf=we([bxe,Fl],Hz),yxe=we([gxe,Fl,Xn],Dz),BT=we([kf,Xn,Cp],Gz),j8=we([Xn],OT),vxe=we([Xn],e=>e.allowDataOverflow),O8=we([j8,vxe],fz),xxe=we([Cp],e=>e.filter(AT)),_xe=we([yxe,xxe,ux,Az],Yz),wxe=we([_xe,Fl,Zn,O8],Kz),Sxe=we([Cp],Uz),Exe=we([kf,Xn,Sxe,NT,Zn],Zz,{memoizeOptions:{resultEqualityCheck:mx}}),kxe=we([Xz,Zn,_f],wf),Axe=we([kxe,Zn],e8),Txe=we([Jz,Zn,_f],wf),jxe=we([Txe,Zn],t8),Oxe=we([Qz,Zn,_f],wf),Nxe=we([Oxe,Zn],n8),Cxe=we([Axe,Nxe,jxe],Fy),Mxe=we([Xn,j8,O8,wxe,Exe,Cxe,Vt,Zn],r8),Mp=we([Xn,Vt,kf,BT,ux,Zn,Mxe],i8),Dxe=we([Mp,Xn,$T],o8),Pxe=we([Xn,Mp,Dxe,Zn],s8),N8=e=>{var t=Zn(e),n=_f(e),r=!1;return Op(e,t,n,r)},C8=we([Xn,N8],dx),M8=we([Xn,$T,Pxe,C8],MT),Rxe=we([Vt,BT,Xn,Zn],f8),Lxe=we([Vt,BT,Xn,Zn],h8),Ixe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=js(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ua(i[0]-i[1])*2*p:p,d&&o?o.map((b,x)=>({coordinate:r(b)+p,value:b,index:x,offset:p})):r.domain().map((b,x)=>({coordinate:r(b)+p,value:a?a[b]:b,index:x,offset:p}))}}},Ps=we([Vt,Xn,$T,M8,N8,Rxe,Lxe,Zn],Ixe),zT=we([b8,y8,Kve],(e,t,n)=>v8(n.shared,e,t)),D8=e=>e.tooltip.settings.trigger,UT=e=>e.tooltip.settings.defaultIndex,Dp=we([Ef,zT,D8,UT],E8),Wm=we([Dp,kf,Tp,Mp],IT),P8=we([Ps,Wm],x8),$xe=we([Dp],e=>{if(e)return e.dataKey});we([Dp],e=>{if(e)return e.graphicalItemId});var R8=we([Ef,zT,D8,UT],A8),Bxe=we([Os,Ns,Vt,Er,Ps,UT,R8,Np],k8),zxe=we([Dp,Bxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Uxe=we([Dp],e=>e.active),Fxe=we([R8,Wm,Fl,Tp,P8,Np,zT],T8),Hxe=we([Fxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){Gxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gxe(e,t,n){return(t=qxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qxe(e){var t=Yxe(e,"string");return typeof t=="symbol"?t:t+""}function Yxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kxe=()=>Je(Xn),Wxe=()=>{var e=Kxe(),t=Je(Ps),n=Je(M8);return _y(!e||!n?void 0:OI(OI({},e),{},{scale:n}),t)};function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){Vxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vxe(e,t,n){return(t=Zxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zxe(e){var t=Xxe(e,"string");return typeof t=="symbol"?t:t+""}function Xxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jxe=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Qxe=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return yd(yd(yd({},r),xr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return yd(yd(yd({},r),xr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function e_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var L8=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(ua(h-d)!==ua(p-h)){var x=[];if(ua(p-h)===ua(i[1]-i[0])){b=p;var E=h+i[1]-i[0];x[0]=Math.min(E,(E+d)/2),x[1]=Math.max(E,(E+d)/2)}else{b=d;var _=p+i[1]-i[0];x[0]=Math.min(h,(_+h)/2),x[1]=Math.max(h,(_+h)/2)}var w=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:o}=n[u]);break}}else{var T=Math.min(d,p),N=Math.max(d,p);if(e>(T+h)/2&&e<=(N+h)/2){({index:o}=n[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},I8=()=>Je(vT),FT=(e,t)=>t,$8=(e,t,n)=>n,HT=(e,t,n,r)=>r,t_e=we(Ps,e=>zv(e,t=>t.coordinate)),GT=we([Ef,FT,$8,HT],E8),qT=we([GT,kf,Tp,Mp],IT),n_e=(e,t,n)=>{if(t!=null){var r=Ef(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},B8=we([Ef,FT,$8,HT],A8),Hy=we([Os,Ns,Vt,Er,Ps,HT,B8,Np],k8),r_e=we([GT,Hy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),z8=we([Ps,qT],x8),i_e=we([B8,qT,Fl,Tp,z8,Np,FT],T8),a_e=we([GT,qT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),o_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&e_e(e,o)){var l=Cme(e,t),u=L8(l,a,i,n,r),d=Jxe(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},s_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=Fge(e,n);if(l){var u=Mme(l,t),d=L8(u,o,a,r,i),h=Qxe(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},l_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?o_e(e,t,r,i,a,o,l):s_e(e,t,n,r,i,a,o)},c_e=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),u_e=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Fr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Yye}});function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){d_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d_e(e,t,n){return(t=f_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f_e(e){var t=h_e(e,"string");return typeof t=="symbol"?t:t+""}function h_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m_e={},p_e={zIndexMap:Object.values(Fr).reduce((e,t)=>MI(MI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),m_e)},g_e=new Set(Object.values(Fr));function b_e(e){return g_e.has(e)}var U8=mi({name:"zIndex",initialState:p_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!b_e(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:y_e,unregisterZIndexPortal:v_e,registerZIndexPortalId:x_e,unregisterZIndexPortalId:__e}=U8.actions,w_e=U8.reducer;function Rs(e){var{zIndex:t,children:n}=e,r=fpe(),i=r&&t!==void 0&&t!==0,a=pi(),o=ur();S.useLayoutEffect(()=>i?(o(y_e({zIndex:t})),()=>{o(v_e({zIndex:t}))}):mp,[o,t,i]);var l=Je(d=>c_e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?bu.createPortal(n,u):null}function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fk.apply(null,arguments)}function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){S_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S_e(e,t,n){return(t=E_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_e(e){var t=k_e(e,"string");return typeof t=="symbol"?t:t+""}function k_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function T_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=n,b=r,x=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var E,_,w;if(h==="ScatterChart")E=p,_=ege,w=Fr.cursorLine;else if(h==="BarChart")E=tge(l,p,a,o),_=Mge,w=Fr.cursorRectangle;else if(l==="radial"&&b7(p)){var{cx:T,cy:N,radius:j,startAngle:C,endAngle:M}=O9(p);E={cx:T,cy:N,startAngle:C,endAngle:M,innerRadius:j,outerRadius:j},_=Yge,w=Fr.cursorLine}else E={points:Kge(l,p,a)},_=Eb,w=Fr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,$=rb(rb(rb(rb({stroke:"#ccc",pointerEvents:"none"},a),E),Lv(u)),{},{payload:b,payloadIndex:x,className:Qt("recharts-tooltip-cursor",P)});return S.createElement(Rs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},S.createElement(A_e,{cursor:u,cursorComp:_,cursorProps:$}))}function j_e(e){var t=Wxe(),n=h9(),r=vp(),i=I8();return t==null||n==null||r==null||i==null?null:S.createElement(T_e,Fk({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var F8=S.createContext(null),O_e=()=>S.useContext(F8),CS={exports:{}},PI;function N_e(){return PI||(PI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||u,b),E=n?n+d:d;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],x]:u._events[E].push(x):(u._events[E]=x,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,E=new Array(x);b<x;b++)E[b]=p[b].fn;return E},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,b,x,E){var _=n?n+d:d;if(!this._events[_])return!1;var w=this._events[_],T=arguments.length,N,j;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,b),!0;case 5:return w.fn.call(w.context,h,p,b,x),!0;case 6:return w.fn.call(w.context,h,p,b,x,E),!0}for(j=1,N=new Array(T-1);j<T;j++)N[j-1]=arguments[j];w.fn.apply(w.context,N)}else{var C=w.length,M;for(j=0;j<C;j++)switch(w[j].once&&this.removeListener(d,w[j].fn,void 0,!0),T){case 1:w[j].fn.call(w[j].context);break;case 2:w[j].fn.call(w[j].context,h);break;case 3:w[j].fn.call(w[j].context,h,p);break;case 4:w[j].fn.call(w[j].context,h,p,b);break;default:if(!N)for(M=1,N=new Array(T-1);M<T;M++)N[M-1]=arguments[M];w[j].fn.apply(w[j].context,N)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,b){var x=n?n+d:d;if(!this._events[x])return this;if(!h)return o(this,x),this;var E=this._events[x];if(E.fn)E.fn===h&&(!b||E.once)&&(!p||E.context===p)&&o(this,x);else{for(var _=0,w=[],T=E.length;_<T;_++)(E[_].fn!==h||b&&!E[_].once||p&&E[_].context!==p)&&w.push(E[_]);w.length?this._events[x]=w.length===1?w[0]:w:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(CS)),CS.exports}var C_e=N_e();const M_e=hi(C_e);var Vm=new M_e,Hk="recharts.syncEvent.tooltip",RI="recharts.syncEvent.brush";function D_e(e,t){if(t){var n=Number.parseInt(t,10);if(!qa(n))return e?.[n]}}var P_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},H8=mi({name:"options",initialState:P_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),R_e=H8.reducer,{createEventEmitter:L_e}=H8.actions;function I_e(e){return e.tooltip.syncInteraction}var $_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},G8=mi({name:"chartData",initialState:$_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:LI,setDataStartEndIndexes:B_e,setComputedData:VOe}=G8.actions,z_e=G8.reducer,U_e=["x","y"];function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){F_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F_e(e,t,n){return(t=H_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_e(e){var t=G_e(e,"string");return typeof t=="symbol"?t:t+""}function G_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q_e(e,t){if(e==null)return{};var n,r,i=Y_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function K_e(){var e=Je(xT),t=Je(_T),n=ur(),r=Je(Tz),i=Je(Ps),a=vp(),o=Qv(),l=Je(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return mp;var u=(d,h,p)=>{if(t!==p&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:E,y:_}=x,w=q_e(x,U_e),{x:T,y:N,width:j,height:C}=h.payload.sourceViewBox,M=vd(vd({},w),{},{x:o.x+(j?(E-T)/j:0)*o.width,y:o.y+(C?(_-N)/C:0)*o.height});n(vd(vd({},h),{},{payload:vd(vd({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=r(i,$);P=i[F]}else r==="value"&&(P=i.find(q=>String(q.value)===h.payload.label));var{coordinate:Y}=h.payload;if(P==null||h.payload.active===!1||Y==null||o==null){n(zk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:W,y:H}=Y,z=Math.min(W,o.x+o.width),V=Math.min(H,o.y+o.height),X={x:a==="horizontal"?P.coordinate:z,y:a==="horizontal"?V:P.coordinate},Z=zk({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return Vm.on(Hk,u),()=>{Vm.off(Hk,u)}},[l,n,t,e,r,i,a,o])}function W_e(){var e=Je(xT),t=Je(_T),n=ur();S.useEffect(()=>{if(e==null)return mp;var r=(i,a,o)=>{t!==o&&e===i&&n(B_e(a))};return Vm.on(RI,r),()=>{Vm.off(RI,r)}},[n,t,e])}function V_e(){var e=ur();S.useEffect(()=>{e(L_e())},[e]),K_e(),W_e()}function Z_e(e,t,n,r,i,a){var o=Je(x=>n_e(x,e,t)),l=Je(_T),u=Je(xT),d=Je(Tz),h=Je(I_e),p=h?.active,b=Qv();S.useEffect(()=>{if(!p&&u!=null&&l!=null){var x=zk({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Vm.emit(Hk,u,x,l)}},[p,n,o,i,r,l,u,d,a,b])}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){X_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X_e(e,t,n){return(t=J_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J_e(e){var t=Q_e(e,"string");return typeof t=="symbol"?t:t+""}function Q_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ewe(e){return e.dataKey}function twe(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Dpe,t)}var zI=[],nwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rwe(e){var t,n,r=qi(e,nwe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:b,position:x,reverseDirection:E,useTranslate3d:_,wrapperStyle:w,cursor:T,shared:N,trigger:j,defaultIndex:C,portal:M,axisId:P}=r,$=ur(),F=typeof C=="number"?String(C):C;S.useEffect(()=>{$(Jve({shared:N,trigger:j,axisId:P,active:i,defaultIndex:F}))},[$,N,j,P,i,F]);var Y=Qv(),W=S9(),H=Yve(N),{activeIndex:z,isActive:V}=(t=Je(pe=>a_e(pe,H,j,F)))!==null&&t!==void 0?t:{},X=Je(pe=>i_e(pe,H,j,F)),Z=Je(pe=>z8(pe,H,j,F)),q=Je(pe=>r_e(pe,H,j,F)),Q=X,ne=O_e(),ue=(n=i??V)!==null&&n!==void 0?n:!1,[se,B]=_he([Q,ue]),K=H==="axis"?Z:void 0;Z_e(H,j,q,K,z,ue);var ie=M??ne;if(ie==null||Y==null||H==null)return null;var J=Q??zI;ue||(J=zI),d&&J.length&&(J=Kfe(J.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),b,ewe));var oe=J.length>0,de=S.createElement(zpe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:ue,coordinate:q,hasPayload:oe,offset:p,position:x,reverseDirection:E,useTranslate3d:_,viewBox:Y,wrapperStyle:w,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!M},twe(u,BI(BI({},r),{},{payload:J,label:K,active:ue,activeIndex:z,coordinate:q,accessibilityLayer:W})));return S.createElement(S.Fragment,null,bu.createPortal(de,ie),ue&&S.createElement(j_e,{cursor:T,tooltipEventType:H,coordinate:q,payload:J,index:z}))}function iwe(e,t,n){return(t=awe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function awe(e){var t=owe(e,"string");return typeof t=="symbol"?t:t+""}function owe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class swe{constructor(t){iwe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lwe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cwe(e,t,n){return(t=uwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uwe(e){var t=dwe(e,"string");return typeof t=="symbol"?t:t+""}function dwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fwe={cacheSize:2e3,enableCache:!0},q8=lwe({},fwe),FI=new swe(q8.cacheSize),hwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HI="recharts_measurement_span";function mwe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var GI=(e,t)=>{try{var n=document.getElementById(HI);n||(n=document.createElement("span"),n.setAttribute("id",HI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,hwe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bf.isSsr)return{width:0,height:0};if(!q8.enableCache)return GI(t,n);var r=mwe(t,n),i=FI.get(r);if(i)return i;var a=GI(t,n);return FI.set(r,a),a},qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bwe=Object.keys(Y8),Nd="NaN";function ywe(e,t){return e*Y8[t]}class oi{static parse(t){var n,[,r,i]=(n=gwe.exec(t))!==null&&n!==void 0?n:[];return new oi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qa(t)&&(this.unit=""),n!==""&&!pwe.test(n)&&(this.num=NaN,this.unit=""),bwe.includes(n)&&(this.num=ywe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new oi(NaN,""):new oi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new oi(NaN,""):new oi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new oi(NaN,""):new oi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new oi(NaN,""):new oi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qa(this.num)}}function K8(e){if(e.includes(Nd))return Nd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=qI.exec(t))!==null&&n!==void 0?n:[],o=oi.parse(r??""),l=oi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Nd;t=t.replace(qI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,p,b]=(d=YI.exec(t))!==null&&d!==void 0?d:[],x=oi.parse(h??""),E=oi.parse(b??""),_=p==="+"?x.add(E):x.subtract(E);if(_.isNaN())return Nd;t=t.replace(YI,_.toString())}return t}var KI=/\(([^()]*)\)/;function vwe(e){for(var t=e,n;(n=KI.exec(t))!=null;){var[,r]=n;t=t.replace(KI,K8(r))}return t}function xwe(e){var t=e.replace(/\s+/g,"");return t=vwe(t),t=K8(t),t}function _we(e){try{return xwe(e)}catch{return Nd}}function MS(e){var t=_we(e.slice(5,-1));return t===Nd?"":t}var wwe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Swe=["dx","dy","angle","className","breakAll"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gk.apply(null,arguments)}function WI(e,t){if(e==null)return{};var n,r,i=Ewe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ewe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var W8=/[ \f\n\r\t\v\u2028\u2029]+/,V8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];_r(t)||(n?i=t.toString().split(""):i=t.toString().split(W8));var a=i.map(l=>({word:l,width:vm(l,r).width})),o=n?0:vm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function kwe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Z8=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),X8=e=>e.reduce((t,n)=>t.width>n.width?t:n),Awe="",VI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=V8({breakAll:n,style:r,children:u+Awe});if(!d)return[!1,[]];var h=Z8(d.wordsWithComputedWidth,a,o,l),p=h.length>i||X8(h).width>Number(a);return[p,h]},Twe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=We(a),h=String(o),p=Z8(t,r,n,i);if(!d||i)return p;var b=p.length>a||X8(p).width>Number(r);if(!b)return p;for(var x=0,E=h.length-1,_=0,w;x<=E&&_<=h.length-1;){var T=Math.floor((x+E)/2),N=T-1,[j,C]=VI(h,N,u,l,a,r,n,i),[M]=VI(h,T,u,l,a,r,n,i);if(!j&&!M&&(x=T+1),j&&M&&(E=T-1),!j&&M){w=C;break}_++}return w||p},ZI=e=>{var t=_r(e)?[]:e.toString().split(W8);return[{words:t,width:void 0}]},jwe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!bf.isSsr){var l,u,d=V8({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return ZI(r);return Twe({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return ZI(r)},J8="#808080",Owe={angle:0,breakAll:!1,capHeight:"0.71em",fill:J8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},YT=S.forwardRef((e,t)=>{var n=qi(e,Owe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=WI(n,wwe),b=S.useMemo(()=>jwe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:x,dy:E,angle:_,className:w,breakAll:T}=p,N=WI(p,Swe);if(!jo(r)||!jo(i)||b.length===0)return null;var j=Number(r)+(We(x)?x:0),C=Number(i)+(We(E)?E:0);if(!wn(j)||!wn(C))return null;var M;switch(h){case"start":M=MS("calc(".concat(o,")"));break;case"middle":M=MS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=MS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var $=b[0].width,{width:F}=p;P.push("scale(".concat(We(F)&&We($)?F/$:1,")"))}return _&&P.push("rotate(".concat(_,", ").concat(j,", ").concat(C,")")),P.length&&(N.transform=P.join(" ")),S.createElement("text",Gk({},pa(N),{ref:t,x:j,y:C,className:Qt("recharts-text",w),textAnchor:d,fill:l.includes("url")?J8:l}),b.map((Y,W)=>{var H=Y.words.join(T?"":" ");return S.createElement("tspan",{x:j,dy:W===0?M:a,key:"".concat(H,"-").concat(W)},H)}))});YT.displayName="Text";var Nwe=["labelRef"];function Cwe(e,t){if(e==null)return{};var n,r,i=Mwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){Dwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dwe(e,t,n){return(t=Pwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pwe(e){var t=Rwe(e,"string");return typeof t=="symbol"?t:t+""}function Rwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(null,arguments)}var Q8=S.createContext(null),Lwe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return S.createElement(Q8.Provider,{value:u},l)},eU=()=>{var e=S.useContext(Q8),t=Qv();return e||f9(t)},Iwe=S.createContext(null),$we=()=>{var e=S.useContext(Iwe),t=Je(Mz);return e||t},Bwe=e=>{var{value:t,formatter:n}=e,r=_r(e.children)?t:e.children;return typeof n=="function"?n(r):r},KT=e=>e!=null&&typeof e=="function",zwe=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Uwe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:b,clockWise:x}=i,E=(d+h)/2,_=zwe(p,b),w=_>=0?1:-1,T,N;switch(t){case"insideStart":T=p+w*a,N=x;break;case"insideEnd":T=b-w*a,N=!x;break;case"end":T=b+w*a,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=_<=0?N:!N;var j=xr(l,u,E,T),C=xr(l,u,E,T+(N?1:-1)*359),M="M".concat(j.x,",").concat(j.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),P=_r(e.id)?Rm("recharts-radial-line-"):e.id;return S.createElement("text",us({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:P,d:M})),S.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Fwe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=xr(r,i,o+t,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x,y:E}=xr(r,i,b,d);return{x,y:E,textAnchor:"middle",verticalAnchor:"middle"}},qk=e=>"cx"in e&&We(e.cx),Hwe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!qk(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,p=o,b=o+(u-d)/2,x=(p+b)/2,E=(u+d)/2,_=p+u/2,w=h>=0?1:-1,T=w*r,N=w>0?"end":"start",j=w>0?"start":"end",C=u>=0?1:-1,M=C*r,P=C>0?"end":"start",$=C>0?"start":"end";if(i==="top"){var F={x:p+u/2,y:l-T,textAnchor:"middle",verticalAnchor:N};return An(An({},F),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var Y={x:b+d/2,y:l+h+T,textAnchor:"middle",verticalAnchor:j};return An(An({},Y),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var W={x:x-M,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return An(An({},W),a?{width:Math.max(W.x-a.x,0),height:h}:{})}if(i==="right"){var H={x:x+E+M,y:l+h/2,textAnchor:$,verticalAnchor:"middle"};return An(An({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:h}:{})}var z=a?{width:E,height:h}:{};return i==="insideLeft"?An({x:x+M,y:l+h/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?An({x:x+E-M,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},z):i==="insideTop"?An({x:p+u/2,y:l+T,textAnchor:"middle",verticalAnchor:j},z):i==="insideBottom"?An({x:b+d/2,y:l+h-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?An({x:p+M,y:l+T,textAnchor:$,verticalAnchor:j},z):i==="insideTopRight"?An({x:p+u-M,y:l+T,textAnchor:P,verticalAnchor:j},z):i==="insideBottomLeft"?An({x:b+M,y:l+h-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?An({x:b+d-M,y:l+h-T,textAnchor:P,verticalAnchor:N},z):i&&typeof i=="object"&&(We(i.x)||xs(i.x))&&(We(i.y)||xs(i.y))?An({x:o+Il(i.x,E),y:l+Il(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):An({x:_,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},Gwe={angle:0,offset:5,zIndex:Fr.label,position:"middle",textBreakAll:!1};function Sl(e){var t=qi(e,Gwe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=$we(),p=eU(),b=r==="center"?p:h??p,x,E,_;if(n==null?x=b:qk(n)?x=n:x=f9(n),!x||_r(i)&&_r(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var w=An(An({},t),{},{viewBox:x});if(S.isValidElement(o)){var{labelRef:T}=w,N=Cwe(w,Nwe);return S.cloneElement(o,N)}if(typeof o=="function"){if(E=S.createElement(o,w),S.isValidElement(E))return E}else E=Bwe(t);var j=pa(t);if(qk(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Uwe(t,r,E,j,x);_=Fwe(x,t.offset,t.position)}else _=Hwe(t,x);return S.createElement(Rs,{zIndex:t.zIndex},S.createElement(YT,us({ref:d,className:Qt("recharts-label",l)},j,_,{textAnchor:kwe(j.textAnchor)?j.textAnchor:_.textAnchor,breakAll:u}),E))}Sl.displayName="Label";var qwe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(Sl,us({key:"label-implicit"},r)):jo(e)?S.createElement(Sl,us({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===Sl?S.cloneElement(e,An({key:"label-implicit"},r)):S.createElement(Sl,us({key:"label-implicit",content:e},r)):KT(e)?S.createElement(Sl,us({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(Sl,us({},e,{key:"label-implicit"},r)):null};function Ywe(e){var{label:t,labelRef:n}=e,r=eU();return qwe(t,r,n)||null}var DS={},PS={},JI;function Kwe(){return JI||(JI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(PS)),PS}var RS={},QI;function Wwe(){return QI||(QI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(RS)),RS}var e3;function Vwe(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kwe(),n=Wwe(),r=RA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(DS)),DS}var LS,t3;function Zwe(){return t3||(t3=1,LS=Vwe().last),LS}var Xwe=Zwe();const Jwe=hi(Xwe);var Qwe=["valueAccessor"],e1e=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function n3(e,t){if(e==null)return{};var n,r,i=t1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n1e=e=>Array.isArray(e.value)?Jwe(e.value):e.value,tU=S.createContext(void 0),r1e=tU.Provider,nU=S.createContext(void 0);nU.Provider;function i1e(){return S.useContext(tU)}function a1e(){return S.useContext(nU)}function Ab(e){var{valueAccessor:t=n1e}=e,n=n3(e,Qwe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=n3(n,e1e),d=i1e(),h=a1e(),p=d||h;return!p||!p.length?null:S.createElement(Rs,{zIndex:l??Fr.label},S.createElement(To,{className:"recharts-label-list"},p.map((b,x)=>{var E,_=_r(r)?t(b,x):Cr(b&&b.payload,r),w=_r(a)?{}:{id:"".concat(a,"-").concat(x)};return S.createElement(Sl,Gy({key:"label-".concat(x)},pa(b),u,w,{fill:(E=n.fill)!==null&&E!==void 0?E:b.fill,parentViewBox:b.parentViewBox,value:_,textBreakAll:o,viewBox:b.viewBox,index:x,zIndex:0}))})))}Ab.displayName="LabelList";function o1e(e){var{label:t}=e;return t?t===!0?S.createElement(Ab,{key:"labelList-implicit"}):S.isValidElement(t)||KT(t)?S.createElement(Ab,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(Ab,Gy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yk.apply(null,arguments)}var rU=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return We(t)&&We(n)&&We(r)?S.createElement("circle",Yk({},Ga(e),PA(e),{className:a,cx:t,cy:n,r})):null},s1e={radiusAxis:{},angleAxis:{}},iU=mi({name:"polarAxis",initialState:s1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ZOe,removeRadiusAxis:XOe,addAngleAxis:JOe,removeAngleAxis:QOe}=iU.actions,l1e=iU.reducer,IS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function c1e(){if(r3)return Ct;r3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,E=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function j(M){if(typeof M=="object"&&M!==null){var P=M.$$typeof;switch(P){case t:switch(M=M.type,M){case u:case d:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case l:case h:case E:case x:case o:return M;default:return P}}case n:return P}}}function C(M){return j(M)===d}return Ct.AsyncMode=u,Ct.ConcurrentMode=d,Ct.ContextConsumer=l,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=h,Ct.Fragment=r,Ct.Lazy=E,Ct.Memo=x,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(M){return C(M)||j(M)===u},Ct.isConcurrentMode=C,Ct.isContextConsumer=function(M){return j(M)===l},Ct.isContextProvider=function(M){return j(M)===o},Ct.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ct.isForwardRef=function(M){return j(M)===h},Ct.isFragment=function(M){return j(M)===r},Ct.isLazy=function(M){return j(M)===E},Ct.isMemo=function(M){return j(M)===x},Ct.isPortal=function(M){return j(M)===n},Ct.isProfiler=function(M){return j(M)===a},Ct.isStrictMode=function(M){return j(M)===i},Ct.isSuspense=function(M){return j(M)===p},Ct.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===d||M===a||M===i||M===p||M===b||typeof M=="object"&&M!==null&&(M.$$typeof===E||M.$$typeof===x||M.$$typeof===o||M.$$typeof===l||M.$$typeof===h||M.$$typeof===w||M.$$typeof===T||M.$$typeof===N||M.$$typeof===_)},Ct.typeOf=j,Ct}var i3;function u1e(){return i3||(i3=1,IS.exports=c1e()),IS.exports}u1e();var aU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function d1e(e){var{tooltipEntrySettings:t}=e,n=ur(),r=pi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Vve(t)):i.current!==t&&n(Zve({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(Xve(i.current)),i.current=null)},[n]),null}function f1e(e){var{legendPayload:t}=e,n=ur(),r=pi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(kpe(t)):i.current!==t&&n(Ape({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(Tpe(i.current)),i.current=null)},[n]),null}var $S,h1e=()=>{var[e]=S.useState(()=>Rm("uid-"));return e},m1e=($S=zH.useId)!==null&&$S!==void 0?$S:h1e;function oU(e,t){var n=m1e();return t||(e?"".concat(e,"-").concat(n):n)}var p1e=S.createContext(void 0),g1e=e=>{var{id:t,type:n,children:r}=e,i=oU("recharts-".concat(n),t);return S.createElement(p1e.Provider,{value:i},r(i))},b1e={cartesianItems:[],polarItems:[]},sU=mi({name:"graphicalItems",initialState:b1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ua(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ua(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:y1e,replaceCartesianGraphicalItem:v1e,removeCartesianGraphicalItem:x1e,addPolarGraphicalItem:eNe,removePolarGraphicalItem:tNe}=sU.actions,_1e=sU.reducer,w1e=e=>{var t=ur(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(y1e(e)):n.current!==e&&t(v1e({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(x1e(n.current)),n.current=null)},[t]),null},S1e=S.memo(w1e),E1e=["points"];function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(r){k1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k1e(e,t,n){return(t=A1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A1e(e){var t=T1e(e,"string");return typeof t=="symbol"?t:t+""}function T1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}function j1e(e,t){if(e==null)return{};var n,r,i=O1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function N1e(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=j1e(a,E1e);return S.createElement(rU,qy({},l,{className:i}))}function C1e(e,t){return e==null?!1:t?!0:e.length===1}function M1e(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Fr.scatter}=e;if(!C1e(t,n))return null;var h=aU(n),p=Ude(n),b=t.map((E,_)=>{var w,T,N=BS(BS(BS({r:3},o),p),{},{index:_,cx:(w=E.x)!==null&&w!==void 0?w:void 0,cy:(T=E.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:E.value,payload:E.payload,points:t});return S.createElement(N1e,{key:"dot-".concat(_),option:n,dotProps:N,className:i})}),x={};return l&&u!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),S.createElement(Rs,{zIndex:d},S.createElement(To,qy({className:r},x),b))}function o3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(n),!0).forEach(function(r){D1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D1e(e,t,n){return(t=P1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P1e(e){var t=R1e(e,"string");return typeof t=="symbol"?t:t+""}function R1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L1e={xAxis:{},yAxis:{},zAxis:{}},lU=mi({name:"cartesianAxis",initialState:L1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=s3(s3({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:I1e,replaceXAxis:$1e,removeXAxis:B1e,addYAxis:z1e,replaceYAxis:U1e,removeYAxis:F1e,addZAxis:nNe,replaceZAxis:rNe,removeZAxis:iNe,updateYAxisWidth:H1e}=lU.actions,G1e=lU.reducer,q1e=we([Er],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Y1e=we([q1e,Os,Ns],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),WT=()=>Je(Y1e),K1e=()=>Je(Hxe);function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(r){W1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W1e(e,t,n){return(t=V1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1e(e){var t=Z1e(e,"string");return typeof t=="symbol"?t:t+""}function Z1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=zS(zS(zS({},l),Lv(i)),PA(i)),d;return S.isValidElement(i)?d=S.cloneElement(i,u):typeof i=="function"?d=i(u):d=S.createElement(rU,u),S.createElement(To,{className:"recharts-active-dot",clipPath:o},d)};function c3(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Fr.activeDot}=e,l=Je(Wm),u=K1e();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return _r(d)?null:S.createElement(Rs,{zIndex:o},S.createElement(X1e,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var J1e={},cU=mi({name:"errorBars",initialState:J1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:aNe,replaceErrorBar:oNe,removeErrorBar:sNe}=cU.actions,Q1e=cU.reducer;function uU(e,t){var n,r,i=Je(d=>Ms(d,e)),a=Je(d=>Ds(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:rr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ir.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function eSe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=WT(),{needClipX:a,needClipY:o,needClip:l}=uU(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var tSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function nSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function VT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(tSe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!yb(e[r],t[r]))return!1}else if(!nSe(e[r],t[r]))return!1;return!0}var rSe=e=>{var{chartData:t}=e,n=ur(),r=pi();return S.useEffect(()=>r?()=>{}:(n(LI(t)),()=>{n(LI(void 0))}),[t,n,r]),null},u3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dU=mi({name:"brush",initialState:u3,reducers:{setBrushSettings(e,t){return t.payload==null?u3:t.payload}}}),{setBrushSettings:lNe}=dU.actions,iSe=dU.reducer;function aSe(e,t,n){return(t=oSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oSe(e){var t=sSe(e,"string");return typeof t=="symbol"?t:t+""}function sSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZT{static create(t){return new ZT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}aSe(ZT,"EPS",1e-4);function lSe(e){return(e%180+180)%180}var cSe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=lSe(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},uSe={dots:[],areas:[],lines:[]},fU=mi({name:"referenceElements",initialState:uSe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ua(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ua(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ua(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:cNe,removeDot:uNe,addArea:dNe,removeArea:fNe,addLine:hNe,removeLine:mNe}=fU.actions,dSe=fU.reducer,fSe=S.createContext(void 0),hSe=e=>{var{children:t}=e,[n]=S.useState("".concat(Rm("recharts"),"-clip")),r=WT();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return S.createElement(fSe.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function hU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function mSe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return cSe(r,n)}function pSe(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Yy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function gSe(e,t){return hU(e,t+1)}function bSe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,p=function(){var E=r?.[u];if(E===void 0)return{v:hU(r,d)};var _=u,w,T=()=>(w===void 0&&(w=n(E,_)),w),N=E.coordinate,j=u===0||Yy(e,N,T,h,l);j||(u=0,h=o,d+=1),j&&(h=N+e*(T()/2+i),u+=d)},b;d<=a.length;)if(b=p(),b)return b.v;return[]}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(r){ySe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ySe(e,t,n){return(t=vSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vSe(e){var t=xSe(e,"string");return typeof t=="symbol"?t:t+""}function xSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Se(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var x=a[b],E,_=()=>(E===void 0&&(E=n(x,b)),E);if(b===o-1){var w=e*(x.coordinate+e*_()/2-u);a[b]=x=Or(Or({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else a[b]=x=Or(Or({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var T=Yy(e,x.tickCoord,_,l,u);T&&(u=x.tickCoord-e*(_()/2+i),a[b]=Or(Or({},x),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function wSe(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-d);if(o[l-1]=h=Or(Or({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var x=Yy(e,h.tickCoord,()=>p,u,d);x&&(d=h.tickCoord-e*(p/2+i),o[l-1]=Or(Or({},h),{},{isShow:!0}))}}for(var E=a?l-1:l,_=function(N){var j=o[N],C,M=()=>(C===void 0&&(C=n(j,N)),C);if(N===0){var P=e*(j.coordinate-e*M()/2-u);o[N]=j=Or(Or({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[N]=j=Or(Or({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var $=Yy(e,j.tickCoord,M,u,d);$&&(u=j.tickCoord+e*(M()/2+i),o[N]=Or(Or({},j),{},{isShow:!0}))}},w=0;w<E;w++)_(w);return o}function XT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(We(u)||bf.isSsr){var b;return(b=gSe(i,We(u)?u:0))!==null&&b!==void 0?b:[]}var x=[],E=l==="top"||l==="bottom"?"width":"height",_=h&&E==="width"?vm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=(j,C)=>{var M=typeof d=="function"?d(j.value,C):j.value;return E==="width"?mSe(vm(M,{fontSize:t,letterSpacing:n}),_,p):vm(M,{fontSize:t,letterSpacing:n})[E]},T=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,N=pSe(a,T,E);return u==="equidistantPreserveStart"?bSe(T,N,w,i,o):(u==="preserveStart"||u==="preserveStartEnd"?x=wSe(T,N,w,i,o,u==="preserveStartEnd"):x=_Se(T,N,w,i,o),x.filter(j=>j.isShow))}var SSe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},ESe=["axisLine","width","height","className","hide","ticks","axisType"];function kSe(e,t){if(e==null)return{};var n,r,i=ASe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ASe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(null,arguments)}function f3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(n),!0).forEach(function(r){TSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TSe(e,t,n){return(t=jSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jSe(e){var t=OSe(e,"string");return typeof t=="symbol"?t:t+""}function OSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Fr.axis};function NSe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=$n($n($n({},u),Ga(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=$n($n({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=$n($n({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return S.createElement("line",hu({},d,{className:Qt("recharts-cartesian-axis-line",Bv(l,"className"))}))}function CSe(e,t,n,r,i,a,o,l,u){var d,h,p,b,x,E,_=l?-1:1,w=e.tickSize||o,T=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,p=b-_*w,E=p-_*u,x=T;break;case"left":p=b=e.coordinate,h=t+ +!l*r,d=h-_*w,x=d-_*u,E=T;break;case"right":p=b=e.coordinate,h=t+ +l*r,d=h+_*w,x=d+_*u,E=T;break;default:d=h=e.coordinate,b=n+ +l*i,p=b+_*w,E=p+_*u,x=T;break}return{line:{x1:d,y1:p,x2:h,y2:b},tick:{x,y:E}}}function MSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function DSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function PSe(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,$n($n({},n),{},{className:a}));else if(typeof t=="function")i=t($n($n({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=S.createElement(YT,hu({},n,{className:o}),r)}return i}var RSe=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:b,y:x,width:E,height:_,tickSize:w,tickMargin:T,fontSize:N,letterSpacing:j,getTicksConfig:C,events:M,axisType:P}=e,$=XT($n($n({},C),{},{ticks:n}),N,j),F=MSe(h,p),Y=DSe(h,p),W=Ga(C),H=Lv(r),z={};typeof i=="object"&&(z=i);var V=$n($n({},W),{},{fill:"none"},z),X=$.map(Q=>$n({entry:Q},CSe(Q,b,x,E,_,h,w,p,T))),Z=X.map(Q=>{var{entry:ne,line:ue}=Q;return S.createElement(To,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},i&&S.createElement("line",hu({},V,ue,{className:Qt("recharts-cartesian-axis-tick-line",Bv(i,"className"))})))}),q=X.map((Q,ne)=>{var{entry:ue,tick:se}=Q,B=$n($n($n($n({textAnchor:F,verticalAnchor:Y},W),{},{stroke:"none",fill:a},H),se),{},{index:ne,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},d);return S.createElement(To,hu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},Sfe(M,ue,ne)),r&&S.createElement(PSe,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,ne):ue.value).concat(l||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},q.length>0&&S.createElement(Rs,{zIndex:Fr.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},q)),Z.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),LSe=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=kSe(e,ESe),[h,p]=S.useState(""),[b,x]=S.useState(""),E=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return SSe({ticks:E.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=S.useCallback(w=>{if(w){var T=w.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=T;var N=T[0];if(N){var j=window.getComputedStyle(N),C=j.fontSize,M=j.letterSpacing;(C!==h||M!==b)&&(p(C),x(M))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(Rs,{zIndex:e.zIndex},S.createElement(To,{className:Qt("recharts-cartesian-axis",a)},S.createElement(NSe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ga(e)}),S.createElement(RSe,{ref:_,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(Lwe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(Ywe,{label:e.label,labelRef:e.labelRef}),e.children)))}),JT=S.forwardRef((e,t)=>{var n=qi(e,gs);return S.createElement(LSe,hu({},n,{ref:t}))});JT.displayName="CartesianAxis";var ISe=["x1","y1","x2","y2","key"],$Se=["offset"],BSe=["xAxisId","yAxisId"],zSe=["xAxisId","yAxisId"];function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(r){USe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function USe(e,t,n){return(t=FSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FSe(e){var t=HSe(e,"string");return typeof t=="symbol"?t:t+""}function HSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}function Ky(e,t){if(e==null)return{};var n,r,i=GSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return S.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mU(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=Ky(n,ISe),p=(i=Ga(h))!==null&&i!==void 0?i:{},{offset:b}=p,x=Ky(p,$Se);r=S.createElement("line",tu({},x,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function YSe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Ky(e,BSe),u=i.map((d,h)=>{var p=Nr(Nr({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return S.createElement(mU,{key:"line-".concat(h),option:r,lineItemProps:p})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function KSe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Ky(e,zSe),u=i.map((d,h)=>{var p=Nr(Nr({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return S.createElement(mU,{option:r,lineItemProps:p,key:"line-".concat(h)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function WSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var x=!d[b+1],E=x?i+o-p:d[b+1]-p;if(E<=0)return null;var _=b%t.length;return S.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:E,width:a,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function VSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var x=!d[b+1],E=x?i+o-p:d[b+1]-p;if(E<=0)return null;var _=b%n.length;return S.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:E,height:l,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ZSe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return i9(XT(Nr(Nr(Nr({},gs),n),{},{ticks:a9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},XSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return i9(XT(Nr(Nr(Nr({},gs),n),{},{ticks:a9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},JSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Fr.grid};function pU(e){var t=m9(),n=p9(),r=h9(),i=Nr(Nr({},qi(e,JSe)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:x}=i,E=pi(),_=Je(Y=>EI(Y,"xAxis",a,E)),w=Je(Y=>EI(Y,"yAxis",o,E));if(!Oo(d)||!Oo(h)||!We(l)||!We(u))return null;var T=i.verticalCoordinatesGenerator||ZSe,N=i.horizontalCoordinatesGenerator||XSe,{horizontalPoints:j,verticalPoints:C}=i;if((!j||!j.length)&&typeof N=="function"){var M=b&&b.length,P=N({yAxis:w?Nr(Nr({},w),{},{ticks:M?b:w.ticks}):void 0,width:t??d,height:n??h,offset:r},M?!0:p);wy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(j=P)}if((!C||!C.length)&&typeof T=="function"){var $=x&&x.length,F=T({xAxis:_?Nr(Nr({},_),{},{ticks:$?x:_.ticks}):void 0,width:t??d,height:n??h,offset:r},$?!0:p);wy(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(C=F)}return S.createElement(Rs,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(qSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(WSe,tu({},i,{horizontalPoints:j})),S.createElement(VSe,tu({},i,{verticalPoints:C})),S.createElement(YSe,tu({},i,{offset:r,horizontalPoints:j,xAxis:_,yAxis:w})),S.createElement(KSe,tu({},i,{offset:r,verticalPoints:C,xAxis:_,yAxis:w}))))}pU.displayName="CartesianGrid";function QSe(e){var t=Lv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var gU=(e,t,n,r)=>g8(e,"xAxis",t,r),bU=(e,t,n,r)=>p8(e,"xAxis",t,r),yU=(e,t,n,r)=>g8(e,"yAxis",n,r),vU=(e,t,n,r)=>p8(e,"yAxis",n,r),eEe=we([Vt,gU,yU,bU,vU],(e,t,n,r,i)=>js(e,"xAxis")?_y(t,r,!1):_y(n,i,!1)),tEe=(e,t,n,r,i)=>i,xU=we([$z,tEe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),nEe=(e,t,n,r,i)=>{var a,o=xU(e,t,n,r,i);if(o!=null){var l=Vt(e),u=js(l,"xAxis"),d;if(u?d=Bk(e,"yAxis",n,r):d=Bk(e,"xAxis",t,r),d!=null){var{stackId:h}=o,p=kT(o);if(!(h==null||p==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(x=>x.key===p)}}}},rEe=we([Vt,gU,yU,bU,vU,nEe,gT,eEe,xU,zye],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:x}=u,E;if(x&&x.length>0?E=x:E=h?.slice(p,b+1),E!=null)return wEe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:E,chartBaseValue:d,bandSize:l})}}),iEe=["id"],aEe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(null,arguments)}function _U(e,t){if(e==null)return{};var n,r,i=oEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function m3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(r){sEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sEe(e,t,n){return(t=lEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lEe(e){var t=cEe(e,"string");return typeof t=="symbol"?t:t+""}function cEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(e,t){return e&&e!=="none"?e:t}var uEe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Wy(r,i),value:o9(n,t),payload:e}]},dEe=S.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:o9(o,t),hide:l,type:d,color:Wy(r,a),unit:u}};return S.createElement(d1e,{tooltipEntrySettings:h})});function fEe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=Ga(r);return S.createElement(M1e,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function hEe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Cd(Cd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(r1e,{value:t?i:void 0},n)}function p3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:p}=a,b=_U(a,iEe),x=Ga(b),E=pa(b);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(To,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(Eb,ou({},E,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(Eb,ou({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&S.createElement(Eb,ou({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),S.createElement(fEe,{points:t,props:b,clipPathId:i}))}function mEe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!wn(a)||!wn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),We(u)?S.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function pEe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!wn(a)||!wn(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),We(u)?S.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function gEe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?S.createElement(mEe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):S.createElement(pEe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function bEe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:x}=r,E=S.useMemo(()=>({points:o,baseLine:l}),[o,l]),_=j9(E,"recharts-area-"),w=dpe(),[T,N]=S.useState(!1),j=!T,C=S.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),M=S.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]);if(w==null)return null;var P=i.current,$=a.current;return S.createElement(hEe,{showLabels:j,points:o},r.children,S.createElement(T9,{animationId:_,begin:d,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:M,key:_},F=>{if(P){var Y=P.length/o.length,W=F===1?o:o.map((z,V)=>{var X=Math.floor(V*Y);if(P[X]){var Z=P[X];return Cd(Cd({},z),{},{x:vo(Z.x,z.x,F),y:vo(Z.y,z.y,F)})}return z}),H;return We(l)?H=vo($,l,F):_r(l)||qa(l)?H=vo($,0,F):H=l.map((z,V)=>{var X=Math.floor(V*Y);if(Array.isArray($)&&$[X]){var Z=$[X];return Cd(Cd({},z),{},{x:vo(Z.x,z.x,F),y:vo(Z.y,z.y,F)})}return z}),F>0&&(i.current=W,a.current=H),S.createElement(p3,{points:W,baseLine:H,needClip:t,clipPathId:n,props:r})}return F>0&&(i.current=o,a.current=l),S.createElement(To,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(gEe,{alpha:F,points:o,baseLine:l,layout:w,strokeWidth:r.strokeWidth}))),S.createElement(To,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(p3,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),S.createElement(o1e,{label:r.label}))}function yEe(e){var{needClip:t,clipPathId:n,props:r}=e,i=S.useRef(null),a=S.useRef();return S.createElement(bEe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class vEe extends S.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:p,id:b,baseLine:x,zIndex:E}=this.props;if(t)return null;var _=Qt("recharts-area",i),w=b,{r:T,strokeWidth:N}=QSe(n),j=aU(n),C=T*2+N,M=l?"url(#clipPath-".concat(j?"":"dots-").concat(w,")"):void 0;return S.createElement(Rs,{zIndex:E},S.createElement(To,{className:_},l&&S.createElement("defs",null,S.createElement(eSe,{clipPathId:w,xAxisId:u,yAxisId:d}),!j&&S.createElement("clipPath",{id:"clipPath-dots-".concat(w)},S.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),S.createElement(yEe,{needClip:l,clipPathId:w,props:this.props})),S.createElement(c3,{points:r,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(x)&&S.createElement(c3,{points:x,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var wU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Fr.area};function xEe(e){var t,n=qi(e,wU),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:p,isAnimationActive:b,legendType:x,stroke:E,xAxisId:_,yAxisId:w}=n,T=_U(n,aEe),N=vp(),j=I8(),{needClip:C}=uU(_,w),M=pi(),{points:P,isRange:$,baseLine:F}=(t=Je(X=>rEe(X,_,w,M,e.id)))!==null&&t!==void 0?t:{},Y=WT();if(N!=="horizontal"&&N!=="vertical"||Y==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:W,width:H,x:z,y:V}=Y;return!P||!P.length?null:S.createElement(vEe,ou({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:F,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:W,hide:p,layout:N,isAnimationActive:b==="auto"?!bf.isSsr:b,isRange:$,legendType:x,needClip:C,points:P,stroke:E,width:H,left:z,top:V,xAxisId:_,yAxisId:w}))}var _Ee=(e,t,n,r,i)=>{var a=n??t;if(We(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function wEe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:x}=e,E=i&&i.length,_=_Ee(a,o,n,l,u),w=a==="horizontal",T=!1,N=d.map((C,M)=>{var P;E?P=i[h+M]:(P=Cr(C,r),Array.isArray(P)?T=!0:P=[_,P]);var $=P[1]==null||E&&!t&&Cr(C,r)==null;return w?{x:KR({axis:l,ticks:p,bandSize:x,entry:C,index:M}),y:$?null:u.scale(P[1]),value:P,payload:C}:{x:$?null:l.scale(P[1]),y:KR({axis:u,ticks:b,bandSize:x,entry:C,index:M}),value:P,payload:C}}),j;return E||T?j=N.map(C=>{var M=Array.isArray(C.value)?C.value[0]:null;return w?{x:C.x,y:M!=null&&C.y!=null?u.scale(M):null,payload:C.payload}:{x:M!=null?l.scale(M):null,y:C.y,payload:C.payload}}):j=w?u.scale(_):l.scale(_),{points:N,baseLine:j,isRange:T}}function SEe(e){var t=qi(e,wU),n=pi();return S.createElement(g1e,{id:t.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(f1e,{legendPayload:uEe(t)}),S.createElement(dEe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),S.createElement(S1e,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Tme(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),S.createElement(xEe,ou({},t,{id:r}))))}var SU=S.memo(SEe,VT);SU.displayName="Area";var EEe=["domain","range"],kEe=["domain","range"];function g3(e,t){if(e==null)return{};var n,r,i=AEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function EU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=g3(e,EEe),{domain:a,range:o}=t,l=g3(t,kEe);return!b3(n,a)||!b3(r,o)?!1:VT(i,l)}var TEe=["dangerouslySetInnerHTML","ticks"],jEe=["id"];function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kk.apply(null,arguments)}function y3(e,t){if(e==null)return{};var n,r,i=OEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NEe(e){var t=ur(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(I1e(e)):n.current!==e&&t($1e({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(B1e(n.current)),n.current=null)},[t]),null}var CEe=e=>{var{xAxisId:t,className:n}=e,r=Je(l9),i=pi(),a="xAxis",o=Je(w=>Sf(w,a,t,i)),l=Je(w=>m8(w,a,t,i)),u=Je(w=>Mve(w,t)),d=Je(w=>$ve(w,t)),h=Je(w=>Pz(w,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,x=y3(e,TEe),{id:E}=h,_=y3(h,jEe);return S.createElement(JT,Kk({},x,_,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},MEe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:gs.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:gs.tickLine,tickSize:gs.tickSize,type:rr.type,xAxisId:0},DEe=e=>{var t=qi(e,MEe);return S.createElement(S.Fragment,null,S.createElement(NEe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(CEe,t))},kU=S.memo(DEe,EU);kU.displayName="XAxis";var PEe=["dangerouslySetInnerHTML","ticks"],REe=["id"];function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wk.apply(null,arguments)}function v3(e,t){if(e==null)return{};var n,r,i=LEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function IEe(e){var t=ur(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(z1e(e)):n.current!==e&&t(U1e({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(F1e(n.current)),n.current=null)},[t]),null}var $Ee=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=S.useRef(null),o=S.useRef(null),l=Je(l9),u=pi(),d=ur(),h="yAxis",p=Je(M=>Sf(M,h,t,u)),b=Je(M=>Uve(M,t)),x=Je(M=>zve(M,t)),E=Je(M=>m8(M,h,t,u)),_=Je(M=>Rz(M,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!b||KT(i)||S.isValidElement(i)||_==null)){var M=a.current;if(M){var P=M.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(H1e({id:t,width:P}))}}},[E,b,d,i,t,r,_]),b==null||x==null||_==null)return null;var{dangerouslySetInnerHTML:w,ticks:T}=e,N=v3(e,PEe),{id:j}=_,C=v3(_,REe);return S.createElement(JT,Wk({},N,C,{ref:a,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Qt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:E,axisType:h}))},BEe={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:gs.axisLine,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:gs.tickLine,tickSize:gs.tickSize,type:ir.type,width:ir.width,yAxisId:0},zEe=e=>{var t=qi(e,BEe);return S.createElement(S.Fragment,null,S.createElement(IEe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement($Ee,t))},AU=S.memo(zEe,EU);AU.displayName="YAxis";var UEe=(e,t)=>t,QT=we([UEe,Vt,Mz,Zn,C8,Ps,t_e,Er],l_e),ej=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},TU=ga("mouseClick"),jU=bp();jU.startListening({actionCreator:TU,effect:(e,t)=>{var n=e.payload,r=QT(t.getState(),ej(n));r?.activeIndex!=null&&t.dispatch(exe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Vk=ga("mouseMove"),OU=bp(),ib=null;OU.startListening({actionCreator:Vk,effect:(e,t)=>{var n=e.payload;ib!==null&&cancelAnimationFrame(ib);var r=ej(n);ib=requestAnimationFrame(()=>{var i=t.getState(),a=LT(i,i.tooltip.settings.shared);if(a==="axis"){var o=QT(i,r);o?.activeIndex!=null?t.dispatch(S8({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(w8())}ib=null})}});var x3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},NU=mi({name:"rootProps",initialState:x3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:x3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),FEe=NU.reducer,{updateOptions:HEe}=NU.actions,CU=mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pNe}=CU.actions,GEe=CU.reducer,MU=ga("keyDown"),DU=ga("focus"),tj=bp();tj.startListening({actionCreator:MU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=IT(i,kf(n),Tp(n),Mp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Ps(n);if(a==="Enter"){var d=Hy(n,"axis","hover",String(i.index));t.dispatch(Uk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=qve(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,x=l+b*p;if(!(u==null||x>=u.length||x<0)){var E=Hy(n,"axis","hover",String(x));t.dispatch(Uk({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});tj.startListening({actionCreator:DU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Hy(n,"axis","hover",String(a));t.dispatch(Uk({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var aa=ga("externalEvent"),PU=bp(),US=new Map;PU.startListening({actionCreator:aa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=US.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:zxe(l),activeDataKey:$xe(l),activeIndex:Wm(l),activeLabel:P8(l),activeTooltipIndex:Wm(l),isTooltipActive:Uxe(l)};n(u,r)}finally{US.delete(i)}});US.set(i,o)}}});var qEe=we([Ef],e=>e.tooltipItemPayloads),YEe=we([qEe,Np,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),RU=ga("touchMove"),LU=bp();LU.startListening({actionCreator:RU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=LT(r,r.tooltip.settings.shared);if(i==="axis"){var a=QT(r,ej({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(S8({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Pme),h=(o=u.getAttribute(Rme))!==null&&o!==void 0?o:void 0,p=YEe(t.getState(),d,h);t.dispatch(Qve({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var KEe=l5({brush:iSe,cartesianAxis:G1e,chartData:z_e,errorBars:Q1e,graphicalItems:_1e,layout:bme,legend:jpe,options:R_e,polarAxis:l1e,polarOptions:GEe,referenceElements:dSe,rootProps:FEe,tooltip:txe,zIndex:w_e}),WEe=function(t){return Fhe({reducer:KEe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([jU.middleware,OU.middleware,tj.middleware,PU.middleware,LU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(G7({type:"raf"}))},devTools:bf.devToolsEnabled})};function VEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=pi(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=WEe(t));var o=LA;return S.createElement(b5,{context:o,store:a.current},n)}function ZEe(e){var{layout:t,margin:n}=e,r=ur(),i=pi();return S.useEffect(()=>{i||(r(mme(t)),r(hme(n)))},[r,i,t,n]),null}var XEe=S.memo(ZEe,VT);function JEe(e){var t=ur();return S.useEffect(()=>{t(HEe(e))},[t,e]),null}function _3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=oU("".concat(r).concat(t)),a=ur();return S.useLayoutEffect(()=>(a(x_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(__e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function w3(e){var{children:t,isPanorama:n}=e,r=Je(u_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return S.createElement(S.Fragment,null,i.map(o=>S.createElement(_3,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>S.createElement(_3,{key:o,zIndex:o,isPanorama:n})))}var QEe=["children"];function eke(e,t){if(e==null)return{};var n,r,i=tke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}var nke={width:"100%",height:"100%",display:"block"},rke=S.forwardRef((e,t)=>{var n=m9(),r=p9(),i=S9();if(!Oo(n)||!Oo(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),S.createElement(Q6,Vy({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:nke,ref:t}),a)}),ike=e=>{var{children:t}=e,n=Je(Jv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(Q6,{width:r,height:i,x:o,y:a},t)},S3=S.forwardRef((e,t)=>{var{children:n}=e,r=eke(e,QEe),i=pi();return i?S.createElement(ike,null,S.createElement(w3,{isPanorama:!0},n)):S.createElement(rke,Vy({ref:t},r),S.createElement(w3,{isPanorama:!1},n))});function ake(){var e=ur(),[t,n]=S.useState(null),r=Je(Dme);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wn(a)&&a!==r&&e(gme(a))}},[t,e,r]),n}function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(r){ske(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ske(e,t,n){return(t=lke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lke(e){var t=cke(e,"string");return typeof t=="symbol"?t:t+""}function cke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}var uke=()=>(V_e(),null);function Zy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var dke=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[a,o]=S.useState({containerWidth:Zy((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Zy((r=e.style)===null||r===void 0?void 0:r.height)}),l=S.useCallback((d,h)=>{o(p=>{var b=Math.round(d),x=Math.round(h);return p.containerWidth===b&&p.containerHeight===x?p:{containerWidth:b,containerHeight:x}})},[]),u=S.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var b=E=>{var{width:_,height:w}=E[0].contentRect;l(_,w)},x=new ResizeObserver(b);x.observe(d),i.current=x}},[t,l]);return S.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),S.createElement(S.Fragment,null,S.createElement(ex,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",mu({ref:u},e)))}),fke=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=S.useState({containerWidth:Zy(n),containerHeight:Zy(r)}),o=S.useCallback((u,d)=>{a(h=>{var p=Math.round(u),b=Math.round(d);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return S.createElement(S.Fragment,null,S.createElement(ex,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",mu({ref:l},e)))}),hke=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(ex,{width:n,height:r}),S.createElement("div",mu({ref:t},e)))}),mke=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return xs(n)||xs(r)?S.createElement(fke,mu({},e,{ref:t})):S.createElement(hke,mu({},e,{ref:t}))});function pke(e){return e===!0?dke:mke}var gke=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:x,onTouchMove:E,onTouchStart:_,style:w,width:T,responsive:N,dispatchTouchEvents:j=!0}=e,C=S.useRef(null),M=ur(),[P,$]=S.useState(null),[F,Y]=S.useState(null),W=ake(),H=GA(),z=H?.width>0?H.width:T,V=H?.height>0?H.height:i,X=S.useCallback(re=>{W(re),typeof t=="function"&&t(re),$(re),Y(re),re!=null&&(C.current=re)},[W,t,$,Y]),Z=S.useCallback(re=>{M(TU(re)),M(aa({handler:a,reactEvent:re}))},[M,a]),q=S.useCallback(re=>{M(Vk(re)),M(aa({handler:d,reactEvent:re}))},[M,d]),Q=S.useCallback(re=>{M(w8()),M(aa({handler:h,reactEvent:re}))},[M,h]),ne=S.useCallback(re=>{M(Vk(re)),M(aa({handler:p,reactEvent:re}))},[M,p]),ue=S.useCallback(()=>{M(DU())},[M]),se=S.useCallback(re=>{M(MU(re.key))},[M]),B=S.useCallback(re=>{M(aa({handler:o,reactEvent:re}))},[M,o]),K=S.useCallback(re=>{M(aa({handler:l,reactEvent:re}))},[M,l]),ie=S.useCallback(re=>{M(aa({handler:u,reactEvent:re}))},[M,u]),J=S.useCallback(re=>{M(aa({handler:b,reactEvent:re}))},[M,b]),oe=S.useCallback(re=>{M(aa({handler:_,reactEvent:re}))},[M,_]),de=S.useCallback(re=>{j&&M(RU(re)),M(aa({handler:E,reactEvent:re}))},[M,j,E]),pe=S.useCallback(re=>{M(aa({handler:x,reactEvent:re}))},[M,x]),ye=pke(N);return S.createElement(F8.Provider,{value:P},S.createElement(Wde.Provider,{value:F},S.createElement(ye,{width:z??w?.width,height:V??w?.height,className:Qt("recharts-wrapper",r),style:oke({position:"relative",cursor:"default",width:z,height:V},w),onClick:Z,onContextMenu:B,onDoubleClick:K,onFocus:ue,onKeyDown:se,onMouseDown:ie,onMouseEnter:q,onMouseLeave:Q,onMouseMove:ne,onMouseUp:J,onTouchEnd:pe,onTouchMove:de,onTouchStart:oe,ref:X},S.createElement(uke,null),n)))}),bke=["width","height","responsive","children","className","style","compact","title","desc"];function yke(e,t){if(e==null)return{};var n,r,i=vke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xke=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,p=yke(e,bke),b=Ga(p);return u?S.createElement(S.Fragment,null,S.createElement(ex,{width:n,height:r}),S.createElement(S3,{otherAttributes:b,title:d,desc:h},a)):S.createElement(gke,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(S3,{otherAttributes:b,title:d,desc:h,ref:t},S.createElement(hSe,null,a)))});function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zk.apply(null,arguments)}var _ke={top:5,right:5,bottom:5,left:5},wke={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_ke,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ske=S.forwardRef(function(t,n){var r,i=qi(t.categoricalChartProps,wke),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(VEe,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},S.createElement(rSe,{chartData:d.data}),S.createElement(XEe,{layout:i.layout,margin:i.margin}),S.createElement(JEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(xke,Zk({},i,{ref:n})))}),Eke=["axis"],kke=S.forwardRef((e,t)=>S.createElement(Ske,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eke,tooltipPayloadSearcher:D_e,categoricalChartProps:e,ref:t}));function IU(e){return typeof e=="object"&&e!==null}function Zc(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function Ake(e,t=""){return typeof e=="string"?e:t}function Tke(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!IU(n))continue;const r=Ake(n.day),i=Zc(n.dau),a=Zc(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function jke(e){return IU(e)?{online_now:Zc(e.online_now),active_today:Zc(e.active_today),active_7d:Zc(e.active_7d),active_30d:Zc(e.active_30d),active_365d:Zc(e.active_365d),series:Tke(e.series)}:null}function Oke(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function k3(){const[e,t]=S.useState(30),[n,r]=S.useState(null),[i,a]=S.useState(0),[o,l]=S.useState(!1),[u,d]=S.useState(""),h=S.useRef(!1),p=S.useRef(!1),b=S.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:w,error:T}=await Me.rpc("admin_dashboard_stats",{p_days:e});if(T){d(T.message||"RPC error"),r(null);return}const N=jke(w);if(!N){d("   ( )"),r(null);return}r(N),a(N.online_now)}finally{l(!1),h.current=!1}}},[e]),x=S.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:w,error:T}=await Me.rpc("admin_online_now");if(T)return;const N=typeof w=="number"?w:typeof w=="string"?Number(w):0;Number.isFinite(N)&&a(N)}finally{p.current=!1}}},[]);S.useEffect(()=>{b()},[b]),S.useEffect(()=>{x();const w=window.setInterval(()=>void x(),3e4);return()=>window.clearInterval(w)},[x]),S.useEffect(()=>{const w=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(w)},[b]);const E=S.useMemo(()=>n?.series??[],[n]),_=S.useMemo(()=>E.reduce((w,T)=>w+(T.total_active_ms||0),0),[E]);return g.jsx(Ide,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:w=>{const T=Number(w.target.value);(T===30||T===60||T===90)&&t(T)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(Qh,{label:" ",value:i}),g.jsx(Qh,{label:" (DAU)",value:n?.active_today??0}),g.jsx(Qh,{label:" 7 ",value:n?.active_7d??0}),g.jsx(Qh,{label:" 30 ",value:n?.active_30d??0}),g.jsx(Qh,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(Nke,{data:E})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:Oke(_)})]})]})]})})}function Qh({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function Nke({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(cpe,{width:"100%",height:"100%",children:g.jsxs(kke,{data:e,children:[g.jsx(pU,{strokeDasharray:"3 3"}),g.jsx(kU,{dataKey:"day"}),g.jsx(AU,{}),g.jsx(rwe,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(SU,{type:"monotone",dataKey:"dau"})]})})})}function Cke(){const[e,t]=S.useState(""),[n,r]=S.useState("ACTIVE"),[i,a]=S.useState("LAST_SEEN_DESC"),[o,l]=S.useState(1),[u,d]=S.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(p,b)=>{d(x=>{const E=x[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...x,[p]:{...E,...b}}})}}}const Xk=20;function Mke(e){return typeof e=="object"&&e!==null}function mo(e){return typeof e=="string"?e:null}function A3(e){return typeof e=="boolean"?e:null}function FS(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function $U(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function Dke(e){return $U(e)?e:null}function Pke(e){if(!Mke(e))return null;const t=mo(e.user_id);return t?{user_id:t,name:mo(e.name),nickname:mo(e.nickname),email:mo(e.email),disabled_at:mo(e.disabled_at),created_at:mo(e.created_at),plan:Dke(e.plan),starts_at:mo(e.starts_at),expires_at:mo(e.expires_at),can_use_myo_viewer:A3(e.can_use_myo_viewer),myeongsik_count:FS(e.myeongsik_count),last_seen_at:mo(e.last_seen_at),last_path:mo(e.last_path),total_active_ms:FS(e.total_active_ms),online:A3(e.online),total_count:FS(e.total_count)}:null}function T3(e){const t=(e??"").trim();return t.length?t:null}function BU(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function Rke(e,t){if(!BU(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function j3(e){if(!BU(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function Lke(e){return typeof e=="object"&&e!==null}function Ike(e,t){if(console.error(e,t),Lke(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function $ke(){const[e,t]=S.useState([]),[n,r]=S.useState(0),[i,a]=S.useState(!1),[o,l]=S.useState(null),u=S.useCallback(async h=>{const{search:p,tab:b,sort:x,page:E}=h;a(!0),l(null);try{const _=Math.max(0,(Math.max(1,E)-1)*Xk),{data:w,error:T}=await Me.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:x,p_limit:Xk,p_offset:_});if(T)throw T;const j=(Array.isArray(w)?w:[]).map(Pke).filter(C=>C!==null);t(j),r(j[0]?.total_count??0)}catch(_){t([]),r(0),l(_ instanceof Error?_.message:"  ")}finally{a(!1)}},[]),d=S.useCallback(async(h,p,b,x)=>{if(p){l(null),b(h,{saving:!0});try{if(!$U(p.plan))throw new Error(`  : ${String(p.plan)}`);const E=T3(p.startDate),_=T3(p.endDate),w=E?j3(E):null,T=_?j3(Rke(_,1)):null;if(w&&T){const C=Date.parse(w),M=Date.parse(T);if(!Number.isFinite(C)||!Number.isFinite(M))throw new Error("  ");if(M<=C)throw new Error("  .")}const N={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:w,p_expires_at:T},{error:j}=await Me.rpc("admin_set_user_entitlements",N);if(j)throw Ike("admin_set_user_entitlements error",j),j;b(h,{saving:!1,lastSavedAt:Date.now()}),await x()}catch(E){throw b(h,{saving:!1}),l(E instanceof Error?E.message:" "),E}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const zU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function Bke(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function zke(e){const t=e??"FREE";return zU.find(n=>n.value===t)?.label??String(t)}function Uke(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function O3(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function Xy(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function Fke(e,t){const n=Xy(e),r=Xy(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function Hke(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=Xy(r.starts_at),o=Xy(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function Gke(){const e=Cke(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:x,loading:E,error:_,fetchList:w,saveEntitlements:T}=$ke(),N=S.useMemo(()=>Math.max(1,Math.ceil(x/Xk)),[x]);return S.useEffect(()=>{u(1)},[r,a]),S.useEffect(()=>{w({search:t,tab:r,sort:a,page:l})},[w,t,r,a,l]),S.useEffect(()=>{l>N&&u(N)},[l,N,u]),S.useEffect(()=>{h(j=>Hke(j,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:j=>{n(j.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:j=>{const C=j.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:j=>{const C=j.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),_&&g.jsx("div",{className:"text-red-400 mb-2",children:_}),E&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(j=>{const C=j.name||j.nickname||"(no profile)",M=j.email||"",P=d[j.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},$=Date.now(),F=(j.starts_at?Date.parse(j.starts_at)<=$:!0)&&(j.expires_at?Date.parse(j.expires_at)>$:!0),Y=j.plan??"FREE",W=F?Y:"FREE",H=j.can_use_myo_viewer===!0?"ON":"OFF",z=j.last_seen_at??null,V=j.online===!0,X=j.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),M?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",M,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${V?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:z?new Date(z).toLocaleString():" ",children:[V?"":"","  ",Uke(z)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",O3(X)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:j.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",j.myeongsik_count??0,"",z?g.jsxs(g.Fragment,{children:["    ",new Date(z).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",O3(X)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",zke(W),"  ",Fke(j.starts_at,j.expires_at),"    ",H,!F&&j.plan&&j.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:Z=>p(j.user_id,{startDate:Z.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:Z=>p(j.user_id,{endDate:Z.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:Z=>{const q=Z.target.value;Bke(q)&&p(j.user_id,{plan:q})},children:zU.map(Z=>g.jsx("option",{value:Z.value,children:Z.label},Z.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:Z=>p(j.user_id,{myoViewer:Z.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void T(j.user_id,P,e.setDraft,()=>w({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${j.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},j.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(j=>j-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",N," ( ",x,")"]}),g.jsx("button",{disabled:l>=N,onClick:()=>u(j=>j+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function qke(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function Yke(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function nj({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Me.auth.getSession()).data.session?.user?.id;a&&await Me.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const Kke=async e=>{const{data:t}=await Me.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},Wke=async e=>{const{data:t}=await Me.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},Vke=async e=>{await Me.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},Zke=async(e,t)=>{await Me.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},Xke=async e=>{await Me.from("profiles").update({disabled_at:null}).eq("user_id",e),await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await nj({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},Jke=async e=>{await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await nj({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},N3=async(e,t,n)=>{const{error:r}=await Me.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await nj({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function Qke(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function e2e({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=S.useCallback(async()=>{const w=await Kke(e);n(w)},[e,n]),o=S.useCallback(async()=>{const w=await Wke(e);r(w)},[e,r]);S.useEffect(()=>{a(),o()},[a,o]);const l=S.useCallback(async()=>{if(e){i(!0);try{await Vke(e),await a()}catch(w){throw console.error("handleCreateProfile failed:",w),w}finally{i(!1)}}},[e,i,a]),u=S.useCallback(async()=>{if(e&&t){i(!0);try{await Zke(e,t),await a()}catch(w){throw console.error("handleSaveProfile failed:",w),w}finally{i(!1)}}},[e,t,i,a]),d=S.useCallback(async()=>{if(e&&t){i(!0);try{const w=t.disabled_at==null,{data:T,error:N}=await Me.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:w});if(N)throw Qke("admin_set_profile_disabled error:",N),N;n({...t,disabled_at:typeof T=="string"?T:null})}finally{i(!1)}}},[e,t,n,i]),h=S.useCallback(async()=>{if(e){i(!0);try{await Xke(e),await a(),await o()}catch(w){throw console.error("handleRestoreAccount failed:",w),w}finally{i(!1)}}},[e,i,a,o]),p=S.useCallback(async()=>{if(e){i(!0);try{await Jke(e),await o()}catch(w){throw console.error("handleRestoreAllMyeongsik failed:",w),w}finally{i(!1)}}},[e,i,o]),b=S.useCallback(async w=>{if(e&&w){i(!0);try{await N3(e,w,null),await o()}catch(T){throw console.error("handleRestoreMyeongsik failed:",T),T}finally{i(!1)}}},[e,i,o]),x=S.useCallback(w=>{const T=typeof window<"u"?window.location.origin:"",N=w?`${T}/impersonate?userId=${e}&myeongsikId=${w}`:`${T}/impersonate?userId=${e}`;window.open(N,"_blank")},[e]),E=S.useCallback(async(w,T)=>{if(!e||!w)return;const N=T?null:new Date().toISOString();i(!0);try{await N3(e,w,N),await o()}catch(j){throw console.error("toggleDeleteMyeongsik failed:",j),j}finally{i(!1)}},[e,i,o]),_=S.useCallback(w=>{window.location.href=w},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:x,toggleDeleteMyeongsik:E,goTo:_}}function t2e({params:e}){const t=e.userId,n=qke(),r=Yke(n.profile),i=e2e({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function n2e({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const C3=50;function r2e(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState([]),[o,l]=S.useState(1),[u,d]=S.useState("all"),[h,p]=S.useState("all"),[b,x]=S.useState("30"),[E,_]=S.useState(""),[w,T]=S.useState(!1),N=S.useCallback(async C=>{await Me.from("audit_logs").delete().eq("id",C),a(M=>M.filter(P=>P.id!==C))},[]),j=S.useCallback(async()=>{T(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let M=Me.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*C3,o*C3-1);b!=="all"&&(M=M.gte("created_at",C.toISOString())),u!=="all"&&(M=M.eq("action",u)),h!=="all"&&(M=M.eq("actor_admin_id",h));const{data:P}=await M;let $=P||[];if(E.trim()!==""){const F=E.toLowerCase();$=$.filter(Y=>(JSON.stringify(Y).toLowerCase()+(Y.payload?JSON.stringify(Y.payload).toLowerCase():"")).includes(F))}a($),T(!1)},[o,u,h,b,E]);return S.useEffect(()=>{j()},[j]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>x(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:E,onChange:C=>_(C.target.value)})]}),w?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:M=>{M.stopPropagation(),N(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(n2e,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const i2e="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function UU(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1);if(S.useEffect(()=>{(async()=>{const{data:l}=await Me.auth.getUser(),u=l.user?.id;r(!!u&&i2e.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(k3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(t2e,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(Gke,{}):i.startsWith("/admin/logs")?a=g.jsx(r2e,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(k3,{}));return g.jsx(Rde,{children:a})}function a2e({pillarsA:e,pillarsB:t}){const n=sie(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const o2e=["","","","","","","","","",""],s2e=["","","","","","","","","",""],l2e=["","","","","","","","","","","",""],c2e=["","","","","","","","","","","",""],u2e=new Set([...o2e,...s2e]),d2e=new Set([...l2e,...c2e]);function f2e(e){return typeof e=="object"&&e!==null}function M3(e){return typeof e=="string"&&e.length>=2&&u2e.has(e[0])&&d2e.has(e[1])}function rn(e,...t){if(M3(e))return e;for(const n of t)if(M3(n))return n;return""}function ab(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function h2e(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function D3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function Jy(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function m2e(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function vx(e){const{y:t,m:n,d:r,hh:i,mm:a}=m2e(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Gi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function p2e(e){const t=vx(e);return`${Jy(e)}-${t.toISOString()}`}function xd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:p2e(e)}function g2e(e){return f2e(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function b2e(e){const t=U4;return g2e(t)?e==="classic"?t.Classic:t.Modern:e}function y2e(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const HS="people_picker_order_v1";function v2e(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function P3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=S.useState("");S.useEffect(()=>{e||a("")},[e]);const o=S.useMemo(()=>t.map(xd),[t]),l=S.useMemo(()=>new Set(o),[o]),[u,d]=S.useState([]);S.useEffect(()=>{const _=localStorage.getItem(HS),w=_?JSON.parse(_):[],T=w.filter(j=>l.has(j)),N=[...T,...o.filter(j=>!T.includes(j))];d(N),JSON.stringify(N)!==JSON.stringify(w)&&localStorage.setItem(HS,JSON.stringify(N))},[o,l]);const h=_=>{d(_),localStorage.setItem(HS,JSON.stringify(_))},p=S.useMemo(()=>{const _=new Map(t.map(j=>[xd(j),j])),w=[];for(const j of u){const C=_.get(j);C&&w.push(C)}_.forEach((j,C)=>{u.includes(C)||w.push(j)});const T=[],N=[];for(const j of w)(typeof j.relationship=="string"?j.relationship.trim():"")===""?T.push(j):N.push(j);return[...T,...N]},[t,u]),b=S.useMemo(()=>{const _=i.trim().toLowerCase();return _?p.filter(w=>{const T=typeof w.relationship=="string"?w.relationship.trim():"";return`${Jy(w)} ${T}`.toLowerCase().includes(_)}):p},[p,i]),x=i.trim()==="",E=_=>{const{destination:w,source:T}=_;if(!w||!x||w.index===T.index)return;const N=b.map(xd),j=v2e(N,T.index,w.index),M=p.map(xd).filter($=>!N.includes($)),P=[...j,...M].filter(($,F,Y)=>Y.indexOf($)===F);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:_=>a(_.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(op,{onDragEnd:E,children:g.jsx(mf,{droppableId:"people-picker",children:_=>g.jsxs("ul",{className:"space-y-2",ref:_.innerRef,..._.droppableProps,children:[b.map((w,T)=>{const N=vx(w),j=typeof w.relationship=="string"?w.relationship.trim():"",C=j||" ",M=Jy(w),P=j&&M===" "?j:M;return g.jsx(hf,{draggableId:xd(w),index:T,isDragDisabled:!x,children:$=>g.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(w),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${j?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:bm(N)})]})})},xd(w))}),_.placeholder]})})})]})]})}function GS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=_=>{const w=o.showSibiUnseong?Mo(a,_):"",T=o.showSibiSinsal?Do({baseBranch:l,targetBranch:_,era:b2e(u),gaehwa:!!d}):"";return{unseongText:w||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),b=rn(n).charAt(1),x=rn(r).charAt(1),E=rn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),b],["",rn(r),x],["",rn(i),E]].map(([_,w,T])=>{const{unseongText:N,shinsalText:j}=h(T);return g.jsx(kd,{label:_,gz:w,dayStem:a,settings:jn.getState().settings,unseongText:N,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${e}-${_}`)})})]})}function _d({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=jn(P=>P.settings),o=S.useMemo(()=>t?vx(t):null,[t]),l="/",u=rn(o?Fa(o,l):void 0),d=rn(o?ht(o,l):void 0),h=rn(o?_t(o):void 0),p=rn(o?it(o):void 0),b=S.useMemo(()=>d.charAt(0)||"",[d]),x=o,E=S.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),_=t?.mingSikType??l,w=S.useMemo(()=>{const P=x?ht(x,_).charAt(1):d.charAt(1)||"",$=x?it(x,E).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:$},[a.sinsalBase,x,_,E,d,p]),T=S.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=H4(o,u,t.dir,120,t.mingSikType),$=q4(P,d,t.dir,t.DayChangeRule),F=dp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),Y=Y4(F,p,t.dir,t.DayChangeRule,o),W=r;return{si:rn(ab(P.events,W)?.gz,u),il:rn(ab($.events,W)?.gz,d),wl:rn(ab(F.events,W)?.gz,h),yn:rn(ab(Y.events,W)?.gz,p)}}catch{return null}},[n,o,u,d,h,p,r,t]),N=S.useMemo(()=>{if(n!=="")return null;const P=r;return{si:rn(Fa(P,l)),il:rn(ht(P,l)),wl:rn(_t(P)),yn:rn(it(P))}},[n,r]),j=t?Jy(t):"",C=o?bm(o):"",M=t?y2e(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:j}),M&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(GS,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:w,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&g.jsx(GS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:w,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&g.jsx(GS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:w,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function x2e({people:e=[]}){const[t,n]=S.useState(),[r,i]=S.useState(),[a,o]=S.useState(!1),[l,u]=S.useState(!1),d=S.useRef(new Date),[h,p]=S.useState(()=>h2e(d.current)),b=S.useRef(D3(h)??d.current),x=S.useMemo(()=>{const C=D3(h);return C&&(b.current=C),b.current},[h]),[E,_]=S.useState(!1),[w,T]=S.useState(!1);function N(C){if(!C)return["","","",""];try{const M=vx(C),P="/",$={hour:rn(Fa(M,P)),day:rn(ht(M,P)),month:rn(_t(M)),year:rn(it(M))};return[$.year,$.month,$.day,$.hour]}catch{return["","","",""]}}const j=on(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[j?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(_d,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),g.jsx(_d,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),a&&t&&g.jsx(_d,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),a&&r&&g.jsx(_d,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),l&&t&&g.jsx(_d,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),l&&r&&g.jsx(_d,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(a2e,{pillarsA:N(t),pillarsB:N(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(P3,{open:E,list:e||[],onSelect:C=>{n(C),_(!1)},onClose:()=>_(!1)}),g.jsx(P3,{open:w,list:e||[],onSelect:C=>{i(C),T(!1)},onClose:()=>T(!1)})]})}function _2e(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),i=async()=>{try{const{data:{user:a}}=await Me.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Me.from("profiles").update({disabled_at:l}).eq("id",o),await Me.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Me.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   (, )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function w2e(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function qS(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function R3(e,t,n){return e<t?t:e>n?n:e}function FU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=S.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=S.useMemo(()=>w2e(a),[a]),[l,u]=S.useState(o);S.useEffect(()=>{u(o)},[o]);const d=h=>{if(!qS(h))return;const b=R3(h,n,r),{y:x,m:E,d:_}=qS(b),w=a.getHours(),T=a.getMinutes(),N=a.getSeconds(),j=a.getMilliseconds(),C=new Date(x,E-1,_,w,T,N,j);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&d(p)},onBlur:()=>{if(!l||!qS(l)){u(o);return}const h=R3(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function S2e({ms:e}){const{date:t,setDate:n}=fi(),r=S.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const d=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",h=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",d,h].filter(Boolean).join("|")},[e]);S.useEffect(()=>{n(new Date)},[r]);const i=aA(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=S.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",d=i?.dae?.gz?`${i.dae.gz}`:null,h=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,b=[d,h,p].filter(Boolean).join(" ");return[u,b].filter(Boolean).join(" + ")},[e.ganji,i]),l=u=>{n(u)};return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(FU,{date:a,onChange:l,min:"1900-01-01",max:"2100-12-31"})]})})]})}function E2e({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function k2e({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function A2e({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function T2e({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function j2e({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const rj=["","","","","","","","","",""],Pp=["","","","","","","","","","","",""],O2e={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},HU=["","","","","","","","","","","",""],N2e=Pp,C2e=HU,M2e=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],D2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},P2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Zm(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=O2e[n],i=HU.indexOf(t),a=(r+(i>=0?i:0))%10;return rj[a]}function xx(e,t){const n=t===""?N2e:C2e,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Pp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=rj[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const R2e={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function L2e(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function I2e({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:rj.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Pp.filter(o=>{const l=L2e(e),u=t[l];return u?P2e[o]===D2e[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function $2e(){const[e,t]=S.useState({}),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,l]=S.useState(!0),[u,d]=S.useState(!0),[h,p]=S.useState(""),[b,x]=S.useState("male"),[E,_]=S.useState(null),[w,T]=S.useState(!1),[N,j]=S.useState(null),[C,M]=S.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,$]=S.useState(!1),[F,Y]=S.useState(null),[W,H]=S.useState(null),[z,V]=S.useState(!1),[X,Z]=S.useState(!1),q=Q=>{H(Q),setTimeout(()=>H(null),1800)};return S.useEffect(()=>{if(!z)return;const Q=setTimeout(()=>V(!1),2e3);return()=>clearTimeout(Q)},[z]),S.useEffect(()=>{if(!X)return;const Q=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(Q)},[X]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,gender:b,setGender:x,results:E,setResults:_,searching:w,setSearching:T,selectedRow:N,setSelectedRow:j,form:C,setForm:M,unknownPlace:P,setUnknownPlace:$,error:F,setError:Y,toast:W,showToast4:z,setShowToast:V,searchToast:X,setSearchToast:Z,showToast:q}}function GU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function L3(e,t){return Pp.filter(n=>Zm(e,n)===t)}function I3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=L3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Zm(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=L3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Zm(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function B2e(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=xx(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function z2e(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Zm(e.yearStem,e.monthBranch)!==e.monthStem:!1}function U2e(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=xx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function YS(e,t,n){const i=xx(e,t)[n];return i?i.slice(0,1):null}function F2e({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,setResults:b,setError:x,showToast:E}){const _=o||u,w=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!_||w||T,j=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),M=S.useMemo(()=>GU(e),[e]);return S.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=YS(e.dayStem,h,e.hourBranch);z&&t(V=>({...V,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:_,canEnterOthers:N,activeIsStem:j,activeIsBranch:C,filledAll:M,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){x("/      ."),setTimeout(()=>x(null),1500);return}let X={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const Q=I3(X,n,o);X=Q.next,a(Q.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(X=B2e(X,n,u,h));let Z=!1;z2e(X,o)&&(l(!1),Z=!0),U2e(X,u,h)&&(d(!1),Z=!0),Z&&E("/  .  ."),t(X),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const Q={...X};if(Q.yearStem&&Q.yearBranch&&!Q.monthStem){r("monthStem");return}if(Q.monthStem&&Q.monthBranch&&!Q.dayStem){r("dayStem");return}if(Q.dayStem&&Q.dayBranch&&!Q.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let V={...e,monthBranch:z};a(null),V=I3(V,"monthBranch",o).next,t(V),r("dayStem")},clearAll:()=>{t({}),b(null),x(null),r(null),a(null)},onToggleWoldu:z=>{b(null),z&&t(V=>{const X={...V};return X.yearStem&&X.monthBranch&&(X.monthStem=Zm(X.yearStem,X.monthBranch)),X}),l(z)},onToggleSiju:z=>{b(null),z&&t(V=>{const X={...V};if(X.dayStem&&X.hourBranch){const Z=YS(X.dayStem,h,X.hourBranch);Z&&(X.hourStem=Z)}return X}),d(z)},onChangeHourRule:z=>{if(b(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const V=YS(e.dayStem,z,e.hourBranch);V&&t(X=>({...X,hourStem:V}))}}}}function H2e(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((W,H)=>H===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let x=0,E=0;if(u.hourSlots.length>0){const W=u.hourSlots[0].branch,H=R2e[W];H&&(x=H.hh,E=H.mi)}const _=new Date(h,p-1,b,x,E),w=_,T="",N=r==="male"?"":"",j=G2e(u.year.charAt(0),N),C=it(w,127.5),M=_t(w,127.5),P=ht(w,d),$=Fa(w,d),F=[`: ${C} ${M} ${P}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:I4(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(x).padStart(2,"0")}${String(E).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:nu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:F,dayStem:u.day.charAt(0),dateObj:_,corrected:w,correctedLocal:T,dir:j,favorite:!1}}}function G2e(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function q2e(e){wr.getState().add(e)}function Y2e(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=d.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),x=it(b);if(x!==i)continue;const E=_t(b);if(E!==a)continue;const _=ht(b,n);if(_!==o)continue;const w=xx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const j=Pp[N];w[j]===l&&T.push({branch:j,time:M2e[N]})}if(T.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:x,month:E,day:_,hour:l,hourSlots:T}),u.length>=r))break}return u}function K2e({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:x,onSave:E,onClose:_}){return{doSearch:()=>{if(l(null),d(null),!GU(e)){d(" 4  .");return}u(!0);try{const j=Y2e(e,t,t===""?"/":"");j.length===0&&d("  . (: 1900~2100)"),l(j)}catch(N){N instanceof Error?d(N.message):d(String(N))}finally{u(!1)}},handleSave:()=>{const N=H2e({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){h(!0);return}bu.flushSync(()=>{q2e(N.payload)}),E(N.payload),x(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),_()}}}function W2e({open:e,onClose:t,onSave:n}){const{settings:r}=jn(),i=$2e(),a=F2e({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=K2e({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(zb,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(E2e,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(k2e,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(j2e,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(I2e,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(A2e,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(T2e,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function V2e({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const l=i?" ":"";return g.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":l}`}),g.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":l}`})]})]})}function Z2e({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function X2e({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function J2e({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function Q2e({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function eAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function tAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx(FU,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function nAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:x,onWolStartChange:E,onWolEndChange:_,onWolStartBlur:w,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:j,ilEndDate:C,onIlStartChange:M,onIlEndChange:P,onIlStartBlur:$,onIlEndBlur:F,ilDaysCount:Y}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(W=>g.jsx("button",{type:"button",onClick:()=>t(W),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===W?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:W},W))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((W,H)=>g.jsxs("button",{type:"button",onClick:()=>i(H),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(H)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:W.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[W.age," (",W.startYear,"~",W.endYear,")"]})]},H))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:W=>l(Number(W.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:W=>u(Number(W.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:W=>E(W.target.value),onBlur:w,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:x,onChange:W=>_(W.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:j,onChange:W=>M(W.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:W=>P(W.target.value),onBlur:F,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",Y,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function rAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((d,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:d}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function iAe({value:e,lockSelection:t=!1}){return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const aAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},oAe=["","","","",""],sAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},$3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function lAe(){const[e,t]=S.useState(null);return S.useEffect(()=>{let n=!0;return Me.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const cAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Qy=As(e=>({sections:cAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),KS=1e3*60*60*24;function WS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function ob(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function sb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function B3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function z3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function uAe(){const e=new Date().getFullYear(),[t,n]=S.useState(e),[r,i]=S.useState(e),[a,o]=S.useState(()=>z3()),[l,u]=S.useState(()=>z3()),[d,h]=S.useState(()=>B3()),[p,b]=S.useState(()=>B3()),x=Z=>{n(Z)},E=Z=>{i(Z)},_=()=>{const Z=t;let q=r;q<Z&&(q=Z),q-Z>9&&(q=Z+9),i(q)},w=()=>{let Z=t;const q=r;q<Z&&(Z=q),q-Z>9&&(Z=q-9),n(Z)},T=S.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Z=r-t+1;return Z>0?Z:0},[t,r]),N=S.useMemo(()=>{const Z=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Z;for(let q=t;q<=r&&Z.length<10;q++)Z.push(q);return Z},[t,r]),j=Z=>{o(Z)},C=Z=>{u(Z)},M=()=>{const[Z,q]=a.split("-").map(Number),[Q,ne]=l.split("-").map(Number),ue=new Date(Z,q-1),se=new Date(Q,ne-1);if(se<ue){u(ob(ue));return}if(WS(ue,se)>11){const K=new Date(ue);K.setMonth(ue.getMonth()+11),u(ob(K))}},P=()=>{const[Z,q]=a.split("-").map(Number),[Q,ne]=l.split("-").map(Number),ue=new Date(Z,q-1),se=new Date(Q,ne-1);if(se<ue){o(ob(se));return}if(WS(ue,se)>11){const K=new Date(se);K.setMonth(se.getMonth()-11),o(ob(K))}},$=S.useMemo(()=>{const[Z,q]=(a||"").split("-").map(Number),[Q,ne]=(l||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(q)||!Number.isFinite(Q)||!Number.isFinite(ne))return 0;const ue=new Date(Z,q-1,1),se=new Date(Q,ne-1,1),B=WS(ue,se)+1;return B>0?B:0},[a,l]),F=S.useMemo(()=>{const Z=[],[q,Q]=a.split("-").map(Number),[ne,ue]=l.split("-").map(Number),se=new Date(q,Q-1),B=new Date(ne,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return Z;for(;se<=B&&Z.length<12;)Z.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return Z},[a,l]),Y=Z=>{h(Z)},W=Z=>{b(Z)},H=()=>{if(!d||!p)return;const[Z,q,Q]=d.split("-").map(Number),[ne,ue,se]=p.split("-").map(Number),B=new Date(Z,q-1,Q,4,0,0),K=new Date(ne,ue-1,se,4,0,0);if(K<B){b(sb(B));return}if(Math.floor((K.getTime()-B.getTime())/KS)>7){const J=new Date(B);J.setDate(B.getDate()+6),b(sb(J))}},z=()=>{if(!d||!p)return;const[Z,q,Q]=d.split("-").map(Number),[ne,ue,se]=p.split("-").map(Number),B=new Date(Z,q-1,Q,4,0,0),K=new Date(ne,ue-1,se,4,0,0);if(B>K){h(sb(K));return}if(Math.floor((K.getTime()-B.getTime())/KS)>7){const J=new Date(K);J.setDate(K.getDate()-6),h(sb(J))}},V=S.useMemo(()=>{const[Z,q,Q]=(d||"").split("-").map(Number),[ne,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(q)||!Number.isFinite(Q)||!Number.isFinite(ne)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(Z,q-1,Q,4,0,0),K=new Date(ne,ue-1,se,4,0,0),ie=Math.floor((K.getTime()-B.getTime())/KS)+1;return ie>0?ie:0},[d,p]),X=S.useMemo(()=>{const Z=[],[q,Q,ne]=d.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),K=new Date(q,Q-1,ne,4,0,0),ie=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(K.getTime())||Number.isNaN(ie.getTime()))return Z;const J=new Date(K);for(;J<=ie&&Z.length<31;){const oe=J.getFullYear(),de=String(J.getMonth()+1).padStart(2,"0"),pe=String(J.getDate()).padStart(2,"0");Z.push(`${oe}-${de}-${pe}`),J.setDate(J.getDate()+1)}return Z},[d,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:p,onSeStartChange:x,onSeEndChange:E,onSeStartBlur:_,onSeEndBlur:w,onWolStartChange:j,onWolEndChange:C,onWolStartBlur:M,onWolEndBlur:P,onIlStartChange:Y,onIlEndChange:W,onIlStartBlur:H,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:V,seYearsList:N,wolMonthsList:F,ilDaysList:X}}function dAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Qy(se=>se.sections),i=Qy(se=>se.toggleSection),[a,o]=S.useState("analysis"),[l,u]=S.useState(!1),[d,h]=S.useState(!1),[p,b]=S.useState(""),[x,E]=S.useState("personality"),[_,w]=S.useState("overview"),[T,N]=S.useState("solo"),[j,C]=S.useState(""),[M,P]=S.useState(!1),[$,F]=S.useState(""),[Y,W]=S.useState([]),[H,z]=S.useState(""),[V,X]=S.useState([]),Z=uAe();S.useEffect(()=>{x!=="love"&&x!=="compat"&&(N("solo"),b(""))},[x]),S.useEffect(()=>{!t&&M&&P(!1)},[t,M]),S.useEffect(()=>{!n&&j!==""&&C("")},[n,j]),S.useEffect(()=>{$!==""&&W([])},[$]),S.useEffect(()=>{z(""),X([])},[e]);function q(){const se=H.trim();se&&(X(B=>[...B,se]),z(""))}function Q(se){X(B=>B.filter((K,ie)=>ie!==se))}function ne(){X([])}function ue(se){W(B=>B.includes(se)?B.filter(K=>K!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:d,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:x,setMainCategory:E,subCategory:_,setSubCategory:w,relationMode:T,setRelationMode:N,activeTab:j,setActiveTab:C,isMultiMode:M,setIsMultiMode:P,multiTab:$,setMultiTab:F,selectedDaeIdx:Y,setSelectedDaeIdx:W,handleToggleDae:ue,rangeControls:Z,questionDraft:H,setQuestionDraft:z,extraQuestions:V,setExtraQuestions:X,handleAddQuestion:q,handleRemoveQuestion:Q,handleClearQuestions:ne}}const qU=As(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function ij(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(t,n,r);t=j.getFullYear(),n=j.getMonth()+1,r=j.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=sp(l,u,i),h=e.mingSikType??"/",p=it(d,u),b=_t(d,u),x=ht(d,h),E=i?null:Fa(d,h),_=Re(p),w=Re(b),T=Re(x),N=E?Re(E):"";return[_,w,T,N]}function YU(e){const t=new Date(e.corrected),n=ij(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=dp(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let p=Re(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const x=new Date(d);if(x.setFullYear(x.getFullYear()+b*10),b>0){const E=u.events[b];E&&(p=Re(E.gz))}h.push(`${x.getFullYear()} ${String(x.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const fAe=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],hAe=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function mAe(e,t){e.push("### ()");const n=t?hAe:fAe;e.push(...n)}function pAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function gAe(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function bAe(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function yAe(e,t){gAe(e,t)||bAe(e,t)}function vAe(e){return e==="multi"?"multi":"single"}function KU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=vAe(r),u=[],d=o===!0;return mAe(u,d),t==="etc"||(pAe(u,{mode:l,tab:i,isStudyTone:d}),yAe(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:d})),u.join(`
`)}const xAe=!1,U3=e=>e<10?`0${e}`:`${e}`;function _Ae(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o,0,0),u=`${l.getFullYear()}${U3(l.getMonth()+1)}${U3(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const cm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},um={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},pu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},wAe=["","","","",""];function F3(e){return wAe.includes(e)}const WU={:"",:"",:"",:"",:""},VU={:"",:"",:"",:"",:""},ZU={:"",:"",:"",:"",:""},XU={:"",:"",:"",:"",:""};function Jk(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(cm[t])return cm[t];if(["","","","","","","","","","","",""].includes(t))return lb[t]??null;if(um[t])return lb[um[t]]??null;const n=t.charAt(0);return cm[n]?cm[n]:["","","","","","","","","",""].includes(n)?n:um[n]?lb[um[n]]??null:["","","","","","","","","","","",""].includes(n)?lb[n]??null:null}function SAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Jk(n);i&&(t[i]=(t[i]??0)+r)}return t}function EAe(e){if(!e)return[];const t=Jk(e.charAt(0)),n=Jk(e.charAt(1));return[t,n].filter(Boolean)}function cb(e){const t=EAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function kAe(e,t){const n=pu[e],r=pu[t];if(!n||!r)return"";let i;r===n?i="":r===WU[n]?i="":r===VU[n]?i="":r===ZU[n]?i="":r===XU[n]?i="":i="";const a=F3(e)===F3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function JU(e,t){return t===e?"":t===WU[e]?"":t===VU[e]?"":t===ZU[e]?"":t===XU[e]?"":""}function QU(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const AAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},TAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=cm[t]??t,i=um[n]??n;return`${r}${i}`},aj=e=>{const t=TAe(e),n=AAe[t];return n?{...n,code:t}:null};function eF(e,t){const n=_Ae(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function jAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=pu[n];i&&(t[i]+=r)}return t}function OAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=kAe(t,r);n[a]+=i}return n}function NAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const CAe={natal:50,dae:30,se:20,wol:7,il:3};function MAe(e){const t={};for(const{kind:r,bare:i}of e){const a=CAe[r]??0;if(a<=0)continue;const o=QU(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function tF(e,t,n){const r=SAe(e.perStemElementScaled),i=t!==""&&n?.dae?cb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?cb(n.se):{},o=(t===""||t==="")&&n?.wol?cb(n.wol):{},l=t===""&&n?.il?cb(n.il):{},u=MAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=QU(u),h=jAe(d),p=OAe(d,e.dayStem),b=NAe(p);return{perStemAugBare:d,elementPercent:h,totalsSub:p,totalsMain:b}}function nF(e){return!e.birthTime||e.birthTime===""}function rF(e,t){return t[3]?["","","",""]:["","",""]}function DAe(e,t){return e.map((n,r)=>t[r]??"")}const PAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function ev(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>ev(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(PAe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=ev(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function RAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function LAe(e,t){const n=ev(e);if(n===void 0)return"";const r=RAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function iF(e,t,n){const r=LAe(t,n);return r.trim()?`## ${e}
${r}`:""}const qn=(e,t)=>iF(e,t,"plain"),$r=(e,t)=>iF(e,t,"fenced"),IAe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[d]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},$Ae=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function Qk(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${JU(t,n)})`,r]))}function BAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function zAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Re(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Re(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Re(t.wol)}`),e===""&&t.il&&n.push(`:${Re(t.il)}`),n.length>0?n.join(" / "):"()"}function aF(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:d,subTopic:h,relationMode:p,teacherMode:b,sections:x}=e,E=x?.tenGod??!0,_=x?.twelveUnseong??!0,w=x?.twelveShinsal??!0,T=x?.shinsal??!0,N=x?.nabeum??!0,j=nF(t),C=Re(n[3]??""),M=!!C,P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),C],$=YU(t).slice(0,10),F=Tl({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),Y=Kd({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:W,shinsalGaehwa:H,shinsalBase:z}=qU.getState(),V=z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",X=tF(o,a,r),Z=X.elementPercent,q=X.totalsSub,{flags:Q}=I6(P,o.elementScoreRaw),ne=`${u} (${l.toFixed(1)}%)  ${[` ${Q..||Q..||Q..||Q..?"":""}`,` ${Q..||Q..||Q..||Q..?"":""}`,` ${Q..||Q..?"":""}`].join(", ")}`,ue=rF(t,P),se=o.dayStem,B=pu[se]??pu[o.dayStem]??"",K=[` : ${t.name??""} (${eF(t,j)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(M?` ${P[3]}`:""),`: ${zAe(a,r)}`].join(`
`),ie=[];ie.push($r("  (10)",$)),ie.push($r("",ne)),ie.push($r("(  )",Qk(o.natalFixed.elementPercent100,B))),a!==""&&ie.push($r(`(=${a})`,Qk(Z,B))),E&&(ie.push($r(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ie.push($r(` ( 10=${a} 100)`,q)));const J=BAe({tab:a,natal:P,posLabels:ue,chain:r});if(_){const re=J.map(({pos:je,gz:Ne})=>({pos:je,gz:Ne,unseong:Mo(P[2]?.charAt(0)??"",Ne.charAt(1))}));ie.push($r("(+ )",re))}if(w){const re=J.map(({pos:je,gz:Ne})=>({pos:je,gz:Ne,shinsal:Do({baseBranch:V,targetBranch:Ne.charAt(1),era:W,gaehwa:H})}));ie.push($r("(+  )",re))}if(N){const re=[];for(const je of J){const Ne=aj(je.gz);if(!Ne){je.kind==="natal"&&re.push({pos:je.pos,gz:je.gz,nabeum:null});continue}re.push({pos:je.pos,gz:je.gz,nabeum:Ne.name,element:Ne.element,code:Ne.code})}ie.push($r("(+ )",re))}if(ie.push($r("()",yA(ue.map((re,je)=>P[je]??"")))),ie.push($r("( :  )",F)),T)if(a===""){const re=Kd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ie.push($r("( )",{good:re.good,bad:re.bad,meta:re.meta}))}else ie.push($r(`( =${a})`,Y));const oe=ie.filter(re=>re&&re.trim().length>0).join(`

`),de=KU({topic:d,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];de&&pe.push("","  ( )",de);const ye=pe.join(`
`);return{header:K,body:oe,guide:ye}}function UAe(e){const{header:t,body:n,guide:r}=aF(e);return[t,n,r].join(`

`)}function Eo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:x="scope",includeBasicInfo:E=!0}=e,_=tF(u,t,i),w=Tl({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?Kd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,N=p.nabeum?aj(r):null,j=p.twelveUnseong?Mo(h,r.charAt(1)):null,C=p.twelveShinsal?Do({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,M=x==="full"?w:$Ae(w,t);return{...E?{:n,:r}:{},:Qk(_.elementPercent,d),...p.tenGod?{:_.totalsSub}:{},:M,...p.shinsal?{:IAe(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:j}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function FAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},x=Eo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(qn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,x))}return h.filter(p=>p.trim().length>0)}function oj(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function oF(e,t){const n=e[t],r=e[t+1];return r?oj(r):new Date(n.endYear+1,0,1)}function sF(e,t,n,r){return e<r&&t>n}function lF(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=oj(l),d=oF(e,o);sF(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function cF(e,t){return lF(e,t,t)}function tv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=oj(l),d=oF(e,o);sF(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function e2(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=_n(e,315),a=[],o=u=>{const d=it(new Date(u,5,15,12,0,0,0)),h=Re(d||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function HAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((_,w)=>_-w),p=[],b=h[0],x=h[h.length-1],E=lF(n,b,x);if(E.length>0){const _=b,w=it(new Date(_,5,15,12,0,0)),T=Re(w||""),N={:E.map(j=>{const C={dae:j.gz,se:T||null,wol:null,il:null};return Eo({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:T||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(qn("",N))}for(const _ of h){const w=new Date(_,5,15,12,0,0),T=it(w),N=cF(n,_),j=N.length>0?N[0]:null,C=Re(T||""),M=_,P={dae:j?j.gz:null,se:C||null,wol:null,il:null},$=Eo({scope:"",infoText:`${M} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:j?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${M}`,{:$}))}return p.filter(_=>_.trim().length>0)}function VS(e){return String(e).padStart(2,"0")}function GAe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=_n(e,315),a=e2(e,t);if(!(n<i&&i<r)){const E=a[a.length-1]??(()=>{const _=Re(it(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:_}})();return[{label:`${e}-${VS(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:E}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(E=>E.useYear===e-1)??a[0],p=a.find(E=>E.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Re(it(new Date(e-1,5,15,12,0,0,0))||"")},x=p??{useYear:e,gz:Re(it(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${VS(t)}()`,repDate:u,se:b},{label:`${e}-${VS(t)}()`,repDate:d,se:x}]}function qAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const N of t){const[j,C]=N.split("-").map(Number),M=tv(n,j,C);for(const $ of M)p.some(F=>F.gz===$.gz&&F.startYear===$.startYear)||p.push($);const P=e2(j,C);for(const $ of P){const F=`${$.useYear}:${$.gz}`;b.has(F)||b.set(F,{year:$.useYear,month:C,gz:$.gz})}}const[x,E]=t[0].split("-").map(Number),_=e2(x,E),w=_[_.length-1]?.gz??Re(it(new Date(x,5,15,12,0,0,0))||"");if(p.length>0){const N={:p.map(j=>{const C={dae:j.gz,se:w||null,wol:null,il:null};return Eo({scope:"",infoText:`${j.age} ${j.gz} (${j.startYear}~${j.endYear})`,gz:j.gz,chain:C,natal:r,relationArgs:{daewoon:j.gz,sewoon:w||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",N))}const T=Array.from(b.keys()).sort((N,j)=>{const C=Number(N.split(":")[0]),M=Number(j.split(":")[0]);return C-M});if(T.length>0){const N={:T.map(j=>{const C=b.get(j),M=C.year,P=C.gz,F=cF(n,M)[0]??p[0]??null,Y={dae:F?F.gz:null,se:P,wol:null,il:null};return Eo({scope:"",infoText:`${M} ${P}`,gz:P,chain:Y,natal:r,relationArgs:{daewoon:F?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",N))}for(const N of t){const[j,C]=N.split("-").map(Number),M=tv(n,j,C),P=M.length>0?M[0]:null,F=GAe(j,C).map(Y=>{const W=_t(Y.repDate),H=Re(W||""),z={dae:P?P.gz:null,se:Y.se.gz||null,wol:H,il:null};return Eo({scope:"",infoText:`${Y.label} ${H}  ${Y.se.useYear} ${Y.se.gz}`,gz:H,chain:z,natal:r,relationArgs:{daewoon:P?.gz,sewoon:Y.se.gz||void 0,wolwoon:H,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(qn(` ${N}`,{:F}))}return h.filter(N=>N.trim().length>0)}function ZS(e){const t=e.getFullYear(),n=_n(t,315),r=e<n?t-1:t,i=it(new Date(r,5,15,12,0,0,0)),a=Re(i||"");return{useYear:r,gz:a}}function YAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,x,E]=t[0].split("-").map(Number),_=new Date(b,x-1,E,4,0),w=new Date(b,x-1,E,12,0);if(!Number.isNaN(_.getTime())){const T=tv(n,b,x),N=T.length>0?T[0]:null,j=[];for(const W of t){const[H,z,V]=W.split("-").map(Number),X=new Date(H,z-1,V,12,0),Z=new Date(H,z-1,V,4,0);if(Number.isNaN(X.getTime())||Number.isNaN(Z.getTime()))continue;const q=ZS(X),Q=Re(_t(X)||""),ne=Re(ht(Z,h)||""),ue=`${q.useYear}|${q.gz}|${Q}`;j.some(se=>se.key===ue)||j.push({key:ue,repDateStr:W,seYear:q.useYear,seGZ:q.gz,wolGZ:Q,ilGZ:ne})}const C=Re(ht(_,h)||""),M=Re(_t(w)||""),P=ZS(w),$=j.length>0?j:[{key:`${P.useYear}|${P.gz}|${M}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:M,ilGZ:C}];if(N){const W=$[$.length-1],H={dae:N.gz,se:W.seGZ,wol:W.wolGZ,il:W.ilGZ},z=Eo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:H,natal:r,relationArgs:{daewoon:N.gz,sewoon:W.seGZ,wolwoon:W.wolGZ,ilwoon:W.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",z))}const F=$.filter(W=>W.seGZ.trim().length>0).map(W=>{const H={dae:N?N.gz:null,se:W.seGZ,wol:W.wolGZ,il:W.ilGZ};return Eo({scope:"",infoText:`${W.seYear} ${W.seGZ} (${W.repDateStr} )`,gz:W.seGZ,chain:H,natal:r,relationArgs:{daewoon:N?.gz,sewoon:W.seGZ,wolwoon:W.wolGZ,ilwoon:W.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});F.length>0&&p.push(qn("",{:F}));const Y=$.filter(W=>W.wolGZ.trim().length>0).map(W=>{const H={dae:N?N.gz:null,se:W.seGZ,wol:W.wolGZ,il:W.ilGZ};return Eo({scope:"",infoText:`${W.repDateStr} ${W.wolGZ}`,gz:W.wolGZ,chain:H,natal:r,relationArgs:{daewoon:N?.gz,sewoon:W.seGZ,wolwoon:W.wolGZ,ilwoon:W.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});Y.length>0&&p.push(qn("",{:Y}))}for(const T of t){const[N,j,C]=T.split("-").map(Number),M=new Date(N,j-1,C,4,0),P=new Date(N,j-1,C,12,0);if(Number.isNaN(M.getTime())||Number.isNaN(P.getTime()))continue;const $=tv(n,N,j),F=$.length>0?$[0]:null,W=ZS(P).gz,H=_t(P),z=Re(H||""),V=ht(M,h),X=Re(V||""),Z={dae:F?F.gz:null,se:W||null,wol:z,il:X},q=Eo({scope:"",infoText:`${T} ${X}`,gz:X,chain:Z,natal:r,relationArgs:{daewoon:F?.gz,sewoon:W||void 0,wolwoon:z||void 0,ilwoon:X||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${T}`,{:q}))}return p.filter(T=>T.trim().length>0)}function uF(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:p,ilDays:b,topic:x,subTopic:E,timeMode:_,teacherMode:w,sections:T}=e,N=nF(t),j=Re(n[3]??""),C=!!j,M=t.mingSikType??"/",P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),j],$=rF(t,P),F=P[2]?.charAt(0)??"",Y=pu[F]??pu[a.dayStem]??"",W=!!i&&(T?.tenGod??!0),H=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,V=T?.shinsal??!0,X=T?.nabeum??!0,{shinsalBase:Z,shinsalEra:q,shinsalGaehwa:Q}=qU.getState(),ne=Z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",ue=eF(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(C?` ${P[3]}`:"")].join(`
`),B=[],{flags:K}=I6(P,a.elementScoreRaw),ie=`${l} (${o.toFixed(1)}%)  ${[` ${K..||K..||K..||K..?"":""}`,` ${K..||K..||K..||K..?"":""}`,` ${K..||K..||K..||K..?"":""}`].join("  ")}`;if(B.push(qn("",ie)),B.push(qn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,ye])=>[`${pe}(${JU(Y,pe)})`,ye])))),W&&B.push(qn(" ( 10 100)",a.natalFixed.totalsSub)),H){const pe=Object.fromEntries($.map((ye,re)=>[ye,Mo(F,(P[re]??"").charAt(1))]));B.push(qn("()",pe))}if(z){const pe=Object.fromEntries($.map((ye,re)=>[ye,Do({baseBranch:ne,targetBranch:(P[re]??"").charAt(1),era:q,gaehwa:Q})]));B.push(qn("()",pe))}B.push(qn("//",K));const J=yA(DAe($,P));if(B.push(qn("()",J)),V){const pe=Kd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(qn("()",pe))}if(X){const pe=Object.fromEntries($.map((ye,re)=>{const je=P[re]??"",Ne=aj(je);return[ye,Ne?{gz:je,nabeum:Ne.name,element:Ne.element,code:Ne.code}:null]}));B.push(qn("()",pe))}d.length>0&&u.length>0&&B.push(...FAe({selectedDaeList:u,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q}})),h.length>0&&B.push(...HAe({seYears:h,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q}})),p.length>0&&B.push(...qAe({wolMonths:p,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q}})),b.length>0&&B.push(...YAe({ilDays:b,daeList:d,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:F,show:{tenGod:W,twelveUnseong:H,twelveShinsal:z,shinsal:V,nabeum:X},shinsalSettings:{baseBranch:ne,era:q,gaehwa:Q},dayBoundaryRule:M}));const oe=KU({topic:x,subTopic:E,timeMode:_,teacherMode:w}),de=(ev(B.join(`

`))??"").toString();return{header:se,body:de,guide:oe}}function KAe(e){const{header:t,body:n,guide:r}=uF(e);return[t,"",n,"",r].join(`
`)}function sj(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function WAe(e){const{header:t,body:n}=aF(e),r=e.relationMode==="couple"?sj(e.partnerMs??null):null,i=r?$r("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function VAe(e){const{header:t,body:n}=uF(e),r=e.relationMode==="couple"?sj(e.partnerMs??null):null,i=r?$r("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function ZAe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function XAe(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function JAe(e){return e?`    .
`:""}function QAe(e,t){if(e!=="couple")return"";const n=sj(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function zd(e){return Re(e)}function eTe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function H3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function tTe(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=zd(it(t)||""),i=zd(_t(t)||""),a=zd(ht(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function nTe(e,t){const n=H3(e),r=H3(t);return{solarKo:n,lunarKo:r}}function t2(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function rTe(e,t,n){return e?"solar":t?"lunar":"solar"}function iTe(e,t,n,r,i,a,o,l){return t2(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function aTe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=zd(it(a)||""),l=zd(_t(a)||""),u=zd(ht(a,t)||"");return[o,l,u,""]}function oTe(e,t){return t&&e?e.stem+e.branch:""}function sTe(e,t,n){const i=[...ij(e)];return n&&t&&t.length===2&&(i[3]=t),i}function lTe(e){const t=U6(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=_A(t);return{percent:n,category:v6(n)}}function cTe(e){const t=YU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,d=a?a[3]:"",h=n>0?fTe(n,o):i*10;return{gz:d,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function uTe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function dTe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function G3(e){return eTe(e)}function fTe(e,t){return t-e+1}function hTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:d,friendMode:h,teacherMode:p,partnerId:b,mainCategory:x,subCategory:E,relationMode:_,activeTab:w,isMultiMode:T,multiTab:N,selectedDaeIdx:j,rangeControls:C,extraQuestions:M,sections:P}=u,$=wr(qt=>qt.list),{date:F,setDate:Y}=fi();S.useEffect(()=>{Y(new Date)},[e.id,Y]);const W=S.useMemo(()=>b?$.find(qt=>qt.id===b)??null:null,[b,$]),H=e.mingSikType??"/",z=S.useMemo(()=>F??new Date,[F]),V=S.useMemo(()=>tTe(r,z,H),[r,z,H]),X=S.useMemo(()=>l?V:{dae:null,se:null,wol:null,il:null},[l,V]),Z=rp(qt=>qt.manualHour),q=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:Q,lunarKo:ne}=S.useMemo(()=>nTe(t,n),[t,n]),ue=S.useMemo(()=>t2(Q,Z,q),[Q,Z,q]),se=S.useMemo(()=>t2(ne,Z,q),[ne,Z,q]),B=S.useMemo(()=>aTe(e,H),[e,H]),K=G3(ue),ie=G3(se),J=rTe(K,ie),oe=S.useMemo(()=>iTe(J,K,ie,ue,se,B,Z,q),[J,K,ie,ue,se,B,Z,q]),de=S.useMemo(()=>q&&Z?Z.stem+Z.branch:oe[3]||"",[Z,oe,q]),pe=oTe(Z,q),ye=S.useMemo(()=>sTe(e,pe,q),[e,pe,q]),re=l?w:"",je=x==="love"||x==="compat",ve=je&&_==="couple"?W??null:null,Ze=je?_:void 0,Ce=S.useMemo(()=>Mv({natal:ye,tab:re,chain:X,hourKey:de}),[ye,re,X,de]),{percent:_e,category:Oe}=S.useMemo(()=>lTe(ye),[ye]),Ie=S.useMemo(()=>cTe(e),[e]),Ve=S.useMemo(()=>uTe($??[],e.id),[$,e.id]),yt=S.useMemo(()=>j.map(qt=>Ie[qt]).filter(qt=>!!qt),[j,Ie]),xt=S.useMemo(()=>N===""?C.seYearsList:[],[N,C.seYearsList]),Dt=S.useMemo(()=>N===""?C.wolMonthsList:[],[N,C.wolMonthsList]),he=S.useMemo(()=>N===""?C.ilDaysList:[],[N,C.ilDaysList]),De=S.useMemo(()=>e?UAe({ms:e,natal:ye,chain:X,basis:i,tab:re,unified:Ce,percent:_e,category:Oe,topic:x,subTopic:E,relationMode:_,teacherMode:p,sections:P}):"",[e,i,a,re,X,Ce,_e,Oe,ye,x,E,_,ve,p,P]),Be=S.useMemo(()=>!e||!T||!o?"":KAe({ms:e,natal:ye,basis:i,includeTenGod:a,unified:Ce,percent:_e,category:Oe,selectedDaeList:yt,daeList:Ie,seYears:xt,wolMonths:Dt,ilDays:he,topic:x,subTopic:E,timeMode:"multi",teacherMode:p,sections:P}),[e,T,o,xt,yt,Ie,Dt,he,ye,i,a,Ce,_e,Oe,x,E,Ze,ve,p,h,P]),lt=S.useMemo(()=>QAe(_,W),[_,W]),Ot=T?Be:De,bt=S.useMemo(()=>XAe(d),[d]),Jn=S.useMemo(()=>JAe(h),[h]),gi=S.useMemo(()=>Ot||lt?`${Ot}${lt}
${bt}${Jn}`:"",[bt,Jn,Ot,lt]),bi=S.useMemo(()=>dTe(gi,M),[gi,M]),Ls=S.useMemo(()=>e?T?VAe({ms:e,natal:ye,basis:i,includeTenGod:a,unified:Ce,percent:_e,category:Oe,selectedDaeList:yt,daeList:Ie,seYears:xt,wolMonths:Dt,ilDays:he,topic:x,subTopic:E,timeMode:"multi",relationMode:Ze,partnerMs:ve,teacherMode:p,sections:P}):WAe({ms:e,natal:ye,chain:X,basis:i,tab:re,unified:Ce,percent:_e,category:Oe,topic:x,subTopic:E,relationMode:_,partnerMs:ve,teacherMode:p,sections:P}):"",[e,T,ye,i,a,Ce,_e,Oe,yt,Ie,xt,Dt,he,x,E,_,Ze,ve,p,h,P,X,re]),Is=S.useMemo(()=>{const qt=Ls.trim();if(qt)return qt;const mn=ZAe(Ot).trim();return mn||Ot.trim()},[Ls,Ot]);return{date:F,setDate:Y,partnerMs:W,partnerOptions:Ve,daeList:Ie,tabForLogic:re,baseText:Ot,basePrompt:gi,finalText:bi,infoOnlyText:Is,allowManualHour:q,activePillars:oe}}function q3(e,t=1200){const[n,r]=S.useState(!1),i=!!(e&&e.trim().length>0),a=S.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function mTe(e,t){const{copied:n,canCopy:r,onCopy:i}=q3(e),{copied:a,canCopy:o,onCopy:l}=q3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function pTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=wr(W=>W._rtUserId),u=lAe()??o??null,d=on(W=>W.loaded),h=on(W=>W.userId),p=on(W=>W.plan),b=S.useMemo(()=>om(!u||!d||h!==u?"FREE":p??null),[u,d,h,p]),x=S.useMemo(()=>LE(b),[b]),E=x.canUseMultiMode,_=x.canUseLuckTabs,w=x.canUseAllPrompts?"full":"locked",T=dAe({msId:e.id,canUseMultiMode:E,canUseLuckTabs:_}),N=hTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:E,canUseLuckTabs:_,input:T}),{copiedAll:j,copiedInfo:C,canCopyAll:M,canCopyInfo:P,onCopyAll:$,onCopyInfoOnly:F}=mTe(N.finalText,N.infoOnlyText);function Y(W,H){T.setMainCategory(W),T.setSubCategory(H?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:b,promptAccess:w,canUseMultiMode:E,canUseLuckTabs:_,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:j,copiedInfo:C,canCopyAll:w==="full"&&M,canCopyInfo:w==="full"&&P,onCopyAll:$,onCopyInfoOnly:F,handleMainCategoryChange:Y,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function gTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=pTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=$3[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(V2e,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:h,canCopyAll:p,lockTitle:d,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),g.jsx(Z2e,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(X2e,{tone:o.tone,toneMeta:aAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(J2e,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:sAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,$3[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(Q2e,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(eAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(nAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(tAe,{tabs:oAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(rAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:d}),g.jsx(iAe,{value:o.finalText,lockSelection:u})]})}function bTe(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o]=S.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function yTe(){const e=wr(r=>r.loading),t=jn(r=>r.loaded),n=on(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const Y3="app_session_started_at_ms",vTe=7200*1e3;function xTe(){const e=sessionStorage.getItem(Y3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(Y3,String(n)),n}return t}function _Te(e=Date.now()){const t=xTe();return Math.max(0,e-t)}function wTe(e,t=Date.now()){return _Te(t)>=e}async function STe(e,t){const{data:n,error:r}=await Me.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function ETe(e,t,n){const{error:r}=await Me.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const kTe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Md(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Md).join(",")}]`:kTe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Md(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function ATe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function TTe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Md(t.select(t.store.getState()));const o=ATe(async p=>{try{await ETe(e,t.dbKey,p),a=Md(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Md(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},d=async()=>{const p=await STe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Md(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function jTe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function XS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function OTe(e){S.useEffect(()=>{if(!e)return;const t=[];t.push(TTe(e,{dbKey:"promptCopy.sections",store:Qy,select:o=>o.sections,apply:o=>Qy.setState({sections:o}),validate:jTe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Me.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(wTe(vTe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!XS(l))return;const u=l.new,d=l.old,h=_=>XS(_)&&typeof _.setting_key=="string"?_.setting_key:null,p=_=>XS(_)?_.value:null,b=h(u)??h(d);if(!b)return;const x=t.find(_=>_.dbKey===b);if(!x)return;const E=typeof l.eventType=="string"?l.eventType:"";if(E==="INSERT"||E==="UPDATE"){x.applyRemote(p(u));return}x.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Me.removeChannel(a)}},[e])}function NTe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){S.useEffect(()=>{const r=Me;(async()=>{const{data:o,error:l}=await r.auth.getSession();if(l){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,l)=>{const u=l?.user?.id??null;t(!!l),e(u),n(!0),l||wr.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function CTe(e){NTe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),OTe(e.userId);const t=wr(a=>a.migrateLocalToServer),n=wr(a=>a.loadFromServer),r=jn(a=>a.loadFromServer),i=on(a=>a.loadFromServer);S.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),S.useEffect(()=>{e.isLoggedIn&&(async()=>(await i(),await t(),await n(),await r()))()},[e.isLoggedIn,i,t,n,r])}function MTe(e){const[t,n]=S.useState(()=>e.length>0?e[0].id:""),[r,i]=S.useState(!1),[a,o]=S.useState(!1),[l,u]=S.useState(null),[d,h]=S.useState(!0),[p,b]=S.useState(!1),[x,E]=S.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:x,setOpenCustom:E}}function DTe(e){const t=fi(i=>i.date),n=fi(i=>i.rule),r=yu(e);return S.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=jv(r,t),a=i>=0?r[i]?.gz??null:null,o=it(t),l=_t(t),u=ht(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const PTe=e=>typeof e=="string"&&e.length>=2,RTe=e=>Array.isArray(e)&&e.length===4&&e.every(PTe);function LTe({list:e,currentId:t,settings:n,emptyMs:r}){const i=S.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=S.useMemo(()=>ij(o),[o]),u=DTe(o),d=on(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:RTe,canAdd:d,voidBasis:h,samjaeBasis:p}}function ITe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:p,saveToServer:b,loaded:x}=jn();S.useEffect(()=>{!r||!x||b()},[r,x,p,b]);const E=S.useCallback(()=>{if(!e){Tn.error("   1   .");return}i(!0)},[e,i]),_=S.useCallback(()=>{if(!e){Tn.error("   1   .");return}a(!0)},[e,a]),w=S.useCallback(M=>{d(M.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),fi.getState().setDate(P),t&&n?.id===M.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),T=S.useCallback(M=>{h(M),d(M.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),N=S.useCallback(()=>{const M=wr.getState().list[0]?.id??"";d(M),l(!0),u(!1)},[d,l,u]),j=S.useCallback(M=>{d(M.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=S.useCallback(M=>{d(M.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:E,openCustomModal:_,handleSidebarView:w,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:j,handleCustomSave:C}}function $Te(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(a5,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"   "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const dF="https://t1.daumcdn.net/kas/static/ba.min.js",BTe="//t1.daumcdn.net/kas/static/ba.min.js";let em=null,tm=null;function fF(){return typeof window<"u"&&typeof document<"u"}function K3(e){return typeof e=="object"&&e!==null}function hF(){if(!fF())return!1;const e=window;if(!K3(e))return!1;const t=e.adfit;return K3(t)?typeof t.destroy=="function":!1}function mF(){return Array.from(document.querySelectorAll(`script[src="${dF}"], script[src="${BTe}"]`))}function pF(e){return e.getAttribute("data-adfit-scan")==="1"}function zTe(){const t=mF().filter(n=>!pF(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function W3(){return document.body??document.head??document.documentElement}function JS(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{hF(),o()},t)})}function V3(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=dF,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function n2(e){return fF()?(e?.mode??"boot")==="boot"?em||(em=(async()=>{if(zTe(),hF())return{inserted:!1};const r=mF().filter(a=>!pF(a))[0];if(r)return await JS(r,2500),{inserted:!1};const i=V3(!1);return W3().appendChild(i),await JS(i,4e3),{inserted:!0}})().finally(()=>{em=null}),em):tm||(tm=(async()=>{const n=V3(!0);W3().appendChild(n);try{return await JS(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{tm=null}),tm):Promise.resolve({inserted:!1})}function UTe({enabled:e}){return S.useEffect(()=>{e&&n2({mode:"boot"})},[e]),null}function Z3(e){return typeof e=="object"&&e!==null}function FTe(e){const t=window;if(!Z3(t))return;const n=t.adfit;if(!Z3(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function dm({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=S.useRef(!1),d=S.useRef(!1),h=S.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return S.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await n2({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),S.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let p=!1;return(async()=>{try{if(await n2({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),S.useEffect(()=>()=>{FTe(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function HTe({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=S.useState(!1),[h,p]=S.useState(!1);return S.useEffect(()=>{if(!e){d(!1),p(!1);return}p(!0);let b=0;const x=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const E=window.scrollY||0;d(E>=i)}))};return x(),window.addEventListener("scroll",x,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",x)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(dm,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function gF(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,l]=S.useState(!1),[u,d]=S.useState(!1);S.useEffect(()=>{document.title=" - //";const x=window.setTimeout(()=>t(!0),50),E=window.setTimeout(()=>r(!0),250),_=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(x),window.clearTimeout(E),window.clearTimeout(_)}},[]);const h=()=>u?!0:(_o.error(`   
  .`),!1),p=async()=>{if(!h())return;const{error:x}=await Me.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Google Login Error:",x),_o.error("   ."))},b=async()=>{if(!h())return;const{error:x}=await Me.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Kakao Login Error:",x),_o.error("   ."))};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(O$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:x=>x.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function GTe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function qTe(){const e=wo(i=>i.open),t=wo(i=>i.reason),n=wo(i=>i.close),r=S.useMemo(()=>GTe(t),[t]);return S.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),S.useEffect(()=>{const{data:i}=Me.auth.onAuthStateChange((a,o)=>{o?.user&&(on.getState().loadFromServer(),jn.getState().loadFromServer(),wr.getState().loadFromServer(),wo.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(gF,{})})]})}):null}function YTe(){const e=wo(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(S2,{size:16}),""]})]})})}const lj="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let nm=null;function cj(){return typeof window<"u"&&typeof document<"u"}function bF(){return cj()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function yF(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function X3(e){return bF().some(n=>{const r=n.getAttribute("src")??"";return r.includes(lj)&&yF(r,e)})}function QS(e){const t=bF().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(lj)&&yF(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function KTe(e){const t=document.createElement("script");return t.async=!0,t.src=`${lj}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function WTe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function VTe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function J3(e){if(cj()){if(X3(e)){QS(e);return}if(nm)return nm;nm=(async()=>{if(X3(e)){QS(e);return}const t=KTe(e);document.head.appendChild(t),await WTe(t),QS(e)})();try{await nm}finally{nm=null}}}function ZTe(e={}){if(!cj())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(VTe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function XTe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=S.useRef(!1),u=S.useRef(null);return S.useEffect(()=>{l.current=!1},[n,r,i,a]),S.useEffect(()=>{e&&J3(n).catch(()=>{})},[e,n]),S.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await J3(n),!d))return;ZTe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function JTe({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,p]=S.useState(!1),[b,x]=S.useState(!1);return S.useEffect(()=>{if(!e){p(!1),x(!1);return}x(!0);let E=0;const _=()=>{E||(E=window.requestAnimationFrame(()=>{E=0;const w=window.scrollY||0;p(w>=a)}))};return _(),window.addEventListener("scroll",_,{passive:!0}),()=>{E&&window.cancelAnimationFrame(E),window.removeEventListener("scroll",_)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(XTe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const vF="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function Q3(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function QTe(){return document.querySelector(`script[src^="${vF}"]`)}async function e$(e){QTe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${vF}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function eje(){const e=window.adsbygoogle;if(Q3(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;Q3(t)&&t.push({})}function tje({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const p=S.useRef(null),b=S.useRef(!1),x=S.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[E,_]=S.useState(!l);return S.useEffect(()=>{b.current=!1},[t,n]),S.useEffect(()=>{e&&e$(t).catch(()=>{})},[e,t]),S.useEffect(()=>{if(!e||!l)return;const w=p.current;if(!w)return;const T=new IntersectionObserver(N=>{const j=N[0];j&&j.isIntersecting&&_(!0)},{root:null,threshold:.05});return T.observe(w),()=>T.disconnect()},[e,l]),S.useEffect(()=>{if(!e||!E||b.current)return;let w=!0;return(async()=>{try{if(await e$(t),!w||(await Promise.resolve(),!w))return;eje(),b.current=!0}catch{}})(),()=>{w=!1}},[e,E,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},x)}):null}const nje="DAN-GW4jrUdfiXklZ12U",rje="DAN-CeRuC0yKzSAs5Gju",ije="DAN-G16gewnPhZou1D9y",aje="DAN-rdKe9ZODmrZR4hho",oje="DAN-INfSKh1pW2cEtWNu",sje={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function lje(){const e=bTe();CTe(e);const t=yTe();return e.authChecked?e.isLoggedIn&&e.adminMode?g.jsx(UU,{}):e.isLoggedIn&&(!t.entLoaded||!t.settingsLoaded)?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):g.jsx(cje,{isLoggedIn:e.isLoggedIn}):g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function cje({isLoggedIn:e}){const{list:t}=wr(),n=jn(_=>_.settings),r=MTe(t),i=LTe({list:t,currentId:r.currentId,settings:n,emptyMs:sje}),a=ITe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing}),[o,l]=S.useState(!1);S.useEffect(()=>{(r.wizardOpen||r.editing)&&l(!1)},[r.wizardOpen,r.editing]);const u=on(_=>_.shouldShowAdsNow()),d=i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&!r.wizardOpen&&!r.editing,h=r.showToday||!i.hasCurrent&&!r.showCouple&&!o&&!r.wizardOpen&&!r.editing,p=!e&&i.hasCurrent&&d,b=!e&&!d,[x,E]=S.useState(!1);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(UTe,{enabled:u}),u&&d&&g.jsx(JTe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(HTe,{enabled:u,adUnit:oje,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Due,{isLoggedIn:e,onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),g.jsx(qTe,{}),x&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(gF,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>E(!1),children:""})]}),g.jsx(W2e,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),g.jsx(O$,{position:"top-center"}),g.jsx(vde,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView,isLoggedIn:e}),b&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),o&&g.jsx($Te,{}),h&&g.jsx(GV,{}),r.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(Fne,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&g.jsxs("div",{className:"pt-16",children:[p&&g.jsx("div",{children:g.jsx(YTe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(roe,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),g.jsx(S2e,{ms:i.current}),g.jsx("div",{children:g.jsx(Mue,{data:i.current})}),u&&d&&n.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(tje,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),n.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(gTe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),u&&d&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(dm,{enabled:!0,adUnit:aje,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(dm,{enabled:!0,adUnit:ije,width:320,height:50})})]})]}),r.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(x2e,{people:t})}),u&&!d&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(dm,{enabled:!0,adUnit:rje,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(dm,{enabled:!0,adUnit:nje,width:320,height:50})})]}),r.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(Pde,{item:r.editing,onClose:()=>r.setEditing(null)})})}),g.jsx(Fue,{onShowToday:()=>{l(!1),r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{l(!1),r.setShowCouple(!0),r.setShowToday(!1)},onShowFaq:()=>{r.setShowToday(!1),r.setShowCouple(!1),l(!0)}}),g.jsx(_2e,{})]})}function uje(){const e=Hi(),[t,n]=S.useState(null),[r,i]=S.useState(null);return S.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function dje(){const e=Hi(),t=rv(),[n,r]=S.useState("  ...");return S.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),l=a.get("error_description");if(o){r(` : ${decodeURIComponent(l??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:d}=await Me.auth.exchangeCodeForSession(u);if(d){r(`  : ${d.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function fje(e){return typeof e=="object"&&e!==null}function hje(e){if(!fje(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function xF({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=S.useRef(!1),o=S.useRef(""),l=S.useRef(!1),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),p=S.useRef(0);return S.useEffect(()=>{o.current=n??""},[n]),S.useEffect(()=>{let b=null;return(async()=>{const{data:E}=await Me.auth.getSession();u.current=E.session?.user?.id??null;const w=Me.auth.onAuthStateChange((T,N)=>{u.current=N?.user?.id??null,l.current=!1}).data?.subscription;w&&typeof w.unsubscribe=="function"&&(b=()=>w.unsubscribe())})(),()=>{b&&b()}},[]),S.useEffect(()=>{if(!e)return;const b=async _=>{if(document.visibilityState!=="visible")return;const w=Date.now();if(!(_!=="init"&&w-p.current<1e4)&&(p.current=w,!a.current)){a.current=!0;try{if(!u.current)return;const N=o.current||null,{data:j,error:C}=await Me.rpc("ping_activity",{p_last_path:N});if(C)return;const M=hje(j);if(!M)return;typeof M.total_active_ms=="number"&&i?.(M.total_active_ms),M.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const x=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},x);const E=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",E),()=>{document.removeEventListener("visibilitychange",E),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function mje(){const e=wr(i=>i.loadFromServer),t=jn(i=>i.loadFromServer),n=on(i=>i.loadFromServer),r=S.useCallback(()=>{n(),t(),e()},[n,t,e]);return S.useEffect(()=>{r();const{data:i}=Me.auth.onAuthStateChange(()=>{r()});return()=>{i.subscription.unsubscribe()}},[r]),null}function pje(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function gje(e,t){try{localStorage.setItem(e,String(t))}catch{}}function bje(e){return e<=0?0:Math.floor(Math.random()*e)}function yje({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=S.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=S.useState(!1),[h,p]=S.useState(()=>bje(n.length)),b=S.useRef(null),x=S.useCallback(w=>{if(typeof document>"u")return;const T=`${Math.max(0,Math.floor(w))}px`;document.documentElement.style.setProperty(o,T)},[o]);if(S.useEffect(()=>{if(n.length<=0){p(0);return}p(w=>w%n.length)},[n.length]),S.useEffect(()=>{if(!e){d(!1);return}const w=pje(l),T=Date.now();if(w>T){d(!1);return}const N=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(N)},[e,l]),S.useEffect(()=>{if(!e||!u||n.length<=1)return;const w=window.setInterval(()=>{p(T=>T+1>=n.length?0:T+1)},i);return()=>window.clearInterval(w)},[e,u,n.length,i]),S.useEffect(()=>{if(!e||!u){x(0);return}const w=b.current;if(!w){x(0);return}const T=()=>{const N=Math.ceil(w.getBoundingClientRect().height);x(N)};if(T(),typeof ResizeObserver<"u"){const N=new ResizeObserver(T);return N.observe(w),()=>{N.disconnect(),x(0)}}return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),x(0)}},[e,u,x]),!e)return null;const E=()=>{gje(l,Date.now()+r*60*60*1e3),d(!1),x(0)},_=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:_,children:_}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:E,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(zb,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[_,g.jsx("button",{type:"button",onClick:E,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(zb,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function vje(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function xje({open:e,onClose:t}){const n=S.useMemo(()=>vje(48),[]);return S.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function t$(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function _je(){const e=Hi(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=S.useState(!1),a=on(b=>b.loaded),o=on(b=>b.loading),l=on(b=>b.userId),u=on(b=>t$(b.plan)),d=S.useRef(!1);S.useEffect(()=>{n&&(a||o||on.getState().loadFromServer())},[n,a,o]);const h=S.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:x}=await Me.rpc("mark_basic_celebrated");if(x){console.warn("[basic celebration] rpc error:",x.message);return}b===!0&&i(!0)},[]);S.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=S.useCallback(()=>{(async()=>(await on.getState().loadFromServer(),t$(on.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(xF,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(yje,{enabled:n}),g.jsx(xje,{open:r,onClose:()=>i(!1)})]})}function wje(e){return typeof e=="object"&&e!==null}function Sje(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!wje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function Eje(){const e=rv(),t=Hi(),n=S.useRef(!1);return S.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await Me.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await Me.rpc("get_my_account_status");if(!d){!!Sje(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await Me.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=Me.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function kje(e){return typeof e=="object"&&e!==null}function Aje(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!kje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const Tje=As((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await Me.rpc("get_my_account_status");if(!a){const d=Aje(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await Me.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function jje(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function Oje(){const e=Tje(n=>n.disabledAt),t=S.useCallback(async()=>{try{await Me.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:jje(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function Nje(){return g.jsxs(g.Fragment,{children:[g.jsx(mje,{}),g.jsx(_je,{}),g.jsx(Eje,{}),g.jsx(xF,{}),g.jsxs(BG,{children:[g.jsx($c,{path:"/auth/callback",element:g.jsx(dje,{})}),g.jsx($c,{path:"/disabled",element:g.jsx(Oje,{})}),g.jsx($c,{path:"/",element:g.jsx(lje,{})}),g.jsx($c,{path:"/admin",element:g.jsx(UU,{})}),g.jsx($c,{path:"/impersonate",element:g.jsx(uje,{})}),g.jsx($c,{path:"*",element:g.jsx(IG,{to:"/",replace:!0})})]})]})}YH.createRoot(document.getElementById("root")).render(g.jsx(S.StrictMode,{children:g.jsx(lq,{children:g.jsx(Nje,{})})}));
