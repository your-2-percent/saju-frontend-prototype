function bw(t,i){for(var o=0;o<i.length;o++){const s=i[o];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(s,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Xs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function yw(){if(Cy)return ac;Cy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(s,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:s,key:f,ref:u!==void 0?u:null,props:d}}return ac.Fragment=i,ac.jsx=o,ac.jsxs=o,ac}var Ly;function vw(){return Ly||(Ly=1,Im.exports=yw()),Im.exports}var g=vw();const __="harim.theme",$0="harim.settings.v1";function S_(){try{const t=localStorage.getItem(__);if(t==="dark"||t==="light")return t;const i=localStorage.getItem($0);if(i){const s=JSON.parse(i)?.theme;if(s==="dark"||s==="light")return s}return null}catch{return null}}function I0(t){try{localStorage.setItem(__,t);const i=localStorage.getItem($0),o=i?JSON.parse(i):{};localStorage.setItem($0,JSON.stringify({...o,theme:t}))}catch{}}function w_(t){const i=document.documentElement;i.classList.toggle("dark",t==="dark"),i.style.setProperty("color-scheme",t)}(function(){try{const t=S_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");w_(t)}catch{}})();var Um={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function xw(){if(By)return Wt;By=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function D(R,H,X){this.props=R,this.context=H,this.refs=N,this.updater=X||T}D.prototype.isReactComponent={},D.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function $(){}$.prototype=D.prototype;function I(R,H,X){this.props=R,this.context=H,this.refs=N,this.updater=X||T}var j=I.prototype=new $;j.constructor=I,A(j,D.prototype),j.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function W(R,H,X,Q,z,Y){return X=Y.ref,{$$typeof:t,type:R,key:H,ref:X!==void 0?X:null,props:Y}}function ot(R,H){return W(R.type,H,void 0,void 0,void 0,R.props)}function nt(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function tt(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return H[X]})}var Z=/\/+/g;function U(R,H){return typeof R=="object"&&R!==null&&R.key!=null?tt(""+R.key):H.toString(36)}function et(){}function lt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(et,et):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function ht(R,H,X,Q,z){var Y=typeof R;(Y==="undefined"||Y==="boolean")&&(R=null);var F=!1;if(R===null)F=!0;else switch(Y){case"bigint":case"string":case"number":F=!0;break;case"object":switch(R.$$typeof){case t:case i:F=!0;break;case S:return F=R._init,ht(F(R._payload),H,X,Q,z)}}if(F)return z=z(R),F=Q===""?"."+U(R,0):Q,C(z)?(X="",F!=null&&(X=F.replace(Z,"$&/")+"/"),ht(z,H,X,"",function(Mt){return Mt})):z!=null&&(nt(z)&&(z=ot(z,X+(z.key==null||R&&R.key===z.key?"":(""+z.key).replace(Z,"$&/")+"/")+F)),H.push(z)),1;F=0;var ct=Q===""?".":Q+":";if(C(R))for(var bt=0;bt<R.length;bt++)Q=R[bt],Y=ct+U(Q,bt),F+=ht(Q,H,X,Y,z);else if(bt=_(R),typeof bt=="function")for(R=bt.call(R),bt=0;!(Q=R.next()).done;)Q=Q.value,Y=ct+U(Q,bt++),F+=ht(Q,H,X,Y,z);else if(Y==="object"){if(typeof R.then=="function")return ht(lt(R),H,X,Q,z);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return F}function K(R,H,X){if(R==null)return R;var Q=[],z=0;return ht(R,Q,"","",function(Y){return H.call(X,Y,z++)}),Q}function rt(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var ft=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function st(){}return Wt.Children={map:K,forEach:function(R,H,X){K(R,function(){H.apply(this,arguments)},X)},count:function(R){var H=0;return K(R,function(){H++}),H},toArray:function(R){return K(R,function(H){return H})||[]},only:function(R){if(!nt(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Wt.Component=D,Wt.Fragment=o,Wt.Profiler=u,Wt.PureComponent=I,Wt.StrictMode=s,Wt.Suspense=b,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Wt.cache=function(R){return function(){return R.apply(null,arguments)}},Wt.cloneElement=function(R,H,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Q=A({},R.props),z=R.key,Y=void 0;if(H!=null)for(F in H.ref!==void 0&&(Y=void 0),H.key!==void 0&&(z=""+H.key),H)!G.call(H,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&H.ref===void 0||(Q[F]=H[F]);var F=arguments.length-2;if(F===1)Q.children=X;else if(1<F){for(var ct=Array(F),bt=0;bt<F;bt++)ct[bt]=arguments[bt+2];Q.children=ct}return W(R.type,z,void 0,void 0,Y,Q)},Wt.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},Wt.createElement=function(R,H,X){var Q,z={},Y=null;if(H!=null)for(Q in H.key!==void 0&&(Y=""+H.key),H)G.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(z[Q]=H[Q]);var F=arguments.length-2;if(F===1)z.children=X;else if(1<F){for(var ct=Array(F),bt=0;bt<F;bt++)ct[bt]=arguments[bt+2];z.children=ct}if(R&&R.defaultProps)for(Q in F=R.defaultProps,F)z[Q]===void 0&&(z[Q]=F[Q]);return W(R,Y,void 0,void 0,null,z)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(R){return{$$typeof:p,render:R}},Wt.isValidElement=nt,Wt.lazy=function(R){return{$$typeof:S,_payload:{_status:-1,_result:R},_init:rt}},Wt.memo=function(R,H){return{$$typeof:y,type:R,compare:H===void 0?null:H}},Wt.startTransition=function(R){var H=k.T,X={};k.T=X;try{var Q=R(),z=k.S;z!==null&&z(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(st,ft)}catch(Y){ft(Y)}finally{k.T=H}},Wt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Wt.use=function(R){return k.H.use(R)},Wt.useActionState=function(R,H,X){return k.H.useActionState(R,H,X)},Wt.useCallback=function(R,H){return k.H.useCallback(R,H)},Wt.useContext=function(R){return k.H.useContext(R)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(R,H){return k.H.useDeferredValue(R,H)},Wt.useEffect=function(R,H,X){var Q=k.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(R,H)},Wt.useId=function(){return k.H.useId()},Wt.useImperativeHandle=function(R,H,X){return k.H.useImperativeHandle(R,H,X)},Wt.useInsertionEffect=function(R,H){return k.H.useInsertionEffect(R,H)},Wt.useLayoutEffect=function(R,H){return k.H.useLayoutEffect(R,H)},Wt.useMemo=function(R,H){return k.H.useMemo(R,H)},Wt.useOptimistic=function(R,H){return k.H.useOptimistic(R,H)},Wt.useReducer=function(R,H,X){return k.H.useReducer(R,H,X)},Wt.useRef=function(R){return k.H.useRef(R)},Wt.useState=function(R){return k.H.useState(R)},Wt.useSyncExternalStore=function(R,H,X){return k.H.useSyncExternalStore(R,H,X)},Wt.useTransition=function(){return k.H.useTransition()},Wt.version="19.1.1",Wt}var Ry;function kf(){return Ry||(Ry=1,Um.exports=xw()),Um.exports}var O=kf();const Ce=Xs(O);var Gm={exports:{}},oc={},Zm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function _w(){return Py||(Py=1,(function(t){function i(K,rt){var ft=K.length;K.push(rt);t:for(;0<ft;){var st=ft-1>>>1,R=K[st];if(0<u(R,rt))K[st]=rt,K[ft]=R,ft=st;else break t}}function o(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var rt=K[0],ft=K.pop();if(ft!==rt){K[0]=ft;t:for(var st=0,R=K.length,H=R>>>1;st<H;){var X=2*(st+1)-1,Q=K[X],z=X+1,Y=K[z];if(0>u(Q,ft))z<R&&0>u(Y,Q)?(K[st]=Y,K[z]=ft,st=z):(K[st]=Q,K[X]=ft,st=X);else if(z<R&&0>u(Y,ft))K[st]=Y,K[z]=ft,st=z;else break t}}return rt}function u(K,rt){var ft=K.sortIndex-rt.sortIndex;return ft!==0?ft:K.id-rt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var b=[],y=[],S=1,w=null,_=3,T=!1,A=!1,N=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function C(K){for(var rt=o(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=K)s(y),rt.sortIndex=rt.expirationTime,i(b,rt);else break;rt=o(y)}}function k(K){if(N=!1,C(K),!A)if(o(b)!==null)A=!0,G||(G=!0,U());else{var rt=o(y);rt!==null&&ht(k,rt.startTime-K)}}var G=!1,W=-1,ot=5,nt=-1;function tt(){return D?!0:!(t.unstable_now()-nt<ot)}function Z(){if(D=!1,G){var K=t.unstable_now();nt=K;var rt=!0;try{t:{A=!1,N&&(N=!1,I(W),W=-1),T=!0;var ft=_;try{e:{for(C(K),w=o(b);w!==null&&!(w.expirationTime>K&&tt());){var st=w.callback;if(typeof st=="function"){w.callback=null,_=w.priorityLevel;var R=st(w.expirationTime<=K);if(K=t.unstable_now(),typeof R=="function"){w.callback=R,C(K),rt=!0;break e}w===o(b)&&s(b),C(K)}else s(b);w=o(b)}if(w!==null)rt=!0;else{var H=o(y);H!==null&&ht(k,H.startTime-K),rt=!1}}break t}finally{w=null,_=ft,T=!1}rt=void 0}}finally{rt?U():G=!1}}}var U;if(typeof j=="function")U=function(){j(Z)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,lt=et.port2;et.port1.onmessage=Z,U=function(){lt.postMessage(null)}}else U=function(){$(Z,0)};function ht(K,rt){W=$(function(){K(t.unstable_now())},rt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var rt=3;break;default:rt=_}var ft=_;_=rt;try{return K()}finally{_=ft}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(K,rt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=_;_=K;try{return rt()}finally{_=ft}},t.unstable_scheduleCallback=function(K,rt,ft){var st=t.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?st+ft:st):ft=st,K){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ft+R,K={id:S++,callback:rt,priorityLevel:K,startTime:ft,expirationTime:R,sortIndex:-1},ft>st?(K.sortIndex=ft,i(y,K),o(b)===null&&K===o(y)&&(N?(I(W),W=-1):N=!0,ht(k,ft-st))):(K.sortIndex=R,i(b,K),A||T||(A=!0,G||(G=!0,U()))),K},t.unstable_shouldYield=tt,t.unstable_wrapCallback=function(K){var rt=_;return function(){var ft=_;_=rt;try{return K.apply(this,arguments)}finally{_=ft}}}})(Ym)),Ym}var zy;function Sw(){return zy||(zy=1,Zm.exports=_w()),Zm.exports}var qm={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function ww(){if(Hy)return Nn;Hy=1;var t=kf();function i(b){var y="https://react.dev/errors/"+b;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+b+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,y,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:b,containerInfo:y,implementation:S}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,y){if(b==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nn.createPortal=function(b,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return d(b,y,null,S)},Nn.flushSync=function(b){var y=f.T,S=s.p;try{if(f.T=null,s.p=2,b)return b()}finally{f.T=y,s.p=S,s.d.f()}},Nn.preconnect=function(b,y){typeof b=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(b,y))},Nn.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},Nn.preinit=function(b,y){if(typeof b=="string"&&y&&typeof y.as=="string"){var S=y.as,w=p(S,y.crossOrigin),_=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?s.d.S(b,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:_,fetchPriority:T}):S==="script"&&s.d.X(b,{crossOrigin:w,integrity:_,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Nn.preinitModule=function(b,y){if(typeof b=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);s.d.M(b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(b)},Nn.preload=function(b,y){if(typeof b=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,w=p(S,y.crossOrigin);s.d.L(b,S,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Nn.preloadModule=function(b,y){if(typeof b=="string")if(y){var S=p(y.as,y.crossOrigin);s.d.m(b,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(b)},Nn.requestFormReset=function(b){s.d.r(b)},Nn.unstable_batchedUpdates=function(b,y){return b(y)},Nn.useFormState=function(b,y,S){return f.H.useFormState(b,y,S)},Nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Nn.version="19.1.1",Nn}var $y;function T_(){if($y)return qm.exports;$y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),qm.exports=ww(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function Tw(){if(Iy)return oc;Iy=1;var t=Sw(),i=kf(),o=T_();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(s(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,c=n;;){var m=a.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===a)return p(m),e;if(v===c)return p(m),n;v=v.sibling}throw Error(s(188))}if(a.return!==c.return)a=m,c=v;else{for(var M=!1,P=m.child;P;){if(P===a){M=!0,a=m,c=v;break}if(P===c){M=!0,c=m,a=v;break}P=P.sibling}if(!M){for(P=v.child;P;){if(P===a){M=!0,a=v,c=m;break}if(P===c){M=!0,c=v,a=m;break}P=P.sibling}if(!M)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case k:return"Suspense";case G:return"SuspenseList";case nt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case j:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case C:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:lt(e.type)||"Memo";case ot:n=e._payload,e=e._init;try{return lt(e(n))}catch{}}return null}var ht=Array.isArray,K=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},st=[],R=-1;function H(e){return{current:e}}function X(e){0>R||(e.current=st[R],st[R]=null,R--)}function Q(e,n){R++,st[R]=e.current,e.current=n}var z=H(null),Y=H(null),F=H(null),ct=H(null);function bt(e,n){switch(Q(F,n),Q(Y,e),Q(z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?sy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=sy(n),e=ly(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(z),Q(z,e)}function Mt(){X(z),X(Y),X(F)}function Et(e){e.memoizedState!==null&&Q(ct,e);var n=z.current,a=ly(n,e.type);n!==a&&(Q(Y,e),Q(z,a))}function Lt(e){Y.current===e&&(X(z),X(Y)),ct.current===e&&(X(ct),tc._currentValue=ft)}var Dt=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,kt=t.unstable_cancelCallback,It=t.unstable_shouldYield,ee=t.unstable_requestPaint,$t=t.unstable_now,Xt=t.unstable_getCurrentPriorityLevel,xt=t.unstable_ImmediatePriority,Bt=t.unstable_UserBlockingPriority,vt=t.unstable_NormalPriority,de=t.unstable_LowPriority,He=t.unstable_IdlePriority,we=t.log,qt=t.unstable_setDisableYieldValue,je=null,Le=null;function Je(e){if(typeof we=="function"&&qt(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(je,e)}catch{}}var Be=Math.clz32?Math.clz32:Wi,bi=Math.log,Jr=Math.LN2;function Wi(e){return e>>>=0,e===0?32:31-(bi(e)/Jr|0)|0}var Hr=256,Un=4194304;function mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $r(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var m=0,v=e.suspendedLanes,M=e.pingedLanes;e=e.warmLanes;var P=c&134217727;return P!==0?(c=P&~v,c!==0?m=mn(c):(M&=P,M!==0?m=mn(M):a||(a=P&~e,a!==0&&(m=mn(a))))):(P=c&~v,P!==0?m=mn(P):M!==0?m=mn(M):a||(a=c&~e,a!==0&&(m=mn(a)))),m===0?0:n!==0&&n!==m&&(n&v)===0&&(v=m&-m,a=n&-n,v>=a||v===32&&(a&4194048)!==0)?n:m}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function rl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var e=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),e}function Ir(){var e=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),e}function Zn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function yi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function il(e,n,a,c,m,v){var M=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var P=e.entanglements,V=e.expirationTimes,dt=e.hiddenUpdates;for(a=M&~a;0<a;){var yt=31-Be(a),wt=1<<yt;P[yt]=0,V[yt]=-1;var mt=dt[yt];if(mt!==null)for(dt[yt]=null,yt=0;yt<mt.length;yt++){var pt=mt[yt];pt!==null&&(pt.lane&=-536870913)}a&=~wt}c!==0&&Qa(e,c,0),v!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=v&~(M&~n))}function Qa(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Be(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function Jc(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-Be(a),m=1<<c;m&n|e[c]&n&&(e[c]|=n),a&=~m}}function al(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ol(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:Ny(e.type))}function sl(e,n){var a=rt.p;try{return rt.p=e,n()}finally{rt.p=a}}var ti=Math.random().toString(36).slice(2),on="__reactFiber$"+ti,wn="__reactProps$"+ti,Qi="__reactContainer$"+ti,Yn="__reactEvents$"+ti,Pt="__reactListeners$"+ti,eu="__reactHandles$"+ti,ll="__reactResources$"+ti,Ji="__reactMarker$"+ti;function Go(e){delete e[on],delete e[wn],delete e[Yn],delete e[Pt],delete e[eu]}function ei(e){var n=e[on];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Qi]||a[on]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=fy(e);e!==null;){if(a=e[on])return a;e=fy(e)}return n}e=a,a=e.parentNode}return null}function vi(e){if(e=e[on]||e[Qi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function yr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function xi(e){var n=e[ll];return n||(n=e[ll]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(e){e[Ji]=!0}var nu=new Set,ru={};function _i(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(ru[e]=n,e=0;e<n.length;e++)nu.add(n[e])}var Wf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ja={},iu={};function Qf(e){return Dt.call(iu,e)?!0:Dt.call(Ja,e)?!1:Wf.test(e)?iu[e]=!0:(Ja[e]=!0,!1)}function Zo(e,n,a){if(Qf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Yo(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ur(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var to,ta;function wi(e){if(to===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);to=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+e+ta}var qo=!1;function Ti(e,n){if(!e||qo)return"";qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(pt){var mt=pt}Reflect.construct(e,[],wt)}else{try{wt.call()}catch(pt){mt=pt}e.call(wt.prototype)}}else{try{throw Error()}catch(pt){mt=pt}(wt=e())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(pt){if(pt&&mt&&typeof pt.stack=="string")return[pt.stack,mt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),M=v[0],P=v[1];if(M&&P){var V=M.split(`
`),dt=P.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<dt.length&&!dt[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===dt.length)for(c=V.length-1,m=dt.length-1;1<=c&&0<=m&&V[c]!==dt[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==dt[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==dt[m]){var yt=`
`+V[c].replace(" at new "," at ");return e.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",e.displayName)),yt}while(1<=c&&0<=m);break}}}finally{qo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?wi(a):""}function se(e){switch(e.tag){case 26:case 27:case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Ti(e.type,!1);case 11:return Ti(e.type.render,!1);case 1:return Ti(e.type,!0);case 31:return wi("Activity");default:return""}}function Me(e){try{var n="";do n+=se(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ei(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ea(e){var n=Ei(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,v=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(M){c=""+M,v.call(this,M)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function na(e){e._valueTracker||(e._valueTracker=ea(e))}function Ft(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=Ei(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function Ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cl=/[\n"\\]/g;function gn(e){return e.replace(cl,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(e,n,a,c,m,v,M,P){e.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.type=M:e.removeAttribute("type"),n!=null?M==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):M!=="submit"&&M!=="reset"||e.removeAttribute("value"),n!=null?ra(e,M,pn(n)):a!=null?ra(e,M,pn(a)):c!=null&&e.removeAttribute("value"),m==null&&v!=null&&(e.defaultChecked=!!v),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?e.name=""+pn(P):e.removeAttribute("name")}function au(e,n,a,c,m,v,M,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||n!=null))return;a=a!=null?""+pn(a):"",n=n!=null?""+pn(n):a,P||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=P?e.checked:!!c,e.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(e.name=M)}function ra(e,n,a){n==="number"&&Ne(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qn(e,n,a,c){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&c&&(e[a].defaultSelected=!0)}else{for(a=""+pn(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function $e(e,n,a){if(n!=null&&(n=""+pn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+pn(a):""}function ni(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(s(92));if(ht(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=pn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function vr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||eo.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ia(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&a[m]!==c&&Vo(e,m,c)}else for(var v in n)n.hasOwnProperty(v)&&Vo(e,v,n[v])}function no(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return Ko.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ro=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,ri=null;function ou(e){var n=vi(e);if(n&&(e=n.stateNode)){var a=e[wn]||null;t:switch(e=n.stateNode,n.type){case"input":if(Tn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var m=c[wn]||null;if(!m)throw Error(s(90));Tn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&Ft(c)}break t;case"textarea":$e(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&qn(e,!!a.multiple,n,!1)}}}var Kt=!1;function Qn(e,n,a){if(Kt)return e(n,a);Kt=!0;try{var c=e(n);return c}finally{if(Kt=!1,(Mi!==null||ri!==null)&&(td(),Mi&&(n=Mi,e=ri,ri=Mi=null,ou(n),e)))for(n=0;n<e.length;n++)ou(e[n])}}function fe(e,n){var a=e.stateNode;if(a===null)return null;var c=a[wn]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(xr)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){io=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{io=!1}var _r=null,Gr=null,sa=null;function la(){if(sa)return sa;var e,n=Gr,a=n.length,c,m="value"in _r?_r.value:_r.textContent,v=m.length;for(e=0;e<a&&n[e]===m[e];e++);var M=a-e;for(c=1;c<=M&&n[a-c]===m[v-c];c++);return sa=m.slice(e,1<c?1-c:void 0)}function Ye(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sr(){return!0}function dl(){return!1}function bn(e){function n(a,c,m,v,M){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=M,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(a=e[P],this[P]=a?a(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Sr:dl,this.isPropagationStopped=dl,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=bn(Ai),Di=S({},Ai,{view:0,detail:0}),Jf=bn(Di),Fo,Jt,oo,En=S({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(Fo=e.screenX-oo.screenX,Jt=e.screenY-oo.screenY):Jt=Fo=0,oo=e),Fo)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),ca=bn(En),su=S({},En,{dataTransfer:0}),th=bn(su),fl=S({},Di,{relatedTarget:0}),hl=bn(fl),lu=S({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=bn(lu),nh=S({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ml=bn(nh),rh=S({},Ai,{data:0}),Jn=bn(rh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ii[e])?!!n[e]:!1}function Xo(){return uu}var pl=S({},Di,{key:function(e){if(e.key){var n=ih[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ye(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Ye(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ye(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ah=bn(pl),du=S({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=bn(du),oh=S({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),sh=bn(oh),bl=S({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),lh=bn(bl),fu=S({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hu=bn(fu),Wo=S({},Ai,{newState:0,oldState:0}),ji=bn(Wo),ch=[9,13,27,32],ki=xr&&"CompositionEvent"in window,sn=null;xr&&"documentMode"in document&&(sn=document.documentMode);var mu=xr&&"TextEvent"in window&&!sn,yl=xr&&(!ki||sn&&8<sn&&11>=sn),pu=" ",Qo=!1;function Jo(e,n){switch(e){case"keyup":return ch.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function bu(e,n){switch(e){case"compositionend":return gu(n);case"keypress":return n.which!==32?null:(Qo=!0,pu);case"textInput":return e=n.data,e===pu&&Qo?null:e;default:return null}}function uh(e,n){if(ua)return e==="compositionend"||!ki&&Jo(e,n)?(e=la(),sa=Gr=_r=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yl&&n.locale!=="ko"?null:n.data;default:return null}}var tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!tr[e.type]:n==="textarea"}function yu(e,n,a,c){Mi?ri?ri.push(c):ri=[c]:Mi=c,n=od(n,"onChange"),0<n.length&&(a=new ao("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var jn=null,so=null;function da(e){ny(e,0)}function ts(e){var n=yr(e);if(Ft(n))return e}function fa(e,n){if(e==="change")return n}var vl=!1;if(xr){var ha;if(xr){var xl="oninput"in document;if(!xl){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),xl=typeof Zr.oninput=="function"}ha=xl}else ha=!1;vl=ha&&(!document.documentMode||9<document.documentMode)}function lo(){jn&&(jn.detachEvent("onpropertychange",vu),so=jn=null)}function vu(e){if(e.propertyName==="value"&&ts(so)){var n=[];yu(n,so,e,oa(e)),Qn(da,n)}}function _l(e,n,a){e==="focusin"?(lo(),jn=n,so=a,jn.attachEvent("onpropertychange",vu)):e==="focusout"&&lo()}function dh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(so)}function Yr(e,n){if(e==="click")return ts(n)}function fh(e,n){if(e==="input"||e==="change")return ts(n)}function ma(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:ma;function On(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!Dt.call(n,m)||!kn(e[m],n[m]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sl(e,n){var a=co(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=co(a)}}function es(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?es(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function uo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ne(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ne(e.document)}return n}function fo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ns=xr&&"documentMode"in document&&11>=document.documentMode,er=null,pa=null,Ci=null,rs=!1;function xu(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rs||er==null||er!==Ne(c)||(c=er,"selectionStart"in c&&fo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ci&&On(Ci,c)||(Ci=c,c=od(pa,"onSelect"),0<c.length&&(n=new ao("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=er)))}function wr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},is={},_u={};xr&&(_u=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function ai(e){if(is[e])return is[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in _u)return is[e]=n[a];return e}var Su=ai("animationend"),nr=ai("animationiteration"),ho=ai("animationstart"),hh=ai("transitionrun"),as=ai("transitionstart"),mh=ai("transitioncancel"),wl=ai("transitionend"),wu=new Map,Li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Li.push("scrollEnd");function rr(e,n){wu.set(e,n),_i(n,[e])}var Bi=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var a=Bi.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Me(n)},Bi.set(e,n),n)}return{value:e,source:n,stack:Me(n)}}var Ln=[],ba=0,ir=0;function mo(){for(var e=ba,n=ir=ba=0;n<e;){var a=Ln[n];Ln[n++]=null;var c=Ln[n];Ln[n++]=null;var m=Ln[n];Ln[n++]=null;var v=Ln[n];if(Ln[n++]=null,c!==null&&m!==null){var M=c.pending;M===null?m.next=m:(m.next=M.next,M.next=m),c.pending=m}v!==0&&go(a,m,v)}}function po(e,n,a,c){Ln[ba++]=e,Ln[ba++]=n,Ln[ba++]=a,Ln[ba++]=c,ir|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Ri(e,n,a,c){return po(e,n,a,c),oi(e)}function ya(e,n){return po(e,null,null,n),oi(e)}function go(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var m=!1,v=e.return;v!==null;)v.childLanes|=a,c=v.alternate,c!==null&&(c.childLanes|=a),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(m=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,m&&n!==null&&(m=31-Be(a),e=v.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=a|536870912),v):null}function oi(e){if(50<ql)throw ql=0,dm=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pi={};function Tu(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,n,a,c){return new Tu(e,n,a,c)}function os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tr(e,n){var a=e.alternate;return a===null?(a=Bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Tl(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bo(e,n,a,c,m,v){var M=0;if(c=e,typeof e=="function")os(e)&&(M=1);else if(typeof e=="string")M=iw(e,a,z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case nt:return e=Bn(31,a,n,m),e.elementType=nt,e.lanes=v,e;case A:return si(a.children,m,v,n);case N:M=8,m|=24;break;case D:return e=Bn(12,a,n,m|2),e.elementType=D,e.lanes=v,e;case k:return e=Bn(13,a,n,m),e.elementType=k,e.lanes=v,e;case G:return e=Bn(19,a,n,m),e.elementType=G,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case j:M=10;break t;case I:M=9;break t;case C:M=11;break t;case W:M=14;break t;case ot:M=16,c=null;break t}M=29,a=Error(s(130,e===null?"null":typeof e,"")),c=null}return n=Bn(M,a,n,m),n.elementType=e,n.type=c,n.lanes=v,n}function si(e,n,a,c){return e=Bn(7,e,c,n),e.lanes=a,e}function El(e,n,a){return e=Bn(6,e,null,n),e.lanes=a,e}function ss(e,n,a){return n=Bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zi=[],va=0,r=null,l=0,h=[],x=0,E=null,B=1,q="";function at(e,n){zi[va++]=l,zi[va++]=r,r=e,l=n}function gt(e,n,a){h[x++]=B,h[x++]=q,h[x++]=E,E=e;var c=B;e=q;var m=32-Be(c)-1;c&=~(1<<m),a+=1;var v=32-Be(n)+m;if(30<v){var M=m-m%5;v=(c&(1<<M)-1).toString(32),c>>=M,m-=M,B=1<<32-Be(n)+m|a<<m|c,q=v+e}else B=1<<v|a<<m|c,q=e}function Tt(e){e.return!==null&&(at(e,1),gt(e,1,0))}function jt(e){for(;e===r;)r=zi[--va],zi[va]=null,l=zi[--va],zi[va]=null;for(;e===E;)E=h[--x],h[x]=null,q=h[--x],h[x]=null,B=h[--x],h[x]=null}var Ot=null,Rt=null,Vt=!1,Ae=null,Ie=!1,ln=Error(s(519));function Vn(e){var n=Error(s(418,""));throw _a(Cn(n,e)),ln}function Eu(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[on]=e,n[wn]=c,a){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(a=0;a<Kl.length;a++)re(Kl[a],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),au(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),na(n);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),ni(n,c.value,c.defaultValue,c.children),na(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||oy(n.textContent,a)?(c.popover!=null&&(re("beforetoggle",n),re("toggle",n)),c.onScroll!=null&&re("scroll",n),c.onScrollEnd!=null&&re("scrollend",n),c.onClick!=null&&(n.onclick=sd),n=!0):n=!1,n||Vn(e)}function Mu(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 13:Ie=!1;return;case 27:case 3:Ie=!0;return;default:Ot=Ot.return}}function yo(e){if(e!==Ot)return!1;if(!Vt)return Mu(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nm(e.type,e.memoizedProps)),a=!a),a&&Rt&&Vn(e),Mu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Rt=Fr(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Rt=null}}else n===27?(n=Rt,Ra(e.type)?(e=km,km=null,Rt=e):Rt=n):Rt=Ot?Fr(e.stateNode.nextSibling):null;return!0}function xa(){Rt=Ot=null,Vt=!1}function Nu(){var e=Ae;return e!==null&&(Xn===null?Xn=e:Xn.push.apply(Xn,e),Ae=null),e}function _a(e){Ae===null?Ae=[e]:Ae.push(e)}var Re=H(null),Er=null,qr=null;function li(e,n,a){Q(Re,n._currentValue),n._currentValue=a}function Vr(e){e._currentValue=Re.current,X(Re)}function vo(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function ls(e,n,a,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var v=m.dependencies;if(v!==null){var M=m.child;v=v.firstContext;t:for(;v!==null;){var P=v;v=m;for(var V=0;V<n.length;V++)if(P.context===n[V]){v.lanes|=a,P=v.alternate,P!==null&&(P.lanes|=a),vo(v.return,a,e),c||(M=null);break t}v=P.next}}else if(m.tag===18){if(M=m.return,M===null)throw Error(s(341));M.lanes|=a,v=M.alternate,v!==null&&(v.lanes|=a),vo(M,a,e),M=null}else M=m.child;if(M!==null)M.return=m;else for(M=m;M!==null;){if(M===e){M=null;break}if(m=M.sibling,m!==null){m.return=M.return,M=m;break}M=M.return}m=M}}function xo(e,n,a,c){e=null;for(var m=n,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var M=m.alternate;if(M===null)throw Error(s(387));if(M=M.memoizedProps,M!==null){var P=m.type;kn(m.pendingProps.value,M.value)||(e!==null?e.push(P):e=[P])}}else if(m===ct.current){if(M=m.alternate,M===null)throw Error(s(387));M.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(tc):e=[tc])}m=m.return}e!==null&&ls(n,e,a,c),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _o(e){Er=e,qr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mn(e){return qp(Er,e)}function Du(e,n){return Er===null&&_o(e),qp(e,n)}function qp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qr===null){if(e===null)throw Error(s(308));qr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qr=qr.next=n;return a}var rS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},iS=t.unstable_scheduleCallback,aS=t.unstable_NormalPriority,tn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new rS,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&iS(aS,function(){e.controller.abort()})}var Nl=null,gh=0,cs=0,us=null;function oS(e,n){if(Nl===null){var a=Nl=[];gh=0,cs=ym(),us={status:"pending",value:void 0,then:function(c){a.push(c)}}}return gh++,n.then(Vp,Vp),n}function Vp(){if(--gh===0&&Nl!==null){us!==null&&(us.status="fulfilled");var e=Nl;Nl=null,cs=0,us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function sS(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var Kp=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&oS(e,n),Kp!==null&&Kp(e,n)};var So=H(null);function bh(){var e=So.current;return e!==null?e:De.pooledCache}function ju(e,n){n===null?Q(So,So.current):Q(So,n.pool)}function Fp(){var e=bh();return e===null?null:{parent:tn._currentValue,pool:e}}var Al=Error(s(460)),Xp=Error(s(474)),ku=Error(s(542)),yh={then:function(){}};function Wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ou(){}function Qp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Ou,Ou),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tg(e),e;default:if(typeof n.status=="string")n.then(Ou,Ou);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tg(e),e}throw Dl=n,Al}}var Dl=null;function Jp(){if(Dl===null)throw Error(s(459));var e=Dl;return Dl=null,e}function tg(e){if(e===Al||e===ku)throw Error(s(483))}var Sa=!1;function vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=oi(e),go(e,null,a),n}return po(e,c,n,a),oi(e)}function jl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Jc(e,a)}}function _h(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var M={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?m=v=M:v=v.next=M,a=a.next}while(a!==null);v===null?m=v=n:v=v.next=n}else m=v=n;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Sh=!1;function kl(){if(Sh){var e=us;if(e!==null)throw e}}function Ol(e,n,a,c){Sh=!1;var m=e.updateQueue;Sa=!1;var v=m.firstBaseUpdate,M=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var V=P,dt=V.next;V.next=null,M===null?v=dt:M.next=dt,M=V;var yt=e.alternate;yt!==null&&(yt=yt.updateQueue,P=yt.lastBaseUpdate,P!==M&&(P===null?yt.firstBaseUpdate=dt:P.next=dt,yt.lastBaseUpdate=V))}if(v!==null){var wt=m.baseState;M=0,yt=dt=V=null,P=v;do{var mt=P.lane&-536870913,pt=mt!==P.lane;if(pt?(le&mt)===mt:(c&mt)===mt){mt!==0&&mt===cs&&(Sh=!0),yt!==null&&(yt=yt.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Zt=e,Ut=P;mt=n;var xe=a;switch(Ut.tag){case 1:if(Zt=Ut.payload,typeof Zt=="function"){wt=Zt.call(xe,wt,mt);break t}wt=Zt;break t;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=Ut.payload,mt=typeof Zt=="function"?Zt.call(xe,wt,mt):Zt,mt==null)break t;wt=S({},wt,mt);break t;case 2:Sa=!0}}mt=P.callback,mt!==null&&(e.flags|=64,pt&&(e.flags|=8192),pt=m.callbacks,pt===null?m.callbacks=[mt]:pt.push(mt))}else pt={lane:mt,tag:P.tag,payload:P.payload,callback:P.callback,next:null},yt===null?(dt=yt=pt,V=wt):yt=yt.next=pt,M|=mt;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;pt=P,P=pt.next,pt.next=null,m.lastBaseUpdate=pt,m.shared.pending=null}}while(!0);yt===null&&(V=wt),m.baseState=V,m.firstBaseUpdate=dt,m.lastBaseUpdate=yt,v===null&&(m.shared.lanes=0),Oa|=M,e.lanes=M,e.memoizedState=wt}}function eg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function ng(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)eg(a[e],n)}var ds=H(null),Cu=H(0);function rg(e,n){e=Yi,Q(Cu,e),Q(ds,n),Yi=e|n.baseLanes}function wh(){Q(Cu,Yi),Q(ds,ds.current)}function Th(){Yi=Cu.current,X(ds),X(Cu)}var Ea=0,Qt=null,ye=null,We=null,Lu=!1,fs=!1,wo=!1,Bu=0,Cl=0,hs=null,lS=0;function Ke(){throw Error(s(321))}function Eh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!kn(e[a],n[a]))return!1;return!0}function Mh(e,n,a,c,m,v){return Ea=v,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?$g:Ig,wo=!1,v=a(c,m),wo=!1,fs&&(v=ag(n,a,c,m)),ig(e),v}function ig(e){K.H=Iu;var n=ye!==null&&ye.next!==null;if(Ea=0,We=ye=Qt=null,Lu=!1,Cl=0,hs=null,n)throw Error(s(300));e===null||cn||(e=e.dependencies,e!==null&&Au(e)&&(cn=!0))}function ag(e,n,a,c){Qt=e;var m=0;do{if(fs&&(hs=null),Cl=0,fs=!1,25<=m)throw Error(s(301));if(m+=1,We=ye=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}K.H=pS,v=n(a,c)}while(fs);return v}function cS(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Ll(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Qt.flags|=1024),n}function Nh(){var e=Bu!==0;return Bu=0,e}function Ah(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Dh(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Ea=0,We=ye=Qt=null,fs=!1,Cl=Bu=0,hs=null}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Qt.memoizedState=We=e:We=We.next=e,We}function Qe(){if(ye===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=We===null?Qt.memoizedState:We.next;if(n!==null)We=n,ye=e;else{if(e===null)throw Qt.alternate===null?Error(s(467)):Error(s(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},We===null?Qt.memoizedState=We=e:We=We.next=e}return We}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var n=Cl;return Cl+=1,hs===null&&(hs=[]),e=Qp(hs,e,n),n=Qt,(We===null?n.memoizedState:We.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?$g:Ig),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===j)return Mn(e)}throw Error(s(438,String(e)))}function kh(e){var n=null,a=Qt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Qt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=jh(),Qt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=tt;return n.index++,a}function Hi(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=Qe();return Oh(n,ye,e)}function Oh(e,n,a){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var m=e.baseQueue,v=c.pending;if(v!==null){if(m!==null){var M=m.next;m.next=v.next,v.next=M}n.baseQueue=m=v,c.pending=null}if(v=e.baseState,m===null)e.memoizedState=v;else{n=m.next;var P=M=null,V=null,dt=n,yt=!1;do{var wt=dt.lane&-536870913;if(wt!==dt.lane?(le&wt)===wt:(Ea&wt)===wt){var mt=dt.revertLane;if(mt===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),wt===cs&&(yt=!0);else if((Ea&mt)===mt){dt=dt.next,mt===cs&&(yt=!0);continue}else wt={lane:0,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},V===null?(P=V=wt,M=v):V=V.next=wt,Qt.lanes|=mt,Oa|=mt;wt=dt.action,wo&&a(v,wt),v=dt.hasEagerState?dt.eagerState:a(v,wt)}else mt={lane:wt,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},V===null?(P=V=mt,M=v):V=V.next=mt,Qt.lanes|=wt,Oa|=wt;dt=dt.next}while(dt!==null&&dt!==n);if(V===null?M=v:V.next=P,!kn(v,e.memoizedState)&&(cn=!0,yt&&(a=us,a!==null)))throw a;e.memoizedState=v,e.baseState=M,e.baseQueue=V,c.lastRenderedState=v}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Ch(e){var n=Qe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,m=a.pending,v=n.memoizedState;if(m!==null){a.pending=null;var M=m=m.next;do v=e(v,M.action),M=M.next;while(M!==m);kn(v,n.memoizedState)||(cn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),a.lastRenderedState=v}return[v,c]}function og(e,n,a){var c=Qt,m=Qe(),v=Vt;if(v){if(a===void 0)throw Error(s(407));a=a()}else a=n();var M=!kn((ye||m).memoizedState,a);M&&(m.memoizedState=a,cn=!0),m=m.queue;var P=cg.bind(null,c,m,e);if(Bl(2048,8,P,[e]),m.getSnapshot!==n||M||We!==null&&We.memoizedState.tag&1){if(c.flags|=2048,ms(9,zu(),lg.bind(null,c,m,a,n),null),De===null)throw Error(s(349));v||(Ea&124)!==0||sg(c,n,a)}return a}function sg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Qt.updateQueue,n===null?(n=jh(),Qt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function lg(e,n,a,c){n.value=a,n.getSnapshot=c,ug(n)&&dg(e)}function cg(e,n,a){return a(function(){ug(n)&&dg(e)})}function ug(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!kn(e,a)}catch{return!0}}function dg(e){var n=ya(e,2);n!==null&&cr(n,e,2)}function Lh(e){var n=Kn();if(typeof e=="function"){var a=e;if(e=a(),wo){Je(!0);try{a()}finally{Je(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function fg(e,n,a,c){return e.baseState=a,Oh(e,ye,typeof c=="function"?c:Hi)}function uS(e,n,a,c,m){if($u(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){v.listeners.push(M)}};K.T!==null?a(!0):v.isTransition=!1,c(v),a=n.pending,a===null?(v.next=n.pending=v,hg(n,v)):(v.next=a.next,n.pending=a.next=v)}}function hg(e,n){var a=n.action,c=n.payload,m=e.state;if(n.isTransition){var v=K.T,M={};K.T=M;try{var P=a(m,c),V=K.S;V!==null&&V(M,P),mg(e,n,P)}catch(dt){Bh(e,n,dt)}finally{K.T=v}}else try{v=a(m,c),mg(e,n,v)}catch(dt){Bh(e,n,dt)}}function mg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){pg(e,n,c)},function(c){return Bh(e,n,c)}):pg(e,n,a)}function pg(e,n,a){n.status="fulfilled",n.value=a,gg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,hg(e,a)))}function Bh(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,gg(n),n=n.next;while(n!==c)}e.action=null}function gg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bg(e,n){return n}function yg(e,n){if(Vt){var a=De.formState;if(a!==null){t:{var c=Qt;if(Vt){if(Rt){e:{for(var m=Rt,v=Ie;m.nodeType!==8;){if(!v){m=null;break e}if(m=Fr(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Rt=Fr(m.nextSibling),c=m.data==="F!";break t}}Vn(c)}c=!1}c&&(n=a[0])}}return a=Kn(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},a.queue=c,a=Pg.bind(null,Qt,c),c.dispatch=a,c=Lh(!1),v=$h.bind(null,Qt,!1,c.queue),c=Kn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,a=uS.bind(null,Qt,m,v,a),m.dispatch=a,c.memoizedState=e,[n,a,!1]}function vg(e){var n=Qe();return xg(n,ye,e)}function xg(e,n,a){if(n=Oh(e,n,bg)[0],e=Pu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Ll(n)}catch(M){throw M===Al?ku:M}else c=n;n=Qe();var m=n.queue,v=m.dispatch;return a!==n.memoizedState&&(Qt.flags|=2048,ms(9,zu(),dS.bind(null,m,a),null)),[c,v,e]}function dS(e,n){e.action=n}function _g(e){var n=Qe(),a=ye;if(a!==null)return xg(n,a,e);Qe(),n=n.memoizedState,a=Qe();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function ms(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Qt.updateQueue,n===null&&(n=jh(),Qt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function zu(){return{destroy:void 0,resource:void 0}}function Sg(){return Qe().memoizedState}function Hu(e,n,a,c){var m=Kn();c=c===void 0?null:c,Qt.flags|=e,m.memoizedState=ms(1|n,zu(),a,c)}function Bl(e,n,a,c){var m=Qe();c=c===void 0?null:c;var v=m.memoizedState.inst;ye!==null&&c!==null&&Eh(c,ye.memoizedState.deps)?m.memoizedState=ms(n,v,a,c):(Qt.flags|=e,m.memoizedState=ms(1|n,v,a,c))}function wg(e,n){Hu(8390656,8,e,n)}function Tg(e,n){Bl(2048,8,e,n)}function Eg(e,n){return Bl(4,2,e,n)}function Mg(e,n){return Bl(4,4,e,n)}function Ng(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ag(e,n,a){a=a!=null?a.concat([e]):null,Bl(4,4,Ng.bind(null,n,e),a)}function Rh(){}function Dg(e,n){var a=Qe();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&Eh(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function jg(e,n){var a=Qe();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&Eh(n,c[1]))return c[0];if(c=e(),wo){Je(!0);try{e()}finally{Je(!1)}}return a.memoizedState=[c,n],c}function Ph(e,n,a){return a===void 0||(Ea&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Cb(),Qt.lanes|=e,Oa|=e,a)}function kg(e,n,a,c){return kn(a,n)?a:ds.current!==null?(e=Ph(e,a,c),kn(e,n)||(cn=!0),e):(Ea&42)===0?(cn=!0,e.memoizedState=a):(e=Cb(),Qt.lanes|=e,Oa|=e,n)}function Og(e,n,a,c,m){var v=rt.p;rt.p=v!==0&&8>v?v:8;var M=K.T,P={};K.T=P,$h(e,!1,n,a);try{var V=m(),dt=K.S;if(dt!==null&&dt(P,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var yt=sS(V,c);Rl(e,n,yt,lr(e))}else Rl(e,n,c,lr(e))}catch(wt){Rl(e,n,{then:function(){},status:"rejected",reason:wt},lr())}finally{rt.p=v,K.T=M}}function fS(){}function zh(e,n,a,c){if(e.tag!==5)throw Error(s(476));var m=Cg(e).queue;Og(e,m,n,ft,a===null?fS:function(){return Lg(e),a(c)})}function Cg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lg(e){var n=Cg(e).next.queue;Rl(e,n,{},lr())}function Hh(){return Mn(tc)}function Bg(){return Qe().memoizedState}function Rg(){return Qe().memoizedState}function hS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=lr();e=wa(a);var c=Ta(n,e,a);c!==null&&(cr(c,n,a),jl(c,n,a)),n={cache:ph()},e.payload=n;return}n=n.return}}function mS(e,n,a){var c=lr();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$u(e)?zg(n,a):(a=Ri(e,n,a,c),a!==null&&(cr(a,e,c),Hg(a,n,c)))}function Pg(e,n,a){var c=lr();Rl(e,n,a,c)}function Rl(e,n,a,c){var m={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(e))zg(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var M=n.lastRenderedState,P=v(M,a);if(m.hasEagerState=!0,m.eagerState=P,kn(P,M))return po(e,n,m,0),De===null&&mo(),!1}catch{}finally{}if(a=Ri(e,n,m,c),a!==null)return cr(a,e,c),Hg(a,n,c),!0}return!1}function $h(e,n,a,c){if(c={lane:2,revertLane:ym(),action:c,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(s(479))}else n=Ri(e,a,c,2),n!==null&&cr(n,e,2)}function $u(e){var n=e.alternate;return e===Qt||n!==null&&n===Qt}function zg(e,n){fs=Lu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Hg(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Jc(e,a)}}var Iu={readContext:Mn,use:Ru,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},$g={readContext:Mn,use:Ru,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:Mn,useEffect:wg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,Ng.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var a=Kn();n=n===void 0?null:n;var c=e();if(wo){Je(!0);try{e()}finally{Je(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=Kn();if(a!==void 0){var m=a(n);if(wo){Je(!0);try{a(n)}finally{Je(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=mS.bind(null,Qt,e),[c.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:function(e){e=Lh(e);var n=e.queue,a=Pg.bind(null,Qt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(e,n){var a=Kn();return Ph(a,e,n)},useTransition:function(){var e=Lh(!1);return e=Og.bind(null,Qt,e.queue,!0,!1),Kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Qt,m=Kn();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),De===null)throw Error(s(349));(le&124)!==0||sg(c,n,a)}m.memoizedState=a;var v={value:a,getSnapshot:n};return m.queue=v,wg(cg.bind(null,c,v,e),[e]),c.flags|=2048,ms(9,zu(),lg.bind(null,c,v,a,n),null),a},useId:function(){var e=Kn(),n=De.identifierPrefix;if(Vt){var a=q,c=B;a=(c&~(1<<32-Be(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=lS++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Hh,useFormState:yg,useActionState:yg,useOptimistic:function(e){var n=Kn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=$h.bind(null,Qt,!0,a),a.dispatch=n,[e,n]},useMemoCache:kh,useCacheRefresh:function(){return Kn().memoizedState=hS.bind(null,Qt)}},Ig={readContext:Mn,use:Ru,useCallback:Dg,useContext:Mn,useEffect:Tg,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Mg,useMemo:jg,useReducer:Pu,useRef:Sg,useState:function(){return Pu(Hi)},useDebugValue:Rh,useDeferredValue:function(e,n){var a=Qe();return kg(a,ye.memoizedState,e,n)},useTransition:function(){var e=Pu(Hi)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:og,useId:Bg,useHostTransitionStatus:Hh,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var a=Qe();return fg(a,ye,e,n)},useMemoCache:kh,useCacheRefresh:Rg},pS={readContext:Mn,use:Ru,useCallback:Dg,useContext:Mn,useEffect:Tg,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Mg,useMemo:jg,useReducer:Ch,useRef:Sg,useState:function(){return Ch(Hi)},useDebugValue:Rh,useDeferredValue:function(e,n){var a=Qe();return ye===null?Ph(a,e,n):kg(a,ye.memoizedState,e,n)},useTransition:function(){var e=Ch(Hi)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:og,useId:Bg,useHostTransitionStatus:Hh,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var a=Qe();return ye!==null?fg(a,ye,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kh,useCacheRefresh:Rg},ps=null,Pl=0;function Uu(e){var n=Pl;return Pl+=1,ps===null&&(ps=[]),Qp(ps,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ug(e){var n=e._init;return n(e._payload)}function Gg(e){function n(it,J){if(e){var ut=it.deletions;ut===null?(it.deletions=[J],it.flags|=16):ut.push(J)}}function a(it,J){if(!e)return null;for(;J!==null;)n(it,J),J=J.sibling;return null}function c(it){for(var J=new Map;it!==null;)it.key!==null?J.set(it.key,it):J.set(it.index,it),it=it.sibling;return J}function m(it,J){return it=Tr(it,J),it.index=0,it.sibling=null,it}function v(it,J,ut){return it.index=ut,e?(ut=it.alternate,ut!==null?(ut=ut.index,ut<J?(it.flags|=67108866,J):ut):(it.flags|=67108866,J)):(it.flags|=1048576,J)}function M(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function P(it,J,ut,_t){return J===null||J.tag!==6?(J=El(ut,it.mode,_t),J.return=it,J):(J=m(J,ut),J.return=it,J)}function V(it,J,ut,_t){var Ct=ut.type;return Ct===A?yt(it,J,ut.props.children,_t,ut.key):J!==null&&(J.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===ot&&Ug(Ct)===J.type)?(J=m(J,ut.props),zl(J,ut),J.return=it,J):(J=bo(ut.type,ut.key,ut.props,null,it.mode,_t),zl(J,ut),J.return=it,J)}function dt(it,J,ut,_t){return J===null||J.tag!==4||J.stateNode.containerInfo!==ut.containerInfo||J.stateNode.implementation!==ut.implementation?(J=ss(ut,it.mode,_t),J.return=it,J):(J=m(J,ut.children||[]),J.return=it,J)}function yt(it,J,ut,_t,Ct){return J===null||J.tag!==7?(J=si(ut,it.mode,_t,Ct),J.return=it,J):(J=m(J,ut),J.return=it,J)}function wt(it,J,ut){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=El(""+J,it.mode,ut),J.return=it,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return ut=bo(J.type,J.key,J.props,null,it.mode,ut),zl(ut,J),ut.return=it,ut;case T:return J=ss(J,it.mode,ut),J.return=it,J;case ot:var _t=J._init;return J=_t(J._payload),wt(it,J,ut)}if(ht(J)||U(J))return J=si(J,it.mode,ut,null),J.return=it,J;if(typeof J.then=="function")return wt(it,Uu(J),ut);if(J.$$typeof===j)return wt(it,Du(it,J),ut);Gu(it,J)}return null}function mt(it,J,ut,_t){var Ct=J!==null?J.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Ct!==null?null:P(it,J,""+ut,_t);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case _:return ut.key===Ct?V(it,J,ut,_t):null;case T:return ut.key===Ct?dt(it,J,ut,_t):null;case ot:return Ct=ut._init,ut=Ct(ut._payload),mt(it,J,ut,_t)}if(ht(ut)||U(ut))return Ct!==null?null:yt(it,J,ut,_t,null);if(typeof ut.then=="function")return mt(it,J,Uu(ut),_t);if(ut.$$typeof===j)return mt(it,J,Du(it,ut),_t);Gu(it,ut)}return null}function pt(it,J,ut,_t,Ct){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return it=it.get(ut)||null,P(J,it,""+_t,Ct);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case _:return it=it.get(_t.key===null?ut:_t.key)||null,V(J,it,_t,Ct);case T:return it=it.get(_t.key===null?ut:_t.key)||null,dt(J,it,_t,Ct);case ot:var te=_t._init;return _t=te(_t._payload),pt(it,J,ut,_t,Ct)}if(ht(_t)||U(_t))return it=it.get(ut)||null,yt(J,it,_t,Ct,null);if(typeof _t.then=="function")return pt(it,J,ut,Uu(_t),Ct);if(_t.$$typeof===j)return pt(it,J,ut,Du(J,_t),Ct);Gu(J,_t)}return null}function Zt(it,J,ut,_t){for(var Ct=null,te=null,zt=J,Gt=J=0,dn=null;zt!==null&&Gt<ut.length;Gt++){zt.index>Gt?(dn=zt,zt=null):dn=zt.sibling;var he=mt(it,zt,ut[Gt],_t);if(he===null){zt===null&&(zt=dn);break}e&&zt&&he.alternate===null&&n(it,zt),J=v(he,J,Gt),te===null?Ct=he:te.sibling=he,te=he,zt=dn}if(Gt===ut.length)return a(it,zt),Vt&&at(it,Gt),Ct;if(zt===null){for(;Gt<ut.length;Gt++)zt=wt(it,ut[Gt],_t),zt!==null&&(J=v(zt,J,Gt),te===null?Ct=zt:te.sibling=zt,te=zt);return Vt&&at(it,Gt),Ct}for(zt=c(zt);Gt<ut.length;Gt++)dn=pt(zt,it,Gt,ut[Gt],_t),dn!==null&&(e&&dn.alternate!==null&&zt.delete(dn.key===null?Gt:dn.key),J=v(dn,J,Gt),te===null?Ct=dn:te.sibling=dn,te=dn);return e&&zt.forEach(function(Ia){return n(it,Ia)}),Vt&&at(it,Gt),Ct}function Ut(it,J,ut,_t){if(ut==null)throw Error(s(151));for(var Ct=null,te=null,zt=J,Gt=J=0,dn=null,he=ut.next();zt!==null&&!he.done;Gt++,he=ut.next()){zt.index>Gt?(dn=zt,zt=null):dn=zt.sibling;var Ia=mt(it,zt,he.value,_t);if(Ia===null){zt===null&&(zt=dn);break}e&&zt&&Ia.alternate===null&&n(it,zt),J=v(Ia,J,Gt),te===null?Ct=Ia:te.sibling=Ia,te=Ia,zt=dn}if(he.done)return a(it,zt),Vt&&at(it,Gt),Ct;if(zt===null){for(;!he.done;Gt++,he=ut.next())he=wt(it,he.value,_t),he!==null&&(J=v(he,J,Gt),te===null?Ct=he:te.sibling=he,te=he);return Vt&&at(it,Gt),Ct}for(zt=c(zt);!he.done;Gt++,he=ut.next())he=pt(zt,it,Gt,he.value,_t),he!==null&&(e&&he.alternate!==null&&zt.delete(he.key===null?Gt:he.key),J=v(he,J,Gt),te===null?Ct=he:te.sibling=he,te=he);return e&&zt.forEach(function(gw){return n(it,gw)}),Vt&&at(it,Gt),Ct}function xe(it,J,ut,_t){if(typeof ut=="object"&&ut!==null&&ut.type===A&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case _:t:{for(var Ct=ut.key;J!==null;){if(J.key===Ct){if(Ct=ut.type,Ct===A){if(J.tag===7){a(it,J.sibling),_t=m(J,ut.props.children),_t.return=it,it=_t;break t}}else if(J.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===ot&&Ug(Ct)===J.type){a(it,J.sibling),_t=m(J,ut.props),zl(_t,ut),_t.return=it,it=_t;break t}a(it,J);break}else n(it,J);J=J.sibling}ut.type===A?(_t=si(ut.props.children,it.mode,_t,ut.key),_t.return=it,it=_t):(_t=bo(ut.type,ut.key,ut.props,null,it.mode,_t),zl(_t,ut),_t.return=it,it=_t)}return M(it);case T:t:{for(Ct=ut.key;J!==null;){if(J.key===Ct)if(J.tag===4&&J.stateNode.containerInfo===ut.containerInfo&&J.stateNode.implementation===ut.implementation){a(it,J.sibling),_t=m(J,ut.children||[]),_t.return=it,it=_t;break t}else{a(it,J);break}else n(it,J);J=J.sibling}_t=ss(ut,it.mode,_t),_t.return=it,it=_t}return M(it);case ot:return Ct=ut._init,ut=Ct(ut._payload),xe(it,J,ut,_t)}if(ht(ut))return Zt(it,J,ut,_t);if(U(ut)){if(Ct=U(ut),typeof Ct!="function")throw Error(s(150));return ut=Ct.call(ut),Ut(it,J,ut,_t)}if(typeof ut.then=="function")return xe(it,J,Uu(ut),_t);if(ut.$$typeof===j)return xe(it,J,Du(it,ut),_t);Gu(it,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,J!==null&&J.tag===6?(a(it,J.sibling),_t=m(J,ut),_t.return=it,it=_t):(a(it,J),_t=El(ut,it.mode,_t),_t.return=it,it=_t),M(it)):a(it,J)}return function(it,J,ut,_t){try{Pl=0;var Ct=xe(it,J,ut,_t);return ps=null,Ct}catch(zt){if(zt===Al||zt===ku)throw zt;var te=Bn(29,zt,null,it.mode);return te.lanes=_t,te.return=it,te}finally{}}}var gs=Gg(!0),Zg=Gg(!1),Mr=H(null),ci=null;function Ma(e){var n=e.alternate;Q(en,en.current&1),Q(Mr,e),ci===null&&(n===null||ds.current!==null||n.memoizedState!==null)&&(ci=e)}function Yg(e){if(e.tag===22){if(Q(en,en.current),Q(Mr,e),ci===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ci=e)}}else Na()}function Na(){Q(en,en.current),Q(Mr,Mr.current)}function $i(e){X(Mr),ci===e&&(ci=null),X(en)}var en=H(0);function Zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jm(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ih(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uh={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=lr(),m=wa(c);m.payload=n,a!=null&&(m.callback=a),n=Ta(e,m,c),n!==null&&(cr(n,e,c),jl(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=lr(),m=wa(c);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=Ta(e,m,c),n!==null&&(cr(n,e,c),jl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=lr(),c=wa(a);c.tag=2,n!=null&&(c.callback=n),n=Ta(e,c,a),n!==null&&(cr(n,e,a),jl(n,e,a))}};function qg(e,n,a,c,m,v,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,M):n.prototype&&n.prototype.isPureReactComponent?!On(a,c)||!On(m,v):!0}function Vg(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&Uh.enqueueReplaceState(n,n.state,null)}function To(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kg(e){Yu(e)}function Fg(e){console.error(e)}function Xg(e){Yu(e)}function qu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Wg(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Gh(e,n,a){return a=wa(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(e,n)},a}function Qg(e){return e=wa(e),e.tag=3,e}function Jg(e,n,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;e.payload=function(){return m(v)},e.callback=function(){Wg(n,a,c)}}var M=a.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(e.callback=function(){Wg(n,a,c),typeof m!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function gS(e,n,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&xo(n,a,m,!0),a=Mr.current,a!==null){switch(a.tag){case 13:return ci===null?hm():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===yh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),pm(e,c,m)),!1;case 22:return a.flags|=65536,c===yh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),pm(e,c,m)),!1}throw Error(s(435,a.tag))}return pm(e,c,m),hm(),!1}if(Vt)return n=Mr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==ln&&(e=Error(s(422),{cause:c}),_a(Cn(e,a)))):(c!==ln&&(n=Error(s(423),{cause:c}),_a(Cn(n,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Cn(c,a),m=Gh(e.stateNode,c,m),_h(e,m),qe!==4&&(qe=2)),!1;var v=Error(s(520),{cause:c});if(v=Cn(v,a),Yl===null?Yl=[v]:Yl.push(v),qe!==4&&(qe=2),n===null)return!0;c=Cn(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=Gh(a.stateNode,c,e),_h(a,e),!1;case 1:if(n=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ca===null||!Ca.has(v))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Qg(m),Jg(m,e,a,c),_h(a,m),!1}a=a.return}while(a!==null);return!1}var tb=Error(s(461)),cn=!1;function yn(e,n,a,c){n.child=e===null?Zg(n,null,a,c):gs(n,e.child,a,c)}function eb(e,n,a,c,m){a=a.render;var v=n.ref;if("ref"in c){var M={};for(var P in c)P!=="ref"&&(M[P]=c[P])}else M=c;return _o(n),c=Mh(e,n,a,M,v,m),P=Nh(),e!==null&&!cn?(Ah(e,n,m),Ii(e,n,m)):(Vt&&P&&Tt(n),n.flags|=1,yn(e,n,c,m),n.child)}function nb(e,n,a,c,m){if(e===null){var v=a.type;return typeof v=="function"&&!os(v)&&v.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=v,rb(e,n,v,c,m)):(e=bo(a.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!Wh(e,m)){var M=v.memoizedProps;if(a=a.compare,a=a!==null?a:On,a(M,c)&&e.ref===n.ref)return Ii(e,n,m)}return n.flags|=1,e=Tr(v,c),e.ref=n.ref,e.return=n,n.child=e}function rb(e,n,a,c,m){if(e!==null){var v=e.memoizedProps;if(On(v,c)&&e.ref===n.ref)if(cn=!1,n.pendingProps=c=v,Wh(e,m))(e.flags&131072)!==0&&(cn=!0);else return n.lanes=e.lanes,Ii(e,n,m)}return Zh(e,n,a,c,m)}function ib(e,n,a){var c=n.pendingProps,m=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=v!==null?v.baseLanes|a:a,e!==null){for(m=n.child=e.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;n.childLanes=v&~c}else n.childLanes=0,n.child=null;return ab(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(n,v!==null?v.cachePool:null),v!==null?rg(n,v):wh(),Yg(n);else return n.lanes=n.childLanes=536870912,ab(e,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(ju(n,v.cachePool),rg(n,v),Na(),n.memoizedState=null):(e!==null&&ju(n,null),wh(),Na());return yn(e,n,m,a),n.child}function ab(e,n,a,c){var m=bh();return m=m===null?null:{parent:tn._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},e!==null&&ju(n,null),wh(),Yg(n),e!==null&&xo(e,n,c,!0),null}function Vu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Zh(e,n,a,c,m){return _o(n),a=Mh(e,n,a,c,void 0,m),c=Nh(),e!==null&&!cn?(Ah(e,n,m),Ii(e,n,m)):(Vt&&c&&Tt(n),n.flags|=1,yn(e,n,a,m),n.child)}function ob(e,n,a,c,m,v){return _o(n),n.updateQueue=null,a=ag(n,c,a,m),ig(e),c=Nh(),e!==null&&!cn?(Ah(e,n,v),Ii(e,n,v)):(Vt&&c&&Tt(n),n.flags|=1,yn(e,n,a,v),n.child)}function sb(e,n,a,c,m){if(_o(n),n.stateNode===null){var v=Pi,M=a.contextType;typeof M=="object"&&M!==null&&(v=Mn(M)),v=new a(c,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Uh,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=c,v.state=n.memoizedState,v.refs={},vh(n),M=a.contextType,v.context=typeof M=="object"&&M!==null?Mn(M):Pi,v.state=n.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(Ih(n,a,M,c),v.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(M=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),M!==v.state&&Uh.enqueueReplaceState(v,v.state,null),Ol(n,c,v,m),kl(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){v=n.stateNode;var P=n.memoizedProps,V=To(a,P);v.props=V;var dt=v.context,yt=a.contextType;M=Pi,typeof yt=="object"&&yt!==null&&(M=Mn(yt));var wt=a.getDerivedStateFromProps;yt=typeof wt=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,yt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||dt!==M)&&Vg(n,v,c,M),Sa=!1;var mt=n.memoizedState;v.state=mt,Ol(n,c,v,m),kl(),dt=n.memoizedState,P||mt!==dt||Sa?(typeof wt=="function"&&(Ih(n,a,wt,c),dt=n.memoizedState),(V=Sa||qg(n,a,V,c,mt,dt,M))?(yt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=dt),v.props=c,v.state=dt,v.context=M,c=V):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{v=n.stateNode,xh(e,n),M=n.memoizedProps,yt=To(a,M),v.props=yt,wt=n.pendingProps,mt=v.context,dt=a.contextType,V=Pi,typeof dt=="object"&&dt!==null&&(V=Mn(dt)),P=a.getDerivedStateFromProps,(dt=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M!==wt||mt!==V)&&Vg(n,v,c,V),Sa=!1,mt=n.memoizedState,v.state=mt,Ol(n,c,v,m),kl();var pt=n.memoizedState;M!==wt||mt!==pt||Sa||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof P=="function"&&(Ih(n,a,P,c),pt=n.memoizedState),(yt=Sa||qg(n,a,yt,c,mt,pt,V)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(dt||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,pt,V),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,pt,V)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||M===e.memoizedProps&&mt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&mt===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=pt),v.props=c,v.state=pt,v.context=V,c=yt):(typeof v.componentDidUpdate!="function"||M===e.memoizedProps&&mt===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&mt===e.memoizedState||(n.flags|=1024),c=!1)}return v=c,Vu(e,n),c=(n.flags&128)!==0,v||c?(v=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&c?(n.child=gs(n,e.child,null,m),n.child=gs(n,null,a,m)):yn(e,n,a,m),n.memoizedState=v.state,e=n.child):e=Ii(e,n,m),e}function lb(e,n,a,c){return xa(),n.flags|=256,yn(e,n,a,c),n.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(e){return{baseLanes:e,cachePool:Fp()}}function Vh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Nr),e}function cb(e,n,a){var c=n.pendingProps,m=!1,v=(n.flags&128)!==0,M;if((M=v)||(M=e!==null&&e.memoizedState===null?!1:(en.current&2)!==0),M&&(m=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(m?Ma(n):Na(),Vt){var P=Rt,V;if(V=P){t:{for(V=P,P=Ie;V.nodeType!==8;){if(!P){P=null;break t}if(V=Fr(V.nextSibling),V===null){P=null;break t}}P=V}P!==null?(n.memoizedState={dehydrated:P,treeContext:E!==null?{id:B,overflow:q}:null,retryLane:536870912,hydrationErrors:null},V=Bn(18,null,null,0),V.stateNode=P,V.return=n,n.child=V,Ot=n,Rt=null,V=!0):V=!1}V||Vn(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return jm(P)?n.lanes=32:n.lanes=536870912,null;$i(n)}return P=c.children,c=c.fallback,m?(Na(),m=n.mode,P=Ku({mode:"hidden",children:P},m),c=si(c,m,a,null),P.return=n,c.return=n,P.sibling=c,n.child=P,m=n.child,m.memoizedState=qh(a),m.childLanes=Vh(e,M,a),n.memoizedState=Yh,c):(Ma(n),Kh(n,P))}if(V=e.memoizedState,V!==null&&(P=V.dehydrated,P!==null)){if(v)n.flags&256?(Ma(n),n.flags&=-257,n=Fh(e,n,a)):n.memoizedState!==null?(Na(),n.child=e.child,n.flags|=128,n=null):(Na(),m=c.fallback,P=n.mode,c=Ku({mode:"visible",children:c.children},P),m=si(m,P,a,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,gs(n,e.child,null,a),c=n.child,c.memoizedState=qh(a),c.childLanes=Vh(e,M,a),n.memoizedState=Yh,n=m);else if(Ma(n),jm(P)){if(M=P.nextSibling&&P.nextSibling.dataset,M)var dt=M.dgst;M=dt,c=Error(s(419)),c.stack="",c.digest=M,_a({value:c,source:null,stack:null}),n=Fh(e,n,a)}else if(cn||xo(e,n,a,!1),M=(a&e.childLanes)!==0,cn||M){if(M=De,M!==null&&(c=a&-a,c=(c&42)!==0?1:al(c),c=(c&(M.suspendedLanes|a))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,ya(e,c),cr(M,e,c),tb;P.data==="$?"||hm(),n=Fh(e,n,a)}else P.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=V.treeContext,Rt=Fr(P.nextSibling),Ot=n,Vt=!0,Ae=null,Ie=!1,e!==null&&(h[x++]=B,h[x++]=q,h[x++]=E,B=e.id,q=e.overflow,E=n),n=Kh(n,c.children),n.flags|=4096);return n}return m?(Na(),m=c.fallback,P=n.mode,V=e.child,dt=V.sibling,c=Tr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,dt!==null?m=Tr(dt,m):(m=si(m,P,a,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,P=e.child.memoizedState,P===null?P=qh(a):(V=P.cachePool,V!==null?(dt=tn._currentValue,V=V.parent!==dt?{parent:dt,pool:dt}:V):V=Fp(),P={baseLanes:P.baseLanes|a,cachePool:V}),m.memoizedState=P,m.childLanes=Vh(e,M,a),n.memoizedState=Yh,c):(Ma(n),a=e.child,e=a.sibling,a=Tr(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(M=n.deletions,M===null?(n.deletions=[e],n.flags|=16):M.push(e)),n.child=a,n.memoizedState=null,a)}function Kh(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Bn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Fh(e,n,a){return gs(n,e.child,null,a),e=Kh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ub(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),vo(e.return,n,a)}function Xh(e,n,a,c,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=a,v.tailMode=m)}function db(e,n,a){var c=n.pendingProps,m=c.revealOrder,v=c.tail;if(yn(e,n,c.children,a),c=en.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ub(e,a,n);else if(e.tag===19)ub(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Q(en,c),m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Xh(n,!1,m,a,v);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Zu(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Xh(n,!0,a,null,v);break;case"together":Xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Oa|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(xo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Tr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Tr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Wh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function bS(e,n,a){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),li(n,tn,e.memoizedState.cache),xa();break;case 27:case 5:Et(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:li(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ma(n),n.flags|=128,null):(a&n.child.childLanes)!==0?cb(e,n,a):(Ma(n),e=Ii(e,n,a),e!==null?e.sibling:null);Ma(n);break;case 19:var m=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(xo(e,n,a,!1),c=(a&n.childLanes)!==0),m){if(c)return db(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(en,en.current),c)break;return null;case 22:case 23:return n.lanes=0,ib(e,n,a);case 24:li(n,tn,e.memoizedState.cache)}return Ii(e,n,a)}function fb(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)cn=!0;else{if(!Wh(e,a)&&(n.flags&128)===0)return cn=!1,bS(e,n,a);cn=(e.flags&131072)!==0}else cn=!1,Vt&&(n.flags&1048576)!==0&&gt(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")os(c)?(e=To(c,e),n.tag=1,n=sb(null,n,c,e,a)):(n.tag=0,n=Zh(null,n,c,e,a));else{if(c!=null){if(m=c.$$typeof,m===C){n.tag=11,n=eb(null,n,c,e,a);break t}else if(m===W){n.tag=14,n=nb(null,n,c,e,a);break t}}throw n=lt(c)||c,Error(s(306,n,""))}}return n;case 0:return Zh(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,m=To(c,n.pendingProps),sb(e,n,c,m,a);case 3:t:{if(bt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));c=n.pendingProps;var v=n.memoizedState;m=v.element,xh(e,n),Ol(n,c,null,a);var M=n.memoizedState;if(c=M.cache,li(n,tn,c),c!==v.cache&&ls(n,[tn],a,!0),kl(),c=M.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=lb(e,n,c,a);break t}else if(c!==m){m=Cn(Error(s(424)),n),_a(m),n=lb(e,n,c,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=Fr(e.firstChild),Ot=n,Vt=!0,Ae=null,Ie=!0,a=Zg(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xa(),c===m){n=Ii(e,n,a);break t}yn(e,n,c,a)}n=n.child}return n;case 26:return Vu(e,n),e===null?(a=gy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,c=ld(F.current).createElement(a),c[on]=n,c[wn]=e,xn(c,a,e),Xe(c),n.stateNode=c):n.memoizedState=gy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Et(n),e===null&&Vt&&(c=n.stateNode=hy(n.type,n.pendingProps,F.current),Ot=n,Ie=!0,m=Rt,Ra(n.type)?(km=m,Rt=Fr(c.firstChild)):Rt=m),yn(e,n,n.pendingProps.children,a),Vu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((m=c=Rt)&&(c=YS(c,n.type,n.pendingProps,Ie),c!==null?(n.stateNode=c,Ot=n,Rt=Fr(c.firstChild),Ie=!1,m=!0):m=!1),m||Vn(n)),Et(n),m=n.type,v=n.pendingProps,M=e!==null?e.memoizedProps:null,c=v.children,Nm(m,v)?c=null:M!==null&&Nm(m,M)&&(n.flags|=32),n.memoizedState!==null&&(m=Mh(e,n,cS,null,null,a),tc._currentValue=m),Vu(e,n),yn(e,n,c,a),n.child;case 6:return e===null&&Vt&&((e=a=Rt)&&(a=qS(a,n.pendingProps,Ie),a!==null?(n.stateNode=a,Ot=n,Rt=null,e=!0):e=!1),e||Vn(n)),null;case 13:return cb(e,n,a);case 4:return bt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=gs(n,null,c,a):yn(e,n,c,a),n.child;case 11:return eb(e,n,n.type,n.pendingProps,a);case 7:return yn(e,n,n.pendingProps,a),n.child;case 8:return yn(e,n,n.pendingProps.children,a),n.child;case 12:return yn(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,li(n,n.type,c.value),yn(e,n,c.children,a),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,_o(n),m=Mn(m),c=c(m),n.flags|=1,yn(e,n,c,a),n.child;case 14:return nb(e,n,n.type,n.pendingProps,a);case 15:return rb(e,n,n.type,n.pendingProps,a);case 19:return db(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=Ku(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Tr(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return ib(e,n,a);case 24:return _o(n),c=Mn(tn),e===null?(m=bh(),m===null&&(m=De,v=ph(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=a),m=v),n.memoizedState={parent:c,cache:m},vh(n),li(n,tn,m)):((e.lanes&a)!==0&&(xh(e,n),Ol(n,null,null,a),kl()),m=e.memoizedState,v=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),li(n,tn,c)):(c=v.cache,li(n,tn,c),c!==m.cache&&ls(n,[tn],a,!0))),yn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(e){e.flags|=4}function hb(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_y(n)){if(n=Mr.current,n!==null&&((le&4194048)===le?ci!==null:(le&62914560)!==le&&(le&536870912)===0||n!==ci))throw Dl=yh,Xp;e.flags|=8192}}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ir():536870912,e.lanes|=n,xs|=n)}function Hl(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function yS(e,n,a){var c=n.pendingProps;switch(jt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(n),null;case 1:return Ue(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Vr(tn),Mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(yo(n)?Ui(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nu())),Ue(n),null;case 26:return a=n.memoizedState,e===null?(Ui(n),a!==null?(Ue(n),hb(n,a)):(Ue(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ui(n),Ue(n),hb(n,a)):(Ue(n),n.flags&=-16777217):(e.memoizedProps!==c&&Ui(n),Ue(n),n.flags&=-16777217),null;case 27:Lt(n),a=F.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ui(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ue(n),null}e=z.current,yo(n)?Eu(n):(e=hy(m,c,a),n.stateNode=e,Ui(n))}return Ue(n),null;case 5:if(Lt(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ui(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Ue(n),null}if(e=z.current,yo(n))Eu(n);else{switch(m=ld(F.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(a,{is:c.is}):m.createElement(a)}}e[on]=n,e[wn]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(xn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(n)}}return Ue(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Ui(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(e=F.current,yo(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,m=Ot,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[on]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||oy(e.nodeValue,a)),e||Vn(n)}else e=ld(e).createTextNode(c),e[on]=n,n.stateNode=e}return Ue(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=yo(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[on]=n}else xa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ue(n),m=!1}else m=Nu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?($i(n),n):($i(n),null)}if($i(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Fu(n,n.updateQueue),Ue(n),null;case 4:return Mt(),e===null&&Sm(n.stateNode.containerInfo),Ue(n),null;case 10:return Vr(n.type),Ue(n),null;case 19:if(X(en),m=n.memoizedState,m===null)return Ue(n),null;if(c=(n.flags&128)!==0,v=m.rendering,v===null)if(c)Hl(m,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=Zu(e),v!==null){for(n.flags|=128,Hl(m,!1),e=v.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Tl(a,e),a=a.sibling;return Q(en,en.current&1|2),n.child}e=e.sibling}m.tail!==null&&$t()>Qu&&(n.flags|=128,c=!0,Hl(m,!1),n.lanes=4194304)}else{if(!c)if(e=Zu(v),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Hl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Vt)return Ue(n),null}else 2*$t()-m.renderingStartTime>Qu&&a!==536870912&&(n.flags|=128,c=!0,Hl(m,!1),n.lanes=4194304);m.isBackwards?(v.sibling=n.child,n.child=v):(e=m.last,e!==null?e.sibling=v:n.child=v,m.last=v)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=$t(),n.sibling=null,e=en.current,Q(en,c?e&1|2:e&1),n):(Ue(n),null);case 22:case 23:return $i(n),Th(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(Ue(n),n.subtreeFlags&6&&(n.flags|=8192)):Ue(n),a=n.updateQueue,a!==null&&Fu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&X(So),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vr(tn),Ue(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function vS(e,n){switch(jt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vr(tn),Mt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Lt(n),null;case 13:if($i(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(en),null;case 4:return Mt(),null;case 10:return Vr(n.type),null;case 22:case 23:return $i(n),Th(),e!==null&&X(So),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vr(tn),null;case 25:return null;default:return null}}function mb(e,n){switch(jt(n),n.tag){case 3:Vr(tn),Mt();break;case 26:case 27:case 5:Lt(n);break;case 4:Mt();break;case 13:$i(n);break;case 19:X(en);break;case 10:Vr(n.type);break;case 22:case 23:$i(n),Th(),e!==null&&X(So);break;case 24:Vr(tn)}}function $l(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&e)===e){c=void 0;var v=a.create,M=a.inst;c=v(),M.destroy=c}a=a.next}while(a!==m)}}catch(P){Te(n,n.return,P)}}function Aa(e,n,a){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&e)===e){var M=c.inst,P=M.destroy;if(P!==void 0){M.destroy=void 0,m=n;var V=a,dt=P;try{dt()}catch(yt){Te(m,V,yt)}}}c=c.next}while(c!==v)}}catch(yt){Te(n,n.return,yt)}}function pb(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ng(n,a)}catch(c){Te(e,e.return,c)}}}function gb(e,n,a){a.props=To(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){Te(e,n,c)}}function Il(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(m){Te(e,n,m)}}function ui(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){Te(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Te(e,n,m)}else a.current=null}function bb(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){Te(e,e.return,m)}}function Qh(e,n,a){try{var c=e.stateNode;$S(c,e.type,a,n),c[wn]=n}catch(m){Te(e,e.return,m)}}function yb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ra(e.type)||e.tag===4}function Jh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tm(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=sd));else if(c!==4&&(c===27&&Ra(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(tm(e,n,a),e=e.sibling;e!==null;)tm(e,n,a),e=e.sibling}function Xu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&Ra(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xu(e,n,a),e=e.sibling;e!==null;)Xu(e,n,a),e=e.sibling}function vb(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);xn(n,c,a),n[on]=e,n[wn]=a}catch(v){Te(e,e.return,v)}}var Gi=!1,Fe=!1,em=!1,xb=typeof WeakSet=="function"?WeakSet:Set,un=null;function xS(e,n){if(e=e.containerInfo,Em=md,e=uo(e),fo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break t}var M=0,P=-1,V=-1,dt=0,yt=0,wt=e,mt=null;e:for(;;){for(var pt;wt!==a||m!==0&&wt.nodeType!==3||(P=M+m),wt!==v||c!==0&&wt.nodeType!==3||(V=M+c),wt.nodeType===3&&(M+=wt.nodeValue.length),(pt=wt.firstChild)!==null;)mt=wt,wt=pt;for(;;){if(wt===e)break e;if(mt===a&&++dt===m&&(P=M),mt===v&&++yt===c&&(V=M),(pt=wt.nextSibling)!==null)break;wt=mt,mt=wt.parentNode}wt=pt}a=P===-1||V===-1?null:{start:P,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mm={focusedElem:e,selectionRange:a},md=!1,un=n;un!==null;)if(n=un,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,un=e;else for(;un!==null;){switch(n=un,v=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,a=n,m=v.memoizedProps,v=v.memoizedState,c=a.stateNode;try{var Zt=To(a.type,m,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Zt,v),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ut){Te(a,a.return,Ut)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Dm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,un=e;break}un=n.return}}function _b(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Da(e,a),c&4&&$l(5,a);break;case 1:if(Da(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(M){Te(a,a.return,M)}else{var m=To(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(M){Te(a,a.return,M)}}c&64&&pb(a),c&512&&Il(a,a.return);break;case 3:if(Da(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ng(e,n)}catch(M){Te(a,a.return,M)}}break;case 27:n===null&&c&4&&vb(a);case 26:case 5:Da(e,a),n===null&&c&4&&bb(a),c&512&&Il(a,a.return);break;case 12:Da(e,a);break;case 13:Da(e,a),c&4&&Tb(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=DS.bind(null,a),VS(e,a))));break;case 22:if(c=a.memoizedState!==null||Gi,!c){n=n!==null&&n.memoizedState!==null||Fe,m=Gi;var v=Fe;Gi=c,(Fe=n)&&!v?ja(e,a,(a.subtreeFlags&8772)!==0):Da(e,a),Gi=m,Fe=v}break;case 30:break;default:Da(e,a)}}function Sb(e){var n=e.alternate;n!==null&&(e.alternate=null,Sb(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Go(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Fn=!1;function Zi(e,n,a){for(a=a.child;a!==null;)wb(e,n,a),a=a.sibling}function wb(e,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(je,a)}catch{}switch(a.tag){case 26:Fe||ui(a,n),Zi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||ui(a,n);var c=Pe,m=Fn;Ra(a.type)&&(Pe=a.stateNode,Fn=!1),Zi(e,n,a),Xl(a.stateNode),Pe=c,Fn=m;break;case 5:Fe||ui(a,n);case 6:if(c=Pe,m=Fn,Pe=null,Zi(e,n,a),Pe=c,Fn=m,Pe!==null)if(Fn)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(a.stateNode)}catch(v){Te(a,n,v)}else try{Pe.removeChild(a.stateNode)}catch(v){Te(a,n,v)}break;case 18:Pe!==null&&(Fn?(e=Pe,dy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ic(e)):dy(Pe,a.stateNode));break;case 4:c=Pe,m=Fn,Pe=a.stateNode.containerInfo,Fn=!0,Zi(e,n,a),Pe=c,Fn=m;break;case 0:case 11:case 14:case 15:Fe||Aa(2,a,n),Fe||Aa(4,a,n),Zi(e,n,a);break;case 1:Fe||(ui(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&gb(a,n,c)),Zi(e,n,a);break;case 21:Zi(e,n,a);break;case 22:Fe=(c=Fe)||a.memoizedState!==null,Zi(e,n,a),Fe=c;break;default:Zi(e,n,a)}}function Tb(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ic(e)}catch(a){Te(n,n.return,a)}}function _S(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xb),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xb),n;default:throw Error(s(435,e.tag))}}function nm(e,n){var a=_S(e);n.forEach(function(c){var m=jS.bind(null,e,c);a.has(c)||(a.add(c),c.then(m,m))})}function ar(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],v=e,M=n,P=M;t:for(;P!==null;){switch(P.tag){case 27:if(Ra(P.type)){Pe=P.stateNode,Fn=!1;break t}break;case 5:Pe=P.stateNode,Fn=!1;break t;case 3:case 4:Pe=P.stateNode.containerInfo,Fn=!0;break t}P=P.return}if(Pe===null)throw Error(s(160));wb(v,M,m),Pe=null,Fn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Eb(n,e),n=n.sibling}var Kr=null;function Eb(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ar(n,e),or(e),c&4&&(Aa(3,e,e.return),$l(3,e),Aa(5,e,e.return));break;case 1:ar(n,e),or(e),c&512&&(Fe||a===null||ui(a,a.return)),c&64&&Gi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=Kr;if(ar(n,e),or(e),c&512&&(Fe||a===null||ui(a,a.return)),c&4){var v=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Ji]||v[on]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),xn(v,c,a),v[on]=e,Xe(v),c=v;break t;case"link":var M=vy("link","href",m).get(c+(a.href||""));if(M){for(var P=0;P<M.length;P++)if(v=M[P],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){M.splice(P,1);break e}}v=m.createElement(c),xn(v,c,a),m.head.appendChild(v);break;case"meta":if(M=vy("meta","content",m).get(c+(a.content||""))){for(P=0;P<M.length;P++)if(v=M[P],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){M.splice(P,1);break e}}v=m.createElement(c),xn(v,c,a),m.head.appendChild(v);break;default:throw Error(s(468,c))}v[on]=e,Xe(v),c=v}e.stateNode=c}else xy(m,e.type,e.stateNode);else e.stateNode=yy(m,c,e.memoizedProps);else v!==c?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,c===null?xy(m,e.type,e.stateNode):yy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Qh(e,e.memoizedProps,a.memoizedProps)}break;case 27:ar(n,e),or(e),c&512&&(Fe||a===null||ui(a,a.return)),a!==null&&c&4&&Qh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ar(n,e),or(e),c&512&&(Fe||a===null||ui(a,a.return)),e.flags&32){m=e.stateNode;try{vr(m,"")}catch(pt){Te(e,e.return,pt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Qh(e,m,a!==null?a.memoizedProps:m)),c&1024&&(em=!0);break;case 6:if(ar(n,e),or(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(pt){Te(e,e.return,pt)}}break;case 3:if(dd=null,m=Kr,Kr=cd(n.containerInfo),ar(n,e),Kr=m,or(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ic(n.containerInfo)}catch(pt){Te(e,e.return,pt)}em&&(em=!1,Mb(e));break;case 4:c=Kr,Kr=cd(e.stateNode.containerInfo),ar(n,e),or(e),Kr=c;break;case 12:ar(n,e),or(e);break;case 13:ar(n,e),or(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lm=$t()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nm(e,c)));break;case 22:m=e.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,dt=Gi,yt=Fe;if(Gi=dt||m,Fe=yt||V,ar(n,e),Fe=yt,Gi=dt,or(e),c&8192)t:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||V||Gi||Fe||Eo(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){V=a=n;try{if(v=V.stateNode,m)M=v.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{P=V.stateNode;var wt=V.memoizedProps.style,mt=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;P.style.display=mt==null||typeof mt=="boolean"?"":(""+mt).trim()}}catch(pt){Te(V,V.return,pt)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(pt){Te(V,V.return,pt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,nm(e,a))));break;case 19:ar(n,e),or(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nm(e,c)));break;case 30:break;case 21:break;default:ar(n,e),or(e)}}function or(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(yb(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,v=Jh(e);Xu(e,v,m);break;case 5:var M=a.stateNode;a.flags&32&&(vr(M,""),a.flags&=-33);var P=Jh(e);Xu(e,P,M);break;case 3:case 4:var V=a.stateNode.containerInfo,dt=Jh(e);tm(e,dt,V);break;default:throw Error(s(161))}}catch(yt){Te(e,e.return,yt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mb(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Da(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_b(e,n.alternate,n),n=n.sibling}function Eo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Aa(4,n,n.return),Eo(n);break;case 1:ui(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&gb(n,n.return,a),Eo(n);break;case 27:Xl(n.stateNode);case 26:case 5:ui(n,n.return),Eo(n);break;case 22:n.memoizedState===null&&Eo(n);break;case 30:Eo(n);break;default:Eo(n)}e=e.sibling}}function ja(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,v=n,M=v.flags;switch(v.tag){case 0:case 11:case 15:ja(m,v,a),$l(4,v);break;case 1:if(ja(m,v,a),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(dt){Te(c,c.return,dt)}if(c=v,m=c.updateQueue,m!==null){var P=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)eg(V[m],P)}catch(dt){Te(c,c.return,dt)}}a&&M&64&&pb(v),Il(v,v.return);break;case 27:vb(v);case 26:case 5:ja(m,v,a),a&&c===null&&M&4&&bb(v),Il(v,v.return);break;case 12:ja(m,v,a);break;case 13:ja(m,v,a),a&&M&4&&Tb(m,v);break;case 22:v.memoizedState===null&&ja(m,v,a),Il(v,v.return);break;case 30:break;default:ja(m,v,a)}n=n.sibling}}function rm(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ml(a))}function im(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e))}function di(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nb(e,n,a,c),n=n.sibling}function Nb(e,n,a,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:di(e,n,a,c),m&2048&&$l(9,n);break;case 1:di(e,n,a,c);break;case 3:di(e,n,a,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e)));break;case 12:if(m&2048){di(e,n,a,c),e=n.stateNode;try{var v=n.memoizedProps,M=v.id,P=v.onPostCommit;typeof P=="function"&&P(M,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Te(n,n.return,V)}}else di(e,n,a,c);break;case 13:di(e,n,a,c);break;case 23:break;case 22:v=n.stateNode,M=n.alternate,n.memoizedState!==null?v._visibility&2?di(e,n,a,c):Ul(e,n):v._visibility&2?di(e,n,a,c):(v._visibility|=2,bs(e,n,a,c,(n.subtreeFlags&10256)!==0)),m&2048&&rm(M,n);break;case 24:di(e,n,a,c),m&2048&&im(n.alternate,n);break;default:di(e,n,a,c)}}function bs(e,n,a,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var v=e,M=n,P=a,V=c,dt=M.flags;switch(M.tag){case 0:case 11:case 15:bs(v,M,P,V,m),$l(8,M);break;case 23:break;case 22:var yt=M.stateNode;M.memoizedState!==null?yt._visibility&2?bs(v,M,P,V,m):Ul(v,M):(yt._visibility|=2,bs(v,M,P,V,m)),m&&dt&2048&&rm(M.alternate,M);break;case 24:bs(v,M,P,V,m),m&&dt&2048&&im(M.alternate,M);break;default:bs(v,M,P,V,m)}n=n.sibling}}function Ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,m=c.flags;switch(c.tag){case 22:Ul(a,c),m&2048&&rm(c.alternate,c);break;case 24:Ul(a,c),m&2048&&im(c.alternate,c);break;default:Ul(a,c)}n=n.sibling}}var Gl=8192;function ys(e){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)Ab(e),e=e.sibling}function Ab(e){switch(e.tag){case 26:ys(e),e.flags&Gl&&e.memoizedState!==null&&ow(Kr,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var n=Kr;Kr=cd(e.stateNode.containerInfo),ys(e),Kr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Gl,Gl=16777216,ys(e),Gl=n):ys(e));break;default:ys(e)}}function Db(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];un=c,kb(c,e)}Db(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jb(e),e=e.sibling}function jb(e){switch(e.tag){case 0:case 11:case 15:Zl(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:Zl(e);break;case 12:Zl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):Zl(e);break;default:Zl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];un=c,kb(c,e)}Db(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Aa(8,n,n.return),Wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function kb(e,n){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:Aa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ml(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,un=c;else t:for(a=e;un!==null;){c=un;var m=c.sibling,v=c.return;if(Sb(c),c===a){un=null;break t}if(m!==null){m.return=v,un=m;break t}un=v}}}var SS={getCacheForType:function(e){var n=Mn(tn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},wS=typeof WeakMap=="function"?WeakMap:Map,ge=0,De=null,ne=null,le=0,be=0,sr=null,ka=!1,vs=!1,am=!1,Yi=0,qe=0,Oa=0,Mo=0,om=0,Nr=0,xs=0,Yl=null,Xn=null,sm=!1,lm=0,Qu=1/0,Ju=null,Ca=null,vn=0,La=null,_s=null,Ss=0,cm=0,um=null,Ob=null,ql=0,dm=null;function lr(){if((ge&2)!==0&&le!==0)return le&-le;if(K.T!==null){var e=cs;return e!==0?e:ym()}return tu()}function Cb(){Nr===0&&(Nr=(le&536870912)===0||Vt?Wa():536870912);var e=Mr.current;return e!==null&&(e.flags|=32),Nr}function cr(e,n,a){(e===De&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(ws(e,0),Ba(e,le,Nr,!1)),yi(e,a),((ge&2)===0||e!==De)&&(e===De&&((ge&2)===0&&(Mo|=a),qe===4&&Ba(e,le,Nr,!1)),fi(e))}function Lb(e,n,a){if((ge&6)!==0)throw Error(s(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Gn(e,n),m=c?MS(e,n):mm(e,n,!0),v=c;do{if(m===0){vs&&!c&&Ba(e,n,0,!1);break}else{if(a=e.current.alternate,v&&!TS(a)){m=mm(e,n,!1),v=!1;continue}if(m===2){if(v=n,e.errorRecoveryDisabledLanes&v)var M=0;else M=e.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;t:{var P=e;m=Yl;var V=P.current.memoizedState.isDehydrated;if(V&&(ws(P,M).flags|=256),M=mm(P,M,!1),M!==2){if(am&&!V){P.errorRecoveryDisabledLanes|=v,Mo|=v,m=4;break t}v=Xn,Xn=m,v!==null&&(Xn===null?Xn=v:Xn.push.apply(Xn,v))}m=M}if(v=!1,m!==2)continue}}if(m===1){ws(e,0),Ba(e,n,0,!0);break}t:{switch(c=e,v=m,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ba(c,n,Nr,!ka);break t;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=lm+300-$t(),10<m)){if(Ba(c,n,Nr,!ka),$r(c,0,!0)!==0)break t;c.timeoutHandle=cy(Bb.bind(null,c,a,Xn,Ju,sm,n,Nr,Mo,xs,ka,v,2,-0,0),m);break t}Bb(c,a,Xn,Ju,sm,n,Nr,Mo,xs,ka,v,0,-0,0)}}break}while(!0);fi(e)}function Bb(e,n,a,c,m,v,M,P,V,dt,yt,wt,mt,pt){if(e.timeoutHandle=-1,wt=n.subtreeFlags,(wt&8192||(wt&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:aw},Ab(n),wt=sw(),wt!==null)){e.cancelPendingCommit=wt(Ub.bind(null,e,n,v,a,c,m,M,P,V,yt,1,mt,pt)),Ba(e,v,M,!dt);return}Ub(e,n,v,a,c,m,M,P,V)}function TS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],v=m.getSnapshot;m=m.value;try{if(!kn(v(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ba(e,n,a,c){n&=~om,n&=~Mo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var v=31-Be(m),M=1<<v;c[v]=-1,m&=~M}a!==0&&Qa(e,a,n)}function td(){return(ge&6)===0?(Vl(0),!1):!0}function fm(){if(ne!==null){if(be===0)var e=ne.return;else e=ne,qr=Er=null,Dh(e),ps=null,Pl=0,e=ne;for(;e!==null;)mb(e.alternate,e),e=e.return;ne=null}}function ws(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,US(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fm(),De=e,ne=a=Tr(e.current,null),le=n,be=0,sr=null,ka=!1,vs=Gn(e,n),am=!1,xs=Nr=om=Mo=Oa=qe=0,Xn=Yl=null,sm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-Be(c),v=1<<m;n|=e[m],c&=~v}return Yi=n,mo(),a}function Rb(e,n){Qt=null,K.H=Iu,n===Al||n===ku?(n=Jp(),be=3):n===Xp?(n=Jp(),be=4):be=n===tb?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sr=n,ne===null&&(qe=1,qu(e,Cn(n,e.current)))}function Pb(){var e=K.H;return K.H=Iu,e===null?Iu:e}function zb(){var e=K.A;return K.A=SS,e}function hm(){qe=4,ka||(le&4194048)!==le&&Mr.current!==null||(vs=!0),(Oa&134217727)===0&&(Mo&134217727)===0||De===null||Ba(De,le,Nr,!1)}function mm(e,n,a){var c=ge;ge|=2;var m=Pb(),v=zb();(De!==e||le!==n)&&(Ju=null,ws(e,n)),n=!1;var M=qe;t:do try{if(be!==0&&ne!==null){var P=ne,V=sr;switch(be){case 8:fm(),M=6;break t;case 3:case 2:case 9:case 6:Mr.current===null&&(n=!0);var dt=be;if(be=0,sr=null,Ts(e,P,V,dt),a&&vs){M=0;break t}break;default:dt=be,be=0,sr=null,Ts(e,P,V,dt)}}ES(),M=qe;break}catch(yt){Rb(e,yt)}while(!0);return n&&e.shellSuspendCounter++,qr=Er=null,ge=c,K.H=m,K.A=v,ne===null&&(De=null,le=0,mo()),M}function ES(){for(;ne!==null;)Hb(ne)}function MS(e,n){var a=ge;ge|=2;var c=Pb(),m=zb();De!==e||le!==n?(Ju=null,Qu=$t()+500,ws(e,n)):vs=Gn(e,n);t:do try{if(be!==0&&ne!==null){n=ne;var v=sr;e:switch(be){case 1:be=0,sr=null,Ts(e,n,v,1);break;case 2:case 9:if(Wp(v)){be=0,sr=null,$b(n);break}n=function(){be!==2&&be!==9||De!==e||(be=7),fi(e)},v.then(n,n);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:Wp(v)?(be=0,sr=null,$b(n)):(be=0,sr=null,Ts(e,n,v,7));break;case 5:var M=null;switch(ne.tag){case 26:M=ne.memoizedState;case 5:case 27:var P=ne;if(!M||_y(M)){be=0,sr=null;var V=P.sibling;if(V!==null)ne=V;else{var dt=P.return;dt!==null?(ne=dt,ed(dt)):ne=null}break e}}be=0,sr=null,Ts(e,n,v,5);break;case 6:be=0,sr=null,Ts(e,n,v,6);break;case 8:fm(),qe=6;break t;default:throw Error(s(462))}}NS();break}catch(yt){Rb(e,yt)}while(!0);return qr=Er=null,K.H=c,K.A=m,ge=a,ne!==null?0:(De=null,le=0,mo(),qe)}function NS(){for(;ne!==null&&!It();)Hb(ne)}function Hb(e){var n=fb(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?ed(e):ne=n}function $b(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ob(a,n,n.pendingProps,n.type,void 0,le);break;case 11:n=ob(a,n,n.pendingProps,n.type.render,n.ref,le);break;case 5:Dh(n);default:mb(a,n),n=ne=Tl(n,Yi),n=fb(a,n,Yi)}e.memoizedProps=e.pendingProps,n===null?ed(e):ne=n}function Ts(e,n,a,c){qr=Er=null,Dh(n),ps=null,Pl=0;var m=n.return;try{if(gS(e,m,n,a,le)){qe=1,qu(e,Cn(a,e.current)),ne=null;return}}catch(v){if(m!==null)throw ne=m,v;qe=1,qu(e,Cn(a,e.current)),ne=null;return}n.flags&32768?(Vt||c===1?e=!0:vs||(le&536870912)!==0?e=!1:(ka=e=!0,(c===2||c===9||c===3||c===6)&&(c=Mr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ib(n,e)):ed(n)}function ed(e){var n=e;do{if((n.flags&32768)!==0){Ib(n,ka);return}e=n.return;var a=yS(n.alternate,n,Yi);if(a!==null){ne=a;return}if(n=n.sibling,n!==null){ne=n;return}ne=n=e}while(n!==null);qe===0&&(qe=5)}function Ib(e,n){do{var a=vS(e.alternate,e);if(a!==null){a.flags&=32767,ne=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ne=e;return}ne=e=a}while(e!==null);qe=6,ne=null}function Ub(e,n,a,c,m,v,M,P,V){e.cancelPendingCommit=null;do nd();while(vn!==0);if((ge&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=ir,il(e,a,v,M,P,V),e===De&&(ne=De=null,le=0),_s=n,La=e,Ss=a,cm=v,um=m,Ob=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kS(vt,function(){return Vb(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,m=rt.p,rt.p=2,M=ge,ge|=4;try{xS(e,n,a)}finally{ge=M,rt.p=m,K.T=c}}vn=1,Gb(),Zb(),Yb()}}function Gb(){if(vn===1){vn=0;var e=La,n=_s,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var c=rt.p;rt.p=2;var m=ge;ge|=4;try{Eb(n,e);var v=Mm,M=uo(e.containerInfo),P=v.focusedElem,V=v.selectionRange;if(M!==P&&P&&P.ownerDocument&&es(P.ownerDocument.documentElement,P)){if(V!==null&&fo(P)){var dt=V.start,yt=V.end;if(yt===void 0&&(yt=dt),"selectionStart"in P)P.selectionStart=dt,P.selectionEnd=Math.min(yt,P.value.length);else{var wt=P.ownerDocument||document,mt=wt&&wt.defaultView||window;if(mt.getSelection){var pt=mt.getSelection(),Zt=P.textContent.length,Ut=Math.min(V.start,Zt),xe=V.end===void 0?Ut:Math.min(V.end,Zt);!pt.extend&&Ut>xe&&(M=xe,xe=Ut,Ut=M);var it=Sl(P,Ut),J=Sl(P,xe);if(it&&J&&(pt.rangeCount!==1||pt.anchorNode!==it.node||pt.anchorOffset!==it.offset||pt.focusNode!==J.node||pt.focusOffset!==J.offset)){var ut=wt.createRange();ut.setStart(it.node,it.offset),pt.removeAllRanges(),Ut>xe?(pt.addRange(ut),pt.extend(J.node,J.offset)):(ut.setEnd(J.node,J.offset),pt.addRange(ut))}}}}for(wt=[],pt=P;pt=pt.parentNode;)pt.nodeType===1&&wt.push({element:pt,left:pt.scrollLeft,top:pt.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<wt.length;P++){var _t=wt[P];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}md=!!Em,Mm=Em=null}finally{ge=m,rt.p=c,K.T=a}}e.current=n,vn=2}}function Zb(){if(vn===2){vn=0;var e=La,n=_s,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var c=rt.p;rt.p=2;var m=ge;ge|=4;try{_b(e,n.alternate,n)}finally{ge=m,rt.p=c,K.T=a}}vn=3}}function Yb(){if(vn===4||vn===3){vn=0,ee();var e=La,n=_s,a=Ss,c=Ob;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vn=5:(vn=0,_s=La=null,qb(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ca=null),ol(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=K.T,m=rt.p,rt.p=2,K.T=null;try{for(var v=e.onRecoverableError,M=0;M<c.length;M++){var P=c[M];v(P.value,{componentStack:P.stack})}}finally{K.T=n,rt.p=m}}(Ss&3)!==0&&nd(),fi(e),m=e.pendingLanes,(a&4194090)!==0&&(m&42)!==0?e===dm?ql++:(ql=0,dm=e):ql=0,Vl(0)}}function qb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ml(n)))}function nd(e){return Gb(),Zb(),Yb(),Vb()}function Vb(){if(vn!==5)return!1;var e=La,n=cm;cm=0;var a=ol(Ss),c=K.T,m=rt.p;try{rt.p=32>a?32:a,K.T=null,a=um,um=null;var v=La,M=Ss;if(vn=0,_s=La=null,Ss=0,(ge&6)!==0)throw Error(s(331));var P=ge;if(ge|=4,jb(v.current),Nb(v,v.current,M,a),ge=P,Vl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(je,v)}catch{}return!0}finally{rt.p=m,K.T=c,qb(e,n)}}function Kb(e,n,a){n=Cn(a,n),n=Gh(e.stateNode,n,2),e=Ta(e,n,2),e!==null&&(yi(e,2),fi(e))}function Te(e,n,a){if(e.tag===3)Kb(e,e,a);else for(;n!==null;){if(n.tag===3){Kb(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))){e=Cn(a,e),a=Qg(2),c=Ta(n,a,2),c!==null&&(Jg(a,c,n,e),yi(c,2),fi(c));break}}n=n.return}}function pm(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new wS;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(a)||(am=!0,m.add(a),e=AS.bind(null,e,n,a),n.then(e,e))}function AS(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(le&a)===a&&(qe===4||qe===3&&(le&62914560)===le&&300>$t()-lm?(ge&2)===0&&ws(e,0):om|=a,xs===le&&(xs=0)),fi(e)}function Fb(e,n){n===0&&(n=Ir()),e=ya(e,n),e!==null&&(yi(e,n),fi(e))}function DS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Fb(e,a)}function jS(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(n),Fb(e,a)}function kS(e,n){return St(e,n)}var rd=null,Es=null,gm=!1,id=!1,bm=!1,No=0;function fi(e){e!==Es&&e.next===null&&(Es===null?rd=Es=e:Es=Es.next=e),id=!0,gm||(gm=!0,CS())}function Vl(e,n){if(!bm&&id){bm=!0;do for(var a=!1,c=rd;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var M=c.suspendedLanes,P=c.pingedLanes;v=(1<<31-Be(42|e)+1)-1,v&=m&~(M&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Jb(c,v))}else v=le,v=$r(c,c===De?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Gn(c,v)||(a=!0,Jb(c,v));c=c.next}while(a);bm=!1}}function OS(){Xb()}function Xb(){id=gm=!1;var e=0;No!==0&&(IS()&&(e=No),No=0);for(var n=$t(),a=null,c=rd;c!==null;){var m=c.next,v=Wb(c,n);v===0?(c.next=null,a===null?rd=m:a.next=m,m===null&&(Es=a)):(a=c,(e!==0||(v&3)!==0)&&(id=!0)),c=m}Vl(e)}function Wb(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var M=31-Be(v),P=1<<M,V=m[M];V===-1?((P&a)===0||(P&c)!==0)&&(m[M]=rl(P,n)):V<=n&&(e.expiredLanes|=P),v&=~P}if(n=De,a=le,a=$r(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&kt(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&kt(c),ol(a)){case 2:case 8:a=Bt;break;case 32:a=vt;break;case 268435456:a=He;break;default:a=vt}return c=Qb.bind(null,e),a=St(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&kt(c),e.callbackPriority=2,e.callbackNode=null,2}function Qb(e,n){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(nd()&&e.callbackNode!==a)return null;var c=le;return c=$r(e,e===De?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Lb(e,c,n),Wb(e,$t()),e.callbackNode!=null&&e.callbackNode===a?Qb.bind(null,e):null)}function Jb(e,n){if(nd())return null;Lb(e,n,!0)}function CS(){GS(function(){(ge&6)!==0?St(xt,OS):Xb()})}function ym(){return No===0&&(No=Wa()),No}function ty(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function ey(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function LS(e,n,a,c,m){if(n==="submit"&&a&&a.stateNode===m){var v=ty((m[wn]||null).action),M=c.submitter;M&&(n=(n=M[wn]||null)?ty(n.formAction):M.getAttribute("formAction"),n!==null&&(v=n,M=null));var P=new ao("action","action",null,c,m);e.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(No!==0){var V=M?ey(m,M):new FormData(m);zh(a,{pending:!0,data:V,method:m.method,action:v},null,V)}}else typeof v=="function"&&(P.preventDefault(),V=M?ey(m,M):new FormData(m),zh(a,{pending:!0,data:V,method:m.method,action:v},v,V))},currentTarget:m}]})}}for(var vm=0;vm<Li.length;vm++){var xm=Li[vm],BS=xm.toLowerCase(),RS=xm[0].toUpperCase()+xm.slice(1);rr(BS,"on"+RS)}rr(Su,"onAnimationEnd"),rr(nr,"onAnimationIteration"),rr(ho,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(hh,"onTransitionRun"),rr(as,"onTransitionStart"),rr(mh,"onTransitionCancel"),rr(wl,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function ny(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],m=c.event;c=c.listeners;t:{var v=void 0;if(n)for(var M=c.length-1;0<=M;M--){var P=c[M],V=P.instance,dt=P.currentTarget;if(P=P.listener,V!==v&&m.isPropagationStopped())break t;v=P,m.currentTarget=dt;try{v(m)}catch(yt){Yu(yt)}m.currentTarget=null,v=V}else for(M=0;M<c.length;M++){if(P=c[M],V=P.instance,dt=P.currentTarget,P=P.listener,V!==v&&m.isPropagationStopped())break t;v=P,m.currentTarget=dt;try{v(m)}catch(yt){Yu(yt)}m.currentTarget=null,v=V}}}}function re(e,n){var a=n[Yn];a===void 0&&(a=n[Yn]=new Set);var c=e+"__bubble";a.has(c)||(ry(n,e,2,!1),a.add(c))}function _m(e,n,a){var c=0;n&&(c|=4),ry(a,e,c,n)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Sm(e){if(!e[ad]){e[ad]=!0,nu.forEach(function(a){a!=="selectionchange"&&(PS.has(a)||_m(a,!1,e),_m(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ad]||(n[ad]=!0,_m("selectionchange",!1,n))}}function ry(e,n,a,c){switch(Ny(n)){case 2:var m=uw;break;case 8:m=dw;break;default:m=Rm}a=m.bind(null,n,a,e),m=void 0,!io||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function wm(e,n,a,c,m){var v=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var P=c.stateNode.containerInfo;if(P===m)break;if(M===4)for(M=c.return;M!==null;){var V=M.tag;if((V===3||V===4)&&M.stateNode.containerInfo===m)return;M=M.return}for(;P!==null;){if(M=ei(P),M===null)return;if(V=M.tag,V===5||V===6||V===26||V===27){c=v=M;continue t}P=P.parentNode}}c=c.return}Qn(function(){var dt=v,yt=oa(a),wt=[];t:{var mt=wu.get(e);if(mt!==void 0){var pt=ao,Zt=e;switch(e){case"keypress":if(Ye(a)===0)break t;case"keydown":case"keyup":pt=ah;break;case"focusin":Zt="focus",pt=hl;break;case"focusout":Zt="blur",pt=hl;break;case"beforeblur":case"afterblur":pt=hl;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=sh;break;case Su:case nr:case ho:pt=eh;break;case wl:pt=lh;break;case"scroll":case"scrollend":pt=Jf;break;case"wheel":pt=hu;break;case"copy":case"cut":case"paste":pt=ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=gl;break;case"toggle":case"beforetoggle":pt=ji}var Ut=(n&4)!==0,xe=!Ut&&(e==="scroll"||e==="scrollend"),it=Ut?mt!==null?mt+"Capture":null:mt;Ut=[];for(var J=dt,ut;J!==null;){var _t=J;if(ut=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||ut===null||it===null||(_t=fe(J,it),_t!=null&&Ut.push(Fl(J,_t,ut))),xe)break;J=J.return}0<Ut.length&&(mt=new pt(mt,Zt,null,a,yt),wt.push({event:mt,listeners:Ut}))}}if((n&7)===0){t:{if(mt=e==="mouseover"||e==="pointerover",pt=e==="mouseout"||e==="pointerout",mt&&a!==ro&&(Zt=a.relatedTarget||a.fromElement)&&(ei(Zt)||Zt[Qi]))break t;if((pt||mt)&&(mt=yt.window===yt?yt:(mt=yt.ownerDocument)?mt.defaultView||mt.parentWindow:window,pt?(Zt=a.relatedTarget||a.toElement,pt=dt,Zt=Zt?ei(Zt):null,Zt!==null&&(xe=d(Zt),Ut=Zt.tag,Zt!==xe||Ut!==5&&Ut!==27&&Ut!==6)&&(Zt=null)):(pt=null,Zt=dt),pt!==Zt)){if(Ut=ca,_t="onMouseLeave",it="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Ut=gl,_t="onPointerLeave",it="onPointerEnter",J="pointer"),xe=pt==null?mt:yr(pt),ut=Zt==null?mt:yr(Zt),mt=new Ut(_t,J+"leave",pt,a,yt),mt.target=xe,mt.relatedTarget=ut,_t=null,ei(yt)===dt&&(Ut=new Ut(it,J+"enter",Zt,a,yt),Ut.target=ut,Ut.relatedTarget=xe,_t=Ut),xe=_t,pt&&Zt)e:{for(Ut=pt,it=Zt,J=0,ut=Ut;ut;ut=Ms(ut))J++;for(ut=0,_t=it;_t;_t=Ms(_t))ut++;for(;0<J-ut;)Ut=Ms(Ut),J--;for(;0<ut-J;)it=Ms(it),ut--;for(;J--;){if(Ut===it||it!==null&&Ut===it.alternate)break e;Ut=Ms(Ut),it=Ms(it)}Ut=null}else Ut=null;pt!==null&&iy(wt,mt,pt,Ut,!1),Zt!==null&&xe!==null&&iy(wt,xe,Zt,Ut,!0)}}t:{if(mt=dt?yr(dt):window,pt=mt.nodeName&&mt.nodeName.toLowerCase(),pt==="select"||pt==="input"&&mt.type==="file")var Ct=fa;else if(Oi(mt))if(vl)Ct=fh;else{Ct=dh;var te=_l}else pt=mt.nodeName,!pt||pt.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?dt&&no(dt.elementType)&&(Ct=fa):Ct=Yr;if(Ct&&(Ct=Ct(e,dt))){yu(wt,Ct,a,yt);break t}te&&te(e,mt,dt),e==="focusout"&&dt&&mt.type==="number"&&dt.memoizedProps.value!=null&&ra(mt,"number",mt.value)}switch(te=dt?yr(dt):window,e){case"focusin":(Oi(te)||te.contentEditable==="true")&&(er=te,pa=dt,Ci=null);break;case"focusout":Ci=pa=er=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,xu(wt,a,yt);break;case"selectionchange":if(ns)break;case"keydown":case"keyup":xu(wt,a,yt)}var zt;if(ki)t:{switch(e){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else ua?Jo(e,a)&&(Gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Gt="onCompositionStart");Gt&&(yl&&a.locale!=="ko"&&(ua||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ua&&(zt=la()):(_r=yt,Gr="value"in _r?_r.value:_r.textContent,ua=!0)),te=od(dt,Gt),0<te.length&&(Gt=new Jn(Gt,e,null,a,yt),wt.push({event:Gt,listeners:te}),zt?Gt.data=zt:(zt=gu(a),zt!==null&&(Gt.data=zt)))),(zt=mu?bu(e,a):uh(e,a))&&(Gt=od(dt,"onBeforeInput"),0<Gt.length&&(te=new Jn("onBeforeInput","beforeinput",null,a,yt),wt.push({event:te,listeners:Gt}),te.data=zt)),LS(wt,e,dt,a,yt)}ny(wt,n)})}function Fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function od(e,n){for(var a=n+"Capture",c=[];e!==null;){var m=e,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=fe(e,a),m!=null&&c.unshift(Fl(e,m,v)),m=fe(e,n),m!=null&&c.push(Fl(e,m,v))),e.tag===3)return c;e=e.return}return[]}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function iy(e,n,a,c,m){for(var v=n._reactName,M=[];a!==null&&a!==c;){var P=a,V=P.alternate,dt=P.stateNode;if(P=P.tag,V!==null&&V===c)break;P!==5&&P!==26&&P!==27||dt===null||(V=dt,m?(dt=fe(a,v),dt!=null&&M.unshift(Fl(a,dt,V))):m||(dt=fe(a,v),dt!=null&&M.push(Fl(a,dt,V)))),a=a.return}M.length!==0&&e.push({event:n,listeners:M})}var zS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function ay(e){return(typeof e=="string"?e:""+e).replace(zS,`
`).replace(HS,"")}function oy(e,n){return n=ay(n),ay(e)===n}function sd(){}function ve(e,n,a,c,m,v){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||vr(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&vr(e,""+c);break;case"className":Yo(e,"class",c);break;case"tabIndex":Yo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Yo(e,a,c);break;case"style":ia(e,c,v);break;case"data":if(n!=="object"){Yo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=aa(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(n!=="input"&&ve(e,n,"name",m.name,m,null),ve(e,n,"formEncType",m.formEncType,m,null),ve(e,n,"formMethod",m.formMethod,m,null),ve(e,n,"formTarget",m.formTarget,m,null)):(ve(e,n,"encType",m.encType,m,null),ve(e,n,"method",m.method,m,null),ve(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=aa(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=sd);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":re("beforetoggle",e),re("toggle",e),Zo(e,"popover",c);break;case"xlinkActuate":Ur(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ur(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ur(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ur(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ur(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ur(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ul.get(a)||a,Zo(e,a,c))}}function Tm(e,n,a,c,m,v){switch(a){case"style":ia(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof c=="string"?vr(e,c):(typeof c=="number"||typeof c=="bigint")&&vr(e,""+c);break;case"onScroll":c!=null&&re("scroll",e);break;case"onScrollEnd":c!=null&&re("scrollend",e);break;case"onClick":c!=null&&(e.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ru.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),v=e[wn]||null,v=v!=null?v[a]:null,typeof v=="function"&&e.removeEventListener(n,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,m);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Zo(e,a,c)}}}function xn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var c=!1,m=!1,v;for(v in a)if(a.hasOwnProperty(v)){var M=a[v];if(M!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,v,M,a,null)}}m&&ve(e,n,"srcSet",a.srcSet,a,null),c&&ve(e,n,"src",a.src,a,null);return;case"input":re("invalid",e);var P=v=M=m=null,V=null,dt=null;for(c in a)if(a.hasOwnProperty(c)){var yt=a[c];if(yt!=null)switch(c){case"name":m=yt;break;case"type":M=yt;break;case"checked":V=yt;break;case"defaultChecked":dt=yt;break;case"value":v=yt;break;case"defaultValue":P=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(s(137,n));break;default:ve(e,n,c,yt,a,null)}}au(e,v,P,V,dt,M,m,!1),na(e);return;case"select":re("invalid",e),c=M=v=null;for(m in a)if(a.hasOwnProperty(m)&&(P=a[m],P!=null))switch(m){case"value":v=P;break;case"defaultValue":M=P;break;case"multiple":c=P;default:ve(e,n,m,P,a,null)}n=v,a=M,e.multiple=!!c,n!=null?qn(e,!!c,n,!1):a!=null&&qn(e,!!c,a,!0);return;case"textarea":re("invalid",e),v=m=c=null;for(M in a)if(a.hasOwnProperty(M)&&(P=a[M],P!=null))switch(M){case"value":c=P;break;case"defaultValue":m=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:ve(e,n,M,P,a,null)}ni(e,c,m,v),na(e);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(c=a[V],c!=null))switch(V){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ve(e,n,V,c,a,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(c=0;c<Kl.length;c++)re(Kl[c],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dt in a)if(a.hasOwnProperty(dt)&&(c=a[dt],c!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,dt,c,a,null)}return;default:if(no(n)){for(yt in a)a.hasOwnProperty(yt)&&(c=a[yt],c!==void 0&&Tm(e,n,yt,c,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(c=a[P],c!=null&&ve(e,n,P,c,a,null))}function $S(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,M=null,P=null,V=null,dt=null,yt=null;for(pt in a){var wt=a[pt];if(a.hasOwnProperty(pt)&&wt!=null)switch(pt){case"checked":break;case"value":break;case"defaultValue":V=wt;default:c.hasOwnProperty(pt)||ve(e,n,pt,null,c,wt)}}for(var mt in c){var pt=c[mt];if(wt=a[mt],c.hasOwnProperty(mt)&&(pt!=null||wt!=null))switch(mt){case"type":v=pt;break;case"name":m=pt;break;case"checked":dt=pt;break;case"defaultChecked":yt=pt;break;case"value":M=pt;break;case"defaultValue":P=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(s(137,n));break;default:pt!==wt&&ve(e,n,mt,pt,c,wt)}}Tn(e,M,P,V,dt,yt,v,m);return;case"select":pt=M=P=mt=null;for(v in a)if(V=a[v],a.hasOwnProperty(v)&&V!=null)switch(v){case"value":break;case"multiple":pt=V;default:c.hasOwnProperty(v)||ve(e,n,v,null,c,V)}for(m in c)if(v=c[m],V=a[m],c.hasOwnProperty(m)&&(v!=null||V!=null))switch(m){case"value":mt=v;break;case"defaultValue":P=v;break;case"multiple":M=v;default:v!==V&&ve(e,n,m,v,c,V)}n=P,a=M,c=pt,mt!=null?qn(e,!!a,mt,!1):!!c!=!!a&&(n!=null?qn(e,!!a,n,!0):qn(e,!!a,a?[]:"",!1));return;case"textarea":pt=mt=null;for(P in a)if(m=a[P],a.hasOwnProperty(P)&&m!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ve(e,n,P,null,c,m)}for(M in c)if(m=c[M],v=a[M],c.hasOwnProperty(M)&&(m!=null||v!=null))switch(M){case"value":mt=m;break;case"defaultValue":pt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==v&&ve(e,n,M,m,c,v)}$e(e,mt,pt);return;case"option":for(var Zt in a)if(mt=a[Zt],a.hasOwnProperty(Zt)&&mt!=null&&!c.hasOwnProperty(Zt))switch(Zt){case"selected":e.selected=!1;break;default:ve(e,n,Zt,null,c,mt)}for(V in c)if(mt=c[V],pt=a[V],c.hasOwnProperty(V)&&mt!==pt&&(mt!=null||pt!=null))switch(V){case"selected":e.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:ve(e,n,V,mt,c,pt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in a)mt=a[Ut],a.hasOwnProperty(Ut)&&mt!=null&&!c.hasOwnProperty(Ut)&&ve(e,n,Ut,null,c,mt);for(dt in c)if(mt=c[dt],pt=a[dt],c.hasOwnProperty(dt)&&mt!==pt&&(mt!=null||pt!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(s(137,n));break;default:ve(e,n,dt,mt,c,pt)}return;default:if(no(n)){for(var xe in a)mt=a[xe],a.hasOwnProperty(xe)&&mt!==void 0&&!c.hasOwnProperty(xe)&&Tm(e,n,xe,void 0,c,mt);for(yt in c)mt=c[yt],pt=a[yt],!c.hasOwnProperty(yt)||mt===pt||mt===void 0&&pt===void 0||Tm(e,n,yt,mt,c,pt);return}}for(var it in a)mt=a[it],a.hasOwnProperty(it)&&mt!=null&&!c.hasOwnProperty(it)&&ve(e,n,it,null,c,mt);for(wt in c)mt=c[wt],pt=a[wt],!c.hasOwnProperty(wt)||mt===pt||mt==null&&pt==null||ve(e,n,wt,mt,c,pt)}var Em=null,Mm=null;function ld(e){return e.nodeType===9?e:e.ownerDocument}function sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Am=null;function IS(){var e=window.event;return e&&e.type==="popstate"?e===Am?!1:(Am=e,!0):(Am=null,!1)}var cy=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(e){return uy.resolve(null).then(e).catch(ZS)}:cy;function ZS(e){setTimeout(function(){throw e})}function Ra(e){return e==="head"}function dy(e,n){var a=n,c=0,m=0;do{var v=a.nextSibling;if(e.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"){if(0<c&&8>c){a=c;var M=e.ownerDocument;if(a&1&&Xl(M.documentElement),a&2&&Xl(M.body),a&4)for(a=M.head,Xl(a),M=a.firstChild;M;){var P=M.nextSibling,V=M.nodeName;M[Ji]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&M.rel.toLowerCase()==="stylesheet"||a.removeChild(M),M=P}}if(m===0){e.removeChild(v),ic(n);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:c=a.charCodeAt(0)-48;else c=0;a=v}while(a);ic(n)}function Dm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dm(a),Go(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function YS(e,n,a,c){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ji])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=Fr(e.nextSibling),e===null)break}return null}function qS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fr(e.nextSibling),e===null))return null;return e}function jm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function VS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Fr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var km=null;function fy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function hy(e,n,a){switch(n=ld(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Xl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Go(e)}var Ar=new Map,my=new Set;function cd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=rt.d;rt.d={f:KS,r:FS,D:XS,C:WS,L:QS,m:JS,X:ew,S:tw,M:nw};function KS(){var e=qi.f(),n=td();return e||n}function FS(e){var n=vi(e);n!==null&&n.tag===5&&n.type==="form"?Lg(n):qi.r(e)}var Ns=typeof document>"u"?null:document;function py(e,n,a){var c=Ns;if(c&&typeof n=="string"&&n){var m=gn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),my.has(m)||(my.add(m),e={rel:e,crossOrigin:a,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),xn(n,"link",e),Xe(n),c.head.appendChild(n)))}}function XS(e){qi.D(e),py("dns-prefetch",e,null)}function WS(e,n){qi.C(e,n),py("preconnect",e,n)}function QS(e,n,a){qi.L(e,n,a);var c=Ns;if(c&&e&&n){var m='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+gn(a.imageSizes)+'"]')):m+='[href="'+gn(e)+'"]';var v=m;switch(n){case"style":v=As(e);break;case"script":v=Ds(e)}Ar.has(v)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ar.set(v,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(Wl(v))||n==="script"&&c.querySelector(Ql(v))||(n=c.createElement("link"),xn(n,"link",e),Xe(n),c.head.appendChild(n)))}}function JS(e,n){qi.m(e,n);var a=Ns;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(e)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ds(e)}if(!Ar.has(v)&&(e=S({rel:"modulepreload",href:e},n),Ar.set(v,e),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(v)))return}c=a.createElement("link"),xn(c,"link",e),Xe(c),a.head.appendChild(c)}}}function tw(e,n,a){qi.S(e,n,a);var c=Ns;if(c&&e){var m=xi(c).hoistableStyles,v=As(e);n=n||"default";var M=m.get(v);if(!M){var P={loading:0,preload:null};if(M=c.querySelector(Wl(v)))P.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ar.get(v))&&Om(e,a);var V=M=c.createElement("link");Xe(V),xn(V,"link",e),V._p=new Promise(function(dt,yt){V.onload=dt,V.onerror=yt}),V.addEventListener("load",function(){P.loading|=1}),V.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ud(M,n,c)}M={type:"stylesheet",instance:M,count:1,state:P},m.set(v,M)}}}function ew(e,n){qi.X(e,n);var a=Ns;if(a&&e){var c=xi(a).hoistableScripts,m=Ds(e),v=c.get(m);v||(v=a.querySelector(Ql(m)),v||(e=S({src:e,async:!0},n),(n=Ar.get(m))&&Cm(e,n),v=a.createElement("script"),Xe(v),xn(v,"link",e),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function nw(e,n){qi.M(e,n);var a=Ns;if(a&&e){var c=xi(a).hoistableScripts,m=Ds(e),v=c.get(m);v||(v=a.querySelector(Ql(m)),v||(e=S({src:e,async:!0,type:"module"},n),(n=Ar.get(m))&&Cm(e,n),v=a.createElement("script"),Xe(v),xn(v,"link",e),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function gy(e,n,a,c){var m=(m=F.current)?cd(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=As(a.href),a=xi(m).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=As(a.href);var v=xi(m).hoistableStyles,M=v.get(e);if(M||(m=m.ownerDocument||m,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,M),(v=m.querySelector(Wl(e)))&&!v._p&&(M.instance=v,M.state.loading=5),Ar.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ar.set(e,a),v||rw(m,e,a,M.state))),n&&c===null)throw Error(s(528,""));return M}if(n&&c!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(a),a=xi(m).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function As(e){return'href="'+gn(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function by(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function rw(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),xn(n,"link",a),Xe(n),e.head.appendChild(n))}function Ds(e){return'[src="'+gn(e)+'"]'}function Ql(e){return"script[async]"+e}function yy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(c)return n.instance=c,Xe(c),c;var m=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Xe(c),xn(c,"style",m),ud(c,a.precedence,e),n.instance=c;case"stylesheet":m=As(a.href);var v=e.querySelector(Wl(m));if(v)return n.state.loading|=4,n.instance=v,Xe(v),v;c=by(a),(m=Ar.get(m))&&Om(c,m),v=(e.ownerDocument||e).createElement("link"),Xe(v);var M=v;return M._p=new Promise(function(P,V){M.onload=P,M.onerror=V}),xn(v,"link",c),n.state.loading|=4,ud(v,a.precedence,e),n.instance=v;case"script":return v=Ds(a.src),(m=e.querySelector(Ql(v)))?(n.instance=m,Xe(m),m):(c=a,(m=Ar.get(v))&&(c=S({},a),Cm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Xe(m),xn(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,ud(c,a.precedence,e));return n.instance}function ud(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,M=0;M<c.length;M++){var P=c[M];if(P.dataset.precedence===n)v=P;else if(v!==m)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Om(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dd=null;function vy(e,n,a){if(dd===null){var c=new Map,m=dd=new Map;m.set(a,c)}else m=dd,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var v=a[m];if(!(v[Ji]||v[on]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var M=v.getAttribute(n)||"";M=e+M;var P=c.get(M);P?P.push(v):c.set(M,[v])}}return c}function xy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function iw(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _y(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Jl=null;function aw(){}function ow(e,n,a){if(Jl===null)throw Error(s(475));var c=Jl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=As(a.href),v=e.querySelector(Wl(m));if(v){e=v._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=fd.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=v,Xe(v);return}v=e.ownerDocument||e,a=by(a),(m=Ar.get(m))&&Om(a,m),v=v.createElement("link"),Xe(v);var M=v;M._p=new Promise(function(P,V){M.onload=P,M.onerror=V}),xn(v,"link",a),n.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=fd.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function sw(){if(Jl===null)throw Error(s(475));var e=Jl;return e.stylesheets&&e.count===0&&Lm(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Lm(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fd(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hd=null;function Lm(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hd=new Map,n.forEach(lw,e),hd=null,fd.call(e))}function lw(e,n){if(!(n.state.loading&4)){var a=hd.get(e);if(a)var c=a.get(null);else{a=new Map,hd.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var M=m[v];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(a.set(M.dataset.precedence,M),c=M)}c&&a.set(null,c)}m=n.instance,M=m.getAttribute("data-precedence"),v=a.get(M)||c,v===c&&a.set(null,m),a.set(M,m),this.count++,c=fd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var tc={$$typeof:j,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function cw(e,n,a,c,m,v,M,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Sy(e,n,a,c,m,v,M,P,V,dt,yt,wt){return e=new cw(e,n,a,M,P,V,dt,wt),n=1,v===!0&&(n|=24),v=Bn(3,null,null,n),e.current=v,v.stateNode=e,n=ph(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:c,isDehydrated:a,cache:n},vh(v),e}function wy(e){return e?(e=Pi,e):Pi}function Ty(e,n,a,c,m,v){m=wy(m),c.context===null?c.context=m:c.pendingContext=m,c=wa(n),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=Ta(e,c,n),a!==null&&(cr(a,e,n),jl(a,e,n))}function Ey(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Bm(e,n){Ey(e,n),(e=e.alternate)&&Ey(e,n)}function My(e){if(e.tag===13){var n=ya(e,67108864);n!==null&&cr(n,e,67108864),Bm(e,67108864)}}var md=!0;function uw(e,n,a,c){var m=K.T;K.T=null;var v=rt.p;try{rt.p=2,Rm(e,n,a,c)}finally{rt.p=v,K.T=m}}function dw(e,n,a,c){var m=K.T;K.T=null;var v=rt.p;try{rt.p=8,Rm(e,n,a,c)}finally{rt.p=v,K.T=m}}function Rm(e,n,a,c){if(md){var m=Pm(c);if(m===null)wm(e,n,c,pd,a),Ay(e,c);else if(hw(m,e,n,a,c))c.stopPropagation();else if(Ay(e,c),n&4&&-1<fw.indexOf(e)){for(;m!==null;){var v=vi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var M=mn(v.pendingLanes);if(M!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;M;){var V=1<<31-Be(M);P.entanglements[1]|=V,M&=~V}fi(v),(ge&6)===0&&(Qu=$t()+500,Vl(0))}}break;case 13:P=ya(v,2),P!==null&&cr(P,v,2),td(),Bm(v,2)}if(v=Pm(c),v===null&&wm(e,n,c,pd,a),v===m)break;m=v}m!==null&&c.stopPropagation()}else wm(e,n,c,null,a)}}function Pm(e){return e=oa(e),zm(e)}var pd=null;function zm(e){if(pd=null,e=ei(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pd=e,null}function Ny(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case xt:return 2;case Bt:return 8;case vt:case de:return 32;case He:return 268435456;default:return 32}default:return 32}}var Hm=!1,Pa=null,za=null,Ha=null,ec=new Map,nc=new Map,$a=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(e,n){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":ec.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(n.pointerId)}}function rc(e,n,a,c,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},n!==null&&(n=vi(n),n!==null&&My(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function hw(e,n,a,c,m){switch(n){case"focusin":return Pa=rc(Pa,e,n,a,c,m),!0;case"dragenter":return za=rc(za,e,n,a,c,m),!0;case"mouseover":return Ha=rc(Ha,e,n,a,c,m),!0;case"pointerover":var v=m.pointerId;return ec.set(v,rc(ec.get(v)||null,e,n,a,c,m)),!0;case"gotpointercapture":return v=m.pointerId,nc.set(v,rc(nc.get(v)||null,e,n,a,c,m)),!0}return!1}function Dy(e){var n=ei(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,sl(e.priority,function(){if(a.tag===13){var c=lr();c=al(c);var m=ya(a,c);m!==null&&cr(m,a,c),Bm(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Pm(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);ro=c,a.target.dispatchEvent(c),ro=null}else return n=vi(a),n!==null&&My(n),e.blockedOn=a,!1;n.shift()}return!0}function jy(e,n,a){gd(e)&&a.delete(n)}function mw(){Hm=!1,Pa!==null&&gd(Pa)&&(Pa=null),za!==null&&gd(za)&&(za=null),Ha!==null&&gd(Ha)&&(Ha=null),ec.forEach(jy),nc.forEach(jy)}function bd(e,n){e.blockedOn===n&&(e.blockedOn=null,Hm||(Hm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mw)))}var yd=null;function ky(e){yd!==e&&(yd=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yd===e&&(yd=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(zm(c||a)===null)continue;break}var v=vi(a);v!==null&&(e.splice(n,3),n-=3,zh(v,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function ic(e){function n(V){return bd(V,e)}Pa!==null&&bd(Pa,e),za!==null&&bd(za,e),Ha!==null&&bd(Ha,e),ec.forEach(n),nc.forEach(n);for(var a=0;a<$a.length;a++){var c=$a[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<$a.length&&(a=$a[0],a.blockedOn===null);)Dy(a),a.blockedOn===null&&$a.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],v=a[c+1],M=m[wn]||null;if(typeof v=="function")M||ky(a);else if(M){var P=null;if(v&&v.hasAttribute("formAction")){if(m=v,M=v[wn]||null)P=M.formAction;else if(zm(m)!==null)continue}else P=M.action;typeof P=="function"?a[c+1]=P:(a.splice(c,3),c-=3),ky(a)}}}function $m(e){this._internalRoot=e}vd.prototype.render=$m.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,c=lr();Ty(a,c,e,n,null,null)},vd.prototype.unmount=$m.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ty(e.current,2,null,e,null,null),td(),n[Qi]=null}};function vd(e){this._internalRoot=e}vd.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<$a.length&&n!==0&&n<$a[a].priority;a++);$a.splice(a,0,e),a===0&&Dy(e)}};var Oy=i.version;if(Oy!=="19.1.1")throw Error(s(527,Oy,"19.1.1"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=b(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var pw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{je=xd.inject(pw),Le=xd}catch{}}return oc.createRoot=function(e,n){if(!u(e))throw Error(s(299));var a=!1,c="",m=Kg,v=Fg,M=Xg,P=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=Sy(e,1,!1,null,null,a,c,m,v,M,P,null),e[Qi]=n.current,Sm(e),new $m(n)},oc.hydrateRoot=function(e,n,a){if(!u(e))throw Error(s(299));var c=!1,m="",v=Kg,M=Fg,P=Xg,V=null,dt=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(M=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(dt=a.formState)),n=Sy(e,1,!0,n,a??null,c,m,v,M,P,V,dt),n.context=wy(null),a=n.current,c=lr(),c=al(c),m=wa(c),m.callback=null,Ta(a,m,c),a=c,n.current.lanes=a,yi(n,a),fi(n),e[Qi]=n.current,Sm(e),new vd(n)},oc.version="19.1.1",oc}var Uy;function Ew(){if(Uy)return Gm.exports;Uy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Gm.exports=Tw(),Gm.exports}var Mw=Ew();let Nw={data:""},Aw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Nw,Dw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jw=/\/\*[^]*?\*\/|  +/g,Gy=/\n+/g,Za=(t,i)=>{let o="",s="",u="";for(let d in t){let f=t[d];d[0]=="@"?d[1]=="i"?o=d+" "+f+";":s+=d[1]=="f"?Za(f,d):d+"{"+Za(f,d[1]=="k"?"":i)+"}":typeof f=="object"?s+=Za(f,i?i.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):d):f!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Za.p?Za.p(d,f):d+":"+f+";")}return o+(i&&u?i+"{"+u+"}":u)+s},Vi={},E_=t=>{if(typeof t=="object"){let i="";for(let o in t)i+=o+E_(t[o]);return i}return t},kw=(t,i,o,s,u)=>{let d=E_(t),f=Vi[d]||(Vi[d]=(b=>{let y=0,S=11;for(;y<b.length;)S=101*S+b.charCodeAt(y++)>>>0;return"go"+S})(d));if(!Vi[f]){let b=d!==t?t:(y=>{let S,w,_=[{}];for(;S=Dw.exec(y.replace(jw,""));)S[4]?_.shift():S[3]?(w=S[3].replace(Gy," ").trim(),_.unshift(_[0][w]=_[0][w]||{})):_[0][S[1]]=S[2].replace(Gy," ").trim();return _[0]})(t);Vi[f]=Za(u?{["@keyframes "+f]:b}:b,o?"":"."+f)}let p=o&&Vi.g?Vi.g:null;return o&&(Vi.g=Vi[f]),((b,y,S,w)=>{w?y.data=y.data.replace(w,b):y.data.indexOf(b)===-1&&(y.data=S?b+y.data:y.data+b)})(Vi[f],i,s,p),f},Ow=(t,i,o)=>t.reduce((s,u,d)=>{let f=i[d];if(f&&f.call){let p=f(o),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=b?"."+b:p&&typeof p=="object"?p.props?"":Za(p,""):p===!1?"":p}return s+u+(f??"")},"");function Of(t){let i=this||{},o=t.call?t(i.p):t;return kw(o.unshift?o.raw?Ow(o,[].slice.call(arguments,1),i.p):o.reduce((s,u)=>Object.assign(s,u&&u.call?u(i.p):u),{}):o,Aw(i.target),i.g,i.o,i.k)}let M_,U0,G0;Of.bind({g:1});let Xi=Of.bind({k:1});function Cw(t,i,o,s){Za.p=i,M_=t,U0=o,G0=s}function Xa(t,i){let o=this||{};return function(){let s=arguments;function u(d,f){let p=Object.assign({},d),b=p.className||u.className;o.p=Object.assign({theme:U0&&U0()},p),o.o=/ *go\d+/.test(b),p.className=Of.apply(o,s)+(b?" "+b:"");let y=t;return t[0]&&(y=p.as||t,delete p.as),G0&&y[0]&&G0(p),M_(y,p)}return u}}var Lw=t=>typeof t=="function",nf=(t,i)=>Lw(t)?t(i):t,Bw=(()=>{let t=0;return()=>(++t).toString()})(),N_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),Rw=20,ap="default",A_=(t,i)=>{let{toastLimit:o}=t.settings;switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,o)};case 1:return{...t,toasts:t.toasts.map(f=>f.id===i.toast.id?{...f,...i.toast}:f)};case 2:let{toast:s}=i;return A_(t,{type:t.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:u}=i;return{...t,toasts:t.toasts.map(f=>f.id===u||u===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(f=>f.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let d=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+d}))}}},Qd=[],D_={toasts:[],pausedAt:void 0,settings:{toastLimit:Rw}},mi={},j_=(t,i=ap)=>{mi[i]=A_(mi[i]||D_,t),Qd.forEach(([o,s])=>{o===i&&s(mi[i])})},k_=t=>Object.keys(mi).forEach(i=>j_(t,i)),Pw=t=>Object.keys(mi).find(i=>mi[i].toasts.some(o=>o.id===t)),Cf=(t=ap)=>i=>{j_(i,t)},zw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Hw=(t={},i=ap)=>{let[o,s]=O.useState(mi[i]||D_),u=O.useRef(mi[i]);O.useEffect(()=>(u.current!==mi[i]&&s(mi[i]),Qd.push([i,s]),()=>{let f=Qd.findIndex(([p])=>p===i);f>-1&&Qd.splice(f,1)}),[i]);let d=o.toasts.map(f=>{var p,b,y;return{...t,...t[f.type],...f,removeDelay:f.removeDelay||((p=t[f.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:f.duration||((b=t[f.type])==null?void 0:b.duration)||t?.duration||zw[f.type],style:{...t.style,...(y=t[f.type])==null?void 0:y.style,...f.style}}});return{...o,toasts:d}},$w=(t,i="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...o,id:o?.id||Bw()}),zc=t=>(i,o)=>{let s=$w(i,t,o);return Cf(s.toasterId||Pw(s.id))({type:2,toast:s}),s.id},an=(t,i)=>zc("blank")(t,i);an.error=zc("error");an.success=zc("success");an.loading=zc("loading");an.custom=zc("custom");an.dismiss=(t,i)=>{let o={type:3,toastId:t};i?Cf(i)(o):k_(o)};an.dismissAll=t=>an.dismiss(void 0,t);an.remove=(t,i)=>{let o={type:4,toastId:t};i?Cf(i)(o):k_(o)};an.removeAll=t=>an.remove(void 0,t);an.promise=(t,i,o)=>{let s=an.loading(i.loading,{...o,...o?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=i.success?nf(i.success,u):void 0;return d?an.success(d,{id:s,...o,...o?.success}):an.dismiss(s),u}).catch(u=>{let d=i.error?nf(i.error,u):void 0;d?an.error(d,{id:s,...o,...o?.error}):an.dismiss(s)}),t};var Iw=1e3,Uw=(t,i="default")=>{let{toasts:o,pausedAt:s}=Hw(t,i),u=O.useRef(new Map).current,d=O.useCallback((w,_=Iw)=>{if(u.has(w))return;let T=setTimeout(()=>{u.delete(w),f({type:4,toastId:w})},_);u.set(w,T)},[]);O.useEffect(()=>{if(s)return;let w=Date.now(),_=o.map(T=>{if(T.duration===1/0)return;let A=(T.duration||0)+T.pauseDuration-(w-T.createdAt);if(A<0){T.visible&&an.dismiss(T.id);return}return setTimeout(()=>an.dismiss(T.id,i),A)});return()=>{_.forEach(T=>T&&clearTimeout(T))}},[o,s,i]);let f=O.useCallback(Cf(i),[i]),p=O.useCallback(()=>{f({type:5,time:Date.now()})},[f]),b=O.useCallback((w,_)=>{f({type:1,toast:{id:w,height:_}})},[f]),y=O.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),S=O.useCallback((w,_)=>{let{reverseOrder:T=!1,gutter:A=8,defaultPosition:N}=_||{},D=o.filter(j=>(j.position||N)===(w.position||N)&&j.height),$=D.findIndex(j=>j.id===w.id),I=D.filter((j,C)=>C<$&&j.visible).length;return D.filter(j=>j.visible).slice(...T?[I+1]:[0,I]).reduce((j,C)=>j+(C.height||0)+A,0)},[o]);return O.useEffect(()=>{o.forEach(w=>{if(w.dismissed)d(w.id,w.removeDelay);else{let _=u.get(w.id);_&&(clearTimeout(_),u.delete(w.id))}})},[o,d]),{toasts:o,handlers:{updateHeight:b,startPause:p,endPause:y,calculateOffset:S}}},Gw=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Zw=Xi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yw=Xi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qw=Xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Zw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Yw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Vw=Xi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Kw=Xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Vw} 1s linear infinite;
`,Fw=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xw=Xi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ww=Xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Qw=Xa("div")`
  position: absolute;
`,Jw=Xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tT=Xi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eT=Xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,nT=({toast:t})=>{let{icon:i,type:o,iconTheme:s}=t;return i!==void 0?typeof i=="string"?O.createElement(eT,null,i):i:o==="blank"?null:O.createElement(Jw,null,O.createElement(Kw,{...s}),o!=="loading"&&O.createElement(Qw,null,o==="error"?O.createElement(qw,{...s}):O.createElement(Ww,{...s})))},rT=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,iT=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,aT="0%{opacity:0;} 100%{opacity:1;}",oT="0%{opacity:1;} 100%{opacity:0;}",sT=Xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lT=Xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,cT=(t,i)=>{let o=t.includes("top")?1:-1,[s,u]=N_()?[aT,oT]:[rT(o),iT(o)];return{animation:i?`${Xi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xi(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},uT=O.memo(({toast:t,position:i,style:o,children:s})=>{let u=t.height?cT(t.position||i||"top-center",t.visible):{opacity:0},d=O.createElement(nT,{toast:t}),f=O.createElement(lT,{...t.ariaProps},nf(t.message,t));return O.createElement(sT,{className:t.className,style:{...u,...o,...t.style}},typeof s=="function"?s({icon:d,message:f}):O.createElement(O.Fragment,null,d,f))});Cw(O.createElement);var dT=({id:t,className:i,style:o,onHeightUpdate:s,children:u})=>{let d=O.useCallback(f=>{if(f){let p=()=>{let b=f.getBoundingClientRect().height;s(t,b)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return O.createElement("div",{ref:d,className:i,style:o},u)},fT=(t,i)=>{let o=t.includes("top"),s=o?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:N_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(o?1:-1)}px)`,...s,...u}},hT=Of`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_d=16,mT=({reverseOrder:t,position:i="top-center",toastOptions:o,gutter:s,children:u,toasterId:d,containerStyle:f,containerClassName:p})=>{let{toasts:b,handlers:y}=Uw(o,d);return O.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:_d,left:_d,right:_d,bottom:_d,pointerEvents:"none",...f},className:p,onMouseEnter:y.startPause,onMouseLeave:y.endPause},b.map(S=>{let w=S.position||i,_=y.calculateOffset(S,{reverseOrder:t,gutter:s,defaultPosition:i}),T=fT(w,_);return O.createElement(dT,{id:S.id,key:S.id,onHeightUpdate:y.updateHeight,className:S.visible?hT:"",style:T},S.type==="custom"?nf(S.message,S):u?u(S):O.createElement(uT,{toast:S,position:w}))}))},Vm=an;function pT(t,i,o,s=0,u=0){i<=2&&(t-=1,i+=12);const d=Math.floor(t/100),f=2-d+Math.floor(d/4),p=o+(s+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+p+f-1524.5}const gT=864e5;function bT(t){const i=(t-24405875e-1)*gT;return new Date(i)}function yT(t,i=7){const o=t+(i-.5)/12;if(o>=1986&&o<2005){const u=o-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(o>=2005&&o<2050){const u=o-2e3;return 62.92+.32217*u+.005589*u*u}if(o>=2050&&o<=2150){const u=(o-1820)/100;return-20+32*u*u-.5628*(2150-o)}if(o>=1900&&o<1986)return-2.79+1.494119*(o-1900)-.0598939*(o-1900)**2+.0061966*(o-1900)**3-197e-6*(o-1900)**4;if(o>=1800&&o<1900){const u=(o-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const s=(o-1820)/100;return-20+32*s*s}function vT(t){const i=Math.floor(t+.5),o=t+.5-i;let s=i;if(i>=2299161){const w=Math.floor((i-186721625e-2)/36524.25);s=i+1+w-Math.floor(w/4)}const u=s+1524,d=Math.floor((u-122.1)/365.25),f=Math.floor(365.25*d),p=Math.floor((u-f)/30.6001),b=u-f-Math.floor(30.6001*p)+o;let y=p-1;y>12&&(y-=12);let S=d-4715;return y>2&&(S-=1),[S,y,b]}const Sc=Math.PI,Po=Sc/180,xT=180/Sc,_T=86400;function ST(t){return t%=360,t<0?t+360:t}function wT(t,i){return(t-i+540)%360-180}function Zy(t,i){for(;t-i>180;)t-=360;for(;t-i<-180;)t+=360;return t}function TT(t){const[i,o]=vT(t);return t+yT(i,Math.round(o))/_T}function Yy(t,i){let o=0,s=1;for(let u=0;u<t.length;u++){let d=0;for(const[f,p,b]of t[u])d+=f*Math.cos(p+b*i);o+=d*s,s*=i}return o*1e-8}function ET(t){const i=(t-2451545)/36525,o=(297.85036+445267.11148*i-.0019142*i*i+i*i*i/189474)*Po,s=(357.52772+35999.05034*i-1603e-7*i*i-i*i*i/3e5)*Po,u=(134.96298+477198.867398*i+.0086972*i*i+i*i*i/56250)*Po,d=(93.27191+483202.017538*i-.0036825*i*i+i*i*i/327270)*Po,f=(125.04452-1934.136261*i+.0020708*i*i+i*i*i/45e4)*Po,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let b=0,y=0;for(const[S,w,_,T,A,N,D,$,I]of p){const j=S*o+w*s+_*u+T*d+A*f;b+=(N+D*i)*Math.sin(j),y+=($+I*i)*Math.cos(j)}return b*=1e-4,y*=1e-4,{dpsi:b,deps:y}}function Sd(t){const i=TT(t),o=(i-2451545)/365250,s=Yy(qy.L,o),u=Yy(qy.R,o);let d=s+Sc;d>2*Sc&&(d-=2*Sc);const{dpsi:f}=ET(i),p=f/3600*Po,b=20.4898/(3600*u),y=d+p-b*Po;return ST(y*xT)}function rn(t,i,o){const s=(i%360+360)%360,u=pT(t,1,1),d=Sd(u);let f=s-d;f<0&&(f+=360);let p=u+f/.98564736;const b=1e-6,y=5e-6;for(let _=0;_<25;_++){const T=Sd(p),A=wT(s,T);if(Math.abs(A)<b)break;const N=Sd(p+y),D=Sd(p-y),$=Zy(N,T),I=Zy(D,T),j=($-I)/(2*y);p+=A/j}const S=bT(p),w=new Date(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),0,0);if(Number.isFinite(o)){const _=o/15-9;if(Math.abs(_)>1e-12)return new Date(w.getTime()+_*36e5)}return w}const qy={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},$n=["갑","을","병","정","무","기","경","신","임","계"],Wn=["자","축","인","묘","진","사","오","미","신","유","술","해"],Lr={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},gr={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},MT=["목","목","화","화","토","토","금","금","수","수"],NT=["수","토","목","목","토","화","화","토","금","금","토","수"],AT=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],DT=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Lf=new Set($n),op=new Set(Wn),Bf={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},sp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},O_=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],lp={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},C_={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},Vy=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],jT={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},kT={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function OT(t,i=127.5){return(oe(t,i)||"").charAt(0)}const Ky=new Map;function L_(t,i=127.5){const o=`${t}@${i}`,s=Ky.get(o);if(s)return s;const u=rn(t,315,i);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${i}`);return Ky.set(o,u),u}const CT=(t,i)=>(t%i+i)%i,B_=t=>t instanceof Date&&!Number.isNaN(t.getTime());function R_(t,i=127.5){if(!B_(t))throw new Error("resolveYearIndex: invalid date");const o=t.getFullYear(),s=L_(o,i),u=t<s?o-1:o,d=CT(u-4,60);return{useYear:u,index60Num:d}}function oe(t,i=127.5){const{index60Num:o}=R_(t,i);return O_[o]}const LT=[2,4,6,8,0,2,4,6,8,0];function BT(t,i=127.5){const o=new Array(12);return o[0]=L_(t,i),o[1]=rn(t,345,i),o[2]=rn(t,15,i),o[3]=rn(t,45,i),o[4]=rn(t,75,i),o[5]=rn(t,105,i),o[6]=rn(t,135,i),o[7]=rn(t,165,i),o[8]=rn(t,195,i),o[9]=rn(t,225,i),o[10]=rn(t,255,i),o[11]=rn(t+1,285,i),o.map(s=>new Date(s.getTime()+1800*1e3))}function RT(t,i=127.5){const{useYear:o}=R_(t,i),s=BT(o,i);let u=0;for(let f=0;f<12;f++)t>=s[f]&&(u=f);return{monthIndex:u+1,useYear:o,boundaries:s}}function PT(t,i=127.5){const o=OT(t,i),s=Lr.천간.indexOf(o);if(s<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${o}"`);return LT[s]}function zT(t,i,o=127.5){return(PT(t,o)+(i-1))%10}function Se(t,i=127.5){if(!B_(t))return"";const{monthIndex:o}=RT(t,i),s=(2+(o-1))%12,u=Lr.지지[s],d=zT(t,o,i);return Lr.천간[d]+u}const HT=(t,i)=>(t%i+i)%i;function $T(t,i,o,s=0,u=0,d=0){i<=2&&(t-=1,i+=12);const f=Math.floor(t/100),p=2-f+Math.floor(f/4),b=(s+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+o+b+p-1524.5}function IT(t,i){const o=t.getHours(),s=t.getMinutes(),u=o*60+s,d=P_(t);return i==="야자시"&&d==="자"?u>=1380?1:0:i==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const Fy={JDN:2445731,idx:0};function ae(t,i){const o=IT(t,i),s=new Date(t.getTime());s.setDate(s.getDate()+o);const u=$T(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),d=Math.floor(u+.5),f=HT(d-Fy.JDN+Fy.idx,60),p=O_[f];if(!p)throw new Error(`getDayGanZhi: idx=${f} out of range (jdn=${d}, jd=${u})`);return p}function P_(t){t instanceof Date||(t=new Date(t));const i=t.getHours()*60+t.getMinutes();for(let o=0;o<Vy.length;o++){const{branch:s,start:u,end:d}=Vy[o];if(u<d){if(i>=u&&i<d)return s}else if(i>=u||i<d)return s}return"자"}function UT(t,i,o,s){const u=$n.indexOf(i);if(u<0)return"";let d=(u%5*2+o)%10;const f=t.getHours();return(s==="인시"||s==="조자시"&&f>=3)&&(o===0||o===1)&&(d=(d+2)%10),$n[d]}function Pr(t,i,o){t instanceof Date||(t=new Date(t));const s=P_(t),u=Wn.indexOf(s),f=(o??ae(t,i)).charAt(0);return UT(t,f,u,i)+s}const Xy=t=>{let i;const o=new Set,s=(y,S)=>{const w=typeof y=="function"?y(i):y;if(!Object.is(w,i)){const _=i;i=S??(typeof w!="object"||w===null)?w:Object.assign({},i,w),o.forEach(T=>T(i,_))}},u=()=>i,p={setState:s,getState:u,getInitialState:()=>b,subscribe:y=>(o.add(y),()=>o.delete(y))},b=i=t(s,u,p);return p},GT=(t=>t?Xy(t):Xy),ZT=t=>t;function YT(t,i=ZT){const o=Ce.useSyncExternalStore(t.subscribe,Ce.useCallback(()=>i(t.getState()),[t,i]),Ce.useCallback(()=>i(t.getInitialState()),[t,i]));return Ce.useDebugValue(o),o}const Wy=t=>{const i=GT(t),o=s=>YT(i,s);return Object.assign(o,i),o},Hc=(t=>t?Wy(t):Wy);function qT(t,i){let o;try{o=t()}catch{return}return{getItem:u=>{var d;const f=b=>b===null?null:JSON.parse(b,void 0),p=(d=o.getItem(u))!=null?d:null;return p instanceof Promise?p.then(f):f(p)},setItem:(u,d)=>o.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>o.removeItem(u)}}const Z0=t=>i=>{try{const o=t(i);return o instanceof Promise?o:{then(s){return Z0(s)(o)},catch(s){return this}}}catch(o){return{then(s){return this},catch(s){return Z0(s)(o)}}}},VT=(t,i)=>(o,s,u)=>{let d={storage:qT(()=>localStorage),partialize:N=>N,version:0,merge:(N,D)=>({...D,...N}),...i},f=!1;const p=new Set,b=new Set;let y=d.storage;if(!y)return t((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),o(...N)},s,u);const S=()=>{const N=d.partialize({...s()});return y.setItem(d.name,{state:N,version:d.version})},w=u.setState;u.setState=(N,D)=>(w(N,D),S());const _=t((...N)=>(o(...N),S()),s,u);u.getInitialState=()=>_;let T;const A=()=>{var N,D;if(!y)return;f=!1,p.forEach(I=>{var j;return I((j=s())!=null?j:_)});const $=((D=d.onRehydrateStorage)==null?void 0:D.call(d,(N=s())!=null?N:_))||void 0;return Z0(y.getItem.bind(y))(d.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==d.version){if(d.migrate){const j=d.migrate(I.state,I.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var j;const[C,k]=I;if(T=d.merge(k,(j=s())!=null?j:_),o(T,!0),C)return S()}).then(()=>{$?.(T,void 0),T=s(),f=!0,b.forEach(I=>I(T))}).catch(I=>{$?.(void 0,I)})};return u.persist={setOptions:N=>{d={...d,...N},N.storage&&(y=N.storage)},clearStorage:()=>{y?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:N=>(p.add(N),()=>{p.delete(N)}),onFinishHydration:N=>(b.add(N),()=>{b.delete(N)})},d.skipHydration||A(),T||_},cp=VT,Y0={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},br=Hc()(cp((t,i)=>({settings:Y0,setSettings:o=>t({settings:o}),setKey:(o,s)=>t({settings:{...i().settings,[o]:s}}),reset:()=>t({settings:Y0})}),{name:"settings_v1"}));function q0(t){const i=$n.indexOf(t);if(i!==-1)return $n[i];const o=gr.천간.indexOf(t);return o!==-1?$n[o]:null}function z_(t){const i=Wn.indexOf(t);if(i!==-1)return Wn[i];const o=gr.지지.indexOf(t);return o!==-1?Wn[o]:null}function Qy(t,i){if(i?.difficultyMode)return i?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function pr(t,i,o){if(i==="stem"){const s=q0(t);if(!s)return console.warn("Invalid stem:",t),"bg-neutral-700";const u=$n.indexOf(s),d=u>=0?MT[u]:void 0;return Qy(d,o)}else{const s=z_(t);if(!s)return console.warn("Invalid branch:",t),"bg-neutral-700";const u=Wn.indexOf(s),d=u>=0?NT[u]:void 0;return Qy(d,o)}}function Hn(t,i){const o=q0(t);if(!o)throw new Error(`getSipSin: invalid dayStem ${t}`);if(i.stem){const s=q0(i.stem);if(!s)throw new Error(`getSipSin: invalid stem ${i.stem}`);return jT[o][s]}if(i.branch){const s=z_(i.branch);if(!s)throw new Error(`getSipSin: invalid branch ${i.branch}`);return kT[o][s]}throw new Error("getSipSin: stem or branch required")}const KT={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},FT={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function vc({branch:t,dayStem:i,mode:o="all",mapping:s="classic",variant:u="auto",isUnknownTime:d=!1}){const f=(s==="hgc"?FT:KT)[t]??[],p=o==="main"?[f[2]]:f,b=u==="white",y=b?"text-white":"text-neutral-800 dark:text-white",S=b?"border-white":"border-neutral-800 dark: border-neutral-200",w=b?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:p.map((_,T)=>_==="(-)"||d?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${S} ${y} rounded text-center text-nowrap`,children:"(-) (없음)"},T):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${S} ${y} rounded text-center text-nowrap 
            ${o==="main"||T===2?`jeonggi bg-neutral-500/50 ${w} font-bold`:""}`,children:[_," (",Hn(i,{stem:_}),")"]},T))})}const $c=Hc(t=>({manualHour:null,setManualHour:i=>t({manualHour:i}),clearManualHour:()=>t({manualHour:null})})),up={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},H_=Object.fromEntries(Object.entries(up).map(([t,i])=>[i,t])),dp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},$_=Object.fromEntries(Object.entries(dp).map(([t,i])=>[i,t]));function Jy(t){return Lr.천간.includes(t)}function tv(t){return Lr.지지.includes(t)}function XT(t){return gr.천간.includes(t)}function WT(t){return gr.지지.includes(t)}function ev(t,i,o){return o==="한글"?i==="stem"?up[t]??t:dp[t]??t:i==="stem"?H_[t]??t:$_[t]??t}function nv(t){const i=H_[t]??t;return XT(i)?i:"갑"}function QT(t){const i=$_[t]??t;return WT(i)?i:"자"}function JT(t){if(Jy(t))return t;const i=up[t]??t;return Jy(i)?i:"갑"}function tE(t){if(tv(t))return t;const i=dp[t]??t;return tv(i)?i:"자"}const eE=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),nE=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),rE=t=>eE.has(t),iE=t=>nE.has(t);function Rs({label:t,gz:i,dayStem:o,settings:s,unseongText:u,shinsalText:d,hideBranchSipSin:f=!0,hideHiddenStems:p=!1,size:b="sm",variant:y="auto",isUnknownTime:S=!1}){const{manualHour:w}=$c(),_=S&&!w,T=i.charAt(0),A=i.charAt(1),N=ev(T,"stem",s.charType),D=ev(A,"branch",s.charType),$=nv(T),I=QT(A),j=nv(o),C=tE(A),k=JT(o),G=s.showSipSin?Hn(j,{stem:$}):null,W=!f&&s.showSipSin?Hn(j,{branch:I}):null,ot=s.thinEum&&rE(T)?"font-thin":"font-bold",nt=s.thinEum&&iE(A)?"font-thin":"font-bold",tt={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},Z=!p&&!!s.hiddenStem,U=s.hiddenStem==="regular"?"main":"all",et=s.hiddenStemMode==="hgc"?"hgc":"classic",lt=y==="white",ht=lt?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",K=lt?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",rt=lt?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ft=lt?"text-neutral-500":"text-neutral-400",st=lt?"text-neutral-500":"text-neutral-400",{settings:R}=br(),H=_?`bg-white ${rt}`:`${pr($,"stem",R)} ${rt}`,X=_?`bg-white ${rt}`:`${pr(I,"branch",R)} ${rt}`,Q=_?"text-black":R.difficultyMode?R.theme==="light"?"text-neutral-900":"text-black":"text-white",z=_?"text-black":R.difficultyMode?R.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${ht}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${K} text-nowrap`,children:t}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[G&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ft} text-nowrap`,children:S&&!w?"-":G}),g.jsx("div",{className:`${tt[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${H}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${Q} ${ot}`,children:_?"-":N})}),g.jsx("div",{className:`${tt[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${X}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${z} ${nt}`,children:_?"-":D})}),Z&&g.jsx(vc,{branch:C,dayStem:k,mode:U,mapping:et,isUnknownTime:S&&!w&&(t==="시주"||t==="일주")}),W&&g.jsx("div",{className:`text-[10px] desk:text-xs ${st}`,children:S&&!w?"-":W}),s.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${st} text-nowrap`,children:S&&!w?"-":u||""}),s.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${st} text-nowrap`,children:S&&!w?"-":d||""})]})]})}const aE=new Set(gr.천간);function oE(t){return Lf.has(t)?t:aE.has(t)?Bf[t]:"갑"}function sE({label:t,settings:i,hideBranchSipSin:o=!0}){const s=i.showSipSin,u=!!i.hiddenStem,f=(i.hiddenStem==="regular"?"main":"all")==="main"?1:3,p=i.showSipSin&&!o;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[s&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),u&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:f}).map((b,y)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},y))}),p&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function lE(){const t=br(A=>A.settings),[i,o]=O.useState(new Date),[s,u]=O.useState(!0),[d,f]=O.useState("조자시"),[p,b]=O.useState(!1);O.useEffect(()=>{if(!s)return;const A=setInterval(()=>o(new Date),1e3);return()=>clearInterval(A)},[s]);const y=oe(i),S=Se(i),w=ae(i,d),_=Pr(i,"조자시"),T=oE(w.charAt(0));return g.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",s?"실시간":"수동선택",") ",dE(i)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:d,onChange:A=>f(A.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"야자시",children:"야자시 (전날 23시)"}),g.jsx("option",{value:"조자시",children:"조자시 (자정)"}),g.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),g.jsx("button",{onClick:()=>u(!s),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:s?"피커 사용":"타이머 사용"})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?g.jsx(sE,{label:"시주",settings:t,hideBranchSipSin:!0}):g.jsx(Rs,{label:"시주",gz:_,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"일주",gz:w,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"월주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"연주",gz:y,dayStem:T,settings:t,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:cE(i),disabled:s,onChange:A=>{const N=uE(A.target.value);N&&o(N)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>b(A=>!A),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function cE(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function uE(t){if(!t)return null;const[i,o]=t.split("T");if(!i||!o)return null;const[s,u,d]=i.split("-").map(Number),[f,p]=o.split(":").map(Number),b=new Date(s,u-1,d,f,p);return Number.isNaN(b.getTime())?null:b}function dE(t){const i=o=>o.toString().padStart(2,"0");return`${i(t.getHours())}:${i(t.getMinutes())}:${i(t.getSeconds())}`}const _n=[];for(let t=0;t<256;++t)_n.push((t+256).toString(16).slice(1));function fE(t,i=0){return(_n[t[i+0]]+_n[t[i+1]]+_n[t[i+2]]+_n[t[i+3]]+"-"+_n[t[i+4]]+_n[t[i+5]]+"-"+_n[t[i+6]]+_n[t[i+7]]+"-"+_n[t[i+8]]+_n[t[i+9]]+"-"+_n[t[i+10]]+_n[t[i+11]]+_n[t[i+12]]+_n[t[i+13]]+_n[t[i+14]]+_n[t[i+15]]).toLowerCase()}let Km;const hE=new Uint8Array(16);function mE(){if(!Km){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Km=crypto.getRandomValues.bind(crypto)}return Km(hE)}const pE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rv={randomUUID:pE};function I_(t,i,o){if(rv.randomUUID&&!t)return rv.randomUUID();t=t||{};const s=t.random??t.rng?.()??mE();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,fE(s)}var xc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var gE=xc.exports,iv;function bE(){return iv||(iv=1,(function(t,i){(function(o,s){s(i)})(gE,(function(o){var s="1.9.4";function u(r){var l,h,x,E;for(h=1,x=arguments.length;h<x;h++){E=arguments[h];for(l in E)r[l]=E[l]}return r}var d=Object.create||(function(){function r(){}return function(l){return r.prototype=l,new r}})();function f(r,l){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var x=h.call(arguments,2);return function(){return r.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function b(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function y(r,l,h){var x,E,B,q;return q=function(){x=!1,E&&(B.apply(h,E),E=!1)},B=function(){x?E=arguments:(r.apply(h,arguments),setTimeout(q,l),x=!0)},B}function S(r,l,h){var x=l[1],E=l[0],B=x-E;return r===x&&h?r:((r-E)%B+B)%B+E}function w(){return!1}function _(r,l){if(l===!1)return r;var h=Math.pow(10,l===void 0?6:l);return Math.round(r*h)/h}function T(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function A(r){return T(r).split(/\s+/)}function N(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var h in l)r.options[h]=l[h];return r.options}function D(r,l,h){var x=[];for(var E in r)x.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function I(r,l){return r.replace($,function(h,x){var E=l[x];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var j=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function C(r,l){for(var h=0;h<r.length;h++)if(r[h]===l)return h;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var W=0;function ot(r){var l=+new Date,h=Math.max(0,16-(l-W));return W=l+h,window.setTimeout(r,h)}var nt=window.requestAnimationFrame||G("RequestAnimationFrame")||ot,tt=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Z(r,l,h){if(h&&nt===ot)r.call(l);else return nt.call(window,f(r,l))}function U(r){r&&tt.call(window,r)}var et={__proto__:null,extend:u,create:d,bind:f,get lastId(){return p},stamp:b,throttle:y,wrapNum:S,falseFn:w,formatNum:_,trim:T,splitWords:A,setOptions:N,getParamString:D,template:I,isArray:j,indexOf:C,emptyImageUrl:k,requestFn:nt,cancelFn:tt,requestAnimFrame:Z,cancelAnimFrame:U};function lt(){}lt.extend=function(r){var l=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=d(h);x.constructor=l,l.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return r.statics&&u(l,r.statics),r.includes&&(ht(r.includes),u.apply(null,[x].concat(r.includes))),u(x,r),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},u(x.options,r.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,q=x._initHooks.length;B<q;B++)x._initHooks[B].call(this)}},l},lt.include=function(r){var l=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},lt.mergeOptions=function(r){return u(this.prototype.options,r),this},lt.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ht(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=j(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(r,l,h){if(typeof r=="object")for(var x in r)this._on(x,r[x],l);else{r=A(r);for(var E=0,B=r.length;E<B;E++)this._on(r[E],l,h)}return this},off:function(r,l,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var x in r)this._off(x,r[x],l);else{r=A(r);for(var E=arguments.length===1,B=0,q=r.length;B<q;B++)E?this._off(r[B]):this._off(r[B],l,h)}return this},_on:function(r,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};x&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,l,h){var x,E,B;if(this._events&&(x=this._events[r],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,B=x.length;E<B;E++)x[E].fn=w;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var q=this._listens(r,l,h);if(q!==!1){var at=x[q];this._firingCount&&(at.fn=w,this._events[r]=x=x.slice()),x.splice(q,1)}}},fire:function(r,l,h){if(!this.listens(r,h))return this;var x=u({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var B=0,q=E.length;B<q;B++){var at=E[B],gt=at.fn;at.once&&this.off(r,gt,at.ctx),gt.call(at.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(r,l,h,x){typeof r!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(x=!!l,E=void 0,h=void 0);var B=this._events&&this._events[r];if(B&&B.length&&this._listens(r,E,h)!==!1)return!0;if(x){for(var q in this._eventParents)if(this._eventParents[q].listens(r,l,h,x))return!0}return!1},_listens:function(r,l,h){if(!this._events)return!1;var x=this._events[r]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var E=0,B=x.length;E<B;E++)if(x[E].fn===l&&x[E].ctx===h)return E;return!1},once:function(r,l,h){if(typeof r=="object")for(var x in r)this._on(x,r[x],l,!0);else{r=A(r);for(var E=0,B=r.length;E<B;E++)this._on(r[E],l,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[b(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[b(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var rt=lt.extend(K);function ft(r,l,h){this.x=h?Math.round(r):r,this.y=h?Math.round(l):l}var st=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(r){return this.clone()._add(R(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(R(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ft(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ft(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=st(this.x),this.y=st(this.y),this},distanceTo:function(r){r=R(r);var l=r.x-this.x,h=r.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(r){return r=R(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=R(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function R(r,l,h){return r instanceof ft?r:j(r)?new ft(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ft(r.x,r.y):new ft(r,l,h)}function H(r,l){if(r)for(var h=l?[r,l]:r,x=0,E=h.length;x<E;x++)this.extend(h[x])}H.prototype={extend:function(r){var l,h;if(!r)return this;if(r instanceof ft||typeof r[0]=="number"||"x"in r)l=h=R(r);else if(r=X(r),l=r.min,h=r.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,h;return typeof r[0]=="number"||r instanceof ft?r=R(r):r=X(r),r instanceof H?(l=r.min,h=r.max):l=h=r,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=X(r);var l=this.min,h=this.max,x=r.min,E=r.max,B=E.x>=l.x&&x.x<=h.x,q=E.y>=l.y&&x.y<=h.y;return B&&q},overlaps:function(r){r=X(r);var l=this.min,h=this.max,x=r.min,E=r.max,B=E.x>l.x&&x.x<h.x,q=E.y>l.y&&x.y<h.y;return B&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*r,E=Math.abs(l.y-h.y)*r;return X(R(l.x-x,l.y-E),R(h.x+x,h.y+E))},equals:function(r){return r?(r=X(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function X(r,l){return!r||r instanceof H?r:new H(r,l)}function Q(r,l){if(r)for(var h=l?[r,l]:r,x=0,E=h.length;x<E;x++)this.extend(h[x])}Q.prototype={extend:function(r){var l=this._southWest,h=this._northEast,x,E;if(r instanceof Y)x=r,E=r;else if(r instanceof Q){if(x=r._southWest,E=r._northEast,!x||!E)return this}else return r?this.extend(F(r)||z(r)):this;return!l&&!h?(this._southWest=new Y(x.lat,x.lng),this._northEast=new Y(E.lat,E.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(r){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*r,E=Math.abs(l.lng-h.lng)*r;return new Q(new Y(l.lat-x,l.lng-E),new Y(h.lat+x,h.lng+E))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Y||"lat"in r?r=F(r):r=z(r);var l=this._southWest,h=this._northEast,x,E;return r instanceof Q?(x=r.getSouthWest(),E=r.getNorthEast()):x=E=r,x.lat>=l.lat&&E.lat<=h.lat&&x.lng>=l.lng&&E.lng<=h.lng},intersects:function(r){r=z(r);var l=this._southWest,h=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),B=E.lat>=l.lat&&x.lat<=h.lat,q=E.lng>=l.lng&&x.lng<=h.lng;return B&&q},overlaps:function(r){r=z(r);var l=this._southWest,h=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),B=E.lat>l.lat&&x.lat<h.lat,q=E.lng>l.lng&&x.lng<h.lng;return B&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=z(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function z(r,l){return r instanceof Q?r:new Q(r,l)}function Y(r,l,h){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,h!==void 0&&(this.alt=+h)}Y.prototype={equals:function(r,l){if(!r)return!1;r=F(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+_(this.lat,r)+", "+_(this.lng,r)+")"},distanceTo:function(r){return bt.distance(this,F(r))},wrap:function(){return bt.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,h=l/Math.cos(Math.PI/180*this.lat);return z([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};function F(r,l,h){return r instanceof Y?r:j(r)&&typeof r[0]!="object"?r.length===3?new Y(r[0],r[1],r[2]):r.length===2?new Y(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Y(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new Y(r,l,h)}var ct={latLngToPoint:function(r,l){var h=this.projection.project(r),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(r,l){var h=this.scale(l),x=this.transformation.untransform(r,h);return this.projection.unproject(x)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(r),x=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new H(x,E)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?S(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?S(r.lat,this.wrapLat,!0):r.lat,x=r.alt;return new Y(h,l,x)},wrapLatLngBounds:function(r){var l=r.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,E=l.lng-h.lng;if(x===0&&E===0)return r;var B=r.getSouthWest(),q=r.getNorthEast(),at=new Y(B.lat-x,B.lng-E),gt=new Y(q.lat-x,q.lng-E);return new Q(at,gt)}},bt=u({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var h=Math.PI/180,x=r.lat*h,E=l.lat*h,B=Math.sin((l.lat-r.lat)*h/2),q=Math.sin((l.lng-r.lng)*h/2),at=B*B+Math.cos(x)*Math.cos(E)*q*q,gt=2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at));return this.R*gt}}),Mt=6378137,Et={R:Mt,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,r.lat),-h),E=Math.sin(x*l);return new ft(this.R*r.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var l=180/Math.PI;return new Y((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:(function(){var r=Mt*Math.PI;return new H([-r,-r],[r,r])})()};function Lt(r,l,h,x){if(j(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=h,this._d=x}Lt.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new ft((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Dt(r,l,h,x){return new Lt(r,l,h,x)}var St=u({},bt,{code:"EPSG:3857",projection:Et,transformation:(function(){var r=.5/(Math.PI*Et.R);return Dt(r,.5,-r,.5)})()}),kt=u({},St,{code:"EPSG:900913"});function It(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ee(r,l){var h="",x,E,B,q,at,gt;for(x=0,B=r.length;x<B;x++){for(at=r[x],E=0,q=at.length;E<q;E++)gt=at[E],h+=(E?"L":"M")+gt.x+" "+gt.y;h+=l?Pt.svg?"z":"x":""}return h||"M0 0"}var $t=document.documentElement.style,Xt="ActiveXObject"in window,xt=Xt&&!document.addEventListener,Bt="msLaunchUri"in navigator&&!("documentMode"in document),vt=Yn("webkit"),de=Yn("android"),He=Yn("android 2")||Yn("android 3"),we=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qt=de&&Yn("Google")&&we<537&&!("AudioNode"in window),je=!!window.opera,Le=!Bt&&Yn("chrome"),Je=Yn("gecko")&&!vt&&!je&&!Xt,Be=!Le&&Yn("safari"),bi=Yn("phantom"),Jr="OTransition"in $t,Wi=navigator.platform.indexOf("Win")===0,Hr=Xt&&"transition"in $t,Un="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!He,mn="MozPerspective"in $t,$r=!window.L_DISABLE_3D&&(Hr||Un||mn)&&!Jr&&!bi,Gn=typeof orientation<"u"||Yn("mobile"),rl=Gn&&vt,Wa=Gn&&Un,Ir=!window.PointerEvent&&window.MSPointerEvent,Zn=!!(window.PointerEvent||Ir),yi="ontouchstart"in window||!!window.TouchEvent,il=!window.L_NO_TOUCH&&(yi||Zn),Qa=Gn&&je,Jc=Gn&&Je,al=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ol=(function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,l),window.removeEventListener("testPassiveEventSupport",w,l)}catch{}return r})(),tu=(function(){return!!document.createElement("canvas").getContext})(),sl=!!(document.createElementNS&&It("svg").createSVGRect),ti=!!sl&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),on=!sl&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),wn=navigator.platform.indexOf("Mac")===0,Qi=navigator.platform.indexOf("Linux")===0;function Yn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Pt={ie:Xt,ielt9:xt,edge:Bt,webkit:vt,android:de,android23:He,androidStock:qt,opera:je,chrome:Le,gecko:Je,safari:Be,phantom:bi,opera12:Jr,win:Wi,ie3d:Hr,webkit3d:Un,gecko3d:mn,any3d:$r,mobile:Gn,mobileWebkit:rl,mobileWebkit3d:Wa,msPointer:Ir,pointer:Zn,touch:il,touchNative:yi,mobileOpera:Qa,mobileGecko:Jc,retina:al,passiveEvents:ol,canvas:tu,svg:sl,vml:on,inlineSvg:ti,mac:wn,linux:Qi},eu=Pt.msPointer?"MSPointerDown":"pointerdown",ll=Pt.msPointer?"MSPointerMove":"pointermove",Ji=Pt.msPointer?"MSPointerUp":"pointerup",Go=Pt.msPointer?"MSPointerCancel":"pointercancel",ei={touchstart:eu,touchmove:ll,touchend:Ji,touchcancel:Go},vi={touchstart:iu,touchmove:Ja,touchend:Ja,touchcancel:Ja},yr={},xi=!1;function Xe(r,l,h){return l==="touchstart"&&Wf(),vi[l]?(h=vi[l].bind(this,h),r.addEventListener(ei[l],h,!1),h):(console.warn("wrong event specified:",l),w)}function nu(r,l,h){if(!ei[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(ei[l],h,!1)}function ru(r){yr[r.pointerId]=r}function _i(r){yr[r.pointerId]&&(yr[r.pointerId]=r)}function Si(r){delete yr[r.pointerId]}function Wf(){xi||(document.addEventListener(eu,ru,!0),document.addEventListener(ll,_i,!0),document.addEventListener(Ji,Si,!0),document.addEventListener(Go,Si,!0),xi=!0)}function Ja(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in yr)l.touches.push(yr[h]);l.changedTouches=[l],r(l)}}function iu(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ye(l),Ja(r,l)}function Qf(r){var l={},h,x;for(x in r)h=r[x],l[x]=h&&h.bind?h.bind(r):h;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Zo=200;function Yo(r,l){r.addEventListener("dblclick",l);var h=0,x;function E(B){if(B.detail!==1){x=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var q=dl(B);if(!(q.some(function(gt){return gt instanceof HTMLLabelElement&&gt.attributes.for})&&!q.some(function(gt){return gt instanceof HTMLInputElement||gt instanceof HTMLSelectElement}))){var at=Date.now();at-h<=Zo?(x++,x===2&&l(Qf(B))):x=1,h=at}}}return r.addEventListener("click",E),{dblclick:l,simDblclick:E}}function Ur(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var to=ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ta=ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wi=ta==="webkitTransition"||ta==="OTransition"?ta+"End":"transitionend";function qo(r){return typeof r=="string"?document.getElementById(r):r}function Ti(r,l){var h=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(r,null);h=x?x[l]:null}return h==="auto"?null:h}function se(r,l,h){var x=document.createElement(r);return x.className=l||"",h&&h.appendChild(x),x}function Me(r){var l=r.parentNode;l&&l.removeChild(r)}function pn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Ei(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function ea(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function na(r,l){if(r.classList!==void 0)return r.classList.contains(l);var h=gn(r);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Ft(r,l){if(r.classList!==void 0)for(var h=A(l),x=0,E=h.length;x<E;x++)r.classList.add(h[x]);else if(!na(r,l)){var B=gn(r);cl(r,(B?B+" ":"")+l)}}function Ne(r,l){r.classList!==void 0?r.classList.remove(l):cl(r,T((" "+gn(r)+" ").replace(" "+l+" "," ")))}function cl(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function gn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Tn(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&au(r,l)}function au(r,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):r.style.filter+=" progid:"+x+"(opacity="+l+")"}function ra(r){for(var l=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in l)return r[h];return!1}function qn(r,l,h){var x=l||new ft(0,0);r.style[to]=(Pt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function $e(r,l){r._leaflet_pos=l,Pt.any3d?qn(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function ni(r){return r._leaflet_pos||new ft(0,0)}var vr,eo,Vo;if("onselectstart"in document)vr=function(){Kt(window,"selectstart",Ye)},eo=function(){fe(window,"selectstart",Ye)};else{var ia=ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vr=function(){if(ia){var r=document.documentElement.style;Vo=r[ia],r[ia]="none"}},eo=function(){ia&&(document.documentElement.style[ia]=Vo,Vo=void 0)}}function no(){Kt(window,"dragstart",Ye)}function ul(){fe(window,"dragstart",Ye)}var Ko,aa;function ro(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(oa(),Ko=r,aa=r.style.outlineStyle,r.style.outlineStyle="none",Kt(window,"keydown",oa))}function oa(){Ko&&(Ko.style.outlineStyle=aa,Ko=void 0,aa=void 0,fe(window,"keydown",oa))}function Mi(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ri(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var ou={__proto__:null,TRANSFORM:to,TRANSITION:ta,TRANSITION_END:wi,get:qo,getStyle:Ti,create:se,remove:Me,empty:pn,toFront:Ei,toBack:ea,hasClass:na,addClass:Ft,removeClass:Ne,setClass:cl,getClass:gn,setOpacity:Tn,testProp:ra,setTransform:qn,setPosition:$e,getPosition:ni,get disableTextSelection(){return vr},get enableTextSelection(){return eo},disableImageDrag:no,enableImageDrag:ul,preventOutline:ro,restoreOutline:oa,getSizedParentNode:Mi,getScale:ri};function Kt(r,l,h,x){if(l&&typeof l=="object")for(var E in l)Ni(r,E,l[E],h);else{l=A(l);for(var B=0,q=l.length;B<q;B++)Ni(r,l[B],h,x)}return this}var Qn="_leaflet_events";function fe(r,l,h,x){if(arguments.length===1)xr(r),delete r[Qn];else if(l&&typeof l=="object")for(var E in l)_r(r,E,l[E],h);else if(l=A(l),arguments.length===2)xr(r,function(at){return C(l,at)!==-1});else for(var B=0,q=l.length;B<q;B++)_r(r,l[B],h,x);return this}function xr(r,l){for(var h in r[Qn]){var x=h.split(/\d/)[0];(!l||l(x))&&_r(r,x,null,null,h)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ni(r,l,h,x){var E=l+b(h)+(x?"_"+b(x):"");if(r[Qn]&&r[Qn][E])return this;var B=function(at){return h.call(x||r,at||window.event)},q=B;!Pt.touchNative&&Pt.pointer&&l.indexOf("touch")===0?B=Xe(r,l,B):Pt.touch&&l==="dblclick"?B=Yo(r,B):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(io[l]||l,B,Pt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(B=function(at){at=at||window.event,Di(r,at)&&q(at)},r.addEventListener(io[l],B,!1)):r.addEventListener(l,q,!1):r.attachEvent("on"+l,B),r[Qn]=r[Qn]||{},r[Qn][E]=B}function _r(r,l,h,x,E){E=E||l+b(h)+(x?"_"+b(x):"");var B=r[Qn]&&r[Qn][E];if(!B)return this;!Pt.touchNative&&Pt.pointer&&l.indexOf("touch")===0?nu(r,l,B):Pt.touch&&l==="dblclick"?Ur(r,B):"removeEventListener"in r?r.removeEventListener(io[l]||l,B,!1):r.detachEvent("on"+l,B),r[Qn][E]=null}function Gr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function sa(r){return Ni(r,"wheel",Gr),this}function la(r){return Kt(r,"mousedown touchstart dblclick contextmenu",Gr),r._leaflet_disable_click=!0,this}function Ye(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Sr(r){return Ye(r),Gr(r),this}function dl(r){if(r.composedPath)return r.composedPath();for(var l=[],h=r.target;h;)l.push(h),h=h.parentNode;return l}function bn(r,l){if(!l)return new ft(r.clientX,r.clientY);var h=ri(l),x=h.boundingClientRect;return new ft((r.clientX-x.left)/h.x-l.clientLeft,(r.clientY-x.top)/h.y-l.clientTop)}var Ai=Pt.linux&&Pt.chrome?window.devicePixelRatio:Pt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ao(r){return Pt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ai:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Di(r,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var Jf={__proto__:null,on:Kt,off:fe,stopPropagation:Gr,disableScrollPropagation:sa,disableClickPropagation:la,preventDefault:Ye,stop:Sr,getPropagationPath:dl,getMousePosition:bn,getWheelDelta:ao,isExternalTarget:Di,addListener:Kt,removeListener:fe},Fo=rt.extend({run:function(r,l,h,x){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ni(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var h=this._startPos.add(this._offset.multiplyBy(r));l&&h._round(),$e(this._el,h),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Jt=rt.extend({options:{crs:St,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=N(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(F(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ta&&Pt.any3d&&!Pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kt(this._proxy,wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(F(r),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=u({animate:h.animate},h.zoom),h.pan=u({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,h.zoom):this._tryAnimatedPan(r,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(Pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(Pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,h){var x=this.getZoomScale(l),E=this.getSize().divideBy(2),B=r instanceof ft?r:this.latLngToContainerPoint(r),q=B.subtract(E).multiplyBy(1-1/x),at=this.containerPointToLatLng(E.add(q));return this.setView(at,l,{zoom:h})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():z(r);var h=R(l.paddingTopLeft||l.padding||[0,0]),x=R(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(r,!1,h.add(x));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var B=x.subtract(h).divideBy(2),q=this.project(r.getSouthWest(),E),at=this.project(r.getNorthEast(),E),gt=this.unproject(q.add(at).divideBy(2).add(B),E);return{center:gt,zoom:E}},fitBounds:function(r,l){if(r=z(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=R(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ft(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,h){if(h=h||{},h.animate===!1||!Pt.any3d)return this.setView(r,l,h);this._stop();var x=this.project(this.getCenter()),E=this.project(r),B=this.getSize(),q=this._zoom;r=F(r),l=l===void 0?q:l;var at=Math.max(B.x,B.y),gt=at*this.getZoomScale(q,l),Tt=E.distanceTo(x)||1,jt=1.42,Ot=jt*jt;function Rt(Re){var Er=Re?-1:1,qr=Re?gt:at,li=gt*gt-at*at+Er*Ot*Ot*Tt*Tt,Vr=2*qr*Ot*Tt,vo=li/Vr,ls=Math.sqrt(vo*vo+1)-vo,xo=ls<1e-9?-18:Math.log(ls);return xo}function Vt(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function Ae(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function Ie(Re){return Vt(Re)/Ae(Re)}var ln=Rt(0);function Vn(Re){return at*(Ae(ln)/Ae(ln+jt*Re))}function Eu(Re){return at*(Ae(ln)*Ie(ln+jt*Re)-Vt(ln))/Ot}function Mu(Re){return 1-Math.pow(1-Re,1.5)}var yo=Date.now(),xa=(Rt(1)-ln)/jt,Nu=h.duration?1e3*h.duration:1e3*xa*.8;function _a(){var Re=(Date.now()-yo)/Nu,Er=Mu(Re)*xa;Re<=1?(this._flyToFrame=Z(_a,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(Eu(Er)/Tt)),q),this.getScaleZoom(at/Vn(Er),q),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),_a.call(this),this},flyToBounds:function(r,l){var h=this._getBoundsCenterZoom(r,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(r){return r=z(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,z(r));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var h=R(l.paddingTopLeft||l.padding||[0,0]),x=R(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),B=this.project(r),q=this.getPixelBounds(),at=X([q.min.add(h),q.max.subtract(x)]),gt=at.getSize();if(!at.contains(B)){this._enforcingBounds=!0;var Tt=B.subtract(at.getCenter()),jt=at.extend(B).getSize().subtract(gt);E.x+=Tt.x<0?-jt.x:jt.x,E.y+=Tt.y<0?-jt.y:jt.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),E=h.divideBy(2).round(),B=x.subtract(E);return!B.x&&!B.y?this:(r.animate&&r.pan?this.panBy(B):(r.pan&&this._rawPanBy(B),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,r):navigator.geolocation.getCurrentPosition(l,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,h=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,h=r.coords.longitude,x=new Y(l,h),E=x.toBounds(r.coords.accuracy*2),B=this._locateOptions;if(B.setView){var q=this.getBoundsZoom(E);this.setView(x,B.maxZoom?Math.min(q,B.maxZoom):q)}var at={latlng:x,bounds:E,timestamp:r.timestamp};for(var gt in r.coords)typeof r.coords[gt]=="number"&&(at[gt]=r.coords[gt]);this.fire("locationfound",at)}},addHandler:function(r,l){if(!l)return this;var h=this[r]=new l(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Me(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),x=se("div",h,l||this._mapPane);return r&&(this._panes[r]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new Q(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,h){r=z(r),h=R(h||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),B=this.getMaxZoom(),q=r.getNorthWest(),at=r.getSouthEast(),gt=this.getSize().subtract(h),Tt=X(this.project(at,x),this.project(q,x)).getSize(),jt=Pt.any3d?this.options.zoomSnap:1,Ot=gt.x/Tt.x,Rt=gt.y/Tt.y,Vt=l?Math.max(Ot,Rt):Math.min(Ot,Rt);return x=this.getScaleZoom(Vt,x),jt&&(x=Math.round(x/(jt/100))*(jt/100),x=l?Math.ceil(x/jt)*jt:Math.floor(x/jt)*jt),Math.max(E,Math.min(B,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var h=this._getTopLeftPoint(r,l);return new H(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(r)/h.scale(l)},getScaleZoom:function(r,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(r*h.scale(l));return isNaN(x)?1/0:x},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(F(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(R(r),l)},layerPointToLatLng:function(r){var l=R(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(F(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(F(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(z(r))},distance:function(r,l){return this.options.crs.distance(F(r),F(l))},containerPointToLayerPoint:function(r){return R(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return R(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(R(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(r)))},mouseEventToContainerPoint:function(r){return bn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=qo(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Kt(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pt.any3d,Ft(r,"leaflet-container"+(Pt.touch?" leaflet-touch":"")+(Pt.retina?" leaflet-retina":"")+(Pt.ielt9?" leaflet-oldie":"")+(Pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ti(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$e(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ft(r.markerPane,"leaflet-zoom-hide"),Ft(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,h){$e(this._mapPane,new ft(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(r,l)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,h,x){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),x?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){$e(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[b(this._container)]=this;var l=r?fe:Kt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Pt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var h=[],x,E=l==="mouseout"||l==="mouseover",B=r.target||r.srcElement,q=!1;B;){if(x=this._targets[b(B)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){q=!0;break}if(x&&x.listens(l,!0)&&(E&&!Di(B,r)||(h.push(x),E))||B===this._container)break;B=B.parentNode}return!h.length&&!q&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var h=r.type;h==="mousedown"&&ro(l),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,h){if(r.type==="click"){var x=u({},r);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var E=this._findEventTargets(r,l);if(h){for(var B=[],q=0;q<h.length;q++)h[q].listens(l,!0)&&B.push(h[q]);E=B.concat(E)}if(E.length){l==="contextmenu"&&Ye(r);var at=E[0],gt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Tt=at.getLatLng&&(!at._radius||at._radius<=10);gt.containerPoint=Tt?this.latLngToContainerPoint(at.getLatLng()):this.mouseEventToContainerPoint(r),gt.layerPoint=this.containerPointToLayerPoint(gt.containerPoint),gt.latlng=Tt?at.getLatLng():this.layerPointToLatLng(gt.layerPoint)}for(q=0;q<E.length;q++)if(E[q].fire(l,gt,!0),gt.originalEvent._stopped||E[q].options.bubblingMouseEvents===!1&&C(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return ni(this._mapPane)||new ft(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var h=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var h=this.getSize()._divideBy(2);return this.project(r,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(r,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(r,l,h){var x=this._getNewPixelOrigin(h,l);return X([this.project(r.getSouthWest(),l)._subtract(x),this.project(r.getNorthWest(),l)._subtract(x),this.project(r.getSouthEast(),l)._subtract(x),this.project(r.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,h){if(!h)return r;var x=this.project(r,l),E=this.getSize().divideBy(2),B=new H(x.subtract(E),x.add(E)),q=this._getBoundsOffset(B,h,l);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?r:this.unproject(x.add(q),l)},_limitOffset:function(r,l){if(!l)return r;var h=this.getPixelBounds(),x=new H(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(r,l,h){var x=X(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=x.min.subtract(r.min),B=x.max.subtract(r.max),q=this._rebound(E.x,-B.x),at=this._rebound(E.y,-B.y);return new ft(q,at)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),h=this.getMaxZoom(),x=Pt.any3d?this.options.zoomSnap:1;return x&&(r=Math.round(r/x)*x),Math.max(l,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ne(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var h=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var r=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var h=to,x=this._proxy.style[h];qn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();qn(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),E=this._getCenterOffset(r)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(E)?!1:(Z(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,Ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ne(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oo(r,l){return new Jt(r,l)}var En=lt.extend({options:{position:"topright"},initialize:function(r){N(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),h=this.getPosition(),x=r._controlCorners[h];return Ft(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ca=function(r){return new En(r)};Jt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",h=this._controlContainer=se("div",l+"control-container",this._container);function x(E,B){var q=l+E+" "+l+B;r[E+B]=se("div",q,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Me(this._controlCorners[r]);Me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var su=En.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(r,l,h){N(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in r)this._addLayer(r[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return En.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ne(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ne(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=se("div",r),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),la(l),sa(l);var x=this._section=se("section",r+"-list");h&&(this._map.on("click",this.collapse,this),Kt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=se("a",r+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),Kt(E,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){Ye(B),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=se("div",r+"-base",x),this._separator=se("div",r+"-separator",x),this._overlaysList=se("div",r+"-overlays",x),l.appendChild(x)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pn(this._baseLayersList),pn(this._overlaysList),this._layerControlInputs=[];var r,l,h,x,E=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,r=r||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(b(r.target)),h=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(r,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(r){var l=document.createElement("label"),h=this._map.hasLayer(r.layer),x;r.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+b(this),h),this._layerControlInputs.push(x),x.layerId=b(r.layer),Kt(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var B=document.createElement("span");l.appendChild(B),B.appendChild(x),B.appendChild(E);var q=r.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,h,x=[],E=[];this._handlingClick=!0;for(var B=r.length-1;B>=0;B--)l=r[B],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||E.push(h);for(B=0;B<E.length;B++)this._map.hasLayer(E[B])&&this._map.removeLayer(E[B]);for(B=0;B<x.length;B++)this._map.hasLayer(x[B])||this._map.addLayer(x[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,h,x=this._map.getZoom(),E=r.length-1;E>=0;E--)l=r[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Kt(r,"click",Ye),this.expand();var l=this;setTimeout(function(){fe(r,"click",Ye),l._preventClick=!1})}}),th=function(r,l,h){return new su(r,l,h)},fl=En.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",h=se("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,h,x,E){var B=se("a",h,x);return B.innerHTML=r,B.href="#",B.title=l,B.setAttribute("role","button"),B.setAttribute("aria-label",l),la(B),Kt(B,"click",Sr),Kt(B,"click",E,this),Kt(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Ne(this._zoomInButton,l),Ne(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ft(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ft(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fl,this.addControl(this.zoomControl))});var hl=function(r){return new fl(r)},lu=En.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",h=se("div",l),x=this.options;return this._addScales(x,l+"-line",h),r.on(x.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,h){r.metric&&(this._mScale=se("div",l,h)),r.imperial&&(this._iScale=se("div",l,h))},_update:function(){var r=this._map,l=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/r)},_updateImperial:function(r){var l=r*3.2808399,h,x,E;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(r,l,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),h=r/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),eh=function(r){return new lu(r)},nh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ml=En.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pt.inlineSvg?nh+" ":"")+"Leaflet</a>"},initialize:function(r){N(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=se("div","leaflet-control-attribution"),la(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&new ml().addTo(this)});var rh=function(r){return new ml(r)};En.Layers=su,En.Zoom=fl,En.Scale=lu,En.Attribution=ml,ca.layers=th,ca.zoom=hl,ca.scale=eh,ca.attribution=rh;var Jn=lt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(r,l){return r.addHandler(l,this),this};var ih={Events:K},cu=Pt.touch?"touchstart mousedown":"mousedown",ii=rt.extend({options:{clickTolerance:3},initialize:function(r,l,h,x){N(this,x),this._element=r,this._dragStartTarget=l||r,this._preventOutline=h},enable:function(){this._enabled||(Kt(this._dragStartTarget,cu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,cu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!na(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ii._dragging===this&&this.finishDrag();return}if(!(ii._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ii._dragging=this,this._preventOutline&&ro(this._element),no(),vr(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,h=Mi(this._element);this._startPoint=new ft(l.clientX,l.clientY),this._startPos=ni(this._element),this._parentScale=ri(h);var x=r.type==="mousedown";Kt(document,x?"mousemove":"touchmove",this._onMove,this),Kt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,h=new ft(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ye(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ft(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),$e(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ne(document.body,"leaflet-dragging"),this._lastTarget&&(Ne(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),ul(),eo();var l=this._moved&&this._moving;this._moving=!1,ii._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function uu(r,l,h){var x,E=[1,4,2,8],B,q,at,gt,Tt,jt,Ot,Rt;for(B=0,jt=r.length;B<jt;B++)r[B]._code=ji(r[B],l);for(at=0;at<4;at++){for(Ot=E[at],x=[],B=0,jt=r.length,q=jt-1;B<jt;q=B++)gt=r[B],Tt=r[q],gt._code&Ot?Tt._code&Ot||(Rt=Wo(Tt,gt,Ot,l,h),Rt._code=ji(Rt,l),x.push(Rt)):(Tt._code&Ot&&(Rt=Wo(Tt,gt,Ot,l,h),Rt._code=ji(Rt,l),x.push(Rt)),x.push(gt));r=x}return r}function Xo(r,l){var h,x,E,B,q,at,gt,Tt,jt;if(!r||r.length===0)throw new Error("latlngs not passed");sn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ot=F([0,0]),Rt=z(r),Vt=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Vt<1700&&(Ot=pl(r));var Ae=r.length,Ie=[];for(h=0;h<Ae;h++){var ln=F(r[h]);Ie.push(l.project(F([ln.lat-Ot.lat,ln.lng-Ot.lng])))}for(at=gt=Tt=0,h=0,x=Ae-1;h<Ae;x=h++)E=Ie[h],B=Ie[x],q=E.y*B.x-B.y*E.x,gt+=(E.x+B.x)*q,Tt+=(E.y+B.y)*q,at+=q*3;at===0?jt=Ie[0]:jt=[gt/at,Tt/at];var Vn=l.unproject(R(jt));return F([Vn.lat+Ot.lat,Vn.lng+Ot.lng])}function pl(r){for(var l=0,h=0,x=0,E=0;E<r.length;E++){var B=F(r[E]);l+=B.lat,h+=B.lng,x++}return F([l/x,h/x])}var ah={__proto__:null,clipPolygon:uu,polygonCenter:Xo,centroid:pl};function du(r,l){if(!l||!r.length)return r.slice();var h=l*l;return r=lh(r,h),r=sh(r,h),r}function gl(r,l,h){return Math.sqrt(ki(r,l,h,!0))}function oh(r,l,h){return ki(r,l,h)}function sh(r,l){var h=r.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(h);E[0]=E[h-1]=1,bl(r,E,l,0,h-1);var B,q=[];for(B=0;B<h;B++)E[B]&&q.push(r[B]);return q}function bl(r,l,h,x,E){var B=0,q,at,gt;for(at=x+1;at<=E-1;at++)gt=ki(r[at],r[x],r[E],!0),gt>B&&(q=at,B=gt);B>h&&(l[q]=1,bl(r,l,h,x,q),bl(r,l,h,q,E))}function lh(r,l){for(var h=[r[0]],x=1,E=0,B=r.length;x<B;x++)ch(r[x],r[E])>l&&(h.push(r[x]),E=x);return E<B-1&&h.push(r[B-1]),h}var fu;function hu(r,l,h,x,E){var B=x?fu:ji(r,h),q=ji(l,h),at,gt,Tt;for(fu=q;;){if(!(B|q))return[r,l];if(B&q)return!1;at=B||q,gt=Wo(r,l,at,h,E),Tt=ji(gt,h),at===B?(r=gt,B=Tt):(l=gt,q=Tt)}}function Wo(r,l,h,x,E){var B=l.x-r.x,q=l.y-r.y,at=x.min,gt=x.max,Tt,jt;return h&8?(Tt=r.x+B*(gt.y-r.y)/q,jt=gt.y):h&4?(Tt=r.x+B*(at.y-r.y)/q,jt=at.y):h&2?(Tt=gt.x,jt=r.y+q*(gt.x-r.x)/B):h&1&&(Tt=at.x,jt=r.y+q*(at.x-r.x)/B),new ft(Tt,jt,E)}function ji(r,l){var h=0;return r.x<l.min.x?h|=1:r.x>l.max.x&&(h|=2),r.y<l.min.y?h|=4:r.y>l.max.y&&(h|=8),h}function ch(r,l){var h=l.x-r.x,x=l.y-r.y;return h*h+x*x}function ki(r,l,h,x){var E=l.x,B=l.y,q=h.x-E,at=h.y-B,gt=q*q+at*at,Tt;return gt>0&&(Tt=((r.x-E)*q+(r.y-B)*at)/gt,Tt>1?(E=h.x,B=h.y):Tt>0&&(E+=q*Tt,B+=at*Tt)),q=r.x-E,at=r.y-B,x?q*q+at*at:new ft(E,B)}function sn(r){return!j(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function mu(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(r)}function yl(r,l){var h,x,E,B,q,at,gt,Tt;if(!r||r.length===0)throw new Error("latlngs not passed");sn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var jt=F([0,0]),Ot=z(r),Rt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Rt<1700&&(jt=pl(r));var Vt=r.length,Ae=[];for(h=0;h<Vt;h++){var Ie=F(r[h]);Ae.push(l.project(F([Ie.lat-jt.lat,Ie.lng-jt.lng])))}for(h=0,x=0;h<Vt-1;h++)x+=Ae[h].distanceTo(Ae[h+1])/2;if(x===0)Tt=Ae[0];else for(h=0,B=0;h<Vt-1;h++)if(q=Ae[h],at=Ae[h+1],E=q.distanceTo(at),B+=E,B>x){gt=(B-x)/E,Tt=[at.x-gt*(at.x-q.x),at.y-gt*(at.y-q.y)];break}var ln=l.unproject(R(Tt));return F([ln.lat+jt.lat,ln.lng+jt.lng])}var pu={__proto__:null,simplify:du,pointToSegmentDistance:gl,closestPointOnSegment:oh,clipSegment:hu,_getEdgeIntersection:Wo,_getBitCode:ji,_sqClosestPointOnSegment:ki,isFlat:sn,_flat:mu,polylineCenter:yl},Qo={project:function(r){return new ft(r.lng,r.lat)},unproject:function(r){return new Y(r.y,r.x)},bounds:new H([-180,-90],[180,90])},Jo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,h=this.R,x=r.lat*l,E=this.R_MINOR/h,B=Math.sqrt(1-E*E),q=B*Math.sin(x),at=Math.tan(Math.PI/4-x/2)/Math.pow((1-q)/(1+q),B/2);return x=-h*Math.log(Math.max(at,1e-10)),new ft(r.lng*l*h,x)},unproject:function(r){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,E=Math.sqrt(1-x*x),B=Math.exp(-r.y/h),q=Math.PI/2-2*Math.atan(B),at=0,gt=.1,Tt;at<15&&Math.abs(gt)>1e-7;at++)Tt=E*Math.sin(q),Tt=Math.pow((1-Tt)/(1+Tt),E/2),gt=Math.PI/2-2*Math.atan(B*Tt)-q,q+=gt;return new Y(q*l,r.x*l/h)}},gu={__proto__:null,LonLat:Qo,Mercator:Jo,SphericalMercator:Et},ua=u({},bt,{code:"EPSG:3395",projection:Jo,transformation:(function(){var r=.5/(Math.PI*Jo.R);return Dt(r,.5,-r,.5)})()}),bu=u({},bt,{code:"EPSG:4326",projection:Qo,transformation:Dt(1/180,1,-1/180,.5)}),uh=u({},ct,{projection:Qo,transformation:Dt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var h=l.lng-r.lng,x=l.lat-r.lat;return Math.sqrt(h*h+x*x)},infinite:!0});ct.Earth=bt,ct.EPSG3395=ua,ct.EPSG3857=St,ct.EPSG900913=kt,ct.EPSG4326=bu,ct.Simple=uh;var tr=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[b(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[b(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=b(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return b(r)in this._layers},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},_addLayers:function(r){r=r?j(r)?r:[r]:[];for(var l=0,h=r.length;l<h;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[b(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=b(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Oi=tr.extend({initialize:function(r,l){N(this,l),this._layers={};var h,x;if(r)for(h=0,x=r.length;h<x;h++)this.addLayer(r[h])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[r]&&x[r].apply(x,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return b(r)}}),yu=function(r,l){return new Oi(r,l)},jn=Oi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Oi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Oi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Q;for(var l in this._layers){var h=this._layers[l];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),so=function(r,l){return new jn(r,l)},da=lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){N(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(r,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var E=R(x),B=R(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(h.className||""),B&&(r.style.marginLeft=-B.x+"px",r.style.marginTop=-B.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return Pt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ts(r){return new da(r)}var fa=da.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof fa.imagePath!="string"&&(fa.imagePath=this._detectIconPath()),(this.options.imagePath||fa.imagePath)+da.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(h,x,E){var B=x.exec(h);return B&&B[E]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=se("div","leaflet-default-icon-path",document.body),l=Ti(r,"background-image")||Ti(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),vl=Jn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ii(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ft(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ne(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,B=ni(l._icon),q=h.getPixelBounds(),at=h.getPixelOrigin(),gt=X(q.min._subtract(at).add(E),q.max._subtract(at).subtract(E));if(!gt.contains(B)){var Tt=R((Math.max(gt.max.x,B.x)-gt.max.x)/(q.max.x-gt.max.x)-(Math.min(gt.min.x,B.x)-gt.min.x)/(q.min.x-gt.min.x),(Math.max(gt.max.y,B.y)-gt.max.y)/(q.max.y-gt.max.y)-(Math.min(gt.min.y,B.y)-gt.min.y)/(q.min.y-gt.min.y)).multiplyBy(x);h.panBy(Tt,{animate:!1}),this._draggable._newPos._add(Tt),this._draggable._startPos._add(Tt),$e(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Z(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,h=l._shadow,x=ni(l._icon),E=l._map.layerPointToLatLng(x);h&&$e(h,x),l._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ha=tr.extend({options:{icon:new fa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){N(this,l),this._latlng=F(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=F(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),Ft(h,l),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(h,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),B=!1;E!==this._shadow&&(this._removeShadow(),B=!0),E&&(Ft(E,l),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&B&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),Me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Me(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&$e(this._icon,r),this._shadow&&$e(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Tn(this._icon,r),this._shadow&&Tn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,h=l.iconSize?R(l.iconSize):R(0,0),x=l.iconAnchor?R(l.iconAnchor):R(0,0);r.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xl(r,l){return new ha(r,l)}var Zr=tr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return N(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),lo=Zr.extend({options:{fill:!0,radius:10},initialize:function(r,l){N(this,l),this._latlng=F(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=F(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Zr.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,h=this._clickTolerance(),x=[r+h,l+h];this._pxBounds=new H(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vu(r,l){return new lo(r,l)}var _l=lo.extend({initialize:function(r,l,h){if(typeof l=="number"&&(l=u({},h,{radius:l})),N(this,l),this._latlng=F(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Zr.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===bt.distance){var E=Math.PI/180,B=this._mRadius/bt.R/E,q=h.project([l+B,r]),at=h.project([l-B,r]),gt=q.add(at).divideBy(2),Tt=h.unproject(gt).lat,jt=Math.acos((Math.cos(B*E)-Math.sin(l*E)*Math.sin(Tt*E))/(Math.cos(l*E)*Math.cos(Tt*E)))/E;(isNaN(jt)||jt===0)&&(jt=B/Math.cos(Math.PI/180*l)),this._point=gt.subtract(h.getPixelOrigin()),this._radius=isNaN(jt)?0:gt.x-h.project([Tt,r-jt]).x,this._radiusY=gt.y-q.y}else{var Ot=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ot).x}this._updateBounds()}});function dh(r,l,h){return new _l(r,l,h)}var Yr=Zr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){N(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,h=null,x=ki,E,B,q=0,at=this._parts.length;q<at;q++)for(var gt=this._parts[q],Tt=1,jt=gt.length;Tt<jt;Tt++){E=gt[Tt-1],B=gt[Tt];var Ot=x(r,E,B,!0);Ot<l&&(l=Ot,h=x(r,E,B))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=F(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Q,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],h=sn(r),x=0,E=r.length;x<E;x++)h?(l[x]=F(r[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(r[x]);return l},_project:function(){var r=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new ft(r,r);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,h){var x=r[0]instanceof Y,E=r.length,B,q;if(x){for(q=[],B=0;B<E;B++)q[B]=this._map.latLngToLayerPoint(r[B]),h.extend(q[B]);l.push(q)}else for(B=0;B<E;B++)this._projectLatlngs(r[B],l,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,E,B,q,at,gt;for(h=0,E=0,B=this._rings.length;h<B;h++)for(gt=this._rings[h],x=0,q=gt.length;x<q-1;x++)at=hu(gt[x],gt[x+1],r,x,!0),at&&(l[E]=l[E]||[],l[E].push(at[0]),(at[1]!==gt[x+1]||x===q-2)&&(l[E].push(at[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,h=0,x=r.length;h<x;h++)r[h]=du(r[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var h,x,E,B,q,at,gt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,B=this._parts.length;h<B;h++)for(at=this._parts[h],x=0,q=at.length,E=q-1;x<q;E=x++)if(!(!l&&x===0)&&gl(r,at[E],at[x])<=gt)return!0;return!1}});function fh(r,l){return new Yr(r,l)}Yr._flat=mu;var ma=Yr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=Yr.prototype._convertLatLngs.call(this,r),h=l.length;return h>=2&&l[0]instanceof Y&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(r){Yr.prototype._setLatLngs.call(this,r),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,h=new ft(l,l);if(r=new H(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,B;x<E;x++)B=uu(this._rings[x],r,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,h,x,E,B,q,at,gt,Tt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(B=0,gt=this._parts.length;B<gt;B++)for(h=this._parts[B],q=0,Tt=h.length,at=Tt-1;q<Tt;at=q++)x=h[q],E=h[at],x.y>r.y!=E.y>r.y&&r.x<(E.x-x.x)*(r.y-x.y)/(E.y-x.y)+x.x&&(l=!l);return l||Yr.prototype._containsPoint.call(this,r,!0)}});function kn(r,l){return new ma(r,l)}var On=jn.extend({initialize:function(r,l){N(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=j(r)?r:r.features,h,x,E;if(l){for(h=0,x=l.length;h<x;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var B=this.options;if(B.filter&&!B.filter(r))return this;var q=co(r,B);return q?(q.feature=pa(r),q.defaultOptions=q.options,this.resetStyle(q),B.onEachFeature&&B.onEachFeature(r,q),this.addLayer(q)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function co(r,l){var h=r.type==="Feature"?r.geometry:r,x=h?h.coordinates:null,E=[],B=l&&l.pointToLayer,q=l&&l.coordsToLatLng||es,at,gt,Tt,jt;if(!x&&!h)return null;switch(h.type){case"Point":return at=q(x),Sl(B,r,at,l);case"MultiPoint":for(Tt=0,jt=x.length;Tt<jt;Tt++)at=q(x[Tt]),E.push(Sl(B,r,at,l));return new jn(E);case"LineString":case"MultiLineString":return gt=uo(x,h.type==="LineString"?0:1,q),new Yr(gt,l);case"Polygon":case"MultiPolygon":return gt=uo(x,h.type==="Polygon"?1:2,q),new ma(gt,l);case"GeometryCollection":for(Tt=0,jt=h.geometries.length;Tt<jt;Tt++){var Ot=co({geometry:h.geometries[Tt],type:"Feature",properties:r.properties},l);Ot&&E.push(Ot)}return new jn(E);case"FeatureCollection":for(Tt=0,jt=h.features.length;Tt<jt;Tt++){var Rt=co(h.features[Tt],l);Rt&&E.push(Rt)}return new jn(E);default:throw new Error("Invalid GeoJSON object.")}}function Sl(r,l,h,x){return r?r(l,h):new ha(h,x&&x.markersInheritOptions&&x)}function es(r){return new Y(r[1],r[0],r[2])}function uo(r,l,h){for(var x=[],E=0,B=r.length,q;E<B;E++)q=l?uo(r[E],l-1,h):(h||es)(r[E]),x.push(q);return x}function fo(r,l){return r=F(r),r.alt!==void 0?[_(r.lng,l),_(r.lat,l),_(r.alt,l)]:[_(r.lng,l),_(r.lat,l)]}function ns(r,l,h,x){for(var E=[],B=0,q=r.length;B<q;B++)E.push(l?ns(r[B],sn(r[B])?0:l-1,h,x):fo(r[B],x));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function er(r,l){return r.feature?u({},r.feature,{geometry:l}):pa(l)}function pa(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Ci={toGeoJSON:function(r){return er(this,{type:"Point",coordinates:fo(this.getLatLng(),r)})}};ha.include(Ci),_l.include(Ci),lo.include(Ci),Yr.include({toGeoJSON:function(r){var l=!sn(this._latlngs),h=ns(this._latlngs,l?1:0,!1,r);return er(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),ma.include({toGeoJSON:function(r){var l=!sn(this._latlngs),h=l&&!sn(this._latlngs[0]),x=ns(this._latlngs,h?2:l?1:0,!0,r);return l||(x=[x]),er(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),Oi.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(r).geometry.coordinates)}),er(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var B=E.toGeoJSON(r);if(h)x.push(B.geometry);else{var q=pa(B);q.type==="FeatureCollection"?x.push.apply(x,q.features):x.push(q)}}}),h?er(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function rs(r,l){return new On(r,l)}var xu=rs,wr=tr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,h){this._url=r,this._bounds=z(l),N(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Ei(this._image),this},bringToBack:function(){return this._map&&ea(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=z(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:se("img");if(Ft(l,"leaflet-image-layer"),this._zoomAnimated&&Ft(l,"leaflet-zoom-animated"),this.options.className&&Ft(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;qn(this._image,h,l)},_reset:function(){var r=this._image,l=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();$e(r,l.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){Tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ga=function(r,l,h){return new wr(r,l,h)},is=wr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:se("video");if(Ft(l,"leaflet-image-layer"),this._zoomAnimated&&Ft(l,"leaflet-zoom-animated"),this.options.className&&Ft(l,this.options.className),l.onselectstart=w,l.onmousemove=w,l.onloadeddata=f(this.fire,this,"load"),r){for(var h=l.getElementsByTagName("source"),x=[],E=0;E<h.length;E++)x.push(h[E].src);this._url=h.length>0?x:[l.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var q=se("source");q.src=this._url[B],l.appendChild(q)}}});function _u(r,l,h){return new is(r,l,h)}var ai=wr.extend({_initImage:function(){var r=this._image=this._url;Ft(r,"leaflet-image-layer"),this._zoomAnimated&&Ft(r,"leaflet-zoom-animated"),this.options.className&&Ft(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function Su(r,l,h){return new ai(r,l,h)}var nr=tr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof Y||j(r))?(this._latlng=F(r),N(this,l)):(N(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Tn(this._container,1),this.bringToFront(),this.options.interactive&&(Ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Tn(this._container,0),this._removeTimeout=setTimeout(f(Me,void 0,this._container),200)):Me(this._container),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=F(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ei(this._container),this},bringToBack:function(){return this._map&&ea(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof jn){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=R(this.options.offset),h=this._getAnchor();this._zoomAnimated?$e(this._container,r.add(h)):l=l.add(r).add(h);var x=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(r,l,h,x){var E=l;return E instanceof r||(E=new r(x).setContent(l)),h&&E.setLatLng(h),E}}),tr.include({_initOverlay:function(r,l,h,x){var E=h;return E instanceof r?(N(E,x),E._source=this):(E=l&&!x?l:new r(x,this),E.setContent(h)),E}});var ho=nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,nr.prototype.openOn.call(this,r)},onAdd:function(r){nr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zr||this._source.on("preclick",Gr))},onRemove:function(r){nr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zr||this._source.off("preclick",Gr))},getEvents:function(){var r=nr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=se("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=se("div",r+"-content-wrapper",l);if(this._contentNode=se("div",r+"-content",h),la(l),sa(this._contentNode),Kt(l,"contextmenu",Gr),this._tipContainer=se("div",r+"-tip-container",l),this._tip=se("div",r+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=se("a",r+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Kt(x,"click",function(E){Ye(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=r.offsetHeight,E=this.options.maxHeight,B="leaflet-popup-scrolled";E&&x>E?(l.height=E+"px",Ft(r,B)):Ne(r,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();$e(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Ti(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,E=new ft(this._containerLeft,-h-this._containerBottom);E._add(ni(this._container));var B=r.layerPointToContainerPoint(E),q=R(this.options.autoPanPadding),at=R(this.options.autoPanPaddingTopLeft||q),gt=R(this.options.autoPanPaddingBottomRight||q),Tt=r.getSize(),jt=0,Ot=0;B.x+x+gt.x>Tt.x&&(jt=B.x+x-Tt.x+gt.x),B.x-jt-at.x<0&&(jt=B.x-at.x),B.y+h+gt.y>Tt.y&&(Ot=B.y+h-Tt.y+gt.y),B.y-Ot-at.y<0&&(Ot=B.y-at.y),(jt||Ot)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([jt,Ot]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hh=function(r,l){return new ho(r,l)};Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(r,l,h){return this._initOverlay(ho,r,l,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),tr.include({bindPopup:function(r,l){return this._popup=this._initOverlay(ho,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof jn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Sr(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Zr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var as=nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){nr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){nr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=nr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,h,x=this._map,E=this._container,B=x.latLngToContainerPoint(x.getCenter()),q=x.layerPointToContainerPoint(r),at=this.options.direction,gt=E.offsetWidth,Tt=E.offsetHeight,jt=R(this.options.offset),Ot=this._getAnchor();at==="top"?(l=gt/2,h=Tt):at==="bottom"?(l=gt/2,h=0):at==="center"?(l=gt/2,h=Tt/2):at==="right"?(l=0,h=Tt/2):at==="left"?(l=gt,h=Tt/2):q.x<B.x?(at="right",l=0,h=Tt/2):(at="left",l=gt+(jt.x+Ot.x)*2,h=Tt/2),r=r.subtract(R(l,h,!0)).add(jt).add(Ot),Ne(E,"leaflet-tooltip-right"),Ne(E,"leaflet-tooltip-left"),Ne(E,"leaflet-tooltip-top"),Ne(E,"leaflet-tooltip-bottom"),Ft(E,"leaflet-tooltip-"+at),$e(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Tn(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),mh=function(r,l){return new as(r,l)};Jt.include({openTooltip:function(r,l,h){return this._initOverlay(as,r,l,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),tr.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(as,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof jn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Kt(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Kt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,h,x;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var wl=da.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(pn(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=R(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function wu(r){return new wl(r)}da.Default=fa;var Li=tr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){N(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Me(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ea(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ft?r:new ft(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,h=-r(-1/0,1/0),x=0,E=l.length,B;x<E;x++)B=l[x].style.zIndex,l[x]!==this._container&&B&&(h=r(h,+B));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pt.ielt9){Tn(this._container,this.options.opacity);var r=+new Date,l=!1,h=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var B=Math.min(1,(r-E.loaded)/200);Tn(E.el,B),B<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=l-Math.abs(r-h),this._onUpdateLevel(h)):(Me(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[r],E=this._map;return x||(x=this._levels[r]={},x.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),x.zoom=r,this._setZoomTransform(x,E.getCenter(),E.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Me(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,h,x){var E=Math.floor(r/2),B=Math.floor(l/2),q=h-1,at=new ft(+E,+B);at.z=+q;var gt=this._tileCoordsToKey(at),Tt=this._tiles[gt];return Tt&&Tt.active?(Tt.retain=!0,!0):(Tt&&Tt.loaded&&(Tt.retain=!0),q>x?this._retainParent(E,B,q,x):!1)},_retainChildren:function(r,l,h,x){for(var E=2*r;E<2*r+2;E++)for(var B=2*l;B<2*l+2;B++){var q=new ft(E,B);q.z=h+1;var at=this._tileCoordsToKey(q),gt=this._tiles[at];if(gt&&gt.active){gt.retain=!0;continue}else gt&&gt.loaded&&(gt.retain=!0);h+1<x&&this._retainChildren(E,B,h+1,x)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,h,x){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var B=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||B)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,l)},_setZoomTransform:function(r,l,h){var x=this._map.getZoomScale(h,r.zoom),E=r.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();Pt.any3d?qn(r.el,E,x):$e(r.el,E)},_resetGrid:function(){var r=this._map,l=r.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(r.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(r.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),E=l.project(r,this._tileZoom).floor(),B=l.getSize().divideBy(x*2);return new H(E.subtract(B),E.add(B))},_update:function(r){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(x),B=E.getCenter(),q=[],at=this.options.keepBuffer,gt=new H(E.getBottomLeft().subtract([at,-at]),E.getTopRight().add([at,-at]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Tt in this._tiles){var jt=this._tiles[Tt].coords;(jt.z!==this._tileZoom||!gt.contains(new ft(jt.x,jt.y)))&&(this._tiles[Tt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var Ot=E.min.y;Ot<=E.max.y;Ot++)for(var Rt=E.min.x;Rt<=E.max.x;Rt++){var Vt=new ft(Rt,Ot);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var Ae=this._tiles[this._tileCoordsToKey(Vt)];Ae?Ae.current=!0:q.push(Vt)}}if(q.sort(function(ln,Vn){return ln.distanceTo(B)-Vn.distanceTo(B)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ie=document.createDocumentFragment();for(Rt=0;Rt<q.length;Rt++)this._addTile(q[Rt],Ie);this._level.el.appendChild(Ie)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!l.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(r);return z(this.options.bounds).overlaps(x)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,h=this.getTileSize(),x=r.scaleBy(h),E=x.add(h),B=l.unproject(x,r.z),q=l.unproject(E,r.z);return[B,q]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),h=new Q(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),h=new ft(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(r){var l=this._tiles[r];l&&(Me(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ft(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=w,r.onmousemove=w,Pt.ielt9&&this.options.opacity<1&&Tn(r,this.options.opacity)},_addTile:function(r,l){var h=this._getTilePos(r),x=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),f(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&Z(f(this._tileReady,this,r,null,E)),$e(E,h),this._tiles[x]={el:E,coords:r,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:r});var x=this._tileCoordsToKey(r);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Tn(h.el,0),U(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Ft(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pt.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new ft(this._wrapX?S(r.x,this._wrapX):r.x,this._wrapY?S(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new H(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function rr(r){return new Li(r)}var Bi=Li.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=N(this,l),l.detectRetina&&Pt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var h=document.createElement("img");return Kt(h,"load",f(this._tileOnLoad,this,l,h)),Kt(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var l={r:Pt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=h),l["-y"]=h}return I(this._url,u(l,this.options))},_tileOnLoad:function(r,l){Pt.ielt9?setTimeout(f(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),r(h,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(r=l-r),r+x},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=w,l.onerror=w,!l.complete)){l.src=k;var h=this._tiles[r].coords;Me(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",k),Li.prototype._removeTile.call(this,r)},_tileReady:function(r,l,h){if(!(!this._map||h&&h.getAttribute("src")===k))return Li.prototype._tileReady.call(this,r,l,h)}});function Cn(r,l){return new Bi(r,l)}var Ln=Bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var h=u({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=N(this,l);var E=l.detectRetina&&Pt.retina?2:1,B=this.getTileSize();h.width=B.x*E,h.height=B.y*E,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Bi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),h=this._crs,x=X(h.project(l[0]),h.project(l[1])),E=x.min,B=x.max,q=(this._wmsVersion>=1.3&&this._crs===bu?[E.y,E.x,B.y,B.x]:[E.x,E.y,B.x,B.y]).join(","),at=Bi.prototype.getTileUrl.call(this,r);return at+D(this.wmsParams,at,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(r,l){return u(this.wmsParams,r),l||this.redraw(),this}});function ba(r,l){return new Ln(r,l)}Bi.WMS=Ln,Cn.wms=ba;var ir=tr.extend({options:{padding:.1},initialize:function(r){N(this,r),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),B=x.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(r,l));Pt.any3d?qn(this._container,B,h):$e(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new H(h,h.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mo=ir.extend({options:{tolerance:0},getEvents:function(){var r=ir.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Kt(r,"mousemove",this._onMouseMove,this),Kt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Me(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var r=this._bounds,l=this._container,h=r.getSize(),x=Pt.retina?2:1;$e(l,r.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[b(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete r._order,delete this._layers[b(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),h=[],x,E;for(E=0;E<l.length;E++){if(x=Number(l[E]),isNaN(x))return;h.push(x)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)r=x.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var h,x,E,B,q=r._parts,at=q.length,gt=this._ctx;if(at){for(gt.beginPath(),h=0;h<at;h++){for(x=0,E=q[h].length;x<E;x++)B=q[h][x],gt[x?"lineTo":"moveTo"](B.x,B.y);l&&gt.closePath()}this._fillStroke(gt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,h=this._ctx,x=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||x)/x;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,x,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,l){var h=l.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(r),x&&(Ft(this._container,"leaflet-interactive"),this._fireEvent([x],r,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,h){this._map._fireDOMEvent(l,h||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function po(r){return Pt.canvas?new mo(r):null}var Ri=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ya={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Ri("shape");Ft(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Ri("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Me(l),r.removeInteractiveTarget(l),delete this._layers[b(r)]},_updateStyle:function(r){var l=r._stroke,h=r._fill,x=r.options,E=r._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(l||(l=r._stroke=Ri("stroke")),E.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=j(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(E.removeChild(l),r._stroke=null),x.fill?(h||(h=r._fill=Ri("fill")),E.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(E.removeChild(h),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),h=Math.round(r._radius),x=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){Ei(r._container)},_bringToBack:function(r){ea(r._container)}},go=Pt.vml?Ri:It,oi=ir.extend({_initContainer:function(){this._container=go("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=go("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Me(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var r=this._bounds,l=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),$e(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=go("path");r.options.className&&Ft(l,r.options.className),r.options.interactive&&Ft(l,"leaflet-interactive"),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Me(r._path),r.removeInteractiveTarget(r._path),delete this._layers[b(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,h=r.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,ee(r._parts,l))},_updateCircle:function(r){var l=r._point,h=Math.max(Math.round(r._radius),1),x=Math.max(Math.round(r._radiusY),1)||h,E="a"+h+","+x+" 0 1,0 ",B=r._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(r,B)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){Ei(r._path)},_bringToBack:function(r){ea(r._path)}});Pt.vml&&oi.include(ya);function Pi(r){return Pt.svg||Pt.vml?new oi(r):null}Jt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&po(r)||Pi(r)}});var Tu=ma.extend({initialize:function(r,l){ma.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=z(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Bn(r,l){return new Tu(r,l)}oi.create=go,oi.pointsToPath=ee,On.geometryToLayer=co,On.coordsToLatLng=es,On.coordsToLatLngs=uo,On.latLngToCoords=fo,On.latLngsToCoords=ns,On.getFeature=er,On.asFeature=pa,Jt.mergeOptions({boxZoom:!0});var os=Jn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vr(),no(),this._startPoint=this._map.mouseEventToContainerPoint(r),Kt(document,{contextmenu:Sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),Ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new H(this._point,this._startPoint),h=l.getSize();$e(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Me(this._box),Ne(this._container,"leaflet-crosshair")),eo(),ul(),fe(document,{contextmenu:Sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",os),Jt.mergeOptions({doubleClickZoom:!0});var Tr=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,E=r.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(r.containerPoint,E)}});Jt.addInitHook("addHandler","doubleClickZoom",Tr),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tl=Jn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ii(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ne(this._map._container,"leaflet-grab"),Ne(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=z(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-l+h)%r+l-h,B=(x+l+h)%r-l-h,q=Math.abs(E+h)<Math.abs(B+h)?E:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(r){var l=this._map,h=l.options,x=!h.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),x)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,q=h.easeLinearity,at=E.multiplyBy(q/B),gt=at.distanceTo([0,0]),Tt=Math.min(h.inertiaMaxSpeed,gt),jt=at.multiplyBy(Tt/gt),Ot=Tt/(h.inertiaDeceleration*q),Rt=jt.multiplyBy(-Ot/2).round();!Rt.x&&!Rt.y?l.fire("moveend"):(Rt=l._limitOffset(Rt,l.options.maxBounds),Z(function(){l.panBy(Rt,{duration:Ot,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Jt.addInitHook("addHandler","dragging",Tl),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bo=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Kt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,h=r.scrollTop||l.scrollTop,x=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},h=this.keyCodes,x,E;for(x=0,E=h.left.length;x<E;x++)l[h.left[x]]=[-1*r,0];for(x=0,E=h.right.length;x<E;x++)l[h.right[x]]=[r,0];for(x=0,E=h.down.length;x<E;x++)l[h.down[x]]=[0,r];for(x=0,E=h.up.length;x<E;x++)l[h.up[x]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},h=this.keyCodes,x,E;for(x=0,E=h.zoomIn.length;x<E;x++)l[h.zoomIn[x]]=r;for(x=0,E=h.zoomOut.length;x<E;x++)l[h.zoomOut[x]]=-r},_addHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],r.shiftKey&&(x=R(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(R(x),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(E)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Sr(r)}}});Jt.addInitHook("addHandler","keyboard",bo),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var si=Jn.extend({addHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=ao(r),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),Sr(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,B=h?Math.ceil(E/h)*h:E,q=r._limitZoom(l+(this._delta>0?B:-B))-l;this._delta=0,this._startTime=null,q&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+q):r.setZoomAround(this._lastMousePos,l+q))}});Jt.addInitHook("addHandler","scrollWheelZoom",si);var El=600;Jt.mergeOptions({tapHold:Pt.touchNative&&Pt.safari&&Pt.mobile,tapTolerance:15});var ss=Jn.extend({addHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new ft(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Kt(document,"touchend",Ye),Kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),El),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){fe(document,"touchend",Ye),fe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new ft(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Jt.addInitHook("addHandler","tapHold",ss),Jt.mergeOptions({touchZoom:Pt.touch,bounceAtZoomLimits:!0});var zi=Jn.extend({addHooks:function(){Ft(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(r.touches[0]),x=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),Ye(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(r.touches[0]),x=l.mouseEventToContainerPoint(r.touches[1]),E=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var B=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&B.x===0&&B.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var q=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(q,this,!0),Ye(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jt.addInitHook("addHandler","touchZoom",zi),Jt.BoxZoom=os,Jt.DoubleClickZoom=Tr,Jt.Drag=Tl,Jt.Keyboard=bo,Jt.ScrollWheelZoom=si,Jt.TapHold=ss,Jt.TouchZoom=zi,o.Bounds=H,o.Browser=Pt,o.CRS=ct,o.Canvas=mo,o.Circle=_l,o.CircleMarker=lo,o.Class=lt,o.Control=En,o.DivIcon=wl,o.DivOverlay=nr,o.DomEvent=Jf,o.DomUtil=ou,o.Draggable=ii,o.Evented=rt,o.FeatureGroup=jn,o.GeoJSON=On,o.GridLayer=Li,o.Handler=Jn,o.Icon=da,o.ImageOverlay=wr,o.LatLng=Y,o.LatLngBounds=Q,o.Layer=tr,o.LayerGroup=Oi,o.LineUtil=pu,o.Map=Jt,o.Marker=ha,o.Mixin=ih,o.Path=Zr,o.Point=ft,o.PolyUtil=ah,o.Polygon=ma,o.Polyline=Yr,o.Popup=ho,o.PosAnimation=Fo,o.Projection=gu,o.Rectangle=Tu,o.Renderer=ir,o.SVG=oi,o.SVGOverlay=ai,o.TileLayer=Bi,o.Tooltip=as,o.Transformation=Lt,o.Util=et,o.VideoOverlay=is,o.bind=f,o.bounds=X,o.canvas=po,o.circle=dh,o.circleMarker=vu,o.control=ca,o.divIcon=wu,o.extend=u,o.featureGroup=so,o.geoJSON=rs,o.geoJson=xu,o.gridLayer=rr,o.icon=ts,o.imageOverlay=ga,o.latLng=F,o.latLngBounds=z,o.layerGroup=yu,o.map=oo,o.marker=xl,o.point=R,o.polygon=kn,o.polyline=fh,o.popup=hh,o.rectangle=Bn,o.setOptions=N,o.stamp=b,o.svg=Pi,o.svgOverlay=Su,o.tileLayer=Cn,o.tooltip=mh,o.transformation=Dt,o.version=s,o.videoOverlay=_u;var va=window.L;o.noConflict=function(){return window.L=va,this},window.L=o}))})(xc,xc.exports)),xc.exports}var yE=bE();const Fm=Xs(yE),wd=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ao(t){const i=document.getElementById(t);if(!i)throw new Error(`#${t} not found`);return i}function vE(t){const{buttonId:i,buttonInputId:o,modalId:s,closeMapId:u,mapCloseBtnId:d,searchBoxId:f,suggestionsId:p,mapId:b}=t.ids,y=t.initialCenter??{lat:37.5665,lon:126.978},S=Ao(o),w=Ao(i),_=Ao(s),T=Ao(d),A=Ao(f),N=Ao(p),D=u?Ao(u):null;let $=null,I=null,j=null;const C=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",k=U=>{C(U)&&document.activeElement!==A&&(U.preventDefault(),U.stopPropagation(),A.focus())},G=()=>{_.style.display="flex",$?setTimeout(()=>$?.invalidateSize(),200):setTimeout(()=>{$=Fm.map(b,{keyboard:!1}).setView([y.lat,y.lon],11),Fm.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo($),$.invalidateSize()},0),_.addEventListener("keydown",k,!0),_.addEventListener("keyup",k,!0),A.focus()},W=()=>{_.style.display="none",A.value="",N.innerHTML="",j&&(window.clearTimeout(j),j=null),_.removeEventListener("keydown",k,!0),_.removeEventListener("keyup",k,!0)},ot=U=>{const et=U.dataset.name??"",lt=Number(U.dataset.lat??""),ht=Number(U.dataset.lon??"");!Number.isFinite(lt)||!Number.isFinite(ht)||!$||(I?I.setLatLng([lt,ht]):I=Fm.marker([lt,ht]).addTo($),$.flyTo([lt,ht],14,{duration:.5}),S.value=et,S.dataset.lat=String(lt),S.dataset.lon=String(ht),t.onSelected?.({name:et,lat:lt,lon:ht}),N.innerHTML="",W())},nt=()=>{j&&window.clearTimeout(j);const U=A.value.trim();if(!U){N.innerHTML="";return}j=window.setTimeout(async()=>{try{const et="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),lt=await fetch(et,{headers:{Accept:"application/json"}});if(!lt.ok)throw new Error(`HTTP ${lt.status}`);const ht=await lt.json();if(!Array.isArray(ht)||ht.length===0){N.innerHTML='<li style="padding:8px">결과 없음</li>';return}const K=ht.slice(0,12).map((rt,ft)=>{const st=rt.display_name.split(",").slice(0,3).map(X=>X.trim()).join(" · "),R="padding:8px;cursor:pointer;outline:none;",H=ft===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${wd(st)}"
                    data-lat="${wd(rt.lat)}"
                    data-lon="${wd(rt.lon)}"
                    data-active="${ft===0?"1":"0"}"
                    style="${R}${H}"
                  >${wd(st)}</li>`}).join("");N.innerHTML=K}catch(et){console.error(et),N.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},tt=U=>{const et=U.target;et.tagName==="LI"&&ot(et)},Z=U=>{if(U.key==="Enter"){const et=N.querySelector('li[data-active="1"]')??N.querySelector("li");et&&ot(et)}};return w.addEventListener("click",G),T.addEventListener("click",W),D&&D.addEventListener("click",W),A.addEventListener("input",nt),A.addEventListener("keydown",Z),N.addEventListener("click",tt),()=>{w.removeEventListener("click",G),T.removeEventListener("click",W),D&&D.removeEventListener("click",W),A.removeEventListener("input",nt),A.removeEventListener("keydown",Z),N.removeEventListener("click",tt),_.removeEventListener("keydown",k,!0),_.removeEventListener("keyup",k,!0),j&&(window.clearTimeout(j),j=null),$&&($.remove(),$=null)}}function js(){return document.getElementById("suggestions")}function Jd(t){const i=Array.from(t.querySelectorAll('li, [role="option"]'));return i.forEach((o,s)=>{o.getAttribute("role")||o.setAttribute("role","option"),o.setAttribute("aria-selected",o===document.activeElement?"true":"false"),o.tabIndex=-1,o.id||(o.id=`suggestion-item-${s}`)}),i}function sc(t,i){const o=Jd(t);if(o.length===0)return;const s=o.length;let u=i;u<0&&(u=s-1),u>=s&&(u=0),o.forEach(f=>{f.tabIndex=-1,f.setAttribute("aria-selected","false")});const d=o[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function U_({onSelect:t,placeholderText:i="출생지선택",buttonStyle:o,value:s}){const[u,d]=O.useState(i),[f,p]=O.useState(!1),[b,y]=O.useState(s??""),S=O.useRef(null),w=O.useRef(null),_=O.useRef(null),T=O.useRef(null);return O.useEffect(()=>{s!==void 0&&y(s)},[s]),O.useEffect(()=>{if(!f)return;const A=vE({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:nt=>{d("선택완료"),y(nt.name),S.current&&(S.current.value=nt.name),w.current&&(w.current.value=String(nt.lat)),_.current&&(_.current.value=String(nt.lon)),t?.(nt),p(!1)}}),N=document.getElementById("inputBirthPlaceBtn");N&&N.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const D=document.getElementById("mapModal"),$=document.getElementById("searchBox"),I=js();setTimeout(()=>$?.focus(),0);const j='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',C=nt=>{if(nt.key==="Escape"){nt.preventDefault(),p(!1);return}if(nt.key!=="Tab")return;const tt=js();if(tt&&tt.contains(document.activeElement))return;const Z=Array.from(D.querySelectorAll(j)).filter(ht=>!ht.hasAttribute("disabled")&&ht.tabIndex!==-1);if(Z.length===0)return;const U=Z[0],et=Z[Z.length-1],lt=document.activeElement;nt.shiftKey?(lt===U||!D.contains(lt))&&(nt.preventDefault(),et.focus()):(lt===et||!D.contains(lt))&&(nt.preventDefault(),U.focus())};D.addEventListener("keydown",C);const k=nt=>{if(nt.key!=="ArrowDown")return;const tt=js();!tt||Jd(tt).length===0||(nt.preventDefault(),sc(tt,0))};$?.addEventListener("keydown",k);const G=nt=>{if(nt.target.value.trim()===""){const Z=js();Z&&(Z.innerHTML="")}};$?.addEventListener("input",G);const W=nt=>{const tt=js();if(!tt)return;const Z=Jd(tt);if(Z.length===0)return;const U=document.activeElement,et=U?Z.indexOf(U):-1;if(et===-1)return;const lt=ht=>{nt.preventDefault(),sc(tt,et+ht)};switch(nt.key){case"Tab":nt.preventDefault(),lt(nt.shiftKey?-1:1);break;case"ArrowDown":nt.preventDefault(),lt(1);break;case"ArrowUp":nt.preventDefault(),lt(-1);break;case"Home":nt.preventDefault(),sc(tt,0);break;case"End":nt.preventDefault(),sc(tt,Z.length-1);break;case"Enter":case" ":nt.preventDefault(),U.click();break;case"Backspace":nt.preventDefault(),tt.innerHTML="",$?.focus();break}nt.stopPropagation()};let ot=null;return I&&(I.addEventListener("keydown",W),ot=new MutationObserver(()=>{const nt=js();!nt||Jd(nt).length===0||sc(nt,0)}),ot.observe(I,{childList:!0,subtree:!1})),()=>{D.removeEventListener("keydown",C),$?.removeEventListener("keydown",k),$?.removeEventListener("input",G),I&&I.removeEventListener("keydown",W),ot?.disconnect(),A?.()}},[f,t]),O.useEffect(()=>{f||setTimeout(()=>T.current?.focus(),0)},[f]),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:b&&b.trim()!==""?b:i}),g.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:o,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":"mapModal",children:u}),g.jsx("input",{ref:S,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:w,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:_,type:"hidden",name:"birthPlace_lon",defaultValue:""}),f&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),g.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var Ic=T_();const xE=Xs(Ic);function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _E=typeof Symbol=="function"&&Symbol.observable||"@@observable",av=_E,ov=()=>Math.random().toString(36).substring(7).split("").join("."),SE={INIT:`@@redux/INIT${ov()}`,REPLACE:`@@redux/REPLACE${ov()}`},sv=SE;function wE(t){if(typeof t!="object"||t===null)return!1;let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i||Object.getPrototypeOf(t)===null}function G_(t,i,o){if(typeof t!="function")throw new Error(Pn(2));if(typeof i=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof i=="function"&&typeof o>"u"&&(o=i,i=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Pn(1));return o(G_)(t,i)}let s=t,u=i,d=new Map,f=d,p=0,b=!1;function y(){f===d&&(f=new Map,d.forEach((D,$)=>{f.set($,D)}))}function S(){if(b)throw new Error(Pn(3));return u}function w(D){if(typeof D!="function")throw new Error(Pn(4));if(b)throw new Error(Pn(5));let $=!0;y();const I=p++;return f.set(I,D),function(){if($){if(b)throw new Error(Pn(6));$=!1,y(),f.delete(I),d=null}}}function _(D){if(!wE(D))throw new Error(Pn(7));if(typeof D.type>"u")throw new Error(Pn(8));if(typeof D.type!="string")throw new Error(Pn(17));if(b)throw new Error(Pn(9));try{b=!0,u=s(u,D)}finally{b=!1}return(d=f).forEach(I=>{I()}),D}function T(D){if(typeof D!="function")throw new Error(Pn(10));s=D,_({type:sv.REPLACE})}function A(){const D=w;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Pn(11));function I(){const C=$;C.next&&C.next(S())}return I(),{unsubscribe:D(I)}},[av](){return this}}}return _({type:sv.INIT}),{dispatch:_,subscribe:w,getState:S,replaceReducer:T,[av]:A}}function lv(t,i){return function(...o){return i(t.apply(this,o))}}function cv(t,i){if(typeof t=="function")return lv(t,i);if(typeof t!="object"||t===null)throw new Error(Pn(16));const o={};for(const s in t){const u=t[s];typeof u=="function"&&(o[s]=lv(u,i))}return o}function Z_(...t){return t.length===0?i=>i:t.length===1?t[0]:t.reduce((i,o)=>(...s)=>i(o(...s)))}function TE(...t){return i=>(o,s)=>{const u=i(o,s);let d=()=>{throw new Error(Pn(15))};const f={getState:u.getState,dispatch:(b,...y)=>d(b,...y)},p=t.map(b=>b(f));return d=Z_(...p)(u.dispatch),{...u,dispatch:d}}}var Xm={exports:{}},Wm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function EE(){if(uv)return Wm;uv=1;var t=kf();function i(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var o=typeof Object.is=="function"?Object.is:i,s=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,f=t.useMemo,p=t.useDebugValue;return Wm.useSyncExternalStoreWithSelector=function(b,y,S,w,_){var T=u(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=f(function(){function D(k){if(!$){if($=!0,I=k,k=w(k),_!==void 0&&A.hasValue){var G=A.value;if(_(G,k))return j=G}return j=k}if(G=j,o(I,k))return G;var W=w(k);return _!==void 0&&_(G,W)?(I=k,G):(I=k,j=W)}var $=!1,I,j,C=S===void 0?null:S;return[function(){return D(y())},C===null?void 0:function(){return D(C())}]},[y,S,w,_]);var N=s(b,T[0],T[1]);return d(function(){A.hasValue=!0,A.value=N},[N]),p(N),N},Wm}var dv;function ME(){return dv||(dv=1,Xm.exports=EE()),Xm.exports}ME();var NE=O.version.startsWith("19"),AE=Symbol.for(NE?"react.transitional.element":"react.element"),DE=Symbol.for("react.portal"),jE=Symbol.for("react.fragment"),kE=Symbol.for("react.strict_mode"),OE=Symbol.for("react.profiler"),CE=Symbol.for("react.consumer"),LE=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),BE=Symbol.for("react.suspense"),RE=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),PE=Symbol.for("react.lazy"),zE=Y_,HE=fp;function $E(t){if(typeof t=="object"&&t!==null){const{$$typeof:i}=t;switch(i){case AE:switch(t=t.type,t){case jE:case OE:case kE:case BE:case RE:return t;default:switch(t=t&&t.$$typeof,t){case LE:case Y_:case PE:case fp:return t;case CE:return t;default:return i}}case DE:return i}}}function IE(t){return $E(t)===fp}function UE(t,i,o,s,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:f}){let p=!1,b,y,S,w,_;function T(I,j){return b=I,y=j,S=t(b,y),w=i(s,y),_=o(S,w,y),p=!0,_}function A(){return S=t(b,y),i.dependsOnOwnProps&&(w=i(s,y)),_=o(S,w,y),_}function N(){return t.dependsOnOwnProps&&(S=t(b,y)),i.dependsOnOwnProps&&(w=i(s,y)),_=o(S,w,y),_}function D(){const I=t(b,y),j=!f(I,S);return S=I,j&&(_=o(S,w,y)),_}function $(I,j){const C=!d(j,y),k=!u(I,b,j,y);return b=I,y=j,C&&k?A():C?N():k?D():_}return function(j,C){return p?$(j,C):T(j,C)}}function GE(t,{initMapStateToProps:i,initMapDispatchToProps:o,initMergeProps:s,...u}){const d=i(t,u),f=o(t,u),p=s(t,u);return UE(d,f,p,t,u)}function ZE(t,i){const o={};for(const s in t){const u=t[s];typeof u=="function"&&(o[s]=(...d)=>i(u(...d)))}return o}function V0(t){return function(o){const s=t(o);function u(){return s}return u.dependsOnOwnProps=!1,u}}function fv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function q_(t,i){return function(s,{displayName:u}){const d=function(p,b){return d.dependsOnOwnProps?d.mapToProps(p,b):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,b){d.mapToProps=t,d.dependsOnOwnProps=fv(t);let y=d(p,b);return typeof y=="function"&&(d.mapToProps=y,d.dependsOnOwnProps=fv(y),y=d(p,b)),y},d}}function hp(t,i){return(o,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${i} argument when connecting component ${s.wrappedComponentName}.`)}}function YE(t){return t&&typeof t=="object"?V0(i=>ZE(t,i)):t?typeof t=="function"?q_(t):hp(t,"mapDispatchToProps"):V0(i=>({dispatch:i}))}function qE(t){return t?typeof t=="function"?q_(t):hp(t,"mapStateToProps"):V0(()=>({}))}function VE(t,i,o){return{...o,...t,...i}}function KE(t){return function(o,{displayName:s,areMergedPropsEqual:u}){let d=!1,f;return function(b,y,S){const w=t(b,y,S);return d?u(w,f)||(f=w):(d=!0,f=w),f}}}function FE(t){return t?typeof t=="function"?KE(t):hp(t,"mergeProps"):()=>VE}function XE(t){t()}function WE(){let t=null,i=null;return{clear(){t=null,i=null},notify(){XE(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let s=t;for(;s;)o.push(s),s=s.next;return o},subscribe(o){let s=!0;const u=i={callback:o,next:null,prev:i};return u.prev?u.prev.next=u:t=u,function(){!s||t===null||(s=!1,u.next?u.next.prev=u.prev:i=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var hv={notify(){},get:()=>[]};function V_(t,i){let o,s=hv,u=0,d=!1;function f(N){S();const D=s.subscribe(N);let $=!1;return()=>{$||($=!0,D(),w())}}function p(){s.notify()}function b(){A.onStateChange&&A.onStateChange()}function y(){return d}function S(){u++,o||(o=i?i.addNestedSub(b):t.subscribe(b),s=WE())}function w(){u--,o&&u===0&&(o(),o=void 0,s.clear(),s=hv)}function _(){d||(d=!0,S())}function T(){d&&(d=!1,w())}const A={addNestedSub:f,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:y,trySubscribe:_,tryUnsubscribe:T,getListeners:()=>s};return A}var QE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JE=QE(),t3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",e3=t3(),n3=()=>JE||e3?O.useLayoutEffect:O.useEffect,rf=n3();function mv(t,i){return t===i?t!==0||i!==0||1/t===1/i:t!==t&&i!==i}function Qm(t,i){if(mv(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;const o=Object.keys(t),s=Object.keys(i);if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!Object.prototype.hasOwnProperty.call(i,o[u])||!mv(t[o[u]],i[o[u]]))return!1;return!0}var r3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},K_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o3={[zE]:a3,[HE]:K_};function pv(t){return IE(t)?K_:o3[t.$$typeof]||r3}var s3=Object.defineProperty,l3=Object.getOwnPropertyNames,gv=Object.getOwnPropertySymbols,c3=Object.getOwnPropertyDescriptor,u3=Object.getPrototypeOf,bv=Object.prototype;function K0(t,i){if(typeof i!="string"){if(bv){const d=u3(i);d&&d!==bv&&K0(t,d)}let o=l3(i);gv&&(o=o.concat(gv(i)));const s=pv(t),u=pv(i);for(let d=0;d<o.length;++d){const f=o[d];if(!i3[f]&&!(u&&u[f])&&!(s&&s[f])){const p=c3(i,f);try{s3(t,f,p)}catch{}}}}return t}var d3=Symbol.for("react-redux-context"),f3=typeof globalThis<"u"?globalThis:{};function h3(){if(!O.createContext)return{};const t=f3[d3]??=new Map;let i=t.get(O.createContext);return i||(i=O.createContext(null),t.set(O.createContext,i)),i}var F_=h3(),m3=[null,null];function p3(t,i,o){rf(()=>t(...i),o)}function g3(t,i,o,s,u,d){t.current=s,o.current=!1,u.current&&(u.current=null,d())}function b3(t,i,o,s,u,d,f,p,b,y,S){if(!t)return()=>{};let w=!1,_=null;const T=()=>{if(w||!p.current)return;const N=i.getState();let D,$;try{D=s(N,u.current)}catch(I){$=I,_=I}$||(_=null),D===d.current?f.current||y():(d.current=D,b.current=D,f.current=!0,S())};return o.onStateChange=T,o.trySubscribe(),T(),()=>{if(w=!0,o.tryUnsubscribe(),o.onStateChange=null,_)throw _}}function y3(t,i){return t===i}function v3(t,i,o,{pure:s,areStatesEqual:u=y3,areOwnPropsEqual:d=Qm,areStatePropsEqual:f=Qm,areMergedPropsEqual:p=Qm,forwardRef:b=!1,context:y=F_}={}){const S=y,w=qE(t),_=YE(i),T=FE(o),A=!!t;return D=>{const $=D.displayName||D.name||"Component",I=`Connect(${$})`,j={shouldHandleStateChanges:A,displayName:I,wrappedComponentName:$,WrappedComponent:D,initMapStateToProps:w,initMapDispatchToProps:_,initMergeProps:T,areStatesEqual:u,areStatePropsEqual:f,areOwnPropsEqual:d,areMergedPropsEqual:p};function C(W){const[ot,nt,tt]=O.useMemo(()=>{const{reactReduxForwardedRef:Dt,...St}=W;return[W.context,Dt,St]},[W]),Z=O.useMemo(()=>{let Dt=S;return ot?.Consumer,Dt},[ot,S]),U=O.useContext(Z),et=!!W.store&&!!W.store.getState&&!!W.store.dispatch,lt=!!U&&!!U.store,ht=et?W.store:U.store,K=lt?U.getServerState:ht.getState,rt=O.useMemo(()=>GE(ht.dispatch,j),[ht]),[ft,st]=O.useMemo(()=>{if(!A)return m3;const Dt=V_(ht,et?void 0:U.subscription),St=Dt.notifyNestedSubs.bind(Dt);return[Dt,St]},[ht,et,U]),R=O.useMemo(()=>et?U:{...U,subscription:ft},[et,U,ft]),H=O.useRef(void 0),X=O.useRef(tt),Q=O.useRef(void 0),z=O.useRef(!1),Y=O.useRef(!1),F=O.useRef(void 0);rf(()=>(Y.current=!0,()=>{Y.current=!1}),[]);const ct=O.useMemo(()=>()=>Q.current&&tt===X.current?Q.current:rt(ht.getState(),tt),[ht,tt]),bt=O.useMemo(()=>St=>ft?b3(A,ht,ft,rt,X,H,z,Y,Q,st,St):()=>{},[ft]);p3(g3,[X,H,z,tt,Q,st]);let Mt;try{Mt=O.useSyncExternalStore(bt,ct,K?()=>rt(K(),tt):ct)}catch(Dt){throw F.current&&(Dt.message+=`
The error may be correlated with this previous error:
${F.current.stack}

`),Dt}rf(()=>{F.current=void 0,Q.current=void 0,H.current=Mt});const Et=O.useMemo(()=>O.createElement(D,{...Mt,ref:nt}),[nt,D,Mt]);return O.useMemo(()=>A?O.createElement(Z.Provider,{value:R},Et):Et,[Z,Et,R])}const G=O.memo(C);if(G.WrappedComponent=D,G.displayName=C.displayName=I,b){const ot=O.forwardRef(function(tt,Z){return O.createElement(G,{...tt,reactReduxForwardedRef:Z})});return ot.displayName=I,ot.WrappedComponent=D,K0(ot,D)}return K0(G,D)}}var X_=v3;function x3(t){const{children:i,context:o,serverState:s,store:u}=t,d=O.useMemo(()=>{const b=V_(u);return{store:u,subscription:b,getServerState:s?()=>s:void 0}},[u,s]),f=O.useMemo(()=>u.getState(),[u]);rf(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),f!==u.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,f]);const p=o||F_;return O.createElement(p.Provider,{value:d},i)}var _3=x3,S3="Invariant failed";function w3(t,i){throw new Error(S3)}var Wr=function(i){var o=i.top,s=i.right,u=i.bottom,d=i.left,f=s-d,p=u-o,b={top:o,right:s,bottom:u,left:d,width:f,height:p,x:d,y:o,center:{x:(s+d)/2,y:(u+o)/2}};return b},mp=function(i,o){return{top:i.top-o.top,left:i.left-o.left,bottom:i.bottom+o.bottom,right:i.right+o.right}},yv=function(i,o){return{top:i.top+o.top,left:i.left+o.left,bottom:i.bottom-o.bottom,right:i.right-o.right}},T3=function(i,o){return{top:i.top+o.y,left:i.left+o.x,bottom:i.bottom+o.y,right:i.right+o.x}},Jm={top:0,right:0,bottom:0,left:0},pp=function(i){var o=i.borderBox,s=i.margin,u=s===void 0?Jm:s,d=i.border,f=d===void 0?Jm:d,p=i.padding,b=p===void 0?Jm:p,y=Wr(mp(o,u)),S=Wr(yv(o,f)),w=Wr(yv(S,b));return{marginBox:y,borderBox:Wr(o),paddingBox:S,contentBox:w,margin:u,border:f,padding:b}},Dr=function(i){var o=i.slice(0,-2),s=i.slice(-2);if(s!=="px")return 0;var u=Number(o);return isNaN(u)&&w3(),u},E3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},af=function(i,o){var s=i.borderBox,u=i.border,d=i.margin,f=i.padding,p=T3(s,o);return pp({borderBox:p,border:u,margin:d,padding:f})},of=function(i,o){return o===void 0&&(o=E3()),af(i,o)},W_=function(i,o){var s={top:Dr(o.marginTop),right:Dr(o.marginRight),bottom:Dr(o.marginBottom),left:Dr(o.marginLeft)},u={top:Dr(o.paddingTop),right:Dr(o.paddingRight),bottom:Dr(o.paddingBottom),left:Dr(o.paddingLeft)},d={top:Dr(o.borderTopWidth),right:Dr(o.borderRightWidth),bottom:Dr(o.borderBottomWidth),left:Dr(o.borderLeftWidth)};return pp({borderBox:i,margin:s,padding:u,border:d})},Q_=function(i){var o=i.getBoundingClientRect(),s=window.getComputedStyle(i);return W_(o,s)},Nc=function(i){var o=[],s=null,u=function(){for(var f=arguments.length,p=new Array(f),b=0;b<f;b++)p[b]=arguments[b];o=p,!s&&(s=requestAnimationFrame(function(){s=null,i.apply(void 0,o)}))};return u.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},u};function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},sf.apply(null,arguments)}function J_(t,i){}J_.bind(null,"warn");J_.bind(null,"error");function Va(){}function M3(t,i){return{...t,...i}}function Or(t,i,o){const s=i.map(u=>{const d=M3(o,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){s.forEach(d=>{d()})}}const N3="Invariant failed";class lf extends Error{}lf.prototype.toString=function(){return this.message};function At(t,i){throw new lf(N3)}class A3 extends Ce.Component{constructor(...i){super(...i),this.callbacks=null,this.unbind=Va,this.onWindowError=o=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),o.error instanceof lf&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Or(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(i){if(i instanceof lf){this.setState({});return}throw i}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const D3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,cf=t=>t+1,j3=t=>`
  You have lifted an item in position ${cf(t.source.index)}
`,t1=(t,i)=>{const o=t.droppableId===i.droppableId,s=cf(t.index),u=cf(i.index);return o?`
      You have moved the item from position ${s}
      to position ${u}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${i.droppableId}
    in position ${u}
  `},e1=(t,i,o)=>i.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${i.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,k3=t=>{const i=t.destination;if(i)return t1(t.source,i);const o=t.combine;return o?e1(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},vv=t=>`
  The item has returned to its starting position
  of ${cf(t.index)}
`,O3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${vv(t.source)}
    `;const i=t.destination,o=t.combine;return i?`
      You have dropped the item.
      ${t1(t.source,i)}
    `:o?`
      You have dropped the item.
      ${e1(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${vv(t.source)}
  `},tf={dragHandleUsageInstructions:D3,onDragStart:j3,onDragUpdate:k3,onDragEnd:O3};function C3(t,i){return!!(t===i||Number.isNaN(t)&&Number.isNaN(i))}function n1(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(!C3(t[o],i[o]))return!1;return!0}function ce(t,i){const o=O.useState(()=>({inputs:i,result:t()}))[0],s=O.useRef(!0),u=O.useRef(o),f=s.current||!!(i&&u.current.inputs&&n1(i,u.current.inputs))?u.current:{inputs:i,result:t()};return O.useEffect(()=>{s.current=!1,u.current=f},[f]),f.result}function Ht(t,i){return ce(()=>t,i)}const hn={x:0,y:0},Sn=(t,i)=>({x:t.x+i.x,y:t.y+i.y}),fr=(t,i)=>({x:t.x-i.x,y:t.y-i.y}),Ka=(t,i)=>t.x===i.x&&t.y===i.y,Ws=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ho=(t,i,o=0)=>t==="x"?{x:i,y:o}:{x:o,y:i},Ac=(t,i)=>Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2),xv=(t,i)=>Math.min(...i.map(o=>Ac(t,o))),r1=t=>i=>({x:t(i.x),y:t(i.y)});var L3=(t,i)=>{const o=Wr({top:Math.max(i.top,t.top),right:Math.min(i.right,t.right),bottom:Math.min(i.bottom,t.bottom),left:Math.max(i.left,t.left)});return o.width<=0||o.height<=0?null:o};const Uc=(t,i)=>({top:t.top+i.y,left:t.left+i.x,bottom:t.bottom+i.y,right:t.right+i.x}),_v=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],B3={top:0,right:0,bottom:0,left:0},R3=(t,i)=>i?Uc(t,i.scroll.diff.displacement):t,P3=(t,i,o)=>o&&o.increasedBy?{...t,[i.end]:t[i.end]+o.increasedBy[i.line]}:t,z3=(t,i)=>i&&i.shouldClipSubject?L3(i.pageMarginBox,t):Wr(t);var Gs=({page:t,withPlaceholder:i,axis:o,frame:s})=>{const u=R3(t.marginBox,s),d=P3(u,o,i),f=z3(d,s);return{page:t,withPlaceholder:i,active:f}},gp=(t,i)=>{t.frame||At();const o=t.frame,s=fr(i,o.scroll.initial),u=Ws(s),d={...o,scroll:{initial:o.scroll.initial,current:i,diff:{value:s,displacement:u},max:o.scroll.max}},f=Gs({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:f}};function fn(t,i=n1){let o=null;function s(...u){if(o&&o.lastThis===this&&i(u,o.lastArgs))return o.lastResult;const d=t.apply(this,u);return o={lastResult:d,lastArgs:u,lastThis:this},d}return s.clear=function(){o=null},s}const i1=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),a1=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Rf=fn(t=>Object.values(t)),H3=fn(t=>Object.values(t));var Qs=fn((t,i)=>H3(i).filter(s=>t===s.descriptor.droppableId).sort((s,u)=>s.descriptor.index-u.descriptor.index));function bp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Pf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var zf=fn((t,i)=>i.filter(o=>o.descriptor.id!==t.descriptor.id)),$3=({isMovingForward:t,draggable:i,destination:o,insideDestination:s,previousImpact:u})=>{if(!o.isCombineEnabled||!bp(u))return null;function f(T){const A={type:"COMBINE",combine:{draggableId:T,droppableId:o.descriptor.id}};return{...u,at:A}}const p=u.displaced.all,b=p.length?p[0]:null;if(t)return b?f(b):null;const y=zf(i,s);if(!b){if(!y.length)return null;const T=y[y.length-1];return f(T.descriptor.id)}const S=y.findIndex(T=>T.descriptor.id===b);S===-1&&At();const w=S-1;if(w<0)return null;const _=y[w];return f(_.descriptor.id)},Js=(t,i)=>t.descriptor.droppableId===i.descriptor.id;const o1={point:hn,value:0},Dc={invisible:{},visible:{},all:[]},I3={displaced:Dc,displacedBy:o1,at:null};var Br=(t,i)=>o=>t<=o&&o<=i,s1=t=>{const i=Br(t.top,t.bottom),o=Br(t.left,t.right);return s=>{if(i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right))return!0;const d=i(s.top)||i(s.bottom),f=o(s.left)||o(s.right);if(d&&f)return!0;const b=s.top<t.top&&s.bottom>t.bottom,y=s.left<t.left&&s.right>t.right;return b&&y?!0:b&&f||y&&d}},U3=t=>{const i=Br(t.top,t.bottom),o=Br(t.left,t.right);return s=>i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right)};const yp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},l1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var G3=t=>i=>{const o=Br(i.top,i.bottom),s=Br(i.left,i.right);return u=>t===yp?o(u.top)&&o(u.bottom):s(u.left)&&s(u.right)};const Z3=(t,i)=>{const o=i.frame?i.frame.scroll.diff.displacement:hn;return Uc(t,o)},Y3=(t,i,o)=>i.subject.active?o(i.subject.active)(t):!1,q3=(t,i,o)=>o(i)(t),vp=({target:t,destination:i,viewport:o,withDroppableDisplacement:s,isVisibleThroughFrameFn:u})=>{const d=s?Z3(t,i):t;return Y3(d,i,u)&&q3(d,o,u)},V3=t=>vp({...t,isVisibleThroughFrameFn:s1}),c1=t=>vp({...t,isVisibleThroughFrameFn:U3}),K3=t=>vp({...t,isVisibleThroughFrameFn:G3(t.destination.axis)}),F3=(t,i,o)=>{if(typeof o=="boolean")return o;if(!i)return!0;const{invisible:s,visible:u}=i;if(s[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function X3(t,i){const o=t.page.marginBox,s={top:i.point.y,right:0,bottom:0,left:i.point.x};return Wr(mp(o,s))}function jc({afterDragging:t,destination:i,displacedBy:o,viewport:s,forceShouldAnimate:u,last:d}){return t.reduce(function(p,b){const y=X3(b,o),S=b.descriptor.id;if(p.all.push(S),!V3({target:y,destination:i,viewport:s,withDroppableDisplacement:!0}))return p.invisible[b.descriptor.id]=!0,p;const _=F3(S,d,u),T={draggableId:S,shouldAnimate:_};return p.visible[S]=T,p},{all:[],visible:{},invisible:{}})}function W3(t,i){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return i.inHomeList?o:o+1}function Sv({insideDestination:t,inHomeList:i,displacedBy:o,destination:s}){const u=W3(t,{inHomeList:i});return{displaced:Dc,displacedBy:o,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:u}}}}function uf({draggable:t,insideDestination:i,destination:o,viewport:s,displacedBy:u,last:d,index:f,forceShouldAnimate:p}){const b=Js(t,o);if(f==null)return Sv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const y=i.find(A=>A.descriptor.index===f);if(!y)return Sv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const S=zf(t,i),w=i.indexOf(y),_=S.slice(w);return{displaced:jc({afterDragging:_,destination:o,displacedBy:u,last:d,viewport:s.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:f}}}}function Fa(t,i){return!!i.effected[t]}var Q3=({isMovingForward:t,destination:i,draggables:o,combine:s,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const d=s.draggableId,p=o[d].descriptor.index;return Fa(d,u)?t?p:p-1:t?p+1:p},J3=({isMovingForward:t,isInHomeList:i,insideDestination:o,location:s})=>{if(!o.length)return null;const u=s.index,d=t?u+1:u-1,f=o[0].descriptor.index,p=o[o.length-1].descriptor.index,b=i?p:p+1;return d<f||d>b?null:d},tM=({isMovingForward:t,isInHomeList:i,draggable:o,draggables:s,destination:u,insideDestination:d,previousImpact:f,viewport:p,afterCritical:b})=>{const y=f.at;if(y||At(),y.type==="REORDER"){const w=J3({isMovingForward:t,isInHomeList:i,location:y.destination,insideDestination:d});return w==null?null:uf({draggable:o,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:w})}const S=Q3({isMovingForward:t,destination:u,displaced:f.displaced,draggables:s,combine:y.combine,afterCritical:b});return S==null?null:uf({draggable:o,insideDestination:d,destination:u,viewport:p,last:f.displaced,displacedBy:f.displacedBy,index:S})},eM=({displaced:t,afterCritical:i,combineWith:o,displacedBy:s})=>{const u=!!(t.visible[o]||t.invisible[o]);return Fa(o,i)?u?hn:Ws(s.point):u?s.point:hn},nM=({afterCritical:t,impact:i,draggables:o})=>{const s=Pf(i);s||At();const u=s.draggableId,d=o[u].page.borderBox.center,f=eM({displaced:i.displaced,afterCritical:t,combineWith:u,displacedBy:i.displacedBy});return Sn(d,f)};const u1=(t,i)=>i.margin[t.start]+i.borderBox[t.size]/2,rM=(t,i)=>i.margin[t.end]+i.borderBox[t.size]/2,xp=(t,i,o)=>i[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,wv=({axis:t,moveRelativeTo:i,isMoving:o})=>Ho(t.line,i.marginBox[t.end]+u1(t,o),xp(t,i.marginBox,o)),Tv=({axis:t,moveRelativeTo:i,isMoving:o})=>Ho(t.line,i.marginBox[t.start]-rM(t,o),xp(t,i.marginBox,o)),iM=({axis:t,moveInto:i,isMoving:o})=>Ho(t.line,i.contentBox[t.start]+u1(t,o),xp(t,i.contentBox,o));var aM=({impact:t,draggable:i,draggables:o,droppable:s,afterCritical:u})=>{const d=Qs(s.descriptor.id,o),f=i.page,p=s.axis;if(!d.length)return iM({axis:p,moveInto:s.page,isMoving:f});const{displaced:b,displacedBy:y}=t,S=b.all[0];if(S){const _=o[S];if(Fa(S,u))return Tv({axis:p,moveRelativeTo:_.page,isMoving:f});const T=af(_.page,y.point);return Tv({axis:p,moveRelativeTo:T,isMoving:f})}const w=d[d.length-1];if(w.descriptor.id===i.descriptor.id)return f.borderBox.center;if(Fa(w.descriptor.id,u)){const _=af(w.page,Ws(u.displacedBy.point));return wv({axis:p,moveRelativeTo:_,isMoving:f})}return wv({axis:p,moveRelativeTo:w.page,isMoving:f})},F0=(t,i)=>{const o=t.frame;return o?Sn(i,o.scroll.diff.displacement):i};const oM=({impact:t,draggable:i,droppable:o,draggables:s,afterCritical:u})=>{const d=i.page.borderBox.center,f=t.at;return!o||!f?d:f.type==="REORDER"?aM({impact:t,draggable:i,draggables:s,droppable:o,afterCritical:u}):nM({impact:t,draggables:s,afterCritical:u})};var Hf=t=>{const i=oM(t),o=t.droppable;return o?F0(o,i):i},d1=(t,i)=>{const o=fr(i,t.scroll.initial),s=Ws(o);return{frame:Wr({top:i.y,bottom:i.y+t.frame.height,left:i.x,right:i.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:i,diff:{value:o,displacement:s}}}};function Ev(t,i){return t.map(o=>i[o])}function sM(t,i){for(let o=0;o<i.length;o++){const s=i[o].visible[t];if(s)return s}return null}var lM=({impact:t,viewport:i,destination:o,draggables:s,maxScrollChange:u})=>{const d=d1(i,Sn(i.scroll.current,u)),f=o.frame?gp(o,Sn(o.frame.scroll.current,u)):o,p=t.displaced,b=jc({afterDragging:Ev(p.all,s),destination:o,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),y=jc({afterDragging:Ev(p.all,s),destination:f,displacedBy:t.displacedBy,viewport:i.frame,last:p,forceShouldAnimate:!1}),S={},w={},_=[p,b,y];return p.all.forEach(A=>{const N=sM(A,_);if(N){w[A]=N;return}S[A]=!0}),{...t,displaced:{all:p.all,invisible:S,visible:w}}},cM=(t,i)=>Sn(t.scroll.diff.displacement,i),_p=({pageBorderBoxCenter:t,draggable:i,viewport:o})=>{const s=cM(o,t),u=fr(s,i.page.borderBox.center);return Sn(i.client.borderBox.center,u)},f1=({draggable:t,destination:i,newPageBorderBoxCenter:o,viewport:s,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const f=fr(o,t.page.borderBox.center),b={target:Uc(t.page.borderBox,f),destination:i,withDroppableDisplacement:u,viewport:s};return d?K3(b):c1(b)},uM=({isMovingForward:t,draggable:i,destination:o,draggables:s,previousImpact:u,viewport:d,previousPageBorderBoxCenter:f,previousClientSelection:p,afterCritical:b})=>{if(!o.isEnabled)return null;const y=Qs(o.descriptor.id,s),S=Js(i,o),w=$3({isMovingForward:t,draggable:i,destination:o,insideDestination:y,previousImpact:u})||tM({isMovingForward:t,isInHomeList:S,draggable:i,draggables:s,destination:o,insideDestination:y,previousImpact:u,viewport:d,afterCritical:b});if(!w)return null;const _=Hf({impact:w,draggable:i,droppable:o,draggables:s,afterCritical:b});if(f1({draggable:i,destination:o,newPageBorderBoxCenter:_,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:_p({pageBorderBoxCenter:_,draggable:i,viewport:d}),impact:w,scrollJumpRequest:null};const A=fr(_,f),N=lM({impact:w,viewport:d,destination:o,draggables:s,maxScrollChange:A});return{clientSelection:p,impact:N,scrollJumpRequest:A}};const Rn=t=>{const i=t.subject.active;return i||At(),i};var dM=({isMovingForward:t,pageBorderBoxCenter:i,source:o,droppables:s,viewport:u})=>{const d=o.subject.active;if(!d)return null;const f=o.axis,p=Br(d[f.start],d[f.end]),b=Rf(s).filter(S=>S!==o).filter(S=>S.isEnabled).filter(S=>!!S.subject.active).filter(S=>s1(u.frame)(Rn(S))).filter(S=>{const w=Rn(S);return t?d[f.crossAxisEnd]<w[f.crossAxisEnd]:w[f.crossAxisStart]<d[f.crossAxisStart]}).filter(S=>{const w=Rn(S),_=Br(w[f.start],w[f.end]);return p(w[f.start])||p(w[f.end])||_(d[f.start])||_(d[f.end])}).sort((S,w)=>{const _=Rn(S)[f.crossAxisStart],T=Rn(w)[f.crossAxisStart];return t?_-T:T-_}).filter((S,w,_)=>Rn(S)[f.crossAxisStart]===Rn(_[0])[f.crossAxisStart]);if(!b.length)return null;if(b.length===1)return b[0];const y=b.filter(S=>Br(Rn(S)[f.start],Rn(S)[f.end])(i[f.line]));return y.length===1?y[0]:y.length>1?y.sort((S,w)=>Rn(S)[f.start]-Rn(w)[f.start])[0]:b.sort((S,w)=>{const _=xv(i,_v(Rn(S))),T=xv(i,_v(Rn(w)));return _!==T?_-T:Rn(S)[f.start]-Rn(w)[f.start]})[0]};const Mv=(t,i)=>{const o=t.page.borderBox.center;return Fa(t.descriptor.id,i)?fr(o,i.displacedBy.point):o},fM=(t,i)=>{const o=t.page.borderBox;return Fa(t.descriptor.id,i)?Uc(o,Ws(i.displacedBy.point)):o};var hM=({pageBorderBoxCenter:t,viewport:i,destination:o,insideDestination:s,afterCritical:u})=>s.filter(f=>c1({target:fM(f,u),destination:o,viewport:i.frame,withDroppableDisplacement:!0})).sort((f,p)=>{const b=Ac(t,F0(o,Mv(f,u))),y=Ac(t,F0(o,Mv(p,u)));return b<y?-1:y<b?1:f.descriptor.index-p.descriptor.index})[0]||null,Gc=fn(function(i,o){const s=o[i.line];return{value:s,point:Ho(i.line,s)}});const mM=(t,i,o)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Ho(s.line,i[s.line]);const u=t.subject.page.contentBox[s.size],b=Qs(t.descriptor.id,o).reduce((y,S)=>y+S.client.marginBox[s.size],0)+i[s.line]-u;return b<=0?null:Ho(s.line,b)},h1=(t,i)=>({...t,scroll:{...t.scroll,max:i}}),m1=(t,i,o)=>{const s=t.frame;Js(i,t)&&At(),t.subject.withPlaceholder&&At();const u=Gc(t.axis,i.displaceBy).point,d=mM(t,u,o),f={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const S=Gs({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:t.frame});return{...t,subject:S}}const p=d?Sn(s.scroll.max,d):s.scroll.max,b=h1(s,p),y=Gs({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:b});return{...t,subject:y,frame:b}},pM=t=>{const i=t.subject.withPlaceholder;i||At();const o=t.frame;if(!o){const f=Gs({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:f}}const s=i.oldFrameMaxScroll;s||At();const u=h1(o,s),d=Gs({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var gM=({previousPageBorderBoxCenter:t,moveRelativeTo:i,insideDestination:o,draggable:s,draggables:u,destination:d,viewport:f,afterCritical:p})=>{if(!i){if(o.length)return null;const w={displaced:Dc,displacedBy:o1,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},_=Hf({impact:w,draggable:s,droppable:d,draggables:u,afterCritical:p}),T=Js(s,d)?d:m1(d,s,u);return f1({draggable:s,destination:T,newPageBorderBoxCenter:_,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?w:null}const b=t[d.axis.line]<=i.page.borderBox.center[d.axis.line],y=(()=>{const w=i.descriptor.index;return i.descriptor.id===s.descriptor.id||b?w:w+1})(),S=Gc(d.axis,s.displaceBy);return uf({draggable:s,insideDestination:o,destination:d,viewport:f,displacedBy:S,last:Dc,index:y})},bM=({isMovingForward:t,previousPageBorderBoxCenter:i,draggable:o,isOver:s,draggables:u,droppables:d,viewport:f,afterCritical:p})=>{const b=dM({isMovingForward:t,pageBorderBoxCenter:i,source:s,droppables:d,viewport:f});if(!b)return null;const y=Qs(b.descriptor.id,u),S=hM({pageBorderBoxCenter:i,viewport:f,destination:b,insideDestination:y,afterCritical:p}),w=gM({previousPageBorderBoxCenter:i,destination:b,draggable:o,draggables:u,moveRelativeTo:S,insideDestination:y,viewport:f,afterCritical:p});if(!w)return null;const _=Hf({impact:w,draggable:o,droppable:b,draggables:u,afterCritical:p});return{clientSelection:_p({pageBorderBoxCenter:_,draggable:o,viewport:f}),impact:w,scrollJumpRequest:null}},hr=t=>{const i=t.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null};const yM=(t,i)=>{const o=hr(t);return o?i[o]:null};var vM=({state:t,type:i})=>{const o=yM(t.impact,t.dimensions.droppables),s=!!o,u=t.dimensions.droppables[t.critical.droppable.id],d=o||u,f=d.axis.direction,p=f==="vertical"&&(i==="MOVE_UP"||i==="MOVE_DOWN")||f==="horizontal"&&(i==="MOVE_LEFT"||i==="MOVE_RIGHT");if(p&&!s)return null;const b=i==="MOVE_DOWN"||i==="MOVE_RIGHT",y=t.dimensions.draggables[t.critical.draggable.id],S=t.current.page.borderBoxCenter,{draggables:w,droppables:_}=t.dimensions;return p?uM({isMovingForward:b,previousPageBorderBoxCenter:S,draggable:y,destination:d,draggables:w,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):bM({isMovingForward:b,previousPageBorderBoxCenter:S,draggable:y,isOver:d,draggables:w,droppables:_,viewport:t.viewport,afterCritical:t.afterCritical})};function Ro(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function p1(t){const i=Br(t.top,t.bottom),o=Br(t.left,t.right);return function(u){return i(u.y)&&o(u.x)}}function xM(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top}function _M({pageBorderBox:t,draggable:i,candidates:o}){const s=i.page.borderBox.center,u=o.map(d=>{const f=d.axis,p=Ho(d.axis.line,t.center[f.line],d.page.borderBox.center[f.crossAxisLine]);return{id:d.descriptor.id,distance:Ac(s,p)}}).sort((d,f)=>f.distance-d.distance);return u[0]?u[0].id:null}function SM({pageBorderBox:t,draggable:i,droppables:o}){const s=Rf(o).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!xM(t,d))return!1;if(p1(d)(t.center))return!0;const f=u.axis,p=d.center[f.crossAxisLine],b=t[f.crossAxisStart],y=t[f.crossAxisEnd],S=Br(d[f.crossAxisStart],d[f.crossAxisEnd]),w=S(b),_=S(y);return!w&&!_?!0:w?b<p:y>p});return s.length?s.length===1?s[0].descriptor.id:_M({pageBorderBox:t,draggable:i,candidates:s}):null}const g1=(t,i)=>Wr(Uc(t,i));var wM=(t,i)=>{const o=t.frame;return o?g1(i,o.scroll.diff.value):i};function b1({displaced:t,id:i}){return!!(t.visible[i]||t.invisible[i])}function TM({draggable:t,closest:i,inHomeList:o}){return i?o&&i.descriptor.index>t.descriptor.index?i.descriptor.index-1:i.descriptor.index:null}var EM=({pageBorderBoxWithDroppableScroll:t,draggable:i,destination:o,insideDestination:s,last:u,viewport:d,afterCritical:f})=>{const p=o.axis,b=Gc(o.axis,i.displaceBy),y=b.value,S=t[p.start],w=t[p.end],T=zf(i,s).find(N=>{const D=N.descriptor.id,$=N.page.borderBox.center[p.line],I=Fa(D,f),j=b1({displaced:u,id:D});return I?j?w<=$:S<$-y:j?w<=$+y:S<$})||null,A=TM({draggable:i,closest:T,inHomeList:Js(i,o)});return uf({draggable:i,insideDestination:s,destination:o,viewport:d,last:u,displacedBy:b,index:A})};const MM=4;var NM=({draggable:t,pageBorderBoxWithDroppableScroll:i,previousImpact:o,destination:s,insideDestination:u,afterCritical:d})=>{if(!s.isCombineEnabled)return null;const f=s.axis,p=Gc(s.axis,t.displaceBy),b=p.value,y=i[f.start],S=i[f.end],_=zf(t,u).find(A=>{const N=A.descriptor.id,D=A.page.borderBox,I=D[f.size]/MM,j=Fa(N,d),C=b1({displaced:o.displaced,id:N});return j?C?S>D[f.start]+I&&S<D[f.end]-I:y>D[f.start]-b+I&&y<D[f.end]-b-I:C?S>D[f.start]+b+I&&S<D[f.end]+b-I:y>D[f.start]+I&&y<D[f.end]-I});return _?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:_.descriptor.id,droppableId:s.descriptor.id}}}:null},y1=({pageOffset:t,draggable:i,draggables:o,droppables:s,previousImpact:u,viewport:d,afterCritical:f})=>{const p=g1(i.page.borderBox,t),b=SM({pageBorderBox:p,draggable:i,droppables:s});if(!b)return I3;const y=s[b],S=Qs(y.descriptor.id,o),w=wM(y,p);return NM({pageBorderBoxWithDroppableScroll:w,draggable:i,previousImpact:u,destination:y,insideDestination:S,afterCritical:f})||EM({pageBorderBoxWithDroppableScroll:w,draggable:i,destination:y,insideDestination:S,last:u.displaced,viewport:d,afterCritical:f})},Sp=(t,i)=>({...t,[i.descriptor.id]:i});const AM=({previousImpact:t,impact:i,droppables:o})=>{const s=hr(t),u=hr(i);if(!s||s===u)return o;const d=o[s];if(!d.subject.withPlaceholder)return o;const f=pM(d);return Sp(o,f)};var DM=({draggable:t,draggables:i,droppables:o,previousImpact:s,impact:u})=>{const d=AM({previousImpact:s,impact:u,droppables:o}),f=hr(u);if(!f)return d;const p=o[f];if(Js(t,p)||p.subject.withPlaceholder)return d;const b=m1(p,t,i);return Sp(d,b)},wc=({state:t,clientSelection:i,dimensions:o,viewport:s,impact:u,scrollJumpRequest:d})=>{const f=s||t.viewport,p=o||t.dimensions,b=i||t.current.client.selection,y=fr(b,t.initial.client.selection),S={offset:y,selection:b,borderBoxCenter:Sn(t.initial.client.borderBoxCenter,y)},w={selection:Sn(S.selection,f.scroll.current),borderBoxCenter:Sn(S.borderBoxCenter,f.scroll.current),offset:Sn(S.offset,f.scroll.diff.value)},_={client:S,page:w};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:f,current:_};const T=p.draggables[t.critical.draggable.id],A=u||y1({pageOffset:w.offset,draggable:T,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:f,afterCritical:t.afterCritical}),N=DM({draggable:T,impact:A,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:_,dimensions:{draggables:p.draggables,droppables:N},impact:A,viewport:f,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function jM(t,i){return t.map(o=>i[o])}var v1=({impact:t,viewport:i,draggables:o,destination:s,forceShouldAnimate:u})=>{const d=t.displaced,f=jM(d.all,o),p=jc({afterDragging:f,destination:s,displacedBy:t.displacedBy,viewport:i.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},x1=({impact:t,draggable:i,droppable:o,draggables:s,viewport:u,afterCritical:d})=>{const f=Hf({impact:t,draggable:i,draggables:s,droppable:o,afterCritical:d});return _p({pageBorderBoxCenter:f,draggable:i,viewport:u})},_1=({state:t,dimensions:i,viewport:o})=>{t.movementMode!=="SNAP"&&At();const s=t.impact,u=o||t.viewport,d=i||t.dimensions,{draggables:f,droppables:p}=d,b=f[t.critical.draggable.id],y=hr(s);y||At();const S=p[y],w=v1({impact:s,viewport:u,destination:S,draggables:f}),_=x1({impact:w,draggable:b,droppable:S,draggables:f,viewport:u,afterCritical:t.afterCritical});return wc({impact:w,clientSelection:_,state:t,dimensions:d,viewport:u})},kM=t=>({index:t.index,droppableId:t.droppableId}),S1=({draggable:t,home:i,draggables:o,viewport:s})=>{const u=Gc(i.axis,t.displaceBy),d=Qs(i.descriptor.id,o),f=d.indexOf(t);f===-1&&At();const p=d.slice(f+1),b=p.reduce((_,T)=>(_[T.descriptor.id]=!0,_),{}),y={inVirtualList:i.descriptor.mode==="virtual",displacedBy:u,effected:b};return{impact:{displaced:jc({afterDragging:p,destination:i,displacedBy:u,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:kM(t.descriptor)}},afterCritical:y}},OM=(t,i)=>({draggables:t.draggables,droppables:Sp(t.droppables,i)}),CM=({draggable:t,offset:i,initialWindowScroll:o})=>{const s=af(t.client,i),u=of(s,o);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:u}},LM=t=>{const i=t.frame;return i||At(),i},BM=({additions:t,updatedDroppables:i,viewport:o})=>{const s=o.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,f=i[d],b=LM(f).scroll.diff.value,y=Sn(s,b);return CM({draggable:u,offset:y,initialWindowScroll:o.scroll.initial})})},RM=({state:t,published:i})=>{const o=i.modified.map($=>{const I=t.dimensions.droppables[$.droppableId];return gp(I,$.scroll)}),s={...t.dimensions.droppables,...i1(o)},u=a1(BM({additions:i.additions,updatedDroppables:s,viewport:t.viewport})),d={...t.dimensions.draggables,...u};i.removals.forEach($=>{delete d[$]});const f={droppables:s,draggables:d},p=hr(t.impact),b=p?f.droppables[p]:null,y=f.draggables[t.critical.draggable.id],S=f.droppables[t.critical.droppable.id],{impact:w,afterCritical:_}=S1({draggable:y,home:S,draggables:d,viewport:t.viewport}),T=b&&b.isCombineEnabled?t.impact:w,A=y1({pageOffset:t.current.page.offset,draggable:f.draggables[t.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:T,viewport:t.viewport,afterCritical:_}),N={...t,phase:"DRAGGING",impact:A,onLiftImpact:w,dimensions:f,afterCritical:_,forceShouldAnimate:!1};return t.phase==="COLLECTING"?N:{...N,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const X0=t=>t.movementMode==="SNAP",t0=(t,i,o)=>{const s=OM(t.dimensions,i);return!X0(t)||o?wc({state:t,dimensions:s}):_1({state:t,dimensions:s})};function e0(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const Nv={phase:"IDLE",completed:null,shouldFlush:!1};var PM=(t=Nv,i)=>{if(i.type==="FLUSH")return{...Nv,shouldFlush:!0};if(i.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&At();const{critical:o,clientSelection:s,viewport:u,dimensions:d,movementMode:f}=i.payload,p=d.draggables[o.draggable.id],b=d.droppables[o.droppable.id],y={selection:s,borderBoxCenter:p.client.borderBox.center,offset:hn},S={client:y,page:{selection:Sn(y.selection,u.scroll.initial),borderBoxCenter:Sn(y.selection,u.scroll.initial),offset:Sn(y.selection,u.scroll.diff.value)}},w=Rf(d.droppables).every(N=>!N.isFixedOnPage),{impact:_,afterCritical:T}=S1({draggable:p,home:b,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:f,dimensions:d,initial:S,current:S,isWindowScrollAllowed:w,impact:_,afterCritical:T,onLiftImpact:_,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(i.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&At(),{...t,phase:"COLLECTING"});if(i.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||At(),RM({state:t,published:i.payload});if(i.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Ro(t)||At();const{client:o}=i.payload;return Ka(o,t.current.client.selection)?t:wc({state:t,clientSelection:o,impact:X0(t)?t.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return e0(t);Ro(t)||At();const{id:o,newScroll:s}=i.payload,u=t.dimensions.droppables[o];if(!u)return t;const d=gp(u,s);return t0(t,d,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ro(t)||At();const{id:o,isEnabled:s}=i.payload,u=t.dimensions.droppables[o];u||At(),u.isEnabled===s&&At();const d={...u,isEnabled:s};return t0(t,d,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Ro(t)||At();const{id:o,isCombineEnabled:s}=i.payload,u=t.dimensions.droppables[o];u||At(),u.isCombineEnabled===s&&At();const d={...u,isCombineEnabled:s};return t0(t,d,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Ro(t)||At(),t.isWindowScrollAllowed||At();const o=i.payload.newScroll;if(Ka(t.viewport.scroll.current,o))return e0(t);const s=d1(t.viewport,o);return X0(t)?_1({state:t,viewport:s}):wc({state:t,viewport:s})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ro(t))return t;const o=i.payload.maxScroll;if(Ka(o,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:s}}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&At();const o=vM({state:t,type:i.type});return o?wc({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(i.type==="DROP_PENDING"){const o=i.payload.reason;return t.phase!=="COLLECTING"&&At(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(i.type==="DROP_ANIMATE"){const{completed:o,dropDuration:s,newHomeClientOffset:u}=i.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||At(),{phase:"DROP_ANIMATING",completed:o,dropDuration:s,newHomeClientOffset:u,dimensions:t.dimensions}}if(i.type==="DROP_COMPLETE"){const{completed:o}=i.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function pe(t,i){return t instanceof Object&&"type"in t&&t.type===i}const zM=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),HM=t=>({type:"LIFT",payload:t}),$M=t=>({type:"INITIAL_PUBLISH",payload:t}),IM=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),UM=()=>({type:"COLLECTION_STARTING",payload:null}),GM=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),ZM=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),YM=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),w1=t=>({type:"MOVE",payload:t}),qM=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),VM=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),KM=()=>({type:"MOVE_UP",payload:null}),FM=()=>({type:"MOVE_DOWN",payload:null}),XM=()=>({type:"MOVE_RIGHT",payload:null}),WM=()=>({type:"MOVE_LEFT",payload:null}),wp=()=>({type:"FLUSH",payload:null}),QM=t=>({type:"DROP_ANIMATE",payload:t}),Tp=t=>({type:"DROP_COMPLETE",payload:t}),T1=t=>({type:"DROP",payload:t}),JM=t=>({type:"DROP_PENDING",payload:t}),E1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var tN=t=>({getState:i,dispatch:o})=>s=>u=>{if(!pe(u,"LIFT")){s(u);return}const{id:d,clientSelection:f,movementMode:p}=u.payload,b=i();b.phase==="DROP_ANIMATING"&&o(Tp({completed:b.completed})),i().phase!=="IDLE"&&At(),o(wp()),o(zM({draggableId:d,movementMode:p}));const S={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:w,dimensions:_,viewport:T}=t.startPublishing(S);o($M({critical:w,dimensions:_,clientSelection:f,movementMode:p,viewport:T}))},eN=t=>()=>i=>o=>{pe(o,"INITIAL_PUBLISH")&&t.dragging(),pe(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(pe(o,"FLUSH")||pe(o,"DROP_COMPLETE"))&&t.resting(),i(o)};const Ep={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},kc={opacity:{drop:0,combining:.7},scale:{drop:.75}},M1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Do=`${M1.outOfTheWay}s ${Ep.outOfTheWay}`,Tc={fluid:`opacity ${Do}`,snap:`transform ${Do}, opacity ${Do}`,drop:t=>{const i=`${t}s ${Ep.drop}`;return`transform ${i}, opacity ${i}`},outOfTheWay:`transform ${Do}`,placeholder:`height ${Do}, width ${Do}, margin ${Do}`},Av=t=>Ka(t,hn)?void 0:`translate(${t.x}px, ${t.y}px)`,W0={moveTo:Av,drop:(t,i)=>{const o=Av(t);if(o)return i?`${o} scale(${kc.scale.drop})`:o}},{minDropTime:Q0,maxDropTime:N1}=M1,nN=N1-Q0,Dv=1500,rN=.6;var iN=({current:t,destination:i,reason:o})=>{const s=Ac(t,i);if(s<=0)return Q0;if(s>=Dv)return N1;const u=s/Dv,d=Q0+nN*u,f=o==="CANCEL"?d*rN:d;return Number(f.toFixed(2))},aN=({impact:t,draggable:i,dimensions:o,viewport:s,afterCritical:u})=>{const{draggables:d,droppables:f}=o,p=hr(t),b=p?f[p]:null,y=f[i.descriptor.droppableId],S=x1({impact:t,draggable:i,draggables:d,afterCritical:u,droppable:b||y,viewport:s});return fr(S,i.client.borderBox.center)},oN=({draggables:t,reason:i,lastImpact:o,home:s,viewport:u,onLiftImpact:d})=>!o.at||i!=="DROP"?{impact:v1({draggables:t,impact:d,destination:s,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:Dc},didDropInsideDroppable:!0};const sN=({getState:t,dispatch:i})=>o=>s=>{if(!pe(s,"DROP")){o(s);return}const u=t(),d=s.payload.reason;if(u.phase==="COLLECTING"){i(JM({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&At(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||At();const p=u.critical,b=u.dimensions,y=b.draggables[u.critical.draggable.id],{impact:S,didDropInsideDroppable:w}=oN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),_=w?bp(S):null,T=w?Pf(S):null,A={index:p.draggable.index,droppableId:p.droppable.id},N={draggableId:y.descriptor.id,type:y.descriptor.type,source:A,reason:d,mode:u.movementMode,destination:_,combine:T},D=aN({impact:S,draggable:y,dimensions:b,viewport:u.viewport,afterCritical:u.afterCritical}),$={critical:u.critical,afterCritical:u.afterCritical,result:N,impact:S};if(!(!Ka(u.current.client.offset,D)||!!N.combine)){i(Tp({completed:$}));return}const j=iN({current:u.current.client.offset,destination:D,reason:d});i(QM({newHomeClientOffset:D,dropDuration:j,completed:$}))};var A1=()=>({x:window.pageXOffset,y:window.pageYOffset});function lN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:i=>{i.target!==window&&i.target!==window.document||t()}}}function cN({onWindowScroll:t}){function i(){t(A1())}const o=Nc(i),s=lN(o);let u=Va;function d(){return u!==Va}function f(){d()&&At(),u=Or(window,[s])}function p(){d()||At(),o.cancel(),u(),u=Va}return{start:f,stop:p,isActive:d}}const uN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH"),dN=t=>{const i=cN({onWindowScroll:o=>{t.dispatch(qM({newScroll:o}))}});return o=>s=>{!i.isActive()&&pe(s,"INITIAL_PUBLISH")&&i.start(),i.isActive()&&uN(s)&&i.stop(),o(s)}};var fN=t=>{let i=!1,o=!1;const s=setTimeout(()=>{o=!0}),u=d=>{i||o||(i=!0,t(d),clearTimeout(s))};return u.wasCalled=()=>i,u},hN=()=>{const t=[],i=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&At();const[f]=t.splice(d,1);f.callback()};return{add:u=>{const d=setTimeout(()=>i(d)),f={timerId:d,callback:u};t.push(f)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const mN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.droppableId===i.droppableId&&t.index===i.index,pN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.draggableId===i.draggableId&&t.droppableId===i.droppableId,gN=(t,i)=>{if(t===i)return!0;const o=t.draggable.id===i.draggable.id&&t.draggable.droppableId===i.draggable.droppableId&&t.draggable.type===i.draggable.type&&t.draggable.index===i.draggable.index,s=t.droppable.id===i.droppable.id&&t.droppable.type===i.droppable.type;return o&&s},lc=(t,i)=>{i()},Td=(t,i)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:i});function n0(t,i,o,s){if(!t){o(s(i));return}const u=fN(o);t(i,{announce:u}),u.wasCalled()||o(s(i))}var bN=(t,i)=>{const o=hN();let s=null;const u=(w,_)=>{s&&At(),lc("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:w,mode:_})})},d=(w,_)=>{s&&At(),lc("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(Td(w,_))})},f=(w,_)=>{s&&At();const T=Td(w,_);s={mode:_,lastCritical:w,lastLocation:T.source,lastCombine:null},o.add(()=>{lc("onDragStart",()=>n0(t().onDragStart,T,i,tf.onDragStart))})},p=(w,_)=>{const T=bp(_),A=Pf(_);s||At();const N=!gN(w,s.lastCritical);N&&(s.lastCritical=w);const D=!mN(s.lastLocation,T);D&&(s.lastLocation=T);const $=!pN(s.lastCombine,A);if($&&(s.lastCombine=A),!N&&!D&&!$)return;const I={...Td(w,s.mode),combine:A,destination:T};o.add(()=>{lc("onDragUpdate",()=>n0(t().onDragUpdate,I,i,tf.onDragUpdate))})},b=()=>{s||At(),o.flush()},y=w=>{s||At(),s=null,lc("onDragEnd",()=>n0(t().onDragEnd,w,i,tf.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:f,update:p,flush:b,drop:y,abort:()=>{if(!s)return;const w={...Td(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};y(w)}}},yN=(t,i)=>{const o=bN(t,i);return s=>u=>d=>{if(pe(d,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(pe(d,"INITIAL_PUBLISH")){const p=d.payload.critical;o.beforeStart(p,d.payload.movementMode),u(d),o.start(p,d.payload.movementMode);return}if(pe(d,"DROP_COMPLETE")){const p=d.payload.completed.result;o.flush(),u(d),o.drop(p);return}if(u(d),pe(d,"FLUSH")){o.abort();return}const f=s.getState();f.phase==="DRAGGING"&&o.update(f.critical,f.impact)}};const vN=t=>i=>o=>{if(!pe(o,"DROP_ANIMATION_FINISHED")){i(o);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&At(),t.dispatch(Tp({completed:s.completed}))},xN=t=>{let i=null,o=null;function s(){o&&(cancelAnimationFrame(o),o=null),i&&(i(),i=null)}return u=>d=>{if((pe(d,"FLUSH")||pe(d,"DROP_COMPLETE")||pe(d,"DROP_ANIMATION_FINISHED"))&&s(),u(d),!pe(d,"DROP_ANIMATE"))return;const f={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(E1())}};o=requestAnimationFrame(()=>{o=null,i=Or(window,[f])})}};var _N=t=>()=>i=>o=>{(pe(o,"DROP_COMPLETE")||pe(o,"FLUSH")||pe(o,"DROP_ANIMATE"))&&t.stopPublishing(),i(o)},SN=t=>{let i=!1;return()=>o=>s=>{if(pe(s,"INITIAL_PUBLISH")){i=!0,t.tryRecordFocus(s.payload.critical.draggable.id),o(s),t.tryRestoreFocusRecorded();return}if(o(s),!!i){if(pe(s,"FLUSH")){i=!1,t.tryRestoreFocusRecorded();return}if(pe(s,"DROP_COMPLETE")){i=!1;const u=s.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const wN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH");var TN=t=>i=>o=>s=>{if(wN(s)){t.stop(),o(s);return}if(pe(s,"INITIAL_PUBLISH")){o(s);const u=i.getState();u.phase!=="DRAGGING"&&At(),t.start(u);return}o(s),t.scroll(i.getState())};const EN=t=>i=>o=>{if(i(o),!pe(o,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(T1({reason:s.reason})))},MN=Z_;var NN=({dimensionMarshal:t,focusMarshal:i,styleMarshal:o,getResponders:s,announce:u,autoScroller:d})=>G_(PM,MN(TE(eN(o),_N(t),tN(t),sN,vN,xN,EN,TN(d),dN,SN(i),yN(s,u))));const r0=()=>({additions:{},removals:{},modified:{}});function AN({registry:t,callbacks:i}){let o=r0(),s=null;const u=()=>{s||(i.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:b,removals:y,modified:S}=o,w=Object.keys(b).map(A=>t.draggable.getById(A).getDimension(hn)).sort((A,N)=>A.descriptor.index-N.descriptor.index),_=Object.keys(S).map(A=>{const D=t.droppable.getById(A).callbacks.getScrollWhileDragging();return{droppableId:A,scroll:D}}),T={additions:w,removals:Object.keys(y),modified:_};o=r0(),i.publish(T)}))};return{add:b=>{const y=b.descriptor.id;o.additions[y]=b,o.modified[b.descriptor.droppableId]=!0,o.removals[y]&&delete o.removals[y],u()},remove:b=>{const y=b.descriptor;o.removals[y.id]=!0,o.modified[y.droppableId]=!0,o.additions[y.id]&&delete o.additions[y.id],u()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,o=r0())}}}var D1=({scrollHeight:t,scrollWidth:i,height:o,width:s})=>{const u=fr({x:i,y:t},{x:s,y:o});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},j1=()=>{const t=document.documentElement;return t||At(),t},k1=()=>{const t=j1();return D1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},DN=()=>{const t=A1(),i=k1(),o=t.y,s=t.x,u=j1(),d=u.clientWidth,f=u.clientHeight,p=s+d,b=o+f;return{frame:Wr({top:o,left:s,right:p,bottom:b}),scroll:{initial:t,current:t,max:i,diff:{value:hn,displacement:hn}}}},jN=({critical:t,scrollOptions:i,registry:o})=>{const s=DN(),u=s.scroll.current,d=t.droppable,f=o.droppable.getAllByType(d.type).map(S=>S.callbacks.getDimensionAndWatchScroll(u,i)),p=o.draggable.getAllByType(t.draggable.type).map(S=>S.getDimension(u));return{dimensions:{draggables:a1(p),droppables:i1(f)},critical:t,viewport:s}};function jv(t,i,o){return!(o.descriptor.id===i.id||o.descriptor.type!==i.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var kN=(t,i)=>{let o=null;const s=AN({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:t}),u=(_,T)=>{t.droppable.exists(_)||At(),o&&i.updateDroppableIsEnabled({id:_,isEnabled:T})},d=(_,T)=>{o&&(t.droppable.exists(_)||At(),i.updateDroppableIsCombineEnabled({id:_,isCombineEnabled:T}))},f=(_,T)=>{o&&(t.droppable.exists(_)||At(),i.updateDroppableScroll({id:_,newScroll:T}))},p=(_,T)=>{o&&t.droppable.getById(_).callbacks.scroll(T)},b=()=>{if(!o)return;s.stop();const _=o.critical.droppable;t.droppable.getAllByType(_.type).forEach(T=>T.callbacks.dragStopped()),o.unsubscribe(),o=null},y=_=>{o||At();const T=o.critical.draggable;_.type==="ADDITION"&&jv(t,T,_.value)&&s.add(_.value),_.type==="REMOVAL"&&jv(t,T,_.value)&&s.remove(_.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:f,startPublishing:_=>{o&&At();const T=t.draggable.getById(_.draggableId),A=t.droppable.getById(T.descriptor.droppableId),N={draggable:T.descriptor,droppable:A.descriptor},D=t.subscribe(y);return o={critical:N,unsubscribe:D},jN({critical:N,registry:t,scrollOptions:_.scrollOptions})},stopPublishing:b}},O1=(t,i)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===i?!1:t.completed.result.reason==="DROP",ON=t=>{window.scrollBy(t.x,t.y)};const CN=fn(t=>Rf(t).filter(i=>!(!i.isEnabled||!i.frame))),LN=(t,i)=>CN(i).find(s=>(s.frame||At(),p1(s.frame.pageMarginBox)(t)))||null;var BN=({center:t,destination:i,droppables:o})=>{if(i){const u=o[i];return u.frame?u:null}return LN(t,o)};const Oc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var RN=(t,i,o=()=>Oc)=>{const s=o(),u=t[i.size]*s.startFromPercentage,d=t[i.size]*s.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},C1=({startOfRange:t,endOfRange:i,current:o})=>{const s=i-t;return s===0?0:(o-t)/s},Mp=1,PN=(t,i,o=()=>Oc)=>{const s=o();if(t>i.startScrollingFrom)return 0;if(t<=i.maxScrollValueAt)return s.maxPixelScroll;if(t===i.startScrollingFrom)return Mp;const d=1-C1({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:t}),f=s.maxPixelScroll*s.ease(d);return Math.ceil(f)},zN=(t,i,o)=>{const s=o(),u=s.durationDampening.accelerateAt,d=s.durationDampening.stopDampeningAt,f=i,p=d,y=Date.now()-f;if(y>=d)return t;if(y<u)return Mp;const S=C1({startOfRange:u,endOfRange:p,current:y}),w=t*s.ease(S);return Math.ceil(w)},kv=({distanceToEdge:t,thresholds:i,dragStartTime:o,shouldUseTimeDampening:s,getAutoScrollerOptions:u})=>{const d=PN(t,i,u);return d===0?0:s?Math.max(zN(d,o,u),Mp):d},Ov=({container:t,distanceToEdges:i,dragStartTime:o,axis:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=RN(t,s,d);return i[s.end]<i[s.start]?kv({distanceToEdge:i[s.end],thresholds:f,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*kv({distanceToEdge:i[s.start],thresholds:f,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},HN=({container:t,subject:i,proposedScroll:o})=>{const s=i.height>t.height,u=i.width>t.width;return!u&&!s?o:u&&s?null:{x:u?0:o.x,y:s?0:o.y}};const $N=r1(t=>t===0?0:t);var L1=({dragStartTime:t,container:i,subject:o,center:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f={top:s.y-i.top,right:i.right-s.x,bottom:i.bottom-s.y,left:s.x-i.left},p=Ov({container:i,distanceToEdges:f,dragStartTime:t,axis:yp,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),b=Ov({container:i,distanceToEdges:f,dragStartTime:t,axis:l1,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),y=$N({x:b,y:p});if(Ka(y,hn))return null;const S=HN({container:i,subject:o,proposedScroll:y});return S?Ka(S,hn)?null:S:null};const IN=r1(t=>t===0?0:t>0?1:-1),Np=(()=>{const t=(i,o)=>i<0?i:i>o?i-o:0;return({current:i,max:o,change:s})=>{const u=Sn(i,s),d={x:t(u.x,o.x),y:t(u.y,o.y)};return Ka(d,hn)?null:d}})(),B1=({max:t,current:i,change:o})=>{const s={x:Math.max(i.x,t.x),y:Math.max(i.y,t.y)},u=IN(o),d=Np({max:s,current:i,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},Ap=(t,i)=>B1({current:t.scroll.current,max:t.scroll.max,change:i}),UN=(t,i)=>{if(!Ap(t,i))return null;const o=t.scroll.max,s=t.scroll.current;return Np({current:s,max:o,change:i})},Dp=(t,i)=>{const o=t.frame;return o?B1({current:o.scroll.current,max:o.scroll.max,change:i}):!1},GN=(t,i)=>{const o=t.frame;return!o||!Dp(t,i)?null:Np({current:o.scroll.current,max:o.scroll.max,change:i})};var ZN=({viewport:t,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=L1({dragStartTime:s,container:t.frame,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return f&&Ap(t,f)?f:null},YN=({droppable:t,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const f=t.frame;if(!f)return null;const p=L1({dragStartTime:s,container:f.pageMarginBox,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&Dp(t,p)?p:null},Cv=({state:t,dragStartTime:i,shouldUseTimeDampening:o,scrollWindow:s,scrollDroppable:u,getAutoScrollerOptions:d})=>{const f=t.current.page.borderBoxCenter,b=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const w=t.viewport,_=ZN({dragStartTime:i,viewport:w,subject:b,center:f,shouldUseTimeDampening:o,getAutoScrollerOptions:d});if(_){s(_);return}}const y=BN({center:f,destination:hr(t.impact),droppables:t.dimensions.droppables});if(!y)return;const S=YN({dragStartTime:i,droppable:y,subject:b,center:f,shouldUseTimeDampening:o,getAutoScrollerOptions:d});S&&u(y.descriptor.id,S)},qN=({scrollWindow:t,scrollDroppable:i,getAutoScrollerOptions:o=()=>Oc})=>{const s=Nc(t),u=Nc(i);let d=null;const f=y=>{d||At();const{shouldUseTimeDampening:S,dragStartTime:w}=d;Cv({state:y,scrollWindow:s,scrollDroppable:u,dragStartTime:w,shouldUseTimeDampening:S,getAutoScrollerOptions:o})};return{start:y=>{d&&At();const S=Date.now();let w=!1;const _=()=>{w=!0};Cv({state:y,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:_,scrollDroppable:_,getAutoScrollerOptions:o}),d={dragStartTime:S,shouldUseTimeDampening:w},w&&f(y)},stop:()=>{d&&(s.cancel(),u.cancel(),d=null)},scroll:f}},VN=({move:t,scrollDroppable:i,scrollWindow:o})=>{const s=(p,b)=>{const y=Sn(p.current.client.selection,b);t({client:y})},u=(p,b)=>{if(!Dp(p,b))return b;const y=GN(p,b);if(!y)return i(p.descriptor.id,b),null;const S=fr(b,y);return i(p.descriptor.id,S),fr(b,S)},d=(p,b,y)=>{if(!p||!Ap(b,y))return y;const S=UN(b,y);if(!S)return o(y),null;const w=fr(y,S);return o(w),fr(y,w)};return p=>{const b=p.scrollJumpRequest;if(!b)return;const y=hr(p.impact);y||At();const S=u(p.dimensions.droppables[y],b);if(!S)return;const w=p.viewport,_=d(p.isWindowScrollAllowed,w,S);_&&s(p,_)}},KN=({scrollDroppable:t,scrollWindow:i,move:o,getAutoScrollerOptions:s})=>{const u=qN({scrollWindow:i,scrollDroppable:t,getAutoScrollerOptions:s}),d=VN({move:o,scrollWindow:i,scrollDroppable:t});return{scroll:b=>{if(!(s().disabled||b.phase!=="DRAGGING")){if(b.movementMode==="FLUID"){u.scroll(b);return}b.scrollJumpRequest&&d(b)}},start:u.start,stop:u.stop}};const Zs="data-rfd",Ys=(()=>{const t=`${Zs}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),J0=(()=>{const t=`${Zs}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),FN=(()=>{const t=`${Zs}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Lv={contextId:`${Zs}-scroll-container-context-id`},XN=t=>i=>`[${i}="${t}"]`,cc=(t,i)=>t.map(o=>{const s=o.styles[i];return s?`${o.selector} { ${s} }`:""}).join(" "),WN="pointer-events: none;";var QN=t=>{const i=XN(t),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(Ys.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:WN,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${Tc.outOfTheWay};
    `;return{selector:i(J0.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:i(FN.contextId),styles:{always:"overflow-anchor: none;"}},f=[s,o,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:cc(f,"always"),resting:cc(f,"resting"),dragging:cc(f,"dragging"),dropAnimating:cc(f,"dropAnimating"),userCancel:cc(f,"userCancel")}};const mr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,i0=()=>{const t=document.querySelector("head");return t||At(),t},Bv=t=>{const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.type="text/css",i};function JN(t,i){const o=ce(()=>QN(t),[t]),s=O.useRef(null),u=O.useRef(null),d=Ht(fn(w=>{const _=u.current;_||At(),_.textContent=w}),[]),f=Ht(w=>{const _=s.current;_||At(),_.textContent=w},[]);mr(()=>{!s.current&&!u.current||At();const w=Bv(i),_=Bv(i);return s.current=w,u.current=_,w.setAttribute(`${Zs}-always`,t),_.setAttribute(`${Zs}-dynamic`,t),i0().appendChild(w),i0().appendChild(_),f(o.always),d(o.resting),()=>{const T=A=>{const N=A.current;N||At(),i0().removeChild(N),A.current=null};T(s),T(u)}},[i,f,d,o.always,o.resting,t]);const p=Ht(()=>d(o.dragging),[d,o.dragging]),b=Ht(w=>{if(w==="DROP"){d(o.dropAnimating);return}d(o.userCancel)},[d,o.dropAnimating,o.userCancel]),y=Ht(()=>{u.current&&d(o.resting)},[d,o.resting]);return ce(()=>({dragging:p,dropping:b,resting:y}),[p,b,y])}function R1(t,i){return Array.from(t.querySelectorAll(i))}var P1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function $f(t){return t instanceof P1(t).HTMLElement}function tA(t,i){const o=`[${Ys.contextId}="${t}"]`,s=R1(document,o);if(!s.length)return null;const u=s.find(d=>d.getAttribute(Ys.draggableId)===i);return!u||!$f(u)?null:u}function eA(t){const i=O.useRef({}),o=O.useRef(null),s=O.useRef(null),u=O.useRef(!1),d=Ht(function(_,T){const A={id:_,focus:T};return i.current[_]=A,function(){const D=i.current;D[_]!==A&&delete D[_]}},[]),f=Ht(function(_){const T=tA(t,_);T&&T!==document.activeElement&&T.focus()},[t]),p=Ht(function(_,T){o.current===_&&(o.current=T)},[]),b=Ht(function(){s.current||u.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const _=o.current;_&&f(_)}))},[f]),y=Ht(function(_){o.current=null;const T=document.activeElement;T&&T.getAttribute(Ys.draggableId)===_&&(o.current=_)},[]);return mr(()=>(u.current=!0,function(){u.current=!1;const _=s.current;_&&cancelAnimationFrame(_)}),[]),ce(()=>({register:d,tryRecordFocus:y,tryRestoreFocusRecorded:b,tryShiftRecord:p}),[d,y,b,p])}function nA(){const t={draggables:{},droppables:{}},i=[];function o(w){return i.push(w),function(){const T=i.indexOf(w);T!==-1&&i.splice(T,1)}}function s(w){i.length&&i.forEach(_=>_(w))}function u(w){return t.draggables[w]||null}function d(w){const _=u(w);return _||At(),_}const f={register:w=>{t.draggables[w.descriptor.id]=w,s({type:"ADDITION",value:w})},update:(w,_)=>{const T=t.draggables[_.descriptor.id];T&&T.uniqueId===w.uniqueId&&(delete t.draggables[_.descriptor.id],t.draggables[w.descriptor.id]=w)},unregister:w=>{const _=w.descriptor.id,T=u(_);T&&w.uniqueId===T.uniqueId&&(delete t.draggables[_],t.droppables[w.descriptor.droppableId]&&s({type:"REMOVAL",value:w}))},getById:d,findById:u,exists:w=>!!u(w),getAllByType:w=>Object.values(t.draggables).filter(_=>_.descriptor.type===w)};function p(w){return t.droppables[w]||null}function b(w){const _=p(w);return _||At(),_}const y={register:w=>{t.droppables[w.descriptor.id]=w},unregister:w=>{const _=p(w.descriptor.id);_&&w.uniqueId===_.uniqueId&&delete t.droppables[w.descriptor.id]},getById:b,findById:p,exists:w=>!!p(w),getAllByType:w=>Object.values(t.droppables).filter(_=>_.descriptor.type===w)};function S(){t.draggables={},t.droppables={},i.length=0}return{draggable:f,droppable:y,subscribe:o,clean:S}}function rA(){const t=ce(nA,[]);return O.useEffect(()=>function(){t.clean()},[t]),t}var jp=Ce.createContext(null),df=()=>{const t=document.body;return t||At(),t};const iA={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},aA=t=>`rfd-announcement-${t}`;function oA(t){const i=ce(()=>aA(t),[t]),o=O.useRef(null);return O.useEffect(function(){const d=document.createElement("div");return o.current=d,d.id=i,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),sf(d.style,iA),df().appendChild(d),function(){setTimeout(function(){const b=df();b.contains(d)&&b.removeChild(d),d===o.current&&(o.current=null)})}},[i]),Ht(u=>{const d=o.current;if(d){d.textContent=u;return}},[])}const sA={separator:"::"};function kp(t,i=sA){const o=Ce.useId();return ce(()=>`${t}${i.separator}${o}`,[i.separator,t,o])}function lA({contextId:t,uniqueId:i}){return`rfd-hidden-text-${t}-${i}`}function cA({contextId:t,text:i}){const o=kp("hidden-text",{separator:"-"}),s=ce(()=>lA({contextId:t,uniqueId:o}),[o,t]);return O.useEffect(function(){const d=document.createElement("div");return d.id=s,d.textContent=i,d.style.display="none",df().appendChild(d),function(){const p=df();p.contains(d)&&p.removeChild(d)}},[s,i]),s}var If=Ce.createContext(null);function z1(t){const i=O.useRef(t);return O.useEffect(()=>{i.current=t}),i}function uA(){let t=null;function i(){return!!t}function o(f){return f===t}function s(f){t&&At();const p={abandon:f};return t=p,p}function u(){t||At(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:i,isActive:o,claim:s,release:u,tryAbandon:d}}function Cc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const dA=9,fA=13,Op=27,H1=32,hA=33,mA=34,pA=35,gA=36,bA=37,yA=38,vA=39,xA=40,_A={[fA]:!0,[dA]:!0};var $1=t=>{_A[t.keyCode]&&t.preventDefault()};const Uf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),I1=0,Rv=5;function SA(t,i){return Math.abs(i.x-t.x)>=Rv||Math.abs(i.y-t.y)>=Rv}const Pv={type:"IDLE"};function wA({cancel:t,completed:i,getPhase:o,setPhase:s}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:f,clientY:p}=u;if(d!==I1)return;const b={x:f,y:p},y=o();if(y.type==="DRAGGING"){u.preventDefault(),y.actions.move(b);return}y.type!=="PENDING"&&At();const S=y.point;if(!SA(S,b))return;u.preventDefault();const w=y.actions.fluidLift(b);s({type:"DRAGGING",actions:w})}},{eventName:"mouseup",fn:u=>{const d=o();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"mousedown",fn:u=>{o().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(o().type==="PENDING"){t();return}if(u.keyCode===Op){u.preventDefault(),t();return}$1(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=o();if(d.type==="IDLE"&&At(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:Uf,fn:t}]}function TA(t){const i=O.useRef(Pv),o=O.useRef(Va),s=ce(()=>({eventName:"mousedown",fn:function(w){if(w.defaultPrevented||w.button!==I1||w.ctrlKey||w.metaKey||w.shiftKey||w.altKey)return;const _=t.findClosestDraggableId(w);if(!_)return;const T=t.tryGetLock(_,f,{sourceEvent:w});if(!T)return;w.preventDefault();const A={x:w.clientX,y:w.clientY};o.current(),y(T,A)}}),[t]),u=ce(()=>({eventName:"webkitmouseforcewillbegin",fn:S=>{if(S.defaultPrevented)return;const w=t.findClosestDraggableId(S);if(!w)return;const _=t.findOptionsForDraggable(w);_&&(_.shouldRespectForcePress||t.canGetLock(w)&&S.preventDefault())}}),[t]),d=Ht(function(){const w={passive:!1,capture:!0};o.current=Or(window,[u,s],w)},[u,s]),f=Ht(()=>{i.current.type!=="IDLE"&&(i.current=Pv,o.current(),d())},[d]),p=Ht(()=>{const S=i.current;f(),S.type==="DRAGGING"&&S.actions.cancel({shouldBlockNextClick:!0}),S.type==="PENDING"&&S.actions.abort()},[f]),b=Ht(function(){const w={capture:!0,passive:!1},_=wA({cancel:p,completed:f,getPhase:()=>i.current,setPhase:T=>{i.current=T}});o.current=Or(window,_,w)},[p,f]),y=Ht(function(w,_){i.current.type!=="IDLE"&&At(),i.current={type:"PENDING",point:_,actions:w},b()},[b]);mr(function(){return d(),function(){o.current()}},[d])}function EA(){}const MA={[mA]:!0,[hA]:!0,[gA]:!0,[pA]:!0};function NA(t,i){function o(){i(),t.cancel()}function s(){i(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===Op){u.preventDefault(),o();return}if(u.keyCode===H1){u.preventDefault(),s();return}if(u.keyCode===xA){u.preventDefault(),t.moveDown();return}if(u.keyCode===yA){u.preventDefault(),t.moveUp();return}if(u.keyCode===vA){u.preventDefault(),t.moveRight();return}if(u.keyCode===bA){u.preventDefault(),t.moveLeft();return}if(MA[u.keyCode]){u.preventDefault();return}$1(u)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:Uf,fn:o}]}function AA(t){const i=O.useRef(EA),o=ce(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==H1)return;const f=t.findClosestDraggableId(d);if(!f)return;const p=t.tryGetLock(f,S,{sourceEvent:d});if(!p)return;d.preventDefault();let b=!0;const y=p.snapLift();i.current();function S(){b||At(),b=!1,i.current(),s()}i.current=Or(window,NA(y,S),{capture:!0,passive:!1})}}),[t]),s=Ht(function(){const d={passive:!1,capture:!0};i.current=Or(window,[o],d)},[o]);mr(function(){return s(),function(){i.current()}},[s])}const a0={type:"IDLE"},DA=120,jA=.15;function kA({cancel:t,getPhase:i}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(i().type!=="DRAGGING"){t();return}o.keyCode===Op&&o.preventDefault(),t()}},{eventName:Uf,fn:t}]}function OA({cancel:t,completed:i,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const u=o();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:f}=s.touches[0],p={x:d,y:f};s.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:s=>{const u=o();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"touchcancel",fn:s=>{if(o().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const u=o();u.type==="IDLE"&&At();const d=s.touches[0];if(!d||!(d.force>=jA))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:Uf,fn:t}]}function CA(t){const i=O.useRef(a0),o=O.useRef(Va),s=Ht(function(){return i.current},[]),u=Ht(function(T){i.current=T},[]),d=ce(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const A=t.findClosestDraggableId(T);if(!A)return;const N=t.tryGetLock(A,p,{sourceEvent:T});if(!N)return;const D=T.touches[0],{clientX:$,clientY:I}=D,j={x:$,y:I};o.current(),w(N,j)}}),[t]),f=Ht(function(){const T={capture:!0,passive:!1};o.current=Or(window,[d],T)},[d]),p=Ht(()=>{const _=i.current;_.type!=="IDLE"&&(_.type==="PENDING"&&clearTimeout(_.longPressTimerId),u(a0),o.current(),f())},[f,u]),b=Ht(()=>{const _=i.current;p(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[p]),y=Ht(function(){const T={capture:!0,passive:!1},A={cancel:b,completed:p,getPhase:s},N=Or(window,OA(A),T),D=Or(window,kA(A),T);o.current=function(){N(),D()}},[b,s,p]),S=Ht(function(){const T=s();T.type!=="PENDING"&&At();const A=T.actions.fluidLift(T.point);u({type:"DRAGGING",actions:A,hasMoved:!1})},[s,u]),w=Ht(function(T,A){s().type!=="IDLE"&&At();const N=setTimeout(S,DA);u({type:"PENDING",point:A,actions:T,longPressTimerId:N}),y()},[y,s,u,S]);mr(function(){return f(),function(){o.current();const A=s();A.type==="PENDING"&&(clearTimeout(A.longPressTimerId),u(a0))}},[s,f,u]),mr(function(){return Or(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const LA=["input","button","textarea","select","option","optgroup","video","audio"];function U1(t,i){if(i==null)return!1;if(LA.includes(i.tagName.toLowerCase()))return!0;const s=i.getAttribute("contenteditable");return s==="true"||s===""?!0:i===t?!1:U1(t,i.parentElement)}function BA(t,i){const o=i.target;return $f(o)?U1(t,o):!1}var RA=t=>Wr(t.getBoundingClientRect()).center;function PA(t){return t instanceof P1(t).Element}const zA=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function G1(t,i){return t==null?null:t[zA](i)?t:G1(t.parentElement,i)}function HA(t,i){return t.closest?t.closest(i):G1(t,i)}function $A(t){return`[${Ys.contextId}="${t}"]`}function IA(t,i){const o=i.target;if(!PA(o))return null;const s=$A(t),u=HA(o,s);return!u||!$f(u)?null:u}function UA(t,i){const o=IA(t,i);return o?o.getAttribute(Ys.draggableId):null}function GA(t,i){const o=`[${J0.contextId}="${t}"]`,u=R1(document,o).find(d=>d.getAttribute(J0.id)===i);return!u||!$f(u)?null:u}function ZA(t){t.preventDefault()}function Ed({expected:t,phase:i,isLockActive:o,shouldWarn:s}){return!(!o()||t!==i)}function Z1({lockAPI:t,store:i,registry:o,draggableId:s}){if(t.isClaimed())return!1;const u=o.draggable.findById(s);return!(!u||!u.options.isEnabled||!O1(i.getState(),s))}function YA({lockAPI:t,contextId:i,store:o,registry:s,draggableId:u,forceSensorStop:d,sourceEvent:f}){if(!Z1({lockAPI:t,store:o,registry:s,draggableId:u}))return null;const b=s.draggable.getById(u),y=GA(i,b.descriptor.id);if(!y||f&&!b.options.canDragInteractiveElements&&BA(y,f))return null;const S=t.claim(d||Va);let w="PRE_DRAG";function _(){return b.options.shouldRespectForcePress}function T(){return t.isActive(S)}function A(k,G){Ed({expected:k,phase:w,isLockActive:T,shouldWarn:!0})&&o.dispatch(G())}const N=A.bind(null,"DRAGGING");function D(k){function G(){t.release(),w="COMPLETED"}w!=="PRE_DRAG"&&(G(),At()),o.dispatch(HM(k.liftActionArgs)),w="DRAGGING";function W(ot,nt={shouldBlockNextClick:!1}){if(k.cleanup(),nt.shouldBlockNextClick){const tt=Or(window,[{eventName:"click",fn:ZA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(tt)}G(),o.dispatch(T1({reason:ot}))}return{isActive:()=>Ed({expected:"DRAGGING",phase:w,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:_,drop:ot=>W("DROP",ot),cancel:ot=>W("CANCEL",ot),...k.actions}}function $(k){const G=Nc(ot=>{N(()=>w1({client:ot}))});return{...D({liftActionArgs:{id:u,clientSelection:k,movementMode:"FLUID"},cleanup:()=>G.cancel(),actions:{move:G}}),move:G}}function I(){const k={moveUp:()=>N(KM),moveRight:()=>N(XM),moveDown:()=>N(FM),moveLeft:()=>N(WM)};return D({liftActionArgs:{id:u,clientSelection:RA(y),movementMode:"SNAP"},cleanup:Va,actions:k})}function j(){Ed({expected:"PRE_DRAG",phase:w,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>Ed({expected:"PRE_DRAG",phase:w,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:_,fluidLift:$,snapLift:I,abort:j}}const qA=[TA,AA,CA];function VA({contextId:t,store:i,registry:o,customSensors:s,enableDefaultSensors:u}){const d=[...u?qA:[],...s||[]],f=O.useState(()=>uA())[0],p=Ht(function(D,$){Cc(D)&&!Cc($)&&f.tryAbandon()},[f]);mr(function(){let D=i.getState();return i.subscribe(()=>{const I=i.getState();p(D,I),D=I})},[f,i,p]),mr(()=>f.tryAbandon,[f.tryAbandon]);const b=Ht(N=>Z1({lockAPI:f,registry:o,store:i,draggableId:N}),[f,o,i]),y=Ht((N,D,$)=>YA({lockAPI:f,registry:o,contextId:t,store:i,draggableId:N,forceSensorStop:D||null,sourceEvent:$&&$.sourceEvent?$.sourceEvent:null}),[t,f,o,i]),S=Ht(N=>UA(t,N),[t]),w=Ht(N=>{const D=o.draggable.findById(N);return D?D.options:null},[o.draggable]),_=Ht(function(){f.isClaimed()&&(f.tryAbandon(),i.getState().phase!=="IDLE"&&i.dispatch(wp()))},[f,i]),T=Ht(()=>f.isClaimed(),[f]),A=ce(()=>({canGetLock:b,tryGetLock:y,findClosestDraggableId:S,findOptionsForDraggable:w,tryReleaseLock:_,isLockClaimed:T}),[b,y,S,w,_,T]);for(let N=0;N<d.length;N++)d[N](A)}const KA=t=>({onBeforeCapture:i=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(i)};Ic.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),FA=t=>({...Oc,...t.autoScrollerOptions,durationDampening:{...Oc.durationDampening,...t.autoScrollerOptions}});function uc(t){return t.current||At(),t.current}function XA(t){const{contextId:i,setCallbacks:o,sensors:s,nonce:u,dragHandleUsageInstructions:d}=t,f=O.useRef(null),p=z1(t),b=Ht(()=>KA(p.current),[p]),y=Ht(()=>FA(p.current),[p]),S=oA(i),w=cA({contextId:i,text:d}),_=JN(i,u),T=Ht(tt=>{uc(f).dispatch(tt)},[]),A=ce(()=>cv({publishWhileDragging:IM,updateDroppableScroll:GM,updateDroppableIsEnabled:ZM,updateDroppableIsCombineEnabled:YM,collectionStarting:UM},T),[T]),N=rA(),D=ce(()=>kN(N,A),[N,A]),$=ce(()=>KN({scrollWindow:ON,scrollDroppable:D.scrollDroppable,getAutoScrollerOptions:y,...cv({move:w1},T)}),[D.scrollDroppable,T,y]),I=eA(i),j=ce(()=>NN({announce:S,autoScroller:$,dimensionMarshal:D,focusMarshal:I,getResponders:b,styleMarshal:_}),[S,$,D,I,b,_]);f.current=j;const C=Ht(()=>{const tt=uc(f);tt.getState().phase!=="IDLE"&&tt.dispatch(wp())},[]),k=Ht(()=>{const tt=uc(f).getState();return tt.phase==="DROP_ANIMATING"?!0:tt.phase==="IDLE"?!1:tt.isDragging},[]),G=ce(()=>({isDragging:k,tryAbort:C}),[k,C]);o(G);const W=Ht(tt=>O1(uc(f).getState(),tt),[]),ot=Ht(()=>Ro(uc(f).getState()),[]),nt=ce(()=>({marshal:D,focus:I,contextId:i,canLift:W,isMovementAllowed:ot,dragHandleUsageInstructionsId:w,registry:N}),[i,D,w,I,W,ot,N]);return VA({contextId:i,store:j,registry:N,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),O.useEffect(()=>C,[C]),Ce.createElement(If.Provider,{value:nt},Ce.createElement(_3,{context:jp,store:j},t.children))}function WA(){return Ce.useId()}function Zc(t){const i=WA(),o=t.dragHandleUsageInstructions||tf.dragHandleUsageInstructions;return Ce.createElement(A3,null,s=>Ce.createElement(XA,{nonce:t.nonce,contextId:i,setCallbacks:s,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const zv={dragging:5e3,dropAnimating:4500},QA=(t,i)=>i?Tc.drop(i.duration):t?Tc.snap:Tc.fluid,JA=(t,i)=>{if(t)return i?kc.opacity.drop:kc.opacity.combining},tD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function eD(t){const o=t.dimension.client,{offset:s,combineWith:u,dropping:d}=t,f=!!u,p=tD(t),b=!!d,y=b?W0.drop(s,f):W0.moveTo(s);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:QA(p,d),transform:y,opacity:JA(f,b),zIndex:b?zv.dropAnimating:zv.dragging,pointerEvents:"none"}}function nD(t){return{transform:W0.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function rD(t){return t.type==="DRAGGING"?eD(t):nD(t)}function iD(t,i,o=hn){const s=window.getComputedStyle(i),u=i.getBoundingClientRect(),d=W_(u,s),f=of(d,o),p={client:d,tagName:i.tagName.toLowerCase(),display:s.display},b={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:b,client:d,page:f}}function aD(t){const i=kp("draggable"),{descriptor:o,registry:s,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}=t,b=ce(()=>({canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:p}),[d,p,f]),y=Ht(T=>{const A=u();return A||At(),iD(o,A,T)},[o,u]),S=ce(()=>({uniqueId:i,descriptor:o,options:b,getDimension:y}),[o,y,b,i]),w=O.useRef(S),_=O.useRef(!0);mr(()=>(s.draggable.register(w.current),()=>s.draggable.unregister(w.current)),[s.draggable]),mr(()=>{if(_.current){_.current=!1;return}const T=w.current;w.current=S,s.draggable.update(S,T)},[S,s.draggable])}var Cp=Ce.createContext(null);function ff(t){const i=O.useContext(t);return i||At(),i}function oD(t){t.preventDefault()}const sD=t=>{const i=O.useRef(null),o=Ht((G=null)=>{i.current=G},[]),s=Ht(()=>i.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:f}=ff(If),{type:p,droppableId:b}=ff(Cp),y=ce(()=>({id:t.draggableId,index:t.index,type:p,droppableId:b}),[t.draggableId,t.index,p,b]),{children:S,draggableId:w,isEnabled:_,shouldRespectForcePress:T,canDragInteractiveElements:A,isClone:N,mapped:D,dropAnimationFinished:$}=t;if(!N){const G=ce(()=>({descriptor:y,registry:f,getDraggableRef:s,canDragInteractiveElements:A,shouldRespectForcePress:T,isEnabled:_}),[y,f,s,A,T,_]);aD(G)}const I=ce(()=>_?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":w,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:oD}:null,[u,d,w,_]),j=Ht(G=>{D.type==="DRAGGING"&&D.dropping&&G.propertyName==="transform"&&Ic.flushSync($)},[$,D]),C=ce(()=>{const G=rD(D),W=D.type==="DRAGGING"&&D.dropping?j:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":w,style:G,onTransitionEnd:W},dragHandleProps:I}},[u,I,w,D,j,o]),k=ce(()=>({draggableId:y.id,type:y.type,source:{index:y.index,droppableId:y.droppableId}}),[y.droppableId,y.id,y.index,y.type]);return Ce.createElement(Ce.Fragment,null,S(C,D.snapshot,k))};var Y1=(t,i)=>t===i,q1=t=>{const{combine:i,destination:o}=t;return o?o.droppableId:i?i.droppableId:null};const lD=t=>t.combine?t.combine.draggableId:null,cD=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function uD(){const t=fn((u,d)=>({x:u,y:d})),i=fn((u,d,f=null,p=null,b=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!b,dropAnimation:b,mode:u,draggingOver:f,combineWith:p,combineTargetFor:null})),o=fn((u,d,f,p,b=null,y=null,S=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:b,combineWith:y,mode:d,offset:u,dimension:f,forceShouldAnimate:S,snapshot:i(d,p,b,y,null)}}));return(u,d)=>{if(Cc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const f=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],b=hr(u.impact),y=cD(u.impact),S=u.forceShouldAnimate;return o(t(f.x,f.y),u.movementMode,p,d.isClone,b,y,S)}if(u.phase==="DROP_ANIMATING"){const f=u.completed;if(f.result.draggableId!==d.draggableId)return null;const p=d.isClone,b=u.dimensions.draggables[d.draggableId],y=f.result,S=y.mode,w=q1(y),_=lD(y),A={duration:u.dropDuration,curve:Ep.drop,moveTo:u.newHomeClientOffset,opacity:_?kc.opacity.drop:null,scale:_?kc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:b,dropping:A,draggingOver:w,combineWith:_,mode:S,forceShouldAnimate:null,snapshot:i(S,p,w,_,A)}}}return null}}function V1(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const dD={mapped:{type:"SECONDARY",offset:hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:V1(null)}};function fD(){const t=fn((f,p)=>({x:f,y:p})),i=fn(V1),o=fn((f,p=null,b)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:p,shouldAnimateDisplacement:b,snapshot:i(p)}})),s=f=>f?o(hn,f,!0):null,u=(f,p,b,y)=>{const S=b.displaced.visible[f],w=!!(y.inVirtualList&&y.effected[f]),_=Pf(b),T=_&&_.draggableId===f?p:null;if(!S){if(!w)return s(T);if(b.displaced.invisible[f])return null;const D=Ws(y.displacedBy.point),$=t(D.x,D.y);return o($,T,!0)}if(w)return s(T);const A=b.displacedBy.point,N=t(A.x,A.y);return o(N,T,S.shouldAnimate)};return(f,p)=>{if(Cc(f))return f.critical.draggable.id===p.draggableId?null:u(p.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const b=f.completed;return b.result.draggableId===p.draggableId?null:u(p.draggableId,b.result.draggableId,b.impact,b.afterCritical)}return null}}const hD=()=>{const t=uD(),i=fD();return(s,u)=>t(s,u)||i(s,u)||dD},mD={dropAnimationFinished:E1},pD=X_(hD,mD,null,{context:jp,areStatePropsEqual:Y1})(sD);function K1(t){return ff(Cp).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ce.createElement(pD,t)}function qs(t){const i=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Ce.createElement(K1,sf({},t,{isClone:!1,isEnabled:i,canDragInteractiveElements:o,shouldRespectForcePress:s}))}const F1=t=>i=>t===i,gD=F1("scroll"),bD=F1("auto"),Hv=(t,i)=>i(t.overflowX)||i(t.overflowY),yD=t=>{const i=window.getComputedStyle(t),o={overflowX:i.overflowX,overflowY:i.overflowY};return Hv(o,gD)||Hv(o,bD)},vD=()=>!1,X1=t=>t==null?null:t===document.body?vD()?t:null:t===document.documentElement?null:yD(t)?t:X1(t.parentElement);var tp=t=>({x:t.scrollLeft,y:t.scrollTop});const W1=t=>t?window.getComputedStyle(t).position==="fixed"?!0:W1(t.parentElement):!1;var xD=t=>{const i=X1(t),o=W1(t);return{closestScrollable:i,isFixedOnPage:o}},_D=({descriptor:t,isEnabled:i,isCombineEnabled:o,isFixedOnPage:s,direction:u,client:d,page:f,closest:p})=>{const b=(()=>{if(!p)return null;const{scrollSize:_,client:T}=p,A=D1({scrollHeight:_.scrollHeight,scrollWidth:_.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:T,scrollSize:_,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:A,diff:{value:hn,displacement:hn}}}})(),y=u==="vertical"?yp:l1,S=Gs({page:f,withPlaceholder:null,axis:y,frame:b});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:s,axis:y,isEnabled:i,client:d,page:f,frame:b,subject:S}};const SD=(t,i)=>{const o=Q_(t);if(!i||t!==i)return o;const s=o.paddingBox.top-i.scrollTop,u=o.paddingBox.left-i.scrollLeft,d=s+i.scrollHeight,f=u+i.scrollWidth,b=mp({top:s,right:f,bottom:d,left:u},o.border);return pp({borderBox:b,margin:o.margin,border:o.border,padding:o.padding})};var wD=({ref:t,descriptor:i,env:o,windowScroll:s,direction:u,isDropDisabled:d,isCombineEnabled:f,shouldClipSubject:p})=>{const b=o.closestScrollable,y=SD(t,b),S=of(y,s),w=(()=>{if(!b)return null;const T=Q_(b),A={scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth};return{client:T,page:of(T,s),scroll:tp(b),scrollSize:A,shouldClipSubject:p}})();return _D({descriptor:i,isEnabled:!d,isCombineEnabled:f,isFixedOnPage:o.isFixedOnPage,direction:u,client:y,page:S,closest:w})};const TD={passive:!1},ED={passive:!0};var $v=t=>t.shouldPublishImmediately?TD:ED;const Md=t=>t&&t.env.closestScrollable||null;function MD(t){const i=O.useRef(null),o=ff(If),s=kp("droppable"),{registry:u,marshal:d}=o,f=z1(t),p=ce(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),b=O.useRef(p),y=ce(()=>fn((C,k)=>{i.current||At();const G={x:C,y:k};d.updateDroppableScroll(p.id,G)}),[p.id,d]),S=Ht(()=>{const C=i.current;return!C||!C.env.closestScrollable?hn:tp(C.env.closestScrollable)},[]),w=Ht(()=>{const C=S();y(C.x,C.y)},[S,y]),_=ce(()=>Nc(w),[w]),T=Ht(()=>{const C=i.current,k=Md(C);if(C&&k||At(),C.scrollOptions.shouldPublishImmediately){w();return}_()},[_,w]),A=Ht((C,k)=>{i.current&&At();const G=f.current,W=G.getDroppableRef();W||At();const ot=xD(W),nt={ref:W,descriptor:p,env:ot,scrollOptions:k};i.current=nt;const tt=wD({ref:W,descriptor:p,env:ot,windowScroll:C,direction:G.direction,isDropDisabled:G.isDropDisabled,isCombineEnabled:G.isCombineEnabled,shouldClipSubject:!G.ignoreContainerClipping}),Z=ot.closestScrollable;return Z&&(Z.setAttribute(Lv.contextId,o.contextId),Z.addEventListener("scroll",T,$v(nt.scrollOptions))),tt},[o.contextId,p,T,f]),N=Ht(()=>{const C=i.current,k=Md(C);return C&&k||At(),tp(k)},[]),D=Ht(()=>{const C=i.current;C||At();const k=Md(C);i.current=null,k&&(_.cancel(),k.removeAttribute(Lv.contextId),k.removeEventListener("scroll",T,$v(C.scrollOptions)))},[T,_]),$=Ht(C=>{const k=i.current;k||At();const G=Md(k);G||At(),G.scrollTop+=C.y,G.scrollLeft+=C.x},[]),I=ce(()=>({getDimensionAndWatchScroll:A,getScrollWhileDragging:N,dragStopped:D,scroll:$}),[D,A,N,$]),j=ce(()=>({uniqueId:s,descriptor:p,callbacks:I}),[I,p,s]);mr(()=>(b.current=j.descriptor,u.droppable.register(j),()=>{i.current&&D(),u.droppable.unregister(j)}),[I,p,D,j,d,u.droppable]),mr(()=>{i.current&&d.updateDroppableIsEnabled(b.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),mr(()=>{i.current&&d.updateDroppableIsCombineEnabled(b.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function o0(){}const Iv={width:0,height:0,margin:B3},ND=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>t||o==="close"?Iv:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin},AD=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>{const s=ND({isAnimatingOpenOnMount:t,placeholder:i,animate:o});return{display:i.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Tc.placeholder:null}},DD=t=>{const i=O.useRef(null),o=Ht(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),{animate:s,onTransitionEnd:u,onClose:d,contextId:f}=t,[p,b]=O.useState(t.animate==="open");O.useEffect(()=>p?s!=="open"?(o(),b(!1),o0):i.current?o0:(i.current=setTimeout(()=>{i.current=null,b(!1)}),o):o0,[s,p,o]);const y=Ht(w=>{w.propertyName==="height"&&(u(),s==="close"&&d())},[s,d,u]),S=AD({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return Ce.createElement(t.placeholder.tagName,{style:S,"data-rfd-placeholder-context-id":f,onTransitionEnd:y,ref:t.innerRef})};var jD=Ce.memo(DD);class kD extends Ce.PureComponent{constructor(...i){super(...i),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)}}const OD=t=>{const i=O.useContext(If);i||At();const{contextId:o,isMovementAllowed:s}=i,u=O.useRef(null),d=O.useRef(null),{children:f,droppableId:p,type:b,mode:y,direction:S,ignoreContainerClipping:w,isDropDisabled:_,isCombineEnabled:T,snapshot:A,useClone:N,updateViewportMaxScroll:D,getContainerForClone:$}=t,I=Ht(()=>u.current,[]),j=Ht((Z=null)=>{u.current=Z},[]);Ht(()=>d.current,[]);const C=Ht((Z=null)=>{d.current=Z},[]),k=Ht(()=>{s()&&D({maxScroll:k1()})},[s,D]);MD({droppableId:p,type:b,mode:y,direction:S,isDropDisabled:_,isCombineEnabled:T,ignoreContainerClipping:w,getDroppableRef:I});const G=ce(()=>Ce.createElement(kD,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:Z,data:U,animate:et})=>Ce.createElement(jD,{placeholder:U,onClose:Z,innerRef:C,animate:et,contextId:o,onTransitionEnd:k})),[o,k,t.placeholder,t.shouldAnimatePlaceholder,C]),W=ce(()=>({innerRef:j,placeholder:G,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,G,j]),ot=N?N.dragging.draggableId:null,nt=ce(()=>({droppableId:p,type:b,isUsingCloneFor:ot}),[p,ot,b]);function tt(){if(!N)return null;const{dragging:Z,render:U}=N,et=Ce.createElement(K1,{draggableId:Z.draggableId,index:Z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(lt,ht)=>U(lt,ht,Z));return xE.createPortal(et,$())}return Ce.createElement(Cp.Provider,{value:nt},f(W,A),tt())};function CD(){return document.body||At(),document.body}const Uv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:CD},Q1=t=>{let i={...t},o;for(o in Uv)t[o]===void 0&&(i={...i,[o]:Uv[o]});return i},s0=(t,i)=>t===i.droppable.type,Gv=(t,i)=>i.draggables[t.draggable.id],LD=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i={...t,shouldAnimatePlaceholder:!1},o=fn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),s=fn((d,f,p,b,y,S)=>{const w=y.descriptor.id;if(y.descriptor.droppableId===d){const A=S?{render:S,dragging:o(y.descriptor)}:null,N={isDraggingOver:p,draggingOverWith:p?w:null,draggingFromThisWith:w,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!1,snapshot:N,useClone:A}}if(!f)return i;if(!b)return t;const T={isDraggingOver:p,draggingOverWith:w,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:y.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,f)=>{const p=Q1(f),b=p.droppableId,y=p.type,S=!p.isDropDisabled,w=p.renderClone;if(Cc(d)){const _=d.critical;if(!s0(y,_))return i;const T=Gv(_,d.dimensions),A=hr(d.impact)===b;return s(b,S,A,A,T,w)}if(d.phase==="DROP_ANIMATING"){const _=d.completed;if(!s0(y,_.critical))return i;const T=Gv(_.critical,d.dimensions);return s(b,S,q1(_.result)===b,hr(_.impact)===b,T,w)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const _=d.completed;if(!s0(y,_.critical))return i;const T=hr(_.impact)===b,A=!!(_.impact.at&&_.impact.at.type==="COMBINE"),N=_.critical.droppable.id===b;return T?A?t:i:N?t:i}return i}},BD={updateViewportMaxScroll:VM},zo=X_(LD,BD,(t,i,o)=>({...Q1(o),...t,...i}),{context:jp,areStatePropsEqual:Y1})(OD),tl=Hc()(cp((t,i)=>({currentId:null,setCurrent:o=>t({currentId:o}),list:[],add:o=>t({list:[o,...i().list]}),remove:o=>t({list:i().list.filter(s=>s.id!==o)}),update:(o,s)=>t({list:i().list.map(u=>u.id===o?{...u,...s}:u)}),reorder:o=>t({list:o})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(i=>({...i,dir:i.dir??"forward"}))}),merge:(t,i)=>{const o=t,s=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...i,...o,list:Array.isArray(o.list)?o.list.map(s):[]}}})),RD=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],J1=({value:t,onChange:i})=>{const[o,s]=O.useState(RD),[u,d]=O.useState(""),[f,p]=O.useState(!1),[b,y]=O.useState(""),[S,w]=O.useState(!1),{list:_}=tl(),A=_.some(j=>j.relationship==="본인")?o.filter(j=>j.value!=="본인"):o;O.useEffect(()=>{t!==void 0&&d(t)},[t]);const N=j=>{const C=j.target.value;d(C),i?.(C),C==="기타입력"?p(!0):(p(!1),y(""))};O.useEffect(()=>{const j=localStorage.getItem("relationshipOptions");j&&s(JSON.parse(j))},[]),O.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(o))},[o]);const D=()=>{if(!b.trim())return;const j={value:b,label:b};s([...o,j]),d(b),y(""),p(!1)},$=j=>{s(o.filter(C=>C.value!==j)),u===j&&d("")},I=j=>{if(!j.destination)return;const C=Array.from(o),[k]=C.splice(j.source.index,1);C.splice(j.destination.index,0,k),s(C)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:N,children:[g.jsx("option",{value:"",hidden:!0,children:"관계선택"}),A.map(j=>g.jsx("option",{value:j.value,children:j.label},j.value)),g.jsx("option",{value:"기타입력",children:"기타입력"})]}),g.jsx("button",{type:"button",onClick:()=>w(!0),className:"btn_style",children:"관계수정"})]}),f&&!S&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"관계 기타입력",value:b,onChange:j=>y(j.target.value)}),g.jsx("button",{type:"button",onClick:D,className:"btn_style",children:"관계추가"})]}),S&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),g.jsx(Zc,{onDragEnd:I,children:g.jsx(zo,{droppableId:"relList",children:j=>g.jsxs("ul",{ref:j.innerRef,...j.droppableProps,className:"space-y-1",children:[o.map((C,k)=>g.jsx(qs,{draggableId:C.value,index:k,children:G=>g.jsxs("li",{ref:G.innerRef,...G.draggableProps,...G.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:C.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>$(C.value),children:"삭제"})]})},C.value)),j.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>w(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},PD={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function hf(t,i,o){const s=PD[t];if(!s)return!1;const u=new Date(t,i-1,o,0,0,0,0);return u>=s.start&&u<s.end}function zD(t){if(!isFinite(t.getTime()))return 0;const i=t.getUTCFullYear(),o=Date.UTC(i,0,1),u=Math.floor((t.getTime()-o)/864e5)+1,d=t.getUTCHours(),f=t.getUTCMinutes(),p=t.getUTCSeconds(),b=(d-12)/24+f/1440+p/86400,y=2*Math.PI/365*(u-1+b);return 229.18*(75e-6+.001868*Math.cos(y)-.032077*Math.sin(y)-.014615*Math.cos(2*y)-.040849*Math.sin(2*y))}function HD(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Io(t,i,o=!1){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(o)return new Date(s.getTime()-1800*1e3);if(i==null||!isFinite(i))return s;let u=i;Math.abs(u)<=Math.PI+1e-6&&(u=u*180/Math.PI),u=(u+540)%360-180;const d=HD(u),f=4*(u-d),p=zD(s);return new Date(s.getTime()+(f+p)*60*1e3)}const Ee="폴더 미지정",mf=["가족","친구","직장","지인","고객","기타"],pf="ms_folders",$D="ms_folder_order",ID="ms_folder_favs",t2="ms_disabled_presets";function UD(t){return!t||t==="미분류"?Ee:t}function Vs(t){if(!(!t||t===Ee||t==="미분류"))return t}function Zv(){try{const t=localStorage.getItem(pf),i=localStorage.getItem(t2),o=t?JSON.parse(t):[],s=i?JSON.parse(i):[],u=mf.filter(d=>!s.includes(d));return[Ee,...u,...o]}catch{return[Ee,...mf]}}function GD(t){const i=t.trim();if(!(!i||i===Ee))try{const o=localStorage.getItem(pf),s=o?JSON.parse(o):[];if(!s.includes(i)){const u=[...s,i];localStorage.setItem(pf,JSON.stringify(u))}}catch{}}const Nd="folder.order.v1";function l0(t){return Array.from(new Set(t))}function dc(t){const i=t.filter(o=>o!==Ee);return{rest:i,withUnassigned:[Ee,...i]}}function Yv(t,i){const o=new Set(i),s=t.filter(d=>o.has(d));return[...s,...i.filter(d=>!s.includes(d))]}function ZD({value:t,onChange:i}){const[o,s]=O.useState([Ee]),[u,d]=O.useState(!1),[f,p]=O.useState(""),[b,y]=O.useState(!1);O.useEffect(()=>{const A=l0(Zv()),N=A.includes(Ee)?l0(A):[Ee,...A],D=localStorage.getItem(Nd),$=D?JSON.parse(D):[],{rest:I}=dc(N),j=Yv($,I),C=[Ee,...j];s(C),JSON.stringify($)!==JSON.stringify(j)&&localStorage.setItem(Nd,JSON.stringify(j))},[]);const S=O.useMemo(()=>t||Ee,[t]),w=A=>{const{rest:N}=dc(A);localStorage.setItem(Nd,JSON.stringify(N))},_=A=>{const{source:N,destination:D}=A;if(!D||D.index===N.index)return;const{rest:$}=dc(o),I=Array.from($),[j]=I.splice(N.index,1);I.splice(D.index,0,j);const C=[Ee,...I];s(C),w(C)},T=A=>{GD(A);const N=l0(Zv()),D=N.includes(Ee)?N:[Ee,...N],$=localStorage.getItem(Nd),I=$?JSON.parse($):[],{rest:j}=dc(D),C=Yv(I,j),k=[Ee,...C];s(k),w(k)};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":S,onChange:A=>{const N=A.target.value;if(N==="__custom__"){d(!0),i(void 0);return}d(!1),i(Vs(N))},children:[o.map(A=>g.jsx("option",{value:A,children:A},A)),g.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>y(A=>!A),children:b?"순서수정 닫기":"폴더 순서수정"})]}),u&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:f,onChange:A=>p(A.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white",onClick:()=>{const A=f.trim();A&&(T(A),i(A),d(!1),p(""))},children:"추가"})]}),b&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"폴더 순서 수정"}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:"🔒"}),g.jsxs("span",{className:"flex-1 px-2",children:[Ee," (고정)"]})]}),g.jsx(Zc,{onDragEnd:_,children:g.jsx(zo,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:A=>g.jsxs("ul",{ref:A.innerRef,...A.droppableProps,className:"space-y-1",children:[dc(o).rest.map((N,D)=>g.jsx(qs,{draggableId:N,index:D,children:$=>g.jsxs("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:N})]})},N)),A.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',Ee,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function e2({message:t,onClose:i,ms:o=2e3}){return O.useEffect(()=>{const s=setTimeout(i,o);return()=>clearTimeout(s)},[i,o]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var ef={exports:{}},YD=ef.exports,qv;function qD(){return qv||(qv=1,(function(t,i){(function(o,s){t.exports=s()})(YD,function(){return(function(o){function s(d){if(u[d])return u[d].exports;var f=u[d]={i:d,l:!1,exports:{}};return o[d].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var u={};return s.m=o,s.c=u,s.d=function(d,f,p){s.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:p})},s.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(f,"a",f),f},s.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},s.p="",s(s.s=0)})([function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var d=u(1),f=(function(p){return p&&p.__esModule?p:{default:p}})(d);s.default=f.default,o.exports=s.default},function(o,s,u){function d(et){return et&&et.__esModule?et:{default:et}}Object.defineProperty(s,"__esModule",{value:!0});var f=u(2),p=d(f),b=u(3),y=d(b),S=u(4),w=d(S),_=u(5),T=d(_),A=u(6),N=d(A),D=u(7),$=d(D),I=u(8),j=d(I),C=u(9),k=d(C),G=u(10),W=d(G),ot=u(11),nt=d(ot),tt=u(12),Z=d(tt),U={lunarInfo:p.default,solarMonth:y.default,gan:w.default,zhi:T.default,animals:N.default,lunarTerm:$.default,lTermInfo:j.default,nStr1:k.default,nStr2:W.default,nStr3:nt.default,nStr4:Z.default,lYearDays:function(et){var lt,ht=348;for(lt=32768;lt>8;lt>>=1)ht+=U.lunarInfo[et-1900]&lt?1:0;return ht+U.leapDays(et)},leapMonth:function(et){return 15&U.lunarInfo[et-1900]},leapDays:function(et){return U.leapMonth(et)?65536&U.lunarInfo[et-1900]?30:29:0},monthDays:function(et,lt){return lt>12||lt<1?-1:U.lunarInfo[et-1900]&65536>>lt?30:29},solarDays:function(et,lt){if(lt>12||lt<1)return-1;var ht=lt-1;return ht==1?et%4==0&&et%100!=0||et%400==0?29:28:U.solarMonth[ht]},toGanZhi:function(et){return U.gan[et%10]+U.zhi[et%12]},getTerm:function(et,lt){if(et<1900||et>2100||lt<1||lt>24)return-1;var ht=U.lTermInfo[et-1900],K=[parseInt("0x"+ht.substr(0,5)).toString(),parseInt("0x"+ht.substr(5,5)).toString(),parseInt("0x"+ht.substr(10,5)).toString(),parseInt("0x"+ht.substr(15,5)).toString(),parseInt("0x"+ht.substr(20,5)).toString(),parseInt("0x"+ht.substr(25,5)).toString()],rt=[K[0].substr(0,1),K[0].substr(1,2),K[0].substr(3,1),K[0].substr(4,2),K[1].substr(0,1),K[1].substr(1,2),K[1].substr(3,1),K[1].substr(4,2),K[2].substr(0,1),K[2].substr(1,2),K[2].substr(3,1),K[2].substr(4,2),K[3].substr(0,1),K[3].substr(1,2),K[3].substr(3,1),K[3].substr(4,2),K[4].substr(0,1),K[4].substr(1,2),K[4].substr(3,1),K[4].substr(4,2),K[5].substr(0,1),K[5].substr(1,2),K[5].substr(3,1),K[5].substr(4,2)];return parseInt(rt[lt-1])},toChinaYear:function(et){var lt=parseInt(et/1e3),ht=parseInt(et%1e3/100),K=parseInt(et%100/10),rt=et%10;return U.nStr4[lt]+U.nStr4[ht]+U.nStr4[K]+U.nStr4[rt]+"年"},toChinaMonth:function(et){if(et>12||et<1)return-1;var lt=U.nStr3[et-1];return lt+="月"},toChinaDay:function(et){var lt;switch(et){case 10:lt="初十";break;case 20:lt="二十";break;case 30:lt="三十";break;default:lt=U.nStr2[Math.floor(et/10)],lt+=U.nStr1[et%10]}return lt},getAnimal:function(et){return U.animals[(et-4)%12]},solar2lunar:function(st,R,H){if(st<1900||st>2100||st==1900&&R==1&&H<31)return-1;if(st)var K=new Date(st,parseInt(R)-1,H);else var K=new Date;var rt,bt=0,ft=0,st=K.getFullYear(),R=K.getMonth()+1,H=K.getDate(),X=(Date.UTC(K.getFullYear(),K.getMonth(),K.getDate())-Date.UTC(1900,0,31))/864e5;for(rt=1900;rt<2101&&X>0;rt++)ft=U.lYearDays(rt),X-=ft;X<0&&(X+=ft,rt--);var Q=new Date,z=!1;Q.getFullYear()==st&&Q.getMonth()+1==R&&Q.getDate()==H&&(z=!0);var Y=K.getDay(),F=U.nStr1[Y];Y==0&&(Y=7);var ct=rt,bt=U.leapMonth(rt),Mt=!1;for(rt=1;rt<13&&X>0;rt++)bt>0&&rt==bt+1&&Mt==0?(--rt,Mt=!0,ft=U.leapDays(ct)):ft=U.monthDays(ct,rt),Mt==1&&rt==bt+1&&(Mt=!1),X-=ft;X==0&&bt>0&&rt==bt+1&&(Mt?Mt=!1:(Mt=!0,--rt)),X<0&&(X+=ft,--rt);var Et=rt,Lt=X+1,Dt=R-1,St=U.getTerm(st,3),kt=U.toGanZhi(st-4),It=new Date(st,1,St).getTime();new Date(st,Dt,H).getTime()<It&&(kt=U.toGanZhi(st-5));var ee=U.getTerm(st,2*R-1),$t=U.getTerm(st,2*R),Xt=U.toGanZhi(12*(st-1900)+R+11);H>=ee&&(Xt=U.toGanZhi(12*(st-1900)+R+12));var xt=!1,Bt="";ee==H&&(xt=!0,Bt=U.lunarTerm[2*R-2]),$t==H&&(xt=!0,Bt=U.lunarTerm[2*R-1]);var vt=Date.UTC(st,Dt,1,0,0,0,0)/864e5+25567+10,de=U.toGanZhi(vt+H-1);return{lYear:ct,lMonth:Et,lDay:Lt,animal:U.getAnimal(ct),yearCn:U.toChinaYear(ct),monthCn:(Mt&&bt===Et?"闰":"")+U.toChinaMonth(Et),dayCn:U.toChinaDay(Lt),cYear:st,cMonth:R,cDay:H,gzYear:kt,gzMonth:Xt,gzDay:de,isToday:z,isLeap:Mt,nWeek:Y,ncWeek:"星期"+F,isTerm:xt,term:Bt}},lunar2solar:function(et,lt,ht,K){var rt=U.leapMonth(et);if(U.leapDays(et),K&&rt!=lt||et==2100&&lt==12&&ht>1||et==1900&&lt==1&&ht<31)return-1;var ft=U.monthDays(et,lt);if(et<1900||et>2100||ht>ft)return-1;for(var st=0,R=1900;R<et;R++)st+=U.lYearDays(R);for(var H=0,X=!1,R=1;R<lt;R++)H=U.leapMonth(et),X||H<=R&&H>0&&(st+=U.leapDays(et),X=!0),st+=U.monthDays(et,R);K&&(st+=ft);var Q=Date.UTC(1900,1,30,0,0,0),z=new Date(864e5*(st+ht-31)+Q),Y=z.getUTCFullYear(),F=z.getUTCMonth()+1,ct=z.getUTCDate();return U.solar2lunar(Y,F,ct)}};s.default=U,o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[31,28,31,30,31,30,31,31,30,31,30,31],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["日","一","二","三","四","五","六","七","八","九","十"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["初","十","廿","卅"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["零","一","二","三","四","五","六","七","八","九","十"],o.exports=s.default}])})})(ef)),ef.exports}var n2=qD();const VD=Xs(n2),Lp=bw({__proto__:null,default:VD},[n2]);function Gf(t){return typeof t=="object"&&t!==null}function KD(t){return Gf(t)&&"default"in t}function FD(t){return Gf(t)&&typeof t.lunar2solar=="function"}function XD(t){if(!Gf(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function WD(t){const i=KD(t)?t.default:t;if(!FD(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=i.lunar2solar(s,u,d,f);return XD(p)}}}const QD=WD(Lp);function Rr(t,i,o,s=4,u=0){const d=QD.lunar2solar(t,i,o,!1);return new Date(d.cYear,d.cMonth-1,d.cDay,s,u)}const fc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],hc=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],Ad=["야자시","조자시","인시"],Dd=["남자","여자"];function c0(t,i,o){return o==="ArrowRight"||o==="ArrowDown"?(t+1)%i:o==="ArrowLeft"||o==="ArrowUp"?(t-1+i)%i:o==="Home"?0:o==="End"?i-1:t}function u0(t){const i=document.getElementById(t);i instanceof HTMLElement&&i.focus()}function JD({onSave:t,onClose:i}){const{add:o}=tl(),[s,u]=O.useState(0),[d,f]=O.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,b]=O.useState(null),[y,S]=O.useState(!1),[w,_]=O.useState(!1),T=fc[s],A=C=>b(C);O.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const k=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(k){k.focus();return}}if(T.key==="mingSikType"){const k=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(k){k.focus();return}}if(T.key==="gender"){const k=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(k){k.focus();return}}if(d.birthPlace||w){const k=()=>{const G=document.querySelector(".current-step form button[type='submit']");G&&G.focus()};k(),setTimeout(k,0)}else{const k=document.getElementById("inputBirthPlaceBtn");k&&k.focus()}if(T.key==="relationship"){setTimeout(()=>{const k=document.querySelector(".current-step select");k&&k.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const k=document.querySelector(".current-step select");k&&k.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[w,s,T.key,d.birthPlace]);const N=O.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const C=Number(d.birthDay.slice(0,4)),k=Number(d.birthDay.slice(4,6)),G=Number(d.birthDay.slice(6,8)),W=Rr(C,k,G);return`→ 양력 ${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`}catch(C){const k=C instanceof Error?C.message:void 0;return`→ 변환 실패${k?`: ${k}`:""}`}},[d.calendarType,d.birthDay]),D=()=>{const C=fc[s];if(C.key==="name"&&(d.name||(f({...d,name:"이름없음"}),A("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),C.key==="birthDay"){const k=/^\d{8}$/;if(!d.birthDay||!k.test(d.birthDay))return A("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const G=Number(d.birthDay.substring(0,4)),W=Number(d.birthDay.substring(4,6)),ot=Number(d.birthDay.substring(6,8));if(G<1900||G>2100)return A("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(W<1||W>12)return A("출생 월은 01~12 사이여야 합니다."),!1;if(ot<1||ot>31)return A("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const nt=new Date(G,W-1,ot);if(nt.getFullYear()!==G||nt.getMonth()+1!==W||nt.getDate()!==ot)return A("존재하지 않는 날짜입니다."),!1}else try{Rr(G,W,ot)}catch(nt){return A(nt instanceof Error?nt.message:"음력 날짜가 유효하지 않습니다."),!1}}if(C.key==="birthTime"){if(!d.birthTime&&!y)return A("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const k=Number(d.birthTime);if(Number.isNaN(k)||k<0||k>2359)return A("태어난 시간은 0000–2359 범위여야 합니다."),!1;const G=Number(d.birthTime.slice(0,2)),W=Number(d.birthTime.slice(2,4));if(G>23||W>59)return A("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return C.key==="birthPlace"&&!d.birthPlace&&!w?(A("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},$=()=>{if(!D())return;if(s<fc.length-1){u(s+1);return}const C=Vs(d.folder),k=!d.birthTime||d.birthTime==="모름",G=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let W=Number(d.birthDay.slice(0,4)),ot=Number(d.birthDay.slice(4,6)),nt=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const F=Rr(W,ot,nt);W=F.getFullYear(),ot=F.getMonth()+1,nt=F.getDate()}const tt=k?4:Number(d.birthTime.slice(0,2)),Z=k?30:Number(d.birthTime.slice(2,4)),U=new Date(W,ot-1,nt,tt,Z,0,0),et=w||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,lt=Io(U,et,G),ht=d.mingSikType??"야자시",K=k?"":lt.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),rt=oe(lt,et),ft=Se(lt,et),st=ae(lt,ht),R=k?null:Pr(lt,ht),H=[`원국 : ${rt}년 ${ft}월 ${st}일`,R?`${R}시`:null].filter(Boolean).join(" ");function X(F,ct){const Mt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(F),Et=ct==="남자";return Mt?Et?"forward":"backward":Et?"backward":"forward"}const Q=rt.charAt(0),z=X(Q,d.gender??"남자"),Y={id:I_(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:k?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:C,correctedLocal:K,ganji:H,calendarType:d.calendarType??"solar",dir:z,corrected:lt,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};o(Y),t(Y),b("저장 완료!"),f({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),S(!1),_(!1),u(0)},I=C=>{if(C.key!=="Enter")return;const k=C.target,G=k.getAttribute("role");if(G==="radio"||G==="checkbox")return;const W=document.getElementById("mapModal");if(W&&W.contains(k))return;const ot=k.tagName.toLowerCase(),nt=k instanceof HTMLInputElement?k.type:"";if(ot==="textarea"){if(C.shiftKey)return;C.preventDefault(),$();return}if(nt==="radio"||nt==="checkbox"){C.preventDefault(),k instanceof HTMLInputElement&&k.click();return}ot==="button"&&k.type!=="submit"||(C.preventDefault(),$())},j=C=>{switch(C){case"birthPlace":return w?"모름":d.birthPlace?.name||"";case"birthTime":return y?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):Ee;default:{const G=d[C];return typeof G=="string"?G:G!=null?String(G):""}}};return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&g.jsx(e2,{message:p,onClose:()=>b(null)}),fc.slice(0,s).map((C,k)=>g.jsxs("button",{onClick:()=>u(k),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:C.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:j(C.key)})]},C.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:C=>{C.preventDefault(),$()},onKeyDown:I,children:[g.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:C=>f({...d,name:C.target.value})}),T.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:C=>{const k=C.target.value.replace(/\D/g,"");f({...d,birthDay:k.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:hc.map(({value:C,label:k,id:G})=>{const W=d.calendarType===C;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:G,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:G,id:`${G}_lbl`,role:"radio","aria-checked":W,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":W?"true":"false",onKeyDown:ot=>{if(ot.stopPropagation(),ot.key===" "||ot.key==="Enter"){ot.preventDefault(),f({...d,calendarType:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(ot.key))return;ot.preventDefault();const tt=hc.findIndex(et=>et.value===d.calendarType),Z=c0(tt<0?0:tt,hc.length,ot.key),U=hc[Z].value;f({...d,calendarType:U}),u0(`${hc[Z].id}_lbl`)},onClick:ot=>{ot.preventDefault(),f({...d,calendarType:C})},children:k})]},C)})})]}),d.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:N})}),d.birthDay&&d.birthDay.length===8&&(()=>{const C=Number(d.birthDay.slice(0,4)),k=Number(d.birthDay.slice(4,6)),G=Number(d.birthDay.slice(6,8));return hf(C,k,G)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:y?"":d.birthTime||"",onChange:C=>{const k=C.target.value.replace(/\D/g,"");f({...d,birthTime:k.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:y}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":y,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":y?"true":"false",onKeyDown:C=>{C.stopPropagation(),(C.key===" "||C.key==="Enter")&&(C.preventDefault(),S(!y))},onClick:C=>{C.preventDefault(),S(!y)},children:"모름"})]})]}),T.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:Ad.map(C=>{const k=`ming_${C}`,G=(d.mingSikType??"야자시")===C;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:k,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:k,id:`${k}_lbl`,role:"radio","aria-checked":G,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":G?"true":"false",onKeyDown:W=>{if(W.stopPropagation(),W.key===" "||W.key==="Enter"){W.preventDefault(),f({...d,mingSikType:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(W.key))return;W.preventDefault();const nt=d.mingSikType??"야자시",tt=Ad.indexOf(nt),Z=c0(tt,Ad.length,W.key),U=Ad[Z];f({...d,mingSikType:U}),u0(`ming_${U}_lbl`)},onClick:W=>{W.preventDefault(),f({...d,mingSikType:C})},children:[C,"명식"]})]},C)})}),T.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:Dd.map(C=>{const k=`gender_${C}`,G=(d.gender??"남자")===C;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:k,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:k,id:`${k}_lbl`,role:"radio","aria-checked":G,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":G?"true":"false",onKeyDown:W=>{if(W.stopPropagation(),W.key===" "||W.key==="Enter"){W.preventDefault(),f({...d,gender:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(W.key))return;W.preventDefault();const nt=d.gender??"남자",tt=Dd.indexOf(nt),Z=c0(tt,Dd.length,W.key),U=Dd[Z];f({...d,gender:U}),u0(`gender_${U}_lbl`)},onClick:W=>{W.preventDefault(),f({...d,gender:C})},children:C})]},C)})}),T.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(U_,{onSelect:C=>f({...d,birthPlace:C})}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":w,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":w?"true":"false",onKeyDown:C=>{C.stopPropagation(),(C.key===" "||C.key==="Enter")&&(C.preventDefault(),_(!w))},onClick:C=>{C.preventDefault(),_(!w)},children:"모름"})]})]}),T.key==="relationship"&&g.jsx(J1,{value:d.relationship||"",onChange:C=>f({...d,relationship:C})}),T.key==="folder"&&g.jsx(ZD,{value:Vs(d.folder),onChange:C=>f({...d,folder:C})}),T.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:C=>f({...d,memo:C.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:i,children:"닫기"}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:s===fc.length-1?"저장하기":"확인"})]})]})})]})}var jd={},Vv;function t7(){if(Vv)return jd;Vv=1,jd.match=d,jd.parse=f;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,i=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,o=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(S,w){return f(S).some(function(_){var T=_.inverse,A=_.type==="all"||w.type===_.type;if(A&&T||!(A||T))return!1;var N=_.expressions.every(function(D){var $=D.feature,I=D.modifier,j=D.value,C=w[$];if(!C)return!1;switch($){case"orientation":case"scan":return C.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=y(j),C=y(C);break;case"resolution":j=b(j),C=b(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=p(j),C=p(C);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,C=parseInt(C,10)||0;break}switch(I){case"min":return C>=j;case"max":return C<=j;default:return C===j}});return N&&!T||!N&&T})}function f(S){return S.split(",").map(function(w){w=w.trim();var _=w.match(t),T=_[1],A=_[2],N=_[3]||"",D={};return D.inverse=!!T&&T.toLowerCase()==="not",D.type=A?A.toLowerCase():"all",N=N.match(/\([^\)]+\)/g)||[],D.expressions=N.map(function($){var I=$.match(i),j=I[1].toLowerCase().match(o);return{modifier:j[1],feature:j[2],value:I[2]}}),D})}function p(S){var w=Number(S),_;return w||(_=S.match(/^(\d+)\s*\/\s*(\d+)$/),w=_[1]/_[2]),w}function b(S){var w=parseFloat(S),_=String(S).match(u)[1];switch(_){case"dpcm":return w/2.54;case"dppx":return w*96;default:return w}}function y(S){var w=parseFloat(S),_=String(S).match(s)[1];switch(_){case"em":return w*16;case"rem":return w*16;case"cm":return w*96/2.54;case"mm":return w*96/2.54/10;case"in":return w*96;case"pt":return w*72;case"pc":return w*72/12;default:return w}}return jd}var d0,Kv;function e7(){if(Kv)return d0;Kv=1;var t=t7().match,i=typeof window<"u"?window.matchMedia:null;function o(u,d,f){var p=this,b;i&&!f&&(b=i.call(window,u)),b?(this.matches=b.matches,this.media=b.media,b.addListener(w)):(this.matches=t(u,d),this.media=u),this.addListener=y,this.removeListener=S,this.dispose=_;function y(T){b&&b.addListener(T)}function S(T){b&&b.removeListener(T)}function w(T){p.matches=T.matches,p.media=T.media}function _(){b&&b.removeListener(w)}}function s(u,d,f){return new o(u,d,f)}return d0=s,d0}var n7=e7();const r7=Xs(n7);var i7=/[A-Z]/g,a7=/^ms-/,f0={};function o7(t){return"-"+t.toLowerCase()}function r2(t){if(f0.hasOwnProperty(t))return f0[t];var i=t.replace(i7,o7);return f0[t]=a7.test(i)?"-"+i:i}function s7(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),s=Object.keys(i),u=o.length;if(s.length!==u)return!1;for(let d=0;d<u;d++){const f=o[d];if(t[f]!==i[f]||!Object.prototype.hasOwnProperty.call(i,f))return!1}return!0}var h0={exports:{}},m0,Fv;function l7(){if(Fv)return m0;Fv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return m0=t,m0}var p0,Xv;function c7(){if(Xv)return p0;Xv=1;var t=l7();function i(){}function o(){}return o.resetWarningCache=i,p0=function(){function s(f,p,b,y,S,w){if(w!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}s.isRequired=s;function u(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:o,resetWarningCache:i};return d.PropTypes=d,d},p0}var Wv;function u7(){return Wv||(Wv=1,h0.exports=c7()()),h0.exports}var d7=u7();const me=Xs(d7),zn=me.oneOfType([me.string,me.number]),i2={all:me.bool,grid:me.bool,aural:me.bool,braille:me.bool,handheld:me.bool,print:me.bool,projection:me.bool,screen:me.bool,tty:me.bool,tv:me.bool,embossed:me.bool},f7={orientation:me.oneOf(["portrait","landscape"]),scan:me.oneOf(["progressive","interlace"]),aspectRatio:me.string,deviceAspectRatio:me.string,height:zn,deviceHeight:zn,width:zn,deviceWidth:zn,color:me.bool,colorIndex:me.bool,monochrome:me.bool,resolution:zn,type:Object.keys(i2)},{type:PC,...h7}=f7,m7={minAspectRatio:me.string,maxAspectRatio:me.string,minDeviceAspectRatio:me.string,maxDeviceAspectRatio:me.string,minHeight:zn,maxHeight:zn,minDeviceHeight:zn,maxDeviceHeight:zn,minWidth:zn,maxWidth:zn,minDeviceWidth:zn,maxDeviceWidth:zn,minColor:me.number,maxColor:me.number,minColorIndex:me.number,maxColorIndex:me.number,minMonochrome:me.number,maxMonochrome:me.number,minResolution:zn,maxResolution:zn,...h7},p7={...i2,...m7};var g7={all:p7};const b7=t=>`not ${t}`,y7=(t,i)=>{const o=r2(t);return typeof i=="number"&&(i=`${i}px`),i===!0?o:i===!1?b7(o):`(${o}: ${i})`},v7=t=>t.join(" and "),x7=t=>{const i=[];return Object.keys(g7.all).forEach(o=>{const s=t[o];s!=null&&i.push(y7(o,s))}),v7(i)},_7=O.createContext(void 0),S7=t=>t.query||x7(t),Qv=t=>t?Object.keys(t).reduce((o,s)=>(o[r2(s)]=t[s],o),{}):void 0,a2=()=>{const t=O.useRef(!1);return O.useEffect(()=>{t.current=!0},[]),t.current},w7=t=>{const i=O.useContext(_7),o=()=>Qv(t)||Qv(i),[s,u]=O.useState(o);return O.useEffect(()=>{const d=o();s7(s,d)||u(d)},[t,i]),s},T7=t=>{const i=()=>S7(t),[o,s]=O.useState(i);return O.useEffect(()=>{const u=i();o!==u&&s(u)},[t]),o},E7=(t,i)=>{const o=()=>r7(t,i||{},!!i),[s,u]=O.useState(o),d=a2();return O.useEffect(()=>{if(d){const f=o();return u(f),()=>{f&&f.dispose()}}},[t,i]),s},M7=t=>{const[i,o]=O.useState(t.matches);return O.useEffect(()=>{const s=u=>{o(u.matches)};return t.addListener(s),o(t.matches),()=>{t.removeListener(s)}},[t]),i},N7=(t,i,o)=>{const s=w7(i),u=T7(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=E7(u,s),f=M7(d);return a2(),O.useEffect(()=>{},[f]),O.useEffect(()=>()=>{d&&d.dispose()},[]),f},o2=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${$n[i%10]}${Wn[i%12]}`);return t})();function A7(t){const i=o2.indexOf(t);if(i<0)throw new Error(`Unknown 간지: ${t}`);return i}function gf(t,i,o=1){const s=A7(t),u=i==="forward"?o:-o;return o2[(s+u+60*1e3)%60]}const D7=60*1e3,j7=60*D7,k7=24*j7;function O7(t,i){const o=new Date(t.getTime()),s=o.getFullYear()+i,u=o.getMonth(),d=o.getDate();return new Date(Date.UTC(s,u,d,o.getUTCHours(),o.getUTCMinutes()))}function ep(t){const i=new Date(t);return i.setSeconds(0,0),i}function C7(t,i,o){const s=t.getHours(),u=o==="야자시"?(Math.floor((s+1)/2)*2-1+24)%24:(Math.floor(s/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const f=new Date(d);f.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),b=f.getTime()-t.getTime();return i==="backward"?p:b}function s2(t,i,o,s=120,u="야자시"){const d=ep(t),f=C7(d,o,u),p=ep(new Date(d.getTime()+f*120)),b=O7(t,s).getTime(),y=[];let S=gf(i,o,1);for(let w=p.getTime();w<=b;w+=10*k7)y.push({at:new Date(w),gz:S}),S=gf(S,o,1);return{firstChange:p,events:y}}function l2(t,i){const o=i==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return s=>s===o}function c2(t,i,o,s){const u=l2(s,o);let d=i;const f=[];for(const p of t.events){const b=p.gz.charAt(1);u(b)&&(d=gf(d,o,1),f.push({at:p.at,gz:d}))}return{events:f}}function Ec(t){const i=t.getFullYear(),o=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],s={deg:315,name:"다음입춘"},u=o.map(p=>({name:p.name,date:rn(i,p.deg)})).concat([{name:s.name,date:rn(i+1,s.deg)},{name:"소한",date:rn(i+1,285)}]),d=rn(i,315),f=rn(i+1,315);return u.filter(p=>p.date>=d&&p.date<f).sort((p,b)=>p.date.getTime()-b.date.getTime())}const L7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},B7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},R7=t=>L7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),P7=t=>B7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function Jv(t){const i=R7(t[0]),o=P7(t[1]);if(!i||!o)throw new Error(`Invalid GZ: ${t}`);return`${i}${o}`}function Yc(t,i,o,s=120,u){function d(j){return j instanceof Date||(j=new Date(j)),Math.floor((j.getHours()+1)%24/2)}function f(j){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(j)]}function p(j,C,k){const G=j.charAt(0),W=j.charAt(1),ot=$n.indexOf(G),nt=Wn.indexOf(W),tt=C==="forward"?k:-k,Z=(ot+tt%10+10)%10,U=(nt+tt%12+12)%12;return $n[Z]+Wn[U]}const b=Ec(t).sort((j,C)=>j.date.getTime()-C.date.getTime());let y;if(o==="forward"){const j=b.findIndex(C=>C.date>=t);j>=0&&(y=b[j].date)}else{const j=b.filter(C=>C.date<=t);j.length&&(y=j[j.length-1].date)}function S(j,C){const k=f(j),G={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},W=G[k],ot=(W+2)%24,nt=new Date(j);if(nt.setSeconds(0,0),o==="backward"&&C){const Z=f(C),U=G[Z],et=new Date(C);return et.setHours(U,0,0,0),et}if(o==="forward"&&C){const Z=f(C),U=G[Z],et=new Date(C);if(et.setHours(U,0,0,0),et>nt)return et}const tt=new Date(nt);return o==="forward"?(tt.setHours(ot,0,0,0),tt<=nt&&tt.setDate(tt.getDate()+1)):(tt.setHours(W,0,0,0),tt>=nt&&tt.setDate(tt.getDate()-1)),tt}new Date(t).setSeconds(0,0);const _=Jv(Se(t,127.5)),T=S(t,y),A=Math.floor(o==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),N=Math.round(A/120*(14400*60*1e3));let D=new Date(t.getTime()+N);try{const j=Jv(Se(t,u));(o==="forward"&&_!==j||o==="backward"&&_!==j)&&(D=new Date(t.getTime()+6e4))}catch{}const $=s/10,I=[];for(let j=0;j<$;j++){const C=new Date(D);C.setFullYear(C.getFullYear()+j*10),C.setSeconds(0,0);const k=p(i,o,j+1);I.push({at:C,gz:k})}return{natalMonthPillar:i,firstChange:D,mPillars:[],events:I}}function z7(t,i){const s=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(s))}function u2(t,i,o,s,u){const d=l2(s,o);let f=i;const p=[];for(const b of t.events){const y=b.gz.charAt(1);d(y)&&(f=gf(f,o,1),p.push({at:b.at,gz:f,age:z7(u,b.at)}))}return{events:p}}function H7(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(i,o-1,s,u,d,0,0)}function Zf(t){const i=H7(t),o=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",s=Io(i,t.birthPlace?.lon??null,o);return ep(s)}function Bp(t,i){const o=t.birthPlace?.lon??127.5,s=Zf(t),u=ae(s,i),d=Pr(s,i,u.charAt(0));return{year:oe(s,o),month:Se(s,o),day:u,hour:d}}const $7=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${$n[i%10]}${Wn[i%12]}`);return t})(),I7=t=>$7.indexOf(t),g0=t=>{if(I7(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function Rp(t){return typeof t=="object"&&t!==null}function U7(t){return Rp(t)&&"default"in t}function G7(t){return Rp(t)&&typeof t.lunar2solar=="function"}function Z7(t){if(!Rp(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function Y7(t){const i=U7(t)?t.default:t;if(!G7(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,f)=>{const p=i.lunar2solar(s,u,d,!!f);return Z7(p)}}}const q7=Y7(Lp),tx=t=>t<10?`0${t}`:`${t}`;function Pp(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",s=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8||s!=="lunar")return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),f=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const y of p){const S=i[y];if(typeof S=="boolean"){b=S;break}if(typeof S=="number"){b=S===1;break}if(typeof S=="string"){b=S==="1"||S.toLowerCase()==="true";break}}try{const y=q7.lunar2solar(u,d,f,b),S=`${y.cYear}${tx(y.cMonth)}${tx(y.cDay)}`;return{...t,birthDay:S,calendarType:"solar"}}catch{return t}}function V7(t,i="야자시"){const o=O.useMemo(()=>Pp(t),[t]),s=O.useMemo(()=>Zf(o),[o]),u=O.useMemo(()=>Bp(o,i),[o,i]);return O.useMemo(()=>{const d=Yc(s,u.month,o.dir,120,o?.birthPlace?.lon??127.5),f=new Date;function p(j,C){let k=null;const G=C.getTime();for(const W of j)if(W.at.getTime()<=G)k=W;else break;return k}const b=p(d.events,f)?.gz??u.month,y=g0(b),S=f.getFullYear(),w=rn(S,315),T=w&&f>=w?S:S-1,A=oe(new Date(T,1,10,0,0,0),127.5),N=g0(A),D=Se(f,127.5),$=g0(D),I=[];return $&&I.push({key:"wolun",label:"월운",data:$}),N&&I.push({key:"seun",label:"세운",data:N}),y&&I.push({key:"daeun",label:"대운",data:y}),I},[s,o.dir,u.month,o.birthPlace?.lon])}function Mc(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}년 ${i(t.getMonth()+1)}월 ${i(t.getDate())}일 ${i(t.getHours())}시 ${i(t.getMinutes())}분`}function Ps(t){return t<10?`0${t}`:`${t}`}function K7(t){return`${Ps(t.getHours())}:${Ps(t.getMinutes())}`}function F7(t){return`${t.getFullYear()}-${Ps(t.getMonth()+1)}-${Ps(t.getDate())} ${Ps(t.getHours())}:${Ps(t.getMinutes())}`}const In=Hc()(cp((t,i)=>{const o=new Date,s="야자시",u=127.5,d=u,f=oe(o,d),p=Se(o,d),b=ae(o,s);return{date:o,scope:"원국만",rule:s,lon:u,yearGZ:f,monthGZ:p,dayGZ:b,setDate:y=>{const{rule:S,lon:w}=i(),_=typeof w=="number"?w:void 0;t({date:y,yearGZ:oe(y,_),monthGZ:Se(y,_),dayGZ:ae(y,S)})},resetDate:()=>{const{rule:y,lon:S}=i(),w=new Date,_=typeof S=="number"?S:void 0;t({date:w,yearGZ:oe(w,_),monthGZ:Se(w,_),dayGZ:ae(w,y)})},setScope:y=>t({scope:y}),setRule:y=>{const{date:S,lon:w}=i(),_=typeof w=="number"?w:void 0;t({rule:y,yearGZ:oe(S,_),monthGZ:Se(S,_),dayGZ:ae(S,y)})},setLon:y=>{const{date:S,rule:w}=i(),_=typeof y=="number"?y:void 0;t({lon:y,yearGZ:oe(S,_),monthGZ:Se(S,_),dayGZ:ae(S,w)})},setFromEvent:(y,S)=>{const{rule:w,lon:_}=i(),T=typeof _=="number"?_:void 0;t({date:y.at,scope:S,yearGZ:oe(y.at,T),monthGZ:Se(y.at,T),dayGZ:ae(y.at,w)})}}},{name:"luck-picker-v1",merge:(t,i)=>{const o=t;return o.date&&typeof o.date=="string"&&(o.date=new Date(o.date)),{...i,...o}}})),Uo={Classic:"고전",Modern:"현대"};function pi(t,i){const s={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return s?s[i]??"":""}function X7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function W7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=o[t];return u&&s[u]?s[u][i]??"":""}function Q7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function J7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=o[t];return u&&s[u]?s[u][i]??"":""}function gi(t){const{baseBranch:i,targetBranch:o,era:s,gaehwa:u}=t;return!i||!o?"":s==="고전"?u?X7(i,o):W7(i,o):u?Q7(i,o):J7(i,o)}function qc(t,i="야자시",o=100){const s=O.useMemo(()=>Pp(t),[t]),u=O.useMemo(()=>Zf(s),[s]),d=O.useMemo(()=>Bp(s,i),[s,i]),f=(p,b)=>{const y=b.getFullYear()-p.getFullYear(),S=b.getMonth()-p.getMonth(),w=b.getDate()-p.getDate(),_=S<0||S===0&&w<0?y-1:y;return Math.max(0,_)};return O.useMemo(()=>Yc(u,d.month,s.dir,o,s.birthPlace?.lon??127.5).events.map(b=>({...b,age:f(u,b.at)})),[u,d.month,s.dir,o,s.birthPlace?.lon])}function b0(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function tj(t,i){if(!Array.isArray(t)||t.length===0||!b0(i))return{gz:"",at:i,index:-1};const o=t;for(let d=0;d<o.length;d++){const f=o[d],p=o[d+1];if(!b0(f.at))continue;if(i.getTime()>=f.at.getTime()&&(!p||b0(p.at)&&i.getTime()<p.at.getTime()))return{gz:f.gz??"",at:f.at,index:d}}if(i.getTime()<o[0].at.getTime()){const d=o[0];return{gz:d.gz??"",at:d.at,index:0}}const s=o.length-1,u=o[s];return{gz:u.gz??"",at:u.at,index:s}}function zp(t,i,o){const{date:s,rule:u,lon:d}=In(),f=O.useMemo(()=>o??s??new Date,[o,s]),p=qc(t,t?.mingSikType),{gz:b}=tj(p,f);return O.useMemo(()=>{try{const y=d??t?.birthPlace?.lon??127.5,S=u??t?.mingSikType??i??"야자시";return{dae:{gz:b,at:f},se:{gz:oe(f,y),at:f},wol:{gz:Se(f,y),at:f},il:{gz:ae(f,S),at:f}}}catch{const y=new Date;return{dae:{gz:"",at:y},se:{gz:"",at:y},wol:{gz:"",at:y},il:{gz:"",at:y}}}},[f,u,d,t,i,b])}const d2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},f2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},ej=Object.fromEntries(Object.entries(d2).map(([t,i])=>[i,t])),nj=Object.fromEntries(Object.entries(f2).map(([t,i])=>[i,t])),rj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),ij=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function aj(t,i,o){return o==="한글"?i==="stem"?d2[t]??t:f2[t]??t:i==="stem"?ej[t]??t:nj[t]??t}function oj(t,i){return i==="stem"?rj.has(t):ij.has(t)}function sj(t){return Gf(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function y0(t){const i=Uo;return sj(i)?t==="classic"?i.Classic:i.Modern:t}const lj={대운:1,세운:2,월운:3};function cj(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}const uj={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function dj(t){switch(uj[t]){case"목":return"bg-green-600 text-white border-green-600";case"화":return"bg-red-600 text-white border-red-600";case"토":return"bg-yellow-500 text-white border-yellow-500";case"금":return"bg-gray-400 text-white border-gray-400";case"수":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function fj({data:t,hourTable:i}){const{date:o}=In(),s=br(z=>z.settings),u=t.mingSikType??i??"야자시",d=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,{solarY:f,solarM:p,solarD:b}=O.useMemo(()=>{let z=Number(t.birthDay?.slice(0,4)??2e3),Y=Number(t.birthDay?.slice(4,6)??1),F=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const ct=Rr(z,Y,F);z=ct.getFullYear(),Y=ct.getMonth()+1,F=ct.getDate()}return{solarY:z,solarM:Y,solarD:F}},[t.birthDay,t.calendarType]),[y,S]=O.useState(!1);O.useEffect(()=>{f&&p&&b&&S(hf(f,p,b))},[f,p,b]);const w=!t.birthTime||t.birthTime==="모름";function _(z,Y){const F=!z.birthTime||z.birthTime==="모름";let ct=Number(z.birthDay.slice(0,4)),bt=Number(z.birthDay.slice(4,6)),Mt=Number(z.birthDay.slice(6,8));if(z.calendarType==="lunar"){const vt=Rr(ct,bt,Mt);ct=vt.getFullYear(),bt=vt.getMonth()+1,Mt=vt.getDate()}const Et=F?4:Number(z.birthTime.slice(0,2)),Lt=F?30:Number(z.birthTime.slice(2,4)),Dt=new Date(ct,bt-1,Mt,Et,Lt,0,0),St=!z.birthPlace||z.birthPlace.lon===0?127.5:z.birthPlace.lon,kt=Io(Dt,St,F),It=Y?new Date(kt.getTime()-3600*1e3):kt,ee=z.mingSikType??"야자시",$t=oe(It,St),Xt=Se(It,St),xt=ae(It,ee),Bt=F?null:Pr(It,ee);return{corrected:It,year:{stem:$t.charAt(0),branch:$t.charAt(1)},month:{stem:Xt.charAt(0),branch:Xt.charAt(1)},day:{stem:xt.charAt(0),branch:xt.charAt(1)},hour:Bt?{stem:Bt.charAt(0),branch:Bt.charAt(1)}:null}}const[T,A]=O.useState(()=>_(t,y));O.useEffect(()=>{A(_(t,y))},[t,y]);const N=t.id??`${t.birthDay}-${t.birthTime}-${t.name??""}`,D=O.useMemo(()=>{const z=Number(t.birthDay.slice(0,4)),Y=Number(t.birthDay.slice(4,6)),F=Number(t.birthDay.slice(6,8));let ct=new Date(z,Y-1,F);return t.calendarType==="lunar"&&(ct=Rr(z,Y,F)),(!t.birthTime||t.birthTime==="모름")&&ct.setDate(ct.getDate()),ae(ct,"야자시").charAt(0)},[t.birthDay,t.birthTime,t.calendarType]),[$,I]=O.useState(null),[j,C]=O.useState(()=>t.mingSikType==="인시");O.useEffect(()=>{I(null),C(t.mingSikType==="인시")},[N,t.mingSikType]);const k=O.useMemo(()=>(j?lp:C_)[D]??[],[j,D]),G=$??T.hour,W=s.sinsalBase==="일지"?T.day.branch:T.year.branch,ot=$c(z=>z.setManualHour),nt=(z,Y)=>{const F={stem:z,branch:Y};I(F),ot(F)},tt=z=>s.showSibiUnseong?pi(D,z):null,Z=z=>s.showSibiSinsal?gi({baseBranch:W,targetBranch:z,era:y0(s.sinsalMode),gaehwa:s.sinsalBloom}):null,U=V7(t,u),et=N7({query:"(min-width: 992px)"}),lt=s.hiddenStem==="regular"?"main":"all",ht=s.exposure,K=ht==="원국"?0:lj[ht],rt=K===0?[]:U.filter(z=>cj(z.label)<=K),ft=hf(f,p,b),st=()=>S(z=>!z),R=zp(t,i,o),H=R.dae.gz,X=R.se.gz,Q=R.wol.gz;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(t.name?.trim()||"이름없음")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",t.gender,")"]}),ft&&g.jsxs("button",{onClick:st,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[hj(t.birthDay,t.birthTime),t.birthPlace?.name?` · ${"출생지: "+t.birthPlace.name}`:""]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",`${w?"모름":F7(T.corrected)}`]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",d.toFixed(2),"° · ",u," 기준"]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${rt.length===0?"grid-cols-1":rt.length===1?"grid-cols-[2fr_8fr]":rt.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[rt.length>0&&(et?g.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"운"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-2 p-3 ${rt.length===1?"grid-cols-1":rt.length===2?"grid-cols-2":"grid-cols-3"}`,children:rt.map(z=>{let Y=z.data.stem,F=z.data.branch;z.label.includes("대운")&&H&&(Y=H.charAt(0),F=H.charAt(1)),z.label.includes("세운")&&X&&(Y=X.charAt(0),F=X.charAt(1)),z.label.includes("월운")&&Q&&(Y=Q.charAt(0),F=Q.charAt(1));const ct=tt(F),bt=Z(F);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(D,{stem:Y})}),g.jsx(Ua,{value:Y,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:F,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(vc,{branch:F,dayStem:D,mode:lt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:ct}),s.showSibiSinsal&&g.jsx("div",{children:bt})]})]})]},z.key)})})})]}):g.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-1 p-0 ${rt.length===1?"grid-cols-1":rt.length===2?"grid-cols-2":"grid-cols-3"}`,children:rt.map(z=>{const Y=z.data.stem,F=z.data.branch,ct=tt(F),bt=Z(F);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(D,{stem:Y})}),g.jsx(Ua,{value:Y,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:F,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(vc,{branch:F,dayStem:D,mode:lt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:ct}),s.showSibiSinsal&&g.jsx("div",{children:bt})]})]})]},z.key)})})})]})),et?g.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"원국"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:G},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(z=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:z.data?g.jsxs(g.Fragment,{children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(D,{stem:z.data.stem})}),g.jsx(Ua,{value:z.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:z.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(vc,{branch:z.data.branch,dayStem:D,mode:lt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:pi(D,z.data.branch)}),s.showSibiSinsal&&g.jsx("div",{children:gi({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:z.data.branch,era:y0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):g.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},z.key))})})]}):g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),g.jsx("div",{className:"px-1 pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:G},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(z=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:z.label}),g.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:z.data?g.jsxs(g.Fragment,{children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(D,{stem:z.data.stem})}),g.jsx(Ua,{value:z.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:z.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(vc,{branch:z.data.branch,dayStem:D,mode:lt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:pi(D,z.data.branch)}),s.showSibiSinsal&&g.jsx("div",{children:gi({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:z.data.branch,era:y0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"시간 미상"})})]},z.key))})})]})]}),w&&g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:"시주 예측"}),g.jsx("button",{onClick:()=>C(z=>!z),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:j?"현재 : 인시 기준":"현재 : 자시 기준"})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(z=>{const Y=z.charAt(0),F=z.charAt(1),ct=$?.stem===Y&&$?.branch===F;return g.jsx("button",{onClick:()=>nt(Y,F),className:`p-2 text-xs rounded border cursor-pointer ${ct?dj(F):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${z} (시주 후보)`,children:z},z)})})]})]})}function Ua({value:t,kind:i,charType:o,thinEum:s}){const{settings:u}=br(),d=pr(t,i,u),f=aj(t,i,o),p=oj(t,i),b=s&&p?"font-thin":"font-bold";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${b} text-white`,children:f})})}function hj(t,i){if(!t||!/^\d{8}$/.test(t))return"";const o=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8),d=`${o}-${s}-${u}`;return!i||i==="모름"||!/^\d{4}$/.test(i)?d:`${d} ${i.slice(0,2)}:${i.slice(2,4)}`}function Vc(t){const i=Number(t.birthDay?.slice(0,4)),o=Number(t.birthDay?.slice(4,6))-1,s=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),f=new Date(i,o,s,u,d,0,0);if(isNaN(f.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const p=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return Io(f,t.birthPlace?.lon??127.5,p)}function Kc(t,i){const o=t,s=typeof o.isUnknownTime=="boolean"?o.isUnknownTime:!1,u=typeof o.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(o.birthTime),d=typeof o.birthHour=="number",f=typeof o.birthMinute=="number";if(s||!(u||d||f)){const b=new Date(i);return b.setDate(b.getDate()+1),b.setHours(4,30,0,0),b}return i}function Fc(t,i){const o=t.length;if(o===0||!i)return 0;const s=t[0].at.getTime(),u=t[o-1].at.getTime(),d=i.getTime();if(d<=s)return 0;if(d>=u)return o-1;for(let f=0;f<o-1;f+=1){const p=t[f].at.getTime(),b=t[f+1].at.getTime();if(d>=p&&d<b)return f}return 0}const h2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},m2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},mj=Object.fromEntries(Object.entries(h2).map(([t,i])=>[i,t])),pj=Object.fromEntries(Object.entries(m2).map(([t,i])=>[i,t]));function ex(t,i,o){return o==="한글"?i==="stem"?h2[t]??t:m2[t]??t:i==="stem"?mj[t]??t:pj[t]??t}const gj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),bj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function nx(t,i){return i==="stem"?gj.has(t):bj.has(t)}function yj(t){return typeof t=="object"&&t!==null}function vj(t){return yj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function xj(t){const i=Uo;return vj(i)?t==="classic"?i.Classic:i.Modern:t}function _j({data:t}){const i=qc(t),o=Vc(t),s=O.useMemo(()=>Kc(t,o),[t,o]),u=O.useMemo(()=>{const G=t.mingSikType??"야자시";return ae(s,G).charAt(0)},[s,t.mingSikType]),{date:d,setFromEvent:f}=In(),p=O.useMemo(()=>Fc(i,d),[i,d]),b=br(G=>G.settings),{charType:y,thinEum:S,showSipSin:w,showSibiUnseong:_,showSibiSinsal:T,sinsalBase:A,sinsalMode:N,sinsalBloom:D}=b,$=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,I=t.mingSikType??"야자시",j=A==="일지"?ae(s,I).charAt(1):oe(s,$).charAt(1),C=G=>_?pi(u,G):null,k=G=>T?gi({baseBranch:j,targetBranch:G,era:xj(N),gaehwa:!!D}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((G,W)=>{const ot=G.gz.charAt(0),nt=G.gz.charAt(1),tt=Sj(s,G.at),Z=W===p,U=ex(ot,"stem",y),et=ex(nt,"branch",y),lt=nx(ot,"stem"),ht=nx(nt,"branch"),K=S&&lt?"font-thin":"font-bold",rt=S&&ht?"font-thin":"font-bold",ft=C(nt),st=k(nt);return g.jsxs("div",{onClick:()=>f(G,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Z?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${G.gz} · ${G.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:tt}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[w&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(u,{stem:ot})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr(ot,"stem",b)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${K}`,children:U})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr(nt,"branch",b)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${rt}`,children:et})}),w&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(u,{branch:nt})}),(_||T)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[_&&g.jsx("div",{children:ft}),T&&g.jsx("div",{children:st})]})]})]},G.gz)})})]})}function Sj(t,i){const s=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(s))}const p2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},g2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},wj=Object.fromEntries(Object.entries(p2).map(([t,i])=>[i,t])),Tj=Object.fromEntries(Object.entries(g2).map(([t,i])=>[i,t]));function rx(t,i,o){return o==="한글"?i==="stem"?p2[t]??t:g2[t]??t:i==="stem"?wj[t]??t:Tj[t]??t}const Ej=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Mj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function ix(t,i){return i==="stem"?Ej.has(t):Mj.has(t)}function Nj(t){return typeof t=="object"&&t!==null}function Aj(t){return Nj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Dj(t){const i=Uo;return Aj(i)?t==="classic"?i.Classic:i.Modern:t}function ax(t){return new Date(t,6,2,12,0,0,0)}function jj(t,i){const o=i??new Date,s=o.getMonth(),u=o.getHours(),d=o.getMinutes();return s===0?new Date(t+1,0,10,u,d,0,0):new Date(t,s,10,u,d,0,0)}function kj({data:t,list:i,onSelect:o}){const s=br(k=>k.settings),{date:u,setFromEvent:d}=In(),[f,p]=O.useState(()=>i);O.useEffect(()=>{i&&i.length>0&&p(i)},[i]);const b=Vc(t),y=O.useMemo(()=>Kc(t,b),[t,b]),S=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,w=O.useMemo(()=>{if(!u)return[];const k=u.getFullYear(),G=ax(k),W=oe(G,S);return[{at:G,gz:W}]},[u,S]),_=i.length>0?i:f.length>0?f:w,T=O.useMemo(()=>[..._].sort((k,G)=>k.at.getTime()-G.at.getTime()),[_]),A=O.useMemo(()=>{if(T.length===0)return 0;const k=Fc(T,u);return k<0?0:k>=T.length?T.length-1:k},[T,u]),[N,D]=O.useState(null);O.useEffect(()=>{D(null)},[u,T]);const $=N??A,I=t.mingSikType??"야자시",j=O.useMemo(()=>ae(y,I).charAt(0),[y,I]),C=O.useMemo(()=>s.sinsalBase==="일지"?ae(y,I).charAt(1):oe(y,S).charAt(1),[y,I,S,s.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:T.map((k,G)=>{const W=k.at.getFullYear(),ot=ax(W),nt=oe(ot,S),tt=nt.charAt(0),Z=nt.charAt(1),U=G===$,et=rx(tt,"stem",s.charType),lt=rx(Z,"branch",s.charType),ht=ix(tt,"stem"),K=ix(Z,"branch"),rt=s.thinEum&&ht?"font-thin":"font-bold",ft=s.thinEum&&K?"font-thin":"font-bold",st=s.showSibiUnseong?pi(j,Z):null,R=s.showSibiSinsal?gi({baseBranch:C,targetBranch:Z,era:Dj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{D(G);const H=jj(W,u);d({at:H,gz:oe(H,S)},"세운"),o&&(typeof queueMicrotask<"u"?queueMicrotask(()=>o(W)):Promise.resolve().then(()=>o(W)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${U?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${nt} · ${k.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(j,{stem:tt})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${pr(tt,"stem",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${rt}`,children:et})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${pr(Z,"branch",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${ft}`,children:lt})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(j,{branch:Z})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&st&&g.jsx("div",{children:st}),s.showSibiSinsal&&R&&g.jsx("div",{children:R})]})]})]},`${W}-${k.gz||G}`)})})]})}const b2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},y2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Oj=Object.fromEntries(Object.entries(b2).map(([t,i])=>[i,t])),Cj=Object.fromEntries(Object.entries(y2).map(([t,i])=>[i,t]));function ox(t,i,o){return o==="한글"?i==="stem"?b2[t]??t:y2[t]??t:i==="stem"?Oj[t]??t:Cj[t]??t}const Lj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Bj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function sx(t,i){return i==="stem"?Lj.has(t):Bj.has(t)}function Rj(t){return typeof t=="object"&&t!==null}function Pj(t){return Rj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function zj(t){const i=Uo;return Pj(i)?t==="classic"?i.Classic:i.Modern:t}const Hj=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function $j(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function Ij(t){const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(t);return Number(i.find(o=>o.type==="month")?.value??t.getMonth()+1)}function v0(t){return new Date(t,5,15,12,0,0,0)}function Uj(t){const o=[...Ec(v0(t-1))??[],...Ec(v0(t))??[],...Ec(v0(t+1))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,b)=>p.date.getTime()-b.date.getTime()).filter(p=>Hj.has(p.name)),s=new Date(t,0,1,0,0,0,0),u=new Date(t+1,0,1,0,0,0,0),d=o.findIndex(p=>p.name==="입춘"&&p.date>=s&&p.date<u);if(d===-1)return[];const f=[];for(let p=0;p<12;p++){const b=o[d+p];if(!b)break;const y=new Date(b.date),S=$j(y);f.push({name:b.name,termAt:y,at00:S})}return f}function Gj({data:t,activeYear:i,onSelect:o}){const s=br(A=>A.settings),u=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,d=Vc(t),f=O.useMemo(()=>Kc(t,d),[t,d]),p=t.mingSikType??"야자시",b=O.useMemo(()=>ae(f,p).charAt(0),[f,p]),y=s.sinsalBase==="일지"?ae(f,p).charAt(1):oe(f,u).charAt(1),S=O.useMemo(()=>i?Uj(i).map(N=>{const D=N.at00,$=new Date(N.at00);$.setDate($.getDate()+1);const I=Se($,u);return{at:D,gz:I,term:N.name,termAt:N.termAt}}):[],[i,u]),{date:w,setFromEvent:_}=In(),T=Fc(S,w);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:S.map((A,N)=>{const D=A.gz.charAt(0),$=A.gz.charAt(1),I=`${Ij(A.at)}월`,j=N===T,C=ox(D,"stem",s.charType),k=ox($,"branch",s.charType),G=sx(D,"stem"),W=sx($,"branch"),ot=s.thinEum&&G?"font-thin":"font-bold",nt=s.thinEum&&W?"font-thin":"font-bold",tt=s.showSibiUnseong?pi(b,$):null,Z=s.showSibiSinsal?gi({baseBranch:y,targetBranch:$,era:zj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{const U=new Date(A.at);U.setDate(U.getDate()+1),o?.(U.getFullYear(),U.getMonth()+1),_({at:U,gz:Se(U,u)},"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${j?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A.term} 시작 · ${A.gz} · ${A.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(b,{stem:D})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr(D,"stem",s)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${ot}`,children:C})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr($,"branch",s)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${nt}`,children:k})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(b,{branch:$})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&tt&&g.jsx("div",{children:tt}),s.showSibiSinsal&&Z&&g.jsx("div",{children:Z})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:A.term})]})]},`${A.term}-${A.at.toISOString()}`)})})]})}const v2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},x2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Zj=Object.fromEntries(Object.entries(v2).map(([t,i])=>[i,t])),Yj=Object.fromEntries(Object.entries(x2).map(([t,i])=>[i,t]));function lx(t,i,o){return o==="한글"?i==="stem"?v2[t]??t:x2[t]??t:i==="stem"?Zj[t]??t:Yj[t]??t}const qj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Vj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function cx(t,i){return i==="stem"?qj.has(t):Vj.has(t)}function Kj(t){return typeof t=="object"&&t!==null}function Fj(t){return Kj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Xj(t){const i=Uo;return Fj(i)?t==="classic"?i.Classic:i.Modern:t}function Wj(t,i){const o=new Date(t,i-1,1,12,0,0,0),s=new Date(i===12?t+1:t,i===12?0:i,1,12,0,0,0);return{start:o,end:s}}function Qj(t,i){const o=i===1?t-1:t;return new Date(o,5,15,12,0,0,0)}function Jj({data:t,year:i,month:o,hourTable:s}){const u=br(j=>j.settings),d=s??t?.mingSikType??"야자시",f=t?Vc(t):null,p=t&&f?Kc(t,f):null,b=O.useMemo(()=>p?ae(p,d).charAt(0):void 0,[p,d]),y=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,S=t&&p?u.sinsalBase==="일지"?ae(p,d).charAt(1):oe(p,y).charAt(1):null,{start:w,end:_}=O.useMemo(()=>Wj(i,o),[i,o]),T=O.useMemo(()=>{const j=Qj(i,o);return(Ec(j)??[]).slice().sort((k,G)=>k.date.getTime()-G.date.getTime()).filter(k=>k.date>=w&&k.date<_)},[i,o,w,_]),A=O.useMemo(()=>{const j=[],C=new Date(w);for(;C<_;)j.push(new Date(C)),C.setDate(C.getDate()+1);return j},[w,_]),N=O.useMemo(()=>{const j=[];let C=[];const k=new Date(i,o-1,1).getDay();for(let G=0;G<k;G++)C.push(null);for(const G of A)C.length===7&&(j.push(C),C=[]),C.push(G);for(;C.length<7;)C.push(null);return j.push(C),j},[A,i,o]),{date:D,setFromEvent:$}=In(),I=O.useMemo(()=>{const j=A.map(C=>({at:C}));return Fc(j,D)},[A,D]);return g.jsxs("div",{className:"w-full max-w={[800]} mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[i,"년 ",o,"월",T.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",T.map((j,C)=>g.jsxs("span",{children:[j.name," ",t9(j.date),C<T.length-1?" · ":""]},j.name+C)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(j=>g.jsx("div",{className:"py-1",children:j},j))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:N.map((j,C)=>j.map((k,G)=>{if(!k)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${C}-${G}`);const W=new Date(k.getFullYear(),k.getMonth(),k.getDate(),4,30,0,0),nt=A.findIndex(Y=>Y.getTime()===k.getTime())===I,tt=ae(W,d),Z=tt.charAt(0),U=tt.charAt(1),et=lx(Z,"stem",u.charType),lt=lx(U,"branch",u.charType),ht=u.thinEum&&cx(Z,"stem")?"font-thin":"font-bold",K=u.thinEum&&cx(U,"branch")?"font-thin":"font-bold",rt=!!b&&u.showSipSin,ft=!!b&&u.showSibiUnseong,st=!!b&&S!=null&&u.showSibiSinsal,R=rt?Hn(b,{stem:Z}):"",H=rt?Hn(b,{branch:U}):"",X=ft?pi(b,U):"",Q=st?gi({baseBranch:S,targetBranch:U,era:Xj(u.sinsalMode),gaehwa:!!u.sinsalBloom}):"",z=T.find(Y=>Y.date.getFullYear()===W.getFullYear()&&Y.date.getMonth()===W.getMonth()&&Y.date.getDate()===W.getDate());return g.jsxs("div",{onClick:()=>{$({at:k},"일운")},className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${nt?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${tt} (${W.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:W.getDate()}),z&&g.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:z.name})]}),rt&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:R}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${pr(Z,"stem",u)}`,children:g.jsx("span",{className:ht,children:et})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${pr(U,"branch",u)}`,children:g.jsx("span",{className:K,children:lt})}),rt&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:H}),(ft||st)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[ft&&X&&g.jsx("div",{children:X}),st&&Q&&g.jsx("div",{children:Q})]})]},k.toISOString())}))})]})}function t9(t){if(!t)return null;const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let o="",s="",u="",d="";for(const f of i)f.type==="month"&&(o=f.value),f.type==="day"&&(s=f.value),f.type==="hour"&&(u=f.value),f.type==="minute"&&(d=f.value);return`${o}/${s} ${u}:${d}`}function ux(t,i){const o=t.at.getFullYear(),s=i?i.at.getFullYear():o+10,u=[];for(let d=o;d<s;d++){const f=rn(d,315);let p=d;new Date<f&&(p=d-1);const y=oe(new Date(p,1,10));u.push({at:f,gz:y})}return u}function e9({data:t}){const i=qc(t),[o,s]=O.useState(null),[u,d]=O.useState(null),[f,p]=O.useState("il");O.useEffect(()=>{if(!i.length)return;const _=new Date,T=i.findIndex((A,N)=>{const D=i[N+1]?.at;return _>=A.at&&(!D||_<D)});T!==-1&&s(T)},[i]),O.useEffect(()=>{if(o===null)return;const _=i[o],T=i[o+1];if(!_)return;const A=ux(_,T),N=new Date;A.findIndex(($,I)=>{const j=A[I+1]?.at;return N>=$.at&&(!j||N<j)})!==-1&&d({year:N.getFullYear(),month:N.getMonth()+1})},[o,i]);const b=zp(t),{date:y}=In(),S=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=O.useMemo(()=>{if(!b?.dae?.gz)return[];const _=i.findIndex((N,D)=>{const $=i[D+1]?.at;return b.dae.at>=N.at&&(!$||b.dae.at<$)});if(_===-1)return[];const T=i[_],A=i[_+1];return ux(T,A)},[i,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(_j,{data:t}),f==="se"||f==="wol"||f==="il"?g.jsx(kj,{data:t,list:w,onSelect:()=>{p("wol")}}):null,f==="wol"||f==="il"?g.jsx(Gj,{data:t,activeYear:S,onSelect:(_,T)=>{d({year:_,month:T}),p("il")}}):null,f==="il"&&u&&g.jsx(Jj,{data:t,year:y.getFullYear(),month:y.getMonth()+1,hourTable:t?.mingSikType})]})}const n9=new Set(AT),r9=new Set(DT);function dx(t){return typeof t=="string"&&t.length>=2&&n9.has(t[0])&&r9.has(t[1])}function ur(t,...i){if(dx(t))return t;for(const o of i)if(dx(o))return o;return""}const i9={자:0,축:2,인:4,묘:6,진:8,사:10,오:12,미:14,신:16,유:18,술:20,해:22},_2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},a9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function fx(t){return!!t&&Lr.천간.includes(t)}function o9(t){return _2[t]??t}function hx(t){return a9[t]??t}function s9(t){if(fx(t))return t;const i=_2[t];return fx(i)?i:"갑"}function l9(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function c9(t){const i=Uo;return l9(i)?t==="classic"?i.Classic??i.classic:i.Modern??i.modern:t}function kd(t,i){let o=null;const s=i.getTime();for(const u of t)if(u.at.getTime()<=s)o=u;else break;return o}function u9({data:t}){const i=br(tt=>tt.settings),{manualHour:o}=$c(),{showSibiUnseong:s,showSibiSinsal:u,sinsalBase:d,sinsalMode:f,sinsalBloom:p}=i,{date:b}=In(),y=O.useMemo(()=>Pp(t),[t]),S=O.useMemo(()=>Zf(y),[y]),w=O.useMemo(()=>Bp(y,"야자시"),[y]),_=O.useMemo(()=>s9(w.day?.charAt(0)??"갑"),[w.day]),T=!t.birthTime||t.birthTime==="모름",A=O.useMemo(()=>s2(S,w.hour,t.dir??"forward",120,"야자시"),[S,w.hour,t.dir]),N=O.useMemo(()=>c2(A,w.day,t.dir??"forward","인시일수론"),[A,w.day,t.dir]),D=O.useMemo(()=>Yc(S,w.month,t.dir??"forward",120,y.birthPlace?.lon??127.5),[S,w.month,t.dir,y.birthPlace?.lon]),$=O.useMemo(()=>u2(D,w.year,t.dir??"forward","인시일수론",S),[D,w.year,t.dir,S]),I=O.useMemo(()=>{const tt=A?.events?.[0];return tt?{at:tt.at,from:ur(w.hour),to:ur(tt.gz)}:null},[A?.events,w.hour]),j=O.useMemo(()=>{const tt=D?.events?.[0];return D?.firstChange?{at:D.firstChange,from:ur(w.month),to:ur(tt?.gz??w.month)}:null},[D?.firstChange,D?.events,w.month]),C=O.useMemo(()=>{const tt=T?o?o.stem+o.branch:"":ur(kd(A.events,b)?.gz,w.hour);let Z;if(T&&o){const U=b.getFullYear(),et=b.getMonth(),lt=b.getDate(),ht=i9[o.branch]??0,K=new Date(U,et,lt,ht,0),rt=ae(K,t.mingSikType??"야자시");Z=ur(rt,w.day)}else Z=ur(kd(N.events,b)?.gz,w.day);return{si:tt,il:Z,wl:ur(kd(D.events,b)?.gz,w.month),yn:ur(kd($.events,b)?.gz,w.year)}},[b,A.events,N.events,D.events,$.events,w,T,o,t.mingSikType]),k=O.useMemo(()=>({si:ur(Pr(b,"야자시")),il:ur(ae(b,"야자시")),wl:ur(Se(b)),yn:ur(oe(b))}),[b]),G=O.useMemo(()=>d==="일지"?w.day.charAt(1):w.year.charAt(1),[d,w.day,w.year]),W=O.useMemo(()=>c9(f),[f]),ot=tt=>{if(!tt)return{unseong:"",shinsal:""};const Z=o9(_),U=hx(tt.charAt(1)),et=hx(G);return{unseong:s&&pi(Z,U)||"",shinsal:u&&gi({baseBranch:et,targetBranch:U,era:W,gaehwa:!!p})||""}},nt=(tt,Z,U="myoun")=>{const et=Z,{unseong:lt,shinsal:ht}=Z?ot(Z):{unseong:"",shinsal:""},K=U==="myoun"&&T&&(tt==="시주"||tt==="일주");return g.jsx(Rs,{label:tt,gz:et,dayStem:_,settings:i,unseongText:Z?lt:"",shinsalText:Z?ht:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:K},`${U}-${tt}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",Mc(S),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[nt("시주",C.si,"myoun"),nt("일주",C.il,"myoun"),nt("월주",C.wl,"myoun"),nt("연주",C.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[nt("시주",k.si,"live"),nt("일주",k.il,"live"),nt("월주",k.wl,"live"),nt("연주",k.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),g.jsxs("div",{children:["시주:"," ",I?`${Mc(I.at)} (${I.from} → ${I.to})`:"계산 불가"]}),g.jsxs("div",{children:["월주:"," ",j?`${Mc(j.at)} (${j.from} → ${j.to})`:"계산 불가"]})]})]})}const mx=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],d9={갑목:"목",을목:"목",병화:"화",정화:"화",무토:"토",기토:"토",경금:"금",신금:"금",임수:"수",계수:"수"},f9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},h9={목:"화",화:"토",토:"금",금:"수",수:"목"},m9={화:"목",토:"화",금:"토",수:"금",목:"수"},p9={목:"토",화:"금",토:"수",금:"목",수:"화"},g9={토:"목",금:"화",수:"토",목:"금",화:"수"};function b9(t,i){switch(t){case"비겁":return i;case"식상":return h9[i];case"재성":return p9[i];case"관성":return g9[i];case"인성":return m9[i];default:return i}}function y9({data:t,perStemElementScaled:i,elementPercent:o,dayStem:s,width:u=280,height:d=280,revKey:f}){const p=u,b=d,y=p/2,S=b/2,w=Math.min(p,b)*.37,_=O.useMemo(()=>{const j=(s??"").charAt(0);return f9[j]??null},[s]),T=j=>Math.PI/2+2*-Math.PI*j/5,A=O.useMemo(()=>t.map((j,C)=>({...j,x:y+w*Math.cos(T(C)),y:S-w*Math.sin(T(C))})),[t,y,S,w]),[N,D]=O.useState(0),$=O.useRef(""),I=O.useMemo(()=>{const j=t.map(G=>`${G.name}:${G.value}`).join(","),C=mx.map(G=>`${G}:${i?.[G]??0}`).join(","),k=o?`목:${o.목??0},화:${o.화??0},토:${o.토??0},금:${o.금??0},수:${o.수??0}`:"el:none";return[f??"",j,C,k,s??""].join("||")},[f,t,i,s,o]);return O.useEffect(()=>{I!==$.current&&($.current=I,D(j=>j+1))},[I]),g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:p,height:b,className:"mx-auto pt-2",children:[A.map((j,C)=>{const k=A[(C+2)%5];return g.jsx("line",{x1:j.x,y1:j.y,x2:k.x,y2:k.y,stroke:"#94a3b8",strokeWidth:1},`line-${C}`)}),A.map((j,C)=>{const k=A[(C+1)%5],G=(j.x+k.x)/2,W=(j.y+k.y)/2,ot=G-y,nt=W-S,tt=1.5,Z=y+ot*tt,U=S+nt*tt;return g.jsx("path",{d:`M${j.x},${j.y} Q${Z},${U} ${k.x},${k.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${C}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),A.map(j=>{const C=j.name,k=_?b9(C,_):null,G=k?mx.filter(W=>d9[W]===k).map(W=>[W,i?.[W]??0]):[];return g.jsxs("g",{transform:`translate(${j.x},${j.y})`,children:[g.jsx("circle",{r:33,fill:j.color??"#334155",opacity:j.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[j.name," ",j.value]}),G.map(([W,ot],nt)=>g.jsxs("text",{textAnchor:"middle",dy:8+nt*11,fontSize:10,className:"fill-white",children:[W," ",Math.round(ot)]},W))]},`${j.name}-${j.value}`)})]},N)})}const v9=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}];function S2(t){return Math.max(0,Math.min(100,t))}function w2(t){const i=S2(t);return v9.find(s=>i>=s.min&&i<s.max)?.name??"중화"}const x9=[10,20,35,45,55,65,80];function _9({value:t}){const i=O.useMemo(()=>S2(t),[t]),o=O.useMemo(()=>w2(i),[i]);return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:"신약"}),g.jsx("span",{children:"중화"}),g.jsx("span",{children:"신강"})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[x9.map(s=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${s}%`},title:`${s}%`},s)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${i}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${i}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:o}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[i.toFixed(1),"%"]})]})]})}const Ya=["연","월","일","시"],Od={year:0,month:1,day:2,hour:3},x0="매우약함",S9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},w9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Yt(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const s=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=S9[s[1]]??s[1],d=w9[s[2]]??s[2];return`${u}${d}`}return""}const zs=t=>t&&t.length>=1?t[0]:"",qa=t=>t&&t.length>=2?t[1]:"",bf=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],yf=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],vf=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],xf=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],_f=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],Sf=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],wf=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],Tf=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],T9=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],Ef=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],Mf=[{pair:["자","묘"],label:"자묘형"}],px=new Set(["진","오","유","해"]),Lc=new Set(["정해","무자","신사","임오"]),Yf=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],qf=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function ue(t,i,o){for(const{pair:[s,u],label:d}of t)if(i===s&&o===u||i===u&&o===s)return d;return null}function ie(t,i){t.includes(i)||t.push(i)}const jo=t=>[...t].sort((i,o)=>i-o).map(i=>Ya[i]).join("X"),_0=(t,i)=>t===0&&i===3||t===3&&i===0;function gx(t,i){const o=[];for(const s of t)for(const u of i){if(s===u)continue;const d=Math.min(s,u),f=Math.max(s,u);d===0&&f===3||o.push([d,f])}return o.sort((s,u)=>{const d=Math.abs(s[0]-s[1]),f=Math.abs(u[0]-u[1]);return d!==f?d-f:0})}function E9(t){const i=[],o=[...t].sort((s,u)=>s-u);for(let s=0;s<o.length;s++)for(let u=s+1;u<o.length;u++){const d=o[s],f=o[u];d===0&&f===3||i.push([d,f])}return i}const T2=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function M9(t){if(!t)return!1;const i=t.normalize("NFC").trim();return/^#\s*없음$/u.test(i)}const N9=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function E2(t){for(const i of N9){const s=(t[i]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!M9(u));t[i]=s}return t}function M2(t,i={}){const{emitGanjiAmhap:o=!0}=i,s=t.map(Yt),u=s.map(_=>zs(_)),d=s.map(_=>qa(_)),p={title:s.map((_,T)=>`${_}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},b=(_,T,A,N)=>{const D=u.flatMap((I,j)=>I===_?[j]:[]),$=u.flatMap((I,j)=>I===T?[j]:[]);for(const I of D)for(const j of $)I!==j&&Math.abs(I-j)===1&&ie(N,`#${jo([I,j])}_${A}`)};bf.forEach(({pair:[_,T],label:A})=>b(_,T,A,p.cheonganHap)),yf.forEach(({pair:[_,T],label:A})=>b(_,T,A,p.cheonganChung));const y=_=>{const T=new Set,A=[];for(const N of _)for(let D=0;D<d.length;D++)if(d[D]===N&&!T.has(D)){T.add(D),A.push(D);break}return A};Yf.forEach(({name:_,members:T,wang:A})=>{const N=T.filter($=>d.includes($)),D=new Set(N).size;if(D===3){const $=y(T);$.length===3&&ie(p.jijiSamhap,`#${jo($)}_${_}삼합`)}else if(D===2){if(!N.includes(A))return;const[$,I]=N,j=d.flatMap((W,ot)=>W===$?[ot]:[]),C=d.flatMap((W,ot)=>W===I?[ot]:[]),k=gx(j,C),G=k.length>1;for(const[W,ot]of k){const nt=_0(W,ot),tt=`#${jo([W,ot])}_${$}${I}반합${G?"":nt?`_${x0}`:""}`;ie(p.jijiSamhap,tt)}}}),qf.forEach(({name:_,members:T})=>{if(new Set(T.filter(D=>d.includes(D))).size!==3)return;const N=y(T);N.length===3&&ie(p.jijiBanghap,`#${jo(N)}${_}_방합`)});const S=(_,T,A,N)=>{const D=d.flatMap((C,k)=>C===_?[k]:[]),$=d.flatMap((C,k)=>C===T?[k]:[]),I=gx(D,$),j=I.length>1;for(const[C,k]of I){const G=_0(C,k),W=`#${jo([C,k])}_${A}${j?"":G?`_${x0}`:""}`;ie(N,W)}};if(vf.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiYukhap)),xf.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiChung)),_f.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiPa)),Sf.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiHae)),wf.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiWonjin)),Tf.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(_=>{const T=[],A=new Set;if(_.forEach(N=>{d.forEach((D,$)=>{D===N&&(T.push($),A.add(N))})}),A.size===3){const N=Array.from(new Set(T)).sort((D,$)=>D-$);ie(p.jijiHyeong,`#${jo(N)}_${_.join("")}삼형`)}}),Ef.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiHyeong)),Mf.forEach(({pair:[_,T],label:A})=>S(_,T,A,p.jijiHyeong)),["진","오","유","해"].forEach(_=>{const T=d.flatMap((D,$)=>D===_?[$]:[]),A=E9(T),N=A.length>1;for(const[D,$]of A){const I=_0(D,$),j=`#${jo([D,$])}_${_}${_}자형${N?"":I?`_${x0}`:""}`;ie(p.jijiHyeong,j)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[_,T],label:A})=>S(_,T,A,p.amhap)),o)for(let _=0;_<4;_++){const T=s[_]??"";if(T.length<2)continue;const A=`${T[0]}${T[1]}`;Lc.has(A)&&ie(p.ganjiAmhap,`#${T2(Ya[_])}_${A}암합`)}return E2(p)}function Bs(t,i={}){const{emitNatalGanjiAmhap:o=!1}=i,s=[Yt(t.natal[0]??""),Yt(t.natal[1]??""),Yt(t.natal[2]??""),Yt(t.natal[3]??"")],d=[Yt(t.daewoon??""),Yt(t.sewoon??""),Yt(t.wolwoon??"")].some(y=>y.length>=2),f={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(o&&d)for(let y=0;y<4;y++){const S=s[y]??"";if(S.length<2)continue;const w=`${S[0]}${S[1]}`;Lc.has(w)&&ie(f.ganjiAmhap,`#${T2(Ya[y])}_${w}암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];for(const[y,S]of p){if(!S)continue;const w=Yt(S);if(!w||w.length<2)continue;const _=zs(w),T=qa(w);{const N=`${_}${T}`;Lc.has(N)&&ie(f.ganjiAmhap,`#${y}_${N}암합`)}for(let N=0;N<4;N++){const D=s[N]??"";if(D.length<2)continue;const $=Ya[N],I=zs(D),j=qa(D),C=ue(bf,_,I);C&&ie(f.cheonganHap,`#${y}X${$}_${C}`);const k=ue(yf,_,I);k&&ie(f.cheonganChung,`#${y}X${$}_${k}`);const G=ue(vf,T,j);G&&ie(f.jijiYukhap,`#${y}X${$}_${G}`);const W=ue(xf,T,j);W&&ie(f.jijiChung,`#${y}X${$}_${W}`);const ot=ue(_f,T,j);ot&&ie(f.jijiPa,`#${y}X${$}_${ot}`);const nt=ue(Sf,T,j);nt&&ie(f.jijiHae,`#${y}X${$}_${nt}`);const tt=ue(wf,T,j);tt&&ie(f.jijiWonjin,`#${y}X${$}_${tt}`);const Z=ue(Tf,T,j);Z&&ie(f.jijiGwimun,`#${y}X${$}_${Z}`);const U=ue(Ef,T,j);if(U)ie(f.jijiHyeong,`#${y}X${$}_${U}`);else{const ht=ue(Mf,T,j);ht?ie(f.jijiHyeong,`#${y}X${$}_${ht}`):T===j&&px.has(T)&&ie(f.jijiHyeong,`#${y}X${$}_${T}${j}자형`)}const lt=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],T,j);lt&&ie(f.amhap,`#${y}X${$}_${lt}`)}const A=s.map(N=>qa(N??""));for(const N of Yf){if(!N.members.includes(T))continue;const D=N.members.filter(I=>I!==T),$=A.map((I,j)=>({b:I,pos:Ya[j]})).filter(I=>D.includes(I.b));if(new Set($.map(I=>I.b)).size===2){const[I,j]=$.map(C=>C.pos).sort((C,k)=>["시","일","월","연"].indexOf(C)-["시","일","월","연"].indexOf(k));ie(f.jijiSamhap,`#${y}X${I}X${j}_삼합(${N.name})`)}}for(const N of qf){if(!N.members.includes(T))continue;const D=N.members.filter(I=>I!==T),$=A.map((I,j)=>({b:I,pos:Ya[j]})).filter(I=>D.includes(I.b));if($.length>=2){const[I,j]=$.map(C=>C.pos).sort((C,k)=>["시","일","월","연"].indexOf(C)-["시","일","월","연"].indexOf(k));ie(f.jijiBanghap,`#${y}X${I}X${j}방합(${N.name})`)}}for(const N of T9){if(!N.members.includes(T))continue;const D=N.members.filter(I=>I!==T),$=A.map((I,j)=>({b:I,pos:Ya[j]})).filter(I=>D.includes(I.b));if(new Set($.map(I=>I.b)).size===2){const[I,j]=$.map(C=>C.pos).sort((C,k)=>["시","일","월","연"].indexOf(C)-["시","일","월","연"].indexOf(k));ie(f.jijiHyeong,`#${y}X${I}X${j}삼형(${N.name})`)}}}const b=[];t.daewoon&&t.sewoon&&b.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&b.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&b.push(["대운",t.daewoon,"월운",t.wolwoon]),t.ilwoon&&t.daewoon&&b.push(["일운",t.ilwoon,"대운",t.daewoon]),t.ilwoon&&t.sewoon&&b.push(["일운",t.ilwoon,"세운",t.sewoon]),t.ilwoon&&t.wolwoon&&b.push(["일운",t.ilwoon,"월운",t.wolwoon]);for(const[y,S,w,_]of b){const T=Yt(S),A=Yt(_);if(T.length<2||A.length<2)continue;const N=zs(T),D=qa(T),$=zs(A),I=qa(A),j=ue(bf,N,$);j&&ie(f.cheonganHap,`#${y}X${w}_${j}`);const C=ue(yf,N,$);C&&ie(f.cheonganChung,`#${y}X${w}_${C}`);const k=ue(vf,D,I);k&&ie(f.jijiYukhap,`#${y}X${w}_${k}`);const G=ue(xf,D,I);G&&ie(f.jijiChung,`#${y}X${w}_${G}`);const W=ue(_f,D,I);W&&ie(f.jijiPa,`#${y}X${w}_${W}`);const ot=ue(Sf,D,I);ot&&ie(f.jijiHae,`#${y}X${w}_${ot}`);const nt=ue(wf,D,I);nt&&ie(f.jijiWonjin,`#${y}X${w}_${nt}`);const tt=ue(Tf,D,I);tt&&ie(f.jijiGwimun,`#${y}X${w}_${tt}`);const Z=ue(Ef,D,I);if(Z)ie(f.jijiHyeong,`#${y}X${w}_${Z}`);else{const et=ue(Mf,D,I);et?ie(f.jijiHyeong,`#${y}X${w}_${et}`):D===I&&px.has(D)&&ie(f.jijiHyeong,`#${y}X${w}_${D}${I}자형`)}const U=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],D,I);U&&ie(f.amhap,`#${y}X${w}_${U}`)}return E2(f)}function A9(t,i){const s=t.map(Yt).map(b=>qa(b)),u=Od.month,d=s[u],f=b=>{const y=[];for(let S=0;S<4;S++){const w=s[S];w&&b.has(w)&&y.push(S)}return y},p=b=>{const y=[...b].sort((S,w)=>S-w);return y.length===3&&y[0]+1===y[1]&&y[1]+1===y[2]};for(const b of Yf){const y=new Set(b.members),S=f(y);if(S.length===3){const w=S.includes(u),_=d===b.wang;w?p(S)?i[b.out]+=_?10:8:i[b.out]+=5:i[b.out]+=3}if(S.length===2&&S.includes(u)){const w=S[0]===u?S[1]:S[0],_=d===b.wang;w===Od.day&&_?i[b.out]+=8:w===Od.year&&_?i[b.out]+=6:w===Od.hour&&(i[b.out]+=_?4:2)}}for(const b of qf){const y=new Set(b.members),S=f(y);if(S.length===3){const w=S.includes(u),_=d===b.wang;w?p(S)?i[b.out]+=_?8:6:i[b.out]+=4:i[b.out]+=2}}}function bx(t){const i=["연","월","일","시"],o=t.map(Yt),s=o.map(p=>zs(p)),u=o.map(p=>qa(p)),d=new Map,f=new Map;for(let p=0;p<4;p++){const b=s[p],y=u[p];b.includes(b)&&d.set(b,[...d.get(b)??[],p]),y.includes(y)&&f.set(y,[...f.get(y)??[],p])}return{stemsByPos:s,brsByPos:u,stemPos:d,brPos:f,names:i}}function _e(t){return Ya[t]}function An(t,i){i&&(t.includes(i)||t.push(i))}function D9(t,i){const o=bx(t),s=bx(i),u={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let p=0;p<4;p++){const b=o.stemsByPos[p],y=o.brsByPos[p];for(let S=0;S<4;S++){const w=s.stemsByPos[S],_=s.brsByPos[S],T=ue(bf,b,w);T&&An(u.천간합,`${_e(p)}X${_e(S)} ${T}`);const A=ue(yf,b,w);A&&An(u.천간충,`${_e(p)}X${_e(S)} ${A}`);const N=ue(vf,y,_);N&&An(u.지지육합,`${_e(p)}X${_e(S)} ${N}`);const D=ue(xf,y,_);D&&An(u.지지충,`${_e(p)}X${_e(S)} ${D}`);const $=ue(_f,y,_);$&&An(u.지지파,`${_e(p)}X${_e(S)} ${$}`);const I=ue(Sf,y,_);I&&An(u.지지해,`${_e(p)}X${_e(S)} ${I}`);const j=ue(wf,y,_);j&&An(u.지지원진,`${_e(p)}X${_e(S)} ${j}`);const C=ue(Tf,y,_);C&&An(u.지지귀문,`${_e(p)}X${_e(S)} ${C}`);const G=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],y,_);G&&An(u.암합,`${_e(p)}X${_e(S)} ${G}`);const W=`${b}${_}`,ot=`${w}${y}`;Lc.has(W)&&An(u.간지암합,`${_e(p)}X${_e(S)} ${W}암합`),Lc.has(ot)&&An(u.간지암합,`${_e(S)}X${_e(p)} ${ot}암합`);const nt=ue(Ef,y,_);if(nt)An(u.지지형,`${_e(p)}X${_e(S)} ${nt}`);else{const tt=ue(Mf,y,_);tt&&An(u.지지형,`${_e(p)}X${_e(S)} ${tt}`)}}}const d=new Set(o.brsByPos.filter(Boolean)),f=new Set(s.brsByPos.filter(Boolean));for(const p of Yf){if(p.members.every(S=>d.has(S)||f.has(S))){const S=p.members.filter(_=>d.has(_)).length,w=p.members.filter(_=>f.has(_)).length;S>=1&&w>=1&&An(u.지지삼합,`${p.name}삼합`)}const y=p.members.filter(S=>d.has(S)||f.has(S));if(y.length===2&&y.includes(p.wang)){const S=y.some(_=>d.has(_)),w=y.some(_=>f.has(_));if(S&&w){const[_,T]=y.sort(),A=o.brPos.get(_)?.[0]??o.brPos.get(T)?.[0],N=s.brPos.get(_)?.[0]??s.brPos.get(T)?.[0];A!=null&&N!=null&&An(u.지지반합,`${_e(A)}X${_e(N)} ${_}${T}반합`)}}}for(const p of qf)if(p.members.every(y=>d.has(y)||f.has(y))){const y=p.members.filter(w=>d.has(w)).length,S=p.members.filter(w=>f.has(w)).length;y>=1&&S>=1&&An(u.지지방합,`${p.name}방합`)}return Object.keys(u).forEach(p=>u[p].sort()),u}function mc(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Xr({label:t,natal:i,dae:o,se:s,wol:u,il:d}){const f=o.length+s.length+u.length+d.length>0,p=i.length>0?i:["#없음"],b=f?p.filter(w=>w!=="#없음"):p,S=b.some(w=>w!=="#없음")||o.length>0||s.length>0||u.length>0||d.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[g.jsx("div",{className:S,children:t}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.map((w,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(w,"natal"),children:w},`natal-${_}`)),o.map((w,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(w,"dae"),children:w},`dae-${_}`)),s.map((w,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(w,"se"),children:w},`se-${_}`)),u.map((w,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(w,"wol"),children:w},`wol-${_}`)),d.map((w,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(w,"il"),children:w},`il-${_}`))]})]})}function np(t){return Array.isArray(t)?t:[]}function Cd(t,i){const o=new Set(np(t));return np(i).filter(u=>!o.has(u))}function j9({pillars:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,tab:d="원국"}){const f=M2(t),p=Bs({natal:t}),b=i?Bs({natal:t,daewoon:i}):p,y=o?Bs({natal:t,daewoon:i,sewoon:o}):b,S=s?Bs({natal:t,daewoon:i,sewoon:o,wolwoon:s}):y,w=u?Bs({natal:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u}):S,_=N=>({natal:np(f[N]),dae:Cd(p[N],b[N]),se:Cd(b[N],y[N]),wol:Cd(y[N],S[N]),il:Cd(S[N],w[N])}),T={cheonganHap:_("cheonganHap"),cheonganChung:_("cheonganChung"),jijiSamhap:_("jijiSamhap"),jijiBanghap:_("jijiBanghap"),jijiYukhap:_("jijiYukhap"),amhap:_("amhap"),ganjiAmhap:_("ganjiAmhap"),jijiChung:_("jijiChung"),jijiHyeong:_("jijiHyeong"),jijiPa:_("jijiPa"),jijiHae:_("jijiHae")},A=N=>d==="원국"?{natal:N.natal,dae:[],se:[],wol:[],il:[]}:d==="대운"?{natal:N.natal,dae:N.dae,se:[],wol:[],il:[]}:d==="세운"?{natal:N.natal,dae:N.dae,se:N.se,wol:[],il:[]}:d==="월운"?{natal:N.natal,dae:N.dae,se:N.se,wol:N.wol,il:[]}:d==="일운"?{natal:N.natal,dae:N.dae,se:N.se,wol:N.wol,il:N.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),g.jsx(Xr,{label:"천간합",...A(T.cheonganHap)}),g.jsx(Xr,{label:"천간충",...A(T.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(Xr,{label:"지지삼합",...A(T.jijiSamhap)}),g.jsx(Xr,{label:"지지방합",...A(T.jijiBanghap)}),g.jsx(Xr,{label:"지지육합",...A(T.jijiYukhap)}),g.jsx(Xr,{label:"암합",...A(T.amhap)}),g.jsx(Xr,{label:"간지암합",...A(T.ganjiAmhap)}),g.jsx(Xr,{label:"지지충",...A(T.jijiChung)}),g.jsx(Xr,{label:"지지형",...A(T.jijiHyeong)}),g.jsx(Xr,{label:"지지파",...A(T.jijiPa)}),g.jsx(Xr,{label:"지지해",...A(T.jijiHae)})]})}const k9={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},O9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function N2(t){const i=O9[t]??"목";return k9[i]}const A2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},C9={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Xc={목:"화",화:"토",토:"금",금:"수",수:"목"},Bc={화:"목",토:"화",금:"토",수:"금",목:"수"},el={목:"토",화:"금",토:"수",금:"목",수:"화"},L9=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],B9={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function Hp(t){return Math.max(0,Math.min(100,t))}function Ks(t,i,o){return Math.max(i,Math.min(o,t))}function R9(t){const i=Hp(t);return L9.find(o=>i>=o.min&&i<o.max)?.name??"중화"}function P9(t){const i=t?.[2]?.charAt(0)??"";return A2[i]??null}function z9(t){return(t?.[1]?.charAt(1)??"")||null}function Vf(t){const i=Object.entries(el);for(const[o,s]of i)if(s===t)return o;return"토"}function H9(t){return t?{peer:t,resource:Bc[t],leak:Xc[t],wealth:el[t],officer:Vf(t)}:null}function $9(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const s=o.charAt(0),u=o.charAt(1),d=A2[s],f=C9[u];d&&(i[d]+=10),f&&(i[f]+=6)}return i}function I9(t){const i=Object.values(t).reduce((s,u)=>s+u,0);if(i<=0)return{목:20,화:20,토:20,금:20,수:20};const o={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(s=>{o[s]=t[s]/i*100}),o}function U9(t){if(!t||t.length===0)return null;const i=t.reduce((s,u)=>s+(u?.value??0),0)||0;if(i<=0)return null;const o=s=>t.find(u=>u.name===s)?.value??0;return Hp((o("비겁")+o("인성"))/i*100)}function G9(t,i){return!t||!i?null:i===t?"비겁":Xc[t]===i?"식상":el[t]===i?"재성":Vf(t)===i?"관성":Bc[t]===i?"인성":null}const S0=24,Z9=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function Y9(t){for(const[i,o]of Z9)if(t>=i)return o;return 1}const Nf=20,yx=(t,i)=>Ks((Nf-(i[t]??0))/Nf,0,1),vx=(t,i)=>Ks(((i[t]??0)-Nf)/Nf,0,1);function q9(t,i,o,s){const u=G9(t,o);if(!t||!u)return 0;const d=Ks((50-i)/50,0,1),f=Ks((i-50)/50,0,1),p=yx(o,s),b=vx(o,s),y=yx(t,s),S=vx(t,s),w=6.5;let _=0;if(d>0)switch(u){case"인성":_=+(.3+.4*y+.15*p)*d;break;case"비겁":_=+(.18+.45*y)*d;break;case"관성":_=-(.08+.2*(1-p)+.1*S)*d;break;case"재성":_=-(.22+.25*(1-p)+.1*(1-y))*d;break;case"식상":_=-(.35+.25*(1-p)+.1*(1-y))*d;break}else if(f>0)switch(u){case"인성":_=-(.25+.25*(1-p)+.2*S)*f;break;case"비겁":_=-(.28+.2*S)*f;break;case"관성":_=+(.18+.2*p+.15*S)*f;break;case"재성":_=+(.22+.25*p+.1*S)*f;break;case"식상":_=+(.2+.2*p)*f;break}else switch(u){case"인성":_=.08*(y+p);break;case"비겁":_=.05*y-.03*S;break;case"관성":_=.02*p-.02*b;break;case"재성":_=.01*p-.06*b;break;case"식상":_=-.05*(1-p);break}return Math.round(w*_*10)/10}function V9(t,i,o,s){const u=["중화신강","태강","극태강"].includes(i),d=["극약","태약","신약","중화신약"].includes(i),f={목:0,화:0,토:0,금:0,수:0};if(u){const p=Xc[t],b=el[t],y=Vf(t);f[p]+=28,f[b]+=22,f[y]+=20,s.get(p)?.push("억부: 일간 강 → 설기(식상)"),s.get(b)?.push("억부: 일간 강 → 재성 누설"),s.get(y)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=Bc[t],b=t;f[p]+=28,f[b]+=22,s.get(p)?.push("억부: 일간 약 → 인성 보강"),s.get(b)?.push("억부: 일간 약 → 비겁 보강")}return f}function xx(t,i){if(!t)return{목:0,화:0,토:0,금:0,수:0};const o=B9[t]??{temp:"mild",wet:"normal"},s={목:0,화:0,토:0,금:0,수:0};return o.temp==="cold"?(s.화+=16,s.토+=6,i.get("화")?.push("조후: 한랭 → 화"),i.get("토")?.push("조후: 한랭습 보조")):o.temp==="hot"&&(s.수+=14,s.금+=6,i.get("수")?.push("조후: 염열 → 수"),i.get("금")?.push("조후: 제열 보조")),o.wet==="wet"?(s.토+=8,s.화+=4,i.get("토")?.push("조후: 습 → 토"),i.get("화")?.push("조후: 습냉 가온")):o.wet==="dry"&&(s.수+=8,s.목+=4,i.get("수")?.push("조후: 건조 → 수"),i.get("목")?.push("조후: 생발 보조")),s}function _x(t,i){const o={목:0,화:0,토:0,금:0,수:0},s=["목","화","토","금","수"];for(const u of s){const d=el[u],f=Math.max(0,(t[u]??0)-(t[d]??0));if(f<=0)continue;const p=Xc[u],b=Math.round(f*.35);b>0&&(o[p]+=b,i.get(p)?.push(`통관: ${u}극${d} 완화`))}return o}function Sx(t,i){const o={목:0,화:0,토:0,금:0,수:0},s=Object.entries(t),u=Math.min(...s.map(([,f])=>f)),d=s.filter(([,f])=>f<=Math.max(6,u));for(const[f]of d)o[f]+=12,i.get(f)?.push("병약: 결핍 보충");return o}function wx(t,i){const o=P9(t),s=z9(t),u=$9(t),d=I9(u);let f=U9(i);if(f==null)if(!o)f=50;else{const Z=o,U=Bc[o],et=Object.values(u).reduce((lt,ht)=>lt+ht,0)||1;f=Hp(((u[Z]??0)+(u[U]??0))/et*100)}const p=R9(f),b={목:0,화:0,토:0,금:0,수:0},y=new Map(["목","화","토","금","수"].map(Z=>[Z,[]]));if(o){const Z=V9(o,p,u,y);Object.keys(b).forEach(U=>{b[U]+=Z[U]??0})}const S=xx(s,y);Object.keys(b).forEach(Z=>{b[Z]+=S[Z]??0});const w=_x(u,y);Object.keys(b).forEach(Z=>{b[Z]+=w[Z]??0});const _=Sx(u,y);Object.keys(b).forEach(Z=>{b[Z]+=_[Z]??0});const T=H9(o),A={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(i))for(const Z of i)A[Z.name]=Z.value;if(f>=45&&f<=55&&T){const Z=A.관성>=30||A.관성>=Math.max(A.비겁,A.식상,A.재성,A.인성)+5;f<=50?(b[T.resource]+=14,y.get(T.resource)?.push("밸런스: 중화-약측"),b[T.peer]+=10,y.get(T.peer)?.push("밸런스: 중화-약측"),b[T.leak]+=6,y.get(T.leak)?.push("밸런스: 중화-약측"),b[T.wealth]+=3,y.get(T.wealth)?.push("밸런스: 중화-약측"),Z&&T.officer&&(b[T.officer]=Math.round(b[T.officer]*.8*10)/10,y.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(b[T.leak]+=14,y.get(T.leak)?.push("밸런스: 중화-강측"),b[T.wealth]+=10,y.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(b[T.officer]+=6,y.get(T.officer)?.push("밸런스: 중화-강측")),b[T.resource]+=3,y.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(Z=>{const U=q9(o,f,Z,d);b[Z]=Ks(Math.round((b[Z]+U)*10)/10,0,999)});const D=f<50;["목","화","토","금","수"].forEach(Z=>{const U=d[Z]??0,et=D&&o===Z;if(U>=S0&&!et){const lt=Y9(U);b[Z]=Math.round(b[Z]*lt*10)/10;const ht=Math.min(14,Math.max(0,Math.ceil((U-S0)*.5)));ht>0&&(b[Z]=Ks(b[Z]-ht,0,999)),y.get(Z)?.push("강과 패널티(강화)")}});const $={목:[],화:[],토:[],금:[],수:[]};if(o){const Z=Xc[o],U=el[o],et=Vf(o),lt=o,ht=Bc[o];$[Z].push("식상"),$[U].push("재성"),$[et].push("관성"),$[lt].push("비겁"),$[ht].push("인성")}const I={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},j=Z=>{const U=d[Z]??0;return U>=S0&&!(D&&o===Z)?U>=55?4:U>=45?3:2:I[Z]?0:1},C=xx(s,new Map),k=_x(u,new Map),G=Sx(u,new Map),W=Object.keys(b).map(Z=>({element:Z,score:Math.round(b[Z]*10)/10,via:K9(Z,C,k,G),reasons:(y.get(Z)??[]).slice(),tenGodHints:$[Z]})).sort((Z,U)=>{const et=j(Z.element),lt=j(U.element);return et!==lt?et-lt:U.score!==Z.score?U.score-Z.score:Z.element.localeCompare(U.element)}),ot=F9(p,C,k,G),nt={비겁:0,식상:0,재성:0,관성:0,인성:0},tt=i?i.reduce((Z,U)=>(Z[U.name]=U.value,Z),{...nt}):void 0;return{chosenType:ot,ordered:W,debug:{band:p,overallPct:f,elementScore:u,tenGodTotals:tt,monthBranch:s??void 0}}}function K9(t,i,o,s){const u=[];return(i[t]??0)>0&&u.push("조후"),(o[t]??0)>0&&u.push("통관"),(s[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function F9(t,i,o,s){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=y=>Object.values(y).reduce((S,w)=>S+w,0),f=d(i),p=d(o),b=d(s);return f>Math.max(p,b)?"조후":p>=b?"통관":"병약"}const X9=Object.fromEntries(gr.천간.map((t,i)=>[t,$n[i]])),W9=Object.fromEntries($n.map((t,i)=>[t,gr.천간[i]])),Q9=Object.fromEntries(gr.지지.map((t,i)=>[t,Wn[i]])),J9=Object.fromEntries(Wn.map((t,i)=>[t,gr.지지[i]])),t5=t=>X9[t]??t,e5=t=>Q9[t]??t,n5=t=>W9[t]??t,r5=t=>J9[t]??t;function i5(t){const i={...t};for(const o of Object.keys(t)){const s=/[甲乙丙丁戊己庚辛壬癸]/.test(o)?t5(o):n5(o);s&&i[s]===void 0&&(i[s]=t[o])}return i}function $p(t){const i={...t};for(const o of Object.keys(t)){const s=/[子丑寅卯辰巳午未申酉戌亥]/.test(o)?e5(o):r5(o);s&&i[s]===void 0&&(i[s]=t[o])}return i}const a5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},o5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},D2={자:[{stem:"계",ratio:1,main:!0}],子:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],丑:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],寅:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],卯:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],辰:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],午:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],未:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],酉:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],戌:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}],亥:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},s5={...D2,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],寅:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],午:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Tx=i5(a5),Ex=$p(o5);$p(D2);$p(s5);const l5=["원국","대운","세운","월운","일운"],kr={2:4,1:3,3:2,0:1},Hs={1:4,2:3,0:2,3:1},j2=new Set(Object.keys(Bf)),k2=new Set(Object.keys(sp)),c5=t=>t.slice(0,1),u5=t=>t.slice(-1);function Fi(t){return Lf.has(t)?t:j2.has(t)?Bf[t]??t:t}function Dn(t){return op.has(t)?t:k2.has(t)?sp[t]??t:t}function $s(t){return Fi(c5(t))}function nn(t){return Dn(u5(t))}const Nt={year:0,month:1,day:2,hour:3};function w0(t,i){const o=Dn(t),s=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of s)if(nn(i[u])===o)return{pos:u,weight:kr[u]??0};return null}function Ip(t,i,o){return nn(i[o])===Dn(t)?{pos:o,weight:kr[o]}:null}function d5(t,i){const o=Fi(t),s=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of s)if($s(i[u])===o)return{pos:u,weight:kr[u]??0};return null}const f5=/^#(연지|월지|일지|시지)X\1_/,h5=t=>f5.test(t);function Mx(t){const i=new Map;for(const o of t){if(h5(o.name))continue;const s=`${o.name}@${o.pos}`,u=i.get(s);(!u||o.weight>u.weight)&&i.set(s,o)}return Array.from(i.values()).sort((o,s)=>s.weight!==o.weight?s.weight-o.weight:o.name.localeCompare(s.name,"ko"))}function Ld(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const $o=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",nl=t=>t==="dae"?"대운":t==="se"?"세운":t==="wol"?"월운":"일운",m5=(t,i)=>`#일간X${$o(i)}_${t}`,O2=(t,i)=>i===Nt.month?`#월지_${t}`:`#월지X${$o(i)}_${t}`,Up=(t,i,o)=>`#${$o(i)}X${$o(o)}_${t}`,p5=(t,i)=>`#${t==="day"?"일간":"연간"}X${$o(i)}_공망`,Nx=t=>`#일주_${t}`,Bd=(t,i)=>`#${$o(i)}_${t}`,ks=(t,i)=>`#일간X${nl(i)}_${t}`,pc=(t,i)=>`#월지X${nl(i)}_${t}`,T0=(t,i,o)=>`#${nl(i)}X${$o(o)}_${t}`,g5=(t,i)=>`#${i==="day"?"일간":"연간"}X${nl(t)}_공망`,b5=(t,i)=>`#${i==="day"?"일지":"연지"}X${nl(t)}_삼재`,Ax=(t,i)=>`#연지X${nl(t)}_${i}`;function y5(t){if(!t)return null;const i=Array.from(String(t));let o=null,s=null;for(const u of i)!o&&(Lf.has(u)||j2.has(u))&&(o=Fi(u)),(op.has(u)||k2.has(u))&&(s=Dn(u));return o&&s?{stem:o,branch:s}:null}function v5(t){return t.map(nn)}const Ge=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[Dn(i),(Array.isArray(o)?o:[o]).map(Dn)])),x5=Ge({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),C2=Ge({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),_5=Ge({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),S5=Ge({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),w5=Ge({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),L2=Ge({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),T5=Ge({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),E5=Ge({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),M5=Ge({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),N5=Ge({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),A5=Ge({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),B2=Ge({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),D5=Ge({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),j5=Ge({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),k5=Ge({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),O5=Ge({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),C5=Ge({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),L5=Ge({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),R2=Ge({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),B5=B2,R5=C2,P5=R2,z5=Ge({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),H5=L2,$5=Ge({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),I5=Ge({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),U5=Ge({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),P2=t=>(Array.isArray(t)?t:String(t).split("·")).map(i=>Dn(i.trim())).filter(Boolean),zr=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[Dn(i),(Array.isArray(o)?o:[o]).map(s=>Dn(s))])),Dx={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},jx={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},kx={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},Ox={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},G5=zr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),Cx=zr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),Kf=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[Dn(i),P2(o)])),Z5=Kf({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),Y5=Kf({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),q5=Kf({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),V5=Kf({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),K5=zr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),F5=zr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),X5=zr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),W5=zr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),Q5=zr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),Lx=zr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),J5=zr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),tk=zr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),ek=zr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),nk=zr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),Ze=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[Fi(i),P2(o)])),rk=Ze({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),Bx=Ze({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),ik=Ze({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),ak=Ze({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),ok=Ze({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),sk=Ze({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),lk=Ze({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),Rx=Ze({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),ck=Ze({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),uk=Ze({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),dk=Ze({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),fk=Ze({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),Px=Ze({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),hk=Ze({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),mk=Ze({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),zx=Ze({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),pk=Ze({갑:"인",정:"사",무:"신",신:"해"}),gk=Ze({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),Hx=Ze({정:"축·미",신:"묘·유",계:"사·해"}),$x=Ze({병:"자·오",무:"인·신",임:"진·술"}),bk=Ze({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),Ix=Ze({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),Ux=Ze({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),E0=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],M0=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],yk=new Set(["인미","미인","묘신","신문"]),Gx=[["술","해"],["진","사"]],vk=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function gc(t,i,o){const s=Dn(i),u=Dn(o);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return!0;return!1}function Zx(t,i,o){const s=Dn(i),u=Dn(o);for(const[d,f]of t)if(d===s&&f===u||d===u&&f===s)return`${d}${f}`;return`${s}${u}`}function Rd(t){for(const i of vk)if(i.set.has(t))return i.voids;return null}function N0(t){const i=Dn(t),o=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const s of o)if(s.group.has(i))return Array.from(s.years);return null}function Wc(t,i){t.push(i)}function A0(t,i,o,s,u=0){const d=Hs[o]>=Hs[s]?o:s,f=Up(i,o,s);t.push({name:f,weight:kr[d]+u,pos:d})}function ke(t,i,o,s,u){const d=nn(t[Nt.year]),f=i[d];if(!f)return;const p=o==="MONTH"?[Nt.month]:o==="DAY"?[Nt.day]:o==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of f)for(const y of p){const S=Ip(b,t,y);S&&Wc(u,{name:Up(s,Nt.year,y),weight:S.weight,pos:y})}}function Pd(t,i,o,s){const u=nn(t[Nt.month]),d=i[u];if(!d)return;const f=Fi(d),p=d5(f,t);p&&Wc(s,{name:O2(o,p.pos),weight:p.weight,pos:p.pos})}function dr(t,i,o,s,u="ALL"){const d=nn(t[Nt.month]),f=i[d];if(!f)return;const p=u==="YEAR"?[Nt.year]:u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:u==="DAY_HOUR"?[Nt.day,Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of f)for(const y of p){const S=Ip(b,t,y);if(!S)continue;const w=y===Nt.month?`#월지_${o}`:O2(o,y);Wc(s,{name:w,weight:S.weight,pos:y})}}function zd(t,i,o,s){const u=nn(t[Nt.month]),d=i[u];if(!d)return;const f=t[Nt.day];d.includes(f)&&Wc(s,{name:Up(o,Nt.month,Nt.day),weight:kr[Nt.day],pos:Nt.day})}function Oe(t,i,o,s,u){const d=$s(t[Nt.day]),f=i[d];if(!f)return;const p=u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of f)for(const y of p){const S=Ip(b,t,y);S&&Wc(s,{name:m5(o,y),weight:S.weight,pos:y})}}function _c({natal:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,basis:d}){const f=`원국 ${t.join(" · ")}`,p=$s(t[Nt.day]),b=nn(t[Nt.day]),y=nn(t[Nt.month]),S=nn(t[Nt.year]),w=v5(t),_=[],T=[],A=new Set(["경진","임진","경술","무술"]);if(ke(t,x5,"MONTH","태백",T),ke(t,C2,"DAY","오귀",T),ke(t,S5,"MONTH","고신",T),ke(t,w5,"MONTH","과숙",T),ke(t,T5,"ALL","수옥",T),ke(t,E5,"HOUR","단명",T),ke(t,M5,"ALL","천모",T),ke(t,N5,"ALL","지모",T),ke(t,A5,"ALL","대모",T),ke(t,B2,"ALL","소모",T),ke(t,D5,"ALL","격각",T),ke(t,j5,"ALL","파군",T),ke(t,k5,"ALL","구신",T),ke(t,O5,"ALL","교신",T),ke(t,C5,"ALL","반음",T),ke(t,L5,"ALL","복음",T),ke(t,R2,"ALL","병부",T),ke(t,B5,"ALL","사부",T),ke(t,R5,"ALL","관부",T),ke(t,P5,"ALL","태음",T),ke(t,z5,"ALL","세파",T),ke(t,H5,"ALL","천구",T),ke(t,$5,"ALL","비염",T),ke(t,I5,"ALL","매아",T),ke(t,U5,"ALL","탕화",T),Pd(t,Dx,"천덕귀인",_),Pd(t,jx,"월덕귀인",_),Pd(t,kx,"천덕합",_),Pd(t,Ox,"월덕합",_),dr(t,G5,"혈지",T,"ALL"),dr(t,Cx,"금쇄",T,"YEAR"),dr(t,Cx,"금쇄",T,"DAY"),zd(t,Z5,"천사",_),zd(t,Y5,"천전살",T),zd(t,q5,"지전살",T),zd(t,V5,"진신",T),dr(t,K5,"급각살",T,"ALL"),dr(t,F5,"단교관살",T,"ALL"),dr(t,X5,"부벽살",T,"ALL"),dr(t,W5,"욕분관살",T,"ALL"),dr(t,Q5,"사주관살",T,"ALL"),dr(t,Lx,"천의성",_,"ALL"),dr(t,J5,"천희신",_,"DAY_HOUR"),dr(t,tk,"황은대사",_,"DAY_HOUR"),dr(t,ek,"홍란성",_,"ALL"),dr(t,nk,"장수성",_,"ALL"),Oe(t,rk,"태극귀인",_,"ALL"),Oe(t,Bx,"천을귀인",_,"ALL"),Oe(t,ik,"천주귀인",_,"ALL"),Oe(t,ak,"천관귀인",_,"ALL"),Oe(t,ok,"천복귀인",_,"ALL"),Oe(t,sk,"문창귀인",_,"ALL"),Oe(t,lk,"암록",_,"ALL"),Oe(t,Rx,"금여록",_,"ALL"),Oe(t,ck,"협록",_,"ALL"),Oe(t,uk,"관귀학관",_,"ALL"),Oe(t,dk,"문곡귀인",_,"ALL"),Oe(t,fk,"학당귀인",_,"ALL"),Oe(t,Px,"홍염",T,"ALL"),Oe(t,hk,"유하",T,"ALL"),Oe(t,mk,"낙정관살",T,"ALL"),Oe(t,zx,"효신살",T,"DAY"),Oe(t,zx,"효신살",T,"HOUR"),Oe(t,Hx,"음착살",T,"DAY"),Oe(t,Hx,"음착살",T,"HOUR"),Oe(t,$x,"양착살",T,"DAY"),Oe(t,$x,"양착살",T,"HOUR"),Oe(t,pk,"고란살",T,"DAY"),Oe(t,gk,"비인살",T,"ALL"),Oe(t,bk,"재고귀인",_,"ALL"),Oe(t,Ix,"양인살",T,"ALL"),A.has(t[Nt.day])){T.push({name:Nx("괴강살"),weight:kr[Nt.day],pos:Nt.day});for(const H of[Nt.year,Nt.month,Nt.hour])t[H]===t[Nt.day]&&T.push({name:Bd("괴강살",H),weight:kr[H],pos:H})}const D=Ux[p];if(D)for(const H of[Nt.year,Nt.month,Nt.day,Nt.hour]){const X=$s(t[H]),Q=nn(t[H]);X===p&&D.includes(Q)&&T.push({name:Bd("백호대살",H),weight:kr[H],pos:H})}for(const[H,X]of Gx){const Q=w0(H,t),z=w0(X,t);Q&&z&&A0(T,"천라지망",Q.pos,z.pos)}{const H=new Set(["갑","신"]),X=new Set(["묘","오","미","신"]);for(let Q=0;Q<=3;Q++){const z=$s(t[Q]),Y=nn(t[Q]);(H.has(z)||X.has(Y))&&T.push({name:Bd("현침살",Q),weight:kr[Q],pos:Q})}}new Set(["갑진","을사","임신","병신","정해","경진","무술","계해","신사","기축"]).has(t[Nt.day])&&T.push({name:Nx("십악대패살"),weight:kr[Nt.day],pos:Nt.day});{const H=new Set(["을","기"]),X=new Set(["축","사"]);for(let Q=0;Q<=3;Q++){const z=$s(t[Q]),Y=nn(t[Q]);(H.has(z)||X.has(Y))&&T.push({name:Bd("곡각살",Q),weight:kr[Q],pos:Q})}}{const H=[[Nt.year,Nt.month],[Nt.year,Nt.day],[Nt.month,Nt.day],[Nt.month,Nt.hour],[Nt.day,Nt.hour]];for(const[X,Q]of H){const z=nn(t[X]),Y=nn(t[Q]);if(gc(E0,z,Y)){const F=Zx(E0,z,Y);A0(T,`${F}원진`,X,Q)}}}{const H=[[Nt.year,Nt.month,0],[Nt.month,Nt.day,1],[Nt.month,Nt.hour,0],[Nt.day,Nt.hour,0]];for(const[X,Q,z]of H){const Y=nn(t[X]),F=nn(t[Q]);if(gc(M0,Y,F)){const ct=Zx(M0,Y,F),bt=(z?1:0)+(yk.has(Y+F)?1:0);A0(T,`${ct}귀문`,X,Q,bt)}}}function $(H){const X=H.lastIndexOf("_");return X>=0?H.slice(X+1):H}const I=new Set(["현침살","곡각살"]);function j(H){return I.has(H)?!0:H.endsWith("원진")||H.endsWith("귀문")}function C(H){const X=new Map;for(const z of H){const Y=$(z.name);X.has(Y)||X.set(Y,[]),X.get(Y).push(z)}const Q=[];for(const[z,Y]of X)if(j(z))Q.push(...Y);else{const F=Y.sort((ct,bt)=>Hs[ct.pos]!==Hs[bt.pos]?Hs[bt.pos]-Hs[ct.pos]:bt.weight-ct.weight)[0];Q.push(F)}return Q}const k=Rd(t[Nt.day]),G=Rd(t[Nt.year]);{const H=(d?.voidBasis??"day")==="day"?k:G;if(H){const[X,Q]=H.map(Dn),z=[Nt.year,Nt.month,Nt.day,Nt.hour];for(const Y of z){const F=nn(t[Y]);(F===X||F===Q)&&T.push({name:p5(d?.voidBasis??"day",Y),weight:kr[Y],pos:Y})}}}const W=C(Mx(_)),ot=C(Mx(T)),nt={si:[],il:[],yeon:[],wol:[]},tt={si:[],il:[],yeon:[],wol:[]};for(const H of W)nt[Ld(H.pos)].push(H.name);for(const H of ot)tt[Ld(H.pos)].push(H.name);const Z=[],U=[],et=[],lt=[],ht=[],K=[],rt=[],ft=[];function st(H,X){H.includes(X)||H.push(X)}function R(H,X){const Q=y5(X);if(!Q)return;const z=Q.branch,Y=Q.stem;let F,ct;switch(H){case"dae":F=Z,ct=ht;break;case"se":F=U,ct=K;break;case"wol":F=et,ct=rt;break;case"il":F=lt,ct=ft;break;default:return}Fi(Dx[y])===Y&&st(F,pc("천덕귀인",H)),Fi(jx[y])===Y&&st(F,pc("월덕귀인",H)),Fi(kx[y])===Y&&st(F,pc("천덕합",H)),Fi(Ox[y])===Y&&st(F,pc("월덕합",H)),Lx[y]?.includes(z)&&st(F,pc("천의성",H)),Bx[p]?.includes(z)&&st(F,ks("천을귀인",H)),Rx[p]?.includes(z)&&st(F,ks("금여록",H)),Px[p]?.includes(z)&&st(ct,ks("홍염",H)),Ix[p]?.includes(z)&&st(ct,ks("양인살",H)),Ux[p]?.includes(z)&&st(ct,ks("백호대살",H)),H==="se"&&(_5[S]?.includes(z)&&st(ct,Ax(H,"상문살")),L2[S]?.includes(z)&&st(ct,Ax(H,"조객살")));for(const Mt of w)if(gc(Gx,z,Mt)){const Et=w0(Mt,t)?.pos;Et!==void 0&&st(ct,T0("천라지망",H,Et));break}new Set(["갑","신"]).has(p)&&new Set(["묘","오","미","신"]).has(z)&&st(ct,ks("현침살",H));const bt=(d?.voidBasis??"day")==="day"?k:G;bt&&(z===bt[0]||z===bt[1])&&st(ct,g5(H,d?.voidBasis??"day"));for(let Mt=0;Mt<=3;Mt++){const Et=nn(t[Mt]);gc(E0,z,Et)&&st(ct,T0("원진",H,Mt)),gc(M0,z,Et)&&st(ct,T0("귀문",H,Mt))}if(H==="se"){const Mt=(d?.samjaeBasis??"day")==="day"?b:S,Et=Mt?N0(Mt):null;Et&&Et.includes(z)&&st(ct,b5(H,d?.samjaeBasis??"day"))}}return R("dae",i??null),R("se",o??null),R("wol",s??null),R("il",u??null),{title:f,good:{si:[],il:[],yeon:[],wol:[],...(()=>{const H={si:[],il:[],yeon:[],wol:[]};for(const X of W)H[Ld(X.pos)].push(X.name);return H})(),dae:Z,se:U,wolun:et,ilun:lt},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const H={si:[],il:[],yeon:[],wol:[]};for(const X of ot)H[Ld(X.pos)].push(X.name);return H})(),dae:ht,se:K,wolun:rt,ilun:ft},meta:{voidPair:{day:Rd(t[Nt.day])??void 0,year:Rd(t[Nt.year])??void 0},samjaeYears:{day:N0(b)??void 0,year:N0(S)??void 0},currentBasis:{voidBasis:d?.voidBasis??"day",samjaeBasis:d?.samjaeBasis??"day"}}}}function xk(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function _k({items:t,source:i}){const o=t.length>0?t:["#없음"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((s,u)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+xk(s,i),children:s},`${i}-${u}-${s}`))})}function Yx({title:t,rows:i}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),i.map(o=>{const u=o.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[g.jsx("div",{className:u,children:o.label}),g.jsx(_k,{items:o.items.length>0?o.items:["#없음"],source:o.source})]},`${t}-${o.label}`)})]})}function Sk({pillars:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,tab:d="원국"}){const[f,p]=O.useState("일공망"),[b,y]=O.useState("일삼재"),S=O.useMemo(()=>({voidBasis:f==="일공망"?"day":"year",samjaeBasis:b==="일삼재"?"day":"year"}),[f,b]),w=O.useMemo(()=>_c({natal:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,basis:S}),[t,i,o,s,u,S]),{good:_,bad:T,meta:A}=w,N=nt=>nt.map(tt=>tt==="#없음"?tt:`원국 ${tt}`),D=(nt,tt)=>{const Z=["natal"];return tt==="원국"&&Z.push("natal"),tt==="대운"&&Z.push("natal","dae"),tt==="세운"&&Z.push("natal","dae","se"),tt==="월운"&&Z.push("natal","dae","se","wol"),tt==="일운"&&Z.push("natal","dae","se","wol","il"),nt.filter(U=>Z.includes(U.source))},$=[{label:"시주",items:N(_.si),source:"natal"},{label:"일주",items:N(_.il),source:"natal"},{label:"월주",items:N(_.wol),source:"natal"},{label:"연주",items:N(_.yeon),source:"natal"},{label:"대운",items:_.dae,source:"dae"},{label:"세운",items:_.se,source:"se"},{label:"월운",items:_.wolun,source:"wol"},{label:"일운",items:_.ilun,source:"il"}],I=[{label:"시주",items:N(T.si),source:"natal"},{label:"일주",items:N(T.il),source:"natal"},{label:"월주",items:N(T.wol),source:"natal"},{label:"연주",items:N(T.yeon),source:"natal"},{label:"대운",items:T.dae,source:"dae"},{label:"세운",items:T.se,source:"se"},{label:"월운",items:T.wolun,source:"wol"},{label:"일운",items:T.ilun,source:"il"}],j=D($,d),C=D(I,d),k=A.voidPair.day?`일공망(${A.voidPair.day.join("")})`:"일공망(—)",G=A.voidPair.year?`연공망(${A.voidPair.year.join("")})`:"연공망(—)",W=A.samjaeYears.day?`일삼재(${A.samjaeYears.day.join("·")})`:"일삼재(—)",ot=A.samjaeYears.year?`연삼재(${A.samjaeYears.year.join("·")})`:"연삼재(—)";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),g.jsxs("select",{value:f,onChange:nt=>p(nt.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일공망",children:k}),g.jsx("option",{value:"연공망",children:G})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),g.jsxs("select",{value:b,onChange:nt=>y(nt.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일삼재",children:W}),g.jsx("option",{value:"연삼재",children:ot})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(Yx,{title:"신(神)",rows:j}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(Yx,{title:"살(殺)",rows:C})]})]})}const Cr={year:0,month:1,day:2,hour:3},z2={[Cr.year]:.3,[Cr.month]:.5,[Cr.day]:.3,[Cr.hour]:.3},H2={[Cr.year]:.15,[Cr.month]:.2,[Cr.day]:0,[Cr.hour]:.15},wk=t=>op.has(t)?t:sp[t]??t,Tk=t=>Lf.has(t)?t:Bf[t]??t,Ek=t=>typeof t=="string"&&t.length>=2?wk(t.slice(-1)):"",Mk=t=>typeof t=="string"&&t.length>=1?Tk(t.slice(0,1)):"",Ve=(t,i,o,s)=>({han:t,nan:i,jo:o,seup:s}),Nk={해:Ve(2,0,.5,2),자:Ve(2,0,0,2),축:Ve(2,0,0,2),인:Ve(0,2,2,0),묘:Ve(0,2,2,0),진:Ve(0,2,1,2),사:Ve(0,2,2,.5),오:Ve(0,2,2,0),미:Ve(0,2,2,1),신:Ve(2,0,0,2),유:Ve(2,0,0,2),술:Ve(2,0,1,1)},Ak={갑:Ve(0,1,1,0),을:Ve(0,1,1,0),병:Ve(0,2,2,0),정:Ve(0,2,2,0),무:Ve(0,0,1,0),기:Ve(0,0,0,1),경:Ve(1,0,0,1),신:Ve(1,0,0,1),임:Ve(2,0,0,2),계:Ve(2,0,0,2)},qx=t=>Math.max(0,Math.min(100,t));function Vx(t,i){const o=Math.max(0,t),s=Math.max(0,i),u=o+s;return u<=0?50:s/u*100}function Dk(t){let i=0,o=0,s=0,u=0;return[Cr.year,Cr.month,Cr.day,Cr.hour].forEach(d=>{const f=Nk[Ek(t[d])],p=Ak[Mk(t[d])],b=z2[d],y=H2[d];b>0&&f&&(i+=f.han*b,o+=f.nan*b,s+=f.jo*b,u+=f.seup*b),y>0&&p&&(i+=p.han*y,o+=p.nan*y,s+=p.jo*y,u+=p.seup*y)}),{han:i,nan:o,jo:s,seup:u}}function jk(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map(o=>typeof o=="string"?o:"")}function kk(t){const i=jk(t);return O.useMemo(()=>{const{han:o,nan:s,jo:u,seup:d}=Dk(i),f=Vx(o,s),p=Vx(d,u);return{hanNanPct:qx(f),joSeupPct:qx(p),raw:{han:o,nan:s,jo:u,seup:d},weights:{branch:z2,stem:H2}}},[i])}function Kx({label:t,percent:i,leftHint:o,midHint:s,rightHint:u}){const d=O.useMemo(()=>Math.max(0,Math.min(100,i)),[i]),f=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:o}),g.jsx("span",{children:s}),g.jsx("span",{children:u})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[f.map(p=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${p}%`},title:`${p}%`},p)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function Ok({natal:t}){const{hanNanPct:i,joSeupPct:o}=kk(t);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Kx,{label:"한난",percent:i,leftHint:"한",midHint:"중화",rightHint:"난"}),g.jsx(Kx,{label:"조습",percent:o,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const Ck=Object.fromEntries(gr.천간.map((t,i)=>[t,$n[i]])),Lk=Object.fromEntries($n.map((t,i)=>[t,gr.천간[i]])),Bk=Object.fromEntries(gr.지지.map((t,i)=>[t,Wn[i]])),Rk=Object.fromEntries(Wn.map((t,i)=>[t,gr.지지[i]])),Pk=t=>Ck[t]??t,zk=t=>Bk[t]??t,Hk=t=>Lk[t]??t,$k=t=>Rk[t]??t;function $2(t){const i={...t};for(const o of Object.keys(t)){if(o.length<2)continue;const s=o.charAt(0),u=o.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(s)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${Pk(s)}${zk(u)}`:`${Hk(s)}${$k(u)}`;i[d]===void 0&&(i[d]=t[o])}return i}const I2={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},Ik={...I2,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},Uk=$2(I2),Gk=$2(Ik),Zk={목:"화",화:"토",토:"금",금:"수",수:"목"},Yk={화:"목",토:"화",금:"토",수:"금",목:"수"},qk={목:"토",화:"금",토:"수",금:"목",수:"화"},Vk={목:"금",화:"수",토:"목",금:"화",수:"토"},Kk={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Fk={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Xk=t=>Kk[t]??t,Wk=t=>Fk[t]??t;function Qk(t){return!t||t.length<2?"":`${Xk(t[0])}${Wk(t[1])}`}const Jk=t=>t&&t.length>=1?t[0]:"",t4=t=>t&&t.length>=2?t[1]:"";function e4(t){return{비겁:t,식상:Zk[t],인성:Yk[t],재성:qk[t],관성:Vk[t]}}const n4={갑:["인","寅","묘","卯","자","子","해","亥"],을:["인","寅","묘","卯","자","子","해","亥"],병:["인","寅","묘","卯","오","午","사","巳"],정:["인","寅","묘","卯","오","午","사","巳"],무:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],기:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],경:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],신:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],임:["신","申","유","酉","해","亥","자","子"],계:["신","申","유","酉","해","亥","자","子"]};function U2(t,i){const o=(t??[]).slice(0,4).map(Qk);if(o.length!==4||o.some(_=>_.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"목"};const s=Jk(o[2]),u=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=o.map(_=>t4(_)),f={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},p=n4[s]??[],b=d[1];p.includes(b)&&(f.비겁.령=!0,f.인성.령=!0);const y=d[2];p.includes(y)&&(f.비겁.지=!0,f.인성.지=!0);const S=e4(u).비겁,w=i[S]??0;return f.비겁.세=w>=30,{flags:f,monthBranch:b,dayEl:u}}const r4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},i4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},a4={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},o4={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},s4=t=>r4[t]??t,l4=t=>i4[t]??t;function c4(t){return!t||t.length<2?"":`${s4(t[0])}${l4(t[1])}`}function ko(t){return Tx[t]??Tx[a4[t]??""]}function Oo(t){return Ex[t]??Ex[o4[t]??""]}const D0=["year","month","day","hour"],u4={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},d4={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},f4=new Set(["을","정","기","신","계"]),h4=new Set(["자","인","진","오","신","술"]),m4=new Set(["사","오","자","해"]),j0=t=>f4.has(t)?"음":"양",k0=t=>{const i=h4.has(t)?"양":"음";return m4.has(t)?i==="양"?"음":"양":i};function Fx(t){const i=t.reduce((p,b)=>p+b,0);if(i<=0)return t.map(()=>0);const o=t.map(p=>p*100/i),s=o.map(p=>Math.floor(p+.5)),u=100-s.reduce((p,b)=>p+b,0);if(u===0)return s;const d=o.map((p,b)=>({i:b,frac:p-Math.floor(p+.5)})).sort((p,b)=>b.frac-p.frac),f=s.slice();if(u>0)for(let p=0;p<u;p++)f[d[p].i]+=1;else for(let p=0;p<-u;p++)f[d[d.length-1-p].i]-=1;return f}function p4(t,i){return t===0?i?1:.8:t===1?i?.6:.5:i?.3:.2}const Hd={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},Af={목:"화",화:"토",토:"금",금:"수",수:"목"},G2={화:"목",토:"화",금:"토",수:"금",목:"수"},Rc={목:"토",화:"금",토:"수",금:"목",수:"화"},g4={토:"목",금:"화",수:"토",목:"금",화:"수"};function $d(t,i){return t===i?"왕":Af[i]===t?"상":Af[t]===i?"휴":Rc[t]===i?"수":Rc[i]===t?"사":"휴"}const Ga=t=>t&&t.length>=1?t[0]:"",Co=t=>t&&t.length>=2?t[1]:"";function b4(t,i){const o=t.reduce((b,y)=>b+y,0);if(o<=0||i<=0)return new Array(t.length).fill(0);const s=t.map(b=>b/o*i),u=s.map(b=>Math.floor(b));let d=i-u.reduce((b,y)=>b+y,0);const f=s.map((b,y)=>({i:y,frac:b-Math.floor(b)})).sort((b,y)=>y.frac-b.frac),p=u.slice();for(let b=0;b<f.length&&d>0;b++)p[f[b].i]+=1,d-=1;return p}function Xx(t,i){switch(t){case"비겁":return i;case"식상":return Af[i];case"재성":return Rc[i];case"관성":return g4[i];case"인성":return G2[i];default:return i}}function Z2(t){const{pillars:i,dayStem:o,mode:s,debug:u,useHarmonyOverlay:d,criteriaMode:f,luck:p}=t,b=f==="modern"?u4:d4,y=s==="classic"?Gk:Uk,S={목:0,화:0,토:0,금:0,수:0},w={},_={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},T=(i??[]).slice(0,4).map(c4);if(!(T.length===4&&T[0]&&T[0].length>=2&&T[1]&&T[1].length>=2&&T[2]&&T[2].length>=2))return{totals:["비겁","식상","재성","관성","인성"].map(Y=>({name:Y,value:0,color:"#999999"})),perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},elementScoreRaw:S,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{목:0,화:0,토:0,금:0,수:0}};const N=Ga(T[2]),D=o??N,$=D==="갑"||D==="을"?"목":D==="병"||D==="정"?"화":D==="무"||D==="기"?"토":D==="경"||D==="신"?"금":"수",I=[{val:0},{val:0},{val:0},{val:0}],j=[[],[],[],[]];for(const z of T){if(!z)continue;const Y=z.charAt(0),F=z.charAt(1);w[Y]=(w[Y]??0)+50;const ct=_[F];ct&&(w[ct]=(w[ct]??0)+50)}for(let z=0;z<4;z++){const Y=T[z];if(!Y||Y.length<2)continue;const F=D0[z],ct=Ga(Y),bt=Co(Y),Mt=b[F],Et=ko(ct);Et&&(S[Et]+=Mt.stem,I[z]={stem:ct,el:Et,pol:j0(ct),val:Mt.stem});const Lt=Oo(bt);Lt&&(S[Lt]+=Mt.branch,j[z].push({el:Lt,pol:k0(bt),val:Mt.branch}))}for(let z=0;z<4;z++){const Y=T[z];if(!Y||Y.length<2)continue;const F=D0[z],ct=y[Y]??0;if(ct===0)continue;const bt=Ga(Y),Mt=ko(bt);if(!Mt)continue;const Et=b[F].stem*ct;S[Mt]+=Et,I[z].val+=Et}for(let z=0;z<4;z++){const Y=T[z];if(!Y||Y.length<2)continue;const F=Co(Y),ct=Oo(F);if(!ct)continue;const bt=b[D0[z]].branch,Mt=k0(F);let Et=0;const Lt=[z];z-1>=0&&Lt.push(z-1),z+1<=3&&Lt.push(z+1),z-2>=0&&Lt.push(z-2),z+2<=3&&Lt.push(z+2);const Dt=Array.from(new Set(Lt));for(const St of Dt){if(!T[St]||T[St].length<2)continue;const kt=Ga(T[St]),It=ko(kt);if(!It||It!==ct)continue;const ee=j0(kt)===Mt,$t=Math.abs(St-z),Xt=p4($t,ee);Et+=bt*Xt}Et!==0&&(S[ct]+=Et,j[z].push({el:ct,pol:Mt,val:Et}))}for(let z=0;z<4;z++){const Y=T[z];if(!Y||Y.length<2)continue;const F=Ga(Y),ct=ko(F);if(!ct)continue;let bt=0;const Mt=Co(T[z]),Et=Oo(Mt);Et&&(bt+=Hd[$d(ct,Et)]);const Lt=z===0?[1]:z===3?[2]:[z-1,z+1];for(const St of Lt){const kt=Ga(T[St]),It=ko(kt);It&&(bt+=Hd[$d(ct,It)])}const Dt=I[z].val;if(Dt!==0&&bt!==0){const St=Math.round(Dt*(1+bt)*10)/10,kt=St-Dt;S[ct]+=kt,I[z].val=St}}for(let z=0;z<4;z++){const Y=T[z];if(!Y||Y.length<2)continue;const F=Co(Y),ct=Oo(F);if(!ct)continue;let bt=0;const Mt=Ga(T[z]),Et=ko(Mt);Et&&(bt+=Hd[$d(ct,Et)]);const Lt=z===0?[1]:z===3?[2]:[z-1,z+1];for(const St of Lt){if(!T[St]||T[St].length<2)continue;const kt=Co(T[St]),It=Oo(kt);It&&(bt+=Hd[$d(ct,It)])}const Dt=j[z].reduce((St,kt)=>St+kt.val,0);if(Dt!==0&&bt!==0){const kt=Math.round(Dt*(1+bt)*10)/10-Dt;S[ct]+=kt,j[z].length>0&&(j[z][0].val+=kt)}}d&&A9(T,S);const C={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},k=[];function G(z,Y){const F=z?Yt(z):"";if(!F||F.length<2)return;const ct=Ga(F),bt=Co(F),Mt=ko(ct),Et=Oo(bt),Lt=Math.max(1,(S.목??0)+(S.화??0)+(S.토??0)+(S.금??0)+(S.수??0)),Dt=C[Y];if(Mt){const St=Math.round(Lt*Dt.stem);S[Mt]+=St,k.push({stem:ct,el:Mt,pol:j0(ct),val:St})}if(Et){const St=Math.round(Lt*Dt.branch);S[Et]+=St,k.push({el:Et,pol:k0(bt),val:St})}}p&&p.tab!=="원국"&&(G(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운"||p.tab==="일운")&&G(p.se,"se"),(p.tab==="월운"||p.tab==="일운")&&G(p.wol,"wol"),p.tab==="일운"&&G(p.il,"il"));const W={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(S).forEach(([z,Y])=>{const F=et(z,$);W[F]+=Y});const ot=["비겁","식상","재성","관성","인성"],nt=Fx(ot.map(z=>W[z])),tt=N2(D),Z=ot.map((z,Y)=>({name:z,value:nt[Y],color:tt[z]})),U={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function et(z,Y){return z===Y?"비겁":Af[Y]===z?"식상":Rc[Y]===z?"재성":Rc[z]===Y?"관성":G2[Y]===z?"인성":"비겁"}function lt(z,Y){switch(et(z,$)){case"비겁":U.비견+=Y*.5,U.겁재+=Y*.5;break;case"식상":U.식신+=Y*.5,U.상관+=Y*.5;break;case"재성":U.정재+=Y*.5,U.편재+=Y*.5;break;case"관성":U.정관+=Y*.5,U.편관+=Y*.5;break;case"인성":U.정인+=Y*.5,U.편인+=Y*.5;break}}Object.entries(S).forEach(([z,Y])=>{Y>0&&lt(z,Y)});const ht={비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}};for(const z of ot){const Y=Z.find(Lt=>Lt.name===z)?.value??0,F=ht[z].a,ct=ht[z].b,bt=U[F]??0,Mt=U[ct]??0,Et=bt+Mt;if(Et>0){const Lt=Math.floor(Y*bt/Et+.5),Dt=Y-Lt;ht[z].aVal=Lt,ht[z].bVal=Dt}else ht[z].aVal=Math.floor(Y/2+.5),ht[z].bVal=Y-ht[z].aVal}const{flags:K}=U2(T,S),rt={};I.forEach(z=>{if(z.stem&&z.el&&z.val){const Y=`${z.stem}${z.el}`;rt[Y]=(rt[Y]??0)+z.val}});for(let z=0;z<4;z++){const Y=T[z];if(!Y||Y.length<2)continue;const F=Co(Y),ct=_[F],bt=Oo(F);if(!ct||!bt)continue;const Mt=`${ct}${bt}`,Et=j[z].reduce((Lt,Dt)=>Lt+Dt.val,0);rt[Mt]=(rt[Mt]??0)+Et}const ft=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],st={};ft.forEach(z=>{st[z]=0}),ot.forEach(z=>{const Y=Z.find(Dt=>Dt.name===z)?.value??0,F=Xx(z,$),ct=Object.entries(rt).filter(([Dt])=>Dt.endsWith(F)),bt=ct.map(([Dt])=>Dt),Mt=ct.map(([,Dt])=>Dt),Et=Math.max(0,Math.round(Y*10)),Lt=b4(Mt.length?Mt:[1,1],Et);if(bt.length===2)st[bt[0]]=(Lt[0]??Math.round(Et/2))/10,st[bt[1]]=(Lt[1]??Et-(Lt[0]??0))/10;else if(bt.length===1)st[bt[0]]=Et/10;else{const Dt=F==="목"?["갑목","을목"]:F==="화"?["병화","정화"]:F==="토"?["무토","기토"]:F==="금"?["경금","신금"]:["임수","계수"],St=Math.floor(Et/2),kt=Et-St;st[Dt[0]]+=St/10,st[Dt[1]]+=kt/10}});const R=["목","화","토","금","수"],H={목:0,화:0,토:0,금:0,수:0};for(const z of Z){const Y=Xx(z.name,$);H[Y]+=z.value}const X=Fx(R.map(z=>H[z])),Q={목:X[0],화:X[1],토:X[2],금:X[3],수:X[4]};return u&&console.log({elementScore:S,totals:Z,perTenGod:ht,perStemRaw:rt,perStemElementScaled:st,elementPercent100:Q}),{totals:Z,perTenGod:ht,stemScoreRaw:w,elementScoreRaw:S,deukFlags:K,perStemElement:rt,perStemElementScaled:st,elementPercent100:Q}}function y4(t){const i=t.reduce((p,b)=>p+b,0);if(i<=0)return t.map(()=>0);const o=t.map(p=>p*100/i),s=o.map(p=>Math.round(p));let d=100-s.reduce((p,b)=>p+b,0);const f=o.map((p,b)=>({i:b,f:p-Math.round(p)})).sort((p,b)=>b.f-p.f);for(let p=0;p<f.length&&d>0;p++)s[f[p].i]+=1,d-=1;return s}const Wx=["목","화","토","금","수"];function v4(t,i){const o=[Yt(t[0]??""),Yt(t[1]??""),Yt(t[2]??""),Yt(t[3]??"")],{elementScoreRaw:s}=Z2({pillars:o,criteriaMode:i?.criteriaMode??"modern",useHarmonyOverlay:i?.useHarmonyOverlay??!0,luck:void 0}),u=Wx.map(p=>s[p]??0),d=y4(u),f={목:0,화:0,토:0,금:0,수:0};return Wx.forEach((p,b)=>{f[p]=d[b]}),f}function Y2(t,i){const o=v4(t,i),s=Yt(t[2]??"").charAt(0),d={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수",甲:"목",乙:"목",丙:"화",丁:"화",戊:"토",己:"토",庚:"금",辛:"금",壬:"수",癸:"수"}[s];if(!d)return 0;const f={화:"목",토:"화",금:"토",수:"금",목:"수"},p=o[d]??0,b=o[f[d]]??0;return p+b*.7}const Gp={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},x4={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},_4=["갑","병","무","경","임"],S4={목:"화",화:"토",토:"금",금:"수",수:"목"},w4={화:"목",토:"화",금:"토",수:"금",목:"수"},T4={목:"토",화:"금",토:"수",금:"목",수:"화"},E4={토:"목",금:"화",수:"토",목:"금",화:"수"};function Qx(t){return _4.includes(t)}function Jx(t,i,o){const s=Gp[t];if(!s)return"비견";let u;if(i===s?u="비견":i===S4[s]?u="식신":i===T4[s]?u="정재":i===E4[s]?u="정관":i===w4[s]?u="정인":u="비견",o){const d=Qx(t)===Qx(o);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"정재":return d?"정재":"편재";case"정관":return d?"정관":"편관";case"정인":return d?"정인":"편인"}}return u}function M4(t,i){const o={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const s of t){if(!s)continue;const u=s.charAt(0),d=s.charAt(1),f=Gp[u];if(f){const b=Jx(i,f,u);o[b]+=10}const p=x4[d];if(p){const b=Jx(i,p);o[b]+=6}}return o}function q2(t){const{natal:i,tab:o,chain:s,hourKey:u="unified"}=t,d=[Yt(i[0]??""),Yt(i[1]??""),Yt(i[2]??""),Yt(i[3]??"")],f=d[2]?.charAt(0)??"",p=Gp[f]??null,{hiddenStemMode:b,hiddenStem:y}=Y0,S=b==="classic"?"classic":"hgc",w=s?{tab:o,dae:s.dae?Yt(s.dae):void 0,se:(o==="세운"||o==="월운"||o==="일운")&&s.se?Yt(s.se):void 0,wol:(o==="월운"||o==="일운")&&s.wol?Yt(s.wol):void 0,il:o==="일운"&&s.il?Yt(s.il):void 0}:{tab:o},_=Z2({pillars:d,dayStem:f,mode:S,criteriaMode:"modern",useHarmonyOverlay:!0,luck:w}),T=M4(d,f);return{..._,dayStem:f,dayEl:p,perTenGodSub:T,pillars:d}}const Is={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Us={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Fs={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},V2={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Id={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},N4=["갑","병","무","경","임"];function t_(t){return N4.includes(t)}const A4={목:"화",화:"토",토:"금",금:"수",수:"목"},D4={목:"토",화:"금",토:"수",금:"목",수:"화"},j4={토:"목",금:"화",수:"토",목:"금",화:"수"},k4={화:"목",토:"화",금:"토",수:"금",목:"수"};function Pc(t){if(!t)return null;const i=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(i))return i;if(Is[i])return Is[i];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(i))return Id[i]??null;if(Us[i])return Id[Us[i]]??null;const o=i.charAt(0);return Is[o]?Is[o]:["갑","을","병","정","무","기","경","신","임","계"].includes(o)?o:Us[o]?Id[Us[o]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(o)?Id[o]??null:null}function O4(t,i){const o=Fs[t],s=Fs[i];if(!o||!s)return"비견";let u;s===o?u="비견":s===A4[o]?u="식신":s===D4[o]?u="편재":s===j4[o]?u="편관":s===k4[o]?u="편인":u="비견";const d=t_(t)===t_(i);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function C4(t){switch(t){case"비견":case"겁재":return"비겁";case"식신":case"상관":return"식상";case"정재":case"편재":return"재성";case"정관":case"편관":return"관성";case"정인":case"편인":return"인성"}}function Qc(t){const i=Object.entries(t),o=i.reduce((y,[,S])=>y+(S>0?S:0),0);if(o<=0)return Object.fromEntries(i.map(([y])=>[y,0]));const s=i.map(([y,S])=>[y,(S>0?S:0)*100/o]),u=s.map(([y,S])=>[y,Math.round(S)]);let d=u.reduce((y,[,S])=>y+S,0);const f=s.map(([y,S])=>[y,S-Math.round(S)]).sort((y,S)=>S[1]-y[1]),p=Object.fromEntries(u.map(([y,S])=>[y,S]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}function L4(t){const i={목:0,화:0,토:0,금:0,수:0};for(const[o,s]of Object.entries(t??{})){const u=Fs[Pc(o)];u&&s>0&&(i[u]+=s)}return Qc(i)}function B4(t,i){const o={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=Pc(s);if(!d)continue;const f=O4(i,d);o[f]+=u}return Qc(o)}function R4(t){const i={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const[o,s]of Object.entries(t)){const u=C4(o);i[u]+=s}return Qc(i)}function O0(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const s=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return s?`${Is[s[1]]}${Us[s[2]]}`:""}function e_(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map((o,s)=>{if(!o)return"";const u=o.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${Is[f[1]]}${Us[f[2]]}`:s<=2?"--":""})}function P4(t,i){const o={목:!1,화:!1,토:!1,금:!1,수:!1};for(const s of t){if(!s)continue;const u=Fs[s.charAt(0)];u&&(o[u]=!0);{const d=V2[s.charAt(1)];d&&(o[d]=!0)}}return o}function z4(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const s=Fs[o.charAt(0)],u=V2[o.charAt(1)];s&&(i[s]+=10),u&&(i[u]+=6)}return i}function Ud(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}const H4=["갑","을","병","정","무","기","경","신","임","계"];function $4(t){const i={};for(const[o,s]of Object.entries(t??{})){if(s<=0)continue;const u=Pc(o);u&&(i[u]=(i[u]??0)+s)}return i}function I4(t){const o={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of H4){const u=Fs[s],d=`${s}${u}`;o[d]=Math.max(0,Math.round(t[s]??0))}return o}const U4={natal:50,dae:30,se:20,wol:7,il:3};function G4(t){const i={};for(const{kind:s,bare:u}of t){const d=U4[s]??0;if(d<=0)continue;const f=Qc(u);for(const[p,b]of Object.entries(f))i[p]=(i[p]??0)+b*d}const o=Object.values(i).reduce((s,u)=>s+u,0);if(o>0)for(const s of Object.keys(i))i[s]=i[s]/o*100;return i}function Z4(t){if(!t)return[];const i=Pc(t.charAt(0)),o=Pc(t.charAt(1));return[i,o].filter(Boolean)}function Gd(t){const i=Z4(t),o={};for(const s of i)o[s]=(o[s]??0)+1;return o}function Y4({data:t,pillars:i,lunarPillars:o,daewoonGz:s}){const[u,d]=O.useState("일간 · 오행 강약"),[f,p]=O.useState("원국"),[b,y]=O.useState(!0),{date:S,yearGZ:w,monthGZ:_,dayGZ:T}=In(),A=O.useMemo(()=>Yt(w),[w]),N=O.useMemo(()=>Yt(_),[_]),D=O.useMemo(()=>Yt(T),[T]),$=qc(t,t?.mingSikType),I=O.useMemo(()=>{if(!$?.length)return 0;const St=$.findIndex((kt,It)=>{const ee=$[It+1]?.at;return S>=kt.at&&(!ee||S<ee)});return St!==-1?St:S<$[0].at?0:$.length-1},[$,S]),j=O.useMemo(()=>{const St=s??$?.[I]?.gz??"";return Yt(St)||null},[s,$,I]),{manualHour:C}=$c(),k=t.mingSikType??"야자시",G=O.useMemo(()=>e_(i),[i]),W=O.useMemo(()=>e_(o),[o]),ot=O.useMemo(()=>{const St=[...G];return(!St[3]||St[3]==="")&&C&&(St[3]=C.stem+C.branch),St},[G,C]),nt=O.useMemo(()=>{const St=[...W];return(!St[3]||St[3]==="")&&C&&(St[3]=C.stem+C.branch),St},[W,C]),tt=O.useMemo(()=>{const St=Number(t.birthDay?.slice(0,4)),kt=Number(t.birthDay?.slice(4,6)),It=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(St)||!Number.isFinite(kt)||!Number.isFinite(It))return null;const ee=new Date(St,kt-1,It,12,0,0,0),$t=O0(oe(ee)||""),Xt=O0(Se(ee)||""),xt=O0(ae(ee,k)||"");return[$t,Xt,xt,""]},[t.birthDay,k]),Z=Ud(ot),U=Ud(nt),[et]=O.useState("solar"),lt=et==="lunar"?U?"lunar":Z?"solar":"lunar":Z?"solar":U?"lunar":"solar",ht=O.useMemo(()=>{const kt=[...lt==="lunar"?U?nt:Z?ot:tt??["","","",""]:Z?ot:U?nt:tt??["","","",""]];return(!kt[3]||kt[3]==="")&&C&&(kt[3]=C.stem+C.branch),kt},[lt,Z,U,ot,nt,tt,C]),K=O.useMemo(()=>C?C.stem+C.branch:ht[3]||"",[C,ht]),rt=O.useMemo(()=>({dae:f!=="원국"?j??null:null,se:f==="세운"||f==="월운"||f==="일운"?A??null:null,wol:f==="월운"||f==="일운"?N??null:null,il:f==="일운"?D??null:null}),[f,j,A,N,D]),ft=O.useMemo(()=>Ud(ht)?q2({natal:ht,tab:f,chain:rt,hourKey:K}):null,[ht,f,rt,K]),st=O.useMemo(()=>{if(!ft)return null;const St=$4(ft.perStemElementScaled),kt=rt.dae?Gd(rt.dae):{},It=rt.se?Gd(rt.se):{},ee=rt.wol?Gd(rt.wol):{},$t=rt.il?Gd(rt.il):{},Xt=G4([{kind:"natal",bare:St},{kind:"dae",bare:kt},{kind:"se",bare:It},{kind:"wol",bare:ee},{kind:"il",bare:$t}]),xt=Qc(Xt),Bt=I4(xt),vt=B4(Xt,ft.dayStem),de=R4(vt),He=L4(Xt);return{perStemAugBare:Xt,perStemAugFull:Bt,elemPct100:He,totalsMain:de,totalsSub:vt}},[ft,rt]),R=O.useMemo(()=>P4(ht),[ht]),H=O.useMemo(()=>["목","화","토","금","수"].some(St=>!R[St]),[R]),X=st?.elemPct100??ft?.elementPercent100??z4(ht),Q=O.useMemo(()=>{if(!ft||!st)return[];const St=N2(ft.dayStem);return Object.entries(st.totalsMain).map(([kt,It])=>({name:kt,value:It,color:St[kt]}))},[ft,st]),z=st?.elemPct100??{목:0,화:0,토:0,금:0,수:0},Y=st?.totalsSub??null,F=O.useMemo(()=>C?C.stem+C.branch:ht[3]||"",[C,ht]),ct=O.useMemo(()=>[f,j??"",A??"",N??"",D??"",S?.toISOString?.()??"",F].join("|"),[f,j,A,N,D,S,F]),bt=O.useMemo(()=>{const St=Y?Object.entries(Y).sort(([It],[ee])=>It.localeCompare(ee)).map(([It,ee])=>`${It}:${ee}`).join(","):"none",kt=Q.map(It=>`${It.name}:${It.value}`).join(",");return`${ct}||${ht.join("")}||${kt}||${St}`},[ct,ht,Q,Y]),Mt=typeof wx=="function"?wx(ht,ft?.totals):null,Et=O.useMemo(()=>{const kt=(Mt?.ordered??[]).map($t=>{const Xt=$t.element??"",xt=/목|木|wood/i.test(Xt)?"목":/화|火|fire/i.test(Xt)?"화":/토|土|earth/i.test(Xt)?"토":/금|金|metal/i.test(Xt)?"금":/수|水|water/i.test(Xt)?"수":null,Bt=typeof $t.score=="number"?$t.score:xt?X[xt]??0:0,vt=Array.isArray($t.reasons)?$t.reasons:[];return{element:Xt,elNorm:xt,score:Bt,reasons:vt}}),It=$t=>$t?R[$t]:!1,ee=b?kt.map($t=>$t.elNorm&&!It($t.elNorm)?{...$t,score:0,reasons:[...$t.reasons,"부재후순위: 원국 부재 → 0점"]}:$t):kt;return ee.sort(($t,Xt)=>{const xt=It($t.elNorm)?1:0,Bt=It(Xt.elNorm)?1:0;return b&&xt!==Bt?Bt-xt:(Xt.score??0)!==($t.score??0)?(Xt.score??0)-($t.score??0):($t.elNorm??$t.element).localeCompare(Xt.elNorm??Xt.element)}),ee},[Mt,b,X,R]),Lt=O.useMemo(()=>Math.max(0,...Et.map(St=>Number.isFinite(St.score)?St.score:0)),[Et]);function Dt(St){return Y2(St,{criteriaMode:"modern",useHarmonyOverlay:!0})}return Ud(ht)?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:l5.map(St=>g.jsx("button",{onClick:()=>p(St),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(f===St?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:St},St))}),g.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(St=>g.jsx("button",{onClick:()=>d(St),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(u===St?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:St},St))}),u==="형충회합"&&g.jsx(j9,{pillars:ht,daewoon:j||void 0,sewoon:A||void 0,wolwoon:N||void 0,ilwoon:D||void 0,tab:f},`harm-${f}-${F}`),u==="일간 · 오행 강약"&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(y9,{data:Q,revKey:bt,perStemElementScaled:st?.perStemAugFull,elementPercent:z,dayStem:ht[2]?.charAt(0)??null},`pentagon-${bt}`),g.jsx(_9,{value:Dt(ht)}),g.jsx(Ok,{natal:ht}),g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),H&&g.jsxs("button",{type:"button",onClick:()=>y(St=>!St),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${b?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":b,children:["부재후순위: ",b?"ON":"OFF"]})]}),g.jsx("ul",{className:"space-y-2",children:Et.map((St,kt)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[kt+1,"위"]}),g.jsx("span",{className:"text-sm font-semibold",children:St.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${Lt>0?Math.max(2,Math.min(100,Math.round((St.score??0)/Lt*100))):12}%`},title:`점수 ${St.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(St.reasons??[]).map((It,ee)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:It},ee))})]})]},St.elNorm??St.element))})]})]}),u==="신살"&&g.jsx(Sk,{pillars:ht,daewoon:j||void 0,sewoon:A||void 0,wolwoon:N||void 0,ilwoon:D||void 0,tab:f},`shin-${f}-${F}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."})}const q4=!1,n_=t=>t<10?`0${t}`:`${t}`,V4=t=>typeof t=="string"&&t.length>=2,K4=t=>Array.isArray(t)&&t.length===4&&t.every(V4);function F4(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",s=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),f=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const y of p){const S=i[y];if(typeof S=="boolean"){b=S;break}if(typeof S=="number"){b=S===1;break}if(typeof S=="string"){b=S==="1"||S.toLowerCase()==="true";break}}if(s==="lunar")try{const y=Rr(u,d,f,0,0),S=`${y.getFullYear()}${n_(y.getMonth()+1)}${n_(y.getDate())}`;return{...t,birthDay:S,calendarType:"solar"}}catch{return t}return t}function X4({data:t}){const[i,o]=O.useState("un"),s=O.useMemo(()=>{try{const p=F4(t);return Vc(p)}catch{return new Date}},[t]),u=O.useMemo(()=>Kc(t,s),[t,s]),d=!t.birthTime||t.birthTime==="모름",f=O.useMemo(()=>{try{const p=oe(u,t.birthPlace?.lon),b=Se(u,t.birthPlace?.lon),y=ae(u,t.mingSikType),S=d?"":Pr(u,t.mingSikType);return[p,b,y,S]}catch{return[]}},[u,t?.mingSikType,t?.birthPlace?.lon,d]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>o("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),g.jsx("button",{onClick:()=>o("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),g.jsx("button",{onClick:()=>o("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),i==="un"&&g.jsx(e9,{data:t}),i==="myoun"&&g.jsx(u9,{data:t}),i==="report"&&g.jsx(Y4,{data:t,pillars:K4(f)?f:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,o,s)=>s?s.toUpperCase():o.toLowerCase()),r_=t=>{const i=Q4(t);return i.charAt(0).toUpperCase()+i.slice(1)},K2=(...t)=>t.filter((i,o,s)=>!!i&&i.trim()!==""&&s.indexOf(i)===o).join(" ").trim(),J4=t=>{for(const i in t)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=O.forwardRef(({color:t="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:f,...p},b)=>O.createElement("svg",{ref:b,...tO,width:i,height:i,stroke:t,strokeWidth:s?Number(o)*24/Number(i):o,className:K2("lucide",u),...!d&&!J4(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,S])=>O.createElement(y,S)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=(t,i)=>{const o=O.forwardRef(({className:s,...u},d)=>O.createElement(eO,{ref:d,iconNode:i,className:K2(`lucide-${W4(r_(t))}`,`lucide-${t}`,s),...u}));return o.displayName=r_(t),o};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rO=Qr("chevron-down",nO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aO=Qr("chevron-up",iO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],sO=Qr("heart-handshake",oO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],cO=Qr("house",lO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dO=Qr("menu",uO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hO=Qr("plus",fO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pO=Qr("settings",mO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],bO=Qr("square-user",gO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],i_=Qr("star",yO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xO=Qr("user-plus",vO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zp=Qr("x",_O);function SO({onOpenSidebar:t,onAddNew:i,onOpenCustom:o}){return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(dO,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:i,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(xO,{size:18})}),g.jsx("button",{type:"button",onClick:o,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(bO,{size:18})})]})]})})}function wO(t){O.useEffect(()=>{const i=t??S_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");w_(i),t&&I0(t)},[t])}const F2="harim.settings.v1",X2=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function TO(t){return typeof t=="string"&&X2.includes(t)}function a_(t){const i=Array.isArray(t)?t.filter(TO):[],o=X2.filter(s=>!i.includes(s));return[...i,...o]}function W2(){if(typeof window>"u")return null;try{const t=localStorage.getItem(F2);return t?JSON.parse(t):null}catch{return null}}function EO(t){if(!(typeof window>"u"))try{const o={...W2()??{},...t};localStorage.setItem(F2,JSON.stringify(o))}catch{}}function MO({open:t,onClose:i}){const{settings:o,setSettings:s}=br(),u=O.useMemo(()=>a_(o.sectionOrder),[o.sectionOrder]),[d,f]=O.useState(u),[p,b]=O.useState(o),[y,S]=O.useState(null);wO(p.theme??"dark"),O.useEffect(()=>{if(!t)return;const N=W2();if(N){const D={...o,...N};b(D),f(a_(N.sectionOrder??D.sectionOrder))}else b(o),f([...u])},[t]);const w=(N,D)=>{b($=>{const I={...$,[N]:D};return N==="theme"&&I0(D),I})},_=()=>{s({...p,sectionOrder:d}),p.theme&&I0(p.theme),EO({...p,sectionOrder:d}),S("설정이 적용되었습니다"),i()},T=N=>{const{destination:D,source:$}=N;if(!D||D.index===$.index)return;const I=Array.from(d),[j]=I.splice($.index,1);I.splice(D.index,0,j),f(I)},A=N=>{switch(N){case"theme":return g.jsx(jr,{title:"테마",children:g.jsx(NO,{value:p.theme??"dark",onChange:D=>w("theme",D)})});case"hiddenStem":return g.jsx(jr,{title:"지장간 표시 타입",children:g.jsx(Lo,{value:p.hiddenStem,onChange:D=>w("hiddenStem",D),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return g.jsx(jr,{title:"지장간 유형",children:g.jsx(Lo,{value:p.hiddenStemMode,onChange:D=>w("hiddenStemMode",D),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return g.jsx(jr,{title:"일운 달력 시간타입",children:g.jsx(Lo,{value:p.ilunRule??"조자시",onChange:D=>w("ilunRule",D),options:[{label:"야자시",value:"야자시"},{label:"조자시",value:"조자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return g.jsx(jr,{title:"십이신살타입",children:g.jsx(Lo,{value:p.sinsalMode,onChange:D=>w("sinsalMode",D),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return g.jsx(jr,{title:"십이신살기준",children:g.jsx(Lo,{value:p.sinsalBase,onChange:D=>w("sinsalBase",D),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return g.jsx(jr,{title:"개화론 적용여부",children:g.jsx(Os,{label:"개화론 적용",checked:!!p.sinsalBloom,onChange:D=>w("sinsalBloom",D)})});case"exposure":return g.jsx(jr,{title:"상단 노출",children:g.jsx(Lo,{value:p.exposure,onChange:D=>w("exposure",D),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return g.jsx(jr,{title:"글자 타입",children:g.jsx(Lo,{value:p.charType,onChange:D=>w("charType",D),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return g.jsx(jr,{title:"음간 얇게",children:g.jsx(Os,{label:"음간 얇게",checked:!!p.thinEum,onChange:D=>w("thinEum",D)})});case"visibility":return g.jsx(jr,{title:"표시 항목",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[g.jsx(Os,{label:"십신 표시",checked:!!p.showSipSin,onChange:D=>w("showSipSin",D)}),g.jsx(Os,{label:"운성 표시",checked:!!p.showSibiUnseong,onChange:D=>w("showSibiUnseong",D)}),g.jsx(Os,{label:"신살 표시",checked:!!p.showSibiSinsal,onChange:D=>w("showSibiSinsal",D)})]})});case"difficultyMode":return g.jsx(jr,{title:"난이도 UP ver.",children:g.jsx(Os,{label:"난이도 UP 적용",checked:!!p.difficultyMode,onChange:D=>w("difficultyMode",D)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:"설정"}),g.jsx("button",{onClick:_,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),g.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:g.jsx(Zp,{size:22})})]}),t&&g.jsx(Zc,{onDragEnd:T,children:g.jsx(zo,{droppableId:"settings-sections",children:N=>g.jsxs("ul",{ref:N.innerRef,...N.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((D,$)=>g.jsx(qs,{draggableId:D,index:$,children:I=>g.jsxs("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsx("div",{className:"flex-1 min-w-0",children:A(D)})]})},D)),N.placeholder]})})})]}),y&&g.jsx(e2,{message:y,onClose:()=>S(null),ms:1800})]})}function NO({value:t,onChange:i}){const o=t==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>i(o?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":o,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:o?"다크":"라이트"})]})}function jr({title:t,children:i}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),g.jsx("div",{className:"flex justify-center",children:i})]})}function Lo({value:t,onChange:i,options:o}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:o.map(s=>{const u=t===s.value;return g.jsx("button",{type:"button",onClick:()=>i(s.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:s.label},s.value)})})}function Os({label:t,checked:i,onChange:o}){const s=`switch-${t}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:s,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[g.jsx("span",{children:t}),g.jsx("input",{id:s,type:"checkbox",checked:i,onChange:u=>o(u.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function AO({onShowToday:t,onShowCouple:i}){const[o,s]=O.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(C0,{icon:g.jsx(cO,{size:22}),label:"오늘의 사주",onClick:t}),g.jsx(C0,{icon:g.jsx(sO,{size:22}),label:"궁합",onClick:i}),g.jsx(C0,{icon:g.jsx(pO,{size:22}),label:"기타설정",onClick:()=>s(!0)})]})}),g.jsx(MO,{open:o,onClose:()=>s(!1)})]})}function C0({icon:t,label:i,onClick:o}){return g.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,g.jsx("span",{className:"mt-1",children:i})]})}function DO(t,i={}){const{onConfirm:o,onCancel:s,duration:u=1/0,id:d="confirm-center",disableBackdropClose:f=!1,confirmText:p="확인",cancelText:b="취소"}=i;return Vm.custom(y=>{if(typeof window>"u"||!document?.body)return null;const S=()=>{const w=O.useRef(!1),_=()=>{w.current||(w.current=!0,Vm.dismiss(y.id),setTimeout(()=>{s?.()},0))},T=()=>{w.current||(w.current=!0,Vm.dismiss(y.id),setTimeout(()=>{o?.()},0))};return O.useEffect(()=>{const A=N=>{w.current||((N.key==="Escape"||N.key==="Esc")&&(N.preventDefault(),N.stopPropagation(),_()),N.key==="Enter"&&(N.preventDefault(),N.stopPropagation(),T()))};return document.addEventListener("keydown",A,{capture:!0}),()=>document.removeEventListener("keydown",A,{capture:!0})},[]),g.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:f?void 0:_}),g.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[g.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:_,children:b}),g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:p})]})]})]})};return Ic.createPortal(g.jsx(S,{}),document.body)},{id:d,duration:u})}function Bo(t,i){const[o,s]=O.useState(i),[u,d]=O.useState(!1);return O.useEffect(()=>{try{if(typeof window>"u")return;const f=localStorage.getItem(t);f!=null&&s(JSON.parse(f))}catch{}finally{d(!0)}},[t]),O.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(o))}catch{}},[t,o,u]),[o,s,u]}function o_(t,i,o){const s=t.slice(),[u]=s.splice(i,1);return s.splice(o,0,u),s}const jO="list:__unassigned__",s_="list:";function kO(t,i){const[o,s]=Bo(pf,[]),[u,d]=Bo(ID,{}),[f,p]=Bo($D,[]),[b,y]=Bo(t2,[]),[S,w]=Bo("ms_folder_open",{}),[_,T]=Bo("ms_memo_open",{}),[A,N]=Bo("ms_new_folder_tmp",""),D=O.useRef(0);function $(tt,Z,U){const et=Date.now();et-D.current<450||(D.current=et,DO(tt,{onConfirm:Z,onCancel:U,duration:Number.POSITIVE_INFINITY}))}const I=O.useMemo(()=>mf.filter(tt=>!b.includes(tt)),[b]),j=O.useMemo(()=>[...I,...o],[I,o]);O.useEffect(()=>{p(tt=>{const Z=tt.filter(U=>j.includes(U));for(const U of j)Z.includes(U)||Z.push(U);return Z})},[j,p]);const C=O.useMemo(()=>{const tt=f.filter(U=>!!u[U]),Z=f.filter(U=>!u[U]);return[...tt,...Z]},[f,u]);O.useEffect(()=>{w(tt=>{const Z={...tt};for(const U of C)Z[U]===void 0&&(Z[U]=!0);return Z})},[C,w]),O.useEffect(()=>{t.filter(et=>et.folder==="미분류").forEach(et=>i(et.id,{folder:void 0}));const Z=new Set(j);t.filter(et=>et.folder&&!Z.has(et.folder)).forEach(et=>i(et.id,{folder:void 0}))},[t,j,i]);const{grouped:k,unassignedItems:G}=O.useMemo(()=>{const tt={};for(const et of C)tt[et]=[];const Z=[];for(const et of t){const lt=et.folder;lt&&tt[lt]?tt[lt].push(et):Z.push(et)}const U=(et,lt)=>+!!lt.favorite-+!!et.favorite;for(const et of Object.keys(tt))tt[et]=tt[et].slice().sort(U);return Z.sort(U),{grouped:tt,unassignedItems:Z}},[t,C]);function W(tt){const{destination:Z,draggableId:U,type:et,source:lt}=tt;if(Z){if(et==="FOLDER"){const ht=U.replace(/^folder-/,""),K=f.filter(st=>!!u[st]),rt=f.filter(st=>!u[st]);if(!!u[ht]){const st=K.indexOf(ht),R=Math.min(K.length-1,Z.index);p([...o_(K,st,R),...rt])}else{const st=rt.indexOf(ht),R=Math.min(rt.length-1,Z.index-K.length);p([...K,...o_(rt,st,R)])}return}if(et==="ITEM"){const ht=U.replace(/^item:/,""),K=lt?.droppableId??"",rt=Z?.droppableId??"",ft=X=>{if(!X.startsWith(s_))return;const Q=X.slice(s_.length);return Q==="__unassigned__"?void 0:Q},st=ft(K),R=ft(rt);if(st===R)return;const H=t.find(X=>X.id===ht);if(!H)return;i(H.id,{folder:R});return}}}function ot(tt){const Z=tt.trim();if(!Z)return;const U=new Set([...C,...o]);let et=Z,lt=2;for(;U.has(et);)et=`${Z} ${lt++}`;s(ht=>[...ht,et]),w(ht=>({...ht,[et]:!0})),N("")}function nt(tt){t.filter(U=>U.folder===tt).forEach(U=>i(U.id,{folder:void 0})),mf.includes(tt)?y(U=>Array.from(new Set([...U,tt]))):s(U=>U.filter(et=>et!==tt)),w(U=>{const et={...U};return delete et[tt],et}),d(U=>{const et={...U};return delete et[tt],et}),p(U=>U.filter(et=>et!==tt))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:S,setFolderOpenMap:w,memoOpenMap:_,setMemoOpenMap:T,newFolderName:A,setNewFolderName:N,orderedFolders:C,grouped:k,unassignedItems:G,confirmThrottled:$,handleDragEnd:W,createFolder:ot,deleteFolder:nt,displayFolderLabel:UD,UNASSIGNED_LABEL:Ee,DROPPABLE_UNASSIGNED:jO}}function OO(t,i){if(!/^\d{8}$/.test(t))return t||"";const o=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8);return i&&/^\d{4}$/.test(i)?`${o}년 ${s}월 ${u}일생 ${i.slice(0,2)}:${i.slice(2,4)}분`:i==="모름"?`${o}년 ${s}월 ${u}일생 (시간 모름)`:`${o}년 ${s}월 ${u}일생`}function CO(t){if(!t)return"";const i=t.split(/[\s,]+/).filter(Boolean);if(i.length===0)return"";const o=f=>i.find(p=>f.some(b=>p.endsWith(b))),s=o(["시","군","구"]),u=o(["동","읍","면","리"]);return i.length===1||!o(["시","군","구","동","읍","면","리"])&&!o(["도","광역시","특별시","자치시","자치도"])?t:s&&u?`${s} ${u}`:s||t}function LO(t){if(!/^\d{8}$/.test(t))return"-";const i=Number(t.slice(0,4)),o=Number(t.slice(4,6)),s=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-i;return(u.getMonth()+1<o||u.getMonth()+1===o&&u.getDate()<s)&&d--,d}function BO(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function rp(t){return typeof t=="object"&&t!==null}function RO(t){if(!rp(t))throw new Error("Invalid lunar2solar result");const i=t,o=i.cYear,s=i.cMonth,u=i.cDay;if(typeof o!="number"||typeof s!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=i.isLeap;return{cYear:o,cMonth:s,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function PO(t){const i=rp(t)&&"default"in t?t.default:t;if(!rp(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return(s,u,d)=>RO(o(s,u,d,!1))}const zO=PO(Lp);function Q2(t){const i=t.mingSikType??"야자시";let o=Number(t.birthDay.slice(0,4)),s=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const I=zO(o,s,u);o=I.cYear,s=I.cMonth,u=I.cDay}const d=!t.birthTime||t.birthTime==="모름",f=d?4:Number(t.birthTime.slice(0,2)),p=d?30:Number(t.birthTime.slice(2,4)),b=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,y=new Date(o,s-1,u,f,p,0,0),S=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",w=Io(y,b,S),_=d?"":w.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),T=oe(w,b),A=Se(w,b),N=ae(w,i),D=d?null:Pr(w,i),$=[`원국 : ${T}년 ${A}월 ${N}일`,D?`${D}시`:null].filter(Boolean).join(" ");return{correctedLocal:_,ganji:$}}const l_="sidebar.orderMap.v1",c_="sidebar.folderOrder.v1",bc="list:__unassigned__",Zd=t=>`list:${t}`,L0=t=>{if(!t.startsWith("list:"))return;const i=t.slice(5);return i==="__unassigned__"?void 0:i};function HO({open:t,onClose:i,onView:o,onAddNew:s,onEdit:u,onDeleteView:d}){const{list:f,remove:p,update:b}=tl(),{folderFavMap:y,setFolderFavMap:S,folderOpenMap:w,setFolderOpenMap:_,memoOpenMap:T,setMemoOpenMap:A,newFolderName:N,setNewFolderName:D,orderedFolders:$,grouped:I,unassignedItems:j,handleDragEnd:C,createFolder:k,deleteFolder:G,UNASSIGNED_LABEL:W,displayFolderLabel:ot}=kO(f,b),[nt,tt]=O.useState([]);O.useEffect(()=>{try{const H=localStorage.getItem(c_);if(H){const X=JSON.parse(H);Array.isArray(X)&&tt(X)}}catch{console.log("[Sidebar] Failed to load folderOrder from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(c_,JSON.stringify(nt))}catch{console.log("[Sidebar] Failed to save folderOrder to localStorage")}},[nt]);const[Z,U]=O.useState({});O.useEffect(()=>{try{const H=localStorage.getItem(l_);if(H){const X=JSON.parse(H);X&&typeof X=="object"&&U(Q=>({...X,...Q}))}}catch{console.log("[Sidebar] Failed to load orderMap from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(l_,JSON.stringify(Z))}catch{console.log("[Sidebar] Failed to save orderMap to localStorage")}},[Z]);const[et,lt]=O.useState(!1),ht=(H,X)=>{const Q=new Map(X.map(F=>[F.id,F])),z=Z[H]??[],Y=[];for(const F of z){const ct=Q.get(F);ct&&(Y.push(ct),Q.delete(F))}return Q.forEach(F=>Y.push(F)),Y},K=H=>{const X=L0(H),Q=X?I[X]||[]:j;return ht(H,Q).map(z=>z.id)};O.useEffect(()=>{U(H=>{let X=!1;const Q={...H};{const z=bc,Y=j.map(F=>F.id);if(!Q[z])Q[z]=Y,X=!0;else{const F=Y.filter(bt=>!Q[z].includes(bt));F.length&&(Q[z]=[...Q[z],...F],X=!0);const ct=Q[z].filter(bt=>!Y.includes(bt));ct.length&&(Q[z]=Q[z].filter(bt=>!ct.includes(bt)),X=!0)}}for(const z of $){const Y=Zd(z),F=(I[z]||[]).map(ct=>ct.id);if(!Q[Y])Q[Y]=F,X=!0;else{const ct=F.filter(Mt=>!Q[Y].includes(Mt));ct.length&&(Q[Y]=[...Q[Y],...ct],X=!0);const bt=Q[Y].filter(Mt=>!F.includes(Mt));bt.length&&(Q[Y]=Q[Y].filter(Mt=>!bt.includes(Mt)),X=!0)}}return X?Q:H})},[j,I,$]);const rt=O.useMemo(()=>[...nt.filter(H=>$.includes(H)),...$.filter(H=>!nt.includes(H))],[nt,$]),ft=H=>H??{},st=(H,X)=>{const Q=BO(H),z=CO(H.birthPlace?.name),Y=`item:${H.id}`,F=!!T[H.id];let ct=new Date(H.corrected);hf(ct.getFullYear(),ct.getMonth()+1,ct.getDate())&&(ct=new Date(ct.getTime()-3600*1e3));const bt=!H.birthTime||H.birthTime==="모름";return g.jsx(qs,{draggableId:Y,index:X,children:Mt=>g.jsx("li",{ref:Mt.innerRef,...Mt.draggableProps,...Mt.dragHandleProps,style:ft(Mt.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[H.name," (",LO(H.birthDay),"세, ",H.gender,")"]}),g.jsx("span",{className:"opacity-40",children:"｜"}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:H.relationship?H.relationship:"관계 미지정"}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[OO(H.birthDay,H.birthTime),","," ",H.calendarType==="lunar"?"음력":"양력"]}),(z||ct)&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[z,ct&&g.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",bt?"모름":K7(ct)]})]}),Q&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:Q}),H.memo&&H.memo.trim()!==""&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Et=>{Et.stopPropagation(),A(Lt=>({...Lt,[H.id]:!Lt[H.id]}))},children:F?"메모 닫기":"메모 열기"}),g.jsx("div",{className:F?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:H.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:ot(H.folder),onClick:Et=>Et.stopPropagation(),onChange:Et=>{Et.stopPropagation();const Lt=Et.target.value,Dt=Vs(Lt),St=H.id,kt=H.folder?Zd(H.folder):bc,It=Dt?Zd(Dt):bc;Dt&&!$.includes(Dt)&&k(Dt),U(ee=>{const $t={...ee},Xt=K(kt),xt=kt===It?Xt.slice():K(It).slice(),Bt=Xt.indexOf(St);Bt>=0&&Xt.splice(Bt,1);const vt=xt.indexOf(St);return vt>=0&&xt.splice(vt,1),xt.unshift(St),$t[kt]=Xt,$t[It]=xt,$t}),b(St,{folder:Dt})},children:[W,...$].map(Et=>g.jsx("option",{value:Et,children:Et},Et))}),g.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:H.mingSikType??"야자시",onClick:Et=>Et.stopPropagation(),onChange:Et=>{Et.stopPropagation();const Lt=Et.target.value,Dt={...H,mingSikType:Lt},St=Q2(Dt);b(H.id,{mingSikType:Lt,...St}),o({...Dt,...St}),i()},children:[g.jsx("option",{value:"야자시",children:"야자시명식"}),g.jsx("option",{value:"조자시",children:"조자시명식"}),g.jsx("option",{value:"인시",children:"인시명식"})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:Et=>{Et.stopPropagation(),o(H),i()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),g.jsx("button",{onClick:Et=>{Et.stopPropagation(),u?.(H)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),g.jsx("button",{onClick:Et=>{Et.stopPropagation(),confirm(`'${H.name}' 명식을 삭제할까요?`)&&(p(H.id),d&&d())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),g.jsx("button",{type:"button",onClick:Et=>{Et.stopPropagation(),b(H.id,{favorite:!H.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${H.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(i_,{size:16,fill:H.favorite?"currentColor":"none"})})]})]})})},Y)},R=H=>{const{source:X,destination:Q,draggableId:z,type:Y}=H;if(Q){if(Y==="FOLDER"){C(H),tt(F=>{const ct=[...F],[bt]=ct.splice(X.index,1);return ct.splice(Q.index,0,bt),ct});return}if(Y==="ITEM"){const F=z.replace(/^item:/,""),ct=X.droppableId,bt=Q.droppableId;U(Lt=>{const Dt={...Lt},St=K(ct),kt=ct===bt?St.slice():K(bt).slice();if(ct===bt){const[$t]=kt.splice(X.index,1);return kt.splice(Q.index,0,$t),Dt[ct]=kt,Dt}const It=St.indexOf(F);It>=0&&St.splice(It,1);const ee=kt.indexOf(F);return ee>=0&&kt.splice(ee,1),kt.splice(Q.index,0,F),Dt[ct]=St,Dt[bt]=kt,Dt});const Mt=L0(ct),Et=L0(bt);Mt!==Et&&b(F,{folder:Et})}}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${et?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:()=>{s(),i()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[g.jsx(hO,{size:16})," 명식추가"]}),g.jsx("button",{onClick:i,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:g.jsx(Zp,{size:22})})]})]}),g.jsx(Zc,{onDragStart:()=>lt(!0),onDragEnd:H=>{lt(!1),R(H)},children:g.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:N,onChange:H=>D(H.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:H=>H.stopPropagation()}),g.jsx("button",{type:"button",onClick:()=>k(N),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:H=>H.stopPropagation(),children:"생성"})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),g.jsx(zo,{droppableId:bc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:H=>{const X=ht(bc,j);return g.jsx("div",{ref:H.innerRef,...H.droppableProps,className:"mb-6",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[X.map((Q,z)=>st(Q,z)),H.placeholder]})})}}),g.jsx(zo,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:H=>g.jsxs("div",{ref:H.innerRef,...H.droppableProps,children:[rt.map((X,Q)=>{const z=Zd(X),Y=ht(z,I[X]||[]),F=!!w[X],ct=!!y[X];return g.jsx(qs,{draggableId:`folder-${X}`,index:Q,children:bt=>g.jsxs("div",{ref:bt.innerRef,...bt.draggableProps,...bt.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:Mt=>{Mt.stopPropagation(),_(Et=>({...Et,[X]:!F}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[F?g.jsx(aO,{size:16}):g.jsx(rO,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:X})]}),g.jsx("button",{type:"button",onClick:Mt=>{Mt.stopPropagation(),S(Et=>({...Et,[X]:!Et[X]}))},className:`p-1 rounded cursor-pointer ${ct?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(i_,{size:16,fill:ct?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[Y.length,"개"]}),g.jsx("button",{type:"button",onClick:Mt=>{if(Mt.stopPropagation(),y[X]){alert(`'${X}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${X}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&G(X)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),F&&g.jsx(zo,{droppableId:z,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:Mt=>g.jsx("div",{ref:Mt.innerRef,...Mt.droppableProps,className:"mt-2",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[Y.map((Et,Lt)=>st(Et,Lt)),Mt.placeholder]})})})]})},`folder-${X}`)}),H.placeholder]})})]})})]})]})}const u_="ms_folders",B0="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",$O="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",IO="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Ki="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",UO="text-xs text-neutral-500 dark:text-neutral-400",Yd="accent-violet-600 dark:accent-violet-400",d_="accent-violet-600 dark:accent-violet-400",Ff="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",GO=`${Ff} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,ZO=`${Ff} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,f_=`${Ff} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,YO=`${Ff} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function qO({item:t,onClose:i}){const{list:o,update:s,remove:u}=tl(),[d,f]=O.useState(!1),[p,b]=O.useState({...t,calendarType:t.calendarType??"solar"}),[y,S]=O.useState(!t.birthTime||t.birthTime==="모름"),[w,_]=O.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=O.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[A,N]=O.useState([]);O.useEffect(()=>{try{const k=JSON.parse(localStorage.getItem(u_)||"[]");Array.isArray(k)&&N(k)}catch{}},[]);const D=O.useMemo(()=>{const k=Array.from(new Set(o.map(ot=>ot.folder).filter(Boolean))),G=new Set([...T,...A,...k]),W=Array.from(G).sort((ot,nt)=>ot.localeCompare(nt));return[Ee,...W]},[o,A,T]),$=()=>{b({...t,calendarType:t.calendarType??"solar"}),S(!t.birthTime||t.birthTime==="모름"),_(!t.birthPlace||t.birthPlace.name==="모름")},I=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const k=Number(p.birthDay.slice(0,4)),G=Number(p.birthDay.slice(4,6)),W=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{Rr(k,G,W)}catch(ot){return ot instanceof Error?ot.message:"음력 날짜가 유효하지 않습니다."}else{const ot=new Date(k,G-1,W);if(ot.getFullYear()!==k||ot.getMonth()+1!==G||ot.getDate()!==W)return"존재하지 않는 양력 날짜입니다."}if(!y){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const ot=Number(p.birthTime.slice(0,2)),nt=Number(p.birthTime.slice(2,4));if(ot<0||ot>23||nt<0||nt>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!w&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},j=()=>{const k=I();if(k){alert(k);return}const G=Number(p.birthDay.slice(0,4)),W=Number(p.birthDay.slice(4,6)),ot=Number(p.birthDay.slice(6,8));let nt=G,tt=W,Z=ot;if(p.calendarType==="lunar"){const ct=Rr(G,W,ot);nt=ct.getFullYear(),tt=ct.getMonth()+1,Z=ct.getDate()}const U=y?4:Number((p.birthTime??"0430").slice(0,2)),et=y?30:Number((p.birthTime??"0430").slice(2,4)),lt=w||!p.birthPlace||p.birthPlace.lon===0?127.5:p.birthPlace.lon,ht=new Date(nt,tt-1,Z,U,et,0,0),K=!p.birthPlace||typeof p.birthPlace=="object"&&p.birthPlace.name==="모름",rt=Io(ht,lt,K),st=oe(rt,lt).charAt(0),H=((ct,bt)=>{const Et=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(ct),Lt=(bt??"남자")==="남자";return Et?Lt?"forward":"backward":Lt?"backward":"forward"})(st,p.gender??"남자"),X=Vs(p.folder===Ee?void 0:p.folder),Q={...t,name:(p.name??"").trim()||"이름없음",birthDay:p.birthDay,birthTime:y?"모름":p.birthTime??"0430",gender:p.gender??"남자",birthPlace:w?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",folder:X,calendarType:p.calendarType??"solar",mingSikType:p.mingSikType??"야자시",DayChangeRule:(p.mingSikType??"야자시")==="인시"?"인시일수론":"자시일수론",dir:H,corrected:rt,correctedLocal:"",ganji:""},{correctedLocal:z,ganji:Y}=Q2(Q),F={...Q,correctedLocal:z,ganji:Y};if(F.folder&&!T.includes(F.folder)&&!A.includes(F.folder)){const ct=[...A,F.folder];N(ct),localStorage.setItem(u_,JSON.stringify(ct))}s(t.id,F),f(!1),i&&i()},C=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"이름"}),g.jsx("input",{className:B0,value:p.name||"",onChange:k=>b({...p,name:k.target.value}),placeholder:"이름"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"생년월일 (YYYYMMDD)"}),g.jsx("input",{className:B0,value:p.birthDay||"",onChange:k=>b({...p,birthDay:k.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Yd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>b({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"양력"})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Yd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>b({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&g.jsx("span",{className:UO,children:(()=>{try{const k=Number(p.birthDay.slice(0,4)),G=Number(p.birthDay.slice(4,6)),W=Number(p.birthDay.slice(6,8)),ot=Rr(k,G,W);return`→ 양력 ${ot.getFullYear()}-${String(ot.getMonth()+1).padStart(2,"0")}-${String(ot.getDate()).padStart(2,"0")}`}catch(k){const G=k instanceof Error?k.message:void 0;return`→ 변환 실패${G?`: ${G}`:""}`}})()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"태어난 시간 (HHMM)"}),g.jsx("input",{className:`${B0} disabled:opacity-50`,value:y?"":p.birthTime||"",onChange:k=>b({...p,birthTime:k.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:y}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:d_,checked:y,onChange:k=>S(k.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"명식 기준"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["야자시","조자시","인시"].map(k=>{const G=`editor_ming_${k}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Yd,name:"mingSikType",checked:(p.mingSikType??"조자시")===k,onChange:()=>b({...p,mingSikType:k}),id:G}),g.jsx("label",{htmlFor:G,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:k})]},k)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"성별"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(k=>{const G=`editor_gender_${k}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Yd,name:"gender",value:k,checked:p.gender===k,onChange:W=>b({...p,gender:W.target.value}),id:G}),g.jsx("label",{htmlFor:G,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:k})]},k)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"태어난 지역"}),g.jsx(U_,{onSelect:k=>b({...p,birthPlace:k}),value:w?"출생지선택":p.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:d_,checked:w,onChange:k=>_(k.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"관계"}),g.jsx(J1,{value:p.relationship||"",onChange:k=>b({...p,relationship:k})})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"폴더"}),g.jsx("select",{className:$O,value:p.folder??Ee,onChange:k=>{const G=k.target.value;b(G===Ee?{...p,folder:void 0}:{...p,folder:G})},children:D.map(k=>g.jsx("option",{value:k===Ee?Ee:k,children:k},k))})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ki,children:"메모"}),g.jsx("textarea",{className:IO,value:p.memo||"",onChange:k=>b({...p,memo:k.target.value}),placeholder:"메모를 입력하세요"})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:f_,onClick:()=>{$(),f(!1)},children:"취소"}),g.jsx("button",{className:YO,onClick:j,children:"저장"})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:GO,onClick:()=>f(!0),children:"수정"}),g.jsx("button",{className:ZO,onClick:C,children:"삭제"}),i&&g.jsx("button",{className:f_,onClick:i,children:"닫기"})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:["성별: ",t.gender]}),g.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),g.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),g.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),g.jsxs("div",{children:["관계: ",t.relationship||"-"]}),g.jsxs("div",{children:["폴더: ",t.folder??Ee]})]}),t.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function VO({pillarsA:t,pillarsB:i}){const o=D9(t,i);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(o).map(([s,u])=>u.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:s}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,f)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},f))})]},s):null)]})}function KO(t){return typeof t=="object"&&t!==null}const FO=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],XO=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],WO=new Set(FO),QO=new Set(XO);function h_(t){return typeof t=="string"&&t.length>=2&&WO.has(t[0])&&QO.has(t[1])}function ze(t,...i){if(h_(t))return t;for(const o of i)if(h_(o))return o;return"甲子"}function qd(t,i){let o=null;const s=i.getTime();for(const u of t)if(u.at.getTime()<=s)o=u;else break;return o}function JO(t){const i=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function m_(t){if(!t)return null;const i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!i)return null;const[,o,s,u,d,f]=i,p=new Date(+o,+s-1,+u,+d,+f);return Number.isNaN(p.getTime())?null:p}function Df(t){const i=t;return typeof i.name=="string"&&i.name?i.name:typeof i.title=="string"&&i.title?i.title:typeof i.memo=="string"&&i.memo?i.memo:"이름 없음"}function tC(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=0,d=0;const f=t;return typeof f.birthTime=="string"&&f.birthTime.length>=4&&(u=Number(f.birthTime.slice(0,2)),d=Number(f.birthTime.slice(2,4))),{y:i,m:o,d:s,hh:u,mm:d}}function Xf(t){const{y:i,m:o,d:s}=tC(t),u=t.corrected.getHours(),d=t.corrected.getMinutes();return t.calendarType==="lunar"?Rr(i,o,s,u,d):new Date(i,o-1,s,u,d)}function eC(t){const i=Xf(t);return`${Df(t)}-${i.toISOString()}`}function yc(t){const i=t;return typeof i.id=="string"&&i.id?i.id:eC(t)}function nC(t){return KO(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function rC(t){const i=Uo;return nC(i)?t==="classic"?i.Classic:i.Modern:t}const R0="people_picker_order_v1";function iC(t,i,o){const s=t.slice(),[u]=s.splice(i,1);return s.splice(o,0,u),s}function p_({open:t,list:i,onSelect:o,onClose:s}){const[u,d]=O.useState("");O.useEffect(()=>{t||d("")},[t]);const f=O.useMemo(()=>i.map(yc),[i]),p=O.useMemo(()=>new Set(f),[f]),[b,y]=O.useState([]);O.useEffect(()=>{const N=localStorage.getItem(R0),D=N?JSON.parse(N):[],$=D.filter(j=>p.has(j)),I=[...$,...f.filter(j=>!$.includes(j))];y(I),JSON.stringify(I)!==JSON.stringify(D)&&localStorage.setItem(R0,JSON.stringify(I))},[f,p]);const S=N=>{y(N),localStorage.setItem(R0,JSON.stringify(N))},w=O.useMemo(()=>{const N=new Map(i.map($=>[yc($),$])),D=[];for(const $ of b){const I=N.get($);I&&D.push(I)}return N.forEach(($,I)=>{b.includes(I)||D.push($)}),D},[i,b]),_=O.useMemo(()=>{const N=u.trim().toLowerCase();return N?w.filter(D=>Df(D).toLowerCase().includes(N)):w},[w,u]),T=u.trim()==="",A=N=>{const{destination:D,source:$}=N;if(!D||!T||D.index===$.index)return;const I=_.map(yc),j=iC(I,$.index,D.index),k=w.map(yc).filter(W=>!I.includes(W)),G=[...j,...k].filter((W,ot,nt)=>nt.indexOf(W)===ot);S(G)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),g.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("input",{placeholder:"이름 검색",value:u,onChange:N=>d(N.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),g.jsx(Zc,{onDragEnd:A,children:g.jsx(zo,{droppableId:"peopleList",children:N=>g.jsxs("ul",{ref:N.innerRef,...N.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[_.map((D,$)=>{const I=String(yc(D)),j=Xf(D);return g.jsx(qs,{draggableId:I,index:$,children:C=>g.jsx("li",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,onClick:()=>o(D),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Df(D)}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Mc(j)})]})]})})},I)}),N.placeholder]})})})]})]})}function P0({label:t,gzHour:i,gzDay:o,gzMonth:s,gzYear:u,dayStem:d,cardSettings:f,sinsalBaseBranch:p,sinsalMode:b,sinsalBloom:y}){const S=N=>{const D=f.showSibiUnseong?pi(d,N):"",$=f.showSibiSinsal?gi({baseBranch:p,targetBranch:N,era:rC(b),gaehwa:!!y}):"";return{unseongText:D||void 0,shinsalText:$||void 0}},w=ze(i).charAt(1),_=ze(o).charAt(1),T=ze(s).charAt(1),A=ze(u).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",ze(i),w],["일주",ze(o),_],["월주",ze(s),T],["연주",ze(u),A]].map(([N,D,$])=>{const{unseongText:I,shinsalText:j}=S($);return g.jsx(Rs,{label:N,gz:D,dayStem:d,settings:br.getState().settings,unseongText:I,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${t}-${N}`)})})]})}function aC(t){if(!t)return"";const i=t,o=p=>typeof i[p]=="string"?String(i[p]).trim().toLowerCase():null,s=p=>typeof i[p]=="boolean"?i[p]:null,u=[o("gender"),o("sex"),o("genderType"),o("성별"),o("sexType"),o("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=s("isMale"),f=s("isFemale");return d===!0?"남":f===!0?"여":""}function Cs({label:t,data:i,mode:o,effectiveDate:s,onPick:u}){const d=br(k=>k.settings),f=O.useMemo(()=>i?Xf(i):null,[i]),p=ze(f?Pr(f,"야자시"):void 0),b=ze(f?ae(f,"야자시"):void 0),y=ze(f?Se(f):void 0),S=ze(f?oe(f):void 0),w=O.useMemo(()=>b.charAt(0)||"갑",[b]),_=f,T=O.useMemo(()=>{const k=i?.birthPlace;return!k||k.name==="모름"||!k.lon?127.5:k.lon},[i]),A=i?.mingSikType??"야자시",N=O.useMemo(()=>{const k=_?ae(_,A).charAt(1):b.charAt(1)||"子",G=_?oe(_,T).charAt(1):S.charAt(1)||"子";return(d.sinsalBase??"일지")==="일지"?k:G},[d.sinsalBase,_,A,T,b,S]),D=O.useMemo(()=>{if(o!=="묘운"||!f||!i)return null;try{const k=s2(f,p,i.dir,120,i.mingSikType),G=c2(k,b,i.dir,i.DayChangeRule),W=Yc(f,y,i.dir,120,i?.birthPlace?.lon??127.5),ot=u2(W,S,i.dir,i.DayChangeRule,f),nt=s;return{si:ze(qd(k.events,nt)?.gz,p),il:ze(qd(G.events,nt)?.gz,b),wl:ze(qd(W.events,nt)?.gz,y),yn:ze(qd(ot.events,nt)?.gz,S)}}catch{return null}},[o,f,p,b,y,S,s,i]),$=O.useMemo(()=>{if(o!=="실시간")return null;const k=s;return{si:ze(Pr(k,"야자시")),il:ze(ae(k,"야자시")),wl:ze(Se(k)),yn:ze(oe(k))}},[o,s]),I=i?Df(i):"",j=f?Mc(f):"",C=i?aC(i):"";return i?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:I}),C&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",C]}),j&&g.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:j})]}),o==="원국"&&g.jsx(P0,{label:"원국",gzHour:p,gzDay:b,gzMonth:y,gzYear:S,dayStem:w,cardSettings:d,sinsalBaseBranch:N,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="묘운"&&D&&g.jsx(P0,{label:"묘운",gzHour:D.si,gzDay:D.il,gzMonth:D.wl,gzYear:D.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:N,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="실시간"&&$&&g.jsx(P0,{label:"실시간",gzHour:$.si,gzDay:$.il,gzMonth:$.wl,gzYear:$.yn,dayStem:w,cardSettings:d,sinsalBaseBranch:N,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function oC({people:t=[]}){const[i,o]=O.useState(),[s,u]=O.useState(),[d,f]=O.useState(!1),[p,b]=O.useState(!1),y=O.useRef(new Date),[S,w]=O.useState(()=>JO(y.current)),_=O.useRef(m_(S)??y.current),T=O.useMemo(()=>{const j=m_(S);return j&&(_.current=j),_.current},[S]),[A,N]=O.useState(!1),[D,$]=O.useState(!1);function I(j){if(!j)return["甲子","甲子","甲子","甲子"];try{const C=Xf(j),k={hour:ze(Pr(C,"야자시")),day:ze(ae(C,"야자시")),month:ze(Se(C)),year:ze(oe(C))};return[k.year,k.month,k.day,k.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:j=>f(j.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),g.jsx("button",{onClick:()=>b(j=>!j),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Cs,{label:"원국 A",data:i,mode:"원국",effectiveDate:T,onPick:()=>N(!0)}),g.jsx(Cs,{label:"원국 B",data:s,mode:"원국",effectiveDate:T,onPick:()=>$(!0)}),d&&i&&g.jsx(Cs,{label:"묘운 A",data:i,mode:"묘운",effectiveDate:T,onPick:()=>N(!0)}),d&&s&&g.jsx(Cs,{label:"묘운 B",data:s,mode:"묘운",effectiveDate:T,onPick:()=>$(!0)}),p&&i&&g.jsx(Cs,{label:"실시간 A",data:i,mode:"실시간",effectiveDate:T,onPick:()=>N(!0)}),p&&s&&g.jsx(Cs,{label:"실시간 B",data:s,mode:"실시간",effectiveDate:T,onPick:()=>$(!0)})]}),i&&s&&g.jsx("div",{className:"mt-4",children:g.jsx(VO,{pillarsA:I(i),pillarsB:I(s)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:S,onChange:j=>w(j.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(p_,{open:A,list:t||[],onSelect:j=>{o(j),N(!1)},onClose:()=>N(!1)}),g.jsx(p_,{open:D,list:t||[],onSelect:j=>{u(j),$(!1)},onClose:()=>$(!1)})]})}function sC(){return g.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:g.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function lC({ms:t}){const{date:i,setDate:o}=In();O.useEffect(()=>{o(new Date)},[t]);const s=zp(t),u=O.useMemo(()=>{const p=i??new Date,b=p.getFullYear(),y=String(p.getMonth()+1).padStart(2,"0"),S=String(p.getDate()).padStart(2,"0");return`${b}-${y}-${S}`},[i]),d=p=>{if(!p)return;const[b,y,S]=p.split("-"),w=Number(b),_=Number(y),T=Number(S);if(!Number.isFinite(w)||!Number.isFinite(_)||!Number.isFinite(T))return;const A=i??new Date,N=A.getHours(),D=A.getMinutes(),$=new Date(w,_,0).getDate(),I=Math.min(T,$),j=new Date(w,_-1,I,N,D,0,0);Number.isNaN(j.getTime())||o(j)},f=O.useMemo(()=>{const p=t.ganji,b=s?.dae?.gz?`${s.dae.gz}대운`:null,y=s?.se?.gz?`${s.se.gz}세운`:null,S=s?.wol?.gz?`${s.wol.gz}월운`:null,w=[b,y,S].filter(Boolean).join(" ");return[p,w].filter(Boolean).join(" + ")},[t,s]);return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[f&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:f}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),g.jsx("input",{type:"date",value:u,onChange:p=>d(p.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const cC=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function uC(t){const i=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${i}-${o}-${s}`}function Vd(t,i){return t&&i?`${t}${i}`:null}function g_(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const dC={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},fC=Lr.천간,hC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function b_(t,i){let o;t==="갑"||t==="기"?o="병":t==="을"||t==="경"?o="무":t==="병"||t==="신"?o="경":t==="정"||t==="임"?o="임":o="갑";const s=dC[o],u=hC.indexOf(i),d=(s+(u>=0?u:0))%10;return fC[d]}const mC=Lr.지지.slice(),pC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Ls(t,i){const s=(i==="자시"?C_:lp)[t],u=i==="자시"?mC:pC,d=Lr.지지.reduce((f,p)=>(f[p]="",f),{});for(let f=0;f<12;f++)d[u[f]]=s[f];return d}const gC={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},bC={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function yC({open:t,onClose:i,onSave:o}){const{settings:s}=br(),[u,d]=O.useState(null),[f,p]=O.useState({}),[b,y]=O.useState(null),[S,w]=O.useState(!0),[_,T]=O.useState(!0),[A,N]=O.useState("자시"),[D,$]=O.useState("male"),[I,j]=O.useState(null),[C,k]=O.useState(!1),[,G]=O.useState(null),[W,ot]=O.useState(null),[nt,tt]=O.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[Z,U]=O.useState(!1),[et,lt]=O.useState(null),ht=xt=>{lt(xt),setTimeout(()=>lt(null),1800)},[K,rt]=O.useState(!1),[ft,st]=O.useState(!1);O.useEffect(()=>{if(K){const xt=setTimeout(()=>rt(!1),2e3);return()=>clearTimeout(xt)}},[K]),O.useEffect(()=>{if(ft){const xt=setTimeout(()=>st(!1),2e3);return()=>clearTimeout(xt)}},[ft]);const R=()=>{const xt=W!==null?I?.filter((Ir,Zn)=>Zn===W)??[]:[];if(xt.length===0){alert("선택된 항목이 없습니다.");return}const Bt=A==="자시"?"야자시":"인시",vt=xt[0],[de,He,we]=vt.date.split("-").map(Number),qt={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let je=0,Le=0;if(vt.hourSlots.length>0){const Ir=vt.hourSlots[0].branch,Zn=qt[Ir];Zn&&(je=Zn.hh,Le=Zn.mi)}const Je=new Date(de,He-1,we,je,Le),Be=new Date(Je.getTime()-30*6e4),bi=Be.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),Jr=D==="male"?"남":"여";function Wi(Ir,Zn){const il=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(Ir),Qa=Zn==="남";return il?Qa?"forward":"backward":Qa?"backward":"forward"}const Hr=Wi(vt.year.charAt(0),Jr),Un=oe(Be,127.5),mn=Se(Be,127.5),$r=ae(Be,Bt),Gn=Pr(Be,Bt),rl=[`원국 : ${Un}년 ${mn}월 ${$r}일`,Gn?`${Gn}시`:null].filter(Boolean).join(" "),Wa={id:I_(),name:"커스텀명식",birthDay:`${de}${String(He).padStart(2,"0")}${String(we).padStart(2,"0")}`,birthTime:`${String(je).padStart(2,"0")}${String(Le).padStart(2,"0")}`,gender:Jr,birthPlace:Z?{name:"커스텀명식",lat:0,lon:127.5}:nt.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:nt.relationship??"",memo:nt.memo??"",folder:Vs(nt.folder),mingSikType:nt.mingSikType??"야자시",DayChangeRule:nt.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:nt.calendarType??"solar",yearGZ:vt.year,monthGZ:vt.month,dayGZ:vt.day,hourGZ:vt.hour,ganjiText:`원국 : ${vt.year}년 ${vt.month}월 ${vt.day}일 ${vt.hour}시`,ganji:rl,dayStem:vt.day.charAt(0),dateObj:Je,corrected:Be,correctedLocal:bi,dir:Hr};Ic.flushSync(()=>{tl.getState().add(Wa)}),o(Wa),lt("저장 완료!"),tt({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),U(!1),i()},H=S||_,X=!!(f.yearStem&&f.yearBranch),Q=!!(f.dayStem&&f.dayBranch),z=!H||X||Q,Y=!!b&&b.endsWith("Stem"),F=!!b&&b.endsWith("Branch");function ct(xt){return xt==="yearStem"?"yearBranch":xt==="yearBranch"?"yearStem":xt==="monthStem"?"monthBranch":xt==="monthBranch"?"monthStem":xt==="dayStem"?"dayBranch":xt==="dayBranch"?"dayStem":xt==="hourStem"?"hourBranch":"hourStem"}const bt=O.useCallback((xt,Bt)=>{if(!S||!xt.yearStem)return xt;const vt={...xt},de=lp[xt.yearStem];if(!de)return vt;const He=qt=>de.filter(je=>je.startsWith(qt)),we=qt=>de.find(je=>je.endsWith(qt));if(Bt==="monthStem"&&vt.monthStem){const qt=He(vt.monthStem).map(je=>je.slice(1));return qt.length>=2?(d(qt.slice(0,2)),y("monthBranch"),vt):(qt.length===1&&(vt.monthBranch=qt[0],d(null)),vt)}if(Bt==="monthBranch"&&vt.monthBranch){const qt=we(vt.monthBranch);return qt&&(vt.monthStem=qt.slice(0,1),d(null)),vt}if(Bt==="yearStem"){if(vt.monthStem&&!vt.monthBranch){const qt=He(vt.monthStem).map(je=>je.slice(1));if(qt.length>=2)return d(qt.slice(0,2)),y("monthBranch"),vt;qt.length===1&&(vt.monthBranch=qt[0])}else if(vt.monthBranch&&!vt.monthStem){const qt=we(vt.monthBranch);qt&&(vt.monthStem=qt.slice(0,1))}}return vt},[S,y]),Mt=O.useCallback((xt,Bt)=>{if(!_||!xt.dayStem)return xt;const vt={...xt},de=Ls(xt.dayStem,A),He=qt=>Object.entries(de).find(([,je])=>je.startsWith(qt)),we=qt=>de[qt];if(Bt==="hourStem"&&vt.hourStem){const qt=He(vt.hourStem);return qt&&(vt.hourBranch=qt[0]),vt}if(Bt==="hourBranch"&&vt.hourBranch){const qt=we(vt.hourBranch);return qt&&(vt.hourStem=qt.slice(0,1)),vt}if(Bt==="dayStem"){if(vt.hourStem&&!vt.hourBranch){const qt=He(vt.hourStem);qt&&(vt.hourBranch=qt[0])}else if(vt.hourBranch&&!vt.hourStem){const qt=we(vt.hourBranch);qt&&(vt.hourStem=qt.slice(0,1))}}return vt},[_,A]),Et=O.useCallback(xt=>!S||!xt.yearStem?!1:xt.monthBranch&&xt.monthStem?b_(xt.yearStem,xt.monthBranch)!==xt.monthStem:!1,[S]),Lt=O.useCallback(xt=>{if(!_||!xt.dayStem)return!1;if(xt.hourBranch&&xt.hourStem){const vt=Ls(xt.dayStem,A)[xt.hourBranch];return vt?vt.slice(0,1)!==xt.hourStem:!1}return!1},[_,A]);O.useEffect(()=>{if(!(!_||!f.dayStem||!f.hourBranch)&&(f.hourBranch==="자"||f.hourBranch==="축")){const Bt=Ls(f.dayStem,A)[f.hourBranch];Bt&&p(vt=>({...vt,hourStem:Bt.slice(0,1)}))}},[A,_,f.dayStem,f.hourBranch]);const Dt=O.useCallback(xt=>{if(!b)return;if(!z&&!(b==="yearStem"||b==="yearBranch"||b==="dayStem"||b==="dayBranch")){G("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>G(null),1500);return}let vt={...f,[b]:xt};(b==="yearStem"||b==="monthStem"||b==="monthBranch")&&(vt=bt(vt,b)),(b==="dayStem"||b==="hourStem"||b==="hourBranch")&&(vt=Mt(vt,b)),p(vt);let de=!1;Et(vt)&&(w(!1),de=!0),Lt(vt)&&(T(!1),de=!0),de&&ht("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),p(vt),j(null);const He=ct(b);y(He),setTimeout(()=>{const we={...vt};if(we.yearStem&&we.yearBranch&&!we.monthStem){y("monthStem");return}if(we.monthStem&&we.monthBranch&&!we.dayStem){y("dayStem");return}if(we.dayStem&&we.dayBranch&&!we.hourStem){y("hourStem");return}},0)},[b,f,z,bt,Mt,Et,Lt]),St=g_(f),kt=O.useCallback(async()=>{if(j(null),G(null),!g_(f)){G("연·월·일·시 간지를 모두 선택하세요.");return}const xt=Vd(f.yearStem,f.yearBranch),Bt=Vd(f.monthStem,f.monthBranch),vt=Vd(f.dayStem,f.dayBranch),de=Vd(f.hourStem,f.hourBranch),He=300,we=[];k(!0);try{const qt=new Date(1900,0,1,12,0,0),je=new Date(2100,11,31,12,0,0);for(let Le=qt.getTime();Le<=je.getTime();Le+=24*3600*1e3){const Je=new Date(Le),Be=A==="자시"?"야자시":"인시",bi=oe(Je);if(bi!==xt)continue;const Jr=Se(Je);if(Jr!==Bt)continue;const Wi=ae(Je,Be);if(Wi!==vt)continue;const Hr=Ls(f.dayStem,A),Un=[];for(let mn=0;mn<12;mn++){const $r=Lr.지지[mn];Hr[$r]===de&&Un.push({branch:$r,time:cC[mn]})}if(Un.length!==0&&(we.push({date:uC(Je),year:bi,month:Jr,day:Wi,hour:de,hourSlots:Un}),we.length>=He))break}we.length===0&&G("일치하는 날짜가 없습니다. (범위: 1900–2100)"),j(we)}catch(qt){qt instanceof Error?G(qt.message):G(String(qt))}finally{k(!1)}},[f,A]),It=()=>{p({}),j(null),G(null),y(null)},ee=xt=>{j(null),xt&&p(Bt=>{const vt={...Bt};return vt.yearStem&&vt.monthBranch&&(vt.monthStem=b_(vt.yearStem,vt.monthBranch)),vt}),w(xt)},$t=xt=>{j(null),xt&&p(Bt=>{const vt={...Bt};if(vt.dayStem&&vt.hourBranch){const He=Ls(vt.dayStem,A)[vt.hourBranch];He&&(vt.hourStem=He.slice(0,1))}return vt}),T(xt)};if(!t)return null;const Xt=xt=>{if(j(null),N(xt),_&&f.dayStem&&f.hourBranch&&(f.hourBranch==="자"||f.hourBranch==="축")){const vt=Ls(f.dayStem,xt)[f.hourBranch];vt&&p(de=>({...de,hourStem:vt.slice(0,1)}))}};return g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:g.jsx(Zp,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:S,onChange:xt=>ee(xt.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:_,onChange:xt=>$t(xt.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:A==="자시",onChange:()=>Xt("자시")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:A==="인시",onChange:()=>Xt("인시")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"성별"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:D==="male",onChange:()=>$("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:D==="female",onChange:()=>$("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),H&&!z&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",g.jsx("br",{}),g.jsx("b",{children:"연주"})," 또는 ",g.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([xt,Bt])=>{const vt=!z&&!(xt==="yearStem"||xt==="yearBranch"||xt==="dayStem"||xt==="dayBranch"),de=b===xt;return g.jsxs("button",{onClick:()=>!vt&&y(xt),disabled:vt,className:["border rounded p-2 text-center cursor-pointer",de?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",vt?"opacity-50 cursor-not-allowed":""].join(" "),children:[Bt,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:f[xt]??"-"})]},xt)})}),u&&u.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),g.jsx("div",{className:"flex gap-2",children:u.map(xt=>g.jsx("button",{onClick:()=>{let Bt={...f,monthBranch:xt};d(null),Bt=bt(Bt,"monthBranch"),p(Bt),y("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:xt},xt))})]}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:b?g.jsxs("div",{className:"w-full",children:[Y&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"천간"}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:Lr.천간.map(xt=>g.jsx("button",{onClick:()=>Dt(xt),className:`border rounded px-2 py-1 cursor-pointer ${pr(xt,"stem",s)}`,children:xt},xt))})]}),F&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"지지"}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Lr.지지.filter(xt=>{const Bt=ct(b),vt=f[Bt];return vt?bC[xt]===gC[vt]:!0}).map(xt=>g.jsx("button",{onClick:()=>Dt(xt),className:`border rounded px-2 py-1 cursor-pointer ${pr(xt,"branch",s)}`,children:xt},xt))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!St){rt(!0);return}kt()},disabled:C,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:C?"검색 중...":"검색"})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:It,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),g.jsx("button",{type:"button",onClick:()=>{if((W!==null?I?.filter((Bt,vt)=>vt===W)??[]:[]).length===0){st(!0);return}R()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:I?I.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:"선택"}),g.jsx("th",{className:"p-1 text-center",children:"날짜"}),g.jsx("th",{className:"p-1 text-center",children:"연"}),g.jsx("th",{className:"p-1 text-center",children:"월"}),g.jsx("th",{className:"p-1 text-center",children:"일"}),g.jsx("th",{className:"p-1 text-center",children:"시"}),g.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),g.jsx("tbody",{children:I.map((xt,Bt)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Bt}`,checked:W===Bt,onChange:()=>ot(Bt)}),g.jsx("label",{htmlFor:`selectRow-${Bt}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:xt.date}),g.jsx("td",{className:"p-1 text-center",children:xt.year}),g.jsx("td",{className:"p-1 text-center",children:xt.month}),g.jsx("td",{className:"p-1 text-center",children:xt.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:xt.hourSlots.map((vt,de)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:vt.branch})},de))})}),g.jsx("td",{className:"p-1 text-center",children:D==="male"?"남":"여"})]},`${xt.date}-${Bt}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),et&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:et})}),K&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),ft&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",g.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const vC=Hc(t=>({shinsalBase:"일지",shinsalEra:"현대",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:i=>t({shinsalBase:i}),setShinsalEra:i=>t({shinsalEra:i}),setShinsalGaehwa:i=>t({shinsalGaehwa:i}),setHiddenStemMode:i=>t({hiddenStemMode:i})}));function J2(t){if(!t)return["","","",""];let i=Number(t.birthDay?.slice(0,4)??2e3),o=Number(t.birthDay?.slice(4,6)??1),s=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const j=Rr(i,o,s);i=j.getFullYear(),o=j.getMonth()+1,s=j.getDate()}const u=!t.birthTime||t.birthTime==="모름",d=u?4:Number(t.birthTime.slice(0,2)),f=u?30:Number(t.birthTime.slice(2,4)),p=new Date(i,o-1,s,d,f,0,0),b=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,y=Io(p,b,u),S=t.mingSikType??"야자시",w=oe(y,b),_=Se(y,b),T=ae(y,S),A=u?"":Pr(y,S),N=Yt(w),D=Yt(_),$=Yt(T),I=Yt(A);return[N,D,$,I]}function xC(t){const i=new Date(t.corrected),o=J2(t),s=o[0].charAt(0),d=["갑","병","무","경","임"].includes(s),f=t.gender==="남자",p=f&&d||!f&&!d?"forward":"backward",b=Yc(i,o[1],p,120,t.birthPlace?.lon??127.5),y=b.firstChange;if(!y)return[];const S=[];let w=Yt(b.events[0]?.gz??o[1]);for(let _=0;_<10;_++){const T=new Date(y);if(T.setFullYear(T.getFullYear()+_*10),_>0){const A=b.events[_];A&&(w=Yt(A.gz))}S.push(`${T.getFullYear()}년 ${String(T.getMonth()+1).padStart(2,"0")}월 ${w} 대운 시작`)}return S}const z0=["연","월","일","시"],Kd={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Fd={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},ip={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},_C=["갑","병","무","경","임"];function y_(t){return _C.includes(t)}const Xd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},SC={목:"화",화:"토",토:"금",금:"수",수:"목"},wC={목:"토",화:"금",토:"수",금:"목",수:"화"},TC={토:"목",금:"화",수:"토",목:"금",화:"수"},EC={화:"목",토:"화",금:"토",수:"금",목:"수"};function tS(t){const i={};for(const[o,s]of Object.entries(t))if(Array.isArray(s))s.length>0&&(i[o]=s);else if(typeof s=="object"&&s!==null){const u=tS(s);Object.keys(u).length>0&&(i[o]=u)}else s!=null&&s!==""&&(i[o]=s);return i}function MC(t){return JSON.stringify(t,null,2).replace(/\[\s+/g,"[").replace(/\s+\]/g,"]").replace(/\s*,\s*/g,",")}function hi(t,i){if(i==null||i==="")return"";const o=typeof i=="object"?MC(tS(i)):String(i);return`## ${t}
${o}`}function jf(t){if(!t)return null;const i=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(i))return i;if(Kd[i])return Kd[i];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(i))return Xd[i]??null;if(Fd[i])return Xd[Fd[i]]??null;const o=i.charAt(0);return Kd[o]?Kd[o]:["갑","을","병","정","무","기","경","신","임","계"].includes(o)?o:Fd[o]?Xd[Fd[o]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(o)?Xd[o]??null:null}function NC(t,i){const o=ip[t],s=ip[i];if(!o||!s)return"비견";let u;s===o?u="비견":s===SC[o]?u="식신":s===wC[o]?u="편재":s===TC[o]?u="편관":s===EC[o]?u="편인":u="비견";const d=y_(t)===y_(i);switch(u){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function Yp(t){const i=Object.entries(t),o=i.reduce((y,[,S])=>y+(S>0?S:0),0);if(o<=0)return Object.fromEntries(i.map(([y])=>[y,0]));const s=i.map(([y,S])=>[y,(S>0?S:0)*100/o]),u=s.map(([y,S])=>[y,Math.round(S)]);let d=u.reduce((y,[,S])=>y+S,0);const f=s.map(([y,S])=>[y,S-Math.round(S)]).sort((y,S)=>S[1]-y[1]),p=Object.fromEntries(u.map(([y,S])=>[y,S]));let b=0;for(;d<100&&b<f.length;)p[f[b][0]]+=1,d+=1,b+=1;return p}const AC={natal:50,dae:30,se:20,wol:7,il:3};function DC(t){const i={};for(const{kind:s,bare:u}of t){const d=AC[s]??0;if(d<=0)continue;const f=Yp(u);for(const[p,b]of Object.entries(f))i[p]=(i[p]??0)+b*d}const o=Object.values(i).reduce((s,u)=>s+u,0);if(o>0)for(const s of Object.keys(i))i[s]=i[s]/o*100;return i}function jC(t,i){const o={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,u]of Object.entries(t??{})){if(u<=0)continue;const d=jf(s);if(!d)continue;const f=NC(i,d);o[f]+=u}return Yp(o)}function kC(t){if(!t)return[];const i=jf(t.charAt(0)),o=jf(t.charAt(1));return[i,o].filter(Boolean)}function Wd(t){const i=kC(t),o={};for(const s of i)o[s]=(o[s]??0)+1;return o}function OC(t){const{ms:i,natal:o,chain:s,basis:u,tab:d,unified:f}=t,p=[Yt(o[0]??""),Yt(o[1]??""),Yt(o[2]??""),Yt(o[3]??"")],b=xC(i).slice(0,10),y=M2(p),S=Bs({natal:p,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),{shinsalEra:w,shinsalGaehwa:_,shinsalBase:T}=vC.getState(),A=T==="연지"?p[0]?.charAt(1)??"":p[2]?.charAt(1)??"",N=p.map((st,R)=>({pos:z0[R],gz:st,shinsal:gi({baseBranch:A,targetBranch:st.charAt(1),era:w,gaehwa:_})})),D={};for(const[st,R]of Object.entries(f.perStemElementScaled??{}))if(R>0){const H=jf(st);H&&(D[H]=(D[H]??0)+R)}const $=s?.dae?Wd(s.dae):{},I=s?.se?Wd(s.se):{},j=s?.wol?Wd(s.wol):{},C=s?.il?Wd(s.il):{},k=DC([{kind:"natal",bare:D},{kind:"dae",bare:$},{kind:"se",bare:I},{kind:"wol",bare:j},{kind:"il",bare:C}]),G=jC(k,f.dayStem);function W(st){const R={목:0,화:0,토:0,금:0,수:0};for(const[H,X]of Object.entries(st)){const Q=ip[H];Q&&(R[Q]+=X)}return R}const ot=Yp(k),nt=W(ot),tt=Y2(p,{criteriaMode:"modern",useHarmonyOverlay:!0}),Z=w2(tt),{flags:U}=U2(p,nt),et=`${Z} (${tt.toFixed(1)}%) · ${[`득령 ${U.비겁.령||U.인성.령?"인정":"불인정"}`,`득지 ${U.비겁.지||U.인성.지?"인정":"불인정"}`,`득세 ${U.비겁.세?"인정":"불인정"}`].join(", ")}`;function lt(st){const R=st.birthDay??"",H=R.slice(0,4),X=R.slice(4,6),Q=R.slice(6,8);let z="";if(st.corrected instanceof Date&&!isNaN(st.corrected.getTime())){const Y=String(st.corrected.getHours()).padStart(2,"0"),F=String(st.corrected.getMinutes()).padStart(2,"0");z=`${Y}:${F}`}return`${H}년 ${X}월 ${Q}일 보정시 ${z}`}function ht(st,R){if(!R)return"(없음)";const H=[];return(st==="대운"||st==="세운"||st==="월운"||st==="일운")&&R.dae&&H.push(`대운:${Yt(R.dae)}`),(st==="세운"||st==="월운"||st==="일운")&&R.se&&H.push(`세운:${Yt(R.se)}`),(st==="월운"||st==="일운")&&R.wol&&H.push(`월운:${Yt(R.wol)}`),st==="일운"&&R.il&&H.push(`일운:${Yt(R.il)}`),H.length>0?H.join(" / "):"(없음)"}const K=[`📌 명식: ${i.name??"이름없음"} (${lt(i)})`,`원국 4주: ${p.map((st,R)=>st?`${st}${["년","월","일","시"][R]}`:"").filter(Boolean).join(" ")||"(계산 실패)"}`,`운: ${ht(d,s)}`].join(`
`),rt=[hi("대운 리스트 (10개)",b),hi("신강도",et),hi(`오행강약(퍼센트·탭=${d})`,nt),hi(`십신 강약(소분류 10개·탭=${d}·합계 100)`,G),hi("십이운성(원국)",p.map((st,R)=>({pos:z0[R],gz:st,unseong:pi(p[2]?.charAt(0)??"",st.charAt(1))}))),hi("십이신살(원국·설정 반영)",p.map((st,R)=>st&&{pos:z0[R],gz:st,shinsal:N[R]?.shinsal})),hi("형충회합(원국)",y),hi("형충회합(운 포함: 탭 연동)",S),hi("신살(원국 전용)",{good:_c({natal:p,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).good,bad:_c({natal:p,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).bad,meta:_c({natal:p,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:u}).meta}),hi(`신살(운 포함·탭=${d})`,_c({natal:p,daewoon:d!=="원국"?s?.dae??null:null,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??null:null,wolwoon:d==="월운"||d==="일운"?s?.wol??null:null,ilwoon:d==="일운"?s?.il??null:null,basis:u}))].join(`

`),ft=[`당신은 명리학 전문가입니다.
    아래의 사주 명식을 기반으로 해석하십시오.
    ※ 반드시 단계적으로 서술하십시오.
    ※ 요약하지 말고, 각 항목을 빠짐없이 다루십시오.
    0. 원국과 대운 리스트로 큰 흐름 설명
    1. 신강/신약 판정 + 득령/득지/득세 근거
    2. 오행 강약 + 일간 기준 십신 역할
    3. 형충회합(원국→운 포함 순서)
    4. 십이운성/십이신살 해석
    5. 주요 신살(길/흉) 구체 사례
    6. 종합 운세(애정/재물/건강/직업)
    7. 마크다운 금지, 구어체 서술.`].join(`
`);return[K,rt,ft].join(`

`)}const CC=["원국","대운","세운","월운","일운"],eS={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},nS={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function H0(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const s=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=eS[s[1]],d=nS[s[2]];return u&&d?`${u}${d}`:""}return""}function v_(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}function x_(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map((o,s)=>{if(!o)return"";const u=o.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${eS[f[1]]}${nS[f[2]]}`:s<=2?"--":""})}function LC({ms:t,natal:i,chain:o,basis:s,lunarPillars:u,includeTenGod:d=!1}){const[f,p]=O.useState("원국"),{yearGZ:b,monthGZ:y,dayGZ:S}=In(),w=O.useMemo(()=>({dae:o?.dae??null,se:o?.se??(b?Yt(b):null),wol:o?.wol??(y?Yt(y):null),il:o?.il??(S?Yt(S):null)}),[o,b,y,S]),{manualHour:_}=$c(),T=t.mingSikType??"야자시",A=O.useMemo(()=>x_(i),[i]),N=O.useMemo(()=>x_(u),[u]),D=O.useMemo(()=>{const lt=[...A];return(!lt[3]||lt[3]==="")&&_&&(lt[3]=_.stem+_.branch),lt},[A,_]),$=O.useMemo(()=>{const lt=[...N];return(!lt[3]||lt[3]==="")&&_&&(lt[3]=_.stem+_.branch),lt},[N,_]),I=O.useMemo(()=>{const lt=Number(t.birthDay?.slice(0,4)),ht=Number(t.birthDay?.slice(4,6)),K=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(lt)||!Number.isFinite(ht)||!Number.isFinite(K))return null;const rt=new Date(lt,ht-1,K,12,0,0,0),ft=H0(oe(rt)||""),st=H0(Se(rt)||""),R=H0(ae(rt,T)||"");return[ft,st,R,""]},[t.birthDay,T]),j=v_(D),C=v_($),[k]=O.useState("solar"),G=k==="lunar"?C?"lunar":j?"solar":"lunar":j?"solar":C?"lunar":"solar",W=O.useMemo(()=>{const ht=[...G==="lunar"?C?$:j?D:I??["","","",""]:j?D:C?$:I??["","","",""]];return(!ht[3]||ht[3]==="")&&_&&(ht[3]=_.stem+_.branch),ht},[G,j,C,D,$,I,_]),ot=O.useMemo(()=>_?_.stem+_.branch:W[3]||"",[_,W]),nt=O.useMemo(()=>q2({natal:W,tab:f,chain:o,hourKey:ot}),[W,f,o,ot]),tt=O.useMemo(()=>t?OC({ms:t,natal:i,chain:w,basis:s,tab:f,unified:nt}):"",[t,i,s,d,f,w,nt]),[Z,U]=O.useState(!1);async function et(){if(tt)try{await navigator.clipboard.writeText(tt),U(!0),setTimeout(()=>U(!1),1200)}catch{U(!1)}}return t?g.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT 프롬프트 제공용"}),g.jsx("button",{onClick:et,className:`px-3 py-1 rounded-md text-xs cursor-pointer ${Z?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:Z?"복사됨!":"프롬프트 복사"})]}),g.jsx("div",{className:"flex gap-1 flex-wrap",children:CC.map(lt=>g.jsx("button",{onClick:()=>{p(lt)},className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${f===lt?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:lt},lt))}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"위에 피커로 날짜를 조정할 수 있습니다."}),g.jsx("p",{children:"각 탭에 따라서, 기준이 달라집니다."}),g.jsx("p",{children:"프롬포트를 복사하여 마음껏 커스텀하여, 사용할 수 있습니다."})]}),g.jsx("textarea",{readOnly:!0,value:tt,placeholder:"명식을 선택하면 프롬프트가 생성됩니다.",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"⚠️ 명식을 먼저 선택해주세요."})}function BC(t){const i=In(d=>d.date),o=In(d=>d.rule),s=In(d=>d.lon)??127.5,u=qc(t);return O.useMemo(()=>{if(!t)return{dae:null,se:null,wol:null,il:null};const d=Fc(u,i),f=d>=0?u[d]?.gz??null:null,p=oe(i,s),b=Se(i,s),y=ae(i,o);return{dae:f,se:p,wol:b,il:y}},[t,u,i,o,s])}function RC(){const{list:t}=tl(),[i,o]=O.useState(t.length>0?t[0].id:""),[s,u]=O.useState(!1),[d,f]=O.useState(!1),[p,b]=O.useState(null),[y,S]=O.useState(!1),[w,_]=O.useState(!1),T=O.useMemo(()=>t.find(k=>k.id===i)??t[0],[t,i]);O.useEffect(()=>{S(!0),_(!1)},[]);const A=()=>{u(!0)},N=O.useMemo(()=>J2(T),[T]),D=BC(T),[$,I]=O.useState(!1),j=k=>typeof k=="string"&&k.length>=2,C=k=>Array.isArray(k)&&k.length===4&&k.every(j);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(SO,{onOpenSidebar:()=>f(!0),onAddNew:A,onOpenCustom:()=>I(!0)}),g.jsx(yC,{open:$,onClose:()=>I(!1),onSave:k=>{o(k.id),S(!1),_(!1),f(!1)}}),g.jsx(mT,{position:"top-center"}),g.jsx(HO,{open:d,onClose:()=>f(!1),onView:k=>{o(k.id),f(!1),S(!1),_(!1),In.getState().resetDate()},onAddNew:A,onEdit:k=>{b(k),o(k.id),f(!1),S(!1),_(!1)},onDeleteView:()=>{o(t.length>0?t[0].id:""),S(!0),_(!1)}}),y&&g.jsx(lE,{}),s&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6",children:g.jsx(JD,{onSave:k=>{o(k.id),S(!1),_(!1),f(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),T&&!y&&!w&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(fj,{data:T,hourTable:T.mingSikType??"야자시"})}),g.jsx(lC,{ms:T}),g.jsx("div",{children:g.jsx(X4,{data:T})}),g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(LC,{ms:T,natal:C(N)?N:[],chain:D,basis:{voidBasis:"day",samjaeBasis:"day"},includeTenGod:!0,lunarPillars:[]})})]}),w&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(oC,{people:t})}),p&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(qO,{item:p,onClose:()=>{b(null)}})})}),g.jsx(AO,{onShowToday:()=>{S(!0),_(!1)},onShowCouple:()=>{_(!0),S(!1)}}),g.jsx(sC,{})]})}Mw.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(RC,{})}));
