function e2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var gw={exports:{}},jh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function RH(){if(tC)return jh;tC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return jh.Fragment=t,jh.jsx=n,jh.jsxs=n,jh}var nC;function LH(){return nC||(nC=1,gw.exports=RH()),gw.exports}var g=LH();const Q3="harim.theme",JS="harim.settings.v1";function e$(){try{const e=localStorage.getItem(Q3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(JS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function t$(e){try{localStorage.setItem(Q3,e);const t=localStorage.getItem(JS),n=t?JSON.parse(t):{};localStorage.setItem(JS,JSON.stringify({...n,theme:e}))}catch{}}function n$(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=e$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n$(e)}catch{}})();var bw={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function IH(){if(rC)return rt;rC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function T(B,W,ae){this.props=B,this.context=W,this.refs=_,this.updater=ae||E}T.prototype.isReactComponent={},T.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function j(B,W,ae){this.props=B,this.context=W,this.refs=_,this.updater=ae||E}var M=j.prototype=new N;M.constructor=j,S(M,T.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function P(){}var $={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Y(B,W,ae){var X=ae.ref;return{$$typeof:e,type:B,key:W,ref:X!==void 0?X:null,props:ae}}function K(B,W){return Y(B.type,W,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return W[ae]})}var Z=/\/+/g;function Q(B,W){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):W.toString(36)}function V(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,W,ae,X,oe){var de=typeof B;(de==="undefined"||de==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case h:return pe=B._init,q(pe(B._payload),W,ae,X,oe)}}if(pe)return oe=oe(B),pe=X===""?"."+Q(B,0):X,D(oe)?(ae="",pe!=null&&(ae=pe.replace(Z,"$&/")+"/"),q(oe,W,ae,"",function(je){return je})):oe!=null&&(U(oe)&&(oe=K(oe,ae+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(Z,"$&/")+"/")+pe)),W.push(oe)),1;pe=0;var ye=X===""?".":X+":";if(D(B))for(var ne=0;ne<B.length;ne++)X=B[ne],de=ye+Q(X,ne),pe+=q(X,W,ae,de,oe);else if(ne=x(B),typeof ne=="function")for(B=ne.call(B),ne=0;!(X=B.next()).done;)X=X.value,de=ye+Q(X,ne++),pe+=q(X,W,ae,de,oe);else if(de==="object"){if(typeof B.then=="function")return q(V(B),W,ae,X,oe);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(B,W,ae){if(B==null)return B;var X=[],oe=0;return q(B,X,"","",function(de){return W.call(ae,de,oe++)}),X}function re(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:J,forEach:function(B,W,ae){J(B,function(){W.apply(this,arguments)},ae)},count:function(B){var W=0;return J(B,function(){W++}),W},toArray:function(B){return J(B,function(W){return W})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return rt.Activity=p,rt.Children=se,rt.Component=T,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=j,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},rt.cache=function(B){return function(){return B.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(B,W,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var X=S({},B.props),oe=B.key;if(W!=null)for(de in W.key!==void 0&&(oe=""+W.key),W)!H.call(W,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&W.ref===void 0||(X[de]=W[de]);var de=arguments.length-2;if(de===1)X.children=ae;else if(1<de){for(var pe=Array(de),ye=0;ye<de;ye++)pe[ye]=arguments[ye+2];X.children=pe}return Y(B.type,oe,X)},rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},rt.createElement=function(B,W,ae){var X,oe={},de=null;if(W!=null)for(X in W.key!==void 0&&(de=""+W.key),W)H.call(W,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=W[X]);var pe=arguments.length-2;if(pe===1)oe.children=ae;else if(1<pe){for(var ye=Array(pe),ne=0;ne<pe;ne++)ye[ne]=arguments[ne+2];oe.children=ye}if(B&&B.defaultProps)for(X in pe=B.defaultProps,pe)oe[X]===void 0&&(oe[X]=pe[X]);return Y(B,de,oe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:l,render:B}},rt.isValidElement=U,rt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:re}},rt.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},rt.startTransition=function(B){var W=$.T,ae={};$.T=ae;try{var X=B(),oe=$.S;oe!==null&&oe(ae,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(P,ue)}catch(de){ue(de)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),$.T=W}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(B){return $.H.use(B)},rt.useActionState=function(B,W,ae){return $.H.useActionState(B,W,ae)},rt.useCallback=function(B,W){return $.H.useCallback(B,W)},rt.useContext=function(B){return $.H.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B,W){return $.H.useDeferredValue(B,W)},rt.useEffect=function(B,W){return $.H.useEffect(B,W)},rt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(B,W,ae){return $.H.useImperativeHandle(B,W,ae)},rt.useInsertionEffect=function(B,W){return $.H.useInsertionEffect(B,W)},rt.useLayoutEffect=function(B,W){return $.H.useLayoutEffect(B,W)},rt.useMemo=function(B,W){return $.H.useMemo(B,W)},rt.useOptimistic=function(B,W){return $.H.useOptimistic(B,W)},rt.useReducer=function(B,W,ae){return $.H.useReducer(B,W,ae)},rt.useRef=function(B){return $.H.useRef(B)},rt.useState=function(B){return $.H.useState(B)},rt.useSyncExternalStore=function(B,W,ae){return $.H.useSyncExternalStore(B,W,ae)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.2.1",rt}var iC;function rf(){return iC||(iC=1,bw.exports=IH()),bw.exports}var w=rf();const Wt=hi(w),$H=e2({__proto__:null,default:Wt},[w]);var yw={exports:{}},Oh={},vw={exports:{}},xw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function BH(){return aC||(aC=1,(function(e){function t(q,J){var re=q.length;q.push(J);e:for(;0<re;){var ue=re-1>>>1,se=q[ue];if(0<i(se,J))q[ue]=J,q[re]=se,re=ue;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],re=q.pop();if(re!==J){q[0]=re;e:for(var ue=0,se=q.length,B=se>>>1;ue<B;){var W=2*(ue+1)-1,ae=q[W],X=W+1,oe=q[X];if(0>i(ae,re))X<se&&0>i(oe,ae)?(q[ue]=oe,q[X]=re,ue=X):(q[ue]=ae,q[W]=re,ue=W);else if(X<se&&0>i(oe,re))q[ue]=oe,q[X]=re,ue=X;else break e}}return J}function i(q,J){var re=q.sortIndex-J.sortIndex;return re!==0?re:q.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,p=null,b=3,x=!1,E=!1,S=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=q)r(f),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(f)}}function D(q){if(S=!1,M(q),!E)if(n(u)!==null)E=!0,P||(P=!0,z());else{var J=n(f);J!==null&&V(D,J.startTime-q)}}var P=!1,$=-1,H=5,Y=-1;function K(){return _?!0:!(e.unstable_now()-Y<H)}function U(){if(_=!1,P){var q=e.unstable_now();Y=q;var J=!0;try{e:{E=!1,S&&(S=!1,N($),$=-1),x=!0;var re=b;try{t:{for(M(q),p=n(u);p!==null&&!(p.expirationTime>q&&K());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,b=p.priorityLevel;var se=ue(p.expirationTime<=q);if(q=e.unstable_now(),typeof se=="function"){p.callback=se,M(q),J=!0;break t}p===n(u)&&r(u),M(q)}else r(u);p=n(u)}if(p!==null)J=!0;else{var B=n(f);B!==null&&V(D,B.startTime-q),J=!1}}break e}finally{p=null,b=re,x=!1}J=void 0}}finally{J?z():P=!1}}}var z;if(typeof j=="function")z=function(){j(U)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=U,z=function(){Q.postMessage(null)}}else z=function(){T(U,0)};function V(q,J){$=T(function(){q(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var re=b;b=J;try{return q()}finally{b=re}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=b;b=q;try{return J()}finally{b=re}},e.unstable_scheduleCallback=function(q,J,re){var ue=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,q={id:h++,callback:J,priorityLevel:q,startTime:re,expirationTime:se,sortIndex:-1},re>ue?(q.sortIndex=re,t(f,q),n(u)===null&&q===n(f)&&(S?(N($),$=-1):S=!0,V(D,re-ue))):(q.sortIndex=se,t(u,q),E||x||(E=!0,P||(P=!0,z()))),q},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(q){var J=b;return function(){var re=b;b=J;try{return q.apply(this,arguments)}finally{b=re}}}})(xw)),xw}var oC;function zH(){return oC||(oC=1,vw.exports=BH()),vw.exports}var _w={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function UH(){if(sC)return Ar;sC=1;var e=rf();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ar.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,h)},Ar.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},Ar.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ar.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ar.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ar.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ar.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ar.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ar.requestFormReset=function(u){r.d.r(u)},Ar.unstable_batchedUpdates=function(u,f){return u(f)},Ar.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Ar.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ar.version="19.2.1",Ar}var lC;function r$(){if(lC)return _w.exports;lC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_w.exports=UH(),_w.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function FH(){if(cC)return Oh;cC=1;var e=zH(),t=rf(),n=r$();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,v=c;;){var A=m.return;if(A===null)break;var O=A.alternate;if(O===null){if(v=A.return,v!==null){m=v;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===m)return u(A),s;if(O===v)return u(A),c;O=O.sibling}throw Error(r(188))}if(m.return!==v.return)m=A,v=O;else{for(var I=!1,G=A.child;G;){if(G===m){I=!0,m=A,v=O;break}if(G===v){I=!0,v=A,m=O;break}G=G.sibling}if(!I){for(G=O.child;G;){if(G===m){I=!0,m=O,v=A;break}if(G===v){I=!0,v=O,m=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case j:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case M:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return c=s.displayName||null,c!==null?c:Q(s.type)||"Memo";case H:c=s._payload,s=s._init;try{return Q(s(c))}catch{}}return null}var V=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function W(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ae(s,c){se++,ue[se]=s.current,s.current=c}var X=B(null),oe=B(null),de=B(null),pe=B(null);function ye(s,c){switch(ae(de,c),ae(oe,s),ae(X,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?EN(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=EN(c),s=kN(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(X),ae(X,s)}function ne(){W(X),W(oe),W(de)}function je(s){s.memoizedState!==null&&ae(pe,s);var c=X.current,m=kN(c,s.type);c!==m&&(ae(oe,s),ae(X,m))}function Ce(s){oe.current===s&&(W(X),W(oe)),pe.current===s&&(W(pe),Eh._currentValue=re)}var ve,Ze;function Ne(s){if(ve===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);ve=c&&c[1]||"",Ze=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+Ze}var _e=!1;function Oe(s,c){if(!s||_e)return"";_e=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var be=xe}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(xe){be=xe}s.call(Te.prototype)}}else{try{throw Error()}catch(xe){be=xe}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&be&&typeof xe.stack=="string")return[xe.stack,be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=v.DetermineComponentFrameRoot(),I=O[0],G=O[1];if(I&&G){var te=I.split(`
`),me=G.split(`
`);for(A=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;A<me.length&&!me[A].includes("DetermineComponentFrameRoot");)A++;if(v===te.length||A===me.length)for(v=te.length-1,A=me.length-1;1<=v&&0<=A&&te[v]!==me[A];)A--;for(;1<=v&&0<=A;v--,A--)if(te[v]!==me[A]){if(v!==1||A!==1)do if(v--,A--,0>A||te[v]!==me[A]){var Ee=`
`+te[v].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=v&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ne(m):""}function Ie(s,c){switch(s.tag){case 26:case 27:case 5:return Ne(s.type);case 16:return Ne("Lazy");case 13:return s.child!==c&&c!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Oe(s.type,!1);case 11:return Oe(s.type.render,!1);case 1:return Oe(s.type,!0);case 31:return Ne("Activity");default:return""}}function Ve(s){try{var c="",m=null;do c+=Ie(s,m),m=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var yt=Object.prototype.hasOwnProperty,xt=e.unstable_scheduleCallback,Dt=e.unstable_cancelCallback,he=e.unstable_shouldYield,De=e.unstable_requestPaint,Be=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,gi=e.unstable_LowPriority,bi=e.unstable_IdlePriority,Ls=e.log,Is=e.unstable_setDisableYieldValue,qt=null,mn=null;function yi(s){if(typeof Ls=="function"&&Is(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(qt,s)}catch{}}var Mr=Math.clz32?Math.clz32:wx,Ul=Math.log,_x=Math.LN2;function wx(s){return s>>>=0,s===0?32:31-(Ul(s)/_x|0)|0}var Fl=256,Hl=262144,Gl=4194304;function Po(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function yu(s,c,m){var v=s.pendingLanes;if(v===0)return 0;var A=0,O=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=v&134217727;return G!==0?(v=G&~O,v!==0?A=Po(v):(I&=G,I!==0?A=Po(I):m||(m=G&~s,m!==0&&(A=Po(m))))):(G=v&~O,G!==0?A=Po(G):I!==0?A=Po(I):m||(m=v&~s,m!==0&&(A=Po(m)))),A===0?0:c!==0&&c!==A&&(c&O)===0&&(O=A&-A,m=c&-c,O>=m||O===32&&(m&4194048)!==0)?c:A}function ql(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Sx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(){var s=Gl;return Gl<<=1,(Gl&62914560)===0&&(Gl=4194304),s}function Af(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Ro(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ex(s,c,m,v,A,O){var I=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,me=s.hiddenUpdates;for(m=I&~m;0<m;){var Ee=31-Mr(m),Te=1<<Ee;G[Ee]=0,te[Ee]=-1;var be=me[Ee];if(be!==null)for(me[Ee]=null,Ee=0;Ee<be.length;Ee++){var xe=be[Ee];xe!==null&&(xe.lane&=-536870913)}m&=~Te}v!==0&&Lp(s,v,0),O!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=O&~(I&~c))}function Lp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-Mr(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|m&261930}function Ip(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var v=31-Mr(m),A=1<<v;A&c|s[v]&c&&(s[v]|=c),m&=~A}}function $p(s,c){var m=c&-c;return m=(m&42)!==0?1:qr(m),(m&(s.suspendedLanes|c))!==0?0:m}function qr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Tf(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:WN(s.type))}function jf(s,c){var m=J.p;try{return J.p=s,c()}finally{J.p=m}}var _a=Math.random().toString(36).slice(2),jn="__reactFiber$"+_a,Qn="__reactProps$"+_a,Lo="__reactContainer$"+_a,Wa="__reactEvents$"+_a,Bp="__reactListeners$"+_a,kx="__reactHandles$"+_a,zp="__reactResources$"+_a,Yl="__reactMarker$"+_a;function Of(s){delete s[jn],delete s[Qn],delete s[Wa],delete s[Bp],delete s[kx]}function Io(s){var c=s[jn];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Lo]||m[jn]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=MN(s);s!==null;){if(m=s[jn])return m;s=MN(s)}return c}s=m,m=s.parentNode}return null}function $s(s){if(s=s[jn]||s[Lo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Va(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Bs(s){var c=s[zp];return c||(c=s[zp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function On(s){s[Yl]=!0}var Up=new Set,Fp={};function $o(s,c){Za(s,c),Za(s+"Capture",c)}function Za(s,c){for(Fp[s]=c,s=0;s<c.length;s++)Up.add(c[s])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nf={},Cf={};function Wl(s){return yt.call(Cf,s)?!0:yt.call(Nf,s)?!1:Kl.test(s)?Cf[s]=!0:(Nf[s]=!0,!1)}function ct(s,c,m){if(Wl(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function It(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function Yr(s,c,m,v){if(v===null)s.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+v)}}function Bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Mf(s,c,m){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,O=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,O.call(this,I)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function nt(s){if(!s._valueTracker){var c=Bo(s)?"checked":"value";s._valueTracker=Mf(s,c,""+s[c])}}function en(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return s&&(v=Bo(s)?s.checked?"true":"false":s.value),s=v,s!==m?(c.setValue(s),!0):!1}function zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var vu=/[\n"\\]/g;function Zt(s){return s.replace(vu,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Df(s,c,m,v,A,O,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),c!=null?I==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Bn(c)):s.value!==""+Bn(c)&&(s.value=""+Bn(c)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),c!=null?wa(s,I,Bn(c)):m!=null?wa(s,I,Bn(m)):v!=null&&s.removeAttribute("value"),A==null&&O!=null&&(s.defaultChecked=!!O),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Bn(G):s.removeAttribute("name")}function Vl(s,c,m,v,A,O,I,G){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),c!=null||m!=null){if(!(O!=="submit"&&O!=="reset"||c!=null)){nt(s);return}m=m!=null?""+Bn(m):"",c=c!=null?""+Bn(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=G?s.checked:!!v,s.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),nt(s)}function wa(s,c,m){c==="number"&&zs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Ut(s,c,m,v){if(s=s.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=c.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&v&&(s[m].defaultSelected=!0)}else{for(m=""+Bn(m),c=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,v&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function Xa(s,c,m){if(c!=null&&(c=""+Bn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Bn(m):""}function Us(s,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(r(92));if(V(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Bn(c),s.defaultValue=m,v=s.textContent,v===m&&v!==""&&v!==null&&(s.value=v),nt(s)}function Yi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(s,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,m):typeof m!="number"||m===0||Pf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function xu(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&m[A]!==v&&Fs(s,A,v)}else for(var O in c)c.hasOwnProperty(O)&&Fs(s,O,c[O])}function Zl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(s){return Rf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Kr(){}var wu=null;function Xl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,tt=null;function vi(s){var c=$s(s);if(c&&(s=c.stateNode)){var m=s[Qn]||null;e:switch(s=c.stateNode,c.type){case"input":if(Df(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Zt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==s&&v.form===s.form){var A=v[Qn]||null;if(!A)throw Error(r(90));Df(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===s.form&&en(v)}break e;case"textarea":Xa(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Ut(s,!!m.multiple,c,!1)}}}var Nt=!1;function Lf(s,c,m){if(Nt)return s(c,m);Nt=!0;try{var v=s(c);return v}finally{if(Nt=!1,(Gs!==null||tt!==null)&&($g(),Gs&&(c=Gs,s=tt,tt=Gs=null,vi(c),s)))for(c=0;c<s.length;c++)vi(s[c])}}function zo(s,c){var m=s.stateNode;if(m===null)return null;var v=m[Qn]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=!1;if(xi)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Jl=!1}var Ki=null,Uo=null,pn=null;function Ja(){if(pn)return pn;var s,c=Uo,m=c.length,v,A="value"in Ki?Ki.value:Ki.textContent,O=A.length;for(s=0;s<m&&c[s]===A[s];s++);var I=m-s;for(v=1;v<=I&&c[m-v]===A[O-v];v++);return pn=A.slice(s,1<v?1-v:void 0)}function Ql(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function ec(){return!0}function Hp(){return!1}function dr(s){function c(m,v,A,O,I){this._reactName=m,this._targetInst=A,this.type=v,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(O):O[G]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ec:Hp,this.isPropagationStopped=Hp,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),c}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=dr(Sa),qs=p({},Sa,{view:0,detail:0}),ht=dr(qs),If,Dr,Ea,tc=p({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ea&&(Ea&&s.type==="mousemove"?(If=s.screenX-Ea.screenX,Dr=s.screenY-Ea.screenY):Dr=If=0,Ea=s),If)},movementY:function(s){return"movementY"in s?s.movementY:Dr}}),Gp=dr(tc),$f=p({},tc,{dataTransfer:0}),Ax=dr($f),qp=p({},qs,{relatedTarget:0}),Bf=dr(qp),Tx=p({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=dr(Tx),jx=p({},Sa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wi=dr(jx),Ox=p({},Sa,{data:0}),Uf=dr(Ox),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ff(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Kp[s])?!!c[s]:!1}function Hf(){return Ff}var Wp=p({},qs,{key:function(s){if(s.key){var c=Qa[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Ql(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(s){return s.type==="keypress"?Ql(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ql(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vp=dr(Wp),Nx=p({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=dr(Nx),Gf=p({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),Cx=dr(Gf),Xp=p({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=dr(Xp),Eu=p({},tc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fo=dr(Eu),Mx=p({},Sa,{newState:0,oldState:0}),nc=dr(Mx),Wr=[9,13,27,32],ku=xi&&"CompositionEvent"in window,Ys=null;xi&&"documentMode"in document&&(Ys=document.documentMode);var Dx=xi&&"TextEvent"in window&&!Ys,Au=xi&&(!ku||Ys&&8<Ys&&11>=Ys),Tu=" ",Qp=!1;function eg(s,c){switch(s){case"keyup":return Wr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ks=!1;function wi(s,c){switch(s){case"compositionend":return qf(c);case"keypress":return c.which!==32?null:(Qp=!0,Tu);case"textInput":return s=c.data,s===Tu&&Qp?null:s;default:return null}}function Ws(s,c){if(Ks)return s==="compositionend"||!ku&&eg(s,c)?(s=Ja(),pn=Uo=Ki=null,Ks=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Au&&c.locale!=="ko"?null:c.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Px[s.type]:c==="textarea"}function tg(s,c,m,v){Gs?tt?tt.push(v):tt=[v]:Gs=v,c=qg(c,"onChange"),0<c.length&&(m=new Su("onChange","change",null,m,v),s.push({event:m,listeners:c}))}var Zi=null,rc=null;function ic(s){yN(s,0)}function ac(s){var c=Va(s);if(en(c))return s}function oc(s,c){if(s==="change")return c}var ng=!1;if(xi){var Xi;if(xi){var Vs="oninput"in document;if(!Vs){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),Vs=typeof rg.oninput=="function"}Xi=Vs}else Xi=!1;ng=Xi&&(!document.documentMode||9<document.documentMode)}function ju(){Zi&&(Zi.detachEvent("onpropertychange",ig),rc=Zi=null)}function ig(s){if(s.propertyName==="value"&&ac(rc)){var c=[];tg(c,rc,s,Xl(s)),Lf(ic,c)}}function ka(s,c,m){s==="focusin"?(ju(),Zi=c,rc=m,Zi.attachEvent("onpropertychange",ig)):s==="focusout"&&ju()}function Rx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ac(rc)}function Zs(s,c){if(s==="click")return ac(c)}function Lx(s,c){if(s==="input"||s==="change")return ac(c)}function Aa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var er=typeof Object.is=="function"?Object.is:Aa;function Xs(s,c){if(er(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var A=m[v];if(!yt.call(c,A)||!er(s[A],c[A]))return!1}return!0}function Ou(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sc(s,c){var m=Ou(s);s=0;for(var v;m;){if(m.nodeType===3){if(v=s+m.textContent.length,s<=c&&v>=c)return{node:m,offset:c-s};s=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ou(m)}}function Nu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Nu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function lc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=zs(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=zs(s.document)}return c}function eo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Cu=xi&&"documentMode"in document&&11>=document.documentMode,to=null,Mu=null,cc=null,Js=!1;function ag(s,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Js||to==null||to!==zs(v)||(v=to,"selectionStart"in v&&eo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),cc&&Xs(cc,v)||(cc=v,v=qg(Mu,"onSelect"),0<v.length&&(c=new Su("onSelect","select",null,c,m),s.push({event:c,listeners:v}),c.target=to)))}function no(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var Qs={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},Du={},og={};xi&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function tr(s){if(Du[s])return Du[s];if(!Qs[s])return s;var c=Qs[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in og)return Du[s]=c[m];return s}var uc=tr("animationend"),sg=tr("animationiteration"),dc=tr("animationstart"),Ix=tr("transitionrun"),lg=tr("transitionstart"),$x=tr("transitioncancel"),el=tr("transitionend"),cg=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function Vr(s,c){cg.set(s,c),$o(c,[s])}var fc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zr=[],Er=0,Pu=0;function hc(){for(var s=Er,c=Pu=Er=0;c<s;){var m=Zr[c];Zr[c++]=null;var v=Zr[c];Zr[c++]=null;var A=Zr[c];Zr[c++]=null;var O=Zr[c];if(Zr[c++]=null,v!==null&&A!==null){var I=v.pending;I===null?A.next=A:(A.next=I.next,I.next=A),v.pending=A}O!==0&&tl(m,A,O)}}function io(s,c,m,v){Zr[Er++]=s,Zr[Er++]=c,Zr[Er++]=m,Zr[Er++]=v,Pu|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function Yf(s,c,m,v){return io(s,c,m,v),mc(s)}function Ji(s,c){return io(s,null,null,c),mc(s)}function tl(s,c,m){s.lanes|=m;var v=s.alternate;v!==null&&(v.lanes|=m);for(var A=!1,O=s.return;O!==null;)O.childLanes|=m,v=O.alternate,v!==null&&(v.childLanes|=m),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(A=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,A&&c!==null&&(A=31-Mr(m),s=O.hiddenUpdates,v=s[A],v===null?s[A]=[c]:v.push(c),c.lane=m|536870912),O):null}function mc(s){if(50<bh)throw bh=0,z_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Ho={};function Bx(s,c,m,v){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(s,c,m,v){return new Bx(s,c,m,v)}function Ru(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,c){var m=s.alternate;return m===null?(m=kr(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function Kf(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function pc(s,c,m,v,A,O){var I=0;if(v=s,typeof s=="function")Ru(s)&&(I=1);else if(typeof s=="string")I=SH(s,m,X.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=kr(31,m,c,A),s.elementType=Y,s.lanes=O,s;case S:return Go(m.children,A,O,c);case _:I=8,A|=24;break;case T:return s=kr(12,m,c,A|2),s.elementType=T,s.lanes=O,s;case D:return s=kr(13,m,c,A),s.elementType=D,s.lanes=O,s;case P:return s=kr(19,m,c,A),s.elementType=P,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:I=10;break e;case N:I=9;break e;case M:I=11;break e;case $:I=14;break e;case H:I=16,v=null;break e}I=29,m=Error(r(130,s===null?"null":typeof s,"")),v=null}return c=kr(I,m,c,A),c.elementType=s,c.type=v,c.lanes=O,c}function Go(s,c,m,v){return s=kr(7,s,v,c),s.lanes=m,s}function Lu(s,c,m){return s=kr(6,s,null,c),s.lanes=m,s}function Wf(s){var c=kr(18,null,null,0);return c.stateNode=s,c}function Vf(s,c,m){return c=kr(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var d=new WeakMap;function y(s,c){if(typeof s=="object"&&s!==null){var m=d.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Ve(c)},d.set(s,c),c)}return{value:s,source:c,stack:Ve(c)}}var k=[],C=0,R=null,F=0,ee=[],ce=0,ge=null,Ae=1,Le="";function qe(s,c){k[C++]=F,k[C++]=R,R=s,F=c}function ot(s,c,m){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=ge,ge=s;var v=Ae;s=Le;var A=32-Mr(v)-1;v&=~(1<<A),m+=1;var O=32-Mr(c)+A;if(30<O){var I=A-A%5;O=(v&(1<<I)-1).toString(32),v>>=I,A-=I,Ae=1<<32-Mr(c)+A|m<<A|v,Le=O+s}else Ae=1<<O|m<<A|v,Le=s}function zn(s){s.return!==null&&(qe(s,1),ot(s,1,0))}function gn(s){for(;s===R;)R=k[--C],k[C]=null,F=k[--C],k[C]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Le=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Pr(s,c){ee[ce++]=Ae,ee[ce++]=Le,ee[ce++]=ge,Ae=c.id,Le=c.overflow,ge=s}var _t=null,wt=null,ut=!1,ao=null,Xr=!1,Iu=Error(r(519));function oo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gc(y(c,s)),Iu}function Zf(s){var c=s.stateNode,m=s.type,v=s.memoizedProps;switch(c[jn]=s,c[Qn]=v,m){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(m=0;m<vh.length;m++)ft(vh[m],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":ft("invalid",c),Vl(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":ft("invalid",c);break;case"textarea":ft("invalid",c),Us(c,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||wN(c.textContent,m)?(v.popover!=null&&(ft("beforetoggle",c),ft("toggle",c)),v.onScroll!=null&&ft("scroll",c),v.onScrollEnd!=null&&ft("scrollend",c),v.onClick!=null&&(c.onclick=Kr),c=!0):c=!1,c||oo(s,!0)}function un(s){for(_t=s.return;_t;)switch(_t.tag){case 5:case 31:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:_t=_t.return}}function Ta(s){if(s!==_t)return!1;if(!ut)return un(s),ut=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||tw(s.type,s.memoizedProps)),m=!m),m&&wt&&oo(s),un(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=CN(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=CN(s)}else c===27?(c=wt,pl(s.type)?(s=ow,ow=null,wt=s):wt=c):wt=_t?ta(s.stateNode.nextSibling):null;return!0}function qo(){wt=_t=null,ut=!1}function Xf(){var s=ao;return s!==null&&(ti===null?ti=s:ti.push.apply(ti,s),ao=null),s}function gc(s){ao===null?ao=[s]:ao.push(s)}var bc=B(null),so=null,ja=null;function nl(s,c,m){ae(bc,c._currentValue),c._currentValue=m}function Yo(s){s._currentValue=bc.current,W(bc)}function zx(s,c,m){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===m)break;s=s.return}}function Ux(s,c,m,v){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var O=A.dependencies;if(O!==null){var I=A.child;O=O.firstContext;e:for(;O!==null;){var G=O;O=A;for(var te=0;te<c.length;te++)if(G.context===c[te]){O.lanes|=m,G=O.alternate,G!==null&&(G.lanes|=m),zx(O.return,m,s),v||(I=null);break e}O=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,O=I.alternate,O!==null&&(O.lanes|=m),zx(I,m,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function $u(s,c,m,v){s=null;for(var A=c,O=!1;A!==null;){if(!O){if((A.flags&524288)!==0)O=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;er(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===pe.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Eh):s=[Eh])}A=A.return}s!==null&&Ux(c,s,m,v),c.flags|=262144}function ug(s){for(s=s.firstContext;s!==null;){if(!er(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function yc(s){so=s,ja=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fr(s){return sj(so,s)}function dg(s,c){return so===null&&yc(s),sj(s,c)}function sj(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},ja===null){if(s===null)throw Error(r(308));ja=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ja=ja.next=c;return m}var vF=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},xF=e.unstable_scheduleCallback,_F=e.unstable_NormalPriority,Nn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fx(){return{controller:new vF,data:new Map,refCount:0}}function Jf(s){s.refCount--,s.refCount===0&&xF(_F,function(){s.controller.abort()})}var Qf=null,Hx=0,Bu=0,zu=null;function wF(s,c){if(Qf===null){var m=Qf=[];Hx=0,Bu=Y_(),zu={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Hx++,c.then(lj,lj),c}function lj(){if(--Hx===0&&Qf!==null){zu!==null&&(zu.status="fulfilled");var s=Qf;Qf=null,Bu=0,zu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function SF(s,c){var m=[],v={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),v}var cj=q.S;q.S=function(s,c){YO=Be(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&wF(s,c),cj!==null&&cj(s,c)};var vc=B(null);function Gx(){var s=vc.current;return s!==null?s:Ft.pooledCache}function fg(s,c){c===null?ae(vc,vc.current):ae(vc,c.pool)}function uj(){var s=Gx();return s===null?null:{parent:Nn._currentValue,pool:s}}var Uu=Error(r(460)),qx=Error(r(474)),hg=Error(r(542)),mg={then:function(){}};function dj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function fj(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(Kr,Kr),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,mj(s),s;default:if(typeof c.status=="string")c.then(Kr,Kr);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,mj(s),s}throw _c=c,Uu}}function xc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(_c=m,Uu):m}}var _c=null;function hj(){if(_c===null)throw Error(r(459));var s=_c;return _c=null,s}function mj(s){if(s===Uu||s===hg)throw Error(r(483))}var Fu=null,eh=0;function pg(s){var c=eh;return eh+=1,Fu===null&&(Fu=[]),fj(Fu,s,c)}function th(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function gg(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function pj(s){function c(le,ie){if(s){var fe=le.deletions;fe===null?(le.deletions=[ie],le.flags|=16):fe.push(ie)}}function m(le,ie){if(!s)return null;for(;ie!==null;)c(le,ie),ie=ie.sibling;return null}function v(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function A(le,ie){return le=Qi(le,ie),le.index=0,le.sibling=null,le}function O(le,ie,fe){return le.index=fe,s?(fe=le.alternate,fe!==null?(fe=fe.index,fe<ie?(le.flags|=67108866,ie):fe):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ie,fe,ke){return ie===null||ie.tag!==6?(ie=Lu(fe,le.mode,ke),ie.return=le,ie):(ie=A(ie,fe),ie.return=le,ie)}function te(le,ie,fe,ke){var Xe=fe.type;return Xe===S?Ee(le,ie,fe.props.children,ke,fe.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&xc(Xe)===ie.type)?(ie=A(ie,fe.props),th(ie,fe),ie.return=le,ie):(ie=pc(fe.type,fe.key,fe.props,null,le.mode,ke),th(ie,fe),ie.return=le,ie)}function me(le,ie,fe,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==fe.containerInfo||ie.stateNode.implementation!==fe.implementation?(ie=Vf(fe,le.mode,ke),ie.return=le,ie):(ie=A(ie,fe.children||[]),ie.return=le,ie)}function Ee(le,ie,fe,ke,Xe){return ie===null||ie.tag!==7?(ie=Go(fe,le.mode,ke,Xe),ie.return=le,ie):(ie=A(ie,fe),ie.return=le,ie)}function Te(le,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Lu(""+ie,le.mode,fe),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return fe=pc(ie.type,ie.key,ie.props,null,le.mode,fe),th(fe,ie),fe.return=le,fe;case E:return ie=Vf(ie,le.mode,fe),ie.return=le,ie;case H:return ie=xc(ie),Te(le,ie,fe)}if(V(ie)||z(ie))return ie=Go(ie,le.mode,fe,null),ie.return=le,ie;if(typeof ie.then=="function")return Te(le,pg(ie),fe);if(ie.$$typeof===j)return Te(le,dg(le,ie),fe);gg(le,ie)}return null}function be(le,ie,fe,ke){var Xe=ie!==null?ie.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Xe!==null?null:G(le,ie,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return fe.key===Xe?te(le,ie,fe,ke):null;case E:return fe.key===Xe?me(le,ie,fe,ke):null;case H:return fe=xc(fe),be(le,ie,fe,ke)}if(V(fe)||z(fe))return Xe!==null?null:Ee(le,ie,fe,ke,null);if(typeof fe.then=="function")return be(le,ie,pg(fe),ke);if(fe.$$typeof===j)return be(le,ie,dg(le,fe),ke);gg(le,fe)}return null}function xe(le,ie,fe,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(fe)||null,G(ie,le,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return le=le.get(ke.key===null?fe:ke.key)||null,te(ie,le,ke,Xe);case E:return le=le.get(ke.key===null?fe:ke.key)||null,me(ie,le,ke,Xe);case H:return ke=xc(ke),xe(le,ie,fe,ke,Xe)}if(V(ke)||z(ke))return le=le.get(fe)||null,Ee(ie,le,ke,Xe,null);if(typeof ke.then=="function")return xe(le,ie,fe,pg(ke),Xe);if(ke.$$typeof===j)return xe(le,ie,fe,dg(ie,ke),Xe);gg(ie,ke)}return null}function ze(le,ie,fe,ke){for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null;Fe!==null&&st<fe.length;st++){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var Et=be(le,Fe,fe[st],ke);if(Et===null){Fe===null&&(Fe=pt);break}s&&Fe&&Et.alternate===null&&c(le,Fe),ie=O(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et,Fe=pt}if(st===fe.length)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;st<fe.length;st++)Fe=Te(le,fe[st],ke),Fe!==null&&(ie=O(Fe,ie,st),St===null?Xe=Fe:St.sibling=Fe,St=Fe);return ut&&qe(le,st),Xe}for(Fe=v(Fe);st<fe.length;st++)pt=xe(Fe,le,st,fe[st],ke),pt!==null&&(s&&pt.alternate!==null&&Fe.delete(pt.key===null?st:pt.key),ie=O(pt,ie,st),St===null?Xe=pt:St.sibling=pt,St=pt);return s&&Fe.forEach(function(xl){return c(le,xl)}),ut&&qe(le,st),Xe}function Qe(le,ie,fe,ke){if(fe==null)throw Error(r(151));for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null,Et=fe.next();Fe!==null&&!Et.done;st++,Et=fe.next()){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var xl=be(le,Fe,Et.value,ke);if(xl===null){Fe===null&&(Fe=pt);break}s&&Fe&&xl.alternate===null&&c(le,Fe),ie=O(xl,ie,st),St===null?Xe=xl:St.sibling=xl,St=xl,Fe=pt}if(Et.done)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;!Et.done;st++,Et=fe.next())Et=Te(le,Et.value,ke),Et!==null&&(ie=O(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return ut&&qe(le,st),Xe}for(Fe=v(Fe);!Et.done;st++,Et=fe.next())Et=xe(Fe,le,st,Et.value,ke),Et!==null&&(s&&Et.alternate!==null&&Fe.delete(Et.key===null?st:Et.key),ie=O(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return s&&Fe.forEach(function(PH){return c(le,PH)}),ut&&qe(le,st),Xe}function zt(le,ie,fe,ke){if(typeof fe=="object"&&fe!==null&&fe.type===S&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:e:{for(var Xe=fe.key;ie!==null;){if(ie.key===Xe){if(Xe=fe.type,Xe===S){if(ie.tag===7){m(le,ie.sibling),ke=A(ie,fe.props.children),ke.return=le,le=ke;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&xc(Xe)===ie.type){m(le,ie.sibling),ke=A(ie,fe.props),th(ke,fe),ke.return=le,le=ke;break e}m(le,ie);break}else c(le,ie);ie=ie.sibling}fe.type===S?(ke=Go(fe.props.children,le.mode,ke,fe.key),ke.return=le,le=ke):(ke=pc(fe.type,fe.key,fe.props,null,le.mode,ke),th(ke,fe),ke.return=le,le=ke)}return I(le);case E:e:{for(Xe=fe.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===fe.containerInfo&&ie.stateNode.implementation===fe.implementation){m(le,ie.sibling),ke=A(ie,fe.children||[]),ke.return=le,le=ke;break e}else{m(le,ie);break}else c(le,ie);ie=ie.sibling}ke=Vf(fe,le.mode,ke),ke.return=le,le=ke}return I(le);case H:return fe=xc(fe),zt(le,ie,fe,ke)}if(V(fe))return ze(le,ie,fe,ke);if(z(fe)){if(Xe=z(fe),typeof Xe!="function")throw Error(r(150));return fe=Xe.call(fe),Qe(le,ie,fe,ke)}if(typeof fe.then=="function")return zt(le,ie,pg(fe),ke);if(fe.$$typeof===j)return zt(le,ie,dg(le,fe),ke);gg(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ie!==null&&ie.tag===6?(m(le,ie.sibling),ke=A(ie,fe),ke.return=le,le=ke):(m(le,ie),ke=Lu(fe,le.mode,ke),ke.return=le,le=ke),I(le)):m(le,ie)}return function(le,ie,fe,ke){try{eh=0;var Xe=zt(le,ie,fe,ke);return Fu=null,Xe}catch(Fe){if(Fe===Uu||Fe===hg)throw Fe;var St=kr(29,Fe,null,le.mode);return St.lanes=ke,St.return=le,St}finally{}}}var wc=pj(!0),gj=pj(!1),rl=!1;function Yx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kx(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function il(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function al(s,c,m){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Tt&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=mc(s),tl(s,null,m),c}return io(s,v,c,m),mc(s)}function nh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Ip(s,m)}}function Wx(s,c){var m=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var A=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};O===null?A=O=I:O=O.next=I,m=m.next}while(m!==null);O===null?A=O=c:O=O.next=c}else A=O=c;m={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:v.shared,callbacks:v.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Vx=!1;function rh(){if(Vx){var s=zu;if(s!==null)throw s}}function ih(s,c,m,v){Vx=!1;var A=s.updateQueue;rl=!1;var O=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,me=te.next;te.next=null,I===null?O=me:I.next=me,I=te;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,G=Ee.lastBaseUpdate,G!==I&&(G===null?Ee.firstBaseUpdate=me:G.next=me,Ee.lastBaseUpdate=te))}if(O!==null){var Te=A.baseState;I=0,Ee=me=te=null,G=O;do{var be=G.lane&-536870913,xe=be!==G.lane;if(xe?(mt&be)===be:(v&be)===be){be!==0&&be===Bu&&(Vx=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,Qe=G;be=c;var zt=m;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){Te=ze.call(zt,Te,be);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,be=typeof ze=="function"?ze.call(zt,Te,be):ze,be==null)break e;Te=p({},Te,be);break e;case 2:rl=!0}}be=G.callback,be!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=A.callbacks,xe===null?A.callbacks=[be]:xe.push(be))}else xe={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ee===null?(me=Ee=xe,te=Te):Ee=Ee.next=xe,I|=be;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;xe=G,G=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);Ee===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=me,A.lastBaseUpdate=Ee,O===null&&(A.shared.lanes=0),ul|=I,s.lanes=I,s.memoizedState=Te}}function bj(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function yj(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)bj(m[s],c)}var Hu=B(null),bg=B(0);function vj(s,c){s=ts,ae(bg,s),ae(Hu,c),ts=s|c.baseLanes}function Zx(){ae(bg,ts),ae(Hu,Hu.current)}function Xx(){ts=bg.current,W(Hu),W(bg)}var Si=B(null),ea=null;function ol(s){var c=s.alternate;ae(wn,wn.current&1),ae(Si,s),ea===null&&(c===null||Hu.current!==null||c.memoizedState!==null)&&(ea=s)}function Jx(s){ae(wn,wn.current),ae(Si,s),ea===null&&(ea=s)}function xj(s){s.tag===22?(ae(wn,wn.current),ae(Si,s),ea===null&&(ea=s)):sl()}function sl(){ae(wn,wn.current),ae(Si,Si.current)}function Ei(s){W(Si),ea===s&&(ea=null),W(wn)}var wn=B(0);function yg(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||iw(m)||aw(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ko=0,it=null,$t=null,Cn=null,vg=!1,Gu=!1,Sc=!1,xg=0,ah=0,qu=null,EF=0;function bn(){throw Error(r(321))}function Qx(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!er(s[m],c[m]))return!1;return!0}function e_(s,c,m,v,A,O){return Ko=O,it=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,q.H=s===null||s.memoizedState===null?rO:p_,Sc=!1,O=m(v,A),Sc=!1,Gu&&(O=wj(c,m,v,A)),_j(s),O}function _j(s){q.H=lh;var c=$t!==null&&$t.next!==null;if(Ko=0,Cn=$t=it=null,vg=!1,ah=0,qu=null,c)throw Error(r(300));s===null||Mn||(s=s.dependencies,s!==null&&ug(s)&&(Mn=!0))}function wj(s,c,m,v){it=s;var A=0;do{if(Gu&&(qu=null),ah=0,Gu=!1,25<=A)throw Error(r(301));if(A+=1,Cn=$t=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}q.H=iO,O=c(m,v)}while(Gu);return O}function kF(){var s=q.H,c=s.useState()[0];return c=typeof c.then=="function"?oh(c):c,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(it.flags|=1024),c}function t_(){var s=xg!==0;return xg=0,s}function n_(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function r_(s){if(vg){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}vg=!1}Ko=0,Cn=$t=it=null,Gu=!1,ah=xg=0,qu=null}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?it.memoizedState=Cn=s:Cn=Cn.next=s,Cn}function Sn(){if($t===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var c=Cn===null?it.memoizedState:Cn.next;if(c!==null)Cn=c,$t=s;else{if(s===null)throw it.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Cn===null?it.memoizedState=Cn=s:Cn=Cn.next=s}return Cn}function _g(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oh(s){var c=ah;return ah+=1,qu===null&&(qu=[]),s=fj(qu,s,c),c=it,(Cn===null?c.memoizedState:Cn.next)===null&&(c=c.alternate,q.H=c===null||c.memoizedState===null?rO:p_),s}function wg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return oh(s);if(s.$$typeof===j)return fr(s)}throw Error(r(438,String(s)))}function i_(s){var c=null,m=it.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=it.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=_g(),it.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),v=0;v<s;v++)m[v]=K;return c.index++,m}function Wo(s,c){return typeof c=="function"?c(s):c}function Sg(s){var c=Sn();return a_(c,$t,s)}function a_(s,c,m){var v=s.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=m;var A=s.baseQueue,O=v.pending;if(O!==null){if(A!==null){var I=A.next;A.next=O.next,O.next=I}c.baseQueue=A=O,v.pending=null}if(O=s.baseState,A===null)s.memoizedState=O;else{c=A.next;var G=I=null,te=null,me=c,Ee=!1;do{var Te=me.lane&-536870913;if(Te!==me.lane?(mt&Te)===Te:(Ko&Te)===Te){var be=me.revertLane;if(be===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Te===Bu&&(Ee=!0);else if((Ko&be)===be){me=me.next,be===Bu&&(Ee=!0);continue}else Te={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=Te,I=O):te=te.next=Te,it.lanes|=be,ul|=be;Te=me.action,Sc&&m(O,Te),O=me.hasEagerState?me.eagerState:m(O,Te)}else be={lane:Te,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=be,I=O):te=te.next=be,it.lanes|=Te,ul|=Te;me=me.next}while(me!==null&&me!==c);if(te===null?I=O:te.next=G,!er(O,s.memoizedState)&&(Mn=!0,Ee&&(m=zu,m!==null)))throw m;s.memoizedState=O,s.baseState=I,s.baseQueue=te,v.lastRenderedState=O}return A===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function o_(s){var c=Sn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var v=m.dispatch,A=m.pending,O=c.memoizedState;if(A!==null){m.pending=null;var I=A=A.next;do O=s(O,I.action),I=I.next;while(I!==A);er(O,c.memoizedState)||(Mn=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),m.lastRenderedState=O}return[O,v]}function Sj(s,c,m){var v=it,A=Sn(),O=ut;if(O){if(m===void 0)throw Error(r(407));m=m()}else m=c();var I=!er(($t||A).memoizedState,m);if(I&&(A.memoizedState=m,Mn=!0),A=A.queue,c_(Aj.bind(null,v,A,s),[s]),A.getSnapshot!==c||I||Cn!==null&&Cn.memoizedState.tag&1){if(v.flags|=2048,Yu(9,{destroy:void 0},kj.bind(null,v,A,m,c),null),Ft===null)throw Error(r(349));O||(Ko&127)!==0||Ej(v,c,m)}return m}function Ej(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=it.updateQueue,c===null?(c=_g(),it.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function kj(s,c,m,v){c.value=m,c.getSnapshot=v,Tj(c)&&jj(s)}function Aj(s,c,m){return m(function(){Tj(c)&&jj(s)})}function Tj(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!er(s,m)}catch{return!0}}function jj(s){var c=Ji(s,2);c!==null&&ni(c,s,2)}function s_(s){var c=Rr();if(typeof s=="function"){var m=s;if(s=m(),Sc){yi(!0);try{m()}finally{yi(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:s},c}function Oj(s,c,m,v){return s.baseState=m,a_(s,$t,typeof v=="function"?v:Wo)}function AF(s,c,m,v,A){if(Ag(s))throw Error(r(485));if(s=c.action,s!==null){var O={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){O.listeners.push(I)}};q.T!==null?m(!0):O.isTransition=!1,v(O),m=c.pending,m===null?(O.next=c.pending=O,Nj(c,O)):(O.next=m.next,c.pending=m.next=O)}}function Nj(s,c){var m=c.action,v=c.payload,A=s.state;if(c.isTransition){var O=q.T,I={};q.T=I;try{var G=m(A,v),te=q.S;te!==null&&te(I,G),Cj(s,c,G)}catch(me){l_(s,c,me)}finally{O!==null&&I.types!==null&&(O.types=I.types),q.T=O}}else try{O=m(A,v),Cj(s,c,O)}catch(me){l_(s,c,me)}}function Cj(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){Mj(s,c,v)},function(v){return l_(s,c,v)}):Mj(s,c,m)}function Mj(s,c,m){c.status="fulfilled",c.value=m,Dj(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,Nj(s,m)))}function l_(s,c,m){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,Dj(c),c=c.next;while(c!==v)}s.action=null}function Dj(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function Pj(s,c){return c}function Rj(s,c){if(ut){var m=Ft.formState;if(m!==null){e:{var v=it;if(ut){if(wt){t:{for(var A=wt,O=Xr;A.nodeType!==8;){if(!O){A=null;break t}if(A=ta(A.nextSibling),A===null){A=null;break t}}O=A.data,A=O==="F!"||O==="F"?A:null}if(A){wt=ta(A.nextSibling),v=A.data==="F!";break e}}oo(v)}v=!1}v&&(c=m[0])}}return m=Rr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pj,lastRenderedState:c},m.queue=v,m=eO.bind(null,it,v),v.dispatch=m,v=s_(!1),O=m_.bind(null,it,!1,v.queue),v=Rr(),A={state:c,dispatch:null,action:s,pending:null},v.queue=A,m=AF.bind(null,it,A,O,m),A.dispatch=m,v.memoizedState=s,[c,m,!1]}function Lj(s){var c=Sn();return Ij(c,$t,s)}function Ij(s,c,m){if(c=a_(s,c,Pj)[0],s=Sg(Wo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=oh(c)}catch(I){throw I===Uu?hg:I}else v=c;c=Sn();var A=c.queue,O=A.dispatch;return m!==c.memoizedState&&(it.flags|=2048,Yu(9,{destroy:void 0},TF.bind(null,A,m),null)),[v,O,s]}function TF(s,c){s.action=c}function $j(s){var c=Sn(),m=$t;if(m!==null)return Ij(c,m,s);Sn(),c=c.memoizedState,m=Sn();var v=m.queue.dispatch;return m.memoizedState=s,[c,v,!1]}function Yu(s,c,m,v){return s={tag:s,create:m,deps:v,inst:c,next:null},c=it.updateQueue,c===null&&(c=_g(),it.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(v=m.next,m.next=s,s.next=v,c.lastEffect=s),s}function Bj(){return Sn().memoizedState}function Eg(s,c,m,v){var A=Rr();it.flags|=s,A.memoizedState=Yu(1|c,{destroy:void 0},m,v===void 0?null:v)}function kg(s,c,m,v){var A=Sn();v=v===void 0?null:v;var O=A.memoizedState.inst;$t!==null&&v!==null&&Qx(v,$t.memoizedState.deps)?A.memoizedState=Yu(c,O,m,v):(it.flags|=s,A.memoizedState=Yu(1|c,O,m,v))}function zj(s,c){Eg(8390656,8,s,c)}function c_(s,c){kg(2048,8,s,c)}function jF(s){it.flags|=4;var c=it.updateQueue;if(c===null)c=_g(),it.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function Uj(s){var c=Sn().memoizedState;return jF({ref:c,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function Fj(s,c){return kg(4,2,s,c)}function Hj(s,c){return kg(4,4,s,c)}function Gj(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function qj(s,c,m){m=m!=null?m.concat([s]):null,kg(4,4,Gj.bind(null,c,s),m)}function u_(){}function Yj(s,c){var m=Sn();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&Qx(c,v[1])?v[0]:(m.memoizedState=[s,c],s)}function Kj(s,c){var m=Sn();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&Qx(c,v[1]))return v[0];if(v=s(),Sc){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[v,c],v}function d_(s,c,m){return m===void 0||(Ko&1073741824)!==0&&(mt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=WO(),it.lanes|=s,ul|=s,m)}function Wj(s,c,m,v){return er(m,c)?m:Hu.current!==null?(s=d_(s,m,v),er(s,c)||(Mn=!0),s):(Ko&42)===0||(Ko&1073741824)!==0&&(mt&261930)===0?(Mn=!0,s.memoizedState=m):(s=WO(),it.lanes|=s,ul|=s,c)}function Vj(s,c,m,v,A){var O=J.p;J.p=O!==0&&8>O?O:8;var I=q.T,G={};q.T=G,m_(s,!1,c,m);try{var te=A(),me=q.S;if(me!==null&&me(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ee=SF(te,v);sh(s,c,Ee,Ti(s))}else sh(s,c,v,Ti(s))}catch(Te){sh(s,c,{then:function(){},status:"rejected",reason:Te},Ti())}finally{J.p=O,I!==null&&G.types!==null&&(I.types=G.types),q.T=I}}function OF(){}function f_(s,c,m,v){if(s.tag!==5)throw Error(r(476));var A=Zj(s).queue;Vj(s,A,c,re,m===null?OF:function(){return Xj(s),m(v)})}function Zj(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:re},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function Xj(s){var c=Zj(s);c.next===null&&(c=s.alternate.memoizedState),sh(s,c.next.queue,{},Ti())}function h_(){return fr(Eh)}function Jj(){return Sn().memoizedState}function Qj(){return Sn().memoizedState}function NF(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ti();s=il(m);var v=al(c,s,m);v!==null&&(ni(v,c,m),nh(v,c,m)),c={cache:Fx()},s.payload=c;return}c=c.return}}function CF(s,c,m){var v=Ti();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ag(s)?tO(c,m):(m=Yf(s,c,m,v),m!==null&&(ni(m,s,v),nO(m,c,v)))}function eO(s,c,m){var v=Ti();sh(s,c,m,v)}function sh(s,c,m,v){var A={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ag(s))tO(c,A);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var I=c.lastRenderedState,G=O(I,m);if(A.hasEagerState=!0,A.eagerState=G,er(G,I))return io(s,c,A,0),Ft===null&&hc(),!1}catch{}finally{}if(m=Yf(s,c,A,v),m!==null)return ni(m,s,v),nO(m,c,v),!0}return!1}function m_(s,c,m,v){if(v={lane:2,revertLane:Y_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Ag(s)){if(c)throw Error(r(479))}else c=Yf(s,m,v,2),c!==null&&ni(c,s,2)}function Ag(s){var c=s.alternate;return s===it||c!==null&&c===it}function tO(s,c){Gu=vg=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function nO(s,c,m){if((m&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Ip(s,m)}}var lh={readContext:fr,use:wg,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn};lh.useEffectEvent=bn;var rO={readContext:fr,use:wg,useCallback:function(s,c){return Rr().memoizedState=[s,c===void 0?null:c],s},useContext:fr,useEffect:zj,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,Eg(4194308,4,Gj.bind(null,c,s),m)},useLayoutEffect:function(s,c){return Eg(4194308,4,s,c)},useInsertionEffect:function(s,c){Eg(4,2,s,c)},useMemo:function(s,c){var m=Rr();c=c===void 0?null:c;var v=s();if(Sc){yi(!0);try{s()}finally{yi(!1)}}return m.memoizedState=[v,c],v},useReducer:function(s,c,m){var v=Rr();if(m!==void 0){var A=m(c);if(Sc){yi(!0);try{m(c)}finally{yi(!1)}}}else A=c;return v.memoizedState=v.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},v.queue=s,s=s.dispatch=CF.bind(null,it,s),[v.memoizedState,s]},useRef:function(s){var c=Rr();return s={current:s},c.memoizedState=s},useState:function(s){s=s_(s);var c=s.queue,m=eO.bind(null,it,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:u_,useDeferredValue:function(s,c){var m=Rr();return d_(m,s,c)},useTransition:function(){var s=s_(!1);return s=Vj.bind(null,it,s.queue,!0,!1),Rr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var v=it,A=Rr();if(ut){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Ft===null)throw Error(r(349));(mt&127)!==0||Ej(v,c,m)}A.memoizedState=m;var O={value:m,getSnapshot:c};return A.queue=O,zj(Aj.bind(null,v,O,s),[s]),v.flags|=2048,Yu(9,{destroy:void 0},kj.bind(null,v,O,m,c),null),m},useId:function(){var s=Rr(),c=Ft.identifierPrefix;if(ut){var m=Le,v=Ae;m=(v&~(1<<32-Mr(v)-1)).toString(32)+m,c="_"+c+"R_"+m,m=xg++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=EF++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:h_,useFormState:Rj,useActionState:Rj,useOptimistic:function(s){var c=Rr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=m_.bind(null,it,!0,m),m.dispatch=c,[s,c]},useMemoCache:i_,useCacheRefresh:function(){return Rr().memoizedState=NF.bind(null,it)},useEffectEvent:function(s){var c=Rr(),m={impl:s};return c.memoizedState=m,function(){if((Tt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},p_={readContext:fr,use:wg,useCallback:Yj,useContext:fr,useEffect:c_,useImperativeHandle:qj,useInsertionEffect:Fj,useLayoutEffect:Hj,useMemo:Kj,useReducer:Sg,useRef:Bj,useState:function(){return Sg(Wo)},useDebugValue:u_,useDeferredValue:function(s,c){var m=Sn();return Wj(m,$t.memoizedState,s,c)},useTransition:function(){var s=Sg(Wo)[0],c=Sn().memoizedState;return[typeof s=="boolean"?s:oh(s),c]},useSyncExternalStore:Sj,useId:Jj,useHostTransitionStatus:h_,useFormState:Lj,useActionState:Lj,useOptimistic:function(s,c){var m=Sn();return Oj(m,$t,s,c)},useMemoCache:i_,useCacheRefresh:Qj};p_.useEffectEvent=Uj;var iO={readContext:fr,use:wg,useCallback:Yj,useContext:fr,useEffect:c_,useImperativeHandle:qj,useInsertionEffect:Fj,useLayoutEffect:Hj,useMemo:Kj,useReducer:o_,useRef:Bj,useState:function(){return o_(Wo)},useDebugValue:u_,useDeferredValue:function(s,c){var m=Sn();return $t===null?d_(m,s,c):Wj(m,$t.memoizedState,s,c)},useTransition:function(){var s=o_(Wo)[0],c=Sn().memoizedState;return[typeof s=="boolean"?s:oh(s),c]},useSyncExternalStore:Sj,useId:Jj,useHostTransitionStatus:h_,useFormState:$j,useActionState:$j,useOptimistic:function(s,c){var m=Sn();return $t!==null?Oj(m,$t,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:i_,useCacheRefresh:Qj};iO.useEffectEvent=Uj;function g_(s,c,m,v){c=s.memoizedState,m=m(v,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var b_={enqueueSetState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=il(v);A.payload=c,m!=null&&(A.callback=m),c=al(s,A,v),c!==null&&(ni(c,s,v),nh(c,s,v))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var v=Ti(),A=il(v);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=al(s,A,v),c!==null&&(ni(c,s,v),nh(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Ti(),v=il(m);v.tag=2,c!=null&&(v.callback=c),c=al(s,v,m),c!==null&&(ni(c,s,m),nh(c,s,m))}};function aO(s,c,m,v,A,O,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,O,I):c.prototype&&c.prototype.isPureReactComponent?!Xs(m,v)||!Xs(A,O):!0}function oO(s,c,m,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==s&&b_.enqueueReplaceState(c,c.state,null)}function Ec(s,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var A in s)m[A]===void 0&&(m[A]=s[A])}return m}function sO(s){fc(s)}function lO(s){console.error(s)}function cO(s){fc(s)}function Tg(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function uO(s,c,m){try{var v=s.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function y_(s,c,m){return m=il(m),m.tag=3,m.payload={element:null},m.callback=function(){Tg(s,c)},m}function dO(s){return s=il(s),s.tag=3,s}function fO(s,c,m,v){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var O=v.value;s.payload=function(){return A(O)},s.callback=function(){uO(c,m,v)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){uO(c,m,v),typeof A!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var G=v.stack;this.componentDidCatch(v.value,{componentStack:G!==null?G:""})})}function MF(s,c,m,v,A){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&$u(c,m,A,!0),m=Si.current,m!==null){switch(m.tag){case 31:case 13:return ea===null?Bg():m.alternate===null&&yn===0&&(yn=3),m.flags&=-257,m.flags|=65536,m.lanes=A,v===mg?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),H_(s,v,A)),!1;case 22:return m.flags|=65536,v===mg?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),H_(s,v,A)),!1}throw Error(r(435,m.tag))}return H_(s,v,A),Bg(),!1}if(ut)return c=Si.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==Iu&&(s=Error(r(422),{cause:v}),gc(y(s,m)))):(v!==Iu&&(c=Error(r(423),{cause:v}),gc(y(c,m))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,v=y(v,m),A=y_(s.stateNode,v,A),Wx(s,A),yn!==4&&(yn=2)),!1;var O=Error(r(520),{cause:v});if(O=y(O,m),gh===null?gh=[O]:gh.push(O),yn!==4&&(yn=2),c===null)return!0;v=y(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=A&-A,m.lanes|=s,s=y_(m.stateNode,v,s),Wx(m,s),!1;case 1:if(c=m.type,O=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(dl===null||!dl.has(O))))return m.flags|=65536,A&=-A,m.lanes|=A,A=dO(A),fO(A,s,m,v),Wx(m,A),!1}m=m.return}while(m!==null);return!1}var v_=Error(r(461)),Mn=!1;function hr(s,c,m,v){c.child=s===null?gj(c,null,m,v):wc(c,s.child,m,v)}function hO(s,c,m,v,A){m=m.render;var O=c.ref;if("ref"in v){var I={};for(var G in v)G!=="ref"&&(I[G]=v[G])}else I=v;return yc(c),v=e_(s,c,m,I,O,A),G=t_(),s!==null&&!Mn?(n_(s,c,A),Vo(s,c,A)):(ut&&G&&zn(c),c.flags|=1,hr(s,c,v,A),c.child)}function mO(s,c,m,v,A){if(s===null){var O=m.type;return typeof O=="function"&&!Ru(O)&&O.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=O,pO(s,c,O,v,A)):(s=pc(m.type,null,v,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(O=s.child,!T_(s,A)){var I=O.memoizedProps;if(m=m.compare,m=m!==null?m:Xs,m(I,v)&&s.ref===c.ref)return Vo(s,c,A)}return c.flags|=1,s=Qi(O,v),s.ref=c.ref,s.return=c,c.child=s}function pO(s,c,m,v,A){if(s!==null){var O=s.memoizedProps;if(Xs(O,v)&&s.ref===c.ref)if(Mn=!1,c.pendingProps=v=O,T_(s,A))(s.flags&131072)!==0&&(Mn=!0);else return c.lanes=s.lanes,Vo(s,c,A)}return x_(s,c,m,v,A)}function gO(s,c,m,v){var A=v.children,O=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(O=O!==null?O.baseLanes|m:m,s!==null){for(v=c.child=s.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~O}else v=0,c.child=null;return bO(s,c,O,m,v)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&fg(c,O!==null?O.cachePool:null),O!==null?vj(c,O):Zx(),xj(c);else return v=c.lanes=536870912,bO(s,c,O!==null?O.baseLanes|m:m,m,v)}else O!==null?(fg(c,O.cachePool),vj(c,O),sl(),c.memoizedState=null):(s!==null&&fg(c,null),Zx(),sl());return hr(s,c,A,m),c.child}function ch(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function bO(s,c,m,v,A){var O=Gx();return O=O===null?null:{parent:Nn._currentValue,pool:O},c.memoizedState={baseLanes:m,cachePool:O},s!==null&&fg(c,null),Zx(),xj(c),s!==null&&$u(s,c,v,!0),c.childLanes=A,null}function jg(s,c){return c=Ng({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function yO(s,c,m){return wc(c,s.child,null,m),s=jg(c,c.pendingProps),s.flags|=2,Ei(c),c.memoizedState=null,s}function DF(s,c,m){var v=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(ut){if(v.mode==="hidden")return s=jg(c,v),c.lanes=536870912,ch(null,s);if(Jx(c),(s=wt)?(s=NN(s,Xr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Wf(s),m.return=c,c.child=m,_t=c,wt=null)):s=null,s===null)throw oo(c);return c.lanes=536870912,null}return jg(c,v)}var O=s.memoizedState;if(O!==null){var I=O.dehydrated;if(Jx(c),A)if(c.flags&256)c.flags&=-257,c=yO(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Mn||$u(s,c,m,!1),A=(m&s.childLanes)!==0,Mn||A){if(v=Ft,v!==null&&(I=$p(v,m),I!==0&&I!==O.retryLane))throw O.retryLane=I,Ji(s,I),ni(v,s,I),v_;Bg(),c=yO(s,c,m)}else s=O.treeContext,wt=ta(I.nextSibling),_t=c,ut=!0,ao=null,Xr=!1,s!==null&&Pr(c,s),c=jg(c,v),c.flags|=4096;return c}return s=Qi(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Og(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function x_(s,c,m,v,A){return yc(c),m=e_(s,c,m,v,void 0,A),v=t_(),s!==null&&!Mn?(n_(s,c,A),Vo(s,c,A)):(ut&&v&&zn(c),c.flags|=1,hr(s,c,m,A),c.child)}function vO(s,c,m,v,A,O){return yc(c),c.updateQueue=null,m=wj(c,v,m,A),_j(s),v=t_(),s!==null&&!Mn?(n_(s,c,O),Vo(s,c,O)):(ut&&v&&zn(c),c.flags|=1,hr(s,c,m,O),c.child)}function xO(s,c,m,v,A){if(yc(c),c.stateNode===null){var O=Ho,I=m.contextType;typeof I=="object"&&I!==null&&(O=fr(I)),O=new m(v,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=b_,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=v,O.state=c.memoizedState,O.refs={},Yx(c),I=m.contextType,O.context=typeof I=="object"&&I!==null?fr(I):Ho,O.state=c.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(g_(c,m,I,v),O.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(I=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),I!==O.state&&b_.enqueueReplaceState(O,O.state,null),ih(c,v,O,A),rh(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){O=c.stateNode;var G=c.memoizedProps,te=Ec(m,G);O.props=te;var me=O.context,Ee=m.contextType;I=Ho,typeof Ee=="object"&&Ee!==null&&(I=fr(Ee));var Te=m.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof O.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,Ee||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G||me!==I)&&oO(c,O,v,I),rl=!1;var be=c.memoizedState;O.state=be,ih(c,v,O,A),rh(),me=c.memoizedState,G||be!==me||rl?(typeof Te=="function"&&(g_(c,m,Te,v),me=c.memoizedState),(te=rl||aO(c,m,te,v,be,me,I))?(Ee||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=me),O.props=v,O.state=me,O.context=I,v=te):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{O=c.stateNode,Kx(s,c),I=c.memoizedProps,Ee=Ec(m,I),O.props=Ee,Te=c.pendingProps,be=O.context,me=m.contextType,te=Ho,typeof me=="object"&&me!==null&&(te=fr(me)),G=m.getDerivedStateFromProps,(me=typeof G=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(I!==Te||be!==te)&&oO(c,O,v,te),rl=!1,be=c.memoizedState,O.state=be,ih(c,v,O,A),rh();var xe=c.memoizedState;I!==Te||be!==xe||rl||s!==null&&s.dependencies!==null&&ug(s.dependencies)?(typeof G=="function"&&(g_(c,m,G,v),xe=c.memoizedState),(Ee=rl||aO(c,m,Ee,v,be,xe,te)||s!==null&&s.dependencies!==null&&ug(s.dependencies))?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,xe,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,xe,te)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=xe),O.props=v,O.state=xe,O.context=te,v=Ee):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),v=!1)}return O=v,Og(s,c),v=(c.flags&128)!==0,O||v?(O=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,s!==null&&v?(c.child=wc(c,s.child,null,A),c.child=wc(c,null,m,A)):hr(s,c,m,A),c.memoizedState=O.state,s=c.child):s=Vo(s,c,A),s}function _O(s,c,m,v){return qo(),c.flags|=256,hr(s,c,m,v),c.child}var __={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function w_(s){return{baseLanes:s,cachePool:uj()}}function S_(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Ai),s}function wO(s,c,m){var v=c.pendingProps,A=!1,O=(c.flags&128)!==0,I;if((I=O)||(I=s!==null&&s.memoizedState===null?!1:(wn.current&2)!==0),I&&(A=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,s===null){if(ut){if(A?ol(c):sl(),(s=wt)?(s=NN(s,Xr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},m=Wf(s),m.return=c,c.child=m,_t=c,wt=null)):s=null,s===null)throw oo(c);return aw(s)?c.lanes=32:c.lanes=536870912,null}var G=v.children;return v=v.fallback,A?(sl(),A=c.mode,G=Ng({mode:"hidden",children:G},A),v=Go(v,A,m,null),G.return=c,v.return=c,G.sibling=v,c.child=G,v=c.child,v.memoizedState=w_(m),v.childLanes=S_(s,I,m),c.memoizedState=__,ch(null,v)):(ol(c),E_(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(O)c.flags&256?(ol(c),c.flags&=-257,c=k_(s,c,m)):c.memoizedState!==null?(sl(),c.child=s.child,c.flags|=128,c=null):(sl(),G=v.fallback,A=c.mode,v=Ng({mode:"visible",children:v.children},A),G=Go(G,A,m,null),G.flags|=2,v.return=c,G.return=c,v.sibling=G,c.child=v,wc(c,s.child,null,m),v=c.child,v.memoizedState=w_(m),v.childLanes=S_(s,I,m),c.memoizedState=__,c=ch(null,v));else if(ol(c),aw(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var me=I.dgst;I=me,v=Error(r(419)),v.stack="",v.digest=I,gc({value:v,source:null,stack:null}),c=k_(s,c,m)}else if(Mn||$u(s,c,m,!1),I=(m&s.childLanes)!==0,Mn||I){if(I=Ft,I!==null&&(v=$p(I,m),v!==0&&v!==te.retryLane))throw te.retryLane=v,Ji(s,v),ni(I,s,v),v_;iw(G)||Bg(),c=k_(s,c,m)}else iw(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,wt=ta(G.nextSibling),_t=c,ut=!0,ao=null,Xr=!1,s!==null&&Pr(c,s),c=E_(c,v.children),c.flags|=4096);return c}return A?(sl(),G=v.fallback,A=c.mode,te=s.child,me=te.sibling,v=Qi(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&65011712,me!==null?G=Qi(me,G):(G=Go(G,A,m,null),G.flags|=2),G.return=c,v.return=c,v.sibling=G,c.child=v,ch(null,v),v=c.child,G=s.child.memoizedState,G===null?G=w_(m):(A=G.cachePool,A!==null?(te=Nn._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=uj(),G={baseLanes:G.baseLanes|m,cachePool:A}),v.memoizedState=G,v.childLanes=S_(s,I,m),c.memoizedState=__,ch(s.child,v)):(ol(c),m=s.child,s=m.sibling,m=Qi(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,s!==null&&(I=c.deletions,I===null?(c.deletions=[s],c.flags|=16):I.push(s)),c.child=m,c.memoizedState=null,m)}function E_(s,c){return c=Ng({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Ng(s,c){return s=kr(22,s,null,c),s.lanes=0,s}function k_(s,c,m){return wc(c,s.child,null,m),s=E_(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function SO(s,c,m){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),zx(s.return,c,m)}function A_(s,c,m,v,A,O){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:A,treeForkCount:O}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=m,I.tailMode=A,I.treeForkCount=O)}function EO(s,c,m){var v=c.pendingProps,A=v.revealOrder,O=v.tail;v=v.children;var I=wn.current,G=(I&2)!==0;if(G?(I=I&1|2,c.flags|=128):I&=1,ae(wn,I),hr(s,c,v,m),v=ut?F:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&SO(s,m,c);else if(s.tag===19)SO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(m=c.child,A=null;m!==null;)s=m.alternate,s!==null&&yg(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),A_(c,!1,A,m,O,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&yg(s)===null){c.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}A_(c,!0,m,null,O,v);break;case"together":A_(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Vo(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),ul|=c.lanes,(m&c.childLanes)===0)if(s!==null){if($u(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=Qi(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=Qi(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function T_(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&ug(s)))}function PF(s,c,m){switch(c.tag){case 3:ye(c,c.stateNode.containerInfo),nl(c,Nn,s.memoizedState.cache),qo();break;case 27:case 5:je(c);break;case 4:ye(c,c.stateNode.containerInfo);break;case 10:nl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Jx(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(ol(c),c.flags|=128,null):(m&c.child.childLanes)!==0?wO(s,c,m):(ol(c),s=Vo(s,c,m),s!==null?s.sibling:null);ol(c);break;case 19:var A=(s.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||($u(s,c,m,!1),v=(m&c.childLanes)!==0),A){if(v)return EO(s,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ae(wn,wn.current),v)break;return null;case 22:return c.lanes=0,gO(s,c,m,c.pendingProps);case 24:nl(c,Nn,s.memoizedState.cache)}return Vo(s,c,m)}function kO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Mn=!0;else{if(!T_(s,m)&&(c.flags&128)===0)return Mn=!1,PF(s,c,m);Mn=(s.flags&131072)!==0}else Mn=!1,ut&&(c.flags&1048576)!==0&&ot(c,F,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=xc(c.elementType),c.type=s,typeof s=="function")Ru(s)?(v=Ec(s,v),c.tag=1,c=xO(null,c,s,v,m)):(c.tag=0,c=x_(null,c,s,v,m));else{if(s!=null){var A=s.$$typeof;if(A===M){c.tag=11,c=hO(null,c,s,v,m);break e}else if(A===$){c.tag=14,c=mO(null,c,s,v,m);break e}}throw c=Q(s)||s,Error(r(306,c,""))}}return c;case 0:return x_(s,c,c.type,c.pendingProps,m);case 1:return v=c.type,A=Ec(v,c.pendingProps),xO(s,c,v,A,m);case 3:e:{if(ye(c,c.stateNode.containerInfo),s===null)throw Error(r(387));v=c.pendingProps;var O=c.memoizedState;A=O.element,Kx(s,c),ih(c,v,null,m);var I=c.memoizedState;if(v=I.cache,nl(c,Nn,v),v!==O.cache&&Ux(c,[Nn],m,!0),rh(),v=I.element,O.isDehydrated)if(O={element:v,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=_O(s,c,v,m);break e}else if(v!==A){A=y(Error(r(424)),c),gc(A),c=_O(s,c,v,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=ta(s.firstChild),_t=c,ut=!0,ao=null,Xr=!0,m=gj(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(qo(),v===A){c=Vo(s,c,m);break e}hr(s,c,v,m)}c=c.child}return c;case 26:return Og(s,c),s===null?(m=LN(c.type,null,c.pendingProps,null))?c.memoizedState=m:ut||(m=c.type,s=c.pendingProps,v=Yg(de.current).createElement(m),v[jn]=c,v[Qn]=s,mr(v,m,s),On(v),c.stateNode=v):c.memoizedState=LN(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return je(c),s===null&&ut&&(v=c.stateNode=DN(c.type,c.pendingProps,de.current),_t=c,Xr=!0,A=wt,pl(c.type)?(ow=A,wt=ta(v.firstChild)):wt=A),hr(s,c,c.pendingProps.children,m),Og(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ut&&((A=v=wt)&&(v=uH(v,c.type,c.pendingProps,Xr),v!==null?(c.stateNode=v,_t=c,wt=ta(v.firstChild),Xr=!1,A=!0):A=!1),A||oo(c)),je(c),A=c.type,O=c.pendingProps,I=s!==null?s.memoizedProps:null,v=O.children,tw(A,O)?v=null:I!==null&&tw(A,I)&&(c.flags|=32),c.memoizedState!==null&&(A=e_(s,c,kF,null,null,m),Eh._currentValue=A),Og(s,c),hr(s,c,v,m),c.child;case 6:return s===null&&ut&&((s=m=wt)&&(m=dH(m,c.pendingProps,Xr),m!==null?(c.stateNode=m,_t=c,wt=null,s=!0):s=!1),s||oo(c)),null;case 13:return wO(s,c,m);case 4:return ye(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=wc(c,null,v,m):hr(s,c,v,m),c.child;case 11:return hO(s,c,c.type,c.pendingProps,m);case 7:return hr(s,c,c.pendingProps,m),c.child;case 8:return hr(s,c,c.pendingProps.children,m),c.child;case 12:return hr(s,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,nl(c,c.type,v.value),hr(s,c,v.children,m),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,yc(c),A=fr(A),v=v(A),c.flags|=1,hr(s,c,v,m),c.child;case 14:return mO(s,c,c.type,c.pendingProps,m);case 15:return pO(s,c,c.type,c.pendingProps,m);case 19:return EO(s,c,m);case 31:return DF(s,c,m);case 22:return gO(s,c,m,c.pendingProps);case 24:return yc(c),v=fr(Nn),s===null?(A=Gx(),A===null&&(A=Ft,O=Fx(),A.pooledCache=O,O.refCount++,O!==null&&(A.pooledCacheLanes|=m),A=O),c.memoizedState={parent:v,cache:A},Yx(c),nl(c,Nn,A)):((s.lanes&m)!==0&&(Kx(s,c),ih(c,null,null,m),rh()),A=s.memoizedState,O=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),nl(c,Nn,v)):(v=O.cache,nl(c,Nn,v),v!==A.cache&&Ux(c,[Nn],m,!0))),hr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Zo(s){s.flags|=4}function j_(s,c,m,v,A){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(JO())s.flags|=8192;else throw _c=mg,qx}else s.flags&=-16777217}function AO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!UN(c))if(JO())s.flags|=8192;else throw _c=mg,qx}function Cg(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Rp():536870912,s.lanes|=c,Zu|=c)}function uh(s,c){if(!ut)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Xt(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,v=0;if(c)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=v,s.childLanes=m,c}function RF(s,c,m){var v=c.pendingProps;switch(gn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return m=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Yo(Nn),ne(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ta(c)?Zo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xf())),Xt(c),null;case 26:var A=c.type,O=c.memoizedState;return s===null?(Zo(c),O!==null?(Xt(c),AO(c,O)):(Xt(c),j_(c,A,null,v,m))):O?O!==s.memoizedState?(Zo(c),Xt(c),AO(c,O)):(Xt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&Zo(c),Xt(c),j_(c,A,s,v,m)),null;case 27:if(Ce(c),m=de.current,A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}s=X.current,Ta(c)?Zf(c):(s=DN(A,v,m),c.stateNode=s,Zo(c))}return Xt(c),null;case 5:if(Ce(c),A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}if(O=X.current,Ta(c))Zf(c);else{var I=Yg(de.current);switch(O){case 1:O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":O=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":O=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":O=I.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof v.is=="string"?I.createElement("select",{is:v.is}):I.createElement("select"),v.multiple?O.multiple=!0:v.size&&(O.size=v.size);break;default:O=typeof v.is=="string"?I.createElement(A,{is:v.is}):I.createElement(A)}}O[jn]=c,O[Qn]=v;e:for(I=c.child;I!==null;){if(I.tag===5||I.tag===6)O.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)break e;for(;I.sibling===null;){if(I.return===null||I.return===c)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}c.stateNode=O;e:switch(mr(O,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Zo(c)}}return Xt(c),j_(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&Zo(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(s=de.current,Ta(c)){if(s=c.stateNode,m=c.memoizedProps,v=null,A=_t,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}s[jn]=c,s=!!(s.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||wN(s.nodeValue,m)),s||oo(c,!0)}else s=Yg(s).createTextNode(v),s[jn]=c,c.stateNode=s}return Xt(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(v=Ta(c),m!==null){if(s===null){if(!v)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[jn]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),s=!1}else m=Xf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(Ei(c),c):(Ei(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Xt(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Ta(c),v!==null&&v.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[jn]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),A=!1}else A=Xf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Ei(c),c):(Ei(c),null)}return Ei(c),(c.flags&128)!==0?(c.lanes=m,c):(m=v!==null,s=s!==null&&s.memoizedState!==null,m&&(v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==A&&(v.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),Cg(c,c.updateQueue),Xt(c),null);case 4:return ne(),s===null&&Z_(c.stateNode.containerInfo),Xt(c),null;case 10:return Yo(c.type),Xt(c),null;case 19:if(W(wn),v=c.memoizedState,v===null)return Xt(c),null;if(A=(c.flags&128)!==0,O=v.rendering,O===null)if(A)uh(v,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(O=yg(s),O!==null){for(c.flags|=128,uh(v,!1),s=O.updateQueue,c.updateQueue=s,Cg(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)Kf(m,s),m=m.sibling;return ae(wn,wn.current&1|2),ut&&qe(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&Be()>Lg&&(c.flags|=128,A=!0,uh(v,!1),c.lanes=4194304)}else{if(!A)if(s=yg(O),s!==null){if(c.flags|=128,A=!0,s=s.updateQueue,c.updateQueue=s,Cg(c,s),uh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!O.alternate&&!ut)return Xt(c),null}else 2*Be()-v.renderingStartTime>Lg&&m!==536870912&&(c.flags|=128,A=!0,uh(v,!1),c.lanes=4194304);v.isBackwards?(O.sibling=c.child,c.child=O):(s=v.last,s!==null?s.sibling=O:c.child=O,v.last=O)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Be(),s.sibling=null,m=wn.current,ae(wn,A?m&1|2:m&1),ut&&qe(c,v.treeForkCount),s):(Xt(c),null);case 22:case 23:return Ei(c),Xx(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),m=c.updateQueue,m!==null&&Cg(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),s!==null&&W(vc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Yo(Nn),Xt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function LF(s,c){switch(gn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Yo(Nn),ne(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Ce(c),null;case 31:if(c.memoizedState!==null){if(Ei(c),c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Ei(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return W(wn),null;case 4:return ne(),null;case 10:return Yo(c.type),null;case 22:case 23:return Ei(c),Xx(),s!==null&&W(vc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Yo(Nn),null;case 25:return null;default:return null}}function TO(s,c){switch(gn(c),c.tag){case 3:Yo(Nn),ne();break;case 26:case 27:case 5:Ce(c);break;case 4:ne();break;case 31:c.memoizedState!==null&&Ei(c);break;case 13:Ei(c);break;case 19:W(wn);break;case 10:Yo(c.type);break;case 22:case 23:Ei(c),Xx(),s!==null&&W(vc);break;case 24:Yo(Nn)}}function dh(s,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var A=v.next;m=A;do{if((m.tag&s)===s){v=void 0;var O=m.create,I=m.inst;v=O(),I.destroy=v}m=m.next}while(m!==A)}}catch(G){Rt(c,c.return,G)}}function ll(s,c,m){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var O=A.next;v=O;do{if((v.tag&s)===s){var I=v.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=c;var te=m,me=G;try{me()}catch(Ee){Rt(A,te,Ee)}}}v=v.next}while(v!==O)}}catch(Ee){Rt(c,c.return,Ee)}}function jO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{yj(c,m)}catch(v){Rt(s,s.return,v)}}}function OO(s,c,m){m.props=Ec(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(v){Rt(s,c,v)}}function fh(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof m=="function"?s.refCleanup=m(v):m.current=v}}catch(A){Rt(s,c,A)}}function lo(s,c){var m=s.ref,v=s.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(A){Rt(s,c,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){Rt(s,c,A)}else m.current=null}function NO(s){var c=s.type,m=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(A){Rt(s,s.return,A)}}function O_(s,c,m){try{var v=s.stateNode;iH(v,s.type,m,c),v[Qn]=c}catch(A){Rt(s,s.return,A)}}function CO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pl(s.type)||s.tag===4}function N_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||CO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function C_(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Kr));else if(v!==4&&(v===27&&pl(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(C_(s,c,m),s=s.sibling;s!==null;)C_(s,c,m),s=s.sibling}function Mg(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(v!==4&&(v===27&&pl(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Mg(s,c,m),s=s.sibling;s!==null;)Mg(s,c,m),s=s.sibling}function MO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var v=s.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);mr(c,v,m),c[jn]=s,c[Qn]=m}catch(O){Rt(s,s.return,O)}}var Xo=!1,Dn=!1,M_=!1,DO=typeof WeakSet=="function"?WeakSet:Set,nr=null;function IF(s,c){if(s=s.containerInfo,Q_=Qg,s=lc(s),eo(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var A=v.anchorOffset,O=v.focusNode;v=v.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var I=0,G=-1,te=-1,me=0,Ee=0,Te=s,be=null;t:for(;;){for(var xe;Te!==m||A!==0&&Te.nodeType!==3||(G=I+A),Te!==O||v!==0&&Te.nodeType!==3||(te=I+v),Te.nodeType===3&&(I+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)be=Te,Te=xe;for(;;){if(Te===s)break t;if(be===m&&++me===A&&(G=I),be===O&&++Ee===v&&(te=I),(xe=Te.nextSibling)!==null)break;Te=be,be=Te.parentNode}Te=xe}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(ew={focusedElem:s,selectionRange:m},Qg=!1,nr=c;nr!==null;)if(c=nr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,nr=s;else for(;nr!==null;){switch(c=nr,O=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)A=s[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,m=c,A=O.memoizedProps,O=O.memoizedState,v=m.stateNode;try{var ze=Ec(m.type,A);s=v.getSnapshotBeforeUpdate(ze,O),v.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Rt(m,m.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)rw(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rw(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,nr=s;break}nr=c.return}}function PO(s,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Qo(s,m),v&4&&dh(5,m);break;case 1:if(Qo(s,m),v&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(I){Rt(m,m.return,I)}else{var A=Ec(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(A,c,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(m,m.return,I)}}v&64&&jO(m),v&512&&fh(m,m.return);break;case 3:if(Qo(s,m),v&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{yj(s,c)}catch(I){Rt(m,m.return,I)}}break;case 27:c===null&&v&4&&MO(m);case 26:case 5:Qo(s,m),c===null&&v&4&&NO(m),v&512&&fh(m,m.return);break;case 12:Qo(s,m);break;case 31:Qo(s,m),v&4&&IO(s,m);break;case 13:Qo(s,m),v&4&&$O(s,m),v&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=YF.bind(null,m),fH(s,m))));break;case 22:if(v=m.memoizedState!==null||Xo,!v){c=c!==null&&c.memoizedState!==null||Dn,A=Xo;var O=Dn;Xo=v,(Dn=c)&&!O?es(s,m,(m.subtreeFlags&8772)!==0):Qo(s,m),Xo=A,Dn=O}break;case 30:break;default:Qo(s,m)}}function RO(s){var c=s.alternate;c!==null&&(s.alternate=null,RO(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Of(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Jr=!1;function Jo(s,c,m){for(m=m.child;m!==null;)LO(s,c,m),m=m.sibling}function LO(s,c,m){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(qt,m)}catch{}switch(m.tag){case 26:Dn||lo(m,c),Jo(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Dn||lo(m,c);var v=tn,A=Jr;pl(m.type)&&(tn=m.stateNode,Jr=!1),Jo(s,c,m),_h(m.stateNode),tn=v,Jr=A;break;case 5:Dn||lo(m,c);case 6:if(v=tn,A=Jr,tn=null,Jo(s,c,m),tn=v,Jr=A,tn!==null)if(Jr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(m.stateNode)}catch(O){Rt(m,c,O)}else try{tn.removeChild(m.stateNode)}catch(O){Rt(m,c,O)}break;case 18:tn!==null&&(Jr?(s=tn,jN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),id(s)):jN(tn,m.stateNode));break;case 4:v=tn,A=Jr,tn=m.stateNode.containerInfo,Jr=!0,Jo(s,c,m),tn=v,Jr=A;break;case 0:case 11:case 14:case 15:ll(2,m,c),Dn||ll(4,m,c),Jo(s,c,m);break;case 1:Dn||(lo(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&OO(m,c,v)),Jo(s,c,m);break;case 21:Jo(s,c,m);break;case 22:Dn=(v=Dn)||m.memoizedState!==null,Jo(s,c,m),Dn=v;break;default:Jo(s,c,m)}}function IO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{id(s)}catch(m){Rt(c,c.return,m)}}}function $O(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{id(s)}catch(m){Rt(c,c.return,m)}}function $F(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new DO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new DO),c;default:throw Error(r(435,s.tag))}}function Dg(s,c){var m=$F(s);c.forEach(function(v){if(!m.has(v)){m.add(v);var A=KF.bind(null,s,v);v.then(A,A)}})}function Qr(s,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var A=m[v],O=s,I=c,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(pl(G.type)){tn=G.stateNode,Jr=!1;break e}break;case 5:tn=G.stateNode,Jr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Jr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));LO(O,I,A),tn=null,Jr=!1,O=A.alternate,O!==null&&(O.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)BO(c,s),c=c.sibling}var Oa=null;function BO(s,c){var m=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qr(c,s),ei(s),v&4&&(ll(3,s,s.return),dh(3,s),ll(5,s,s.return));break;case 1:Qr(c,s),ei(s),v&512&&(Dn||m===null||lo(m,m.return)),v&64&&Xo&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var A=Oa;if(Qr(c,s),ei(s),v&512&&(Dn||m===null||lo(m,m.return)),v&4){var O=m!==null?m.memoizedState:null;if(v=s.memoizedState,m===null)if(v===null)if(s.stateNode===null){e:{v=s.type,m=s.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":O=A.getElementsByTagName("title")[0],(!O||O[Yl]||O[jn]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=A.createElement(v),A.head.insertBefore(O,A.querySelector("head > title"))),mr(O,v,m),O[jn]=s,On(O),v=O;break e;case"link":var I=BN("link","href",A).get(v+(m.href||""));if(I){for(var G=0;G<I.length;G++)if(O=I[G],O.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&O.getAttribute("rel")===(m.rel==null?null:m.rel)&&O.getAttribute("title")===(m.title==null?null:m.title)&&O.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(G,1);break t}}O=A.createElement(v),mr(O,v,m),A.head.appendChild(O);break;case"meta":if(I=BN("meta","content",A).get(v+(m.content||""))){for(G=0;G<I.length;G++)if(O=I[G],O.getAttribute("content")===(m.content==null?null:""+m.content)&&O.getAttribute("name")===(m.name==null?null:m.name)&&O.getAttribute("property")===(m.property==null?null:m.property)&&O.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&O.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(G,1);break t}}O=A.createElement(v),mr(O,v,m),A.head.appendChild(O);break;default:throw Error(r(468,v))}O[jn]=s,On(O),v=O}s.stateNode=v}else zN(A,s.type,s.stateNode);else s.stateNode=$N(A,v,s.memoizedProps);else O!==v?(O===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):O.count--,v===null?zN(A,s.type,s.stateNode):$N(A,v,s.memoizedProps)):v===null&&s.stateNode!==null&&O_(s,s.memoizedProps,m.memoizedProps)}break;case 27:Qr(c,s),ei(s),v&512&&(Dn||m===null||lo(m,m.return)),m!==null&&v&4&&O_(s,s.memoizedProps,m.memoizedProps);break;case 5:if(Qr(c,s),ei(s),v&512&&(Dn||m===null||lo(m,m.return)),s.flags&32){A=s.stateNode;try{Yi(A,"")}catch(ze){Rt(s,s.return,ze)}}v&4&&s.stateNode!=null&&(A=s.memoizedProps,O_(s,A,m!==null?m.memoizedProps:A)),v&1024&&(M_=!0);break;case 6:if(Qr(c,s),ei(s),v&4){if(s.stateNode===null)throw Error(r(162));v=s.memoizedProps,m=s.stateNode;try{m.nodeValue=v}catch(ze){Rt(s,s.return,ze)}}break;case 3:if(Vg=null,A=Oa,Oa=Kg(c.containerInfo),Qr(c,s),Oa=A,ei(s),v&4&&m!==null&&m.memoizedState.isDehydrated)try{id(c.containerInfo)}catch(ze){Rt(s,s.return,ze)}M_&&(M_=!1,zO(s));break;case 4:v=Oa,Oa=Kg(s.stateNode.containerInfo),Qr(c,s),ei(s),Oa=v;break;case 12:Qr(c,s),ei(s);break;case 31:Qr(c,s),ei(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Dg(s,v)));break;case 13:Qr(c,s),ei(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Rg=Be()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Dg(s,v)));break;case 22:A=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,me=Xo,Ee=Dn;if(Xo=me||A,Dn=Ee||te,Qr(c,s),Dn=Ee,Xo=me,ei(s),v&8192)e:for(c=s.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||te||Xo||Dn||kc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(O=te.stateNode,A)I=O.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,be=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ze){Rt(te,te.return,ze)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Rt(te,te.return,ze)}}}else if(c.tag===18){if(m===null){te=c;try{var xe=te.stateNode;A?ON(xe,!0):ON(te.stateNode,!1)}catch(ze){Rt(te,te.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Dg(s,m))));break;case 19:Qr(c,s),ei(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Dg(s,v)));break;case 30:break;case 21:break;default:Qr(c,s),ei(s)}}function ei(s){var c=s.flags;if(c&2){try{for(var m,v=s.return;v!==null;){if(CO(v)){m=v;break}v=v.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var A=m.stateNode,O=N_(s);Mg(s,O,A);break;case 5:var I=m.stateNode;m.flags&32&&(Yi(I,""),m.flags&=-33);var G=N_(s);Mg(s,G,I);break;case 3:case 4:var te=m.stateNode.containerInfo,me=N_(s);C_(s,me,te);break;default:throw Error(r(161))}}catch(Ee){Rt(s,s.return,Ee)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function zO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;zO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Qo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)PO(s,c.alternate,c),c=c.sibling}function kc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:ll(4,c,c.return),kc(c);break;case 1:lo(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&OO(c,c.return,m),kc(c);break;case 27:_h(c.stateNode);case 26:case 5:lo(c,c.return),kc(c);break;case 22:c.memoizedState===null&&kc(c);break;case 30:kc(c);break;default:kc(c)}s=s.sibling}}function es(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=s,O=c,I=O.flags;switch(O.tag){case 0:case 11:case 15:es(A,O,m),dh(4,O);break;case 1:if(es(A,O,m),v=O,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(me){Rt(v,v.return,me)}if(v=O,A=v.updateQueue,A!==null){var G=v.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)bj(te[A],G)}catch(me){Rt(v,v.return,me)}}m&&I&64&&jO(O),fh(O,O.return);break;case 27:MO(O);case 26:case 5:es(A,O,m),m&&v===null&&I&4&&NO(O),fh(O,O.return);break;case 12:es(A,O,m);break;case 31:es(A,O,m),m&&I&4&&IO(A,O);break;case 13:es(A,O,m),m&&I&4&&$O(A,O);break;case 22:O.memoizedState===null&&es(A,O,m),fh(O,O.return);break;case 30:break;default:es(A,O,m)}c=c.sibling}}function D_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Jf(m))}function P_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Jf(s))}function Na(s,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)UO(s,c,m,v),c=c.sibling}function UO(s,c,m,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Na(s,c,m,v),A&2048&&dh(9,c);break;case 1:Na(s,c,m,v);break;case 3:Na(s,c,m,v),A&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Jf(s)));break;case 12:if(A&2048){Na(s,c,m,v),s=c.stateNode;try{var O=c.memoizedProps,I=O.id,G=O.onPostCommit;typeof G=="function"&&G(I,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(c,c.return,te)}}else Na(s,c,m,v);break;case 31:Na(s,c,m,v);break;case 13:Na(s,c,m,v);break;case 23:break;case 22:O=c.stateNode,I=c.alternate,c.memoizedState!==null?O._visibility&2?Na(s,c,m,v):hh(s,c):O._visibility&2?Na(s,c,m,v):(O._visibility|=2,Ku(s,c,m,v,(c.subtreeFlags&10256)!==0||!1)),A&2048&&D_(I,c);break;case 24:Na(s,c,m,v),A&2048&&P_(c.alternate,c);break;default:Na(s,c,m,v)}}function Ku(s,c,m,v,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var O=s,I=c,G=m,te=v,me=I.flags;switch(I.tag){case 0:case 11:case 15:Ku(O,I,G,te,A),dh(8,I);break;case 23:break;case 22:var Ee=I.stateNode;I.memoizedState!==null?Ee._visibility&2?Ku(O,I,G,te,A):hh(O,I):(Ee._visibility|=2,Ku(O,I,G,te,A)),A&&me&2048&&D_(I.alternate,I);break;case 24:Ku(O,I,G,te,A),A&&me&2048&&P_(I.alternate,I);break;default:Ku(O,I,G,te,A)}c=c.sibling}}function hh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,v=c,A=v.flags;switch(v.tag){case 22:hh(m,v),A&2048&&D_(v.alternate,v);break;case 24:hh(m,v),A&2048&&P_(v.alternate,v);break;default:hh(m,v)}c=c.sibling}}var mh=8192;function Wu(s,c,m){if(s.subtreeFlags&mh)for(s=s.child;s!==null;)FO(s,c,m),s=s.sibling}function FO(s,c,m){switch(s.tag){case 26:Wu(s,c,m),s.flags&mh&&s.memoizedState!==null&&EH(m,Oa,s.memoizedState,s.memoizedProps);break;case 5:Wu(s,c,m);break;case 3:case 4:var v=Oa;Oa=Kg(s.stateNode.containerInfo),Wu(s,c,m),Oa=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=mh,mh=16777216,Wu(s,c,m),mh=v):Wu(s,c,m));break;default:Wu(s,c,m)}}function HO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function ph(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,qO(v,s)}HO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)GO(s),s=s.sibling}function GO(s){switch(s.tag){case 0:case 11:case 15:ph(s),s.flags&2048&&ll(9,s,s.return);break;case 3:ph(s);break;case 12:ph(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Pg(s)):ph(s);break;default:ph(s)}}function Pg(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];nr=v,qO(v,s)}HO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:ll(8,c,c.return),Pg(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Pg(c));break;default:Pg(c)}s=s.sibling}}function qO(s,c){for(;nr!==null;){var m=nr;switch(m.tag){case 0:case 11:case 15:ll(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Jf(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,nr=v;else e:for(m=s;nr!==null;){v=nr;var A=v.sibling,O=v.return;if(RO(v),v===m){nr=null;break e}if(A!==null){A.return=O,nr=A;break e}nr=O}}}var BF={getCacheForType:function(s){var c=fr(Nn),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return fr(Nn).controller.signal}},zF=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,dt=null,mt=0,Pt=0,ki=null,cl=!1,Vu=!1,R_=!1,ts=0,yn=0,ul=0,Ac=0,L_=0,Ai=0,Zu=0,gh=null,ti=null,I_=!1,Rg=0,YO=0,Lg=1/0,Ig=null,dl=null,Un=0,fl=null,Xu=null,ns=0,$_=0,B_=null,KO=null,bh=0,z_=null;function Ti(){return(Tt&2)!==0&&mt!==0?mt&-mt:q.T!==null?Y_():Tf()}function WO(){if(Ai===0)if((mt&536870912)===0||ut){var s=Hl;Hl<<=1,(Hl&3932160)===0&&(Hl=262144),Ai=s}else Ai=536870912;return s=Si.current,s!==null&&(s.flags|=32),Ai}function ni(s,c,m){(s===Ft&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)&&(Ju(s,0),hl(s,mt,Ai,!1)),Ro(s,m),((Tt&2)===0||s!==Ft)&&(s===Ft&&((Tt&2)===0&&(Ac|=m),yn===4&&hl(s,mt,Ai,!1)),co(s))}function VO(s,c,m){if((Tt&6)!==0)throw Error(r(327));var v=!m&&(c&127)===0&&(c&s.expiredLanes)===0||ql(s,c),A=v?HF(s,c):F_(s,c,!0),O=v;do{if(A===0){Vu&&!v&&hl(s,c,0,!1);break}else{if(m=s.current.alternate,O&&!UF(m)){A=F_(s,c,!1),O=!1;continue}if(A===2){if(O=c,s.errorRecoveryDisabledLanes&O)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var G=s;A=gh;var te=G.current.memoizedState.isDehydrated;if(te&&(Ju(G,I).flags|=256),I=F_(G,I,!1),I!==2){if(R_&&!te){G.errorRecoveryDisabledLanes|=O,Ac|=O,A=4;break e}O=ti,ti=A,O!==null&&(ti===null?ti=O:ti.push.apply(ti,O))}A=I}if(O=!1,A!==2)continue}}if(A===1){Ju(s,0),hl(s,c,0,!0);break}e:{switch(v=s,O=A,O){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:hl(v,c,Ai,!cl);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=Rg+300-Be(),10<A)){if(hl(v,c,Ai,!cl),yu(v,0,!0)!==0)break e;ns=c,v.timeoutHandle=AN(ZO.bind(null,v,m,ti,Ig,I_,c,Ai,Ac,Zu,cl,O,"Throttled",-0,0),A);break e}ZO(v,m,ti,Ig,I_,c,Ai,Ac,Zu,cl,O,null,-0,0)}}break}while(!0);co(s)}function ZO(s,c,m,v,A,O,I,G,te,me,Ee,Te,be,xe){if(s.timeoutHandle=-1,Te=c.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kr},FO(c,O,Te);var ze=(O&62914560)===O?Rg-Be():(O&4194048)===O?YO-Be():0;if(ze=kH(Te,ze),ze!==null){ns=O,s.cancelPendingCommit=ze(iN.bind(null,s,c,O,m,v,A,I,G,te,Ee,Te,null,be,xe)),hl(s,O,I,!me);return}}iN(s,c,O,m,v,A,I,G,te)}function UF(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var A=m[v],O=A.getSnapshot;A=A.value;try{if(!er(O(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function hl(s,c,m,v){c&=~L_,c&=~Ac,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var A=c;0<A;){var O=31-Mr(A),I=1<<O;v[O]=-1,A&=~I}m!==0&&Lp(s,m,c)}function $g(){return(Tt&6)===0?(yh(0),!1):!0}function U_(){if(dt!==null){if(Pt===0)var s=dt.return;else s=dt,ja=so=null,r_(s),Fu=null,eh=0,s=dt;for(;s!==null;)TO(s.alternate,s),s=s.return;dt=null}}function Ju(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,sH(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),ns=0,U_(),Ft=s,dt=m=Qi(s.current,null),mt=c,Pt=0,ki=null,cl=!1,Vu=ql(s,c),R_=!1,Zu=Ai=L_=Ac=ul=yn=0,ti=gh=null,I_=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var A=31-Mr(v),O=1<<A;c|=s[A],v&=~O}return ts=c,hc(),m}function XO(s,c){it=null,q.H=lh,c===Uu||c===hg?(c=hj(),Pt=3):c===qx?(c=hj(),Pt=4):Pt=c===v_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ki=c,dt===null&&(yn=1,Tg(s,y(c,s.current)))}function JO(){var s=Si.current;return s===null?!0:(mt&4194048)===mt?ea===null:(mt&62914560)===mt||(mt&536870912)!==0?s===ea:!1}function QO(){var s=q.H;return q.H=lh,s===null?lh:s}function eN(){var s=q.A;return q.A=BF,s}function Bg(){yn=4,cl||(mt&4194048)!==mt&&Si.current!==null||(Vu=!0),(ul&134217727)===0&&(Ac&134217727)===0||Ft===null||hl(Ft,mt,Ai,!1)}function F_(s,c,m){var v=Tt;Tt|=2;var A=QO(),O=eN();(Ft!==s||mt!==c)&&(Ig=null,Ju(s,c)),c=!1;var I=yn;e:do try{if(Pt!==0&&dt!==null){var G=dt,te=ki;switch(Pt){case 8:U_(),I=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(c=!0);var me=Pt;if(Pt=0,ki=null,Qu(s,G,te,me),m&&Vu){I=0;break e}break;default:me=Pt,Pt=0,ki=null,Qu(s,G,te,me)}}FF(),I=yn;break}catch(Ee){XO(s,Ee)}while(!0);return c&&s.shellSuspendCounter++,ja=so=null,Tt=v,q.H=A,q.A=O,dt===null&&(Ft=null,mt=0,hc()),I}function FF(){for(;dt!==null;)tN(dt)}function HF(s,c){var m=Tt;Tt|=2;var v=QO(),A=eN();Ft!==s||mt!==c?(Ig=null,Lg=Be()+500,Ju(s,c)):Vu=ql(s,c);e:do try{if(Pt!==0&&dt!==null){c=dt;var O=ki;t:switch(Pt){case 1:Pt=0,ki=null,Qu(s,c,O,1);break;case 2:case 9:if(dj(O)){Pt=0,ki=null,nN(c);break}c=function(){Pt!==2&&Pt!==9||Ft!==s||(Pt=7),co(s)},O.then(c,c);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:dj(O)?(Pt=0,ki=null,nN(c)):(Pt=0,ki=null,Qu(s,c,O,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var G=dt;if(I?UN(I):G.stateNode.complete){Pt=0,ki=null;var te=G.sibling;if(te!==null)dt=te;else{var me=G.return;me!==null?(dt=me,zg(me)):dt=null}break t}}Pt=0,ki=null,Qu(s,c,O,5);break;case 6:Pt=0,ki=null,Qu(s,c,O,6);break;case 8:U_(),yn=6;break e;default:throw Error(r(462))}}GF();break}catch(Ee){XO(s,Ee)}while(!0);return ja=so=null,q.H=v,q.A=A,Tt=m,dt!==null?0:(Ft=null,mt=0,hc(),yn)}function GF(){for(;dt!==null&&!he();)tN(dt)}function tN(s){var c=kO(s.alternate,s,ts);s.memoizedProps=s.pendingProps,c===null?zg(s):dt=c}function nN(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=vO(m,c,c.pendingProps,c.type,void 0,mt);break;case 11:c=vO(m,c,c.pendingProps,c.type.render,c.ref,mt);break;case 5:r_(c);default:TO(m,c),c=dt=Kf(c,ts),c=kO(m,c,ts)}s.memoizedProps=s.pendingProps,c===null?zg(s):dt=c}function Qu(s,c,m,v){ja=so=null,r_(c),Fu=null,eh=0;var A=c.return;try{if(MF(s,A,c,m,mt)){yn=1,Tg(s,y(m,s.current)),dt=null;return}}catch(O){if(A!==null)throw dt=A,O;yn=1,Tg(s,y(m,s.current)),dt=null;return}c.flags&32768?(ut||v===1?s=!0:Vu||(mt&536870912)!==0?s=!1:(cl=s=!0,(v===2||v===9||v===3||v===6)&&(v=Si.current,v!==null&&v.tag===13&&(v.flags|=16384))),rN(c,s)):zg(c)}function zg(s){var c=s;do{if((c.flags&32768)!==0){rN(c,cl);return}s=c.return;var m=RF(c.alternate,c,ts);if(m!==null){dt=m;return}if(c=c.sibling,c!==null){dt=c;return}dt=c=s}while(c!==null);yn===0&&(yn=5)}function rN(s,c){do{var m=LF(s.alternate,s);if(m!==null){m.flags&=32767,dt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){dt=s;return}dt=s=m}while(s!==null);yn=6,dt=null}function iN(s,c,m,v,A,O,I,G,te){s.cancelPendingCommit=null;do Ug();while(Un!==0);if((Tt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(O=c.lanes|c.childLanes,O|=Pu,Ex(s,m,O,I,G,te),s===Ft&&(dt=Ft=null,mt=0),Xu=c,fl=s,ns=m,$_=O,B_=A,KO=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,WF(Jn,function(){return cN(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=q.T,q.T=null,A=J.p,J.p=2,I=Tt,Tt|=4;try{IF(s,c,m)}finally{Tt=I,J.p=A,q.T=v}}Un=1,aN(),oN(),sN()}}function aN(){if(Un===1){Un=0;var s=fl,c=Xu,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=q.T,q.T=null;var v=J.p;J.p=2;var A=Tt;Tt|=4;try{BO(c,s);var O=ew,I=lc(s.containerInfo),G=O.focusedElem,te=O.selectionRange;if(I!==G&&G&&G.ownerDocument&&Nu(G.ownerDocument.documentElement,G)){if(te!==null&&eo(G)){var me=te.start,Ee=te.end;if(Ee===void 0&&(Ee=me),"selectionStart"in G)G.selectionStart=me,G.selectionEnd=Math.min(Ee,G.value.length);else{var Te=G.ownerDocument||document,be=Te&&Te.defaultView||window;if(be.getSelection){var xe=be.getSelection(),ze=G.textContent.length,Qe=Math.min(te.start,ze),zt=te.end===void 0?Qe:Math.min(te.end,ze);!xe.extend&&Qe>zt&&(I=zt,zt=Qe,Qe=I);var le=sc(G,Qe),ie=sc(G,zt);if(le&&ie&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var fe=Te.createRange();fe.setStart(le.node,le.offset),xe.removeAllRanges(),Qe>zt?(xe.addRange(fe),xe.extend(ie.node,ie.offset)):(fe.setEnd(ie.node,ie.offset),xe.addRange(fe))}}}}for(Te=[],xe=G;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var ke=Te[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Qg=!!Q_,ew=Q_=null}finally{Tt=A,J.p=v,q.T=m}}s.current=c,Un=2}}function oN(){if(Un===2){Un=0;var s=fl,c=Xu,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=q.T,q.T=null;var v=J.p;J.p=2;var A=Tt;Tt|=4;try{PO(s,c.alternate,c)}finally{Tt=A,J.p=v,q.T=m}}Un=3}}function sN(){if(Un===4||Un===3){Un=0,De();var s=fl,c=Xu,m=ns,v=KO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Un=5:(Un=0,Xu=fl=null,lN(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(dl=null),He(m),c=c.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(qt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=q.T,A=J.p,J.p=2,q.T=null;try{for(var O=s.onRecoverableError,I=0;I<v.length;I++){var G=v[I];O(G.value,{componentStack:G.stack})}}finally{q.T=c,J.p=A}}(ns&3)!==0&&Ug(),co(s),A=s.pendingLanes,(m&261930)!==0&&(A&42)!==0?s===z_?bh++:(bh=0,z_=s):bh=0,yh(0)}}function lN(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Jf(c)))}function Ug(){return aN(),oN(),sN(),cN()}function cN(){if(Un!==5)return!1;var s=fl,c=$_;$_=0;var m=He(ns),v=q.T,A=J.p;try{J.p=32>m?32:m,q.T=null,m=B_,B_=null;var O=fl,I=ns;if(Un=0,Xu=fl=null,ns=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,GO(O.current),UO(O,O.current,I,m),Tt=G,yh(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(qt,O)}catch{}return!0}finally{J.p=A,q.T=v,lN(s,c)}}function uN(s,c,m){c=y(m,c),c=y_(s.stateNode,c,2),s=al(s,c,2),s!==null&&(Ro(s,2),co(s))}function Rt(s,c,m){if(s.tag===3)uN(s,s,m);else for(;c!==null;){if(c.tag===3){uN(c,s,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(dl===null||!dl.has(v))){s=y(m,s),m=dO(2),v=al(c,m,2),v!==null&&(fO(m,v,c,s),Ro(v,2),co(v));break}}c=c.return}}function H_(s,c,m){var v=s.pingCache;if(v===null){v=s.pingCache=new zF;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(m)||(R_=!0,A.add(m),s=qF.bind(null,s,c,m),c.then(s,s))}function qF(s,c,m){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Ft===s&&(mt&m)===m&&(yn===4||yn===3&&(mt&62914560)===mt&&300>Be()-Rg?(Tt&2)===0&&Ju(s,0):L_|=m,Zu===mt&&(Zu=0)),co(s)}function dN(s,c){c===0&&(c=Rp()),s=Ji(s,c),s!==null&&(Ro(s,c),co(s))}function YF(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),dN(s,m)}function KF(s,c){var m=0;switch(s.tag){case 31:case 13:var v=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),dN(s,m)}function WF(s,c){return xt(s,c)}var Fg=null,ed=null,G_=!1,Hg=!1,q_=!1,ml=0;function co(s){s!==ed&&s.next===null&&(ed===null?Fg=ed=s:ed=ed.next=s),Hg=!0,G_||(G_=!0,ZF())}function yh(s,c){if(!q_&&Hg){q_=!0;do for(var m=!1,v=Fg;v!==null;){if(s!==0){var A=v.pendingLanes;if(A===0)var O=0;else{var I=v.suspendedLanes,G=v.pingedLanes;O=(1<<31-Mr(42|s)+1)-1,O&=A&~(I&~G),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(m=!0,pN(v,O))}else O=mt,O=yu(v,v===Ft?O:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(O&3)===0||ql(v,O)||(m=!0,pN(v,O));v=v.next}while(m);q_=!1}}function VF(){fN()}function fN(){Hg=G_=!1;var s=0;ml!==0&&oH()&&(s=ml);for(var c=Be(),m=null,v=Fg;v!==null;){var A=v.next,O=hN(v,c);O===0?(v.next=null,m===null?Fg=A:m.next=A,A===null&&(ed=m)):(m=v,(s!==0||(O&3)!==0)&&(Hg=!0)),v=A}Un!==0&&Un!==5||yh(s),ml!==0&&(ml=0)}function hN(s,c){for(var m=s.suspendedLanes,v=s.pingedLanes,A=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var I=31-Mr(O),G=1<<I,te=A[I];te===-1?((G&m)===0||(G&v)!==0)&&(A[I]=Sx(G,c)):te<=c&&(s.expiredLanes|=G),O&=~G}if(c=Ft,m=mt,m=yu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,m===0||s===c&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Dt(v),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||ql(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(v!==null&&Dt(v),He(m)){case 2:case 8:m=bt;break;case 32:m=Jn;break;case 268435456:m=bi;break;default:m=Jn}return v=mN.bind(null,s),m=xt(m,v),s.callbackPriority=c,s.callbackNode=m,c}return v!==null&&v!==null&&Dt(v),s.callbackPriority=2,s.callbackNode=null,2}function mN(s,c){if(Un!==0&&Un!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(Ug()&&s.callbackNode!==m)return null;var v=mt;return v=yu(s,s===Ft?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(VO(s,v,c),hN(s,Be()),s.callbackNode!=null&&s.callbackNode===m?mN.bind(null,s):null)}function pN(s,c){if(Ug())return null;VO(s,c,!0)}function ZF(){lH(function(){(Tt&6)!==0?xt(Ot,VF):fN()})}function Y_(){if(ml===0){var s=Bu;s===0&&(s=Fl,Fl<<=1,(Fl&261888)===0&&(Fl=256)),ml=s}return ml}function gN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Hs(""+s)}function bN(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function XF(s,c,m,v,A){if(c==="submit"&&m&&m.stateNode===A){var O=gN((A[Qn]||null).action),I=v.submitter;I&&(c=(c=I[Qn]||null)?gN(c.formAction):I.getAttribute("formAction"),c!==null&&(O=c,I=null));var G=new Su("action","action",null,v,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ml!==0){var te=I?bN(A,I):new FormData(A);f_(m,{pending:!0,data:te,method:A.method,action:O},null,te)}}else typeof O=="function"&&(G.preventDefault(),te=I?bN(A,I):new FormData(A),f_(m,{pending:!0,data:te,method:A.method,action:O},O,te))},currentTarget:A}]})}}for(var K_=0;K_<ro.length;K_++){var W_=ro[K_],JF=W_.toLowerCase(),QF=W_[0].toUpperCase()+W_.slice(1);Vr(JF,"on"+QF)}Vr(uc,"onAnimationEnd"),Vr(sg,"onAnimationIteration"),Vr(dc,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Ix,"onTransitionRun"),Vr(lg,"onTransitionStart"),Vr($x,"onTransitionCancel"),Vr(el,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$o("onBeforeInput",["compositionend","keypress","textInput","paste"]),$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vh));function yN(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var v=s[m],A=v.event;v=v.listeners;e:{var O=void 0;if(c)for(var I=v.length-1;0<=I;I--){var G=v[I],te=G.instance,me=G.currentTarget;if(G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=me;try{O(A)}catch(Ee){fc(Ee)}A.currentTarget=null,O=te}else for(I=0;I<v.length;I++){if(G=v[I],te=G.instance,me=G.currentTarget,G=G.listener,te!==O&&A.isPropagationStopped())break e;O=G,A.currentTarget=me;try{O(A)}catch(Ee){fc(Ee)}A.currentTarget=null,O=te}}}}function ft(s,c){var m=c[Wa];m===void 0&&(m=c[Wa]=new Set);var v=s+"__bubble";m.has(v)||(vN(c,s,2,!1),m.add(v))}function V_(s,c,m){var v=0;c&&(v|=4),vN(m,s,v,c)}var Gg="_reactListening"+Math.random().toString(36).slice(2);function Z_(s){if(!s[Gg]){s[Gg]=!0,Up.forEach(function(m){m!=="selectionchange"&&(eH.has(m)||V_(m,!1,s),V_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Gg]||(c[Gg]=!0,V_("selectionchange",!1,c))}}function vN(s,c,m,v){switch(WN(c)){case 2:var A=jH;break;case 8:A=OH;break;default:A=dw}m=A.bind(null,c,m,s),A=void 0,!Jl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?s.addEventListener(c,m,{capture:!0,passive:A}):s.addEventListener(c,m,!0):A!==void 0?s.addEventListener(c,m,{passive:A}):s.addEventListener(c,m,!1)}function X_(s,c,m,v,A){var O=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var G=v.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=v.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=Io(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){v=O=I;continue e}G=G.parentNode}}v=v.return}Lf(function(){var me=O,Ee=Xl(m),Te=[];e:{var be=cg.get(s);if(be!==void 0){var xe=Su,ze=s;switch(s){case"keypress":if(Ql(m)===0)break e;case"keydown":case"keyup":xe=Vp;break;case"focusin":ze="focus",xe=Bf;break;case"focusout":ze="blur",xe=Bf;break;case"beforeblur":case"afterblur":xe=Bf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Cx;break;case uc:case sg:case dc:xe=zf;break;case el:xe=Jp;break;case"scroll":case"scrollend":xe=ht;break;case"wheel":xe=Fo;break;case"copy":case"cut":case"paste":xe=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Zp;break;case"toggle":case"beforetoggle":xe=nc}var Qe=(c&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),le=Qe?be!==null?be+"Capture":null:be;Qe=[];for(var ie=me,fe;ie!==null;){var ke=ie;if(fe=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||fe===null||le===null||(ke=zo(ie,le),ke!=null&&Qe.push(xh(ie,ke,fe))),zt)break;ie=ie.return}0<Qe.length&&(be=new xe(be,ze,null,m,Ee),Te.push({event:be,listeners:Qe}))}}if((c&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",be&&m!==wu&&(ze=m.relatedTarget||m.fromElement)&&(Io(ze)||ze[Lo]))break e;if((xe||be)&&(be=Ee.window===Ee?Ee:(be=Ee.ownerDocument)?be.defaultView||be.parentWindow:window,xe?(ze=m.relatedTarget||m.toElement,xe=me,ze=ze?Io(ze):null,ze!==null&&(zt=a(ze),Qe=ze.tag,ze!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(xe=null,ze=me),xe!==ze)){if(Qe=Gp,ke="onMouseLeave",le="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Zp,ke="onPointerLeave",le="onPointerEnter",ie="pointer"),zt=xe==null?be:Va(xe),fe=ze==null?be:Va(ze),be=new Qe(ke,ie+"leave",xe,m,Ee),be.target=zt,be.relatedTarget=fe,ke=null,Io(Ee)===me&&(Qe=new Qe(le,ie+"enter",ze,m,Ee),Qe.target=fe,Qe.relatedTarget=zt,ke=Qe),zt=ke,xe&&ze)t:{for(Qe=tH,le=xe,ie=ze,fe=0,ke=le;ke;ke=Qe(ke))fe++;ke=0;for(var Xe=ie;Xe;Xe=Qe(Xe))ke++;for(;0<fe-ke;)le=Qe(le),fe--;for(;0<ke-fe;)ie=Qe(ie),ke--;for(;fe--;){if(le===ie||ie!==null&&le===ie.alternate){Qe=le;break t}le=Qe(le),ie=Qe(ie)}Qe=null}else Qe=null;xe!==null&&xN(Te,be,xe,Qe,!1),ze!==null&&zt!==null&&xN(Te,zt,ze,Qe,!0)}}e:{if(be=me?Va(me):window,xe=be.nodeName&&be.nodeName.toLowerCase(),xe==="select"||xe==="input"&&be.type==="file")var St=oc;else if(Vi(be))if(ng)St=Lx;else{St=Rx;var Fe=ka}else xe=be.nodeName,!xe||xe.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&Zl(me.elementType)&&(St=oc):St=Zs;if(St&&(St=St(s,me))){tg(Te,St,m,Ee);break e}Fe&&Fe(s,be,me),s==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&wa(be,"number",be.value)}switch(Fe=me?Va(me):window,s){case"focusin":(Vi(Fe)||Fe.contentEditable==="true")&&(to=Fe,Mu=me,cc=null);break;case"focusout":cc=Mu=to=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,ag(Te,m,Ee);break;case"selectionchange":if(Cu)break;case"keydown":case"keyup":ag(Te,m,Ee)}var st;if(ku)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ks?eg(s,m)&&(pt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(pt="onCompositionStart");pt&&(Au&&m.locale!=="ko"&&(Ks||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ks&&(st=Ja()):(Ki=Ee,Uo="value"in Ki?Ki.value:Ki.textContent,Ks=!0)),Fe=qg(me,pt),0<Fe.length&&(pt=new Uf(pt,s,null,m,Ee),Te.push({event:pt,listeners:Fe}),st?pt.data=st:(st=qf(m),st!==null&&(pt.data=st)))),(st=Dx?wi(s,m):Ws(s,m))&&(pt=qg(me,"onBeforeInput"),0<pt.length&&(Fe=new Uf("onBeforeInput","beforeinput",null,m,Ee),Te.push({event:Fe,listeners:pt}),Fe.data=st)),XF(Te,s,me,m,Ee)}yN(Te,c)})}function xh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function qg(s,c){for(var m=c+"Capture",v=[];s!==null;){var A=s,O=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||O===null||(A=zo(s,m),A!=null&&v.unshift(xh(s,A,O)),A=zo(s,c),A!=null&&v.push(xh(s,A,O))),s.tag===3)return v;s=s.return}return[]}function tH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function xN(s,c,m,v,A){for(var O=c._reactName,I=[];m!==null&&m!==v;){var G=m,te=G.alternate,me=G.stateNode;if(G=G.tag,te!==null&&te===v)break;G!==5&&G!==26&&G!==27||me===null||(te=me,A?(me=zo(m,O),me!=null&&I.unshift(xh(m,me,te))):A||(me=zo(m,O),me!=null&&I.push(xh(m,me,te)))),m=m.return}I.length!==0&&s.push({event:c,listeners:I})}var nH=/\r\n?/g,rH=/\u0000|\uFFFD/g;function _N(s){return(typeof s=="string"?s:""+s).replace(nH,`
`).replace(rH,"")}function wN(s,c){return c=_N(c),_N(s)===c}function Bt(s,c,m,v,A,O){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Yi(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Yi(s,""+v);break;case"className":It(s,"class",v);break;case"tabIndex":It(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,m,v);break;case"style":xu(s,v,O);break;case"data":if(c!=="object"){It(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=Hs(""+v),s.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(m==="formAction"?(c!=="input"&&Bt(s,c,"name",A.name,A,null),Bt(s,c,"formEncType",A.formEncType,A,null),Bt(s,c,"formMethod",A.formMethod,A,null),Bt(s,c,"formTarget",A.formTarget,A,null)):(Bt(s,c,"encType",A.encType,A,null),Bt(s,c,"method",A.method,A,null),Bt(s,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=Hs(""+v),s.setAttribute(m,v);break;case"onClick":v!=null&&(s.onclick=Kr);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}m=Hs(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""+v):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":v===!0?s.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,v):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(m,v):s.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(m):s.setAttribute(m,v);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",v);break;case"xlinkActuate":Yr(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Yr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Yr(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Yr(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Yr(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Yr(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Yr(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Yr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Yr(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ct(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=_u.get(m)||m,ct(s,m,v))}}function J_(s,c,m,v,A,O){switch(m){case"style":xu(s,v,O);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof v=="string"?Yi(s,v):(typeof v=="number"||typeof v=="bigint")&&Yi(s,""+v);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fp.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),O=s[Qn]||null,O=O!=null?O[m]:null,typeof O=="function"&&s.removeEventListener(c,O,A),typeof v=="function")){typeof O!="function"&&O!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,v,A);break e}m in s?s[m]=v:v===!0?s.setAttribute(m,""):ct(s,m,v)}}}function mr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var v=!1,A=!1,O;for(O in m)if(m.hasOwnProperty(O)){var I=m[O];if(I!=null)switch(O){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,O,I,m,null)}}A&&Bt(s,c,"srcSet",m.srcSet,m,null),v&&Bt(s,c,"src",m.src,m,null);return;case"input":ft("invalid",s);var G=O=I=A=null,te=null,me=null;for(v in m)if(m.hasOwnProperty(v)){var Ee=m[v];if(Ee!=null)switch(v){case"name":A=Ee;break;case"type":I=Ee;break;case"checked":te=Ee;break;case"defaultChecked":me=Ee;break;case"value":O=Ee;break;case"defaultValue":G=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,c));break;default:Bt(s,c,v,Ee,m,null)}}Vl(s,O,G,te,me,I,A,!1);return;case"select":ft("invalid",s),v=I=O=null;for(A in m)if(m.hasOwnProperty(A)&&(G=m[A],G!=null))switch(A){case"value":O=G;break;case"defaultValue":I=G;break;case"multiple":v=G;default:Bt(s,c,A,G,m,null)}c=O,m=I,s.multiple=!!v,c!=null?Ut(s,!!v,c,!1):m!=null&&Ut(s,!!v,m,!0);return;case"textarea":ft("invalid",s),O=A=v=null;for(I in m)if(m.hasOwnProperty(I)&&(G=m[I],G!=null))switch(I){case"value":v=G;break;case"defaultValue":A=G;break;case"children":O=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,c,I,G,m,null)}Us(s,v,A,O);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(v=m[te],v!=null))switch(te){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Bt(s,c,te,v,m,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(v=0;v<vh.length;v++)ft(vh[v],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(v=m[me],v!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Bt(s,c,me,v,m,null)}return;default:if(Zl(c)){for(Ee in m)m.hasOwnProperty(Ee)&&(v=m[Ee],v!==void 0&&J_(s,c,Ee,v,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(v=m[G],v!=null&&Bt(s,c,G,v,m,null))}function iH(s,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,O=null,I=null,G=null,te=null,me=null,Ee=null;for(xe in m){var Te=m[xe];if(m.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:v.hasOwnProperty(xe)||Bt(s,c,xe,null,v,Te)}}for(var be in v){var xe=v[be];if(Te=m[be],v.hasOwnProperty(be)&&(xe!=null||Te!=null))switch(be){case"type":O=xe;break;case"name":A=xe;break;case"checked":me=xe;break;case"defaultChecked":Ee=xe;break;case"value":I=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,c));break;default:xe!==Te&&Bt(s,c,be,xe,v,Te)}}Df(s,I,G,te,me,Ee,O,A);return;case"select":xe=I=G=be=null;for(O in m)if(te=m[O],m.hasOwnProperty(O)&&te!=null)switch(O){case"value":break;case"multiple":xe=te;default:v.hasOwnProperty(O)||Bt(s,c,O,null,v,te)}for(A in v)if(O=v[A],te=m[A],v.hasOwnProperty(A)&&(O!=null||te!=null))switch(A){case"value":be=O;break;case"defaultValue":G=O;break;case"multiple":I=O;default:O!==te&&Bt(s,c,A,O,v,te)}c=G,m=I,v=xe,be!=null?Ut(s,!!m,be,!1):!!v!=!!m&&(c!=null?Ut(s,!!m,c,!0):Ut(s,!!m,m?[]:"",!1));return;case"textarea":xe=be=null;for(G in m)if(A=m[G],m.hasOwnProperty(G)&&A!=null&&!v.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,c,G,null,v,A)}for(I in v)if(A=v[I],O=m[I],v.hasOwnProperty(I)&&(A!=null||O!=null))switch(I){case"value":be=A;break;case"defaultValue":xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==O&&Bt(s,c,I,A,v,O)}Xa(s,be,xe);return;case"option":for(var ze in m)if(be=m[ze],m.hasOwnProperty(ze)&&be!=null&&!v.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,c,ze,null,v,be)}for(te in v)if(be=v[te],xe=m[te],v.hasOwnProperty(te)&&be!==xe&&(be!=null||xe!=null))switch(te){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Bt(s,c,te,be,v,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in m)be=m[Qe],m.hasOwnProperty(Qe)&&be!=null&&!v.hasOwnProperty(Qe)&&Bt(s,c,Qe,null,v,be);for(me in v)if(be=v[me],xe=m[me],v.hasOwnProperty(me)&&be!==xe&&(be!=null||xe!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:Bt(s,c,me,be,v,xe)}return;default:if(Zl(c)){for(var zt in m)be=m[zt],m.hasOwnProperty(zt)&&be!==void 0&&!v.hasOwnProperty(zt)&&J_(s,c,zt,void 0,v,be);for(Ee in v)be=v[Ee],xe=m[Ee],!v.hasOwnProperty(Ee)||be===xe||be===void 0&&xe===void 0||J_(s,c,Ee,be,v,xe);return}}for(var le in m)be=m[le],m.hasOwnProperty(le)&&be!=null&&!v.hasOwnProperty(le)&&Bt(s,c,le,null,v,be);for(Te in v)be=v[Te],xe=m[Te],!v.hasOwnProperty(Te)||be===xe||be==null&&xe==null||Bt(s,c,Te,be,v,xe)}function SN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var A=m[v],O=A.transferSize,I=A.initiatorType,G=A.duration;if(O&&G&&SN(I)){for(I=0,G=A.responseEnd,v+=1;v<m.length;v++){var te=m[v],me=te.startTime;if(me>G)break;var Ee=te.transferSize,Te=te.initiatorType;Ee&&SN(Te)&&(te=te.responseEnd,I+=Ee*(te<G?1:(G-me)/(te-me)))}if(--v,c+=8*(O+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Q_=null,ew=null;function Yg(s){return s.nodeType===9?s:s.ownerDocument}function EN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kN(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function tw(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var nw=null;function oH(){var s=window.event;return s&&s.type==="popstate"?s===nw?!1:(nw=s,!0):(nw=null,!1)}var AN=typeof setTimeout=="function"?setTimeout:void 0,sH=typeof clearTimeout=="function"?clearTimeout:void 0,TN=typeof Promise=="function"?Promise:void 0,lH=typeof queueMicrotask=="function"?queueMicrotask:typeof TN<"u"?function(s){return TN.resolve(null).then(s).catch(cH)}:AN;function cH(s){setTimeout(function(){throw s})}function pl(s){return s==="head"}function jN(s,c){var m=c,v=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(v===0){s.removeChild(A),id(c);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")_h(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,_h(m);for(var O=m.firstChild;O;){var I=O.nextSibling,G=O.nodeName;O[Yl]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&O.rel.toLowerCase()==="stylesheet"||m.removeChild(O),O=I}}else m==="body"&&_h(s.ownerDocument.body);m=A}while(m);id(c)}function ON(s,c){var m=s;s=0;do{var v=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=v}while(m)}function rw(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":rw(m),Of(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function uH(s,c,m,v){for(;s.nodeType===1;){var A=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[Yl])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var O=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=ta(s.nextSibling),s===null)break}return null}function dH(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=ta(s.nextSibling),s===null))return null;return s}function NN(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ta(s.nextSibling),s===null))return null;return s}function iw(s){return s.data==="$?"||s.data==="$~"}function aw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function fH(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function ta(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var ow=null;function CN(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return ta(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function MN(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function DN(s,c,m){switch(c=Yg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function _h(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Of(s)}var na=new Map,PN=new Set;function Kg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rs=J.d;J.d={f:hH,r:mH,D:pH,C:gH,L:bH,m:yH,X:xH,S:vH,M:_H};function hH(){var s=rs.f(),c=$g();return s||c}function mH(s){var c=$s(s);c!==null&&c.tag===5&&c.type==="form"?Xj(c):rs.r(s)}var td=typeof document>"u"?null:document;function RN(s,c,m){var v=td;if(v&&typeof c=="string"&&c){var A=Zt(c);A='link[rel="'+s+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),PN.has(A)||(PN.add(A),s={rel:s,crossOrigin:m,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),mr(c,"link",s),On(c),v.head.appendChild(c)))}}function pH(s){rs.D(s),RN("dns-prefetch",s,null)}function gH(s,c){rs.C(s,c),RN("preconnect",s,c)}function bH(s,c,m){rs.L(s,c,m);var v=td;if(v&&s&&c){var A='link[rel="preload"][as="'+Zt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+Zt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+Zt(m.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var O=A;switch(c){case"style":O=nd(s);break;case"script":O=rd(s)}na.has(O)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),na.set(O,s),v.querySelector(A)!==null||c==="style"&&v.querySelector(wh(O))||c==="script"&&v.querySelector(Sh(O))||(c=v.createElement("link"),mr(c,"link",s),On(c),v.head.appendChild(c)))}}function yH(s,c){rs.m(s,c);var m=td;if(m&&s){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Zt(v)+'"][href="'+Zt(s)+'"]',O=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=rd(s)}if(!na.has(O)&&(s=p({rel:"modulepreload",href:s},c),na.set(O,s),m.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Sh(O)))return}v=m.createElement("link"),mr(v,"link",s),On(v),m.head.appendChild(v)}}}function vH(s,c,m){rs.S(s,c,m);var v=td;if(v&&s){var A=Bs(v).hoistableStyles,O=nd(s);c=c||"default";var I=A.get(O);if(!I){var G={loading:0,preload:null};if(I=v.querySelector(wh(O)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=na.get(O))&&sw(s,m);var te=I=v.createElement("link");On(te),mr(te,"link",s),te._p=new Promise(function(me,Ee){te.onload=me,te.onerror=Ee}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Wg(I,c,v)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(O,I)}}}function xH(s,c){rs.X(s,c);var m=td;if(m&&s){var v=Bs(m).hoistableScripts,A=rd(s),O=v.get(A);O||(O=m.querySelector(Sh(A)),O||(s=p({src:s,async:!0},c),(c=na.get(A))&&lw(s,c),O=m.createElement("script"),On(O),mr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function _H(s,c){rs.M(s,c);var m=td;if(m&&s){var v=Bs(m).hoistableScripts,A=rd(s),O=v.get(A);O||(O=m.querySelector(Sh(A)),O||(s=p({src:s,async:!0,type:"module"},c),(c=na.get(A))&&lw(s,c),O=m.createElement("script"),On(O),mr(O,"link",s),m.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function LN(s,c,m,v){var A=(A=de.current)?Kg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=nd(m.href),m=Bs(A).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=nd(m.href);var O=Bs(A).hoistableStyles,I=O.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,I),(O=A.querySelector(wh(s)))&&!O._p&&(I.instance=O,I.state.loading=5),na.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},na.set(s,m),O||wH(A,s,m,I.state))),c&&v===null)throw Error(r(528,""));return I}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=rd(m),m=Bs(A).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function nd(s){return'href="'+Zt(s)+'"'}function wh(s){return'link[rel="stylesheet"]['+s+"]"}function IN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function wH(s,c,m,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),mr(c,"link",m),On(c),s.head.appendChild(c))}function rd(s){return'[src="'+Zt(s)+'"]'}function Sh(s){return"script[async]"+s}function $N(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+Zt(m.href)+'"]');if(v)return c.instance=v,On(v),v;var A=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),On(v),mr(v,"style",A),Wg(v,m.precedence,s),c.instance=v;case"stylesheet":A=nd(m.href);var O=s.querySelector(wh(A));if(O)return c.state.loading|=4,c.instance=O,On(O),O;v=IN(m),(A=na.get(A))&&sw(v,A),O=(s.ownerDocument||s).createElement("link"),On(O);var I=O;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),mr(O,"link",v),c.state.loading|=4,Wg(O,m.precedence,s),c.instance=O;case"script":return O=rd(m.src),(A=s.querySelector(Sh(O)))?(c.instance=A,On(A),A):(v=m,(A=na.get(O))&&(v=p({},m),lw(v,A)),s=s.ownerDocument||s,A=s.createElement("script"),On(A),mr(A,"link",v),s.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Wg(v,m.precedence,s));return c.instance}function Wg(s,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,O=A,I=0;I<v.length;I++){var G=v[I];if(G.dataset.precedence===c)O=G;else if(O!==A)break}O?O.parentNode.insertBefore(s,O.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function sw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function lw(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Vg=null;function BN(s,c,m){if(Vg===null){var v=new Map,A=Vg=new Map;A.set(m,v)}else A=Vg,v=A.get(m),v||(v=new Map,A.set(m,v));if(v.has(s))return v;for(v.set(s,null),m=m.getElementsByTagName(s),A=0;A<m.length;A++){var O=m[A];if(!(O[Yl]||O[jn]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var I=O.getAttribute(c)||"";I=s+I;var G=v.get(I);G?G.push(O):v.set(I,[O])}}return v}function zN(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function SH(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function UN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function EH(s,c,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=nd(v.href),O=c.querySelector(wh(A));if(O){c=O._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Zg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=O,On(O);return}O=c.ownerDocument||c,v=IN(v),(A=na.get(A))&&sw(v,A),O=O.createElement("link"),On(O);var I=O;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),mr(O,"link",v),m.instance=O}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=Zg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var cw=0;function kH(s,c){return s.stylesheets&&s.count===0&&Jg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var v=setTimeout(function(){if(s.stylesheets&&Jg(s,s.stylesheets),s.unsuspend){var O=s.unsuspend;s.unsuspend=null,O()}},6e4+c);0<s.imgBytes&&cw===0&&(cw=62500*aH());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Jg(s,s.stylesheets),s.unsuspend)){var O=s.unsuspend;s.unsuspend=null,O()}},(s.imgBytes>cw?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function Zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xg=null;function Jg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xg=new Map,c.forEach(AH,s),Xg=null,Zg.call(s))}function AH(s,c){if(!(c.state.loading&4)){var m=Xg.get(s);if(m)var v=m.get(null);else{m=new Map,Xg.set(s,m);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<A.length;O++){var I=A[O];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),v=I)}v&&m.set(null,v)}A=c.instance,I=A.getAttribute("data-precedence"),O=m.get(I)||v,O===v&&m.set(null,A),m.set(I,A),this.count++,v=Zg.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),O?O.parentNode.insertBefore(A,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),c.state.loading|=4}}var Eh={$$typeof:j,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function TH(s,c,m,v,A,O,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Af(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.hiddenUpdates=Af(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=O,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function FN(s,c,m,v,A,O,I,G,te,me,Ee,Te){return s=new TH(s,c,m,I,te,me,Ee,Te,G),c=1,O===!0&&(c|=24),O=kr(3,null,null,c),s.current=O,O.stateNode=s,c=Fx(),c.refCount++,s.pooledCache=c,c.refCount++,O.memoizedState={element:v,isDehydrated:m,cache:c},Yx(O),s}function HN(s){return s?(s=Ho,s):Ho}function GN(s,c,m,v,A,O){A=HN(A),v.context===null?v.context=A:v.pendingContext=A,v=il(c),v.payload={element:m},O=O===void 0?null:O,O!==null&&(v.callback=O),m=al(s,v,c),m!==null&&(ni(m,s,c),nh(m,s,c))}function qN(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function uw(s,c){qN(s,c),(s=s.alternate)&&qN(s,c)}function YN(s){if(s.tag===13||s.tag===31){var c=Ji(s,67108864);c!==null&&ni(c,s,67108864),uw(s,67108864)}}function KN(s){if(s.tag===13||s.tag===31){var c=Ti();c=qr(c);var m=Ji(s,c);m!==null&&ni(m,s,c),uw(s,c)}}var Qg=!0;function jH(s,c,m,v){var A=q.T;q.T=null;var O=J.p;try{J.p=2,dw(s,c,m,v)}finally{J.p=O,q.T=A}}function OH(s,c,m,v){var A=q.T;q.T=null;var O=J.p;try{J.p=8,dw(s,c,m,v)}finally{J.p=O,q.T=A}}function dw(s,c,m,v){if(Qg){var A=fw(v);if(A===null)X_(s,c,v,e0,m),VN(s,v);else if(CH(A,s,c,m,v))v.stopPropagation();else if(VN(s,v),c&4&&-1<NH.indexOf(s)){for(;A!==null;){var O=$s(A);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var I=Po(O.pendingLanes);if(I!==0){var G=O;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Mr(I);G.entanglements[1]|=te,I&=~te}co(O),(Tt&6)===0&&(Lg=Be()+500,yh(0))}}break;case 31:case 13:G=Ji(O,2),G!==null&&ni(G,O,2),$g(),uw(O,2)}if(O=fw(v),O===null&&X_(s,c,v,e0,m),O===A)break;A=O}A!==null&&v.stopPropagation()}else X_(s,c,v,null,m)}}function fw(s){return s=Xl(s),hw(s)}var e0=null;function hw(s){if(e0=null,s=Io(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return e0=s,null}function WN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Ot:return 2;case bt:return 8;case Jn:case gi:return 32;case bi:return 268435456;default:return 32}default:return 32}}var mw=!1,gl=null,bl=null,yl=null,kh=new Map,Ah=new Map,vl=[],NH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VN(s,c){switch(s){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":kh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(c.pointerId)}}function Th(s,c,m,v,A,O){return s===null||s.nativeEvent!==O?(s={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:O,targetContainers:[A]},c!==null&&(c=$s(c),c!==null&&YN(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function CH(s,c,m,v,A){switch(c){case"focusin":return gl=Th(gl,s,c,m,v,A),!0;case"dragenter":return bl=Th(bl,s,c,m,v,A),!0;case"mouseover":return yl=Th(yl,s,c,m,v,A),!0;case"pointerover":var O=A.pointerId;return kh.set(O,Th(kh.get(O)||null,s,c,m,v,A)),!0;case"gotpointercapture":return O=A.pointerId,Ah.set(O,Th(Ah.get(O)||null,s,c,m,v,A)),!0}return!1}function ZN(s){var c=Io(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,jf(s.priority,function(){KN(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,jf(s.priority,function(){KN(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function t0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=fw(s.nativeEvent);if(m===null){m=s.nativeEvent;var v=new m.constructor(m.type,m);wu=v,m.target.dispatchEvent(v),wu=null}else return c=$s(m),c!==null&&YN(c),s.blockedOn=m,!1;c.shift()}return!0}function XN(s,c,m){t0(s)&&m.delete(c)}function MH(){mw=!1,gl!==null&&t0(gl)&&(gl=null),bl!==null&&t0(bl)&&(bl=null),yl!==null&&t0(yl)&&(yl=null),kh.forEach(XN),Ah.forEach(XN)}function n0(s,c){s.blockedOn===c&&(s.blockedOn=null,mw||(mw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,MH)))}var r0=null;function JN(s){r0!==s&&(r0=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){r0===s&&(r0=null);for(var c=0;c<s.length;c+=3){var m=s[c],v=s[c+1],A=s[c+2];if(typeof v!="function"){if(hw(v||m)===null)continue;break}var O=$s(m);O!==null&&(s.splice(c,3),c-=3,f_(O,{pending:!0,data:A,method:m.method,action:v},v,A))}}))}function id(s){function c(te){return n0(te,s)}gl!==null&&n0(gl,s),bl!==null&&n0(bl,s),yl!==null&&n0(yl,s),kh.forEach(c),Ah.forEach(c);for(var m=0;m<vl.length;m++){var v=vl[m];v.blockedOn===s&&(v.blockedOn=null)}for(;0<vl.length&&(m=vl[0],m.blockedOn===null);)ZN(m),m.blockedOn===null&&vl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var A=m[v],O=m[v+1],I=A[Qn]||null;if(typeof O=="function")I||JN(m);else if(I){var G=null;if(O&&O.hasAttribute("formAction")){if(A=O,I=O[Qn]||null)G=I.formAction;else if(hw(A)!==null)continue}else G=I.action;typeof G=="function"?m[v+1]=G:(m.splice(v,3),v-=3),JN(m)}}}function QN(){function s(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function pw(s){this._internalRoot=s}i0.prototype.render=pw.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,v=Ti();GN(m,v,s,c,null,null)},i0.prototype.unmount=pw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;GN(s.current,2,null,s,null,null),$g(),c[Lo]=null}};function i0(s){this._internalRoot=s}i0.prototype.unstable_scheduleHydration=function(s){if(s){var c=Tf();s={blockedOn:null,target:s,priority:c};for(var m=0;m<vl.length&&c!==0&&c<vl[m].priority;m++);vl.splice(m,0,s),m===0&&ZN(s)}};var eC=t.version;if(eC!=="19.2.1")throw Error(r(527,eC,"19.2.1"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var DH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{qt=a0.inject(DH),mn=a0}catch{}}return Oh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,v="",A=sO,O=lO,I=cO;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=FN(s,1,!1,null,null,m,v,null,A,O,I,QN),s[Lo]=c.current,Z_(s),new pw(c)},Oh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var v=!1,A="",O=sO,I=lO,G=cO,te=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(O=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=FN(s,1,!0,c,m??null,v,A,te,O,I,G,QN),c.context=HN(null),m=c.current,v=Ti(),v=qr(v),A=il(v),A.callback=null,al(m,A,v),m=v,c.current.lanes=m,Ro(c,m),co(c),s[Lo]=c.current,Z_(s),new i0(c)},Oh.version="19.2.1",Oh}var uC;function HH(){if(uC)return yw.exports;uC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yw.exports=FH(),yw.exports}var GH=HH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dC="popstate";function qH(e={}){function t(i,a){let{pathname:o="/",search:l="",hash:u=""}=mu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),QS("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof a=="string"?a:xm(a))}function r(i,a){zi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return KH(t,n,r,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YH(){return Math.random().toString(36).substring(2,10)}function fC(e,t){return{usr:e.state,key:e.key,idx:t}}function QS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mu(t):t,state:n,key:t&&t.key||r||YH()}}function xm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function KH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let _=h(),T=_==null?null:_-f;f=_,u&&u({action:l,location:S.location,delta:T})}function b(_,T){l="PUSH";let N=QS(S.location,_,T);n&&n(N,_),f=h()+1;let j=fC(N,f),M=S.createHref(N);try{o.pushState(j,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}a&&u&&u({action:l,location:S.location,delta:1})}function x(_,T){l="REPLACE";let N=QS(S.location,_,T);n&&n(N,_),f=h();let j=fC(N,f),M=S.createHref(N);o.replaceState(j,"",M),a&&u&&u({action:l,location:S.location,delta:0})}function E(_){return WH(_)}let S={get action(){return l},get location(){return e(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(dC,p),u=_,()=>{i.removeEventListener(dC,p),u=null}},createHref(_){return t(i,_)},createURL:E,encodeLocation(_){let T=E(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:x,go(_){return o.go(_)}};return S}function WH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function i$(e,t,n="/"){return VH(e,t,n,!1)}function VH(e,t,n,r){let i=typeof t=="string"?mu(t):t,a=bs(i.pathname||"/",n);if(a==null)return null;let o=a$(e);ZH(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let f=sG(a);l=aG(o[u],f,r)}return l}function a$(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;ln(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=ms([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),a$(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:rG(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of o$(o.path))a(o,l,!0,u)}),t}function o$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=o$(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function ZH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:iG(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XH=/^:[\w-]+$/,JH=3,QH=2,eG=1,tG=10,nG=-2,hC=e=>e==="*";function rG(e,t){let n=e.split("/"),r=n.length;return n.some(hC)&&(r+=nG),t&&(r+=QH),n.filter(i=>!hC(i)).reduce((i,a)=>i+(XH.test(a)?JH:a===""?eG:tG),r)}function iG(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function aG(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Tb({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),b=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Tb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ms([a,p.pathname]),pathnameBase:fG(ms([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=ms([a,p.pathnameBase]))}return o}function Tb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=oG(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},b)=>{if(h==="*"){let E=l[b]||"";o=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=l[b];return p&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function oG(e,t=!1,n=!0){zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var lG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cG=e=>lG.test(e);function uG(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mu(e):e,a;if(n)if(cG(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=mC(n.substring(1),"/"):a=mC(n,t)}else a=t;return{pathname:a,search:hG(r),hash:mG(i)}}function mC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ww(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function t2(e){let t=dG(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function n2(e,t,n,r=!1){let i;typeof e=="string"?i=mu(e):(i={...e},ln(!i.pathname||!i.pathname.includes("?"),ww("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),ww("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),ww("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=uG(i,l),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),fG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function gG(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var s$=["POST","PUT","PATCH","DELETE"];new Set(s$);var bG=["GET",...s$];new Set(bG);var af=w.createContext(null);af.displayName="DataRouter";var rv=w.createContext(null);rv.displayName="DataRouterState";w.createContext(!1);var l$=w.createContext({isTransitioning:!1});l$.displayName="ViewTransition";var yG=w.createContext(new Map);yG.displayName="Fetchers";var vG=w.createContext(null);vG.displayName="Await";var ya=w.createContext(null);ya.displayName="Navigation";var Jm=w.createContext(null);Jm.displayName="Location";var Co=w.createContext({outlet:null,matches:[],isDataRoute:!1});Co.displayName="Route";var r2=w.createContext(null);r2.displayName="RouteError";function xG(e,{relative:t}={}){ln(of(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ya),{hash:i,pathname:a,search:o}=Qm(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:ms([n,a])),r.createHref({pathname:l,search:o,hash:i})}function of(){return w.useContext(Jm)!=null}function Hi(){return ln(of(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Jm).location}var c$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u$(e){w.useContext(ya).static||w.useLayoutEffect(e)}function iv(){let{isDataRoute:e}=w.useContext(Co);return e?DG():_G()}function _G(){ln(of(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(af),{basename:t,navigator:n}=w.useContext(ya),{matches:r}=w.useContext(Co),{pathname:i}=Hi(),a=JSON.stringify(t2(r)),o=w.useRef(!1);return u$(()=>{o.current=!0}),w.useCallback((u,f={})=>{if(zi(o.current,c$),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=n2(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ms([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,a,i,e])}w.createContext(null);function Qm(e,{relative:t}={}){let{matches:n}=w.useContext(Co),{pathname:r}=Hi(),i=JSON.stringify(t2(n));return w.useMemo(()=>n2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function wG(e,t){return d$(e,t)}function d$(e,t,n,r,i){ln(of(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ya),{matches:o}=w.useContext(Co),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let N=p&&p.path||"";f$(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Hi(),x;if(t){let N=typeof t=="string"?mu(t):t;ln(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=b;let E=x.pathname||"/",S=E;if(h!=="/"){let N=h.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=i$(e,{pathname:S});zi(p||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=TG(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:ms([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ms([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?w.createElement(Jm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function SG(){let e=MG(),t=pG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,o)}var EG=w.createElement(SG,null),kG=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Co.Provider,{value:this.props.routeContext},w.createElement(r2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AG({routeContext:e,match:t,children:n}){let r=w.useContext(af);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Co.Provider,{value:e},n)}function TG(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ln(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:x}=n,E=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||E){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:gG(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let x,E=!1,S=null,_=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||EG,l&&(u<0&&b===0?(f$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,_=null):u===b&&(E=!0,_=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,b+1)),N=()=>{let j;return x?j=S:E?j=_:p.route.Component?j=w.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,w.createElement(AG,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?w.createElement(kG,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):N()},null)}function i2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jG(e){let t=w.useContext(af);return ln(t,i2(e)),t}function OG(e){let t=w.useContext(rv);return ln(t,i2(e)),t}function NG(e){let t=w.useContext(Co);return ln(t,i2(e)),t}function a2(e){let t=NG(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function CG(){return a2("useRouteId")}function MG(){let e=w.useContext(r2),t=OG("useRouteError"),n=a2("useRouteError");return e!==void 0?e:t.errors?.[n]}function DG(){let{router:e}=jG("useNavigate"),t=a2("useNavigate"),n=w.useRef(!1);return u$(()=>{n.current=!0}),w.useCallback(async(i,a={})=>{zi(n.current,c$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var pC={};function f$(e,t,n){!t&&!pC[e]&&(pC[e]=!0,zi(!1,n))}w.memo(PG);function PG({routes:e,future:t,state:n,unstable_onError:r}){return d$(e,void 0,n,r,t)}function RG({to:e,replace:t,state:n,relative:r}){ln(of(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(ya);zi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Co),{pathname:o}=Hi(),l=iv(),u=n2(e,t2(a),o,r==="path"),f=JSON.stringify(u);return w.useEffect(()=>{l(JSON.parse(f),{replace:t,state:n,relative:r})},[l,f,r,t,n]),null}function Lc(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LG({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){ln(!of(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=mu(n));let{pathname:f="/",search:h="",hash:p="",state:b=null,key:x="default"}=n,E=w.useMemo(()=>{let S=bs(f,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:b,key:x},navigationType:r}},[l,f,h,p,b,x,r]);return zi(E!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(ya.Provider,{value:u},w.createElement(Jm.Provider,{children:t,value:E}))}function IG({children:e,location:t}){return wG(eE(e),t)}function eE(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){n.push.apply(n,eE(r.props.children,a));return}ln(r.type===Lc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=eE(r.props.children,a)),n.push(o)}),n}var ub="get",db="application/x-www-form-urlencoded";function av(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function $G(e){return av(e)&&e.tagName.toLowerCase()==="button"}function BG(e){return av(e)&&e.tagName.toLowerCase()==="form"}function zG(e){return av(e)&&e.tagName.toLowerCase()==="input"}function UG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FG(e,t){return e.button===0&&(!t||t==="_self")&&!UG(e)}var o0=null;function HG(){if(o0===null)try{new FormData(document.createElement("form"),0),o0=!1}catch{o0=!0}return o0}var GG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sw(e){return e!=null&&!GG.has(e)?(zi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${db}"`),null):e}function qG(e,t){let n,r,i,a,o;if(BG(e)){let l=e.getAttribute("action");r=l?bs(l,t):null,n=e.getAttribute("method")||ub,i=Sw(e.getAttribute("enctype"))||db,a=new FormData(e)}else if($G(e)||zG(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?bs(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ub,i=Sw(e.getAttribute("formenctype"))||Sw(l.getAttribute("enctype"))||db,a=new FormData(l,e),!HG()){let{name:f,type:h,value:p}=e;if(h==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,p)}}else{if(av(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ub,r=null,i=db,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YG(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&bs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function KG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await KG(a,n);return o.links?o.links():[]}return[]}));return QG(r.flat(1).filter(WG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gC(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,l=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||l(u,f)):a==="data"?t.filter((u,f)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ZG(e,t,{includeHydrateFallback:n}={}){return XG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function XG(e){return[...new Set(e)]}function JG(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function QG(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(JG(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function h$(){let e=w.useContext(af);return o2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eq(){let e=w.useContext(rv);return o2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var s2=w.createContext(void 0);s2.displayName="FrameworkContext";function m$(){let e=w.useContext(s2);return o2(e,"You must render this element inside a <HydratedRouter> element"),e}function tq(e,t){let n=w.useContext(s2),[r,i]=w.useState(!1),[a,o]=w.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,b=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=T=>{T.forEach(N=>{o(N.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},E=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Nh(l,x),onBlur:Nh(u,E),onMouseEnter:Nh(f,x),onMouseLeave:Nh(h,E),onTouchStart:Nh(p,x)}]:[!1,b,{}]}function Nh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nq({page:e,...t}){let{router:n}=h$(),r=w.useMemo(()=>i$(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(iq,{page:e,matches:r,...t}):null}function rq(e){let{manifest:t,routeModules:n}=m$(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return VG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function iq({page:e,matches:t,...n}){let r=Hi(),{manifest:i,routeModules:a}=m$(),{basename:o}=h$(),{loaderData:l,matches:u}=eq(),f=w.useMemo(()=>gC(e,t,u,i,r,"data"),[e,t,u,i,r]),h=w.useMemo(()=>gC(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,S=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!f.some(j=>j.route.id===T.route.id)&&T.route.id in l&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?S=!0:E.add(T.route.id))}),E.size===0)return[];let _=YG(e,o,"data");return S&&E.size>0&&_.searchParams.set("_routes",t.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[o,l,r,i,f,t,e,a]),b=w.useMemo(()=>ZG(h,i),[h,i]),x=rq(h);return w.createElement(w.Fragment,null,p.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:S})=>w.createElement("link",{key:E,nonce:n.nonce,...S})))}function aq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var p$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p$&&(window.__reactRouterVersion="7.10.1")}catch{}function oq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=w.useRef();i.current==null&&(i.current=qH({window:r,v5Compat:!0}));let a=i.current,[o,l]=w.useState({action:a.action,location:a.location}),u=w.useCallback(f=>{n===!1?l(f):w.startTransition(()=>l(f))},[n]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.createElement(LG,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var g$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b$=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:f,preventScrollReset:h,viewTransition:p,...b},x){let{basename:E,unstable_useTransitions:S}=w.useContext(ya),_=typeof f=="string"&&g$.test(f),T,N=!1;if(typeof f=="string"&&_&&(T=f,p$))try{let K=new URL(window.location.href),U=f.startsWith("//")?new URL(K.protocol+f):new URL(f),z=bs(U.pathname,E);U.origin===K.origin&&z!=null?f=z+U.search+U.hash:N=!0}catch{zi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=xG(f,{relative:i}),[M,D,P]=tq(r,b),$=uq(f,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:S});function H(K){t&&t(K),K.defaultPrevented||$(K)}let Y=w.createElement("a",{...b,...P,href:T||j,onClick:N||a?t:H,ref:aq(x,D),target:u,"data-discover":!_&&n==="render"?"true":void 0});return M&&!_?w.createElement(w.Fragment,null,Y,w.createElement(nq,{page:j})):Y});b$.displayName="Link";var sq=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...f},h){let p=Qm(o,{relative:f.relative}),b=Hi(),x=w.useContext(rv),{navigator:E,basename:S}=w.useContext(ya),_=x!=null&&pq(p)&&l===!0,T=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,N=b.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),j=j?j.toLowerCase():null,T=T.toLowerCase()),j&&S&&(j=bs(j,S)||j);const M=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=N===T||!i&&N.startsWith(T)&&N.charAt(M)==="/",P=j!=null&&(j===T||!i&&j.startsWith(T)&&j.charAt(T.length)==="/"),$={isActive:D,isPending:P,isTransitioning:_},H=D?t:void 0,Y;typeof r=="function"?Y=r($):Y=[r,D?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a($):a;return w.createElement(b$,{...f,"aria-current":H,className:Y,ref:h,style:K,to:o,viewTransition:l},typeof u=="function"?u($):u)});sq.displayName="NavLink";var lq=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=ub,action:l,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...b},x)=>{let{unstable_useTransitions:E}=w.useContext(ya),S=hq(),_=mq(l,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&g$.test(l),j=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,P=D?.getAttribute("formmethod")||o,$=()=>S(D||M.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p});E&&n!==!1?w.startTransition(()=>$()):$()};return w.createElement("form",{ref:x,method:T,action:_,onSubmit:r?u:j,...b,"data-discover":!N&&e==="render"?"true":void 0})});lq.displayName="Form";function cq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y$(e){let t=w.useContext(af);return ln(t,cq(e)),t}function uq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=iv(),f=Hi(),h=Qm(e,{relative:a});return w.useCallback(p=>{if(FG(p,t)){p.preventDefault();let b=n!==void 0?n:xm(f)===xm(h),x=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?w.startTransition(()=>x()):x()}},[f,u,h,n,r,t,e,i,a,o,l])}var dq=0,fq=()=>`__${String(++dq)}__`;function hq(){let{router:e}=y$("useSubmit"),{basename:t}=w.useContext(ya),n=CG(),r=e.fetch,i=e.navigate;return w.useCallback(async(a,o={})=>{let{action:l,method:u,encType:f,formData:h,body:p}=qG(a,t);if(o.navigate===!1){let b=o.fetcherKey||fq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function mq(e,{relative:t}={}){let{basename:n}=w.useContext(ya),r=w.useContext(Co);ln(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Qm(e||".",{relative:t})},o=Hi();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ms([n,a.pathname])),xm(a)}function pq(e,{relative:t}={}){let n=w.useContext(l$);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=y$("useViewTransitionState"),i=Qm(e,{relative:t});if(!n.isTransitioning)return!1;let a=bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tb(i.pathname,o)!=null||Tb(i.pathname,a)!=null}var sf=r$();const gq=hi(sf);let bq={data:""},yq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||bq,vq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xq=/\/\*[^]*?\*\/|  +/g,bC=/\n+/g,Sl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Sl(o,a):a+"{"+Sl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Sl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Sl.p?Sl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},is={},v$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+v$(e[n]);return t}return e},_q=(e,t,n,r,i)=>{let a=v$(e),o=is[a]||(is[a]=(u=>{let f=0,h=11;for(;f<u.length;)h=101*h+u.charCodeAt(f++)>>>0;return"go"+h})(a));if(!is[o]){let u=a!==e?e:(f=>{let h,p,b=[{}];for(;h=vq.exec(f.replace(xq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(bC," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(bC," ").trim();return b[0]})(e);is[o]=Sl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&is.g?is.g:null;return n&&(is.g=is[o]),((u,f,h,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=h?u+f.data:f.data+u)})(is[o],t,r,l),o},wq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Sl(l,""):l===!1?"":l}return r+i+(o??"")},"");function ov(e){let t=this||{},n=e.call?e(t.p):e;return _q(n.unshift?n.raw?wq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,yq(t.target),t.g,t.o,t.k)}let x$,tE,nE;ov.bind({g:1});let ys=ov.bind({k:1});function Sq(e,t,n,r){Sl.p=t,x$=e,tE=n,nE=r}function Il(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:tE&&tE()},l),n.o=/ *go\d+/.test(u),l.className=ov.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=l.as||e,delete l.as),nE&&f[0]&&nE(l),x$(f,l)}return i}}var Eq=e=>typeof e=="function",jb=(e,t)=>Eq(e)?e(t):e,kq=(()=>{let e=0;return()=>(++e).toString()})(),_$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Aq=20,l2="default",w$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return w$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},fb=[],S$={toasts:[],pausedAt:void 0,settings:{toastLimit:Aq}},xo={},E$=(e,t=l2)=>{xo[t]=w$(xo[t]||S$,e),fb.forEach(([n,r])=>{n===t&&r(xo[t])})},k$=e=>Object.keys(xo).forEach(t=>E$(e,t)),Tq=e=>Object.keys(xo).find(t=>xo[t].toasts.some(n=>n.id===e)),sv=(e=l2)=>t=>{E$(t,e)},jq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Oq=(e={},t=l2)=>{let[n,r]=w.useState(xo[t]||S$),i=w.useRef(xo[t]);w.useEffect(()=>(i.current!==xo[t]&&r(xo[t]),fb.push([t,r]),()=>{let o=fb.findIndex(([l])=>l===t);o>-1&&fb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||jq[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},Nq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||kq()}),ep=e=>(t,n)=>{let r=Nq(t,e,n);return sv(r.toasterId||Tq(r.id))({type:2,toast:r}),r.id},An=(e,t)=>ep("blank")(e,t);An.error=ep("error");An.success=ep("success");An.loading=ep("loading");An.custom=ep("custom");An.dismiss=(e,t)=>{let n={type:3,toastId:e};t?sv(t)(n):k$(n)};An.dismissAll=e=>An.dismiss(void 0,e);An.remove=(e,t)=>{let n={type:4,toastId:e};t?sv(t)(n):k$(n)};An.removeAll=e=>An.remove(void 0,e);An.promise=(e,t,n)=>{let r=An.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?jb(t.success,i):void 0;return a?An.success(a,{id:r,...n,...n?.success}):An.dismiss(r),i}).catch(i=>{let a=t.error?jb(t.error,i):void 0;a?An.error(a,{id:r,...n,...n?.error}):An.dismiss(r)}),e};var Cq=1e3,Mq=(e,t="default")=>{let{toasts:n,pausedAt:r}=Oq(e,t),i=w.useRef(new Map).current,a=w.useCallback((p,b=Cq)=>{if(i.has(p))return;let x=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,x)},[]);w.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(x=>{if(x.duration===1/0)return;let E=(x.duration||0)+x.pauseDuration-(p-x.createdAt);if(E<0){x.visible&&An.dismiss(x.id);return}return setTimeout(()=>An.dismiss(x.id,t),E)});return()=>{b.forEach(x=>x&&clearTimeout(x))}},[n,r,t]);let o=w.useCallback(sv(t),[t]),l=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=w.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),f=w.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=w.useCallback((p,b)=>{let{reverseOrder:x=!1,gutter:E=8,defaultPosition:S}=b||{},_=n.filter(j=>(j.position||S)===(p.position||S)&&j.height),T=_.findIndex(j=>j.id===p.id),N=_.filter((j,M)=>M<T&&j.visible).length;return _.filter(j=>j.visible).slice(...x?[N+1]:[0,N]).reduce((j,M)=>j+(M.height||0)+E,0)},[n]);return w.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:f,calculateOffset:h}}},Dq=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Pq=ys`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rq=ys`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Lq=Il("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Pq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Iq=ys`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$q=Il("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Iq} 1s linear infinite;
`,Bq=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zq=ys`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Uq=Il("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Fq=Il("div")`
  position: absolute;
`,Hq=Il("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gq=ys`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qq=Il("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Yq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(qq,null,t):t:n==="blank"?null:w.createElement(Hq,null,w.createElement($q,{...r}),n!=="loading"&&w.createElement(Fq,null,n==="error"?w.createElement(Lq,{...r}):w.createElement(Uq,{...r})))},Kq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Wq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Vq="0%{opacity:0;} 100%{opacity:1;}",Zq="0%{opacity:1;} 100%{opacity:0;}",Xq=Il("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jq=Il("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qq=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=_$()?[Vq,Zq]:[Kq(n),Wq(n)];return{animation:t?`${ys(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ys(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eY=w.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?Qq(e.position||t||"top-center",e.visible):{opacity:0},a=w.createElement(Yq,{toast:e}),o=w.createElement(Jq,{...e.ariaProps},jb(e.message,e));return w.createElement(Xq,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):w.createElement(w.Fragment,null,a,o))});Sq(w.createElement);var tY=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=w.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:a,className:t,style:n},i)},nY=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},rY=ov`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,s0=16,A$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:f}=Mq(n,a);return w.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:s0,left:s0,right:s0,bottom:s0,pointerEvents:"none",...o},className:l,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(h=>{let p=h.position||t,b=f.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),x=nY(p,b);return w.createElement(tY,{id:h.id,key:h.id,onHeightUpdate:f.updateHeight,className:h.visible?rY:"",style:x},h.type==="custom"?jb(h.message,h):i?i(h):w.createElement(eY,{toast:h,position:p}))}))},_o=An;function iY(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const aY=864e5;function oY(e){const t=(e-24405875e-1)*aY;return new Date(t)}function sY(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function lY(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let f=l-1;f>12&&(f-=12);let h=a-4715;return f>2&&(h-=1),[h,f,u]}const fm=Math.PI,Gc=fm/180,cY=180/fm,uY=86400;function dY(e){return e%=360,e<0?e+360:e}function fY(e,t){return(e-t+540)%360-180}function yC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function hY(e){const[t,n]=lY(e);return e+sY(t,Math.round(n))/uY}function vC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function mY(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Gc,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Gc,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Gc,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Gc,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Gc,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[h,p,b,x,E,S,_,T,N]of l){const j=h*n+p*r+b*i+x*a+E*o;u+=(S+_*t)*Math.sin(j),f+=(T+N*t)*Math.cos(j)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function l0(e){const t=hY(e),n=(t-2451545)/365250,r=vC(xC.L,n),i=vC(xC.R,n);let a=r+fm;a>2*fm&&(a-=2*fm);const{dpsi:o}=mY(t),l=o/3600*Gc,u=20.4898/(3600*i),f=a+l-u*Gc;return dY(f*cY)}function Gn(e,t,n){const r=(t%360+360)%360,i=iY(e,1,1),a=l0(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,f=5e-6;for(let b=0;b<25;b++){const x=l0(l),E=fY(r,x);if(Math.abs(E)<u)break;const S=l0(l+f),_=l0(l-f),T=yC(S,x),N=yC(_,x),j=(T-N)/(2*f);l+=E/j}const h=oY(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const xC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},pY=(e,t)=>(e%t+t)%t,T$=(e,t)=>(e%t+t)%t,j$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),_C=new Map;function O$(e,t=127.5){const n=`${e}@${t}`,r=_C.get(n);if(r)return r;const i=Gn(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return _C.set(n,i),i}function N$(e,t=127.5){if(!j$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=O$(n,t),i=e<r?n-1:n,a=pY(i-4,60);return{useYear:i,index60Num:a}}const Fr=["","","","","","","","","",""],ui=["","","","","","","","","","","",""],rE={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ka={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},gY=["","","","","","","","","",""],bY=["","","","","","","","","","","",""],yY=["","","","","","","","","","","","","","","","","","","",""],vY=["","","","","","","","","","","","","","","","","","","","","","","",""],zd=new Set(Fr),_m=new Set(ui),In={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},c2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ob=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],xY={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},_Y={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function at(e,t=127.5){const{index60Num:n}=N$(e,t);return c2[n]}function wY(e,t=127.5){return(at(e,t)||"").charAt(0)}const SY=[2,4,6,8,0,2,4,6,8,0];function EY(e,t=127.5){const n=new Array(12);return n[0]=O$(e,t),n[1]=Gn(e,345,t),n[2]=Gn(e,15,t),n[3]=Gn(e,45,t),n[4]=Gn(e,75,t),n[5]=Gn(e,105,t),n[6]=Gn(e,135,t),n[7]=Gn(e,165,t),n[8]=Gn(e,195,t),n[9]=Gn(e,225,t),n[10]=Gn(e,255,t),n[11]=Gn(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function kY(e,t=127.5){const{useYear:n}=N$(e,t),r=EY(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function AY(e,t=127.5){const n=wY(e,t),r=rE..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return SY[r]}function TY(e,t,n=127.5){return(AY(e,n)+(t-1))%10}function kt(e,t=127.5){if(!j$(e))return"";const{monthIndex:n}=kY(e,t),r=(2+(n-1))%12,i=rE.[r],a=TY(e,n,t);return rE.[a]+i}const Nb={JDN:2445731,idx:0};function C$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function jY(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=CY(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function OY(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=jY(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=C$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=T$(a-Nb.JDN+Nb.idx,60),l=c2[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function NY(e,t){const n=new Date(e),r=OY(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=C$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=T$(o-Nb.JDN+Nb.idx,60),u=c2[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function CY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Ob.length;n+=1){const{branch:r,start:i,end:a}=Ob[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function MY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Ob.length;n+=1){const{branch:r,start:i,end:a}=Ob[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function DY(e,t,n,r){const i=Fr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Fr[a]}function Fa(e,t,n){e instanceof Date||(e=new Date(e));const r=MY(e),i=ui.indexOf(r),o=(n??gt(e,t)).charAt(0);return DY(e,o,i,t)+r}const wC=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,l);return l},PY=(e=>e?wC(e):wC),RY=e=>e;function LY(e,t=RY){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const SC=e=>{const t=PY(e),n=r=>LY(t,r);return Object.assign(n,t),n},As=(e=>e?SC(e):SC);function IY(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const iE=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return iE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return iE(r)(n)}}}},$Y=(e,t)=>(n,r,i)=>{let a={storage:IY(()=>localStorage),partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...t},o=!1;const l=new Set,u=new Set;let f=a.storage;if(!f)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},r,i);const h=()=>{const S=a.partialize({...r()});return f.setItem(a.name,{state:S,version:a.version})},p=i.setState;i.setState=(S,_)=>(p(S,_),h());const b=e((...S)=>(n(...S),h()),r,i);i.getInitialState=()=>b;let x;const E=()=>{var S,_;if(!f)return;o=!1,l.forEach(N=>{var j;return N((j=r())!=null?j:b)});const T=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(S=r())!=null?S:b))||void 0;return iE(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const j=a.migrate(N.state,N.version);return j instanceof Promise?j.then(M=>[!0,M]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var j;const[M,D]=N;if(x=a.merge(D,(j=r())!=null?j:b),n(x,!0),M)return h()}).then(()=>{T?.(x,void 0),x=r(),o=!0,u.forEach(N=>N(x))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:S=>{a={...a,...S},S.storage&&(f=S.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:S=>(l.add(S),()=>{l.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},a.skipHydration||E(),x||b},M$=$Y;var as={},c0={},aE=function(e,t){return aE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},aE(e,t)};function D$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");aE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Cb=function(){return Cb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Cb.apply(this,arguments)};function lf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function P$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function R$(e,t){return function(n,r){t(n,r,e)}}function L$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,h=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,b=!1,x=n.length-1;x>=0;x--){var E={};for(var S in r)E[S]=S==="access"?{}:r[S];for(var S in r.access)E.access[S]=r.access[S];E.addInitializer=function(T){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var _=(0,n[x])(l==="accessor"?{get:h.get,set:h.set}:h[u],E);if(l==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(h.get=p),(p=o(_.set))&&(h.set=p),(p=o(_.init))&&i.unshift(p)}else(p=o(_))&&(l==="field"?i.unshift(p):h[u]=p)}f&&Object.defineProperty(f,r.name,h),b=!0}function I$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function $$(e){return typeof e=="symbol"?e:"".concat(e)}function B$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function z$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{f(r.next(h))}catch(p){o(p)}}function u(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(l,u)}f((r=r.apply(e,t||[])).next())})}function U$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var lv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function F$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&lv(t,e,n)}function Mb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function H$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u2(arguments[t]));return e}function G$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function q$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Ud(e){return this instanceof Ud?(this.v=e,this):new Ud(e)}function Y$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(E){return Promise.resolve(E).then(x,p)}}function l(x,E){r[x]&&(i[x]=function(S){return new Promise(function(_,T){a.push([x,S,_,T])>1||u(x,S)})},E&&(i[x]=E(i[x])))}function u(x,E){try{f(r[x](E))}catch(S){b(a[0][3],S)}}function f(x){x.value instanceof Ud?Promise.resolve(x.value.v).then(h,p):b(a[0][2],x)}function h(x){u("next",x)}function p(x){u("throw",x)}function b(x,E){x(E),a.shift(),a.length&&u(a[0][0],a[0][1])}}function K$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Ud(e[i](o)),done:!1}:a?a(o):o}:a}}function W$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Mb=="function"?Mb(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(f){a({value:f,done:l})},o)}}function V$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var BY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},oE=function(e){return oE=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},oE(e)};function Z$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=oE(e),r=0;r<n.length;r++)n[r]!=="default"&&lv(t,e,n[r]);return BY(t,e),t}function X$(e){return e&&e.__esModule?e:{default:e}}function J$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Q$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function eB(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function tB(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var zY=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function nB(e){function t(a){e.error=e.hasError?new zY(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function rB(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const UY={__extends:D$,__assign:Cb,__rest:lf,__decorate:P$,__param:R$,__esDecorate:L$,__runInitializers:I$,__propKey:$$,__setFunctionName:B$,__metadata:z$,__awaiter:Ue,__generator:U$,__createBinding:lv,__exportStar:F$,__values:Mb,__read:u2,__spread:H$,__spreadArrays:G$,__spreadArray:q$,__await:Ud,__asyncGenerator:Y$,__asyncDelegator:K$,__asyncValues:W$,__makeTemplateObject:V$,__importStar:Z$,__importDefault:X$,__classPrivateFieldGet:J$,__classPrivateFieldSet:Q$,__classPrivateFieldIn:eB,__addDisposableResource:tB,__disposeResources:nB,__rewriteRelativeImportExtension:rB},FY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:tB,get __assign(){return Cb},__asyncDelegator:K$,__asyncGenerator:Y$,__asyncValues:W$,__await:Ud,__awaiter:Ue,__classPrivateFieldGet:J$,__classPrivateFieldIn:eB,__classPrivateFieldSet:Q$,__createBinding:lv,__decorate:P$,__disposeResources:nB,__esDecorate:L$,__exportStar:F$,__extends:D$,__generator:U$,__importDefault:X$,__importStar:Z$,__makeTemplateObject:V$,__metadata:z$,__param:R$,__propKey:$$,__read:u2,__rest:lf,__rewriteRelativeImportExtension:rB,__runInitializers:I$,__setFunctionName:B$,__spread:H$,__spreadArray:q$,__spreadArrays:G$,__values:Mb,default:UY},Symbol.toStringTag,{value:"Module"})),HY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let cv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},iB=class extends cv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},sE=class extends cv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},lE=class extends cv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Db;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Db||(Db={}));class GY{constructor(t,{headers:n={},customFetch:r,region:i=Db.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=HY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:f,signal:h,timeout:p}=r;let b={},{region:x}=r;x||(x=this.region);const E=new URL(`${this.url}/${n}`);x&&x!=="any"&&(b["x-region"]=x,E.searchParams.set("forceFunctionRegion",x));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(b["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(b["Content-Type"]="application/json",S=JSON.stringify(f)):S=f;let _=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(_=o.signal,h.addEventListener("abort",()=>o.abort())):_=o.signal);const T=yield this.fetch(E.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:S,signal:_}).catch(D=>{throw new iB(D)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new sE(T);if(!T.ok)throw new lE(T);let j=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return j==="application/json"?M=yield T.json():j==="application/octet-stream"||j==="application/pdf"?M=yield T.blob():j==="text/event-stream"?M=T:j==="multipart/form-data"?M=yield T.formData():M=yield T.text(),{data:M,error:null,response:T}}catch(l){return{data:null,error:l,response:l instanceof lE||l instanceof sE?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const qY=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Db},FunctionsClient:GY,FunctionsError:cv,FunctionsFetchError:iB,FunctionsHttpError:lE,FunctionsRelayError:sE},Symbol.toStringTag,{value:"Module"})),aB=Xm(qY);var Tr={};const cf=Xm(FY);var u0={},d0={},f0={},h0={},m0={},p0={},EC;function oB(){if(EC)return p0;EC=1,Object.defineProperty(p0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return p0.default=e,p0}var kC;function sB(){if(kC)return m0;kC=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=cf.__importDefault(oB());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,p,b;let x=null,E=null,S=null,_=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?E=D:E=JSON.parse(D))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),M=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,S=null,_=406,T="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const j=await u.text();try{x=JSON.parse(j),Array.isArray(x)&&u.status===404&&(E=[],x=null,_=200,T="OK")}catch{u.status===404&&j===""?(_=204,T="No Content"):x={message:j}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,_=200,T="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:E,count:S,status:_,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var f,h,p,b,x,E;let S="";const _=u?.cause;if(_){const T=(f=_?.message)!==null&&f!==void 0?f:"",N=(h=_?.code)!==null&&h!==void 0?h:"";S=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,S+=`

Caused by: ${(b=_?.name)!==null&&b!==void 0?b:"Error"}: ${T}`,N&&(S+=` (${N})`),_?.stack&&(S+=`
${_.stack}`)}else S=(x=u?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(E=u?.name)!==null&&E!==void 0?E:"FetchError"}: ${u?.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return m0.default=n,m0}var AC;function lB(){if(AC)return h0;AC=1,Object.defineProperty(h0,"__esModule",{value:!0});const t=cf.__importDefault(sB());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${b}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return h0.default=n,h0}var TC;function d2(){if(TC)return f0;TC=1,Object.defineProperty(f0,"__esModule",{value:!0});const t=cf.__importDefault(lB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return f0.default=r,f0}var jC;function cB(){if(jC)return d0;jC=1,Object.defineProperty(d0,"__esModule",{value:!0});const t=cf.__importDefault(d2());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return d0.default=n,d0}var OC;function YY(){if(OC)return u0;OC=1,Object.defineProperty(u0,"__esModule",{value:!0});const e=cf,t=e.__importDefault(cB()),n=e.__importDefault(d2());let r=class uB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new uB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:f}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let x;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{b.searchParams.append(S,_)})):(p="POST",x=o);const E=new Headers(this.headers);return f&&E.set("Prefer",`count=${f}`),new n.default({method:p,url:b,headers:E,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return u0.default=r,u0}var NC;function dB(){if(NC)return Tr;NC=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.PostgrestError=Tr.PostgrestBuilder=Tr.PostgrestTransformBuilder=Tr.PostgrestFilterBuilder=Tr.PostgrestQueryBuilder=Tr.PostgrestClient=void 0;const e=cf,t=e.__importDefault(YY());Tr.PostgrestClient=t.default;const n=e.__importDefault(cB());Tr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(d2());Tr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(lB());Tr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(sB());Tr.PostgrestBuilder=a.default;const o=e.__importDefault(oB());return Tr.PostgrestError=o.default,Tr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Tr}class fB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const KY="2.86.2",WY=`realtime-js/${KY}`,hB="1.0.0",VY="2.0.0",CC=hB,cE=1e4,ZY=1e3,XY=100;var qc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qc||(qc={}));var Pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pn||(Pn={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var uE;(function(e){e.websocket="websocket"})(uE||(uE={}));var Yc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yc||(Yc={}));class JY{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+f.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(x),S=0;E.setUint8(S++,this.KINDS.userBroadcastPush),E.setUint8(S++,u.length),E.setUint8(S++,l.length),E.setUint8(S++,o.length),E.setUint8(S++,f.length),E.setUint8(S++,p.length),E.setUint8(S++,n),Array.from(u,T=>E.setUint8(S++,T.charCodeAt(0))),Array.from(l,T=>E.setUint8(S++,T.charCodeAt(0))),Array.from(o,T=>E.setUint8(S++,T.charCodeAt(0))),Array.from(f,T=>E.setUint8(S++,T.charCodeAt(0))),Array.from(p,T=>E.setUint8(S++,T.charCodeAt(0)));var _=new Uint8Array(x.byteLength+r.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(r),x.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,E={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(E.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class mB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const MC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=QY(o,e,t,i),a),{}):{}},QY=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?pB(a,o):dE(o)},pB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return rK(t,n)}switch(e){case Yt.bool:return eK(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return tK(t);case Yt.json:case Yt.jsonb:return nK(t);case Yt.timestamp:return iK(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return dE(t);default:return dE(t)}},dE=e=>e,eK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rK=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>pB(t,l))}return e},iK=e=>typeof e=="string"?e.replace(" ","T"):e,gB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ew{constructor(t,n,r={},i=cE){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fE||(fE={}));let bB=class hb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=hb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(f,h)=>{o[f]||(u[f]=h)}),this.map(o,(f,h)=>{const p=a[f];if(p){const b=h.map(_=>_.presence_ref),x=p.map(_=>_.presence_ref),E=h.filter(_=>x.indexOf(_.presence_ref)<0),S=p.filter(_=>b.indexOf(_.presence_ref)<0);E.length>0&&(l[f]=E),S.length>0&&(u[f]=S)}else l[f]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var f;const h=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(x=>x.presence_ref),b=h.filter(x=>p.indexOf(x.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let f=t[l];if(!f)return;const h=u.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=f,i(l,f,u),f.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hE||(hE={}));var Cd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cd||(Cd={}));var po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(po||(po={}));const aK=Pn;let yB=class vB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ew(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new mB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new bB(this),this.broadcastEndpointURL=gB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Cd.PRESENCE]&&this.bindings[Cd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(po.CHANNEL_ERROR,x)),this._onClose(()=>t?.(po.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var E;if(this.socket.setAuth(),x===void 0){t?.(po.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(E=S?.length)!==null&&E!==void 0?E:0,T=[];for(let N=0;N<_;N++){const j=S[N],{filter:{event:M,schema:D,table:P,filter:$}}=j,H=x&&x[N];if(H&&H.event===M&&H.schema===D&&H.table===P&&H.filter===$)T.push(Object.assign(Object.assign({},j),{id:H.id}));else{this.unsubscribe(),this.state=Pn.errored,t?.(po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(po.SUBSCRIBED);return}}).receive("error",x=>{this.state=Pn.errored,t?.(po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Pn.joined&&t===Cd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const f=await l.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ew(this,Pa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ew(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>XY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:f,join:h}=Pa;if(r&&[l,u,f,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var E,S,_;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((_=(S=x.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(x=>x.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var E,S,_,T,N,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const M=x.id,D=(E=x.filter)===null||E===void 0?void 0:E.event;return M&&((S=n.ids)===null||S===void 0?void 0:S.includes(M))&&(D==="*"||D?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const M=(N=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return M==="*"||M===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:S,table:_,commit_timestamp:T,type:N,errors:j}=E;b=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:T,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(E))}x.callback(b,r)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&vB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=MC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=MC(t.columns,t.old_record)),n}};const kw=()=>{},g0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oK=[1e3,2e3,5e3,1e4],sK=1e4,lK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let cK=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cE,this.transport=null,this.heartbeatIntervalMs=g0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kw,this.ref=0,this.reconnectTimer=null,this.vsn=CC,this.logger=kw,this.conn=null,this.sendBuffer=[],this.serializer=new JY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${uE.websocket}`,this.httpEndpoint=gB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qc.connecting:return Yc.Connecting;case qc.open:return Yc.Open;case qc.closing:return Yc.Closing;default:return Yc.Closed}}isConnected(){return this.connectionState()===Yc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new yB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ZY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},g0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===qc.open||this.conn.readyState===qc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([lK],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:WY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},g0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,f,h,p,b,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:cE,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:g0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:kw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:CC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(E=>oK[E-1]||sK),this.vsn){case hB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((E,S)=>S(JSON.stringify(E))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((E,S)=>S(JSON.parse(E)));break;case VY:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const uK=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:aK,get REALTIME_LISTEN_TYPES(){return Cd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return hE},get REALTIME_PRESENCE_LISTEN_EVENTS(){return fE},get REALTIME_SUBSCRIBE_STATES(){return po},RealtimeChannel:yB,RealtimeClient:cK,RealtimePresence:bB,WebSocketFactory:fB},Symbol.toStringTag,{value:"Module"})),xB=Xm(uK);class tp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _B extends tp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pb extends tp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const f2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dK=()=>Response,mE=e=>{if(Array.isArray(e))return e.map(n=>mE(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=mE(r)}),t},fK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Aw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield dK();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new _B(Aw(i),a,o))}).catch(i=>{t(new Pb(Aw(i),i))}):t(new Pb(Aw(e),e))}),pK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(fK(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function np(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,pK(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>mK(u,l,r))})})}function wm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return np(e,"GET",t,n,r)})}function Da(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return np(e,"POST",t,r,i,n)})}function pE(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return np(e,"PUT",t,r,i,n)})}function gK(e,t,n,r){return Ue(this,void 0,void 0,function*(){return np(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function h2(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return np(e,"DELETE",t,r,i,n)})}class bK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var wB;class yK{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[wB]="BlobDownloadBuilder",this.promise=null}asStream(){return new bK(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}wB=Symbol.toStringTag;const vK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xK{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=f2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},DC),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?pE:Da)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:DC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield pE(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Da(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new tp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>wm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new yK(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mE(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gK(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof Pb){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${f}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield h2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vK),n),{prefix:t||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const SB="2.86.2",EB={"X-Client-Info":`storage-js/${SB}`};class _K{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EB),n),this.fetch=f2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield wm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield wm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield pE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield h2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Sm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wK(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function SK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function EK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=wK(e.baseUrl,r,i),u=await SK(e.auth),f=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!f.ok){const x=p?b:void 0,E=x?.error;throw new Sm(E?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:E?.type,icebergCode:E?.code,details:x})}return{status:f.status,headers:f.headers,data:b}}}}function b0(e){return e.join("")}var kK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:b0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${b0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${b0(e.namespace)}`}),!0}catch(t){if(t instanceof Sm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Sm&&n.status===409)return;throw n}}};function ad(e){return e.join("")}var AK=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ad(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ad(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ad(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ad(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ad(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ad(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Sm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Sm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},TK=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=EK({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new kK(this.client,t),this.tableOps=new AK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class kB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EB),n),this.fetch=f2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield wm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield h2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!hK(t))throw new tp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new TK({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const m2={"X-Client-Info":`storage-js/${SB}`,"Content-Type":"application/json"};class p2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function si(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class mb extends p2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class AB extends p2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var gE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gE||(gE={}));const uv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jK=()=>Response,TB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},OK=e=>Array.from(new Float32Array(e)),NK=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},PC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new mb(PC(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new mb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new mb(l,i,o))}}else t(new AB(PC(e),e))}),MK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(TB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function DK(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,MK(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>CK(u,l,r))})})}function Di(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return DK(e,"POST",t,r,i,n)})}class jB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}})}}class OB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Di(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class NB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m2),n),this.fetch=uv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Di(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class CB extends NB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new MB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class MB extends jB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new DB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class DB extends OB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class PK extends _K{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new xK(this.url,this.headers,t,this.fetch)}get vectors(){return new CB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kB(this.url+"/iceberg",this.headers,this.fetch)}}const RK=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:kB,StorageApiError:_B,StorageClient:PK,StorageError:tp,StorageUnknownError:Pb,StorageVectorsApiError:mb,StorageVectorsClient:CB,StorageVectorsError:p2,get StorageVectorsErrorCode(){return gE},StorageVectorsUnknownError:AB,VectorBucketApi:NB,VectorBucketScope:MB,VectorDataApi:OB,VectorIndexApi:jB,VectorIndexScope:DB,isPlainObject:TB,isStorageError:nn,isStorageVectorsError:si,normalizeToFloat32:OK,resolveFetch:uv,resolveResponse:jK,validateVectorDimension:NK},Symbol.toStringTag,{value:"Module"})),LK=Xm(RK);var Tw={},Ch={},RC;function IK(){return RC||(RC=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.version=void 0,Ch.version="2.86.2"),Ch}var LC;function $K(){return LC||(LC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=IK();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Tw)),Tw}var jw={},IC;function BK(){return IC||(IC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let x=new u(h?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),l(f,Object.assign(Object.assign({},h),{headers:x}))}};e.fetchWithAuth=r})(jw)),jw}var os={},$C;function zK(){if($C)return os;$C=1,Object.defineProperty(os,"__esModule",{value:!0}),os.isBrowser=void 0,os.uuid=e,os.ensureTrailingSlash=t,os.applySettingDefaults=r,os.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";os.isBrowser=n;function r(a,o){var l,u;const{db:f,auth:h,realtime:p,global:b}=a,{db:x,auth:E,realtime:S,global:_}=o,T={db:Object.assign(Object.assign({},x),f),auth:Object.assign(Object.assign({},E),h),realtime:Object.assign(Object.assign({},S),p),storage:{},global:Object.assign(Object.assign(Object.assign({},_),b),{headers:Object.assign(Object.assign({},(l=_?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return os}var Mh={};const PB="2.86.2",xd=30*1e3,bE=3,Ow=bE*xd,UK="http://localhost:9999",FK="supabase.auth.token",HK={"X-Client-Info":`gotrue-js/${PB}`},yE="X-Supabase-Api-Version",RB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qK=600*1e3;let Fd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let LB=class extends Fd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function IB(e){return Ge(e)&&e.name==="AuthApiError"}let El=class extends Fd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Ts=class extends Fd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ri=class extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function $B(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Ic=class extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rm=class extends Ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},im=class extends Ts{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function BB(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let vE=class extends Ts{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Rb=class extends Ts{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function pb(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let xE=class extends Ts{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function YK(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let Lb=class extends Ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BC=` 	
\r=`.split(""),KK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<BC.length;t+=1)e[BC[t].charCodeAt(0)]=-2;for(let t=0;t<Ib.length;t+=1)e[Ib[t].charCodeAt(0)]=t;return e})();function zC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ib[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ib[r]),t.queuedBits-=6}}function zB(e,t,n){const r=KK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function UC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{ZK(o,r,n)};for(let o=0;o<e.length;o+=1)zB(e.charCodeAt(o),i,a);return t.join("")}function WK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}WK(r,t)}}function ZK(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Md(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)zB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function XK(e){const t=[];return VK(e,n=>t.push(n)),new Uint8Array(t)}function Vc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>zC(i,n,r)),zC(null,n,r),t.join("")}function JK(e){return Math.round(Date.now()/1e3)+e}function QK(){return Symbol("auth-callback")}const br=()=>typeof window<"u"&&typeof document<"u",Tc={tested:!1,writable:!1},UB=()=>{if(!br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tc.tested)return Tc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tc.tested=!0,Tc.writable=!0}catch{Tc.tested=!0,Tc.writable=!1}return Tc.writable};function eW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const FB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_d=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},jc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pr=async(e,t)=>{await e.removeItem(t)};class dv{constructor(){this.promise=new dv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dv.promiseConstructor=Promise;function Nw(e){const t=e.split(".");if(t.length!==3)throw new Lb("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!GK.test(t[r]))throw new Lb("JWT not in base64url format");return{header:JSON.parse(UC(t[0])),payload:JSON.parse(UC(t[1])),signature:Md(t[2]),raw:{header:t[0],payload:t[1]}}}async function nW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rW(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function iW(e){return("0"+e.toString(16)).substr(-2)}function aW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,iW).join("")}async function oW(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function sW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await oW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function od(e,t,n=!1){const r=aW();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await _d(e,`${t}-code-verifier`,i);const a=await sW(r);return[a,r===a?"plain":"s256"]}const lW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cW(e){const t=e.headers.get(yE);if(!t||!t.match(lW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sd(e){if(!fW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hW(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function FC(e){return JSON.parse(JSON.stringify(e))}const $c=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mW=[502,503,504];async function HC(e){var t;if(!tW(e))throw new Rb($c(e),0);if(mW.includes(e.status))throw new Rb($c(e),e.status);let n;try{n=await e.json()}catch(a){throw new El($c(a),a)}let r;const i=cW(e);if(i&&i.getTime()>=RB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xE($c(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ri}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new xE($c(n),e.status,n.weak_password.reasons);throw new LB($c(n),e.status||500,r)}const pW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[yE]||(a[yE]=RB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await gW(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function gW(e,t,n,r,i,a){const o=pW(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Rb($c(u),0)}if(l.ok||await HC(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await HC(u)}}function Ma(e){var t;let n=null;vW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JK(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function GC(e){const t=Ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function kl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bW(e){return{data:e,error:null}}function yW(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=lf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function qC(e){return e}function vW(e){return e.access_token&&e.refresh_token&&e.expires_in}const gb=["global","local","others"];let g2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=FB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=gb[0]){if(gb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gb.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=lf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yW,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:kl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const f={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:qC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);f[`${_}Page`]=S}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){sd(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:kl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){sd(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:kl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){sd(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:kl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){sd(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){sd(t.userId),sd(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const f={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:qC});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);f[`${_}Page`]=S}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function YC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Bc={debug:!!(globalThis&&UB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class b2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let HB=class extends b2{};class xW extends b2{}async function GB(e,t,n){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const KC={};async function _W(e,t,n){var r;const i=(r=KC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new xW(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return KC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function wW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function SW(e){return parseInt(e,16)}function EW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function kW(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:f,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=qB(e.address),E=h?`${h}://${r}`:r,S=e.statement?`${e.statement}
`:"",_=`${E} wants you to sign in with your Ethereum account:
${x}

${S}`;let T=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),l&&(T+=`
Not Before: ${l.toISOString()}`),u&&(T+=`
Request ID: ${u}`),f){let N=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}T+=N}return`${_}
${T}`}class Rn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class $b extends Rn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function AW({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(YB(o)){if(a.rp.id!==o)return new Rn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function TW({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Rn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(YB(r)){if(n.rpId!==r)return new Rn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class jW{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const OW=new jW;function NW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=lf(e,["challenge","user","excludeCredentials"]),a=Md(t).buffer,o=Object.assign(Object.assign({},n),{id:Md(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Md(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function CW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=lf(e,["challenge","allowCredentials"]),i=Md(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Md(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function MW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vc(new Uint8Array(i.authenticatorData)),clientDataJSON:Vc(new Uint8Array(i.clientDataJSON)),signature:Vc(new Uint8Array(i.signature)),userHandle:i.userHandle?Vc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function WC(){var e,t;return!!(br()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function PW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $b("Browser returned unexpected credential type",t)}:{data:null,error:new $b("Empty credential response",t)}}catch(t){return{data:null,error:AW({error:t,options:e})}}}async function RW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $b("Browser returned unexpected credential type",t)}:{data:null,error:new $b("Empty credential response",t)}}catch(t){return{data:null,error:TW({error:t,options:e})}}}const LW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},IW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bb(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Bb(l,o):r[a]=Bb(o)}else r[a]=o}return r}function $W(e,t){return Bb(LW,e,t||{})}function BW(e,t){return Bb(IW,e,t||{})}class zW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??OW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=$W(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await PW({publicKey:f,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=BW(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await RW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Fd("rpId is required for WebAuthn authentication")};try{if(!WC())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Fd("rpId is required for WebAuthn registration")};try{if(!WC())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in register",o)}}}}wW();const UW={url:UK,storageKey:FK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function VC(e,t,n){return await n()}const ld={};let y2=class _E{get jwks(){var t,n;return(n=(t=ld[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ld[this.storageKey]=Object.assign(Object.assign({},ld[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ld[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ld[this.storageKey]=Object.assign(Object.assign({},ld[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},UW),t);if(this.storageKey=a.storageKey,this.instanceID=(n=_E.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,_E.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&br()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new g2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=FB(a.fetch),this.lock=a.lock||VC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:br()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=GB:this.lock=VC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:UB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=YC(this.memoryStorage)),br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${PB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(br()&&(n=eW(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),br()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),BB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new El("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ma}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await od(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:E},xform:Ma})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ma})}else throw new rm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await pr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:GC})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:GC})}else throw new rm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ic;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,f,h,p,b;let x,E;if("message"in t)x=t.message,E=t.signature;else{const{chain:S,wallet:_,statement:T,options:N}=t;let j;if(br())if(typeof _=="object")j=_;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")j=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}const M=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=qB(D[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const Y=await j.request({method:"eth_chainId"});$=SW(Y)}const H={domain:M.host,address:P,statement:T,uri:M.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=kW(H),E=await j.request({method:"personal_sign",params:[EW(x),P]})}try{const{data:S,error:_}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:E},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ma});if(_)throw _;if(!S||!S.session||!S.user){const T=new Ic;return this._returnResult({data:{user:null,session:null},error:T})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Ge(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,r,i,a,o,l,u,f,h,p,b,x;let E,S;if("message"in t)E=t.message,S=t.signature;else{const{chain:_,wallet:T,statement:N,options:j}=t;let M;if(br())if(typeof T=="object")M=T;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))M=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const D=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const P=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),N?{statement:N}:null));let $;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")$=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)$=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)E=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${D.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(h=j?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const P=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:_,error:T}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Vc(S)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ma});if(T)throw T;if(!_||!_.session||!_.user){const N=new Ic;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await jc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ma});if(await pr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Ic;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ma}),{data:u,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const h=new Ic;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await od(this.storage,this.storageKey));const{error:p}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:f,error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new rm("You must provide either an email or phone number.")}catch(l){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ma});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await od(this.storage,this.storageKey));const f=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:bW});return!((a=f.data)===null||a===void 0)&&a.url&&br()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ri;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new rm("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await jc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ow:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await jc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Cw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=hW(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:kl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ri}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:kl})})}catch(n){if(Ge(n))return $B(n)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ri;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await od(this.storage,this.storageKey));const{data:f,error:h}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:kl});if(h)throw h;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ri;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Nw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ri;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!br())throw new im("No browser detected.");if(t.error||t.error_description||t.error_code)throw new im(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new im("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vE("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:f}=t;if(!a||!l||!o||!f)throw new im("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const x=b-h;x*1e3<=xd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const E=b-p;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,h);const{data:S,error:_}=await this._getUser(a);if(_)throw _;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await jc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(IB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=QK(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await od(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,f,h;const{data:p,error:b}=a;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return br()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:f,nonce:h}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ma}),{data:b,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Ic}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await rW(async i=>(i>0&&await nW(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ma})),(i,a)=>{const o=200*Math.pow(2,i);return a&&pb(a)&&Date.now()+o-r<xd})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),br()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await jc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await jc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await _d(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Cw()}else if(i&&!i.user&&!i.user){const o=await jc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await pr(this.storage,this.storageKey+"-user"),await _d(this.storage,this.storageKey,i)):i.user=Cw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ow;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ow}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),pb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ri;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return pb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await _d(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=FC(i);await _d(this.storage,this.storageKey,a)}else{const i=FC(n);await _d(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&br()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/xd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xd}ms, refresh threshold is ${bE} ticks`),i<=bE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof b2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!br()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await od(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await et(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MW(t.webauthn.credential_response):DW(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:NW(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:CW(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Nw(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ri})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ri});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&br()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ri});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&br()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ri})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ri})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+qK>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:E}=await this.getSession();if(E||!x.session)return this._returnResult({data:null,error:E});r=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=Nw(r);n?.allowExpired||uW(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const h=dW(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,XK(`${l}.${u}`)))throw new Lb("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};y2.nextInstanceID={};const FW=g2,HW=y2,GW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:FW,AuthApiError:LB,AuthClient:HW,AuthError:Fd,AuthImplicitGrantRedirectError:im,AuthInvalidCredentialsError:rm,AuthInvalidJwtError:Lb,AuthInvalidTokenResponseError:Ic,AuthPKCEGrantCodeExchangeError:vE,AuthRetryableFetchError:Rb,AuthSessionMissingError:ri,AuthUnknownError:El,AuthWeakPasswordError:xE,CustomAuthError:Ts,GoTrueAdminApi:g2,GoTrueClient:y2,NavigatorLockAcquireTimeoutError:HB,SIGN_OUT_SCOPES:gb,isAuthApiError:IB,isAuthError:Ge,isAuthImplicitGrantRedirectError:BB,isAuthRetryableFetchError:pb,isAuthSessionMissingError:$B,isAuthWeakPasswordError:YK,lockInternals:Bc,navigatorLock:GB,processLock:_W},Symbol.toStringTag,{value:"Module"})),KB=Xm(GW);var ZC;function qW(){if(ZC)return Mh;ZC=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.SupabaseAuthClient=void 0;const e=KB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Mh.SupabaseAuthClient=t,Mh}var XC;function JC(){if(XC)return c0;XC=1,Object.defineProperty(c0,"__esModule",{value:!0});const e=aB,t=dB(),n=xB,r=LK,i=$K(),a=BK(),o=zK(),l=qW();class u{constructor(h,p,b){var x,E,S;this.supabaseUrl=h,this.supabaseKey=p;const _=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const T=`sb-${_.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,o.applySettingDefaults)(b??{},N);this.storageKey=(x=j.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(E=j.global.headers)!==null&&E!==void 0?E:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(M,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((S=j.auth)!==null&&S!==void 0?S:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:x,userStorage:E,storageKey:S,flowType:_,lock:T,debug:N,throwOnError:j},M,D){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),M),storageKey:S,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:x,userStorage:E,flowType:_,lock:T,debug:N,throwOnError:j,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return c0.default=u,c0}var QC;function YW(){return QC||(QC=1,(function(e){var t=as&&as.__createBinding||(Object.create?(function(h,p,b,x){x===void 0&&(x=b);var E=Object.getOwnPropertyDescriptor(p,b);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,x,E)}):(function(h,p,b,x){x===void 0&&(x=b),h[x]=p[b]})),n=as&&as.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=as&&as.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(JC());n(KB,e);var a=dB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=aB;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(xB,e);var l=JC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(as)),as}var WB=YW();const VB=hi(WB),KW=e2({__proto__:null,default:VB},[WB]),{PostgrestError:Qje,FunctionsHttpError:eOe,FunctionsFetchError:tOe,FunctionsRelayError:nOe,FunctionsError:rOe,FunctionRegion:iOe,SupabaseClient:aOe,createClient:WW,GoTrueAdminApi:oOe,GoTrueClient:sOe,AuthAdminApi:lOe,AuthClient:cOe,navigatorLock:uOe,NavigatorLockAcquireTimeoutError:dOe,lockInternals:fOe,processLock:hOe,SIGN_OUT_SCOPES:mOe,AuthError:pOe,AuthApiError:gOe,AuthUnknownError:bOe,CustomAuthError:yOe,AuthSessionMissingError:vOe,AuthInvalidTokenResponseError:xOe,AuthInvalidCredentialsError:_Oe,AuthImplicitGrantRedirectError:wOe,AuthPKCEGrantCodeExchangeError:SOe,AuthRetryableFetchError:EOe,AuthWeakPasswordError:kOe,AuthInvalidJwtError:AOe,isAuthError:TOe,isAuthApiError:jOe,isAuthSessionMissingError:OOe,isAuthImplicitGrantRedirectError:NOe,isAuthRetryableFetchError:COe,isAuthWeakPasswordError:MOe,RealtimePresence:DOe,RealtimeChannel:POe,RealtimeClient:ROe,REALTIME_LISTEN_TYPES:LOe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:IOe,REALTIME_PRESENCE_LISTEN_EVENTS:$Oe,REALTIME_SUBSCRIBE_STATES:BOe,REALTIME_CHANNEL_STATES:zOe}=VB||KW,VW="https://jouhybyquybxbnqztxum.supabase.co",ZW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",Me=WW(VW,ZW,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),ZB="settings_v1",wE=()=>{try{typeof window<"u"&&window.localStorage.removeItem(ZB)}catch{}},Zc={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},eM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],XW=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&eM.includes(r)):[],n=eM.filter(r=>!t.includes(r));return[...t,...n]},Dd=e=>({...Zc,...e,sectionOrder:XW(e.sectionOrder)}),JW=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Dd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Dd(n.settings)}}return Dd(e??{})},QW=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};wE();const Tn=As()(M$((e,t)=>({settings:Zc,syncing:!1,loaded:!1,setSettings:n=>e({settings:Dd(n)}),setKey:(n,r)=>e({settings:Dd({...t().settings,[n]:r})}),reset:()=>e({settings:Zc,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),wE();const{data:i,error:a}=await Me.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Zc,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:f}=await Me.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!f&&await Me.from("user_settings").upsert({user_id:o.id,payload:{}}),f&&f.code!=="PGRST116"){console.error("loadFromServer(settings) error:",f),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=JW(u.payload);e({settings:h,syncing:!1,loaded:!0}),QW(u.payload)&&await Me.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),wE();const{data:r,error:i}=await Me.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Zc});return}const o=Dd(t().settings),{error:l}=await Me.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:ZB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function SE(e){const t=Fr.indexOf(e);if(t!==-1)return Fr[t];const n=Ka..indexOf(e);return n!==-1?Fr[n]:null}function XB(e){const t=ui.indexOf(e);if(t!==-1)return ui[t];const n=Ka..indexOf(e);return n!==-1?ui[n]:null}function tM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ui(e,t,n){if(t==="stem"){const r=SE(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Fr.indexOf(r),a=i>=0?gY[i]:void 0;return tM(a,n)}else{const r=XB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=ui.indexOf(r),a=i>=0?bY[i]:void 0;return tM(a,n)}}function ma(e,t){const n=SE(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=SE(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return xY[n][r]}if(t.branch){const r=XB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return _Y[n][r]}throw new Error("getSipSin: stem or branch required")}const fv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},hv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function JB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?hv:fv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,x)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap`,children:"(-) ()"},x):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap 
            ${n==="main"||x===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",ma(t,{stem:b}),")"]},x))})}const rp=As(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),QB=Object.fromEntries(Object.entries(In).map(([e,t])=>[t,e])),e5=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),eV=new Set(Object.keys(In)),tV=new Set(Object.keys(Kn)),nV=new Set(["","","","","","","","","",""]),rV=new Set(["","","","","","","","","","","",""]);function di(e,t,n){return n===""?t==="stem"?In[e]??e:Kn[e]??e:t==="stem"?QB[e]??e:e5[e]??e}function nM(e){const t=QB[e]??e;return eV.has(t)?t:""}function iV(e){const t=e5[e]??e;return tV.has(t)?t:""}function mv(e){if(zd.has(e))return e;const t=In[e]??e;return zd.has(t)?t:""}function v2(e){if(_m.has(e))return e;const t=Kn[e]??e;return _m.has(t)?t:""}function Ha(e,t){return t==="stem"?nV.has(e):rV.has(e)}function Sd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:f="auto",isUnknownTime:h=!1}){const{manualHour:p}=rp(),b=h&&!p,x=t.charAt(0),E=t.charAt(1),S=di(x,"stem",r.charType),_=di(E,"branch",r.charType),T=nM(x),N=iV(E),j=nM(n),M=v2(E),D=mv(n),P=r.showSipSin?ma(j,{stem:T}):null,$=!o&&r.showSipSin?ma(j,{branch:N}):null,H=r.thinEum&&Ha(x,"stem")?"font-thin":"font-bold",Y=r.thinEum&&Ha(E,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},U=!l&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",Z=r.hiddenStemMode==="hgc"?"hgc":"classic",Q=f==="white",V=Q?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",q=Q?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",J=Q?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",re=Q?"text-neutral-500":"text-neutral-400",ue=Q?"text-neutral-500":"text-neutral-400",{settings:se}=Tn(),B=b?`bg-white ${J}`:`${Ui(T,"stem",se)} ${J}`,W=b?`bg-white ${J}`:`${Ui(N,"branch",se)} ${J}`,ae=b?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",X=b?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${V}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${q} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${re} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ae} ${H}`,children:b?"-":S})}),g.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${X} ${Y}`,children:b?"-":_})}),U&&g.jsx(JB,{branch:M,dayStem:D,mode:z,mapping:Z,isUnknownTime:h&&!p&&(e===""||e==="")}),$&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:h&&!p?"-":$}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),rM=e=>{const t=oV(e);return t.charAt(0).toUpperCase()+t.slice(1)},t5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),sV=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>w.createElement("svg",{ref:u,...lV,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:t5("lucide",i),...!a&&!sV(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>w.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=(e,t)=>{const n=w.forwardRef(({className:r,...i},a)=>w.createElement(cV,{ref:a,iconNode:t,className:t5(`lucide-${aV(rM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=rM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dV=Cr("chevron-down",uV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hV=Cr("chevron-up",fV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n5=Cr("circle-question-mark",mV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gV=Cr("circle-x",pV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],yV=Cr("heart-handshake",bV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xV=Cr("house",vV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wV=Cr("info",_V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],x2=Cr("log-in",SV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_2=Cr("log-out",EV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],AV=Cr("menu",kV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jV=Cr("plus",TV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NV=Cr("settings",OV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],MV=Cr("square-user",CV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],r5=Cr("star",DV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],RV=Cr("user-plus",PV);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zb=Cr("x",LV);function IV(){const[e,t]=w.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(wV,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const $V=new Set(Ka.);function BV(e){return zd.has(e)?e:$V.has(e)?In[e]:""}function zV(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function UV({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function FV(){const e=Tn(_=>_.settings),[t,n]=w.useState(new Date),[r,i]=w.useState(!0),[a,o]=w.useState("/"),[l,u]=w.useState(!1),[f,h]=w.useState(null);w.useEffect(()=>{if(!r)return;const _=setInterval(()=>n(new Date),1e3);return()=>clearInterval(_)},[r]),w.useEffect(()=>{let _=!0;const T=async()=>{const{data:M}=await Me.auth.getSession(),D=M.session?.user?.id;if(!D){_&&h(null);return}const{data:P,error:$}=await Me.from("user_activity").select("total_active_ms").eq("user_id",D).maybeSingle();if($){_&&h(null);return}const H=P?.total_active_ms;_&&h(typeof H=="number"?H:null)};T();const N=window.setInterval(()=>void T(),6e4),j=()=>{document.visibilityState==="visible"&&T()};return document.addEventListener("visibilitychange",j),()=>{_=!1,window.clearInterval(N),document.removeEventListener("visibilitychange",j)}},[]);const p=at(t),b=kt(t),x=gt(t,a),E=Fa(t,"/"),S=BV(x.charAt(0));return g.jsx("div",{className:"flex justify-center items-center pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:zV(f)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",qV(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(UV,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Sd,{label:"",gz:E,dayStem:S,settings:e,hideBranchSipSin:!0}),g.jsx(Sd,{label:"",gz:x,dayStem:S,settings:e,hideBranchSipSin:!0}),g.jsx(Sd,{label:"",gz:b,dayStem:S,settings:e,hideBranchSipSin:!0}),g.jsx(Sd,{label:"",gz:p,dayStem:S,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsx("input",{type:"datetime-local",value:HV(t),disabled:r,onChange:_=>{const T=GV(_.target.value);T&&n(T)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>u(_=>!_),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]}),g.jsx(IV,{})]})})}function HV(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function GV(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function qV(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function YV({placeholderText:e,value:t}){const[n,r]=w.useState(e),[i,a]=w.useState(!1),[o,l]=w.useState(t??""),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=w.useRef(null);return w.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:f,lonRef:h,triggerBtnRef:p}}var am={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var KV=am.exports,iM;function WV(){return iM||(iM=1,(function(e,t){(function(n,r){r(t)})(KV,(function(n){var r="1.9.4";function i(d){var y,k,C,R;for(k=1,C=arguments.length;k<C;k++){R=arguments[k];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var k=Array.prototype.slice;if(d.bind)return d.bind.apply(d,k.call(arguments,1));var C=k.call(arguments,2);return function(){return d.apply(y,C.length?C.concat(k.call(arguments)):arguments)}}var l=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function f(d,y,k){var C,R,F,ee;return ee=function(){C=!1,R&&(F.apply(k,R),R=!1)},F=function(){C?R=arguments:(d.apply(k,arguments),setTimeout(ee,y),C=!0)},F}function h(d,y,k){var C=y[1],R=y[0],F=C-R;return d===C&&k?d:((d-R)%F+F)%F+R}function p(){return!1}function b(d,y){if(y===!1)return d;var k=Math.pow(10,y===void 0?6:y);return Math.round(d*k)/k}function x(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function E(d){return x(d).split(/\s+/)}function S(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var k in y)d.options[k]=y[k];return d.options}function _(d,y,k){var C=[];for(var R in d)C.push(encodeURIComponent(k?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+C.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(d,y){return d.replace(T,function(k,C){var R=y[C];if(R===void 0)throw new Error("No value provided for variable "+k);return typeof R=="function"&&(R=R(y)),R})}var j=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function M(d,y){for(var k=0;k<d.length;k++)if(d[k]===y)return k;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function H(d){var y=+new Date,k=Math.max(0,16-(y-$));return $=y+k,window.setTimeout(d,k)}var Y=window.requestAnimationFrame||P("RequestAnimationFrame")||H,K=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function U(d,y,k){if(k&&Y===H)d.call(y);else return Y.call(window,o(d,y))}function z(d){d&&K.call(window,d)}var Z={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:f,wrapNum:h,falseFn:p,formatNum:b,trim:x,splitWords:E,setOptions:S,getParamString:_,template:N,isArray:j,indexOf:M,emptyImageUrl:D,requestFn:Y,cancelFn:K,requestAnimFrame:U,cancelAnimFrame:z};function Q(){}Q.extend=function(d){var y=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=y.__super__=this.prototype,C=a(k);C.constructor=y,y.prototype=C;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(V(d.includes),i.apply(null,[C].concat(d.includes))),i(C,d),delete C.statics,delete C.includes,C.options&&(C.options=k.options?a(k.options):{},i(C.options,d.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ee=C._initHooks.length;F<ee;F++)C._initHooks[F].call(this)}},y},Q.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},Q.mergeOptions=function(d){return i(this.prototype.options,d),this},Q.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),k=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function V(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=j(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y);else{d=E(d);for(var R=0,F=d.length;R<F;R++)this._on(d[R],y,k)}return this},off:function(d,y,k){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var C in d)this._off(C,d[C],y);else{d=E(d);for(var R=arguments.length===1,F=0,ee=d.length;F<ee;F++)R?this._off(d[F]):this._off(d[F],y,k)}return this},_on:function(d,y,k,C){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,k)===!1){k===this&&(k=void 0);var R={fn:y,ctx:k};C&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,k){var C,R,F;if(this._events&&(C=this._events[d],!!C)){if(arguments.length===1){if(this._firingCount)for(R=0,F=C.length;R<F;R++)C[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,k);if(ee!==!1){var ce=C[ee];this._firingCount&&(ce.fn=p,this._events[d]=C=C.slice()),C.splice(ee,1)}}},fire:function(d,y,k){if(!this.listens(d,k))return this;var C=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var F=0,ee=R.length;F<ee;F++){var ce=R[F],ge=ce.fn;ce.once&&this.off(d,ge,ce.ctx),ge.call(ce.ctx||this,C)}this._firingCount--}}return k&&this._propagateEvent(C),this},listens:function(d,y,k,C){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(C=!!y,R=void 0,k=void 0);var F=this._events&&this._events[d];if(F&&F.length&&this._listens(d,R,k)!==!1)return!0;if(C){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,k,C))return!0}return!1},_listens:function(d,y,k){if(!this._events)return!1;var C=this._events[d]||[];if(!y)return!!C.length;k===this&&(k=void 0);for(var R=0,F=C.length;R<F;R++)if(C[R].fn===y&&C[R].ctx===k)return R;return!1},once:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y,!0);else{d=E(d);for(var R=0,F=d.length;R<F;R++)this._on(d[R],y,k,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var J=Q.extend(q);function re(d,y,k){this.x=k?Math.round(d):d,this.y=k?Math.round(y):y}var ue=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(d){return this.clone()._add(se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new re(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new re(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(d){d=se(d);var y=d.x-this.x,k=d.y-this.y;return Math.sqrt(y*y+k*k)},equals:function(d){return d=se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function se(d,y,k){return d instanceof re?d:j(d)?new re(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new re(d.x,d.y):new re(d,y,k)}function B(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}B.prototype={extend:function(d){var y,k;if(!d)return this;if(d instanceof re||typeof d[0]=="number"||"x"in d)y=k=se(d);else if(d=W(d),y=d.min,k=d.max,!y||!k)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=k.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(d){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,k;return typeof d[0]=="number"||d instanceof re?d=se(d):d=W(d),d instanceof B?(y=d.min,k=d.max):y=k=d,y.x>=this.min.x&&k.x<=this.max.x&&y.y>=this.min.y&&k.y<=this.max.y},intersects:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,F=R.x>=y.x&&C.x<=k.x,ee=R.y>=y.y&&C.y<=k.y;return F&&ee},overlaps:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,F=R.x>y.x&&C.x<k.x,ee=R.y>y.y&&C.y<k.y;return F&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,k=this.max,C=Math.abs(y.x-k.x)*d,R=Math.abs(y.y-k.y)*d;return W(se(y.x-C,y.y-R),se(k.x+C,k.y+R))},equals:function(d){return d?(d=W(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function W(d,y){return!d||d instanceof B?d:new B(d,y)}function ae(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}ae.prototype={extend:function(d){var y=this._southWest,k=this._northEast,C,R;if(d instanceof oe)C=d,R=d;else if(d instanceof ae){if(C=d._southWest,R=d._northEast,!C||!R)return this}else return d?this.extend(de(d)||X(d)):this;return!y&&!k?(this._southWest=new oe(C.lat,C.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(C.lat,y.lat),y.lng=Math.min(C.lng,y.lng),k.lat=Math.max(R.lat,k.lat),k.lng=Math.max(R.lng,k.lng)),this},pad:function(d){var y=this._southWest,k=this._northEast,C=Math.abs(y.lat-k.lat)*d,R=Math.abs(y.lng-k.lng)*d;return new ae(new oe(y.lat-C,y.lng-R),new oe(k.lat+C,k.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof oe||"lat"in d?d=de(d):d=X(d);var y=this._southWest,k=this._northEast,C,R;return d instanceof ae?(C=d.getSouthWest(),R=d.getNorthEast()):C=R=d,C.lat>=y.lat&&R.lat<=k.lat&&C.lng>=y.lng&&R.lng<=k.lng},intersects:function(d){d=X(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),F=R.lat>=y.lat&&C.lat<=k.lat,ee=R.lng>=y.lng&&C.lng<=k.lng;return F&&ee},overlaps:function(d){d=X(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),F=R.lat>y.lat&&C.lat<k.lat,ee=R.lng>y.lng&&C.lng<k.lng;return F&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=X(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(d,y){return d instanceof ae?d:new ae(d,y)}function oe(d,y,k){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,k!==void 0&&(this.alt=+k)}oe.prototype={equals:function(d,y){if(!d)return!1;d=de(d);var k=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return k<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+b(this.lat,d)+", "+b(this.lng,d)+")"},distanceTo:function(d){return ye.distance(this,de(d))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,k=y/Math.cos(Math.PI/180*this.lat);return X([this.lat-y,this.lng-k],[this.lat+y,this.lng+k])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function de(d,y,k){return d instanceof oe?d:j(d)&&typeof d[0]!="object"?d.length===3?new oe(d[0],d[1],d[2]):d.length===2?new oe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new oe(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new oe(d,y,k)}var pe={latLngToPoint:function(d,y){var k=this.projection.project(d),C=this.scale(y);return this.transformation._transform(k,C)},pointToLatLng:function(d,y){var k=this.scale(y),C=this.transformation.untransform(d,k);return this.projection.unproject(C)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,k=this.scale(d),C=this.transformation.transform(y.min,k),R=this.transformation.transform(y.max,k);return new B(C,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,k=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,C=d.alt;return new oe(k,y,C)},wrapLatLngBounds:function(d){var y=d.getCenter(),k=this.wrapLatLng(y),C=y.lat-k.lat,R=y.lng-k.lng;if(C===0&&R===0)return d;var F=d.getSouthWest(),ee=d.getNorthEast(),ce=new oe(F.lat-C,F.lng-R),ge=new oe(ee.lat-C,ee.lng-R);return new ae(ce,ge)}},ye=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var k=Math.PI/180,C=d.lat*k,R=y.lat*k,F=Math.sin((y.lat-d.lat)*k/2),ee=Math.sin((y.lng-d.lng)*k/2),ce=F*F+Math.cos(C)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),ne=6378137,je={R:ne,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,k=this.MAX_LATITUDE,C=Math.max(Math.min(k,d.lat),-k),R=Math.sin(C*y);return new re(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=ne*Math.PI;return new B([-d,-d],[d,d])})()};function Ce(d,y,k,C){if(j(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=k,this._d=C}Ce.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new re((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function ve(d,y,k,C){return new Ce(d,y,k,C)}var Ze=i({},ye,{code:"EPSG:3857",projection:je,transformation:(function(){var d=.5/(Math.PI*je.R);return ve(d,.5,-d,.5)})()}),Ne=i({},Ze,{code:"EPSG:900913"});function _e(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Oe(d,y){var k="",C,R,F,ee,ce,ge;for(C=0,F=d.length;C<F;C++){for(ce=d[C],R=0,ee=ce.length;R<ee;R++)ge=ce[R],k+=(R?"L":"M")+ge.x+" "+ge.y;k+=y?He.svg?"z":"x":""}return k||"M0 0"}var Ie=document.documentElement.style,Ve="ActiveXObject"in window,yt=Ve&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),Dt=qr("webkit"),he=qr("android"),De=qr("android 2")||qr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=he&&qr("Google")&&Be<537&&!("AudioNode"in window),Ot=!!window.opera,bt=!xt&&qr("chrome"),Jn=qr("gecko")&&!Dt&&!Ot&&!Ve,gi=!bt&&qr("safari"),bi=qr("phantom"),Ls="OTransition"in Ie,Is=navigator.platform.indexOf("Win")===0,qt=Ve&&"transition"in Ie,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!De,yi="MozPerspective"in Ie,Mr=!window.L_DISABLE_3D&&(qt||mn||yi)&&!Ls&&!bi,Ul=typeof orientation<"u"||qr("mobile"),_x=Ul&&Dt,wx=Ul&&mn,Fl=!window.PointerEvent&&window.MSPointerEvent,Hl=!!(window.PointerEvent||Fl),Gl="ontouchstart"in window||!!window.TouchEvent,Po=!window.L_NO_TOUCH&&(Gl||Hl),yu=Ul&&Ot,ql=Ul&&Jn,Sx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rp=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),Af=(function(){return!!document.createElement("canvas").getContext})(),Ro=!!(document.createElementNS&&_e("svg").createSVGRect),Ex=!!Ro&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Lp=!Ro&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Ip=navigator.platform.indexOf("Mac")===0,$p=navigator.platform.indexOf("Linux")===0;function qr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var He={ie:Ve,ielt9:yt,edge:xt,webkit:Dt,android:he,android23:De,androidStock:lt,opera:Ot,chrome:bt,gecko:Jn,safari:gi,phantom:bi,opera12:Ls,win:Is,ie3d:qt,webkit3d:mn,gecko3d:yi,any3d:Mr,mobile:Ul,mobileWebkit:_x,mobileWebkit3d:wx,msPointer:Fl,pointer:Hl,touch:Po,touchNative:Gl,mobileOpera:yu,mobileGecko:ql,retina:Sx,passiveEvents:Rp,canvas:Af,svg:Ro,vml:Lp,inlineSvg:Ex,mac:Ip,linux:$p},Tf=He.msPointer?"MSPointerDown":"pointerdown",jf=He.msPointer?"MSPointerMove":"pointermove",_a=He.msPointer?"MSPointerUp":"pointerup",jn=He.msPointer?"MSPointerCancel":"pointercancel",Qn={touchstart:Tf,touchmove:jf,touchend:_a,touchcancel:jn},Lo={touchstart:Bs,touchmove:Va,touchend:Va,touchcancel:Va},Wa={},Bp=!1;function kx(d,y,k){return y==="touchstart"&&$s(),Lo[y]?(k=Lo[y].bind(this,k),d.addEventListener(Qn[y],k,!1),k):(console.warn("wrong event specified:",y),p)}function zp(d,y,k){if(!Qn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Qn[y],k,!1)}function Yl(d){Wa[d.pointerId]=d}function Of(d){Wa[d.pointerId]&&(Wa[d.pointerId]=d)}function Io(d){delete Wa[d.pointerId]}function $s(){Bp||(document.addEventListener(Tf,Yl,!0),document.addEventListener(jf,Of,!0),document.addEventListener(_a,Io,!0),document.addEventListener(jn,Io,!0),Bp=!0)}function Va(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var k in Wa)y.touches.push(Wa[k]);y.changedTouches=[y],d(y)}}function Bs(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&pn(y),Va(d,y)}function On(d){var y={},k,C;for(C in d)k=d[C],y[C]=k&&k.bind?k.bind(d):k;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Up=200;function Fp(d,y){d.addEventListener("dblclick",y);var k=0,C;function R(F){if(F.detail!==1){C=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ee=Ql(F);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-k<=Up?(C++,C===2&&y(On(F))):C=1,k=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function $o(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Za=Vl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kl=Vl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nf=Kl==="webkitTransition"||Kl==="OTransition"?Kl+"End":"transitionend";function Cf(d){return typeof d=="string"?document.getElementById(d):d}function Wl(d,y){var k=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!k||k==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(d,null);k=C?C[y]:null}return k==="auto"?null:k}function ct(d,y,k){var C=document.createElement(d);return C.className=y||"",k&&k.appendChild(C),C}function It(d){var y=d.parentNode;y&&y.removeChild(d)}function Yr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Bn(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function Bo(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function Mf(d,y){if(d.classList!==void 0)return d.classList.contains(y);var k=vu(d);return k.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(k)}function nt(d,y){if(d.classList!==void 0)for(var k=E(y),C=0,R=k.length;C<R;C++)d.classList.add(k[C]);else if(!Mf(d,y)){var F=vu(d);zs(d,(F?F+" ":"")+y)}}function en(d,y){d.classList!==void 0?d.classList.remove(y):zs(d,x((" "+vu(d)+" ").replace(" "+y+" "," ")))}function zs(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function vu(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Zt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Df(d,y)}function Df(d,y){var k=!1,C="DXImageTransform.Microsoft.Alpha";try{k=d.filters.item(C)}catch{if(y===1)return}y=Math.round(y*100),k?(k.Enabled=y!==100,k.Opacity=y):d.style.filter+=" progid:"+C+"(opacity="+y+")"}function Vl(d){for(var y=document.documentElement.style,k=0;k<d.length;k++)if(d[k]in y)return d[k];return!1}function wa(d,y,k){var C=y||new re(0,0);d.style[Za]=(He.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(k?" scale("+k+")":"")}function Ut(d,y){d._leaflet_pos=y,He.any3d?wa(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Xa(d){return d._leaflet_pos||new re(0,0)}var Us,Yi,Pf;if("onselectstart"in document)Us=function(){tt(window,"selectstart",pn)},Yi=function(){Nt(window,"selectstart",pn)};else{var Fs=Vl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Us=function(){if(Fs){var d=document.documentElement.style;Pf=d[Fs],d[Fs]="none"}},Yi=function(){Fs&&(document.documentElement.style[Fs]=Pf,Pf=void 0)}}function xu(){tt(window,"dragstart",pn)}function Zl(){Nt(window,"dragstart",pn)}var _u,Rf;function Hs(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Kr(),_u=d,Rf=d.style.outlineStyle,d.style.outlineStyle="none",tt(window,"keydown",Kr))}function Kr(){_u&&(_u.style.outlineStyle=Rf,_u=void 0,Rf=void 0,Nt(window,"keydown",Kr))}function wu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Xl(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Gs={__proto__:null,TRANSFORM:Za,TRANSITION:Kl,TRANSITION_END:Nf,get:Cf,getStyle:Wl,create:ct,remove:It,empty:Yr,toFront:Bn,toBack:Bo,hasClass:Mf,addClass:nt,removeClass:en,setClass:zs,getClass:vu,setOpacity:Zt,testProp:Vl,setTransform:wa,setPosition:Ut,getPosition:Xa,get disableTextSelection(){return Us},get enableTextSelection(){return Yi},disableImageDrag:xu,enableImageDrag:Zl,preventOutline:Hs,restoreOutline:Kr,getSizedParentNode:wu,getScale:Xl};function tt(d,y,k,C){if(y&&typeof y=="object")for(var R in y)xi(d,R,y[R],k);else{y=E(y);for(var F=0,ee=y.length;F<ee;F++)xi(d,y[F],k,C)}return this}var vi="_leaflet_events";function Nt(d,y,k,C){if(arguments.length===1)Lf(d),delete d[vi];else if(y&&typeof y=="object")for(var R in y)Jl(d,R,y[R],k);else if(y=E(y),arguments.length===2)Lf(d,function(ce){return M(y,ce)!==-1});else for(var F=0,ee=y.length;F<ee;F++)Jl(d,y[F],k,C);return this}function Lf(d,y){for(var k in d[vi]){var C=k.split(/\d/)[0];(!y||y(C))&&Jl(d,C,null,null,k)}}var zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xi(d,y,k,C){var R=y+u(k)+(C?"_"+u(C):"");if(d[vi]&&d[vi][R])return this;var F=function(ce){return k.call(C||d,ce||window.event)},ee=F;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?F=kx(d,y,F):He.touch&&y==="dblclick"?F=Fp(d,F):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(zo[y]||y,F,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(F=function(ce){ce=ce||window.event,Sa(d,ce)&&ee(ce)},d.addEventListener(zo[y],F,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,F),d[vi]=d[vi]||{},d[vi][R]=F}function Jl(d,y,k,C,R){R=R||y+u(k)+(C?"_"+u(C):"");var F=d[vi]&&d[vi][R];if(!F)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?zp(d,y,F):He.touch&&y==="dblclick"?$o(d,F):"removeEventListener"in d?d.removeEventListener(zo[y]||y,F,!1):d.detachEvent("on"+y,F),d[vi][R]=null}function _i(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Ki(d){return xi(d,"wheel",_i),this}function Uo(d){return tt(d,"mousedown touchstart dblclick contextmenu",_i),d._leaflet_disable_click=!0,this}function pn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ja(d){return pn(d),_i(d),this}function Ql(d){if(d.composedPath)return d.composedPath();for(var y=[],k=d.target;k;)y.push(k),k=k.parentNode;return y}function ec(d,y){if(!y)return new re(d.clientX,d.clientY);var k=Xl(y),C=k.boundingClientRect;return new re((d.clientX-C.left)/k.x-y.clientLeft,(d.clientY-C.top)/k.y-y.clientTop)}var Hp=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dr(d){return He.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Hp:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Sa(d,y){var k=y.relatedTarget;if(!k)return!0;try{for(;k&&k!==d;)k=k.parentNode}catch{return!1}return k!==d}var Su={__proto__:null,on:tt,off:Nt,stopPropagation:_i,disableScrollPropagation:Ki,disableClickPropagation:Uo,preventDefault:pn,stop:Ja,getPropagationPath:Ql,getMousePosition:ec,getWheelDelta:dr,isExternalTarget:Sa,addListener:tt,removeListener:Nt},qs=J.extend({run:function(d,y,k,C){this.stop(),this._el=d,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Xa(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,k=this._duration*1e3;y<k?this._runFrame(this._easeOut(y/k),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var k=this._startPos.add(this._offset.multiplyBy(d));y&&k._round(),Ut(this._el,k),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ht=J.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=S(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(de(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kl&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,Nf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,k){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(de(d),y,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var C=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,k.zoom):this._tryAnimatedPan(d,k.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,k.pan&&k.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,k){var C=this.getZoomScale(y),R=this.getSize().divideBy(2),F=d instanceof re?d:this.latLngToContainerPoint(d),ee=F.subtract(R).multiplyBy(1-1/C),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:k})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():X(d);var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,k.add(C));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var F=C.subtract(k).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(F),R);return{center:ge,zoom:R}},fitBounds:function(d,y){if(d=X(d),!d.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(d,y);return this.setView(k.center,k.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=se(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,k,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,k){if(k=k||{},k.animate===!1||!He.any3d)return this.setView(d,y,k);this._stop();var C=this.project(this.getCenter()),R=this.project(d),F=this.getSize(),ee=this._zoom;d=de(d),y=y===void 0?ee:y;var ce=Math.max(F.x,F.y),ge=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(C)||1,Le=1.42,qe=Le*Le;function ot(un){var Ta=un?-1:1,qo=un?ge:ce,Xf=ge*ge-ce*ce+Ta*qe*qe*Ae*Ae,gc=2*qo*qe*Ae,bc=Xf/gc,so=Math.sqrt(bc*bc+1)-bc,ja=so<1e-9?-18:Math.log(so);return ja}function zn(un){return(Math.exp(un)-Math.exp(-un))/2}function gn(un){return(Math.exp(un)+Math.exp(-un))/2}function Pr(un){return zn(un)/gn(un)}var _t=ot(0);function wt(un){return ce*(gn(_t)/gn(_t+Le*un))}function ut(un){return ce*(gn(_t)*Pr(_t+Le*un)-zn(_t))/qe}function ao(un){return 1-Math.pow(1-un,1.5)}var Xr=Date.now(),Iu=(ot(1)-_t)/Le,oo=k.duration?1e3*k.duration:1e3*Iu*.8;function Zf(){var un=(Date.now()-Xr)/oo,Ta=ao(un)*Iu;un<=1?(this._flyToFrame=U(Zf,this),this._move(this.unproject(C.add(R.subtract(C).multiplyBy(ut(Ta)/Ae)),ee),this.getScaleZoom(ce/wt(Ta),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),Zf.call(this),this},flyToBounds:function(d,y){var k=this._getBoundsCenterZoom(d,y);return this.flyTo(k.center,k.zoom,y)},setMaxBounds:function(d){return d=X(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var k=this.getCenter(),C=this._limitCenter(k,this._zoom,X(d));return k.equals(C)||this.panTo(C,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),F=this.project(d),ee=this.getPixelBounds(),ce=W([ee.min.add(k),ee.max.subtract(C)]),ge=ce.getSize();if(!ce.contains(F)){this._enforcingBounds=!0;var Ae=F.subtract(ce.getCenter()),Le=ce.extend(F).getSize().subtract(ge);R.x+=Ae.x<0?-Le.x:Le.x,R.y+=Ae.y<0?-Le.y:Le.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),C=y.divideBy(2).round(),R=k.divideBy(2).round(),F=C.subtract(R);return!F.x&&!F.y?this:(d.animate&&d.pan?this.panBy(F):(d.pan&&this._rawPanBy(F),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,k,d):navigator.geolocation.getCurrentPosition(y,k,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,k=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,k=d.coords.longitude,C=new oe(y,k),R=C.toBounds(d.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ee=this.getBoundsZoom(R);this.setView(C,F.maxZoom?Math.min(ee,F.maxZoom):ee)}var ce={latlng:C,bounds:R,timestamp:d.timestamp};for(var ge in d.coords)typeof d.coords[ge]=="number"&&(ce[ge]=d.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var k=this[d]=new y(this);return this._handlers.push(k),this.options[d]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)It(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var k="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),C=ct("div",k,y||this._mapPane);return d&&(this._panes[d]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),k=this.unproject(d.getTopRight());return new ae(y,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,k){d=X(d),k=se(k||[0,0]);var C=this.getZoom()||0,R=this.getMinZoom(),F=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),ge=this.getSize().subtract(k),Ae=W(this.project(ce,C),this.project(ee,C)).getSize(),Le=He.any3d?this.options.zoomSnap:1,qe=ge.x/Ae.x,ot=ge.y/Ae.y,zn=y?Math.max(qe,ot):Math.min(qe,ot);return C=this.getScaleZoom(zn,C),Le&&(C=Math.round(C/(Le/100))*(Le/100),C=y?Math.ceil(C/Le)*Le:Math.floor(C/Le)*Le),Math.max(R,Math.min(F,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var k=this._getTopLeftPoint(d,y);return new B(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var k=this.options.crs;return y=y===void 0?this._zoom:y,k.scale(d)/k.scale(y)},getScaleZoom:function(d,y){var k=this.options.crs;y=y===void 0?this._zoom:y;var C=k.zoom(d*k.scale(y));return isNaN(C)?1/0:C},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(de(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(d),y)},layerPointToLatLng:function(d){var y=se(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(de(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(de(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(X(d))},distance:function(d,y){return this.options.crs.distance(de(d),de(y))},containerPointToLayerPoint:function(d){return se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(se(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(d)))},mouseEventToContainerPoint:function(d){return ec(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=Cf(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,nt(d,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Wl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(d.markerPane,"leaflet-zoom-hide"),nt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,k){Ut(this._mapPane,new re(0,0));var C=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,k)._move(d,y)._moveEnd(R),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,k,C){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),C?k&&k.pinch&&this.fire("zoom",k):((R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Nt:tt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var k=[],C,R=y==="mouseout"||y==="mouseover",F=d.target||d.srcElement,ee=!1;F;){if(C=this._targets[u(F)],C&&(y==="click"||y==="preclick")&&this._draggableMoved(C)){ee=!0;break}if(C&&C.listens(y,!0)&&(R&&!Sa(F,d)||(k.push(C),R))||F===this._container)break;F=F.parentNode}return!k.length&&!ee&&!R&&this.listens(y,!0)&&(k=[this]),k},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var k=d.type;k==="mousedown"&&Hs(y),this._fireDOMEvent(d,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,k){if(d.type==="click"){var C=i({},d);C.type="preclick",this._fireDOMEvent(C,C.type,k)}var R=this._findEventTargets(d,y);if(k){for(var F=[],ee=0;ee<k.length;ee++)k[ee].listens(y,!0)&&F.push(k[ee]);R=F.concat(R)}if(R.length){y==="contextmenu"&&pn(d);var ce=R[0],ge={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&M(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Xa(this._mapPane)||new re(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var k=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var k=this.getSize()._divideBy(2);return this.project(d,y)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return this.project(d,y)._subtract(C)},_latLngBoundsToNewLayerBounds:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return W([this.project(d.getSouthWest(),y)._subtract(C),this.project(d.getNorthWest(),y)._subtract(C),this.project(d.getSouthEast(),y)._subtract(C),this.project(d.getNorthEast(),y)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,k){if(!k)return d;var C=this.project(d,y),R=this.getSize().divideBy(2),F=new B(C.subtract(R),C.add(R)),ee=this._getBoundsOffset(F,k,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(C.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var k=this.getPixelBounds(),C=new B(k.min.add(d),k.max.add(d));return d.add(this._getBoundsOffset(C,y))},_getBoundsOffset:function(d,y,k){var C=W(this.project(y.getNorthEast(),k),this.project(y.getSouthWest(),k)),R=C.min.subtract(d.min),F=C.max.subtract(d.max),ee=this._rebound(R.x,-F.x),ce=this._rebound(R.y,-F.y);return new re(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),k=this.getMaxZoom(),C=He.any3d?this.options.zoomSnap:1;return C&&(d=Math.round(d/C)*C),Math.max(y,Math.min(k,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var k=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,y),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var k=Za,C=this._proxy.style[k];wa(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),C===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();wa(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/C);return k.animate!==!0&&!this.getSize().contains(R)?!1:(U(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,k,C){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function If(d,y){return new ht(d,y)}var Dr=Q.extend({options:{position:"topright"},initialize:function(d){S(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),k=this.getPosition(),C=d._controlCorners[k];return nt(y,"leaflet-control"),k.indexOf("bottom")!==-1?C.insertBefore(y,C.firstChild):C.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Ea=function(d){return new Dr(d)};ht.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",k=this._controlContainer=ct("div",y+"control-container",this._container);function C(R,F){var ee=y+R+" "+y+F;d[R+F]=ct("div",ee,k)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)It(this._controlCorners[d]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tc=Dr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,k,C){return k<C?-1:C<k?1:0}},initialize:function(d,y,k){S(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in d)this._addLayer(d[C],C);for(C in y)this._addLayer(y[C],C,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Dr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ct("div",d),k=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Uo(y),Ki(y);var C=this._section=ct("section",d+"-list");k&&(this._map.on("click",this.collapse,this),tt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){pn(F),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=ct("div",d+"-base",C),this._separator=ct("div",d+"-separator",C),this._overlaysList=ct("div",d+"-overlays",C),y.appendChild(C)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,k){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(C,R){return this.options.sortFunction(C.layer,R.layer,C.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yr(this._baseLayersList),Yr(this._overlaysList),this._layerControlInputs=[];var d,y,k,C,R=0;for(k=0;k<this._layers.length;k++)C=this._layers[k],this._addItem(C),y=y||C.overlay,d=d||!C.overlay,R+=C.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),k=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;k&&this._map.fire(k,y)},_createRadioElement:function(d,y){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=k,C.firstChild},_addItem:function(d){var y=document.createElement("label"),k=this._map.hasLayer(d.layer),C;d.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=k):C=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(C),C.layerId=u(d.layer),tt(C,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var F=document.createElement("span");y.appendChild(F),F.appendChild(C),F.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,k,C=[],R=[];this._handlingClick=!0;for(var F=d.length-1;F>=0;F--)y=d[F],k=this._getLayer(y.layerId).layer,y.checked?C.push(k):y.checked||R.push(k);for(F=0;F<R.length;F++)this._map.hasLayer(R[F])&&this._map.removeLayer(R[F]);for(F=0;F<C.length;F++)this._map.hasLayer(C[F])||this._map.addLayer(C[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,k,C=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],k=this._getLayer(y.layerId).layer,y.disabled=k.options.minZoom!==void 0&&C<k.options.minZoom||k.options.maxZoom!==void 0&&C>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,tt(d,"click",pn),this.expand();var y=this;setTimeout(function(){Nt(d,"click",pn),y._preventClick=!1})}}),Gp=function(d,y,k){return new tc(d,y,k)},$f=Dr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",k=ct("div",y+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,y+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,y+"-out",k,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,k,C,R){var F=ct("a",k,C);return F.innerHTML=d,F.href="#",F.title=y,F.setAttribute("role","button"),F.setAttribute("aria-label",y),Uo(F),tt(F,"click",Ja),tt(F,"click",R,this),tt(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(nt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(nt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $f,this.addControl(this.zoomControl))});var Ax=function(d){return new $f(d)},qp=Dr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",k=ct("div",y),C=this.options;return this._addScales(C,y+"-line",k),d.on(C.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),k},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,k){d.metric&&(this._mScale=ct("div",y,k)),d.imperial&&(this._iScale=ct("div",y,k))},_update:function(){var d=this._map,y=d.getSize().y/2,k=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(k)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),k=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,k,y/d)},_updateImperial:function(d){var y=d*3.2808399,k,C,R;y>5280?(k=y/5280,C=this._getRoundNum(k),this._updateScale(this._iScale,C+" mi",C/k)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,k){d.style.width=Math.round(this.options.maxWidth*k)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),k=d/y;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,y*k}}),Bf=function(d){return new qp(d)},Tx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zf=Dr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?Tx+" ":"")+"Leaflet</a>"},initialize:function(d){S(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Uo(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var k=[];this.options.prefix&&k.push(this.options.prefix),d.length&&k.push(d.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new zf().addTo(this)});var jx=function(d){return new zf(d)};Dr.Layers=tc,Dr.Zoom=$f,Dr.Scale=qp,Dr.Attribution=zf,Ea.layers=Gp,Ea.zoom=Ax,Ea.scale=Bf,Ea.attribution=jx;var Wi=Q.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wi.addTo=function(d,y){return d.addHandler(y,this),this};var Ox={Events:q},Uf=He.touch?"touchstart mousedown":"mousedown",Qa=J.extend({options:{clickTolerance:3},initialize:function(d,y,k,C){S(this,C),this._element=d,this._dragStartTarget=y||d,this._preventOutline=k},enable:function(){this._enabled||(tt(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qa._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Uf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Mf(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Qa._dragging===this&&this.finishDrag();return}if(!(Qa._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Qa._dragging=this,this._preventOutline&&Hs(this._element),xu(),Us(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,k=wu(this._element);this._startPoint=new re(y.clientX,y.clientY),this._startPos=Xa(this._element),this._parentScale=Xl(k);var C=d.type==="mousedown";tt(document,C?"mousemove":"touchmove",this._onMove,this),tt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,k=new re(y.clientX,y.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,pn(d),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),Zl(),Yi();var y=this._moved&&this._moving;this._moving=!1,Qa._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Yp(d,y,k){var C,R=[1,4,2,8],F,ee,ce,ge,Ae,Le,qe,ot;for(F=0,Le=d.length;F<Le;F++)d[F]._code=Fo(d[F],y);for(ce=0;ce<4;ce++){for(qe=R[ce],C=[],F=0,Le=d.length,ee=Le-1;F<Le;ee=F++)ge=d[F],Ae=d[ee],ge._code&qe?Ae._code&qe||(ot=Eu(Ae,ge,qe,y,k),ot._code=Fo(ot,y),C.push(ot)):(Ae._code&qe&&(ot=Eu(Ae,ge,qe,y,k),ot._code=Fo(ot,y),C.push(ot)),C.push(ge));d=C}return d}function Kp(d,y){var k,C,R,F,ee,ce,ge,Ae,Le;if(!d||d.length===0)throw new Error("latlngs not passed");Wr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var qe=de([0,0]),ot=X(d),zn=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());zn<1700&&(qe=Ff(d));var gn=d.length,Pr=[];for(k=0;k<gn;k++){var _t=de(d[k]);Pr.push(y.project(de([_t.lat-qe.lat,_t.lng-qe.lng])))}for(ce=ge=Ae=0,k=0,C=gn-1;k<gn;C=k++)R=Pr[k],F=Pr[C],ee=R.y*F.x-F.y*R.x,ge+=(R.x+F.x)*ee,Ae+=(R.y+F.y)*ee,ce+=ee*3;ce===0?Le=Pr[0]:Le=[ge/ce,Ae/ce];var wt=y.unproject(se(Le));return de([wt.lat+qe.lat,wt.lng+qe.lng])}function Ff(d){for(var y=0,k=0,C=0,R=0;R<d.length;R++){var F=de(d[R]);y+=F.lat,k+=F.lng,C++}return de([y/C,k/C])}var Hf={__proto__:null,clipPolygon:Yp,polygonCenter:Kp,centroid:Ff};function Wp(d,y){if(!y||!d.length)return d.slice();var k=y*y;return d=Cx(d,k),d=Zp(d,k),d}function Vp(d,y,k){return Math.sqrt(nc(d,y,k,!0))}function Nx(d,y,k){return nc(d,y,k)}function Zp(d,y){var k=d.length,C=typeof Uint8Array<"u"?Uint8Array:Array,R=new C(k);R[0]=R[k-1]=1,Gf(d,R,y,0,k-1);var F,ee=[];for(F=0;F<k;F++)R[F]&&ee.push(d[F]);return ee}function Gf(d,y,k,C,R){var F=0,ee,ce,ge;for(ce=C+1;ce<=R-1;ce++)ge=nc(d[ce],d[C],d[R],!0),ge>F&&(ee=ce,F=ge);F>k&&(y[ee]=1,Gf(d,y,k,C,ee),Gf(d,y,k,ee,R))}function Cx(d,y){for(var k=[d[0]],C=1,R=0,F=d.length;C<F;C++)Mx(d[C],d[R])>y&&(k.push(d[C]),R=C);return R<F-1&&k.push(d[F-1]),k}var Xp;function Jp(d,y,k,C,R){var F=C?Xp:Fo(d,k),ee=Fo(y,k),ce,ge,Ae;for(Xp=ee;;){if(!(F|ee))return[d,y];if(F&ee)return!1;ce=F||ee,ge=Eu(d,y,ce,k,R),Ae=Fo(ge,k),ce===F?(d=ge,F=Ae):(y=ge,ee=Ae)}}function Eu(d,y,k,C,R){var F=y.x-d.x,ee=y.y-d.y,ce=C.min,ge=C.max,Ae,Le;return k&8?(Ae=d.x+F*(ge.y-d.y)/ee,Le=ge.y):k&4?(Ae=d.x+F*(ce.y-d.y)/ee,Le=ce.y):k&2?(Ae=ge.x,Le=d.y+ee*(ge.x-d.x)/F):k&1&&(Ae=ce.x,Le=d.y+ee*(ce.x-d.x)/F),new re(Ae,Le,R)}function Fo(d,y){var k=0;return d.x<y.min.x?k|=1:d.x>y.max.x&&(k|=2),d.y<y.min.y?k|=4:d.y>y.max.y&&(k|=8),k}function Mx(d,y){var k=y.x-d.x,C=y.y-d.y;return k*k+C*C}function nc(d,y,k,C){var R=y.x,F=y.y,ee=k.x-R,ce=k.y-F,ge=ee*ee+ce*ce,Ae;return ge>0&&(Ae=((d.x-R)*ee+(d.y-F)*ce)/ge,Ae>1?(R=k.x,F=k.y):Ae>0&&(R+=ee*Ae,F+=ce*Ae)),ee=d.x-R,ce=d.y-F,C?ee*ee+ce*ce:new re(R,F)}function Wr(d){return!j(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function ku(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wr(d)}function Ys(d,y){var k,C,R,F,ee,ce,ge,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");Wr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Le=de([0,0]),qe=X(d),ot=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ot<1700&&(Le=Ff(d));var zn=d.length,gn=[];for(k=0;k<zn;k++){var Pr=de(d[k]);gn.push(y.project(de([Pr.lat-Le.lat,Pr.lng-Le.lng])))}for(k=0,C=0;k<zn-1;k++)C+=gn[k].distanceTo(gn[k+1])/2;if(C===0)Ae=gn[0];else for(k=0,F=0;k<zn-1;k++)if(ee=gn[k],ce=gn[k+1],R=ee.distanceTo(ce),F+=R,F>C){ge=(F-C)/R,Ae=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var _t=y.unproject(se(Ae));return de([_t.lat+Le.lat,_t.lng+Le.lng])}var Dx={__proto__:null,simplify:Wp,pointToSegmentDistance:Vp,closestPointOnSegment:Nx,clipSegment:Jp,_getEdgeIntersection:Eu,_getBitCode:Fo,_sqClosestPointOnSegment:nc,isFlat:Wr,_flat:ku,polylineCenter:Ys},Au={project:function(d){return new re(d.lng,d.lat)},unproject:function(d){return new oe(d.y,d.x)},bounds:new B([-180,-90],[180,90])},Tu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,k=this.R,C=d.lat*y,R=this.R_MINOR/k,F=Math.sqrt(1-R*R),ee=F*Math.sin(C),ce=Math.tan(Math.PI/4-C/2)/Math.pow((1-ee)/(1+ee),F/2);return C=-k*Math.log(Math.max(ce,1e-10)),new re(d.lng*y*k,C)},unproject:function(d){for(var y=180/Math.PI,k=this.R,C=this.R_MINOR/k,R=Math.sqrt(1-C*C),F=Math.exp(-d.y/k),ee=Math.PI/2-2*Math.atan(F),ce=0,ge=.1,Ae;ce<15&&Math.abs(ge)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(F*Ae)-ee,ee+=ge;return new oe(ee*y,d.x*y/k)}},Qp={__proto__:null,LonLat:Au,Mercator:Tu,SphericalMercator:je},eg=i({},ye,{code:"EPSG:3395",projection:Tu,transformation:(function(){var d=.5/(Math.PI*Tu.R);return ve(d,.5,-d,.5)})()}),qf=i({},ye,{code:"EPSG:4326",projection:Au,transformation:ve(1/180,1,-1/180,.5)}),Ks=i({},pe,{projection:Au,transformation:ve(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var k=y.lng-d.lng,C=y.lat-d.lat;return Math.sqrt(k*k+C*C)},infinite:!0});pe.Earth=ye,pe.EPSG3395=eg,pe.EPSG3857=Ze,pe.EPSG900913=Ne,pe.EPSG4326=qf,pe.Simple=Ks;var wi=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var k=this.getEvents();y.on(k,this),this.once("remove",function(){y.off(k,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},_addLayers:function(d){d=d?j(d)?d:[d]:[];for(var y=0,k=d.length;y<k;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,k=this._getZoomSpan();for(var C in this._zoomBoundLayers){var R=this._zoomBoundLayers[C].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ws=wi.extend({initialize:function(d,y){S(this,y),this._layers={};var k,C;if(d)for(k=0,C=d.length;k<C;k++)this.addLayer(d[k])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),k,C;for(k in this._layers)C=this._layers[k],C[d]&&C[d].apply(C,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),Px=function(d,y){return new Ws(d,y)},Vi=Ws.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Ws.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Ws.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ae;for(var y in this._layers){var k=this._layers[y];d.extend(k.getBounds?k.getBounds():k.getLatLng())}return d}}),tg=function(d,y){return new Vi(d,y)},Zi=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){S(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var k=this._getIconUrl(d);if(!k){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(k,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(C,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(d,y){var k=this.options,C=k[y+"Size"];typeof C=="number"&&(C=[C,C]);var R=se(C),F=se(y==="shadow"&&k.shadowAnchor||k.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(k.className||""),F&&(d.style.marginLeft=-F.x+"px",d.style.marginTop=-F.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return He.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function rc(d){return new Zi(d)}var ic=Zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof ic.imagePath!="string"&&(ic.imagePath=this._detectIconPath()),(this.options.imagePath||ic.imagePath)+Zi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(k,C,R){var F=C.exec(k);return F&&F[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),y=Wl(d,"background-image")||Wl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),ac=Wi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Qa(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,k=y._map,C=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,F=Xa(y._icon),ee=k.getPixelBounds(),ce=k.getPixelOrigin(),ge=W(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(F)){var Ae=se((Math.max(ge.max.x,F.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,F.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,F.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,F.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(C);k.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=U(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,k=y._shadow,C=Xa(y._icon),R=y._map.layerPointToLatLng(C);k&&Ut(k,C),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),oc=wi.extend({options:{icon:new ic,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){S(this,y),this._latlng=de(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=de(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=d.icon.createIcon(this._icon),C=!1;k!==this._icon&&(this._icon&&this._removeIcon(),C=!0,d.title&&(k.title=d.title),k.tagName==="IMG"&&(k.alt=d.alt||"")),nt(k,y),d.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(k,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),F=!1;R!==this._shadow&&(this._removeShadow(),F=!0),R&&(nt(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&F&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ac)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ac(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Zt(this._icon,d),this._shadow&&Zt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,k=y.iconSize?se(y.iconSize):se(0,0),C=y.iconAnchor?se(y.iconAnchor):se(0,0);d.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:k.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ng(d,y){return new oc(d,y)}var Xi=wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return S(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=Xi.extend({options:{fill:!0,radius:10},initialize:function(d,y){S(this,y),this._latlng=de(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=de(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Xi.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,k=this._clickTolerance(),C=[d+k,y+k];this._pxBounds=new B(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rg(d,y){return new Vs(d,y)}var ju=Vs.extend({initialize:function(d,y,k){if(typeof y=="number"&&(y=i({},k,{radius:y})),S(this,y),this._latlng=de(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Xi.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,k=this._map,C=k.options.crs;if(C.distance===ye.distance){var R=Math.PI/180,F=this._mRadius/ye.R/R,ee=k.project([y+F,d]),ce=k.project([y-F,d]),ge=ee.add(ce).divideBy(2),Ae=k.unproject(ge).lat,Le=Math.acos((Math.cos(F*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Le)||Le===0)&&(Le=F/Math.cos(Math.PI/180*y)),this._point=ge.subtract(k.getPixelOrigin()),this._radius=isNaN(Le)?0:ge.x-k.project([Ae,d-Le]).x,this._radiusY=ge.y-ee.y}else{var qe=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(qe).x}this._updateBounds()}});function ig(d,y,k){return new ju(d,y,k)}var ka=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){S(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,k=null,C=nc,R,F,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Ae=1,Le=ge.length;Ae<Le;Ae++){R=ge[Ae-1],F=ge[Ae];var qe=C(d,R,F,!0);qe<y&&(y=qe,k=C(d,R,F))}return k&&(k.distance=Math.sqrt(y)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ys(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=de(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ae,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return Wr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],k=Wr(d),C=0,R=d.length;C<R;C++)k?(y[C]=de(d[C]),this._bounds.extend(y[C])):y[C]=this._convertLatLngs(d[C]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new re(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,k){var C=d[0]instanceof oe,R=d.length,F,ee;if(C){for(ee=[],F=0;F<R;F++)ee[F]=this._map.latLngToLayerPoint(d[F]),k.extend(ee[F]);y.push(ee)}else for(F=0;F<R;F++)this._projectLatlngs(d[F],y,k)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,k,C,R,F,ee,ce,ge;for(k=0,R=0,F=this._rings.length;k<F;k++)for(ge=this._rings[k],C=0,ee=ge.length;C<ee-1;C++)ce=Jp(ge[C],ge[C+1],d,C,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[C+1]||C===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,k=0,C=d.length;k<C;k++)d[k]=Wp(d[k],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var k,C,R,F,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(k=0,F=this._parts.length;k<F;k++)for(ce=this._parts[k],C=0,ee=ce.length,R=ee-1;C<ee;R=C++)if(!(!y&&C===0)&&Vp(d,ce[R],ce[C])<=ge)return!0;return!1}});function Rx(d,y){return new ka(d,y)}ka._flat=ku;var Zs=ka.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Kp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=ka.prototype._convertLatLngs.call(this,d),k=y.length;return k>=2&&y[0]instanceof oe&&y[0].equals(y[k-1])&&y.pop(),y},_setLatLngs:function(d){ka.prototype._setLatLngs.call(this,d),Wr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,k=new re(y,y);if(d=new B(d.min.subtract(k),d.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,R=this._rings.length,F;C<R;C++)F=Yp(this._rings[C],d,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,k,C,R,F,ee,ce,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(F=0,ge=this._parts.length;F<ge;F++)for(k=this._parts[F],ee=0,Ae=k.length,ce=Ae-1;ee<Ae;ce=ee++)C=k[ee],R=k[ce],C.y>d.y!=R.y>d.y&&d.x<(R.x-C.x)*(d.y-C.y)/(R.y-C.y)+C.x&&(y=!y);return y||ka.prototype._containsPoint.call(this,d,!0)}});function Lx(d,y){return new Zs(d,y)}var Aa=Vi.extend({initialize:function(d,y){S(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=j(d)?d:d.features,k,C,R;if(y){for(k=0,C=y.length;k<C;k++)R=y[k],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var F=this.options;if(F.filter&&!F.filter(d))return this;var ee=er(d,F);return ee?(ee.feature=Cu(d),ee.defaultOptions=ee.options,this.resetStyle(ee),F.onEachFeature&&F.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function er(d,y){var k=d.type==="Feature"?d.geometry:d,C=k?k.coordinates:null,R=[],F=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||Ou,ce,ge,Ae,Le;if(!C&&!k)return null;switch(k.type){case"Point":return ce=ee(C),Xs(F,d,ce,y);case"MultiPoint":for(Ae=0,Le=C.length;Ae<Le;Ae++)ce=ee(C[Ae]),R.push(Xs(F,d,ce,y));return new Vi(R);case"LineString":case"MultiLineString":return ge=sc(C,k.type==="LineString"?0:1,ee),new ka(ge,y);case"Polygon":case"MultiPolygon":return ge=sc(C,k.type==="Polygon"?1:2,ee),new Zs(ge,y);case"GeometryCollection":for(Ae=0,Le=k.geometries.length;Ae<Le;Ae++){var qe=er({geometry:k.geometries[Ae],type:"Feature",properties:d.properties},y);qe&&R.push(qe)}return new Vi(R);case"FeatureCollection":for(Ae=0,Le=k.features.length;Ae<Le;Ae++){var ot=er(k.features[Ae],y);ot&&R.push(ot)}return new Vi(R);default:throw new Error("Invalid GeoJSON object.")}}function Xs(d,y,k,C){return d?d(y,k):new oc(k,C&&C.markersInheritOptions&&C)}function Ou(d){return new oe(d[1],d[0],d[2])}function sc(d,y,k){for(var C=[],R=0,F=d.length,ee;R<F;R++)ee=y?sc(d[R],y-1,k):(k||Ou)(d[R]),C.push(ee);return C}function Nu(d,y){return d=de(d),d.alt!==void 0?[b(d.lng,y),b(d.lat,y),b(d.alt,y)]:[b(d.lng,y),b(d.lat,y)]}function lc(d,y,k,C){for(var R=[],F=0,ee=d.length;F<ee;F++)R.push(y?lc(d[F],Wr(d[F])?0:y-1,k,C):Nu(d[F],C));return!y&&k&&R.length>0&&R.push(R[0].slice()),R}function eo(d,y){return d.feature?i({},d.feature,{geometry:y}):Cu(y)}function Cu(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var to={toGeoJSON:function(d){return eo(this,{type:"Point",coordinates:Nu(this.getLatLng(),d)})}};oc.include(to),ju.include(to),Vs.include(to),ka.include({toGeoJSON:function(d){var y=!Wr(this._latlngs),k=lc(this._latlngs,y?1:0,!1,d);return eo(this,{type:(y?"Multi":"")+"LineString",coordinates:k})}}),Zs.include({toGeoJSON:function(d){var y=!Wr(this._latlngs),k=y&&!Wr(this._latlngs[0]),C=lc(this._latlngs,k?2:y?1:0,!0,d);return y||(C=[C]),eo(this,{type:(k?"Multi":"")+"Polygon",coordinates:C})}}),Ws.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(k){y.push(k.toGeoJSON(d).geometry.coordinates)}),eo(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var k=y==="GeometryCollection",C=[];return this.eachLayer(function(R){if(R.toGeoJSON){var F=R.toGeoJSON(d);if(k)C.push(F.geometry);else{var ee=Cu(F);ee.type==="FeatureCollection"?C.push.apply(C,ee.features):C.push(ee)}}}),k?eo(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Mu(d,y){return new Aa(d,y)}var cc=Mu,Js=wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,k){this._url=d,this._bounds=X(y),S(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Bn(this._image),this},bringToBack:function(){return this._map&&Bo(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=X(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ct("img");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;wa(this._image,k,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=y.getSize();Ut(d,y.min),d.style.width=k.x+"px",d.style.height=k.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),ag=function(d,y,k){return new Js(d,y,k)},no=Js.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ct("video");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var k=y.getElementsByTagName("source"),C=[],R=0;R<k.length;R++)C.push(k[R].src);this._url=k.length>0?C:[y.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ee=ct("source");ee.src=this._url[F],y.appendChild(ee)}}});function Qs(d,y,k){return new no(d,y,k)}var Du=Js.extend({_initImage:function(){var d=this._image=this._url;nt(d,"leaflet-image-layer"),this._zoomAnimated&&nt(d,"leaflet-zoom-animated"),this.options.className&&nt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function og(d,y,k){return new Du(d,y,k)}var tr=wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof oe||j(d))?(this._latlng=de(d),S(this,y)):(S(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=de(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bn(this._container),this},bringToBack:function(){return this._map&&Bo(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof Vi){y=null;var k=this._source._layers;for(var C in k)if(k[C]._map){y=k[C];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),k=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(k)):y=y.add(d).add(k);var C=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=C+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(d,y,k,C){var R=y;return R instanceof d||(R=new d(C).setContent(y)),k&&R.setLatLng(k),R}}),wi.include({_initOverlay:function(d,y,k,C){var R=k;return R instanceof d?(S(R,C),R._source=this):(R=y&&!C?y:new d(C,this),R.setContent(k)),R}});var uc=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,tr.prototype.openOn.call(this,d)},onAdd:function(d){tr.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",_i))},onRemove:function(d){tr.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",_i))},getEvents:function(){var d=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=ct("div",d+"-content-wrapper",y);if(this._contentNode=ct("div",d+"-content",k),Uo(y),Ki(this._contentNode),tt(y,"contextmenu",_i),this._tipContainer=ct("div",d+"-tip-container",y),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=ct("a",d+"-close-button",y);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',tt(C,"click",function(R){pn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var k=d.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),y.width=k+1+"px",y.whiteSpace="",y.height="";var C=d.offsetHeight,R=this.options.maxHeight,F="leaflet-popup-scrolled";R&&C>R?(y.height=R+"px",nt(d,F)):en(d,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),k=this._getAnchor();Ut(this._container,y.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Wl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+y,C=this._containerWidth,R=new re(this._containerLeft,-k-this._containerBottom);R._add(Xa(this._container));var F=d.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Ae=d.getSize(),Le=0,qe=0;F.x+C+ge.x>Ae.x&&(Le=F.x+C-Ae.x+ge.x),F.x-Le-ce.x<0&&(Le=F.x-ce.x),F.y+k+ge.y>Ae.y&&(qe=F.y+k-Ae.y+ge.y),F.y-qe-ce.y<0&&(qe=F.y-ce.y),(Le||qe)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Le,qe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sg=function(d,y){return new uc(d,y)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(d,y,k){return this._initOverlay(uc,d,y,k).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),wi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(uc,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Vi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ja(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var dc=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){tr.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){tr.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=tr.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,k,C=this._map,R=this._container,F=C.latLngToContainerPoint(C.getCenter()),ee=C.layerPointToContainerPoint(d),ce=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Le=se(this.options.offset),qe=this._getAnchor();ce==="top"?(y=ge/2,k=Ae):ce==="bottom"?(y=ge/2,k=0):ce==="center"?(y=ge/2,k=Ae/2):ce==="right"?(y=0,k=Ae/2):ce==="left"?(y=ge,k=Ae/2):ee.x<F.x?(ce="right",y=0,k=Ae/2):(ce="left",y=ge+(Le.x+qe.x)*2,k=Ae/2),d=d.subtract(se(y,k,!0)).add(Le).add(qe),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),nt(R,"leaflet-tooltip-"+ce),Ut(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Zt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ix=function(d,y){return new dc(d,y)};ht.include({openTooltip:function(d,y,k){return this._initOverlay(dc,d,y,k).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),wi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dc,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[y](k),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Vi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(tt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),tt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,k,C;this._tooltip.options.sticky&&d.originalEvent&&(k=this._map.mouseEventToContainerPoint(d.originalEvent),C=this._map.containerPointToLayerPoint(k),y=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(y)}});var lg=Zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Yr(y),y.appendChild(k.html)):y.innerHTML=k.html!==!1?k.html:"",k.bgPos){var C=se(k.bgPos);y.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function $x(d){return new lg(d)}Zi.Default=ic;var el=wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){S(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),It(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof re?d:new re(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,k=-d(-1/0,1/0),C=0,R=y.length,F;C<R;C++)F=y[C].style.zIndex,y[C]!==this._container&&F&&(k=d(k,+F));isFinite(k)&&(this.options.zIndex=k+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Zt(this._container,this.options.opacity);var d=+new Date,y=!1,k=!1;for(var C in this._tiles){var R=this._tiles[C];if(!(!R.current||!R.loaded)){var F=Math.min(1,(d-R.loaded)/200);Zt(R.el,F),F<1?y=!0:(R.active?k=!0:this._onOpaqueTile(R),R.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===d?(this._levels[k].el.style.zIndex=y-Math.abs(d-k),this._onUpdateLevel(k)):(It(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var C=this._levels[d],R=this._map;return C||(C=this._levels[d]={},C.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=y,C.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),C.zoom=d,this._setZoomTransform(C,R.getCenter(),R.getZoom()),p(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var C=y.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)It(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,k,C){var R=Math.floor(d/2),F=Math.floor(y/2),ee=k-1,ce=new re(+R,+F);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>C?this._retainParent(R,F,ee,C):!1)},_retainChildren:function(d,y,k,C){for(var R=2*d;R<2*d+2;R++)for(var F=2*y;F<2*y+2;F++){var ee=new re(R,F);ee.z=k+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);k+1<C&&this._retainChildren(R,F,k+1,C)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,k,C){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var F=this.options.updateWhenZooming&&R!==this._tileZoom;(!C||F)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var k in this._levels)this._setZoomTransform(this._levels[k],d,y)},_setZoomTransform:function(d,y,k){var C=this._map.getZoomScale(k,d.zoom),R=d.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(y,k)).round();He.any3d?wa(d.el,R,C):Ut(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,k=this._tileSize=this.getTileSize(),C=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],C).x/k.x),Math.ceil(d.project([0,y.wrapLng[1]],C).x/k.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],C).y/k.x),Math.ceil(d.project([y.wrapLat[1],0],C).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,k=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),C=y.getZoomScale(k,this._tileZoom),R=y.project(d,this._tileZoom).floor(),F=y.getSize().divideBy(C*2);return new B(R.subtract(F),R.add(F))},_update:function(d){var y=this._map;if(y){var k=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(C),F=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Le=this._tiles[Ae].coords;(Le.z!==this._tileZoom||!ge.contains(new re(Le.x,Le.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(d,k);return}for(var qe=R.min.y;qe<=R.max.y;qe++)for(var ot=R.min.x;ot<=R.max.x;ot++){var zn=new re(ot,qe);if(zn.z=this._tileZoom,!!this._isValidTile(zn)){var gn=this._tiles[this._tileCoordsToKey(zn)];gn?gn.current=!0:ee.push(zn)}}if(ee.sort(function(_t,wt){return _t.distanceTo(F)-wt.distanceTo(F)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pr=document.createDocumentFragment();for(ot=0;ot<ee.length;ot++)this._addTile(ee[ot],Pr);this._level.el.appendChild(Pr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var k=this._globalTileRange;if(!y.wrapLng&&(d.x<k.min.x||d.x>k.max.x)||!y.wrapLat&&(d.y<k.min.y||d.y>k.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(d);return X(this.options.bounds).overlaps(C)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,k=this.getTileSize(),C=d.scaleBy(k),R=C.add(k),F=y.unproject(C,d.z),ee=y.unproject(R,d.z);return[F,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),k=new ae(y[0],y[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),k=new re(+y[0],+y[1]);return k.z=+y[2],k},_removeTile:function(d){var y=this._tiles[d];y&&(It(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){nt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,He.ielt9&&this.options.opacity<1&&Zt(d,this.options.opacity)},_addTile:function(d,y){var k=this._getTilePos(d),C=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&U(o(this._tileReady,this,d,null,R)),Ut(R,k),this._tiles[C]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,k){y&&this.fire("tileerror",{error:y,tile:k,coords:d});var C=this._tileCoordsToKey(d);k=this._tiles[C],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Zt(k.el,0),z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),y||(nt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new re(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function cg(d){return new el(d)}var ro=el.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=S(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var k=document.createElement("img");return tt(k,"load",o(this._tileOnLoad,this,y,k)),tt(k,"error",o(this._tileOnError,this,y,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(d),k},getTileUrl:function(d){var y={r:He.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=k),y["-y"]=k}return N(this._url,i(y,this.options))},_tileOnLoad:function(d,y){He.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,k){var C=this.options.errorTileUrl;C&&y.getAttribute("src")!==C&&(y.src=C),d(k,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,k=this.options.zoomReverse,C=this.options.zoomOffset;return k&&(d=y-d),d+C},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=D;var k=this._tiles[d].coords;It(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:k})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",D),el.prototype._removeTile.call(this,d)},_tileReady:function(d,y,k){if(!(!this._map||k&&k.getAttribute("src")===D))return el.prototype._tileReady.call(this,d,y,k)}});function Vr(d,y){return new ro(d,y)}var fc=ro.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var k=i({},this.defaultWmsParams);for(var C in y)C in this.options||(k[C]=y[C]);y=S(this,y);var R=y.detectRetina&&He.retina?2:1,F=this.getTileSize();k.width=F.x*R,k.height=F.y*R,this.wmsParams=k},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,ro.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),k=this._crs,C=W(k.project(y[0]),k.project(y[1])),R=C.min,F=C.max,ee=(this._wmsVersion>=1.3&&this._crs===qf?[R.y,R.x,F.y,F.x]:[R.x,R.y,F.x,F.y]).join(","),ce=ro.prototype.getTileUrl.call(this,d);return ce+_(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Zr(d,y){return new fc(d,y)}ro.WMS=fc,Vr.wms=Zr;var Er=wi.extend({options:{padding:.1},initialize:function(d){S(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var k=this._map.getZoomScale(y,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),F=C.multiplyBy(-k).add(R).subtract(this._map._getNewPixelOrigin(d,y));He.any3d?wa(this._container,F,k):Ut(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),k=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(k,k.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pu=Er.extend({options:{tolerance:0},getEvents:function(){var d=Er.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Er.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");tt(d,"mousemove",this._onMouseMove,this),tt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var d=this._bounds,y=this._container,k=d.getSize(),C=He.retina?2:1;Ut(y,d.min),y.width=C*k.x,y.height=C*k.y,y.style.width=k.x+"px",y.style.height=k.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){Er.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,k=y.next,C=y.prev;k?k.prev=C:this._drawLast=C,C?C.next=k:this._drawFirst=k,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),k=[],C,R;for(R=0;R<y.length;R++){if(C=Number(y[R]),isNaN(C))return;k.push(C)}d.options._dashArray=k}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var k=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)d=C.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var k,C,R,F,ee=d._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),k=0;k<ce;k++){for(C=0,R=ee[k].length;C<R;C++)F=ee[k][C],ge[C?"lineTo":"moveTo"](F.x,F.y);y&&ge.closePath()}this._fillStroke(ge,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,k=this._ctx,C=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||C)/C;R!==1&&(k.save(),k.scale(1,R)),k.beginPath(),k.arc(y.x,y.y/R,C,0,Math.PI*2,!1),R!==1&&k.restore(),this._fillStroke(k,d)}},_fillStroke:function(d,y){var k=y.options;k.fill&&(d.globalAlpha=k.fillOpacity,d.fillStyle=k.fillColor||k.color,d.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=k.opacity,d.lineWidth=k.weight,d.strokeStyle=k.color,d.lineCap=k.lineCap,d.lineJoin=k.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(k))&&(C=k);this._fireEvent(C?[C]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(C=k);C!==this._hoveredLayer&&(this._handleMouseOut(d),C&&(nt(this._container,"leaflet-interactive"),this._fireEvent([C],d,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,k){this._map._fireDOMEvent(y,k||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(k)k.prev=C;else return;C?C.next=k:k&&(this._drawFirst=k),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(C)C.next=k;else return;k?k.prev=C:C&&(this._drawLast=C),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function hc(d){return He.canvas?new Pu(d):null}var io=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Yf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Er.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=io("shape");nt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=io("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;It(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,k=d._fill,C=d.options,R=d._container;R.stroked=!!C.stroke,R.filled=!!C.fill,C.stroke?(y||(y=d._stroke=io("stroke")),R.appendChild(y),y.weight=C.weight+"px",y.color=C.color,y.opacity=C.opacity,C.dashArray?y.dashStyle=j(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=C.lineCap.replace("butt","flat"),y.joinstyle=C.lineJoin):y&&(R.removeChild(y),d._stroke=null),C.fill?(k||(k=d._fill=io("fill")),R.appendChild(k),k.color=C.fillColor||C.color,k.opacity=C.fillOpacity):k&&(R.removeChild(k),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),k=Math.round(d._radius),C=Math.round(d._radiusY||k);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+k+","+C+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){Bn(d._container)},_bringToBack:function(d){Bo(d._container)}},Ji=He.vml?io:_e,tl=Er.extend({_initContainer:function(){this._container=Ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var d=this._bounds,y=d.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,k.setAttribute("width",y.x),k.setAttribute("height",y.y)),Ut(k,d.min),k.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Ji("path");d.options.className&&nt(y,d.options.className),d.options.interactive&&nt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){It(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,k=d.options;y&&(k.stroke?(y.setAttribute("stroke",k.color),y.setAttribute("stroke-opacity",k.opacity),y.setAttribute("stroke-width",k.weight),y.setAttribute("stroke-linecap",k.lineCap),y.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?y.setAttribute("stroke-dasharray",k.dashArray):y.removeAttribute("stroke-dasharray"),k.dashOffset?y.setAttribute("stroke-dashoffset",k.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),k.fill?(y.setAttribute("fill",k.fillColor||k.color),y.setAttribute("fill-opacity",k.fillOpacity),y.setAttribute("fill-rule",k.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,Oe(d._parts,y))},_updateCircle:function(d){var y=d._point,k=Math.max(Math.round(d._radius),1),C=Math.max(Math.round(d._radiusY),1)||k,R="a"+k+","+C+" 0 1,0 ",F=d._empty()?"M0 0":"M"+(y.x-k)+","+y.y+R+k*2+",0 "+R+-k*2+",0 ";this._setPath(d,F)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){Bn(d._path)},_bringToBack:function(d){Bo(d._path)}});He.vml&&tl.include(Yf);function mc(d){return He.svg||He.vml?new tl(d):null}ht.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&hc(d)||mc(d)}});var Ho=Zs.extend({initialize:function(d,y){Zs.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=X(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Bx(d,y){return new Ho(d,y)}tl.create=Ji,tl.pointsToPath=Oe,Aa.geometryToLayer=er,Aa.coordsToLatLng=Ou,Aa.coordsToLatLngs=sc,Aa.latLngToCoords=Nu,Aa.latLngsToCoords=lc,Aa.getFeature=eo,Aa.asFeature=Cu,ht.mergeOptions({boxZoom:!0});var kr=Wi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Us(),xu(),this._startPoint=this._map.mouseEventToContainerPoint(d),tt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),k=y.getSize();Ut(this._box,y.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),Yi(),Zl(),Nt(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",kr),ht.mergeOptions({doubleClickZoom:!0});var Ru=Wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,k=y.getZoom(),C=y.options.zoomDelta,R=d.originalEvent.shiftKey?k-C:k+C;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});ht.addInitHook("addHandler","doubleClickZoom",Ru),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qi=Wi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Qa(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=X(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),k=this._initialWorldOffset,C=this._draggable._newPos.x,R=(C-y+k)%d+y-k,F=(C+y+k)%d-y-k,ee=Math.abs(R+k)<Math.abs(F+k)?R:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,k=y.options,C=!k.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),C)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ee=k.easeLinearity,ce=R.multiplyBy(ee/F),ge=ce.distanceTo([0,0]),Ae=Math.min(k.inertiaMaxSpeed,ge),Le=ce.multiplyBy(Ae/ge),qe=Ae/(k.inertiaDeceleration*ee),ot=Le.multiplyBy(-qe/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),U(function(){y.panBy(ot,{duration:qe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Qi),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kf=Wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),tt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,k=d.scrollTop||y.scrollTop,C=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(C,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},k=this.keyCodes,C,R;for(C=0,R=k.left.length;C<R;C++)y[k.left[C]]=[-1*d,0];for(C=0,R=k.right.length;C<R;C++)y[k.right[C]]=[d,0];for(C=0,R=k.down.length;C<R;C++)y[k.down[C]]=[0,d];for(C=0,R=k.up.length;C<R;C++)y[k.up[C]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},k=this.keyCodes,C,R;for(C=0,R=k.zoomIn.length;C<R;C++)y[k.zoomIn[C]]=d;for(C=0,R=k.zoomOut.length;C<R;C++)y[k.zoomOut[C]]=-d},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,k=this._map,C;if(y in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(C=this._panKeys[y],d.shiftKey&&(C=se(C).multiplyBy(3)),k.options.maxBounds&&(C=k._limitOffset(se(C),k.options.maxBounds)),k.options.worldCopyJump){var R=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(C)));k.panTo(R)}else k.panBy(C)}else if(y in this._zoomKeys)k.setZoom(k.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Ja(d)}}});ht.addInitHook("addHandler","keyboard",Kf),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pc=Wi.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=dr(d),k=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var C=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),C),Ja(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),k=this._map.options.zoomSnap||0;d._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,F=k?Math.ceil(R/k)*k:R,ee=d._limitZoom(y+(this._delta>0?F:-F))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});ht.addInitHook("addHandler","scrollWheelZoom",pc);var Go=600;ht.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var Lu=Wi.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new re(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",pn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Go),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Nt(document,"touchend",pn),Nt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new re(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var k=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});k._simulated=!0,y.target.dispatchEvent(k)}});ht.addInitHook("addHandler","tapHold",Lu),ht.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Wf=Wi.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(k.add(C)._divideBy(2))),this._startDist=k.distanceTo(C),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),pn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]),R=k.distanceTo(C)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var F=k._add(C)._divideBy(2)._subtract(this._centerPoint);if(R===1&&F.x===0&&F.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(ee,this,!0),pn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Wf),ht.BoxZoom=kr,ht.DoubleClickZoom=Ru,ht.Drag=Qi,ht.Keyboard=Kf,ht.ScrollWheelZoom=pc,ht.TapHold=Lu,ht.TouchZoom=Wf,n.Bounds=B,n.Browser=He,n.CRS=pe,n.Canvas=Pu,n.Circle=ju,n.CircleMarker=Vs,n.Class=Q,n.Control=Dr,n.DivIcon=lg,n.DivOverlay=tr,n.DomEvent=Su,n.DomUtil=Gs,n.Draggable=Qa,n.Evented=J,n.FeatureGroup=Vi,n.GeoJSON=Aa,n.GridLayer=el,n.Handler=Wi,n.Icon=Zi,n.ImageOverlay=Js,n.LatLng=oe,n.LatLngBounds=ae,n.Layer=wi,n.LayerGroup=Ws,n.LineUtil=Dx,n.Map=ht,n.Marker=oc,n.Mixin=Ox,n.Path=Xi,n.Point=re,n.PolyUtil=Hf,n.Polygon=Zs,n.Polyline=ka,n.Popup=uc,n.PosAnimation=qs,n.Projection=Qp,n.Rectangle=Ho,n.Renderer=Er,n.SVG=tl,n.SVGOverlay=Du,n.TileLayer=ro,n.Tooltip=dc,n.Transformation=Ce,n.Util=Z,n.VideoOverlay=no,n.bind=o,n.bounds=W,n.canvas=hc,n.circle=ig,n.circleMarker=rg,n.control=Ea,n.divIcon=$x,n.extend=i,n.featureGroup=tg,n.geoJSON=Mu,n.geoJson=cc,n.gridLayer=cg,n.icon=rc,n.imageOverlay=ag,n.latLng=de,n.latLngBounds=X,n.layerGroup=Px,n.map=If,n.marker=ng,n.point=se,n.polygon=Lx,n.polyline=Rx,n.popup=sg,n.rectangle=Bx,n.setOptions=S,n.stamp=u,n.svg=mc,n.svgOverlay=og,n.tileLayer=Vr,n.tooltip=Ix,n.transformation=ve,n.version=r,n.videoOverlay=Qs;var Vf=window.L;n.noConflict=function(){return window.L=Vf,this},window.L=n}))})(am,am.exports)),am.exports}var VV=WV();const Mw=hi(VV),y0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Oc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function ZV(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},h=Oc(n),p=Oc(t),b=Oc(r),x=Oc(a),E=Oc(o),S=Oc(l),_=i?Oc(i):null;let T=null,N=null,j=null;const M=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",D=z=>{M(z)&&document.activeElement!==E&&(z.preventDefault(),z.stopPropagation(),E.focus())},P=()=>{b.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=Mw.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),Mw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),b.addEventListener("keydown",D,!0),b.addEventListener("keyup",D,!0),E.focus()},$=()=>{b.style.display="none",E.value="",S.innerHTML="",j&&(window.clearTimeout(j),j=null),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0)},H=z=>{const Z=z.dataset.name??"",Q=Number(z.dataset.lat??""),V=Number(z.dataset.lon??"");!Number.isFinite(Q)||!Number.isFinite(V)||!T||(N?N.setLatLng([Q,V]):N=Mw.marker([Q,V]).addTo(T),T.flyTo([Q,V],14,{duration:.5}),h.value=Z,h.dataset.lat=String(Q),h.dataset.lon=String(V),e.onSelected?.({name:Z,lat:Q,lon:V}),S.innerHTML="",$())},Y=()=>{j&&window.clearTimeout(j);const z=E.value.trim();if(!z){S.innerHTML="";return}j=window.setTimeout(async()=>{try{const Z="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),Q=await fetch(Z,{headers:{Accept:"application/json"}});if(!Q.ok)throw new Error(`HTTP ${Q.status}`);const V=await Q.json();if(!Array.isArray(V)||V.length===0){S.innerHTML='<li style="padding:8px"> </li>';return}const q=V.slice(0,12).map((J,re)=>{const ue=J.display_name.split(",").slice(0,3).map(W=>W.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=re===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${y0(ue)}"
                    data-lat="${y0(J.lat)}"
                    data-lon="${y0(J.lon)}"
                    data-active="${re===0?"1":"0"}"
                    style="${se}${B}"
                  >${y0(ue)}</li>`}).join("");S.innerHTML=q}catch(Z){console.error(Z),S.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=z=>{const Z=z.target;Z.tagName==="LI"&&H(Z)},U=z=>{if(z.key==="Enter"){const Z=S.querySelector('li[data-active="1"]')??S.querySelector("li");Z&&H(Z)}};return p.addEventListener("click",P),x.addEventListener("click",$),_&&_.addEventListener("click",$),E.addEventListener("input",Y),E.addEventListener("keydown",U),S.addEventListener("click",K),()=>{p.removeEventListener("click",P),x.removeEventListener("click",$),_&&_.removeEventListener("click",$),E.removeEventListener("input",Y),E.removeEventListener("keydown",U),S.removeEventListener("click",K),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0),j&&(window.clearTimeout(j),j=null),T&&(T.remove(),T=null)}}function cd(){return document.getElementById("suggestions")}function bb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Dw(e,t){const n=bb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const XV='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function JV({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){w.useEffect(()=>{if(!e)return;const f=ZV({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:j=>{n(""),r(j.name),i.current&&(i.current.value=j.name),a.current&&(a.current.value=String(j.lat)),o.current&&(o.current.value=String(j.lon)),u?.(j),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),x=cd();setTimeout(()=>b?.focus(),0);const E=j=>{if(j.key==="Escape"){j.preventDefault(),t(!1);return}if(j.key!=="Tab")return;const M=cd();if(M&&M.contains(document.activeElement))return;const D=Array.from(p.querySelectorAll(XV)).filter(Y=>!Y.hasAttribute("disabled")&&Y.tabIndex!==-1);if(D.length===0)return;const P=D[0],$=D[D.length-1],H=document.activeElement;j.shiftKey?(H===P||!p.contains(H))&&(j.preventDefault(),$.focus()):(H===$||!p.contains(H))&&(j.preventDefault(),P.focus())};p.addEventListener("keydown",E);const S=j=>{if(j.key!=="ArrowDown")return;const M=cd();!M||bb(M).length===0||j.preventDefault()};b?.addEventListener("keydown",S);const _=j=>{if(j.target.value.trim()===""){const D=cd();D&&(D.innerHTML="")}};b?.addEventListener("input",_);const T=j=>{const M=cd();if(!M)return;const D=bb(M);if(D.length===0)return;const P=document.activeElement,$=P?D.indexOf(P):-1;if($===-1)return;const H=Y=>{j.preventDefault(),Dw(M,$+Y)};switch(j.key){case"Tab":j.preventDefault(),H(j.shiftKey?-1:1);break;case"ArrowDown":j.preventDefault(),H(1);break;case"ArrowUp":j.preventDefault(),H(-1);break;case"Home":j.preventDefault(),Dw(M,0);break;case"End":j.preventDefault(),Dw(M,D.length-1);break;case"Enter":case" ":j.preventDefault(),P.click();break;case"Backspace":j.preventDefault(),M.innerHTML="",b?.focus();break}j.stopPropagation()};let N=null;return x&&(x.addEventListener("keydown",T),N=new MutationObserver(()=>{const j=cd();!j||bb(j).length}),N.observe(x,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",E),b?.removeEventListener("keydown",S),b?.removeEventListener("input",_),x&&x.removeEventListener("keydown",T),N?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),w.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function i5({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=YV({placeholderText:t,value:r});return JV({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function ar(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QV=typeof Symbol=="function"&&Symbol.observable||"@@observable",aM=QV,Pw=()=>Math.random().toString(36).substring(7).split("").join("."),eZ={INIT:`@@redux/INIT${Pw()}`,REPLACE:`@@redux/REPLACE${Pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pw()}`},Ub=eZ;function w2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function S2(e,t,n){if(typeof e!="function")throw new Error(ar(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(S2)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((_,T)=>{o.set(T,_)}))}function h(){if(u)throw new Error(ar(3));return i}function p(_){if(typeof _!="function")throw new Error(ar(4));if(u)throw new Error(ar(5));let T=!0;f();const N=l++;return o.set(N,_),function(){if(T){if(u)throw new Error(ar(6));T=!1,f(),o.delete(N),a=null}}}function b(_){if(!w2(_))throw new Error(ar(7));if(typeof _.type>"u")throw new Error(ar(8));if(typeof _.type!="string")throw new Error(ar(17));if(u)throw new Error(ar(9));try{u=!0,i=r(i,_)}finally{u=!1}return(a=o).forEach(N=>{N()}),_}function x(_){if(typeof _!="function")throw new Error(ar(10));r=_,b({type:Ub.REPLACE})}function E(){const _=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ar(11));function N(){const M=T;M.next&&M.next(h())}return N(),{unsubscribe:_(N)}},[aM](){return this}}}return b({type:Ub.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:x,[aM]:E}}function tZ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ub.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:Ub.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function a5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{tZ(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],x=o[p],E=b(x,l);if(typeof E>"u")throw l&&l.type,new Error(ar(14));f[p]=E,u=u||E!==x}return u=u||r.length!==Object.keys(o).length,u?f:o}}function oM(e,t){return function(...n){return t(e.apply(this,n))}}function sM(e,t){if(typeof e=="function")return oM(e,t);if(typeof e!="object"||e===null)throw new Error(ar(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=oM(i,t))}return n}function Em(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function o5(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=e.map(u=>u(o));return a=Em(...l)(i.dispatch),{...i,dispatch:a}}}function s5(e){return w2(e)&&"type"in e&&typeof e.type=="string"}var Rw={exports:{}},Lw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lM;function nZ(){if(lM)return Lw;lM=1;var e=rf();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Lw.useSyncExternalStoreWithSelector=function(u,f,h,p,b){var x=i(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=o(function(){function _(D){if(!T){if(T=!0,N=D,D=p(D),b!==void 0&&E.hasValue){var P=E.value;if(b(P,D))return j=P}return j=D}if(P=j,n(N,D))return P;var $=p(D);return b!==void 0&&b(P,$)?(N=D,P):(N=D,j=$)}var T=!1,N,j,M=h===void 0?null:h;return[function(){return _(f())},M===null?void 0:function(){return _(M())}]},[f,h,p,b]);var S=r(u,x[0],x[1]);return a(function(){E.hasValue=!0,E.value=S},[S]),l(S),S},Lw}var cM;function rZ(){return cM||(cM=1,Rw.exports=nZ()),Rw.exports}rZ();var iZ=w.version.startsWith("19"),aZ=Symbol.for(iZ?"react.transitional.element":"react.element"),oZ=Symbol.for("react.portal"),sZ=Symbol.for("react.fragment"),lZ=Symbol.for("react.strict_mode"),cZ=Symbol.for("react.profiler"),uZ=Symbol.for("react.consumer"),dZ=Symbol.for("react.context"),l5=Symbol.for("react.forward_ref"),fZ=Symbol.for("react.suspense"),hZ=Symbol.for("react.suspense_list"),E2=Symbol.for("react.memo"),mZ=Symbol.for("react.lazy"),pZ=l5,gZ=E2;function bZ(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case aZ:switch(e=e.type,e){case sZ:case cZ:case lZ:case fZ:case hZ:return e;default:switch(e=e&&e.$$typeof,e){case dZ:case l5:case mZ:case E2:return e;case uZ:return e;default:return t}}case oZ:return t}}}function yZ(e){return bZ(e)===E2}function vZ(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,f,h,p,b;function x(N,j){return u=N,f=j,h=e(u,f),p=t(r,f),b=n(h,p,f),l=!0,b}function E(){return h=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),b=n(h,p,f),b}function S(){return e.dependsOnOwnProps&&(h=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),b=n(h,p,f),b}function _(){const N=e(u,f),j=!o(N,h);return h=N,j&&(b=n(h,p,f)),b}function T(N,j){const M=!a(j,f),D=!i(N,u,j,f);return u=N,f=j,M&&D?E():M?S():D?_():b}return function(j,M){return l?T(j,M):x(j,M)}}function xZ(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return vZ(a,o,l,e,i)}function _Z(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function EE(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function uM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function c5(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=uM(e);let f=a(l,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=uM(f),f=a(l,u)),f},a}}function k2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function wZ(e){return e&&typeof e=="object"?EE(t=>_Z(e,t)):e?typeof e=="function"?c5(e):k2(e,"mapDispatchToProps"):EE(t=>({dispatch:t}))}function SZ(e){return e?typeof e=="function"?c5(e):k2(e,"mapStateToProps"):EE(()=>({}))}function EZ(e,t,n){return{...n,...e,...t}}function kZ(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,h){const p=e(u,f,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function AZ(e){return e?typeof e=="function"?kZ(e):k2(e,"mergeProps"):()=>EZ}function TZ(e){e()}function jZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var dM={notify(){},get:()=>[]};function u5(e,t){let n,r=dM,i=0,a=!1;function o(S){h();const _=r.subscribe(S);let T=!1;return()=>{T||(T=!0,_(),p())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function f(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=jZ())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dM)}function b(){a||(a=!0,h())}function x(){a&&(a=!1,p())}const E={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return E}var OZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NZ=OZ(),CZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MZ=CZ(),DZ=()=>NZ||MZ?w.useLayoutEffect:w.useEffect,Fb=DZ();function fM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yb(e,t){if(fM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fM(e[n[i]],t[n[i]]))return!1;return!0}var PZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},RZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},LZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IZ={[pZ]:LZ,[gZ]:d5};function hM(e){return yZ(e)?d5:IZ[e.$$typeof]||PZ}var $Z=Object.defineProperty,BZ=Object.getOwnPropertyNames,mM=Object.getOwnPropertySymbols,zZ=Object.getOwnPropertyDescriptor,UZ=Object.getPrototypeOf,pM=Object.prototype;function kE(e,t){if(typeof t!="string"){if(pM){const a=UZ(t);a&&a!==pM&&kE(e,a)}let n=BZ(t);mM&&(n=n.concat(mM(t)));const r=hM(e),i=hM(t);for(let a=0;a<n.length;++a){const o=n[a];if(!RZ[o]&&!(i&&i[o])&&!(r&&r[o])){const l=zZ(t,o);try{$Z(e,o,l)}catch{}}}}return e}var FZ=Symbol.for("react-redux-context"),HZ=typeof globalThis<"u"?globalThis:{};function GZ(){if(!w.createContext)return{};const e=HZ[FZ]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var f5=GZ(),qZ=[null,null];function YZ(e,t,n){Fb(()=>e(...t),n)}function KZ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function WZ(e,t,n,r,i,a,o,l,u,f,h){if(!e)return()=>{};let p=!1,b=null;const x=()=>{if(p||!l.current)return;const S=t.getState();let _,T;try{_=r(S,i.current)}catch(N){T=N,b=N}T||(b=null),_===a.current?o.current||f():(a.current=_,u.current=_,o.current=!0,h())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function VZ(e,t){return e===t}function ZZ(e,t,n,{pure:r,areStatesEqual:i=VZ,areOwnPropsEqual:a=yb,areStatePropsEqual:o=yb,areMergedPropsEqual:l=yb,forwardRef:u=!1,context:f=f5}={}){const h=f,p=SZ(e),b=wZ(t),x=AZ(n),E=!!e;return _=>{const T=_.displayName||_.name||"Component",N=`Connect(${T})`,j={shouldHandleStateChanges:E,displayName:N,wrappedComponentName:T,WrappedComponent:_,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:x,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function M($){const[H,Y,K]=w.useMemo(()=>{const{reactReduxForwardedRef:ve,...Ze}=$;return[$.context,ve,Ze]},[$]),U=w.useMemo(()=>{let ve=h;return H?.Consumer,ve},[H,h]),z=w.useContext(U),Z=!!$.store&&!!$.store.getState&&!!$.store.dispatch,Q=!!z&&!!z.store,V=Z?$.store:z.store,q=Q?z.getServerState:V.getState,J=w.useMemo(()=>xZ(V.dispatch,j),[V]),[re,ue]=w.useMemo(()=>{if(!E)return qZ;const ve=u5(V,Z?void 0:z.subscription),Ze=ve.notifyNestedSubs.bind(ve);return[ve,Ze]},[V,Z,z]),se=w.useMemo(()=>Z?z:{...z,subscription:re},[Z,z,re]),B=w.useRef(void 0),W=w.useRef(K),ae=w.useRef(void 0),X=w.useRef(!1),oe=w.useRef(!1),de=w.useRef(void 0);Fb(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const pe=w.useMemo(()=>()=>ae.current&&K===W.current?ae.current:J(V.getState(),K),[V,K]),ye=w.useMemo(()=>Ze=>re?WZ(E,V,re,J,W,B,X,oe,ae,ue,Ze):()=>{},[re]);YZ(KZ,[W,B,X,K,ae,ue]);let ne;try{ne=w.useSyncExternalStore(ye,pe,q?()=>J(q(),K):pe)}catch(ve){throw de.current&&(ve.message+=`
The error may be correlated with this previous error:
${de.current.stack}

`),ve}Fb(()=>{de.current=void 0,ae.current=void 0,B.current=ne});const je=w.useMemo(()=>w.createElement(_,{...ne,ref:Y}),[Y,_,ne]);return w.useMemo(()=>E?w.createElement(U.Provider,{value:se},je):je,[U,je,se])}const P=w.memo(M);if(P.WrappedComponent=_,P.displayName=M.displayName=N,u){const H=w.forwardRef(function(K,U){return w.createElement(P,{...K,reactReduxForwardedRef:U})});return H.displayName=N,H.WrappedComponent=_,kE(H,_)}return kE(P,_)}}var h5=ZZ;function XZ(e){const{children:t,context:n,serverState:r,store:i}=e,a=w.useMemo(()=>{const u=u5(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);Fb(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||f5;return w.createElement(l.Provider,{value:a},t)}var m5=XZ,JZ="Invariant failed";function QZ(e,t){throw new Error(JZ)}var za=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},A2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},gM=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},eX=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Iw={top:0,right:0,bottom:0,left:0},T2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Iw:r,a=t.border,o=a===void 0?Iw:a,l=t.padding,u=l===void 0?Iw:l,f=za(A2(n,i)),h=za(gM(n,o)),p=za(gM(h,u));return{marginBox:f,borderBox:za(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},ra=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&QZ(),i},tX=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Hb=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=eX(r,n);return T2({borderBox:l,border:i,margin:a,padding:o})},Gb=function(t,n){return n===void 0&&(n=tX()),Hb(t,n)},p5=function(t,n){var r={top:ra(n.marginTop),right:ra(n.marginRight),bottom:ra(n.marginBottom),left:ra(n.marginLeft)},i={top:ra(n.paddingTop),right:ra(n.paddingRight),bottom:ra(n.paddingBottom),left:ra(n.paddingLeft)},a={top:ra(n.borderTopWidth),right:ra(n.borderRightWidth),bottom:ra(n.borderBottomWidth),left:ra(n.borderLeftWidth)};return T2({borderBox:t,margin:r,padding:i,border:a})},g5=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return p5(n,r)},km=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}function b5(e,t){}b5.bind(null,"warn");b5.bind(null,"error");function jl(){}function nX(e,t){return{...e,...t}}function sa(e,t,n){const r=t.map(i=>{const a=nX(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const rX="Invariant failed";class Yb extends Error{}Yb.prototype.toString=function(){return this.message};function Pe(e,t){throw new Yb(rX)}class iX extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=jl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Yb&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=sa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Yb){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const aX=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Kb=e=>e+1,oX=e=>`
  You have lifted an item in position ${Kb(e.source.index)}
`,y5=(e,t)=>{const n=e.droppableId===t.droppableId,r=Kb(e.index),i=Kb(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},v5=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,sX=e=>{const t=e.destination;if(t)return y5(e.source,t);const n=e.combine;return n?v5(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},bM=e=>`
  The item has returned to its starting position
  of ${Kb(e.index)}
`,lX=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${bM(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${y5(e.source,t)}
    `:n?`
      You have dropped the item.
      ${v5(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${bM(e.source)}
  `},vb={dragHandleUsageInstructions:aX,onDragStart:oX,onDragUpdate:sX,onDragEnd:lX};function cX(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function x5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!cX(e[n],t[n]))return!1;return!0}function vt(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),i=w.useRef(n),o=r.current||!!(t&&i.current.inputs&&x5(t,i.current.inputs))?i.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ke(e,t){return vt(()=>e,t)}const lr={x:0,y:0},yr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ri=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ol=(e,t)=>e.x===t.x&&e.y===t.y,uf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),au=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Am=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),yM=(e,t)=>Math.min(...t.map(n=>Am(e,n))),_5=e=>t=>({x:e(t.x),y:e(t.y)});var uX=(e,t)=>{const n=za({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ip=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),vM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],dX={top:0,right:0,bottom:0,left:0},fX=(e,t)=>t?ip(e,t.scroll.diff.displacement):e,hX=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,mX=(e,t)=>t&&t.shouldClipSubject?uX(t.pageMarginBox,e):za(e);var Hd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=fX(e.marginBox,r),a=hX(i,n,t),o=mX(a,r);return{page:e,withPlaceholder:t,active:o}},j2=(e,t)=>{e.frame||Pe();const n=e.frame,r=Ri(t,n.scroll.initial),i=uf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Hd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function sr(e,t=x5){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const w5=sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),S5=sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),pv=sr(e=>Object.values(e)),pX=sr(e=>Object.values(e));var df=sr((e,t)=>pX(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function O2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function gv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var bv=sr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),gX=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!O2(i))return null;function o(x){const E={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...i,at:E}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const f=bv(t,r);if(!u){if(!f.length)return null;const x=f[f.length-1];return o(x.descriptor.id)}const h=f.findIndex(x=>x.descriptor.id===u);h===-1&&Pe();const p=h-1;if(p<0)return null;const b=f[p];return o(b.descriptor.id)},ff=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const E5={point:lr,value:0},Tm={invisible:{},visible:{},all:[]},bX={displaced:Tm,displacedBy:E5,at:null};var fa=(e,t)=>n=>e<=n&&n<=t,k5=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},yX=e=>{const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const N2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},A5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var vX=e=>t=>{const n=fa(t.top,t.bottom),r=fa(t.left,t.right);return i=>e===N2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const xX=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:lr;return ip(e,n)},_X=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,wX=(e,t,n)=>n(t)(e),C2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?xX(e,t):e;return _X(a,t,i)&&wX(a,n,i)},SX=e=>C2({...e,isVisibleThroughFrameFn:k5}),T5=e=>C2({...e,isVisibleThroughFrameFn:yX}),EX=e=>C2({...e,isVisibleThroughFrameFn:vX(e.destination.axis)}),kX=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function AX(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return za(A2(n,r))}function jm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const f=AX(u,n),h=u.descriptor.id;if(l.all.push(h),!SX({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=kX(h,a,i),x={draggableId:h,shouldAnimate:b};return l.visible[h]=x,l},{all:[],visible:{},invisible:{}})}function TX(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function xM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=TX(e,{inHomeList:t});return{displaced:Tm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Wb({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=ff(e,n);if(o==null)return xM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(E=>E.descriptor.index===o);if(!f)return xM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=bv(e,t),p=t.indexOf(f),b=h.slice(p);return{displaced:jm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Cl(e,t){return!!t.effected[e]}var jX=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Cl(a,i)?e?l:l-1:e?l+1:l},OX=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},NX=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const f=o.at;if(f||Pe(),f.type==="REORDER"){const p=OX({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:Wb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=jX({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return h==null?null:Wb({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},CX=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Cl(n,t)?i?lr:uf(r.point):i?r.point:lr},MX=({afterCritical:e,impact:t,draggables:n})=>{const r=gv(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=CX({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return yr(a,o)};const j5=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,DX=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,M2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,_M=({axis:e,moveRelativeTo:t,isMoving:n})=>au(e.line,t.marginBox[e.end]+j5(e,n),M2(e,t.marginBox,n)),wM=({axis:e,moveRelativeTo:t,isMoving:n})=>au(e.line,t.marginBox[e.start]-DX(e,n),M2(e,t.marginBox,n)),PX=({axis:e,moveInto:t,isMoving:n})=>au(e.line,t.contentBox[e.start]+j5(e,n),M2(e,t.contentBox,n));var RX=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=df(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return PX({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,h=u.all[0];if(h){const b=n[h];if(Cl(h,i))return wM({axis:l,moveRelativeTo:b.page,isMoving:o});const x=Hb(b.page,f.point);return wM({axis:l,moveRelativeTo:x,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Cl(p.descriptor.id,i)){const b=Hb(p.page,uf(i.displacedBy.point));return _M({axis:l,moveRelativeTo:b,isMoving:o})}return _M({axis:l,moveRelativeTo:p.page,isMoving:o})},AE=(e,t)=>{const n=e.frame;return n?yr(t,n.scroll.diff.displacement):t};const LX=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?RX({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):MX({impact:e,draggables:r,afterCritical:i})};var yv=e=>{const t=LX(e),n=e.droppable;return n?AE(n,t):t},O5=(e,t)=>{const n=Ri(t,e.scroll.initial),r=uf(n);return{frame:za({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function SM(e,t){return e.map(n=>t[n])}function IX(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var $X=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=O5(t,yr(t.scroll.current,i)),o=n.frame?j2(n,yr(n.frame.scroll.current,i)):n,l=e.displaced,u=jm({afterDragging:SM(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),f=jm({afterDragging:SM(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,f];return l.all.forEach(E=>{const S=IX(E,b);if(S){p[E]=S;return}h[E]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},BX=(e,t)=>yr(e.scroll.diff.displacement,t),D2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=BX(n,e),i=Ri(r,t.page.borderBox.center);return yr(t.client.borderBox.center,i)},N5=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ri(n,e.page.borderBox.center),u={target:ip(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?EX(u):T5(u)},zX=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const f=df(n.descriptor.id,r),h=ff(t,n),p=gX({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||NX({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=yv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(N5({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:D2({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const E=Ri(b,o),S=$X({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:E});return{clientSelection:l,impact:S,scrollJumpRequest:E}};const Lr=e=>{const t=e.subject.active;return t||Pe(),t};var UX=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=fa(a[o.start],a[o.end]),u=pv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>k5(i.frame)(Lr(h))).filter(h=>{const p=Lr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Lr(h),b=fa(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=Lr(h)[o.crossAxisStart],x=Lr(p)[o.crossAxisStart];return e?b-x:x-b}).filter((h,p,b)=>Lr(h)[o.crossAxisStart]===Lr(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(h=>fa(Lr(h)[o.start],Lr(h)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((h,p)=>Lr(h)[o.start]-Lr(p)[o.start])[0]:u.sort((h,p)=>{const b=yM(t,vM(Lr(h))),x=yM(t,vM(Lr(p)));return b!==x?b-x:Lr(h)[o.start]-Lr(p)[o.start]})[0]};const EM=(e,t)=>{const n=e.page.borderBox.center;return Cl(e.descriptor.id,t)?Ri(n,t.displacedBy.point):n},FX=(e,t)=>{const n=e.page.borderBox;return Cl(e.descriptor.id,t)?ip(n,uf(t.displacedBy.point)):n};var HX=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>T5({target:FX(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Am(e,AE(n,EM(o,i))),f=Am(e,AE(n,EM(l,i)));return u<f?-1:f<u?1:o.descriptor.index-l.descriptor.index})[0]||null,ap=sr(function(t,n){const r=n[t.line];return{value:r,point:au(t.line,r)}});const GX=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return au(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=df(e.descriptor.id,n).reduce((f,h)=>f+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:au(r.line,u)},C5=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),M5=(e,t,n)=>{const r=e.frame;ff(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=ap(e.axis,t.displaceBy).point,a=GX(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Hd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?yr(r.scroll.max,a):r.scroll.max,u=C5(r,l),f=Hd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},qX=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=Hd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=C5(n,r),a=Hd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var YX=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Tm,displacedBy:E5,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=yv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),x=ff(r,a)?a:M5(a,r,i);return N5({draggable:r,destination:x,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=ap(a.axis,r.displaceBy);return Wb({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Tm,index:f})},KX=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=UX({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=df(u.descriptor.id,i),h=HX({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:l}),p=YX({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:f,viewport:o,afterCritical:l});if(!p)return null;const b=yv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:D2({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Ii=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const WX=(e,t)=>{const n=Ii(e);return n?t[n]:null};var VX=({state:e,type:t})=>{const n=WX(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?zX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):KX({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function zc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function D5(e){const t=fa(e.top,e.bottom),n=fa(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function ZX(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function XX({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=au(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Am(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function JX({pageBorderBox:e,draggable:t,droppables:n}){const r=pv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!ZX(e,a))return!1;if(D5(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],h=fa(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(f);return!p&&!b?!0:p?u<l:f>l});return r.length?r.length===1?r[0].descriptor.id:XX({pageBorderBox:e,draggable:t,candidates:r}):null}const P5=(e,t)=>za(ip(e,t));var QX=(e,t)=>{const n=e.frame;return n?P5(t,n.scroll.diff.value):t};function R5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function eJ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var tJ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=ap(n.axis,t.displaceBy),f=u.value,h=e[l.start],p=e[l.end],x=bv(t,r).find(S=>{const _=S.descriptor.id,T=S.page.borderBox.center[l.line],N=Cl(_,o),j=R5({displaced:i,id:_});return N?j?p<=T:h<T-f:j?p<=T+f:h<T})||null,E=eJ({draggable:t,closest:x,inHomeList:ff(t,n)});return Wb({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:E})};const nJ=4;var rJ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=ap(r.axis,e.displaceBy),u=l.value,f=t[o.start],h=t[o.end],b=bv(e,i).find(E=>{const S=E.descriptor.id,_=E.page.borderBox,N=_[o.size]/nJ,j=Cl(S,a),M=R5({displaced:n.displaced,id:S});return j?M?h>_[o.start]+N&&h<_[o.end]-N:f>_[o.start]-u+N&&f<_[o.end]-u-N:M?h>_[o.start]+u+N&&h<_[o.end]+u-N:f>_[o.start]+N&&f<_[o.end]-N});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},L5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=P5(t.page.borderBox,e),u=JX({pageBorderBox:l,draggable:t,droppables:r});if(!u)return bX;const f=r[u],h=df(f.descriptor.id,n),p=QX(f,l);return rJ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:h,afterCritical:o})||tJ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},P2=(e,t)=>({...e,[t.descriptor.id]:t});const iJ=({previousImpact:e,impact:t,droppables:n})=>{const r=Ii(e),i=Ii(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=qX(a);return P2(n,o)};var aJ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=iJ({previousImpact:r,impact:i,droppables:n}),o=Ii(i);if(!o)return a;const l=n[o];if(ff(e,l)||l.subject.withPlaceholder)return a;const u=M5(l,e,t);return P2(a,u)},hm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,f=Ri(u,e.initial.client.selection),h={offset:f,selection:u,borderBoxCenter:yr(e.initial.client.borderBoxCenter,f)},p={selection:yr(h.selection,o.scroll.current),borderBoxCenter:yr(h.borderBoxCenter,o.scroll.current),offset:yr(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const x=l.draggables[e.critical.draggable.id],E=i||L5({pageOffset:p.offset,draggable:x,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),S=aJ({draggable:x,impact:E,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:S},impact:E,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function oJ(e,t){return e.map(n=>t[n])}var I5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=oJ(a.all,n),l=jm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},$5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=yv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return D2({pageBorderBoxCenter:o,draggable:t,viewport:i})},B5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],f=Ii(r);f||Pe();const h=l[f],p=I5({impact:r,viewport:i,destination:h,draggables:o}),b=$5({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return hm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},sJ=e=>({index:e.index,droppableId:e.droppableId}),z5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=ap(t.axis,e.displaceBy),a=df(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const l=a.slice(o+1),u=l.reduce((b,x)=>(b[x.descriptor.id]=!0,b),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:jm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:sJ(e.descriptor)}},afterCritical:f}},lJ=(e,t)=>({draggables:e.draggables,droppables:P2(e.droppables,t)}),cJ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Hb(e.client,t),i=Gb(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},uJ=e=>{const t=e.frame;return t||Pe(),t},dJ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=uJ(o).scroll.diff.value,f=yr(r,u);return cJ({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},fJ=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return j2(N,T.scroll)}),r={...e.dimensions.droppables,...w5(n)},i=S5(dJ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},l=Ii(e.impact),u=l?o.droppables[l]:null,f=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=z5({draggable:f,home:h,draggables:a,viewport:e.viewport}),x=u&&u.isCombineEnabled?e.impact:p,E=L5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:x,viewport:e.viewport,afterCritical:b}),S={...e,phase:"DRAGGING",impact:E,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?S:{...S,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const TE=e=>e.movementMode==="SNAP",$w=(e,t,n)=>{const r=lJ(e.dimensions,t);return!TE(e)||n?hm({state:e,dimensions:r}):B5({state:e,dimensions:r})};function Bw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const kM={phase:"IDLE",completed:null,shouldFlush:!1};var hJ=(e=kM,t)=>{if(t.type==="FLUSH")return{...kM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:l.client.borderBox.center,offset:lr},h={client:f,page:{selection:yr(f.selection,i.scroll.initial),borderBoxCenter:yr(f.selection,i.scroll.initial),offset:yr(f.selection,i.scroll.diff.value)}},p=pv(a.droppables).every(S=>!S.isFixedOnPage),{impact:b,afterCritical:x}=z5({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:x,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),fJ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;zc(e)||Pe();const{client:n}=t.payload;return Ol(n,e.current.client.selection)?e:hm({state:e,clientSelection:n,impact:TE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Bw(e);zc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=j2(i,r);return $w(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;zc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return $w(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;zc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return $w(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;zc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(Ol(e.viewport.scroll.current,n))return Bw(e);const r=O5(e.viewport,n);return TE(e)?B5({state:e,viewport:r}):hm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!zc(e))return e;const n=t.payload.maxScroll;if(Ol(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=VX({state:e,type:t.type});return n?hm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const mJ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),pJ=e=>({type:"LIFT",payload:e}),gJ=e=>({type:"INITIAL_PUBLISH",payload:e}),bJ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),yJ=()=>({type:"COLLECTION_STARTING",payload:null}),vJ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),xJ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),_J=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),U5=e=>({type:"MOVE",payload:e}),wJ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),SJ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),EJ=()=>({type:"MOVE_UP",payload:null}),kJ=()=>({type:"MOVE_DOWN",payload:null}),AJ=()=>({type:"MOVE_RIGHT",payload:null}),TJ=()=>({type:"MOVE_LEFT",payload:null}),R2=()=>({type:"FLUSH",payload:null}),jJ=e=>({type:"DROP_ANIMATE",payload:e}),L2=e=>({type:"DROP_COMPLETE",payload:e}),F5=e=>({type:"DROP",payload:e}),OJ=e=>({type:"DROP_PENDING",payload:e}),H5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var NJ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(L2({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n(R2()),n(mJ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:x}=e.startPublishing(h);n(gJ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:x}))},CJ=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const I2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Om={opacity:{drop:0,combining:.7},scale:{drop:.75}},G5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Nc=`${G5.outOfTheWay}s ${I2.outOfTheWay}`,mm={fluid:`opacity ${Nc}`,snap:`transform ${Nc}, opacity ${Nc}`,drop:e=>{const t=`${e}s ${I2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Nc}`,placeholder:`height ${Nc}, width ${Nc}, margin ${Nc}`},AM=e=>Ol(e,lr)?void 0:`translate(${e.x}px, ${e.y}px)`,jE={moveTo:AM,drop:(e,t)=>{const n=AM(e);if(n)return t?`${n} scale(${Om.scale.drop})`:n}},{minDropTime:OE,maxDropTime:q5}=G5,MJ=q5-OE,TM=1500,DJ=.6;var PJ=({current:e,destination:t,reason:n})=>{const r=Am(e,t);if(r<=0)return OE;if(r>=TM)return q5;const i=r/TM,a=OE+MJ*i,o=n==="CANCEL"?a*DJ:a;return Number(o.toFixed(2))},RJ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Ii(e),u=l?o[l]:null,f=o[t.descriptor.droppableId],h=$5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Ri(h,t.client.borderBox.center)},LJ=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:I5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Tm},didDropInsideDroppable:!0};const IJ=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(OJ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const l=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=LJ({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?O2(h):null,x=p?gv(h):null,E={index:l.draggable.index,droppableId:l.droppable.id},S={draggableId:f.descriptor.id,type:f.descriptor.type,source:E,reason:a,mode:i.movementMode,destination:b,combine:x},_=RJ({impact:h,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:S,impact:h};if(!(!Ol(i.current.client.offset,_)||!!S.combine)){t(L2({completed:T}));return}const j=PJ({current:i.current.client.offset,destination:_,reason:a});t(jJ({newHomeClientOffset:_,dropDuration:j,completed:T}))};var Y5=()=>({x:window.pageXOffset,y:window.pageYOffset});function $J(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function BJ({onWindowScroll:e}){function t(){e(Y5())}const n=km(t),r=$J(n);let i=jl;function a(){return i!==jl}function o(){a()&&Pe(),i=sa(window,[r])}function l(){a()||Pe(),n.cancel(),i(),i=jl}return{start:o,stop:l,isActive:a}}const zJ=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),UJ=e=>{const t=BJ({onWindowScroll:n=>{e.dispatch(wJ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&zJ(r)&&t.stop(),n(r)}};var FJ=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},HJ=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const GJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,qJ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,YJ=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Dh=(e,t)=>{t()},v0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function zw(e,t,n,r){if(!e){n(r(t));return}const i=FJ(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var KJ=(e,t)=>{const n=HJ();let r=null;const i=(p,b)=>{r&&Pe(),Dh("onBeforeCapture",()=>{const x=e().onBeforeCapture;x&&x({draggableId:p,mode:b})})},a=(p,b)=>{r&&Pe(),Dh("onBeforeDragStart",()=>{const x=e().onBeforeDragStart;x&&x(v0(p,b))})},o=(p,b)=>{r&&Pe();const x=v0(p,b);r={mode:b,lastCritical:p,lastLocation:x.source,lastCombine:null},n.add(()=>{Dh("onDragStart",()=>zw(e().onDragStart,x,t,vb.onDragStart))})},l=(p,b)=>{const x=O2(b),E=gv(b);r||Pe();const S=!YJ(p,r.lastCritical);S&&(r.lastCritical=p);const _=!GJ(r.lastLocation,x);_&&(r.lastLocation=x);const T=!qJ(r.lastCombine,E);if(T&&(r.lastCombine=E),!S&&!_&&!T)return;const N={...v0(p,r.mode),combine:E,destination:x};n.add(()=>{Dh("onDragUpdate",()=>zw(e().onDragUpdate,N,t,vb.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},f=p=>{r||Pe(),r=null,Dh("onDragEnd",()=>zw(e().onDragEnd,p,t,vb.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:f,abort:()=>{if(!r)return;const p={...v0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},WJ=(e,t)=>{const n=KJ(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const VJ=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(L2({completed:r.completed}))},ZJ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(H5())}};n=requestAnimationFrame(()=>{n=null,t=sa(window,[o])})}};var XJ=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},JJ=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const QJ=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var eQ=e=>t=>n=>r=>{if(QJ(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const tQ=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(F5({reason:r.reason})))},nQ=Em;var rQ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>S2(hJ,nQ(o5(CJ(n),XJ(e),NJ(e),IJ,VJ,ZJ,tQ,eQ(a),UJ,JJ(t),WJ(r,i))));const Uw=()=>({additions:{},removals:{},modified:{}});function iQ({registry:e,callbacks:t}){let n=Uw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:h}=n,p=Object.keys(u).map(E=>e.draggable.getById(E).getDimension(lr)).sort((E,S)=>E.descriptor.index-S.descriptor.index),b=Object.keys(h).map(E=>{const _=e.droppable.getById(E).callbacks.getScrollWhileDragging();return{droppableId:E,scroll:_}}),x={additions:p,removals:Object.keys(f),modified:b};n=Uw(),t.publish(x)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Uw())}}}var K5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ri({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},W5=()=>{const e=document.documentElement;return e||Pe(),e},V5=()=>{const e=W5();return K5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},aQ=()=>{const e=Y5(),t=V5(),n=e.y,r=e.x,i=W5(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:za({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:lr,displacement:lr}}}},oQ=({critical:e,scrollOptions:t,registry:n})=>{const r=aQ(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:S5(l),droppables:w5(o)},critical:e,viewport:r}};function jM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var sQ=(e,t)=>{let n=null;const r=iQ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,x)=>{e.droppable.exists(b)||Pe(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:x})},a=(b,x)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:x}))},o=(b,x)=>{n&&(e.droppable.exists(b)||Pe(),t.updateDroppableScroll({id:b,newScroll:x}))},l=(b,x)=>{n&&e.droppable.getById(b).callbacks.scroll(x)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},f=b=>{n||Pe();const x=n.critical.draggable;b.type==="ADDITION"&&jM(e,x,b.value)&&r.add(b.value),b.type==="REMOVAL"&&jM(e,x,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Pe();const x=e.draggable.getById(b.draggableId),E=e.droppable.getById(x.descriptor.droppableId),S={draggable:x.descriptor,droppable:E.descriptor},_=e.subscribe(f);return n={critical:S,unsubscribe:_},oQ({critical:S,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},Z5=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",lQ=e=>{window.scrollBy(e.x,e.y)};const cQ=sr(e=>pv(e).filter(t=>!(!t.isEnabled||!t.frame))),uQ=(e,t)=>cQ(t).find(r=>(r.frame||Pe(),D5(r.frame.pageMarginBox)(e)))||null;var dQ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return uQ(e,n)};const Nm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var fQ=(e,t,n=()=>Nm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},X5=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},$2=1,hQ=(e,t,n=()=>Nm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return $2;const a=1-X5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},mQ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return $2;const h=X5({startOfRange:i,endOfRange:l,current:f}),p=e*r.ease(h);return Math.ceil(p)},OM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=hQ(e,t,i);return a===0?0:r?Math.max(mQ(a,n,i),$2):a},NM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=fQ(e,r,a);return t[r.end]<t[r.start]?OM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*OM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},pQ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const gQ=_5(e=>e===0?0:e);var J5=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=NM({container:t,distanceToEdges:o,dragStartTime:e,axis:N2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=NM({container:t,distanceToEdges:o,dragStartTime:e,axis:A5,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=gQ({x:u,y:l});if(Ol(f,lr))return null;const h=pQ({container:t,subject:n,proposedScroll:f});return h?Ol(h,lr)?null:h:null};const bQ=_5(e=>e===0?0:e>0?1:-1),B2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=yr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Ol(a,lr)?null:a}})(),Q5=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=bQ(n),a=B2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},z2=(e,t)=>Q5({current:e.scroll.current,max:e.scroll.max,change:t}),yQ=(e,t)=>{if(!z2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return B2({current:r,max:n,change:t})},U2=(e,t)=>{const n=e.frame;return n?Q5({current:n.scroll.current,max:n.scroll.max,change:t}):!1},vQ=(e,t)=>{const n=e.frame;return!n||!U2(e,t)?null:B2({current:n.scroll.current,max:n.scroll.max,change:t})};var xQ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=J5({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&z2(e,o)?o:null},_Q=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=J5({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&U2(e,l)?l:null},CM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=xQ({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const f=dQ({center:o,destination:Ii(e.impact),droppables:e.dimensions.droppables});if(!f)return;const h=_Q({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(f.descriptor.id,h)},wQ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Nm})=>{const r=km(e),i=km(t);let a=null;const o=f=>{a||Pe();const{shouldUseTimeDampening:h,dragStartTime:p}=a;CM({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:f=>{a&&Pe();const h=Date.now();let p=!1;const b=()=>{p=!0};CM({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},SQ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const f=yr(l.current.client.selection,u);e({client:f})},i=(l,u)=>{if(!U2(l,u))return u;const f=vQ(l,u);if(!f)return t(l.descriptor.id,u),null;const h=Ri(u,f);return t(l.descriptor.id,h),Ri(u,h)},a=(l,u,f)=>{if(!l||!z2(u,f))return f;const h=yQ(u,f);if(!h)return n(f),null;const p=Ri(f,h);return n(p),Ri(f,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const f=Ii(l.impact);f||Pe();const h=i(l.dimensions.droppables[f],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},EQ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=wQ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=SQ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Gd="data-rfd",qd=(()=>{const e=`${Gd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),NE=(()=>{const e=`${Gd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),kQ=(()=>{const e=`${Gd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),MM={contextId:`${Gd}-scroll-container-context-id`},AQ=e=>t=>`[${t}="${e}"]`,Ph=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),TQ="pointer-events: none;";var jQ=e=>{const t=AQ(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(qd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:TQ,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${mm.outOfTheWay};
    `;return{selector:t(NE.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(kQ.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ph(o,"always"),resting:Ph(o,"resting"),dragging:Ph(o,"dragging"),dropAnimating:Ph(o,"dropAnimating"),userCancel:Ph(o,"userCancel")}};const $i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,Fw=()=>{const e=document.querySelector("head");return e||Pe(),e},DM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function OQ(e,t){const n=vt(()=>jQ(e),[e]),r=w.useRef(null),i=w.useRef(null),a=Ke(sr(p=>{const b=i.current;b||Pe(),b.textContent=p}),[]),o=Ke(p=>{const b=r.current;b||Pe(),b.textContent=p},[]);$i(()=>{!r.current&&!i.current||Pe();const p=DM(t),b=DM(t);return r.current=p,i.current=b,p.setAttribute(`${Gd}-always`,e),b.setAttribute(`${Gd}-dynamic`,e),Fw().appendChild(p),Fw().appendChild(b),o(n.always),a(n.resting),()=>{const x=E=>{const S=E.current;S||Pe(),Fw().removeChild(S),E.current=null};x(r),x(i)}},[t,o,a,n.always,n.resting,e]);const l=Ke(()=>a(n.dragging),[a,n.dragging]),u=Ke(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ke(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:l,dropping:u,resting:f}),[l,u,f])}function e4(e,t){return Array.from(e.querySelectorAll(t))}var t4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function vv(e){return e instanceof t4(e).HTMLElement}function NQ(e,t){const n=`[${qd.contextId}="${e}"]`,r=e4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(qd.draggableId)===t);return!i||!vv(i)?null:i}function CQ(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),i=w.useRef(!1),a=Ke(function(b,x){const E={id:b,focus:x};return t.current[b]=E,function(){const _=t.current;_[b]!==E&&delete _[b]}},[]),o=Ke(function(b){const x=NQ(e,b);x&&x!==document.activeElement&&x.focus()},[e]),l=Ke(function(b,x){n.current===b&&(n.current=x)},[]),u=Ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),f=Ke(function(b){n.current=null;const x=document.activeElement;x&&x.getAttribute(qd.draggableId)===b&&(n.current=b)},[]);return $i(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),vt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,f,u,l])}function MQ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const x=t.indexOf(p);x!==-1&&t.splice(x,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Pe(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const x=e.draggables[b.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,x=i(b);x&&p.uniqueId===x.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Pe(),b}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:h}}function DQ(){const e=vt(MQ,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var F2=Wt.createContext(null),Vb=()=>{const e=document.body;return e||Pe(),e};const PQ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},RQ=e=>`rfd-announcement-${e}`;function LQ(e){const t=vt(()=>RQ(e),[e]),n=w.useRef(null);return w.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),qb(a.style,PQ),Vb().appendChild(a),function(){setTimeout(function(){const u=Vb();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ke(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const IQ={separator:"::"};function H2(e,t=IQ){const n=Wt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function $Q({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function BQ({contextId:e,text:t}){const n=H2("hidden-text",{separator:"-"}),r=vt(()=>$Q({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Vb().appendChild(a),function(){const l=Vb();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var xv=Wt.createContext(null);function n4(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function zQ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const l={abandon:o};return e=l,l}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Cm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const UQ=9,FQ=13,G2=27,r4=32,HQ=33,GQ=34,qQ=35,YQ=36,KQ=37,WQ=38,VQ=39,ZQ=40,XQ={[FQ]:!0,[UQ]:!0};var i4=e=>{XQ[e.keyCode]&&e.preventDefault()};const _v=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),a4=0,PM=5;function JQ(e,t){return Math.abs(t.x-e.x)>=PM||Math.abs(t.y-e.y)>=PM}const RM={type:"IDLE"};function QQ({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==a4)return;const u={x:o,y:l},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&Pe();const h=f.point;if(!JQ(h,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===G2){i.preventDefault(),e();return}i4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:_v,fn:e}]}function eee(e){const t=w.useRef(RM),n=w.useRef(jl),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==a4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const x=e.tryGetLock(b,o,{sourceEvent:p});if(!x)return;p.preventDefault();const E={x:p.clientX,y:p.clientY};n.current(),f(x,E)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Ke(function(){const p={passive:!1,capture:!0};n.current=sa(window,[i,r],p)},[i,r]),o=Ke(()=>{t.current.type!=="IDLE"&&(t.current=RM,n.current(),a())},[a]),l=Ke(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Ke(function(){const p={capture:!0,passive:!1},b=QQ({cancel:l,completed:o,getPhase:()=>t.current,setPhase:x=>{t.current=x}});n.current=sa(window,b,p)},[l,o]),f=Ke(function(p,b){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);$i(function(){return a(),function(){n.current()}},[a])}function tee(){}const nee={[GQ]:!0,[HQ]:!0,[YQ]:!0,[qQ]:!0};function ree(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===G2){i.preventDefault(),n();return}if(i.keyCode===r4){i.preventDefault(),r();return}if(i.keyCode===ZQ){i.preventDefault(),e.moveDown();return}if(i.keyCode===WQ){i.preventDefault(),e.moveUp();return}if(i.keyCode===VQ){i.preventDefault(),e.moveRight();return}if(i.keyCode===KQ){i.preventDefault(),e.moveLeft();return}if(nee[i.keyCode]){i.preventDefault();return}i4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:_v,fn:n}]}function iee(e){const t=w.useRef(tee),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==r4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const f=l.snapLift();t.current();function h(){u||Pe(),u=!1,t.current(),r()}t.current=sa(window,ree(f,h),{capture:!0,passive:!1})}}),[e]),r=Ke(function(){const a={passive:!1,capture:!0};t.current=sa(window,[n],a)},[n]);$i(function(){return r(),function(){t.current()}},[r])}const Hw={type:"IDLE"},aee=120,oee=.15;function see({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===G2&&n.preventDefault(),e()}},{eventName:_v,fn:e}]}function lee({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=oee))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:_v,fn:e}]}function cee(e){const t=w.useRef(Hw),n=w.useRef(jl),r=Ke(function(){return t.current},[]),i=Ke(function(x){t.current=x},[]),a=vt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const E=e.findClosestDraggableId(x);if(!E)return;const S=e.tryGetLock(E,l,{sourceEvent:x});if(!S)return;const _=x.touches[0],{clientX:T,clientY:N}=_,j={x:T,y:N};n.current(),p(S,j)}}),[e]),o=Ke(function(){const x={capture:!0,passive:!1};n.current=sa(window,[a],x)},[a]),l=Ke(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(Hw),n.current(),o())},[o,i]),u=Ke(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),f=Ke(function(){const x={capture:!0,passive:!1},E={cancel:u,completed:l,getPhase:r},S=sa(window,lee(E),x),_=sa(window,see(E),x);n.current=function(){S(),_()}},[u,r,l]),h=Ke(function(){const x=r();x.type!=="PENDING"&&Pe();const E=x.actions.fluidLift(x.point);i({type:"DRAGGING",actions:E,hasMoved:!1})},[r,i]),p=Ke(function(x,E){r().type!=="IDLE"&&Pe();const S=setTimeout(h,aee);i({type:"PENDING",point:E,actions:x,longPressTimerId:S}),f()},[f,r,i,h]);$i(function(){return o(),function(){n.current();const E=r();E.type==="PENDING"&&(clearTimeout(E.longPressTimerId),i(Hw))}},[r,o,i]),$i(function(){return sa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const uee=["input","button","textarea","select","option","optgroup","video","audio"];function o4(e,t){if(t==null)return!1;if(uee.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:o4(e,t.parentElement)}function dee(e,t){const n=t.target;return vv(n)?o4(e,n):!1}var fee=e=>za(e.getBoundingClientRect()).center;function hee(e){return e instanceof t4(e).Element}const mee=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function s4(e,t){return e==null?null:e[mee](t)?e:s4(e.parentElement,t)}function pee(e,t){return e.closest?e.closest(t):s4(e,t)}function gee(e){return`[${qd.contextId}="${e}"]`}function bee(e,t){const n=t.target;if(!hee(n))return null;const r=gee(e),i=pee(n,r);return!i||!vv(i)?null:i}function yee(e,t){const n=bee(e,t);return n?n.getAttribute(qd.draggableId):null}function vee(e,t){const n=`[${NE.contextId}="${e}"]`,i=e4(document,n).find(a=>a.getAttribute(NE.id)===t);return!i||!vv(i)?null:i}function xee(e){e.preventDefault()}function x0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function l4({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!Z5(t.getState(),r))}function _ee({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!l4({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=vee(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&dee(f,o))return null;const h=e.claim(a||jl);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function x(){return e.isActive(h)}function E(D,P){x0({expected:D,phase:p,isLockActive:x,shouldWarn:!0})&&n.dispatch(P())}const S=E.bind(null,"DRAGGING");function _(D){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Pe()),n.dispatch(pJ(D.liftActionArgs)),p="DRAGGING";function $(H,Y={shouldBlockNextClick:!1}){if(D.cleanup(),Y.shouldBlockNextClick){const K=sa(window,[{eventName:"click",fn:xee,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}P(),n.dispatch(F5({reason:H}))}return{isActive:()=>x0({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:b,drop:H=>$("DROP",H),cancel:H=>$("CANCEL",H),...D.actions}}function T(D){const P=km(H=>{S(()=>U5({client:H}))});return{..._({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function N(){const D={moveUp:()=>S(EJ),moveRight:()=>S(AJ),moveDown:()=>S(kJ),moveLeft:()=>S(TJ)};return _({liftActionArgs:{id:i,clientSelection:fee(f),movementMode:"SNAP"},cleanup:jl,actions:D})}function j(){x0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0})&&e.release()}return{isActive:()=>x0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:T,snapLift:N,abort:j}}const wee=[eee,iee,cee];function See({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?wee:[],...r||[]],o=w.useState(()=>zQ())[0],l=Ke(function(_,T){Cm(_)&&!Cm(T)&&o.tryAbandon()},[o]);$i(function(){let _=t.getState();return t.subscribe(()=>{const N=t.getState();l(_,N),_=N})},[o,t,l]),$i(()=>o.tryAbandon,[o.tryAbandon]);const u=Ke(S=>l4({lockAPI:o,registry:n,store:t,draggableId:S}),[o,n,t]),f=Ke((S,_,T)=>_ee({lockAPI:o,registry:n,contextId:e,store:t,draggableId:S,forceSensorStop:_||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),h=Ke(S=>yee(e,S),[e]),p=Ke(S=>{const _=n.draggable.findById(S);return _?_.options:null},[n.draggable]),b=Ke(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(R2()))},[o,t]),x=Ke(()=>o.isClaimed(),[o]),E=vt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:x}),[u,f,h,p,b,x]);for(let S=0;S<a.length;S++)a[S](E)}const Eee=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};sf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),kee=e=>({...Nm,...e.autoScrollerOptions,durationDampening:{...Nm.durationDampening,...e.autoScrollerOptions}});function Rh(e){return e.current||Pe(),e.current}function Aee(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=w.useRef(null),l=n4(e),u=Ke(()=>Eee(l.current),[l]),f=Ke(()=>kee(l.current),[l]),h=LQ(t),p=BQ({contextId:t,text:a}),b=OQ(t,i),x=Ke(K=>{Rh(o).dispatch(K)},[]),E=vt(()=>sM({publishWhileDragging:bJ,updateDroppableScroll:vJ,updateDroppableIsEnabled:xJ,updateDroppableIsCombineEnabled:_J,collectionStarting:yJ},x),[x]),S=DQ(),_=vt(()=>sQ(S,E),[S,E]),T=vt(()=>EQ({scrollWindow:lQ,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:f,...sM({move:U5},x)}),[_.scrollDroppable,x,f]),N=CQ(t),j=vt(()=>rQ({announce:h,autoScroller:T,dimensionMarshal:_,focusMarshal:N,getResponders:u,styleMarshal:b}),[h,T,_,N,u,b]);o.current=j;const M=Ke(()=>{const K=Rh(o);K.getState().phase!=="IDLE"&&K.dispatch(R2())},[]),D=Ke(()=>{const K=Rh(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),P=vt(()=>({isDragging:D,tryAbort:M}),[D,M]);n(P);const $=Ke(K=>Z5(Rh(o).getState(),K),[]),H=Ke(()=>zc(Rh(o).getState()),[]),Y=vt(()=>({marshal:_,focus:N,contextId:t,canLift:$,isMovementAllowed:H,dragHandleUsageInstructionsId:p,registry:S}),[t,_,p,N,$,H,S]);return See({contextId:t,store:j,registry:S,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>M,[M]),Wt.createElement(xv.Provider,{value:Y},Wt.createElement(m5,{context:F2,store:j},e.children))}function Tee(){return Wt.useId()}function op(e){const t=Tee(),n=e.dragHandleUsageInstructions||vb.dragHandleUsageInstructions;return Wt.createElement(iX,null,r=>Wt.createElement(Aee,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const LM={dragging:5e3,dropAnimating:4500},jee=(e,t)=>t?mm.drop(t.duration):e?mm.snap:mm.fluid,Oee=(e,t)=>{if(e)return t?Om.opacity.drop:Om.opacity.combining},Nee=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Cee(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Nee(e),u=!!a,f=u?jE.drop(r,o):jE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:jee(l,a),transform:f,opacity:Oee(o,u),zIndex:u?LM.dropAnimating:LM.dragging,pointerEvents:"none"}}function Mee(e){return{transform:jE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Dee(e){return e.type==="DRAGGING"?Cee(e):Mee(e)}function Pee(e,t,n=lr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=p5(i,r),o=Gb(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Ree(e){const t=H2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),f=Ke(x=>{const E=i();return E||Pe(),Pee(n,E,x)},[n,i]),h=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=w.useRef(h),b=w.useRef(!0);$i(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),$i(()=>{if(b.current){b.current=!1;return}const x=p.current;p.current=h,r.draggable.update(h,x)},[h,r.draggable])}var q2=Wt.createContext(null);function Zb(e){const t=w.useContext(e);return t||Pe(),t}function Lee(e){e.preventDefault()}const Iee=e=>{const t=w.useRef(null),n=Ke((P=null)=>{t.current=P},[]),r=Ke(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Zb(xv),{type:l,droppableId:u}=Zb(q2),f=vt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:x,canDragInteractiveElements:E,isClone:S,mapped:_,dropAnimationFinished:T}=e;if(!S){const P=vt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:E,shouldRespectForcePress:x,isEnabled:b}),[f,o,r,E,x,b]);Ree(P)}const N=vt(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Lee}:null,[i,a,p,b]),j=Ke(P=>{_.type==="DRAGGING"&&_.dropping&&P.propertyName==="transform"&&sf.flushSync(T)},[T,_]),M=vt(()=>{const P=Dee(_),$=_.type==="DRAGGING"&&_.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,_,j,n]),D=vt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Wt.createElement(Wt.Fragment,null,h(M,_.snapshot,D))};var c4=(e,t)=>e===t,u4=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const $ee=e=>e.combine?e.combine.draggableId:null,Bee=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function zee(){const e=sr((i,a)=>({x:i,y:a})),t=sr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=sr((i,a,o,l,u=null,f=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,f,null)}}));return(i,a)=>{if(Cm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Ii(i.impact),f=Bee(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,f,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,h=f.mode,p=u4(f),b=$ee(f),E={duration:i.dropDuration,curve:I2.drop,moveTo:i.newHomeClientOffset,opacity:b?Om.opacity.drop:null,scale:b?Om.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:E,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,E)}}}return null}}function d4(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Uee={mapped:{type:"SECONDARY",offset:lr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:d4(null)}};function Fee(){const e=sr((o,l)=>({x:o,y:l})),t=sr(d4),n=sr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(lr,o,!0):null,i=(o,l,u,f)=>{const h=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),b=gv(u),x=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(x);if(u.displaced.invisible[o])return null;const _=uf(f.displacedBy.point),T=e(_.x,_.y);return n(T,x,!0)}if(p)return r(x);const E=u.displacedBy.point,S=e(E.x,E.y);return n(S,x,h.shouldAnimate)};return(o,l)=>{if(Cm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const Hee=()=>{const e=zee(),t=Fee();return(r,i)=>e(r,i)||t(r,i)||Uee},Gee={dropAnimationFinished:H5},qee=h5(Hee,Gee,null,{context:F2,areStatePropsEqual:c4})(Iee);function f4(e){return Zb(q2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(qee,e)}function hf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(f4,qb({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const h4=e=>t=>e===t,Yee=h4("scroll"),Kee=h4("auto"),IM=(e,t)=>t(e.overflowX)||t(e.overflowY),Wee=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return IM(n,Yee)||IM(n,Kee)},Vee=()=>!1,m4=e=>e==null?null:e===document.body?Vee()?e:null:e===document.documentElement?null:Wee(e)?e:m4(e.parentElement);var CE=e=>({x:e.scrollLeft,y:e.scrollTop});const p4=e=>e?window.getComputedStyle(e).position==="fixed"?!0:p4(e.parentElement):!1;var Zee=e=>{const t=m4(e),n=p4(e);return{closestScrollable:t,isFixedOnPage:n}},Xee=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:x}=l,E=K5({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:x,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:E,diff:{value:lr,displacement:lr}}}})(),f=i==="vertical"?N2:A5,h=Hd({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:h}};const Jee=(e,t)=>{const n=g5(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=A2({top:r,right:o,bottom:a,left:i},n.border);return T2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var Qee=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,f=Jee(e,u),h=Gb(f,r),p=(()=>{if(!u)return null;const x=g5(u),E={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:x,page:Gb(x,r),scroll:CE(u),scrollSize:E,shouldClipSubject:l}})();return Xee({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:h,closest:p})};const ete={passive:!1},tte={passive:!0};var $M=e=>e.shouldPublishImmediately?ete:tte;const _0=e=>e&&e.env.closestScrollable||null;function nte(e){const t=w.useRef(null),n=Zb(xv),r=H2("droppable"),{registry:i,marshal:a}=n,o=n4(e),l=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=w.useRef(l),f=vt(()=>sr((M,D)=>{t.current||Pe();const P={x:M,y:D};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=Ke(()=>{const M=t.current;return!M||!M.env.closestScrollable?lr:CE(M.env.closestScrollable)},[]),p=Ke(()=>{const M=h();f(M.x,M.y)},[h,f]),b=vt(()=>km(p),[p]),x=Ke(()=>{const M=t.current,D=_0(M);if(M&&D||Pe(),M.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),E=Ke((M,D)=>{t.current&&Pe();const P=o.current,$=P.getDroppableRef();$||Pe();const H=Zee($),Y={ref:$,descriptor:l,env:H,scrollOptions:D};t.current=Y;const K=Qee({ref:$,descriptor:l,env:H,windowScroll:M,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),U=H.closestScrollable;return U&&(U.setAttribute(MM.contextId,n.contextId),U.addEventListener("scroll",x,$M(Y.scrollOptions))),K},[n.contextId,l,x,o]),S=Ke(()=>{const M=t.current,D=_0(M);return M&&D||Pe(),CE(D)},[]),_=Ke(()=>{const M=t.current;M||Pe();const D=_0(M);t.current=null,D&&(b.cancel(),D.removeAttribute(MM.contextId),D.removeEventListener("scroll",x,$M(M.scrollOptions)))},[x,b]),T=Ke(M=>{const D=t.current;D||Pe();const P=_0(D);P||Pe(),P.scrollTop+=M.y,P.scrollLeft+=M.x},[]),N=vt(()=>({getDimensionAndWatchScroll:E,getScrollWhileDragging:S,dragStopped:_,scroll:T}),[_,E,S,T]),j=vt(()=>({uniqueId:r,descriptor:l,callbacks:N}),[N,l,r]);$i(()=>(u.current=j.descriptor,i.droppable.register(j),()=>{t.current&&_(),i.droppable.unregister(j)}),[N,l,_,j,a,i.droppable]),$i(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),$i(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Gw(){}const BM={width:0,height:0,margin:dX},rte=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?BM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ite=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=rte({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?mm.placeholder:null}},ate=e=>{const t=w.useRef(null),n=Ke(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=w.useState(e.animate==="open");w.useEffect(()=>l?r!=="open"?(n(),u(!1),Gw):t.current?Gw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Gw,[r,l,n]);const f=Ke(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=ite({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var ote=Wt.memo(ate);class ste extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const lte=e=>{const t=w.useContext(xv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=w.useRef(null),a=w.useRef(null),{children:o,droppableId:l,type:u,mode:f,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:x,snapshot:E,useClone:S,updateViewportMaxScroll:_,getContainerForClone:T}=e,N=Ke(()=>i.current,[]),j=Ke((U=null)=>{i.current=U},[]);Ke(()=>a.current,[]);const M=Ke((U=null)=>{a.current=U},[]),D=Ke(()=>{r()&&_({maxScroll:V5()})},[r,_]);nte({droppableId:l,type:u,mode:f,direction:h,isDropDisabled:b,isCombineEnabled:x,ignoreContainerClipping:p,getDroppableRef:N});const P=vt(()=>Wt.createElement(ste,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:U,data:z,animate:Z})=>Wt.createElement(ote,{placeholder:z,onClose:U,innerRef:M,animate:Z,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,M]),$=vt(()=>({innerRef:j,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,j]),H=S?S.dragging.draggableId:null,Y=vt(()=>({droppableId:l,type:u,isUsingCloneFor:H}),[l,H,u]);function K(){if(!S)return null;const{dragging:U,render:z}=S,Z=Wt.createElement(f4,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Q,V)=>z(Q,V,U));return gq.createPortal(Z,T())}return Wt.createElement(q2.Provider,{value:Y},o($,E),K())};function cte(){return document.body||Pe(),document.body}const zM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:cte},g4=e=>{let t={...e},n;for(n in zM)e[n]===void 0&&(t={...t,[n]:zM[n]});return t},qw=(e,t)=>e===t.droppable.type,UM=(e,t)=>t.draggables[e.draggable.id],ute=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=sr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=sr((a,o,l,u,f,h)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const E=h?{render:h,dragging:n(f.descriptor)}:null,S={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:S,useClone:E}}if(!o)return t;if(!u)return e;const x={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(a,o)=>{const l=g4(o),u=l.droppableId,f=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Cm(a)){const b=a.critical;if(!qw(f,b))return t;const x=UM(b,a.dimensions),E=Ii(a.impact)===u;return r(u,h,E,E,x,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!qw(f,b.critical))return t;const x=UM(b.critical,a.dimensions);return r(u,h,u4(b.result)===u,Ii(b.impact)===u,x,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!qw(f,b.critical))return t;const x=Ii(b.impact)===u,E=!!(b.impact.at&&b.impact.at.type==="COMBINE"),S=b.critical.droppable.id===u;return x?E?e:t:S?e:t}return t}},dte={updateViewportMaxScroll:SJ},mf=h5(ute,dte,(e,t,n)=>({...g4(n),...e,...t}),{context:F2,areStatePropsEqual:c4})(lte),fte={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Xb(e,t,n){const r=fte[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function hte(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function mte(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function sp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=mte(i),o=4*(i-a),l=hte(r);return new Date(r.getTime()+(o+l)*60*1e3)}function b4(e){return e.replace(/\D/g,"")}function pte(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function gte(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function lp(e){const t=b4(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return pte(n,r,i)?{y:n,m:r,d:i}:null}function wv(e){const t=e.trim();if(!t||t==="")return null;const n=b4(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return gte(r,i)?{hh:r,mm:i}:null}function Sv(e){const t=e.trim(),n=lp(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function Ev(e){const t=e.trim();if(t==="")return"";const n=wv(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var xb={exports:{}},bte=xb.exports,FM;function yte(){return FM||(FM=1,(function(e,t){(function(n,r){e.exports=r()})(bte,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(Z){return Z&&Z.__esModule?Z:{default:Z}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),f=a(u),h=i(4),p=a(h),b=i(5),x=a(b),E=i(6),S=a(E),_=i(7),T=a(_),N=i(8),j=a(N),M=i(9),D=a(M),P=i(10),$=a(P),H=i(11),Y=a(H),K=i(12),U=a(K),z={lunarInfo:l.default,solarMonth:f.default,gan:p.default,zhi:x.default,animals:S.default,lunarTerm:T.default,lTermInfo:j.default,nStr1:D.default,nStr2:$.default,nStr3:Y.default,nStr4:U.default,lYearDays:function(Z){var Q,V=348;for(Q=32768;Q>8;Q>>=1)V+=z.lunarInfo[Z-1900]&Q?1:0;return V+z.leapDays(Z)},leapMonth:function(Z){return 15&z.lunarInfo[Z-1900]},leapDays:function(Z){return z.leapMonth(Z)?65536&z.lunarInfo[Z-1900]?30:29:0},monthDays:function(Z,Q){return Q>12||Q<1?-1:z.lunarInfo[Z-1900]&65536>>Q?30:29},solarDays:function(Z,Q){if(Q>12||Q<1)return-1;var V=Q-1;return V==1?Z%4==0&&Z%100!=0||Z%400==0?29:28:z.solarMonth[V]},toGanZhi:function(Z){return z.gan[Z%10]+z.zhi[Z%12]},getTerm:function(Z,Q){if(Z<1900||Z>2100||Q<1||Q>24)return-1;var V=z.lTermInfo[Z-1900],q=[parseInt("0x"+V.substr(0,5)).toString(),parseInt("0x"+V.substr(5,5)).toString(),parseInt("0x"+V.substr(10,5)).toString(),parseInt("0x"+V.substr(15,5)).toString(),parseInt("0x"+V.substr(20,5)).toString(),parseInt("0x"+V.substr(25,5)).toString()],J=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(J[Q-1])},toChinaYear:function(Z){var Q=parseInt(Z/1e3),V=parseInt(Z%1e3/100),q=parseInt(Z%100/10),J=Z%10;return z.nStr4[Q]+z.nStr4[V]+z.nStr4[q]+z.nStr4[J]+""},toChinaMonth:function(Z){if(Z>12||Z<1)return-1;var Q=z.nStr3[Z-1];return Q+=""},toChinaDay:function(Z){var Q;switch(Z){case 10:Q="";break;case 20:Q="";break;case 30:Q="";break;default:Q=z.nStr2[Math.floor(Z/10)],Q+=z.nStr1[Z%10]}return Q},getAnimal:function(Z){return z.animals[(Z-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var q=new Date(ue,parseInt(se)-1,B);else var q=new Date;var J,ye=0,re=0,ue=q.getFullYear(),se=q.getMonth()+1,B=q.getDate(),W=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(J=1900;J<2101&&W>0;J++)re=z.lYearDays(J),W-=re;W<0&&(W+=re,J--);var ae=new Date,X=!1;ae.getFullYear()==ue&&ae.getMonth()+1==se&&ae.getDate()==B&&(X=!0);var oe=q.getDay(),de=z.nStr1[oe];oe==0&&(oe=7);var pe=J,ye=z.leapMonth(J),ne=!1;for(J=1;J<13&&W>0;J++)ye>0&&J==ye+1&&ne==0?(--J,ne=!0,re=z.leapDays(pe)):re=z.monthDays(pe,J),ne==1&&J==ye+1&&(ne=!1),W-=re;W==0&&ye>0&&J==ye+1&&(ne?ne=!1:(ne=!0,--J)),W<0&&(W+=re,--J);var je=J,Ce=W+1,ve=se-1,Ze=z.getTerm(ue,3),Ne=z.toGanZhi(ue-4),_e=new Date(ue,1,Ze).getTime();new Date(ue,ve,B).getTime()<_e&&(Ne=z.toGanZhi(ue-5));var Oe=z.getTerm(ue,2*se-1),Ie=z.getTerm(ue,2*se),Ve=z.toGanZhi(12*(ue-1900)+se+11);B>=Oe&&(Ve=z.toGanZhi(12*(ue-1900)+se+12));var yt=!1,xt="";Oe==B&&(yt=!0,xt=z.lunarTerm[2*se-2]),Ie==B&&(yt=!0,xt=z.lunarTerm[2*se-1]);var Dt=Date.UTC(ue,ve,1,0,0,0,0)/864e5+25567+10,he=z.toGanZhi(Dt+B-1);return{lYear:pe,lMonth:je,lDay:Ce,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(ne&&ye===je?"":"")+z.toChinaMonth(je),dayCn:z.toChinaDay(Ce),cYear:ue,cMonth:se,cDay:B,gzYear:Ne,gzMonth:Ve,gzDay:he,isToday:X,isLeap:ne,nWeek:oe,ncWeek:""+de,isTerm:yt,term:xt}},lunar2solar:function(Z,Q,V,q){var J=z.leapMonth(Z);if(z.leapDays(Z),q&&J!=Q||Z==2100&&Q==12&&V>1||Z==1900&&Q==1&&V<31)return-1;var re=z.monthDays(Z,Q);if(Z<1900||Z>2100||V>re)return-1;for(var ue=0,se=1900;se<Z;se++)ue+=z.lYearDays(se);for(var B=0,W=!1,se=1;se<Q;se++)B=z.leapMonth(Z),W||B<=se&&B>0&&(ue+=z.leapDays(Z),W=!0),ue+=z.monthDays(Z,se);q&&(ue+=re);var ae=Date.UTC(1900,1,30,0,0,0),X=new Date(864e5*(ue+V-31)+ae),oe=X.getUTCFullYear(),de=X.getUTCMonth()+1,pe=X.getUTCDate();return z.solar2lunar(oe,de,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(xb)),xb.exports}var y4=yte();const vte=hi(y4),xte=e2({__proto__:null,default:vte},[y4]);function Y2(e){return typeof e=="object"&&e!==null}function _te(e){return Y2(e)&&"default"in e}function wte(e){return Y2(e)&&typeof e.lunar2solar=="function"}function Ste(e){if(!Y2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function Ete(e){const t=_te(e)?e.default:e;if(!wte(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Ste(l)}}}const kte=Ete(xte);function Gi(e,t,n,r=4,i=0){const a=kte.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const HM=e=>e<10?`0${e}`:`${e}`;function cp(e){if(e.calendarType!=="lunar")return e;const t=lp(e.birthDay??"");if(!t)return e;try{const n=Gi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${HM(i)}${HM(a)}`,calendarType:"solar"}}catch{return e}}function K2(e){const t=e.mingSikType??"/",n=lp(e.birthDay??"");if(!n){const M=e.corrected instanceof Date?e.corrected:new Date(NaN),D=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:D,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:M,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:D,ganjiText:P,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const M=Gi(r,i,a,0,0);r=M.getFullYear(),i=M.getMonth()+1,a=M.getDate()}catch{}const o=wv(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,f=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",x=sp(p,h,b),E=l?"":x.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),S=at(x,h),_=kt(x,h),T=gt(x,t),N=l?null:Fa(x,t),j=[` : ${S} ${_} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:x,correctedLocal:E,ganji:j,ganjiText:j,dayStem:T.charAt(0)}}function GM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function up(e){return(typeof e=="string"?e.trim():"")===""?"":""}function qM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Ate(e){const t=qM(e.ganjiText)??qM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=up(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Mm(e){const t={...e,birthDay:Sv(e.birthDay??""),birthTime:e.birthTime===""?"":Ev(e.birthTime??""),gender:up(e.gender),dateObj:GM(e.dateObj,new Date),corrected:GM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=K2(t),r={...t,...n};return{...r,dir:Ate(r)}}function Tte(e){return e===""||e==="/"||e===""?e:"/"}function jte(e){return e==="lunar"?"lunar":"solar"}function Ote(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Nte(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function W2(e,t){const r=Sv(typeof e=="string"?e:""),i=lp(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Gi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function V2(e,t){if(t)return{ok:!0,value:""};const r=Ev(typeof e=="string"?e:"");return wv(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function v4(e,t){const n=t?.requireName??!1,r=Nte(e.name,n);if(!r.ok)return r;const i=jte(e.calendarType),a=W2(e.birthDay,i);if(!a.ok)return a;const o=V2(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Tte(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:up(e.gender),sortOrder:e.sortOrder,birthPlace:Ote(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Mm(u)}}function Ml(e){const t=cp(e),n=lp(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=wv(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const l=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return sp(o,u,l)}function Cte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Kc(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function ME(e){if(!Cte(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function x4(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:Sv(e.birth_day??""),birthTime:Ev(e.birth_time??""),gender:up(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Mm(i)}function Mte(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function YM(e,t){const n=Sv(e.birthDay??""),r=Ev(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:up(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const DE="hm_session_started_at_ms",Dte=7200*1e3;function _4(){return typeof window>"u"?null:window.localStorage}function Pte(){const e=_4();if(!e)return Date.now();const t=e.getItem(DE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(DE,String(r)),r}function Rte(e=Date.now()){const t=_4();if(t)try{t.setItem(DE,String(e))}catch{}}function Lte(e=Date.now()){const t=Pte();return e-t>=Dte}const w0="myeongsik-list";function Ite(e){try{return JSON.parse(e)}catch{return null}}async function $te(e){if(typeof window>"u")return;const t=window.localStorage.getItem(w0);if(!t)return;const n=Ite(t);if(!n){window.localStorage.removeItem(w0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(w0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!l.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(w0)}const Bte=250;function zte(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function Ute(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function Fte(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}Ute(()=>{a()});function o(l,u){const f=zte(l);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:f,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Bte),n.promise)}return{queue:o,flushNow:a}}const li="__UNASSIGNED__",Hte=[" ",""],Pd=e=>typeof e=="string"?e.trim():"",Gte=e=>Hte.includes(e);function Ed(e,t){const n=[],r=[];for(const i of e){const a=Pd(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Z2(e,t){const n=new Set(t.map(o=>Pd(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Pd(o.folder),f=!u||Gte(u)?li:n.has(u)?u:li;a(f,o)}i[li]||(i[li]=[]);for(const o of t){const l=Pd(o);l&&(i[l]||(i[l]=[]))}return i}function w4(e,t){const n=[];for(const i of t){const a=Pd(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[li];return Array.isArray(r)&&r.length&&n.push(...r),n}function qte(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Z2(t,n),o=r.droppableId===li?li:r.droppableId,l=i.droppableId===li?li:i.droppableId,u=[...a[o]??[]],f=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const p=Math.max(0,Math.min(i.index,f.length));o===l?u.splice(p,0,h):f.splice(p,0,h);const b=String(h.id),x=new Set([b]),E={...h,folder:l===li?"":l};return a[o]=u,a[l]=o===l?u:f,a[l]=(a[l]??[]).map(S=>String(S.id)===b?E:S),{nextList:w4(a,n),changedIds:Array.from(x)}}function Yte(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Z2(t,r);let a=null,o=null;const l=[...r.map(x=>Pd(x)),li].filter(Boolean);for(const x of l){const E=i[x]??[],S=E.findIndex(_=>String(_.id)===n);if(S>=0){a=x,o=E[S]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(x=>String(x.id)===n);if(f<0)return{nextList:t,nextItem:null};const h=u[f],p=!h.favorite,b={...h,favorite:p};return u.splice(f,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:w4(i,r),nextItem:b}}function Kte(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[];return{nextList:t.map(o=>(o.folder??"").trim()!==r?o:(i.push(String(o.id)),{...o,folder:""})),changedIds:i}}function S4(e){return e.trim().length>0}const Lh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Wte=e=>e.replace(/\D/g,""),Vte=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Wte(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},Zte=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},Xte=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},KM=(e,t,n)=>{const r=Lh(t);if(!r)return!0;const i=Lh(typeof e.name=="string"?e.name:""),a=Vte(e).map(Lh),o=Zte(e).map(Lh),l=Xte(e).map(Lh),u=h=>h.includes(r),f=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(l);case"all":default:return u(i)||f(a)||f(o)||f(l)}};function Jte(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!S4(t)){const f={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const f of r){const h=typeof f=="string"?f.trim():"";if(!h)continue;const b=(i[h]??[]).filter(x=>KM(x,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(f=>KM(f,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function Qte(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??li).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??li).toString(),index:e.destinationIndex}}}function ene(e,t){const n=String(t.eventType??""),r=ME(t.new),i=ME(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=x4(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return Kc(u)}async function tne(e){if(!e)return;const t=Me;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function nne(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function rne(){return{async getUser(){const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Me.from("myeongsik").select(nne()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>ME(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=YM(t,e),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=YM(n,e),{error:i}=await Me.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Me.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Mte(i,e)),{error:r}=await Me.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Me.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await tne(r)}}}}}function ine(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function om(e){if(!e)return"FREE";const t=ine(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function PE(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const S0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function ane(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function WM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function VM(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function one(e){return e?e.can_use_myo_viewer===!0:!1}async function sne(e){const{data:t,error:n}=await Me.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const on=As((e,t)=>({loaded:!1,loading:!1,userId:null,...S0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...S0})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await Me.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...S0,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await sne(o);if(!u){const N=PE("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:N.maxMyeongsik===null?9999:N.maxMyeongsik,canManageMyeongsik:N.canManageMyeongsik,canUseLuckTabs:N.canUseLuckTabs,canUseMultiMode:N.canUseMultiMode,canUseAllPrompts:N.canUseAllPrompts,canUseAdvancedReport:N.canUseAdvancedReport,canRemoveAds:N.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const f=WM(u.starts_at??null),h=WM(u.expires_at??null),p=VM(f,h),b=om(u.plan??null),x=p?b:"FREE",E=PE(x),S=E.maxMyeongsik===null?9999:E.maxMyeongsik,_=ane(u.max_myeongsik,S),T=Math.max(1,Math.max(_,S));e({loaded:!0,userId:o,plan:x,maxMyeongsik:T,canManageMyeongsik:E.canManageMyeongsik,canUseLuckTabs:E.canUseLuckTabs,canUseMultiMode:E.canUseMultiMode,canUseAllPrompts:E.canUseAllPrompts,canUseAdvancedReport:E.canUseAdvancedReport,canRemoveAds:E.canRemoveAds,canUseMyoViewer:one(u),startsAt:f,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...S0,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return VM(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,f=Math.floor(l/24),h=[];return f>0&&h.push(`${f}`),u>0&&h.push(`${u}`),f===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),X2="guest_myeongsik_v1";function E4(e){return typeof e=="object"&&e!==null}function RE(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Oi(e,t=""){return typeof e=="string"?e:t}function lne(e,t=!1){return typeof e=="boolean"?e:t}function cne(e){return E4(e)?{name:Oi(e.name,""),lat:RE(e.lat,0),lon:RE(e.lon,0)}:{name:"",lat:0,lon:0}}function une(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function dne(e){if(!E4(e))return null;const t={id:Oi(e.id,""),sortOrder:RE(e.sortOrder,1),name:Oi(e.name,""),birthDay:Oi(e.birthDay,""),birthTime:Oi(e.birthTime,""),gender:Oi(e.gender,""),birthPlace:cne(e.birthPlace),relationship:Oi(e.relationship,""),memo:Oi(e.memo,""),folder:Oi(e.folder,""),mingSikType:Oi(e.mingSikType,"/"),DayChangeRule:Oi(e.DayChangeRule,""),favorite:lne(e.favorite,!1),calendarType:Oi(e.calendarType,"solar"),dir:Oi(e.dir,"forward")};return t.id?Mm(t):null}function k4(){try{const e=localStorage.getItem(X2);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(dne).filter(r=>r!==null);return Kc(n)}catch{return[]}}function Cc(e){try{const t=e.map(une);localStorage.setItem(X2,JSON.stringify(t))}catch{}}function A4(){try{localStorage.removeItem(X2)}catch{}}const wo=As(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Fn=rne(),fne=Fte(Fn);function ud(){const t=on.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function hne(e){const n=on.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function ZM(e){const t=k4();if(t.length)try{for(const n of t)await Fn.upsertOne(e,n);A4()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const _r=As((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(Lte()){Rte(Date.now()),window.location.reload();return}const n=await Fn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Fn.subscribe(n.id,i=>{e(a=>({list:ene(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Fn.getUser();if(!n){const l=k4(),u=l[0]?.id??null;e({list:l,currentId:u}),await t().stopRealtime();return}await ZM(n.id);const r=await Fn.fetchRows(n.id),i=Kc(r.map(x4)),a=t().currentId,o=a&&i.some(l=>l.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await $te(Fn);const n=await Fn.getUser();n&&await ZM(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Fn.getUser(),i=t().list.length;if(!hne(i)){r||wo.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Mm(o),u=t().list,f=Kc([...u,l]),h=t().currentId??l.id;if(e({list:f,currentId:h}),!r){Cc(f),f.length===1&&wo.getState().openWith("PERSIST_SAVE");return}await Fn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Fn.getUser();if(i&&!ud())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Mm({...a,...r}),l=Kc(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){Cc(l);return}await Fn.updateOne(i.id,n,o)},remove:async n=>{const r=await Fn.getUser();if(r&&!ud())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){Cc(a);return}await Fn.softDelete(n)},moveItemByDnD:async n=>{const r=await Fn.getUser();if(r&&!ud())return;const i=Qte(n),o=qte({list:t().list,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;if(e({list:o}),!r){Cc(o);return}await t().reorder(o)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Fn.getUser();if(i&&!ud())return;const o=Yte({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){Cc(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Fn.getUser();if(r&&!ud())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Kte({list:a,folderName:i}),l=Kc(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){Cc(l);return}const f=l.filter(h=>u.has(h.id));await Fn.upsertOrderPatch(r.id,f)},reorder:async n=>{const r=await Fn.getUser();if(r&&!ud())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=Kc(i);if(e({list:a}),!r){Cc(a);return}await fne.queue(a)},clear:()=>{e({currentId:null,list:[]}),A4()}})),XM="__custom__",JM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],T4=({value:e,onChange:t})=>{const[n,r]=w.useState(JM),[i,a]=w.useState(""),[o,l]=w.useState(!1),[u,f]=w.useState(""),[h,p]=w.useState(!1),{list:b}=_r(),E=(e??i??"").trim()==="",_=b.some(D=>(D.relationship??"").trim()==="")&&!E?n.filter(D=>D.value!==""):n;w.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=D=>{const P=D.target.value;P===XM?(l(!0),a(""),t?.("")):(l(!1),f(""),a(P),t?.(P))};w.useEffect(()=>{const D=localStorage.getItem("relationshipOptions");D&&r(JSON.parse(D))},[]),w.useEffect(()=>{(async()=>{const{data:{user:P},error:$}=await Me.auth.getUser();if($||!P)return;const{data:H,error:Y}=await Me.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const K=H?.payload?.relationshipOptions;if(!Array.isArray(K))return;const U=K.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);U.length&&r(z=>{const Z=new Set,Q=[...U,...z,...JM].filter(V=>Z.has(V.value)?!1:(Z.add(V.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Q)),Q})})()},[]),w.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:P},error:$}=await Me.auth.getUser();if($||!P)return;const{data:H,error:Y}=await Me.from("user_settings").select("payload").eq("user_id",P.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const K={...H?.payload??{},relationshipOptions:n},{error:U}=await Me.from("user_settings").upsert({user_id:P.id,payload:K,updated_at:new Date().toISOString()});U&&console.error("save relationships settings error",U.message)})()},[n]);const N=()=>{const D=u.trim();if(!D)return;const P={value:D,label:D};r($=>[...$,P]),a(D),t?.(D),f(""),l(!1)},j=D=>{r(n.filter(P=>P.value!==D)),i===D&&a("")},M=D=>{if(!D.destination)return;const P=Array.from(n),[$]=P.splice(D.source.index,1);P.splice(D.destination.index,0,$),r(P)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[g.jsx("option",{value:"",hidden:!0,children:""}),_.map(D=>g.jsx("option",{value:D.value,children:D.label},D.value)),g.jsx("option",{value:XM,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:" ",value:u,onChange:D=>f(D.target.value)}),g.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(op,{onDragEnd:M,children:g.jsx(mf,{droppableId:"relList",children:D=>g.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"space-y-1",children:[n.map((P,$)=>g.jsx(hf,{draggableId:P.value,index:$,children:H=>g.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:P.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(P.value),children:""})]})},P.value)),D.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},fn=" ",j4=["","","","","",""],O4="ms_folders",N4="ms_folder_order",QM="ms_folder_favs",LE="ms_disabled_presets",Dl="myeoun:folder-updated";function eu(e){if(e!==fn)return e||void 0}function kv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function J2(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function mne(){const e=kv(LE);return j4.filter(t=>!e.includes(t))}function Q2(){return kv(O4)}function eA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];J2(O4,t),typeof window<"u"&&window.dispatchEvent(new Event(Dl))}function Jb(){const e=mne(),t=Q2(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function pne(){return[fn,...Jb()]}function C4(e){const t=e.trim();if(!t||t===fn)return;const n=Q2();if(n.includes(t))return;const r=[...n,t];eA(r)}function gne(e){const t=Q2(),n=t.filter(r=>r!==e);n.length!==t.length&&eA(n)}function bne(e){const t=kv(LE);if(t.includes(e))return;const n=[...t,e];J2(LE,n),typeof window<"u"&&window.dispatchEvent(new Event(Dl))}function Qb(){return kv(N4)}function kd(e){J2(N4,e),typeof window<"u"&&window.dispatchEvent(new Event(Dl))}function pm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function yne(e){return Array.from(new Set(e))}function E0(e){const t=e.filter(n=>n!==fn);return{rest:t,withUnassigned:[fn,...t]}}function vne(e,t){return pm(t,e)}function xne({value:e,onChange:t}){const[n,r]=w.useState([fn]),[i,a]=w.useState(!1),[o,l]=w.useState(""),[u,f]=w.useState(!1),h=w.useCallback(async _=>{const{data:{user:T},error:N}=await Me.auth.getUser();if(N||!T)return;const j=_.map((D,P)=>({user_id:T.id,folder_name:D,sort_order:P+1,updated_at:new Date().toISOString()})),{error:M}=await Me.from("user_folder_order").upsert(j,{onConflict:"user_id,folder_name"});M&&console.error("save folder order error",M.message)},[]),p=w.useCallback(()=>{if(typeof window>"u")return;const _=yne(pne()),T=_.includes(fn)?_:[fn,..._],{rest:N}=E0(T),j=Qb(),M=vne(j,N),D=[fn,...M];r(D),j.length===M.length&&j.every(($,H)=>$===M[H])||(kd(M),h(M))},[h]);w.useEffect(()=>{if(p(),typeof window<"u"){const _=()=>p();return window.addEventListener(Dl,_),()=>window.removeEventListener(Dl,_)}},[p]);const b=w.useMemo(()=>e||fn,[e]),x=_=>{const{rest:T}=E0(_);kd(T),h(T)},E=_=>{const{source:T,destination:N}=_;if(!N||N.index===T.index)return;const{rest:j}=E0(n),M=Array.from(j),[D]=M.splice(T.index,1);M.splice(N.index,0,D);const P=[fn,...M];r(P),x(P)},S=_=>{const T=eu(_);T&&(C4(T),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:_=>{const T=_.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(eu(T))},children:[n.map(_=>g.jsx("option",{value:_,children:_},_)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(_=>!_),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const _=o.trim();_&&(S(_),t(eu(_)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[fn," ()"]})]}),g.jsx(op,{onDragEnd:E,children:g.jsx(mf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:_=>g.jsxs("ul",{ref:_.innerRef,..._.droppableProps,className:"space-y-1",children:[E0(n).rest.map((T,N)=>g.jsx(hf,{draggableId:T,index:N,children:j=>g.jsxs("li",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),_.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',fn,'" .      .']})]})}function M4({message:e,onClose:t,ms:n=2e3}){return w.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const eD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],_ne=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],wne=["","/",""],Sne=["",""],D4={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Ene(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function kne(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Ane(){const[e,t]=w.useState(0),[n,r]=w.useState({...D4}),[i,a]=w.useState(null),[o,l]=w.useState(!1),[u,f]=w.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:f}}function Tne({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){w.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function jne(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Gi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function One(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):fn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Nne({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=eD[r],a=w.useMemo(()=>jne(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:eD,currentStep:i,lunarPreview:a,displayValue:l=>One(l,e,t,n),CALENDAR_OPTIONS:_ne,MING_OPTIONS:wne,GENDER_OPTIONS:Sne,nextIndex:Ene,focusById:kne,isDST:Xb}}function Cne(){return{add:_r(t=>t.add)}}const gr=[];for(let e=0;e<256;++e)gr.push((e+256).toString(16).slice(1));function Mne(e,t=0){return(gr[e[t+0]]+gr[e[t+1]]+gr[e[t+2]]+gr[e[t+3]]+"-"+gr[e[t+4]]+gr[e[t+5]]+"-"+gr[e[t+6]]+gr[e[t+7]]+"-"+gr[e[t+8]]+gr[e[t+9]]+"-"+gr[e[t+10]]+gr[e[t+11]]+gr[e[t+12]]+gr[e[t+13]]+gr[e[t+14]]+gr[e[t+15]]).toLowerCase()}let Yw;const Dne=new Uint8Array(16);function Pne(){if(!Yw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yw=crypto.getRandomValues.bind(crypto)}return Yw(Dne)}const Rne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tD={randomUUID:Rne};function P4(e,t,n){if(tD.randomUUID&&!e)return tD.randomUUID();e=e||{};const r=e.random??e.rng?.()??Pne();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Mne(r)}function Lne(e,t,n){const r=eu(e.folder);return v4({id:P4(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Ine(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=W2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=V2(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function $ne({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:f,setToast:h,onSave:p}){const{add:b}=Cne(),x=w.useCallback(()=>{const S=Ine(a,e,o,u);if(!S.ok){h(S.message??" .");return}if(S.nextForm&&(t(S.nextForm),S.message&&h(S.message)),n<i-1){r(n+1);return}const _=Lne(e,o,u);if(!_.ok){h(_.message);return}const T=_.value;b(T),p(T),h(" !"),t({...D4}),l(!1),f(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,f]),E=w.useCallback(S=>{if(S.key!=="Enter")return;const _=S.target,T=_.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(_))return;const j=_.tagName.toLowerCase(),M=_ instanceof HTMLInputElement?_.type:"";if(j==="textarea"){if(S.shiftKey)return;S.preventDefault(),x();return}if(M==="radio"||M==="checkbox"){S.preventDefault(),_ instanceof HTMLInputElement&&_.click();return}j==="button"&&_.type!=="submit"||(S.preventDefault(),x())},[x]);return{handleNext:x,handleFormKeyDown:E}}function Bne({onSave:e}){const t=Ane(),n=Nne({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Tne({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=$ne({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function zne({onSave:e,onClose:t}){const n=Bne({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(M4,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(i5,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(T4,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(xne,{value:eu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var k0={},nD;function Une(){if(nD)return k0;nD=1,k0.match=a,k0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var x=b.inverse,E=b.type==="all"||p.type===b.type;if(E&&x||!(E||x))return!1;var S=b.expressions.every(function(_){var T=_.feature,N=_.modifier,j=_.value,M=p[T];if(!M)return!1;switch(T){case"orientation":case"scan":return M.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=f(j),M=f(M);break;case"resolution":j=u(j),M=u(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=l(j),M=l(M);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,M=parseInt(M,10)||0;break}switch(N){case"min":return M>=j;case"max":return M<=j;default:return M===j}});return S&&!x||!S&&x})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),x=b[1],E=b[2],S=b[3]||"",_={};return _.inverse=!!x&&x.toLowerCase()==="not",_.type=E?E.toLowerCase():"all",S=S.match(/\([^\)]+\)/g)||[],_.expressions=S.map(function(T){var N=T.match(t),j=N[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:N[2]}}),_})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return k0}var Kw,rD;function Fne(){if(rD)return Kw;rD=1;var e=Une().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=h,this.dispose=b;function f(x){u&&u.addListener(x)}function h(x){u&&u.removeListener(x)}function p(x){l.matches=x.matches,l.media=x.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return Kw=r,Kw}var Hne=Fne();const Gne=hi(Hne);var qne=/[A-Z]/g,Yne=/^ms-/,Ww={};function Kne(e){return"-"+e.toLowerCase()}function R4(e){if(Ww.hasOwnProperty(e))return Ww[e];var t=e.replace(qne,Kne);return Ww[e]=Yne.test(t)?"-"+t:t}function Wne(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Vw={exports:{}},Zw,iD;function Vne(){if(iD)return Zw;iD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zw=e,Zw}var Xw,aD;function Zne(){if(aD)return Xw;aD=1;var e=Vne();function t(){}function n(){}return n.resetWarningCache=t,Xw=function(){function r(o,l,u,f,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Xw}var oD;function Xne(){return oD||(oD=1,Vw.exports=Zne()()),Vw.exports}var Jne=Xne();const jt=hi(Jne),$r=jt.oneOfType([jt.string,jt.number]),L4={all:jt.bool,grid:jt.bool,aural:jt.bool,braille:jt.bool,handheld:jt.bool,print:jt.bool,projection:jt.bool,screen:jt.bool,tty:jt.bool,tv:jt.bool,embossed:jt.bool},Qne={orientation:jt.oneOf(["portrait","landscape"]),scan:jt.oneOf(["progressive","interlace"]),aspectRatio:jt.string,deviceAspectRatio:jt.string,height:$r,deviceHeight:$r,width:$r,deviceWidth:$r,color:jt.bool,colorIndex:jt.bool,monochrome:jt.bool,resolution:$r,type:Object.keys(L4)},{type:UOe,...ere}=Qne,tre={minAspectRatio:jt.string,maxAspectRatio:jt.string,minDeviceAspectRatio:jt.string,maxDeviceAspectRatio:jt.string,minHeight:$r,maxHeight:$r,minDeviceHeight:$r,maxDeviceHeight:$r,minWidth:$r,maxWidth:$r,minDeviceWidth:$r,maxDeviceWidth:$r,minColor:jt.number,maxColor:jt.number,minColorIndex:jt.number,maxColorIndex:jt.number,minMonochrome:jt.number,maxMonochrome:jt.number,minResolution:$r,maxResolution:$r,...ere},nre={...L4,...tre};var rre={all:nre};const ire=e=>`not ${e}`,are=(e,t)=>{const n=R4(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?ire(n):`(${n}: ${t})`},ore=e=>e.join(" and "),sre=e=>{const t=[];return Object.keys(rre.all).forEach(n=>{const r=e[n];r!=null&&t.push(are(n,r))}),ore(t)},lre=w.createContext(void 0),cre=e=>e.query||sre(e),sD=e=>e?Object.keys(e).reduce((n,r)=>(n[R4(r)]=e[r],n),{}):void 0,I4=()=>{const e=w.useRef(!1);return w.useEffect(()=>{e.current=!0},[]),e.current},ure=e=>{const t=w.useContext(lre),n=()=>sD(e)||sD(t),[r,i]=w.useState(n);return w.useEffect(()=>{const a=n();Wne(r,a)||i(a)},[e,t]),r},dre=e=>{const t=()=>cre(e),[n,r]=w.useState(t);return w.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},fre=(e,t)=>{const n=()=>Gne(e,t||{},!!t),[r,i]=w.useState(n),a=I4();return w.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},hre=e=>{const[t,n]=w.useState(e.matches);return w.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},mre=(e,t,n)=>{const r=ure(t),i=dre(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=fre(i,r),o=hre(a);return I4(),w.useEffect(()=>{},[o]),w.useEffect(()=>()=>{a&&a.dispose()},[]),o},$4={Classic:"",Modern:""};function Mo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function pre(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function gre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function bre(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function yre(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Do(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?pre(t,n):gre(t,n):i?bre(t,n):yre(t,n)}const fi=As()(M$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=at(n,a),l=kt(n,a),u=gt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:l,dayGZ:u,setDate:f=>{const{rule:h,lon:p}=t(),b=typeof p=="number"?p:void 0;e({date:f,yearGZ:at(f,b),monthGZ:kt(f,b),dayGZ:gt(f,h)})},resetDate:()=>{const{rule:f,lon:h}=t(),p=new Date,b=typeof h=="number"?h:void 0;e({date:p,yearGZ:at(p,b),monthGZ:kt(p,b),dayGZ:gt(p,f)})},resetMonth:()=>{const{lon:f}=t(),h=new Date;e({date:h,monthGZ:kt(h,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:h,lon:p}=t(),b=typeof p=="number"?p:void 0;e({rule:f,yearGZ:at(h,b),monthGZ:kt(h,b),dayGZ:gt(h,f)})},setLon:f=>{const{date:h,rule:p}=t(),b=typeof f=="number"?f:void 0;e({lon:f,yearGZ:at(h,b),monthGZ:kt(h,b),dayGZ:gt(h,p)})},setFromEvent:(f,h)=>{const{rule:p,lon:b}=t(),x=typeof b=="number"?b:void 0;e({date:f.at,scope:h,yearGZ:at(f.at,x),monthGZ:kt(f.at,x),dayGZ:gt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),vre=60*1e3,xre=60*vre,_re=24*xre,wre=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},IE=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Sre={DAY:_re},ha=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:Gn(t,l.deg)})).concat([{name:r.name,date:Gn(t+1,r.deg)},{name:"",date:Gn(t+1,285)}]),a=Gn(t,315),o=Gn(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},B4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Fr[t%10]}${ui[t%12]}`);return e})(),Ere=e=>{const t=B4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},ey=(e,t,n=1)=>{const r=Ere(e),i=t==="forward"?n:-n;return B4[(r+i+60*1e3)%60]},kre=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const l=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?l:u},z4=(e,t,n,r=120,i="/")=>{const a=IE(e),o=kre(a,n,i),l=IE(new Date(a.getTime()+o*120)),u=wre(e,r).getTime(),f=[];let h=ey(t,n,1);for(let p=l.getTime();p<=u;p+=10*Sre.DAY)f.push({at:new Date(p),gz:h}),h=ey(h,n,1);return{firstChange:l,events:f}},U4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},F4=(e,t,n,r)=>{const i=U4(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=ey(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},Are={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},jre=e=>Are[e]??("".includes(e)?e:null),Ore=e=>Tre[e]??("".includes(e)?e:null),lD=e=>{const t=jre(e[0]),n=Ore(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},Nre=e=>Math.floor((e.getHours()+1)%24/2),Jw=e=>["","","","","","","","","","","",""][Nre(e)],Cre=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Fr.indexOf(r),o=ui.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,f=(o+l%12+12)%12;return Fr[u]+ui[f]},dp=(e,t,n,r=120,i)=>{const a=ha(e).sort((S,_)=>S.date.getTime()-_.date.getTime());let o;if(n==="forward"){const S=a.findIndex(_=>_.date>=e);S>=0&&(o=a[S].date)}else{const S=a.filter(_=>_.date<=e);S.length&&(o=S[S.length-1].date)}const l=(S,_)=>{const T=Jw(S),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},j=N[T],M=(j+2)%24,D=new Date(S);if(D.setSeconds(0,0),n==="backward"&&_){const $=Jw(_),H=N[$],Y=new Date(_);return Y.setHours(H,0,0,0),Y}if(n==="forward"&&_){const $=Jw(_),H=N[$],Y=new Date(_);if(Y.setHours(H,0,0,0),Y>D)return Y}const P=new Date(D);return n==="forward"?(P.setHours(M,0,0,0),P<=D&&P.setDate(P.getDate()+1)):(P.setHours(j,0,0,0),P>=D&&P.setDate(P.getDate()-1)),P},u=lD(kt(e,127.5)),f=l(e,o),h=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(h/120*(14400*60*1e3));let b=new Date(e.getTime()+p);try{const S=lD(kt(e,i));(n==="forward"&&u!==S||n==="backward"&&u!==S)&&(b=new Date(e.getTime()+6e4))}catch{}const x=r/10,E=[];for(let S=0;S<x;S+=1){const _=new Date(b);_.setFullYear(_.getFullYear()+S*10),_.setSeconds(0,0);const T=Cre(t,n,S+1);E.push({at:_,gz:T})}return{natalMonthPillar:t,firstChange:b,mPillars:[],events:E}},Mre=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},H4=(e,t,n,r,i)=>{const a=U4(r,n);let o=t;const l=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=ey(o,n,1),l.push({at:u.at,gz:o,age:Mre(i,u.at)}))}return{events:l}},Dre=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},Av=e=>{const t=Dre(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=sp(t,e.birthPlace?.lon??null,n);return IE(r)},tA=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=Av(e),i=gt(r,t),a=Fa(r,t,i.charAt(0));return{year:at(r,n),month:kt(r,n),day:i,hour:a}},Pre=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Fr[t%10]}${ui[t%12]}`);return e})(),Rre=e=>Pre.indexOf(e),Qw=e=>{if(Rre(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Lre(e,t="/"){const n=w.useMemo(()=>cp(e),[e]),r=w.useMemo(()=>Av(n),[n]),i=w.useMemo(()=>tA(n,t),[n,t]);return w.useMemo(()=>{const a=dp(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function l(j,M){let D=null;const P=M.getTime();for(const $ of j)if($.at.getTime()<=P)D=$;else break;return D}const u=l(a.events,o)?.gz??i.month,f=Qw(u),h=o.getFullYear(),p=Gn(h,315),x=p&&o>=p?h:h-1,E=at(new Date(x,1,10,0,0,0),127.5),S=Qw(E),_=kt(o,127.5),T=Qw(_),N=[];return T&&N.push({key:"wolun",label:"",data:T}),S&&N.push({key:"seun",label:"",data:S}),f&&N.push({key:"daeun",label:"",data:f}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function pu(e,t="/",n=100){const r=w.useMemo(()=>cp(e),[e]),i=w.useMemo(()=>Av(r),[r]),a=w.useMemo(()=>tA(r,t),[r,t]),o=(l,u)=>{const f=u.getFullYear()-l.getFullYear(),h=u.getMonth()-l.getMonth(),p=u.getDate()-l.getDate(),b=h<0||h===0&&p<0?f-1:f;return Math.max(0,b)};return w.useMemo(()=>dp(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function e1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Ire(e,t){if(!Array.isArray(e)||e.length===0||!e1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!e1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||e1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function nA(e,t,n){const{date:r,rule:i,lon:a}=fi(),o=w.useMemo(()=>n??r??new Date,[n,r]),l=pu(e,e?.mingSikType),{gz:u}=Ire(l,o);return w.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,h=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:at(o,f),at:o},wol:{gz:kt(o,f),at:o},il:{gz:gt(o,h),at:o}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[o,i,a,e,t,u])}const dn=["","","",""],oi={year:0,month:1,day:2,hour:3},cD=["","","",""],Rd="",fp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],G4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],uD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],$re={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$E={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=$re[r[1]]??r[1],a=$E[r[2]]??r[2];return`${i}${a}`}return""}const ty=e=>e&&e.length>=1?e[0]:"",Ci=e=>e&&e.length>=2?e[1]:"",rA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],iA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],aA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],oA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],sA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],lA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],cA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],uA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],dA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],fA=[{pair:["",""],label:""}],hA=new Set(["","","",""]),ny=new Set(["","","",""]),mA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],q4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ii(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const Bre=e=>[...e].sort((t,n)=>t-n).map(t=>dn[t]).join("X"),dD=(e,t)=>e===0&&t===3||e===3&&t===0;function zre(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Ure(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const Y4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Fre(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Hre=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Gre(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function K4(e){for(const t of Hre){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Fre(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Gre(e.jijiHyeong),e}function qre(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function Yre(e,t){for(const n of fp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function fD(e,t,n){const r=qre(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(Rd),o=t.includes(Rd);a&&!o&&(e[r]=t)}function pA(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>ty(b)),l=i.map(b=>Ci(b));function u(b,x){if(b===x)return;const E=o[b],S=o[x];if(!E||!S)return;const _=ii(rA,E,S);_&&Kt(a.cheonganHap,`#${dn[b]}X${dn[x]}_${_}`);const T=ii(iA,E,S);T&&Kt(a.cheonganChung,`#${dn[b]}X${dn[x]}_${T}`)}u(oi.year,oi.month),u(oi.month,oi.day),u(oi.day,oi.hour);function f(b,x,E,S,_=!0){const T=[],N=[];for(let M=0;M<4;M++)l[M]===b&&T.push(M),l[M]===x&&N.push(M);const j=zre(T,N);for(const[M,D]of j){const P=dD(M,D),$=`#${dn[M]}X${dn[D]}_${E}${P?Rd:""}`;if(P){Kt(S,$);continue}_?fD(S,$,E):Kt(S,$)}}const h=(b,x)=>{for(const{pair:[E,S],label:_}of b)f(E,S,_,x)};h(aA,a.jijiYukhap),h(oA,a.jijiChung),h(sA,a.jijiPa),h(lA,a.jijiHae),h(cA,a.jijiWonjin),h(uA,a.jijiGwimun);for(const b of fp){if(!b.members.every(T=>l.includes(T)))continue;const E=[];for(let T=0;T<4;T++)b.members.includes(l[T])&&E.push(T);const S=E.includes(oi.year)&&E.includes(oi.hour),_=Bre(E);Kt(a.jijiSamhap,`#${_}_${b.name}${S?Rd:""}`)}for(const{pair:[b,x],label:E}of q4)Yre(b,x)&&f(b,x,E,a.jijiBanhap,!1);for(const{pair:[b,x],label:E}of dA)f(b,x,E,a.jijiHyeong);for(const{pair:[b,x],label:E}of fA)f(b,x,E,a.jijiHyeong);for(const b of hA){const x=l.map((E,S)=>E===b?S:-1).filter(E=>E>=0);if(!(x.length<2))for(const[E,S]of Ure(x)){const _=dD(E,S),T=`#${dn[E]}X${dn[S]}_${b}${_?Rd:""}`;fD(a.jijiHyeong,T,`${b}`)}}for(const{pair:[b,x],label:E}of mA)f(b,x,E,a.amhap);if(n)for(let b=0;b<4;b++){const x=i[b]??"";if(x.length<2)continue;const E=`${x[0]}${x[1]}`;ny.has(E)&&Kt(a.ganjiAmhap,`#${Y4(dn[b])}_${E}`)}const p=K4(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const x=p[b];Array.isArray(x)&&x.length===0&&(p[b]=["#"])}return p}function Kre(e,t){return e===oi.year&&t===oi.hour||e===oi.hour&&t===oi.year}function Wre(e,t){for(const n of fp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function Vre(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Al(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Ci(p??"");return $E[b]??b});for(const{pair:[p,b],label:x}of q4){if(!Wre(p,b))continue;const E=[],S=[];for(let T=0;T<4;T++)l[T]===p&&E.push(T),l[T]===b&&S.push(T);const _=Vre(E,S);for(const[T,N]of _){const j=Kre(T,N),M=`#${dn[T]}X${dn[N]}_${x}${j?Rd:""}`;Kt(o.jijiBanhap,M)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const x=`${b[0]}${b[1]}`;ny.has(x)&&Kt(o.ganjiAmhap,`#${Y4(dn[p])}_${x}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,h=!1;for(const[p,b]of u){if(!b)continue;const x=Re(b);if(!x||x.length<2)continue;const E=ty(x),S=Ci(x);{const T=`${E}${S}`;ny.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const j=dn[T],M=ty(N),D=Ci(N),P=ii(rA,E,M);P&&Kt(o.cheonganHap,`#${p}X${j}_${P}`);const $=ii(iA,E,M);$&&Kt(o.cheonganChung,`#${p}X${j}_${$}`);const H=ii(aA,S,D);H&&Kt(o.jijiYukhap,`#${p}X${j}_${H}`);const Y=ii(oA,S,D);Y&&Kt(o.jijiChung,`#${p}X${j}_${Y}`);const K=ii(sA,S,D);K&&Kt(o.jijiPa,`#${p}X${j}_${K}`);const U=ii(lA,S,D);U&&Kt(o.jijiHae,`#${p}X${j}_${U}`);const z=ii(cA,S,D);z&&Kt(o.jijiWonjin,`#${p}X${j}_${z}`);const Z=ii(uA,S,D);Z&&Kt(o.jijiGwimun,`#${p}X${j}_${Z}`);const Q=ii(dA,S,D);if(Q)Kt(o.jijiHyeong,`#${p}X${j}_${Q}`);else{const q=ii(fA,S,D);q?Kt(o.jijiHyeong,`#${p}X${j}_${q}`):S===D&&hA.has(S)&&Kt(o.jijiHyeong,`#${p}X${j}_${S}${D}`)}const V=ii(mA,S,D);V&&Kt(o.amhap,`#${p}X${j}_${V}`)}for(const T of fp){if(!T.members.includes(S))continue;const N=T.members.filter(M=>M!==S),j=l.map((M,D)=>({b:M,pos:dn[D]})).filter(M=>M.b&&N.includes(M.b));if(new Set(j.map(M=>M.b)).size===2){const[M,D]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Kt(o.jijiSamhap,`#${p}X${M}X${D}_(${T.name})`)}}for(const T of uD){if(!T.members.includes(S))continue;const N=T.members.filter(M=>M!==S),j=l.map((M,D)=>({b:M,pos:dn[D]})).filter(M=>M.b&&N.includes(M.b));if(new Set(j.map(M=>M.b)).size===2){const[M,D]=j.map(P=>P.pos).sort((P,$)=>dn.indexOf(P)-dn.indexOf($));Kt(o.jijiHyeong,`#${p}X${M}X${D}_${T.name}`),T.name===""&&(f=!0),T.name===""&&(h=!0)}}const _=[...r.map((T,N)=>({b:$E[Ci(T)]??Ci(T),pos:dn[N]}))];for(const T of G4){const N=_.filter(j=>T.members.includes(j.b));if(new Set(N.map(j=>j.b)).size===3){const j=N.map(M=>M.pos).join("X");Kt(o.jijiBanghap,`#${j}_(${T.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[x,E]of b){const S=Re(E??"");S.length>=2&&p.push({kind:x,b:Ci(S)})}if(p.length>=2){const x=r.map((E,S)=>({pos:dn[S],b:Ci(E)}));for(const E of uD)for(let S=0;S<p.length;S++)for(let _=S+1;_<p.length;_++){const T=p[S],N=p[_];for(const j of x){const M=new Set([j.b,T.b,N.b]);if(M.size===3&&E.members.every(D=>M.has(D))){const D=[T.kind,N.kind].sort(($,H)=>cD.indexOf($)-cD.indexOf(H)).join("X"),P=`${j.pos}X${D}`;Kt(o.jijiHyeong,`#${P}_${E.name}`),E.name===""&&(f=!0),E.name===""&&(h=!0)}}}}}return(f||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||h&&/(||)/.test(p)))),K4(Zre(o))}function Zre(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const Xre={:"",:"",:"",:"",:""},hD={:"",:"",:"",:"",:""},Jre={:"",:"",:"",:"",:""},Qre={:"",:"",:"",:"",:""},eie={:.15,:.1,:-.15,:-.2,:-.25};function tie(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function nie(e){const t=e.includes(oi.month),n=tie(oi.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function rie(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function iie(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(h=>Ci(h)).filter(Boolean),l=[],u={...t},f=(h,p)=>{const b=[];for(let T=0;T<a.length;T++){const N=Ci(a[T]??"");p.members.includes(N)&&b.push(T)}if(!p.members.every(T=>o.includes(T)))return;const E=nie(b),S=p.out,_=hD[S];rie(u,_,S,E),l.push({type:h,name:p.name,out:p.out,strength:E})};if(i)for(const h of fp)f("",h);if(r)for(const h of G4)f("",h);return{applied:l,score:u,strengthAdj:eie,shengNext:Xre,shengPrev:hD,ke:Jre,keInv:Qre}}function ry(e){return dn[e]}function mD(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=ty(i),o=Ci(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Ih(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${ry(i)}X${ry(a)}_${e}`);return r}function aie(e,t){const n=mD(e),r=mD(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:f}of rA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Ih(f,h,p))a(i.,b)}for(const{pair:[l,u],label:f}of iA){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Ih(f,h,p))a(i.,b)}const o=(l,u)=>{const f=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of f)for(const b of h){const x=ii(u,p,b);if(!x)continue;const E=n.branchPos.get(p)??[],S=r.branchPos.get(b)??[];for(const _ of Ih(x,E,S))a(i[l],_)}};o("",aA),o("",oA),o("",sA),o("",lA),o("",cA),o("",uA),o("",dA),o("",fA);for(const l of hA){const u=n.branchPos.get(l)??[],f=r.branchPos.get(l)??[];if(!(!u.length||!f.length))for(const h of Ih(`${l}`,u,f))a(i.,h)}for(const{label:l,pair:[u,f]}of mA){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!h.length||!p.length))for(const b of Ih(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of l)for(const h of u){const p=n.stemPos.get(f)??[],b=r.stemPos.get(h)??[];for(const x of p){const E=Ci(Re(e[x]??"")),S=`${f}${E}`;if(ny.has(S))for(const _ of b){const T=Ci(Re(t[_]??""));`${h}${T}`===S&&a(i.,`#${ry(x)}X${ry(_)}_${S}`)}}}}return i}const W4=new Set(Object.keys(In)),V4=new Set(Object.keys(Kn)),oie=e=>e.slice(0,1),sie=e=>e.slice(-1);function ds(e){return zd.has(e)?e:W4.has(e)?In[e]??e:e}function wr(e){return _m.has(e)?e:V4.has(e)?Kn[e]??e:e}function go(e){return ds(oie(e))}function Ht(e){return wr(sie(e))}function lie(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(zd.has(i)||W4.has(i))&&(n=ds(i)),(_m.has(i)||V4.has(i))&&(r=wr(i));return n&&r?{stem:n,branch:r}:null}function cie(e){return e.map(Ht)}function A0(e,t,n="classic"){const r=go(t),i=Ht(t),a=(n==="hgc"?hv:fv)[i]??[];return[r,...a].includes(e)}const BE=[["",""],["",""],["",""],["",""],["",""],["",""]],zE=[["",""],["",""],["",""],["",""],["",""],["",""]],uie=new Set(["","","",""]),Z4=[["",""],["",""]],die=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function gm(e,t,n){const r=wr(t),i=wr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function pD(e,t,n){const r=wr(t),i=wr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function iy(e){for(const t of die)if(t.set.has(e))return t.voids;return null}function UE(e){const t=wr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Hn={2:4,1:3,3:2,0:1},Ad={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function fie(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const ou=e=>e===0?"":e===1?"":e===2?"":"",pf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",hie=(e,t)=>`#X${ou(t)}_${e}`,Ld=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${ou(t)}X${ou(n)}_${e}`,T0=(e,t)=>`#${ou(t)}_${e}`,X4=(e,t)=>`#X${ou(t)}_${e}`,mie=(e,t)=>`#(${e==="day"?"":""})X${ou(t)}_`,dd=e=>`#_${e}`,fd=(e,t)=>`#X${pf(t)}_${e}`,$h=(e,t)=>`#X${pf(t)}_${e}`,t1=(e,t,n)=>`#${ou(n)}X${pf(t)}_${e}`,pie=(e,t)=>`#(${t==="day"?"":""})_${pf(e)}_`,gie=(e,t)=>`#(${t==="day"?"":""})X${pf(e)}_`,gD=(e,t)=>`#X${pf(e)}_${t}`;function FE(e,t){const n=wr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ht(t[i])===n)return{pos:i,weight:Hn[i]??0};return null}function gA(e,t,n){return Ht(t[n])===wr(e)?{pos:n,weight:Hn[n]}:null}function bie(e,t){const n=ds(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(go(t[i])===n)return{pos:i,weight:Hn[i]??0};return null}const yie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>wr(t.trim())).filter(Boolean),cn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ds(t),yie(n)])),vie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),J4=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Q4=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),e7=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bD=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mie=cn({:"",:"",:"",:""}),Die=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yD=cn({:"",:"",:""}),vD=cn({:"",:"",:""}),Pie=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),t7=cn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),n7=cn({:"",:"",:"",:"",:"",:"",:""}),Rie=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>wr(t.trim())).filter(Boolean),va=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[wr(t),(Array.isArray(n)?n:[n]).map(r=>wr(r))])),Tv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[wr(t),Rie(n)])),r7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},i7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},a7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},o7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Lie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xD=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Iie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zie=Tv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Uie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Fie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qie=va({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),s7=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vie=va({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[wr(t),(Array.isArray(n)?n:[n]).map(r=>wr(r))])),Zie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),l7=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qie=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),c7=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),u7=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),d7=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dae=u7,fae=l7,hae=d7,mae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pae=c7,gae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yae=hn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function hp(e,t){e.push(t)}function n1(e,t,n,r,i=0){const a=Ad[n]>=Ad[r]?n:r;e.push({name:Ld(t,n,r),weight:Hn[a]+i,pos:a})}function vae(e,t,n,r,i){const a=Ht(e[Se.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of l){const h=gA(u,e,f);h&&hp(i,{name:Ld(r,Se.year,f),weight:h.weight,pos:f})}}function xae(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=ds(a),l=bie(o,e);l&&hp(r,{name:X4(n,l.pos),weight:l.weight,pos:l.pos})}function _D(e,t,n,r,i="ALL"){const a=Ht(e[Se.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of l){const h=gA(u,e,f);if(!h)continue;const p=f===Se.month?`#_${n}`:X4(n,f);hp(r,{name:p,weight:h.weight,pos:f})}}function wD(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&hp(r,{name:Ld(n,Se.month,Se.day),weight:Hn[Se.day],pos:Se.day})}function SD(e,t,n,r,i){const a=go(e[Se.day]),o=t[a];if(!o)return;const l=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of l){const h=gA(u,e,f);h&&hp(r,{name:hie(n,f),weight:h.weight,pos:f})}}function _ae({natal:e,daewoon:t,basis:n}){const r=go(e[Se.day]),i=Ht(e[Se.day]),a=Ht(e[Se.month]),o=Ht(e[Se.year]),l=cie(e),u=[],f=[],h=[[Zie,"MONTH",""],[l7,"DAY",""],[Jie,"MONTH",""],[Qie,"MONTH",""],[eae,"ALL",""],[tae,"HOUR",""],[nae,"ALL",""],[rae,"ALL",""],[iae,"ALL",""],[u7,"ALL",""],[aae,"ALL",""],[oae,"ALL",""],[sae,"ALL",""],[lae,"ALL",""],[cae,"ALL",""],[uae,"ALL",""],[d7,"ALL",""],[dae,"ALL",""],[fae,"ALL",""],[hae,"ALL",""],[mae,"ALL",""],[pae,"ALL",""],[gae,"ALL",""],[bae,"ALL",""],[yae,"ALL",""]];for(const[M,D,P]of h)vae(e,M,D,P,f);const p=[[r7,""],[i7,""],[a7,""],[o7,""]];for(const[M,D]of p)xae(e,M,D,u);const b=[[Lie,"","ALL"],[xD,"","YEAR"],[xD,"","DAY"],[Uie,"","ALL"],[Fie,"","ALL"],[Hie,"","ALL"],[Gie,"","ALL"],[qie,"","ALL"]];for(const[M,D,P]of b)_D(e,M,D,f,P);const x=[[s7,"","ALL"],[Yie,"","DAY_HOUR"],[Kie,"","DAY_HOUR"],[Wie,"","ALL"],[Vie,"","ALL"]];for(const[M,D,P]of x)_D(e,M,D,u,P);const E=[[Iie,""],[zie,""]];for(const[M,D]of E)wD(e,M,D,u);const S=[[$ie,""],[Bie,""]];for(const[M,D]of S)wD(e,M,D,f);const _=[[vie,"","ALL"],[J4,"","ALL"],[xie,"","ALL"],[_ie,"","ALL"],[wie,"","ALL"],[Sie,"","ALL"],[Eie,"","ALL"],[Q4,"","ALL"],[kie,"","ALL"],[Aie,"","ALL"],[Tie,"","ALL"],[jie,"","ALL"],[Oie,"","ALL"],[Pie,"","ALL"]];for(const[M,D,P]of _)SD(e,M,D,u,P);const T=[[e7,"","ALL"],[Nie,"","ALL"],[Cie,"","ALL"],[bD,"","DAY"],[bD,"","HOUR"],[yD,"","DAY"],[yD,"","HOUR"],[vD,"","DAY"],[vD,"","HOUR"],[Mie,"","DAY"],[Die,"","ALL"],[t7,"","ALL"]];for(const[M,D,P]of T)SD(e,M,D,f,P);if(new Set(["","","",""]).has(e[Se.day])){f.push({name:dd(""),weight:Hn[Se.day],pos:Se.day});for(const D of[Se.year,Se.month,Se.hour])e[D]===e[Se.day]&&f.push({name:T0("",D),weight:Hn[D],pos:D})}{const M=n7[r];if(M)for(const D of[Se.year,Se.month,Se.day,Se.hour]){const P=go(e[D]),$=Ht(e[D]);P===r&&M.includes($)&&f.push({name:T0("",D),weight:Hn[D],pos:D})}}for(const[M,D]of Z4){const P=FE(M,e),$=FE(D,e);P&&$&&n1(f,"",P.pos,$.pos)}{const M=new Set(["",""]),D=new Set(["","","",""]);for(let P=0;P<=3;P++){const $=go(e[P]),H=Ht(e[P]);(M.has($)||D.has(H))&&f.push({name:T0("",P),weight:Hn[P],pos:P})}}{const M=e[Se.hour],D=($,H)=>$.includes(r)&&H.includes(M);(D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""]))&&f.push({name:dd(""),weight:Hn[Se.hour],pos:Se.hour})}["","","",""].every(M=>l.includes(M))&&u.push({name:dd(""),weight:Hn[Se.day],pos:Se.day});{const M=e[Se.day],D=e[Se.hour];(M===""&&D===""||M===""&&D==="")&&f.push({name:Ld("",Se.day,Se.hour),weight:Hn[Se.hour],pos:Se.hour})}{const M=Ht(e[Se.year]),D=new Set(l.slice(1)),P=(H,Y)=>H.every(K=>D.has(K))&&M===Y;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:dd(""),weight:Hn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:dd(""),weight:Hn[Se.day],pos:Se.day});{const D={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];D&&e.some($=>Ht($)===D.rok)&&go(e[Se.hour])===D.maStem&&u.push({name:Ld("",Se.day,Se.hour),weight:Hn[Se.hour],pos:Se.hour})}{const M=Ht(e[Se.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const $=i===P.rok,H=M===P.ma,Y=A0(P.rokStem,e[Se.day],"classic")||A0(P.rokStem,e[Se.hour],"classic"),K=A0(P.maStem,e[Se.day],"classic")||A0(P.maStem,e[Se.hour],"classic");$&&H&&(Y||K)&&u.push({name:Ld("",Se.day,Se.hour),weight:Hn[Se.hour],pos:Se.hour})}}{const M=new Set(["","","","","",""]),D=e.map(go),P=e.map(Ht),$=D.concat(P).filter(U=>M.has(U)).length,H=t?go(t):"",Y=t?Ht(t):"",K=M.has(H)||M.has(Y);($>=4||$===3&&K)&&f.push({name:dd(""),weight:Hn[Se.day],pos:Se.day})}{const M=new Set(["",""]),D=new Set(["",""]);for(let P=0;P<=3;P++){const $=go(e[P]),H=Ht(e[P]);(M.has($)||D.has(H))&&f.push({name:T0("",P),weight:Hn[P],pos:P})}}{const M=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[D,P]of M){const $=Ht(e[D]),H=Ht(e[P]);if(gm(BE,$,H)){const Y=pD(BE,$,H);n1(f,`${Y}`,D,P)}}}{const M=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[D,P,$]of M){const H=Ht(e[D]),Y=Ht(e[P]);if(gm(zE,H,Y)){const K=pD(zE,H,Y),U=($?1:0)+(uie.has(H+Y)?1:0);n1(f,`${K}`,D,P,U)}}}const N=iy(e[Se.day]),j=iy(e[Se.year]);{const M=(n?.voidBasis??"day")==="day"?N:j;if(M){const[D,P]=M.map(wr);for(const $ of[Se.year,Se.month,Se.day,Se.hour]){const H=Ht(e[$]);(H===D||H===P)&&f.push({name:mie(n?.voidBasis??"day",$),weight:Hn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:N,yearVoid:j,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function j0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:f,basis:h}){const p=[],b=[],x=(N,j)=>{N.includes(j)||N.push(j)},E=lie(t??null);if(!E)return{good:p,bad:b};const S=E.branch,_=E.stem;ds(r7[a]??"")===_&&x(p,$h("",e)),ds(i7[a]??"")===_&&x(p,$h("",e)),ds(a7[a]??"")===_&&x(p,$h("",e)),ds(o7[a]??"")===_&&x(p,$h("",e)),s7[a]?.includes(S)&&x(p,$h("",e)),J4[r]?.includes(S)&&x(p,fd("",e)),Q4[r]?.includes(S)&&x(p,fd("",e)),e7[r]?.includes(S)&&x(b,fd("",e)),t7[r]?.includes(S)&&x(b,fd("",e)),n7[r]?.includes(S)&&x(b,fd("",e)),e==="se"&&(Xie[o]?.includes(S)&&x(b,gD(e,"")),c7[o]?.includes(S)&&x(b,gD(e,"")));for(const N of l)if(gm(Z4,S,N)){const j=FE(N,n)?.pos;j!==void 0&&x(b,t1("",e,j));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(S)&&x(b,fd("",e));const T=(h?.voidBasis??"day")==="day"?u:f;T&&(S===T[0]||S===T[1])&&x(b,pie(e,h?.voidBasis??"day"));for(let N=0;N<=3;N++){const j=Ht(n[N]);gm(BE,S,j)&&x(b,t1("",e,N)),gm(zE,S,j)&&x(b,t1("",e,N))}if(e==="se"){const N=(h?.samjaeBasis??"day")==="day"?i:o,j=N?UE(N):null;j&&j.includes(S)&&x(b,gie(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const wae=/^#(|||)X\1_/,Sae=e=>wae.test(e);function ED(e){const t=new Map;for(const n of e){if(Sae(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Eae(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const kae=new Set(["",""]);function Aae(e){return kae.has(e)?!0:e.endsWith("")||e.endsWith("")}function kD(e){const t=new Map;for(const r of e){const i=Eae(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Aae(r))n.push(...i);else{const a=i.sort((o,l)=>Ad[o.pos]!==Ad[l.pos]?Ad[l.pos]-Ad[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function AD(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=fie;for(const i of e)n[r(i.pos)].push(i.name);return n}function Yd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:f,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E}=_ae({natal:e,daewoon:t,basis:a}),S=kD(ED(o)),_=kD(ED(l)),T=AD(S),N=AD(_),j=j0({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:f,basis:a}),M=j0({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:f,basis:a}),D=j0({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:f,basis:a}),P=j0({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:x,branches:E,dayVoid:u,yearVoid:f,basis:a});return{good:{...T,dae:j.good,se:M.good,wolun:D.good,ilun:P.good},bad:{...N,dae:j.bad,se:M.bad,wolun:D.bad,ilun:P.bad},meta:{voidPair:{day:iy(e[Se.day])??void 0,year:iy(e[Se.year])??void 0},samjaeYears:{day:UE(Ht(e[Se.day]))??void 0,year:UE(Ht(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Tae(e){return typeof e=="object"&&e!==null}function gf(e){const t=$4;return Tae(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const TD=["","","","","","","","","",""],jae=["","","","","","","","","","","",""],Oae=["","","","","","","","","","","",""];function Nae(e){const t=mv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Cae(e,t){const n=Nae(e);return(t?Oae:jae).map((i,a)=>`${TD[(n+a)%10]??TD[0]}${i}`)}function bm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function jD(e){return e<10?`0${e}`:`${e}`}function f7(e){return`${jD(e.getHours())}:${jD(e.getMinutes())}`}function bA(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function OD(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||bA(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Mae(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":f7(i)}const ND=["","/",""],Dae="/";function h7(e,t){return e&&ND.includes(e)?e:t&&ND.includes(t)?t:Dae}function CD(e){return e===""}function Pae(e){return e===""?"":""}function Rae(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Lae=e=>e instanceof Date&&!Number.isNaN(e.getTime());function MD(e,t){const n=bA(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(r,i,a);r=j.getFullYear(),i=j.getMonth()+1,a=j.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=f?127.5:e.birthPlace.lon,p=Lae(e.corrected);let b;p?b=e.corrected:f?b=u:b=sp(u,h,n);const x=t?new Date(b.getTime()-3600*1e3):b,E=h7(e.mingSikType),S=at(x,h),_=kt(x,h),T=gt(x,E),N=n?null:Fa(x,E);return{corrected:x,year:{stem:S.charAt(0),branch:S.charAt(1)},month:{stem:_.charAt(0),branch:_.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const Iae=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],$ae=(()=>{const e={};for(const t of Iae){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Bae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function zae(e,t){const n=`${mv(e)}${v2(t)}`;return $ae[n]??null}function Uae(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Fae(e){switch(Bae[v2(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Hae({stem:e,branch:t}){const n=zae(e,t);if(!n)return null;const r=Uae(n.elem);return g.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function DD({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=Tn(),o=Ui(e,t,a),l=di(e,t,n),u=Ha(e,t),f=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:l})})}function m7({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:x="regular",highlightedStem:E=!1,highlightedBranch:S=!1}){const _=x==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=x==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${_} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ma(n,{stem:t.stem})}),g.jsx(DD,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:E}),g.jsx(DD,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:S}),g.jsx(JB,{branch:t.branch,dayStem:n,mode:f,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(Hae,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Gae=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function qae({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:x,seGz:E,wolGz:S,highlightMap:_={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",j="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",M=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",D=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return g.jsxs("div",{className:j,children:[g.jsx("div",{className:M,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:D,children:e.map(P=>{const $=Gae(P,x,E,S),H=_[P.key]??{stem:!1,branch:!1};return g.jsx(m7,{title:P.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:T,highlightedStem:H.stem,highlightedBranch:H.branch},P.key)})})})]})}function Yae({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:x={}}){const E=t?"regular":"compact",S=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",_=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:S,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:_,children:e.map(T=>{const N=x[T.key]??{stem:!1,branch:!1};return g.jsx(m7,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:E,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function Kae({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),l=a.charAt(1),u=r?.stem===o&&r?.branch===l;return g.jsx("button",{onClick:()=>i(o,l),className:`p-2 text-xs rounded border cursor-pointer ${u?Fae(l):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Wae(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Bh={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function Vae(e){const t=Wae(e),n=Bh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Bh[r])return Bh[r]}else{const r=`${t}`;if(Bh[r])return Bh[r]}return{title:t||"",kind:"",oneLine:" "}}function Zae(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function uo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=HE(n,ay),u=HE(r,ay),f=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[f&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(PD,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(PD,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function PD({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=HE(e,ay);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(Xae,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function Xae({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=Vae(e),o=a?Zae(a):"",l=ay(e),u=w.useRef(null),f=w.useRef(null),[h,p]=w.useState("center");return w.useLayoutEffect(()=>{if(!i)return;const b=f.current;if(!b)return;const x=b.getBoundingClientRect(),S=Math.min(300,window.innerWidth-16*2),_=x.left,T=window.innerWidth-x.right;T<S/2&&_>T?p("right"):_<S/2&&T>_?p("left"):p("center")},[i]),w.useLayoutEffect(()=>{if(!i)return;const b=x=>{const E=x.target;!u.current||E&&u.current.contains(E)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function ay(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function HE(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function Jae({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:f}){const[h,p]=w.useState(!0),[b,x]=w.useState(!0),[E,S]=w.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[g.jsxs("button",{type:"button",onClick:()=>p(_=>!_),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(fo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(fo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(fo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(fo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(fo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[g.jsxs("button",{type:"button",onClick:()=>x(_=>!_),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),RD(u)||RD(f)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:E,setOpenTagKey:S},"luck-wol"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:E,setOpenTagKey:S},"luck-se"),t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:E,setOpenTagKey:S},"luck-dae")]:[t>=1&&g.jsx(uo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:E,setOpenTagKey:S},"luck-dae"),t>=2&&g.jsx(uo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:E,setOpenTagKey:S},"luck-se"),t>=3&&g.jsx(uo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:E,setOpenTagKey:S},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(uo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:E,setOpenTagKey:S}),g.jsx(uo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:E,setOpenTagKey:S}),g.jsx(uo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:E,setOpenTagKey:S}),g.jsx(uo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:E,setOpenTagKey:S})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function fo({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:Qae(i)},i)})})]})}function Qae(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function RD(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function LD(e){return String(e).padStart(2,"0")}function eoe(e,t,n){if(!e||e.length<8)return OD(e,t);const r=OD(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Gi(i,a,o);return` ${`${l.getFullYear()}.${LD(l.getMonth()+1)}.${LD(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function toe({data:e,hourTable:t}){const{date:n}=fi(),r=Tn(Ne=>Ne.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,l=h7(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:f,solarM:h,solarD:p}=w.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),_e=Number(e.birthDay?.slice(4,6)??1),Oe=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Ie=Gi(Ne,_e,Oe);Ne=Ie.getFullYear(),_e=Ie.getMonth()+1,Oe=Ie.getDate()}return{solarY:Ne,solarM:_e,solarD:Oe}},[e.birthDay,e.calendarType]),[b,x]=w.useState(!1);w.useEffect(()=>{f&&h&&p&&x(Xb(f,h,p))},[f,h,p]);const E=bA(e.birthTime),[S,_]=w.useState(()=>MD(e,b));w.useEffect(()=>{_(MD(e,b))},[e,b]);const T=Mae(e.correctedLocal,S.corrected,E),N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,j=S.day.stem,[M,D]=w.useState(null),[P,$]=w.useState(()=>CD(e.mingSikType));w.useEffect(()=>{D(null),$(CD(e.mingSikType))},[N,e.mingSikType]),w.useEffect(()=>{pe(null)},[N]);const H=w.useMemo(()=>Cae(j,P),[P,j]),Y=M??S.hour,K=rp(Ne=>Ne.setManualHour),U=(Ne,_e)=>{const Oe={stem:Ne,branch:_e};D(Oe),K(Oe)},z=Pae(r.sinsalBase)===""?S.day.branch:S.year.branch,Z=Ne=>r.showSibiUnseong?Mo(j,Ne):null,Q=Ne=>r.showSibiSinsal?Do({baseBranch:z,targetBranch:Ne,era:gf(r.sinsalMode),gaehwa:r.sinsalBloom}):null,V=Lre(e,l),q=mre({query:"(min-width: 992px)"}),J=r.hiddenStem==="regular"?"main":"all",re=Rae(r.exposure),ue=re===0?[]:V.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=re),se=Xb(f,h,p),B=()=>x(Ne=>!Ne),W=nA(e,t,n),ae=W.dae.gz,X=W.se.gz,oe=W.wol.gz,[de,pe]=w.useState(null),ye=w.useMemo(()=>{const Ne=_e=>_e?.stem&&_e?.branch?`${_e.stem}${_e.branch}`:"";return Al({natal:[Ne(S.year),Ne(S.month),Ne(S.day),Ne(Y)],daewoon:ae??void 0,sewoon:X??void 0,wolwoon:oe??void 0})},[S,Y,ae,X,oe]),ne=w.useMemo(()=>{const Ne=[...ye.cheonganHap,...ye.cheonganChung,...ye.jijiSamhap,...ye.jijiBanhap,...ye.jijiBanghap,...ye.jijiYukhap,...ye.jijiChung,...ye.jijiHyeong,...ye.jijiPa,...ye.jijiHae,...ye.amhap,...ye.ganjiAmhap].filter(_e=>_e&&_e!=="#");return Array.from(new Set(Ne))},[ye]),je=w.useMemo(()=>{const Ne=(Oe,Ie)=>{Oe.includes(Ie)||Oe.push(Ie)},_e={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Oe of ne){const Ve=(Oe.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);Ve.includes("")&&Ne(_e.luck.wol,Oe),Ve.includes("")&&Ne(_e.luck.se,Oe),Ve.includes("")&&Ne(_e.luck.dae,Oe),Ve.includes("")&&Ne(_e.natal.hour,Oe),Ve.includes("")&&Ne(_e.natal.day,Oe),Ve.includes("")&&Ne(_e.natal.month,Oe),Ve.includes("")&&Ne(_e.natal.year,Oe)}return _e},[ne]),Ce=w.useMemo(()=>{const Ne=Ie=>Ie?.stem&&Ie?.branch?`${Ie.stem}${Ie.branch}`:"",_e=Yd({natal:[Ne(S.year),Ne(S.month),Ne(S.day),Ne(Y)],daewoon:ae??void 0,sewoon:X??void 0,wolwoon:oe??void 0}),Oe=Ie=>Array.from(new Set(Ie.filter(Ve=>Ve&&Ve!=="#")));return{good:{natal:{hour:Oe(_e.good.si??[]),day:Oe(_e.good.il??[]),month:Oe(_e.good.wol??[]),year:Oe(_e.good.yeon??[])},luck:{dae:Oe(_e.good.dae??[]),se:Oe(_e.good.se??[]),wol:Oe(_e.good.wolun??[])}},bad:{natal:{hour:Oe(_e.bad.si??[]),day:Oe(_e.bad.il??[]),month:Oe(_e.bad.wol??[]),year:Oe(_e.bad.yeon??[])},luck:{dae:Oe(_e.bad.dae??[]),se:Oe(_e.bad.se??[]),wol:Oe(_e.bad.wolun??[])}}}},[S,Y,ae,X,oe]),ve=w.useMemo(()=>{const Ne={},_e=(Oe,Ie)=>{for(const Ve of Oe)Ne[Ve]=Ie};return _e(ye.cheonganHap,"stem"),_e(ye.cheonganChung,"stem"),_e(ye.jijiSamhap,"branch"),_e(ye.jijiBanhap,"branch"),_e(ye.jijiBanghap,"branch"),_e(ye.jijiYukhap,"branch"),_e(ye.jijiChung,"branch"),_e(ye.jijiHyeong,"branch"),_e(ye.jijiPa,"branch"),_e(ye.jijiHae,"branch"),_e(ye.amhap,"branch"),_e(ye.ganjiAmhap,"both"),Ne},[ye]),Ze=w.useMemo(()=>{if(!de)return{};const Ne=ve[de]??"branch",Oe=(de.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Ie={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},Ve={};for(const yt of Oe){const xt=Ie[yt];if(!xt)continue;const Dt=Ve[xt]??{stem:!1,branch:!1};Ne==="stem"?Dt.stem=!0:(Ne==="branch"||(Dt.stem=!0),Dt.branch=!0),Ve[xt]=Dt}return Ve},[de,ve]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&g.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${b?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",b?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[eoe(e.birthDay,e.birthTime,e.calendarType)," : ",T]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",l," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ue.length===0?"grid-cols-1":ue.length===1?"grid-cols-[2fr_8fr]":ue.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ue.length>0&&g.jsx(qae,{cards:ue,isDesktop:q,dayStem:j,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:J,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:Q,daeGz:ae,seGz:X,wolGz:oe,highlightMap:Ze}),g.jsx(Yae,{isDesktop:q,dayStem:j,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:J,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:Q,highlightMap:Ze,pillars:[{key:"hour",label:"",data:Y},{key:"day",label:"",data:S.day},{key:"month",label:"",data:S.month},{key:"year",label:"",data:S.year}]})]}),g.jsx(Jae,{isDesktop:q,exposureLevel:re,relationChips:ne,relationByPillar:je,activeRelationTag:de,onToggleRelationTag:pe,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),E&&g.jsx(Kae,{hourCandidates:H,useInsi:P,onToggleRule:()=>$(Ne=>!Ne),manualHour:M,onSelectHour:U})]})}function jv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}const noe=!1,ID=e=>e<10?`0${e}`:`${e}`;function Ov(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of l){const h=t[f];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Gi(i,a,o,0,0),h=`${f.getFullYear()}${ID(f.getMonth()+1)}${ID(f.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function roe({data:e}){const t=pu(e),n=w.useMemo(()=>{const D=Ov(e);return Ml(D)},[e]),r=w.useMemo(()=>{const D=e.mingSikType??"/";return gt(n,D).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=fi(),o=w.useMemo(()=>jv(t,i),[t,i]),l=Tn(D=>D.settings),{charType:u,thinEum:f,showSipSin:h,showSibiUnseong:p,showSibiSinsal:b,sinsalBase:x,sinsalMode:E,sinsalBloom:S}=l,_=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=x===""?gt(n,T).charAt(1):at(n,_).charAt(1),j=D=>p?Mo(r,D):null,M=D=>b?Do({baseBranch:N,targetBranch:D,era:gf(E),gaehwa:!!S}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((D,P)=>{const $=D.gz.charAt(0),H=D.gz.charAt(1),Y=ioe(n,D.at),K=P===o,U=di($,"stem",u),z=di(H,"branch",u),Z=Ha($,"stem"),Q=Ha(H,"branch"),V=f&&Z?"font-thin":"font-bold",q=f&&Q?"font-thin":"font-bold",J=j(H),re=M(H);return g.jsxs("div",{onClick:()=>a(D,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${K?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${D.gz}  ${D.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[h&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(r,{stem:$})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui($,"stem",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${V}`,children:U})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(H,"branch",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${q}`,children:z})}),h&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(r,{branch:H})}),(p||b)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&g.jsx("div",{children:J}),b&&g.jsx("div",{children:re})]})]})]},`${D.gz}-${P}`)})})]})}function ioe(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Nv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function r1(e){return new Date(e,6,2,12,0,0,0)}function aoe(e,t){return t-e+1}function ooe({data:e,list:t,onSelect:n}){const r=Tn($=>$.settings),{date:i,setFromEvent:a}=fi(),[o,l]=w.useState(()=>t);w.useEffect(()=>{t&&t.length>0&&l(t)},[t]);const u=Ml(e),f=w.useMemo(()=>Nv(e,u),[e,u]),h=w.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,b=w.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),H=r1($),Y=at(H,p);return[{at:H,gz:Y}]},[i,p]),x=t.length>0?t:o.length>0?o:b,E=w.useMemo(()=>[...x].sort(($,H)=>$.at.getTime()-H.at.getTime()),[x]),S=w.useMemo(()=>{if(E.length===0)return 0;const $=jv(E,i);return $<0?0:$>=E.length?E.length-1:$},[E,i]),[_,T]=w.useState(null);w.useEffect(()=>{T(null)},[i,E]);const N=_??S,j=w.useMemo(()=>{const $=Ov(e);return Ml($)},[e]),M=e.mingSikType??"/",D=w.useMemo(()=>gt(j,M).charAt(0),[j,M]),P=w.useMemo(()=>r.sinsalBase===""?gt(f,M).charAt(1):at(f,p).charAt(1),[f,M,p,r.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:E.map(($,H)=>{const Y=$.at.getFullYear(),K=r1(Y),U=at(K,p),z=U.charAt(0),Z=U.charAt(1),Q=H===N,V=di(z,"stem",r.charType),q=di(Z,"branch",r.charType),J=Ha(z,"stem"),re=Ha(Z,"branch"),ue=r.thinEum&&J?"font-thin":"font-bold",se=r.thinEum&&re?"font-thin":"font-bold",B=r.showSibiUnseong?Mo(D,Z):null,W=r.showSibiSinsal?Do({baseBranch:P,targetBranch:Z,era:gf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=aoe(h,Y);return g.jsxs("div",{onClick:()=>{if(H===0){T(H);return}T(H);const X=r1(Y),oe=at(X,p);a({at:X,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(Y)):Promise.resolve().then(()=>n(Y)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Q?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${U}  ${$.at.toLocaleDateString()}  ${ae}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(D,{stem:z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(z,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:V})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ui(Z,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:q})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(D,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&g.jsx("div",{children:B}),r.showSibiSinsal&&W&&g.jsx("div",{children:W})]})]})]},`${Y}-${$.gz||H}`)})})]})}const soe=new Set(["","","","","","","","","","","",""]);function loe(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...ha(new Date(n-1,5,15,12,0))??[],...ha(new Date(n,5,15,12,0))??[],...ha(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>soe.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const coe=new Set(["","","","","","","","","","","",""]);function uoe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function doe(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function i1(e){return new Date(e,5,15,12,0,0,0)}function foe(e){const n=[...ha(i1(e-1))??[],...ha(i1(e))??[],...ha(i1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>coe.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const f=new Date(u.date),h=uoe(f);o.push({name:u.name,termAt:f,at00:h})}return o}function hoe({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=Tn(_=>_.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=Ml(e),l=w.useMemo(()=>Nv(e,o),[e,o]),u=w.useMemo(()=>{const _=Ov(e);return Ml(_)},[e]),f=e.mingSikType??"/",h=w.useMemo(()=>gt(u,f).charAt(0),[u,f]),p=i.sinsalBase===""?gt(l,f).charAt(1):at(l,a).charAt(1),b=w.useMemo(()=>t?foe(t).map(T=>{const N=T.termAt,j=new Date(T.termAt.getTime()+1860*1e3),M=kt(j,a);return{at:N,gz:M,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:x,setFromEvent:E}=fi(),S=jv(b,x);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:b.map((_,T)=>{const N=_.gz.charAt(0),j=_.gz.charAt(1),M=`${doe(_.at)}`,D=T===S,P=di(N,"stem",i.charType),$=di(j,"branch",i.charType),H=Ha(N,"stem"),Y=Ha(j,"branch"),K=i.thinEum&&H?"font-thin":"font-bold",U=i.thinEum&&Y?"font-thin":"font-bold",z=i.showSibiUnseong?Mo(h,j):null,Z=i.showSibiSinsal?Do({baseBranch:p,targetBranch:j,era:gf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(_.at);const Q=new Date(_.at),{start:V}=loe(Q);n?.(V.getFullYear(),V.getMonth()),E({at:Q,gz:kt(Q,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${D?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${_.term}   ${_.gz}  ${_.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(h,{stem:N})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(N,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${K}`,children:P})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ui(j,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${U}`,children:$})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ma(h,{branch:j})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&g.jsx("div",{children:z}),i.showSibiSinsal&&Z&&g.jsx("div",{children:Z})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:_.term})]})]},`${_.term}-${_.at.toISOString()}`)})})]})}function moe(){const e=Tn(r=>r.settings),{date:t,setFromEvent:n}=fi();return{settings:e,pickedDate:t,setFromEvent:n}}const poe=(e,t)=>new Date(e,t,15,12,0,0,0),GE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},goe=new Set(["","","","","","","","","","","",""]),p7=e=>[...ha(new Date(e-1,5,15,12,0))??[],...ha(new Date(e,5,15,12,0))??[],...ha(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),boe=e=>{const t=p7(e.getFullYear()),n=t.filter(o=>goe.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},yoe=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function voe({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",l=w.useMemo(()=>{const H=Ov(e);return Ml(H)},[e]),u=w.useMemo(()=>l?gt(l,o).charAt(0):void 0,[l,o]),f=w.useMemo(()=>e?Ml(e):null,[e]),h=w.useMemo(()=>e&&f?Nv(e,f):null,[e,f]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,b=e&&h?i.sinsalBase===""?gt(h,o).charAt(1):at(h,p).charAt(1):null,x=w.useMemo(()=>poe(t,n),[t,n]),E=w.useMemo(()=>a?GE(new Date(a)):null,[a]),S=w.useMemo(()=>r?GE(r):null,[r]),_=w.useMemo(()=>E??S??x,[E,S,x]),{start:T,end:N,cur:j,next:M}=w.useMemo(()=>boe(_),[_]),D=w.useMemo(()=>{const H=[],Y=new Date(T);for(;Y<N;)H.push(new Date(Y)),Y.setDate(Y.getDate()+1);return H},[T,N]),P=w.useMemo(()=>{const H=p7(_.getFullYear()),Y=H.filter(U=>U.date>=T&&U.date<N),K=H.find(U=>U.date>=N);return K?[...Y,K]:Y},[_,T,N]),$=w.useMemo(()=>{const H=[];let Y=[];const K=new Date(T).getDay();for(let U=0;U<K;U+=1)Y.push(null);for(const U of D)Y.length===7&&(H.push(Y),Y=[]),Y.push(U);for(;Y.length<7;)Y.push(null);return H.push(Y),H},[D,T]);return{rule:o,dayStem:u,baseBranch:b,pickerNoon:E,termMarks:P,weeks:$,cur:j??null,next:M??null}}function xoe({setFromEvent:e}){return{handleDayClick:w.useCallback(n=>{e({at:n},"")},[e])}}function _oe({data:e,year:t,month:n,selectedMonth:r}){const i=moe(),a=voe({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=xoe({setFromEvent:i.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?g.jsxs(g.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((l,u)=>g.jsxs("span",{children:[l.name," ",yoe(l.date),u<a.termMarks.length-1?"  ":""]},`${l.name}_${l.date.getTime()}_${u}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(l=>g.jsx("div",{className:"py-1",children:l},l))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((l,u)=>l.map((f,h)=>{if(!f)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${h}`);const p=GE(f),b=new Date,x=p.getFullYear()===b.getFullYear()&&p.getMonth()===b.getMonth()&&p.getDate()===b.getDate(),S=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&x,_=NY(p,a.rule),T=_.charAt(0),N=_.charAt(1),j=di(T,"stem",i.settings.charType),M=di(N,"branch",i.settings.charType),D=i.settings.thinEum&&Ha(T,"stem")?"font-thin":"font-bold",P=i.settings.thinEum&&Ha(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,H=!!a.dayStem&&i.settings.showSibiUnseong,Y=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,K=$?ma(a.dayStem,{stem:T}):"",U=$?ma(a.dayStem,{branch:N}):"",z=H?Mo(a.dayStem,N):"",Z=Y?Do({baseBranch:a.baseBranch,targetBranch:N,era:gf(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",Q=a.termMarks.find(V=>V.date.getFullYear()===p.getFullYear()&&V.date.getMonth()===p.getMonth()&&V.date.getDate()===p.getDate());return g.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${S?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${_} (${p.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:p.getDate()}),Q&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:Q.name})]}),$&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(T,"stem",i.settings)}`,children:g.jsx("span",{className:D,children:j})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ui(N,"branch",i.settings)}`,children:g.jsx("span",{className:P,children:M})}),$&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:U}),(H||Y)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&z&&g.jsx("div",{children:z}),Y&&Z&&g.jsx("div",{children:Z})]})]},f.toISOString())}))})]})}function $D(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Gn(a,315);let l=a;new Date<o&&(l=a-1);const f=at(new Date(l,1,10));i.push({at:o,gz:f})}return i}function woe({data:e}){const t=pu(e),[n,r]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState("il"),[u,f]=w.useState(null);w.useEffect(()=>{if(!t.length)return;const E=new Date,S=t.findIndex((_,T)=>{const N=t[T+1]?.at;return E>=_.at&&(!N||E<N)});S!==-1&&r(S)},[t]),w.useEffect(()=>{if(n===null)return;const E=t[n],S=t[n+1];if(!E)return;const _=$D(E,S),T=new Date;_.findIndex((j,M)=>{const D=_[M+1]?.at;return T>=j.at&&(!D||T<D)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const h=nA(e),{date:p}=fi(),b=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),x=w.useMemo(()=>{if(!h?.dae?.gz)return[];const E=t.findIndex((T,N)=>{const j=t[N+1]?.at;return h.dae.at>=T.at&&(!j||h.dae.at<j)});if(E===-1)return[];const S=t[E],_=t[E+1];return $D(S,_)},[t,h?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(roe,{data:e}),o==="se"||o==="wol"||o==="il"?g.jsx(ooe,{data:e,list:x,onSelect:()=>{l("wol")}}):null,o==="wol"||o==="il"?g.jsx(hoe,{data:e,activeYear:b,onSelect:(E,S)=>{a({year:E,month:S}),l("il")},onSelectMonth:f}):null,o==="il"&&i&&g.jsx(_oe,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const Soe=new Set(yY),Eoe=new Set(vY);function BD(e){return typeof e=="string"&&e.length>=2&&Soe.has(e[0])&&Eoe.has(e[1])}function ji(e,...t){if(BD(e))return e;for(const n of t)if(BD(n))return n;return""}const koe={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function O0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Aoe({data:e}){const t=Tn(K=>K.settings),{manualHour:n}=rp(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=fi(),f=w.useMemo(()=>cp(e),[e]),h=w.useMemo(()=>Av(f),[f]),p=w.useMemo(()=>tA(f,"/"),[f]),b=w.useMemo(()=>mv(p.day?.charAt(0)??""),[p.day]),x=!e.birthTime||e.birthTime==="",E=w.useMemo(()=>z4(h,p.hour,e.dir??"forward",120,"/"),[h,p.hour,e.dir]),S=w.useMemo(()=>F4(E,p.day,e.dir??"forward",""),[E,p.day,e.dir]),_=w.useMemo(()=>dp(h,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[h,p.month,e.dir,f.birthPlace?.lon]),T=w.useMemo(()=>H4(_,p.year,e.dir??"forward","",h),[_,p.year,e.dir,h]),N=w.useMemo(()=>{const K=E?.events?.[0];return K?{at:K.at,from:ji(p.hour),to:ji(K.gz)}:null},[E?.events,p.hour]),j=w.useMemo(()=>{const K=_?.events?.[0];return _?.firstChange?{at:_.firstChange,from:ji(p.month),to:ji(K?.gz??p.month)}:null},[_?.firstChange,_?.events,p.month]),M=w.useMemo(()=>{const K=x?n?n.stem+n.branch:"":ji(O0(E.events,u)?.gz,p.hour);let U;if(x&&n){const z=u.getFullYear(),Z=u.getMonth(),Q=u.getDate(),V=koe[n.branch]??0,q=new Date(z,Z,Q,V,0),J=gt(q,e.mingSikType??"/");U=ji(J,p.day)}else U=ji(O0(S.events,u)?.gz,p.day);return{si:K,il:U,wl:ji(O0(_.events,u)?.gz,p.month),yn:ji(O0(T.events,u)?.gz,p.year)}},[u,E.events,S.events,_.events,T.events,p,x,n,e.mingSikType]),D=w.useMemo(()=>({si:ji(Fa(u,"/")),il:ji(gt(u,"/")),wl:ji(kt(u)),yn:ji(at(u))}),[u]),P=w.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=w.useMemo(()=>gf(o),[o]),H=K=>{if(!K)return{unseong:"",shinsal:""};const U=di(b,"stem",""),z=di(K.charAt(1),"branch",""),Z=di(P,"branch","");return{unseong:r&&Mo(U,z)||"",shinsal:i&&Do({baseBranch:Z,targetBranch:z,era:$,gaehwa:!!l})||""}},Y=(K,U,z="myoun")=>{const Z=U,{unseong:Q,shinsal:V}=U?H(U):{unseong:"",shinsal:""},q=z==="myoun"&&x&&(K===""||K==="");return g.jsx(Sd,{label:K,gz:Z,dayStem:b,settings:t,unseongText:U?Q:"",shinsalText:U?V:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:q},`${z}-${K}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",bm(h),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",M.si,"myoun"),Y("",M.il,"myoun"),Y("",M.wl,"myoun"),Y("",M.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",D.si,"live"),Y("",D.il,"live"),Y("",D.wl,"live"),Y("",D.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",N?`${bm(N.at)} (${N.from}  ${N.to})`:" "]}),g.jsxs("div",{children:[":"," ",j?`${bm(j.at)} (${j.from}  ${j.to})`:" "]})]})]})}const zD=["","","","","","","","","",""],Toe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},joe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ooe={:"",:"",:"",:"",:""},Noe={:"",:"",:"",:"",:""},Coe={:"",:"",:"",:"",:""},Moe={:"",:"",:"",:"",:""};function Doe(e,t){switch(e){case"":return t;case"":return Ooe[t];case"":return Coe[t];case"":return Moe[t];case"":return Noe[t];default:return t}}function Poe({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const l=i,u=a,f=l/2,h=u/2,p=Math.min(l,u)*.37,b=w.useMemo(()=>{const j=(r??"").charAt(0);return joe[j]??null},[r]),x=j=>Math.PI/2+2*-Math.PI*j/5,E=w.useMemo(()=>e.map((j,M)=>({...j,x:f+p*Math.cos(x(M)),y:h-p*Math.sin(x(M))})),[e,f,h,p]),[S,_]=w.useState(0),T=w.useRef(""),N=w.useMemo(()=>{const j=e.map(P=>`${P.name}:${P.value}`).join(","),M=zD.map(P=>`${P}:${t?.[P]??0}`).join(","),D=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",j,M,D,r??""].join("||")},[o,e,t,r,n]);return w.useEffect(()=>{N!==T.current&&(T.current=N,_(j=>j+1))},[N]),g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:l,height:u,className:"mx-auto pt-2",children:[E.map((j,M)=>{const D=E[(M+2)%5];return g.jsx("line",{x1:j.x,y1:j.y,x2:D.x,y2:D.y,stroke:"#94a3b8",strokeWidth:1},`line-${M}`)}),E.map((j,M)=>{const D=E[(M+1)%5],P=(j.x+D.x)/2,$=(j.y+D.y)/2,H=P-f,Y=$-h,K=1.5,U=f+H*K,z=h+Y*K;return g.jsx("path",{d:`M${j.x},${j.y} Q${U},${z} ${D.x},${D.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${M}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),E.map(j=>{const M=j.name,D=b?Doe(M,b):null,P=D?zD.filter($=>Toe[$]===D).map($=>[$,t?.[$]??0]):[];return g.jsxs("g",{transform:`translate(${j.x},${j.y})`,children:[g.jsx("circle",{r:33,fill:j.color??"#334155",opacity:j.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[j.name," ",j.value]}),P.map(([$,H],Y)=>g.jsxs("text",{textAnchor:"middle",dy:8+Y*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(H)]},$))]},`${j.name}-${j.value}`)})]},S)})}const Roe=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function yA(e){return Math.max(0,Math.min(100,e))}function g7(e){const t=yA(e);return Roe.find(r=>t>=r.min&&t<r.max)?.name??""}const Loe=[10,20,35,45,55,65,80];function Ioe({value:e}){const t=w.useMemo(()=>yA(e),[e]),n=w.useMemo(()=>g7(t),[t]);return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:""}),g.jsx("span",{children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[Loe.map(r=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function zh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ia({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+zh(p,"il"),children:p},`il-${b}`))]})]})}function qE(e){return Array.isArray(e)?e:[]}function N0(e,t){const n=new Set(qE(e));return qE(t).filter(i=>!n.has(i))}function $oe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=pA(e),l=Al({natal:e}),u=t?Al({natal:e,daewoon:t}):l,f=n?Al({natal:e,daewoon:t,sewoon:n}):u,h=r?Al({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?Al({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=S=>({natal:qE(o[S]),dae:N0(l[S],u[S]),se:N0(u[S],f[S]),wol:N0(f[S],h[S]),il:N0(h[S],p[S])}),x={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},E=S=>a===""?{natal:S.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:S.natal,dae:S.dae,se:[],wol:[],il:[]}:a===""?{natal:S.natal,dae:S.dae,se:S.se,wol:[],il:[]}:a===""?{natal:S.natal,dae:S.dae,se:S.se,wol:S.wol,il:[]}:a===""?{natal:S.natal,dae:S.dae,se:S.se,wol:S.wol,il:S.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ia,{label:"",...E(x.cheonganHap)}),g.jsx(ia,{label:"",...E(x.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ia,{label:"",...E(x.jijiSamhap)}),g.jsx(ia,{label:"",...E(x.jijiBanhap)}),g.jsx(ia,{label:"",...E(x.jijiBanghap)}),g.jsx(ia,{label:"",...E(x.jijiYukhap)}),g.jsx(ia,{label:"",...E(x.amhap)}),g.jsx(ia,{label:"",...E(x.ganjiAmhap)}),g.jsx(ia,{label:"",...E(x.jijiChung)}),g.jsx(ia,{label:"",...E(x.jijiHyeong)}),g.jsx(ia,{label:"",...E(x.jijiPa)}),g.jsx(ia,{label:"",...E(x.jijiHae)})]})}function Boe(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function zoe({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Boe(r,t),children:r},`${t}-${i}-${r}`))})}function UD({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(zoe,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Uoe({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=Tn(),[l,u]=w.useState(""),[f,h]=w.useState("");w.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=w.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[l,f]),b=w.useMemo(()=>Yd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:x,bad:E,meta:S}=b,_=K=>K.map(U=>U==="#"?U:` ${U}`),T=(K,U)=>{const z=["natal"];return U===""&&z.push("natal"),U===""&&z.push("natal","dae"),U===""&&z.push("natal","dae","se"),U===""&&z.push("natal","dae","se","wol"),U===""&&z.push("natal","dae","se","wol","il"),K.filter(Z=>z.includes(Z.source))},N=[{label:"",items:_(x.si),source:"natal"},{label:"",items:_(x.il),source:"natal"},{label:"",items:_(x.wol),source:"natal"},{label:"",items:_(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],j=[{label:"",items:_(E.si),source:"natal"},{label:"",items:_(E.il),source:"natal"},{label:"",items:_(E.wol),source:"natal"},{label:"",items:_(E.yeon),source:"natal"},{label:"",items:E.dae,source:"dae"},{label:"",items:E.se,source:"se"},{label:"",items:E.wolun,source:"wol"},{label:"",items:E.ilun,source:"il"}],M=T(N,a),D=T(j,a),P=S.voidPair.day?`(${S.voidPair.day.join("")})`:"()",$=S.voidPair.year?`(${S.voidPair.year.join("")})`:"()",H=S.samjaeYears.day?`(${S.samjaeYears.day.join("")})`:"()",Y=S.samjaeYears.year?`(${S.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:$})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:f,onChange:K=>h(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:H}),g.jsx("option",{value:"",children:Y})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(UD,{title:"()",rows:M}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(UD,{title:"()",rows:D})]})]})}const la={year:0,month:1,day:2,hour:3},b7={[la.year]:.3,[la.month]:.5,[la.day]:.3,[la.hour]:.3},y7={[la.year]:.15,[la.month]:.2,[la.day]:0,[la.hour]:.15},Foe=e=>_m.has(e)?e:Kn[e]??e,Hoe=e=>zd.has(e)?e:In[e]??e,Goe=e=>typeof e=="string"&&e.length>=2?Foe(e.slice(-1)):"",qoe=e=>typeof e=="string"&&e.length>=1?Hoe(e.slice(0,1)):"",vn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Yoe={:vn(2,0,.5,2),:vn(2,0,0,2),:vn(2,0,0,2),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,2,1,2),:vn(0,2,2,.5),:vn(0,2,2,0),:vn(0,2,2,1),:vn(2,0,0,2),:vn(2,0,0,2),:vn(2,0,1,1)},Koe={:vn(0,1,1,0),:vn(0,1,1,0),:vn(0,2,2,0),:vn(0,2,2,0),:vn(0,0,1,0),:vn(0,0,0,1),:vn(1,0,0,1),:vn(1,0,0,1),:vn(2,0,0,2),:vn(2,0,0,2)},FD=e=>Math.max(0,Math.min(100,e));function HD(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Woe(e){let t=0,n=0,r=0,i=0;return[la.year,la.month,la.day,la.hour].forEach(a=>{const o=Yoe[Goe(e[a])],l=Koe[qoe(e[a])],u=b7[a],f=y7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&l&&(t+=l.han*f,n+=l.nan*f,r+=l.jo*f,i+=l.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function Voe(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Zoe(e){const t=Voe(e);return w.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Woe(t),o=HD(n,r),l=HD(a,i);return{hanNanPct:FD(o),joSeupPct:FD(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:b7,stem:y7}}},[t])}function GD({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=w.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(l=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Xoe({natal:e}){const{hanNanPct:t,joSeupPct:n}=Zoe(e);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(GD,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),g.jsx(GD,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Br={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ra={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Joe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},oy={:"",:"",:"",:"",:""},v7={:"",:"",:"",:"",:""},Dm={:"",:"",:"",:"",:""},x7={:"",:"",:"",:"",:""},Qoe={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},ese={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function vA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function _7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function xA(e){return e==="hgc"?ese:Qoe}const tse={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},a1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},w7={:"",:"",:"",:"",:""},S7={:"",:"",:"",:""},nse=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],rse=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],ise={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ye=(e,t)=>`${e}${t}`,Ni=(e,t,n)=>`${e}${t}${n}`,ase={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},qD={[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""]},YD={[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:[""],[Ni("","","")]:["",""]},ose={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ca(e){return["","","","",""].includes(e)}function sse(e){return["","","","","",""].includes(e)}const o1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,oa=e=>e&&e.length>=1?e.charAt(0):"",En=e=>e&&e.length>=2?e.charAt(1):"",lse=e=>Array.from(new Set(e));function cse(e,t){const n=tse[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function use(e){return Br[e]??""}function La(e,t){const n=Br[e],r=Br[t];if(!n||!r)return"";let i;r===n?i="":r===oy[n]?i="":r===Dm[n]?i="":r===x7[n]?i="":r===v7[n]?i="":i="";const a=ca(e)===ca(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function dse(e,t){const n=Br[e],r=Ra[t];if(!n||!r)return"";let i;r===n?i="":r===oy[n]?i="":r===Dm[n]?i="":r===x7[n]?i="":r===v7[n]?i="":i="";const a=sse(t)===ca(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function fse(e){return{:"",:"",:"",:"",:""}[e]??""}function YE(e,t){const n=use(e),r=ca(e);let i;t===n?i="":oy[n]===t?i="":oy[t]===n?i="":Dm[n]===t?i="":Dm[t]===n?i="":i="";const a=r===ca(fse(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const hse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mse=e=>/^(|||||||||)$/.test(e);function pse(e){return e?mse(e)?e:hse[e]??"":""}function C0(e){return pse(oa(e))}function gse(e){return e?.charAt(0)??""}function bse(e){return e?.charAt(1)??""}function yse(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=he=>(he?.length??0)>=1?he.charAt(0):"",u=he=>(he?.length??0)>=2?he.charAt(1):"",f=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Ra)),p=[r,i,a,o].map(u).filter(he=>!!he&&h.has(he)),b=l(a),x=ise[b]??!1,E=new Set,S=t==="classic"?fv:hv,_=new Set(["","","","","","","","","",""]),T=he=>(S[he]??[]).filter(De=>_.has(De)),N=(he,De)=>{const Be=Ra[De];return Be?YE(he,Be):null},j={:0,:0,:0,:0,:0};for(const he of f){const De=Br[he];De&&(j[De]+=10)}const M=[];for(const he of p){const De=Joe[he];De&&M.push(De);const Be=Ra[he];Be&&(j[Be]+=6)}const P=[...f,...M].map(he=>La(b,he)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},H=he=>P.filter(De=>De===he).length,Y=he=>P.filter(De=>$[he].includes(De)).length,K=p[1],U=!!b&&ose[b]===K,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&E.add("");const Z=[r,i,a,o].filter(Boolean),Q=[];for(const he of Z){const De=he.charAt(0),Be=he.charAt(1);Q.push(La(b,De)),Q.push(N(b,Be))}const V=(he,De)=>{const Be=(lt,Ot)=>!!lt&&!!Ot&&he.includes(lt)&&De.includes(Ot)||De.includes(lt)&&he.includes(Ot);for(let lt=0;lt+1<Q.length;lt+=2)if(Be(Q[lt],Q[lt+1]))return!0;return!1},q=he=>Q.some(De=>!!De&&he.includes(De)),J=H("")+H(""),re=H(""),ue=Y(""),se=Y(""),B=V(["",""],["",""]);if((re>=1||J>=2)&&ue>=1&&J>ue&&se<=1&&B&&E.add(""),q($.)&&q($.)&&V($.,$.)){const he=P.includes("");E.add(he?"":"")}Y("")>=2&&Y("")>=2&&Math.abs(Y("")-Y(""))<=1&&Y("")<=1&&Y("")<=1&&E.add("");const W=H(""),ae=H(""),X=H("")+H(""),oe=H("")+H(""),de=Y("");ae>=2&&X>=1&&j.+j.>=20&&E.add(""),ae>=2&&oe>=1&&j.+j.>=20&&E.add(""),ae>=2&&oe>=1&&j.+j.>=20&&V([""],["",""])&&de<=1&&E.add(""),W>=2&&oe>=1&&j.+j.>=20&&V([""],["",""])&&de<=1&&E.add("");const pe=(he,De)=>{const Be=Br[he],lt=Ra[De];return!!Be&&!!lt&&Be===lt},ye=[r,i,a,o].filter(Boolean),ne=u(a),je=pe(b,ne),Ce=ye.map(he=>he.charAt(0)).filter(he=>["",""].includes(La(b,he)));let ve=!1;for(const he of ye){const De=he.charAt(0),Be=he.charAt(1);if(Ce.includes(De)&&pe(De,Be)){ve=!0;break}}je&&ve&&E.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&E.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&E.add(""),Y("")>=3&&Y("")>=1&&E.add(""),Y("")>=3&&Y("")+Y("")<=1&&E.add("");const Ze=H("");Y("")+Y("")>=2&&Ze===1&&Y("")>=1&&E.add(""),Ze>=2&&X+Y("")>=3&&E.add("");const Ne=W+ae;(W>=2||Ne>=2)&&oe>=1&&Ne>oe&&E.add(""),ae>=2&&oe>=1&&Ne>oe&&E.add("");const _e=H(""),Oe=H("");_e>=2&&Ze+Oe>=1&&E.add(""),_e>=2&&Ze+Oe===0&&E.add(""),x&&_e>=2&&Ze>=1&&E.add(""),!x&&_e>=2&&Ze>=1&&E.add(""),H("")>=2&&H("")>=1&&E.add(""),H("")>=1&&H("")>=1&&V([""],[""])&&E.add(""),U&&Ze>=1&&Y("")+Y("")>=2&&E.add("");const Ie=[u(r),u(i),u(a),u(o)].filter(Boolean),Ve=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),yt=new Set(Ve.map(he=>La(b,he))),xt=new Set(Ie.flatMap(he=>{const De=Ra[he];return De?[YE(b,De)]:[]})),Dt=new Set(Ie.flatMap(he=>T(he).map(De=>La(b,De))));return["","","","",""].forEach(he=>{const De=$[he],Be=De.some(bt=>yt.has(bt)),lt=De.some(bt=>xt.has(bt)),Ot=De.some(bt=>Dt.has(bt));!Be&&!lt&&!Ot?E.add(`${he}`):!Be&&!lt&&Ot&&E.add(`${he}`)}),Array.from(E)}const vse=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=oa(n),i=En(n),a=Br[r],o=Ra[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function xse(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),f=[oa(a),oa(o),oa(l),oa(u)].filter(Boolean),h=[En(a),En(o),En(l),En(u)].filter(Boolean),p=Br[n],b=f.map(he=>La(n,he)),x=[],E=he=>f.filter(De=>De===he).length,S=he=>h.filter(De=>De===he).length,_=he=>he.every(De=>h.includes(De)),T=he=>b.some(De=>he.includes(De)),N=oa(o),j=he=>ca(he),M=()=>{const he=f.map(De=>Br[De]);return he.length===4&&he.every(De=>De===he[0])},D=()=>{if(f.length!==4)return!1;const he=f.map(j),De=he[0]&&!he[1]&&he[2]&&!he[3],Be=!he[0]&&he[1]&&!he[2]&&he[3];return De||Be};ca(n)&&w7[n]===r&&x.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[he,De]of P)if(n===he&&r===De){x.push("");break}!ca(n)&&S7[n]===r&&x.push("");const $=a1[n];$&&En(l)===$&&p===Ra[En(l)]&&x.push(""),$&&En(u)===$&&p===Ra[En(u)]&&x.push("");const H=[a,o,l,u].map(gse),Y=[a,o,l,u].map(bse);for(const he of H);for(const he of Y);const K=i==="hgc"?hv:fv;function U(he){return(K[he]??[]).filter(De=>["","","","","","","","","",""].includes(De))}const z=[a,o,l,u].filter(Boolean),Q=z.flatMap(he=>[he.charAt(0),he.charAt(1)]).flatMap(he=>{try{if(["","","","","","","","","",""].includes(he))return[La(n,he)];if(["","","","","","","","","","","",""].includes(he)){const De=dse(n,he),Be=U(he).map(lt=>La(n,lt));return[De,...Be]}return[]}catch{return[]}}),V=he=>Q.some(De=>he.includes(De)),q=(he,De)=>{const Be=[],lt=[];for(const bt of z){const Jn=bt.charAt(0),gi=bt.charAt(1);Be.push(La(n,Jn));const bi=Ra[gi];bi?lt.push(YE(n,bi)):lt.push(null)}const Ot=(bt,Jn)=>!!bt&&!!Jn&&(he.includes(bt)&&De.includes(Jn)||De.includes(bt)&&he.includes(Jn));for(let bt=0;bt<Be.length;bt++)if(Ot(Be[bt],lt[bt]))return!0;for(let bt=0;bt<Be.length-1;bt++)if(Ot(Be[bt],Be[bt+1])||Ot(lt[bt],lt[bt+1]))return!0;return!1},J={:["",""],:["",""],:["",""],:["",""]};V([...J.])&&V([...J.])&&q([...J.],[...J.])&&x.push(""),V([...J.])&&V([...J.])&&q([...J.],[...J.])&&x.push("");const re=he=>b.filter(De=>he.includes(De)).length,ue=re(["",""]),se=re([""]),B=re([""]),W=re(["",""]),ae=re(["",""]),X=re(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&x.push("");const oe=re([""]);oe>=1&&W>=1&&oe>=W&&x.push(""),b.includes("")&&W>=1&&x.push("");const pe=vse(t),ye=Object.entries(pe).sort((he,De)=>De[1]-he[1]),ne=ye[0];if(ne&&ne[1]>=60&&x.push(`(${ne[0]})`),ye.length>=2){const[he,De]=ye[0],[,Be]=ye[1];De>=75&&De-Be>=12&&p!==he&&x.push(`(${he})`)}for(const he of nse){const De=f.includes(he.a),Be=f.includes(he.b);if(!De||!Be)continue;const lt=he.to,Ot=pe[lt]??0,bt=Br[he.a],Jn=Br[he.b],gi=Math.max(pe[bt]??0,pe[Jn]??0),bi=Ra[r]===lt,Is=Object.entries(pe).sort((mn,yi)=>yi[1]-mn[1])[0]?.[0]===lt;let qt=!1;Ot>=60&&(bi||Is)&&gi<=20&&Ot-gi>=20&&(x.push(`(${lt})`),qt=!0),!qt&&Ot>=50&&(bi||Is)&&gi<=25&&(x.push(`(${lt})`),qt=!0),!qt&&Ot>=35&&x.push(`(${lt})`)}const je=`${oa(u)}${En(u)}`;["",""].includes(n)&&["","",""].includes(je)&&x.push(""),["","","",""].includes(En(u))&&x.push(""),["",""].includes(n)&&(En(l)===""||En(o)==="")&&!h.includes("")&&x.push("");const Ce=f.some(he=>he===""||he===""),ve=h.some(he=>he===""||he==="");["",""].includes(En(l))&&!Ce&&!ve&&x.push(""),["","",""].every(he=>f.includes(he))&&x.push(""),["","",""].every(he=>f.includes(he))&&x.push(""),["","",""].every(he=>f.includes(he))&&x.push("");const Ze=Object.values(pe).sort((he,De)=>De-he);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&x.push(""),ae>=1&&X>=1&&Math.abs(ae-X)<=1&&x.push(""),_(["","","",""])&&x.push(""),_(["","","",""])&&x.push(""),_(["","","",""])&&x.push(""),h.length===4&&h.every(he=>he===h[0])&&x.push(""),f.length===4&&M()&&D()&&x.push(""),t.every(he=>he&&he===t[0])&&x.push(""),f.length===4&&f.every(he=>he===f[0])&&h.length===4&&h.every(he=>he===h[0])&&x.push(""),ue>=1&&(En(l)===a1[n]||En(u)===a1[n])&&x.push(""),E("")>=3&&_(["","",""])&&["","",""].includes(En(l))&&x.push("");const _e=n===""||n==="",Oe=[["","",""],["","",""]],Ie=[["","",""],["","",""]];_e&&(Oe.some(he=>_(he))||Ie.some(he=>_(he)))&&x.push("");const Ve=new Set(["","","","","",""]),yt=`${oa(l)}${En(l)}`;if(Ve.has(yt)&&S("")>=2&&(T(["",""])||h.includes("")||h.includes("")||T(["",""])||x.push("")),new Set(["","","","","",""]).has(yt)&&S("")>=2&&h.includes("")&&x.push(""),n===""&&`${oa(u)}${En(u)}`==""){const he=La(n,N);!["","","",""].includes(he)&&T(["",""])&&!h.includes("")&&!h.includes("")&&x.push("")}return new Set(["","",""]).has(yt)&&`${oa(u)}${En(u)}`==""&&!h.includes("")&&!T(["",""])&&x.push(""),yt===""&&S("")+S("")>=2&&x.push(""),(yt===""||yt==="")&&S("")>=2&&!T(["",""])&&!h.includes("")&&x.push(""),n===""&&_(["","",""])&&x.push(""),yt===""&&`${oa(u)}${En(u)}`==""&&x.push(""),lse(x)}function _se(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function wse(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const KD=1e3*60*60*24;function M0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Sse(e){let t=ha(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=ha(r)}return t}function Ese(e){const t=ase[e];return Array.isArray(t)&&t.length>0?t[0]:null}function kse(e,t){const n=Ese(e);if(!n)return null;const r=Sse(t),i=r.findIndex(f=>f.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((M0(t)-M0(a))/KD)+1,u=o?Math.max(1,Math.floor((M0(o)-M0(a))/KD)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Ase(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Tse(e,t,n){const r=Math.max(1,Ase(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function E7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,f=[],h=_7(u),p=xA(h);if(!vA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const x={:b.?{stem:o1(b..stem),w:b..w}:void 0,:b.?{stem:o1(b..stem),w:b..w}:void 0,:{stem:o1(b..stem),w:b..w}},E=x..stem;let S=E;const _=kse(n,r);if(["","","",""].includes(n)&&cse(n,o)&&x.)S=x..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(_){const z=Tse(x,_.dayIdx,_.spanDays);S=z.stem,f.push({kind:"BUNIL_PICK",from:z.from})}else S=E,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,Z){if(!z)return!1;if(Z.includes(z))return!0;const Q=Br[z];return Q?Z.some(V=>Br[V]===Q):!1}let N="";S&&T(S,a)&&!l?.(S)?(N=S,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):S&&l?.(S)&&f.push({kind:"NEUTRALIZED"});const j=N||E;let M="";const D=Br[j];if(D){const z=Object.entries(Dm).find(([,Z])=>Z===D)?.[0]??null;z&&(M=Object.entries(Br).find(([Q,V])=>V===z&&ca(Q)===ca(j))?.[0]??"")}let P="-";const $=La(t,j),H=rse.some(([z,Z])=>z===t&&Z===n),Y=ca(t)&&w7[t]===n,K=!ca(t)&&S7[t]===n;$===""||$===""?H?(P="",f.push({kind:"EX_GEONLOK"})):Y?(P="",f.push({kind:"EX_YANGIN"})):K?(P="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):P=wse($);const U=xse({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:E,:S,:N||"-",:j||"-",:M||"-",:P,:U,reason:_se(f),reasonTokens:f}}function jse(e){const[t,n,r,i]=e,a=C0(i),o=C0(r),l=C0(n),u=C0(t),f=[],h=[[a,o],[o,l],[l,u]];for(const[b,x]of h){if(!b||!x)continue;const E=Ye(b,x),S=qD[E];S?.length&&f.push(...S);const _=Ye(x,b);if(_!==E){const T=qD[_];T?.length&&f.push(...T)}}const p=[[a,o,l],[o,l,u]];for(const[b,x,E]of p){if(!b||!x||!E)continue;const S=Ni(b,x,E),_=YD[S];_?.length&&f.push(..._);const T=Ni(E,x,b);if(T!==S){const N=YD[T];N?.length&&f.push(...N)}}return Array.from(new Set(f))}const Ose=["","","","",""];function Nse(e){return Ose.includes(e)}function Cse(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Uh(e,t){if(!t)return e;const n=(Nse(t),t);return`${e}(${n})`}const Mse={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Dse={:e=>({title:Uh("",e),short:"     ."}),:e=>({title:Uh("",e),short:"   ."}),:e=>({title:Uh("",e),short:"   ."}),:e=>({title:Uh("",e),short:"    ."}),:e=>({title:Uh("",e),short:"    ."})};function Pse(e){const{base:t,inner:n}=Cse(e);return t===""||t===""||t===""||t===""||t===""?Dse[t](n):Mse[t]}function Rse(e){const t=Pse(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Lse=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),WD={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Ise(e){if(Lse(WD,e))return WD[e]}const VD={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},$se={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Bse(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function zse(e,t){return e===""?{title:`${t}`,short:`${VD[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${VD[t]}()     .`,hint:" X /  O"}}function Use(e){const t=Bse(e);return t?zse(t.kind,t.group):$se[e]}function Fse(e){const t=Use(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Hse={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Gse(e){return Hse[e]?.text}const qse=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},Yse={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Kse={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Wse=e=>e.replace(/^\s*:\s*/,"").trim();function Vse(e){const t=Wse(e);return Kse[t]}function Zse(e){const t=Yse[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${qse(e.from)})`}:t}function Xse(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:l,unified:u}=e,[f,h,p,b]=t,x=X=>X&&X.length>=1?X.charAt(0):"",E=X=>X&&X.length>=2?X.charAt(1):"",S=E(h),_=x(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[x(f),x(h),x(p),x(b)].filter(X=>!!(X&&X.length===1)),j=[E(f),E(p),E(b)].filter(X=>!!(X&&X.length===1)),M=E7({dayStem:_,monthBranch:S,date:T,pillars:t,emittedStems:i??N,otherBranches:a??j,isNeutralized:o,mapping:l}),D=M.reasonTokens??[],P=M.reason??[],$=[` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`],H=[` : ${M.||"-"}`],Y=Array.isArray(M.)&&M..length>0?M..map(X=>` : ${X}`):[" : -"],K=jse(t),U=[...K.length?K.map(X=>`${X}`):[]],Z=[...yse(t,l,u)],Q=({text:X,color:oe})=>{const de={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return g.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${de[oe]}`,title:X,children:X})},V=({children:X})=>g.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:X}),[q,J]=w.useState(null),re=({text:X})=>{const oe=X.replace(/^\s*:\s*/,"").trim(),de=w.useMemo(()=>Rse(oe),[oe]),pe=`outer:${oe}`,ye=q===pe;return de?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(ye?null:pe),className:"inline-flex cursor-pointer",title:de,children:g.jsx(Q,{text:X,color:"blue"})}),ye&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:de})]}):g.jsx(Q,{text:X,color:"blue"})},ue=({text:X})=>{const oe=X.trim(),de=w.useMemo(()=>Ise(oe),[oe]),pe=`mulsang:${oe}`,ye=q===pe;return de?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(ye?null:pe),className:"inline-flex cursor-pointer",title:de,children:g.jsx(Q,{text:X,color:"green"})}),ye&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:de})]}):g.jsx(Q,{text:X,color:"green"})},se=({text:X})=>{const oe=X.trim(),de=w.useMemo(()=>Fse(oe),[oe]),pe=`structure:${oe}`,ye=q===pe;return de?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(ye?null:pe),className:"inline-flex cursor-pointer",title:de,children:g.jsx(Q,{text:X,color:"red"})}),ye&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:de})]}):g.jsx(Q,{text:X,color:"red"})},B=({text:X,color:oe})=>{const de=X.trim(),pe=de.split(":")[0]?.trim()??de,ye=w.useMemo(()=>Gse(pe),[pe]),ne=`term:${pe}`,je=q===ne;return ye?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(je?null:ne),className:"inline-flex cursor-pointer",title:ye,children:g.jsx(Q,{text:X,color:oe})}),je&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ye})]}):g.jsx(Q,{text:X,color:oe})},W=({text:X})=>{const oe=w.useMemo(()=>Vse(X),[X]),de=`naegyeok:${X}`,pe=q===de;return oe?g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(pe?null:de),className:"inline-flex cursor-pointer",title:oe.text,children:g.jsx(Q,{text:X,color:"amber"})}),pe&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):g.jsx(Q,{text:X,color:"amber"})},ae=({token:X,fallback:oe,idx:de})=>{const pe=Zse(X),ye=pe?.title??oe,ne=pe?.text??oe,je=`reason:${X.kind}:${"from"in X?X.from:""}:${de}`,Ce=q===je;return g.jsxs("span",{className:"relative inline-flex",children:[g.jsx("button",{type:"button",onClick:()=>J(Ce?null:je),className:"inline-flex cursor-pointer",title:ne,children:g.jsx(Q,{text:ye,color:"amber"})}),Ce&&g.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ne})]})};return g.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${H.join(",")}|${Y.join(",")}`,children:[g.jsx("div",{className:"font-bold text-base",children:"   "}),g.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),g.jsxs("ul",{className:"space-y-1",children:[g.jsx(V,{children:$.map(X=>g.jsx(B,{text:X,color:"violet"},X))}),g.jsx(V,{children:H.map(X=>g.jsx(W,{text:X},X))}),g.jsx(V,{children:Y.map(X=>g.jsx(re,{text:X},X))}),g.jsx(V,{children:U.map(X=>g.jsx(ue,{text:X},X))}),g.jsx(V,{children:Z.map(X=>g.jsx(se,{text:X},X))})]}),D.length>0?g.jsxs("div",{className:"mt-2",children:[g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),g.jsx("div",{className:"mt-1",children:g.jsx(V,{children:D.map((X,oe)=>g.jsx(ae,{token:X,fallback:P[oe]??X.kind,idx:oe},`${X.kind}-${oe}`))})})]}):M.reason.length>0?g.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",M.reason.join(" / ")]}):null]})}const Jse=Object.fromEntries(Ka..map((e,t)=>[e,Fr[t]])),Qse=Object.fromEntries(Fr.map((e,t)=>[e,Ka.[t]])),ele=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),tle=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),nle=e=>Jse[e]??e,rle=e=>ele[e]??e,ile=e=>Qse[e]??e,ale=e=>tle[e]??e;function ole(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?nle(n):ile(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function _A(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?rle(n):ale(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const sle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},k7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},cle={...k7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},ZD=ole(sle),XD=_A(lle);_A(k7);_A(cle);const ule=["","","","",""];function dle(){const[e,t]=w.useState("   "),[n,r]=w.useState(""),[i,a]=w.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const fle={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},hle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function A7(e){const t=hle[e]??"";return fle[t]}const mle=Object.fromEntries(Ka..map((e,t)=>[e,Fr[t]])),ple=Object.fromEntries(Fr.map((e,t)=>[e,Ka.[t]])),gle=Object.fromEntries(Ka..map((e,t)=>[e,ui[t]])),ble=Object.fromEntries(ui.map((e,t)=>[e,Ka.[t]])),yle=e=>mle[e]??e,vle=e=>gle[e]??e,xle=e=>ple[e]??e,_le=e=>ble[e]??e;function T7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${yle(r)}${vle(i)}`:`${xle(r)}${_le(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const j7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},wle={...j7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Sle=T7(j7),Ele=T7(wle),kle={:"",:"",:"",:"",:""},Ale={:"",:"",:"",:"",:""},Tle={:"",:"",:"",:"",:""},jle={:"",:"",:"",:"",:""},Ole=e=>In[e]??e,Nle=e=>Kn[e]??e;function O7(e){return!e||e.length<2?"":`${Ole(e[0])}${Nle(e[1])}`}const N7=e=>e&&e.length>=1?e[0]:"",C7=e=>e&&e.length>=2?e[1]:"";function M7(e){return{:e,:kle[e],:Ale[e],:Tle[e],:jle[e]}}const D7={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Cle(e,t){const n=(e??[]).slice(0,4).map(O7);if(n.length!==4||n.some(b=>b.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=N7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(b=>C7(b)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=D7[r]??[],u=a[1];l.includes(u)&&(o..=!0,o..=!0);const f=a[2];l.includes(f)&&(o..=!0,o..=!0);const h=M7(i).,p=t[h]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function P7(e,t){const n=(e??[]).slice(0,4).map(O7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const E={:!1,:!1,:!1};return{flags:{:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E},:{...E}},monthBranch:"",dayEl:""}}const r=N7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(E=>C7(E)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=D7[r]??[],f=a[1];u.includes(f)&&(l..=!0,l..=!0,l..=!0,l..=!0);const h=a[2];u.includes(h)&&(l..=!0,l..=!0,l..=!0,l..=!0);const p=M7(i).;return(t[p]??0)>=30&&(l..=!0,l..=!0,l..=!0,l..=!0),{flags:l,monthBranch:f,dayEl:i}}const Mle=Object.fromEntries(Object.entries(In).map(([e,t])=>[t,e])),Dle=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),Ple=e=>In[e]??e,Rle=e=>Kn[e]??e;function Lle(e){return!e||e.length<2?"":`${Ple(e[0])}${Rle(e[1])}`}function Mc(e){return ZD[e]??ZD[Mle[e]??""]}function Dc(e){return XD[e]??XD[Dle[e]??""]}const s1=["year","month","day","hour"],Ile={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},$le={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Ble=new Set(["","","","",""]),zle=new Set(["","","","","",""]),Ule=new Set(["","","",""]),l1=e=>Ble.has(e)?"":"",c1=e=>{const t=zle.has(e)?"":"";return Ule.has(e)?t===""?"":"":t};function JD(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Fle(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const D0={:.15,:.1,:-.15,:-.2,:-.25},vs={:"",:"",:"",:"",:""},su={:"",:"",:"",:"",:""},Ao={:"",:"",:"",:"",:""},Cv={:"",:"",:"",:"",:""};function P0(e,t){return e===t?"":vs[t]===e?"":vs[e]===t?"":Ao[e]===t?"":Ao[t]===e?"":""}const Pc=e=>e&&e.length>=1?e[0]:"",Rc=e=>e&&e.length>=2?e[1]:"";function Hle(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function QD(e,t){switch(e){case"":return t;case"":return vs[t];case"":return Ao[t];case"":return Cv[t];case"":return su[t];default:return t}}const eP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gle=["","","","",""],qle={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},tP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Yle={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Kle(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Wle(e){const t=Gle.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...tP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...qle},PerTenGodSub:{...tP},elementScoreRaw:e,deukFlags:{...Yle},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function Vle(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function KE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Ile:$le,f=r==="classic"?Ele:Sle,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map(Lle);if(!Kle(b))return Wle(h);const{dayStem:x,dayEl:E}=Vle(b,n),S=[{val:0},{val:0},{val:0},{val:0}],_=[[],[],[],[]];for(const B of b){if(!B)continue;const W=B.charAt(0),ae=B.charAt(1);p[W]=(p[W]??0)+50;const X=eP[ae];X&&(p[X]=(p[X]??0)+50)}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ae=s1[B],X=Pc(W),oe=Rc(W),de=u[ae],pe=Mc(X);pe&&(h[pe]+=de.stem,S[B]={stem:X,el:pe,pol:l1(X),val:de.stem});const ye=Dc(oe);ye&&(h[ye]+=de.branch,_[B].push({el:ye,pol:c1(oe),val:de.branch}))}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ae=s1[B],X=f[W]??0;if(X===0)continue;const oe=Pc(W),de=Mc(oe);if(!de)continue;const pe=u[ae].stem*X;h[de]+=pe,S[B].val+=pe}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ae=Rc(W),X=Dc(ae);if(!X)continue;const oe=u[s1[B]].branch,de=c1(ae);let pe=0;const ye=[B];B-1>=0&&ye.push(B-1),B+1<=3&&ye.push(B+1),B-2>=0&&ye.push(B-2),B+2<=3&&ye.push(B+2);const ne=Array.from(new Set(ye));for(const je of ne){if(!b[je]||b[je].length<2)continue;const Ce=Pc(b[je]),ve=Mc(Ce);if(!ve||ve!==X)continue;const Ze=l1(Ce)===de,Ne=Math.abs(je-B),_e=Fle(Ne,Ze);pe+=oe*_e}pe!==0&&(h[X]+=pe,_[B].push({el:X,pol:de,val:pe}))}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ae=Pc(W),X=Mc(ae);if(!X)continue;let oe=0;const de=Rc(b[B]),pe=Dc(de);pe&&(oe+=D0[P0(X,pe)]);const ye=B===0?[1]:B===3?[2]:[B-1,B+1];for(const je of ye){const Ce=Pc(b[je]),ve=Mc(Ce);ve&&(oe+=D0[P0(X,ve)])}const ne=S[B].val;if(ne!==0&&oe!==0){const je=Math.round(ne*(1+oe)*10)/10,Ce=je-ne;h[X]+=Ce,S[B].val=je}}for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ae=Rc(W),X=Dc(ae);if(!X)continue;let oe=0;const de=Pc(b[B]),pe=Mc(de);pe&&(oe+=D0[P0(X,pe)]);const ye=B===0?[1]:B===3?[2]:[B-1,B+1];for(const je of ye){if(!b[je]||b[je].length<2)continue;const Ce=Rc(b[je]),ve=Dc(Ce);ve&&(oe+=D0[P0(X,ve)])}const ne=_[B].reduce((je,Ce)=>je+Ce.val,0);if(ne!==0&&oe!==0){const Ce=Math.round(ne*(1+oe)*10)/10-ne;h[X]+=Ce,_[B].length>0&&(_[B][0].val+=Ce)}}a&&iie(b,h);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!l||l.tab==="")){let B=function(W,ae){const X=W?Re(W):"";if(!X||X.length<2)return;const oe=Pc(X),de=Rc(X),pe=Mc(oe),ye=Dc(de),ne=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),je=T[ae];if(pe){const Ce=Math.round(ne*je.stem);h[pe]+=Ce,N.push({stem:oe,el:pe,pol:l1(oe),val:Ce})}if(ye){const Ce=Math.round(ne*je.branch);h[ye]+=Ce,N.push({el:ye,pol:c1(de),val:Ce})}};B(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&B(l.se,"se"),(l.tab===""||l.tab==="")&&B(l.wol,"wol"),l.tab===""&&B(l.il,"il")}const j={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,W])=>{const ae=Y(B,E);j[ae]+=W});const M=["","","","",""],D=JD(M.map(B=>j[B])),P=A7(x),$=M.map((B,W)=>({name:B,value:D[W],color:P[B]})),H={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Y(B,W){return B===W?"":vs[W]===B?"":Ao[W]===B?"":Ao[B]===W?"":su[W]===B?"":""}function K(B,W){switch(Y(B,E)){case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break}}Object.entries(h).forEach(([B,W])=>{W>0&&K(B,W)});const U={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of M){const W=$.find(ye=>ye.name===B)?.value??0,ae=U[B].a,X=U[B].b,oe=H[ae]??0,de=H[X]??0,pe=oe+de;if(pe>0){const ye=Math.floor(W*oe/pe+.5),ne=W-ye;U[B].aVal=ye,U[B].bVal=ne}else U[B].aVal=Math.floor(W/2+.5),U[B].bVal=W-U[B].aVal}const{flags:z}=Cle(b,h),Z={};S.forEach(B=>{if(B.stem&&B.el&&B.val){const W=`${B.stem}${B.el}`;Z[W]=(Z[W]??0)+B.val}});for(let B=0;B<4;B++){const W=b[B];if(!W||W.length<2)continue;const ae=Rc(W),X=eP[ae],oe=Dc(ae);if(!X||!oe)continue;const de=`${X}${oe}`,pe=_[B].reduce((ye,ne)=>ye+ne.val,0);Z[de]=(Z[de]??0)+pe}const Q=["","","","","","","","","",""],V={};Q.forEach(B=>{V[B]=0}),M.forEach(B=>{const W=$.find(ne=>ne.name===B)?.value??0,ae=QD(B,E),X=Object.entries(Z).filter(([ne])=>ne.endsWith(ae)),oe=X.map(([ne])=>ne),de=X.map(([,ne])=>ne),pe=Math.max(0,Math.round(W*10)),ye=Hle(de.length?de:[1,1],pe);if(oe.length===2)V[oe[0]]=(ye[0]??Math.round(pe/2))/10,V[oe[1]]=(ye[1]??pe-(ye[0]??0))/10;else if(oe.length===1)V[oe[0]]=pe/10;else{const ne=ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:["",""],je=Math.floor(pe/2),Ce=pe-je;V[ne[0]]+=je/10,V[ne[1]]+=Ce/10}});const q=["","","","",""],J={:0,:0,:0,:0,:0};for(const B of $){const W=QD(B.name,E);J[W]+=B.value}const re=JD(q.map(B=>J[B])),ue={:re[0],:re[1],:re[2],:re[3],:re[4]};return i&&console.log({elementScore:h,totals:$,perTenGod:U,perStemRaw:Z,perStemElementScaled:V,elementPercent100:ue}),{overlay:{totalsSub:H,perStemAugBare:Z,perStemAugFull:V},totals:$,perTenGod:U,PerTenGodSub:H,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:Z,perStemElementScaled:V,elementPercent100:ue}}const R0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zle=["","","","",""];function nP(e){return Zle.includes(e)}const Xle={:"",:"",:"",:"",:""},Jle={:"",:"",:"",:"",:""},Qle={:"",:"",:"",:"",:""},ece={:"",:"",:"",:"",:""},WE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tce=["","","","","","","","","",""],nce={natal:50,dae:30,se:20,wol:7,il:3};function sy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(In[t])return In[t];if(["","","","","","","","","","","",""].includes(t))return R0[t]??null;if(Kn[t])return R0[Kn[t]]??null;const n=t.charAt(0);return In[n]?In[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?R0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?R0[n]??null:null}function rce(e,t){const n=WE[e],r=WE[t];if(!n||!r)return"";let i;r===n?i="":r===Xle[n]?i="":r===Jle[n]?i="":r===Qle[n]?i="":r===ece[n]?i="":i="";const a=nP(e)===nP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function ly(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.round(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.round(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function rP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=sy(r);if(!a)continue;const o=rce(t,a);n[o]+=i}return ly(n)}function ice(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function iP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=sy(n);i&&(t[i]=(t[i]??0)+r)}return t}function aP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of tce){const i=WE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function oP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function ace(e,t){const n=t?.dae?L0(t.dae):{},r=t?.se?L0(t.se):{},i=t?.wol?L0(t.wol):{},a=t?.il?L0(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:h}of l){const p=nce[f];if(!h||Object.keys(h).length===0)continue;const b=ly(h);for(const[x,E]of Object.entries(b))o[x]=(o[x]??0)+E*p}const u=Object.values(o).reduce((f,h)=>f+h,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function oce(e){if(!e)return[];const t=sy(e.charAt(0)),n=sy(e.charAt(1));return[t,n].filter(Boolean)}function L0(e){const t=oce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Mv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Zc,f=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},p=KE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=KE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),x=iP(p.perStemElementScaled),E=n===""?x:ace(x,r),S=ly(E),_=rP(E,o),T=ice(_),N=aP(S),j=iP(b.perStemElementScaled),M=rP(j,o),D=ly(j),P=aP(D);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:S,perTenGodSub:_,perTenGod:T,overlay:{totalsSub:_,perStemAugBare:E,perStemAugFull:N},natalFixed:{elementScoreRaw:oP(b.elementScoreRaw),elementPercent100:oP(b.elementPercent100),totalsSub:M,overlay:{totalsSub:M,perStemAugBare:j,perStemAugFull:P}}}}const bo=["","","","",""],Pl={:0,:0,:0,:0,:0},sce=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],lce={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},u1=24,cce=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],cy=20;Object.fromEntries(Object.entries(In).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));const R7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},uce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function L7(e){return Math.max(0,Math.min(100,e))}function Kd(e,t,n){return Math.max(t,Math.min(n,e))}function dce(e){const t=L7(e);return sce.find(n=>t>=n.min&&t<n.max)?.name??""}function fce(e){const t=e?.[2]?.charAt(0)??"";return R7[t]??null}function hce(e){return(e?.[1]?.charAt(1)??"")||null}function I7(e){return Cv[e]}function mce(e){return e?{peer:e,resource:su[e],leak:vs[e],wealth:Ao[e],officer:I7(e)}:null}function pce(e){const t={...Pl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=R7[r],o=uce[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function gce(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Pl};return bo.forEach(r=>{n[r]=e[r]/t*100}),n}function bce(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return L7((n("")+n(""))/t*100)}function yce(e,t){return!e||!t?null:t===e?"":vs[e]===t?"":Ao[e]===t?"":I7(e)===t?"":su[e]===t?"":null}function vce(e){for(const[t,n]of cce)if(e>=t)return n;return 1}const sP=(e,t)=>Kd((cy-(t[e]??0))/cy,0,1),lP=(e,t)=>Kd(((t[e]??0)-cy)/cy,0,1);function xce(e,t,n,r){const i=yce(e,n);if(!e||!i)return 0;const a=Kd((50-t)/50,0,1),o=Kd((t-50)/50,0,1),l=sP(n,r),u=lP(n,r),f=sP(e,r),h=lP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*f+.15*l)*a;break;case"":b=+(.18+.45*f)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-f))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(f+l);break;case"":b=.05*f-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function _ce(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Pl};if(r){const o=vs[e],l=Ao[e],u=Cv[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=su[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function cP(e,t){if(!e)return{...Pl};const n=lce[e]??{temp:"mild",wet:"normal"},r={...Pl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function uP(e,t){const n={...Pl};for(const r of bo){const i=Ao[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=vs[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function dP(e,t){const n={...Pl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const I0=()=>new Map(bo.map(e=>[e,[]]));function Wd(e,t){const n=fce(e),r=hce(e),i=pce(e),a=gce(i);let o=bce(t);if(o==null)if(!n)o=50;else{const U=n,z=su[n],Z=Object.values(i).reduce((Q,V)=>Q+V,0)||1;o=Math.min(100,Math.max(0,((i[U]??0)+(i[z]??0))/Z*100))}const l=dce(o),u={...Pl},f=I0();if(n){const U=_ce(n,l,f);bo.forEach(z=>{u[z]+=U[z]??0})}const h=cP(r,f);bo.forEach(U=>{u[U]+=h[U]??0});const p=uP(i,f);bo.forEach(U=>{u[U]+=p[U]??0});const b=dP(i,f);bo.forEach(U=>{u[U]+=b[U]??0});const x=mce(n),E={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const U of t)E[U.name]=U.value;if(o>=45&&o<=55&&x){const U=E.>=30||E.>=Math.max(E.,E.,E.,E.)+5;o<=50?(u[x.resource]+=14,f.get(x.resource)?.push(": -"),u[x.peer]+=10,f.get(x.peer)?.push(": -"),u[x.leak]+=6,f.get(x.leak)?.push(": -"),u[x.wealth]+=3,f.get(x.wealth)?.push(": -"),U&&(u[x.officer]=Math.round(u[x.officer]*.8*10)/10,f.get(x.officer)?.push(":   "))):(u[x.leak]+=14,f.get(x.leak)?.push(": -"),u[x.wealth]+=10,f.get(x.wealth)?.push(": -"),u[x.officer]+=6,f.get(x.officer)?.push(": -"),u[x.resource]+=3,f.get(x.resource)?.push(": -"))}bo.forEach(U=>{const z=xce(n,o,U,a);u[U]=Kd(Math.round((u[U]+z)*10)/10,0,999)});const _=o<50;bo.forEach(U=>{const z=a[U]??0,Z=_&&n===U;if(z>=u1&&!Z){const Q=vce(z);u[U]=Math.round(u[U]*Q*10)/10;const V=Math.min(14,Math.max(0,Math.ceil((z-u1)*.5)));V>0&&(u[U]=Kd(u[U]-V,0,999)),f.get(U)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const U=vs[n],z=Ao[n],Z=Cv[n],Q=n,V=su[n];T[U].push(""),T[z].push(""),T[Z].push(""),T[Q].push(""),T[V].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},j=U=>{const z=a[U]??0;return z>=u1&&!(_&&n===U)?z>=55?4:z>=45?3:2:N[U]?0:1},M=cP(r,I0()),D=uP(i,I0()),P=dP(i,I0()),$=bo.map(U=>({element:U,score:Math.round(u[U]*10)/10,via:wce(U,M,D,P),reasons:(f.get(U)??[]).slice(),tenGodHints:T[U]})).sort((U,z)=>{const Z=j(U.element),Q=j(z.element);return Z!==Q?Z-Q:z.score!==U.score?z.score-U.score:U.element.localeCompare(z.element)}),H=Sce(l,M,D,P),Y={:0,:0,:0,:0,:0},K=t?t.reduce((U,z)=>(U[z.name]=z.value,U),{...Y}):void 0;return{chosenType:H,ordered:$,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function wce(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Sce(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Ece(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const fP=["","","","",""];function kce(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=KE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=fP.map(l=>r[l]??0),a=Ece(i),o={:0,:0,:0,:0,:0};return fP.forEach((l,u)=>{o[l]=a[u]}),o}function $7(e,t){const n=kce(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const Vd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},B7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ace=["","","","",""];function hP(e){return Ace.includes(e)}const Tce={:"",:"",:"",:"",:""},jce={:"",:"",:"",:"",:""},Oce={:"",:"",:"",:"",:""},Nce={:"",:"",:"",:"",:""};function Pm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(In[t])return In[t];if(["","","","","","","","","","","",""].includes(t))return $0[t]??null;if(Kn[t])return $0[Kn[t]]??null;const n=t.charAt(0);return In[n]?In[n]:["","","","","","","","","",""].includes(n)?n:Kn[n]?$0[Kn[n]]??null:["","","","","","","","","","","",""].includes(n)?$0[n]??null:null}function Cce(e,t){const n=Vd[e],r=Vd[t];if(!n||!r)return"";let i;r===n?i="":r===Tce[n]?i="":r===jce[n]?i="":r===Oce[n]?i="":r===Nce[n]?i="":i="";const a=hP(e)===hP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Mce(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Dv(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function Dce(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Vd[Pm(n)];i&&r>0&&(t[i]+=r)}return Dv(t)}function Pce(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Pm(r);if(!a)continue;const o=Cce(t,a);n[o]+=i}return n}function Rce(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Mce(n);t[i]+=r}return Dv(t)}function mP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function z7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Vd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=B7[i.charAt(1)];o&&(r[o]=!0)}}return r}function U7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Vd[n.charAt(0)],i=B7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function d1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Lce=["","","","","","","","","",""];function Ice(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Pm(n);i&&(t[i]=(t[i]??0)+r)}return t}function $ce(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Lce){const i=Vd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Bce={natal:50,dae:30,se:20,wol:7,il:3};function zce(e){const t={};for(const{kind:r,bare:i}of e){const a=Bce[r]??0;if(a<=0)continue;const o=Dv(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Uce(e){if(!e)return[];const t=Pm(e.charAt(0)),n=Pm(e.charAt(1));return[t,n].filter(Boolean)}function B0(e){const t=Uce(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const VE=["","","","",""];function Fce(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Hce(e,t){const n=VE.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function wA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Gce(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function pP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function qce(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,f=null;if(pP(i)===a)u=i,f=a;else if(pP(a)===i)u=a,f=i;else continue;const h=Gce(u),p=`${u}()${f}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:f,mediator:h,reason:p})}return r}function SA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Fh(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function Hh(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Yce(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(f=>({element:f.el,elNorm:f.el,score:SA(f.base,t[f.el]??0),reasons:[f.why,` ${f.el}  ${Math.round(t[f.el]??0)}%`]}))}function Kce(e){const t=qce(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),f=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];f?n.set(i.mediator,{score:Math.max(f.score,u),reasons:[...f.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:SA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Wce(e,t){let n="",r=e.??0;for(const f of VE){const h=e[f]??0;h<r&&(r=h,n=f)}const i=VE.some(f=>!t[f]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=SA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function EA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=Hh(Fh(t,i,a),i,a),u=Hh(Fh(Yce(n,r),i,a),i,a),f=Fce(n),h=Hce(r,i),p=f==="WINTER"||f==="SUMMER"?.85:.55,b=1.25,x=Kce(r),E=Hh(Fh(x.items,i,a),i,a),S=Wce(r,i),_=Hh(Fh(S.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,j=Hh(Fh(T,i,a),i,a),M=z=>Math.max(0,...z.map(Z=>Number.isFinite(Z.score)?Z.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:f==="WINTER"?"2. ()   ":f==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:x.applicable,note:x.note,candidates:E},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:S.applicable,note:S.note,candidates:_},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:j}].map(z=>{const Z=M(z.candidates),Q=z.candidates[0];let V=0;if(z.applicable&&Q){if(V=Q.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const q=Math.min(35,Math.round(h.spread*.9));V+=q}z.kind==="EOKBU"&&h.balancedPresent&&(V*=.75),Q.elNorm&&!i[Q.elNorm]&&(V*=.25)}return{...z,maxScore:Z,fitScore:Math.round(V),finalScore:Math.round(V)}}).sort((z,Z)=>z.priority-Z.priority),$=[...P].filter(z=>z.applicable&&z.candidates.length>0).sort((z,Z)=>Z.fitScore!==z.fitScore?Z.fitScore-z.fitScore:z.priority-Z.priority)[0],H=Math.max(0,...P.map(z=>z.fitScore)),Y=$?.kind??null,K=P.map(z=>{if(!Y)return z;if(z.kind===Y){const Z=z.fitScore<H?H+1:z.fitScore;return{...z,finalScore:Z}}return{...z,finalScore:z.fitScore}}),U=Y?K.find(z=>z.kind===Y)??null:null;return{bestKind:Y,best:U,groups:K}}const Vce={:"",:"",:"",:"",:""},Zce={:"",:"",:"",:"",:""},Xce={:"",:"",:"",:"",:""},Jce={:"",:"",:"",:"",:""};function f1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function Qce(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function eue(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function tue(e,t){switch(t){case"":return e;case"":return Vce[e];case"":return Xce[e];case"":return Jce[e];case"":return Zce[e]}}function nue(e,t){const n=new Map,r=(u,f,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:f,reasons:[h]});return}p.score=Math.max(p.score,f),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=f1(t),a=Qce(e.);if(i&&a){const u=eue(a),f=tue(i,u);r(f,92,` ${e.}  ${u} (${f})`)}const o=f1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=f1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,f)=>f.score-u.score)}const Gh=e=>e&&e.length>=1?e.charAt(0):"",z0=e=>e&&e.length>=2?e.charAt(1):"";function rue(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function iue({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:f}=fi(),h=w.useMemo(()=>Re(l),[l]),p=w.useMemo(()=>Re(u),[u]),b=w.useMemo(()=>Re(f),[f]),x=pu(e,e?.mingSikType),E=w.useMemo(()=>{if(!x?.length)return 0;const _e=x.findIndex((Oe,Ie)=>{const Ve=x[Ie+1]?.at;return o>=Oe.at&&(!Ve||o<Ve)});return _e!==-1?_e:o<x[0].at?0:x.length-1},[x,o]),S=w.useMemo(()=>{const _e=r??x?.[E]?.gz??"";return Re(_e)||null},[r,x,E]),{manualHour:_}=rp(),T=e.mingSikType??"/",N=w.useMemo(()=>mP(t),[t]),j=w.useMemo(()=>mP(n),[n]),M=w.useMemo(()=>{const _e=[...N];return(!_e[3]||_e[3]===""||_e[3]==="--")&&_&&(_e[3]=_.stem+_.branch),_e},[N,_]),D=w.useMemo(()=>{const _e=[...j];return(!_e[3]||_e[3]===""||_e[3]==="--")&&_&&(_e[3]=_.stem+_.branch),_e},[j,_]),P=w.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),Oe=Number(e.birthDay?.slice(4,6)),Ie=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(Oe)||!Number.isFinite(Ie))return null;const Ve=new Date(_e,Oe-1,Ie,12,0,0,0),yt=Re(at(Ve)||""),xt=Re(kt(Ve)||""),Dt=Re(gt(Ve,T)||"");return[yt,xt,Dt,""]},[e.birthDay,T]),$=d1(M),H=d1(D),K=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?H?"lunar":$?"solar":"lunar":$?"solar":H?"lunar":"solar",U=w.useMemo(()=>{const Oe=[...K==="lunar"?H?D:$?M:P??["","","",""]:$?M:H?D:P??["","","",""]];return(!Oe[3]||Oe[3]===""||Oe[3]==="--")&&_&&(Oe[3]=_.stem+_.branch),Oe[3]==="--"&&(Oe[3]=""),Oe},[K,$,H,M,D,P,_]),z=w.useMemo(()=>Gh(U[2]??""),[U]),Z=w.useMemo(()=>z0(U[1]??""),[U]),Q=w.useMemo(()=>rue(e.birthDay),[e.birthDay]),V=w.useMemo(()=>_?_.stem+_.branch:U[3]||"",[_,U]),q=w.useMemo(()=>({dae:i!==""?S??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,S,h,p,b]),J=w.useMemo(()=>Mv({natal:U,tab:i,chain:q,hourKey:V}),[U,i,q,V]),re=w.useMemo(()=>{if(!J)return null;const _e=Ice(J.perStemElementScaled),Oe=q.dae?B0(q.dae):{},Ie=q.se?B0(q.se):{},Ve=q.wol?B0(q.wol):{},yt=q.il?B0(q.il):{},xt=zce([{kind:"natal",bare:_e},{kind:"dae",bare:Oe},{kind:"se",bare:Ie},{kind:"wol",bare:Ve},{kind:"il",bare:yt}]),Dt=Dv(xt),he=$ce(Dt),De=Pce(xt,J.dayStem),Be=Rce(De),lt=Dce(xt);return{perStemAugBare:xt,perStemAugFull:he,elemPct100:lt,totalsMain:Be,totalsSub:De}},[J,q]),ue=w.useMemo(()=>z7(U,{includeBranches:!0}),[U]),se=w.useMemo(()=>["","","","",""].some(_e=>!ue[_e]),[ue]),B=re?.elemPct100??J?.elementPercent100??U7(U),W=w.useMemo(()=>{if(!J||!re)return[];const _e=A7(J.dayStem);return Object.entries(re.totalsMain).map(([Oe,Ie])=>({name:Oe,value:Ie,color:_e[Oe]}))},[J,re]),ae=re?.elemPct100??{:0,:0,:0,:0,:0},X=re?.totalsSub??null,oe=w.useMemo(()=>[i,S??"",h??"",p??"",b??"",o?.toISOString?.()??"",V].join("|"),[i,S,h,p,b,o,V]),de=w.useMemo(()=>{const _e=X?Object.entries(X).sort(([Ie],[Ve])=>Ie.localeCompare(Ve)).map(([Ie,Ve])=>`${Ie}:${Ve}`).join(","):"none",Oe=W.map(Ie=>`${Ie.name}:${Ie.value}`).join(",");return`${oe}||${U.join("")}||${Oe}||${_e}`},[oe,U,W,X]),pe=typeof Wd=="function"?Wd(U,J?.totals):null,ye=w.useMemo(()=>(pe?.ordered??[]).map(Oe=>{const Ie=Oe.element??"",Ve=/||wood/i.test(Ie)?"":/||fire/i.test(Ie)?"":/||earth/i.test(Ie)?"":/||metal/i.test(Ie)?"":/||water/i.test(Ie)?"":null,yt=typeof Oe.score=="number"?Oe.score:Ve?B[Ve]??0:0,xt=Array.isArray(Oe.reasons)?Oe.reasons:[];return{element:Ie,elNorm:Ve,score:yt,reasons:xt}}),[pe,B]),ne=w.useMemo(()=>ye.map(_e=>({element:_e.element,elNorm:_e.elNorm,score:_e.score,reasons:_e.reasons})),[ye]),je=w.useMemo(()=>{if(!z||!Z)return[];const[_e,Oe,Ie,Ve]=U,yt=[Gh(_e),Gh(Oe),Gh(Ie),Gh(Ve)].filter(Boolean),xt=[z0(_e),z0(Ie),z0(Ve)].filter(Boolean),Dt=E7({dayStem:z,monthBranch:Z,date:Q,pillars:U,emittedStems:yt,otherBranches:xt}),he=nue(Dt,z),De=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(he??[]).map(Be=>({element:Be.element,elNorm:De(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[U,z,Z,Q]),Ce=w.useMemo(()=>{const _e=U[1]||"";return EA({eokbuList:ne,monthGz:_e,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:je})},[U,ne,B,ue,a,je]),ve=w.useMemo(()=>{const _e=Ce.best;return _e?.candidates?.length?_e.candidates.map(Oe=>({element:Oe.element,elNorm:Oe.elNorm,score:Oe.score,reasons:Oe.reasons})):ye},[Ce,ye]),Ze=w.useMemo(()=>Math.max(0,...ve.map(_e=>Number.isFinite(_e.score)?_e.score:0)),[ve]),Ne=w.useMemo(()=>$7(U,{criteriaMode:"modern",useHarmonyOverlay:!0}),[U]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:S,activePillars:U,chain:q,unified:J,overlay:re,chartData:W,elementPct:ae,tenSubTotals100:X,hourKeyForUi:V,revKey:de,yongshinMulti:Ce,yongshinRecommend:Ce,yongshinList:ve,maxScore:Ze,hasAbsent:se,dayElementPercent:Ne,isValidActive:d1(U)}}function aue(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function oue(e){const t=new Date(e,1,15,12,0,0,0);return Re(at(t)||"")}function sue(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=wA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const lue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function uy(e){return lue[e]??null}function cue(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=xA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=uy(a);if(l&&(n[l]=!0),vA(o)){const u=r[o],f=[u.,u.,u.].filter(Boolean);for(const h of f){const p=uy(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function uue(e,t){const n=xA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",f=uy(l);if(f&&(r[f]+=50),vA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((E,S)=>E+(Number.isFinite(S.w)?S.w:0),0),x=b>0?b:1;for(const E of p){const S=uy(E.stem);S&&(r[S]+=50*E.w/x)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function due(e,t,n){return e||uue(t,n)}function fue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=w.useMemo(()=>_7(o),[o]),u=pu(t,t?.mingSikType),f=w.useMemo(()=>Array.isArray(u)?u.filter(aue).slice(0,10):[],[u]),[h,p]=w.useState(0),[b,x]=w.useState(0),E=Math.max(0,Math.min(f.length-1,h)),S=f[E]??null,_=w.useMemo(()=>{if(!S)return[];const Y=S.at.getFullYear();return Array.from({length:10},(K,U)=>{const z=Y+U;return{year:z,gz:oue(z)}})},[S]),T=b==null?null:Math.max(0,Math.min(_.length-1,b)),N=T==null?null:_[T]??null,j=w.useMemo(()=>cue(n,l),[n,l]),M=w.useMemo(()=>["","","","",""].some(Y=>!j[Y]),[j]),D=w.useMemo(()=>{const Y=S?Re(S.gz):null,K=N?Re(N.gz):null;return{dae:Y||null,se:K||null,wol:null,il:null}},[S,N]),P=w.useMemo(()=>D.se?"":"",[D.se]),$=w.useMemo(()=>{const Y=S?`${S.at.getFullYear()}~ ${Re(S.gz)}`:" -",K=N?` / ${N.year} ${Re(N.gz)}`:"";return`${Y}${K}`},[S,N]),H=w.useMemo(()=>{if(!S)return null;const Y=Mv({natal:n,tab:P,chain:D,hourKey:r}),K=due(Y?.elementPercent100,n,l),U=typeof Wd=="function"?Wd(n,Y?.totals):null,z=sue(U,K);return EA({eokbuList:z,monthGz:n[1]||"",elemPct:K,presentMap:j,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[S,n,P,D,r,j,i,a,l]);return{daeIndex:E,setDaeIndex:p,seIndex:T,setSeIndex:x,dae10:f,se10:_,chain:D,tab:P,label:$,recommend:H,presentMap:j,hasAbsent:M}}const hue={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function ZE(e){return e?hue[e]??e:""}function mue(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function pue(e){const t=new Date(e,1,15,12,0,0,0);return Re(at(t)||"")}function h1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?wA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${ZE(r)}:${i}`:r?`${ZE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function gue(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=wA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function gP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Mv({natal:t,tab:i,chain:r,hourKey:n}),f=u?.elementPercent100??U7(t),h=typeof Wd=="function"?Wd(t,u?.totals):null,p=gue(h,f);return EA({eokbuList:p,monthGz:t[1]||"",elemPct:f,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function bue(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const yo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function bP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`: ${ZE(t.kind)}`,tone:"pick"}),g.jsx(yo,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(yo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:`${i+1} ${r.element}`}),g.jsx(yo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(yo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function yue(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=w.useMemo(()=>z7(n,{includeBranches:!0}),[n]),l=pu(t,t?.mingSikType),u=w.useMemo(()=>Array.isArray(l)?l.filter(mue).slice(0,10):[],[l]),f=w.useMemo(()=>h1(a),[a]),[h,p]=w.useState(null),b=S=>p(_=>_===S?null:S),x=w.useMemo(()=>u.map((S,_)=>{const T=Re(S.gz)||"",j=gP({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),M=h1(j),D=S.at.getFullYear(),P=Array.from({length:10},(U,z)=>{const Z=D+z,Q=pue(Z),q=gP({pillars:n,hourKey:r,chain:{dae:T||null,se:Q||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),J=h1(q);return{year:Z,snap:J}}),H=bue(P).filter(U=>U.snap.top1ElNorm!==M.top1ElNorm),Y=M.top1ElNorm!==f.top1ElNorm,K=Y||H.length>0;return{idx:_,dae:S,daeLabel:`${D}~ ${T||""}`,daeSnap:M,daeDiffFromNatal:Y,segDiffOnly:H,hasAnyChange:K}}).filter(S=>S.hasAnyChange),[u,n,r,i,o,f.top1ElNorm]),E=w.useMemo(()=>x.some(S=>S.hasAnyChange),[x]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",f.label," /  ",f.fit]})]}),E?g.jsx("div",{className:"space-y-3",children:x.map(S=>{const _=`dae:${S.idx}`,T=h===_;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(yo,{text:` ${S.daeLabel}`,tone:"base"}),g.jsx(yo,{text:` ${S.daeSnap.label} ( ${S.daeSnap.fit})`,tone:S.daeDiffFromNatal?"diff":"base",onClick:()=>b(_),title:" (top3) "}),S.daeDiffFromNatal?g.jsx(yo,{text:" ",tone:"diff"}):null]}),S.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:S.segDiffOnly.map((N,j)=>{const M=`seg:${S.idx}:${j}`,D=h===M,P=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(yo,{text:` ${P}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>b(M),title:" (top3) "})}),D?g.jsx(bP,{snap:N.snap}):null]},M)})}):null,T?g.jsx(bP,{snap:S.daeSnap}):null]},_)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function vue(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function xue(e){return e.slice(0,3)}const ym=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return g.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function _ue({g:e,isBest:t}){const n=xue(e.candidates);return g.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[g.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:g.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),g.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&g.jsx(ym,{text:" "}),t&&g.jsx(ym,{text:" ",tone:"best"}),g.jsx(ym,{text:` ${e.fitScore}`})]})}),g.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):g.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),g.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:vue(r.score??0,e.maxScore)},title:` ${r.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function wue({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),g.jsx("div",{className:"text-sm font-semibold",children:e?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?g.jsx(ym,{text:`1: ${t.element}`}):null,e?.fitScore!=null?g.jsx(ym,{text:` ${e.fitScore}`}):null]}),e?.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function Sue({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,l=fue({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  ()"}),l.hasAbsent?g.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),g.jsx(wue,{best:o.best}),g.jsx("div",{className:"space-y-2",children:o.groups.map(u=>g.jsx(_ue,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),g.jsx(yue,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const yP=e=>e<10?`0${e}`:`${e}`;function Eue(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o),u=`${l.getFullYear()}${yP(l.getMonth()+1)}${yP(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function kue(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Aue=["  ","   ","","",""];function Tue(e){return e==="  "||e===""}function jue({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=Tn(p=>p.settings),a=dle(),o=Eue(e),l=kue(o.birthDay)||void 0,u=on(p=>p.canUseAdvancedReportNow()),f=iue({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=w.useMemo(()=>"    100   ! (  )",[]);return f.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:ule.map(p=>g.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),g.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:Aue.map(p=>{const b=!u&&Tue(p),x=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(b?"opacity-60 ":"")+(x?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,b?" ":""]},p)})}),a.bigTab===""&&g.jsx($oe,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(Poe,{data:f.chartData,revKey:f.revKey,perStemElementScaled:f.overlay?.perStemAugFull,elementPercent:f.elementPct,dayStem:f.activePillars[2]?.charAt(0)??null},`pentagon-${f.revKey}`),g.jsx(Ioe,{value:f.dayElementPercent}),g.jsx(Xoe,{natal:f.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Sue,{recommend:f.yongshinMulti,data:o,pillars:f.activePillars,hourKey:f.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab===""&&g.jsx(Uoe,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(Xse,{unified:f.unified,pillars:f.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${f.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const U0=e=>typeof e=="string"&&e.length>=2,Oue=e=>!Array.isArray(e)||e.length!==4?!1:U0(e[0])&&U0(e[1])&&U0(e[2])&&(e[3]===""||U0(e[3]));function Nue({data:e}){const[t,n]=w.useState("un"),r=on(u=>u.canUseMyoViewerNow());w.useEffect(()=>{t==="myoun"&&!r&&n("un")},[t,r]);const i=w.useMemo(()=>{try{const u=cp(e);return Ml(u)}catch{return new Date}},[e]),a=w.useMemo(()=>Nv(e,i),[e,i]),o=!e.birthTime||e.birthTime==="",l=w.useMemo(()=>{try{const u=at(a,e.birthPlace?.lon),f=kt(a,e.birthPlace?.lon),h=gt(a,e.mingSikType),p=o?"":Fa(a,e.mingSikType);return[u,f,h,p]}catch{return[]}},[a,e?.mingSikType,e?.birthPlace?.lon,o]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),r?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(woe,{data:e}),t==="myoun"&&r&&g.jsx(Aoe,{data:e}),t==="report"&&g.jsx(jue,{data:e,pillars:Oue(l)?l:[]})]})}function Cue({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=_r(M=>M.list.length),a=on(M=>M.canAddMyeongsik),[o,l]=w.useState(!1);w.useEffect(()=>{let M=!0;Me.auth.getSession().then(({data:P})=>{M&&l(!!P.session?.user)});const{data:D}=Me.auth.onAuthStateChange((P,$)=>{l(!!$?.user)});return()=>{M=!1,D.subscription.unsubscribe()}},[]);const u=r||o,f=a(i),h=!f.ok,p=h?f.message:"",b=()=>{if(h){_o(p||"   ");return}t()},x=()=>{if(h){_o(p||"   ");return}n()},E=()=>{wo.getState().openWith("HEADER")},S=async()=>{const{error:M}=await Me.auth.signOut();if(M){console.error(M),_o("  ");return}_o(" ")},_="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",T="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",N="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",j="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(AV,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${_} ${h?j:T}`,children:[g.jsx(RV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:x,"aria-label":"  ",disabled:h,title:"  ",className:`${_} ${h?j:N}`,children:[g.jsx(MV,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsxs("button",{type:"button",onClick:S,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:[g.jsx(_2,{size:16}),g.jsx("ins",{children:""})]}):g.jsx("button",{type:"button",onClick:E,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Mue(e){w.useEffect(()=>{const t=e??e$()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n$(t),e&&t$(e)},[e])}const F7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Due(e){return typeof e=="string"&&F7.includes(e)}function XE(e){const t=Array.isArray(e)?e.filter(Due):[],n=F7.filter(r=>!t.includes(r));return[...t,...n]}function JE(e){return{...Zc,...e,sectionOrder:XE(e.sectionOrder)}}function Pue(e,t){return e.theme??t.theme??"dark"}function Rue({open:e,settings:t}){const n=w.useMemo(()=>XE(t.sectionOrder),[t.sectionOrder]),r=w.useMemo(()=>JE(t),[t]),[i,a]=w.useState(n),[o,l]=w.useState(r),[u,f]=w.useState(null),[h,p]=w.useState(!1);return w.useEffect(()=>{if(!e||h)return;const x=XE(t.sectionOrder);l({...JE(t),sectionOrder:x}),a(x),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(x,E)=>{l(S=>{const _={...S,[x]:E};return p(!0),_})},toastMessage:u,setToastMessage:f,dirty:h,setDirty:p}}function Lue(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function H7(e){t$(e)}function Iue({setSettings:e,saveToServer:t}){return{applyChanges:w.useCallback(async(r,i,a)=>{const o={...JE(r),sectionOrder:i};Lue(),e(o),o.theme&&H7(o.theme),await t(!0),a()},[e,t])}}function $ue({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=Tn(),a=Rue({open:e,settings:n}),o=Iue({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=Pue(a.localSettings,n);Mue(u),w.useEffect(()=>{H7(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:x,source:E}=b;if(!x||x.index===E.index)return;const S=Array.from(a.order),[_]=S.splice(E.index,1);S.splice(x.index,0,_),a.setOrder(S)},p=b=>{switch(b){case"theme":return g.jsx(Ca,{title:"",children:g.jsx(Bue,{value:a.localSettings.theme??"dark",onChange:x=>a.updateSetting("theme",x)})});case"hiddenStem":return g.jsx(Ca,{title:"  ",children:g.jsx(hd,{value:a.localSettings.hiddenStem,onChange:x=>a.updateSetting("hiddenStem",x),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Ca,{title:" ",children:g.jsx(hd,{value:a.localSettings.hiddenStemMode,onChange:x=>a.updateSetting("hiddenStemMode",x),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Ca,{title:"",children:g.jsx(hd,{value:a.localSettings.sinsalMode,onChange:x=>a.updateSetting("sinsalMode",x),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Ca,{title:"",children:g.jsx(hd,{value:a.localSettings.sinsalBase,onChange:x=>a.updateSetting("sinsalBase",x),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:x=>a.updateSetting("sinsalBloom",x)})});case"exposure":return g.jsx(Ca,{title:" ",children:g.jsx(hd,{value:a.localSettings.exposure,onChange:x=>a.updateSetting("exposure",x),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Ca,{title:" ",children:g.jsx(hd,{value:a.localSettings.charType,onChange:x=>a.updateSetting("charType",x),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Ca,{title:" ",children:g.jsx(ho,{label:" ",checked:!!a.localSettings.thinEum,onChange:x=>a.updateSetting("thinEum",x)})});case"visibility":return g.jsx(Ca,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(ho,{label:" ",checked:!!a.localSettings.showSipSin,onChange:x=>a.updateSetting("showSipSin",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:x=>a.updateSetting("showSibiUnseong",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:x=>a.updateSetting("showSibiSinsal",x)}),g.jsx(ho,{label:" ",checked:!!a.localSettings.showNabeum,onChange:x=>a.updateSetting("showNabeum",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:x=>a.updateSetting("showEtcShinsal",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:x=>a.updateSetting("showRelationBox",x)}),g.jsx(ho,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:x=>a.updateSetting("showPromptBox",x)})]})});case"difficultyMode":return g.jsx(Ca,{title:" UP ver.",children:g.jsx(ho,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:x=>a.updateSetting("difficultyMode",x)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&g.jsx(op,{onDragEnd:h,children:g.jsx(mf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((x,E)=>g.jsx(hf,{draggableId:x,index:E,children:S=>g.jsxs("li",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(x)})]})},x)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(M4,{message:a.toastMessage,onClose:l,ms:1800})]})}function Bue({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Ca({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function hd({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function ho({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function zue({onShowToday:e,onShowCouple:t,onShowFaq:n}){const[r,i]=w.useState(!1),[a,o]=w.useState(!1),[l,u]=w.useState(!1),[f,h]=w.useState(!1);w.useEffect(()=>{let T=!0;Me.auth.getSession().then(({data:j})=>{T&&h(!!j.session?.user)});const{data:N}=Me.auth.onAuthStateChange((j,M)=>{h(!!M?.user)});return()=>{T=!1,N.subscription.unsubscribe()}},[]);const p=f;w.useEffect(()=>{!p&&l&&u(!1)},[p,l]);const b=()=>{wo.getState().openWith("BOTTOM_NAV")},x=async()=>{if(!a){o(!0);try{const{error:T}=await Me.auth.signOut();if(T)throw T;window.location.reload()}catch(T){console.error(T),alert(" .  ."),o(!1)}}},E="var(--bottom-dock, 0px)",S="env(safe-area-inset-bottom, 0px)",_={bottom:E,height:`calc(64px + ${S})`,paddingBottom:S};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:_,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(md,{icon:g.jsx(xV,{size:22}),label:" ",onClick:e}),g.jsx(md,{icon:g.jsx(yV,{size:22}),label:"",onClick:t}),g.jsx(md,{icon:g.jsx(n5,{size:22}),label:"FAQ",onClick:n}),g.jsx(md,{icon:g.jsx(NV,{size:22}),label:"",onClick:()=>i(!0)}),p?g.jsx(md,{icon:g.jsx(_2,{size:22}),label:"",onClick:()=>u(!0),disabled:a}):g.jsx(md,{icon:g.jsx(x2,{size:22}),label:"",onClick:b})]})}),g.jsx($ue,{open:r,onClose:()=>i(!1)}),p&&l&&g.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>u(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:T=>T.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>u(!1),children:""}),g.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{u(!1),x()},children:""})]})]})})]})}function md({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const G7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),dy=e=>G7(e).join(""),Uue=()=>{const[e,t]=w.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(QM);return u?JSON.parse(u):{}}catch{return{}}});w.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(QM,JSON.stringify(e))}catch{}},[e]);const[n,r]=w.useState({}),[i,a]=w.useState(""),[o,l]=w.useState(()=>{const u=Jb(),f=Qb(),h=f.length?pm(u,f):u;return Ed(h,e)});return w.useEffect(()=>{l(u=>{const f=Ed(u,e);return dy(f)===dy(u)?u:f})},[e]),w.useEffect(()=>{r(u=>{const f={...u};for(const h of o)f[h]===void 0&&(f[h]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},Fue=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=w.useMemo(()=>{const i=Z2(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[li]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},qh=async()=>{const{data:e,error:t}=await Me.auth.getUser();return t||!e.user?null:e.user.id},Hue=async e=>{const{data:t,error:n}=await Me.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Gue=async e=>{const{data:t,error:n}=await Me.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},que=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Me.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Me.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Yue=async(e,t)=>{const{error:n}=await Me.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Kue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Wue=async(e,t)=>{const{error:n}=await Me.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Vue=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=w.useState(!1),o=w.useRef(e),l=w.useRef(!1),u=w.useRef(!1);w.useEffect(()=>{o.current=e},[e]),w.useEffect(()=>{(async()=>{if(i)return;const N=await qh();if(!N)return;try{if(!u.current){const $=await Hue(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&eA($.data)}}catch($){console.error("load custom folders exception:",$)}const j=await Gue(N);if(j.error){console.error("load folder order from server error:",j.error),a(!0);return}const M=Jb(),D=j.data,P=D.length?pm(M,D):pm(M,Qb());n(Ed(P,o.current)),D.length&&kd(D),a(!0)})()},[i,n]);const f=w.useCallback(async T=>{const N=await qh();if(!N)return;const j=await que(N,T);j.error&&console.error("save folder order to server error:",j.error)},[]),h=w.useRef(null),p=w.useRef(null),b=w.useRef(""),x=w.useCallback((T,N)=>{const j=G7(T),M=dy(j);if(M&&M===b.current)return;h.current=j;const D=async()=>{const P=h.current;if(h.current=null,!P)return;const $=dy(P);$&&$===b.current||(await f(P),b.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),D();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,D()},300)},[f]);w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=h.current;h.current=null,T&&T.length&&f(T)},[f]),w.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(l.current){l.current=!1;return}const N=Jb(),j=Qb(),M=j.length?pm(N,j):N;n(Ed(M,o.current))};return window.addEventListener(Dl,T),()=>window.removeEventListener(Dl,T)},[n]);const E=w.useCallback(T=>{const{source:N,destination:j,type:M}=T;if(!j||M!=="FOLDER")return;const D=N.index,P=j.index;D!==P&&n($=>{if(!$.length)return $;const H=[...$],[Y]=H.splice(D,1);H.splice(P,0,Y);const K=Ed(H,o.current);return l.current=!0,kd(K),x(K),K})},[x,n]),S=w.useCallback(T=>{const N=T.trim();!N||N===fn||(C4(N),(async()=>{if(u.current)return;const j=await qh();if(!j)return;const M=await Kue(j,N);M.disabled&&(u.current=!0),M.error&&console.error("save custom folder error:",M.error)})(),n(j=>{if(j.includes(N))return j;const M=[...j,N],D=Ed(M,o.current);return kd(D),x(D,{immediate:!0}),D}))},[x,n]),_=w.useCallback(T=>{r(T),t(N=>{const j={...N};return delete j[T],j}),n(N=>{const j=N.filter(M=>M!==T);return kd(j),x(j,{immediate:!0}),(async()=>{const M=await qh();if(!M)return;const D=await Yue(M,T);D.error&&console.error("delete folder order entry error:",D.error)})(),j}),j4.includes(T)?bne(T):(gne(T),(async()=>{if(u.current)return;const N=await qh();if(!N)return;const j=await Wue(N,T);j.disabled&&(u.current=!0),j.error&&console.error("delete custom folder error:",j.error)})())},[x,t,n,r]);return{handleDragEnd:E,createFolder:S,deleteFolder:_,UNASSIGNED_LABEL:fn}};function Zue(e,t){const n=Uue(),r=Fue({list:e,orderedFolders:n.orderedFolders}),i=Vue({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Xue({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=_r(p=>p.list.length),o=on(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",f=()=>{if(l){_o(u||"   ");return}t()},h=async()=>{const{error:p}=await Me.auth.signOut();if(p){console.error(p),_o("  ");return}_o(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(_2,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(x2,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:f,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(jV,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(zb,{size:22})})]})]})}function Jue({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(gV,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function Que({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function vP({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(mf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function ede({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:f}){return g.jsx(hf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(hV,{size:16}):g.jsx(dV,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(r5,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const tde=()=>({canManage:on(()=>!0)}),Pv="";function nde(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Pv?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function rde(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function ide(e,t,n){if(n)return Pv;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":f7(i)}function xP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function ade(e){const t=xP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Xb(r,i,a)||!e.birthTime||e.birthTime===Pv)return t;const o=Number(e.birthTime.slice(0,2)),l=e.birthTime.slice(2,4),u=o-1<0?23:o-1,f=String(u).padStart(2,"0")+l,h=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(h.getTime()))return t;const p=new Date(h.getTime()-3600*1e3),b=K2({...e,birthTime:f,corrected:p});return xP({...e,...b})}function ode(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function sde(e,t){return Number.isNaN(e)?0:t-e+1}function lde(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function cde(e){return e===""?"":e===""?"":e??""}function ude({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=ade(e),o=rde(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=cde(e.gender),f=!e.birthTime||e.birthTime===Pv,h=ide(e.correctedLocal,e.corrected,f),p=!!(o||h),b=nde(e.birthDay,e.birthTime),x=e.calendarType==="lunar"?"":"",E=ode(e.birthDay),S=sde(E,new Date().getFullYear()),_=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",j=r?" ":"::",M=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:j,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:x,correctedLabel:h,showMetaLine:p,showMemo:_,memoToggleLabel:T,age:S,mingSikTypeValue:N,favoriteLabel:M,editLabel:"",deleteLabel:"",getDragStyle:lde}}const dde=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const f=w.useCallback(_=>{_?.stopPropagation(),n(e.id)},[n,e.id]),h=w.useCallback(_=>{_?.stopPropagation(),a(e)},[a,e]),p=w.useCallback(_=>{_?.stopPropagation(),o(e)},[o,e]),b=w.useCallback(_=>{_?.stopPropagation(),l(e)},[l,e]),x=w.useCallback(_=>{_?.stopPropagation(),u(e.id)},[u,e.id]),E=w.useCallback(_=>{const T=_===t?void 0:_;r(e.id,T)},[r,e.id,t]),S=w.useCallback(_=>{i(e,_)},[i,e]);return{handleToggleMemo:f,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:x,handleFolderChange:E,handleMingSikTypeChange:S}};function _P({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:b}){tde();const x=ude({m:e,memoOpen:a,isDragDisabled:i}),E=dde({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:l,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:b});return g.jsx(hf,{draggableId:x.keyId,index:t,isDragDisabled:i,children:S=>g.jsx("li",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,style:S.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",x.age," ",x.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:x.relationshipLabel}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:x.dragHandleLabel})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[x.birthDisplay,", ",x.calendarLabel]}),x.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[x.placeDisplay,x.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",x.correctedLabel]})]}),x.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:x.ganji}),x.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:E.handleToggleMemo,children:x.memoToggleLabel}),g.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:_=>_.stopPropagation(),onChange:_=>{_.stopPropagation(),E.handleFolderChange(_.target.value)},children:[r,...n].map(_=>g.jsx("option",{value:_,children:_},_))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:x.mingSikTypeValue,onClick:_=>_.stopPropagation(),onChange:_=>{_.stopPropagation(),E.handleMingSikTypeChange(_.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:E.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:E.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:x.editLabel}),g.jsx("button",{type:"button",title:"",onClick:E.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:x.deleteLabel}),g.jsx("button",{type:"button",title:x.favoriteLabel,onClick:E.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":x.favoriteLabel,children:g.jsx(r5,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},x.keyId)}const fde="list:__unassigned__",hde=e=>`list:${e}`,wP=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},mde=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=S4(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=w.useMemo(()=>Jte({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},pde=({list:e,orderedFolders:t})=>{const[n,r]=w.useState(""),[i,a]=w.useState("name"),[o,l]=w.useState({}),u=w.useRef(null),f=w.useRef(null);return w.useEffect(()=>{if(f.current==null)return;const b=u.current;b&&(b.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(x=>({...x,[b]:!x[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(f.current=b.scrollTop)}}},SP=()=>{typeof window>"u"||window.dispatchEvent(new Event(Dl))},gde=({orderedFolders:e,isFiltering:t,handleFolderDragEnd:n,moveItemByDnD:r,update:i,remove:a,onView:o,onClose:l,onDeleteView:u,folderFavMap:f,setFolderFavMap:h,setFolderOpenMap:p,createFolder:b,deleteFolder:x,newFolderName:E,setNewFolderName:S,stashScrollTop:_})=>{const T=w.useCallback((K,U)=>{i(K,{folder:U})},[i]),N=w.useCallback((K,U)=>{const z={...K,mingSikType:U},Z=K2(z);i(K.id,{mingSikType:U,...Z}),o({...z,...Z}),l()},[i,o,l]),j=w.useCallback(K=>{o(K),l()},[o,l]),M=w.useCallback(K=>{confirm(`'${K.name}'  ?`)&&(a(K.id),u&&u())},[a,u]),D=w.useCallback(()=>{const K=E.trim();K&&(b(K),S(""),SP())},[E,b,S]),P=w.useCallback(K=>{if(f[K]){alert(`'${K}'   .
   .`);return}confirm(`'${K}'  ?
(   )`)&&(x(K),SP())},[f,x]),$=w.useCallback(K=>{p(U=>({...U,[K]:!U[K]}))},[p]),H=w.useCallback(K=>{h(U=>({...U,[K]:!U[K]}))},[h]);return{handleDrop:w.useCallback(K=>{const{type:U,source:z,destination:Z,draggableId:Q}=K;if(Z&&!t){if(_(),U==="FOLDER"){n(K);return}if(U==="ITEM"){if(!Q.replace(/^item:/,""))return;const q=wP(z.droppableId),J=wP(Z.droppableId);r({orderedFolders:e,sourceFolder:q,sourceIndex:z.index,destinationFolder:J,destinationIndex:Z.index})}}},[t,_,n,r,e]),changeFolder:T,changeMingSikType:N,viewAndClose:j,requestDelete:M,createFolderAndNotify:D,requestDeleteFolder:P,toggleFolderOpen:$,toggleFolderFavorite:H}};function bde({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const{list:l,remove:u,update:f,moveItemByDnD:h,toggleFavoriteWithReorder:p,unsetFolderForFolder:b}=_r(),{folderFavMap:x,setFolderFavMap:E,folderOpenMap:S,setFolderOpenMap:_,newFolderName:T,setNewFolderName:N,orderedFolders:j,grouped:M,unassignedItems:D,handleDragEnd:P,createFolder:$,deleteFolder:H,UNASSIGNED_LABEL:Y}=Zue(l,{unsetFolderForFolder:b}),K=pde({list:l,orderedFolders:j}),{isFiltering:U,filteredUnassigned:z,filteredGrouped:Z,totalMatches:Q}=mde({search:K.search,searchMode:K.searchMode,orderedFolders:j,unassignedItems:D,grouped:M}),V=gde({orderedFolders:j,isFiltering:U,handleFolderDragEnd:P,moveItemByDnD:h,update:f,remove:u,onView:n,onClose:t,onDeleteView:a,folderFavMap:x,setFolderFavMap:E,setFolderOpenMap:_,createFolder:$,deleteFolder:H,newFolderName:T,setNewFolderName:N,stashScrollTop:K.stashScrollTop}),q=()=>{wo.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(Xue,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{q()},isLoggedIn:o}),g.jsx(op,{onDragEnd:V.handleDrop,children:g.jsxs("div",{ref:K.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[g.jsx(Jue,{search:K.search,setSearch:K.setSearch,searchMode:K.searchMode,setSearchMode:K.setSearchMode,isFiltering:U,totalMatches:Q}),g.jsx(Que,{newFolderName:T,setNewFolderName:N,isFiltering:U,onCreate:V.createFolderAndNotify}),g.jsx(vP,{droppableId:fde,isDropDisabled:U,className:"mb-6",items:z.map((J,re)=>g.jsx(_P,{m:J,index:re,orderedFolders:j,unassignedLabel:Y,isDragDisabled:U,memoOpen:!!K.memoOpenMap[J.id],onToggleMemo:K.toggleMemo,onChangeFolder:V.changeFolder,onChangeMingSikType:V.changeMingSikType,onView:V.viewAndClose,onEdit:ue=>i(ue),onDelete:V.requestDelete,onToggleFavorite:ue=>void p(ue,j)},J.id))}),g.jsx(mf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:U,children:J=>g.jsxs("div",{ref:J.innerRef,...J.droppableProps,children:[j.map((re,ue)=>{const se=hde(re),B=Z[re]||[],W=!!S[re],ae=!!x[re];return g.jsx(ede,{folderName:re,folderIndex:ue,isOpen:W,isFavorite:ae,itemCount:B.length,isDragDisabled:U,onToggleOpen:()=>V.toggleFolderOpen(re),onToggleFavorite:()=>V.toggleFolderFavorite(re),onDelete:()=>V.requestDeleteFolder(re),inner:g.jsx(vP,{droppableId:se,isDropDisabled:U,className:"mt-2",items:B.map((X,oe)=>g.jsx(_P,{m:X,index:oe,orderedFolders:j,unassignedLabel:Y,isDragDisabled:U,memoOpen:!!K.memoOpenMap[X.id],onToggleMemo:K.toggleMemo,onChangeFolder:V.changeFolder,onChangeMingSikType:V.changeMingSikType,onView:V.viewAndClose,onEdit:de=>i(de),onDelete:V.requestDelete,onToggleFavorite:de=>void p(de,j)},X.id))})},`folder-${re}`)}),J.placeholder]})})]})})]})]})}function EP(e){return{...e,calendarType:e.calendarType??"solar"}}function kP(e){return!e.birthTime||e.birthTime===""}function AP(e){return!e.birthPlace||e.birthPlace.name===""}function yde(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Gi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const q7="ms_folders";function vde(){try{const e=JSON.parse(localStorage.getItem(q7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function xde(e){localStorage.setItem(q7,JSON.stringify(e))}function _de(e){const[t,n]=w.useState(!1),[r,i]=w.useState(()=>EP(e)),[a,o]=w.useState(kP(e)),[l,u]=w.useState(AP(e)),[f,h]=w.useState([]);return w.useEffect(()=>{h(vde())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(x,E)=>{i(S=>({...S,[x]:E}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:f,setCustomFolders:h,resetForm:()=>{i(EP(e)),o(kP(e)),u(AP(e))}}}const Y7=["","","","","",""];function wde(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...Y7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[fn,...i]}function Sde({list:e,customFolders:t,form:n}){const r=w.useMemo(()=>wde(e,t),[e,t]),i=w.useMemo(()=>yde(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Ede(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=W2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=V2(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function kde({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:f}){return{save:()=>{const b=Ede(t,n,r);if(b){alert(b);return}const x=eu(t.folder===fn?void 0:t.folder),E=v4({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:x,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!E.ok){alert(E.message);return}const S={...e,...E.value};if(S.folder&&!Y7.includes(S.folder)&&!i.includes(S.folder)){const _=[...i,S.folder];a(_),xde(_)}o(e.id,S),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const m1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Ade="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Tde="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",ss="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",jde="text-xs text-neutral-500 dark:text-neutral-400",F0="accent-violet-600 dark:accent-violet-400",TP="accent-violet-600 dark:accent-violet-400",Rv="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Ode=`${Rv} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Nde=`${Rv} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,jP=`${Rv} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Cde=`${Rv} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Mde({item:e,onClose:t}){const{list:n,update:r,remove:i}=_r(),a=_de(e),o=Sde({list:n,customFolders:a.customFolders,form:a.form}),l=kde({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("input",{className:m1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" (YYYYMMDD)"}),g.jsx("input",{className:m1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:jde,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:"  (HHMM)"}),g.jsx("input",{className:`${m1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:TP,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),g.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:F0,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:f}),g.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:" "}),g.jsx(i5,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:TP,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx(T4,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("select",{className:Ade,value:a.form.folder??fn,onChange:u=>{const f=u.target.value;f===fn?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===fn?fn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:ss,children:""}),g.jsx("textarea",{className:Tde,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:jP,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Cde,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Ode,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Nde,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:jP,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??fn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Dde({children:e}){const t=Hi(),[n,r]=w.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function Pde(){const[e,t]=w.useState(null),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{const{data:a}=await Me.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Me.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Rde({allow:e,children:t}){const{role:n,loading:r}=Pde();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function K7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=K7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=K7(e))&&(r&&(r+=" "),r+=t);return r}var Lde=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kA(e){if(typeof e!="string")return!1;var t=Lde;return t.includes(e)}var Ide=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$de=new Set(Ide);function W7(e){return typeof e!="string"?!1:$de.has(e)}function V7(e){return typeof e=="string"&&e.startsWith("data-")}function Ga(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(W7(n)||V7(n))&&(t[n]=e[n]);return t}function Lv(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ga(t)}return typeof e=="object"&&!Array.isArray(e)?Ga(e):null}function pa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(W7(n)||V7(n)||kA(n))&&(t[n]=e[n]);return t}function Bde(e){return e==null?null:w.isValidElement(e)?pa(e.props):typeof e=="object"&&!Array.isArray(e)?pa(e):null}var zde=["children","width","height","viewBox","className","style","title","desc"];function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(null,arguments)}function Ude(e,t){if(e==null)return{};var n,r,i=Fde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Z7=w.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:f}=e,h=Ude(e,zde),p=a||{width:r,height:i,x:0,y:0},b=Qt("recharts-surface",o);return w.createElement("svg",QE({},pa(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),w.createElement("title",null,u),w.createElement("desc",null,f),n)}),Hde=["children","className"];function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ek.apply(null,arguments)}function Gde(e,t){if(e==null)return{};var n,r,i=qde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var To=w.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Gde(e,Hde),a=Qt("recharts-layer",r);return w.createElement("g",ek({className:a},pa(i),{ref:t}),n)}),Yde=w.createContext(null);function xn(e){return function(){return e}}const tk=Math.PI,nk=2*tk,Uc=1e-6,Kde=nk-Uc;function X7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Wde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X7:Wde(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,f=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Uc)if(!(Math.abs(p*u-f*h)>Uc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,E=i-l,S=u*u+f*f,_=x*x+E*E,T=Math.sqrt(S),N=Math.sqrt(b),j=a*Math.tan((tk-Math.acos((S+b-_)/(2*T*N)))/2),M=j/N,D=j/T;Math.abs(M-1)>Uc&&this._append`L${t+M*h},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*x>h*E)},${this._x1=t+D*u},${this._y1=n+D*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Uc||Math.abs(this._y1-h)>Uc)&&this._append`L${f},${h}`,r&&(b<0&&(b=b%nk+nk),b>Kde?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:b>Uc&&this._append`A${r},${r},0,${+(b>=tk)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function J7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Vde(t)}function AA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q7(e){this._context=e}Q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iv(e){return new Q7(e)}function e6(e){return e[0]}function t6(e){return e[1]}function n6(e,t){var n=xn(!0),r=null,i=Iv,a=null,o=J7(l);e=typeof e=="function"?e:e===void 0?e6:xn(e),t=typeof t=="function"?t:t===void 0?t6:xn(t);function l(u){var f,h=(u=AA(u)).length,p,b=!1,x;for(r==null&&(a=i(x=o())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,f,u),+t(p,f,u));if(x)return a=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:xn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:xn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function H0(e,t,n){var r=null,i=xn(!0),a=null,o=Iv,l=null,u=J7(f);e=typeof e=="function"?e:e===void 0?e6:xn(+e),t=typeof t=="function"?t:xn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?t6:xn(+n);function f(p){var b,x,E,S=(p=AA(p)).length,_,T=!1,N,j=new Array(S),M=new Array(S);for(a==null&&(l=o(N=u())),b=0;b<=S;++b){if(!(b<S&&i(_=p[b],b,p))===T)if(T=!T)x=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=b-1;E>=x;--E)l.point(j[E],M[E]);l.lineEnd(),l.areaEnd()}T&&(j[b]=+e(_,b,p),M[b]=+t(_,b,p),l.point(r?+r(_,b,p):j[b],n?+n(_,b,p):M[b]))}if(N)return l=null,N+""||null}function h(){return n6().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xn(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class r6{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Zde(e){return new r6(e,!0)}function Xde(e){return new r6(e,!1)}function fy(){}function hy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i6(e){this._context=e}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jde(e){return new i6(e)}function a6(e){this._context=e}a6.prototype={areaStart:fy,areaEnd:fy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qde(e){return new a6(e)}function o6(e){this._context=e}o6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function efe(e){return new o6(e)}function s6(e){this._context=e}s6.prototype={areaStart:fy,areaEnd:fy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tfe(e){return new s6(e)}function OP(e){return e<0?-1:1}function NP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(OP(a)+OP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function CP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function p1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function my(e){this._context=e}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p1(this,this._t0,CP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,p1(this,CP(this,n=NP(this,e,t)),n);break;default:p1(this,this._t0,n=NP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function l6(e){this._context=new c6(e)}(l6.prototype=Object.create(my.prototype)).point=function(e,t){my.prototype.point.call(this,t,e)};function c6(e){this._context=e}c6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function nfe(e){return new my(e)}function rfe(e){return new l6(e)}function u6(e){this._context=e}u6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=MP(e),i=MP(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function MP(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ife(e){return new u6(e)}function $v(e,t){this._context=e,this._t=t}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function afe(e){return new $v(e,.5)}function ofe(e){return new $v(e,0)}function sfe(e){return new $v(e,1)}function Zd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rk(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function lfe(e,t){return e[t]}function cfe(e){const t=[];return t.key=e,t}function ufe(){var e=xn([]),t=rk,n=Zd,r=lfe;function i(a){var o=Array.from(e.apply(this,arguments),cfe),l,u=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<u;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,h=AA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?rk:typeof a=="function"?a:xn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Zd,i):n},i}function dfe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Zd(e,t)}}function ffe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Zd(e,t)}}function hfe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,f=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,x=(p-b)/2,E=0;E<l;++E){var S=e[t[E]],_=S[r][1]||0,T=S[r-1][1]||0;x+=_-T}u+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Zd(e,t)}}var g1={},b1={},DP;function mfe(){return DP||(DP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(b1)),b1}var y1={},PP;function d6(){return PP||(PP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(y1)),y1}var v1={},RP;function TA(){return RP||(RP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(v1)),v1}var x1={},_1={},LP;function pfe(){return LP||(LP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(_1)),_1}var IP;function jA(){return IP||(IP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pfe(),n=TA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,u+=i[l]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(x1)),x1}var $P;function OA(){return $P||($P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mfe(),n=d6(),r=TA(),i=jA();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?f:h}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?f:h}}}function o(l,u,f){if(u.length===0)return f;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}e.get=a})(g1)),g1}var w1,BP;function gfe(){return BP||(BP=1,w1=OA().get),w1}var bfe=gfe();const Bv=hi(bfe);var ua=e=>e===0?0:e>0?1:-1,qa=e=>typeof e=="number"&&e!=+e,xs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!qa(e),jo=e=>We(e)||typeof e=="string",yfe=0,Rm=e=>{var t=++yfe;return"".concat(e||"").concat(t)},Rl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var a;if(xs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return qa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},f6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function vo(e,t,n){return We(e)&&We(t)?e+n*(t-e):t}function h6(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Bv(r,t))===n)}var xr=e=>e===null||typeof e>"u",NA=e=>xr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function vfe(e){return e!=null}function mp(){}var m6=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,CA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{kA(i)&&(r[i]=(a=>n[i](n,a)))}),r},xfe=(e,t,n)=>r=>(e(t,n,r),null),_fe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];kA(i)&&typeof a=="function"&&(r||(r={}),r[i]=xfe(a,t,n))}),r};function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){Sfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sfe(e,t,n){return(t=Efe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Efe(e){var t=kfe(e,"string");return typeof t=="symbol"?t:t+""}function kfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(e,t){var n=wfe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var S1={},E1={},UP;function Afe(){return UP||(UP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(E1)),E1}var k1={},FP;function p6(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(k1)),k1}var A1={},T1={},j1={},HP;function Tfe(){return HP||(HP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(j1)),j1}var GP;function MA(){return GP||(GP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tfe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(T1)),T1}var O1={},qP;function jfe(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(O1)),O1}var YP;function Ofe(){return YP||(YP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA(),n=jfe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(A1)),A1}var N1={},C1={},KP;function Nfe(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(C1)),C1}var M1={},D1={},P1={},R1={},WP;function g6(){return WP||(WP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(R1)),R1}var L1={},VP;function b6(){return VP||(VP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(L1)),L1}var I1={},ZP;function y6(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(I1)),I1}var XP;function Cfe(){return XP||(XP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g6(),n=b6(),r=y6();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function x(E,S,_,T,N,j){const M=b(E,S,_,T,N,j);return M!==void 0?!!M:a(E,S,x,j)},new Map)}function a(h,p,b,x){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,x);case"function":return Object.keys(p).length>0?a(h,{...p},b,x):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,x);if(p instanceof Map)return l(h,p,b,x);if(p instanceof Set)return f(h,p,b,x);const E=Object.keys(p);if(h==null)return E.length===0;if(E.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let S=0;S<E.length;S++){const _=E[S];if(!n.isPrimitive(h)&&!(_ in h)||p[_]===void 0&&h[_]!==void 0||p[_]===null&&h[_]!==null||!b(h[_],p[_],_,h,p,x))return!1}return!0}finally{x?.delete(p)}}function l(h,p,b,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[E,S]of p.entries()){const _=h.get(E);if(b(_,S,E,h,p,x)===!1)return!1}return!0}function u(h,p,b,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const E=new Set;for(let S=0;S<p.length;S++){const _=p[S];let T=!1;for(let N=0;N<h.length;N++){if(E.has(N))continue;const j=h[N];let M=!1;if(b(j,_,S,h,p,x)&&(M=!0),M){E.add(N),T=!0;break}}if(!T)return!1}return!0}function f(h,p,b,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,x):!1}e.isMatchWith=i,e.isSetMatch=f})(P1)),P1}var JP;function v6(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cfe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(D1)),D1}var $1={},B1={},z1={},QP;function Mfe(){return QP||(QP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(z1)),z1}var U1={},eR;function x6(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(U1)),U1}var F1={},tR;function _6(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",x="[object Object]",E="[object Error]",S="[object DataView]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",$="[object Int32Array]",H="[object BigInt64Array]",Y="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=S,e.dateTag=l,e.errorTag=E,e.float32ArrayTag=Y,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=$,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=j,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=T})(F1)),F1}var H1={},nR;function Dfe(){return nR||(nR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(H1)),H1}var rR;function w6(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mfe(),n=x6(),r=_6(),i=b6(),a=Dfe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,x=new Map,E=void 0){const S=E?.(h,p,b,x);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const _=new Array(h.length);x.set(h,_);for(let T=0;T<h.length;T++)_[T]=l(h[T],T,b,x,E);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;x.set(h,_);for(const[T,N]of h)_.set(T,l(N,T,b,x,E));return _}if(h instanceof Set){const _=new Set;x.set(h,_);for(const T of h)_.add(l(T,void 0,b,x,E));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,_);for(let T=0;T<h.length;T++)_[T]=l(h[T],T,b,x,E);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,_),u(_,h,b,x,E),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return x.set(h,_),u(_,h,b,x,E),_}if(typeof Blob<"u"&&h instanceof Blob){const _=new Blob([h],{type:h.type});return x.set(h,_),u(_,h,b,x,E),_}if(h instanceof Error){const _=new h.constructor;return x.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,u(_,h,b,x,E),_}if(h instanceof Boolean){const _=new Boolean(h.valueOf());return x.set(h,_),u(_,h,b,x,E),_}if(h instanceof Number){const _=new Number(h.valueOf());return x.set(h,_),u(_,h,b,x,E),_}if(h instanceof String){const _=new String(h.valueOf());return x.set(h,_),u(_,h,b,x,E),_}if(typeof h=="object"&&f(h)){const _=Object.create(Object.getPrototypeOf(h));return x.set(h,_),u(_,h,b,x,E),_}return h}function u(h,p,b=h,x,E){const S=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<S.length;_++){const T=S[_],N=Object.getOwnPropertyDescriptor(h,T);(N==null||N.writable)&&(h[T]=l(p[T],T,b,x,E))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(B1)),B1}var iR;function Pfe(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w6();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})($1)),$1}var aR;function Rfe(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v6(),n=Pfe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(M1)),M1}var G1={},q1={},Y1={},oR;function Lfe(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w6(),n=_6();function r(i,a){return t.cloneDeepWith(i,(o,l,u,f)=>{const h=a?.(o,l,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(Y1)),Y1}var sR;function Ife(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lfe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(q1)),q1}var K1={},W1={},lR;function S6(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(W1)),W1}var V1={},cR;function $fe(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x6();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(V1)),V1}var uR;function Bfe(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d6(),n=S6(),r=$fe(),i=jA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(K1)),K1}var dR;function zfe(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v6(),n=TA(),r=Ife(),i=OA(),a=Bfe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(G1)),G1}var fR;function Ufe(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p6(),n=Nfe(),r=Rfe(),i=zfe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(N1)),N1}var hR;function Ffe(){return hR||(hR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Afe(),n=p6(),r=Ofe(),i=Ufe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(S1)),S1}var Z1,mR;function Hfe(){return mR||(mR=1,Z1=Ffe().uniqBy),Z1}var Gfe=Hfe();const pR=hi(Gfe);function qfe(e,t,n){return t===!0?pR(e,n):typeof t=="function"?pR(e,t):e}var X1={exports:{}},J1={},Q1={exports:{}},eS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function Yfe(){if(gR)return eS;gR=1;var e=rf();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var x=b(),E=r({inst:{value:x,getSnapshot:b}}),S=E[0].inst,_=E[1];return a(function(){S.value=x,S.getSnapshot=b,u(S)&&_({inst:S})},[p,x,b]),i(function(){return u(S)&&_({inst:S}),p(function(){u(S)&&_({inst:S})})},[p]),o(x),x}function u(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!n(p,x)}catch{return!0}}function f(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return eS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,eS}var bR;function Kfe(){return bR||(bR=1,Q1.exports=Yfe()),Q1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function Wfe(){if(yR)return J1;yR=1;var e=rf(),t=Kfe();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return J1.useSyncExternalStoreWithSelector=function(f,h,p,b,x){var E=a(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=l(function(){function T(P){if(!N){if(N=!0,j=P,P=b(P),x!==void 0&&S.hasValue){var $=S.value;if(x($,P))return M=$}return M=P}if($=M,r(j,P))return $;var H=b(P);return x!==void 0&&x($,H)?(j=P,$):(j=P,M=H)}var N=!1,j,M,D=p===void 0?null:p;return[function(){return T(h())},D===null?void 0:function(){return T(D())}]},[h,p,b,x]);var _=i(f,E[0],E[1]);return o(function(){S.hasValue=!0,S.value=_},[_]),u(_),_},J1}var vR;function Vfe(){return vR||(vR=1,X1.exports=Wfe()),X1.exports}var Zfe=Vfe(),DA=w.createContext(null),Xfe=e=>e,cr=()=>{var e=w.useContext(DA);return e?e.store.dispatch:Xfe},_b=()=>{},Jfe=()=>_b,Qfe=(e,t)=>e===t;function Je(e){var t=w.useContext(DA);return Zfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Jfe,t?t.store.getState:_b,t?t.store.getState:_b,t?e:_b,Qfe)}function ehe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function the(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function nhe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var xR=e=>Array.isArray(e)?e:[e];function rhe(e){const t=Array.isArray(e[0])?e[0]:e;return nhe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ihe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ahe=class{constructor(e){this.value=e}deref(){return this.value}},ohe=typeof WeakRef<"u"?WeakRef:ahe,she=0,_R=1;function G0(){return{s:she,v:void 0,o:null,p:null}}function E6(e,t={}){let n=G0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let E=l.o;E===null&&(l.o=E=new WeakMap);const S=E.get(x);S===void 0?(l=G0(),E.set(x,l)):l=S}else{let E=l.p;E===null&&(l.p=E=new Map);const S=E.get(x);S===void 0?(l=G0(),E.set(x,l)):l=S}}const f=l;let h;if(l.s===_R)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new ohe(h):h}return f.s=_R,f.v=h,h}return o.clearCache=()=>{n=G0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function lhe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),ehe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:x=E6,argsMemoizeOptions:E=[]}=h,S=xR(b),_=xR(E),T=rhe(i),N=p(function(){return a++,f.apply(null,arguments)},...S),j=x(function(){o++;const D=ihe(T,arguments);return l=N.apply(null,D),l},..._);return Object.assign(j,{resultFunc:f,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var we=lhe(E6),che=Object.assign((e,t=we)=>{the(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>che}),tS={},nS={},rS={},wR;function uhe(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(rS)),rS}var iS={},aS={},SR;function k6(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(aS)),aS}var ER;function dhe(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(iS)),iS}var kR;function fhe(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uhe(),n=dhe(),r=jA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const f=(x,E)=>{let S=x;for(let _=0;_<E.length&&S!=null;++_)S=S[E[_]];return S},h=(x,E)=>E==null||x==null?E:typeof x=="object"&&"key"in x?Object.hasOwn(E,x.key)?E[x.key]:f(E,x.path):typeof x=="function"?x(E):Array.isArray(x)?f(E,x):typeof E=="object"?E[x]:E,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(E=>h(E,x))})).slice().sort((x,E)=>{for(let S=0;S<p.length;S++){const _=t.compareValues(x.criteria[S],E.criteria[S],l[S]);if(_!==0)return _}return 0}).map(x=>x.original)}e.orderBy=i})(nS)),nS}var oS={},AR;function hhe(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(oS)),oS}var sS={},TR;function A6(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S6(),n=MA(),r=g6(),i=y6();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(sS)),sS}var jR;function mhe(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fhe(),n=hhe(),r=A6();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(tS)),tS}var lS,OR;function phe(){return OR||(OR=1,lS=mhe().sortBy),lS}var ghe=phe();const zv=hi(ghe);var T6=e=>e.legend.settings,bhe=e=>e.legend.size,yhe=e=>e.legend.payload;we([yhe,T6],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?zv(r,n):r});var q0=1;function vhe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>q0||Math.abs(o.left-t.left)>q0||Math.abs(o.top-t.top)>q0||Math.abs(o.width-t.width)>q0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var j6=Symbol.for("immer-nothing"),NR=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Li=Object,Xd=Li.getPrototypeOf,py="constructor",Uv="prototype",ik="configurable",gy="enumerable",wb="writable",Lm="value",_s=e=>!!e&&!!e[Hr];function Ya(e){return e?O6(e)||Fv(e)||!!e[NR]||!!e[py]?.[NR]||Hv(e)||Gv(e):!1}var xhe=Li[Uv][py].toString(),CR=new WeakMap;function O6(e){if(!e||!PA(e))return!1;const t=Xd(e);if(t===null||t===Li[Uv])return!0;const n=Li.hasOwnProperty.call(t,py)&&t[py];if(n===Object)return!0;if(!wd(n))return!1;let r=CR.get(n);return r===void 0&&(r=Function.toString.call(n),CR.set(n,r)),r===xhe}function pp(e,t,n=!0){gp(e)===0?(n?Reflect.ownKeys(e):Li.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function gp(e){const t=e[Hr];return t?t.type_:Fv(e)?1:Hv(e)?2:Gv(e)?3:0}var MR=(e,t,n=gp(e))=>n===2?e.has(t):Li[Uv].hasOwnProperty.call(e,t),ak=(e,t,n=gp(e))=>n===2?e.get(t):e[t],by=(e,t,n,r=gp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function _he(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Fv=Array.isArray,Hv=e=>e instanceof Map,Gv=e=>e instanceof Set,PA=e=>typeof e=="object",wd=e=>typeof e=="function",cS=e=>typeof e=="boolean",ls=e=>e.copy_||e.base_,RA=e=>e.modified_?e.copy_:e.base_;function ok(e,t){if(Hv(e))return new Map(e);if(Gv(e))return new Set(e);if(Fv(e))return Array[Uv].slice.call(e);const n=O6(e);if(t===!0||t==="class_only"&&!n){const r=Li.getOwnPropertyDescriptors(e);delete r[Hr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[wb]===!1&&(l[wb]=!0,l[ik]=!0),(l.get||l.set)&&(r[o]={[ik]:!0,[wb]:!0,[gy]:l[gy],[Lm]:e[o]})}return Li.create(Xd(e),r)}else{const r=Xd(e);if(r!==null&&n)return{...e};const i=Li.create(r);return Li.assign(i,e)}}function LA(e,t=!1){return qv(e)||_s(e)||!Ya(e)||(gp(e)>1&&Li.defineProperties(e,{set:Y0,add:Y0,clear:Y0,delete:Y0}),Li.freeze(e),t&&pp(e,(n,r)=>{LA(r,!0)},!1)),e}function whe(){Ia(2)}var Y0={[Lm]:whe};function qv(e){return e===null||!PA(e)?!0:Li.isFrozen(e)}var yy="MapSet",sk="Patches",N6={};function Jd(e){const t=N6[e];return t||Ia(0,e),t}var She=e=>!!N6[e],Im,C6=()=>Im,Ehe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:She(yy)?Jd(yy):void 0});function DR(e,t){t&&(e.patchPlugin_=Jd(sk),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lk(e){ck(e),e.drafts_.forEach(khe),e.drafts_=null}function ck(e){e===Im&&(Im=e.parent_)}var PR=e=>Im=Ehe(Im,e);function khe(e){const t=e[Hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function RR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Hr].modified_&&(lk(t),Ia(4)),Ya(e)&&(e=LR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Hr].base_,e,t)}else e=LR(t,n);return Ahe(t,e,!0),lk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==j6?e:void 0}function LR(e,t){if(qv(t))return t;const n=t[Hr];if(!n)return IA(t,e.handledSet_,e);if(!Yv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);P6(n,e)}return n.copy_}function Ahe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&LA(t,n)}function M6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Yv=(e,t)=>e.scope_===t,The=[];function D6(e,t,n,r){const i=ls(e),a=e.type_;if(r!==void 0&&ak(i,r,a)===t){by(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;pp(i,(u,f)=>{if(_s(f)){const h=l.get(f)||[];h.push(u),l.set(f,h)}})}const o=e.draftLocations_.get(t)??The;for(const l of o)by(i,l,n,a)}function jhe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Yv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=RA(a);D6(e,a.draft_??a,o,n),P6(a,i)})}function P6(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}M6(e)}}function Ohe(e,t,n){const{scope_:r}=e;if(_s(n)){const i=n[Hr];Yv(i,r)&&i.callbacks_.push(function(){Sb(e);const o=RA(i);D6(e,n,o,t)})}else Ya(n)&&e.callbacks_.push(function(){const a=ls(e);ak(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&IA(ak(e.copy_,t,e.type_),r.handledSet_,r)})}function IA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_s(e)||t.has(e)||!Ya(e)||qv(e)||(t.add(e),pp(e,(r,i)=>{if(_s(i)){const a=i[Hr];if(Yv(a,n)){const o=RA(a);by(e,r,o,e.type_),M6(a)}}else Ya(i)&&IA(i,t,n)})),e}function Nhe(e,t){const n=Fv(e),r={type_:n?1:0,scope_:t?t.scope_:C6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=$A;n&&(i=[r],a=$m);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var $A={get(e,t){if(t===Hr)return e;const n=ls(e);if(!MR(n,t,e.type_))return Che(e,n,t);const r=n[t];if(e.finalized_||!Ya(r))return r;if(r===uS(e.base_,t)){Sb(e);const i=e.type_===1?+t:t,a=dk(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in ls(e)},ownKeys(e){return Reflect.ownKeys(ls(e))},set(e,t,n){const r=R6(ls(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=uS(ls(e),t),a=i?.[Hr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(_he(n,i)&&(n!==void 0||MR(e.base_,t,e.type_)))return!0;Sb(e),uk(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Ohe(e,t,n)),!0},deleteProperty(e,t){return Sb(e),uS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),uk(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ls(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[wb]:!0,[ik]:e.type_!==1||t!=="length",[gy]:r[gy],[Lm]:n[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Xd(e.base_)},setPrototypeOf(){Ia(12)}},$m={};pp($A,(e,t)=>{$m[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});$m.deleteProperty=function(e,t){return $m.set.call(this,e,t,void 0)};$m.set=function(e,t,n){return $A.set.call(this,e[0],t,n,e[0])};function uS(e,t){const n=e[Hr];return(n?ls(n):e)[t]}function Che(e,t,n){const r=R6(t,n);return r?Lm in r?r[Lm]:r.get?.call(e.draft_):void 0}function R6(e,t){if(!(t in e))return;let n=Xd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xd(n)}}function uk(e){e.modified_||(e.modified_=!0,e.parent_&&uk(e.parent_))}function Sb(e){e.copy_||(e.assigned_=new Map,e.copy_=ok(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Mhe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(wd(n)&&!wd(r)){const o=r;r=n;const l=this;return function(f=o,...h){return l.produce(f,p=>r.call(this,p,...h))}}wd(r)||Ia(6),i!==void 0&&!wd(i)&&Ia(7);let a;if(Ya(n)){const o=PR(this),l=dk(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?lk(o):ck(o)}return DR(o,i),RR(a,o)}else if(!n||!PA(n)){if(a=r(n),a===void 0&&(a=n),a===j6&&(a=void 0),this.autoFreeze_&&LA(a,!0),i){const o=[],l=[];Jd(sk).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ia(1,n)},this.produceWithPatches=(n,r)=>{if(wd(n))return(l,...u)=>this.produceWithPatches(l,f=>n(f,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},cS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),cS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),cS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ya(t)||Ia(8),_s(t)&&(t=Ua(t));const n=PR(this),r=dk(n,t,void 0);return r[Hr].isManual_=!0,ck(n),r}finishDraft(t,n){const r=t&&t[Hr];(!r||!r.isManual_)&&Ia(9);const{scope_:i}=r;return DR(i,n),RR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Jd(sk).applyPatches_;return _s(t)?i(t,n):this.produce(t,a=>i(a,n))}};function dk(e,t,n,r){const[i,a]=Hv(t)?Jd(yy).proxyMap_(t,n):Gv(t)?Jd(yy).proxySet_(t,n):Nhe(t,n);return(n?.scope_??C6()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?jhe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Ua(e){return _s(e)||Ia(10,e),L6(e)}function L6(e){if(!Ya(e)||qv(e))return e;const t=e[Hr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ok(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ok(e,!0);return pp(n,(i,a)=>{by(n,i,L6(a))},r),t&&(t.finalized_=!1),n}var Dhe=new Mhe,I6=Dhe.produce;function $6(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Phe=$6(),Rhe=$6,Lhe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Em:Em.apply(null,arguments)};function ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Bi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>s5(r)&&r.type===e,n}var B6=class sm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sm.prototype)}static get[Symbol.species](){return sm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sm(...t[0].concat(this)):new sm(...t.concat(this))}};function IR(e){return Ya(e)?I6(e,()=>{}):e}function K0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ihe(e){return typeof e=="boolean"}var $he=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new B6;return n&&(Ihe(n)?o.push(Phe):o.push(Rhe(n.extraArgument))),o},z6="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[z6]:!0}}),$R=e=>t=>{setTimeout(t,e)},U6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$R(10):e.type==="callback"?e.queueNotification:$R(e.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[z6],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},Bhe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new B6(e);return r&&i.push(U6(typeof r=="object"?r:void 0)),i};function zhe(e){const t=$he(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(w2(n))l=a5(n);else throw new Error(Bi(1));let u;typeof r=="function"?u=r(t):u=t();let f=Em;i&&(f=Lhe({trace:!1,...typeof i=="object"&&i}));const h=o5(...u),p=Bhe(h);let b=typeof o=="function"?o(p):p();const x=f(...b);return S2(l,a,x)}function F6(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Bi(28));if(l in t)throw new Error(Bi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Uhe(e){return typeof e=="function"}function Fhe(e,t){let[n,r,i]=F6(t),a;if(Uhe(e))a=()=>IR(e());else{const l=IR(e);a=()=>l}function o(l=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(_s(h)){const x=p(h,u);return x===void 0?h:x}else{if(Ya(h))return I6(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var Hhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ghe=(e=21)=>{let t="",n=e;for(;n--;)t+=Hhe[Math.random()*64|0];return t},qhe=Symbol.for("rtk-slice-createasyncthunk");function Yhe(e,t){return`${e}/${t}`}function Khe({creators:e}={}){const t=e?.asyncThunk?.[qhe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Bi(11));const o=(typeof r.reducers=="function"?r.reducers(Vhe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,M){const D=typeof j=="string"?j:j.type;if(!D)throw new Error(Bi(12));if(D in u.sliceCaseReducersByType)throw new Error(Bi(13));return u.sliceCaseReducersByType[D]=M,f},addMatcher(j,M){return u.sliceMatchers.push({matcher:j,reducer:M}),f},exposeAction(j,M){return u.actionCreators[j]=M,f},exposeCaseReducer(j,M){return u.sliceCaseReducersByName[j]=M,f}};l.forEach(j=>{const M=o[j],D={reducerName:j,type:Yhe(i,j),createNotation:typeof r.reducers=="function"};Xhe(M)?Qhe(D,M,f,t):Zhe(D,M,f)});function h(){const[j={},M=[],D=void 0]=typeof r.extraReducers=="function"?F6(r.extraReducers):[r.extraReducers],P={...j,...u.sliceCaseReducersByType};return Fhe(r.initialState,$=>{for(let H in P)$.addCase(H,P[H]);for(let H of u.sliceMatchers)$.addMatcher(H.matcher,H.reducer);for(let H of M)$.addMatcher(H.matcher,H.reducer);D&&$.addDefaultCase(D)})}const p=j=>j,b=new Map,x=new WeakMap;let E;function S(j,M){return E||(E=h()),E(j,M)}function _(){return E||(E=h()),E.getInitialState()}function T(j,M=!1){function D($){let H=$[j];return typeof H>"u"&&M&&(H=K0(x,D,_)),H}function P($=p){const H=K0(b,M,()=>new WeakMap);return K0(H,$,()=>{const Y={};for(const[K,U]of Object.entries(r.selectors??{}))Y[K]=Whe(U,$,()=>K0(x,$,_),M);return Y})}return{reducerPath:j,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const N={name:i,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...T(a),injectInto(j,{reducerPath:M,...D}={}){const P=M??a;return j.inject({reducerPath:P,reducer:S},D),{...N,...T(P,!0)}}};return N}}function Whe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var mi=Khe();function Vhe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Zhe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Jhe(r))throw new Error(Bi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ga(e,o):ga(e))}function Xhe(e){return e._reducerDefinitionType==="asyncThunk"}function Jhe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Qhe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Bi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||W0,pending:l||W0,rejected:u||W0,settled:f||W0})}function W0(){}var eme="task",H6="listener",G6="completed",BA="cancelled",tme=`task-${BA}`,nme=`task-${G6}`,fk=`${H6}-${BA}`,rme=`${H6}-${G6}`,Kv=class{constructor(e){this.code=e,this.message=`${eme} ${BA} (reason: ${e})`}name="TaskAbortError";message},zA=(e,t)=>{if(typeof e!="function")throw new TypeError(Bi(32))},vy=()=>{},q6=(e,t=vy)=>(e.catch(t),e),Y6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tu=e=>{if(e.aborted)throw new Kv(e.reason)};function K6(e,t){let n=vy;return new Promise((r,i)=>{const a=()=>i(new Kv(e.reason));if(e.aborted){a();return}n=Y6(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=vy})}var ime=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Kv?"cancelled":"rejected",error:n}}finally{t?.()}},xy=e=>t=>q6(K6(e,t).then(n=>(tu(e),n))),W6=e=>{const t=xy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Id}=Object,BR={},Wv="listenerMiddleware",ame=(e,t)=>{const n=r=>Y6(e,()=>r.abort(e.reason));return(r,i)=>{zA(r);const a=new AbortController;n(a);const o=ime(async()=>{tu(e),tu(a.signal);const l=await r({pause:xy(a.signal),delay:W6(a.signal),signal:a.signal});return tu(a.signal),l},()=>a.abort(nme));return i?.autoJoin&&t.push(o.catch(vy)),{result:xy(e)(o),cancel(){a.abort(tme)}}}},ome=(e,t)=>{const n=async(r,i)=>{tu(t);let a=()=>{};const l=[new Promise((u,f)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await K6(t,Promise.race(l));return tu(t),u}finally{a()}};return(r,i)=>q6(n(r,i))},V6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bi(21));return zA(a),{predicate:i,type:t,effect:a}},Z6=Id(e=>{const{type:t,predicate:n,effect:r}=V6(e);return{id:Ghe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>Z6}),zR=(e,t)=>{const{type:n,effect:r,predicate:i}=V6(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},hk=e=>{e.pending.forEach(t=>{t.abort(fk)})},sme=(e,t)=>()=>{for(const n of t.keys())hk(n);e.clear()},UR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},X6=Id(ga(`${Wv}/add`),{withTypes:()=>X6}),lme=ga(`${Wv}/removeAll`),J6=Id(ga(`${Wv}/remove`),{withTypes:()=>J6}),cme=(...e)=>{console.error(`${Wv}/error`,...e)},bp=(e={})=>{const t=new Map,n=new Map,r=x=>{const E=n.get(x)??0;n.set(x,E+1)},i=x=>{const E=n.get(x)??1;E===1?n.delete(x):n.set(x,E-1)},{extra:a,onError:o=cme}=e;zA(o);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),E=>{x.unsubscribe(),E?.cancelActive&&hk(x)}),u=x=>{const E=zR(t,x)??Z6(x);return l(E)};Id(u,{withTypes:()=>u});const f=x=>{const E=zR(t,x);return E&&(E.unsubscribe(),x.cancelActive&&hk(E)),!!E};Id(f,{withTypes:()=>f});const h=async(x,E,S,_)=>{const T=new AbortController,N=ome(u,T.signal),j=[];try{x.pending.add(T),r(x),await Promise.resolve(x.effect(E,Id({},S,{getOriginalState:_,condition:(M,D)=>N(M,D).then(Boolean),take:N,delay:W6(T.signal),pause:xy(T.signal),extra:a,signal:T.signal,fork:ame(T.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((M,D,P)=>{M!==T&&(M.abort(fk),P.delete(M))})},cancel:()=>{T.abort(fk),x.pending.delete(T)},throwIfCancelled:()=>{tu(T.signal)}})))}catch(M){M instanceof Kv||UR(o,M,{raisedBy:"effect"})}finally{await Promise.all(j),T.abort(rme),i(x),x.pending.delete(T)}},p=sme(t,n);return{middleware:x=>E=>S=>{if(!s5(S))return E(S);if(X6.match(S))return u(S.payload);if(lme.match(S)){p();return}if(J6.match(S))return f(S.payload);let _=x.getState();const T=()=>{if(_===BR)throw new Error(Bi(23));return _};let N;try{if(N=E(S),t.size>0){const j=x.getState(),M=Array.from(t.values());for(const D of M){let P=!1;try{P=D.predicate(S,j,_)}catch($){P=!1,UR(o,$,{raisedBy:"predicate"})}P&&h(D,S,x,T)}}}finally{_=BR}return N},startListening:u,stopListening:f,clearListeners:p}};function Bi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ume={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Q6=mi({name:"chartLayout",initialState:ume,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dme,setLayout:fme,setChartSize:hme,setScale:mme}=Q6.actions,pme=Q6.reducer;function e9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gme(e,t,n){return(t=bme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bme(e){var t=yme(e,"string");return typeof t=="symbol"?t:t+""}function yme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,n){return xr(e)||xr(t)?n:jo(t)?Bv(e,t,n):typeof t=="function"?t(e):n}var vme=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&We(e[a]))return Td(Td({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&We(e[o]))return Td(Td({},e),{},{[o]:e[o]+(i||0)})}return e},js=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",t9=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},n9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:b,axisType:x}=e;if(!o)return null;var E=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=i==="category"&&o.bandwidth?o.bandwidth()/E:0;if(S=x==="angleAxis"&&a&&a.length>=2?ua(a[0]-a[1])*2*S:S,p||b){var _=(p||b||[]).map((T,N)=>{var j=r?r.indexOf(T):T;return{coordinate:o(j)+S,value:T,offset:S,index:N}});return _.filter(T=>!qa(T.coordinate))}return u&&f?f.map((T,N)=>({coordinate:o(T)+S,value:T,index:N,offset:S})):o.ticks&&h!=null?o.ticks(h).map((T,N)=>({coordinate:o(T)+S,value:T,offset:S,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+S,value:r?r[T]:T,index:N,offset:S}))},HR=1e-4,xme=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-HR,a=Math.max(r[0],r[1])+HR,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},_me=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=qa(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},wme=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=qa(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Sme={sign:_me,expand:dfe,none:Zd,silhouette:ffe,wiggle:hfe,positive:wme},Eme=(e,t,n)=>{var r=Sme[n],i=ufe().keys(t).value((a,o)=>Number(Nr(a,o,0))).order(rk).offset(r);return i(e)};function kme(e){return e==null?void 0:String(e)}function GR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xr(i[t.dataKey])){var l=h6(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Nr(i,xr(o)?t.dataKey:o);return xr(u)?null:t.scale(u)}var Ame=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},Tme=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jme=(e,t,n)=>{if(e!=null)return Tme(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,f)=>{var h=e9(f,t,n),p=Ame(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},qR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_y=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=zv(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function KR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Td(Td({},t),{},{dataKey:n,payload:r,value:i,name:a})}function r9(e,t){if(e)return String(e);if(typeof t=="string")return t}var Ome=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Nme=(e,t)=>t==="centric"?e.angle:e.radius,Os=e=>e.layout.width,Ns=e=>e.layout.height,Cme=e=>e.layout.scale,i9=e=>e.layout.margin,Vv=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zv=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Mme="data-recharts-item-index",Dme="data-recharts-item-data-key",yp=60;function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){Pme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pme(e,t,n){return(t=Rme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rme(e){var t=Lme(e,"string");return typeof t=="symbol"?t:t+""}function Lme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ime=e=>e.brush.height;function $me(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yp;return n+i}return n},0)}function Bme(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yp;return n+i}return n},0)}function zme(e){var t=Vv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Ume(e){var t=Vv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sr=we([Os,Ns,i9,Ime,$me,Bme,zme,Ume,T6,bhe],(e,t,n,r,i,a,o,l,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=V0(V0({},p),h),x=b.bottom;b.bottom+=r,b=vme(b,u,f);var E=e-b.left-b.right,S=t-b.top-b.bottom;return V0(V0({brushBottom:x},b),{},{width:Math.max(E,0),height:Math.max(S,0)})}),Fme=we(Sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),a9=we(Os,Ns,(e,t)=>({x:0,y:0,width:e,height:t})),Hme=w.createContext(null),pi=()=>w.useContext(Hme)!=null,Xv=e=>e.brush,Jv=we([Xv,Sr,i9],(e,t,n)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:We(e.width)?e.width:t.width})),dS={},fS={},hS={},VR;function Gme(){return VR||(VR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),S()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{E(),o=void 0,l=null},_=()=>{h()},T=function(...N){if(i?.aborted)return;o=this,l=N;const j=b==null;x(),u&&j&&h()};return T.schedule=x,T.cancel=S,T.flush=_,i?.addEventListener("abort",S,{once:!0}),T}e.debounce=t})(hS)),hS}var ZR;function qme(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gme();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const b=t.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:f}),x=function(...S){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,S),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,S),h)},E=()=>(b.flush(),h);return x.cancel=b.cancel,x.flush=E,x}e.debounce=n})(fS)),fS}var XR;function Yme(){return XR||(XR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qme();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(dS)),dS}var mS,JR;function Kme(){return JR||(JR=1,mS=Yme().throttle),mS}var Wme=Kme();const Vme=hi(Wme);var wy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},o9=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=xs(r)?e:Number(r),u=xs(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},Zme={width:0,height:0,overflow:"visible"},Xme={width:0,overflowX:"visible"},Jme={height:0,overflowY:"visible"},Qme={},epe=e=>{var{width:t,height:n}=e,r=xs(t),i=xs(n);return r&&i?Zme:r?Xme:i?Jme:Qme};function tpe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function _n(e){return Number.isFinite(e)}function Oo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mk.apply(null,arguments)}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){npe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function npe(e,t,n){return(t=rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rpe(e){var t=ipe(e,"string");return typeof t=="symbol"?t:t+""}function ipe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s9=w.createContext({width:-1,height:-1});function ape(e){return Oo(e.width)&&Oo(e.height)}function l9(e){var{children:t,width:n,height:r}=e,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return ape(i)?w.createElement(s9.Provider,{value:i},t):null}var UA=()=>w.useContext(s9),ope=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:h=0,id:p,className:b,onResize:x,style:E={}}=e,S=w.useRef(null),_=w.useRef();_.current=x,w.useImperativeHandle(t,()=>S.current);var[T,N]=w.useState({containerWidth:r.width,containerHeight:r.height}),j=w.useCallback((H,Y)=>{N(K=>{var U=Math.round(H),z=Math.round(Y);return K.containerWidth===U&&K.containerHeight===z?K:{containerWidth:U,containerHeight:z}})},[]);w.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return mp;var H=z=>{var Z,{width:Q,height:V}=z[0].contentRect;j(Q,V),(Z=_.current)===null||Z===void 0||Z.call(_,Q,V)};h>0&&(H=Vme(H,h,{trailing:!0,leading:!1}));var Y=new ResizeObserver(H),{width:K,height:U}=S.current.getBoundingClientRect();return j(K,U),Y.observe(S.current),()=>{Y.disconnect()}},[j,h]);var{containerWidth:M,containerHeight:D}=T;wy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:$}=o9(M,D,{width:i,height:a,aspect:n,maxHeight:u});return wy(P!=null&&P>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,$,i,a,o,l,n),w.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",b),style:eL(eL({},E),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:S},w.createElement("div",{style:epe({width:i,height:a})},w.createElement(l9,{width:P,height:$},f)))}),spe=w.forwardRef((e,t)=>{var n=UA();if(Oo(n.width)&&Oo(n.height))return e.children;var{width:r,height:i}=tpe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=o9(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return We(a)&&We(o)?w.createElement(l9,{width:a,height:o},e.children):w.createElement(ope,mk({},e,{width:r,height:i,ref:t}))});function c9(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Qv=()=>{var e,t=pi(),n=Je(Fme),r=Je(Jv),i=(e=Je(Xv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},lpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},u9=()=>{var e;return(e=Je(Sr))!==null&&e!==void 0?e:lpe},d9=()=>Je(Os),f9=()=>Je(Ns),Vt=e=>e.layout.layoutType,vp=()=>Je(Vt),cpe=()=>{var e=vp();if(e==="horizontal"||e==="vertical")return e},upe=()=>{var e=vp();return e!==void 0},ex=e=>{var t=cr(),n=pi(),{width:r,height:i}=e,a=UA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),w.useEffect(()=>{!n&&Oo(o)&&Oo(l)&&t(hme({width:o,height:l}))},[t,n,o,l]),null},h9=Symbol.for("immer-nothing"),tL=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bm=Object.getPrototypeOf;function Qd(e){return!!e&&!!e[Fi]}function lu(e){return e?m9(e)||Array.isArray(e)||!!e[tL]||!!e.constructor?.[tL]||xp(e)||nx(e):!1}var dpe=Object.prototype.constructor.toString(),nL=new WeakMap;function m9(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=nL.get(n);return r===void 0&&(r=Function.toString.call(n),nL.set(n,r)),r===dpe}function Sy(e,t,n=!0){tx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function tx(e){const t=e[Fi];return t?t.type_:Array.isArray(e)?1:xp(e)?2:nx(e)?3:0}function pk(e,t){return tx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function p9(e,t,n){const r=tx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function fpe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xp(e){return e instanceof Map}function nx(e){return e instanceof Set}function Fc(e){return e.copy_||e.base_}function gk(e,t){if(xp(e))return new Map(e);if(nx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=m9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Bm(e),r)}else{const r=Bm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function FA(e,t=!1){return rx(e)||Qd(e)||!lu(e)||(tx(e)>1&&Object.defineProperties(e,{set:Z0,add:Z0,clear:Z0,delete:Z0}),Object.freeze(e),t&&Object.values(e).forEach(n=>FA(n,!0))),e}function hpe(){$a(2)}var Z0={value:hpe};function rx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var mpe={};function cu(e){const t=mpe[e];return t||$a(0,e),t}var zm;function g9(){return zm}function ppe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rL(e,t){t&&(cu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bk(e){yk(e),e.drafts_.forEach(gpe),e.drafts_=null}function yk(e){e===zm&&(zm=e.parent_)}function iL(e){return zm=ppe(zm,e)}function gpe(e){const t=e[Fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fi].modified_&&(bk(t),$a(4)),lu(e)&&(e=Ey(t,e),t.parent_||ky(t,e)),t.patches_&&cu("Patches").generateReplacementPatches_(n[Fi].base_,e,t.patches_,t.inversePatches_)):e=Ey(t,n,[]),bk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==h9?e:void 0}function Ey(e,t,n){if(rx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Fi];if(!i)return Sy(t,(a,o)=>oL(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ky(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Sy(o,(u,f)=>oL(e,i,a,u,f,n,l),r),ky(e,a,!1),n&&e.patches_&&cu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function oL(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=rx(i);if(!(l&&!o)){if(Qd(i)){const u=a&&t&&t.type_!==3&&!pk(t.assigned_,r)?a.concat(r):void 0,f=Ey(e,i,u);if(p9(n,r,f),Qd(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(lu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Ey(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(xp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ky(e,i)}}}function ky(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&FA(t,n)}function bpe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:g9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=HA;n&&(i=[r],a=Um);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var HA={get(e,t){if(t===Fi)return e;const n=Fc(e);if(!pk(n,t))return ype(e,n,t);const r=n[t];return e.finalized_||!lu(r)?r:r===pS(e.base_,t)?(gS(e),e.copy_[t]=xk(r,e)):r},has(e,t){return t in Fc(e)},ownKeys(e){return Reflect.ownKeys(Fc(e))},set(e,t,n){const r=b9(Fc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=pS(Fc(e),t),a=i?.[Fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(fpe(n,i)&&(n!==void 0||pk(e.base_,t)))return!0;gS(e),vk(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gS(e),vk(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return Bm(e.base_)},setPrototypeOf(){$a(12)}},Um={};Sy(HA,(e,t)=>{Um[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Um.deleteProperty=function(e,t){return Um.set.call(this,e,t,void 0)};Um.set=function(e,t,n){return HA.set.call(this,e[0],t,n,e[0])};function pS(e,t){const n=e[Fi];return(n?Fc(n):e)[t]}function ype(e,t,n){const r=b9(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function b9(e,t){if(!(t in e))return;let n=Bm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bm(n)}}function vk(e){e.modified_||(e.modified_=!0,e.parent_&&vk(e.parent_))}function gS(e){e.copy_||(e.copy_=gk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vpe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&$a(6),r!==void 0&&typeof r!="function"&&$a(7);let i;if(lu(t)){const a=iL(this),o=xk(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?bk(a):yk(a)}return rL(a,r),aL(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===h9&&(i=void 0),this.autoFreeze_&&FA(i,!0),r){const a=[],o=[];cu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else $a(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){lu(e)||$a(8),Qd(e)&&(e=xpe(e));const t=iL(this),n=xk(e,void 0);return n[Fi].isManual_=!0,yk(t),n}finishDraft(e,t){const n=e&&e[Fi];(!n||!n.isManual_)&&$a(9);const{scope_:r}=n;return rL(r,t),aL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=cu("Patches").applyPatches_;return Qd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function xk(e,t){const n=xp(e)?cu("MapSet").proxyMap_(e,t):nx(e)?cu("MapSet").proxySet_(e,t):bpe(e,t);return(t?t.scope_:g9()).drafts_.push(n),n}function xpe(e){return Qd(e)||$a(10,e),y9(e)}function y9(e){if(!lu(e)||rx(e))return e;const t=e[Fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gk(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=gk(e,!0);return Sy(n,(i,a)=>{p9(n,i,y9(a))},r),t&&(t.finalized_=!1),n}var _pe=new vpe;_pe.produce;var wpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},v9=mi({name:"legend",initialState:wpe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=Ua(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:HOe,setLegendSettings:GOe,addLegendPayload:Spe,replaceLegendPayload:Epe,removeLegendPayload:kpe}=v9.actions,Ape=v9.reducer;function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_k.apply(null,arguments)}function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){Tpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tpe(e,t,n){return(t=jpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jpe(e){var t=Ope(e,"string");return typeof t=="symbol"?t:t+""}function Ope(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Npe(e){return Array.isArray(e)&&jo(e[0])&&jo(e[1])?e.join(" ~ "):e}var Cpe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,x=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(l?zv(a,l):a).map(($,H)=>{if($.type==="none")return null;var Y=$.formatter||o||Npe,{value:K,name:U}=$,z=K,Z=U;if(Y){var Q=Y(K,U,$,H,a);if(Array.isArray(Q))[z,Z]=Q;else if(Q!=null)z=Q;else return null}var V=bS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},jo(Z)?w.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,jo(Z)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},E=bS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=bS({margin:0},i),_=!xr(h),T=_?h:"",N=Qt("recharts-default-tooltip",u),j=Qt("recharts-tooltip-label",f);_&&p&&a!==void 0&&a!==null&&(T=p(h,a));var M=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",_k({className:N,style:E},M),w.createElement("p",{className:j,style:S},w.isValidElement(T)?T:"".concat(T)),x())},Yh="recharts-tooltip-wrapper",Mpe={visibility:"hidden"};function Dpe(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(Yh,{["".concat(Yh,"-right")]:We(n)&&t&&We(t.x)&&n>=t.x,["".concat(Yh,"-left")]:We(n)&&t&&We(t.x)&&n<t.x,["".concat(Yh,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(Yh,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function lL(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(a&&We(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var x=h,E=b;return x<E?Math.max(p,b):Math.max(h,b)}if(f==null)return 0;var S=p+l,_=b+f;return S>_?Math.max(h,b):Math.max(p,b)}function Ppe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Rpe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,f,h,p;return o.height>0&&o.width>0&&n?(h=lL({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=lL({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Ppe({translateX:h,translateY:p,useTranslate3d:l})):f=Mpe,{cssProperties:f,cssClasses:Dpe({translateX:h,translateY:p,coordinate:n})}}function cL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(n),!0).forEach(function(r){wk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wk(e,t,n){return(t=Lpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lpe(e){var t=Ipe(e,"string");return typeof t=="symbol"?t:t+""}function Ipe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $pe extends w.PureComponent{constructor(){super(...arguments),wk(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wk(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:b,viewBox:x,wrapperStyle:E,lastBoundingBox:S,innerRef:_,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:j}=Rpe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:x}),M=T?{}:X0(X0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=X0(X0({},M),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:D,ref:_},a)}}var x9=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sk.apply(null,arguments)}function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){Bpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bpe(e,t,n){return(t=zpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zpe(e){var t=Upe(e,"string");return typeof t=="symbol"?t:t+""}function Upe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fL={curveBasisClosed:Qde,curveBasisOpen:efe,curveBasis:Jde,curveBumpX:Zde,curveBumpY:Xde,curveLinearClosed:tfe,curveLinear:Iv,curveMonotoneX:nfe,curveMonotoneY:rfe,curveNatural:ife,curveStep:afe,curveStepAfter:sfe,curveStepBefore:ofe},Ay=e=>_n(e.x)&&_n(e.y),hL=e=>e.base!=null&&Ay(e.base)&&Ay(e),Kh=e=>e.x,Wh=e=>e.y,Fpe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(NA(e));return(n==="curveMonotone"||n==="curveBump")&&t?fL["".concat(n).concat(t==="vertical"?"Y":"X")]:fL[n]||Iv},Hpe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Fpe(t,i),l=a?n.filter(Ay):n,u;if(Array.isArray(r)){var f=n.map((x,E)=>dL(dL({},x),{},{base:r[E]}));i==="vertical"?u=H0().y(Wh).x1(Kh).x0(x=>x.base.x):u=H0().x(Kh).y1(Wh).y0(x=>x.base.y);var h=u.defined(hL).curve(o),p=a?f.filter(hL):f;return h(p)}i==="vertical"&&We(r)?u=H0().y(Wh).x1(Kh).x0(r):We(r)?u=H0().x(Kh).y1(Wh).y0(r):u=n6().x(Kh).y(Wh);var b=u.defined(Ay).curve(o);return b(l)},Eb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Hpe(e):r;return w.createElement("path",Sk({},Ga(e),CA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Gpe=["x","y","top","left","width","height","className"];function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ek.apply(null,arguments)}function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(r){Ype(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ype(e,t,n){return(t=Kpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kpe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vpe(e,t){if(e==null)return{};var n,r,i=Zpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xpe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Jpe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=Vpe(e,Gpe),f=qpe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!We(t)||!We(n)||!We(a)||!We(o)||!We(r)||!We(i)?null:w.createElement("path",Ek({},pa(f),{className:Qt("recharts-cross",l),d:Xpe(t,n,a,o,r,i)}))};function Qpe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function pL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(n),!0).forEach(function(r){ege(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ege(e,t,n){return(t=tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tge(e){var t=nge(e,"string");return typeof t=="symbol"?t:t+""}function nge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ige=(e,t,n)=>e.map(r=>"".concat(rge(r)," ").concat(t,"ms ").concat(n)).join(","),age=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Fm=(e,t)=>Object.keys(t).reduce((n,r)=>gL(gL({},n),{},{[r]:e(r,t[r])}),{});function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){oge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oge(e,t,n){return(t=sge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sge(e){var t=lge(e,"string");return typeof t=="symbol"?t:t+""}function lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=(e,t,n)=>e+(t-e)*n,kk=e=>{var{from:t,to:n}=e;return t!==n},_9=(e,t,n)=>{var r=Fm((i,a)=>{if(kk(a)){var[o,l]=e(a.from,a.to,a.velocity);return Yn(Yn({},a),{},{from:o,velocity:l})}return a},t);return n<1?Fm((i,a)=>kk(a)?Yn(Yn({},a),{},{velocity:Ty(a.velocity,r[i].velocity,n),from:Ty(a.from,r[i].from,n)}):a,t):_9(e,r,n-1)};function cge(e,t,n,r,i,a){var o,l=r.reduce((b,x)=>Yn(Yn({},b),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>Fm((b,x)=>x.from,l),f=()=>!Object.values(l).filter(kk).length,h=null,p=b=>{o||(o=b);var x=b-o,E=x/n.dt;l=_9(n,l,E),i(Yn(Yn(Yn({},e),t),u())),o=b,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function uge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Yn(Yn({},p),{},{[b]:[e[b],t[b]]}),{}),f,h=p=>{f||(f=p);var b=(p-f)/r,x=Fm((S,_)=>Ty(..._,n(b)),u);if(a(Yn(Yn(Yn({},e),t),x)),b<1)l=o.setTimeout(h);else{var E=Fm((S,_)=>Ty(..._,n(1)),u);a(Yn(Yn(Yn({},e),t),E))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const dge=(e,t,n,r,i,a)=>{var o=age(e,t);return n==null?()=>(i(Yn(Yn({},e),t)),()=>{}):n.isStepper===!0?cge(e,t,n,o,i,a):uge(e,t,n,r,o,i,a)};var jy=1e-4,w9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],S9=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),yL=(e,t)=>n=>{var r=w9(e,t);return S9(r,n)},fge=(e,t)=>n=>{var r=w9(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return S9(i,n)},hge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},mge=(e,t,n,r)=>{var i=yL(e,n),a=yL(t,r),o=fge(e,n),l=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,b=0;b<8;++b){var x=i(p)-h,E=o(p);if(Math.abs(x-h)<jy||E<jy)return a(p);p=l(p-x/E)}return a(p)};return u.isStepper=!1,u},vL=function(){return mge(...hge(...arguments))},pge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var f=-(o-l)*n,h=u*r,p=u+(f-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<jy&&Math.abs(p)<jy?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},gge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vL(e);case"spring":return pge();default:if(e.split("(")[0]==="cubic-bezier")return vL(e)}return typeof e=="function"?e:null};function bge(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class yge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function vge(){return bge(new yge)}var xge=w.createContext(vge);function _ge(e,t){var n=w.useContext(xge);return w.useMemo(()=>t??n(e),[e,t,n])}var wge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bf={devToolsEnabled:!1,isSsr:wge()},Sge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xL={t:0},yS={t:1};function E9(e){var t=qi(e,Sge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=t,h=n==="auto"?!bf.isSsr:n,p=_ge(t.animationId,t.animationManager),[b,x]=w.useState(h?xL:yS),E=w.useRef(null);return w.useEffect(()=>{h||x(yS)},[h]),w.useEffect(()=>{if(!h||!r)return mp;var S=dge(xL,yS,gge(a),i,x,p.getTimeoutController()),_=()=>{E.current=S()};return p.start([u,o,_,i,l]),()=>{p.stop(),E.current&&E.current(),l()}},[h,r,i,a,o,u,l,p]),f(b.t)}function k9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Rm(t)),r=w.useRef(e);return r.current!==e&&(n.current=Rm(t),r.current=e),n.current}var Ege=["radius"],kge=["radius"];function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(r){Age(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Age(e,t,n){return(t=Tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tge(e){var t=jge(e,"string");return typeof t=="symbol"?t:t+""}function jge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function SL(e,t){if(e==null)return{};var n,r,i=Oge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),f+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),f+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),f+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);f="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+n-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-l*x,",").concat(t+r,`
            L `).concat(e+l*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},kL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nge=e=>{var t=qi(e,kL),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:f,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:x,isAnimationActive:E,isUpdateAnimationActive:S}=t,_=w.useRef(l),T=w.useRef(u),N=w.useRef(a),j=w.useRef(o),M=w.useMemo(()=>({x:a,y:o,width:l,height:u,radius:f}),[a,o,l,u,f]),D=k9(M,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=Qt("recharts-rectangle",h);if(!S){var $=pa(t),{radius:H}=$,Y=SL($,Ege);return w.createElement("path",Oy({},Y,{radius:typeof f=="number"?f:void 0,className:P,d:EL(a,o,l,u,f)}))}var K=_.current,U=T.current,z=N.current,Z=j.current,Q="0px ".concat(r===-1?1:r,"px"),V="".concat(r,"px 0px"),q=ige(["strokeDasharray"],b,typeof p=="string"?p:kL.animationEasing);return w.createElement(E9,{animationId:D,key:D,canBegin:r>0,duration:b,easing:p,isActive:S,begin:x},J=>{var re=vo(K,l,J),ue=vo(U,u,J),se=vo(z,a,J),B=vo(Z,o,J);n.current&&(_.current=re,T.current=ue,N.current=se,j.current=B);var W;E?J>0?W={transition:q,strokeDasharray:V}:W={strokeDasharray:Q}:W={strokeDasharray:V};var ae=pa(t),{radius:X}=ae,oe=SL(ae,kge);return w.createElement("path",Oy({},oe,{radius:typeof f=="number"?f:void 0,className:P,d:EL(se,B,re,ue,f),ref:n,style:wL(wL({},W),t.style)}))})};function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(r){Cge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cge(e,t,n){return(t=Mge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mge(e){var t=Dge(e,"string");return typeof t=="symbol"?t:t+""}function Dge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny=Math.PI/180,Pge=e=>e*180/Math.PI,vr=(e,t,n,r)=>({x:e+Math.cos(-Ny*r)*n,y:t+Math.sin(-Ny*r)*n}),Rge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Lge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Ige=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Lge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Pge(u),angleInRadian:u}},$ge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Bge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},zge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Ige({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:f}=$ge(t),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?TL(TL({},t),{},{radius:i,angle:Bge(h,t)}):null};function A9(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=vr(t,n,r,i),l=vr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ak.apply(null,arguments)}var Uge=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},J0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,f=l*(o?1:-1)+r,h=Math.asin(l/f)/Ny,p=u?i:i+a*h,b=vr(t,n,f,p),x=vr(t,n,r,p),E=u?i-a*h:i,S=vr(t,n,f*Math.cos(h*Ny),E);return{center:b,circleTangency:x,lineTangency:S,theta:h}},T9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Uge(a,o),u=a+l,f=vr(t,n,i,a),h=vr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=vr(t,n,r,a),x=vr(t,n,r,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Fge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=e,h=ua(f-u),{circleTangency:p,lineTangency:b,theta:x}=J0({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:E,lineTangency:S,theta:_}=J0({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),T=l?Math.abs(u-f):Math.abs(u-f)-x-_;if(T<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):T9({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:M,theta:D}=J0({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:$,theta:H}=J0({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),Y=l?Math.abs(u-f):Math.abs(u-f)-D-H;if(Y<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},Hge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Gge=e=>{var t=qi(e,Hge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var b=Qt("recharts-sector",p),x=a-i,E=Rl(o,x,0,!0),S;return E>0&&Math.abs(f-h)<360?S=Fge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):S=T9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),w.createElement("path",Ak({},pa(t),{className:b,d:S}))};function qge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(m6(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=vr(r,i,a,l),f=vr(r,i,o,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return A9(t)}}var vS={},xS={},_S={},jL;function Yge(){return jL||(jL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k6();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(_S)),_S}var OL;function Kge(){return OL||(OL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yge();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xS)),xS}var NL;function Wge(){return NL||(NL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6(),n=Kge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=o;return u}e.range=r})(vS)),vS}var wS,CL;function Vge(){return CL||(CL=1,wS=Wge().range),wS}var Zge=Vge();const j9=hi(Zge);function Nl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GA(e){let t,n,r;e.length!==2?(t=Nl,n=(l,u)=>Nl(e(l),u),r=(l,u)=>e(l)-u):(t=e===Nl||e===Xge?e:Jge,n=e,r=e);function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,u,f=0,h=l.length){const p=i(l,u,f,h-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function Jge(){return 0}function O9(e){return e===null?NaN:+e}function*Qge(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const e0e=GA(Nl),_p=e0e.right;GA(O9).center;class ML extends Map{constructor(t,n=r0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(DL(this,t))}has(t){return super.has(DL(this,t))}set(t,n){return super.set(t0e(this,t),n)}delete(t){return super.delete(n0e(this,t))}}function DL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function t0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function n0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function r0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function i0e(e=Nl){if(e===Nl)return N9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function N9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const a0e=Math.sqrt(50),o0e=Math.sqrt(10),s0e=Math.sqrt(2);function Cy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=a0e?10:a>=o0e?5:a>=s0e?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Cy(e,t,n*2):[l,u,f]}function Tk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Cy(t,e,n):Cy(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)u[f]=(a-f)/-o;else for(let f=0;f<l;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function jk(e,t,n){return t=+t,e=+e,n=+n,Cy(e,t,n)[2]}function Ok(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?jk(t,e,n):jk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function PL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function C9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?N9:i0e(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),x=Math.max(n,Math.floor(t-f*p/u+b)),E=Math.min(r,Math.floor(t+(u-f)*p/u+b));C9(e,t,x,E,i)}const a=e[t];let o=n,l=r;for(Vh(e,n,t),i(e[r],a)>0&&Vh(e,n,r);o<l;){for(Vh(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Vh(e,n,l):(++l,Vh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Vh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function l0e(e,t,n){if(e=Float64Array.from(Qge(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return RL(e);if(t>=1)return PL(e);var r,i=(r-1)*t,a=Math.floor(i),o=PL(C9(e,a).subarray(0,a+1)),l=RL(e.subarray(a+1));return o+(l-o)*(i-a)}}function c0e(e,t,n=O9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function u0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Nk=Symbol("implicit");function qA(){var e=new ML,t=[],n=[],r=Nk;function i(a){let o=e.get(a);if(o===void 0){if(r!==Nk)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ML;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qA(t,n).unknown(r)},xa.apply(i,arguments),i}function YA(){var e=qA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,f=0,h=.5;delete e.unknown;function p(){var b=t().length,x=i<r,E=x?i:r,S=x?r:i;a=(S-E)/Math.max(1,b-u+f*2),l&&(a=Math.floor(a)),E+=(S-E-a*(b-u))*h,o=a*(1-u),l&&(E=Math.round(E),o=Math.round(o));var _=u0e(b).map(function(T){return E+a*T});return n(x?_.reverse():_)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,f=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(f=+b,p()):f},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return YA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},xa.apply(p(),arguments)}function M9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return M9(t())},e}function d0e(){return M9(YA.apply(null,arguments).paddingInner(1))}function KA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function D9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wp(){}var Hm=.7,My=1/Hm,$d="\\s*([+-]?\\d+)\\s*",Gm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f0e=/^#([0-9a-f]{3,8})$/,h0e=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),m0e=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),p0e=new RegExp(`^rgba\\(${$d},${$d},${$d},${Gm}\\)$`),g0e=new RegExp(`^rgba\\(${ko},${ko},${ko},${Gm}\\)$`),b0e=new RegExp(`^hsl\\(${Gm},${ko},${ko}\\)$`),y0e=new RegExp(`^hsla\\(${Gm},${ko},${ko},${Gm}\\)$`),LL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KA(wp,qm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IL,formatHex:IL,formatHex8:v0e,formatHsl:x0e,formatRgb:$L,toString:$L});function IL(){return this.rgb().formatHex()}function v0e(){return this.rgb().formatHex8()}function x0e(){return P9(this).formatHsl()}function $L(){return this.rgb().formatRgb()}function qm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=f0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?BL(t):n===3?new ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Q0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Q0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=h0e.exec(e))?new ci(t[1],t[2],t[3],1):(t=m0e.exec(e))?new ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p0e.exec(e))?Q0(t[1],t[2],t[3],t[4]):(t=g0e.exec(e))?Q0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=b0e.exec(e))?FL(t[1],t[2]/100,t[3]/100,1):(t=y0e.exec(e))?FL(t[1],t[2]/100,t[3]/100,t[4]):LL.hasOwnProperty(e)?BL(LL[e]):e==="transparent"?new ci(NaN,NaN,NaN,0):null}function BL(e){return new ci(e>>16&255,e>>8&255,e&255,1)}function Q0(e,t,n,r){return r<=0&&(e=t=n=NaN),new ci(e,t,n,r)}function _0e(e){return e instanceof wp||(e=qm(e)),e?(e=e.rgb(),new ci(e.r,e.g,e.b,e.opacity)):new ci}function Ck(e,t,n,r){return arguments.length===1?_0e(e):new ci(e,t,n,r??1)}function ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}KA(ci,Ck,D9(wp,{brighter(e){return e=e==null?My:Math.pow(My,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hm:Math.pow(Hm,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ci(nu(this.r),nu(this.g),nu(this.b),Dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zL,formatHex:zL,formatHex8:w0e,formatRgb:UL,toString:UL}));function zL(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}`}function w0e(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}${Xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function UL(){const e=Dy(this.opacity);return`${e===1?"rgb(":"rgba("}${nu(this.r)}, ${nu(this.g)}, ${nu(this.b)}${e===1?")":`, ${e})`}`}function Dy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xc(e){return e=nu(e),(e<16?"0":"")+e.toString(16)}function FL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ba(e,t,n,r)}function P9(e){if(e instanceof Ba)return new Ba(e.h,e.s,e.l,e.opacity);if(e instanceof wp||(e=qm(e)),!e)return new Ba;if(e instanceof Ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ba(o,l,u,e.opacity)}function S0e(e,t,n,r){return arguments.length===1?P9(e):new Ba(e,t,n,r??1)}function Ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}KA(Ba,S0e,D9(wp,{brighter(e){return e=e==null?My:Math.pow(My,e),new Ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hm:Math.pow(Hm,e),new Ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ci(SS(e>=240?e-240:e+120,i,r),SS(e,i,r),SS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ba(HL(this.h),eb(this.s),eb(this.l),Dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dy(this.opacity);return`${e===1?"hsl(":"hsla("}${HL(this.h)}, ${eb(this.s)*100}%, ${eb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HL(e){return e=(e||0)%360,e<0?e+360:e}function eb(e){return Math.max(0,Math.min(1,e||0))}function SS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const WA=e=>()=>e;function E0e(e,t){return function(n){return e+n*t}}function k0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function A0e(e){return(e=+e)==1?R9:function(t,n){return n-t?k0e(t,n,e):WA(isNaN(t)?n:t)}}function R9(e,t){var n=t-e;return n?E0e(e,n):WA(isNaN(e)?t:e)}const GL=(function e(t){var n=A0e(t);function r(i,a){var o=n((i=Ck(i)).r,(a=Ck(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=R9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function T0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function j0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=yf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function N0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Py(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function C0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Mk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ES=new RegExp(Mk.source,"g");function M0e(e){return function(){return e}}function D0e(e){return function(t){return e(t)+""}}function P0e(e,t){var n=Mk.lastIndex=ES.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Mk.exec(e))&&(i=ES.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Py(r,i)})),n=ES.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?D0e(u[0].x):M0e(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function yf(e,t){var n=typeof t,r;return t==null||n==="boolean"?WA(t):(n==="number"?Py:n==="string"?(r=qm(t))?(t=r,GL):P0e:t instanceof qm?GL:t instanceof Date?N0e:j0e(t)?T0e:Array.isArray(t)?O0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?C0e:Py)(e,t)}function VA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function R0e(e,t){t===void 0&&(t=e,e=yf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function L0e(e){return function(){return e}}function Ry(e){return+e}var qL=[0,1];function zr(e){return e}function Dk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:L0e(isNaN(t)?NaN:.5)}function I0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function $0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Dk(i,r),a=n(o,a)):(r=Dk(r,i),a=n(a,o)),function(l){return a(r(l))}}function B0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Dk(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=_p(e,l,1,r)-1;return a[u](i[u](l))}}function Sp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ix(){var e=qL,t=qL,n=yf,r,i,a,o=zr,l,u,f;function h(){var b=Math.min(e.length,t.length);return o!==zr&&(o=I0e(e[0],e[b-1])),l=b>2?B0e:$0e,u=f=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((f||(f=l(t,e.map(r),Py)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,Ry),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=VA,h()},p.clamp=function(b){return arguments.length?(o=b?!0:zr,h()):o!==zr},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,x){return r=b,i=x,h()}}function ZA(){return ix()(zr,zr)}function z0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ly(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ef(e){return e=Ly(Math.abs(e)),e?e[1]:NaN}function U0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function F0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var H0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ym(e){if(!(t=H0e.exec(e)))throw new Error("invalid format: "+e);var t;return new XA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ym.prototype=XA.prototype;function XA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var L9;function q0e(e,t){var n=Ly(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(L9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ly(e,Math.max(0,t+a-1))[0]}function YL(e,t){var n=Ly(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const KL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:z0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YL(e*100,t),r:YL,s:q0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WL(e){return e}var VL=Array.prototype.map,ZL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Y0e(e){var t=e.grouping===void 0||e.thousands===void 0?WL:U0e(VL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?WL:F0e(VL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Ym(p);var b=p.fill,x=p.align,E=p.sign,S=p.symbol,_=p.zero,T=p.width,N=p.comma,j=p.precision,M=p.trim,D=p.type;D==="n"?(N=!0,D="g"):KL[D]||(j===void 0&&(j=12),M=!0,D="g"),(_||b==="0"&&x==="=")&&(_=!0,b="0",x="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",$=S==="$"?r:/[%p]/.test(D)?o:"",H=KL[D],Y=/[defgprs%]/.test(D);j=j===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function K(U){var z=P,Z=$,Q,V,q;if(D==="c")Z=H(U)+Z,U="";else{U=+U;var J=U<0||1/U<0;if(U=isNaN(U)?u:H(Math.abs(U),j),M&&(U=G0e(U)),J&&+U==0&&E!=="+"&&(J=!1),z=(J?E==="("?E:l:E==="-"||E==="("?"":E)+z,Z=(D==="s"?ZL[8+L9/3]:"")+Z+(J&&E==="("?")":""),Y){for(Q=-1,V=U.length;++Q<V;)if(q=U.charCodeAt(Q),48>q||q>57){Z=(q===46?i+U.slice(Q+1):U.slice(Q))+Z,U=U.slice(0,Q);break}}}N&&!_&&(U=t(U,1/0));var re=z.length+U.length+Z.length,ue=re<T?new Array(T-re+1).join(b):"";switch(N&&_&&(U=t(ue+U,ue.length?T-Z.length:1/0),ue=""),x){case"<":U=z+U+Z+ue;break;case"=":U=z+ue+U+Z;break;case"^":U=ue.slice(0,re=ue.length>>1)+z+U+Z+ue.slice(re);break;default:U=ue+z+U+Z;break}return a(U)}return K.toString=function(){return p+""},K}function h(p,b){var x=f((p=Ym(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(ef(b)/3)))*3,S=Math.pow(10,-E),_=ZL[8+E/3];return function(T){return x(S*T)+_}}return{format:f,formatPrefix:h}}var tb,JA,I9;K0e({thousands:",",grouping:[3],currency:["$",""]});function K0e(e){return tb=Y0e(e),JA=tb.format,I9=tb.formatPrefix,tb}function W0e(e){return Math.max(0,-ef(Math.abs(e)))}function V0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ef(t)/3)))*3-ef(Math.abs(e)))}function Z0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ef(t)-ef(e))+1}function $9(e,t,n,r){var i=Ok(e,t,n),a;switch(r=Ym(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=V0e(i,o))&&(r.precision=a),I9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Z0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=W0e(i))&&(r.precision=a-(r.type==="%")*2);break}}return JA(r)}function $l(e){var t=e.domain;return e.ticks=function(n){var r=t();return Tk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return $9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=jk(o,l,n),f===u)return r[i]=o,r[a]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function B9(){var e=ZA();return e.copy=function(){return Sp(e,B9())},xa.apply(e,arguments),$l(e)}function z9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ry),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return z9(e).unknown(t)},e=arguments.length?Array.from(e,Ry):[0,1],$l(n)}function U9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function XL(e){return Math.log(e)}function JL(e){return Math.exp(e)}function X0e(e){return-Math.log(-e)}function J0e(e){return-Math.exp(-e)}function Q0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ebe(e){return e===10?Q0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QL(e){return(t,n)=>-e(-t,n)}function QA(e){const t=e(XL,JL),n=t.domain;let r=10,i,a;function o(){return i=tbe(r),a=ebe(r),n()[0]<0?(i=QL(i),a=QL(a),e(X0e,J0e)):e(XL,JL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let b=i(f),x=i(h),E,S;const _=l==null?10:+l;let T=[];if(!(r%1)&&x-b<_){if(b=Math.floor(b),x=Math.ceil(x),f>0){for(;b<=x;++b)for(E=1;E<r;++E)if(S=b<0?E/a(-b):E*a(b),!(S<f)){if(S>h)break;T.push(S)}}else for(;b<=x;++b)for(E=r-1;E>=1;--E)if(S=b>0?E/a(-b):E*a(b),!(S<f)){if(S>h)break;T.push(S)}T.length*2<_&&(T=Tk(f,h,_))}else T=Tk(b,x,Math.min(x-b,_)).map(a);return p?T.reverse():T},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ym(u)).precision==null&&(u.trim=!0),u=JA(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},t.nice=()=>n(U9(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function F9(){const e=QA(ix()).domain([1,10]);return e.copy=()=>Sp(e,F9()).base(e.base()),xa.apply(e,arguments),e}function eI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eT(e){var t=1,n=e(eI(t),tI(t));return n.constant=function(r){return arguments.length?e(eI(t=+r),tI(t)):t},$l(n)}function H9(){var e=eT(ix());return e.copy=function(){return Sp(e,H9()).constant(e.constant())},xa.apply(e,arguments)}function nI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rbe(e){return e<0?-e*e:e*e}function tT(e){var t=e(zr,zr),n=1;function r(){return n===1?e(zr,zr):n===.5?e(nbe,rbe):e(nI(n),nI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},$l(t)}function nT(){var e=tT(ix());return e.copy=function(){return Sp(e,nT()).exponent(e.exponent())},xa.apply(e,arguments),e}function ibe(){return nT.apply(null,arguments).exponent(.5)}function rI(e){return Math.sign(e)*e*e}function abe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function G9(){var e=ZA(),t=[0,1],n=!1,r;function i(a){var o=abe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(rI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Ry)).map(rI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return G9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xa.apply(i,arguments),$l(i)}function q9(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=c0e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[_p(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Nl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return q9().domain(e).range(t).unknown(r)},xa.apply(a,arguments)}function Y9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[_p(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Y9().domain([e,t]).range(i).unknown(a)},xa.apply($l(o),arguments)}function K9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[_p(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return K9().domain(e).range(t).unknown(n)},xa.apply(i,arguments)}const kS=new Date,AS=new Date;function Wn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let f;do u.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<o);return u},i.filter=a=>Wn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(kS.setTime(+a),AS.setTime(+o),e(kS),e(AS),Math.floor(n(kS,AS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Iy=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Iy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Iy);Iy.range;const fs=1e3,da=fs*60,hs=da*60,ws=hs*24,rT=ws*7,iI=ws*30,TS=ws*365,Jc=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fs)},(e,t)=>(t-e)/fs,e=>e.getUTCSeconds());Jc.range;const iT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fs)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getMinutes());iT.range;const aT=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCMinutes());aT.range;const oT=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fs-e.getMinutes()*da)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getHours());oT.range;const sT=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCHours());sT.range;const Ep=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*da)/ws,e=>e.getDate()-1);Ep.range;const ax=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ws,e=>e.getUTCDate()-1);ax.range;const W9=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ws,e=>Math.floor(e/ws));W9.range;function gu(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*da)/rT)}const ox=gu(0),$y=gu(1),obe=gu(2),sbe=gu(3),tf=gu(4),lbe=gu(5),cbe=gu(6);ox.range;$y.range;obe.range;sbe.range;tf.range;lbe.range;cbe.range;function bu(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rT)}const sx=bu(0),By=bu(1),ube=bu(2),dbe=bu(3),nf=bu(4),fbe=bu(5),hbe=bu(6);sx.range;By.range;ube.range;dbe.range;nf.range;fbe.range;hbe.range;const lT=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lT.range;const cT=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cT.range;const Ss=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ss.range;const Es=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Es.range;function V9(e,t,n,r,i,a){const o=[[Jc,1,fs],[Jc,5,5*fs],[Jc,15,15*fs],[Jc,30,30*fs],[a,1,da],[a,5,5*da],[a,15,15*da],[a,30,30*da],[i,1,hs],[i,3,3*hs],[i,6,6*hs],[i,12,12*hs],[r,1,ws],[r,2,2*ws],[n,1,rT],[t,1,iI],[t,3,3*iI],[e,1,TS]];function l(f,h,p){const b=h<f;b&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:u(f,h,p),E=x?x.range(f,+h+1):[];return b?E.reverse():E}function u(f,h,p){const b=Math.abs(h-f)/p,x=GA(([,,_])=>_).right(o,b);if(x===o.length)return e.every(Ok(f/TS,h/TS,p));if(x===0)return Iy.every(Math.max(Ok(f,h,p),1));const[E,S]=o[b/o[x-1][2]<o[x][2]/b?x-1:x];return E.every(S)}return[l,u]}const[mbe,pbe]=V9(Es,cT,sx,W9,sT,aT),[gbe,bbe]=V9(Ss,lT,ox,Ep,oT,iT);function jS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function OS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ybe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=Xh(i),h=Jh(i),p=Xh(a),b=Jh(a),x=Xh(o),E=Jh(o),S=Xh(l),_=Jh(l),T=Xh(u),N=Jh(u),j={a:J,A:re,b:ue,B:se,c:null,d:uI,e:uI,f:Ube,g:Xbe,G:Qbe,H:$be,I:Bbe,j:zbe,L:Z9,m:Fbe,M:Hbe,p:B,q:W,Q:hI,s:mI,S:Gbe,u:qbe,U:Ybe,V:Kbe,w:Wbe,W:Vbe,x:null,X:null,y:Zbe,Y:Jbe,Z:eye,"%":fI},M={a:ae,A:X,b:oe,B:de,c:null,d:dI,e:dI,f:iye,g:mye,G:gye,H:tye,I:nye,j:rye,L:J9,m:aye,M:oye,p:pe,q:ye,Q:hI,s:mI,S:sye,u:lye,U:cye,V:uye,w:dye,W:fye,x:null,X:null,y:hye,Y:pye,Z:bye,"%":fI},D={a:K,A:U,b:z,B:Z,c:Q,d:lI,e:lI,f:Pbe,g:sI,G:oI,H:cI,I:cI,j:Nbe,L:Dbe,m:Obe,M:Cbe,p:Y,q:jbe,Q:Lbe,s:Ibe,S:Mbe,u:Sbe,U:Ebe,V:kbe,w:wbe,W:Abe,x:V,X:q,y:sI,Y:oI,Z:Tbe,"%":Rbe};j.x=P(n,j),j.X=P(r,j),j.c=P(t,j),M.x=P(n,M),M.X=P(r,M),M.c=P(t,M);function P(ne,je){return function(Ce){var ve=[],Ze=-1,Ne=0,_e=ne.length,Oe,Ie,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ze<_e;)ne.charCodeAt(Ze)===37&&(ve.push(ne.slice(Ne,Ze)),(Ie=aI[Oe=ne.charAt(++Ze)])!=null?Oe=ne.charAt(++Ze):Ie=Oe==="e"?" ":"0",(Ve=je[Oe])&&(Oe=Ve(Ce,Ie)),ve.push(Oe),Ne=Ze+1);return ve.push(ne.slice(Ne,Ze)),ve.join("")}}function $(ne,je){return function(Ce){var ve=Zh(1900,void 0,1),Ze=H(ve,ne,Ce+="",0),Ne,_e;if(Ze!=Ce.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(je&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ne=OS(Zh(ve.y,0,1)),_e=Ne.getUTCDay(),Ne=_e>4||_e===0?By.ceil(Ne):By(Ne),Ne=ax.offset(Ne,(ve.V-1)*7),ve.y=Ne.getUTCFullYear(),ve.m=Ne.getUTCMonth(),ve.d=Ne.getUTCDate()+(ve.w+6)%7):(Ne=jS(Zh(ve.y,0,1)),_e=Ne.getDay(),Ne=_e>4||_e===0?$y.ceil(Ne):$y(Ne),Ne=Ep.offset(Ne,(ve.V-1)*7),ve.y=Ne.getFullYear(),ve.m=Ne.getMonth(),ve.d=Ne.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),_e="Z"in ve?OS(Zh(ve.y,0,1)).getUTCDay():jS(Zh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(_e+5)%7:ve.w+ve.U*7-(_e+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,OS(ve)):jS(ve)}}function H(ne,je,Ce,ve){for(var Ze=0,Ne=je.length,_e=Ce.length,Oe,Ie;Ze<Ne;){if(ve>=_e)return-1;if(Oe=je.charCodeAt(Ze++),Oe===37){if(Oe=je.charAt(Ze++),Ie=D[Oe in aI?je.charAt(Ze++):Oe],!Ie||(ve=Ie(ne,Ce,ve))<0)return-1}else if(Oe!=Ce.charCodeAt(ve++))return-1}return ve}function Y(ne,je,Ce){var ve=f.exec(je.slice(Ce));return ve?(ne.p=h.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function K(ne,je,Ce){var ve=x.exec(je.slice(Ce));return ve?(ne.w=E.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function U(ne,je,Ce){var ve=p.exec(je.slice(Ce));return ve?(ne.w=b.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function z(ne,je,Ce){var ve=T.exec(je.slice(Ce));return ve?(ne.m=N.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function Z(ne,je,Ce){var ve=S.exec(je.slice(Ce));return ve?(ne.m=_.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function Q(ne,je,Ce){return H(ne,t,je,Ce)}function V(ne,je,Ce){return H(ne,n,je,Ce)}function q(ne,je,Ce){return H(ne,r,je,Ce)}function J(ne){return o[ne.getDay()]}function re(ne){return a[ne.getDay()]}function ue(ne){return u[ne.getMonth()]}function se(ne){return l[ne.getMonth()]}function B(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function X(ne){return a[ne.getUTCDay()]}function oe(ne){return u[ne.getUTCMonth()]}function de(ne){return l[ne.getUTCMonth()]}function pe(ne){return i[+(ne.getUTCHours()>=12)]}function ye(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var je=P(ne+="",j);return je.toString=function(){return ne},je},parse:function(ne){var je=$(ne+="",!1);return je.toString=function(){return ne},je},utcFormat:function(ne){var je=P(ne+="",M);return je.toString=function(){return ne},je},utcParse:function(ne){var je=$(ne+="",!0);return je.toString=function(){return ne},je}}}var aI={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,vbe=/^%/,xbe=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function _be(e){return e.replace(xbe,"\\$&")}function Xh(e){return new RegExp("^(?:"+e.map(_be).join("|")+")","i")}function Jh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function wbe(e,t,n){var r=ur.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Sbe(e,t,n){var r=ur.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ebe(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kbe(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Abe(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oI(e,t,n){var r=ur.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sI(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tbe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jbe(e,t,n){var r=ur.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Obe(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lI(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Nbe(e,t,n){var r=ur.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cI(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Cbe(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Mbe(e,t,n){var r=ur.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Dbe(e,t,n){var r=ur.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Pbe(e,t,n){var r=ur.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rbe(e,t,n){var r=vbe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Lbe(e,t,n){var r=ur.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ibe(e,t,n){var r=ur.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function uI(e,t){return At(e.getDate(),t,2)}function $be(e,t){return At(e.getHours(),t,2)}function Bbe(e,t){return At(e.getHours()%12||12,t,2)}function zbe(e,t){return At(1+Ep.count(Ss(e),e),t,3)}function Z9(e,t){return At(e.getMilliseconds(),t,3)}function Ube(e,t){return Z9(e,t)+"000"}function Fbe(e,t){return At(e.getMonth()+1,t,2)}function Hbe(e,t){return At(e.getMinutes(),t,2)}function Gbe(e,t){return At(e.getSeconds(),t,2)}function qbe(e){var t=e.getDay();return t===0?7:t}function Ybe(e,t){return At(ox.count(Ss(e)-1,e),t,2)}function X9(e){var t=e.getDay();return t>=4||t===0?tf(e):tf.ceil(e)}function Kbe(e,t){return e=X9(e),At(tf.count(Ss(e),e)+(Ss(e).getDay()===4),t,2)}function Wbe(e){return e.getDay()}function Vbe(e,t){return At($y.count(Ss(e)-1,e),t,2)}function Zbe(e,t){return At(e.getFullYear()%100,t,2)}function Xbe(e,t){return e=X9(e),At(e.getFullYear()%100,t,2)}function Jbe(e,t){return At(e.getFullYear()%1e4,t,4)}function Qbe(e,t){var n=e.getDay();return e=n>=4||n===0?tf(e):tf.ceil(e),At(e.getFullYear()%1e4,t,4)}function eye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function dI(e,t){return At(e.getUTCDate(),t,2)}function tye(e,t){return At(e.getUTCHours(),t,2)}function nye(e,t){return At(e.getUTCHours()%12||12,t,2)}function rye(e,t){return At(1+ax.count(Es(e),e),t,3)}function J9(e,t){return At(e.getUTCMilliseconds(),t,3)}function iye(e,t){return J9(e,t)+"000"}function aye(e,t){return At(e.getUTCMonth()+1,t,2)}function oye(e,t){return At(e.getUTCMinutes(),t,2)}function sye(e,t){return At(e.getUTCSeconds(),t,2)}function lye(e){var t=e.getUTCDay();return t===0?7:t}function cye(e,t){return At(sx.count(Es(e)-1,e),t,2)}function Q9(e){var t=e.getUTCDay();return t>=4||t===0?nf(e):nf.ceil(e)}function uye(e,t){return e=Q9(e),At(nf.count(Es(e),e)+(Es(e).getUTCDay()===4),t,2)}function dye(e){return e.getUTCDay()}function fye(e,t){return At(By.count(Es(e)-1,e),t,2)}function hye(e,t){return At(e.getUTCFullYear()%100,t,2)}function mye(e,t){return e=Q9(e),At(e.getUTCFullYear()%100,t,2)}function pye(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function gye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?nf(e):nf.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function bye(){return"+0000"}function fI(){return"%"}function hI(e){return+e}function mI(e){return Math.floor(+e/1e3)}var pd,e8,t8;yye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yye(e){return pd=ybe(e),e8=pd.format,pd.parse,t8=pd.utcFormat,pd.utcParse,pd}function vye(e){return new Date(e)}function xye(e){return e instanceof Date?+e:+new Date(+e)}function uT(e,t,n,r,i,a,o,l,u,f){var h=ZA(),p=h.invert,b=h.domain,x=f(".%L"),E=f(":%S"),S=f("%I:%M"),_=f("%I %p"),T=f("%a %d"),N=f("%b %d"),j=f("%B"),M=f("%Y");function D(P){return(u(P)<P?x:l(P)<P?E:o(P)<P?S:a(P)<P?_:r(P)<P?i(P)<P?T:N:n(P)<P?j:M)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,xye)):b().map(vye)},h.ticks=function(P){var $=b();return e($[0],$[$.length-1],P??10)},h.tickFormat=function(P,$){return $==null?D:f($)},h.nice=function(P){var $=b();return(!P||typeof P.range!="function")&&(P=t($[0],$[$.length-1],P??10)),P?b(U9($,P)):h},h.copy=function(){return Sp(h,uT(e,t,n,r,i,a,o,l,u,f))},h}function _ye(){return xa.apply(uT(gbe,bbe,Ss,lT,ox,Ep,oT,iT,Jc,e8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wye(){return xa.apply(uT(mbe,pbe,Es,cT,sx,ax,sT,aT,Jc,t8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lx(){var e=0,t=1,n,r,i,a,o=zr,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(b){var x,E;return arguments.length?([x,E]=b,o=p(x,E),f):[o(0),o(1)]}}return f.range=h(yf),f.rangeRound=h(VA),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Bl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function n8(){var e=$l(lx()(zr));return e.copy=function(){return Bl(e,n8())},Cs.apply(e,arguments)}function r8(){var e=QA(lx()).domain([1,10]);return e.copy=function(){return Bl(e,r8()).base(e.base())},Cs.apply(e,arguments)}function i8(){var e=eT(lx());return e.copy=function(){return Bl(e,i8()).constant(e.constant())},Cs.apply(e,arguments)}function dT(){var e=tT(lx());return e.copy=function(){return Bl(e,dT()).exponent(e.exponent())},Cs.apply(e,arguments)}function Sye(){return dT.apply(null,arguments).exponent(.5)}function a8(){var e=[],t=zr;function n(r){if(r!=null&&!isNaN(r=+r))return t((_p(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Nl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>l0e(e,a/r))},n.copy=function(){return a8(t).domain(e)},Cs.apply(n,arguments)}function cx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,f=zr,h,p=!1,b;function x(S){return isNaN(S=+S)?b:(S=.5+((S=+h(S))-a)*(r*S<r*a?l:u),f(p?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([e,t,n]=S,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x):[e,t,n]},x.clamp=function(S){return arguments.length?(p=!!S,x):p},x.interpolator=function(S){return arguments.length?(f=S,x):f};function E(S){return function(_){var T,N,j;return arguments.length?([T,N,j]=_,f=R0e(S,[T,N,j]),x):[f(0),f(.5),f(1)]}}return x.range=E(yf),x.rangeRound=E(VA),x.unknown=function(S){return arguments.length?(b=S,x):b},function(S){return h=S,i=S(e),a=S(t),o=S(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x}}function o8(){var e=$l(cx()(zr));return e.copy=function(){return Bl(e,o8())},Cs.apply(e,arguments)}function s8(){var e=QA(cx()).domain([.1,1,10]);return e.copy=function(){return Bl(e,s8()).base(e.base())},Cs.apply(e,arguments)}function l8(){var e=eT(cx());return e.copy=function(){return Bl(e,l8()).constant(e.constant())},Cs.apply(e,arguments)}function fT(){var e=tT(cx());return e.copy=function(){return Bl(e,fT()).exponent(e.exponent())},Cs.apply(e,arguments)}function Eye(){return fT.apply(null,arguments).exponent(.5)}const lm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:YA,scaleDiverging:o8,scaleDivergingLog:s8,scaleDivergingPow:fT,scaleDivergingSqrt:Eye,scaleDivergingSymlog:l8,scaleIdentity:z9,scaleImplicit:Nk,scaleLinear:B9,scaleLog:F9,scaleOrdinal:qA,scalePoint:d0e,scalePow:nT,scaleQuantile:q9,scaleQuantize:Y9,scaleRadial:G9,scaleSequential:n8,scaleSequentialLog:r8,scaleSequentialPow:dT,scaleSequentialQuantile:a8,scaleSequentialSqrt:Sye,scaleSequentialSymlog:i8,scaleSqrt:ibe,scaleSymlog:H9,scaleThreshold:K9,scaleTime:_ye,scaleUtc:wye,tickFormat:$9},Symbol.toStringTag,{value:"Module"}));var zl=e=>e.chartData,kye=we([zl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hT=(e,t,n,r)=>r?kye(e):zl(e);function Ll(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(_n(t)&&_n(n))return!0}return!1}function pI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function c8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(_n(n))i=n;else if(typeof n=="function")return;if(_n(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Ll(o))return o}}function Aye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ll(r))return pI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(We(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&qR.test(i)){var u=qR.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(We(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&YR.test(a)){var h=YR.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if(Ll(b))return t==null?b:pI(b,t,n)}}}var vf=1e9,Tye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pT,sn=!0,ba="[DecimalError] ",ru=ba+"Invalid argument: ",mT=ba+"Exponent out of range: ",xf=Math.floor,Hc=Math.pow,jye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,or=1e7,Jt=7,u8=9007199254740991,zy=xf(u8/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ps(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(ps(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return $n(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Pi))throw Error(ba+"NaN");if(n.s<1)throw Error(ba+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(sn=!1,t=ps(Km(n,a),Km(e,a),a),sn=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?h8(t,e):d8(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ba+"NaN");return n.s?(sn=!1,t=ps(n,e,0,1).times(e),sn=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return f8(this)};$e.naturalLogarithm=$e.ln=function(){return Km(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?d8(t,e):h8(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ru+e);if(t=$n(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ba+"NaN")}for(e=$n(l),sn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=So(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ps(l,a,o+2)).times(.5),So(a.d).slice(0,o)===(t=So(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return sn=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,l,u,f,h=this,p=h.constructor,b=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,f=x.length,u<f&&(a=b,b=x,x=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+x[r]*b[i-r-1]+t,a[i--]=l%or|0,t=l/or|0;a[i]=(a[i]+t)%or|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,sn?Gt(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(No(e,0,vf),t===void 0?t=r.rounding:No(t,0,8),Gt(n,e+$n(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=uu(r,!0):(No(e,0,vf),t===void 0?t=i.rounding:No(t,0,8),r=Gt(new i(r),e+1,t),n=uu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?uu(i):(No(e,0,vf),t===void 0?t=a.rounding:No(t,0,8),r=Gt(new a(i),e+$n(i)+1,t),n=uu(r.abs(),!1,e+$n(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),$n(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Pi);if(l=new u(l),!l.s){if(e.s<1)throw Error(ba+"Infinity");return l}if(l.eq(Pi))return l;if(r=u.precision,e.eq(Pi))return Gt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=u8){for(i=new u(Pi),t=Math.ceil(r/Jt+4),sn=!1;n%2&&(i=i.times(l),bI(i.d,t)),n=xf(n/2),n!==0;)l=l.times(l),bI(l.d,t);return sn=!0,e.s<0?new u(Pi).div(i):Gt(i,r)}}else if(a<0)throw Error(ba+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,sn=!1,i=e.times(Km(l,r+f)),sn=!0,i=f8(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=$n(i),r=uu(i,n<=a.toExpNeg||n>=a.toExpPos)):(No(e,1,vf),t===void 0?t=a.rounding:No(t,0,8),i=Gt(new a(i),e,t),n=$n(i),r=uu(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(No(e,1,vf),t===void 0?t=r.rounding:No(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$n(e),n=e.constructor;return uu(e,t<=n.toExpNeg||t>=n.toExpPos)};function d8(e,t){var n,r,i,a,o,l,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),sn?Gt(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=o,l=u.length),o=Math.ceil(p/Jt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/or|0,u[a]%=or;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,sn?Gt(t,p):t}function No(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ru+e)}function So(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=_l(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=_l(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ps=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%or|0,o=a/or|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*or+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,f,h,p,b,x,E,S,_,T,N,j,M,D,P,$,H,Y=r.constructor,K=r.s==i.s?1:-1,U=r.d,z=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(ba+"Division by zero");for(u=r.e-i.e,$=z.length,D=U.length,x=new Y(K),E=x.d=[],f=0;z[f]==(U[f]||0);)++f;if(z[f]>(U[f]||0)&&--u,a==null?N=a=Y.precision:o?N=a+($n(r)-$n(i))+1:N=a,N<0)return new Y(0);if(N=N/Jt+2|0,f=0,$==1)for(h=0,z=z[0],N++;(f<D||h)&&N--;f++)j=h*or+(U[f]||0),E[f]=j/z|0,h=j%z|0;else{for(h=or/(z[0]+1)|0,h>1&&(z=e(z,h),U=e(U,h),$=z.length,D=U.length),M=$,S=U.slice(0,$),_=S.length;_<$;)S[_++]=0;H=z.slice(),H.unshift(0),P=z[0],z[1]>=or/2&&++P;do h=0,l=t(z,S,$,_),l<0?(T=S[0],$!=_&&(T=T*or+(S[1]||0)),h=T/P|0,h>1?(h>=or&&(h=or-1),p=e(z,h),b=p.length,_=S.length,l=t(p,S,b,_),l==1&&(h--,n(p,$<b?H:z,b))):(h==0&&(l=h=1),p=z.slice()),b=p.length,b<_&&p.unshift(0),n(S,p,_),l==-1&&(_=S.length,l=t(z,S,$,_),l<1&&(h++,n(S,$<_?H:z,_))),_=S.length):l===0&&(h++,S=[0]),E[f++]=h,l&&S[0]?S[_++]=U[M]||0:(S=[U[M]],_=1);while((M++<D||S[0]!==void 0)&&N--)}return E[0]||E.shift(),x.e=u,Gt(x,o?a+$n(x)+1:a)}})();function f8(e,t){var n,r,i,a,o,l,u=0,f=0,h=e.constructor,p=h.precision;if($n(e)>16)throw Error(mT+$n(e));if(!e.s)return new h(Pi);for(sn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Hc(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Pi),h.precision=l;;){if(i=Gt(i.times(e),l),n=n.times(++u),o=a.plus(ps(i,n,l)),So(o.d).slice(0,l)===So(a.d).slice(0,l)){for(;f--;)a=Gt(a.times(a),l);return h.precision=p,t==null?(sn=!0,Gt(a,p)):a}a=o}}function $n(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function NS(e,t,n){if(t>e.LN10.sd())throw sn=!0,n&&(e.precision=n),Error(ba+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function _l(e){for(var t="";e--;)t+="0";return t}function Km(e,t){var n,r,i,a,o,l,u,f,h,p=1,b=10,x=e,E=x.d,S=x.constructor,_=S.precision;if(x.s<1)throw Error(ba+(x.s?"NaN":"-Infinity"));if(x.eq(Pi))return new S(0);if(t==null?(sn=!1,f=_):f=t,x.eq(10))return t==null&&(sn=!0),NS(S,f);if(f+=b,S.precision=f,n=So(E),r=n.charAt(0),a=$n(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=So(x.d),r=n.charAt(0),p++;a=$n(x),r>1?(x=new S("0."+n),a++):x=new S(r+"."+n.slice(1))}else return u=NS(S,f+2,_).times(a+""),x=Km(new S(r+"."+n.slice(1)),f-b).plus(u),S.precision=_,t==null?(sn=!0,Gt(x,_)):x;for(l=o=x=ps(x.minus(Pi),x.plus(Pi),f),h=Gt(x.times(x),f),i=3;;){if(o=Gt(o.times(h),f),u=l.plus(ps(o,new S(i),f)),So(u.d).slice(0,f)===So(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(NS(S,f+2,_).times(a+""))),l=ps(l,new S(p),f),S.precision=_,t==null?(sn=!0,Gt(l,_)):l;l=u,i+=2}}function gI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),sn&&(e.e>zy||e.e<-zy))throw Error(mT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,l,u,f,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/Jt),a=p.length,h>=a)return e;for(f=a=p[h],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=Hc(10,o-i-1),l=f/a%10|0,u=t<0||p[h+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/Hc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=$n(e),p.length=1,t=t-a-1,p[0]=Hc(10,(Jt-t%Jt)%Jt),e.e=xf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Hc(10,Jt-r),p[h]=i>0?(f/Hc(10,o-i)%Hc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==or&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=or)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(sn&&(e.e>zy||e.e<-zy))throw Error(mT+$n(e));return e}function h8(e,t){var n,r,i,a,o,l,u,f,h,p,b=e.constructor,x=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),sn?Gt(t,x):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(x/Jt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=or-1;--u[a],u[i]+=or}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,sn?Gt(t,x):t):new b(0)}function uu(e,t,n){var r,i=$n(e),a=So(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+_l(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_l(-i-1)+a,n&&(r=n-o)>0&&(a+=_l(r))):i>=o?(a+=_l(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+_l(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=_l(r))),e.s<0?"-"+a:a}function bI(e,t){if(e.length>t)return e.length=t,!0}function m8(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ru+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return gI(o,a.toString())}else if(typeof a!="string")throw Error(ru+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,jye.test(a))gI(o,a);else throw Error(ru+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=m8,i.config=i.set=Oye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Oye(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,n,r,i=["precision",1,vf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ru+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ru+n+": "+r);return this}var pT=m8(Tye);Pi=new pT(1);const Lt=pT;var Nye=e=>e,p8={},g8=e=>e===p8,yI=e=>function t(){return arguments.length===0||arguments.length===1&&g8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},b8=(e,t)=>e===1?t:yI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==p8).length;return a>=e?t(...r):b8(e-a,yI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=r.map(h=>g8(h)?l.shift():h);return t(...f,...l)}))}),Cye=e=>b8(e.length,e),Pk=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Mye=Cye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Dye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Nye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},Rk=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function y8(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function v8(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var x8=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},_8=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=y8(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},Pye=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow(y8(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Dye(Mye(u=>i.add(new Lt(u-o).mul(r)).toNumber()),Pk);return l(0,t)},w8=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=_8(new Lt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Lt(0):(l=new Lt(t).add(n).div(2),l=l.sub(new Lt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Lt(n).sub(l).div(o).toNumber()),h=u+f+1;return h>r?w8(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Lt(u).mul(o)),tickMax:l.add(new Lt(f).mul(o))})},Rye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=x8([n,r]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...Pk(0,i-1).map(()=>1/0)]:[...Pk(0,i-1).map(()=>-1/0),u];return n>r?Rk(f):f}if(l===u)return Pye(l,i,a);var{step:h,tickMin:p,tickMax:b}=w8(l,u,o,a,0),x=v8(p,b.add(new Lt(.1).mul(h)),h);return n>r?Rk(x):x},Lye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=x8([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),f=_8(new Lt(l).sub(o).div(u-1),a,0),h=[...v8(new Lt(o),new Lt(l),f),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?Rk(h):h},Iye=e=>e.rootProps.barCategoryGap,ux=e=>e.rootProps.stackOffset,S8=e=>e.rootProps.reverseStackOrder,gT=e=>e.options.chartName,bT=e=>e.rootProps.syncId,E8=e=>e.rootProps.syncMethod,yT=e=>e.options.eventEmitter,$ye=e=>e.rootProps.baseValue,Ur={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Bye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:cs.reversed,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:cs.type,unit:void 0},zye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:Mi.type,unit:void 0},Uye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cs.scale,tick:cs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Fye={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:"category",unit:void 0},vT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Uye:Bye,xT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Fye:zye,fx=e=>e.polarOptions,_T=we([Os,Ns,Sr],Rge),k8=we([fx,_T],(e,t)=>{if(e!=null)return Rl(e.innerRadius,t,0)}),A8=we([fx,_T],(e,t)=>{if(e!=null)return Rl(e.outerRadius,t,t*.8)}),Hye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},T8=we([fx],Hye);we([vT,T8],dx);var j8=we([_T,k8,A8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([xT,j8],dx);var O8=we([Vt,fx,k8,A8,Os,Ns],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=t;return{cx:Rl(o,i,i/2),cy:Rl(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Vn=(e,t)=>t,hx=(e,t,n)=>n;function wT(e){return e?.id}function N8(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=wT(l);f.forEach((p,b)=>{var x=a==null||i?b:String(Nr(p,a,null)),E=Nr(p,l.dataKey,0),S;o.has(x)?S=o.get(x):S={},Object.assign(S,{[h]:E}),o.set(x,S)})}}),Array.from(o.values())}function ST(e){return e.stackId!=null&&e.dataKey!=null}var mx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function px(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Gye(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Zn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_f=e=>e.tooltip.settings.axisId;function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){qye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qye(e,t,n){return(t=Yye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yye(e){var t=Kye(e,"string");return typeof t=="symbol"?t:t+""}function Kye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lk=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},C8=(e,t)=>e.cartesianAxis.xAxis[t],Ms=(e,t)=>{var n=C8(e,t);return n??rr},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yp},M8=(e,t)=>e.cartesianAxis.yAxis[t],Ds=(e,t)=>{var n=M8(e,t);return n??ir},Wye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ET=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Wye},Gr=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"zAxis":return ET(e,n);case"angleAxis":return vT(e,n);case"radiusAxis":return xT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vye=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kp=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return Ds(e,n);case"angleAxis":return vT(e,n);case"radiusAxis":return xT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},D8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function P8(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var R8=e=>e.graphicalItems.cartesianItems,Zye=we([Vn,hx],P8),L8=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Ap=we([R8,Gr,Zye],L8,{memoizeOptions:{resultEqualityCheck:px}}),I8=we([Ap],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ST)),$8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Xye=we([Ap],$8),B8=e=>e.map(t=>t.data).filter(Boolean).flat(1),Jye=we([Ap],B8,{memoizeOptions:{resultEqualityCheck:px}}),z8=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},kT=we([Jye,hT],z8),U8=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Nr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Nr(i,r)}))):e.map(r=>({value:r})),gx=we([kT,Gr,Ap],U8);function F8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function kb(e){if(jo(e)||e instanceof Date){var t=Number(e);if(_n(t))return t}}function xI(e){if(Array.isArray(e)){var t=[kb(e[0]),kb(e[1])];return Ll(t)?t:void 0}var n=kb(e);if(n!=null)return[n,n]}function ks(e){return e.map(kb).filter(vfe)}function Qye(e,t,n){return!n||typeof t!="number"||qa(t)?[]:n.length?ks(n.flatMap(r=>{var i=Nr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!_n(a)||!_n(o)))return[t-a,t+o]})):[]}var Xn=e=>{var t=Zn(e),n=_f(e);return kp(e,t,n)},Tp=we([Xn],e=>e?.dataKey),eve=we([I8,hT,Xn],N8),H8=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,f=r?[...u].reverse():u,h=f.map(wT);return[l,{stackedData:Eme(e,h,n),graphicalItems:f}]}))},Ik=we([eve,I8,ux,S8],H8),G8=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=jme(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},tve=we([Gr],e=>e.allowDataOverflow),AT=e=>{var t;if(e==null||!("domain"in e))return Lk;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ks(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Lk},q8=we([Gr],AT),Y8=we([q8,tve],c8),nve=we([Ik,zl,Vn,Y8],G8,{memoizeOptions:{resultEqualityCheck:mx}}),TT=e=>e.errorBars,rve=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>F8(n,r)),Fy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},K8=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(T=>F8(i,T)),b=Nr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=Qye(l,b,p);if(x.length>=2){var E=Math.min(...x),S=Math.max(...x);(a==null||E<a)&&(a=E),(o==null||S>o)&&(o=S)}var _=xI(b);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=xI(Nr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),_n(a)&&_n(o))return[a,o]},ive=we([kT,Gr,Xye,TT,Vn],K8,{memoizeOptions:{resultEqualityCheck:mx}});function ave(e){var{value:t}=e;if(jo(t)||t instanceof Date)return t}var ove=(e,t,n)=>{var r=e.map(ave).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&f6(r))?j9(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},W8=e=>e.referenceElements.dots,wf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),sve=we([W8,Vn,hx],wf),V8=e=>e.referenceElements.areas,lve=we([V8,Vn,hx],wf),Z8=e=>e.referenceElements.lines,cve=we([Z8,Vn,hx],wf),X8=(e,t)=>{var n=ks(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uve=we(sve,Vn,X8),J8=(e,t)=>{var n=ks(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dve=we([lve,Vn],J8);function fve(e){var t;if(e.x!=null)return ks([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ks(n)}function hve(e){var t;if(e.y!=null)return ks([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ks(n)}var Q8=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?fve(r):hve(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mve=we([cve,Vn],Q8),pve=we(uve,mve,dve,(e,t,n)=>Fy(e,n,t)),ez=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=u?Fy(r,a,i):Fy(a,i);return Aye(t,f,e.allowDataOverflow)},gve=we([Gr,q8,Y8,nve,ive,pve,Vt,Vn],ez,{memoizeOptions:{resultEqualityCheck:mx}}),bve=[0,1],tz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,f=js(t,a);if(f&&l==null){var h;return j9(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?ove(r,e,f):i==="expand"?bve:o}},jT=we([Gr,Vt,kT,gx,ux,Vn,gve],tz),nz=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(NA(a));return l in lm?l:"point"}}},jp=we([Gr,Vt,D8,gT,Vn],nz);function yve(e){if(e!=null){if(e in lm)return lm[e]();var t="scale".concat(NA(e));if(t in lm)return lm[t]()}}function OT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=yve(t);if(i!=null){var a=i.domain(n).range(r);return xme(a),a}}}var rz=(e,t,n)=>{var r=AT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ll(e))return Rye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ll(e))return Lye(e,t.tickCount,t.allowDecimals)}},NT=we([jT,kp,jp],rz),iz=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ll(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},vve=we([Gr,jT,NT,Vn],iz),xve=we(gx,Gr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ks(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),az=we(xve,Vt,Iye,Sr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!_n(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Rl(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),_ve=(e,t)=>{var n=Ms(e,t);return n==null||typeof n.padding!="string"?0:az(e,"xAxis",t,n.padding)},wve=(e,t)=>{var n=Ds(e,t);return n==null||typeof n.padding!="string"?0:az(e,"yAxis",t,n.padding)},Sve=we(Ms,_ve,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Eve=we(Ds,wve,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),kve=we([Sr,Sve,Jv,Xv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Ave=we([Sr,Vt,Eve,Jv,Xv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Op=(e,t,n,r)=>{var i;switch(t){case"xAxis":return kve(e,n,r);case"yAxis":return Ave(e,n,r);case"zAxis":return(i=ET(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return T8(e);case"radiusAxis":return j8(e,n);default:return}},oz=we([Gr,Op],dx),Sf=we([Gr,jp,vve,oz],OT);we([Ap,TT,Vn],rve);function sz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bx=(e,t)=>t,yx=(e,t,n)=>n,Tve=we(Vv,bx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sz)),jve=we(Zv,bx,yx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sz)),lz=(e,t)=>({width:e.width,height:t.height}),Ove=(e,t)=>{var n=typeof t.width=="number"?t.width:yp;return{width:n,height:e.height}},Nve=we(Sr,Ms,lz),Cve=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Mve=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Dve=we(Ns,Sr,Tve,bx,yx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=lz(t,l);o==null&&(o=Cve(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),Pve=we(Os,Sr,jve,bx,yx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Ove(t,l);o==null&&(o=Mve(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),Rve=(e,t)=>{var n=Ms(e,t);if(n!=null)return Dve(e,n.orientation,n.mirror)},Lve=we([Sr,Ms,Rve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Ive=(e,t)=>{var n=Ds(e,t);if(n!=null)return Pve(e,n.orientation,n.mirror)},$ve=we([Sr,Ds,Ive,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Bve=we(Sr,Ds,(e,t)=>{var n=typeof t.width=="number"?t.width:yp;return{width:n,height:e.height}}),cz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=js(e,r),u=t.map(f=>f.value);if(o&&l&&a==="category"&&i&&f6(u))return u}},CT=we([Vt,gx,Gr,Vn],cz),uz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=js(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},MT=we([Vt,gx,kp,Vn],uz),_I=we([Vt,Vye,jp,Sf,CT,MT,Op,NT,Vn],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var f=js(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}}),zve=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var f=js(e,u),{type:h,ticks:p,tickCount:b}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=h==="category"&&r.bandwidth?r.bandwidth()/x:0;E=u==="angleAxis"&&a!=null&&a.length>=2?ua(a[0]-a[1])*2*E:E;var S=p||i;if(S){var _=S.map((T,N)=>{var j=o?o.indexOf(T):T;return{index:N,coordinate:r(j)+E,value:T,offset:E}});return _.filter(T=>_n(T.coordinate))}return f&&l?l.map((T,N)=>({coordinate:r(T)+E,value:T,index:N,offset:E})).filter(T=>_n(T.coordinate)):r.ticks?r.ticks(b).map(T=>({coordinate:r(T)+E,value:T,offset:E})):r.domain().map((T,N)=>({coordinate:r(T)+E,value:o?o[T]:T,index:N,offset:E}))}},dz=we([Vt,kp,jp,Sf,NT,Op,CT,MT,Vn],zve),Uve=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=js(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?ua(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},fz=we([Vt,kp,Sf,Op,CT,MT,Vn],Uve),hz=we(Gr,Sf,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),Fve=we([Gr,jp,jT,oz],OT);we((e,t,n)=>ET(e,n),Fve,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})});var Hve=we([Vt,Vv,Zv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mz=e=>e.options.defaultTooltipEventType,pz=e=>e.options.validateTooltipEventTypes;function gz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function DT(e,t){var n=mz(e),r=pz(e);return gz(t,n,r)}function Gve(e){return Je(t=>DT(t,e))}var bz=(e,t)=>{var n,r=Number(t);if(!(qa(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},qve=e=>e.tooltip.settings,Tl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Yve={itemInteraction:{click:Tl,hover:Tl},axisInteraction:{click:Tl,hover:Tl},keyboardInteraction:Tl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yz=mi({name:"tooltip",initialState:Yve,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=Ua(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Kve,replaceTooltipEntrySettings:Wve,removeTooltipEntrySettings:Vve,setTooltipSettingsState:Zve,setActiveMouseOverItemIndex:Xve,mouseLeaveItem:qOe,mouseLeaveChart:vz,setActiveClickItemIndex:YOe,setMouseOverAxisIndex:xz,setMouseClickAxisIndex:Jve,setSyncInteraction:$k,setKeyboardInteraction:Bk}=yz.actions,Qve=yz.reducer;function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function exe(e,t,n){return(t=txe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e){var t=nxe(e,"string");return typeof t=="symbol"?t:t+""}function nxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rxe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ixe(e){return e.index!=null}var _z=(e,t,n,r)=>{if(t==null)return Tl;var i=rxe(e,t,n);if(i==null)return Tl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(ixe(i)){if(a)return nb(nb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return nb(nb({},Tl),{},{coordinate:i.coordinate})};function axe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function oxe(e,t){var n=axe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function sxe(e,t,n){if(n==null||t==null)return!0;var r=Nr(e,t);return r==null||!Ll(n)?!0:oxe(r,n)}var PT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!_n(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),f=t[u];return f==null||sxe(f,n,r)?String(u):null},wz=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},Sz=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Np=e=>e.options.tooltipPayloadSearcher,Ef=e=>e.tooltip;function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){lxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lxe(e,t,n){return(t=cxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cxe(e){var t=uxe(e,"string");return typeof t=="symbol"?t:t+""}function uxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e,t){return e??t}var Ez=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((b,x)=>{var E,{dataDefinedOnItem:S,settings:_}=x,T=dxe(S,l),N=Array.isArray(T)?e9(T,f,h):T,j=(E=_?.dataKey)!==null&&E!==void 0?E:r,M=_?.nameKey,D;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?D=h6(N,r,i):D=a(N,t,u,M),Array.isArray(D))D.forEach($=>{var H=EI(EI({},_),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(KR({tooltipEntrySettings:H,dataKey:$.dataKey,payload:$.payload,value:Nr($.payload,$.dataKey),name:$.name}))});else{var P;b.push(KR({tooltipEntrySettings:_,dataKey:j,payload:D,value:Nr(D,j),name:(P=Nr(D,M))!==null&&P!==void 0?P:_?.name}))}return b},p)}},RT=we([Xn,Vt,D8,gT,Zn],nz),fxe=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hxe=we([Zn,_f],P8),Cp=we([fxe,Xn,hxe],L8,{memoizeOptions:{resultEqualityCheck:px}}),mxe=we([Cp],e=>e.filter(ST)),pxe=we([Cp],B8,{memoizeOptions:{resultEqualityCheck:px}}),kf=we([pxe,zl],z8),gxe=we([mxe,zl,Xn],N8),LT=we([kf,Xn,Cp],U8),kz=we([Xn],AT),bxe=we([Xn],e=>e.allowDataOverflow),Az=we([kz,bxe],c8),yxe=we([Cp],e=>e.filter(ST)),vxe=we([gxe,yxe,ux,S8],H8),xxe=we([vxe,zl,Zn,Az],G8),_xe=we([Cp],$8),wxe=we([kf,Xn,_xe,TT,Zn],K8,{memoizeOptions:{resultEqualityCheck:mx}}),Sxe=we([W8,Zn,_f],wf),Exe=we([Sxe,Zn],X8),kxe=we([V8,Zn,_f],wf),Axe=we([kxe,Zn],J8),Txe=we([Z8,Zn,_f],wf),jxe=we([Txe,Zn],Q8),Oxe=we([Exe,jxe,Axe],Fy),Nxe=we([Xn,kz,Az,xxe,wxe,Oxe,Vt,Zn],ez),Mp=we([Xn,Vt,kf,LT,ux,Zn,Nxe],tz),Cxe=we([Mp,Xn,RT],rz),Mxe=we([Xn,Mp,Cxe,Zn],iz),Tz=e=>{var t=Zn(e),n=_f(e),r=!1;return Op(e,t,n,r)},jz=we([Xn,Tz],dx),Oz=we([Xn,RT,Mxe,jz],OT),Dxe=we([Vt,LT,Xn,Zn],cz),Pxe=we([Vt,LT,Xn,Zn],uz),Rxe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,f=js(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ua(i[0]-i[1])*2*p:p,f&&o?o.map((b,x)=>({coordinate:r(b)+p,value:b,index:x,offset:p})):r.domain().map((b,x)=>({coordinate:r(b)+p,value:a?a[b]:b,index:x,offset:p}))}}},Ps=we([Vt,Xn,RT,Oz,Tz,Dxe,Pxe,Zn],Rxe),IT=we([mz,pz,qve],(e,t,n)=>gz(n.shared,e,t)),Nz=e=>e.tooltip.settings.trigger,$T=e=>e.tooltip.settings.defaultIndex,Dp=we([Ef,IT,Nz,$T],_z),Wm=we([Dp,kf,Tp,Mp],PT),Cz=we([Ps,Wm],bz),Lxe=we([Dp],e=>{if(e)return e.dataKey});we([Dp],e=>{if(e)return e.graphicalItemId});var Mz=we([Ef,IT,Nz,$T],Sz),Ixe=we([Os,Ns,Vt,Sr,Ps,$T,Mz,Np],wz),$xe=we([Dp,Ixe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Bxe=we([Dp],e=>e.active),zxe=we([Mz,Wm,zl,Tp,Cz,Np,IT],Ez),Uxe=we([zxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){Fxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fxe(e,t,n){return(t=Hxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hxe(e){var t=Gxe(e,"string");return typeof t=="symbol"?t:t+""}function Gxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qxe=()=>Je(Xn),Yxe=()=>{var e=qxe(),t=Je(Ps),n=Je(Oz);return _y(!e||!n?void 0:AI(AI({},e),{},{scale:n}),t)};function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){Kxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kxe(e,t,n){return(t=Wxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wxe(e){var t=Vxe(e,"string");return typeof t=="symbol"?t:t+""}function Vxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zxe=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Xxe=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return gd(gd(gd({},r),vr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return gd(gd(gd({},r),vr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Jxe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Dz=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(ua(h-f)!==ua(p-h)){var x=[];if(ua(p-h)===ua(i[1]-i[0])){b=p;var E=h+i[1]-i[0];x[0]=Math.min(E,(E+f)/2),x[1]=Math.max(E,(E+f)/2)}else{b=f;var S=p+i[1]-i[0];x[0]=Math.min(h,(S+h)/2),x[1]=Math.max(h,(S+h)/2)}var _=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){({index:o}=n[u]);break}}else{var T=Math.min(f,p),N=Math.max(f,p);if(e>(T+h)/2&&e<=(N+h)/2){({index:o}=n[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},Pz=()=>Je(gT),BT=(e,t)=>t,Rz=(e,t,n)=>n,zT=(e,t,n,r)=>r,Qxe=we(Ps,e=>zv(e,t=>t.coordinate)),UT=we([Ef,BT,Rz,zT],_z),FT=we([UT,kf,Tp,Mp],PT),e_e=(e,t,n)=>{if(t!=null){var r=Ef(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Lz=we([Ef,BT,Rz,zT],Sz),Hy=we([Os,Ns,Vt,Sr,Ps,zT,Lz,Np],wz),t_e=we([UT,Hy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Iz=we([Ps,FT],bz),n_e=we([Lz,FT,zl,Tp,Iz,Np,BT],Ez),r_e=we([UT,FT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),i_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&Jxe(e,o)){var l=Ome(e,t),u=Dz(l,a,i,n,r),f=Zxe(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},a_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=zge(e,n);if(l){var u=Nme(l,t),f=Dz(u,o,a,r,i),h=Xxe(t,a,f,l);return{activeIndex:String(f),activeCoordinate:h}}}},o_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?i_e(e,t,r,i,a,o,l):a_e(e,t,n,r,i,a,o)},s_e=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),l_e=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ur)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Gye}});function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){c_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c_e(e,t,n){return(t=u_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u_e(e){var t=d_e(e,"string");return typeof t=="symbol"?t:t+""}function d_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_e={},h_e={zIndexMap:Object.values(Ur).reduce((e,t)=>OI(OI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),f_e)},m_e=new Set(Object.values(Ur));function p_e(e){return m_e.has(e)}var $z=mi({name:"zIndex",initialState:h_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!p_e(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:g_e,unregisterZIndexPortal:b_e,registerZIndexPortalId:y_e,unregisterZIndexPortalId:v_e}=$z.actions,x_e=$z.reducer;function Rs(e){var{zIndex:t,children:n}=e,r=upe(),i=r&&t!==void 0&&t!==0,a=pi(),o=cr();w.useLayoutEffect(()=>i?(o(g_e({zIndex:t})),()=>{o(b_e({zIndex:t}))}):mp,[o,t,i]);var l=Je(f=>s_e(f,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?sf.createPortal(n,u):null}function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zk.apply(null,arguments)}function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){__e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function __e(e,t,n){return(t=w_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w_e(e){var t=S_e(e,"string");return typeof t=="symbol"?t:t+""}function S_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return w.isValidElement(t)?w.cloneElement(t,r):w.createElement(n,r)}function k_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:h}=e,p=n,b=r,x=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var E,S,_;if(h==="ScatterChart")E=p,S=Jpe,_=Ur.cursorLine;else if(h==="BarChart")E=Qpe(l,p,a,o),S=Nge,_=Ur.cursorRectangle;else if(l==="radial"&&m6(p)){var{cx:T,cy:N,radius:j,startAngle:M,endAngle:D}=A9(p);E={cx:T,cy:N,startAngle:M,endAngle:D,innerRadius:j,outerRadius:j},S=Gge,_=Ur.cursorLine}else E={points:qge(l,p,a)},S=Eb,_=Ur.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,$=rb(rb(rb(rb({stroke:"#ccc",pointerEvents:"none"},a),E),Lv(u)),{},{payload:b,payloadIndex:x,className:Qt("recharts-tooltip-cursor",P)});return w.createElement(Rs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},w.createElement(E_e,{cursor:u,cursorComp:S,cursorProps:$}))}function A_e(e){var t=Yxe(),n=u9(),r=vp(),i=Pz();return t==null||n==null||r==null||i==null?null:w.createElement(k_e,zk({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Bz=w.createContext(null),T_e=()=>w.useContext(Bz),CS={exports:{}},CI;function j_e(){return CI||(CI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||u,b),E=n?n+f:f;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],x]:u._events[E].push(x):(u._events[E]=x,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,E=new Array(x);b<x;b++)E[b]=p[b].fn;return E},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,b,x,E){var S=n?n+f:f;if(!this._events[S])return!1;var _=this._events[S],T=arguments.length,N,j;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,p),!0;case 4:return _.fn.call(_.context,h,p,b),!0;case 5:return _.fn.call(_.context,h,p,b,x),!0;case 6:return _.fn.call(_.context,h,p,b,x,E),!0}for(j=1,N=new Array(T-1);j<T;j++)N[j-1]=arguments[j];_.fn.apply(_.context,N)}else{var M=_.length,D;for(j=0;j<M;j++)switch(_[j].once&&this.removeListener(f,_[j].fn,void 0,!0),T){case 1:_[j].fn.call(_[j].context);break;case 2:_[j].fn.call(_[j].context,h);break;case 3:_[j].fn.call(_[j].context,h,p);break;case 4:_[j].fn.call(_[j].context,h,p,b);break;default:if(!N)for(D=1,N=new Array(T-1);D<T;D++)N[D-1]=arguments[D];_[j].fn.apply(_[j].context,N)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,b){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return o(this,x),this;var E=this._events[x];if(E.fn)E.fn===h&&(!b||E.once)&&(!p||E.context===p)&&o(this,x);else{for(var S=0,_=[],T=E.length;S<T;S++)(E[S].fn!==h||b&&!E[S].once||p&&E[S].context!==p)&&_.push(E[S]);_.length?this._events[x]=_.length===1?_[0]:_:o(this,x)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(CS)),CS.exports}var O_e=j_e();const N_e=hi(O_e);var Vm=new N_e,Uk="recharts.syncEvent.tooltip",MI="recharts.syncEvent.brush";function C_e(e,t){if(t){var n=Number.parseInt(t,10);if(!qa(n))return e?.[n]}}var M_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zz=mi({name:"options",initialState:M_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),D_e=zz.reducer,{createEventEmitter:P_e}=zz.actions;function R_e(e){return e.tooltip.syncInteraction}var L_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Uz=mi({name:"chartData",initialState:L_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:DI,setDataStartEndIndexes:I_e,setComputedData:KOe}=Uz.actions,$_e=Uz.reducer,B_e=["x","y"];function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(r){z_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z_e(e,t,n){return(t=U_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U_e(e){var t=F_e(e,"string");return typeof t=="symbol"?t:t+""}function F_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H_e(e,t){if(e==null)return{};var n,r,i=G_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function q_e(){var e=Je(bT),t=Je(yT),n=cr(),r=Je(E8),i=Je(Ps),a=vp(),o=Qv(),l=Je(u=>u.rootProps.className);w.useEffect(()=>{if(e==null)return mp;var u=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:E,y:S}=x,_=H_e(x,B_e),{x:T,y:N,width:j,height:M}=h.payload.sourceViewBox,D=bd(bd({},_),{},{x:o.x+(j?(E-T)/j:0)*o.width,y:o.y+(M?(S-N)/M:0)*o.height});n(bd(bd({},h),{},{payload:bd(bd({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},H=r(i,$);P=i[H]}else r==="value"&&(P=i.find(q=>String(q.value)===h.payload.label));var{coordinate:Y}=h.payload;if(P==null||h.payload.active===!1||Y==null||o==null){n($k({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:U}=Y,z=Math.min(K,o.x+o.width),Z=Math.min(U,o.y+o.height),Q={x:a==="horizontal"?P.coordinate:z,y:a==="horizontal"?Z:P.coordinate},V=$k({active:h.payload.active,coordinate:Q,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(V)}}};return Vm.on(Uk,u),()=>{Vm.off(Uk,u)}},[l,n,t,e,r,i,a,o])}function Y_e(){var e=Je(bT),t=Je(yT),n=cr();w.useEffect(()=>{if(e==null)return mp;var r=(i,a,o)=>{t!==o&&e===i&&n(I_e(a))};return Vm.on(MI,r),()=>{Vm.off(MI,r)}},[n,t,e])}function K_e(){var e=cr();w.useEffect(()=>{e(P_e())},[e]),q_e(),Y_e()}function W_e(e,t,n,r,i,a){var o=Je(x=>e_e(x,e,t)),l=Je(yT),u=Je(bT),f=Je(E8),h=Je(R_e),p=h?.active,b=Qv();w.useEffect(()=>{if(!p&&u!=null&&l!=null){var x=$k({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Vm.emit(Uk,u,x,l)}},[p,n,o,i,r,l,u,f,a,b])}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){V_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V_e(e,t,n){return(t=Z_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z_e(e){var t=X_e(e,"string");return typeof t=="symbol"?t:t+""}function X_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_e(e){return e.dataKey}function Q_e(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(Cpe,t)}var II=[],ewe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function twe(e){var t,n,r=qi(e,ewe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:b,position:x,reverseDirection:E,useTranslate3d:S,wrapperStyle:_,cursor:T,shared:N,trigger:j,defaultIndex:M,portal:D,axisId:P}=r,$=cr(),H=typeof M=="number"?String(M):M;w.useEffect(()=>{$(Zve({shared:N,trigger:j,axisId:P,active:i,defaultIndex:H}))},[$,N,j,P,i,H]);var Y=Qv(),K=x9(),U=Gve(N),{activeIndex:z,isActive:Z}=(t=Je(pe=>r_e(pe,U,j,H)))!==null&&t!==void 0?t:{},Q=Je(pe=>n_e(pe,U,j,H)),V=Je(pe=>Iz(pe,U,j,H)),q=Je(pe=>t_e(pe,U,j,H)),J=Q,re=T_e(),ue=(n=i??Z)!==null&&n!==void 0?n:!1,[se,B]=vhe([J,ue]),W=U==="axis"?V:void 0;W_e(U,j,q,W,z,ue);var ae=D??re;if(ae==null||Y==null||U==null)return null;var X=J??II;ue||(X=II),f&&X.length&&(X=qfe(X.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),b,J_e));var oe=X.length>0,de=w.createElement($pe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:ue,coordinate:q,hasPayload:oe,offset:p,position:x,reverseDirection:E,useTranslate3d:S,viewBox:Y,wrapperStyle:_,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!D},Q_e(u,LI(LI({},r),{},{payload:X,label:W,active:ue,activeIndex:z,coordinate:q,accessibilityLayer:K})));return w.createElement(w.Fragment,null,sf.createPortal(de,ae),ue&&w.createElement(A_e,{cursor:T,tooltipEventType:U,coordinate:q,payload:X,index:z}))}function nwe(e,t,n){return(t=rwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rwe(e){var t=iwe(e,"string");return typeof t=="symbol"?t:t+""}function iwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class awe{constructor(t){nwe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function owe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){swe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function swe(e,t,n){return(t=lwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lwe(e){var t=cwe(e,"string");return typeof t=="symbol"?t:t+""}function cwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uwe={cacheSize:2e3,enableCache:!0},Fz=owe({},uwe),BI=new awe(Fz.cacheSize),dwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zI="recharts_measurement_span";function fwe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var UI=(e,t)=>{try{var n=document.getElementById(zI);n||(n=document.createElement("span"),n.setAttribute("id",zI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,dwe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bf.isSsr)return{width:0,height:0};if(!Fz.enableCache)return UI(t,n);var r=fwe(t,n),i=BI.get(r);if(i)return i;var a=UI(t,n);return BI.set(r,a),a},FI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Hz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pwe=Object.keys(Hz),jd="NaN";function gwe(e,t){return e*Hz[t]}class ai{static parse(t){var n,[,r,i]=(n=mwe.exec(t))!==null&&n!==void 0?n:[];return new ai(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qa(t)&&(this.unit=""),n!==""&&!hwe.test(n)&&(this.num=NaN,this.unit=""),pwe.includes(n)&&(this.num=gwe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ai(NaN,""):new ai(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ai(NaN,""):new ai(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ai(NaN,""):new ai(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ai(NaN,""):new ai(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qa(this.num)}}function Gz(e){if(e.includes(jd))return jd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=FI.exec(t))!==null&&n!==void 0?n:[],o=ai.parse(r??""),l=ai.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return jd;t=t.replace(FI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,b]=(f=HI.exec(t))!==null&&f!==void 0?f:[],x=ai.parse(h??""),E=ai.parse(b??""),S=p==="+"?x.add(E):x.subtract(E);if(S.isNaN())return jd;t=t.replace(HI,S.toString())}return t}var GI=/\(([^()]*)\)/;function bwe(e){for(var t=e,n;(n=GI.exec(t))!=null;){var[,r]=n;t=t.replace(GI,Gz(r))}return t}function ywe(e){var t=e.replace(/\s+/g,"");return t=bwe(t),t=Gz(t),t}function vwe(e){try{return ywe(e)}catch{return jd}}function MS(e){var t=vwe(e.slice(5,-1));return t===jd?"":t}var xwe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_we=["dx","dy","angle","className","breakAll"];function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fk.apply(null,arguments)}function qI(e,t){if(e==null)return{};var n,r,i=wwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qz=/[ \f\n\r\t\v\u2028\u2029]+/,Yz=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];xr(t)||(n?i=t.toString().split(""):i=t.toString().split(qz));var a=i.map(l=>({word:l,width:vm(l,r).width})),o=n?0:vm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function Swe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Kz=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var f={words:[o],width:l};i.push(f)}return i},[]),Wz=e=>e.reduce((t,n)=>t.width>n.width?t:n),Ewe="",YI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),f=Yz({breakAll:n,style:r,children:u+Ewe});if(!f)return[!1,[]];var h=Kz(f.wordsWithComputedWidth,a,o,l),p=h.length>i||Wz(h).width>Number(a);return[p,h]},kwe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,f=We(a),h=String(o),p=Kz(t,r,n,i);if(!f||i)return p;var b=p.length>a||Wz(p).width>Number(r);if(!b)return p;for(var x=0,E=h.length-1,S=0,_;x<=E&&S<=h.length-1;){var T=Math.floor((x+E)/2),N=T-1,[j,M]=YI(h,N,u,l,a,r,n,i),[D]=YI(h,T,u,l,a,r,n,i);if(!j&&!D&&(x=T+1),j&&D&&(E=T-1),!j&&D){_=M;break}S++}return _||p},KI=e=>{var t=xr(e)?[]:e.toString().split(qz);return[{words:t,width:void 0}]},Awe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!bf.isSsr){var l,u,f=Yz({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,u=p}else return KI(r);return kwe({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return KI(r)},Vz="#808080",Twe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Vz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},HT=w.forwardRef((e,t)=>{var n=qi(e,Twe),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=qI(n,xwe),b=w.useMemo(()=>Awe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:x,dy:E,angle:S,className:_,breakAll:T}=p,N=qI(p,_we);if(!jo(r)||!jo(i)||b.length===0)return null;var j=Number(r)+(We(x)?x:0),M=Number(i)+(We(E)?E:0);if(!_n(j)||!_n(M))return null;var D;switch(h){case"start":D=MS("calc(".concat(o,")"));break;case"middle":D=MS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=MS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var $=b[0].width,{width:H}=p;P.push("scale(".concat(We(H)&&We($)?H/$:1,")"))}return S&&P.push("rotate(".concat(S,", ").concat(j,", ").concat(M,")")),P.length&&(N.transform=P.join(" ")),w.createElement("text",Fk({},pa(N),{ref:t,x:j,y:M,className:Qt("recharts-text",_),textAnchor:f,fill:l.includes("url")?Vz:l}),b.map((Y,K)=>{var U=Y.words.join(T?"":" ");return w.createElement("tspan",{x:j,dy:K===0?D:a,key:"".concat(U,"-").concat(K)},U)}))});HT.displayName="Text";var jwe=["labelRef"];function Owe(e,t){if(e==null)return{};var n,r,i=Nwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){Cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cwe(e,t,n){return(t=Mwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mwe(e){var t=Dwe(e,"string");return typeof t=="symbol"?t:t+""}function Dwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(null,arguments)}var Zz=w.createContext(null),Pwe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=w.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return w.createElement(Zz.Provider,{value:u},l)},Xz=()=>{var e=w.useContext(Zz),t=Qv();return e||c9(t)},Rwe=w.createContext(null),Lwe=()=>{var e=w.useContext(Rwe),t=Je(O8);return e||t},Iwe=e=>{var{value:t,formatter:n}=e,r=xr(e.children)?t:e.children;return typeof n=="function"?n(r):r},GT=e=>e!=null&&typeof e=="function",$we=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Bwe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:b,clockWise:x}=i,E=(f+h)/2,S=$we(p,b),_=S>=0?1:-1,T,N;switch(t){case"insideStart":T=p+_*a,N=x;break;case"insideEnd":T=b-_*a,N=!x;break;case"end":T=b+_*a,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=S<=0?N:!N;var j=vr(l,u,E,T),M=vr(l,u,E,T+(N?1:-1)*359),D="M".concat(j.x,",").concat(j.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(N?0:1,`,
    `).concat(M.x,",").concat(M.y),P=xr(e.id)?Rm("recharts-radial-line-"):e.id;return w.createElement("text",us({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:P,d:D})),w.createElement("textPath",{xlinkHref:"#".concat(P)},n))},zwe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(n==="outside"){var{x:h,y:p}=vr(r,i,o+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x,y:E}=vr(r,i,b,f);return{x,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Hk=e=>"cx"in e&&We(e.cx),Uwe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Hk(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:f,height:h}=t,p=o,b=o+(u-f)/2,x=(p+b)/2,E=(u+f)/2,S=p+u/2,_=h>=0?1:-1,T=_*r,N=_>0?"end":"start",j=_>0?"start":"end",M=u>=0?1:-1,D=M*r,P=M>0?"end":"start",$=M>0?"start":"end";if(i==="top"){var H={x:p+u/2,y:l-T,textAnchor:"middle",verticalAnchor:N};return kn(kn({},H),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var Y={x:b+f/2,y:l+h+T,textAnchor:"middle",verticalAnchor:j};return kn(kn({},Y),a?{height:Math.max(a.y+a.height-(l+h),0),width:f}:{})}if(i==="left"){var K={x:x-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return kn(kn({},K),a?{width:Math.max(K.x-a.x,0),height:h}:{})}if(i==="right"){var U={x:x+E+D,y:l+h/2,textAnchor:$,verticalAnchor:"middle"};return kn(kn({},U),a?{width:Math.max(a.x+a.width-U.x,0),height:h}:{})}var z=a?{width:E,height:h}:{};return i==="insideLeft"?kn({x:x+D,y:l+h/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?kn({x:x+E-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},z):i==="insideTop"?kn({x:p+u/2,y:l+T,textAnchor:"middle",verticalAnchor:j},z):i==="insideBottom"?kn({x:b+f/2,y:l+h-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?kn({x:p+D,y:l+T,textAnchor:$,verticalAnchor:j},z):i==="insideTopRight"?kn({x:p+u-D,y:l+T,textAnchor:P,verticalAnchor:j},z):i==="insideBottomLeft"?kn({x:b+D,y:l+h-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?kn({x:b+f-D,y:l+h-T,textAnchor:P,verticalAnchor:N},z):i&&typeof i=="object"&&(We(i.x)||xs(i.x))&&(We(i.y)||xs(i.y))?kn({x:o+Rl(i.x,E),y:l+Rl(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):kn({x:S,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},Fwe={angle:0,offset:5,zIndex:Ur.label,position:"middle",textBreakAll:!1};function wl(e){var t=qi(e,Fwe),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:f}=t,h=Lwe(),p=Xz(),b=r==="center"?p:h??p,x,E,S;if(n==null?x=b:Hk(n)?x=n:x=c9(n),!x||xr(i)&&xr(a)&&!w.isValidElement(o)&&typeof o!="function")return null;var _=kn(kn({},t),{},{viewBox:x});if(w.isValidElement(o)){var{labelRef:T}=_,N=Owe(_,jwe);return w.cloneElement(o,N)}if(typeof o=="function"){if(E=w.createElement(o,_),w.isValidElement(E))return E}else E=Iwe(t);var j=pa(t);if(Hk(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Bwe(t,r,E,j,x);S=zwe(x,t.offset,t.position)}else S=Uwe(t,x);return w.createElement(Rs,{zIndex:t.zIndex},w.createElement(HT,us({ref:f,className:Qt("recharts-label",l)},j,S,{textAnchor:Swe(j.textAnchor)?j.textAnchor:S.textAnchor,breakAll:u}),E))}wl.displayName="Label";var Hwe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(wl,us({key:"label-implicit"},r)):jo(e)?w.createElement(wl,us({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===wl?w.cloneElement(e,kn({key:"label-implicit"},r)):w.createElement(wl,us({key:"label-implicit",content:e},r)):GT(e)?w.createElement(wl,us({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(wl,us({},e,{key:"label-implicit"},r)):null};function Gwe(e){var{label:t,labelRef:n}=e,r=Xz();return Hwe(t,r,n)||null}var DS={},PS={},VI;function qwe(){return VI||(VI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(PS)),PS}var RS={},ZI;function Ywe(){return ZI||(ZI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(RS)),RS}var XI;function Kwe(){return XI||(XI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qwe(),n=Ywe(),r=MA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(DS)),DS}var LS,JI;function Wwe(){return JI||(JI=1,LS=Kwe().last),LS}var Vwe=Wwe();const Zwe=hi(Vwe);var Xwe=["valueAccessor"],Jwe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function QI(e,t){if(e==null)return{};var n,r,i=Qwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e1e=e=>Array.isArray(e.value)?Zwe(e.value):e.value,Jz=w.createContext(void 0),t1e=Jz.Provider,Qz=w.createContext(void 0);Qz.Provider;function n1e(){return w.useContext(Jz)}function r1e(){return w.useContext(Qz)}function Ab(e){var{valueAccessor:t=e1e}=e,n=QI(e,Xwe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=QI(n,Jwe),f=n1e(),h=r1e(),p=f||h;return!p||!p.length?null:w.createElement(Rs,{zIndex:l??Ur.label},w.createElement(To,{className:"recharts-label-list"},p.map((b,x)=>{var E,S=xr(r)?t(b,x):Nr(b&&b.payload,r),_=xr(a)?{}:{id:"".concat(a,"-").concat(x)};return w.createElement(wl,Gy({key:"label-".concat(x)},pa(b),u,_,{fill:(E=n.fill)!==null&&E!==void 0?E:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:o,viewBox:b.viewBox,index:x,zIndex:0}))})))}Ab.displayName="LabelList";function i1e(e){var{label:t}=e;return t?t===!0?w.createElement(Ab,{key:"labelList-implicit"}):w.isValidElement(t)||GT(t)?w.createElement(Ab,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Ab,Gy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gk.apply(null,arguments)}var eU=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return We(t)&&We(n)&&We(r)?w.createElement("circle",Gk({},Ga(e),CA(e),{className:a,cx:t,cy:n,r})):null},a1e={radiusAxis:{},angleAxis:{}},tU=mi({name:"polarAxis",initialState:a1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:WOe,removeRadiusAxis:VOe,addAngleAxis:ZOe,removeAngleAxis:XOe}=tU.actions,o1e=tU.reducer,IS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function s1e(){if(e3)return Ct;e3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,E=e?Symbol.for("react.lazy"):60116,S=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function j(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case u:case f:case r:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case l:case h:case E:case x:case o:return D;default:return P}}case n:return P}}}function M(D){return j(D)===f}return Ct.AsyncMode=u,Ct.ConcurrentMode=f,Ct.ContextConsumer=l,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=h,Ct.Fragment=r,Ct.Lazy=E,Ct.Memo=x,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(D){return M(D)||j(D)===u},Ct.isConcurrentMode=M,Ct.isContextConsumer=function(D){return j(D)===l},Ct.isContextProvider=function(D){return j(D)===o},Ct.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},Ct.isForwardRef=function(D){return j(D)===h},Ct.isFragment=function(D){return j(D)===r},Ct.isLazy=function(D){return j(D)===E},Ct.isMemo=function(D){return j(D)===x},Ct.isPortal=function(D){return j(D)===n},Ct.isProfiler=function(D){return j(D)===a},Ct.isStrictMode=function(D){return j(D)===i},Ct.isSuspense=function(D){return j(D)===p},Ct.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===f||D===a||D===i||D===p||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===E||D.$$typeof===x||D.$$typeof===o||D.$$typeof===l||D.$$typeof===h||D.$$typeof===_||D.$$typeof===T||D.$$typeof===N||D.$$typeof===S)},Ct.typeOf=j,Ct}var t3;function l1e(){return t3||(t3=1,IS.exports=s1e()),IS.exports}l1e();var nU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function c1e(e){var{tooltipEntrySettings:t}=e,n=cr(),r=pi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Kve(t)):i.current!==t&&n(Wve({prev:i.current,next:t})),i.current=t)},[t,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(Vve(i.current)),i.current=null)},[n]),null}function u1e(e){var{legendPayload:t}=e,n=cr(),r=pi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Spe(t)):i.current!==t&&n(Epe({prev:i.current,next:t})),i.current=t)},[n,r,t]),w.useLayoutEffect(()=>()=>{i.current&&(n(kpe(i.current)),i.current=null)},[n]),null}var $S,d1e=()=>{var[e]=w.useState(()=>Rm("uid-"));return e},f1e=($S=$H.useId)!==null&&$S!==void 0?$S:d1e;function rU(e,t){var n=f1e();return t||(e?"".concat(e,"-").concat(n):n)}var h1e=w.createContext(void 0),m1e=e=>{var{id:t,type:n,children:r}=e,i=rU("recharts-".concat(n),t);return w.createElement(h1e.Provider,{value:i},r(i))},p1e={cartesianItems:[],polarItems:[]},iU=mi({name:"graphicalItems",initialState:p1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ua(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ua(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=Ua(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:g1e,replaceCartesianGraphicalItem:b1e,removeCartesianGraphicalItem:y1e,addPolarGraphicalItem:JOe,removePolarGraphicalItem:QOe}=iU.actions,v1e=iU.reducer,x1e=e=>{var t=cr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(g1e(e)):n.current!==e&&t(b1e({prev:n.current,next:e})),n.current=e},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(t(y1e(n.current)),n.current=null)},[t]),null},_1e=w.memo(x1e),w1e=["points"];function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(r){S1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S1e(e,t,n){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E1e(e){var t=k1e(e,"string");return typeof t=="symbol"?t:t+""}function k1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}function A1e(e,t){if(e==null)return{};var n,r,i=T1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function j1e(e){var{option:t,dotProps:n,className:r}=e;if(w.isValidElement(t))return w.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=A1e(a,w1e);return w.createElement(eU,qy({},l,{className:i}))}function O1e(e,t){return e==null?!1:t?!0:e.length===1}function N1e(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:f=Ur.scatter}=e;if(!O1e(t,n))return null;var h=nU(n),p=Bde(n),b=t.map((E,S)=>{var _,T,N=BS(BS(BS({r:3},o),p),{},{index:S,cx:(_=E.x)!==null&&_!==void 0?_:void 0,cy:(T=E.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:E.value,payload:E.payload,points:t});return w.createElement(j1e,{key:"dot-".concat(S),option:n,dotProps:N,className:i})}),x={};return l&&u!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),w.createElement(Rs,{zIndex:f},w.createElement(To,qy({className:r},x),b))}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(r){C1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C1e(e,t,n){return(t=M1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M1e(e){var t=D1e(e,"string");return typeof t=="symbol"?t:t+""}function D1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P1e={xAxis:{},yAxis:{},zAxis:{}},aU=mi({name:"cartesianAxis",initialState:P1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=i3(i3({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:R1e,replaceXAxis:L1e,removeXAxis:I1e,addYAxis:$1e,replaceYAxis:B1e,removeYAxis:z1e,addZAxis:eNe,replaceZAxis:tNe,removeZAxis:nNe,updateYAxisWidth:U1e}=aU.actions,F1e=aU.reducer,H1e=we([Sr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),G1e=we([H1e,Os,Ns],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),qT=()=>Je(G1e),q1e=()=>Je(Uxe);function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(r){Y1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y1e(e,t,n){return(t=K1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K1e(e){var t=W1e(e,"string");return typeof t=="symbol"?t:t+""}function W1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=zS(zS(zS({},l),Lv(i)),CA(i)),f;return w.isValidElement(i)?f=w.cloneElement(i,u):typeof i=="function"?f=i(u):f=w.createElement(eU,u),w.createElement(To,{className:"recharts-active-dot",clipPath:o},f)};function o3(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Ur.activeDot}=e,l=Je(Wm),u=q1e();if(t==null||u==null)return null;var f=t.find(h=>u.includes(h.payload));return xr(f)?null:w.createElement(Rs,{zIndex:o},w.createElement(V1e,{point:f,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Z1e={},oU=mi({name:"errorBars",initialState:Z1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:rNe,replaceErrorBar:iNe,removeErrorBar:aNe}=oU.actions,X1e=oU.reducer;function sU(e,t){var n,r,i=Je(f=>Ms(f,e)),a=Je(f=>Ds(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:rr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ir.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function J1e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=qT(),{needClipX:a,needClipY:o,needClip:l}=sU(t,n);if(!l||!i)return null;var{x:u,y:f,width:h,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?u:u-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var Q1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function eSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function YT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Q1e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!yb(e[r],t[r]))return!1}else if(!eSe(e[r],t[r]))return!1;return!0}var tSe=e=>{var{chartData:t}=e,n=cr(),r=pi();return w.useEffect(()=>r?()=>{}:(n(DI(t)),()=>{n(DI(void 0))}),[t,n,r]),null},s3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lU=mi({name:"brush",initialState:s3,reducers:{setBrushSettings(e,t){return t.payload==null?s3:t.payload}}}),{setBrushSettings:oNe}=lU.actions,nSe=lU.reducer;function rSe(e,t,n){return(t=iSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iSe(e){var t=aSe(e,"string");return typeof t=="symbol"?t:t+""}function aSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KT{static create(t){return new KT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}rSe(KT,"EPS",1e-4);function oSe(e){return(e%180+180)%180}var sSe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=oSe(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},lSe={dots:[],areas:[],lines:[]},cU=mi({name:"referenceElements",initialState:lSe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ua(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ua(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ua(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:sNe,removeDot:lNe,addArea:cNe,removeArea:uNe,addLine:dNe,removeLine:fNe}=cU.actions,cSe=cU.reducer,uSe=w.createContext(void 0),dSe=e=>{var{children:t}=e,[n]=w.useState("".concat(Rm("recharts"),"-clip")),r=qT();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return w.createElement(uSe.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function uU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function fSe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return sSe(r,n)}function hSe(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Yy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function mSe(e,t){return uU(e,t+1)}function pSe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,f=1,h=o,p=function(){var E=r?.[u];if(E===void 0)return{v:uU(r,f)};var S=u,_,T=()=>(_===void 0&&(_=n(E,S)),_),N=E.coordinate,j=u===0||Yy(e,N,T,h,l);j||(u=0,h=o,f+=1),j&&(h=N+e*(T()/2+i),u+=f)},b;f<=a.length;)if(b=p(),b)return b.v;return[]}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(n),!0).forEach(function(r){gSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gSe(e,t,n){return(t=bSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bSe(e){var t=ySe(e,"string");return typeof t=="symbol"?t:t+""}function ySe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vSe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,f=function(b){var x=a[b],E,S=()=>(E===void 0&&(E=n(x,b)),E);if(b===o-1){var _=e*(x.coordinate+e*S()/2-u);a[b]=x=jr(jr({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else a[b]=x=jr(jr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var T=Yy(e,x.tickCoord,S,l,u);T&&(u=x.tickCoord-e*(S()/2+i),a[b]=jr(jr({},x),{},{isShow:!0}))}},h=o-1;h>=0;h--)f(h);return a}function xSe(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:f}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-f);if(o[l-1]=h=jr(jr({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var x=Yy(e,h.tickCoord,()=>p,u,f);x&&(f=h.tickCoord-e*(p/2+i),o[l-1]=jr(jr({},h),{},{isShow:!0}))}}for(var E=a?l-1:l,S=function(N){var j=o[N],M,D=()=>(M===void 0&&(M=n(j,N)),M);if(N===0){var P=e*(j.coordinate-e*D()/2-u);o[N]=j=jr(jr({},j),{},{tickCoord:P<0?j.coordinate-P*e:j.coordinate})}else o[N]=j=jr(jr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var $=Yy(e,j.tickCoord,D,u,f);$&&(u=j.tickCoord+e*(D()/2+i),o[N]=jr(jr({},j),{},{isShow:!0}))}},_=0;_<E;_++)S(_);return o}function WT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(We(u)||bf.isSsr){var b;return(b=mSe(i,We(u)?u:0))!==null&&b!==void 0?b:[]}var x=[],E=l==="top"||l==="bottom"?"width":"height",S=h&&E==="width"?vm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(j,M)=>{var D=typeof f=="function"?f(j.value,M):j.value;return E==="width"?fSe(vm(D,{fontSize:t,letterSpacing:n}),S,p):vm(D,{fontSize:t,letterSpacing:n})[E]},T=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,N=hSe(a,T,E);return u==="equidistantPreserveStart"?pSe(T,N,_,i,o):(u==="preserveStart"||u==="preserveStartEnd"?x=xSe(T,N,_,i,o,u==="preserveStartEnd"):x=vSe(T,N,_,i,o),x.filter(j=>j.isShow))}var _Se=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+l+(n?r:0);return Math.round(f)}return 0},wSe=["axisLine","width","height","className","hide","ticks","axisType"];function SSe(e,t){if(e==null)return{};var n,r,i=ESe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ESe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},du.apply(null,arguments)}function c3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(n),!0).forEach(function(r){kSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kSe(e,t,n){return(t=ASe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ASe(e){var t=TSe(e,"string");return typeof t=="symbol"?t:t+""}function TSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ur.axis};function jSe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=Ln(Ln(Ln({},u),Ga(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=Ln(Ln({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Ln(Ln({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return w.createElement("line",du({},f,{className:Qt("recharts-cartesian-axis-line",Bv(l,"className"))}))}function OSe(e,t,n,r,i,a,o,l,u){var f,h,p,b,x,E,S=l?-1:1,_=e.tickSize||o,T=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,b=n+ +!l*i,p=b-S*_,E=p-S*u,x=T;break;case"left":p=b=e.coordinate,h=t+ +!l*r,f=h-S*_,x=f-S*u,E=T;break;case"right":p=b=e.coordinate,h=t+ +l*r,f=h+S*_,x=f+S*u,E=T;break;default:f=h=e.coordinate,b=n+ +l*i,p=b+S*_,E=p+S*u,x=T;break}return{line:{x1:f,y1:p,x2:h,y2:b},tick:{x,y:E}}}function NSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function CSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function MSe(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,Ln(Ln({},n),{},{className:a}));else if(typeof t=="function")i=t(Ln(Ln({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=w.createElement(HT,du({},n,{className:o}),r)}return i}var DSe=w.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:h,mirror:p,x:b,y:x,width:E,height:S,tickSize:_,tickMargin:T,fontSize:N,letterSpacing:j,getTicksConfig:M,events:D,axisType:P}=e,$=WT(Ln(Ln({},M),{},{ticks:n}),N,j),H=NSe(h,p),Y=CSe(h,p),K=Ga(M),U=Lv(r),z={};typeof i=="object"&&(z=i);var Z=Ln(Ln({},K),{},{fill:"none"},z),Q=$.map(J=>Ln({entry:J},OSe(J,b,x,E,S,h,_,p,T))),V=Q.map(J=>{var{entry:re,line:ue}=J;return w.createElement(To,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&w.createElement("line",du({},Z,ue,{className:Qt("recharts-cartesian-axis-tick-line",Bv(i,"className"))})))}),q=Q.map((J,re)=>{var{entry:ue,tick:se}=J,B=Ln(Ln(Ln(Ln({textAnchor:H,verticalAnchor:Y},K),{},{stroke:"none",fill:a},U),se),{},{index:re,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return w.createElement(To,du({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},_fe(D,ue,re)),r&&w.createElement(MSe,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,re):ue.value).concat(l||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},q.length>0&&w.createElement(Rs,{zIndex:Ur.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},q)),V.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},V))}),PSe=w.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,f=SSe(e,wSe),[h,p]=w.useState(""),[b,x]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return _Se({ticks:E.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=w.useCallback(_=>{if(_){var T=_.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=T;var N=T[0];if(N){var j=window.getComputedStyle(N),M=j.fontSize,D=j.letterSpacing;(M!==h||D!==b)&&(p(M),x(D))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Rs,{zIndex:e.zIndex},w.createElement(To,{className:Qt("recharts-cartesian-axis",a)},w.createElement(jSe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ga(e)}),w.createElement(DSe,{ref:S,axisType:u,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(Pwe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(Gwe,{label:e.label,labelRef:e.labelRef}),e.children)))}),VT=w.forwardRef((e,t)=>{var n=qi(e,gs);return w.createElement(PSe,du({},n,{ref:t}))});VT.displayName="CartesianAxis";var RSe=["x1","y1","x2","y2","key"],LSe=["offset"],ISe=["xAxisId","yAxisId"],$Se=["xAxisId","yAxisId"];function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(r){BSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BSe(e,t,n){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zSe(e){var t=USe(e,"string");return typeof t=="symbol"?t:t+""}function USe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc.apply(null,arguments)}function Ky(e,t){if(e==null)return{};var n,r,i=FSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return w.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dU(e){var{option:t,lineItemProps:n}=e,r;if(w.isValidElement(t))r=w.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:f}=n,h=Ky(n,RSe),p=(i=Ga(h))!==null&&i!==void 0?i:{},{offset:b}=p,x=Ky(p,LSe);r=w.createElement("line",Qc({},x,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:f}))}return r}function GSe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Ky(e,ISe),u=i.map((f,h)=>{var p=Or(Or({},l),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return w.createElement(dU,{key:"line-".concat(h),option:r,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function qSe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Ky(e,$Se),u=i.map((f,h)=>{var p=Or(Or({},l),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return w.createElement(dU,{option:r,lineItemProps:p,key:"line-".concat(h)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function YSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==f[0]&&f.unshift(0);var h=f.map((p,b)=>{var x=!f[b+1],E=x?i+o-p:f[b+1]-p;if(E<=0)return null;var S=b%t.length;return w.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:E,width:a,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function KSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==f[0]&&f.unshift(0);var h=f.map((p,b)=>{var x=!f[b+1],E=x?i+o-p:f[b+1]-p;if(E<=0)return null;var S=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:E,height:l,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var WSe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return t9(WT(Or(Or(Or({},gs),n),{},{ticks:n9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},VSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return t9(WT(Or(Or(Or({},gs),n),{},{ticks:n9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},ZSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ur.grid};function fU(e){var t=d9(),n=f9(),r=u9(),i=Or(Or({},qi(e,ZSe)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:x}=i,E=pi(),S=Je(Y=>_I(Y,"xAxis",a,E)),_=Je(Y=>_I(Y,"yAxis",o,E));if(!Oo(f)||!Oo(h)||!We(l)||!We(u))return null;var T=i.verticalCoordinatesGenerator||WSe,N=i.horizontalCoordinatesGenerator||VSe,{horizontalPoints:j,verticalPoints:M}=i;if((!j||!j.length)&&typeof N=="function"){var D=b&&b.length,P=N({yAxis:_?Or(Or({},_),{},{ticks:D?b:_.ticks}):void 0,width:t??f,height:n??h,offset:r},D?!0:p);wy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(j=P)}if((!M||!M.length)&&typeof T=="function"){var $=x&&x.length,H=T({xAxis:S?Or(Or({},S),{},{ticks:$?x:S.ticks}):void 0,width:t??f,height:n??h,offset:r},$?!0:p);wy(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(M=H)}return w.createElement(Rs,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(HSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(YSe,Qc({},i,{horizontalPoints:j})),w.createElement(KSe,Qc({},i,{verticalPoints:M})),w.createElement(GSe,Qc({},i,{offset:r,horizontalPoints:j,xAxis:S,yAxis:_})),w.createElement(qSe,Qc({},i,{offset:r,verticalPoints:M,xAxis:S,yAxis:_}))))}fU.displayName="CartesianGrid";function XSe(e){var t=Lv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var hU=(e,t,n,r)=>hz(e,"xAxis",t,r),mU=(e,t,n,r)=>fz(e,"xAxis",t,r),pU=(e,t,n,r)=>hz(e,"yAxis",n,r),gU=(e,t,n,r)=>fz(e,"yAxis",n,r),JSe=we([Vt,hU,pU,mU,gU],(e,t,n,r,i)=>js(e,"xAxis")?_y(t,r,!1):_y(n,i,!1)),QSe=(e,t,n,r,i)=>i,bU=we([R8,QSe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),eEe=(e,t,n,r,i)=>{var a,o=bU(e,t,n,r,i);if(o!=null){var l=Vt(e),u=js(l,"xAxis"),f;if(u?f=Ik(e,"yAxis",n,r):f=Ik(e,"xAxis",t,r),f!=null){var{stackId:h}=o,p=wT(o);if(!(h==null||p==null)){var b=(a=f[h])===null||a===void 0?void 0:a.stackedData;return b?.find(x=>x.key===p)}}}},tEe=we([Vt,hU,pU,mU,gU,eEe,hT,JSe,bU,$ye],(e,t,n,r,i,a,o,l,u,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:x}=u,E;if(x&&x.length>0?E=x:E=h?.slice(p,b+1),E!=null)return xEe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:E,chartBaseValue:f,bandSize:l})}}),nEe=["id"],rEe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(null,arguments)}function yU(e,t){if(e==null)return{};var n,r,i=iEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(r){aEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aEe(e,t,n){return(t=oEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oEe(e){var t=sEe(e,"string");return typeof t=="symbol"?t:t+""}function sEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(e,t){return e&&e!=="none"?e:t}var lEe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Wy(r,i),value:r9(n,t),payload:e}]},cEe=w.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:f}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:r9(o,t),hide:l,type:f,color:Wy(r,a),unit:u}};return w.createElement(c1e,{tooltipEntrySettings:h})});function uEe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=Ga(r);return w.createElement(N1e,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function dEe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Od(Od({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return w.createElement(t1e,{value:t?i:void 0},n)}function f3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:f,isRange:h}=a,{id:p}=a,b=yU(a,nEe),x=Ga(b),E=pa(b);return w.createElement(w.Fragment,null,t?.length>1&&w.createElement(To,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Eb,iu({},E,{id:p,points:t,connectNulls:f,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&w.createElement(Eb,iu({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:t})),u!=="none"&&h&&w.createElement(Eb,iu({},x,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:n}))),w.createElement(uEe,{points:t,props:b,clipPathId:i}))}function fEe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!_n(a)||!_n(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),We(u)?w.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function hEe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!_n(a)||!_n(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),We(u)?w.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function mEe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?w.createElement(fEe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):w.createElement(hEe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function pEe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:x}=r,E=w.useMemo(()=>({points:o,baseLine:l}),[o,l]),S=k9(E,"recharts-area-"),_=cpe(),[T,N]=w.useState(!1),j=!T,M=w.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),D=w.useCallback(()=>{typeof b=="function"&&b(),N(!0)},[b]);if(_==null)return null;var P=i.current,$=a.current;return w.createElement(dEe,{showLabels:j,points:o},r.children,w.createElement(E9,{animationId:S,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:M,onAnimationStart:D,key:S},H=>{if(P){var Y=P.length/o.length,K=H===1?o:o.map((z,Z)=>{var Q=Math.floor(Z*Y);if(P[Q]){var V=P[Q];return Od(Od({},z),{},{x:vo(V.x,z.x,H),y:vo(V.y,z.y,H)})}return z}),U;return We(l)?U=vo($,l,H):xr(l)||qa(l)?U=vo($,0,H):U=l.map((z,Z)=>{var Q=Math.floor(Z*Y);if(Array.isArray($)&&$[Q]){var V=$[Q];return Od(Od({},z),{},{x:vo(V.x,z.x,H),y:vo(V.y,z.y,H)})}return z}),H>0&&(i.current=K,a.current=U),w.createElement(f3,{points:K,baseLine:U,needClip:t,clipPathId:n,props:r})}return H>0&&(i.current=o,a.current=l),w.createElement(To,null,u&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(mEe,{alpha:H,points:o,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),w.createElement(To,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(f3,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),w.createElement(i1e,{label:r.label}))}function gEe(e){var{needClip:t,clipPathId:n,props:r}=e,i=w.useRef(null),a=w.useRef();return w.createElement(pEe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class bEe extends w.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:f,width:h,height:p,id:b,baseLine:x,zIndex:E}=this.props;if(t)return null;var S=Qt("recharts-area",i),_=b,{r:T,strokeWidth:N}=XSe(n),j=nU(n),M=T*2+N,D=l?"url(#clipPath-".concat(j?"":"dots-").concat(_,")"):void 0;return w.createElement(Rs,{zIndex:E},w.createElement(To,{className:S},l&&w.createElement("defs",null,w.createElement(J1e,{clipPathId:_,xAxisId:u,yAxisId:f}),!j&&w.createElement("clipPath",{id:"clipPath-dots-".concat(_)},w.createElement("rect",{x:o-M/2,y:a-M/2,width:h+M,height:p+M}))),w.createElement(gEe,{needClip:l,clipPathId:_,props:this.props})),w.createElement(o3,{points:r,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(x)&&w.createElement(o3,{points:x,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var vU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ur.area};function yEe(e){var t,n=qi(e,vU),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:f,fillOpacity:h,hide:p,isAnimationActive:b,legendType:x,stroke:E,xAxisId:S,yAxisId:_}=n,T=yU(n,rEe),N=vp(),j=Pz(),{needClip:M}=sU(S,_),D=pi(),{points:P,isRange:$,baseLine:H}=(t=Je(Q=>tEe(Q,S,_,D,e.id)))!==null&&t!==void 0?t:{},Y=qT();if(N!=="horizontal"&&N!=="vertical"||Y==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:K,width:U,x:z,y:Z}=Y;return!P||!P.length?null:w.createElement(bEe,iu({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:H,connectNulls:l,dot:u,fill:f,fillOpacity:h,height:K,hide:p,layout:N,isAnimationActive:b==="auto"?!bf.isSsr:b,isRange:$,legendType:x,needClip:M,points:P,stroke:E,width:U,left:z,top:Z,xAxisId:S,yAxisId:_}))}var vEe=(e,t,n,r,i)=>{var a=n??t;if(We(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function xEe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:x}=e,E=i&&i.length,S=vEe(a,o,n,l,u),_=a==="horizontal",T=!1,N=f.map((M,D)=>{var P;E?P=i[h+D]:(P=Nr(M,r),Array.isArray(P)?T=!0:P=[S,P]);var $=P[1]==null||E&&!t&&Nr(M,r)==null;return _?{x:GR({axis:l,ticks:p,bandSize:x,entry:M,index:D}),y:$?null:u.scale(P[1]),value:P,payload:M}:{x:$?null:l.scale(P[1]),y:GR({axis:u,ticks:b,bandSize:x,entry:M,index:D}),value:P,payload:M}}),j;return E||T?j=N.map(M=>{var D=Array.isArray(M.value)?M.value[0]:null;return _?{x:M.x,y:D!=null&&M.y!=null?u.scale(D):null,payload:M.payload}:{x:D!=null?l.scale(D):null,y:M.y,payload:M.payload}}):j=_?u.scale(S):l.scale(S),{points:N,baseLine:j,isRange:T}}function _Ee(e){var t=qi(e,vU),n=pi();return w.createElement(m1e,{id:t.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(u1e,{legendPayload:lEe(t)}),w.createElement(cEe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(_1e,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:kme(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),w.createElement(yEe,iu({},t,{id:r}))))}var xU=w.memo(_Ee,YT);xU.displayName="Area";var wEe=["domain","range"],SEe=["domain","range"];function h3(e,t){if(e==null)return{};var n,r,i=EEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function m3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function _U(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=h3(e,wEe),{domain:a,range:o}=t,l=h3(t,SEe);return!m3(n,a)||!m3(r,o)?!1:YT(i,l)}var kEe=["dangerouslySetInnerHTML","ticks"],AEe=["id"];function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qk.apply(null,arguments)}function p3(e,t){if(e==null)return{};var n,r,i=TEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jEe(e){var t=cr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(R1e(e)):n.current!==e&&t(L1e({prev:n.current,next:e})),n.current=e},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(t(I1e(n.current)),n.current=null)},[t]),null}var OEe=e=>{var{xAxisId:t,className:n}=e,r=Je(a9),i=pi(),a="xAxis",o=Je(_=>Sf(_,a,t,i)),l=Je(_=>dz(_,a,t,i)),u=Je(_=>Nve(_,t)),f=Je(_=>Lve(_,t)),h=Je(_=>C8(_,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,x=p3(e,kEe),{id:E}=h,S=p3(h,AEe);return w.createElement(VT,qk({},x,S,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},NEe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:gs.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:gs.tickLine,tickSize:gs.tickSize,type:rr.type,xAxisId:0},CEe=e=>{var t=qi(e,NEe);return w.createElement(w.Fragment,null,w.createElement(jEe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(OEe,t))},wU=w.memo(CEe,_U);wU.displayName="XAxis";var MEe=["dangerouslySetInnerHTML","ticks"],DEe=["id"];function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yk.apply(null,arguments)}function g3(e,t){if(e==null)return{};var n,r,i=PEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function REe(e){var t=cr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t($1e(e)):n.current!==e&&t(B1e({prev:n.current,next:e})),n.current=e},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(t(z1e(n.current)),n.current=null)},[t]),null}var LEe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=w.useRef(null),o=w.useRef(null),l=Je(a9),u=pi(),f=cr(),h="yAxis",p=Je(D=>Sf(D,h,t,u)),b=Je(D=>Bve(D,t)),x=Je(D=>$ve(D,t)),E=Je(D=>dz(D,h,t,u)),S=Je(D=>M8(D,t));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!b||GT(i)||w.isValidElement(i)||S==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&f(U1e({id:t,width:P}))}}},[E,b,f,i,t,r,S]),b==null||x==null||S==null)return null;var{dangerouslySetInnerHTML:_,ticks:T}=e,N=g3(e,MEe),{id:j}=S,M=g3(S,DEe);return w.createElement(VT,Yk({},N,M,{ref:a,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Qt("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:E,axisType:h}))},IEe={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:gs.axisLine,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:gs.tickLine,tickSize:gs.tickSize,type:ir.type,width:ir.width,yAxisId:0},$Ee=e=>{var t=qi(e,IEe);return w.createElement(w.Fragment,null,w.createElement(REe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(LEe,t))},SU=w.memo($Ee,_U);SU.displayName="YAxis";var BEe=(e,t)=>t,ZT=we([BEe,Vt,O8,Zn,jz,Ps,Qxe,Sr],o_e),XT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},EU=ga("mouseClick"),kU=bp();kU.startListening({actionCreator:EU,effect:(e,t)=>{var n=e.payload,r=ZT(t.getState(),XT(n));r?.activeIndex!=null&&t.dispatch(Jve({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kk=ga("mouseMove"),AU=bp(),ib=null;AU.startListening({actionCreator:Kk,effect:(e,t)=>{var n=e.payload;ib!==null&&cancelAnimationFrame(ib);var r=XT(n);ib=requestAnimationFrame(()=>{var i=t.getState(),a=DT(i,i.tooltip.settings.shared);if(a==="axis"){var o=ZT(i,r);o?.activeIndex!=null?t.dispatch(xz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(vz())}ib=null})}});var b3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},TU=mi({name:"rootProps",initialState:b3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:b3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),zEe=TU.reducer,{updateOptions:UEe}=TU.actions,jU=mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hNe}=jU.actions,FEe=jU.reducer,OU=ga("keyDown"),NU=ga("focus"),JT=bp();JT.startListening({actionCreator:OU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=PT(i,kf(n),Tp(n),Mp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Ps(n);if(a==="Enter"){var f=Hy(n,"axis","hover",String(i.index));t.dispatch(Bk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=Hve(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,x=l+b*p;if(!(u==null||x>=u.length||x<0)){var E=Hy(n,"axis","hover",String(x));t.dispatch(Bk({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});JT.startListening({actionCreator:NU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Hy(n,"axis","hover",String(a));t.dispatch(Bk({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var aa=ga("externalEvent"),CU=bp(),US=new Map;CU.startListening({actionCreator:aa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=US.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:$xe(l),activeDataKey:Lxe(l),activeIndex:Wm(l),activeLabel:Cz(l),activeTooltipIndex:Wm(l),isTooltipActive:Bxe(l)};n(u,r)}finally{US.delete(i)}});US.set(i,o)}}});var HEe=we([Ef],e=>e.tooltipItemPayloads),GEe=we([HEe,Np,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),MU=ga("touchMove"),DU=bp();DU.startListening({actionCreator:MU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=DT(r,r.tooltip.settings.shared);if(i==="axis"){var a=ZT(r,XT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(xz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Mme),h=(o=u.getAttribute(Dme))!==null&&o!==void 0?o:void 0,p=GEe(t.getState(),f,h);t.dispatch(Xve({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}}});var qEe=a5({brush:nSe,cartesianAxis:F1e,chartData:$_e,errorBars:X1e,graphicalItems:v1e,layout:pme,legend:Ape,options:D_e,polarAxis:o1e,polarOptions:FEe,referenceElements:cSe,rootProps:zEe,tooltip:Qve,zIndex:x_e}),YEe=function(t){return zhe({reducer:qEe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([kU.middleware,AU.middleware,JT.middleware,CU.middleware,DU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(U6({type:"raf"}))},devTools:bf.devToolsEnabled})};function KEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=pi(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=YEe(t));var o=DA;return w.createElement(m5,{context:o,store:a.current},n)}function WEe(e){var{layout:t,margin:n}=e,r=cr(),i=pi();return w.useEffect(()=>{i||(r(fme(t)),r(dme(n)))},[r,i,t,n]),null}var VEe=w.memo(WEe,YT);function ZEe(e){var t=cr();return w.useEffect(()=>{t(UEe(e))},[t,e]),null}function y3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=rU("".concat(r).concat(t)),a=cr();return w.useLayoutEffect(()=>(a(y_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(v_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),w.createElement("g",{tabIndex:-1,id:i})}function v3(e){var{children:t,isPanorama:n}=e,r=Je(l_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return w.createElement(w.Fragment,null,i.map(o=>w.createElement(y3,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>w.createElement(y3,{key:o,zIndex:o,isPanorama:n})))}var XEe=["children"];function JEe(e,t){if(e==null)return{};var n,r,i=QEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}var eke={width:"100%",height:"100%",display:"block"},tke=w.forwardRef((e,t)=>{var n=d9(),r=f9(),i=x9();if(!Oo(n)||!Oo(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,f,h;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),w.createElement(Z7,Vy({},o,{title:l,desc:u,role:h,tabIndex:f,width:n,height:r,style:eke,ref:t}),a)}),nke=e=>{var{children:t}=e,n=Je(Jv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return w.createElement(Z7,{width:r,height:i,x:o,y:a},t)},x3=w.forwardRef((e,t)=>{var{children:n}=e,r=JEe(e,XEe),i=pi();return i?w.createElement(nke,null,w.createElement(v3,{isPanorama:!0},n)):w.createElement(tke,Vy({ref:t},r),w.createElement(v3,{isPanorama:!1},n))});function rke(){var e=cr(),[t,n]=w.useState(null),r=Je(Cme);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;_n(a)&&a!==r&&e(mme(a))}},[t,e,r]),n}function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ike(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(r){ake(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ake(e,t,n){return(t=oke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oke(e){var t=ske(e,"string");return typeof t=="symbol"?t:t+""}function ske(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(null,arguments)}var lke=()=>(K_e(),null);function Zy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var cke=w.forwardRef((e,t)=>{var n,r,i=w.useRef(null),[a,o]=w.useState({containerWidth:Zy((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Zy((r=e.style)===null||r===void 0?void 0:r.height)}),l=w.useCallback((f,h)=>{o(p=>{var b=Math.round(f),x=Math.round(h);return p.containerWidth===b&&p.containerHeight===x?p:{containerWidth:b,containerHeight:x}})},[]),u=w.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var b=E=>{var{width:S,height:_}=E[0].contentRect;l(S,_)},x=new ResizeObserver(b);x.observe(f),i.current=x}},[t,l]);return w.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[l]),w.createElement(w.Fragment,null,w.createElement(ex,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",fu({ref:u},e)))}),uke=w.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=w.useState({containerWidth:Zy(n),containerHeight:Zy(r)}),o=w.useCallback((u,f)=>{a(h=>{var p=Math.round(u),b=Math.round(f);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=w.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();o(f,h)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(ex,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",fu({ref:l},e)))}),dke=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return w.createElement(w.Fragment,null,w.createElement(ex,{width:n,height:r}),w.createElement("div",fu({ref:t},e)))}),fke=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return xs(n)||xs(r)?w.createElement(uke,fu({},e,{ref:t})):w.createElement(dke,fu({},e,{ref:t}))});function hke(e){return e===!0?cke:fke}var mke=w.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:x,onTouchMove:E,onTouchStart:S,style:_,width:T,responsive:N,dispatchTouchEvents:j=!0}=e,M=w.useRef(null),D=cr(),[P,$]=w.useState(null),[H,Y]=w.useState(null),K=rke(),U=UA(),z=U?.width>0?U.width:T,Z=U?.height>0?U.height:i,Q=w.useCallback(ne=>{K(ne),typeof t=="function"&&t(ne),$(ne),Y(ne),ne!=null&&(M.current=ne)},[K,t,$,Y]),V=w.useCallback(ne=>{D(EU(ne)),D(aa({handler:a,reactEvent:ne}))},[D,a]),q=w.useCallback(ne=>{D(Kk(ne)),D(aa({handler:f,reactEvent:ne}))},[D,f]),J=w.useCallback(ne=>{D(vz()),D(aa({handler:h,reactEvent:ne}))},[D,h]),re=w.useCallback(ne=>{D(Kk(ne)),D(aa({handler:p,reactEvent:ne}))},[D,p]),ue=w.useCallback(()=>{D(NU())},[D]),se=w.useCallback(ne=>{D(OU(ne.key))},[D]),B=w.useCallback(ne=>{D(aa({handler:o,reactEvent:ne}))},[D,o]),W=w.useCallback(ne=>{D(aa({handler:l,reactEvent:ne}))},[D,l]),ae=w.useCallback(ne=>{D(aa({handler:u,reactEvent:ne}))},[D,u]),X=w.useCallback(ne=>{D(aa({handler:b,reactEvent:ne}))},[D,b]),oe=w.useCallback(ne=>{D(aa({handler:S,reactEvent:ne}))},[D,S]),de=w.useCallback(ne=>{j&&D(MU(ne)),D(aa({handler:E,reactEvent:ne}))},[D,j,E]),pe=w.useCallback(ne=>{D(aa({handler:x,reactEvent:ne}))},[D,x]),ye=hke(N);return w.createElement(Bz.Provider,{value:P},w.createElement(Yde.Provider,{value:H},w.createElement(ye,{width:z??_?.width,height:Z??_?.height,className:Qt("recharts-wrapper",r),style:ike({position:"relative",cursor:"default",width:z,height:Z},_),onClick:V,onContextMenu:B,onDoubleClick:W,onFocus:ue,onKeyDown:se,onMouseDown:ae,onMouseEnter:q,onMouseLeave:J,onMouseMove:re,onMouseUp:X,onTouchEnd:pe,onTouchMove:de,onTouchStart:oe,ref:Q},w.createElement(lke,null),n)))}),pke=["width","height","responsive","children","className","style","compact","title","desc"];function gke(e,t){if(e==null)return{};var n,r,i=bke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yke=w.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:f,desc:h}=e,p=gke(e,pke),b=Ga(p);return u?w.createElement(w.Fragment,null,w.createElement(ex,{width:n,height:r}),w.createElement(x3,{otherAttributes:b,title:f,desc:h},a)):w.createElement(mke,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(x3,{otherAttributes:b,title:f,desc:h,ref:t},w.createElement(dSe,null,a)))});function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wk.apply(null,arguments)}var vke={top:5,right:5,bottom:5,left:5},xke={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vke,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},_ke=w.forwardRef(function(t,n){var r,i=qi(t.categoricalChartProps,xke),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(KEe,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},w.createElement(tSe,{chartData:f.data}),w.createElement(VEe,{layout:i.layout,margin:i.margin}),w.createElement(ZEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(yke,Wk({},i,{ref:n})))}),wke=["axis"],Ske=w.forwardRef((e,t)=>w.createElement(_ke,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wke,tooltipPayloadSearcher:C_e,categoricalChartProps:e,ref:t}));function PU(e){return typeof e=="object"&&e!==null}function Wc(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function Eke(e,t=""){return typeof e=="string"?e:t}function kke(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!PU(n))continue;const r=Eke(n.day),i=Wc(n.dau),a=Wc(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function Ake(e){return PU(e)?{online_now:Wc(e.online_now),active_today:Wc(e.active_today),active_7d:Wc(e.active_7d),active_30d:Wc(e.active_30d),active_365d:Wc(e.active_365d),series:kke(e.series)}:null}function Tke(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function w3(){const[e,t]=w.useState(30),[n,r]=w.useState(null),[i,a]=w.useState(0),[o,l]=w.useState(!1),[u,f]=w.useState(""),h=w.useRef(!1),p=w.useRef(!1),b=w.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),f("");try{const{data:_,error:T}=await Me.rpc("admin_dashboard_stats",{p_days:e});if(T){f(T.message||"RPC error"),r(null);return}const N=Ake(_);if(!N){f("   ( )"),r(null);return}r(N),a(N.online_now)}finally{l(!1),h.current=!1}}},[e]),x=w.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:_,error:T}=await Me.rpc("admin_online_now");if(T)return;const N=typeof _=="number"?_:typeof _=="string"?Number(_):0;Number.isFinite(N)&&a(N)}finally{p.current=!1}}},[]);w.useEffect(()=>{b()},[b]),w.useEffect(()=>{x();const _=window.setInterval(()=>void x(),3e4);return()=>window.clearInterval(_)},[x]),w.useEffect(()=>{const _=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(_)},[b]);const E=w.useMemo(()=>n?.series??[],[n]),S=w.useMemo(()=>E.reduce((_,T)=>_+(T.total_active_ms||0),0),[E]);return g.jsx(Rde,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:_=>{const T=Number(_.target.value);(T===30||T===60||T===90)&&t(T)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(Qh,{label:" ",value:i}),g.jsx(Qh,{label:" (DAU)",value:n?.active_today??0}),g.jsx(Qh,{label:" 7 ",value:n?.active_7d??0}),g.jsx(Qh,{label:" 30 ",value:n?.active_30d??0}),g.jsx(Qh,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(jke,{data:E})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:Tke(S)})]})]})]})})}function Qh({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function jke({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(spe,{width:"100%",height:"100%",children:g.jsxs(Ske,{data:e,children:[g.jsx(fU,{strokeDasharray:"3 3"}),g.jsx(wU,{dataKey:"day"}),g.jsx(SU,{}),g.jsx(twe,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(xU,{type:"monotone",dataKey:"dau"})]})})})}function Oke(){const[e,t]=w.useState(""),[n,r]=w.useState("ACTIVE"),[i,a]=w.useState("LAST_SEEN_DESC"),[o,l]=w.useState(1),[u,f]=w.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:f,setDraft:(p,b)=>{f(x=>{const E=x[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...x,[p]:{...E,...b}}})}}}const Vk=20;function Nke(e){return typeof e=="object"&&e!==null}function mo(e){return typeof e=="string"?e:null}function S3(e){return typeof e=="boolean"?e:null}function FS(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function RU(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function Cke(e){return RU(e)?e:null}function Mke(e){if(!Nke(e))return null;const t=mo(e.user_id);return t?{user_id:t,name:mo(e.name),nickname:mo(e.nickname),email:mo(e.email),disabled_at:mo(e.disabled_at),created_at:mo(e.created_at),plan:Cke(e.plan),starts_at:mo(e.starts_at),expires_at:mo(e.expires_at),can_use_myo_viewer:S3(e.can_use_myo_viewer),myeongsik_count:FS(e.myeongsik_count),last_seen_at:mo(e.last_seen_at),last_path:mo(e.last_path),total_active_ms:FS(e.total_active_ms),online:S3(e.online),total_count:FS(e.total_count)}:null}function E3(e){const t=(e??"").trim();return t.length?t:null}function LU(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function Dke(e,t){if(!LU(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),f=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${f}`}function k3(e){if(!LU(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function Pke(e){return typeof e=="object"&&e!==null}function Rke(e,t){if(console.error(e,t),Pke(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function Lke(){const[e,t]=w.useState([]),[n,r]=w.useState(0),[i,a]=w.useState(!1),[o,l]=w.useState(null),u=w.useCallback(async h=>{const{search:p,tab:b,sort:x,page:E}=h;a(!0),l(null);try{const S=Math.max(0,(Math.max(1,E)-1)*Vk),{data:_,error:T}=await Me.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:x,p_limit:Vk,p_offset:S});if(T)throw T;const j=(Array.isArray(_)?_:[]).map(Mke).filter(M=>M!==null);t(j),r(j[0]?.total_count??0)}catch(S){t([]),r(0),l(S instanceof Error?S.message:"  ")}finally{a(!1)}},[]),f=w.useCallback(async(h,p,b,x)=>{if(p){l(null),b(h,{saving:!0});try{if(!RU(p.plan))throw new Error(`  : ${String(p.plan)}`);const E=E3(p.startDate),S=E3(p.endDate),_=E?k3(E):null,T=S?k3(Dke(S,1)):null;if(_&&T){const M=Date.parse(_),D=Date.parse(T);if(!Number.isFinite(M)||!Number.isFinite(D))throw new Error("  ");if(D<=M)throw new Error("  .")}const N={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:_,p_expires_at:T},{error:j}=await Me.rpc("admin_set_user_entitlements",N);if(j)throw Rke("admin_set_user_entitlements error",j),j;b(h,{saving:!1,lastSavedAt:Date.now()}),await x()}catch(E){throw b(h,{saving:!1}),l(E instanceof Error?E.message:" "),E}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:f}}const IU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function Ike(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function $ke(e){const t=e??"FREE";return IU.find(n=>n.value===t)?.label??String(t)}function Bke(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function A3(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function Xy(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function zke(e,t){const n=Xy(e),r=Xy(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function Uke(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=Xy(r.starts_at),o=Xy(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function Fke(){const e=Oke(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:f,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:x,loading:E,error:S,fetchList:_,saveEntitlements:T}=Lke(),N=w.useMemo(()=>Math.max(1,Math.ceil(x/Vk)),[x]);return w.useEffect(()=>{u(1)},[r,a]),w.useEffect(()=>{_({search:t,tab:r,sort:a,page:l})},[_,t,r,a,l]),w.useEffect(()=>{l>N&&u(N)},[l,N,u]),w.useEffect(()=>{h(j=>Uke(j,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:j=>{n(j.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:j=>{const M=j.target.value;i(M==="DISABLED"?"DISABLED":M==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:j=>{const M=j.target.value;(M==="LAST_SEEN_DESC"||M==="LAST_SEEN_ASC"||M==="CREATED_DESC"||M==="CREATED_ASC"||M==="PLAN_DESC"||M==="ONLINE_ACTIVE_MS_DESC"||M==="TOTAL_ACTIVE_MS_DESC")&&o(M)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),S&&g.jsx("div",{className:"text-red-400 mb-2",children:S}),E&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(j=>{const M=j.name||j.nickname||"(no profile)",D=j.email||"",P=f[j.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},$=Date.now(),H=(j.starts_at?Date.parse(j.starts_at)<=$:!0)&&(j.expires_at?Date.parse(j.expires_at)>$:!0),Y=j.plan??"FREE",K=H?Y:"FREE",U=j.can_use_myo_viewer===!0?"ON":"OFF",z=j.last_seen_at??null,Z=j.online===!0,Q=j.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:M}),D?g.jsxs("span",{className:"text-sm text-neutral-400 truncate",children:["(",D,")"]}):null,g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${Z?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:z?new Date(z).toLocaleString():" ",children:[Z?"":"","  ",Bke(z)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",A3(Q)]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:j.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",j.myeongsik_count??0,"",z?g.jsxs(g.Fragment,{children:["    ",new Date(z).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",A3(Q)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",$ke(K),"  ",zke(j.starts_at,j.expires_at),"    ",U,!H&&j.plan&&j.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("label",{className:"text-xs text-neutral-400",children:""}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:V=>p(j.user_id,{startDate:V.target.value})}),g.jsx("span",{className:"text-neutral-500",children:"~"}),g.jsx("label",{className:"text-xs text-neutral-400",children:""}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:V=>p(j.user_id,{endDate:V.target.value})}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:V=>{const q=V.target.value;Ike(q)&&p(j.user_id,{plan:q})},children:IU.map(V=>g.jsx("option",{value:V.value,children:V.label},V.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:V=>p(j.user_id,{myoViewer:V.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void T(j.user_id,P,e.setDraft,()=>_({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${j.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},j.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(j=>j-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",N," ( ",x,")"]}),g.jsx("button",{disabled:l>=N,onClick:()=>u(j=>j+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function Hke(){const[e,t]=w.useState(null),[n,r]=w.useState([]),[i,a]=w.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function Gke(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function QT({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Me.auth.getSession()).data.session?.user?.id;a&&await Me.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const qke=async e=>{const{data:t}=await Me.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},Yke=async e=>{const{data:t}=await Me.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},Kke=async e=>{await Me.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},Wke=async(e,t)=>{await Me.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},Vke=async e=>{await Me.from("profiles").update({disabled_at:null}).eq("user_id",e),await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await QT({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},Zke=async e=>{await Me.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await QT({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},T3=async(e,t,n)=>{const{error:r}=await Me.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await QT({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function Xke(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function Jke({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=w.useCallback(async()=>{const _=await qke(e);n(_)},[e,n]),o=w.useCallback(async()=>{const _=await Yke(e);r(_)},[e,r]);w.useEffect(()=>{a(),o()},[a,o]);const l=w.useCallback(async()=>{if(e){i(!0);try{await Kke(e),await a()}catch(_){throw console.error("handleCreateProfile failed:",_),_}finally{i(!1)}}},[e,i,a]),u=w.useCallback(async()=>{if(e&&t){i(!0);try{await Wke(e,t),await a()}catch(_){throw console.error("handleSaveProfile failed:",_),_}finally{i(!1)}}},[e,t,i,a]),f=w.useCallback(async()=>{if(e&&t){i(!0);try{const _=t.disabled_at==null,{data:T,error:N}=await Me.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:_});if(N)throw Xke("admin_set_profile_disabled error:",N),N;n({...t,disabled_at:typeof T=="string"?T:null})}finally{i(!1)}}},[e,t,n,i]),h=w.useCallback(async()=>{if(e){i(!0);try{await Vke(e),await a(),await o()}catch(_){throw console.error("handleRestoreAccount failed:",_),_}finally{i(!1)}}},[e,i,a,o]),p=w.useCallback(async()=>{if(e){i(!0);try{await Zke(e),await o()}catch(_){throw console.error("handleRestoreAllMyeongsik failed:",_),_}finally{i(!1)}}},[e,i,o]),b=w.useCallback(async _=>{if(e&&_){i(!0);try{await T3(e,_,null),await o()}catch(T){throw console.error("handleRestoreMyeongsik failed:",T),T}finally{i(!1)}}},[e,i,o]),x=w.useCallback(_=>{const T=typeof window<"u"?window.location.origin:"",N=_?`${T}/impersonate?userId=${e}&myeongsikId=${_}`:`${T}/impersonate?userId=${e}`;window.open(N,"_blank")},[e]),E=w.useCallback(async(_,T)=>{if(!e||!_)return;const N=T?null:new Date().toISOString();i(!0);try{await T3(e,_,N),await o()}catch(j){throw console.error("toggleDeleteMyeongsik failed:",j),j}finally{i(!1)}},[e,i,o]),S=w.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:x,toggleDeleteMyeongsik:E,goTo:S}}function Qke({params:e}){const t=e.userId,n=Hke(),r=Gke(n.profile),i=Jke({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function e2e({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const j3=50;function t2e(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,a]=w.useState([]),[o,l]=w.useState(1),[u,f]=w.useState("all"),[h,p]=w.useState("all"),[b,x]=w.useState("30"),[E,S]=w.useState(""),[_,T]=w.useState(!1),N=w.useCallback(async M=>{await Me.from("audit_logs").delete().eq("id",M),a(D=>D.filter(P=>P.id!==M))},[]),j=w.useCallback(async()=>{T(!0);const M=new Date;b!=="all"&&M.setDate(M.getDate()-Number(b));let D=Me.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*j3,o*j3-1);b!=="all"&&(D=D.gte("created_at",M.toISOString())),u!=="all"&&(D=D.eq("action",u)),h!=="all"&&(D=D.eq("actor_admin_id",h));const{data:P}=await D;let $=P||[];if(E.trim()!==""){const H=E.toLowerCase();$=$.filter(Y=>(JSON.stringify(Y).toLowerCase()+(Y.payload?JSON.stringify(Y.payload).toLowerCase():"")).includes(H))}a($),T(!1)},[o,u,h,b,E]);return w.useEffect(()=>{j()},[j]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:M=>f(M.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:M=>p(M.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:M=>x(M.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:E,onChange:M=>S(M.target.value)})]}),_?g.jsx("div",{children:"Loading..."}):i.map(M=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(M),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:M.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:D=>{D.stopPropagation(),N(M.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",M.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",M.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",M.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(M.created_at).toLocaleString()]})]}),M.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(M.payload,null,2)})]},M.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(M=>M-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(M=>M+1),children:" "})]}),g.jsx(e2e,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const n2e="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function $U(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1);if(w.useEffect(()=>{(async()=>{const{data:l}=await Me.auth.getUser(),u=l.user?.id;r(!!u&&n2e.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(w3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(Qke,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(Fke,{}):i.startsWith("/admin/logs")?a=g.jsx(t2e,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(w3,{}));return g.jsx(Dde,{children:a})}function r2e({pillarsA:e,pillarsB:t}){const n=aie(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const i2e=["","","","","","","","","",""],a2e=["","","","","","","","","",""],o2e=["","","","","","","","","","","",""],s2e=["","","","","","","","","","","",""],l2e=new Set([...i2e,...a2e]),c2e=new Set([...o2e,...s2e]);function u2e(e){return typeof e=="object"&&e!==null}function O3(e){return typeof e=="string"&&e.length>=2&&l2e.has(e[0])&&c2e.has(e[1])}function rn(e,...t){if(O3(e))return e;for(const n of t)if(O3(n))return n;return""}function ab(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function d2e(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function N3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function Jy(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function f2e(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function vx(e){const{y:t,m:n,d:r,hh:i,mm:a}=f2e(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Gi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function h2e(e){const t=vx(e);return`${Jy(e)}-${t.toISOString()}`}function yd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:h2e(e)}function m2e(e){return u2e(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function p2e(e){const t=$4;return m2e(t)?e==="classic"?t.Classic:t.Modern:e}function g2e(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const HS="people_picker_order_v1";function b2e(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function C3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=w.useState("");w.useEffect(()=>{e||a("")},[e]);const o=w.useMemo(()=>t.map(yd),[t]),l=w.useMemo(()=>new Set(o),[o]),[u,f]=w.useState([]);w.useEffect(()=>{const S=localStorage.getItem(HS),_=S?JSON.parse(S):[],T=_.filter(j=>l.has(j)),N=[...T,...o.filter(j=>!T.includes(j))];f(N),JSON.stringify(N)!==JSON.stringify(_)&&localStorage.setItem(HS,JSON.stringify(N))},[o,l]);const h=S=>{f(S),localStorage.setItem(HS,JSON.stringify(S))},p=w.useMemo(()=>{const S=new Map(t.map(j=>[yd(j),j])),_=[];for(const j of u){const M=S.get(j);M&&_.push(M)}S.forEach((j,M)=>{u.includes(M)||_.push(j)});const T=[],N=[];for(const j of _)(typeof j.relationship=="string"?j.relationship.trim():"")===""?T.push(j):N.push(j);return[...T,...N]},[t,u]),b=w.useMemo(()=>{const S=i.trim().toLowerCase();return S?p.filter(_=>{const T=typeof _.relationship=="string"?_.relationship.trim():"";return`${Jy(_)} ${T}`.toLowerCase().includes(S)}):p},[p,i]),x=i.trim()==="",E=S=>{const{destination:_,source:T}=S;if(!_||!x||_.index===T.index)return;const N=b.map(yd),j=b2e(N,T.index,_.index),D=p.map(yd).filter($=>!N.includes($)),P=[...j,...D].filter(($,H,Y)=>Y.indexOf($)===H);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:S=>a(S.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(op,{onDragEnd:E,children:g.jsx(mf,{droppableId:"people-picker",children:S=>g.jsxs("ul",{className:"space-y-2",ref:S.innerRef,...S.droppableProps,children:[b.map((_,T)=>{const N=vx(_),j=typeof _.relationship=="string"?_.relationship.trim():"",M=j||" ",D=Jy(_),P=j&&D===" "?j:D;return g.jsx(hf,{draggableId:yd(_),index:T,isDragDisabled:!x,children:$=>g.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(_),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${j?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:M})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:bm(N)})]})})},yd(_))}),S.placeholder]})})})]})]})}function GS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:f}){const h=S=>{const _=o.showSibiUnseong?Mo(a,S):"",T=o.showSibiSinsal?Do({baseBranch:l,targetBranch:S,era:p2e(u),gaehwa:!!f}):"";return{unseongText:_||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),b=rn(n).charAt(1),x=rn(r).charAt(1),E=rn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),b],["",rn(r),x],["",rn(i),E]].map(([S,_,T])=>{const{unseongText:N,shinsalText:j}=h(T);return g.jsx(Sd,{label:S,gz:_,dayStem:a,settings:Tn.getState().settings,unseongText:N,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${e}-${S}`)})})]})}function vd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=Tn(P=>P.settings),o=w.useMemo(()=>t?vx(t):null,[t]),l="/",u=rn(o?Fa(o,l):void 0),f=rn(o?gt(o,l):void 0),h=rn(o?kt(o):void 0),p=rn(o?at(o):void 0),b=w.useMemo(()=>f.charAt(0)||"",[f]),x=o,E=w.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),S=t?.mingSikType??l,_=w.useMemo(()=>{const P=x?gt(x,S).charAt(1):f.charAt(1)||"",$=x?at(x,E).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:$},[a.sinsalBase,x,S,E,f,p]),T=w.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=z4(o,u,t.dir,120,t.mingSikType),$=F4(P,f,t.dir,t.DayChangeRule),H=dp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),Y=H4(H,p,t.dir,t.DayChangeRule,o),K=r;return{si:rn(ab(P.events,K)?.gz,u),il:rn(ab($.events,K)?.gz,f),wl:rn(ab(H.events,K)?.gz,h),yn:rn(ab(Y.events,K)?.gz,p)}}catch{return null}},[n,o,u,f,h,p,r,t]),N=w.useMemo(()=>{if(n!=="")return null;const P=r;return{si:rn(Fa(P,l)),il:rn(gt(P,l)),wl:rn(kt(P)),yn:rn(at(P))}},[n,r]),j=t?Jy(t):"",M=o?bm(o):"",D=t?g2e(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:j}),D&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",D]}),M&&g.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:M})]}),n===""&&g.jsx(GS,{label:"",gzHour:u,gzDay:f,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&g.jsx(GS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&g.jsx(GS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:_,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function y2e({people:e=[]}){const[t,n]=w.useState(),[r,i]=w.useState(),[a,o]=w.useState(!1),[l,u]=w.useState(!1),f=w.useRef(new Date),[h,p]=w.useState(()=>d2e(f.current)),b=w.useRef(N3(h)??f.current),x=w.useMemo(()=>{const M=N3(h);return M&&(b.current=M),b.current},[h]),[E,S]=w.useState(!1),[_,T]=w.useState(!1);function N(M){if(!M)return["","","",""];try{const D=vx(M),P="/",$={hour:rn(Fa(D,P)),day:rn(gt(D,P)),month:rn(kt(D)),year:rn(at(D))};return[$.year,$.month,$.day,$.hour]}catch{return["","","",""]}}const j=on(M=>M.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[j?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:M=>o(M.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(M=>!M),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(vd,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>S(!0)}),g.jsx(vd,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),a&&t&&g.jsx(vd,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>S(!0)}),a&&r&&g.jsx(vd,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),l&&t&&g.jsx(vd,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>S(!0)}),l&&r&&g.jsx(vd,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(r2e,{pillarsA:N(t),pillarsB:N(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:M=>p(M.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(C3,{open:E,list:e||[],onSelect:M=>{n(M),S(!1)},onClose:()=>S(!1)}),g.jsx(C3,{open:_,list:e||[],onSelect:M=>{i(M),T(!1)},onClose:()=>T(!1)})]})}function v2e(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),i=async()=>{try{const{data:{user:a}}=await Me.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Me.from("profiles").update({disabled_at:l}).eq("id",o),await Me.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Me.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   (, )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function x2e(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function qS(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function M3(e,t,n){return e<t?t:e>n?n:e}function BU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=w.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=w.useMemo(()=>x2e(a),[a]),[l,u]=w.useState(o);w.useEffect(()=>{u(o)},[o]);const f=h=>{if(!qS(h))return;const b=M3(h,n,r),{y:x,m:E,d:S}=qS(b),_=a.getHours(),T=a.getMinutes(),N=a.getSeconds(),j=a.getMilliseconds(),M=new Date(x,E-1,S,_,T,N,j);Number.isNaN(M.getTime())||t(M)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&f(p)},onBlur:()=>{if(!l||!qS(l)){u(o);return}const h=M3(l,n,r);h!==l&&(u(h),f(h))},className:i,"aria-label":" "})}function _2e({ms:e}){const{date:t,setDate:n}=fi(),r=w.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const f=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",h=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",f,h].filter(Boolean).join("|")},[e]);w.useEffect(()=>{n(new Date)},[r]);const i=nA(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=w.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",f=i?.dae?.gz?`${i.dae.gz}`:null,h=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,b=[f,h,p].filter(Boolean).join(" ");return[u,b].filter(Boolean).join(" + ")},[e.ganji,i]),l=u=>{n(u)};return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(BU,{date:a,onChange:l,min:"1900-01-01",max:"2100-12-31"})]})})]})}function w2e({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function S2e({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function E2e({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function k2e({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function A2e({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const ej=["","","","","","","","","",""],Pp=["","","","","","","","","","","",""],T2e={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},zU=["","","","","","","","","","","",""],j2e=Pp,O2e=zU,N2e=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],C2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},M2e={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Zm(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=T2e[n],i=zU.indexOf(t),a=(r+(i>=0?i:0))%10;return ej[a]}function xx(e,t){const n=t===""?j2e:O2e,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Pp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=ej[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const D2e={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function P2e(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function R2e({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:ej.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Pp.filter(o=>{const l=P2e(e),u=t[l];return u?M2e[o]===C2e[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ui(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function L2e(){const[e,t]=w.useState({}),[n,r]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState(!0),[u,f]=w.useState(!0),[h,p]=w.useState(""),[b,x]=w.useState("male"),[E,S]=w.useState(null),[_,T]=w.useState(!1),[N,j]=w.useState(null),[M,D]=w.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,$]=w.useState(!1),[H,Y]=w.useState(null),[K,U]=w.useState(null),[z,Z]=w.useState(!1),[Q,V]=w.useState(!1),q=J=>{U(J),setTimeout(()=>U(null),1800)};return w.useEffect(()=>{if(!z)return;const J=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(J)},[z]),w.useEffect(()=>{if(!Q)return;const J=setTimeout(()=>V(!1),2e3);return()=>clearTimeout(J)},[Q]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,gender:b,setGender:x,results:E,setResults:S,searching:_,setSearching:T,selectedRow:N,setSelectedRow:j,form:M,setForm:D,unknownPlace:P,setUnknownPlace:$,error:H,setError:Y,toast:K,showToast4:z,setShowToast:Z,searchToast:Q,setSearchToast:V,showToast:q}}function UU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function D3(e,t){return Pp.filter(n=>Zm(e,n)===t)}function P3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=D3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Zm(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=D3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Zm(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function I2e(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=xx(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function $2e(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Zm(e.yearStem,e.monthBranch)!==e.monthStem:!1}function B2e(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=xx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function YS(e,t,n){const i=xx(e,t)[n];return i?i.slice(0,1):null}function z2e({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,setResults:b,setError:x,showToast:E}){const S=o||u,_=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!S||_||T,j=!!n&&n.endsWith("Stem"),M=!!n&&n.endsWith("Branch"),D=w.useMemo(()=>UU(e),[e]);return w.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=YS(e.dayStem,h,e.hourBranch);z&&t(Z=>({...Z,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:S,canEnterOthers:N,activeIsStem:j,activeIsBranch:M,filledAll:D,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){x("/      ."),setTimeout(()=>x(null),1500);return}let Q={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const J=P3(Q,n,o);Q=J.next,a(J.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(Q=I2e(Q,n,u,h));let V=!1;$2e(Q,o)&&(l(!1),V=!0),B2e(Q,u,h)&&(f(!1),V=!0),V&&E("/  .  ."),t(Q),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const J={...Q};if(J.yearStem&&J.yearBranch&&!J.monthStem){r("monthStem");return}if(J.monthStem&&J.monthBranch&&!J.dayStem){r("dayStem");return}if(J.dayStem&&J.dayBranch&&!J.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let Z={...e,monthBranch:z};a(null),Z=P3(Z,"monthBranch",o).next,t(Z),r("dayStem")},clearAll:()=>{t({}),b(null),x(null),r(null),a(null)},onToggleWoldu:z=>{b(null),z&&t(Z=>{const Q={...Z};return Q.yearStem&&Q.monthBranch&&(Q.monthStem=Zm(Q.yearStem,Q.monthBranch)),Q}),l(z)},onToggleSiju:z=>{b(null),z&&t(Z=>{const Q={...Z};if(Q.dayStem&&Q.hourBranch){const V=YS(Q.dayStem,h,Q.hourBranch);V&&(Q.hourStem=V)}return Q}),f(z)},onChangeHourRule:z=>{if(b(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const Z=YS(e.dayStem,z,e.hourBranch);Z&&t(Q=>({...Q,hourStem:Z}))}}}}function U2e(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((K,U)=>U===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],f=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let x=0,E=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,U=D2e[K];U&&(x=U.hh,E=U.mi)}const S=new Date(h,p-1,b,x,E),_=S,T="",N=r==="male"?"":"",j=F2e(u.year.charAt(0),N),M=at(_,127.5),D=kt(_,127.5),P=gt(_,f),$=Fa(_,f),H=[`: ${M} ${D} ${P}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:P4(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(x).padStart(2,"0")}${String(E).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:eu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:H,dayStem:u.day.charAt(0),dateObj:S,corrected:_,correctedLocal:T,dir:j,favorite:!1}}}function F2e(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function H2e(e){_r.getState().add(e)}function G2e(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),x=at(b);if(x!==i)continue;const E=kt(b);if(E!==a)continue;const S=gt(b,n);if(S!==o)continue;const _=xx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const j=Pp[N];_[j]===l&&T.push({branch:j,time:N2e[N]})}if(T.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:x,month:E,day:S,hour:l,hourSlots:T}),u.length>=r))break}return u}function q2e({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:f,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:x,onSave:E,onClose:S}){return{doSearch:()=>{if(l(null),f(null),!UU(e)){f(" 4  .");return}u(!0);try{const j=G2e(e,t,t===""?"/":"");j.length===0&&f("  . (: 1900~2100)"),l(j)}catch(N){N instanceof Error?f(N.message):f(String(N))}finally{u(!1)}},handleSave:()=>{const N=U2e({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){h(!0);return}sf.flushSync(()=>{H2e(N.payload)}),E(N.payload),x(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),S()}}}function Y2e({open:e,onClose:t,onSave:n}){const{settings:r}=Tn(),i=L2e(),a=z2e({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=q2e({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(zb,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(w2e,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(S2e,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(A2e,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(R2e,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(E2e,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(k2e,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function K2e({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const l=i?" ":"";return g.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":l}`}),g.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":l}`})]})]})}function W2e({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function V2e({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function Z2e({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function X2e({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function J2e({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function Q2e({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx(BU,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function eAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:x,onWolStartChange:E,onWolEndChange:S,onWolStartBlur:_,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:j,ilEndDate:M,onIlStartChange:D,onIlEndChange:P,onIlStartBlur:$,onIlEndBlur:H,ilDaysCount:Y}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>g.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,U)=>g.jsxs("button",{type:"button",onClick:()=>i(U),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(U)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:K.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},U))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:K=>l(Number(K.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:K=>E(K.target.value),onBlur:_,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:x,onChange:K=>S(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 30)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:j,onChange:K=>D(K.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:M,onChange:K=>P(K.target.value),onBlur:H,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",Y,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function tAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function nAe({value:e,lockSelection:t=!1}){return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const rAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},iAe=["","","","",""],aAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},R3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function oAe(){const[e,t]=w.useState(null);return w.useEffect(()=>{let n=!0;return Me.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const sAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Qy=As(e=>({sections:sAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),KS=1e3*60*60*24;function WS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function ob(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function sb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function L3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function I3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function lAe(){const e=new Date().getFullYear(),[t,n]=w.useState(e),[r,i]=w.useState(e),[a,o]=w.useState(()=>I3()),[l,u]=w.useState(()=>I3()),[f,h]=w.useState(()=>L3()),[p,b]=w.useState(()=>L3()),x=V=>{n(V)},E=V=>{i(V)},S=()=>{const V=t;let q=r;q<V&&(q=V),q-V>9&&(q=V+9),i(q)},_=()=>{let V=t;const q=r;q<V&&(V=q),q-V>9&&(V=q-9),n(V)},T=w.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const V=r-t+1;return V>0?V:0},[t,r]),N=w.useMemo(()=>{const V=[];if(!Number.isFinite(t)||!Number.isFinite(r))return V;for(let q=t;q<=r&&V.length<10;q++)V.push(q);return V},[t,r]),j=V=>{o(V)},M=V=>{u(V)},D=()=>{const[V,q]=a.split("-").map(Number),[J,re]=l.split("-").map(Number),ue=new Date(V,q-1),se=new Date(J,re-1);if(se<ue){u(ob(ue));return}if(WS(ue,se)>11){const W=new Date(ue);W.setMonth(ue.getMonth()+11),u(ob(W))}},P=()=>{const[V,q]=a.split("-").map(Number),[J,re]=l.split("-").map(Number),ue=new Date(V,q-1),se=new Date(J,re-1);if(se<ue){o(ob(se));return}if(WS(ue,se)>11){const W=new Date(se);W.setMonth(se.getMonth()-11),o(ob(W))}},$=w.useMemo(()=>{const[V,q]=(a||"").split("-").map(Number),[J,re]=(l||"").split("-").map(Number);if(!Number.isFinite(V)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(re))return 0;const ue=new Date(V,q-1,1),se=new Date(J,re-1,1),B=WS(ue,se)+1;return B>0?B:0},[a,l]),H=w.useMemo(()=>{const V=[],[q,J]=a.split("-").map(Number),[re,ue]=l.split("-").map(Number),se=new Date(q,J-1),B=new Date(re,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return V;for(;se<=B&&V.length<12;)V.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return V},[a,l]),Y=V=>{h(V)},K=V=>{b(V)},U=()=>{if(!f||!p)return;const[V,q,J]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(V,q-1,J,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(W<B){b(sb(B));return}if(Math.floor((W.getTime()-B.getTime())/KS)>7){const X=new Date(B);X.setDate(B.getDate()+6),b(sb(X))}},z=()=>{if(!f||!p)return;const[V,q,J]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(V,q-1,J,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(B>W){h(sb(W));return}if(Math.floor((W.getTime()-B.getTime())/KS)>7){const X=new Date(W);X.setDate(W.getDate()-6),h(sb(X))}},Z=w.useMemo(()=>{const[V,q,J]=(f||"").split("-").map(Number),[re,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(V)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(re)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(V,q-1,J,4,0,0),W=new Date(re,ue-1,se,4,0,0),ae=Math.floor((W.getTime()-B.getTime())/KS)+1;return ae>0?ae:0},[f,p]),Q=w.useMemo(()=>{const V=[],[q,J,re]=f.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),W=new Date(q,J-1,re,4,0,0),ae=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(W.getTime())||Number.isNaN(ae.getTime()))return V;const X=new Date(W);for(;X<=ae&&V.length<31;){const oe=X.getFullYear(),de=String(X.getMonth()+1).padStart(2,"0"),pe=String(X.getDate()).padStart(2,"0");V.push(`${oe}-${de}-${pe}`),X.setDate(X.getDate()+1)}return V},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:f,ilEndDate:p,onSeStartChange:x,onSeEndChange:E,onSeStartBlur:S,onSeEndBlur:_,onWolStartChange:j,onWolEndChange:M,onWolStartBlur:D,onWolEndBlur:P,onIlStartChange:Y,onIlEndChange:K,onIlStartBlur:U,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:Z,seYearsList:N,wolMonthsList:H,ilDaysList:Q}}function cAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Qy(se=>se.sections),i=Qy(se=>se.toggleSection),[a,o]=w.useState("analysis"),[l,u]=w.useState(!1),[f,h]=w.useState(!1),[p,b]=w.useState(""),[x,E]=w.useState("personality"),[S,_]=w.useState("overview"),[T,N]=w.useState("solo"),[j,M]=w.useState(""),[D,P]=w.useState(!1),[$,H]=w.useState(""),[Y,K]=w.useState([]),[U,z]=w.useState(""),[Z,Q]=w.useState([]),V=lAe();w.useEffect(()=>{x!=="love"&&x!=="compat"&&(N("solo"),b(""))},[x]),w.useEffect(()=>{!t&&D&&P(!1)},[t,D]),w.useEffect(()=>{!n&&j!==""&&M("")},[n,j]),w.useEffect(()=>{$!==""&&K([])},[$]),w.useEffect(()=>{z(""),Q([])},[e]);function q(){const se=U.trim();se&&(Q(B=>[...B,se]),z(""))}function J(se){Q(B=>B.filter((W,ae)=>ae!==se))}function re(){Q([])}function ue(se){K(B=>B.includes(se)?B.filter(W=>W!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:f,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:x,setMainCategory:E,subCategory:S,setSubCategory:_,relationMode:T,setRelationMode:N,activeTab:j,setActiveTab:M,isMultiMode:D,setIsMultiMode:P,multiTab:$,setMultiTab:H,selectedDaeIdx:Y,setSelectedDaeIdx:K,handleToggleDae:ue,rangeControls:V,questionDraft:U,setQuestionDraft:z,extraQuestions:Z,setExtraQuestions:Q,handleAddQuestion:q,handleRemoveQuestion:J,handleClearQuestions:re}}const FU=As(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function tj(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Gi(t,n,r);t=j.getFullYear(),n=j.getMonth()+1,r=j.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=sp(l,u,i),h=e.mingSikType??"/",p=at(f,u),b=kt(f,u),x=gt(f,h),E=i?null:Fa(f,h),S=Re(p),_=Re(b),T=Re(x),N=E?Re(E):"";return[S,_,T,N]}function HU(e){const t=new Date(e.corrected),n=tj(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=dp(t,n[1],l,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const h=[];let p=Re(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const x=new Date(f);if(x.setFullYear(x.getFullYear()+b*10),b>0){const E=u.events[b];E&&(p=Re(E.gz))}h.push(`${x.getFullYear()} ${String(x.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const uAe=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],dAe=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function fAe(e,t){e.push("### ()");const n=t?dAe:uAe;e.push(...n)}function hAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function mAe(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function pAe(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function gAe(e,t){mAe(e,t)||pAe(e,t)}function bAe(e){return e==="multi"?"multi":"single"}function GU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=bAe(r),u=[],f=o===!0;return fAe(u,f),t==="etc"||(hAe(u,{mode:l,tab:i,isStudyTone:f}),gAe(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const yAe=!1,$3=e=>e<10?`0${e}`:`${e}`;function vAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Gi(i,a,o,0,0),u=`${l.getFullYear()}${$3(l.getMonth()+1)}${$3(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const cm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},um={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},hu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},xAe=["","","","",""];function B3(e){return xAe.includes(e)}const qU={:"",:"",:"",:"",:""},YU={:"",:"",:"",:"",:""},KU={:"",:"",:"",:"",:""},WU={:"",:"",:"",:"",:""};function Zk(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(cm[t])return cm[t];if(["","","","","","","","","","","",""].includes(t))return lb[t]??null;if(um[t])return lb[um[t]]??null;const n=t.charAt(0);return cm[n]?cm[n]:["","","","","","","","","",""].includes(n)?n:um[n]?lb[um[n]]??null:["","","","","","","","","","","",""].includes(n)?lb[n]??null:null}function _Ae(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Zk(n);i&&(t[i]=(t[i]??0)+r)}return t}function wAe(e){if(!e)return[];const t=Zk(e.charAt(0)),n=Zk(e.charAt(1));return[t,n].filter(Boolean)}function cb(e){const t=wAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function SAe(e,t){const n=hu[e],r=hu[t];if(!n||!r)return"";let i;r===n?i="":r===qU[n]?i="":r===YU[n]?i="":r===KU[n]?i="":r===WU[n]?i="":i="";const a=B3(e)===B3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function VU(e,t){return t===e?"":t===qU[e]?"":t===YU[e]?"":t===KU[e]?"":t===WU[e]?"":""}function ZU(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),l=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const EAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},kAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=cm[t]??t,i=um[n]??n;return`${r}${i}`},nj=e=>{const t=kAe(e),n=EAe[t];return n?{...n,code:t}:null};function XU(e,t){const n=vAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${l}`}function AAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=hu[n];i&&(t[i]+=r)}return t}function TAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=SAe(t,r);n[a]+=i}return n}function jAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const OAe={natal:50,dae:30,se:20,wol:7,il:3};function NAe(e){const t={};for(const{kind:r,bare:i}of e){const a=OAe[r]??0;if(a<=0)continue;const o=ZU(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function JU(e,t,n){const r=_Ae(e.perStemElementScaled),i=t!==""&&n?.dae?cb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?cb(n.se):{},o=(t===""||t==="")&&n?.wol?cb(n.wol):{},l=t===""&&n?.il?cb(n.il):{},u=NAe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),f=ZU(u),h=AAe(f),p=TAe(f,e.dayStem),b=jAe(p);return{perStemAugBare:f,elementPercent:h,totalsSub:p,totalsMain:b}}function QU(e){return!e.birthTime||e.birthTime===""}function eF(e,t){return t[3]?["","","",""]:["","",""]}function CAe(e,t){return e.map((n,r)=>t[r]??"")}const MAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function ev(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>ev(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(MAe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=ev(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function DAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function PAe(e,t){const n=ev(e);if(n===void 0)return"";const r=DAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function tF(e,t,n){const r=PAe(t,n);return r.trim()?`## ${e}
${r}`:""}const qn=(e,t)=>tF(e,t,"plain"),Ir=(e,t)=>tF(e,t,"fenced"),RAe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[f,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},LAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function Xk(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${VU(t,n)})`,r]))}function IAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function $Ae(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Re(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Re(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Re(t.wol)}`),e===""&&t.il&&n.push(`:${Re(t.il)}`),n.length>0?n.join(" / "):"()"}function nF(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:f,subTopic:h,relationMode:p,teacherMode:b,sections:x}=e,E=x?.tenGod??!0,S=x?.twelveUnseong??!0,_=x?.twelveShinsal??!0,T=x?.shinsal??!0,N=x?.nabeum??!0,j=QU(t),M=Re(n[3]??""),D=!!M,P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),M],$=HU(t).slice(0,10),H=Al({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),Y=Yd({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:K,shinsalGaehwa:U,shinsalBase:z}=FU.getState(),Z=z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",Q=JU(o,a,r),V=Q.elementPercent,q=Q.totalsSub,{flags:J}=P7(P,o.elementScoreRaw),re=`${u} (${l.toFixed(1)}%)  ${[` ${J..||J..||J..||J..?"":""}`,` ${J..||J..||J..||J..?"":""}`,` ${J..||J..?"":""}`].join(", ")}`,ue=eF(t,P),se=o.dayStem,B=hu[se]??hu[o.dayStem]??"",W=[` : ${t.name??""} (${XU(t,j)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(D?` ${P[3]}`:""),`: ${$Ae(a,r)}`].join(`
`),ae=[];ae.push(Ir("  (10)",$)),ae.push(Ir("",re)),ae.push(Ir("(  )",Xk(o.natalFixed.elementPercent100,B))),a!==""&&ae.push(Ir(`(=${a})`,Xk(V,B))),E&&(ae.push(Ir(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ae.push(Ir(` ( 10=${a} 100)`,q)));const X=IAe({tab:a,natal:P,posLabels:ue,chain:r});if(S){const ne=X.map(({pos:je,gz:Ce})=>({pos:je,gz:Ce,unseong:Mo(P[2]?.charAt(0)??"",Ce.charAt(1))}));ae.push(Ir("(+ )",ne))}if(_){const ne=X.map(({pos:je,gz:Ce})=>({pos:je,gz:Ce,shinsal:Do({baseBranch:Z,targetBranch:Ce.charAt(1),era:K,gaehwa:U})}));ae.push(Ir("(+  )",ne))}if(N){const ne=[];for(const je of X){const Ce=nj(je.gz);if(!Ce){je.kind==="natal"&&ne.push({pos:je.pos,gz:je.gz,nabeum:null});continue}ne.push({pos:je.pos,gz:je.gz,nabeum:Ce.name,element:Ce.element,code:Ce.code})}ae.push(Ir("(+ )",ne))}if(ae.push(Ir("()",pA(ue.map((ne,je)=>P[je]??"")))),ae.push(Ir("( :  )",H)),T)if(a===""){const ne=Yd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Ir("( )",{good:ne.good,bad:ne.bad,meta:ne.meta}))}else ae.push(Ir(`( =${a})`,Y));const oe=ae.filter(ne=>ne&&ne.trim().length>0).join(`

`),de=GU({topic:f,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];de&&pe.push("","  ( )",de);const ye=pe.join(`
`);return{header:W,body:oe,guide:ye}}function BAe(e){const{header:t,body:n,guide:r}=nF(e);return[t,n,r].join(`

`)}function Eo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:f,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:x="scope",includeBasicInfo:E=!0}=e,S=JU(u,t,i),_=Al({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?Yd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,N=p.nabeum?nj(r):null,j=p.twelveUnseong?Mo(h,r.charAt(1)):null,M=p.twelveShinsal?Do({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,D=x==="full"?_:LAe(_,t);return{...E?{:n,:r}:{},:Xk(S.elementPercent,f),...p.tenGod?{:S.totalsSub}:{},:D,...p.shinsal?{:RAe(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:j}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:M}}:{}}}function zAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},x=Eo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});h.push(qn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,x))}return h.filter(p=>p.trim().length>0)}function rj(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function rF(e,t){const n=e[t],r=e[t+1];return r?rj(r):new Date(n.endYear+1,0,1)}function iF(e,t,n,r){return e<r&&t>n}function aF(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=rj(l),f=rF(e,o);iF(u,f,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function oF(e,t){return aF(e,t,t)}function tv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=rj(l),f=rF(e,o);iF(u,f,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function sF(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function nv(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=sF(e),o=at(new Date(e-1,5,15)),l=at(new Date(e,5,15)),u=at(new Date(e+1,5,15));if(i<=a)o&&n.push(Re(o));else if(r>=a)l&&n.push(Re(l));else if(o&&n.push(Re(o)),l){const f=Re(l);n.includes(f)||n.push(f)}if(t===12&&u){const f=Re(u);n.includes(f)||n.push(f)}return n}function UAe(e,t){const n=sF(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}function FAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=[],p=t[0],b=t[t.length-1],x=aF(n,p,b);if(x.length>0){const E=p,S=at(new Date(E,5,15)),_=Re(S||""),T={:x.map(N=>{const j={dae:N.gz,se:_||null,wol:null,il:null};return Eo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:j,natal:r,relationArgs:{daewoon:N.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",T))}for(const E of t){const S=at(new Date(E,5,15)),_=oF(n,E),T=_.length>0?_[0]:null,N=Re(S||""),j={dae:T?T.gz:null,se:N||null,wol:null,il:null},M=Eo({scope:"",infoText:`${E} ${N}`,gz:N,chain:j,natal:r,relationArgs:{daewoon:T?.gz,sewoon:N||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});h.push(qn(` ${E}`,{:M}))}return h.filter(E=>E.trim().length>0)}function HAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const T of t){const[N,j]=T.split("-").map(Number),M=tv(n,N,j);for(const $ of M)p.some(H=>H.gz===$.gz&&H.startYear===$.startYear)||p.push($);const D=UAe(N,j);nv(N,j).forEach(($,H)=>{const Y=D[H]??D[D.length-1];b.has($)||b.set($,{year:Y,month:j})})}const[x]=t[0].split("-").map(Number),E=at(new Date(x,5,15)),S=Re(E||"");if(p.length>0){const T={:p.map(N=>{const j={dae:N.gz,se:S||null,wol:null,il:null};return Eo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:j,natal:r,relationArgs:{daewoon:N.gz,sewoon:S||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",T))}const _=Array.from(b.keys());if(_.length>0){const T={:_.map(N=>{const M=b.get(N).year,P=oF(n,M)[0]??p[0]??null,$={dae:P?P.gz:null,se:N,wol:null,il:null};return Eo({scope:"",infoText:`${M} ${N}`,gz:N,chain:$,natal:r,relationArgs:{daewoon:P?.gz,sewoon:N,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(qn("",T))}for(const T of t){const[N,j]=T.split("-").map(Number),M=new Date(N,j-1,15),D=kt(M),P=tv(n,N,j),$=P.length>0?P[0]:null,H=nv(N,j),Y=H.length>0?H[H.length-1]:"",K=Re(D||""),U={dae:$?$.gz:null,se:Y||null,wol:K,il:null},z=Eo({scope:"",infoText:`${T} ${K}`,gz:K,chain:U,natal:r,relationArgs:{daewoon:$?.gz,sewoon:Y||void 0,wolwoon:K,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});h.push(qn(` ${T}`,{:z}))}return h.filter(T=>T.trim().length>0)}function GAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,x,E]=t[0].split("-").map(Number),S=new Date(b,x-1,E,4,0);if(!Number.isNaN(S.getTime())){const _=tv(n,b,x),T=_.length>0?_[0]:null,N=nv(b,x),j=N.length>0?N[N.length-1]:"",M=kt(new Date(b,x-1,15)),D=gt(S,h),P=Re(M||""),$=Re(j||""),H=Re(D||"");if(T){const Y={dae:T.gz,se:$,wol:P,il:H},K=Eo({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:Y,natal:r,relationArgs:{daewoon:T.gz,sewoon:$,wolwoon:P,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",K))}if($){const Y={dae:T?T.gz:null,se:$,wol:P,il:H},K=Eo({scope:"",infoText:`${b} ${$}`,gz:$,chain:Y,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:P,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",K))}if(P){const Y={dae:T?T.gz:null,se:$,wol:P,il:H},K=Eo({scope:"",infoText:`${b}-${String(x).padStart(2,"0")} ${P}`,gz:P,chain:Y,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:P,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn("",K))}}for(const _ of t){const[T,N,j]=_.split("-").map(Number),M=new Date(T,N-1,j,4,0);if(Number.isNaN(M.getTime()))continue;const D=tv(n,T,N),P=D.length>0?D[0]:null,$=nv(T,N),H=$.length>0?$[$.length-1]:"",Y=kt(new Date(T,N-1,15)),K=gt(M,h),U=Re(Y||""),z=Re(H||""),Z=Re(K||""),Q={dae:P?P.gz:null,se:z||null,wol:U,il:Z},V=Eo({scope:"",infoText:`${_} ${Z}`,gz:Z,chain:Q,natal:r,relationArgs:{daewoon:P?.gz,sewoon:z||void 0,wolwoon:U||void 0,ilwoon:Z||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(qn(` ${_}`,{:V}))}return p.filter(_=>_.trim().length>0)}function lF(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:f,seYears:h,wolMonths:p,ilDays:b,topic:x,subTopic:E,timeMode:S,teacherMode:_,sections:T}=e,N=QU(t),j=Re(n[3]??""),M=!!j,D=t.mingSikType??"/",P=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),j],$=eF(t,P),H=P[2]?.charAt(0)??"",Y=hu[H]??hu[a.dayStem]??"",K=!!i&&(T?.tenGod??!0),U=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,Z=T?.shinsal??!0,Q=T?.nabeum??!0,{shinsalBase:V,shinsalEra:q,shinsalGaehwa:J}=FU.getState(),re=V===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",ue=XU(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(M?` ${P[3]}`:"")].join(`
`),B=[],{flags:W}=P7(P,a.elementScoreRaw),ae=`${l} (${o.toFixed(1)}%)  ${[` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`].join("  ")}`;if(B.push(qn("",ae)),B.push(qn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,ye])=>[`${pe}(${VU(Y,pe)})`,ye])))),K&&B.push(qn(" ( 10 100)",a.natalFixed.totalsSub)),U){const pe=Object.fromEntries($.map((ye,ne)=>[ye,Mo(H,(P[ne]??"").charAt(1))]));B.push(qn("()",pe))}if(z){const pe=Object.fromEntries($.map((ye,ne)=>[ye,Do({baseBranch:re,targetBranch:(P[ne]??"").charAt(1),era:q,gaehwa:J})]));B.push(qn("()",pe))}B.push(qn("//",W));const X=pA(CAe($,P));if(B.push(qn("()",X)),Z){const pe=Yd({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(qn("()",pe))}if(Q){const pe=Object.fromEntries($.map((ye,ne)=>{const je=P[ne]??"",Ce=nj(je);return[ye,Ce?{gz:je,nabeum:Ce.name,element:Ce.element,code:Ce.code}:null]}));B.push(qn("()",pe))}f.length>0&&u.length>0&&B.push(...zAe({selectedDaeList:u,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:J}})),h.length>0&&B.push(...FAe({seYears:h,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:J}})),p.length>0&&B.push(...HAe({wolMonths:p,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:J}})),b.length>0&&B.push(...GAe({ilDays:b,daeList:f,natal:P,basis:r,unified:a,dayEl:Y,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:Z,nabeum:Q},shinsalSettings:{baseBranch:re,era:q,gaehwa:J},dayBoundaryRule:D}));const oe=GU({topic:x,subTopic:E,timeMode:S,teacherMode:_}),de=(ev(B.join(`

`))??"").toString();return{header:se,body:de,guide:oe}}function qAe(e){const{header:t,body:n,guide:r}=lF(e);return[t,"",n,"",r].join(`
`)}function ij(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),f=l.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function YAe(e){const{header:t,body:n}=nF(e),r=e.relationMode==="couple"?ij(e.partnerMs??null):null,i=r?Ir("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function KAe(e){const{header:t,body:n}=lF(e),r=e.relationMode==="couple"?ij(e.partnerMs??null):null,i=r?Ir("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function WAe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function VAe(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function ZAe(e){return e?`    .
`:""}function XAe(e,t){if(e!=="couple")return"";const n=ij(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Bd(e){return Re(e)}function JAe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function z3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function QAe(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Bd(at(t)||""),i=Bd(kt(t)||""),a=Bd(gt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function eTe(e,t){const n=z3(e),r=z3(t);return{solarKo:n,lunarKo:r}}function Jk(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function tTe(e,t,n){return e?"solar":t?"lunar":"solar"}function nTe(e,t,n,r,i,a,o,l){return Jk(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function rTe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Bd(at(a)||""),l=Bd(kt(a)||""),u=Bd(gt(a,t)||"");return[o,l,u,""]}function iTe(e,t){return t&&e?e.stem+e.branch:""}function aTe(e,t,n){const i=[...tj(e)];return n&&t&&t.length===2&&(i[3]=t),i}function oTe(e){const t=$7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=yA(t);return{percent:n,category:g7(n)}}function sTe(e){const t=HU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,f=a?a[3]:"",h=n>0?uTe(n,o):i*10;return{gz:f,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function lTe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function cTe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function U3(e){return JAe(e)}function uTe(e,t){return t-e+1}function dTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:f,friendMode:h,teacherMode:p,partnerId:b,mainCategory:x,subCategory:E,relationMode:S,activeTab:_,isMultiMode:T,multiTab:N,selectedDaeIdx:j,rangeControls:M,extraQuestions:D,sections:P}=u,$=_r(qt=>qt.list),{date:H,setDate:Y}=fi();w.useEffect(()=>{Y(new Date)},[e.id,Y]);const K=w.useMemo(()=>b?$.find(qt=>qt.id===b)??null:null,[b,$]),U=e.mingSikType??"/",z=w.useMemo(()=>H??new Date,[H]),Z=w.useMemo(()=>QAe(r,z,U),[r,z,U]),Q=w.useMemo(()=>l?Z:{dae:null,se:null,wol:null,il:null},[l,Z]),V=rp(qt=>qt.manualHour),q=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:J,lunarKo:re}=w.useMemo(()=>eTe(t,n),[t,n]),ue=w.useMemo(()=>Jk(J,V,q),[J,V,q]),se=w.useMemo(()=>Jk(re,V,q),[re,V,q]),B=w.useMemo(()=>rTe(e,U),[e,U]),W=U3(ue),ae=U3(se),X=tTe(W,ae),oe=w.useMemo(()=>nTe(X,W,ae,ue,se,B,V,q),[X,W,ae,ue,se,B,V,q]),de=w.useMemo(()=>q&&V?V.stem+V.branch:oe[3]||"",[V,oe,q]),pe=iTe(V,q),ye=w.useMemo(()=>aTe(e,pe,q),[e,pe,q]),ne=l?_:"",je=x==="love"||x==="compat",ve=je&&S==="couple"?K??null:null,Ze=je?S:void 0,Ne=w.useMemo(()=>Mv({natal:ye,tab:ne,chain:Q,hourKey:de}),[ye,ne,Q,de]),{percent:_e,category:Oe}=w.useMemo(()=>oTe(ye),[ye]),Ie=w.useMemo(()=>sTe(e),[e]),Ve=w.useMemo(()=>lTe($??[],e.id),[$,e.id]),yt=w.useMemo(()=>j.map(qt=>Ie[qt]).filter(qt=>!!qt),[j,Ie]),xt=w.useMemo(()=>N===""?M.seYearsList:[],[N,M.seYearsList]),Dt=w.useMemo(()=>N===""?M.wolMonthsList:[],[N,M.wolMonthsList]),he=w.useMemo(()=>N===""?M.ilDaysList:[],[N,M.ilDaysList]),De=w.useMemo(()=>e?BAe({ms:e,natal:ye,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:Oe,topic:x,subTopic:E,relationMode:S,teacherMode:p,sections:P}):"",[e,i,a,ne,Q,Ne,_e,Oe,ye,x,E,S,ve,p,P]),Be=w.useMemo(()=>!e||!T||!o?"":qAe({ms:e,natal:ye,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:Oe,selectedDaeList:yt,daeList:Ie,seYears:xt,wolMonths:Dt,ilDays:he,topic:x,subTopic:E,timeMode:"multi",teacherMode:p,sections:P}),[e,T,o,xt,yt,Ie,Dt,he,ye,i,a,Ne,_e,Oe,x,E,Ze,ve,p,h,P]),lt=w.useMemo(()=>XAe(S,K),[S,K]),Ot=T?Be:De,bt=w.useMemo(()=>VAe(f),[f]),Jn=w.useMemo(()=>ZAe(h),[h]),gi=w.useMemo(()=>Ot||lt?`${Ot}${lt}
${bt}${Jn}`:"",[bt,Jn,Ot,lt]),bi=w.useMemo(()=>cTe(gi,D),[gi,D]),Ls=w.useMemo(()=>e?T?KAe({ms:e,natal:ye,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:Oe,selectedDaeList:yt,daeList:Ie,seYears:xt,wolMonths:Dt,ilDays:he,topic:x,subTopic:E,timeMode:"multi",relationMode:Ze,partnerMs:ve,teacherMode:p,sections:P}):YAe({ms:e,natal:ye,chain:Q,basis:i,tab:ne,unified:Ne,percent:_e,category:Oe,topic:x,subTopic:E,relationMode:S,partnerMs:ve,teacherMode:p,sections:P}):"",[e,T,ye,i,a,Ne,_e,Oe,yt,Ie,xt,Dt,he,x,E,S,Ze,ve,p,h,P,Q,ne]),Is=w.useMemo(()=>{const qt=Ls.trim();if(qt)return qt;const mn=WAe(Ot).trim();return mn||Ot.trim()},[Ls,Ot]);return{date:H,setDate:Y,partnerMs:K,partnerOptions:Ve,daeList:Ie,tabForLogic:ne,baseText:Ot,basePrompt:gi,finalText:bi,infoOnlyText:Is,allowManualHour:q,activePillars:oe}}function F3(e,t=1200){const[n,r]=w.useState(!1),i=!!(e&&e.trim().length>0),a=w.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function fTe(e,t){const{copied:n,canCopy:r,onCopy:i}=F3(e),{copied:a,canCopy:o,onCopy:l}=F3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function hTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=_r(K=>K._rtUserId),u=oAe()??o??null,f=on(K=>K.loaded),h=on(K=>K.userId),p=on(K=>K.plan),b=w.useMemo(()=>om(!u||!f||h!==u?"FREE":p??null),[u,f,h,p]),x=w.useMemo(()=>PE(b),[b]),E=x.canUseMultiMode,S=x.canUseLuckTabs,_=x.canUseAllPrompts?"full":"locked",T=cAe({msId:e.id,canUseMultiMode:E,canUseLuckTabs:S}),N=dTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:E,canUseLuckTabs:S,input:T}),{copiedAll:j,copiedInfo:M,canCopyAll:D,canCopyInfo:P,onCopyAll:$,onCopyInfoOnly:H}=fTe(N.finalText,N.infoOnlyText);function Y(K,U){T.setMainCategory(K),T.setSubCategory(U?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:b,promptAccess:_,canUseMultiMode:E,canUseLuckTabs:S,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:j,copiedInfo:M,canCopyAll:_==="full"&&D,canCopyInfo:_==="full"&&P,onCopyAll:$,onCopyInfoOnly:H,handleMainCategoryChange:Y,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function mTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=hTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=R3[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",f=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(K2e,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:h,canCopyAll:p,lockTitle:f,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),g.jsx(W2e,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(V2e,{tone:o.tone,toneMeta:rAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(Z2e,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:aAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,R3[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(X2e,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(J2e,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(eAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(Q2e,{tabs:iAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(tAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),g.jsx(nAe,{value:o.finalText,lockSelection:u})]})}function pTe(){const[e,t]=w.useState(null),[n,r]=w.useState(!1),[i,a]=w.useState(!1),[o]=w.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function gTe(){const e=_r(r=>r.loading),t=Tn(r=>r.loaded),n=on(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const H3="app_session_started_at_ms",bTe=7200*1e3;function yTe(){const e=sessionStorage.getItem(H3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(H3,String(n)),n}return t}function vTe(e=Date.now()){const t=yTe();return Math.max(0,e-t)}function xTe(e,t=Date.now()){return vTe(t)>=e}async function _Te(e,t){const{data:n,error:r}=await Me.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function wTe(e,t,n){const{error:r}=await Me.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const STe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Nd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Nd).join(",")}]`:STe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Nd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function ETe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function kTe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Nd(t.select(t.store.getState()));const o=ETe(async p=>{try{await wTe(e,t.dbKey,p),a=Nd(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Nd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},f=async()=>{const p=await _Te(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Nd(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:h}}function ATe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function VS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function TTe(e){w.useEffect(()=>{if(!e)return;const t=[];t.push(kTe(e,{dbKey:"promptCopy.sections",store:Qy,select:o=>o.sections,apply:o=>Qy.setState({sections:o}),validate:ATe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Me.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(xTe(bTe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!VS(l))return;const u=l.new,f=l.old,h=S=>VS(S)&&typeof S.setting_key=="string"?S.setting_key:null,p=S=>VS(S)?S.value:null,b=h(u)??h(f);if(!b)return;const x=t.find(S=>S.dbKey===b);if(!x)return;const E=typeof l.eventType=="string"?l.eventType:"";if(E==="INSERT"||E==="UPDATE"){x.applyRemote(p(u));return}x.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Me.removeChannel(a)}},[e])}function jTe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){w.useEffect(()=>{const r=Me;(async()=>{const{data:o,error:l}=await r.auth.getSession();if(l){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,l)=>{const u=l?.user?.id??null;t(!!l),e(u),n(!0),l||_r.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function OTe(e){jTe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),TTe(e.userId);const t=_r(a=>a.migrateLocalToServer),n=_r(a=>a.loadFromServer),r=Tn(a=>a.loadFromServer),i=on(a=>a.loadFromServer);w.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),w.useEffect(()=>{e.isLoggedIn&&(async()=>(await i(),await t(),await n(),await r()))()},[e.isLoggedIn,i,t,n,r])}function NTe(e){const[t,n]=w.useState(()=>e.length>0?e[0].id:""),[r,i]=w.useState(!1),[a,o]=w.useState(!1),[l,u]=w.useState(null),[f,h]=w.useState(!0),[p,b]=w.useState(!1),[x,E]=w.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:f,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:x,setOpenCustom:E}}function CTe(e){const t=fi(i=>i.date),n=fi(i=>i.rule),r=pu(e);return w.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=jv(r,t),a=i>=0?r[i]?.gz??null:null,o=at(t),l=kt(t),u=gt(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const MTe=e=>typeof e=="string"&&e.length>=2,DTe=e=>Array.isArray(e)&&e.length===4&&e.every(MTe);function PTe({list:e,currentId:t,settings:n,emptyMs:r}){const i=w.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=w.useMemo(()=>tj(o),[o]),u=CTe(o),f=on(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:DTe,canAdd:f,voidBasis:h,samjaeBasis:p}}function RTe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:f,setEditing:h}){const{settings:p,saveToServer:b,loaded:x}=Tn();w.useEffect(()=>{!r||!x||b()},[r,x,p,b]);const E=w.useCallback(()=>{if(!e){An.error("   1   .");return}i(!0)},[e,i]),S=w.useCallback(()=>{if(!e){An.error("   1   .");return}a(!0)},[e,a]),_=w.useCallback(D=>{f(D.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),fi.getState().setDate(P),t&&n?.id===D.id&&(l(!1),u(!1),o(!1))},[n,t,f,o,l,u]),T=w.useCallback(D=>{h(D),f(D.id),o(!1),l(!1),u(!1)},[h,f,o,l,u]),N=w.useCallback(()=>{const D=_r.getState().list[0]?.id??"";f(D),l(!0),u(!1)},[f,l,u]),j=w.useCallback(D=>{f(D.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,l,u,o,i]),M=w.useCallback(D=>{f(D.id),l(!1),u(!1),o(!1)},[f,l,u,o]);return{openAdd:E,openCustomModal:S,handleSidebarView:_,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:j,handleCustomSave:M}}function LTe(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(n5,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"   "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const cF="https://t1.daumcdn.net/kas/static/ba.min.js",ITe="//t1.daumcdn.net/kas/static/ba.min.js";let em=null,tm=null;function uF(){return typeof window<"u"&&typeof document<"u"}function G3(e){return typeof e=="object"&&e!==null}function dF(){if(!uF())return!1;const e=window;if(!G3(e))return!1;const t=e.adfit;return G3(t)?typeof t.destroy=="function":!1}function fF(){return Array.from(document.querySelectorAll(`script[src="${cF}"], script[src="${ITe}"]`))}function hF(e){return e.getAttribute("data-adfit-scan")==="1"}function $Te(){const t=fF().filter(n=>!hF(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function q3(){return document.body??document.head??document.documentElement}function ZS(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",f)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),f=()=>l();e.addEventListener("load",u),e.addEventListener("error",f),window.setTimeout(()=>{dF(),o()},t)})}function Y3(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=cF,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function Qk(e){return uF()?(e?.mode??"boot")==="boot"?em||(em=(async()=>{if($Te(),dF())return{inserted:!1};const r=fF().filter(a=>!hF(a))[0];if(r)return await ZS(r,2500),{inserted:!1};const i=Y3(!1);return q3().appendChild(i),await ZS(i,4e3),{inserted:!0}})().finally(()=>{em=null}),em):tm||(tm=(async()=>{const n=Y3(!0);q3().appendChild(n);try{return await ZS(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{tm=null}),tm):Promise.resolve({inserted:!1})}function BTe({enabled:e}){return w.useEffect(()=>{e&&Qk({mode:"boot"})},[e]),null}function K3(e){return typeof e=="object"&&e!==null}function zTe(e){const t=window;if(!K3(t))return;const n=t.adfit;if(!K3(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function dm({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=w.useRef(!1),f=w.useRef(!1),h=w.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return w.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await Qk({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),w.useEffect(()=>{if(!r||!i||f.current)return;f.current=!0;let p=!1;return(async()=>{try{if(await Qk({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),w.useEffect(()=>()=>{zTe(e),u.current=!1,f.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function UTe({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,f]=w.useState(!1),[h,p]=w.useState(!1);return w.useEffect(()=>{if(!e){f(!1),p(!1);return}p(!0);let b=0;const x=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const E=window.scrollY||0;f(E>=i)}))};return x(),window.addEventListener("scroll",x,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",x)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(dm,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function mF(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[u,f]=w.useState(!1);w.useEffect(()=>{document.title=" - //";const x=window.setTimeout(()=>t(!0),50),E=window.setTimeout(()=>r(!0),250),S=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(x),window.clearTimeout(E),window.clearTimeout(S)}},[]);const h=()=>u?!0:(_o.error(`   
  .`),!1),p=async()=>{if(!h())return;const{error:x}=await Me.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Google Login Error:",x),_o.error("   ."))},b=async()=>{if(!h())return;const{error:x}=await Me.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Kakao Login Error:",x),_o.error("   ."))};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(A$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:x=>x.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function FTe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function HTe(){const e=wo(i=>i.open),t=wo(i=>i.reason),n=wo(i=>i.close),r=w.useMemo(()=>FTe(t),[t]);return w.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),w.useEffect(()=>{const{data:i}=Me.auth.onAuthStateChange((a,o)=>{o?.user&&(on.getState().loadFromServer(),Tn.getState().loadFromServer(),_r.getState().loadFromServer(),wo.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(mF,{})})]})}):null}function GTe(){const e=wo(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(x2,{size:16}),""]})]})})}const aj="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let nm=null;function oj(){return typeof window<"u"&&typeof document<"u"}function pF(){return oj()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function gF(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function W3(e){return pF().some(n=>{const r=n.getAttribute("src")??"";return r.includes(aj)&&gF(r,e)})}function XS(e){const t=pF().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(aj)&&gF(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function qTe(e){const t=document.createElement("script");return t.async=!0,t.src=`${aj}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function YTe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function KTe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function V3(e){if(oj()){if(W3(e)){XS(e);return}if(nm)return nm;nm=(async()=>{if(W3(e)){XS(e);return}const t=qTe(e);document.head.appendChild(t),await YTe(t),XS(e)})();try{await nm}finally{nm=null}}}function WTe(e={}){if(!oj())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(KTe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function VTe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=w.useRef(!1),u=w.useRef(null);return w.useEffect(()=>{l.current=!1},[n,r,i,a]),w.useEffect(()=>{e&&V3(n).catch(()=>{})},[e,n]),w.useEffect(()=>{if(!e||!t||l.current)return;let f=!0;return(async()=>{try{if(await Promise.resolve(),!f||(await V3(n),!f))return;WTe({}),l.current=!0}catch{console.log()}})(),()=>{f=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function ZTe({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:f="hidden desk:block"}){const[h,p]=w.useState(!1),[b,x]=w.useState(!1);return w.useEffect(()=>{if(!e){p(!1),x(!1);return}x(!0);let E=0;const S=()=>{E||(E=window.requestAnimationFrame(()=>{E=0;const _=window.scrollY||0;p(_>=a)}))};return S(),window.addEventListener("scroll",S,{passive:!0}),()=>{E&&window.cancelAnimationFrame(E),window.removeEventListener("scroll",S)}},[e,a]),e?g.jsx("div",{className:f,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(VTe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const bF="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function Z3(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function XTe(){return document.querySelector(`script[src^="${bF}"]`)}async function X3(e){XTe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${bF}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function JTe(){const e=window.adsbygoogle;if(Z3(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;Z3(t)&&t.push({})}function QTe({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:f,style:h}){const p=w.useRef(null),b=w.useRef(!1),x=w.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[E,S]=w.useState(!l);return w.useEffect(()=>{b.current=!1},[t,n]),w.useEffect(()=>{e&&X3(t).catch(()=>{})},[e,t]),w.useEffect(()=>{if(!e||!l)return;const _=p.current;if(!_)return;const T=new IntersectionObserver(N=>{const j=N[0];j&&j.isIntersecting&&S(!0)},{root:null,threshold:.05});return T.observe(_),()=>T.disconnect()},[e,l]),w.useEffect(()=>{if(!e||!E||b.current)return;let _=!0;return(async()=>{try{if(await X3(t),!_||(await Promise.resolve(),!_))return;JTe(),b.current=!0}catch{}})(),()=>{_=!1}},[e,E,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:f,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},x)}):null}const eje="DAN-GW4jrUdfiXklZ12U",tje="DAN-CeRuC0yKzSAs5Gju",nje="DAN-G16gewnPhZou1D9y",rje="DAN-rdKe9ZODmrZR4hho",ije="DAN-INfSKh1pW2cEtWNu",aje={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function oje(){const e=pTe();OTe(e);const t=gTe();return e.authChecked?e.isLoggedIn&&e.adminMode?g.jsx($U,{}):e.isLoggedIn&&(!t.entLoaded||!t.settingsLoaded)?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):g.jsx(sje,{isLoggedIn:e.isLoggedIn}):g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function sje({isLoggedIn:e}){const{list:t}=_r(),n=Tn(E=>E.settings),r=NTe(t),i=PTe({list:t,currentId:r.currentId,settings:n,emptyMs:aje}),a=RTe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing}),[o,l]=w.useState(!1);w.useEffect(()=>{(r.wizardOpen||r.editing)&&l(!1)},[r.wizardOpen,r.editing]);const u=on(E=>E.shouldShowAdsNow()),f=i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&!r.wizardOpen&&!r.editing,h=!e&&i.hasCurrent&&f,p=!e&&!f,[b,x]=w.useState(!1);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(BTe,{enabled:u}),u&&f&&g.jsx(ZTe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(UTe,{enabled:u,adUnit:ije,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Cue,{isLoggedIn:e,onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),g.jsx(HTe,{}),b&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(mF,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>x(!1),children:""})]}),g.jsx(Y2e,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),g.jsx(A$,{position:"top-center"}),g.jsx(bde,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView,isLoggedIn:e}),p&&g.jsx("div",{className:"absolute w-full l-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),o&&g.jsx(LTe,{}),r.showToday&&g.jsx(FV,{}),r.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(zne,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&!o&&g.jsxs("div",{className:"pt-16",children:[h&&g.jsx("div",{children:g.jsx(GTe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(toe,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),g.jsx(_2e,{ms:i.current}),g.jsx("div",{children:g.jsx(Nue,{data:i.current})}),u&&f&&n.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(QTe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),n.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(mTe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),u&&f&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(dm,{enabled:!0,adUnit:rje,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(dm,{enabled:!0,adUnit:nje,width:320,height:50})})]})]}),r.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(y2e,{people:t})}),u&&!f&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(dm,{enabled:!0,adUnit:tje,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(dm,{enabled:!0,adUnit:eje,width:320,height:50})})]}),r.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(Mde,{item:r.editing,onClose:()=>r.setEditing(null)})})}),g.jsx(zue,{onShowToday:()=>{l(!1),r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{l(!1),r.setShowCouple(!0),r.setShowToday(!1)},onShowFaq:()=>{r.setShowToday(!1),r.setShowCouple(!1),l(!0)}}),g.jsx(v2e,{})]})}function lje(){const e=Hi(),[t,n]=w.useState(null),[r,i]=w.useState(null);return w.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function cje(){const e=Hi(),t=iv(),[n,r]=w.useState("  ...");return w.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),l=a.get("error_description");if(o){r(` : ${decodeURIComponent(l??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:f}=await Me.auth.exchangeCodeForSession(u);if(f){r(`  : ${f.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function uje(e){return typeof e=="object"&&e!==null}function dje(e){if(!uje(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function yF({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=w.useRef(!1),o=w.useRef(""),l=w.useRef(!1),u=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=w.useRef(0);return w.useEffect(()=>{o.current=n??""},[n]),w.useEffect(()=>{let b=null;return(async()=>{const{data:E}=await Me.auth.getSession();u.current=E.session?.user?.id??null;const _=Me.auth.onAuthStateChange((T,N)=>{u.current=N?.user?.id??null,l.current=!1}).data?.subscription;_&&typeof _.unsubscribe=="function"&&(b=()=>_.unsubscribe())})(),()=>{b&&b()}},[]),w.useEffect(()=>{if(!e)return;const b=async S=>{if(document.visibilityState!=="visible")return;const _=Date.now();if(!(S!=="init"&&_-p.current<1e4)&&(p.current=_,!a.current)){a.current=!0;try{if(!u.current)return;const N=o.current||null,{data:j,error:M}=await Me.rpc("ping_activity",{p_last_path:N});if(M)return;const D=dje(j);if(!D)return;typeof D.total_active_ms=="number"&&i?.(D.total_active_ms),D.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const x=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),f.current=window.setInterval(()=>void b("interval"),t)},x);const E=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",E),()=>{document.removeEventListener("visibilitychange",E),h.current!==null&&(window.clearTimeout(h.current),h.current=null),f.current!==null&&(window.clearInterval(f.current),f.current=null)}},[e,t,r,i]),null}function fje(){const e=_r(i=>i.loadFromServer),t=Tn(i=>i.loadFromServer),n=on(i=>i.loadFromServer),r=w.useCallback(()=>{n(),t(),e()},[n,t,e]);return w.useEffect(()=>{r();const{data:i}=Me.auth.onAuthStateChange(()=>{r()});return()=>{i.subscription.unsubscribe()}},[r]),null}function hje(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function mje(e,t){try{localStorage.setItem(e,String(t))}catch{}}function pje(e){return e<=0?0:Math.floor(Math.random()*e)}function gje({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=w.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,f]=w.useState(!1),[h,p]=w.useState(()=>pje(n.length)),b=w.useRef(null),x=w.useCallback(_=>{if(typeof document>"u")return;const T=`${Math.max(0,Math.floor(_))}px`;document.documentElement.style.setProperty(o,T)},[o]);if(w.useEffect(()=>{if(n.length<=0){p(0);return}p(_=>_%n.length)},[n.length]),w.useEffect(()=>{if(!e){f(!1);return}const _=hje(l),T=Date.now();if(_>T){f(!1);return}const N=window.setTimeout(()=>f(!0),900);return()=>window.clearTimeout(N)},[e,l]),w.useEffect(()=>{if(!e||!u||n.length<=1)return;const _=window.setInterval(()=>{p(T=>T+1>=n.length?0:T+1)},i);return()=>window.clearInterval(_)},[e,u,n.length,i]),w.useEffect(()=>{if(!e||!u){x(0);return}const _=b.current;if(!_){x(0);return}const T=()=>{const N=Math.ceil(_.getBoundingClientRect().height);x(N)};if(T(),typeof ResizeObserver<"u"){const N=new ResizeObserver(T);return N.observe(_),()=>{N.disconnect(),x(0)}}return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),x(0)}},[e,u,x]),!e)return null;const E=()=>{mje(l,Date.now()+r*60*60*1e3),f(!1),x(0)},S=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:S,children:S}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:E,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(zb,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[S,g.jsx("button",{type:"button",onClick:E,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(zb,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function bje(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function yje({open:e,onClose:t}){const n=w.useMemo(()=>bje(48),[]);return w.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function J3(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function vje(){const e=Hi(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=w.useState(!1),a=on(b=>b.loaded),o=on(b=>b.loading),l=on(b=>b.userId),u=on(b=>J3(b.plan)),f=w.useRef(!1);w.useEffect(()=>{n&&(a||o||on.getState().loadFromServer())},[n,a,o]);const h=w.useCallback(async()=>{if(f.current)return;f.current=!0;const{data:b,error:x}=await Me.rpc("mark_basic_celebrated");if(x){console.warn("[basic celebration] rpc error:",x.message);return}b===!0&&i(!0)},[]);w.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=w.useCallback(()=>{(async()=>(await on.getState().loadFromServer(),J3(on.getState().plan)==="BASIC"&&(f.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(yF,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(gje,{enabled:n}),g.jsx(yje,{open:r,onClose:()=>i(!1)})]})}function xje(e){return typeof e=="object"&&e!==null}function _je(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!xje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function wje(){const e=iv(),t=Hi(),n=w.useRef(!1);return w.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await Me.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:f}=await Me.rpc("get_my_account_status");if(!f){!!_je(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await Me.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=Me.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function Sje(e){return typeof e=="object"&&e!==null}function Eje(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!Sje(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const kje=As((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await Me.rpc("get_my_account_status");if(!a){const f=Eje(i);e({loaded:!0,loading:!1,disabledAt:f});return}const{data:o,error:l}=await Me.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function Aje(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function Tje(){const e=kje(n=>n.disabledAt),t=w.useCallback(async()=>{try{await Me.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:Aje(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function jje(){return g.jsxs(g.Fragment,{children:[g.jsx(fje,{}),g.jsx(vje,{}),g.jsx(wje,{}),g.jsx(yF,{}),g.jsxs(IG,{children:[g.jsx(Lc,{path:"/auth/callback",element:g.jsx(cje,{})}),g.jsx(Lc,{path:"/disabled",element:g.jsx(Tje,{})}),g.jsx(Lc,{path:"/",element:g.jsx(oje,{})}),g.jsx(Lc,{path:"/admin",element:g.jsx($U,{})}),g.jsx(Lc,{path:"/impersonate",element:g.jsx(lje,{})}),g.jsx(Lc,{path:"*",element:g.jsx(RG,{to:"/",replace:!0})})]})]})}GH.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx(oq,{children:g.jsx(jje,{})})}));
